cscope 15 $HOME/experiments/github/src               0002908515
	@infer/Maxwalksat20/maxwalksat.c

9 
	#MAXATOM
 100000

	)

11 #ifdeà
Huge


12 
	#STOREBLOCK
 2000000

	)

14 
	#STOREBLOCK
 1000000

	)

15 
	#MAXCLAUSE
 500000

	)

18 
	#TRUE
 1

	)

19 
	#FALSE
 0

	)

21 
	#BIG
 100000000

	)

23 
	#MAXLENGTH
 1000

	)

25 
	#RANDOM
 0

	)

26 
	#PRODUCTSUM
 1

	)

27 
	#RECIPROCAL
 2

	)

28 
	#ADDITIVE
 3

	)

29 
	#BEST
 4

	)

30 
	#EXPONENTIAL
 5

	)

31 
	#TABU
 6

	)

33 
	#NOVALUE
 -1

	)

35 
	#INIT_PARTIAL
 1

	)

37 
	~<¡dio.h
>

38 
	~<¡dlib.h
>

39 
	~<m©h.h
>

40 
	~<sys/time.h
>

41 
	~<sys/»sourû.h
>

42 
	~<sigÇl.h
>

45 
	gsü©ch
;

46 
	#abs
(
x
è((
sü©ch
=(x))>0?sü©ch: -sü©ch)

	)

58 
	gnum©om
;

59 
	gnumşau£
;

60 
	gnuml™”®s
;

62 #ifdeà
Huge


63 ** 
	gşau£
;

65 * 
	gco¡
;

66 * 
	gsize
;

67 * 
	gçl£
;

68 * 
	gwh”eçl£
;

69 * 
	gnumŒu–™
;

71 * 
	gşau£
[
MAXCLAUSE
];

73 
	gco¡
[
MAXCLAUSE
];

74 
	gsize
[
MAXCLAUSE
];

75 
	gçl£
[
MAXCLAUSE
];

76 
	glowçl£
[
MAXCLAUSE
];

77 
	gwh”eçl£
[
MAXCLAUSE
];

78 
	gnumŒu–™
[
MAXCLAUSE
];

81 *
	goccu»nû
[2*
MAXATOM
+1];

84 
	gnumoccu»nû
[2*
MAXATOM
+1];

87 
	g©om
[
MAXATOM
+1];

88 
	glow©om
[
MAXATOM
+1];

90 
	gchªged
[
MAXATOM
+1];

92 
	gb»akco¡
[
MAXATOM
+1];

94 
	gnumçl£
;

95 
	gco¡oâumçl£
;

98 
	gco¡ex³ùed
 = 
FALSE
;

99 
	gabÜt_æag
;

101 
	gheuri¡ic
;

102 
	gnum”©Ü
;

103 
	gd’omš©Ü
;

104 
	gbu_Ëngth
;

106 
	gnumæ
;

107 
	gnumnuÎæ
;

110 
	ghighe¡co¡
=1;

111 
	geqhighe¡
=0;

112 
	gnumhighe¡
=0;

114 
	gh¬d
=0;

116 
£Ëùhigh
();

118 
–­£d_£cÚds
();

119 
couÁun§t
();

120 
couÁlowun§tco¡
( *, *);

121 
sÿnÚe
(
¬gc
, *
¬gv
[], 
i
, *
v¬±r
);

122 
š™
(
š™fe
[], 
š™İtiÚs
);

123 
š™´ob
();

124 
fix
(
tofix
);

125 
æ©om
(
toæ
);

126 
pickz”o
(*
numb»ak
,
şau£size
);

128 
pickweight
(*
weight
,
şau£size
);

130 
´št_çl£_şau£s_co¡
(
lowbad
);

131 
´št_low_assign
(
lowbad
);

132 
§ve_low_assign
();

134 
pick¿ndom
(*
numb»ak
,
şau£size
, 
tofix
);

135 
pick´oduùsum
(*
numb»ak
,
şau£size
, 
tofix
);

136 
pick»croÿl
(*
numb»ak
,
şau£size
, 
tofix
);

137 
pickadd™ive
(*
numb»ak
,
şau£size
, 
tofix
);

138 
pickbe¡
(*
numb»ak
,
şau£size
, 
tofix
);

139 
pickexpÚ’tŸl
(*
numb»ak
,
şau£size
, 
tofix
);

140 
pickçœ
(*
numb»ak
,
şau£size
, 
tofix
);

141 
pickbu
(*
numb»ak
,
şau£size
, 
tofix
);

143 
hªdË_š‹¼u±
(
sig
);

145 
su³r
(
i
);

147 
	$maš
(
¬gc
,*
¬gv
[])

149 
i
;

150 
j
;

151 
k
;

152 
š™fe
[100] = { 0 };

153 
numrun
 = 10;

154 
cutoff
 = 100000;

155 
ba£_cutoff
 = 100000;

156 
´štÚlysŞ
 = 
FALSE
;

157 
´štsŞúf
 = 
FALSE
;

158 
´štçl£
 = 
FALSE
;

159 
´šow
 = 
FALSE
;

160 
š™İtiÚs
 = 
FALSE
;

161 
su³¾š—r
 = 
FALSE
;

162 
´š‰¿û
 = 
FALSE
;

163 
tÙ®æ
 = 0;

164 
tÙ®sucûssæ
 = 0;

165 
numŒy
 = 0;

166 
numsucûs¡ry
 = 0;

167 
numsŞ
 = 1;

168 
tochªge
;

169 
£ed
;

170 
timev®
 
tv
;

171 
timezÚe
 
tzp
;

172 
ex³¹ime
;

173 
æs_this_sŞutiÚ
;

174 
lowbad
;

175 
lowco¡
;

176 
rg‘co¡
 = 0;

177 
x
;

178 
š‹g”_sum_x
 = 0;

179 
sum_x
 = 0.0;

180 
sum_x_squ¬ed
 = 0.0;

181 
m—n_x
;

182 
£cÚd_mom’t_x
;

183 
v¬Ÿnû_x
;

184 
¡d_dev_x
;

185 
¡d_”rÜ_m—n_x
;

186 
£cÚds_³r_æ
;

187 
r
;

188 
sum_r
 = 0;

189 
sum_r_squ¬ed
 = 0.0;

190 
m—n_r
;

191 
v¬Ÿnû_r
;

192 
¡d_dev_r
;

193 
¡d_”rÜ_m—n_r
;

194 
wÜ¡_co¡
, 
compu‹d_co¡
;

196 
	`g‘timeofday
(&
tv
,&
tzp
);

197 
£ed
 = (Ğ
tv
.
tv_£c
 & 0177 ) * 1000000è+v.
tv_u£c
;

198 
heuri¡ic
 = 
BEST
;

199 
num”©Ü
 = 
NOVALUE
;

200 
d’omš©Ü
 = 100;

202 
i
=1;˜< 
¬gc
;i++)

204 ià(
	`¡rcmp
(
¬gv
[
i
],"-withcost") == 0)

205 
co¡ex³ùed
 = 
TRUE
;

206 ià(
	`¡rcmp
(
¬gv
[
i
],"-seed") == 0)

207 
	`sÿnÚe
(
¬gc
,
¬gv
,++
i
,&
£ed
);

208 ià(
	`¡rcmp
(
¬gv
[
i
],"-targetcost") == 0)

209 
	`sÿnÚe
(
¬gc
,
¬gv
,++
i
,&
rg‘co¡
);

210 ià(
	`¡rcmp
(
¬gv
[
i
],"-cutoff") == 0)

211 
	`sÿnÚe
(
¬gc
,
¬gv
,++
i
,&
cutoff
);

212 ià(
	`¡rcmp
(
¬gv
[
i
],"-random") == 0)

213 
heuri¡ic
 = 
RANDOM
;

214 ià(
	`¡rcmp
(
¬gv
[
i
],"-productsum") == 0)

215 
heuri¡ic
 = 
PRODUCTSUM
;

216 ià(
	`¡rcmp
(
¬gv
[
i
],"-reciprocal") == 0)

217 
heuri¡ic
 = 
RECIPROCAL
;

218 ià(
	`¡rcmp
(
¬gv
[
i
],"-additive") == 0)

219 
heuri¡ic
 = 
ADDITIVE
;

220 ià(
	`¡rcmp
(
¬gv
[
i
],"-exponential") == 0)

221 
heuri¡ic
 = 
EXPONENTIAL
;

222 ià(
	`¡rcmp
(
¬gv
[
i
],"-best") == 0)

223 
heuri¡ic
 = 
BEST
;

224 ià(
	`¡rcmp
(
¬gv
[
i
],"-noise") == 0)

226 
	`sÿnÚe
(
¬gc
,
¬gv
,++
i
,&
num”©Ü
);

227 
	`sÿnÚe
(
¬gc
,
¬gv
,++
i
,&
d’omš©Ü
);

229 ià(
	`¡rcmp
(
¬gv
[
i
],"-š™"è=ğ0 && i < 
¬gc
-1)

230 
	`ssÿnf
(
¬gv
[++
i
], " %s", 
š™fe
);

231 ià(
	`¡rcmp
(
¬gv
[
i
],"-partial") == 0)

232 
š™İtiÚs
 = 
INIT_PARTIAL
;

233 ià(
	`¡rcmp
(
¬gv
[
i
],"-super") == 0)

234 
su³¾š—r
 = 
TRUE
;

235 ià(
	`¡rcmp
(
¬gv
[
i
],"-tries") == 0)

236 
	`sÿnÚe
(
¬gc
,
¬gv
,++
i
,&
numrun
);

237 ià(
	`¡rcmp
(
¬gv
[
i
],"-tabu") == 0)

239 
	`sÿnÚe
(
¬gc
,
¬gv
,++
i
,&
bu_Ëngth
);

240 
heuri¡ic
 = 
TABU
;

242 ià(
	`¡rcmp
(
¬gv
[
i
],"-low") == 0)

243 
´šow
 = 
TRUE
;

244 ià(
	`¡rcmp
(
¬gv
[
i
],"-sol") == 0)

246 
´štÚlysŞ
 = 
TRUE
;

247 
´šow
 = 
TRUE
;

249 ià(
	`¡rcmp
(
¬gv
[
i
],"-bad") == 0)

250 
´štçl£
 = 
TRUE
;

251 ià(
	`¡rcmp
(
¬gv
[
i
],"-hard") == 0)

252 
h¬d
 = 
TRUE
;

253 ià(
	`¡rcmp
(
¬gv
[
i
],"-numsol") == 0)

254 
	`sÿnÚe
(
¬gc
,
¬gv
,++
i
,&
numsŞ
);

255 ià(
	`¡rcmp
(
¬gv
[
i
],"-trace") == 0)

256 
	`sÿnÚe
(
¬gc
,
¬gv
,++
i
,&
´š‰¿û
);

259 
	`årštf
(
¡d”r
, "Bad‡rgum’ˆ%s\n", 
¬gv
[
i
]);

260 
	`årštf
(
¡d”r
, "General…arameters:\n");

261 
	`årštf
(
¡d”r
, " -seed N -cutoff N -tries N\n");

262 
	`årštf
(
¡d”r
, " -numsol N = stop‡fter finding N solutions\n");

263 
	`årštf
(
¡d”r
, " -init FILE = set vars‚ot included in FILEo false\n");

264 
	`årštf
(
¡d”r
, " -partial FILE = set vars‚ot included in FILE„andomly\n");

265 
	`årštf
(
¡d”r
, " -withcost = input is‡ set of weighted clauses\n");

266 
	`årštf
(
¡d”r
, " -targetcost N = find‡ssignments of cost <= N (MAXSAT)\n");

267 
	`årštf
(
¡d”r
, " -hard =‚ever break‡ highest-cost clause\n");

268 
	`årštf
(
¡d”r
, "Heuristics:\n");

269 
	`årštf
(
¡d”r
, " -noise N M -best -super -tabu N\n");

270 
	`årštf
(
¡d”r
, " -productsum -reciprocal -additive -exponential\n");

271 
	`årštf
(
¡d”r
, "Printing:\n");

272 
	`årštf
(
¡d”r
, " -trace N =…rint statisticsƒvery N flips\n");

273 
	`årštf
(
¡d”r
, " -sol =…rint‡ssignments where cost <arget\n");

274 
	`årštf
(
¡d”r
, " -low =…rint†owest‡ssignmentƒachry\n");

275 
	`årštf
(
¡d”r
, " -bad =…rint unsat clausesƒachry\n");

276 
	`årštf
(
¡d”r
, " -solcnf =…rint sat‡ssign in cnf format,‡ndƒxit\n");

277 
	`ex™
(-1);

280 
ba£_cutoff
 = 
cutoff
;

281 ià(
num”©Ü
==
NOVALUE
){

282 ià(
heuri¡ic
==
BEST
)

283 
num”©Ü
 = 50;

285 
num”©Ü
 = 0;

288 
	`¤ªdom
(
£ed
);

289 #ifdeà
Huge


290 
	`´štf
("maxwalksat version 20 (Huge)\n");

292 
	`´štf
("maxwalksat version 20\n");

294 
	`´štf
("£ed = %i\n",
£ed
);

295 
	`´štf
("cutofàğ%i\n",
cutoff
);

296 
	`´štf
("Œ› ğ%i\n",
numrun
);

297 
	`´štf
("numsŞ = %i\n",
numsŞ
);

298 
	`´štf
("rg‘co¡ = %i\n",
rg‘co¡
);

300 
	`´štf
("heuristic = ");

302 
heuri¡ic
)

304 
RANDOM
:

305 
	`´štf
("random");

307 
PRODUCTSUM
:

308 
	`´štf
("productsum");

310 
RECIPROCAL
:

311 
	`´štf
("reciprocal");

313 
ADDITIVE
:

314 
	`´štf
("additive");

316 
BEST
:

317 
	`´štf
("best");

319 
EXPONENTIAL
:

320 
	`´štf
("exponential");

322 
TABU
:

323 
	`´štf
("bu %d", 
bu_Ëngth
);

326 ià(
num”©Ü
>0){

327 
	`´štf
(",‚oi£ %d / %d", 
num”©Ü
, 
d’omš©Ü
);

329 ià(
su³¾š—r
)

330 
	`´štf
(", super");

331 ià(
´š‰¿û
)

332 
	`´štf
(",¿û %d", 
´š‰¿û
);

333 ià(
š™fe
[0]){

334 
	`´štf
(", in™ %s", 
š™fe
);

335 ià(
š™İtiÚs
 =ğ
INIT_PARTIAL
)

336 
	`´štf
(",…artial");

338 
	`´štf
("\n");

340 
	`š™´ob
();

342 ià(
co¡ex³ùed
è
	`´štf
("clauses containƒxplicit costs\n");

343 
	`´štf
("clauses‡ll‡ssigned default cost of 1\n");

345 
	`´štf
("num©om = %i,‚umşau£ = %i,‚uml™”® ğ%i\n",
num©om
,
numşau£
,
numl™”®s
);

346 
	`´štf
("wff„ead in\n");

347 
	`´štf
("‡verage‡verage mean standard\n");

348 
	`´štf
("†owest worst‚umber when over flipsƒrror\n");

349 
	`´štf
(" cost clause #unsat #flips model success‡ll until std of\n");

350 
	`´štf
("hisryhisryhisryhisry found„ateries‡ssign dev mean\n");

352 
	`sigÇl
(
SIGINT
, (*è
hªdË_š‹¼u±
);

353 
abÜt_æag
 = 
FALSE
;

354 
numnuÎæ
 = 0;

355 (è
	`–­£d_£cÚds
();

356 
x
 = 0; 
r
 = 0;

357 
lowco¡
 = 
BIG
;

358 
k
 = 0;k < 
numrun
;k++)

360 
	`š™
(
š™fe
, 
š™İtiÚs
);

361 
lowbad
 = 
numçl£
;

362 
lowco¡
 = 
co¡oâumçl£
;

363 
	`§ve_low_assign
();

364 
numæ
 = 0;

366 ià(
su³¾š—r
è
cutoff
 = 
ba£_cutoff
 * 
	`su³r
(
r
+1);

368 (
numæ
 < 
cutoff
è&& (
co¡oâumçl£
 > 
rg‘co¡
))

370 ià(
´š‰¿û
 && (
numæ
 %…rinttrace == 0)){

371 
	`´štf
("%10˜ %10i%10li\n", 
co¡oâumçl£
,
numçl£
,
numæ
);

372 
	`fæush
(
¡dout
);

374 
numæ
++;

375 ià((
eqhighe¡
è&& (
highe¡co¡
!=1))

377 
	`fix
(
	`£Ëùhigh
(1+
	`¿ndom
()%
numhighe¡
));

379 
	`fix
(
çl£
[
	`¿ndom
()%
numçl£
]);

380 ià(
co¡oâumçl£
 < 
lowco¡
)

382 
lowco¡
 = 
co¡oâumçl£
;

383 
lowbad
 = 
numçl£
;

384 
	`§ve_low_assign
();

387 
numŒy
++;

388 
tÙ®æ
 +ğ
numæ
;

389 
x
 +ğ
numæ
;

390 
r
 ++;

391 if(
co¡oâumçl£
<=
rg‘co¡
)

393 
numsucûs¡ry
++;

394 
tÙ®sucûssæ
 +ğ
numæ
;

395 
š‹g”_sum_x
 +ğ
x
;

396 
sum_x
 = (è
š‹g”_sum_x
;

397 
sum_x_squ¬ed
 +ğ(()
x
)*(()x);

398 
m—n_x
 = 
sum_x
 / 
numsucûs¡ry
;

399 ià(
numsucûs¡ry
 > 1){

400 
£cÚd_mom’t_x
 = 
sum_x_squ¬ed
 / 
numsucûs¡ry
;

401 
v¬Ÿnû_x
 = 
£cÚd_mom’t_x
 - (
m—n_x
 * mean_x);

403 
v¬Ÿnû_x
 = (v¬Ÿnû_x * 
numsucûs¡ry
)/(numsuccesstry - 1);

404 
¡d_dev_x
 = 
	`sq¹
(
v¬Ÿnû_x
);

405 
¡d_”rÜ_m—n_x
 = 
¡d_dev_x
 / 
	`sq¹
(()
numsucûs¡ry
);

407 
sum_r
 +ğ
r
;

408 
m—n_r
 = (()
sum_r
)/
numsucûs¡ry
;

409 
sum_r_squ¬ed
 +ğ(()
r
)*(()r);

410 
x
 = 0;

411 
r
 = 0;

414 
	`couÁlowun§tco¡
(&
compu‹d_co¡
, &
wÜ¡_co¡
);

415 if(
lowco¡
 !ğ
compu‹d_co¡
)

417 
	`årštf
(
¡d”r
, "Programƒrror, verification of‡ssignment cost fails!\n");

418 
	`ex™
(-1);

421 if(
numsucûs¡ry
 == 0)

422 
	`´štf
("%10i%10i%10i%10li * 0 * * * *\n",

423 
lowco¡
,
wÜ¡_co¡
,
lowbad
,
numæ
);

424 ià(
numsucûs¡ry
 == 1)

425 
	`´štf
("%10i%10i%10i%10li%10li%10i%10li %10.1f * *\n",

426 
lowco¡
,
wÜ¡_co¡
,
lowbad
,
numæ
,
tÙ®sucûssæ
/
numsucûs¡ry
,

427 (
numsucûs¡ry
*100)/
numŒy
,
tÙ®æ
/numsuccesstry,

428 
m—n_x
);

430 
	`´štf
("%10i%10i%10i%10li%10li%10i%10li %10.1f %10.1f %10.1f\n",

431 
lowco¡
,
wÜ¡_co¡
,
lowbad
,
numæ
,
tÙ®sucûssæ
/
numsucûs¡ry
,

432 (
numsucûs¡ry
*100)/
numŒy
,
tÙ®æ
/numsuccesstry,

433 
m—n_x
, 
¡d_dev_x
, 
¡d_”rÜ_m—n_x
);

434 ià(
numçl£
>0 && 
´štçl£
)

435 
	`´št_çl£_şau£s_co¡
(
lowbad
);

436 ià(
´šow
 && (!
´štÚlysŞ
 || 
co¡oâumçl£
<=
rg‘co¡
))

437 
	`´št_low_assign
(
lowco¡
);

439 ià(
numsucûs¡ry
 >ğ
numsŞ
) ;

440 ià(
abÜt_æag
) ;

441 
	`fæush
(
¡dout
);

443 
ex³¹ime
 = 
	`–­£d_£cÚds
();

444 
£cÚds_³r_æ
 = 
ex³¹ime
 / 
tÙ®æ
;

445 
	`´štf
("\ÁÙ®ƒÏp£d secÚd ğ%f\n", 
ex³¹ime
);

446 
	`´štf
("av”agæ ³¸£cÚd = %d\n", ()(
tÙ®æ
/
ex³¹ime
));

447 ià(
heuri¡ic
 =ğ
TABU
)

448 
	`´štf
("´İÜtiÚ‚uÎ fl ğ%f\n", (()
numnuÎæ
)/
tÙ®æ
);

449 
	`´štf
("numb” oàsŞutiÚ found = %d\n", 
numsucûs¡ry
);

450 ià(
numsucûs¡ry
 > 0)

452 
	`´štf
("m—Àæ uÁ‡ssigÀğ%f\n", 
m—n_x
);

453 ià(
numsucûs¡ry
>1){

454 
	`´štf
(" v¬Ÿnû = %f\n", 
v¬Ÿnû_x
);

455 
	`´štf
(" snd¬d devŸtiÚ = %f\n", 
¡d_dev_x
);

456 
	`´štf
(" snd¬dƒ¼Ü oàm—Àğ%f\n", 
¡d_”rÜ_m—n_x
);

458 
	`´štf
("m—À£cÚd uÁ‡ssigÀğ%f\n", 
m—n_x
 * 
£cÚds_³r_æ
);

459 ià(
numsucûs¡ry
>1){

460 
	`´štf
(" v¬Ÿnû = %f\n", 
v¬Ÿnû_x
 * 
£cÚds_³r_æ
 * seconds_per_flip);

461 
	`´štf
(" snd¬d devŸtiÚ = %f\n", 
¡d_dev_x
 * 
£cÚds_³r_æ
);

462 
	`´štf
(" snd¬dƒ¼Ü oàm—Àğ%f\n", 
¡d_”rÜ_m—n_x
 * 
£cÚds_³r_æ
);

464 
	`´štf
("m—À»¡¬t uÁ‡ssigÀğ%f\n", 
m—n_r
);

465 ià(
numsucûs¡ry
>1){

466 
v¬Ÿnû_r
 = (
sum_r_squ¬ed
 / 
numsucûs¡ry
è- (
m—n_r
 * mean_r);

467 
v¬Ÿnû_r
 = (v¬Ÿnû_¸* 
numsucûs¡ry
)/(numsuccesstry - 1);

468 
¡d_dev_r
 = 
	`sq¹
(
v¬Ÿnû_r
);

469 
¡d_”rÜ_m—n_r
 = 
¡d_dev_r
 / 
	`sq¹
(()
numsucûs¡ry
);

470 
	`´štf
(" v¬Ÿnû = %f\n", 
v¬Ÿnû_r
);

471 
	`´štf
(" snd¬d devŸtiÚ = %f\n", 
¡d_dev_r
);

472 
	`´štf
(" snd¬dƒ¼Ü oàm—Àğ%f\n", 
¡d_”rÜ_m—n_r
);

476 ià(
numsucûs¡ry
 > 0)

478 
	`´štf
("ASSIGNMENT ACHIEVING TARGET %˜FOUND\n", 
rg‘co¡
);

479 if(
´štsŞúf
 =ğ
TRUE
)

480 
i
 = 1;˜< 
num©om
+1;i++)

481 
	`´štf
("v %i\n", 
©om
[
i
] == 1 ? i : -i);

484 
	`´štf
("ASSIGNMENT NOT FOUND\n");

486 
	}
}

488 
	$su³r
(
i
)

490 
pow”
;

491 
k
;

493 ià(
i
<=0){

494 
	`årštf
(
¡d”r
, "bad‡rgum’ˆsu³r(%d)\n", 
i
);

495 
	`ex™
(1);

498 
k
 = 1;

499 
pow”
 = 2;

500 
pow”
 < (
i
+1)){

501 
k
 += 1;

502 
pow”
 *= 2;

504 ià(
pow”
 =ğ(
i
+1))  (power/2);

505  (
	`su³r
(
i
 - (
pow”
/2) + 1));

506 
	}
}

508 
	$hªdË_š‹¼u±
(
sig
)

510 ià(
abÜt_æag
è
	`ex™
(-1);

511 
abÜt_æag
 = 
TRUE
;

512 
	}
}

514 
	$sÿnÚe
(
¬gc
, *
¬gv
[], 
i
, *
v¬±r
)

516 ià(
i
>=
¬gc
 || 
	`ssÿnf
(
¬gv
[i],"%i",
v¬±r
)!=1){

517 
	`årštf
(
¡d”r
, "Bad‡rgum’ˆ%s\n", 
i
<
¬gc
 ? 
¬gv
[i] :‡rgv[argc-1]);

518 
	`ex™
(-1);

520 
	}
}

522 
	$š™
(
š™fe
[], 
š™İtiÚs
)

524 
i
;

525 
j
;

526 
th‘ru–™
;

527 
FILE
 * 
šfe
;

528 
l™
;

530 
i
 = 0;˜< 
numşau£
;i++)

531 
numŒu–™
[
i
] = 0;

532 
numçl£
 = 0;

533 
co¡oâumçl£
 = 0;

534 
eqhighe¡
 = 0;

535 
numhighe¡
 = 0;

537 
i
 = 1;˜< 
num©om
+1;i++)

539 
chªged
[
i
] = -
BIG
;

540 
b»akco¡
[
i
] = 0;

543 ià(
š™fe
[0] && 
š™İtiÚs
!=
INIT_PARTIAL
){

544 
i
 = 1;˜< 
num©om
+1;i++)

545 
©om
[
i
] = 0;

548 
i
 = 1;˜< 
num©om
+1;i++)

549 
©om
[
i
] = 
	`¿ndom
()%2;

552 ià(
š™fe
[0]){

553 ià((
šfe
 = 
	`fİ’
(
š™fe
, "r")è=ğ
NULL
){

554 
	`årštf
(
¡d”r
, "CªnÙ o³À%s\n", 
š™fe
);

555 
	`ex™
(1);

557 
i
=0;

558 
	`fsÿnf
(
šfe
, " %d", &
l™
)==1){

559 
i
++;

560 ià(
	`abs
(
l™
)>
num©om
){

561 
	`årštf
(
¡d”r
, "Bad in™ f%s\n", 
š™fe
);

562 
	`ex™
(1);

564 ià(
l™
<0è
©om
[-lit]=0;

565 
©om
[
l™
]=1;

567 ià(
i
==0){

568 
	`årštf
(
¡d”r
, "Bad in™ f%s\n", 
š™fe
);

569 
	`ex™
(1);

571 
	`şo£
(
šfe
);

576 
i
 = 0;˜< 
numşau£
;i++)

578 
j
 = 0;j < 
size
[
i
];j++)

580 if((
şau£
[
i
][
j
] > 0è=ğ
©om
[
	`abs
(clause[i][j])])

582 
numŒu–™
[
i
]++;

583 
th‘ru–™
 = 
şau£
[
i
][
j
];

586 if(
numŒu–™
[
i
] == 0)

588 
wh”eçl£
[
i
] = 
numçl£
;

589 
çl£
[
numçl£
] = 
i
;

590 
numçl£
++;

591 
co¡oâumçl£
 +ğ
co¡
[
i
];

592 ià(
highe¡co¡
 =ğ
co¡
[
i
])

593 {
eqhighe¡
 = 1; 
numhighe¡
++;}

595 ià(
numŒu–™
[
i
] == 1)

597 
b»akco¡
[
	`abs
(
th‘ru–™
)] +ğ
co¡
[
i
];

600 
	}
}

603 
	$´št_çl£_şau£s_co¡
(
lowbad
)

605 
i
, 
j
;

606 
bad
;

607 
l™
, 
sign
;

609 
	`´štf
("Unsatisfied clauses:\n");

610 
i
=0; i<
numşau£
; i++){

611 
bad
 = 
TRUE
;

612 
j
=0; j < 
size
[
i
]; j++) {

613 
l™
 = 
şau£
[
i
][
j
];

614 
sign
 = 
l™
 > 0 ? 1 : 0;

615 iàĞ
low©om
[
	`abs
(
l™
)] =ğ
sign
 ){

616 
bad
 = 
FALSE
;

620 ià(
bad
){

621 
	`´štf
("Co¡ %˜", 
co¡
[
i
]);

622 
j
=0; j<
size
[
i
]; j++){

623 
	`´štf
("%d ", 
şau£
[
i
][
j
]);

625 
	`´štf
("0\n");

628 
	`´štf
("End unsatisfied clauses\n");

629 
	}
}

632 
	$š™´ob
()

634 
i
;

635 
j
;

636 
Ï¡c
;

637 
Ãxtc
;

638 *
¡Ü•Œ
;

639 
ä“¡Üe
;

640 
l™
;

641 
buf
[512];

643 (
Ï¡c
 = 
	`g‘ch¬
()) == 'c')

645 (
Ãxtc
 = 
	`g‘ch¬
()è!ğ
EOF
 &&‚extc != '\n');

647 
	`ung‘c
(
Ï¡c
,
¡dš
);

648 
	`fg‘s
(
buf
, 512, 
¡dš
);

649 ià(
	`ssÿnf
(
buf
, "°wúà%˜%i",&
num©om
,&
numşau£
) == 2){

650 
co¡ex³ùed
 = 1; }

651 ià(
	`ssÿnf
(
buf
, "°úà%˜%i",&
num©om
,&
numşau£
) != 2){

652 
	`årštf
(
¡d”r
,"Bad input file\n");

653 
	`ex™
(-1);}

654 if(
num©om
 > 
MAXATOM
)

656 
	`årštf
(
¡d”r
,"ERROR -oo many‡toms\n");

657 
	`ex™
(-1);

660 #ifdeà
Huge


661 
şau£
 = (**è
	`m®loc
((*)*(
numşau£
+1));

662 
co¡
 = (*è
	`m®loc
(()*(
numşau£
+1));

663 
size
 = (*è
	`m®loc
(()*(
numşau£
+1));

664 
çl£
 = (*è
	`m®loc
(()*(
numşau£
+1));

665 
lowçl£
 = (*è
	`m®loc
(()*(
numşau£
+1));

666 
wh”eçl£
 = (*è
	`m®loc
(()*(
numşau£
+1));

667 
numŒu–™
 = (*è
	`m®loc
(()*(
numşau£
+1));

669 if(
numşau£
 > 
MAXCLAUSE
)

671 
	`årštf
(
¡d”r
,"ERROR -oo many clauses\n");

672 
	`ex™
(-1);

675 
ä“¡Üe
 = 0;

676 
numl™”®s
 = 0;

677 
i
 = 0;˜< 2*
MAXATOM
+1;i++)

678 
numoccu»nû
[
i
] = 0;

679 
i
 = 0;˜< 
numşau£
;i++)

681 ià(
co¡ex³ùed
)

683 ià(
	`sÿnf
("%˜",&
co¡
[
i
]) != 1)

685 
	`årštf
(
¡d”r
, "Bad input file\n");

686 
	`ex™
(-1);

688 ià(
co¡
[
i
]>
highe¡co¡
) highestcost = cost[i];

690 
co¡
[
i
] = 1;

692 
size
[
i
] = -1;

693 ià(
ä“¡Üe
 < 
MAXLENGTH
)

695 
¡Ü•Œ
 = (*è
	`m®loc
Ğ(è* 
STOREBLOCK
 );

696 
ä“¡Üe
 = 
STOREBLOCK
;

697 
	`årštf
(
¡d”r
,"allocating memory...\n");

699 
şau£
[
i
] = 
¡Ü•Œ
;

702 
size
[
i
]++;

703 if(
size
[
i
] > 
MAXLENGTH
)

705 
	`´štf
("ERROR - clauseoo†ong\n");

706 
	`ex™
(-1);

708 ià(
	`sÿnf
("%˜",&
l™
) != 1)

710 
	`årštf
(
¡d”r
, "Bad input file\n");

711 
	`ex™
(-1);

713 if(
l™
 != 0)

715 *(
¡Ü•Œ
++èğ
l™
;

716 
ä“¡Üe
--;

717 
numl™”®s
++;

718 
numoccu»nû
[
l™
+
MAXATOM
]++;

721 
l™
 != 0);

723 if(
size
[0] == 0)

725 
	`årštf
(
¡d”r
,"ERROR - incorrect…roblem format orƒxtraneous characters\n");

726 
	`ex™
(-1);

729 
i
 = 0;˜< 2*
MAXATOM
+1;i++)

731 ià(
ä“¡Üe
 < 
numoccu»nû
[
i
])

733 
¡Ü•Œ
 = (*è
	`m®loc
Ğ(è* 
STOREBLOCK
 );

734 
ä“¡Üe
 = 
STOREBLOCK
;

735 
	`årštf
(
¡d”r
,"allocating memory...\n");

737 
occu»nû
[
i
] = 
¡Ü•Œ
;

738 
ä“¡Üe
 -ğ
numoccu»nû
[
i
];

739 
¡Ü•Œ
 +ğ
numoccu»nû
[
i
];

740 
numoccu»nû
[
i
] = 0;

743 
i
 = 0;˜< 
numşau£
;i++)

745 
j
 = 0;j < 
size
[
i
];j++)

747 
occu»nû
[
şau£
[
i
][
j
]+
MAXATOM
]

748 [
numoccu»nû
[
şau£
[
i
][
j
]+
MAXATOM
]] = i;

749 
numoccu»nû
[
şau£
[
i
][
j
]+
MAXATOM
]++;

752 
	}
}

756 
	$fix
(
tofix
)

758 
numb»ak
[
MAXLENGTH
];

760 
i
;

761 
j
;

762 
choiû
;

763 (*
pickcode
[])(*
numb»ak
,
şau£size
, 
tofix
) =

764 {
pick¿ndom
,
pick´oduùsum
,
pick»croÿl
,
pickadd™ive
,

765 
pickbe¡
,
pickexpÚ’tŸl
,
pickbu
};

767 
i
 = 0;˜< 
size
[
tofix
];i++)

768 
numb»ak
[
i
] = 
b»akco¡
[
	`abs
(
şau£
[
tofix
][i])];

770 
choiû
 = (
pickcode
[
heuri¡ic
])(
numb»ak
,
size
[
tofix
],tofix);

771 ià(
choiû
 =ğ
NOVALUE
)

772 
numnuÎæ
++;

774 
	`æ©om
(
	`abs
(
şau£
[
tofix
][
choiû
]));

775 
	}
}

778 
	$æ©om
(
toæ
)

780 
i
, 
j
;

781 
tÛnfÜû
;

782 
şi
;

783 
l™
;

784 
numocc
;

785 
sz
;

786 * 
l™±r
;

787 * 
ocıŒ
;

789 
chªged
[
toæ
] = 
numæ
;

790 if(
©om
[
toæ
] > 0)

791 
tÛnfÜû
 = -
toæ
;

793 
tÛnfÜû
 = 
toæ
;

794 
©om
[
toæ
] = 1-atom[toflip];

796 
numocc
 = 
numoccu»nû
[
MAXATOM
-
tÛnfÜû
];

797 
ocıŒ
 = 
occu»nû
[
MAXATOM
-
tÛnfÜû
];

798 
i
 = 0; i < 
numocc
 ;i++)

801 
şi
 = *(
ocıŒ
++);

803 ià(--
numŒu–™
[
şi
] == 0){

804 
çl£
[
numçl£
] = 
şi
;

805 
wh”eçl£
[
şi
] = 
numçl£
;

806 
numçl£
++;

807 
co¡oâumçl£
 +ğ
co¡
[
şi
];

809 
b»akco¡
[
toæ
] -ğ
co¡
[
şi
];

810 ià(
co¡
[
şi
] =ğ
highe¡co¡
)

811 { 
eqhighe¡
 = 1; 
numhighe¡
++; }

813 ià(
numŒu–™
[
şi
] == 1){

815 
sz
 = 
size
[
şi
];

816 
l™±r
 = 
şau£
[
şi
];

817 
j
=0; j<
sz
; j++){

819 
l™
 = *(
l™±r
++);

820 if((
l™
 > 0è=ğ
©om
[
	`abs
(lit)]){

821 
b»akco¡
[
	`abs
(
l™
)] +ğ
co¡
[
şi
];

828 
numocc
 = 
numoccu»nû
[
MAXATOM
+
tÛnfÜû
];

829 
ocıŒ
 = 
occu»nû
[
MAXATOM
+
tÛnfÜû
];

830 
i
 = 0; i < 
numocc
; i++)

833 
şi
 = *(
ocıŒ
++);

835 ià(++
numŒu–™
[
şi
] == 1){

836 
numçl£
--;

837 
co¡oâumçl£
 -ğ
co¡
[
şi
];

838 
çl£
[
wh”eçl£
[
şi
]] =

839 
çl£
[
numçl£
];

840 
wh”eçl£
[
çl£
[
numçl£
]] =

841 
wh”eçl£
[
şi
];

843 
b»akco¡
[
toæ
] +ğ
co¡
[
şi
];

844 ià(
co¡
[
şi
] =ğ
highe¡co¡
)

845 { 
numhighe¡
--; iàÒumhighe¡==0è
eqhighe¡
 = 0; }

847 ià(
numŒu–™
[
şi
] == 2){

850 
sz
 = 
size
[
şi
];

851 
l™±r
 = 
şau£
[
şi
];

852 
j
=0; j<
sz
; j++){

854 
l™
 = *(
l™±r
++);

855 ifĞ((
l™
 > 0è=ğ
©om
[
	`abs
(lit)]) &&

856 (
toæ
 !ğ
	`abs
(
l™
)) ){

857 
b»akco¡
[
	`abs
(
l™
)] -ğ
co¡
[
şi
];

863 
	}
}

865 
	$pick¿ndom
(*
numb»ak
,
şau£size
, 
tofix
)

868 (
	`¿ndom
()%
şau£size
);

869 
	}
}

871 
	$pick´oduùsum
(*
numb»ak
,
şau£size
, 
tofix
)

875 
i
;

876 
weight
[
MAXLENGTH
];

877 
tochªge
;

878 
tÙ®´oduù
 = 1;

879 
tÙ®sum
 = 0;

881 if(
şau£size
 == 1)

883 if((
tochªge
 = 
	`pickz”o
(
numb»ak
,
şau£size
)è!ğ
NOVALUE
)

884 (
tochªge
);

885 
i
 = 0;˜< 
şau£size
;i++)

887 
tÙ®´oduù
 *ğ
numb»ak
[
i
];

888 
tÙ®sum
 +ğ
numb»ak
[
i
];

890 
i
 = 0;˜< 
şau£size
;i++)

892 
weight
[
i
] = (
tÙ®´oduù
/
numb»ak
[i])*

893 (
tÙ®sum
-
numb»ak
[
i
]);

895 (
	`pickweight
(
weight
,
şau£size
));

896 
	}
}

898 
	$pick»croÿl
(*
numb»ak
,
şau£size
, 
tofix
)

901 
i
;

902 
weight
[
MAXLENGTH
];

903 
tochªge
;

904 
tÙ®´oduù
 = 1;

906 if(
şau£size
 == 1)

908 if((
tochªge
 = 
	`pickz”o
(
numb»ak
,
şau£size
)è!ğ
NOVALUE
)

909 (
tochªge
);

910 
i
 = 0;˜< 
şau£size
;i++)

911 
tÙ®´oduù
 *ğ
numb»ak
[
i
];

912 
i
 = 0;˜< 
şau£size
;i++)

913 
weight
[
i
] = (
tÙ®´oduù
/
numb»ak
[i]);

914 (
	`pickweight
(
weight
,
şau£size
));

915 
	}
}

917 
	$pickadd™ive
(*
numb»ak
,
şau£size
, 
tofix
)

920 
i
;

921 
weight
[
MAXLENGTH
];

922 
tochªge
;

923 
tÙ®sum
 = 0;

925 if(
şau£size
 == 1)

927 if((
tochªge
 = 
	`pickz”o
(
numb»ak
,
şau£size
)è!ğ
NOVALUE
)

928 (
tochªge
);

929 
i
 = 0;˜< 
şau£size
;i++)

930 
tÙ®sum
 +ğ
numb»ak
[
i
];

931 
i
 = 0;˜< 
şau£size
;i++)

932 
weight
[
i
] = (
tÙ®sum
-
numb»ak
[i]);

933 (
	`pickweight
(
weight
,
şau£size
));

934 
	}
}

936 
	$pickbe¡
(*
numb»ak
,
şau£size
, 
tofix
)

938 
i
;

939 
be¡
[
MAXLENGTH
];

940 
numbe¡
;

941 
be¡v®ue
;

943 
numbe¡
 = 0;

944 
be¡v®ue
 = 
BIG
;

946 
i
=0; i< 
şau£size
; i++){

947 ià(
numb»ak
[
i
]<=
be¡v®ue
){

948 ià(
numb»ak
[
i
]<
be¡v®ue
è
numbe¡
=0;

949 
be¡v®ue
 = 
numb»ak
[
i
];

950 
be¡
[
numbe¡
++] = 
i
;

954 ià(
be¡v®ue
>0 && (
	`¿ndom
()%
d’omš©Ü
 < 
num”©Ü
)){

956 ià(!
h¬d
 || 
co¡
[
tofix
]>=
highe¡co¡
è(
	`¿ndom
()%
şau£size
);

960 
numbe¡
 = 0;

961 
i
=0; i< 
şau£size
; i++){

962 ià(
numb»ak
[
i
]<
highe¡co¡
){

963 
be¡
[
numbe¡
++] = 
i
;

967 ià(
numbe¡
==0è{ (
	`¿ndom
()%
şau£size
); }

969 ià(
numbe¡
 =ğ1è 
be¡
[0];

972 ià(
numbe¡
==0è{ (
	`¿ndom
()%
şau£size
); }

974 (
be¡
[
	`¿ndom
()%
numbe¡
]);

978 
	}
}

982 
	$pickbu
(*
numb»ak
,
şau£size
, 
tofix
)

984 
i
;

985 
be¡
[
MAXLENGTH
];

986 
numbe¡
;

987 
be¡v®ue
;

988 
bu_Ëv–
;

989 
v®
;

991 
numbe¡
 = 0;

992 
be¡v®ue
 = 
BIG
;

994 ià(
num”©Ü
>0 && (
	`¿ndom
()%
d’omš©Ü
 <‚umerator)){

995 
i
=0; i< 
şau£size
; i++){

996 ià((
bu_Ëngth
 < 
numæ
 - 
chªged
[
	`abs
(
şau£
[
tofix
][
i
])]) ||

997 
numb»ak
[
i
]==0){

998 ià(
numb»ak
[
i
]==0è
numbe¡
=0;

999 
be¡
[
numbe¡
++] = 
i
;

1004 
i
=0; i< 
şau£size
; i++){

1005 ià(
numb»ak
[
i
]<=
be¡v®ue
 &&

1006 ((
bu_Ëngth
 < 
numæ
 - 
chªged
[
	`abs
(
şau£
[
tofix
][
i
])]) ||

1007 
numb»ak
[
i
]==0)){

1008 ià(
numb»ak
[
i
]<
be¡v®ue
è
numbe¡
=0;

1009 
be¡v®ue
 = 
numb»ak
[
i
];

1010 
be¡
[
numbe¡
++] = 
i
;

1015 ià(
numbe¡
 =ğ0è 
NOVALUE
;

1016 ià(
numbe¡
 =ğ1è 
be¡
[0];

1017  (
be¡
[
	`¿ndom
()%
numbe¡
]);

1018 
	}
}

1020 
	$pickexpÚ’tŸl
(*
numb»ak
,
şau£size
, 
tofix
)

1022 
i
;

1023 
be¡
[
MAXLENGTH
];

1024 
numbe¡
;

1025 
be¡v®ue
;

1026 
weight
[
MAXLENGTH
];

1027 
tochªge
;

1028 
tÙ®´oduù
 = 1;

1029 
tÙ®sum
 = 0;

1031 if(
şau£size
 == 1)

1033 if((
tochªge
 = 
	`pickz”o
(
numb»ak
,
şau£size
)è!ğ
NOVALUE
)

1034 (
tochªge
);

1035 
i
 = 0;˜< 
şau£size
;i++)

1036 
weight
[
i
] = 2*2*2*2*2*2*2*2*2*2*2*2*2*2;

1037 
i
 = 0;˜< 
şau£size
;i++)

1039 
weight
[
i
] >>ğ
numb»ak
[i];

1042 (
	`pickweight
(
weight
,
şau£size
));

1043 
	}
}

1045 
	$pickz”o
(*
numb»ak
,
şau£size
)

1047 
i
;

1048 
numz”o
 = 0;

1049 
£Ëù
;

1051 
i
 = 0;˜< 
şau£size
;i++)

1053 if(
numb»ak
[
i
] == 0)

1054 
numz”o
++;

1056 if(
numz”o
 == 0)

1057 (
NOVALUE
);

1058 
£Ëù
 = 
	`¿ndom
()%
numz”o
;

1059 
i
 = 0;
£Ëù
 >= 0;i++)

1061 if(
numb»ak
[
i
] == 0)

1062 
£Ëù
--;

1065 (
i
-1);

1066 
	}
}

1068 
	$pickweight
(*
weight
,
şau£size
)

1070 
i
;

1071 
tÙ®
 = 0;

1072 
£Ëù
;

1073 
subtÙ®
 = 0;

1075 
i
 = 0;˜< 
şau£size
;i++)

1076 
tÙ®
 +ğ
weight
[
i
];

1077 if(
tÙ®
 == 0)

1078 (
	`¿ndom
()%
şau£size
);

1079 
£Ëù
 = 
	`¿ndom
()%
tÙ®
;

1080 
i
 = 0;
subtÙ®
 <ğ
£Ëù
;i++)

1081 
subtÙ®
 +ğ
weight
[
i
];

1082 (
i
-1);

1083 
	}
}

1085 
	$couÁun§t
()

1087 
i
, 
j
, 
un§t
, 
bad
, 
l™
, 
sign
;

1089 
un§t
 = 0;

1090 
i
=0;˜< 
numşau£
;i++)

1092 
bad
 = 
TRUE
;

1093 
j
=0; j < 
size
[
i
]; j++)

1095 
l™
 = 
şau£
[
i
][
j
];

1096 
sign
 = 
l™
 > 0 ? 1 : 0;

1097 iàĞ
©om
[
	`abs
(
l™
)] =ğ
sign
 )

1099 
bad
 = 
FALSE
;

1103 ià(
bad
)

1104 
un§t
++;

1106  
un§t
;

1107 
	}
}

1109 
	$couÁlowun§tco¡
(* 
un§tco¡±r
, * 
wÜ¡co¡±r
)

1111 
i
, 
j
, 
bad
, 
l™
, 
sign
, 
un§tco¡
, 
wÜ¡co¡
;

1113 
un§tco¡
 = 0;

1114 
wÜ¡co¡
 = 0;

1115 
i
=0;˜< 
numşau£
;i++)

1117 
bad
 = 
TRUE
;

1118 
j
=0; j < 
size
[
i
]; j++)

1120 
l™
 = 
şau£
[
i
][
j
];

1121 
sign
 = 
l™
 > 0 ? 1 : 0;

1122 iàĞ
low©om
[
	`abs
(
l™
)] =ğ
sign
 )

1124 
bad
 = 
FALSE
;

1128 ià(
bad
){

1129 
un§tco¡
 +ğ
co¡
[
i
] ;

1130 ià(
co¡
[
i
] > 
wÜ¡co¡
) worstcost = cost[i];

1133 * 
un§tco¡±r
 = 
un§tco¡
;

1134 * 
wÜ¡co¡±r
 = 
wÜ¡co¡
;

1136 
	}
}

1140 
	$–­£d_£cÚds
()

1142 
ªsw”
;

1144 
ru§ge
 
´og_ru§ge
;

1145 
´ev_ru§ge_£cÚds
 = 0;

1146 
´ev_ru§ge_miüo_£cÚds
 = 0;

1148 
	`g‘ru§ge
(0, &
´og_ru§ge
);

1149 
ªsw”
 = ()(
´og_ru§ge
.
ru_utime
.
tv_£c
 - 
´ev_ru§ge_£cÚds
)

1150 + (()(
´og_ru§ge
.
ru_utime
.
tv_u£c
 - 
´ev_ru§ge_miüo_£cÚds
)) /

1152 
´ev_ru§ge_£cÚds
 = 
´og_ru§ge
.
ru_utime
.
tv_£c
 ;

1153 
´ev_ru§ge_miüo_£cÚds
 = 
´og_ru§ge
.
ru_utime
.
tv_u£c
 ;

1154  
ªsw”
;

1155 
	}
}

1159 
	$´št_low_assign
(
lowbad
)

1161 
i
, 
j
;

1163 
	`´štf
("Begš‡ssigÀw™h†owe¡ # bad = %d (©om assigÃdrue)\n", 
lowbad
);

1164 
j
=1;

1165 
i
=1; i<=
num©om
; i++){

1166 ià(
low©om
[
i
]>0){

1167 
	`´štf
(" %d", 
i
);

1168 ià(
j
++ % 10 =ğ0è
	`´štf
("\n");

1171 ià((
j
-1è% 10 !ğ0è
	`´štf
("\n");

1172 
	`´štf
("End‡ssign\n");

1173 
	}
}

1176 
	$§ve_low_assign
()

1178 
i
;

1180 
i
=1; i<=
num©om
; i++)

1181 
low©om
[
i
] = 
©om
[i];

1182 
	}
}

1184 
	$£Ëùhigh
(
high
)

1186 
couÁ”
=0;

1187 
i
=0;

1188 (
i
<
numçl£
è&& (
couÁ”
<
high
))

1190 ià(
co¡
[
çl£
[
i
]] =ğ
highe¡co¡
)

1191 
couÁ”
++;

1192 
i
++;

1195 (
çl£
[
i
-1]);

1196 
	}
}

	@infer/auxfactor.h

67 #iâdeà
AUXFACTOR_H_


68 
	#AUXFACTOR_H_


	)

70 
	~"çùÜ.h
"

75 şas 
	cAuxFaùÜ
 : 
public
 
FaùÜ


77 
public
:

78 
AuxFaùÜ
(
A¼ay
<
P»diÿ‹
* >* 
fÜmuÏ
)

80 
msgsA¼_
 = 
Ãw
 
A¼ay
<*>;

81 
	mÃxtMsgsA¼_
 = 
Ãw
 
A¼ay
<*>;

82 
	mlšks_
 = 
Ãw
 
A¼ay
<
Lšk
 *>();

83 
	mfÜmuÏ_
 = 
fÜmuÏ
;

86 ~
	$AuxFaùÜ
()

88 
i
 = 0; i < 
msgsA¼_
->
	`size
(); i++)

90 
	`d–‘e
 (*
msgsA¼_
)[
i
];

91 
	`d–‘e
 (*
ÃxtMsgsA¼_
)[
i
];

93 
d–‘e
 
lšks_
;

94 
d–‘e
 
msgsA¼_
;

95 
d–‘e
 
ÃxtMsgsA¼_
;

96 
	}
}

102 
	$g‘Prob
()

104 
Node
* 
node
;

105 
´ob
 = 1.0;

106 
Êo
 = 0;†nØ< 
lšks_
->
	`size
();†no++)

108 
´edIndex
 = (*
lšks_
)[
Êo
]->
	`g‘P»dIndex
();

109 
node
 = (*
lšks_
)[
Êo
]->
	`g‘Node
();

110 
´obs
[2];

111 
node
->
	`g‘Probs
(
´obs
);

113 
P»diÿ‹
 *
´ed
 = (*
fÜmuÏ_
)[
´edIndex
];

114 ià(
´ed
->
	`g‘S’£
()è
´ob
 *ğ
´obs
[1];

115 
´ob
 *ğ
´obs
[0];

117  
´ob
;

118 
	}
}

120 
	gA¼ay
<
	gP»diÿ‹
* >* 
	$g‘FÜmuÏ
()

122  
fÜmuÏ_
;

123 
	}
}

125 
	g´iv©e
:

126 
A¼ay
<
P»diÿ‹
* >* 
fÜmuÏ_
;

	@infer/bp.h

67 #iâdeà
BP_H_


68 
	#BP_H_


	)

70 
	~"šã»nû.h
"

71 
	~"bµ¬ams.h
"

72 
	~"twowaymes§ge.h
"

73 
	~"su³rşau£.h
"

74 
	~"auxçùÜ.h
"

75 
	~"node.h
"

76 
	~"çùÜg¿ph.h
"

78 
	~<£t
>

79 
	~<veùÜ
>

80 
usšg
 
Çme¥aû
 
	g¡d
;

82 cÚ¡ 
	gbpdebug
 = 
çl£
;

85 cÚ¡ 
boŞ
 
	gVERBOSE
 = 
çl£
;

87 cÚ¡ 
	gMAX_ROUNDS
 = 100;

88 cÚ¡ 
	gMIN_CONV_ITR
 = 10;

89 cÚ¡ 
	gEVAL_THRESH
 = 1e-4;

90 cÚ¡ 
	gSEARCH_THRESH
 = 1e-3;

93 cÚ¡ 
	gMAX_TIME
 = 288000.0;

99 şas 
	cBP
 : 
public
 
Inã»nû


101 
public
:

107 
BP
(
FaùÜG¿ph
* 
çùÜG¿ph
, 
BPP¬ams
* 
bpP¬ams
, cÚ¡ 
boŞ
& 
efbp
,

108 
A¼ay
<A¼ay<
P»diÿ‹
* >* >* 
qu”yFÜmuÏs
 = 
NULL
)

109 : 
Inã»nû
(
NULL
, -1, 
çl£
, 
qu”yFÜmuÏs
)

111 
	mçùÜG¿ph_
 = 
çùÜG¿ph
;

112 
	mmaxS‹ps_
 = 
bpP¬ams
->
maxS‹ps
;

113 
	mmaxSecÚds_
 = 
bpP¬ams
->
maxSecÚds
;

114 
	mcÚv”g’ûTh»sh_
 = 
bpP¬ams
->
cÚv”g’ûTh»sh
;

115 
	mcÚv”geRequœedIŒCÁ_
 = 
bpP¬ams
->
cÚv”geRequœedIŒCÁ
;

116 
	mouutN‘wÜk_
 = 
bpP¬ams
->
ouutN‘wÜk
;

117 
	mefbp_
 = 
efbp
;

123 ~
	$BP
()

125 
	}
}

130 
	$š™
()

132 
Tim”
 
tim”1
;

133 
cout
 << "Initializing ";

134 
cout
 << "B–›àPrİag©iÚ..." << 
’dl
;

136 
çùÜG¿ph_
->
	`š™
();

137 ià(
bpdebug
)

139 
cout
 << "[init] ";

140 
Tim”
::
	`´štTime
(
cout
, 
tim”1
.
	`time
());

141 
cout
 << 
’dl
;

142 
tim”1
.
	`»£t
();

144 
	}
}

146 
boŞ
 
runBP
(
veùÜ
<
Node
*> &
nodes
, veùÜ<
FaùÜ
*> &
çùÜs
, 
cÚv_th»sh
)

148 ià(
	gVERBOSE
)

149 
	gcout
 << "BP" << 
	g’dl
;

151 
	gcÚvIŒ
 = 0;

152 
	grd
 = 0;„d < 
	gMAX_ROUNDS
;„d++)

154 ià(
	gVERBOSE
)

155 
	gcout
 << "Round " << 
	grd
+1 << " oà" << 
	gMAX_ROUNDS
 << 
	g’dl
;

157 
	gi
 = 0; i < 
	gçùÜs
.
size
(); i++)

158 
	gçùÜs
[
i
]->
£ndMes§ge
();

159 
	gi
 = 0; i < 
	gnodes
.
size
(); i++)

160 
	gnodes
[
i
]->
£ndMes§ge
();

162 
	gi
 = 0; i < 
	gçùÜs
.
size
(); i++)

163 
	gçùÜs
[
i
]->
moveToNextS‹p
();

164 
boŞ
 
	gcÚv
 = 
Œue
;

165 
	gmaxDiff
 = 0.0;

166 
	gnumChªges
 = 0;

167 
	gi
 = 0; i < 
	gnodes
.
size
(); i++)

169 
	gŞdProb
 = 
nodes
[
i
]->
g‘Prob
();

170 
	gnodes
[
i
]->
moveToNextS‹p
();

171 
	gÃwProb
 = 
nodes
[
i
]->
g‘Prob
();

172 if(
abs
(
ŞdProb
 - 
ÃwProb
è> 
	gcÚv_th»sh
)

174 if(
	gVERBOSE
)

176 
	gcout
 << "\tNod" << 
	gi
 << " [";

177 
	gnodes
[
i
]->
´št
(
cout
);

178 
	gcout
 << "] chªged from " << 
	gŞdProb
 << "Ø" << 
	gÃwProb
 << 
	g’dl
;

180 
	gcÚv
 = 
çl£
;

181 
	gnumChªges
++;

183 if(
abs
(
ŞdProb
 - 
ÃwProb
è> 
	gmaxDiff
)

184 
	gmaxDiff
 = 
abs
(
ŞdProb
 - 
ÃwProb
);

188 if(
	gVERBOSE
)

189 
	gcout
 << 
	gnumChªges
 << "‚ode chªged." << 
	g’dl
;

190 if(
	gVERBOSE
)

191 
	gcout
 << "Max diff: " << 
	gmaxDiff
 << 
	g’dl
 <<ƒndl;

193 if(
	gcÚv
)

194 
	gcÚvIŒ
++;

196 
	gcÚvIŒ
 = 0;

198 if(
	gcÚvIŒ
 >ğ
MIN_CONV_ITR
)

200 if(
VERBOSE
)

202 
cout
 << "CÚv”ged iÀ" << 
rd
+1-
MIN_CONV_ITR
 << " + "

203 << 
MIN_CONV_ITR
 << " = " << 
rd
+1 << "„ounds." << 
’dl
;

208 if(
	gcÚvIŒ
 < 
	gMIN_CONV_ITR
)

209  
	gçl£
;

210  
	gŒue
;

214 
boŞ
 
runEFBP
(
£t
<
Node
*> &
£ndNodes
,

215 
£t
<
FaùÜ
*> &
£ndFaùÜs
,

216 
£t
<
Node
*> &
»ûiveNodes
,

217 
£t
<
FaùÜ
*> &
»ûiveFaùÜs
,

218 
cÚv_th»sh
)

220 ià(
	gVERBOSE
)

221 
	gcout
 << "EFBP" << 
	g’dl
;

223 
	g£t
<
	gNode
*>::
™”©Ü
 
nI‹r
;

224 
	g£t
<
	gFaùÜ
*>::
™”©Ü
 
fI‹r
;

226 
	gcÚvIŒ
 = 0;

227 
	grd
 = 0;„d < 
	gMAX_ROUNDS
;„d++)

229 if(
	gVERBOSE
)

231 
	gcout
 << "Round " << 
	grd
+1 << " oà" << 
	gMAX_ROUNDS
 << 
	g’dl
;

232 
	gcout
 << "£ndNodes: " << 
	g£ndNodes
.
size
(è<< 
	g’dl
;

233 
	gcout
 << "£ndFaùÜs: " << 
	g£ndFaùÜs
.
size
(è<< 
	g’dl
;

234 
	gcout
 << "»ûiveNodes: " << 
	g»ûiveNodes
.
size
(è<< 
	g’dl
;

235 
	gcout
 << "»ûiveFaùÜs: " << 
	g»ûiveFaùÜs
.
size
(è<< 
	g’dl
;

242 
	gli¡
<
	gNode
*> 
	gÃxtS’dNodes
;

243 
	gli¡
<
	gFaùÜ
*> 
	gÃxtS’dFaùÜs
;

244 
	gli¡
<
	gNode
*> 
	gÃxtReûiveNodes
;

245 
	gli¡
<
	gFaùÜ
*> 
	gÃxtReûiveFaùÜs
;

247 
	gfI‹r
 = 
£ndFaùÜs
.
begš
(); fI‹¸!ğ£ndFaùÜs.
’d
(); fIter++)

248 (*
	gfI‹r
)->
£ndMes§ge
();

249 
	gnI‹r
 = 
£ndNodes
.
begš
();‚I‹¸!ğ£ndNodes.
’d
();‚Iter++)

250 (*
	gnI‹r
)->
£ndMes§ge
();

252 
	gfI‹r
 = 
»ûiveFaùÜs
.
begš
(); fI‹¸!ğ»ûiveFaùÜs.
’d
(); fIter++)

253 (*
	gfI‹r
)->
moveToNextS‹p
();

255 
boŞ
 
	gcÚv
 = 
Œue
;

256 
	gmaxDiff
 = 0.0;

257 
	gnumChªges
 = 0;

258 
	gnI‹r
 = 
»ûiveNodes
.
begš
();‚I‹¸!ğ»ûiveNodes.
’d
();‚Iter++)

260 
	gŞdProb
 = (*
nI‹r
)->
g‘Prob
();

261 (*
	gnI‹r
)->
moveToNextS‹p
();

262 
	gÃwProb
 = (*
nI‹r
)->
g‘Prob
();

264 if(
abs
(
ŞdProb
 - 
ÃwProb
è> 
	gcÚv_th»sh
)

268 
	gnumChªges
++;

269 
	gcÚv
 = 
çl£
;

270 (*
	gnI‹r
)->
gNeighbÜsReûive
(
ÃxtS’dFaùÜs
, 
ÃxtReûiveFaùÜs
, 
ÃxtS’dNodes
, 
ÃxtReûiveNodes
);

273 if(
abs
(
ŞdProb
 - 
ÃwProb
è> 
	gmaxDiff
)

274 
	gmaxDiff
 = 
abs
(
ŞdProb
 - 
ÃwProb
);

280 
	g£ndNodes
.
š£¹
(
ÃxtS’dNodes
.
begš
(),‚extS’dNodes.
’d
());

281 
	g£ndFaùÜs
.
š£¹
(
ÃxtS’dFaùÜs
.
begš
(),‚extS’dFaùÜs.
’d
());

282 
	g»ûiveNodes
.
š£¹
(
ÃxtReûiveNodes
.
begš
(),‚extReûiveNodes.
’d
());

283 
	g»ûiveFaùÜs
.
š£¹
(
ÃxtReûiveFaùÜs
.
begš
(),‚extReûiveFaùÜs.
’d
());

288 if(
	gcÚv
)

289 
	gcÚvIŒ
++;

291 
	gcÚvIŒ
 = 0;

293 if(
	gcÚvIŒ
 >ğ
MIN_CONV_ITR
)

295 if(
VERBOSE
)

297 
cout
 << "CÚv”ged iÀ" << 
rd
+1-
MIN_CONV_ITR
 << " + "

298 << 
MIN_CONV_ITR
 << " = " << 
rd
+1 << "„ounds." << 
’dl
;

307 if(
	gcÚvIŒ
 < 
	gMIN_CONV_ITR
)

308  
	gçl£
;

309  
	gŒue
;

313 
	$runDecisiÚBP
()

315 
Tim”
 
tim”
;

316 
veùÜ
<
Node
*> 
nodes
;

317 
veùÜ
<
FaùÜ
*> 
çùÜs
;

319 
i
 = 0; i < 
çùÜG¿ph_
->
	`g‘NumNodes
(); i++)

320 
nodes
.
	`push_back
(
çùÜG¿ph_
->
	`g‘Node
(
i
));

321 
i
 = 0; i < 
çùÜG¿ph_
->
	`g‘NumFaùÜs
(); i++)

322 
çùÜs
.
	`push_back
(
çùÜG¿ph_
->
	`g‘FaùÜ
(
i
));

324 
i
 = 0; i < 
çùÜs
.
	`size
(); i++)

326 ià(
çùÜs
[
i
]->
	`isAùiÚ
())

331 
çùÜs
[
i
]->
	`æ
();

332 
aùiÚFaùÜs_
.
	`push_back
(
çùÜs
[
i
]);

336 ià(
aùiÚFaùÜs_
.
	`size
() == 0)

338 
cout
 << "ERROR: NØaùiÚ…»diÿ‹ defšed!" << 
’dl
;

339 
	`ex™
(1);

342 
cout
 << "EFBP: " << 
efbp_
 << 
’dl
;

343 
cout
 << "MIN_CONV_ITR: " << 
MIN_CONV_ITR
 << 
’dl
;

344 
cout
 << "EVAL_THRESH: " << 
EVAL_THRESH
 << 
’dl
;

345 
cout
 << "SEARCH_THRESH: " << 
SEARCH_THRESH
 << 
’dl
;

346 
cout
 << 
’dl
;

348 
cout
 << 
nodes
.
	`size
(è<< "‚odes." << 
’dl
;

349 
cout
 << 
çùÜs
.
	`size
(è<< " faùÜs." << 
’dl
;

350 
cout
 << 
aùiÚFaùÜs_
.
	`size
(è<< "‡ùiÚs." << 
’dl
;

352 
be¡AùiÚS‹_
.
	`»size
(
aùiÚFaùÜs_
.
	`size
());

358 
cout
 << "Makšg decisiÚs." << 
’dl
;

359 
Tim”
::
	`´štTime
(
cout
, 
tim”
.
	`time
());

360 
cout
 << 
’dl
;

362 
ut
, 
´evUt
 = -
DBL_MAX
;

363 
maxUt
 = -
DBL_MAX
;

364 
maxUtIŒ
 = () -1;

365 
boŞ
 
»v”£
 = 
çl£
;

366 
´evTime
 = 
tim”
.
	`time
();

367 
š™Time
 = 
tim”
.
	`time
();

368 
FaùÜ
* 
æFaùÜ
 = 
NULL
;

369 
FaùÜ
* 
´evFaùÜ
 = 
NULL
;

372 
numFls
 = 100 * 
aùiÚFaùÜs_
.
	`size
() + 1;

374 
i
 = 0; i < 
numFls
; i++)

376 ià(
i
%100 =ğ0 || 
VERBOSE
)

377 
cout
 << 
i
 << "/" << 
numFls
 << 
’dl
;

379 
£t
<
Node
*> 
£ndNodes
;

380 
£t
<
FaùÜ
*> 
£ndFaùÜs
;

381 
£t
<
Node
*> 
»ûiveNodes
;

382 
£t
<
FaùÜ
*> 
»ûiveFaùÜs
;

383 
£t
<
Node
*>::
™”©Ü
 
nI‹r
;

384 
£t
<
FaùÜ
*>::
™”©Ü
 
fI‹r
;

386 
boŞ
 
cÚv”ge
 = 
Œue
;

387 ià(
efbp_
 && 
i
 > 0)

389 
£ndNodes
.
	`š£¹
(
æFaùÜ
->
	`g‘AùiÚNode
());

390 
»ûiveNodes
.
	`š£¹
(
æFaùÜ
->
	`g‘AùiÚNode
());

391 
æFaùÜ
->
	`g‘AùiÚNode
()->
	`gNeighbÜsS’d
(
£ndFaùÜs
,

392 
»ûiveFaùÜs
,

393 
»ûiveNodes
);

394 ià(
»v”£
)

396 
£ndNodes
.
	`š£¹
(
´evFaùÜ
->
	`g‘AùiÚNode
());

397 
»ûiveNodes
.
	`š£¹
(
´evFaùÜ
->
	`g‘AùiÚNode
());

398 
´evFaùÜ
->
	`g‘AùiÚNode
()->
	`gNeighbÜsS’d
(
£ndFaùÜs
,

399 
»ûiveFaùÜs
,

400 
»ûiveNodes
);

402 
cÚv”ge
 = 
	`runEFBP
(
£ndNodes
, 
£ndFaùÜs
, 
»ûiveNodes
, 
»ûiveFaùÜs
,

403 
SEARCH_THRESH
);

404 ià(!
cÚv”ge
)

405 
cout
 << "FAILED TO CONVERGE iÀ™”©iÚ " << 
i
 << 
’dl
;

407 
ut
 = 
´evUt
;

408 
nI‹r
 = 
»ûiveNodes
.
	`begš
();‚I‹¸!ğ»ûiveNodes.
	`’d
();‚Iter++)

410 if(
	`i¢ª
((*
nI‹r
)->
	`g‘Prob
()è|| 
VERBOSE
)

412 
cout
 << "Node ";

413 (*
nI‹r
)->
	`´št
(
cout
);

414 
cout
 << ":…rob = " << (*
nI‹r
)->
	`g‘Prob
(è<< 
’dl
;

416 
ut
 +ğ(*
nI‹r
)->
	`g‘Ut
(è- (*nI‹r)->
	`g‘P»vUt
();

427 ià(
i
 == 0)

428 
cÚv”ge
 = 
	`runBP
(
nodes
, 
çùÜs
, 
EVAL_THRESH
);

430 
cÚv”ge
 = 
	`runBP
(
nodes
, 
çùÜs
, 
SEARCH_THRESH
);

431 ià(!
cÚv”ge
)

432 
cout
 << "FAILED TO CONVERGE iÀ™”©iÚ " << 
i
 << 
’dl
;

434 if(
VERBOSE
)

435 
cout
 << "DÚw™h BP" << 
’dl
;

436 
ut
 = 0.0;

437 
j
 = 0; j < 
nodes
.
	`size
(); j++)

439 ià(
	`i¢ª
(
nodes
[
j
]->
	`g‘Prob
()è|| 
VERBOSE
)

441 
cout
 << "Nod" << 
j
 << " [";

442 
nodes
[
j
]->
	`´št
(
cout
);

443 
cout
 << "] :…rob = " << 
nodes
[
j
]->
	`g‘Prob
()

444 << ", ut = " << 
nodes
[
j
]->
	`g‘Ut
(è<< 
’dl
;

447 
ut
 +ğ
nodes
[
j
]->
	`g‘Ut
();

454 ià(!
cÚv”ge
)

455 
ut
 = -
LDBL_MAX
;

457 ià(
VERBOSE
)

458 
cout
 << "Ut = " << 
ut
 << 
’dl
;

459 ià(
i
%100 == 0)

461 
curTime
 = 
tim”
.
	`time
();

462 
Tim”
::
	`´štTime
(
cout
, 
curTime
);

463 
cout
 << 
’dl
;

464 ià(
i
 > 0)

466 
cout
 << "TÙ®: " << 
i
/(
curTime
 - 
š™Time
) << " flips/sec."

467 << 
’dl
;

468 
cout
 << "ReûÁ: " << 100/(
curTime
 - 
´evTime
) << " flips/sec."

469 << 
’dl
;

472 
š™Time
 = 
curTime
;

473 
´evTime
 = 
curTime
;

476 
»v”£
 = 
çl£
;

477 ià(
ut
 < 
´evUt
)

479 
´evFaùÜ
 = 
aùiÚFaùÜs_
[(
i
-1)%aùiÚFaùÜs_.
	`size
()];

480 if(
VERBOSE
)

482 
cout
 << "Rev”sšg " << (
i
-1)%
aùiÚFaùÜs_
.
	`size
() << "; ";

483 
´evFaùÜ
->
	`´št
(
cout
);

484 
cout
 << 
’dl
;

486 
´evFaùÜ
->
	`æ
();

487 
»v”£
 = 
Œue
;

491 
´evUt
 = 
ut
;

493 ià(
efbp_
)

495 ià(
VERBOSE
)

496 
cout
 << "Upd©šg…robab™›s." << 
’dl
;

497 ià(
i
 == 0)

499 
j
 = 0; j < 
nodes
.
	`size
(); j++)

501 
nodes
[
j
]->
	`upd©eProb
();

508 
nI‹r
 = 
»ûiveNodes
.
	`begš
();‚I‹¸!ğ»ûiveNodes.
	`’d
();

509 
nI‹r
++)

510 (*
nI‹r
)->
	`upd©eProb
();

517 ià(
ut
 > 
maxUt
)

519 
maxUt
 = 
ut
;

520 
maxUtIŒ
 = 
i
;

523 
i
 = 0; i < 
aùiÚFaùÜs_
.
	`size
(); i++)

524 
be¡AùiÚS‹_
[
i
] = 
aùiÚFaùÜs_
[i]->
	`g‘AùiÚV®ue
();

527 
æFaùÜ
 = 
aùiÚFaùÜs_
[
i
%aùiÚFaùÜs_.
	`size
()];

528 ià(
VERBOSE
)

530 
cout
 << "Flpšg " << 
i
%
aùiÚFaùÜs_
.
	`size
() << "; ";

531 
æFaùÜ
->
	`´št
(
cout
);

532 
cout
 << "[";

533 
æFaùÜ
->
	`g‘AùiÚNode
()->
	`´št
(
cout
);

534 
cout
 << "]" << 
’dl
;

537 
æFaùÜ
->
	`æ
();

539 ià(
i
%
aùiÚFaùÜs_
.
	`size
() == 0)

541 
cout
 << "RuÀ" << 
i
/
aùiÚFaùÜs_
.
	`size
(è<< ": be¡ = " << 
maxUt


542 << 
’dl
;

545 ià(
i
 - 
maxUtIŒ
 > 
aùiÚFaùÜs_
.
	`size
())

547 
cout
 << "AùiÚ s—rch ha cÚv”ged iÀ™”©iÚ " << 
i
 << "." << 
’dl
;

550 ià(
tim”
.
	`time
(è> 
MAX_TIME
)

552 
cout
 << "OK, I'm bÜed‚ow. Stİpšg iÀ™”©iÚ " << 
i
 << "." << 
’dl
;

556 
cout
 << "Max ut: " << 
maxUt
 << " iÀ™”©iÚ " << 
maxUtIŒ


557 << 
’dl
 <<ƒndl;

559 
cout
 << "Re¡Üšg o±im® s‹:" << 
’dl
;

560 
i
 = 0; i < 
aùiÚFaùÜs_
.
	`size
(); i++)

562 ià(
be¡AùiÚS‹_
[
i
] !ğ
aùiÚFaùÜs_
[i]->
	`g‘AùiÚV®ue
())

563 
aùiÚFaùÜs_
[
i
]->
	`æ
();

564 
aùiÚFaùÜs_
[
i
]->
	`´št
(
cout
);

565 
cout
 << ": " << 
aùiÚFaùÜs_
[
i
]->
	`g‘AùiÚV®ue
(è<< 
’dl
;

567 
	`runBP
(
nodes
, 
çùÜs
, 
EVAL_THRESH
);

568 
ut
 = 0.0;

569 
j
 = 0; j < 
nodes
.
	`size
(); j++)

573 
ut
 +ğ
nodes
[
j
]->
	`g‘Ut
();

579 
cout
 << "Ut = " << 
ut
 << 
’dl
;

580 
maxUt_
 = 
ut
;

586 
	}
}

592 
	$šãr
()

606 
Tim”
 
tim”1
;

608 
ŞdProbs
[2];

609 
ÃwProbs
[2];

610 
diff
;

611 
maxDiff
;

612 
maxDiffNodeIndex
;

613 
cÚv”geIŒCÁ
 = 0;

614 
boŞ
 
cÚv”ged
 = 
çl£
;

615 
numFaùÜs
 = 
çùÜG¿ph_
->
	`g‘NumFaùÜs
();

616 
numNodes
 = 
çùÜG¿ph_
->
	`g‘NumNodes
();

618 
cout
 << "çùÜúˆğ" << 
numFaùÜs


619 << ",‚odeúˆğ" << 
numNodes
 << 
’dl
;

621 ià(
bpdebug
)

623 
cout
 << "çùÜs:" << 
’dl
;

624 
i
 = 0; i < 
numFaùÜs
; i++)

626 
çùÜG¿ph_
->
	`g‘FaùÜ
(
i
)->
	`´št
(
cout
);

627 
cout
 << 
’dl
;

629 
cout
 << "nodes:" << 
’dl
;

630 
i
 = 0; i < 
numNodes
; i++)

632 
çùÜG¿ph_
->
	`g‘Node
(
i
)->
	`´št
(
cout
);

633 
cout
 << 
’dl
;

637 
™r
;

641 
™r
 = 1; iŒ <ğ
maxS‹ps_
; itr++)

643 ià(
bpdebug
)

645 
cout
<<"*************************************"<<
’dl
;

646 
cout
<<"P”fÜmšg I‹¿tiÚ "<<
™r
<<" oàBP"<<
’dl
;

647 
cout
<<"*************************************"<<
’dl
;

650 
i
 = 0; i < 
numFaùÜs
; i++)

652 ià(
bpdebug
)

654 
cout
 << "Sending messages for Factor: ";

655 
çùÜG¿ph_
->
	`g‘FaùÜ
(
i
)->
	`´št
(
cout
); couˆ<< 
’dl
;

657 
çùÜG¿ph_
->
	`g‘FaùÜ
(
i
)->
	`£ndMes§ge
();

660 
i
 = 0; i < 
numNodes
; i++)

662 ià(
bpdebug
)

664 
cout
 << "Sending messages for Node: ";

665 
çùÜG¿ph_
->
	`g‘Node
(
i
)->
	`´št
(
cout
); couˆ<< 
’dl
;

667 
çùÜG¿ph_
->
	`g‘Node
(
i
)->
	`£ndMes§ge
();

670 
i
 = 0; i < 
numFaùÜs
; i++)

672 
çùÜG¿ph_
->
	`g‘FaùÜ
(
i
)->
	`moveToNextS‹p
();

673 ià(
bpdebug
)

675 
cout
 << "BP-FaùÜ I‹¿tiÚ " << 
™r
 << " => ";

676 
çùÜG¿ph_
->
	`g‘FaùÜ
(
i
)->
	`´št
(
cout
); couˆ<< 
’dl
;

680 
maxDiff
 = -1;

681 
maxDiffNodeIndex
 = -1;

682 
i
 = 0; i < 
numNodes
; i++)

684 ià(
bpdebug
)

686 
cout
<<"************************************"<<
’dl
;

687 
cout
<<"Nod"<<
i
<<":"<<
’dl
;

688 
cout
<<"************************************"<<
’dl
;

689 
cout
<<"G‘tšg Old Probab™› =>"<<
’dl
;

690 
cout
<<
’dl
;

691 
cout
<<"MovšgØÃxˆ¡• "<<
’dl
;

692 
cout
<<
’dl
;

693 
cout
<<"G‘tšg New Probab™› =>"<<
’dl
;

696 
çùÜG¿ph_
->
	`g‘Node
(
i
)->
	`g‘Probs
(
ŞdProbs
);

697 
çùÜG¿ph_
->
	`g‘Node
(
i
)->
	`moveToNextS‹p
();

698 
çùÜG¿ph_
->
	`g‘Node
(
i
)->
	`g‘Probs
(
ÃwProbs
);

700 
diff
 = 
	`abs
(
ÃwProbs
[1] - 
ŞdProbs
[1]);

702 ià(
bpdebug
)

704 
cout
<<
’dl
<<endl<<"Final Probs : "<<endl;

705 
cout
<<"Nod"<<
i
<<":…robs["<<0<<"] = "<<
ÃwProbs
[0]

706 <<",…robs["<<1<<"] = "<<
ÃwProbs
[1]<<
’dl
;

707 
cout
<<"BP-NodI‹¿tiÚ "<<
™r
<<": "<<
ÃwProbs
[0]

708 <<"…robs["<<1<<"] = "<<
ÃwProbs
[1]<<
’dl
;

709 
cout
<<" : => ";

710 
çùÜG¿ph_
->
	`g‘Node
(
i
)->
	`´št
(
cout
);

711 
cout
 << 
’dl
;

714 ià(
maxDiff
 < 
diff
)

716 
maxDiff
 = 
diff
;

717 
maxDiffNodeIndex
 = 
i
;

721 
cout
<<"AˆI‹¿tiÚ "<<
™r
<<": MaxDifàğ"<<
maxDiff
<<
’dl
;

722 
cout
<<
’dl
;

725 ià(
maxDiff
 < 
cÚv”g’ûTh»sh_
)

726 
cÚv”geIŒCÁ
++;

728 
cÚv”geIŒCÁ
 = 0;

732 ià(
cÚv”geIŒCÁ
 >ğ
cÚv”geRequœedIŒCÁ_
)

734 
cÚv”ged
 = 
Œue
;

740 ià(
cÚv”ged
)

742 
cout
 << "CÚv”ged iÀ" << 
™r
 << " I‹¿tiÚ " << 
’dl
;

746 
cout
 << "Did‚Ù cÚv”gš " << 
maxS‹ps_
 << " (max‡llowed) Iterations"

747 << 
’dl
;

750 ià(
qu”yFÜmuÏs_
)

752 
cout
 << "Computšg…robab™› oàqu”y fÜmuÏ ..." << 
’dl
;

753 
i
 = 0; i < 
numNodes
; i++)

755 ià(
bpdebug
)

757 
cout
 << "Sending‡uxiliary messages for Node: ";

758 
çùÜG¿ph_
->
	`g‘Node
(
i
)->
	`´št
(
cout
); couˆ<< 
’dl
;

760 
çùÜG¿ph_
->
	`g‘Node
(
i
)->
	`£ndAuxMes§ge
();

763 
j
 = 0; j < 
qfProbs_
->
	`size
(); j++)

765 (*
qfProbs_
)[
j
] = 
çùÜG¿ph_
->
	`g‘AuxFaùÜ
(j)->
	`g‘Prob
();

768 
	}
}

773 
	$´štN‘wÜk
(
o¡»am
& 
out
)

775 
çùÜG¿ph_
->
	`´štN‘wÜk
(
out
);

776 
	}
}

781 
	$´štProbab™›s
(
o¡»am
& 
out
)

783 
IÁA¼ayHashA¼ay
 *
ÃqCÚ¡¿šts
;

784 
P»diÿ‹
 *
v¬P»d
;

785 
´obs
[2];

786 
Hy³rCube
 *
hy³rCube
;

787 
A¼ay
<A¼ay<>*> *
cÚ¡ªtsA¼
;

788 
A¼ay
<>* 
cÚ¡ªts
;

789 
P»diÿ‹
* 
´ed
;

790 
´edId
;

791 
Node
* 
node
;

792 
exp
;

793 
Domaš
* 
domaš
 = 
çùÜG¿ph_
->
	`g‘Domaš
();

794 
D©aba£
* 
db
 = 
domaš
->
	`g‘DB
();

796 
´edCÁ
 = 
domaš
->
	`g‘NumP»diÿ‹s
();

799 
A¼ay
<A¼ay<
Node
 *> *> *
nodesByP»dIdA¼
 =

800 
Ãw
 
A¼ay
<A¼ay<
Node
 *>*>(
´edCÁ
, 
NULL
);

801 
A¼ay
<
Node
 *>* 
nodesByP»dId
;

802 
P»diÿ‹HashA¼ay
 *
´edGndšgsHash
;

804 
i
 = 0; i < 
çùÜG¿ph_
->
	`g‘NumNodes
(); i++)

806 
node
 = 
çùÜG¿ph_
->
	`g‘Node
(
i
);

807 
´edId
 = 
node
->
	`g‘P»dId
();

808 if((*
nodesByP»dIdA¼
)[
´edId
] =ğ
NULL
) {

809 (*
nodesByP»dIdA¼
)[
´edId
] = 
Ãw
 
A¼ay
<
Node
 *>();

811 (*
nodesByP»dIdA¼
)[
´edId
]->
	`­³nd
(
node
);

816 
´edId
=0;´edId<
´edCÁ
;predId++) {

817 
nodesByP»dId
 = (*
nodesByP»dIdA¼
)[
´edId
];

818 if(
nodesByP»dId
 =ğ
NULL
)

820 
v¬P»d
 = 
domaš
->
	`ü—‹P»diÿ‹
(
´edId
,
çl£
);

821 
cout
<<"Processinghe…redicate ";

822 
v¬P»d
->
	`´štW™hSŒV¬
(
cout
,
domaš
);

823 
v¬P»d
->
	`´št
(
cout
,
domaš
);

824 
cout
<<
’dl
;

825 
ÃqCÚ¡¿šts
 = 
çùÜG¿ph_
->
	`g‘NeqCÚ¡¿šts
(
v¬P»d
);

827 
numTrue
 = 
db
->
	`g‘NumTrueGndP»ds
(
´edId
);

828 
numF®£
 = 
db
->
	`g‘NumF®£GndP»ds
(
´edId
);

834 if(
numTrue
 > 0 || 
numF®£
 > 0) {

835 
´edGndšgsHash
 = 
Ãw
 
	`P»diÿ‹HashA¼ay
();

836 
çùÜG¿ph_
->
	`g‘UnknownGndšgsHash
(
´edGndšgsHash
,
v¬P»d
,
domaš
,
db
);

838 
´edGndšgsHash
 = 
NULL
;

844 
i
 = 0; i < 
nodesByP»dId
->
	`size
(); i++)

846 
node
 = (*
nodesByP»dId
)[
i
];

847 
node
->
	`g‘Probs
(
´obs
);

848 
exp
 = 
node
->
	`g‘Exp
();

849 
Su³rP»d
 * 
su³rP»d
 = 
node
->
	`g‘Su³rP»d
();

851 ià(
su³rP»d
)

853 
šdex
 = 0; index < 
su³rP»d
->
	`g‘NumHy³rCubes
(); index++)

855 
hy³rCube
 = 
su³rP»d
->
	`g‘Hy³rCube
(
šdex
);

857 if(
çùÜG¿ph_
->
	`g‘U£CT
()) {

858 
cÚ¡ªtsA¼
 = 
hy³rCube
->
	`g‘Tu¶es
(
ÃqCÚ¡¿šts
);

860 
cÚ¡ªtsA¼
 = 
hy³rCube
->
	`g‘Tu¶es
(
NULL
);

863 
Šo
=0;Šo<
cÚ¡ªtsA¼
->
	`size
();tno++) {

864 
cÚ¡ªts
 = (*
cÚ¡ªtsA¼
)[
Šo
];

866 
cÚ¡ªts
->
	`»moveI‹m
(0);

867 
´ed
 = 
domaš
->
	`g‘P»diÿ‹
(
cÚ¡ªts
, 
´edId
);

868 
d–‘e
 
cÚ¡ªts
;

870 if(
´edGndšgsHash
) {

872 
šdex
 = 
´edGndšgsHash
->
	`fšd
(
´ed
);

873 
d–‘e
 
´ed
;

874 if(
šdex
 < 0)

876 
´ed
 = 
´edGndšgsHash
->
	`»moveI‹mFa¡DisÜd”
(
šdex
);

878 
´ed
->
	`´štW™hSŒV¬
(
out
, 
domaš
);

879 
out
 << " " << 
´obs
[1] << 
’dl
;

881 
d–‘e
 
´ed
;

883 
d–‘e
 
cÚ¡ªtsA¼
;

888 
cÚ¡ªts
 = 
node
->
	`g‘CÚ¡ªts
();

889 
	`as£¹
(
cÚ¡ªts
 !ğ
NULL
);

890 
´ed
 = 
domaš
->
	`g‘P»diÿ‹
(
cÚ¡ªts
, 
´edId
);

891 if(
´edGndšgsHash
) {

892 
šdex
 = 
´edGndšgsHash
->
	`fšd
(
´ed
);

893 
d–‘e
 
´ed
;

894 if(
šdex
 < 0)

896 
´ed
 = 
´edGndšgsHash
->
	`»moveI‹mFa¡DisÜd”
(
šdex
);

898 
´ed
->
	`´štW™hSŒV¬
(
out
, 
domaš
);

899 
out
 << " " << 
´obs
[1] << 
’dl
;

901 
d–‘e
 
´ed
;

905 if(
´edGndšgsHash
) {

907 ià(
çùÜG¿ph_
->
	`g‘U£HC
(è&& faùÜG¿ph_->
	`g‘HcC»©eNoi£
() == 0) {

908 
	`as£¹
(
´edGndšgsHash
->
	`size
() == 0);

911 
i
=0;i<
´edGndšgsHash
->
	`size
();i++) {

912 
´ed
 = (*
´edGndšgsHash
)[
i
];

913 
´ed
->
	`´štW™hSŒV¬
(
out
, 
domaš
);

914 
out
<<" "<<0<<
’dl
;

915 
d–‘e
 
´ed
;

917 
d–‘e
 
´edGndšgsHash
;

920 
d–‘e
 
ÃqCÚ¡¿šts
;

921 
d–‘e
 
v¬P»d
;

925 
nodesByP»dIdA¼
->
	`d–‘eI‹msAndCË¬
();

926 
d–‘e
 
nodesByP»dIdA¼
;

927 
	}
}

943 
g‘ChªgedP»ds
(
veùÜ
<
¡ršg
>& 
chªgedP»ds
, veùÜ<>& 
´obs
,

944 
veùÜ
<>& 
ŞdProbs
, cÚ¡ & 
´obD–
)

954 
	$g‘Probab™y
(
GroundP»diÿ‹
* cÚ¡& 
gndP»d
)

1005 
	}
}

1013 
	$g‘Probab™yH
(
GroundP»diÿ‹
* cÚ¡& 
gndP»d
)

1016 
	}
}

1022 
	$´štTrueP»ds
(
o¡»am
& 
out
)

1024 
	}
}

1030 
	$´štTrueP»dsH
(
o¡»am
& 
out
)

1032 
	}
}

1034 
FaùÜG¿ph
* 
	$g‘FaùÜG¿ph
()

1036  
çùÜG¿ph_
;

1037 
	}
}

1039 
	$´štDecisiÚResuÉs
(
o¡»am
& 
out
)

1041 
Domaš
* 
domaš
 = 
çùÜG¿ph_
->
	`g‘Domaš
();

1042 
out
 << "Max. Ut™y: " << 
maxUt_
 << 
’dl
;

1043 
i
 = 0; i < 
aùiÚFaùÜs_
.
	`size
(); i++)

1045 
FaùÜ
* 
çùÜ
 = 
aùiÚFaùÜs_
[
i
];

1046 
Node
* 
node
 = 
çùÜ
->
	`g‘Lšk
(0)->
	`g‘Node
();

1047 
´edId
 = 
node
->
	`g‘P»dId
();

1048 
A¼ay
<>* 
cÚ¡ªts
 = 
node
->
	`g‘CÚ¡ªts
();

1049 
	`as£¹
(
cÚ¡ªts
 !ğ
NULL
);

1050 
P»diÿ‹
* 
´ed
 = 
domaš
->
	`g‘P»diÿ‹
(
cÚ¡ªts
, 
´edId
);

1051 
´ed
->
	`´štW™hSŒV¬
(
out
, 
domaš
);

1052 
out
 << " " << 
çùÜ
->
	`g‘AùiÚV®ue
(è<< 
’dl
;

1053 
d–‘e
 
´ed
;

1055 
	}
}

1057 
	g´iv©e
:

1059 
FaùÜG¿ph
* 
çùÜG¿ph_
;

1061 
	gmaxS‹ps_
;

1063 
	gmaxSecÚds_
;

1067 
	gcÚv”g’ûTh»sh_
;

1069 
	gcÚv”geRequœedIŒCÁ_
;

1071 
boŞ
 
	gouutN‘wÜk_
;

1073 
boŞ
 
	gefbp_
;

1075 
	gmaxUt_
;

1077 
	gveùÜ
<
	gFaùÜ
*> 
	gaùiÚFaùÜs_
;

1078 
	gveùÜ
<
	gboŞ
> 
	gbe¡AùiÚS‹_
;

	@infer/bpfactor.cpp

67 
	~"bpçùÜ.h
"

74 
	gBPFaùÜ
::
	$š™FaùÜMess§ges
()

76 
P»diÿ‹
 *
´ed
;

77 
numP»ds
 = 
şau£_
->
	`g‘NumP»diÿ‹s
();

78 
¡©eCÁ
 = ()
	`pow
(2.0, 
numP»ds
);

79 
çùÜMsgs_
 = 
Ãw
 [
¡©eCÁ
];

80 
boŞ
 
isS©isf›d
;

81 
¡©e
 = 0; s‹ < 
¡©eCÁ
; state++)

83 
isS©isf›d
 = 
çl£
;

84 
´edno
 = 0;…»dnØ< 
numP»ds
;…redno++)

86 
´ed
 = 
şau£_
->
	`g‘P»diÿ‹
(
´edno
);

87 
boŞ
 
´edB™
 = 
¡©e
 & (1<<
´edno
);

88 ià(
´ed
->
	`g‘S’£
(è=ğ
´edB™
)

90 
isS©isf›d
 = 
Œue
;

95 ià(
isS©isf›d
)

99 
çùÜMsgs_
[
¡©e
] = 
şau£_
->
	`g‘Wt
();

103 
çùÜMsgs_
[
¡©e
] = 0;

106 
	}
}

109 * 
	gBPFaùÜ
::
	$muÉlyMes§gesAndSumOut
(
špP»dIndex
)

111 
numP»ds
 = 
şau£_
->
	`g‘NumP»diÿ‹s
();

112 
¡©eCÁ
 = ()
	`pow
(2.0, 
numP»ds
);

113 * 
´odMsgs
 = 
Ãw
 [
¡©eCÁ
];

115 
BPNode
 *
node
;

116 *
gndNodeCÁs
 = 
Ãw
 [
numP»ds
];

121 
´edno
 = 0;…»dnØ< 
numP»ds
;…redno++)

122 
gndNodeCÁs
[
´edno
] = 0;

124 
Êo
 = 0;†nØ< 
lšks_
->
	`size
();†no++)

126 
´edIndex
 = (*
lšks_
)[
Êo
]->
	`g‘P»dIndex
();

127 
node
 = (*
lšks_
)[
Êo
]->
	`g‘Node
();

128 
gndNodeCÁs
[
´edIndex
] +ğ
node
->
	`g‘GroundNodeCouÁ
();

132 
¡©e
 = 0; s‹ < 
¡©eCÁ
; state++)

133 
´odMsgs
[
¡©e
] = 
çùÜMsgs_
[state];

135 
Êo
 = 0;†nØ< 
lšks_
->
	`size
();†no++)

137 
´edIndex
 = (*
lšks_
)[
Êo
]->
	`g‘P»dIndex
();

138 ià(
´edIndex
 =ğ
špP»dIndex
)

141 
node
 = (*
lšks_
)[
Êo
]->
	`g‘Node
();

145 
	`as£¹
(
gndNodeCÁs
[
´edIndex
] != 0);

148 
út
 = 1;

149 ià(
su³rCÏu£_
)

150 
út
 = 
su³rCÏu£_
->
	`g‘NumTu¶esInşudšgIm¶ic™
();

152 
¡©e
 = 0; s‹ < 
¡©eCÁ
; state++)

154 
boŞ
 
´edB™
 = 
¡©e
 & (1<<
´edIndex
);

155 ià(
´edB™
)

156 
´odMsgs
[
¡©e
] +ğ(*
msgsA¼_
)[
Êo
][1]*
út
;

158 
´odMsgs
[
¡©e
] +ğ(*
msgsA¼_
)[
Êo
][0]*
út
;

164 *
outMsgs
 = 
Ãw
 [2];

165 
maxMsgs
[2];

166 
maxMsgs
[0] = maxMsgs[1] = 0;

167 
boŞ
 
fœ¡Time
[2];

168 
fœ¡Time
[0] = fœ¡Time[1] = 
Œue
;

171 
¡©e
 = 0; s‹ < 
¡©eCÁ
; state++)

173 
boŞ
 
´edB™
 = 
¡©e
 & (1<<
špP»dIndex
);

174 ià(
´edB™
 && (
maxMsgs
[1] < 
´odMsgs
[
¡©e
] || 
fœ¡Time
[1]))

176 
fœ¡Time
[1] = 
çl£
;

177 
maxMsgs
[1] = 
´odMsgs
[
¡©e
];

180 ià(!
´edB™
 && (
maxMsgs
[0] < 
´odMsgs
[
¡©e
] || 
fœ¡Time
[0]))

182 
fœ¡Time
[0] = 
çl£
;

183 
maxMsgs
[0] = 
´odMsgs
[
¡©e
];

187 
outMsgs
[0] = outMsgs[1] = 0;

188 
¡©e
 = 0; s‹ < 
¡©eCÁ
; state++)

190 
boŞ
 
´edB™
 = 
¡©e
 & (1<<
špP»dIndex
);

191 ià(
´edB™
)

192 
outMsgs
[1] +ğ
	`ex¶
(
´odMsgs
[
¡©e
] - 
maxMsgs
[1]);

194 
outMsgs
[0] +ğ
	`ex¶
(
´odMsgs
[
¡©e
] - 
maxMsgs
[0]);

196 
outMsgs
[1] = 
maxMsgs
[1] + 
	`logl
(outMsgs[1]);

197 
outMsgs
[0] = 
maxMsgs
[0] + 
	`logl
(outMsgs[0]);

198 
outMsgs
[1] = outMsgs[1] - outMsgs[0];

199 
outMsgs
[0] = 0;

200 
d–‘e
 [] 
´odMsgs
;

201 
d–‘e
 [] 
gndNodeCÁs
;

202  
outMsgs
;

203 
	}
}

206 
	gBPFaùÜ
::
	$£ndMes§ge
()

208 *
outMsgs
 = 
NULL
;

209 
BPLšk
 *
lšk
;

210 
BPNode
 *
node
;

211 
´edIndex
;

212 
lšdex
 = 0;†šdex < 
lšks_
->
	`size
();†index++)

214 
lšk
 = (*
lšks_
)[
lšdex
];

215 
node
 = 
lšk
->
	`g‘Node
();

216 
´edIndex
 = 
lšk
->
	`g‘P»dIndex
();

218 
outMsgs
 = 
	`muÉlyMes§gesAndSumOut
(
´edIndex
);

220 
node
->
	`»ûiveMes§ge
(
outMsgs
, 
lšk
);

221 
d–‘e
 [] 
outMsgs
;

223 
	}
}

226 
	gBPFaùÜ
::
	$moveToNextS‹p
()

228 * 
msgs
;

229 * 
ÃxtMsgs
;

233 
lšdex
 = 0;lšdex < 
lšks_
->
	`size
();†index++)

235 
msgs
 = (*
msgsA¼_
)[
lšdex
];

236 
ÃxtMsgs
 = (*
ÃxtMsgsA¼_
)[
lšdex
];

237 
i
 = 0; i < 2; i++)

239 
msgs
[
i
] = 
ÃxtMsgs
[i];

240 
ÃxtMsgs
[
i
] = 0;

243 
	}
}

248 
	go¡»am
& 
	gBPFaùÜ
::
	$´št
(
o¡»am
& 
out
)

262 
i
 = 0; i < 
lšks_
->
	`size
(); i++)

264 (*
lšks_
)[
i
]->
	`g‘Node
()->
	`´št
(
out
);

265 ià(
i
 !ğ
lšks_
->
	`size
(è- 1è
out
 << "/ ";

268  
out
;

269 
	}
}

274 
	go¡»am
& 
	gBPFaùÜ
::
	$´štWts
(
o¡»am
& 
out
)

276 
i
 = 0; i < ()
	`pow
(2.0, 
şau£_
->
	`g‘NumP»diÿ‹s
()); i++)

278 
out
 << 
çùÜMsgs_
[
i
] * 
ouutWt_
 << " ";

281  
out
;

282 
	}
}

	@infer/bpfactor.h

67 #iâdeà
_BPFACTOR_H_Jª_2008


68 
	#_BPFACTOR_H_Jª_2008


	)

70 
	~<m©h.h
>

71 
	~"ut.h
"

72 
	~"mrf.h
"

73 
	~"¬¿y.h
"

74 
	~"b¶šk.h
"

75 
	~"b²ode.h
"

76 
	~"su³rşau£.h
"

78 
usšg
 
Çme¥aû
 
	g¡d
;

79 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

84 şas 
	cBPFaùÜ


86 
	mpublic
:

87 
BPFaùÜ
(
CÏu£
 * cÚ¡ & 
şau£
, 
Su³rCÏu£
 * cÚ¡ & 
su³rCÏu£
,

88 
A¼ay
<> * cÚ¡ & 
cÚ¡ªts
, 
Domaš
 * cÚ¡ & 
domaš
,

89 
ouutWt
)

91 
	mşau£_
 = 
şau£
;

92 
	msu³rCÏu£_
 = 
su³rCÏu£
;

93 
	mcÚ¡ªts_
 = 
cÚ¡ªts
;

94 
	mdomaš_
 = 
domaš
;

96 
	mmsgsA¼_
 = 
Ãw
 
A¼ay
<*>;

97 
	mÃxtMsgsA¼_
 = 
Ãw
 
A¼ay
<*>;

98 
	mlšks_
 = 
Ãw
 
A¼ay
<
BPLšk
 *>();

99 
	mouutWt_
 = 
ouutWt
;

100 
š™FaùÜMess§ges
();

103 
	$BPFaùÜ
()

105 
lšks_
 = 
Ãw
 
A¼ay
<
BPLšk
 *>();

106 
msgsA¼_
 = 
Ãw
 
A¼ay
<*>;

107 
	}
}

109 ~
	$BPFaùÜ
()

111 
i
 = 0; i < 
msgsA¼_
->
	`size
(); i++)

113 
	`d–‘e
 (*
msgsA¼_
)[
i
];

114 
	`d–‘e
 (*
ÃxtMsgsA¼_
)[
i
];

116 
d–‘e
 
lšks_
;

117 
d–‘e
 
msgsA¼_
;

118 
d–‘e
 
ÃxtMsgsA¼_
;

119 
	}
}

121 
š™FaùÜMess§ges
();

123 
	$g‘Su³rCÏu£Id
()

125 ià(
su³rCÏu£_
)

126  
su³rCÏu£_
->
	`g‘Su³rCÏu£Id
();

129 
	}
}

131 
	$g‘P¬’tSu³rCÏu£Id
()

133 ifĞ
su³rCÏu£_
)

134  
su³rCÏu£_
->
	`g‘P¬’tSu³rCÏu£Id
();

137 
	}
}

139 
Su³rCÏu£
* 
	$g‘Su³rCÏu£
(è{ 
su³rCÏu£_
;
	}
}

140 
CÏu£
 * 
	$g‘CÏu£
(è{ 
şau£_
;
	}
}

141 
Domaš
 *
	$g‘Domaš
(è{ 
domaš_
;
	}
}

142 
	gA¼ay
<> * 
	$g‘CÚ¡ªts
(è{ 
cÚ¡ªts_
;
	}
}

143 
	$g‘NumLšks
(è{ 
lšks_
->
	`size
();
	}
}

145 
	$g‘Mes§ge
(
šdex
, 
msgs
[])

147 
msgs
[0] = (*
msgsA¼_
)[
šdex
][0];

148 
msgs
[1] = (*
msgsA¼_
)[
šdex
][1];

149 
	}
}

151 
	$addLšk
(
BPLšk
 *
lšk
, 
špMsgs
[2])

153 
lšks_
->
	`­³nd
(
lšk
);

154 *
msgs
;

155 
msgs
 = 
Ãw
 [2];

157 ià(
špMsgs
)

159 
msgs
[0] = 
špMsgs
[0];

160 
msgs
[1] = 
špMsgs
[1];

164 
msgs
[0] = msgs[1] = 0;

166 
msgsA¼_
->
	`­³nd
(
msgs
);

167 
msgs
 = 
Ãw
 [2];

168 
ÃxtMsgsA¼_
->
	`­³nd
(
msgs
);

169 
	}
}

174 
	$»ûiveMes§ge
(* 
špMsgs
, 
BPLšk
 *
lšk
)

176 *
ÃxtMsgs
;

177 
»v”£NodeIndex
 = 
lšk
->
	`g‘Rev”£NodeIndex
();

178 
ÃxtMsgs
 = (*
ÃxtMsgsA¼_
)[
»v”£NodeIndex
];

179 
ÃxtMsgs
[0] = 
špMsgs
[0];

180 
ÃxtMsgs
[1] = 
špMsgs
[1];

181 
	}
}

184 * 
muÉlyMes§gesAndSumOut
(
´edIndex
);

187 
£ndMes§ge
();

190 
moveToNextS‹p
();

192 
	go¡»am
& 
´št
(
o¡»am
& 
out
);

194 
	go¡»am
& 
´štWts
(
o¡»am
& 
out
);

196 
	g´Ùeùed
:

197 
CÏu£
 * 
şau£_
;

201 
Su³rCÏu£
 * 
	gsu³rCÏu£_
;

202 
	gA¼ay
<> * 
	gcÚ¡ªts_
;

203 
Domaš
 * 
	gdomaš_
;

204 
	gA¼ay
<
	gBPLšk
 *> *
	glšks_
;

206 
	gA¼ay
<*> *
	gmsgsA¼_
;

208 
	gA¼ay
<*> *
	gÃxtMsgsA¼_
;

210 *
	gçùÜMsgs_
;

211 
	gouutWt_
;

	@infer/bplink.h

66 #iâdeà
_BPLINK_H_Jª_2008


67 
	#_BPLINK_H_Jª_2008


	)

69 
	~"ut.h
"

70 
	~"mrf.h
"

71 
	~"¬¿y.h
"

72 
	~<m©h.h
>

74 
usšg
 
Çme¥aû
 
	g¡d
;

75 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

77 
şass
 
	gBPNode
;

78 
şass
 
	gBPFaùÜ
;

83 şas 
	cBPLšk


85 
	mpublic
:

87 
	$BPLšk
(
BPNode
 * cÚ¡ & 
node
, 
BPFaùÜ
 * cÚ¡ & 
çùÜ
,

88 & 
»v”£NodeIndex
, & 
»v”£FaùÜIndex
,

89 & 
´edIndex
, & 
út
)

91 
node_
 = 
node
;

92 
çùÜ_
 = 
çùÜ
;

93 
»v”£NodeIndex_
 = 
»v”£NodeIndex
;

94 
»v”£FaùÜIndex_
 = 
»v”£FaùÜIndex
;

95 
´edIndex_
 = 
´edIndex
;

96 
út_
 = 
út
;

99 
BPNode
 * 
	$g‘Node
(è{  
node_
;
	}
}

100 
BPFaùÜ
 * 
	$g‘FaùÜ
(è{ 
çùÜ_
;
	}
}

101 
	$g‘Rev”£NodeIndex
(è{  
»v”£NodeIndex_
;
	}
}

102 
	$g‘Rev”£FaùÜIndex
(è{  
»v”£FaùÜIndex_
;
	}
}

103 
	$g‘P»dIndex
(è{  
´edIndex_
;
	}
}

104 
	$g‘CouÁ
(è{ 
út_
;
	}
}

106 
	go¡»am
& 
´št
(
o¡»am
& 
out
);

108 
	g´iv©e
:

109 
BPNode
 * 
node_
;

110 
BPFaùÜ
 * 
	gçùÜ_
;

111 
	g»v”£NodeIndex_
;

112 
	g»v”£FaùÜIndex_
;

115 
	g´edIndex_
;

116 
	gút_
;

	@infer/bpnode.cpp

67 
	~"b²ode.h
"

75 
	gBPNode
::
addFaùÜs
(
A¼ay
<
BPFaùÜ
 *> * cÚ¡ & 
®lFaùÜs
,

76 
LškIdToTwoWayMes§geM­
* cÚ¡ & 
lidToTWMsg
)

78 
BPFaùÜ
 *
	gçùÜ
;

79 
BPLšk
 *
	glšk
;

80 
	gút
;

81 
CÏu£CouÁ”
 * 
	gcouÁ”
 = (CÏu£CouÁ” *)
su³rP»d_
->
g‘CÏu£CouÁ”
();

82 
	gnumFaùÜs
 = 
couÁ”
->
g‘NumCÏu£s
();

83 cÚ¡ 
	gA¼ay
<> * 
	gúts
;

85 
	gfšdex
 = 0; fšdex < 
	gnumFaùÜs
; findex++)

87 
	gfid
 = 
couÁ”
->
g‘CÏu£Id
(
fšdex
);

88 
	gúts
 = 
couÁ”
->
g‘CÏu£CouÁs
(
fšdex
);

89 
	gçùÜ
 = (*
®lFaùÜs
)[
fid
];

91 
	g´edIndex
 = 0;…»dIndex < 
	gúts
->
size
();…redIndex++)

93 
	gút
 = (*
úts
)[
´edIndex
];

94 ià((*
	gúts
)[
´edIndex
] == 0)

98 
	g»v”£NodeIndex
 = 
çùÜ
->
g‘NumLšks
();

100 
	g»v”£FaùÜIndex
 = 
g‘NumLšks
();

102 
	glšk
 = 
Ãw
 
BPLšk
(
this
, 
çùÜ
, 
»v”£NodeIndex
, 
»v”£FaùÜIndex
,

103 
´edIndex
, 
út
);

106 
LškId
 *
	glid
;

107 
TwoWayMes§ge
 *
	gtmsg
;

108 *
	gnodeToFaùÜMsgs
, *
	gçùÜToNodeMsgs
;

109 
	gLškIdToTwoWayMes§geM­
::
™”©Ü
 
lidToTMsgIŒ
;

110 
	g·»ÁSu³rP»dId
 = 
g‘P¬’tSu³rP»dId
();

111 
	g·»ÁSu³rCÏu£Id
 = 
çùÜ
->
g‘P¬’tSu³rCÏu£Id
();

113 
	glid
 = 
Ãw
 
LškId
(
´edId_
, 
·»ÁSu³rP»dId
, 
·»ÁSu³rCÏu£Id
,

114 
´edIndex
);

115 
	glidToTMsgIŒ
 = 
lidToTWMsg
->
fšd
(
lid
);

116 
d–‘e
 
	glid
;

118 ià(
	glidToTMsgIŒ
 !ğ
lidToTWMsg
->
’d
())

120 
tmsg
 = 
lidToTMsgIŒ
->
£cÚd
;

121 
	gnodeToFaùÜMsgs
 = 
tmsg
->
g‘NodeToFaùÜMes§ge
();

122 
	gçùÜToNodeMsgs
 = 
tmsg
->
g‘FaùÜToNodeMes§ge
();

126 
	gnodeToFaùÜMsgs
 = 
NULL
;

127 
	gçùÜToNodeMsgs
 = 
NULL
;

129 
	gthis
->
addLšk
(
lšk
, 
nodeToFaùÜMsgs
);

130 
	gçùÜ
->
addLšk
(
lšk
,
çùÜToNodeMsgs
);

136 
	gBPNode
::
	$£ndMes§ge
()

138 
BPLšk
 *
lšk
;

139 
BPFaùÜ
 *
çùÜ
;

140 
út
;

141 *
msgs
;

142 *
outMsgs
 = 
Ãw
 [2];

144 
lšdex
 = 0;†šdex < 
lšks_
->
	`size
();†index++)

146 
lšk
 = (*
lšks_
)[
lšdex
];

147 
çùÜ
 = 
lšk
->
	`g‘FaùÜ
();

148 
út
 = 
lšk
->
	`g‘CouÁ
();

150 
msgs
 = (*
msgsA¼_
)[
lšdex
];

151 
i
 = 0; i < 2; i++)

153 
outMsgs
[
i
] = 
msgProds_
[i] - 
msgs
[i];

157 
çùÜ
->
	`»ûiveMes§ge
(
outMsgs
, 
lšk
);

159 
d–‘e
 [] 
outMsgs
;

160 
	}
}

163 
	gBPNode
::
	$£ndAuxMes§ge
()

165 
BPLšk
 *
lšk
;

166 
BPFaùÜ
 *
çùÜ
;

167 
út
;

169 *
outMsgs
 = 
Ãw
 [2];

171 
lšdex
 = 0;†šdex < 
auxLšks_
->
	`size
();†index++)

173 
lšk
 = (*
auxLšks_
)[
lšdex
];

174 
çùÜ
 = 
lšk
->
	`g‘FaùÜ
();

175 
út
 = 
lšk
->
	`g‘CouÁ
();

176 
i
 = 0; i < 2; i++)

178 
outMsgs
[
i
] = 
msgProds_
[i];

182 
çùÜ
->
	`»ûiveMes§ge
(
outMsgs
, 
lšk
);

184 
d–‘e
 [] 
outMsgs
;

185 
	}
}

189 
	gBPNode
::
	$moveToNextS‹p
()

191 * 
msgs
;

192 * 
ÃxtMsgs
;

193 
út
;

196 
i
 = 0; i < 2; i++)

198 
msgProds_
[
i
] = 0;

203 
lšdex
 = 0;†šdex < 
lšks_
->
	`size
();†index++)

205 
msgs
 = (*
msgsA¼_
)[
lšdex
];

206 
ÃxtMsgs
 = (*
ÃxtMsgsA¼_
)[
lšdex
];

209 ià(
su³rP»d_
)

210 
út
 = 
su³rP»d_
->
	`g‘NumTu¶es
();

212 
út
 = 1;

214 
i
 = 0; i < 2; i++)

216 
msgs
[
i
] = 
ÃxtMsgs
[i];

217 
ÃxtMsgs
[
i
] = 0;

219 
msgProds_
[
i
] = msgProds_[i] + 
út
*
msgs
[i];

222 
	}
}

	@infer/bpnode.h

67 #iâdeà
_BPNODE_H_Jª_2008


68 
	#_BPNODE_H_Jª_2008


	)

70 
	~<m©h.h
>

71 
	~"ut.h
"

72 
	~"mrf.h
"

73 
	~"¬¿y.h
"

74 
	~"b¶šk.h
"

75 
	~"su³½»d.h
"

76 
	~"twowaymes§ge.h
"

77 
	~"bpçùÜ.h
"

79 cÚ¡ 
	gMIN
 = 1e-6;

80 cÚ¡ 
	gMINEXP
 = 
logl
(
MIN
);

82 cÚ¡ 
	gSMOOTHTERM
 = 1e-6;

84 
usšg
 
Çme¥aû
 
	g¡d
;

85 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

87 şas 
	cBPNode


89 
	mpublic
:

90 
BPNode
(
´edId
, 
Su³rP»d
 * cÚ¡ & 
su³rP»d
,

91 
A¼ay
<> * cÚ¡ & 
cÚ¡ªts
, 
Domaš
 * cÚ¡ & 
domaš
)

93 
	m´edId_
 = 
´edId
;

94 
	msu³rP»d_
 = 
su³rP»d
;

95 
	mcÚ¡ªts_
 = 
cÚ¡ªts
;

96 
	mdomaš_
 = 
domaš
;

97 
	mlšks_
 = 
Ãw
 
A¼ay
<
BPLšk
 *>();

98 
	mauxLšks_
 = 
Ãw
 
A¼ay
<
BPLšk
 *>();

99 
	mmsgsA¼_
 = 
Ãw
 
A¼ay
<*>();

100 
	mÃxtMsgsA¼_
 = 
Ãw
 
A¼ay
<*>();

101 
	mmsgProds_
[0] = 
msgProds_
[1] = 0;

104 ~
	$BPNode
()

106 
i
 = 0; i < 
lšks_
->
	`size
(); i++)

107 
	`d–‘e
 (*
lšks_
)[
i
];

108 
i
 = 0; i < 
auxLšks_
->
	`size
(); i++)

109 
	`d–‘e
 (*
auxLšks_
)[
i
];

110 
i
 = 0; i < 
msgsA¼_
->
	`size
(); i++)

112 
	`d–‘e
 (*
msgsA¼_
)[
i
];

113 
	`d–‘e
 (*
ÃxtMsgsA¼_
)[
i
];

115 
d–‘e
 
lšks_
;

116 
d–‘e
 
auxLšks_
;

117 
d–‘e
 
msgsA¼_
;

118 
d–‘e
 
ÃxtMsgsA¼_
;

119 
	}
}

121 
	$g‘P»dId
(è{  
´edId_
;
	}
}

123 
	$g‘Su³rP»dId
()

125 ià(
su³rP»d_
)

126  
su³rP»d_
->
	`g‘Su³rP»dId
();

129 
	}
}

131 
	$g‘P¬’tSu³rP»dId
()

133 ià(
su³rP»d_
)

134  
su³rP»d_
->
	`g‘P¬’tSu³rP»dId
();

137 
	}
}

139 
Su³rP»d
* 
	$g‘Su³rP»d
(è{ 
su³rP»d_
;
	}
}

140 
	gA¼ay
<> * 
	$g‘CÚ¡ªts
(è{ 
cÚ¡ªts_
;
	}
}

142 
	$g‘GroundNodeCouÁ
()

144 ià(
su³rP»d_
)

146  
su³rP»d_
->
	`g‘NumTu¶es
();

150 
	}
}

152 
	$g‘NumLšks
(è{  
lšks_
->
	`size
();
	}
}

154 
BPLšk
 * 
	$g‘Lšk
(
šdex
è{ (*
lšks_
)[šdex];
	}
}

156 
	$g‘Mes§ge
(
šdex
, 
msgs
[])

158 
msgs
[0] = (*
msgsA¼_
)[
šdex
][0];

159 
msgs
[1] = (*
msgsA¼_
)[
šdex
][1];

160 
	}
}

166 
	$addAuxLšk
(
BPLšk
 *
lšk
)

168 
auxLšks_
->
	`­³nd
(
lšk
);

169 
	}
}

175 
	$addLšk
(
BPLšk
 *
lšk
, 
špMsgs
[2])

177 
lšks_
->
	`­³nd
(
lšk
);

178 *
msgs
;

179 
msgs
 = 
Ãw
 [2];

181 
út
 = 
lšk
->
	`g‘CouÁ
();

182 
i
 = 0; i < 2; i++)

184 ià(
špMsgs
)

186 
msgs
[
i
] = 
špMsgs
[i];

190 
msgs
[
i
] = 0;

192 
msgProds_
[
i
] = msgProds_[i] + 
út
*
msgs
[i];

195 
msgsA¼_
->
	`­³nd
(
msgs
);

196 
msgs
 = 
Ãw
 [2];

197 
ÃxtMsgsA¼_
->
	`­³nd
(
msgs
);

198 
	}
}

202 
addFaùÜs
(
A¼ay
<
BPFaùÜ
 *> * cÚ¡ & 
®lFaùÜs
,

203 
LškIdToTwoWayMes§geM­
* cÚ¡ & 
lidToTWMsg
);

206 
	$»ûiveMes§ge
(* 
špMsgs
, 
BPLšk
 * cÚ¡ & 
lšk
)

208 *
ÃxtMsgs
;

209 
»v”£FaùÜIndex
 = 
lšk
->
	`g‘Rev”£FaùÜIndex
();

210 
ÃxtMsgs
 = (*
ÃxtMsgsA¼_
)[
»v”£FaùÜIndex
];

211 
ÃxtMsgs
[0] = 
špMsgs
[0];

212 
ÃxtMsgs
[1] = 
špMsgs
[1];

213 
	}
}

215 
	$g‘Exp
()

217 
exp
 = 
msgProds_
[1] - msgProds_[0];

218  
exp
;

219 
	}
}

225 * 
	$g‘Probs
(* cÚ¡ & 
´obs
)

227 
exps
[2];

228 
nÜm
, 
smoÙh
;

229 
exps
[0] = 0;

230 
exps
[1] = 
msgProds_
[1] - msgProds_[0];

232 
i
 = 0; i < 2; i++)

234 if(
exps
[
i
] < 
MINEXP
)

235 
exps
[
i
] = 
MINEXP
;

236 if(
exps
[
i
] > -
MINEXP
)

237 
exps
[
i
] = -
MINEXP
;

238 
´obs
[
i
] = 
	`ex¶
(
exps
[i]);

241 
nÜm
 = 
´obs
[0] +…robs[1];

242 
smoÙh
 = 
nÜm
*
SMOOTHTERM
;

243 
nÜm
 +ğ
smoÙh
;

245 
i
 = 0; i < 2 ; i++)

247 
´obs
[
i
] +ğ
smoÙh
/2;

248 
´obs
[
i
] =…robs[i]/
nÜm
;

250  
´obs
;

251 
	}
}

254 
£ndMes§ge
();

257 
£ndAuxMes§ge
();

260 
moveToNextS‹p
();

262 
	go¡»am
& 
	$´št
(
o¡»am
& 
out
)

264 
out
 << 
´edId_
 << ": ";

265 ià(
su³rP»d_
 !ğ
NULL
)

266 
	`´štA¼ay
(*(
su³rP»d_
->
	`g‘CÚ¡ªtTu¶e
(0)),
out
);

268 
	`´štA¼ay
(*
cÚ¡ªts_
,
out
);

269  
out
;

270 
	}
}

272 
	g´iv©e
:

274 
´edId_
;

278 
Su³rP»d
 * 
	gsu³rP»d_
;

279 
	gA¼ay
<> *
	gcÚ¡ªts_
;

281 
Domaš
 * 
	gdomaš_
;

283 
	gA¼ay
<
	gBPLšk
 *> * 
	glšks_
;

285 
	gA¼ay
<
	gBPLšk
 *> * 
	gauxLšks_
;

287 
	gA¼ay
<*> * 
	gmsgsA¼_
;

288 
	gA¼ay
<*> * 
	gÃxtMsgsA¼_
;

294 
	gmsgProds_
[2];

	@infer/bpparams.h

67 #iâdeà
BPPARAMS_H_


68 
	#BPPARAMS_H_


	)

70 
	~"šãrut.h
"

75 
	sBPP¬ams


78 
	mmaxS‹ps
;

80 
	mmaxSecÚds
;

82 
boŞ
 
	mliáed
;

84 
boŞ
 
	mu£HC
;

86 
boŞ
 
	mu£CT
;

89 
	mcÚv”g’ûTh»sh
;

91 
	mcÚv”geRequœedIŒCÁ
;

93 
boŞ
 
	mim¶ic™R•
;

95 
boŞ
 
	mouutN‘wÜk
;

97 
Hy³rCubeC»©eTy³
 
	mhcC»©eTy³
;

99 
	mhcC»©eNoi£
;

101 
	mÊcI‹r
;

103 
¡ršg
 
	mnoHCP»dsSŒ
;

	@infer/clausecounter.h

67 #iâdeà
_CLAUSE_COUNTER_H_DEC_2007


68 
	#_CLAUSE_COUNTER_H_DEC_2007


	)

70 
	~<ext/hash_£t
>

71 
	~<o¡»am
>

72 
	~"šãrut.h
"

74 
usšg
 
Çme¥aû
 
	g¡d
;

75 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

84 şas 
	cCÏu£CouÁ”
 {

86 
	mpublic
:

87 
	$CÏu£CouÁ”
() {

88 
idToIndex_
 = 
Ãw
 
	`IÁToIÁM­
();

89 
şau£Ids_
 = 
Ãw
 
A¼ay
<>;

90 
şau£CÁsA¼_
 = 
Ãw
 
A¼ay
<Array<>*>;

92 
dœty_
 = 
Œue
;

95 ~
	$CÏu£CouÁ”
(){

96 
d–‘e
 
idToIndex_
;

97 
d–‘e
 
şau£Ids_
;

98 
i
=0;i<
şau£CÁsA¼_
->
	`size
();i++) {

99 
	`d–‘e
 (*
şau£CÁsA¼_
)[
i
];

101 
d–‘e
 
şau£CÁsA¼_
;

102 
	}
}

104 
	$g‘NumCÏu£s
(){  
şau£Ids_
->
	`size
();
	}
}

107 cÚ¡ 
	gA¼ay
<> * 
	$g‘CÏu£Ids
(ècÚ¡ {  
şau£Ids_
;
	}
}

108 cÚ¡ 
	gA¼ay
<>* 
	$g‘CÏu£CouÁs
(
šdex
ècÚ¡ {  (*
şau£CÁsA¼_
)[šdex];
	}
}

110 
	$g‘CÏu£Id
(
šdex
è{  (*
şau£Ids_
)[šdex];
	}
}

112 
	$šüem’tCouÁ
(
şau£Id
, 
´edId
, 
şau£P»dCÁ
, 
út
) {

113 
šdex
;

114 
id
 = 
şau£Id
;

115 
A¼ay
<> *
şau£CÁs
;

117 
IÁToIÁM­
::
™”©Ü
 
™r
;

118 
™r
 = 
idToIndex_
->
	`fšd
(
id
);

120 if(
™r
 =ğ
idToIndex_
->
	`’d
()) {

121 
šdex
 = 
şau£Ids_
->
	`size
();

122 (*
idToIndex_
)[
id
] = 
šdex
;

123 
şau£Ids_
->
	`­³nd
(
id
);

125 
şau£CÁs
 = 
Ãw
 
A¼ay
<>();

127 
şau£CÁs
->
	`growToSize
(
şau£P»dCÁ
,0);

128 
şau£CÁsA¼_
->
	`­³nd
(
şau£CÁs
);

131 
šdex
 = (*
idToIndex_
)[
id
];

135 
şau£CÁs
 = (*
şau£CÁsA¼_
)[
šdex
];

137 (*
şau£CÁs
)[
´edId
] +ğ
út
;

138 
dœty_
 = 
Œue
;

139 
	}
}

141 
	$muÉlyCouÁs
(
sÿË
) {

142 
A¼ay
<> * 
şau£CÁs
;

143 
šdex
=0;šdex<
şau£Ids_
->
	`size
();index++) {

144 
şau£CÁs
 = (*
şau£CÁsA¼_
)[
šdex
];

145 
´edId
=0;´edId<
şau£CÁs
->
	`size
();predId++) {

146 (*
şau£CÁs
)[
´edId
] = (*şau£CÁs)[´edId] * 
sÿË
;

149 
	}
}

152 
size_t
 
	$g‘HashCode
() {

153 if(!
dœty_
)

154  
hashCode_
;

155 
IÁToIÁM­
::
™”©Ü
 
™r
;

156 
A¼ay
<> * 
şau£CÁs
;

158 
code
 = 1;

160 
šdex
=0;šdex<
şau£Ids_
->
	`size
();index++) {

161 
code
 = 31*cod+ (*
şau£Ids_
)[
šdex
];

162 
şau£CÁs
 = (*
şau£CÁsA¼_
)[
šdex
];

163 
´edId
=0;´edId<
şau£CÁs
->
	`size
();predId++) {

164 
code
 = 31*cod+ ()(*
şau£CÁs
)[
´edId
];

167 
dœty_
 = 
çl£
;

168 
hashCode_
 = (
size_t
)
code
;

169  
hashCode_
;

170 
	}
}

172 
	go¡»am
 & 
	$´št
(
o¡»am
 & 
out
) {

173 
šdex
=0;šdex<
şau£Ids_
->
	`size
();index++) {

174 
out
<<(*
şau£Ids_
)[
šdex
]<<" : ";

175 
	`´štA¼ay
(*(*
şau£CÁsA¼_
)[
šdex
], 
out
);

176 
out
<<" ** ";

178  
out
;

179 
	}
}

182 
	g´iv©e
:

183 
IÁToIÁM­
 *
idToIndex_
;

190 
	gA¼ay
<> * 
	gşau£Ids_
;

191 
	gA¼ay
<A¼ay<>*> * 
	gşau£CÁsA¼_
;

193 
boŞ
 
	gdœty_
;

194 
size_t
 
	ghashCode_
;

198 şas 
	cHashCÏu£CouÁ”


200 
	mpublic
:

201 
size_t
 
	$İ”©Ü
()(
CÏu£CouÁ”
 *
cc
) const {

202  
cc
->
	`g‘HashCode
();

204 
	}
};

207 şas 
	cEqu®CÏu£CouÁ”


209 
	mpublic
:

210 
boŞ
 
	$İ”©Ü
()(
CÏu£CouÁ”
 * cÚ¡ & 
cc1
, CÏu£CouÁ” * cÚ¡ & 
cc2
) const {

211 
boŞ
 
§me
;

212 cÚ¡ *
™ems1
, *
™ems2
;

215 cÚ¡ 
A¼ay
<> *
úts1
, *
úts2
;

217 
size1
, 
size2
;

219 
size1
 = 
cc1
->
	`g‘NumCÏu£s
();

220 
size2
 = 
cc2
->
	`g‘NumCÏu£s
();

222 if(
size1
 !ğ
size2
è 
çl£
;

225 
™ems1
 = (
cc1
->
	`g‘CÏu£Ids
())->
	`g‘I‹ms
();

226 
™ems2
 = (
cc2
->
	`g‘CÏu£Ids
())->
	`g‘I‹ms
();

228 
§me
 = 
	`memcmp
(
™ems1
, 
™ems2
, 
size1
*())==0;

229 if(!
§me
)

230  
§me
;

232 
•sÚ
 = 1e-6;

235 
šdex
=0;šdex<
size1
;index++) {

236 
úts1
 = 
cc1
->
	`g‘CÏu£CouÁs
(
šdex
);

237 
úts2
 = 
cc2
->
	`g‘CÏu£CouÁs
(
šdex
);

238 
i
=0;i<
úts1
->
	`size
();i++) {

239 if(((*
úts1
)[
i
] + 
•sÚ
 < (*
úts2
)[i])||

240 ((*
úts1
)[
i
] - 
•sÚ
 > (*
úts2
)[i]))

241  
çl£
;

256  
Œue
;

258 
	}
};

	@infer/convergencetest.h

66 #iâdeà
CONVERGENCETEST_H_SEP_30_2005


67 
	#CONVERGENCETEST_H_SEP_30_2005


	)

69 
	~<cm©h
>

70 
	~"m—nv¬Ÿnû.h
"

96 
šlše
 
	$NORMSINV
(
p
)

98 
a
[] = {-3.969683028665376e+01, 2.209460984245205e+02,

101 
b
[] = {-5.447609879822406e+01, 1.615858368580409e+02,

105 
c
[] = {-7.784894002430293e-03, -3.223964580411365e-01,

109 
d
[] = {7.784695709041462e-03, 3.224671290700398e-01,

113 
¶ow
 = 0.02425;

114 
phigh
 = 1 - 
¶ow
;

117 ià(
p
 < 
¶ow
)

119 
q
 = 
	`sq¹
(-2*
	`log
(
p
));

120  (((((
c
[0]*
q
+c[1])*q+c[2])*q+c[3])*q+c[4])*q+c[5]) /

121 ((((
d
[0]*
q
+d[1])*q+d[2])*q+d[3])*q+1);

125 ià(
phigh
 < 
p
)

127 
q
 = 
	`sq¹
(-2*
	`log
(1-
p
));

128  -(((((
c
[0]*
q
+c[1])*q+c[2])*q+c[3])*q+c[4])*q+c[5]) /

129 ((((
d
[0]*
q
+d[1])*q+d[2])*q+d[3])*q+1);

132 
q
 = 
p
 - 0.5;

133 
r
 = 
q
*q;

134  (((((
a
[0]*
r
+a[1])*r+a[2])*r+a[3])*r+a[4])*r+a[5])*
q
 /

135 (((((
b
[0]*
r
+b[1])*r+b[2])*r+b[3])*r+b[4])*r+1);

136 
	}
}

141 şas 
	cCÚv”g’ûTe¡


143 
	mpublic
:

146 
	$CÚv”g’ûTe¡
(cÚ¡ & 
numChašs
, cÚ¡ & 
gamma
,

147 cÚ¡ & 
•sÚF¿c
)

148 : 
	`numChašs_
(
numChašs
), 
	`chašTÙ®s_
(
Ãw
 [numChains]),

149 
	`tÙ®Ov”AÎChašs_
(0), 
	`numSam¶esP”Chaš_
(0),

150 
	`•sÚF¿c_
(
•sÚF¿c
), 
	$gamma_
(
gamma
)

152 
	`mem£t
(
chašTÙ®s_
, 0, 
numChašs_
*());

156 ~
	$CÚv”g’ûTe¡
(è{ 
d–‘e
 [] 
chašTÙ®s_
; 
	}
}

160 
	$­³ndNewV®ues
(cÚ¡ * cÚ¡ & 
v®ues
)

162 
i
 = 0; i < 
numChašs_
; i++)

164 
chašTÙ®s_
[
i
] +ğ
v®ues
[i];

165 
tÙ®Ov”AÎChašs_
 +ğ
v®ues
[
i
];

167 
numSam¶esP”Chaš_
++;

168 
	}
}

171 
	$­³ndNewV®ues
(cÚ¡ 
boŞ
* cÚ¡ & 
v®ues
)

173 
i
 = 0; i < 
numChašs_
; i++)

175 
chašTÙ®s_
[
i
] +ğ(()
v®ues
[i]);

176 
tÙ®Ov”AÎChašs_
 +ğ(()
v®ues
[
i
]);

178 
numSam¶esP”Chaš_
++;

179 
	}
}

183 
	$g‘CÚv”g’ûScÜe
()

190  
	`g‘V
(
	`sq¹
(()
numSam¶esP”Chaš_
)*
	`g‘S
()è/ 
numChašs_
;

191 
	}
}

194 
	$g‘NumSam¶esAdded
(ècÚ¡ {  
numSam¶esP”Chaš_
; 
	}
}

197 
boŞ
 
	$checkCÚv”g’ûOfAtL—¡
(
CÚv”g’ûTe¡
* 
‹¡s
[],

198 cÚ¡ & 
numTe¡s
,

199 cÚ¡ & 
th»shŞd
,

200 cÚ¡ & 
äacCÚv”ged
,

201 cÚ¡ 
boŞ
& 
´št
=
çl£
)

203 ià(
th»shŞd
 <ğ0è 
çl£
;

205 
numCÚv”ged
 = 0;

206 
numNÙCÚv”ged
 = 0;

207 
numBad
 = 0;

208 
f
 = 0; f < 
numTe¡s
; f++)

210 
scÜe
 = 
‹¡s
[
f
]->
	`g‘CÚv”g’ûScÜe
();

211 ià(!
	`fš™e
(
scÜe
))

212 
numBad
++;

215 ià(
scÜe
 > 
th»shŞd
)

216 
numNÙCÚv”ged
++;

218 
numCÚv”ged
++;

222 ià(
numCÚv”ged
 + 
numNÙCÚv”ged
 == 0)

224 ià(
´št
è
cout
 << "AÎ scÜe w”šàÜ‚ª!" << 
’dl
;

225  
çl£
;

229 
äac
 = (()
numCÚv”ged
è/ (numCÚv”ged+
numNÙCÚv”ged
);

230 ià(
´št
è
cout
 << " f¿ùiÚ cÚv”ged: " << 
äac
 << 
’dl
;

231 ià(
äac
 >ğ
äacCÚv”ged
è 
Œue
;

232  
çl£
;

234 
	}
}

237 
	g´iv©e
:

238 
	$g‘S
()

240 
m—nV¬_
.
	`»£t
();

241 
i
 = 0; i < 
numChašs_
; i++)

242 
m—nV¬_
.
	`­³ndV®ue
(
chašTÙ®s_
[
i
] / 
numSam¶esP”Chaš_
);

243  
	`sq¹
(
m—nV¬_
.
	`g‘V¬Ÿnû
());

244 
	}
}

247 
	$g‘V
(cÚ¡ & 
sigma
)

249 
švNÜm
 = 
	`NORMSINV
Ğ(
gamma_
+1)/2 );

250 
v®
 = 
švNÜm
 * 
sigma
 / 
•sÚF¿c_
;

251  
v®
*val;

252 
	}
}

255 
	g´iv©e
:

256 
numChašs_
;

257 * 
	gchašTÙ®s_
;

258 
	gtÙ®Ov”AÎChašs_
;

259 
	gnumSam¶esP”Chaš_
;

261 
	g•sÚF¿c_
;

262 
	ggamma_
;

264 
M—nV¬Ÿnû
 
	gm—nV¬_
;

	@infer/createhypercube.cpp

67 
	~<ext/hash_£t
>

68 
	~<ext/hash_m­
>

70 
	~"hy³rcube.h
"

71 
	~"hy³rcub”efšem’t.h
"

72 
	~"hy³rcubeİ”©iÚs.h
"

74 
usšg
 
Çme¥aû
 
	g¡d
;

75 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

81 
	gA¼ay
<
	gHy³rCube
 *> *
ü—‹Hy³rCubesBasic
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
tu¶eCÚ¡ªtsA¼
);

82 
	gA¼ay
<
	gHy³rCube
 *> *
ü—‹Hy³rCubesDT
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
tu¶eCÚ¡ªtsA¼
,

83 
noi£
);

88 
m”geHy³rCubes
(
A¼ay
<
Hy³rCube
 *> * cÚ¡ & 
špHy³rCubes
);

94 
	gA¼ay
<
	gHy³rCube
 *> *
	$ü—‹Hy³rCubes
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
tu¶eCÚ¡ªtsA¼
,

95 
Hy³rCubeC»©eTy³
 
ty³
,

96 
noi£
) {

97 if(
ty³
 =ğ
Basic
) {

98  
	`ü—‹Hy³rCubesBasic
(
tu¶eCÚ¡ªtsA¼
);

100 if(
ty³
 =ğ
DT
) {

101  
	`ü—‹Hy³rCubesDT
(
tu¶eCÚ¡ªtsA¼
,
noi£
);

103  
NULL
;

104 
	}
}

112 
	gA¼ay
<
	gHy³rCube
 *> *
ü—‹Com¶em’ryHy³rCubes
(
A¼ay
<
Hy³rCube
 *> * cÚ¡ & 
špHy³rCubes
,

113 
Hy³rCube
 * cÚ¡ & 
domašHy³rCube
) {

115 
Hy³rCube
 *
	gšpHy³rCube
, *
	gcom¶em’ryHy³rCube
;

116 
	gA¼ay
<
	gHy³rCube
 *> * 
	gmšusCompÚ’ts
;

118 
	gA¼ay
<
	gHy³rCube
 *> * 
	gcom¶em’ryHy³rCubes
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>();

120 
	gA¼ay
<
	gHy³rCube
 *> * 
	gmšusHy³rCubes
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>();

122 
	gcom¶em’ryHy³rCubes
->
­³nd
(
Ãw
 
Hy³rCube
(
domašHy³rCube
));

124 
	gi
=0;i<
	gšpHy³rCubes
->
size
();i++) {

125 
	gšpHy³rCube
 = (*
špHy³rCubes
)[
i
];

127 
	gj
=0;j<
	gcom¶em’ryHy³rCubes
->
size
();j++) {

128 
	gcom¶em’ryHy³rCube
 = (*
com¶em’ryHy³rCubes
)[
j
];

129 
	gmšusCompÚ’ts
 = 
com¶em’ryHy³rCube
->
g‘Mšus
(
špHy³rCube
);

130 
	gmšusHy³rCubes
->
­³nd
(*
mšusCompÚ’ts
);

131 
d–‘e
 
	gmšusCompÚ’ts
;

132 
d–‘e
 
	gcom¶em’ryHy³rCube
;

134 (*
	gcom¶em’ryHy³rCubes
èğ(*
mšusHy³rCubes
);

135 
	gmšusHy³rCubes
->
ş—r
();

138 
d–‘e
 
	gmšusHy³rCubes
;

140 
m”geHy³rCubes
(
com¶em’ryHy³rCubes
);

142  
	gcom¶em’ryHy³rCubes
;

	@infer/createhypercubebasic.cpp

67 
	~<ext/hash_£t
>

68 
	~<ext/hash_m­
>

70 
	~"hy³rcube.h
"

71 
	~"hy³rcub”efšem’t.h
"

73 
usšg
 
Çme¥aû
 
	g¡d
;

74 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

77 
IÁA¼ay
 * 
	g_deçuÉV¬CÚ¡ªts_
 = 
Ãw
 IntArray();

80 
»Œ›veIndexIŒ
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
,

81 
Hy³rCubeToHy³rCubeHashA¼ayM­
 * cÚ¡ & 
šdexToHy³rCubes
,

82 & 
v¬Id
,

83 
Hy³rCubeToHy³rCubeHashA¼ayM­
::
™”©Ü
 & 
™r
) {

85 
IÁA¼ay
 * 
ÜigV¬CÚ¡ªts
 = 
hy³rCube
->
g‘V¬CÚ¡ªts
(
v¬Id
);

87 
	ghy³rCube
->
£tV¬CÚ¡ªts
(
_deçuÉV¬CÚ¡ªts_
, 
v¬Id
);

88 
	g™r
 = 
šdexToHy³rCubes
->
fšd
(
hy³rCube
);

90 
	ghy³rCube
->
£tV¬CÚ¡ªts
(
ÜigV¬CÚ¡ªts
, 
v¬Id
);

124 
addHy³rCubeToIndex
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
,

125 
Hy³rCubeToHy³rCubeHashA¼ayM­
 * cÚ¡ & 
šdexToHy³rCubes
,

126 
Hy³rCubeHashA¼ay
 * cÚ¡ & 
šdiûsFÜM”ge
,

127 & 
v¬Id
,

128 
Hy³rCubeToHy³rCubeHashA¼ayM­
::
™”©Ü
 & 
™r
) {

133 
Hy³rCubeHashA¼ay
 *
hy³rCubes
;

134 
Hy³rCube
 *
	gšdex
;

135 
»Œ›veIndexIŒ
(
hy³rCube
, 
šdexToHy³rCubes
, 
v¬Id
, 
™r
);

136 if(
	g™r
 =ğ
šdexToHy³rCubes
->
’d
()) {

137 
šdex
 = 
Ãw
 
Hy³rCube
(
hy³rCube
);

139 
	gšdex
->
£tV¬CÚ¡ªtsAndD–‘eOld
(
Ãw
 
IÁA¼ay
(*
_deçuÉV¬CÚ¡ªts_
),
v¬Id
);

140 
	ghy³rCubes
 = 
Ãw
 
Hy³rCubeHashA¼ay
();

141 (*
	gšdexToHy³rCubes
)[
šdex
] = 
hy³rCubes
;

143 
	gšdex
 = 
™r
->
fœ¡
;

144 
	ghy³rCubes
 = 
™r
->
£cÚd
;

147 
	ghy³rCubes
->
­³nd
(
hy³rCube
);

148 if(
	ghy³rCubes
->
size
() >= 2) {

149 
šdiûsFÜM”ge
->
­³nd
(
šdex
);

155 
»moveHy³rCubeFromIndex
(
Hy³rCube
 * 
hy³rCube
,

156 
Hy³rCubeToHy³rCubeHashA¼ayM­
 * cÚ¡ & 
šdexToHy³rCubes
,

157 
Hy³rCubeHashA¼ay
 * cÚ¡ & 
šdiûsFÜM”ge
,

158 & 
v¬Id
,

159 
Hy³rCubeToHy³rCubeHashA¼ayM­
::
™”©Ü
 & 
™r
) {

163 
Hy³rCubeHashA¼ay
 *
hy³rCubes
;

164 
Hy³rCube
 *
	gšdex
;

165 
»Œ›veIndexIŒ
(
hy³rCube
, 
šdexToHy³rCubes
, 
v¬Id
, 
™r
);

166 
as£¹
(
™r
 !ğ
šdexToHy³rCubes
->
’d
());

167 
	gšdex
 = 
™r
->
fœ¡
;

168 
	ghy³rCubes
 = 
™r
->
£cÚd
;

170 
	ghy³rCubes
->
»moveIÅutI‹mFa¡DisÜd”
(
hy³rCube
);

175 if(
	ghy³rCubes
->
size
() < 2) {

176 
	gšdiûsFÜM”ge
->
»moveIÅutI‹mFa¡DisÜd”
(
šdex
);

180 if(
	ghy³rCubes
->
size
() < 1) {

181 
	gšdexToHy³rCubes
->
”a£
(
™r
);

182 
d–‘e
 
	ghy³rCubes
;

183 
d–‘e
 
	gšdex
;

201 
m”geHy³rCubes
(
A¼ay
<
Hy³rCube
 *> * cÚ¡ & 
špHy³rCubes
) {

203 if(
	gšpHy³rCubes
->
size
() ==0 )

206 
Hy³rCube
 *
	ghy³rCube
, *
	gšdex
;

208 
	ghy³rCube
 = (*
špHy³rCubes
)[0];

209 
	gv¬CÁ
 = 
hy³rCube
->
g‘V¬CouÁ
();

211 
	gA¼ay
<
	gHy³rCubeToHy³rCubeHashA¼ayM­
 *> *
	gšdexToHy³rCubesA¼
 = 
Ãw
 
A¼ay
<
Hy³rCubeToHy³rCubeHashA¼ayM­
 *>();

212 
	gHy³rCubeToHy³rCubeHashA¼ayM­
::
™”©Ü
 
™r
;

214 
	gA¼ay
<
	gHy³rCubeHashA¼ay
 *> *
	gšdiûsFÜM”geA¼
 = 
Ãw
 
A¼ay
<
Hy³rCubeHashA¼ay
*>();

216 
	gšdexToHy³rCubesA¼
->
growToSize
(
v¬CÁ
+1);

217 
	gšdiûsFÜM”geA¼
->
growToSize
(
v¬CÁ
+1);

218 
	gv¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

219 (*
	gšdexToHy³rCubesA¼
)[
v¬Id
] = 
Ãw
 
Hy³rCubeToHy³rCubeHashA¼ayM­
();

220 (*
	gšdiûsFÜM”geA¼
)[
v¬Id
] = 
Ãw
 
Hy³rCubeHashA¼ay
();

226 
	gi
=0;i<
	gšpHy³rCubes
->
size
();i++) {

227 
	ghy³rCube
 = (*
špHy³rCubes
)[
i
];

229 
	gv¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

230 
addHy³rCubeToIndex
(
hy³rCube
,(*
šdexToHy³rCubesA¼
)[
v¬Id
],(*
šdiûsFÜM”geA¼
)[v¬Id],v¬Id, 
™r
);

234 
Hy³rCubeHashA¼ay
 *
	ghy³rCubes
;

235 
Hy³rCube
 *
	ghy³rCube1
, *
	ghy³rCube2
;

236 
	gšdexV¬Id
;

239 
	gŒue
) {

240 
	gšdexV¬Id
 = -1;

241 
	gv¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

242 if((*
	gšdiûsFÜM”geA¼
)[
v¬Id
]->
size
() > 0) {

243 
	gšdexV¬Id
 = 
v¬Id
;

249 if(
	gšdexV¬Id
 < 0)

252 
	gšdex
 = (*(*
šdiûsFÜM”geA¼
)[
šdexV¬Id
])[0];

253 
	g™r
 = ((*
šdexToHy³rCubesA¼
)[
šdexV¬Id
])->
fšd
(
šdex
);

255 
	ghy³rCubes
 = 
™r
->
£cÚd
;

256 
	ghy³rCube1
 = (*
hy³rCubes
)[0];

257 
	ghy³rCube2
 = (*
hy³rCubes
)[1];

270 
	gv¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

271 
»moveHy³rCubeFromIndex
(
hy³rCube1
,(*
šdexToHy³rCubesA¼
)[
v¬Id
],(*
šdiûsFÜM”geA¼
)[varId],

272 
v¬Id
, 
™r
);

273 
»moveHy³rCubeFromIndex
(
hy³rCube2
,(*
šdexToHy³rCubesA¼
)[
v¬Id
],(*
šdiûsFÜM”geA¼
)[varId],

274 
v¬Id
, 
™r
);

277 
	ghy³rCube1
->
addV¬CÚ¡ªts
(
hy³rCube2
->
g‘V¬CÚ¡ªts
(
šdexV¬Id
), indexVarId);

278 
	ghy³rCube2
->
d–‘eV¬CÚ¡ªts
();

279 
d–‘e
 
	ghy³rCube2
;

283 
	gv¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

284 
addHy³rCubeToIndex
(
hy³rCube1
,(*
šdexToHy³rCubesA¼
)[
v¬Id
],(*
šdiûsFÜM”geA¼
)[v¬Id],v¬Id, 
™r
);

295 
	gA¼ay
<
	gHy³rCube
 *> *
	gm”gedHy³rCubes
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>();

297 
	ghút
 = 0;

300 
	g™r
 = ((*
šdexToHy³rCubesA¼
)[1])->
begš
();

301 
	g™r
 !ğ((*
šdexToHy³rCubesA¼
)[1])->
’d
();

302 
	g™r
++ ) {

304 
	ghy³rCubes
 = 
™r
->
£cÚd
;

305 
as£¹
(
hy³rCubes
->
size
() <= 1);

307 
	gi
=0;i<
	ghy³rCubes
->
size
();i++) {

308 
	ghút
++;

309 
	ghy³rCube
 = (*
hy³rCubes
)[
i
];

310 
	gm”gedHy³rCubes
->
­³nd
(
hy³rCube
);

324 
	gA¼ay
<
	gHy³rCube
 *> 
	gkeysA¼
;

326 
	gv¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

327 
	gkeysA¼
.
ş—r
();

328 
	g™r
 = ((*
šdexToHy³rCubesA¼
)[
v¬Id
])->
begš
();

329 
	g™r
 !ğ((*
šdexToHy³rCubesA¼
)[
v¬Id
])->
’d
();

330 
	g™r
++ ) {

331 
	gkeysA¼
.
­³nd
(
™r
->
fœ¡
);

332 
d–‘e
 
	g™r
->
	g£cÚd
;

334 
	gi
=0;i<
	gkeysA¼
.
size
();i++) {

335 
	gkeysA¼
[
i
]->
d–‘eV¬CÚ¡ªts
();

336 
d–‘e
 
	gkeysA¼
[
i
];

339 
d–‘e
 (*
šdexToHy³rCubesA¼
)[
v¬Id
];

340 
d–‘e
 (*
šdiûsFÜM”geA¼
)[
v¬Id
];

343 
d–‘e
 
	gšdexToHy³rCubesA¼
;

344 
d–‘e
 
	gšdiûsFÜM”geA¼
;

346 
	gšpHy³rCubes
->
ş—r
();

347 
	gšpHy³rCubes
->
­³nd
(*
m”gedHy³rCubes
);

358 
d–‘e
 
	gm”gedHy³rCubes
;

363 
	gA¼ay
<
	gHy³rCube
 *> *
	$ü—‹GroundHy³rCubes
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
tu¶eCÚ¡ªtsA¼
) {

364 if(
tu¶eCÚ¡ªtsA¼
->
	`size
() == 0)

365  
Ãw
 
A¼ay
<
Hy³rCube
 *>();

366 
A¼ay
<> * 
tu¶eCÚ¡ªts
;

367 
tu¶eCÚ¡ªts
 = (*
tu¶eCÚ¡ªtsA¼
)[0];

368 
Hy³rCube
 *
hy³rCube
;

369 
A¼ay
<
Hy³rCube
 *> *
hy³rCubes
 = 
Ãw
 Array<HyperCube *>();

371 
i
=0;i<
tu¶eCÚ¡ªtsA¼
->
	`size
();i++) {

372 
hy³rCube
 = 
Ãw
 
	`Hy³rCube
((*
tu¶eCÚ¡ªtsA¼
)[
i
]);

373 
hy³rCubes
->
	`­³nd
(
hy³rCube
);

375  
hy³rCubes
;

376 
	}
}

380 
	gA¼ay
<
	gHy³rCube
 *> *
	$ü—‹Hy³rCubesBasic
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
tu¶eCÚ¡ªtsA¼
) {

396 
A¼ay
<
Hy³rCube
 *> *
hy³rCubes
;

397 
hy³rCubes
 = 
	`ü—‹GroundHy³rCubes
(
tu¶eCÚ¡ªtsA¼
);

398 
	`m”geHy³rCubes
(
hy³rCubes
);

399  
hy³rCubes
;

400 
	}
}

	@infer/createhypercubedt.cpp

67 
	~<ext/hash_£t
>

68 
	~<ext/hash_m­
>

70 
	~"hashšt.h
"

71 
	~"šãrut.h
"

72 
	~"hy³rcube.h
"

73 
	~"hy³rcub”efšem’t.h
"

75 
usšg
 
Çme¥aû
 
	g¡d
;

76 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

81 
m”geHy³rCubes
(
A¼ay
<
Hy³rCube
 *> * cÚ¡ & 
špHy³rCubes
);

84 
IÁToIÁHashA¼ayM­
 * 
	$g‘Tu¶eIndex
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
tu¶eCÚ¡ªtsA¼
,

85 
v¬Id
) {

86 
IÁToIÁHashA¼ayM­
 * 
cÚ¡ªtToTu¶eIndiûs
 = 
Ãw
 
	`IÁToIÁHashA¼ayM­
();

87 
IÁA¼ay
 *
tu¶eCÚ¡ªts
;

88 
IÁHashA¼ay
 *
tu¶eIndiûs
;

89 
i
=0;i<
tu¶eCÚ¡ªtsA¼
->
	`size
();i++) {

90 
tu¶eCÚ¡ªts
 = (*
tu¶eCÚ¡ªtsA¼
)[
i
];

91 
cÚ¡ªt
 = (*
tu¶eCÚ¡ªts
)[
v¬Id
];

92 
tu¶eIndiûs
 = (*
cÚ¡ªtToTu¶eIndiûs
)[
cÚ¡ªt
];

93 if(
tu¶eIndiûs
 =ğ
NULL
) {

94 
tu¶eIndiûs
 = 
Ãw
 
	`IÁHashA¼ay
();

95 (*
cÚ¡ªtToTu¶eIndiûs
)[
cÚ¡ªt
] = 
tu¶eIndiûs
;

97 
tu¶eIndiûs
->
	`­³nd
(
i
);

99  
cÚ¡ªtToTu¶eIndiûs
;

100 
	}
}

102 
Hy³rCube
 * 
	$g‘BoundšgHy³rCube
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
tu¶eCÚ¡ªtsA¼
) {

103 if(
tu¶eCÚ¡ªtsA¼
->
	`size
() == 0)

104  
NULL
;

106 
IÁA¼ay
 * 
tu¶eCÚ¡ªts
;

108 
tu¶eCÚ¡ªts
 = (*
tu¶eCÚ¡ªtsA¼
)[0];

109 
v¬CÁ
 = 
tu¶eCÚ¡ªts
->
	`size
()-1;

110 
Hy³rCube
 *
boundšgHy³rCube
 = 
Ãw
 
	`Hy³rCube
(
v¬CÁ
);

112 
A¼ay
<> *
v¬CÚ¡ªts
;

113 
A¼ay
<> *
tmpA¼
 = 
Ãw
 Array<>();

115 
v¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

116 
v¬CÚ¡ªts
 = 
Ãw
 
A¼ay
<>();

117 
i
=0;i<
tu¶eCÚ¡ªtsA¼
->
	`size
();i++) {

118 
tu¶eCÚ¡ªts
 = (*
tu¶eCÚ¡ªtsA¼
)[
i
];

119 
cÚ¡ªt
 = (*
tu¶eCÚ¡ªts
)[
v¬Id
];

120 
tmpA¼
->
	`ş—r
();

121 
tmpA¼
->
	`­³nd
(
cÚ¡ªt
);

122 
	`uniÚA¼ayK“pOrd”
(
v¬CÚ¡ªts
,
tmpA¼
);

124 
boundšgHy³rCube
->
	`£tV¬CÚ¡ªts
(
v¬CÚ¡ªts
,
v¬Id
);

126 
d–‘e
 
tmpA¼
;

127  
boundšgHy³rCube
;

128 
	}
}

131 
pİuÏ‹MoveOdds
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
,

132 
IÁToIÁHashA¼ayM­
 * cÚ¡ & 
cÚ¡ªtToTu¶eIndiûs
,

133 
A¼ay
<> * cÚ¡ & 
moveOdds
, 
¥l™V¬Id
) {

135 
	gA¼ay
<> *
	gv¬CÚ¡ªts
 = 
hy³rCube
->
g‘V¬CÚ¡ªts
(
¥l™V¬Id
);

136 
IÁHashA¼ay
 *
	gtu¶eIndiûs
;

140 
	gd©aMoveCÁ
 = (
hy³rCube
->
g‘NumTu¶es
())/
v¬CÚ¡ªts
->
size
();

141 
	gtu¶eMoveCÁ
;

143 
	gi
=0;i<
	gv¬CÚ¡ªts
->
size
();i++) {

144 
	gcÚ¡ªt
 = (*
v¬CÚ¡ªts
)[
i
];

145 
	gtu¶eIndiûs
 = (*
cÚ¡ªtToTu¶eIndiûs
)[
cÚ¡ªt
];

146 if(
	gtu¶eIndiûs
 =ğ
NULL
) {

147 
tu¶eMoveCÁ
 = 0;

149 
	gtu¶eMoveCÁ
 = 
tu¶eIndiûs
->
size
();

151 
	gmoveOdds
->
­³nd
((()
tu¶eMoveCÁ
)/
d©aMoveCÁ
);

156 
ü—‹Hy³rCubes
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
,

157 
IÁA¼ayHashA¼ay
 * cÚ¡ & 
tu¶eCÚ¡ªtsA¼
,

158 
A¼ay
<
Hy³rCube
 *> * cÚ¡ & 
hy³rCubes
,

159 
noi£
) {

171 
	gv¬CÁ
 = 
hy³rCube
->
g‘V¬CouÁ
();

172 
	gtu¶eCÁ
 = 
tu¶eCÚ¡ªtsA¼
->
size
();

173 
	ghcNumTu¶es
 = 
hy³rCube
->
g‘NumTu¶es
();

175 
	gnoi£R©io
 = 
noi£
/
hcNumTu¶es
;

179 
	gşassOdd
 = (0.0+
tu¶eCÁ
)/
hcNumTu¶es
;

196 if((
	gşassOdd
-
	gnoi£R©io
 <ğ0è||(
şassOdd
+
noi£R©io
 >= 1)) {

198 if(
tu¶eCÁ
 > 
hcNumTu¶es
/2) {

199 
hy³rCubes
->
­³nd
(
Ãw
 
Hy³rCube
(
hy³rCube
));

213 
IÁToIÁHashA¼ayM­
 *
	gcÚ¡ªtToTu¶eIndiûs
;

214 
	gA¼ay
<> *
	gbe¡MoveOdds
 = 
NULL
;

215 
	gA¼ay
<> *
	gmoveOdds
;

217 
	gtÙ®Odd
 = 0;

218 
	gbe¡TÙ®Odd
 = 0;

219 
	gbe¡V¬Id
 = -1;

221 
	gv¬Id
 = 1; v¬Id <ğ
v¬CÁ
; varId++) {

223 
	gmoveOdds
 = 
Ãw
 
A¼ay
<>();

225 if(
	ghy³rCube
->
g‘V¬CÚ¡ªtCouÁ
(
v¬Id
) <= 1)

228 
	gtÙ®Odd
 = 0;

229 
	gcÚ¡ªtToTu¶eIndiûs
 = 
g‘Tu¶eIndex
(
tu¶eCÚ¡ªtsA¼
, 
v¬Id
);

230 
pİuÏ‹MoveOdds
(
hy³rCube
, 
cÚ¡ªtToTu¶eIndiûs
, 
moveOdds
, 
v¬Id
);

232 
	gi
=0;i<
	gmoveOdds
->
size
();i++) {

233 if((*
	gmoveOdds
)[
i
] > 
	gşassOdd
)

234 
	gtÙ®Odd
 +ğ(*
moveOdds
)[
i
];

237 if(!
	gbe¡MoveOdds
 || 
	gbe¡TÙ®Odd
 <ğ
tÙ®Odd
) {

238 
be¡TÙ®Odd
 = 
tÙ®Odd
;

239 
	gbe¡V¬Id
 = 
v¬Id
;

240 if(
	gbe¡MoveOdds
)

241 
d–‘e
 
	gbe¡MoveOdds
;

242 
	gbe¡MoveOdds
 = 
moveOdds
;

244 
d–‘e
 
	gmoveOdds
;

247 
	gIÁToIÁHashA¼ayM­
::
™”©Ü
 
™r
;

248 
	g™r
 = 
cÚ¡ªtToTu¶eIndiûs
->
begš
(); iŒ !ğcÚ¡ªtToTu¶eIndiûs->
’d
();itr++) {

249 
d–‘e
 
	g™r
->
	g£cÚd
;

251 
d–‘e
 
	gcÚ¡ªtToTu¶eIndiûs
;

254 
	g¥l™V¬Id
 = 
be¡V¬Id
;

255 
	gmoveOdds
 = 
be¡MoveOdds
;

257 
	gA¼ay
<> *
	gv¬CÚ¡ªts
 = 
hy³rCube
->
g‘V¬CÚ¡ªts
(
¥l™V¬Id
);

258 
	gA¼ay
<> *
	gmovedV¬CÚ¡ªts
 = 
Ãw
 
A¼ay
<>();

260 
	gi
=0;i<
	gmoveOdds
->
size
();i++) {

261 if((*
	gmoveOdds
)[
i
] > 
	gşassOdd
) {

262 
	gmovedV¬CÚ¡ªts
->
­³nd
((*
v¬CÚ¡ªts
)[
i
]);

267 if(
	gmovedV¬CÚ¡ªts
->
size
() == 0) {

268 
i
=0;
	gi
<
	gv¬CÚ¡ªts
->
size
()/2;i++) {

269 
	gmovedV¬CÚ¡ªts
->
­³nd
((*
v¬CÚ¡ªts
)[
i
]);

280 
Hy³rCube
 * 
	gchdHy³rCube
;

281 
IÁA¼ayHashA¼ay
 *
	gchdTu¶eCÚ¡ªtsA¼
;

282 
IÁA¼ay
 *
	gtu¶eCÚ¡ªts
;

293 
	gi
=0;i<2;i++) {

294 
	gchdHy³rCube
 = 
Ãw
 
Hy³rCube
(
hy³rCube
);

295 
	gchdTu¶eCÚ¡ªtsA¼
 = 
Ãw
 
IÁA¼ayHashA¼ay
();

297 
	gv¬CÚ¡ªts
 = 
chdHy³rCube
->
g‘V¬CÚ¡ªts
(
¥l™V¬Id
);

303 if(
	gi
 == 0) {

304 
v¬CÚ¡ªts
->
ş—r
();

305 
	gv¬CÚ¡ªts
->
­³nd
(*
movedV¬CÚ¡ªts
);

307 
subŒaùA¼ayK“pOrd”
(
v¬CÚ¡ªts
, 
movedV¬CÚ¡ªts
);

318 
	gi
=0;i<
	gtu¶eCÚ¡ªtsA¼
->
size
();i++) {

319 
	gtu¶eCÚ¡ªts
 = (*
tu¶eCÚ¡ªtsA¼
)[
i
];

320 
	gcÚ¡ªt
 = (*
tu¶eCÚ¡ªts
)[
¥l™V¬Id
];

322 if(
Üd”edA¼ayFšd
(
v¬CÚ¡ªts
,
cÚ¡ªt
) >= 0) {

324 
chdTu¶eCÚ¡ªtsA¼
->
­³nd
(
tu¶eCÚ¡ªts
);

328 
ü—‹Hy³rCubes
(
chdHy³rCube
,
chdTu¶eCÚ¡ªtsA¼
,
hy³rCubes
, 
noi£
);

329 
d–‘e
 
	gchdHy³rCube
;

330 
d–‘e
 
	gchdTu¶eCÚ¡ªtsA¼
;

335 
d–‘e
 
	gmovedV¬CÚ¡ªts
;

336 
d–‘e
 
	gmoveOdds
;

341 
	gA¼ay
<
	gHy³rCube
 *> *
	$ü—‹Hy³rCubesDT
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
tu¶eCÚ¡ªtsA¼
,

342 
noi£
) {

344 
A¼ay
<
Hy³rCube
 *> *
hy³rCubes
 = 
Ãw
 Array<HyperCube *>();

345 
Hy³rCube
 *
boundšgHy³rCube
 = 
	`g‘BoundšgHy³rCube
(
tu¶eCÚ¡ªtsA¼
);

350 
	`ü—‹Hy³rCubes
(
boundšgHy³rCube
, 
tu¶eCÚ¡ªtsA¼
, 
hy³rCubes
, 
noi£
);

351 
d–‘e
 
boundšgHy³rCube
;

366 
	`m”geHy³rCubes
(
hy³rCubes
);

368  
hy³rCubes
;

369 
	}
}

	@infer/factor.cpp

67 
	~"çùÜ.h
"

73 
boŞ
 
	gFaùÜ
::
isAµroxN‘wÜk__
 = 
çl£
;

75 
	gFaùÜ
::
	$£tIsAµroxN‘wÜk
(
boŞ
 
v®
)

77 
isAµroxN‘wÜk__
 = 
v®
;

78 
	}
}

82 
	gFaùÜ
::
	$š™FaùÜMess§ges
()

84 
P»diÿ‹
 *
´ed
;

85 
numP»ds
 = 
şau£_
->
	`g‘NumP»diÿ‹s
();

86 
¡©eCÁ
 = ()
	`pow
(2.0, 
numP»ds
);

87 
çùÜMsgs_
 = 
Ãw
 [
¡©eCÁ
];

88 
boŞ
 
isS©isf›d
;

89 
¡©e
 = 0; s‹ < 
¡©eCÁ
; state++)

91 
isS©isf›d
 = 
çl£
;

92 
´edno
 = 0;…»dnØ< 
numP»ds
;…redno++)

94 
´ed
 = 
şau£_
->
	`g‘P»diÿ‹
(
´edno
);

95 
boŞ
 
´edB™
 = 
¡©e
 & (1<<
´edno
);

96 ià(
´ed
->
	`g‘S’£
(è=ğ
´edB™
)

98 
isS©isf›d
 = 
Œue
;

103 ià(
isS©isf›d
)

107 
çùÜMsgs_
[
¡©e
] = 
şau£_
->
	`g‘Wt
();

111 
çùÜMsgs_
[
¡©e
] = 0;

114 
	}
}

118 * 
	gFaùÜ
::
	$muÉlyMes§gesAndSumOut
(
špP»dIndex
) {

120 
numP»ds
 = 
şau£_
->
	`g‘NumP»diÿ‹s
();

121 
¡©eCÁ
 = ()
	`pow
(2.0,
numP»ds
);

122 * 
´odMsgs
 = 
Ãw
 [
¡©eCÁ
];

124 
Node
 *
node
;

126 *
gndNodeCÁs
 = 
NULL
;

131 
isAµroxN‘wÜk__
 = 
çl£
;

132 if(
isAµroxN‘wÜk__
) {

133 
gndNodeCÁs
 = 
Ãw
 [
numP»ds
];

134 
´edno
=0;´edno<
numP»ds
;predno++)

135 
gndNodeCÁs
[
´edno
] = 0;

137 
Êo
=0;Êo<
lšks_
->
	`size
();lno++) {

138 
´edIndex
 = (*
lšks_
)[
Êo
]->
	`g‘P»dIndex
();

139 
node
 = (*
lšks_
)[
Êo
]->
	`g‘Node
();

140 
gndNodeCÁs
[
´edIndex
] +ğ
node
->
	`g‘GroundNodeCouÁ
();

145 
¡©e
=0;¡©e<
¡©eCÁ
;state++)

146 
´odMsgs
[
¡©e
] = 
çùÜMsgs_
[state];

148 if(!
aùiÚ_
)

150 
Êo
=0;Êo<
lšks_
->
	`size
();lno++) {

151 
´edIndex
 = (*
lšks_
)[
Êo
]->
	`g‘P»dIndex
();

152 if(
´edIndex
 =ğ
špP»dIndex
)

155 
node
 = (*
lšks_
)[
Êo
]->
	`g‘Node
();

156 
wt
;

162 if(
isAµroxN‘wÜk__
) {

163 
	`as£¹
(
gndNodeCÁs
[
´edIndex
] != 0);

164 
wt
 = 
node
->
	`g‘GroundNodeCouÁ
()/
gndNodeCÁs
[
´edIndex
];

166 
wt
 = 1;

169 
¡©e
=0;¡©e<
¡©eCÁ
;state++) {

170 
boŞ
 
´edB™
 = 
¡©e
 & (1<<
´edIndex
);

171 if(
´edB™
) {

172 
´odMsgs
[
¡©e
] +ğ(*
msgsA¼_
)[
Êo
][1]*
wt
;

174 
´odMsgs
[
¡©e
] +ğ(*
msgsA¼_
)[
Êo
][0]*
wt
;

185 *
outMsgs
 = 
Ãw
 [2];

186 
maxMsgs
[2];

187 
maxMsgs
[0] = maxMsgs[1] = 0;

188 
boŞ
 
fœ¡Time
[2];

189 
fœ¡Time
[0] = fœ¡Time[1] = 
Œue
;

200 
¡©e
=0;¡©e<
¡©eCÁ
;state++) {

201 
boŞ
 
´edB™
 = 
¡©e
 & (1<<
špP»dIndex
);

202 if(
´edB™
 && (
maxMsgs
[1] < 
´odMsgs
[
¡©e
] || 
fœ¡Time
[1])) {

203 
fœ¡Time
[1] = 
çl£
;

204 
maxMsgs
[1] = 
´odMsgs
[
¡©e
];

207 if(!
´edB™
 && (
maxMsgs
[0] < 
´odMsgs
[
¡©e
] || 
fœ¡Time
[0])) {

208 
fœ¡Time
[0] = 
çl£
;

209 
maxMsgs
[0] = 
´odMsgs
[
¡©e
];

213 
outMsgs
[0] = outMsgs[1] = 0;

214 
¡©e
=0;¡©e<
¡©eCÁ
;state++) {

215 
boŞ
 
´edB™
 = 
¡©e
 & (1<<
špP»dIndex
);

221 if(
´edB™
)

222 
outMsgs
[1] +ğ
	`ex¶
(
´odMsgs
[
¡©e
] - 
maxMsgs
[1]);

224 
outMsgs
[0] +ğ
	`ex¶
(
´odMsgs
[
¡©e
] - 
maxMsgs
[0]);

228 
outMsgs
[1] = 
maxMsgs
[1] + 
	`logl
(outMsgs[1]);

229 
outMsgs
[0] = 
maxMsgs
[0] + 
	`logl
(outMsgs[0]);

230 
outMsgs
[1] = outMsgs[1] - outMsgs[0];

231 
outMsgs
[0] = 0;

234 
d–‘e
 [] 
´odMsgs
;

235 if(
isAµroxN‘wÜk__
)

236 
d–‘e
 [] 
gndNodeCÁs
;

238  
outMsgs
;

239 
	}
}

242 
	gFaùÜ
::
	$£ndMes§ge
()

244 *
outMsgs
 = 
NULL
;

245 
Lšk
 *
lšk
;

246 
Node
 *
node
;

247 
´edIndex
;

248 
lšdex
 = 0;†šdex < 
lšks_
->
	`size
();†index++)

250 
lšk
 = (*
lšks_
)[
lšdex
];

251 
node
 = 
lšk
->
	`g‘Node
();

252 
´edIndex
 = 
lšk
->
	`g‘P»dIndex
();

254 
outMsgs
 = 
	`muÉlyMes§gesAndSumOut
(
´edIndex
);

256 
node
->
	`»ûiveMes§ge
(
outMsgs
, 
lšk
);

257 
d–‘e
 [] 
outMsgs
;

259 
	}
}

262 
	gFaùÜ
::
	$moveToNextS‹p
()

264 * 
msgs
;

265 * 
ÃxtMsgs
;

269 
lšdex
 = 0;lšdex < 
lšks_
->
	`size
();†index++)

271 
msgs
 = (*
msgsA¼_
)[
lšdex
];

272 
ÃxtMsgs
 = (*
ÃxtMsgsA¼_
)[
lšdex
];

273 
i
 = 0; i < 2; i++)

275 
msgs
[
i
] = 
ÃxtMsgs
[i];

277 
ÃxtMsgs
[
i
] = 0;

280 
	}
}

282 
	gFaùÜ
::
gNeighbÜsS’dReûive
(
£t
<
FaùÜ
*> &
£ndFaùÜs
,

283 
£t
<
FaùÜ
*> &
»ûiveFaùÜs
,

284 
£t
<
Node
*> &
£ndNodes
,

285 
£t
<
Node
*> &
»ûiveNodes
)

291 
Node
* 
	gnode
;

292 
	glšdex
 = 0;†šdex < 
	glšks_
->
size
();†index++)

294 
	gnode
 = (*
lšks_
)[
lšdex
]->
g‘Node
();

295 
	g£ndNodes
.
š£¹
(
node
);

296 
	g»ûiveNodes
.
š£¹
(
node
);

297 
	gnode
->
gNeighbÜsS’d
(
£ndFaùÜs
, 
»ûiveFaùÜs
, 
»ûiveNodes
);

301 
	gFaùÜ
::
gNeighbÜsS’dReûive
(
li¡
<
FaùÜ
*> &
£ndFaùÜs
,

302 
li¡
<
FaùÜ
*> &
»ûiveFaùÜs
,

303 
li¡
<
Node
*> &
£ndNodes
,

304 
li¡
<
Node
*> &
»ûiveNodes
)

310 
Node
* 
	gnode
;

311 
	glšdex
 = 0;†šdex < 
	glšks_
->
size
();†index++)

313 
	gnode
 = (*
lšks_
)[
lšdex
]->
g‘Node
();

314 
	g£ndNodes
.
push_back
(
node
);

315 
	g»ûiveNodes
.
push_back
(
node
);

316 
	gnode
->
gNeighbÜsS’d
(
£ndFaùÜs
, 
»ûiveFaùÜs
, 
»ûiveNodes
);

320 
	gFaùÜ
::
gNeighbÜsReûive
(
£t
<
Node
*> &
»ûiveNodes
)

326 
Node
* 
node
;

327 
	glšdex
 = 0;†šdex < 
	glšks_
->
size
();†index++)

329 
	gnode
 = (*
lšks_
)[
lšdex
]->
g‘Node
();

330 
	g»ûiveNodes
.
š£¹
(
node
);

334 
	gFaùÜ
::
gNeighbÜsReûive
(
li¡
<
Node
*> &
»ûiveNodes
)

340 
Node
* 
node
;

341 
	glšdex
 = 0;†šdex < 
	glšks_
->
size
();†index++)

343 
	gnode
 = (*
lšks_
)[
lšdex
]->
g‘Node
();

344 
	g»ûiveNodes
.
push_back
(
node
);

353 
	go¡»am
& 
	gFaùÜ
::
	$´št
(
o¡»am
& 
out
)

367 
i
 = 0; i < 
lšks_
->
	`size
(); i++)

369 (*
lšks_
)[
i
]->
	`g‘Node
()->
	`´št
(
out
);

370 ià(
i
 !ğ
lšks_
->
	`size
(è- 1è
out
 << "/ ";

373  
out
;

374 
	}
}

379 
	go¡»am
& 
	gFaùÜ
::
	$´štWts
(
o¡»am
& 
out
)

381 
i
 = 0; i < ()
	`pow
(2.0, 
şau£_
->
	`g‘NumP»diÿ‹s
()); i++)

383 
out
 << 
çùÜMsgs_
[
i
] * 
ouutWt_
 << " ";

386  
out
;

387 
	}
}

	@infer/factor.h

67 #iâdeà
_FACTOR_H_Jª_2008


68 
	#_FACTOR_H_Jª_2008


	)

70 
	~<m©h.h
>

71 
	~"ut.h
"

72 
	~"mrf.h
"

73 
	~"¬¿y.h
"

74 
	~"lšk.h
"

75 
	~"node.h
"

76 
	~"su³rşau£.h
"

78 cÚ¡ 
	gACTION_WT
 = 20.0;

80 
usšg
 
Çme¥aû
 
	g¡d
;

81 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

86 şas 
	cFaùÜ


88 
	mpublic
:

93 
FaùÜ
(
CÏu£
 * cÚ¡ & 
şau£
, 
Su³rCÏu£
 * cÚ¡ & 
su³rCÏu£
,

94 
A¼ay
<> * cÚ¡ & 
cÚ¡ªts
, 
Domaš
 * cÚ¡ & 
domaš
,

95 
ouutWt
)

97 
	mşau£_
 = 
şau£
;

98 
	msu³rCÏu£_
 = 
su³rCÏu£
;

99 
	mcÚ¡ªts_
 = 
cÚ¡ªts
;

100 
	mdomaš_
 = 
domaš
;

102 
	mmsgsA¼_
 = 
Ãw
 
A¼ay
<*>;

103 
	mÃxtMsgsA¼_
 = 
Ãw
 
A¼ay
<*>;

104 
	mlšks_
 = 
Ãw
 
A¼ay
<
Lšk
 *>();

105 
	mouutWt_
 = 
ouutWt
;

106 
š™FaùÜMess§ges
();

108 
	maùiÚ_
 = 
çl£
;

109 
	maùiÚV®ue_
 = 
Œue
;

111 
	mggedS’d_
 = 
çl£
;

112 
	mggedReûive_
 = 
çl£
;

118 
	$FaùÜ
()

120 
lšks_
 = 
Ãw
 
A¼ay
<
Lšk
 *>();

121 
msgsA¼_
 = 
Ãw
 
A¼ay
<*>;

123 
aùiÚ_
 = 
çl£
;

124 
aùiÚV®ue_
 = 
Œue
;

126 
ggedS’d_
 = 
çl£
;

127 
ggedReûive_
 = 
çl£
;

128 
	}
}

133 ~
	$FaùÜ
()

135 
i
 = 0; i < 
msgsA¼_
->
	`size
(); i++)

137 
	`d–‘e
 (*
msgsA¼_
)[
i
];

138 
	`d–‘e
 (*
ÃxtMsgsA¼_
)[
i
];

140 
d–‘e
 
lšks_
;

141 
d–‘e
 
msgsA¼_
;

142 
d–‘e
 
ÃxtMsgsA¼_
;

143 
	}
}

149 
š™FaùÜMess§ges
();

154 
	$g‘Su³rCÏu£Id
()

156 ià(
su³rCÏu£_
)

157  
su³rCÏu£_
->
	`g‘Su³rCÏu£Id
();

160 
	}
}

165 
	$g‘P¬’tSu³rCÏu£Id
()

167 ifĞ
su³rCÏu£_
)

168  
su³rCÏu£_
->
	`g‘P¬’tSu³rCÏu£Id
();

171 
	}
}

176 
Su³rCÏu£
* 
	$g‘Su³rCÏu£
(è{ 
su³rCÏu£_
;
	}
}

181 
CÏu£
 * 
	$g‘CÏu£
(è{ 
şau£_
;
	}
}

186 
Domaš
 *
	$g‘Domaš
(è{ 
domaš_
;
	}
}

191 
	gA¼ay
<> * 
	$g‘CÚ¡ªts
(è{ 
cÚ¡ªts_
;
	}
}

197 
	$g‘NumLšks
(è{ 
lšks_
->
	`size
();
	}
}

203 
Lšk
* 
	$g‘Lšk
(cÚ¡ & 
šdex
è{ (*
lšks_
)[šdex];
	}
}

212 
	$g‘Mes§ge
(
šdex
, 
msgs
[])

214 
msgs
[0] = (*
msgsA¼_
)[
šdex
][0];

215 
msgs
[1] = (*
msgsA¼_
)[
šdex
][1];

216 
	}
}

226 
	$addLšk
(
Lšk
 *
lšk
, 
špMsgs
[2])

228 
lšks_
->
	`­³nd
(
lšk
);

229 *
msgs
;

230 
msgs
 = 
Ãw
 [2];

232 ià(
špMsgs
)

234 
msgs
[0] = 
špMsgs
[0];

235 
msgs
[1] = 
špMsgs
[1];

239 
msgs
[0] = msgs[1] = 0;

241 
msgsA¼_
->
	`­³nd
(
msgs
);

242 
msgs
 = 
Ãw
 [2];

243 
ÃxtMsgsA¼_
->
	`­³nd
(
msgs
);

244 
	}
}

249 
	$»ûiveMes§ge
(* 
špMsgs
, 
Lšk
 *
lšk
)

251 *
ÃxtMsgs
;

252 
»v”£NodeIndex
 = 
lšk
->
	`g‘Rev”£NodeIndex
();

253 
ÃxtMsgs
 = (*
ÃxtMsgsA¼_
)[
»v”£NodeIndex
];

254 
ÃxtMsgs
[0] = 
špMsgs
[0];

255 
ÃxtMsgs
[1] = 
špMsgs
[1];

256 
	}
}

261 * 
muÉlyMes§gesAndSumOut
(
´edIndex
);

266 
£ndMes§ge
();

271 
moveToNextS‹p
();

273 
	go¡»am
& 
´št
(
o¡»am
& 
out
);

275 
boŞ
 
	$isAùiÚ
(è{  
aùiÚ_
; 
	}
}

277 
boŞ
 
	$g‘AùiÚV®ue
(è{  
aùiÚV®ue_
; 
	}
}

279 
	$æ
()

281 
aùiÚV®ue_
 = !actionValue_;

282 
çùÜMsgs_
[
aùiÚV®ue_
] = 
şau£_
->
	`g‘Wt
();

283 
çùÜMsgs_
[!
aùiÚV®ue_
] = 0.0;

284 
	}
}

287 
Node
* 
	$g‘AùiÚNode
()

289 ià(!
aùiÚ_
)

291 
cout
 << "NOT AN ACTION FACTOR." << 
’dl
;

292 
	`ex™
(1);

294  (*
lšks_
)[0]->
	`g‘Node
();

295 
	}
}

297 
	$£tAùiÚ
()

300 
aùiÚ_
 = 
Œue
;

301 
aùiÚV®ue_
 = 
Œue
;

302 
şau£_
->
	`£tWt
(
ACTION_WT
);

303 
çùÜMsgs_
[
aùiÚV®ue_
] = 
şau£_
->
	`g‘Wt
();

304 
çùÜMsgs_
[!
aùiÚV®ue_
] = 0.0;

305 
	}
}

308 
gNeighbÜsS’dReûive
(
£t
<
FaùÜ
*> &
£ndFaùÜs
,

309 
£t
<
FaùÜ
*> &
»ûiveFaùÜs
,

310 
£t
<
Node
*> &
£ndNodes
,

311 
£t
<
Node
*> &
»ûiveNodes
);

312 
gNeighbÜsS’dReûive
(
li¡
<
FaùÜ
*> &
£ndFaùÜs
,

313 
li¡
<
FaùÜ
*> &
»ûiveFaùÜs
,

314 
li¡
<
Node
*> &
£ndNodes
,

315 
li¡
<
Node
*> &
»ûiveNodes
);

318 
gNeighbÜsReûive
(
£t
<
Node
*> &
»ûiveNodes
);

319 
gNeighbÜsReûive
(
li¡
<
Node
*> &
»ûiveNodes
);

321 
	$»£tTags
()

323 
ggedS’d_
 = 
çl£
;

324 
ggedReûive_
 = 
çl£
;

325 
	}
}

327 
£tIsAµroxN‘wÜk
(
boŞ
 
v®
);

329 
	go¡»am
& 
´štWts
(
o¡»am
& 
out
);

331 
	g´Ùeùed
:

332 
boŞ
 
aùiÚ_
;

333 
boŞ
 
	gaùiÚV®ue_
;

335 
CÏu£
 * 
	gşau£_
;

339 
Su³rCÏu£
 * 
	gsu³rCÏu£_
;

340 
	gA¼ay
<> * 
	gcÚ¡ªts_
;

341 
Domaš
 * 
	gdomaš_
;

342 
	gA¼ay
<
	gLšk
 *> *
	glšks_
;

344 
	gA¼ay
<*> *
	gmsgsA¼_
;

346 
	gA¼ay
<*> *
	gÃxtMsgsA¼_
;

348 *
	gçùÜMsgs_
;

349 
	gouutWt_
;

350 
boŞ
 
	gisAµroxN‘wÜk__
;

352 
boŞ
 
	gggedS’d_
, 
	gggedReûive_
;

	@infer/factorgraph.h

67 #iâdeà
FACTORGRAPH_H_


68 
	#FACTORGRAPH_H_


	)

70 
	~"şau£çùÜy.h
"

71 
	~"twowaymes§ge.h
"

72 
	~"su³rşau£.h
"

73 
	~"auxçùÜ.h
"

74 
	~"node.h
"

75 
	~"hy³rcube.h
"

76 
	~"hy³rcubeİ”©iÚs.h
"

78 cÚ¡ 
	gfgdebug
 = 
Œue
;

80 
	ghash_m­
<
	tP»diÿ‹
*, 
	tHy³rCubeRev”£Index
 *, 
	tHashP»diÿ‹
,

81 
	tEqu®P»diÿ‹
> 
	tP»diÿ‹ToHy³rCubeRev”£IndexM­
;

83 
	ghash_m­
<
	tP»diÿ‹
*, 
	tA¼ay
<
	tHy³rCube
*>*, 
	tHashP»diÿ‹
, 
	tEqu®P»diÿ‹
>

84 
	tP»diÿ‹ToHy³rCubeA¼ayM­
;

86 
	ghash_m­
<, 
	tIÁA¼ayHashA¼ay
*, 
	tHashIÁ
, 
	tEqu®IÁ
>

87 
	tIÁToIÁA¼ayHashA¼ayM­
;

89 
IÁHashA¼ay
* 
g‘P»diÿ‹Ids
(
¡ršg
 & 
´edsSŒ
, 
Domaš
* cÚ¡ & 
domaš
);

101 şas 
	cFaùÜG¿ph


103 
	mpublic
:

108 
FaùÜG¿ph
(
boŞ
 
liáed
, boŞ 
u£HC
, boŞ 
u£CT
, boŞ 
im¶ic™R•
,

109 
Hy³rCubeC»©eTy³
 
hcC»©eTy³
, 
hcC»©eNoi£
,

110 
ÊcI‹r
, 
¡ršg
 
noHCP»dsSŒ
, 
MLN
* 
mÊ
, 
Domaš
* 
domaš
,

111 
A¼ay
<A¼ay<
P»diÿ‹
* >* >* 
qu”yFÜmuÏs
 = 
NULL
)

113 
liáed_
 = 
liáed
;

114 
	mu£HC_
 = 
u£HC
;

115 
	mu£CT_
 = 
u£CT
;

116 
	mim¶ic™R•_
 = 
im¶ic™R•
;

117 
	mhcC»©eTy³_
 = 
hcC»©eTy³
;

118 
	mhcC»©eNoi£_
 = 
hcC»©eNoi£
;

119 
	mÊcI‹r_
 = 
ÊcI‹r
;

120 
	mnoHCP»dsSŒ_
 = 
noHCP»dsSŒ
;

123 
	mlidToTWMsg_
 = 
Ãw
 
LškIdToTwoWayMes§geM­
();

124 
	msu³rCÏu£sA¼_
 = 
Ãw
 
A¼ay
<A¼ay<
Su³rCÏu£
*>*>();

125 
	mçùÜs_
 = 
Ãw
 
A¼ay
<
FaùÜ
*>();

126 
	mnodes_
 = 
Ãw
 
A¼ay
<
Node
*>();

127 
	mmÊ_
 = 
mÊ
;

128 
	mdomaš_
 = 
domaš
;

130 
	mauxFaùÜs_
 = 
NULL
;

131 ià(
	mqu”yFÜmuÏs
)

133 
	mauxFaùÜs_
 = 
Ãw
 
A¼ay
<
AuxFaùÜ
*>();

134 
	mi
 = 0; i < 
	mqu”yFÜmuÏs
->
size
(); i++)

135 
	mauxFaùÜs_
->
­³nd
(
Ãw
 
AuxFaùÜ
((*
qu”yFÜmuÏs
)[
i
]));

142 ~
	$FaùÜG¿ph
()

144 
d–‘e
 
lidToTWMsg_
;

145 
d–‘e
 
su³rCÏu£sA¼_
;

146 
d–‘e
 
çùÜs_
;

147 
d–‘e
 
nodes_
;

148 ià(
auxFaùÜs_
è
d–‘e
‡uxFactors_;

149 
	}
}

155 
	$š™
()

157 
Tim”
 
tim”1
;

159 
	`»moveTrivŸlCÏu£s
();

161 
cout
 << "Building ";

162 ià(
liáed_
è
cout
 << "Lifted ";

163 
cout
 << "FaùÜ G¿ph..." << 
’dl
;

165 ià(
u£HC_
)

166 
cout
 << "Usšg Hy³¸Cube " << 
’dl
;

168 
cout
 << "NOT usšg Hy³¸Cube " << 
’dl
;

170 ià(
liáed_
)

172 
	`ü—‹Su³r
();

173 
	`ü—‹Su³rN‘wÜk
();

177 
	`ü—‹Ground
();

178 
	`ü—‹GroundN‘wÜk
();

181 ià(
fgdebug
)

183 
cout
 << "[init] ";

184 
Tim”
::
	`´štTime
(
cout
, 
tim”1
.
	`time
());

185 
cout
 << 
’dl
;

186 
tim”1
.
	`»£t
();

188 
	}
}

231 
	$´štN‘wÜk
(
o¡»am
& 
out
)

233 
out
 << "v¬ŸbËs:" << 
’dl
;

234 
i
 = 0; i < 
nodes_
->
	`size
(); i++)

236 (*
nodes_
)[
i
]->
	`´št
(
out
);

237 
out
 << 
’dl
;

239 
out
 << "çùÜs:" << 
’dl
;

240 
i
 = 0; i < 
çùÜs_
->
	`size
(); i++)

242 
FaùÜ
* 
çùÜ
 = (*
çùÜs_
)[
i
];

243 
çùÜ
->
	`´št
(
out
);

244 
out
 << "// ";

245 
çùÜ
->
	`´štWts
(
out
);

246 ià(
liáed_
)

248 
out
 << " ///";

249 
numLšks
 = 
çùÜ
->
	`g‘NumLšks
();

250 
Êo
 = 0;†nØ< 
numLšks
;†no++)

252 
Lšk
* 
lšk
 = 
çùÜ
->
	`g‘Lšk
(
Êo
);

253 
Node
* 
node
 = 
lšk
->
	`g‘Node
();

254 
út
 = 
node
->
	`g‘GroundNodeCouÁ
();

255 
out
 << " " << 
út
;

258 
out
 << 
’dl
;

260 
	}
}

265 
LškIdToTwoWayMes§geM­
* 
	$g‘LškIdToTwoWayMes§geM­
()

267  
lidToTWMsg_
;

268 
	}
}

273 cÚ¡ 
	$g‘NumNodes
()

275  
nodes_
->
	`size
();

276 
	}
}

281 cÚ¡ 
	$g‘NumFaùÜs
()

283  
çùÜs_
->
	`size
();

284 
	}
}

289 cÚ¡ 
	$g‘NumAuxFaùÜs
()

291 ià(
auxFaùÜs_
 =ğ
NULL
)  0;

292  
auxFaùÜs_
->
	`size
();

293 
	}
}

300 
Node
* 
	$g‘Node
(cÚ¡ & 
šdex
)

302  (*
nodes_
)[
šdex
];

303 
	}
}

310 
FaùÜ
* 
	$g‘FaùÜ
(cÚ¡ & 
šdex
)

312  (*
çùÜs_
)[
šdex
];

313 
	}
}

320 
AuxFaùÜ
* 
	$g‘AuxFaùÜ
(cÚ¡ & 
šdex
)

322  (*
auxFaùÜs_
)[
šdex
];

323 
	}
}

328 
Domaš
* 
	$g‘Domaš
()

330  
domaš_
;

331 
	}
}

333 
	g´iv©e
:

339 
	$ü—‹Ground
()

341 
MLN
* 
mÊ
 = 
mÊ_
;

342 
Domaš
* 
domaš
 = 
domaš_
;

343 
CÏu£
* 
mÊCÏu£
;

346 
CÏu£
 *
v¬CÏu£
;

348 
A¼ay
<
CÏu£
 *> 
®lCÏu£s
;

349 
A¼ay
<> *
mÊCÏu£T”mIds
;

351 
CÏu£ToSu³rCÏu£M­
 *
şau£ToSu³rCÏu£
;

352 
CÏu£ToSu³rCÏu£M­
::
™”©Ü
 
şau£IŒ
;

353 
numCÏu£s
 = 
mÊ
->
	`g‘NumCÏu£s
();

355 
P»diÿ‹T”mToV¬ŸbË
 *
±”mToV¬
 = 
NULL
;

357 
gndtime
;

358 
Ut
::
	`–­£d_£cÚds
();

360 
şau£ToSu³rCÏu£
 = 
Ãw
 
	`CÏu£ToSu³rCÏu£M­
();

361 
i
 = 0; i < 
numCÏu£s
; i++)

364 
mÊCÏu£
 = (
CÏu£
*è
mÊ
->
	`g‘CÏu£
(
i
);

365 
v¬CÏu£
 = 
Ãw
 
	`CÏu£
(*
mÊCÏu£
);

366 
mÊCÏu£T”mIds
 = 
v¬CÏu£
->
	`upd©eToV¬CÏu£
();

368 
şau£ToSu³rCÏu£
->
	`ş—r
();

369 
mÊCÏu£
->
	`g‘CÚ¡ªtTu¶es
(
domaš
, domaš->
	`g‘DB
(), 
mÊCÏu£T”mIds
,

370 
v¬CÏu£
, 
±”mToV¬
, 
şau£ToSu³rCÏu£
,

371 
çl£
);

372 
	`addSu³rCÏu£s
(
şau£ToSu³rCÏu£
);

375 
d–‘e
 
v¬CÏu£
;

378 
gndtime
 = 
Ut
::
	`–­£d_£cÚds
();

379 
cout
 << "Groundšgimi ğ" << 
gndtime
 << 
’dl
;

382 
tÙ®GndCÏu£CÁ
 = 0;

383 
i
 = 0; i < 
su³rCÏu£sA¼_
->
	`size
(); i++)

385 
Su³rCÏu£
 *
su³rCÏu£
 = (*(*
su³rCÏu£sA¼_
)[
i
])[0];

386 
gndCÁ
 = 
su³rCÏu£
->
	`g‘NumTu¶es
();

387 
tÙ®GndCÏu£CÁ
 +ğ
gndCÁ
;

389 
cout
 << "TÙ® Numb” oàGround CÏu£ ğ" << 
tÙ®GndCÏu£CÁ
 << 
’dl
;

390 
	}
}

396 
	$ü—‹GroundN‘wÜk
()

398 
Domaš
* 
domaš
 = 
domaš_
;

399 
domašP»dCÁ
 = 
domaš
->
	`g‘NumP»diÿ‹s
();

400 
A¼ay
<
IÁA¼ayToIÁM­
*>* 
pcÚ¡ªtsToNodeIndexA¼
 =

401 
Ãw
 
A¼ay
<
IÁA¼ayToIÁM­
*>();

402 
pcÚ¡ªtsToNodeIndexA¼
->
	`growToSize
(
domašP»dCÁ
);

405 
i
 = 0; i < 
domašP»dCÁ
; i++)

407 (*
pcÚ¡ªtsToNodeIndexA¼
)[
i
] = 
Ãw
 
	`IÁA¼ayToIÁM­
();

410 
IÁA¼ayToIÁM­
 *
pcÚ¡ªtsToNodeIndex
;

411 
IÁA¼ayToIÁM­
::
™”©Ü
 
™r
;

413 
A¼ay
<
Su³rCÏu£
*>* 
su³rCÏu£s
;

414 
Su³rCÏu£
* 
su³rCÏu£
;

416 
CÏu£
 *
şau£
;

417 
P»diÿ‹
 *
´ed
;

418 
Hy³rCube
 *
hy³rCube
;

419 
A¼ay
<A¼ay<> *> *
cÚ¡ªtsA¼
;

420 
A¼ay
<>* 
cÚ¡ªts
;

421 
A¼ay
<>* 
pcÚ¡ªts
;

423 
FaùÜ
* 
çùÜ
;

424 
Node
* 
node
;

426 
¬rIndex
 = 0;‡¼Index < 
su³rCÏu£sA¼_
->
	`size
();‡rrIndex++)

428 
su³rCÏu£s
 = (*
su³rCÏu£sA¼_
)[
¬rIndex
];

429 
scšdex
 = 0; scšdex < 
su³rCÏu£s
->
	`size
(); scindex++)

431 
su³rCÏu£
 = (*
su³rCÏu£s
)[
scšdex
];

432 
şau£
 = 
su³rCÏu£
->
	`g‘CÏu£
();

433 
numHy³rCubes
 = 
su³rCÏu£
->
	`g‘NumHy³rCubes
();

434 
hšdex
 = 0; hšdex < 
numHy³rCubes
; hindex++)

436 
hy³rCube
 = 
su³rCÏu£
->
	`g‘Hy³rCube
(
hšdex
);

437 
hút
 = 
su³rCÏu£
->
	`g‘Hy³rCubeCouÁ
(
hšdex
);

438 
cÚ¡ªtsA¼
 = 
hy³rCube
->
	`g‘Tu¶es
();

439 
numTu¶es
 = 
cÚ¡ªtsA¼
->
	`size
();

440 
tšdex
 = 0;šdex < 
numTu¶es
;index++)

444 
tút
 = 
hút
;

445 
cÚ¡ªts
 = (*
cÚ¡ªtsA¼
)[
tšdex
];

446 
çùÜ
 = 
Ãw
 
	`FaùÜ
(
şau£
, 
NULL
, 
cÚ¡ªts
, 
domaš
,

447 
su³rCÏu£
->
	`g‘OuutWt
());

449 ià(
şau£
->
	`isAùiÚFaùÜ
())

450 
çùÜ
->
	`£tAùiÚ
();

451 
çùÜs_
->
	`­³nd
(
çùÜ
);

452 
pšdex
 = 0;…šdex < 
şau£
->
	`g‘NumP»diÿ‹s
();…index++)

454 
´ed
 = 
şau£
->
	`g‘P»diÿ‹
(
pšdex
);

455 
pcÚ¡ªts
 = 
´ed
->
	`g‘P»diÿ‹CÚ¡ªts
(
cÚ¡ªts
);

457 
´edId
 = 
domaš
->
	`g‘P»diÿ‹Id
(
´ed
->
	`g‘Name
());

458 
pcÚ¡ªtsToNodeIndex
 = (*
pcÚ¡ªtsToNodeIndexA¼
)[
´edId
];

459 
™r
 = 
pcÚ¡ªtsToNodeIndex
->
	`fšd
(
pcÚ¡ªts
);

460 
ut
 = 
şau£
->
	`g‘Ut
();

462 ià(
™r
 =ğ
pcÚ¡ªtsToNodeIndex
->
	`’d
())

464 
nodeIndex
 = 
nodes_
->
	`size
();

465 (*
pcÚ¡ªtsToNodeIndex
)[
pcÚ¡ªts
] = 
nodeIndex
;

467 
node
 = 
Ãw
 
	`Node
(
´edId
, 
NULL
, 
pcÚ¡ªts
, 
domaš
);

468 
node
->
	`£tUt
(
ut
);

469 
nodes_
->
	`­³nd
(
node
);

473 
d–‘e
 
pcÚ¡ªts
;

474 
nodeIndex
 = 
™r
->
£cÚd
;

475 
node
 = (*
nodes_
)[
nodeIndex
];

476 
ut
 +ğ
node
->
	`g‘Ut
();

477 
node
->
	`£tUt
(
ut
);

481 
»v”£NodeIndex
 = 
çùÜ
->
	`g‘NumLšks
();

483 
»v”£FaùÜIndex
 = 
node
->
	`g‘NumLšks
();

484 
Lšk
 * 
lšk
 = 
Ãw
 
	`Lšk
(
node
, 
çùÜ
, 
»v”£NodeIndex
,

485 
»v”£FaùÜIndex
, 
pšdex
, 
tút
);

486 
node
->
	`addLšk
(
lšk
, 
NULL
);

487 
çùÜ
->
	`addLšk
(
lšk
, 
NULL
);

495 ià(
auxFaùÜs_
)

497 
i
 = 0; i < 
auxFaùÜs_
->
	`size
(); i++)

499 
AuxFaùÜ
* 
auxFaùÜ
 = (*
auxFaùÜs_
)[
i
];

500 
A¼ay
<
P»diÿ‹
* >* 
fÜmuÏ
 = 
auxFaùÜ
->
	`g‘FÜmuÏ
();

501 
pšdex
 = 0;…šdex < 
fÜmuÏ
->
	`size
();…index++)

503 
z
 = 1.0;

504 
´ed
 = (*
fÜmuÏ
)[
pšdex
];

505 
pcÚ¡ªts
 = 
´ed
->
	`g‘P»diÿ‹CÚ¡ªts
();

506 
´edId
 = 
domaš
->
	`g‘P»diÿ‹Id
(
´ed
->
	`g‘Name
());

508 
pcÚ¡ªtsToNodeIndex
 = (*
pcÚ¡ªtsToNodeIndexA¼
)[
´edId
];

509 
™r
 = 
pcÚ¡ªtsToNodeIndex
->
	`fšd
(
pcÚ¡ªts
);

511 ià(
™r
 =ğ
pcÚ¡ªtsToNodeIndex
->
	`’d
())

513 
cout
 << "ERROR: couldn't find…redicate ";

514 
´ed
->
	`´štW™hSŒV¬
(
cout
, 
domaš
);

515 
cout
 << " from qu”y fÜmuÏ iÀçùÜ g¿ph" << 
’dl
;

516 
	`ex™
(-1);

520 
d–‘e
 
pcÚ¡ªts
;

521 
nodeIndex
 = 
™r
->
£cÚd
;

522 
node
 = (*
nodes_
)[
nodeIndex
];

526 
»v”£NodeIndex
 = 
auxFaùÜ
->
	`g‘NumLšks
();

528 
»v”£FaùÜIndex
 = 
node
->
	`g‘NumLšks
();

529 
Lšk
* 
lšk
 = 
Ãw
 
	`Lšk
(
node
, 
auxFaùÜ
, 
»v”£NodeIndex
,

530 
»v”£FaùÜIndex
, 
pšdex
, 
z
);

531 
node
->
	`addAuxLšk
(
lšk
);

532 
auxFaùÜ
->
	`addLšk
(
lšk
, 
NULL
);

538 
´edId
 = 0;…»dId < 
domašP»dCÁ
;…redId++)

540 
pcÚ¡ªtsToNodeIndex
 = (*
pcÚ¡ªtsToNodeIndexA¼
)[
´edId
];

541 
pcÚ¡ªtsToNodeIndex
->
	`ş—r
();

542 
d–‘e
 
pcÚ¡ªtsToNodeIndex
;

544 
d–‘e
 
pcÚ¡ªtsToNodeIndexA¼
;

545 
cout
 << "C»©ed Ground N‘wÜk" << 
’dl
;

546 
	}
}

552 
	$ü—‹Su³r
()

554 
MLN
* 
mÊ
 = 
mÊ_
;

555 
Domaš
* 
domaš
 = 
domaš_
;

556 
CÏu£
* 
mÊCÏu£
;

557 
A¼ay
<
CÏu£
 *> 
®lCÏu£s
;

559 
CÏu£ToSu³rCÏu£M­
 *
şau£ToSu³rCÏu£
;

560 
CÏu£ToSu³rCÏu£M­
::
™”©Ü
 
şau£IŒ
;

562 
numCÏu£s
 = 
mÊ
->
	`g‘NumCÏu£s
();

564 
hùime
, 
joštime
, 
»fš‘ime
, 
gndtime
, 
b±ime
, 
£tu±ime
;

565 
Ut
::
	`–­£d_£cÚds
();

566 
´edCÁ
 = 
domaš
->
	`g‘NumP»diÿ‹s
();

567 
A¼ay
<
Hy³rCubeRefšem’t
 *> * 
hcRefšem’tA¼
 = 
NULL
;

568 
şau£ToSu³rCÏu£
 = 
Ãw
 
	`CÏu£ToSu³rCÏu£M­
();

571 ià(
u£HC_
)

573 ià(
hcC»©eTy³_
 =ğ
Basic
)

574 
cout
<<"C»©iÚ Ty³ i Basic..."<<
’dl
;

576 ià(
hcC»©eTy³_
 =ğ
DT
)

577 
cout
<<"C»©iÚ Ty³ i DT..."<<
’dl
;

579 
cout
<<"C»©iÚ Noi£ = "<<
hcC»©eNoi£_
<<
’dl
;

580 
cout
<<"Numb” oàI‹¿tiÚ tØRuÀLNC fÜ = "<<
ÊcI‹r_
<<
’dl
;

582 ià(
u£CT_
)

583 
cout
<<"Usšg CÚ¡¿šts"<<
’dl
;

585 
cout
<<"NOT Usšg CÚ¡¿šts"<<
’dl
;

587 
A¼ay
<
P»diÿ‹ToHy³rCubeRev”£IndexM­
*>* 
´edToHCRev”£IndexA¼
;

588 ià(
u£CT_
)

589 
´edToHCRev”£IndexA¼
 =

590 
	`ü—‹P»diÿ‹Hy³rCubesAndRev”£IndexCT
(
mÊ
, 
domaš
);

592 
´edToHCRev”£IndexA¼
 =

593 
	`ü—‹P»diÿ‹Hy³rCubesAndRev”£Index
(
mÊ
, 
domaš
);

595 
hcRefšem’tA¼
 = 
Ãw
 
A¼ay
<
Hy³rCubeRefšem’t
*>(
´edCÁ
, 
NULL
);

596 
´edno
 = 0;…»dnØ< 
´edCÁ
;…redno++)

597 (*
hcRefšem’tA¼
)[
´edno
] = 
Ãw
 
	`Hy³rCubeRefšem’t
();

599 
hùime
 = 
Ut
::
	`–­£d_£cÚds
();

601 
cout
<<"*****************************************************"<<
’dl
;

602 
cout
<<" C»©šghJoš Now "<<
’dl
;

603 
cout
<<"*****************************************************"<<
’dl
;

605 
i
 = 0; i < 
numCÏu£s
; i++)

608 
mÊCÏu£
 = (
CÏu£
*è
mÊ
->
	`g‘CÏu£
(
i
);

609 
cout
 << "*************************************************"<<
’dl
;

610 
cout
 << "G‘tšghjoš fÜhCÏu£ "<<
’dl
;

611 
mÊCÏu£
->
	`´št
(
cout
,
domaš
);

612 
cout
<<
’dl
;

613 
şau£ToSu³rCÏu£
->
	`ş—r
();

614 
	`g‘CÏu£ToSu³rCÏu£M­
(
mÊCÏu£
, 
´edToHCRev”£IndexA¼
,

615 
hcRefšem’tA¼
, 
domaš
, 
şau£ToSu³rCÏu£
);

616 
	`addSu³rCÏu£s
(
şau£ToSu³rCÏu£
);

619 
joštime
 = 
Ut
::
	`–­£d_£cÚds
();

621 
cout
<<"**********************************************************"<<
’dl
;

622 
cout
<<" DÚü—tšghJoš  "<<
’dl
;

623 
cout
<<"**********************************************************"<<
’dl
;

626 
tv
 = 0;v < 3;v++)

628 
cout
<<"d–‘šdiû fÜv "<<
tv
<<
’dl
;

629 
P»diÿ‹ToHy³rCubeRev”£IndexM­
 *
´edToHCRev”£Index
;

630 
P»diÿ‹ToHy³rCubeRev”£IndexM­
::
™”©Ü
 
riIŒ
;

631 
Hy³rCubeRev”£Index
 * 
hcRev”£Index
;

633 
´edToHCRev”£Index
 = (*
´edToHCRev”£IndexA¼
)[
tv
];

635 
riIŒ
 = 
´edToHCRev”£Index
->
	`begš
();

636 
riIŒ
 !ğ
´edToHCRev”£Index
->
	`’d
();

637 
riIŒ
++)

639 
P»diÿ‹
 *
´ed
 = 
riIŒ
->
fœ¡
;

640 
´ed
->
	`´št
(
cout
,
domaš
);

641 
cout
<<
’dl
;

643 
hcRev”£Index
 = 
riIŒ
->
£cÚd
;

644 ià(
hcRev”£Index
 =ğ
NULL
)

649 
hcRev”£Index
->
	`d–‘eAÎHy³rCubes
();

650 
d–‘e
 
hcRev”£Index
;

654 
cout
<<"D–‘®Èthšdiûs......."<<
’dl
;

657 
cout
<<
’dl
<<"*****************************************************"<<endl;

658 
cout
<<"************** Now Refššg ThHy³rCube ****************"<<
’dl
;

659 
cout
<<"***********************************************************"<<
’dl
;

660 
i
 = 0; i < 
hcRefšem’tA¼
->
	`size
(); i++)

662 
cout
<<"Proûssšgh´ediÿ‹ = "<<
domaš
->
	`g‘P»diÿ‹Name
(
i
)<<
’dl
;

663 (*
hcRefšem’tA¼
)[
i
]->
	`ü—‹RefšedHy³rCubeM­pšg
();

665 
»fš‘ime
 = 
Ut
::
	`–­£d_£cÚds
();

667 
cout
 << "hùimğ" << 
hùime
 << ", joštimğ" << 
joštime


668 << "„efš‘imğ" << 
»fš‘ime
 << 
’dl
;

669 
gndtime
 = 
hùime
 + 
joštime
 + 
»fš‘ime
;

678 
CÏu£
 *
v¬CÏu£
;

679 
A¼ay
<> *
mÊCÏu£T”mIds
;

681 
P»diÿ‹T”mToV¬ŸbË
 *
±”mToV¬
 = 
NULL
;

682 ià(
im¶ic™R•_
)

684 
±”mToV¬
 = 
	`g‘P»diÿ‹T”mToV¬ŸbËM­
(
mÊ
, 
domaš
);

685 
	`g‘IndexedCÚ¡ªts
(
±”mToV¬
, 
mÊ
, 
domaš
);

688 
i
 = 0; i < 
numCÏu£s
; i++)

691 
mÊCÏu£
 = (
CÏu£
*è
mÊ
->
	`g‘CÏu£
(
i
);

692 
v¬CÏu£
 = 
Ãw
 
	`CÏu£
(*
mÊCÏu£
);

693 
mÊCÏu£T”mIds
 = 
v¬CÏu£
->
	`upd©eToV¬CÏu£
();

695 
şau£ToSu³rCÏu£
->
	`ş—r
();

696 
mÊCÏu£
->
	`g‘CÚ¡ªtTu¶es
(
domaš
, domaš->
	`g‘DB
(), 
mÊCÏu£T”mIds
,

697 
v¬CÏu£
, 
±”mToV¬
, 
şau£ToSu³rCÏu£
,

698 
im¶ic™R•_
);

699 
	`addSu³rCÏu£s
(
şau£ToSu³rCÏu£
);

701 
d–‘e
 
v¬CÏu£
;

703 
gndtime
 = 
Ut
::
	`–­£d_£cÚds
();

710 
Su³rP»d
::
	`£tHy³rCubeRefšem’t
(
hcRefšem’tA¼
);

712 
cout
<<"gndimi ğ"<<
gndtime
<<
’dl
;

713 
cout
<<
’dl
<<endl;

714 
cout
<<"***************************************************"<<
’dl
<<endl;

715 
cout
<<"Now, startinghe iterations of creating supernodes/superfeatures"

716 <<
’dl
;

720 
Su³rCÏu£
 *
su³rCÏu£
;

721 
tÙ®Hy³rCubeCÁ
 = 0;

722 
tÙ®GndTu¶eCÁ
 = 0;

724 
cout
 << "CouÁ šhbegšnšg:" << 
’dl
;

725 
i
 = 0; i < 
su³rCÏu£sA¼_
->
	`size
(); i++)

727 
su³rCÏu£
 = (*(*
su³rCÏu£sA¼_
)[
i
])[0];

729 
hút
 = 
su³rCÏu£
->
	`g‘NumHy³rCubes
();

730 
gndCÁ
 = 
su³rCÏu£
->
	`g‘NumTu¶es
();

731 
w™hDu¶iÿ‹GndCÁ
 = 
su³rCÏu£
->
	`g‘NumTu¶esW™hDu¶iÿ‹s
();

733 
CÏu£
 *
şau£
 = 
su³rCÏu£
->
	`g‘CÏu£
();

734 
şau£
->
	`´št
(
cout
,
domaš
è<< 
’dl
;

735 
cout
 << 
i
 << "=> húˆ:" << 
hút
 << ", ground cÁ : " << 
gndCÁ
;

736 
cout
 << " gnd cÁ (w™h Du¶iÿ‹s): " << 
w™hDu¶iÿ‹GndCÁ
 << 
’dl
;

737 
tÙ®Hy³rCubeCÁ
 +ğ
hút
;

738 
tÙ®GndTu¶eCÁ
 +ğ
gndCÁ
;

740 
cout
<<"TÙ® Numb” oàGround Tu¶e ğ"<<
tÙ®GndTu¶eCÁ
<<
’dl
;

741 
cout
<<"TÙ® Numb” oàHy³rCube C»©ed = "<<
tÙ®Hy³rCubeCÁ
<<
’dl
;

747 
ÃwSu³rCÏu£CÁ
 = 
	`g‘NumA¼ayA¼ayEËm’ts
(*
su³rCÏu£sA¼_
);

748 
su³rCÏu£CÁ
 = 
ÃwSu³rCÏu£CÁ
;

749 
™r
 = 1;

750 
cout
<<"*************************************************"<<
’dl
<<endl;

751 
£tu±ime
 = 0;

752 
b±ime
 = 0;

756 
	`š™Su³rP»ds
(
su³rCÏu£sA¼_
,
domaš
);

758 
ÃwSu³rCÏu£CÁ
 !ğ
su³rCÏu£CÁ
 || 
™r
 <= 2)

760 
su³rCÏu£CÁ
 = 
ÃwSu³rCÏu£CÁ
;

761 
cout
<<"************************************************************"<<
’dl
;

762 
cout
<<"I‹¿tiÚ: "<<
™r
<<
’dl
;

765 ià(
™r
 > 1)

767 
cout
<<"C»©šg Su³¸CÏu£s.. "<<
’dl
;

768 
	`ü—‹Su³rCÏu£s
(
su³rCÏu£sA¼_
, 
domaš
);

769 
ÃwSu³rCÏu£CÁ
 = 
	`g‘NumA¼ayA¼ayEËm’ts
(*
su³rCÏu£sA¼_
);

772 
tÙ®Hy³rCubeCÁ
 = 
	`g‘Hy³rCubeCouÁ
(
su³rCÏu£sA¼_
);

773 
cout
<<"TÙ® Numb” oàHy³rCube C»©ed = "<<
tÙ®Hy³rCubeCÁ


774 <<
’dl
<<endl;

776 
cout
<<"Number of superclauses‡fterhis iteration is = "

777 <<
ÃwSu³rCÏu£CÁ
<<
’dl
;

779 if(
ÊcI‹r_
 =ğ
™r
)

781 
cout
<<
’dl
<<"***************************************"<<endl;

782 
cout
<<"Stİ³d E¬ly AˆI‹¿tiÚ: "<<
™r
<<
’dl
;

783 
™r
++;

784 
boŞ
 
isAµroxim©eSu³rP»ds
 = 
Œue
;

785 
cout
<<"C»©šg Aµroxim©Su³¸P»ds.. "<<
’dl
;

786 
	`ü—‹Su³rP»ds
(
su³rCÏu£sA¼_
,
domaš
,
isAµroxim©eSu³rP»ds
);

790 
cout
<<"C»©šg New Su³¸P»ds.. "<<
’dl
;

791 
boŞ
 
isAµroxim©eSu³rP»ds
 = 
çl£
;

792 
	`ü—‹Su³rP»ds
(
su³rCÏu£sA¼_
, 
domaš
, 
isAµroxim©eSu³rP»ds
);

793 
£tu±ime
 +ğ
Ut
::
	`–­£d_£cÚds
();

794 
™r
++;

798 
Su³rP»d
::
	`d–‘eHy³rCubeRefšem’t
();

800 
cout
<<
’dl
<<"***************************************"<<endl;

801 
cout
<<"su³rşau£ s‘u°timi ğ"<<
£tu±ime
<<
’dl
;

802 
cout
<<"tÙ® gndimi ğ"<<(
gndtime
 + 
£tu±ime
)<<
’dl
;

804 
cout
<<"*********************************************"<<
’dl
;

805 
cout
<<"Numb” oàI‹¿tiÚ FÜ LNC = "<<--
™r
<<
’dl
;

807 
A¼ay
<
Su³rCÏu£
 *> *
su³rCÏu£s
;

808 
tu¶eCÁ
, 
hy³rCubeCÁ
, 
cÚ¡ªtCÁ
;

810 
tu¶eCÁ
 = 0;

811 
su³rCÏu£CÁ
 = 0;

812 
hy³rCubeCÁ
 = 0;

813 
cÚ¡ªtCÁ
 = 0;

815 
i
=0;i<
su³rCÏu£sA¼_
->
	`size
();i++)

817 
su³rCÏu£s
 = (*
su³rCÏu£sA¼_
)[
i
];

818 
j
=0;j<
su³rCÏu£s
->
	`size
();j++)

820 
su³rCÏu£
 = (*
su³rCÏu£s
)[
j
];

821 
tu¶eCÁ
 +ğ
su³rCÏu£
->
	`g‘NumTu¶es
();

822 
su³rCÏu£CÁ
++;

823 
hy³rCubeCÁ
 +ğ
su³rCÏu£
->
	`g‘NumHy³rCubes
();

824 
cÚ¡ªtCÁ
 +ğ
su³rCÏu£
->
	`g‘NumCÚ¡ªts
();

828 
cout
<<"TÙ® Numb” oàSu³¸CÏu£ ğ"<<
su³rCÏu£CÁ
<<
’dl
;

829 
cout
<<"TÙ® Numb” oàHy³rCube ğ"<<
hy³rCubeCÁ
<<
’dl
;

830 
cout
<<"TÙ® Numb” oàTu¶e ğ"<<
tu¶eCÁ
<<
’dl
;

831 
cout
<<"TÙ® Numb” oàCÚ¡ªt ğ"<<
cÚ¡ªtCÁ
<<
’dl
;

833 
cout
<<
’dl
<<"Memory-Results: ";

834 
cout
<<"Su³rCÏu£CÁ "<<
su³rCÏu£CÁ
<<" Hy³rCubeCÁ "<<
hy³rCubeCÁ
;

835 
cout
<<" Tu¶eCÁ "<<
tu¶eCÁ
<<" CÚ¡ªtCÁ "<<
cÚ¡ªtCÁ
;

836 
cout
<<
’dl
<<endl;

838 cÚ¡ 
P»diÿ‹Tem¶©e
 *
±em¶©e
;

839 
´edId
=0;´edId<
´edCÁ
;predId++)

841 
±em¶©e
 = 
domaš
->
	`g‘P»diÿ‹Tem¶©e
(
´edId
);

842 if(
±em¶©e
->
	`isEqu®P»diÿ‹Tem¶©e
())

844 
út
 = 
Su³rP»d
::
	`g‘Su³rP»dCouÁ
(
´edId
);

845 if(
út
 > 0)

847 
cout
<<"SuperPred count for…red: ";

848 
±em¶©e
->
	`´št
(
cout
);

849 
cout
<<" = "<<
út
<<
’dl
;

852 
	}
}

858 
	$ü—‹Su³rN‘wÜk
()

860 
Domaš
* 
domaš
 = 
domaš_
;

861 
A¼ay
<
Su³rP»d
*> * 
su³rP»ds
;

862 
A¼ay
<
Su³rCÏu£
*> *
su³rCÏu£s
;

864 
Su³rCÏu£
 *
su³rCÏu£
;

865 
Su³rP»d
 *
su³rP»d
;

867 
FaùÜ
 *
çùÜ
;

868 
Node
 *
node
;

869 
CÏu£
 *
şau£
;

870 
A¼ay
<>* 
cÚ¡ªts
 = 
NULL
;

872 ià(
ÊcI‹r_
 != 0)

874 
cout
<<"WÜkšg w™h‡À­´oxim©ÃtwÜk!"<<
’dl
;

875 
FaùÜ
::
	`£tIsAµroxN‘wÜk
(
Œue
);

879 
i
 = 0; i < 
nodes_
->
	`size
(); i++)

880 
	`d–‘e
 (*
nodes_
)[
i
];

881 
i
 = 0; i < 
çùÜs_
->
	`size
(); i++)

882 
	`d–‘e
 (*
çùÜs_
)[
i
];

883 
nodes_
->
	`ş—r
();

884 
çùÜs_
->
	`ş—r
();

887 
¬rIndex
 = 0;‡¼Index < 
su³rCÏu£sA¼_
->
	`size
();‡rrIndex++)

889 
su³rCÏu£s
 = (*
su³rCÏu£sA¼_
)[
¬rIndex
];

891 
scšdex
 = 0; scšdex < 
su³rCÏu£s
->
	`size
(); scindex++)

893 
su³rCÏu£
 = (*
su³rCÏu£s
)[
scšdex
];

894 
şau£
 = 
su³rCÏu£
->
	`g‘CÏu£
();

895 
çùÜ
 = 
Ãw
 
	`FaùÜ
(
şau£
, 
su³rCÏu£
, 
cÚ¡ªts
, 
domaš
,

896 
su³rCÏu£
->
	`g‘OuutWt
());

897 
çùÜs_
->
	`­³nd
(
çùÜ
);

898 ià(
şau£
->
	`isAùiÚFaùÜ
())

899 
çùÜ
->
	`£tAùiÚ
();

904 
´edCÁ
 = 
domaš
->
	`g‘NumP»diÿ‹s
();

905 
´edId
 = 0;´edId < 
´edCÁ
;…redId++)

907 
ut
 = 0.0;

908 
P»diÿ‹
* 
´ed
 = 
domaš
->
	`ü—‹P»diÿ‹
(
´edId
, 
çl£
);

909 ià(
´ed
)

911 
CÏu£
* 
un™CÏu£
 = 
CÏu£FaùÜy
::
	`ü—‹Un™CÏu£
(
´ed
, 
çl£
);

912 cÚ¡ 
CÏu£
* 
ÃwCÏu£
 = 
mÊ_
->
	`fšdCÏu£
(
un™CÏu£
);

913 ià(
ÃwCÏu£
)

915 
ut
 = 
ÃwCÏu£
->
	`g‘Ut
();

916 
d–‘e
 
ÃwCÏu£
;

918 
d–‘e
 
´ed
;

921 
su³rP»ds
 = 
Su³rP»d
::
	`g‘Su³rP»ds
(
´edId
);

923 
¥šdex
 = 0; spšdex < 
su³rP»ds
->
	`size
(); spindex++)

925 
su³rP»d
 = (*
su³rP»ds
)[
¥šdex
];

926 
ut
 = ut * 
su³rP»d
->
	`g‘NumHy³rCubes
();

927 
node
 = 
Ãw
 
	`Node
(
´edId
, 
su³rP»d
, 
cÚ¡ªts
, 
domaš
);

928 
node
->
	`addFaùÜs
(
çùÜs_
, 
	`g‘LškIdToTwoWayMes§geM­
());

929 
node
->
	`£tUt
(
ut
);

930 
nodes_
->
	`­³nd
(
node
);

933 
	}
}

936 
g‘Hy³rCubeCouÁ
(
A¼ay
<A¼ay<
Su³rCÏu£
*>*>* cÚ¡ & 
su³rCÏu£sA¼_
)

938 
	gA¼ay
<
	gSu³rCÏu£
*>* 
	gsu³rCÏu£s
;

939 
Su³rCÏu£
* 
	gsu³rCÏu£
;

940 
	gtÙ®Hy³rCubeCÁ
 = 0;

941 
	gi
 = 0; i < 
	gsu³rCÏu£sA¼_
->
size
(); i++)

943 
	gsu³rCÏu£s
 = (*
su³rCÏu£sA¼_
)[
i
];

944 
	gj
=0;j<
	gsu³rCÏu£s
->
size
();j++)

946 
	gsu³rCÏu£
 = (*
su³rCÏu£s
)[
j
];

947 
	gtÙ®Hy³rCubeCÁ
 +ğ
su³rCÏu£
->
g‘NumHy³rCubes
();

950  
	gtÙ®Hy³rCubeCÁ
;

957 
	$upd©eLškIdToTwoWayMes§geM­
()

959 
Node
 *
node
;

960 
Lšk
 *
lšk
;

961 
FaùÜ
 *
çùÜ
;

962 
nodeToFaùÜMsgs
[2];

963 
çùÜToNodeMsgs
[2];

965 
LškId
 *
lid
;

966 
TwoWayMes§ge
 *
tmsg
;

967 
LškIdToTwoWayMes§geM­
::
™”©Ü
 
lidToTMsgIŒ
;

970 
A¼ay
<
LškId
*> 
keysA¼
;

971 
lidToTMsgIŒ
 = 
lidToTWMsg_
->
	`begš
();

972 
lidToTMsgIŒ
 !ğ
lidToTWMsg_
->
	`’d
();

973 
lidToTMsgIŒ
++)

975 
keysA¼
.
	`­³nd
(
lidToTMsgIŒ
->
fœ¡
);

976 
tmsg
 = 
lidToTMsgIŒ
->
£cÚd
;

977 
d–‘e
 
tmsg
;

980 
i
 = 0; i < 
keysA¼
.
	`size
(); i++)

982 
d–‘e
 
keysA¼
[
i
];

984 
lidToTWMsg_
->
	`ş—r
();

987 
i
 = 0; i < 
nodes_
->
	`size
(); i++)

989 
node
 = (*
nodes_
)[
i
];

990 
j
 = 0; j < 
node
->
	`g‘NumLšks
(); j++)

992 
lšk
 = 
node
->
	`g‘Lšk
(
j
);

993 
çùÜ
 = 
lšk
->
	`g‘FaùÜ
();

995 
´edId
 = 
node
->
	`g‘P»dId
();

996 
su³rP»dId
 = 
node
->
	`g‘Su³rP»dId
();

997 
su³rCÏu£Id
 = 
çùÜ
->
	`g‘Su³rCÏu£Id
();

998 
´edIndex
 = 
lšk
->
	`g‘P»dIndex
();

1000 
lid
 = 
Ãw
 
	`LškId
(
´edId
, 
su³rP»dId
, 
su³rCÏu£Id
, 
´edIndex
);

1002 
»v”£FaùÜIndex
 = 
lšk
->
	`g‘Rev”£FaùÜIndex
();

1003 
node
->
	`g‘Mes§ge
(
»v”£FaùÜIndex
, 
nodeToFaùÜMsgs
);

1005 
»v”£NodeIndex
 = 
lšk
->
	`g‘Rev”£NodeIndex
();

1006 
çùÜ
->
	`g‘Mes§ge
(
»v”£NodeIndex
, 
çùÜToNodeMsgs
);

1008 
tmsg
 = 
Ãw
 
	`TwoWayMes§ge
(
nodeToFaùÜMsgs
,
çùÜToNodeMsgs
);

1009 (*
lidToTWMsg_
)[
lid
] = 
tmsg
;

1012 
	}
}

1017 
	$addSu³rCÏu£s
(
CÏu£ToSu³rCÏu£M­
* cÚ¡ & 
şau£ToSu³rCÏu£
)

1019 
CÏu£ToSu³rCÏu£M­
::
™”©Ü
 
şau£IŒ
;

1020 
A¼ay
<
Su³rCÏu£
 *> * 
su³rCÏu£s
;

1021 
Su³rCÏu£
 *
su³rCÏu£
;

1023 
şau£IŒ
 = 
şau£ToSu³rCÏu£
->
	`begš
();

1024 
şau£IŒ
 !ğ
şau£ToSu³rCÏu£
->
	`’d
();

1025 
şau£IŒ
++)

1027 
su³rCÏu£s
 = 
Ãw
 
A¼ay
<
Su³rCÏu£
 *>();

1028 
su³rCÏu£sA¼_
->
	`­³nd
(
su³rCÏu£s
);

1029 
su³rCÏu£
 = 
şau£IŒ
->
£cÚd
;

1030 
su³rCÏu£s
->
	`­³nd
(
su³rCÏu£
);

1032 
	}
}

1038 
CÏu£ToSu³rCÏu£M­
*

1039 
	$m”geSu³rCÏu£s
(
CÏu£ToSu³rCÏu£M­
* cÚ¡ & 
şau£ToSu³rCÏu£
)

1041 
Domaš
* 
domaš
 = 
domaš_
;

1042 
CÏu£ToSu³rCÏu£M­
 *
m”gedCÏu£ToSu³rCÏu£
 =

1043 
Ãw
 
	`CÏu£ToSu³rCÏu£M­
();

1044 
Su³rCÏu£
 *
su³rCÏu£
, *
m”gedSu³rCÏu£
;

1045 
CÏu£
 *
keyCÏu£
;

1046 
CÏu£ToSu³rCÏu£M­
::
™”©Ü
 
™r
, 
m”gedIŒ
;

1047 
™r
 = 
şau£ToSu³rCÏu£
->
	`begš
();

1048 
™r
 !ğ
şau£ToSu³rCÏu£
->
	`’d
();

1049 
™r
++)

1051 
su³rCÏu£
 = 
™r
->
£cÚd
;

1052 
keyCÏu£
 = 
su³rCÏu£
->
	`g‘CÏu£
();

1053 
m”gedIŒ
 = 
m”gedCÏu£ToSu³rCÏu£
->
	`fšd
(
keyCÏu£
);

1054 ià(
m”gedIŒ
 !ğ
m”gedCÏu£ToSu³rCÏu£
->
	`’d
())

1056 
m”gedSu³rCÏu£
 = 
m”gedIŒ
->
£cÚd
;

1057 
m”gedSu³rCÏu£
->
	`m”ge
(
su³rCÏu£
);

1058 
d–‘e
 
su³rCÏu£
;

1062 (*
m”gedCÏu£ToSu³rCÏu£
)[
keyCÏu£
] = 
su³rCÏu£
;

1063 
keyCÏu£
->
	`´št
(
cout
, 
domaš
);

1064 
cout
 << 
’dl
;

1067  
m”gedCÏu£ToSu³rCÏu£
;

1068 
	}
}

1074 
P»diÿ‹T”mToV¬ŸbË
* 
	$g‘P»diÿ‹T”mToV¬ŸbËM­
(
MLN
 * cÚ¡ & 
mÊ
,

1075 
Domaš
* cÚ¡ & 
domaš
)

1077 
CÏu£
 *
şau£
;

1078 
P»diÿ‹
 *
´ed
;

1079 cÚ¡ 
T”m
* 
‹rm
;

1080 
A¼ay
<
V¬ŸbË
 *> *
eqV¬s
 = 
Ãw
 Array<Variable *>();

1081 
eqCÏssId
 = 0;

1082 
V¬ŸbË
 *
v¬
;

1083 cÚ¡ 
P»diÿ‹Tem¶©e
 *
±em¶©e
;

1084 cÚ¡ 
A¼ay
<>* 
cÚ¡ªts
;

1086 
şau£no
 = 0; cÏu£nØ< 
mÊ
->
	`g‘NumCÏu£s
(); clauseno++)

1088 
şau£
 = (
CÏu£
 *)
mÊ
->
	`g‘CÏu£
(
şau£no
);

1089 
´edno
 = 0;…»dnØ< 
şau£
->
	`g‘NumP»diÿ‹s
();…redno++)

1091 
´ed
 = 
şau£
->
	`g‘P»diÿ‹
(
´edno
);

1092 
±em¶©e
 = 
´ed
->
	`g‘Tem¶©e
();

1093 
‹rmno
 = 0;”mnØ< 
´ed
->
	`g‘NumT”ms
();ermno++)

1095 
‹rm
 = 
´ed
->
	`g‘T”m
(
‹rmno
);

1096 
v¬Id
 = 
‹rm
->
	`g‘Id
();

1097 
v¬Ty³Id
 = 
±em¶©e
->
	`g‘T”mTy³AsIÁ
(
‹rmno
);

1098 
cÚ¡ªts
 = 
domaš
->
	`g‘CÚ¡ªtsByTy³
(
v¬Ty³Id
);

1099 
v¬
 = 
Ãw
 
	`V¬ŸbË
(
şau£
,
v¬Id
,
´ed
,
‹rmno
,
eqCÏssId
,
cÚ¡ªts
);

1100 
eqV¬s
->
	`­³nd
(
v¬
);

1101 
eqCÏssId
++;

1106 
V¬ŸbË
 *
v¬1
, *
v¬2
;

1107 
i
 = 0; i < 
eqV¬s
->
	`size
(); i++)

1109 
v¬1
 = (*
eqV¬s
)[
i
];

1110 
j
 = 
i
 + 1; j < 
eqV¬s
->
	`size
(); j++)

1112 
v¬2
 = (*
eqV¬s
)[
j
];

1113 ià(
v¬1
->
	`§me
(
v¬2
))

1115 
v¬1
->
	`m”ge
(
v¬2
);

1121 
P»diÿ‹T”mToV¬ŸbË
 *
±”mToV¬
 = 
Ãw
 
	`P»diÿ‹T”mToV¬ŸbË
();

1122 
P»diÿ‹T”mToV¬ŸbË
::
™”©Ü
 
™r
;

1123 
P»diÿ‹T”m
 *
±”m
;

1124 
V¬ŸbË
 *
t›dV¬
;

1125 
uniqueCÁ
 = 0;

1126 
i
 = 0; i < 
eqV¬s
->
	`size
(); i++)

1128 
v¬
 = (*
eqV¬s
)[
i
];

1129 ià(
v¬
->
	`isR•»£Á©ive
())

1131 
uniqueCÁ
++;

1132 
j
 = 0; j < 
v¬
->
	`g‘NumT›dV¬ŸbËs
(); j++)

1134 
t›dV¬
 = 
v¬
->
	`g‘T›dV¬ŸbË
(
j
);

1135 
´edId
 = 
t›dV¬
->
	`g‘P»dId
();

1136 
‹rmno
 = 
t›dV¬
->
	`g‘T”mno
();

1137 
±”m
 = 
Ãw
 
	`P»diÿ‹T”m
(
´edId
,
‹rmno
);

1138 
™r
 = 
±”mToV¬
->
	`fšd
(
±”m
);

1139 ià(
™r
 =ğ
±”mToV¬
->
	`’d
())

1141 (*
±”mToV¬
)[
±”m
] = 
v¬
;

1145 
d–‘e
 
±”m
;

1151 
cout
 << "sizoàP‹rmToV¬M­ i " << 
±”mToV¬
->
	`size
(è<< 
’dl
;

1152 
cout
 << "couÁ oàV¬ŸbË Eq CÏs£ (Uniqueèi ğ" << 
uniqueCÁ
 << 
’dl
;

1153  
±”mToV¬
;

1154 
	}
}

1157 
	$g‘IndexedCÚ¡ªts
(
P»diÿ‹T”mToV¬ŸbË
 * cÚ¡ & 
±”mToV¬
,

1158 
MLN
 * cÚ¡ & 
mÊ
,

1159 
Domaš
 * cÚ¡ & 
domaš
)

1161 
P»diÿ‹
 *
´ed
, *
gndP»d
;

1162 
IÁHashA¼ay
 
£’P»dIds
;

1163 cÚ¡ 
CÏu£
 *
şau£
;

1164 cÚ¡ 
T”m
 *
‹rm
;

1166 
A¼ay
<
P»diÿ‹
 *> * 
šdexedGndšgs
;

1167 
P»diÿ‹T”m
 *
±”m
;

1168 
D©aba£
 * 
db
;

1170 
´edId
, 
‹rmId
, 
cÚ¡ªtId
;

1171 
boŞ
 
ignÜeAùiveP»ds
 = 
Œue
;

1173 
P»diÿ‹T”mToV¬ŸbË
::
™”©Ü
 
™r
;

1174 
V¬ŸbË
 * 
v¬
;

1176 
šdexedGndšgs
 = 
Ãw
 
A¼ay
<
P»diÿ‹
 *>();

1177 
db
 = 
domaš
->
	`g‘DB
();

1178 
cout
 << "sizoàP‹rmToV¬M­ i " << 
±”mToV¬
->
	`size
(è<< 
’dl
;

1180 
CÏu£
 *
v¬CÏu£
;

1181 
şau£no
 = 0; cÏu£nØ< 
mÊ
->
	`g‘NumCÏu£s
(); clauseno++)

1183 
şau£
 = 
mÊ
->
	`g‘CÏu£
(
şau£no
);

1184 
v¬CÏu£
 = 
Ãw
 
	`CÏu£
(*
şau£
);

1185 
v¬CÏu£
->
	`upd©eToV¬CÏu£
();

1188 
şau£
 = 
NULL
;

1190 
´edno
 = 0;…»dnØ< 
v¬CÏu£
->
	`g‘NumP»diÿ‹s
();…redno++)

1192 
´ed
 = 
v¬CÏu£
->
	`g‘P»diÿ‹
(
´edno
);

1193 
´edId
 = 
´ed
->
	`g‘Id
();

1195 ià(
£’P»dIds
.
	`­³nd
(
´edId
) < 0)

1197 
šdexedGndšgs
->
	`ş—r
();

1199 ià(
db
->
	`isClo£dWÜld
(
´edId
))

1202 
db
->
	`g‘IndexedGndšgs
(
šdexedGndšgs
,
´ed
,
ignÜeAùiveP»ds
,
Œue
);

1207 
db
->
	`g‘IndexedGndšgs
(
šdexedGndšgs
,
´ed
,
ignÜeAùiveP»ds
,
Œue
);

1208 
db
->
	`g‘IndexedGndšgs
(
šdexedGndšgs
,
´ed
,
ignÜeAùiveP»ds
,
çl£
);

1211 
gndno
 = 0; gndnØ< 
šdexedGndšgs
->
	`size
(); gndno++)

1213 
gndP»d
 = (*
šdexedGndšgs
)[
gndno
];

1215 
‹rmno
 = 0;”mnØ< 
gndP»d
->
	`g‘NumT”ms
();ermno++)

1217 
±”m
 = 
Ãw
 
	`P»diÿ‹T”m
(
´edId
, 
‹rmno
);

1218 
™r
 = 
±”mToV¬
->
	`fšd
(
±”m
);

1219 
	`as£¹
(
™r
 !ğ
±”mToV¬
->
	`’d
());

1220 
v¬
 = 
™r
->
£cÚd
;

1221 
‹rm
 = 
gndP»d
->
	`g‘T”m
(
‹rmno
);

1222 
cÚ¡ªtId
 = 
‹rm
->
	`g‘Id
();

1223 
v¬
->
	`»moveIm¶ic™
(
cÚ¡ªtId
);

1224 
d–‘e
 
±”m
;

1226 
	`d–‘e
 (*
šdexedGndšgs
)[
gndno
];

1229 
d–‘e
 
v¬CÏu£
;

1233 
şau£no
 = 0; cÏu£nØ< 
mÊ
->
	`g‘NumCÏu£s
(); clauseno++)

1235 
şau£
 = 
mÊ
->
	`g‘CÏu£
(
şau£no
);

1236 
´edno
 = 0;…»dnØ< 
şau£
->
	`g‘NumP»diÿ‹s
();…redno++)

1238 
´ed
 = 
şau£
->
	`g‘P»diÿ‹
(
´edno
);

1239 
´edId
 = 
´ed
->
	`g‘Id
();

1240 
‹rmno
 = 0;”mnØ< 
´ed
->
	`g‘NumT”ms
();ermno++)

1242 
‹rm
 = 
´ed
->
	`g‘T”m
(
‹rmno
);

1243 
‹rmId
 = 
‹rm
->
	`g‘Id
();

1245 ià(
‹rmId
 < 0) ;

1248 
±”m
 = 
Ãw
 
	`P»diÿ‹T”m
(
´edId
, 
‹rmno
);

1249 
™r
 = 
±”mToV¬
->
	`fšd
(
±”m
);

1250 
	`as£¹
(
™r
 !ğ
±”mToV¬
->
	`’d
());

1251 
v¬
 = 
™r
->
£cÚd
;

1252 
v¬
->
	`»moveIm¶ic™
(
‹rmId
);

1253 
d–‘e
 
±”m
;

1258 
IÁHashA¼ay
 *
£’EqCÏssIds
 = 
Ãw
 
	`IÁHashA¼ay
();

1259 
cout
 << "Im¶ic™ S‘ oàcÚ¡ªt ¬e: " << 
’dl
;

1260 
™r
 = 
±”mToV¬
->
	`begš
(); iŒ !ğ±”mToV¬->
	`’d
(); itr++)

1262 
±”m
 = 
™r
->
fœ¡
;

1263 
v¬
 = 
™r
->
£cÚd
;

1264 
eqCÏssId
 = 
v¬
->
	`g‘EqCÏssId
();

1265 ià(
£’EqCÏssIds
->
	`fšd
(
eqCÏssId
) >= 0)

1267 
£’EqCÏssIds
->
	`­³nd
(
eqCÏssId
);

1268 
cout
 << "Im¶ic™ CÚ¡ªt fÜ Eq cÏs " << 
eqCÏssId
 << 
’dl
;

1269 
cout
 << "CouÁ = " << 
v¬
->
	`g‘NumIm¶ic™CÚ¡ªts
(è<< " => " << 
’dl
;

1270 
v¬
->
	`´štIm¶ic™CÚ¡ªts
(
cout
, 
domaš
);

1271 
cout
 << 
’dl
 <<ƒndl <<ƒndl;

1273 
d–‘e
 
£’EqCÏssIds
;

1274 
	}
}

1277 
	$»moveTrivŸlCÏu£s
()

1279 cÚ¡ 
CÏu£
 *
şau£
;

1280 
P»diÿ‹
 *
´ed
;

1281 
A¼ay
<cÚ¡ 
CÏu£
*> *
»moveCÏu£s
 = 
Ãw
 Array<const Clause *>();

1282 
D©aba£
 *
db
;

1283 
db
 = 
domaš_
->
	`g‘DB
();

1285 
şau£no
=0;şau£no<
mÊ_
->
	`g‘NumCÏu£s
();clauseno++)

1287 
şau£
 = 
mÊ_
->
	`g‘CÏu£
(
şau£no
);

1288 
boŞ
 
hasUnknown
 = 
çl£
;

1289 
´edno
=0;´edno<
şau£
->
	`g‘NumP»diÿ‹s
();predno++)

1291 
´ed
 = 
şau£
->
	`g‘P»diÿ‹
(
´edno
);

1292 
´edId
 = 
´ed
->
	`g‘Id
();

1293 if(!
db
->
	`isClo£dWÜld
(
´edId
))

1295 
hasUnknown
 = 
Œue
;

1298 if(!
hasUnknown
)

1299 
»moveCÏu£s
->
	`­³nd
(
şau£
);

1302 
i
=0;i<
»moveCÏu£s
->
	`size
();i++)\

1304 
şau£
 = (*
»moveCÏu£s
)[
i
];

1305 
mÊ_
->
	`»moveCÏu£
(
şau£
);

1307 
	}
}

1312 
g‘Equ®P»diÿ‹IndexedGndšgs
(
A¼ay
<
P»diÿ‹
 *> * cÚ¡ & 
´edGndšgs
,

1313 
P»diÿ‹
 * cÚ¡ & 
´ed
,

1314 
Domaš
 * cÚ¡ & 
domaš
,

1315 
boŞ
 
¬eEqu®
)

1317 
	gcout
<<
	g’dl
<<endl<<"*******************************************"<<endl;

1318 
	gcout
<<"*******************************************************"<<
	g’dl
;

1319 
	gcout
<<"FÜhEqu®…»diÿ‹ (tv = "<<
	g¬eEqu®
<<")";

1320 
	g´ed
->
´št
(
cout
,
domaš
);

1321 
	gcout
<<
	g’dl
;

1322 
	gcout
<<"Number of gndings = ";

1324 if(
	g´ed
->
isGrounded
())

1326 
	g´edGndšgs
->
­³nd
(
Ãw
 
P»diÿ‹
(*
´ed
));

1327 
	gcout
<<
	g´edGndšgs
->
size
()<<
	g’dl
;

1331 
P»diÿ‹
 *
	g´edGndšg
;

1332 cÚ¡ 
P»diÿ‹Tem¶©e
 * 
	g±em¶©e
 = 
´ed
->
g‘Tem¶©e
();

1333 
as£¹
(
´ed
->
g‘NumT”ms
() == 2);

1334 
as£¹
(
±em¶©e
->
g‘T”mTy³AsIÁ
(0) ==…template->getTermTypeAsInt(1));

1336 
	g‹rmId1
 = 
´ed
->
g‘T”m
(0)->
g‘Id
();

1337 
	g‹rmId2
 = 
´ed
->
g‘T”m
(1)->
g‘Id
();

1341 ià(
	g‹rmId1
 =ğ
‹rmId2
 && !
¬eEqu®
)

1343 
cout
 << 
´edGndšgs
->
size
(è<< 
’dl
;

1348 ià(
	gu£CT_
 && 
	g‹rmId1
 !ğ
‹rmId2
 && 
¬eEqu®
)

1350 
cout
 << 
´edGndšgs
->
size
(è<< 
’dl
;

1354 
IÁA¼ay
 *
	gv¬CÚ¡ªts1
 = 
Ãw
 IntArray();

1355 
IÁA¼ay
 *
	gv¬CÚ¡ªts2
 = 
Ãw
 IntArray();

1358 
	gv¬Ty³Id
 = 
±em¶©e
->
g‘T”mTy³AsIÁ
(0);

1359 ià(
	g‹rmId1
 < 0)

1360 
	gv¬CÚ¡ªts1
->
­³nd
(
domaš
->
g‘CÚ¡ªtsByTy³
(
v¬Ty³Id
));

1362 
	gv¬CÚ¡ªts1
->
­³nd
(
‹rmId1
);

1365 ià(
	g‹rmId2
 < 0)

1366 
	gv¬CÚ¡ªts2
->
­³nd
(
domaš
->
g‘CÚ¡ªtsByTy³
(
v¬Ty³Id
));

1368 
	gv¬CÚ¡ªts2
->
­³nd
(
‹rmId2
);

1370 
T”m
 *
	g‹rm
;

1372 
	gšdex1
 = 0; index1 < 
	gv¬CÚ¡ªts1
->
size
(); index1++)

1374 
	gšdex2
 = 0; index2 < 
	gv¬CÚ¡ªts2
->
size
(); index2++)

1376 
	gcÚ¡ªt1
 = (*
v¬CÚ¡ªts1
)[
šdex1
];

1377 
	gcÚ¡ªt2
 = (*
v¬CÚ¡ªts2
)[
šdex2
];

1379 ià(
	g¬eEqu®
 && 
	gcÚ¡ªt1
 !ğ
cÚ¡ªt2
)

1381 ià(!
	g¬eEqu®
 && (
	gcÚ¡ªt1
 =ğ
cÚ¡ªt2
è&& !
u£CT_
)

1384 
	g´edGndšg
 = 
Ãw
 
P»diÿ‹
(*
´ed
);

1385 
	g‹rm
 = (
T”m
 *)
´edGndšg
->
g‘T”m
(0);

1386 
	g‹rm
->
£tId
(
cÚ¡ªt1
);

1387 
	g‹rm
 = (
T”m
 *)
´edGndšg
->
g‘T”m
(1);

1388 
	g‹rm
->
£tId
(
cÚ¡ªt2
);

1389 
	g´edGndšgs
->
­³nd
(
´edGndšg
);

1393 
	gcout
 << 
	g´edGndšgs
->
size
(è<< 
	g’dl
;

1395 
d–‘e
 
	gv¬CÚ¡ªts1
;

1396 
d–‘e
 
	gv¬CÚ¡ªts2
;

1399 
	gpublic
:

1402 
	$g‘UnknownGndšgsHash
(
P»diÿ‹HashA¼ay
 * cÚ¡ & 
´edGndšgsHash
,

1403 
P»diÿ‹
 * cÚ¡ 
´ed
,

1404 
Domaš
 * cÚ¡ & 
domaš
,

1405 
D©aba£
 * cÚ¡ & 
db
)

1407 
A¼ay
<
P»diÿ‹
 *> *
´edGndšgs
 = 
Ãw
 Array<Predicate *>();

1408 
	`g‘UnknownGndšgs
(
´edGndšgs
, 
´ed
, 
domaš
, 
db
);

1410 
i
 = 0; i < 
´edGndšgs
->
	`size
(); i++)

1412 
´edGndšgsHash
->
	`­³nd
((*
´edGndšgs
)[
i
]);

1414 
´edGndšgs
->
	`ş—r
();

1415 
d–‘e
 
´edGndšgs
;

1416 
	}
}

1418 
	g´iv©e
:

1421 
g‘UnknownGndšgs
(
A¼ay
<
P»diÿ‹
*>* cÚ¡ & 
´edGndšgs
,

1422 
P»diÿ‹
 * cÚ¡ 
´ed
,

1423 
Domaš
 * cÚ¡ & 
domaš
,

1424 
D©aba£
 * cÚ¡ & 
db
)

1426 
	gA¼ay
<
	gCÏu£
 *> *
	gunknownCÏu£s
 = 
Ãw
 
A¼ay
<
CÏu£
 *>();

1427 
CÏu£
 *
	ggndCÏu£
;

1428 
P»diÿ‹
 *
	ggndP»d
;

1430 
CÏu£
 *
	gşau£
 = 
Ãw
 Clause();

1431 
	gşau£
->
­³ndP»diÿ‹
(
´ed
);

1433 
	gşau£
->
g‘UnknownCÏu£s
(
domaš
, 
db
, -1, 
NULL
, NULL, NULL, 
unknownCÏu£s
);

1435 
	gi
 = 0; i < 
	gunknownCÏu£s
->
size
(); i++)

1437 
	ggndCÏu£
 = (*
unknownCÏu£s
)[
i
];

1438 
	ggndP»d
 = 
gndCÏu£
->
g‘P»diÿ‹
(0);

1439 
	g´edGndšgs
->
­³nd
(
gndP»d
);

1440 
	ggndCÏu£
->
»moveAÎP»diÿ‹s
();

1441 
d–‘e
 
	ggndCÏu£
;

1443 
d–‘e
 
	gunknownCÏu£s
;

1447 
pİuÏ‹Tu¶eCÚ¡ªtsA¼ay
(
A¼ay
<
P»diÿ‹
*>* cÚ¡ & 
´edGndšgs
,

1448 
IÁA¼ayHashA¼ay
* cÚ¡ & 
tu¶eCÚ¡ªtsA¼
)

1450 
P»diÿ‹
 *
	ggndP»d
;

1451 
	gcÚ¡ªtId
;

1452 cÚ¡ 
T”m
 *
	g‹rm
;

1453 
	gA¼ay
<> * 
	gtu¶eCÚ¡ªts
;

1454 
	gtu¶eCÚ¡ªtsA¼
->
ş—r
();

1455 
	ggndno
 = 0; gndnØ< 
	g´edGndšgs
->
size
(); gndno++)

1457 
	ggndP»d
 = (*
´edGndšgs
)[
gndno
];

1458 
	gtu¶eCÚ¡ªts
 = 
Ãw
 
A¼ay
<>();

1459 
	gtu¶eCÚ¡ªts
->
­³nd
(0);

1460 
	g‹rmno
 = 0;”mnØ< 
	ggndP»d
->
g‘NumT”ms
();ermno++)

1462 
	g‹rm
 = 
gndP»d
->
g‘T”m
(
‹rmno
);

1463 
	gcÚ¡ªtId
 = 
‹rm
->
g‘Id
();

1464 
	gtu¶eCÚ¡ªts
->
­³nd
(
cÚ¡ªtId
);

1466 
	gtu¶eCÚ¡ªtsA¼
->
­³nd
(
tu¶eCÚ¡ªts
);

1474 
Hy³rCube
* 
	$g‘DomašHy³rCube
(
P»diÿ‹
* cÚ¡ & 
´ed
,

1475 
Domaš
* cÚ¡ & 
domaš
)

1477 cÚ¡ 
P»diÿ‹Tem¶©e
 * 
±em¶©e
 = 
´ed
->
	`g‘Tem¶©e
();

1478 
‹rmCÁ
 = 
±em¶©e
->
	`g‘NumT”ms
();

1479 
Hy³rCube
 * 
domašHy³rCube
 = 
Ãw
 
	`Hy³rCube
(
‹rmCÁ
);

1480 
‹rmno
 = 0;”mnØ< 
‹rmCÁ
;ermno++)

1482 
IÁA¼ay
 * 
v¬CÚ¡ªts
 = 
Ãw
 
	`IÁA¼ay
();

1483 cÚ¡ 
T”m
 *
‹rm
 = 
´ed
->
	`g‘T”m
(
‹rmno
);

1486 ià(
‹rm
->
	`isCÚ¡ªt
())

1488 
cÚ¡ªt
 = 
‹rm
->
	`g‘Id
();

1489 
v¬CÚ¡ªts
->
	`­³nd
(
cÚ¡ªt
);

1493 
v¬Ty³Id
 = 
±em¶©e
->
	`g‘T”mTy³AsIÁ
(
‹rmno
);

1494 
v¬CÚ¡ªts
->
	`­³nd
(
domaš
->
	`g‘CÚ¡ªtsByTy³
(
v¬Ty³Id
));

1496 
domašHy³rCube
->
	`£tV¬CÚ¡ªts
(
v¬CÚ¡ªts
, 
‹rmno
 + 1);

1501 ià(
u£CT_
)

1503 
IÁA¼ay
 *
v¬CÚ¡ªts
;

1504 
IÁToIÁM­
 *
»fM­
 = 
	`g‘Reã»nûM­
(
´ed
);

1505 
v¬CÁ
 = 
‹rmCÁ
;

1506 
v¬Id
 = 1; v¬Id <ğ
v¬CÁ
; varId++)

1508 
»fV¬Id
 = (*
»fM­
)[
v¬Id
];

1509 ià(
»fV¬Id
 =ğ
v¬Id
)

1511 
v¬CÚ¡ªts
 = 
Ãw
 
	`IÁA¼ay
();

1512 
v¬CÚ¡ªts
->
	`­³nd
(-
»fV¬Id
);

1513 
domašHy³rCube
->
	`£tV¬CÚ¡ªtsAndD–‘eOld
(
v¬CÚ¡ªts
, 
v¬Id
);

1516  
domašHy³rCube
;

1517 
	}
}

1520 
	gA¼ay
<
	gP»diÿ‹ToHy³rCubeRev”£IndexM­
*>*

1521 
	$ü—‹P»diÿ‹Hy³rCubesAndRev”£Index
(
MLN
* cÚ¡ & 
mÊ
,

1522 
Domaš
* cÚ¡ & 
domaš
)

1524 
IÁHashA¼ay
 *
noHCP»dIds
 = 
	`g‘P»diÿ‹Ids
(
noHCP»dsSŒ_
,
domaš
);

1525 
cout
 << "NoHC P»d Id A» =>" << 
’dl
;

1526 
i
 = 0; i < 
noHCP»dIds
->
	`size
(); i++)

1528 
cout
 << (*
noHCP»dIds
)[
i
] << " ";

1530 
cout
 << "NOTE: NoHC Pred Ids‡re considered only for creating True "

1532 << 
’dl
;

1534 
A¼ay
<
P»diÿ‹ToHy³rCubeRev”£IndexM­
 *> *
´edToHCRev”£IndexA¼
 =

1535 
Ãw
 
A¼ay
<
P»diÿ‹ToHy³rCubeRev”£IndexM­
 *>(3, 
NULL
);

1536 
i
 = 0; i < 
´edToHCRev”£IndexA¼
->
	`size
(); i++)

1537 (*
´edToHCRev”£IndexA¼
)[
i
] = 
Ãw
 
	`P»diÿ‹ToHy³rCubeRev”£IndexM­
();

1539 
domašP»dCÁ
 = 
domaš
->
	`g‘NumP»diÿ‹s
();

1540 
A¼ay
<
P»diÿ‹HashA¼ay
*>* 
ÿnÚiÿlP»dsA¼
 =

1541 
Ãw
 
A¼ay
<
P»diÿ‹HashA¼ay
*>(
domašP»dCÁ
, 
NULL
);

1542 
i
 = 0; i < 
domašP»dCÁ
; i++)

1544 (*
ÿnÚiÿlP»dsA¼
)[
i
] = 
Ãw
 
	`P»diÿ‹HashA¼ay
();

1547 
P»diÿ‹HashA¼ay
 * 
ŒueOccu¼’ûP»ds
 = 
Ãw
 
	`P»diÿ‹HashA¼ay
();

1548 
P»diÿ‹HashA¼ay
 * 
ÿnÚiÿlP»ds
;

1550 
A¼ay
<
Hy³rCube
 *> *
hy³rCubes
;

1551 
P»diÿ‹ToHy³rCubeRev”£IndexM­
 * 
´edToHCRev”£Index
;

1552 
P»diÿ‹ToHy³rCubeRev”£IndexM­
::
™”©Ü
 
riIŒ
;

1553 
Hy³rCubeRev”£Index
 *
hcRev”£Index
;

1555 
P»diÿ‹
 *
ÿnÚiÿlP»d
, *
´ed
;

1556 
A¼ay
<
P»diÿ‹
 *> *
´edV¬ŸtiÚs
;

1557 cÚ¡ 
CÏu£
 *
şau£
;

1558 
D©aba£
 * 
db
;

1560 
boŞ
 
ignÜeAùiveP»ds
 = 
Œue
;

1561 
db
 = 
domaš
->
	`g‘DB
();

1566 
şau£no
 = 0; cÏu£nØ< 
mÊ
->
	`g‘NumCÏu£s
(); clauseno++)

1568 
şau£
 = 
mÊ
->
	`g‘CÏu£
(
şau£no
);

1570 
´edno
 = 0;…»dnØ< 
şau£
->
	`g‘NumP»diÿ‹s
();…redno++)

1572 
´ed
 = 
şau£
->
	`g‘P»diÿ‹
(
´edno
);

1573 ià(
u£CT_
)

1575 
´edV¬ŸtiÚs
 = 
	`g‘P»diÿ‹V¬ŸtiÚs
(
´ed
);

1579 
´edV¬ŸtiÚs
 = 
Ãw
 
A¼ay
<
P»diÿ‹
 *>();

1580 
´edV¬ŸtiÚs
->
	`­³nd
(
Ãw
 
	`P»diÿ‹
(*
´ed
));

1583 
i
 = 0; i < 
´edV¬ŸtiÚs
->
	`size
(); i++)

1585 
ÿnÚiÿlP»d
 = (*
´edV¬ŸtiÚs
)[
i
];

1586 
ÿnÚiÿlP»d
->
	`ÿnÚiÿlize
();

1587 
´edId
 = 
ÿnÚiÿlP»d
->
	`g‘Id
();

1588 (*
ÿnÚiÿlP»dsA¼
)[
´edId
]->
	`­³nd
(
ÿnÚiÿlP»d
);

1590 ià(
ÿnÚiÿlP»d
->
	`g‘S’£
(è=ğ
Œue
)

1591 
ŒueOccu¼’ûP»ds
->
	`­³nd
(
ÿnÚiÿlP»d
);

1593 
d–‘e
 
´edV¬ŸtiÚs
;

1597 
A¼ay
<
P»diÿ‹
 *> * 
´edGndšgs
;

1598 
IÁA¼ayHashA¼ay
 *
tu¶eCÚ¡ªtsA¼
;

1600 
´edGndšgs
 = 
Ãw
 
A¼ay
<
P»diÿ‹
 *>();

1601 
tu¶eCÚ¡ªtsA¼
 = 
Ãw
 
	`IÁA¼ayHashA¼ay
();

1603 
´edId
 = 0;…»dId < 
domašP»dCÁ
;…redId++)

1605 
ÿnÚiÿlP»ds
 = (*
ÿnÚiÿlP»dsA¼
)[
´edId
];

1606 
i
 = 0; i < 
ÿnÚiÿlP»ds
->
	`size
(); i++)

1608 
ÿnÚiÿlP»d
 = (*
ÿnÚiÿlP»ds
)[
i
];

1610 
tv
 = 1;v >= 0;v--)

1615 ià(
tv
 == 0)

1617 ià(
ŒueOccu¼’ûP»ds
->
	`fšd
(
ÿnÚiÿlP»d
) < 0)

1619 
cout
<<"NÙ c»ašg f®£ hy³rcube fÜ…»d "<<
’dl
;

1620 
ÿnÚiÿlP»d
->
	`´št
(
cout
,
domaš
);

1621 
cout
<<
’dl
;

1626 
´edGndšgs
->
	`ş—r
();

1627 
tu¶eCÚ¡ªtsA¼
->
	`ş—r
();

1629 ià(
ÿnÚiÿlP»d
->
	`g‘Tem¶©e
()->
	`isEqu®P»diÿ‹Tem¶©e
())

1631 
	`g‘Equ®P»diÿ‹IndexedGndšgs
(
´edGndšgs
, 
ÿnÚiÿlP»d
, 
domaš
,

1632 (
boŞ
)
tv
);

1636 
db
->
	`g‘IndexedGndšgs
(
´edGndšgs
, 
ÿnÚiÿlP»d
, 
ignÜeAùiveP»ds
,

1637 (
boŞ
)
tv
);

1641 ià(
´edGndšgs
->
	`size
() <= 0)

1650 ià(
db
->
	`isClo£dWÜld
(
´edId
è&& 
tv
 == 0 &&

1651 !
	`cÚšsDu¶iÿ‹V¬ŸbË
(
ÿnÚiÿlP»d
))

1653 
Hy³rCube
 * 
domašHy³rCube
;

1654 
A¼ay
<
Hy³rCube
 *> * 
ŒueHy³rCubes
;

1656 
tvTrue
 = 1;

1657 
´edToHCRev”£Index
 = (*
´edToHCRev”£IndexA¼
)[
tvTrue
];

1658 
riIŒ
 = 
´edToHCRev”£Index
->
	`fšd
(
ÿnÚiÿlP»d
);

1659 ià(
riIŒ
 =ğ
´edToHCRev”£Index
->
	`’d
())

1661 
ŒueHy³rCubes
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>();

1665 
hcRev”£Index
 = 
riIŒ
->
£cÚd
;

1666 
ŒueHy³rCubes
 = 
hcRev”£Index
->
	`g‘AÎHy³rCubes
();

1668 
domašHy³rCube
 = 
	`g‘DomašHy³rCube
(
ÿnÚiÿlP»d
, 
domaš
);

1669 
hy³rCubes
 = 
	`ü—‹Com¶em’ryHy³rCubes
(
ŒueHy³rCubes
,

1670 
domašHy³rCube
);

1672 
cout
<<"**************************************************"<<
’dl
;

1673 
cout
<<"¥ecŸÈhªdlšg fÜ c»©šg hy³rcube .."<<
’dl
;

1674 
cout
<<"sizoàhy³rcube ü—‹d = "<<
hy³rCubes
->
	`size
()<<
’dl
;

1675 
d–‘e
 
domašHy³rCube
;

1679 
	`pİuÏ‹Tu¶eCÚ¡ªtsA¼ay
(
´edGndšgs
, 
tu¶eCÚ¡ªtsA¼
);

1681 
cout
<<"**************************************************"<<
’dl
;

1682 
cout
 << 
’dl
 <<ƒndl << "Obtaininghe Hypercubes forhe "

1683 << "´ediÿ‹: (tv = " << 
tv
 << ")" << 
’dl
;

1684 
ÿnÚiÿlP»d
->
	`´št
(
cout
, 
domaš
);

1685 
cout
<<
’dl
<<endl;

1686 
cout
<<"sizoàtu¶cÚ¡ªt ğ"<<
tu¶eCÚ¡ªtsA¼
->
	`size
()<<
’dl
;

1687 
cout
<<"**************************************************"<<
’dl
;

1688 ià(
u£CT_
)

1689 
	`»¶aûDu¶iÿ‹CÚ¡ªtsByBšdšgs
(
tu¶eCÚ¡ªtsA¼
,

1690 
ÿnÚiÿlP»d
);

1693 ià(
tv
 =ğ
TRUE
 && 
noHCP»dIds
->
	`fšd
(
´edId
) >= 0)

1695 
cout
<<"G‘tšghDeçuÉ Ground Hy³rCubes!!"<<
’dl
;

1696 
hy³rCubes
 = 
	`ü—‹GroundHy³rCubes
(
tu¶eCÚ¡ªtsA¼
);

1700 
hy³rCubes
 = 
	`ü—‹Hy³rCubes
(
tu¶eCÚ¡ªtsA¼
, 
hcC»©eTy³_
,

1701 
hcC»©eNoi£_
);

1703 
cout
<<"sizoàhy³rcube ü—‹d = "<<
hy³rCubes
->
	`size
()<<
’dl
;

1706 
hcRev”£Index
 = 
Ãw
 
	`Hy³rCubeRev”£Index
(
hy³rCubes
);

1707 
hcRev”£Index
->
	`ü—‹Index
();

1709 
´edToHCRev”£Index
 = (*
´edToHCRev”£IndexA¼
)[
tv
];

1710 (*
´edToHCRev”£Index
)[
ÿnÚiÿlP»d
] = 
hcRev”£Index
;

1713 
´edGndšgs
->
	`d–‘eI‹msAndCË¬
();

1714 
tu¶eCÚ¡ªtsA¼
->
	`d–‘eI‹msAndCË¬
();

1725 
tvUnknown
 = 2;

1726 
P»diÿ‹ToHy³rCubeA¼ayM­
 *
´edToHy³rCubes
;

1727 
P»diÿ‹ToHy³rCubeA¼ayM­
::
™”©Ü
 
´edIŒ
;

1729 
cout
<<"G‘tšg unknowÀhy³rcubes.."<<
’dl
;

1730 
´edId
=0;´edId<
domašP»dCÁ
;predId++)

1732 ià(
db
->
	`isClo£dWÜld
(
´edId
))

1735 
ÿnÚiÿlP»ds
 = (*
ÿnÚiÿlP»dsA¼
)[
´edId
];

1739 ià(
ÿnÚiÿlP»ds
->
	`size
() == 1)

1741 
boŞ
 
unknownHCisDomašHC
 = 
Œue
;

1742 
ÿnÚiÿlP»d
 = (*
ÿnÚiÿlP»ds
)[0];

1743 ià(
	`cÚšsDu¶iÿ‹V¬ŸbË
(
ÿnÚiÿlP»d
))

1744 
unknownHCisDomašHC
 = 
çl£
;

1745 
tv
 = 0;v < 2;v++)

1747 
´edToHCRev”£Index
 = (*
´edToHCRev”£IndexA¼
)[
tv
];

1748 
riIŒ
 = 
´edToHCRev”£Index
->
	`fšd
(
ÿnÚiÿlP»d
);

1749 ià(
riIŒ
 !ğ
´edToHCRev”£Index
->
	`’d
())

1750 
unknownHCisDomašHC
 = 
çl£
;

1753 ià(
unknownHCisDomašHC
)

1755 
hy³rCubes
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>();

1756 
Hy³rCube
* 
domašHy³rCube
 = 
	`g‘DomašHy³rCube
(
ÿnÚiÿlP»d
,

1757 
domaš
);

1758 
hy³rCubes
->
	`­³nd
(
domašHy³rCube
);

1759 
hcRev”£Index
 = 
Ãw
 
	`Hy³rCubeRev”£Index
(
hy³rCubes
);

1760 
hcRev”£Index
->
	`ü—‹Index
();

1761 
´edToHCRev”£Index
 = (*
´edToHCRev”£IndexA¼
)[
tvUnknown
];

1762 (*
´edToHCRev”£Index
)[
ÿnÚiÿlP»d
] = 
hcRev”£Index
;

1767 
´edToHy³rCubes
 = 
Ãw
 
	`P»diÿ‹ToHy³rCubeA¼ayM­
();

1768 
	`pİuÏ‹Hy³rCubes
(
ÿnÚiÿlP»ds
,
´edToHy³rCubes
,
domaš
,
db
);

1770 
´edIŒ
 = 
´edToHy³rCubes
->
	`begš
();

1771 
´edIŒ
 !ğ
´edToHy³rCubes
->
	`’d
();

1772 
´edIŒ
++)

1774 
ÿnÚiÿlP»d
 = 
´edIŒ
->
fœ¡
;

1775 
hy³rCubes
 = 
´edIŒ
->
£cÚd
;

1777 
cout
<<"FÜh´ediÿ‹: "<<
’dl
;

1778 
ÿnÚiÿlP»d
->
	`´št
(
cout
,
domaš
);

1779 
cout
<<
’dl
;

1780 
cout
<<"Numb” oàhy³rcube ¬ğ"<<
hy³rCubes
->
	`size
();

1781 
cout
<<
’dl
;

1783 
hcRev”£Index
 = 
Ãw
 
	`Hy³rCubeRev”£Index
(
hy³rCubes
);

1784 
hcRev”£Index
->
	`ü—‹Index
();

1785 
´edToHCRev”£Index
 = (*
´edToHCRev”£IndexA¼
)[
tvUnknown
];

1786 (*
´edToHCRev”£Index
)[
ÿnÚiÿlP»d
] = 
hcRev”£Index
;

1788 
d–‘e
 
´edToHy³rCubes
;

1791 
d–‘e
 
´edGndšgs
;

1792 
d–‘e
 
tu¶eCÚ¡ªtsA¼
;

1793  
´edToHCRev”£IndexA¼
;

1794 
	}
}

1799 
	$pİuÏ‹Hy³rCubes
(
P»diÿ‹HashA¼ay
 * cÚ¡ & 
ÿnÚiÿlP»ds
,

1800 
P»diÿ‹ToHy³rCubeA¼ayM­
* cÚ¡ & 
´edToHy³rCubes
,

1801 
Domaš
* cÚ¡ & 
domaš
, 
D©aba£
 * cÚ¡ & 
db
)

1803 
P»diÿ‹
 *
ÿnÚiÿlP»d
;

1804 
A¼ay
<> *
tu¶eCÚ¡ªts
;

1806 
A¼ay
<
P»diÿ‹
 *> * 
´edGndšgs
;

1807 
IÁA¼ayHashA¼ay
 *
tu¶eCÚ¡ªtsA¼
;

1808 
IÁA¼ayHashA¼ay
 *
®lTu¶eCÚ¡ªtsA¼
;

1809 
IÁToIÁA¼ayHashA¼ayM­
 *
´edIndexToTu¶eCÚ¡ªtsA¼
,

1810 *
šdexToTu¶eCÚ¡ªtsA¼
;

1811 
IÁToIÁA¼ayHashA¼ayM­
::
™”©Ü
 
´edIndexIŒ
, 
šdexIŒ
;

1813 
´edIndexToTu¶eCÚ¡ªtsA¼
 = 
Ãw
 
	`IÁToIÁA¼ayHashA¼ayM­
();

1814 
šdexToTu¶eCÚ¡ªtsA¼
 = 
Ãw
 
	`IÁToIÁA¼ayHashA¼ayM­
();

1816 
P»diÿ‹HashA¼ay
 * 
ÃwCªÚiÿlP»ds
 = 
Ãw
 
	`P»diÿ‹HashA¼ay
();

1818 
´edGndšgs
 = 
Ãw
 
A¼ay
<
P»diÿ‹
 *>();

1819 
®lTu¶eCÚ¡ªtsA¼
 = 
Ãw
 
	`IÁA¼ayHashA¼ay
();

1821 
´edIndex
 = 0;

1823 
cout
<<"šsidpİuÏ‹ hy³rcube.."<<
’dl
;

1824 
i
 = 0; i < 
ÿnÚiÿlP»ds
->
	`size
(); i++)

1826 
ÿnÚiÿlP»d
 = (*
ÿnÚiÿlP»ds
)[
i
];

1827 
cout
<<"Processinghe Predicate ";

1828 
ÿnÚiÿlP»d
->
	`´št
(
cout
,
domaš
);

1829 
cout
<<
’dl
;

1830 
´edGndšgs
->
	`ş—r
();

1831 
	`g‘UnknownGndšgs
(
´edGndšgs
, 
ÿnÚiÿlP»d
, 
domaš
, 
db
);

1834 ià(
´edGndšgs
->
	`size
() <= 0)

1836 
cout
<<"gÙ‚Ú z”Ønumb” oàgndšgs.."<<
’dl
;

1837 
tu¶eCÚ¡ªtsA¼
 = 
Ãw
 
	`IÁA¼ayHashA¼ay
();

1838 
ÃwCªÚiÿlP»ds
->
	`­³nd
(
ÿnÚiÿlP»d
);

1839 
	`pİuÏ‹Tu¶eCÚ¡ªtsA¼ay
(
´edGndšgs
, 
tu¶eCÚ¡ªtsA¼
);

1841 ià(
u£CT_
)

1843 
	`»¶aûDu¶iÿ‹CÚ¡ªtsByBšdšgs
(
tu¶eCÚ¡ªtsA¼
, 
ÿnÚiÿlP»d
);

1845 (*
´edIndexToTu¶eCÚ¡ªtsA¼
)[
´edIndex
++] = 
tu¶eCÚ¡ªtsA¼
;

1846 
®lTu¶eCÚ¡ªtsA¼
->
	`­³nd
(
tu¶eCÚ¡ªtsA¼
);

1849 
šdex
;

1851 
i
 = 0; i < 
®lTu¶eCÚ¡ªtsA¼
->
	`size
(); i++)

1853 
tu¶eCÚ¡ªts
 = (*
®lTu¶eCÚ¡ªtsA¼
)[
i
];

1854 
šdex
 = 0;

1855 
´edIndexIŒ
 = 
´edIndexToTu¶eCÚ¡ªtsA¼
->
	`begš
();

1856 
´edIndexIŒ
 !ğ
´edIndexToTu¶eCÚ¡ªtsA¼
->
	`’d
();

1857 
´edIndexIŒ
++)

1859 
´edIndex
 = 
´edIndexIŒ
->
fœ¡
;

1860 
tu¶eCÚ¡ªtsA¼
 = 
´edIndexIŒ
->
£cÚd
;

1862 ià(
tu¶eCÚ¡ªtsA¼
->
	`fšd
(
tu¶eCÚ¡ªts
) >= 0)

1864 
šdex
 +ğ()
	`pow
(2.0,
´edIndex
);

1867 
šdexIŒ
 = 
šdexToTu¶eCÚ¡ªtsA¼
->
	`fšd
(
šdex
);

1868 ià(
šdexIŒ
 =ğ
šdexToTu¶eCÚ¡ªtsA¼
->
	`’d
())

1870 
tu¶eCÚ¡ªtsA¼
 = 
Ãw
 
	`IÁA¼ayHashA¼ay
();

1871 (*
šdexToTu¶eCÚ¡ªtsA¼
)[
šdex
] = 
tu¶eCÚ¡ªtsA¼
;

1875 
tu¶eCÚ¡ªtsA¼
 = 
šdexIŒ
->
£cÚd
;

1877 
tu¶eCÚ¡ªtsA¼
->
	`­³nd
(
tu¶eCÚ¡ªts
);

1880 
P»diÿ‹ToHy³rCubeA¼ayM­
::
™”©Ü
 
´edIŒ
;

1881 
A¼ay
<
Hy³rCube
 *> * 
ÜigHy³rCubes
, *
hy³rCubes
;

1884 
šdexIŒ
 = 
šdexToTu¶eCÚ¡ªtsA¼
->
	`begš
();

1885 
šdexIŒ
 !ğ
šdexToTu¶eCÚ¡ªtsA¼
->
	`’d
();

1886 
šdexIŒ
++)

1888 
šdex
 = 
šdexIŒ
->
fœ¡
;

1889 
tu¶eCÚ¡ªtsA¼
 = 
šdexIŒ
->
£cÚd
;

1890 
hy³rCubes
 = 
	`ü—‹Hy³rCubes
(
tu¶eCÚ¡ªtsA¼
, 
hcC»©eTy³_
,

1891 
hcC»©eNoi£_
);

1892 
d–‘e
 
tu¶eCÚ¡ªtsA¼
;

1894 
´edIndex
 = 0;…»dIndex < 
ÃwCªÚiÿlP»ds
->
	`size
();

1895 
´edIndex
++)

1897 ià((
šdex
>>
´edIndex
 & 1) > 0)

1899 
ÿnÚiÿlP»d
 = (*
ÃwCªÚiÿlP»ds
)[
´edIndex
];

1900 
´edIŒ
 = 
´edToHy³rCubes
->
	`fšd
(
ÿnÚiÿlP»d
);

1901 ià(
´edIŒ
 =ğ
´edToHy³rCubes
->
	`’d
())

1903 
ÜigHy³rCubes
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>();

1904 (*
´edToHy³rCubes
)[
ÿnÚiÿlP»d
] = 
ÜigHy³rCubes
;

1908 
ÜigHy³rCubes
 = 
´edIŒ
->
£cÚd
;

1911 
i
 = 0; i < 
hy³rCubes
->
	`size
(); i++)

1913 
ÜigHy³rCubes
->
	`­³nd
(
Ãw
 
	`Hy³rCube
((*
hy³rCubes
)[
i
]));

1918 
i
 = 0; i < 
hy³rCubes
->
	`size
(); i++)

1920 (*
hy³rCubes
)[
i
]->
	`d–‘eV¬CÚ¡ªts
();

1921 
	`d–‘e
 (*
hy³rCubes
)[
i
];

1926 
´edIndexIŒ
 = 
´edIndexToTu¶eCÚ¡ªtsA¼
->
	`begš
();

1927 
´edIndexIŒ
 !ğ
´edIndexToTu¶eCÚ¡ªtsA¼
->
	`’d
();

1928 
´edIndexIŒ
++)

1930 
tu¶eCÚ¡ªtsA¼
 = 
´edIndexIŒ
->
£cÚd
;

1931 
d–‘e
 
tu¶eCÚ¡ªtsA¼
;

1934 
d–‘e
 
´edIndexToTu¶eCÚ¡ªtsA¼
;

1935 
d–‘e
 
šdexToTu¶eCÚ¡ªtsA¼
;

1937 
d–‘e
 
ÃwCªÚiÿlP»ds
;

1938 
d–‘e
 
´edGndšgs
;

1939 
d–‘e
 
®lTu¶eCÚ¡ªtsA¼
;

1940 
	}
}

1947 
	gA¼ay
<
	gP»diÿ‹ToHy³rCubeRev”£IndexM­
*>*

1948 
	$ü—‹P»diÿ‹Hy³rCubesAndRev”£IndexCT
(
MLN
* cÚ¡ & 
mÊ
,

1949 
Domaš
* cÚ¡ & 
domaš
)

1951 
	`as£¹
(
u£CT_
);

1953 
IÁHashA¼ay
 *
noHCP»dIds
 = 
	`g‘P»diÿ‹Ids
(
noHCP»dsSŒ_
, 
domaš
);

1954 
cout
<<"NoHC P»d Id A» =>"<<
’dl
;

1955 
i
 = 0; i < 
noHCP»dIds
->
	`size
(); i++)

1957 
cout
<<(*
noHCP»dIds
)[
i
]<<" ";

1959 
cout
<<
’dl
;

1961 
A¼ay
<
P»diÿ‹ToHy³rCubeRev”£IndexM­
*>* 
´edToHCRev”£IndexA¼
 =

1962 
Ãw
 
A¼ay
<
P»diÿ‹ToHy³rCubeRev”£IndexM­
 *>(3, 
NULL
);

1963 
i
 = 0; i < 
´edToHCRev”£IndexA¼
->
	`size
(); i++)

1964 (*
´edToHCRev”£IndexA¼
)[
i
] = 
Ãw
 
	`P»diÿ‹ToHy³rCubeRev”£IndexM­
();

1966 
domašP»dCÁ
 = 
domaš
->
	`g‘NumP»diÿ‹s
();

1967 
A¼ay
<
P»diÿ‹HashA¼ay
*>* 
ÿnÚiÿlP»dsA¼
 =

1968 
Ãw
 
A¼ay
<
P»diÿ‹HashA¼ay
*>(
domašP»dCÁ
, 
NULL
);

1969 
i
 = 0; i < 
domašP»dCÁ
; i++)

1970 (*
ÿnÚiÿlP»dsA¼
)[
i
] = 
Ãw
 
	`P»diÿ‹HashA¼ay
();

1972 
P»diÿ‹HashA¼ay
 * 
ŒueOccu¼’ûP»ds
 = 
Ãw
 
	`P»diÿ‹HashA¼ay
();

1973 
P»diÿ‹HashA¼ay
 * 
ÿnÚiÿlP»ds
;

1975 
A¼ay
<
Hy³rCube
 *> *
hy³rCubes
;

1976 
P»diÿ‹ToHy³rCubeRev”£IndexM­
 * 
´edToHCRev”£Index
;

1977 
P»diÿ‹ToHy³rCubeRev”£IndexM­
::
™”©Ü
 
riIŒ
;

1978 
Hy³rCubeRev”£Index
 *
hcRev”£Index
;

1980 
P»diÿ‹
 *
ÿnÚiÿlP»d
, *
´ed
;

1981 
A¼ay
<
P»diÿ‹
 *> *
´edV¬ŸtiÚs
;

1982 cÚ¡ 
CÏu£
 *
şau£
;

1983 
D©aba£
 * 
db
;

1985 
boŞ
 
ignÜeAùiveP»ds
 = 
Œue
;

1987 
db
 = 
domaš
->
	`g‘DB
();

1992 
şau£no
 = 0; cÏu£nØ< 
mÊ
->
	`g‘NumCÏu£s
(); clauseno++)

1994 
şau£
 = 
mÊ
->
	`g‘CÏu£
(
şau£no
);

1996 
´edno
 = 0;…»dnØ< 
şau£
->
	`g‘NumP»diÿ‹s
();…redno++)

1998 
´ed
 = 
şau£
->
	`g‘P»diÿ‹
(
´edno
);

1999 
´edV¬ŸtiÚs
 = 
	`g‘P»diÿ‹V¬ŸtiÚs
(
´ed
);

2001 
i
 = 0; i < 
´edV¬ŸtiÚs
->
	`size
(); i++)

2003 
ÿnÚiÿlP»d
 = (*
´edV¬ŸtiÚs
)[
i
];

2004 
ÿnÚiÿlP»d
->
	`ÿnÚiÿlize
();

2005 
´edId
 = 
ÿnÚiÿlP»d
->
	`g‘Id
();

2006 (*
ÿnÚiÿlP»dsA¼
)[
´edId
]->
	`­³nd
(
ÿnÚiÿlP»d
);

2008 ià(
ÿnÚiÿlP»d
->
	`g‘S’£
(è=ğ
Œue
)

2009 
ŒueOccu¼’ûP»ds
->
	`­³nd
(
ÿnÚiÿlP»d
);

2011 
d–‘e
 
´edV¬ŸtiÚs
;

2015 
A¼ay
<
P»diÿ‹
 *> * 
´edGndšgs
;

2016 
IÁA¼ayHashA¼ay
 *
tu¶eCÚ¡ªtsA¼
;

2018 
´edGndšgs
 = 
Ãw
 
A¼ay
<
P»diÿ‹
 *>();

2019 
tu¶eCÚ¡ªtsA¼
 = 
Ãw
 
	`IÁA¼ayHashA¼ay
();

2021 
tvSize
 = 3;

2022 
IÁA¼ay
 *
Üd”edTVs
 = 
Ãw
 
	`IÁA¼ay
();

2023 
IÁA¼ay
 *
couÁs
 = 
Ãw
 
	`IÁA¼ay
();

2025 
Üd”edTVs
->
	`growToSize
(
tvSize
);

2026 
couÁs
->
	`growToSize
(
tvSize
);

2027 
A¼ay
<
Hy³rCube
 *> *
Ùh”TVHy³rCubes
 = 
Ãw
 Array<HyperCube *>();

2028 
Hy³rCube
 *
domašHy³rCube
;

2030 
´edId
 = 0;…»dId < 
domašP»dCÁ
;…redId++)

2032 (*
couÁs
)[
TRUE
] = 
db
->
	`g‘NumTrueGndP»ds
(
´edId
);

2033 (*
couÁs
)[
FALSE
] = 
db
->
	`g‘NumF®£GndP»ds
(
´edId
);

2034 (*
couÁs
)[
UNKNOWN
] = 
db
->
	`g‘NumUnknownGndP»ds
(
´edId
);

2035 
tv
 = 0;v < 2;tv++)

2037 ià((*
couÁs
)[
tv
] < 0)

2039 
cout
<<"FÜ P»diÿ‹ "<<
domaš
->
	`g‘P»diÿ‹Name
(
´edId
)<<", ";

2040 
cout
<<"CouÁ fÜv = "<<
tv
<<" Overflow. Substituting Max Int "

2041 <<
’dl
<<endl;

2042 (*
couÁs
)[
tv
] = 
MAX_INT
;

2046 
	`sÜtAsûndšg
(
Üd”edTVs
,
couÁs
);

2047 
cout
<<
’dl
<<endl<<endl;

2048 
cout
<<"=========================================================="<<
’dl
;

2049 
cout
<<"FÜ P»diÿ‹ "<<
domaš
->
	`g‘P»diÿ‹Name
(
´edId
)<<
’dl
;

2050 
šdex
 = 0; index < 
Üd”edTVs
->
	`size
(); index++)

2052 
tv
 = (*
Üd”edTVs
)[
šdex
];

2053 
cout
<<"Üd”edTVs["<<
šdex
<<"] = "<<
tv
<<" ** count = "

2054 <<(*
couÁs
)[
tv
]<<
’dl
;

2057 
ÿnÚiÿlP»ds
 = (*
ÿnÚiÿlP»dsA¼
)[
´edId
];

2058 
i
 = 0; i < 
ÿnÚiÿlP»ds
->
	`size
(); i++)

2060 
ÿnÚiÿlP»d
 = (*
ÿnÚiÿlP»ds
)[
i
];

2061 
cout
<<
’dl
<<endl;

2062 
Ùh”TVHy³rCubes
->
	`ş—r
();

2063 
šdex
 = 0; index <= 2;index++)

2065 
tv
 = (*
Üd”edTVs
)[
šdex
];

2066 
cout
<<"Processing ";

2067 
ÿnÚiÿlP»d
->
	`´št
(
cout
,
domaš
);

2068 
cout
<<" (tv = "<<
tv
<<")"<<
’dl
;

2072 ià(
šdex
 =ğ2 && 
tv
 =ğ
FALSE
 &&

2073 
ŒueOccu¼’ûP»ds
->
	`fšd
(
ÿnÚiÿlP»d
) < 0)

2075 
cout
<<"**************************************************"<<
’dl
;

2083 ià(
šdex
 =ğ2 && 
noHCP»dIds
->
	`fšd
(
´edId
) < 0)

2085 
cout
<<"ObššghHy³rCube through com¶em’ˆ"<<
’dl
;

2086 
domašHy³rCube
 = 
	`g‘DomašHy³rCube
(
ÿnÚiÿlP»d
, 
domaš
);

2087 
hy³rCubes
 = 
	`ü—‹Com¶em’ryHy³rCubes
(
Ùh”TVHy³rCubes
,

2088 
domašHy³rCube
);

2089 
cout
<<"sizoàhy³rcube ü—‹d = "<<
hy³rCubes
->
	`size
()<<
’dl
;

2090 
cout
<<"**************************************************"<<
’dl
;

2091 
d–‘e
 
domašHy³rCube
;

2095 
´edGndšgs
->
	`ş—r
();

2096 
tu¶eCÚ¡ªtsA¼
->
	`ş—r
();

2098 ià(
tv
 =ğ
UNKNOWN
)

2100 ià(
db
->
	`isClo£dWÜld
(
´edId
))

2102 
cout
<<"**********************************************"<<
’dl
;

2105 
	`g‘UnknownGndšgs
(
´edGndšgs
,
ÿnÚiÿlP»d
,
domaš
,
db
);

2109 ià(
ÿnÚiÿlP»d
->
	`g‘Tem¶©e
()->
	`isEqu®P»diÿ‹Tem¶©e
())

2110 
	`g‘Equ®P»diÿ‹IndexedGndšgs
(
´edGndšgs
, 
ÿnÚiÿlP»d
,

2111 
domaš
, (
boŞ
)
tv
);

2113 
db
->
	`g‘IndexedGndšgs
(
´edGndšgs
, 
ÿnÚiÿlP»d
,

2114 
ignÜeAùiveP»ds
, (
boŞ
)
tv
);

2118 ià(
´edGndšgs
->
	`size
() <= 0)

2123 
	`pİuÏ‹Tu¶eCÚ¡ªtsA¼ay
(
´edGndšgs
, 
tu¶eCÚ¡ªtsA¼
);

2125 
cout
<<
’dl
<<"Obtaininghe Hypercubes "<<endl;

2126 
ÿnÚiÿlP»d
->
	`´št
(
cout
,
domaš
);

2127 
cout
<<
’dl
<<endl;

2128 
cout
<<"sizoàtu¶cÚ¡ªt ğ"<<
tu¶eCÚ¡ªtsA¼
->
	`size
()

2129 <<
’dl
;

2131 
	`»¶aûDu¶iÿ‹CÚ¡ªtsByBšdšgs
(
tu¶eCÚ¡ªtsA¼
,

2132 
ÿnÚiÿlP»d
);

2134 ià(
noHCP»dIds
->
	`fšd
(
´edId
) >= 0)

2136 
cout
<<"G‘tšghDeçuÉ Ground Hy³rCubes!!"<<
’dl
;

2137 
hy³rCubes
 = 
	`ü—‹GroundHy³rCubes
(
tu¶eCÚ¡ªtsA¼
);

2141 
hy³rCubes
 = 
	`ü—‹Hy³rCubes
(
tu¶eCÚ¡ªtsA¼
, 
hcC»©eTy³_
,

2142 
hcC»©eNoi£_
);

2145 
cout
<<"sizoàhy³rcube ü—‹d = "<<
hy³rCubes
->
	`size
()<<
’dl
;

2146 
cout
<<"**************************************************"<<
’dl
;

2147 
Ùh”TVHy³rCubes
->
	`­³nd
(
hy³rCubes
);

2150 
hcRev”£Index
 = 
Ãw
 
	`Hy³rCubeRev”£Index
(
hy³rCubes
);

2151 
hcRev”£Index
->
	`ü—‹Index
();

2153 
´edToHCRev”£Index
 = (*
´edToHCRev”£IndexA¼
)[
tv
];

2154 (*
´edToHCRev”£Index
)[
ÿnÚiÿlP»d
] = 
hcRev”£Index
;

2157 
´edGndšgs
->
	`d–‘eI‹msAndCË¬
();

2158 
tu¶eCÚ¡ªtsA¼
->
	`d–‘eI‹msAndCË¬
();

2163 
d–‘e
 
Ùh”TVHy³rCubes
;

2164 
d–‘e
 
´edGndšgs
;

2165 
d–‘e
 
tu¶eCÚ¡ªtsA¼
;

2166  
´edToHCRev”£IndexA¼
;

2167 
	}
}

2169 
g‘CÏu£ToSu³rCÏu£M­
(
CÏu£
* cÚ¡ & 
mÊCÏu£
,

2170 
A¼ay
<
P»diÿ‹ToHy³rCubeRev”£IndexM­
*>* 
´edToHCRev”£IndexA¼
,

2171 
A¼ay
<
Hy³rCubeRefšem’t
*>* cÚ¡ & 
hcRefšem’tA¼
,

2172 
Domaš
* cÚ¡ & 
domaš
,

2173 
CÏu£ToSu³rCÏu£M­
* cÚ¡ & 
şau£ToSu³rCÏu£
)

2175 
	gP»diÿ‹ToHy³rCubeRev”£IndexM­
::
™”©Ü
 
riIŒ
;

2176 
boŞ
 
	g´edB™
;

2177 
	g´edCÁ
 = 
mÊCÏu£
->
g‘NumP»diÿ‹s
();

2178 
CÏu£
 *
	gv¬CÏu£
, *
	gşau£
;

2179 
P»diÿ‹
 *
	g´ed
, *
	gmÊP»d
, *
	gÿnÚiÿlP»d
;

2180 
	gtv
;

2181 
Su³rCÏu£
 *
	gsu³rCÏu£
;

2182 
	gA¼ay
<> *
	gv¬IdToCªÚiÿlV¬Id
;

2183 
	gA¼ay
<
	gHy³rCubeRev”£Index
 *> *
	ghcRev”£IndexA¼
 =

2184 
Ãw
 
A¼ay
<
Hy³rCubeRev”£Index
 *>(
´edCÁ
, 
	gNULL
);

2185 
P»diÿ‹ToHy³rCubeRev”£IndexM­
 *
	g´edToHCRev”£Index
;

2187 
	gcÚfigCÁ
 = ()
pow
(2.0, 
´edCÁ
);

2188 
	gv¬CÏu£
 = 
Ãw
 
CÏu£
(*
mÊCÏu£
);

2189 
	gv¬CÏu£
->
upd©eToV¬CÏu£
();

2190 
IÁHashA¼ay
 * 
	gunknownP»dIndiûs
 = 
Ãw
 IntHashArray();

2192 
	gn
 = 1;‚ < 
	gcÚfigCÁ
;‚++)

2194 
	gşau£
 = 
Ãw
 
CÏu£
();

2195 
	gunknownP»dIndiûs
->
ş—r
();

2196 
	g´edno
 = 0;…»dnØ< 
	g´edCÁ
;…redno++)

2198 
	g´ed
 = 
v¬CÏu£
->
g‘P»diÿ‹
(
´edno
);

2199 
boŞ
 
	g£n£
 = 
´ed
->
g‘S’£
();

2201 
	g´edB™
 = 
n
>>
´edno
 & 1;

2202 ià(
	g´edB™
)

2205 
	gtv
 = 2;

2206 
	gşau£
->
­³ndP»diÿ‹
(
Ãw
 
P»diÿ‹
(*
´ed
));

2207 
	gunknownP»dIndiûs
->
­³nd
(
´edno
);

2211 
	gtv
 = 
£n£
 ? 0: 1;

2214 
	g´edToHCRev”£Index
 = (*
´edToHCRev”£IndexA¼
)[
tv
];

2216 
	gmÊP»d
 = 
mÊCÏu£
->
g‘P»diÿ‹
(
´edno
);

2217 
	gÿnÚiÿlP»d
 = 
Ãw
 
P»diÿ‹
(*
mÊP»d
);

2218 
	gÿnÚiÿlP»d
->
ÿnÚiÿlize
();

2220 
	griIŒ
 = 
´edToHCRev”£Index
->
fšd
(
ÿnÚiÿlP»d
);

2221 
d–‘e
 
	gÿnÚiÿlP»d
;

2222 ià(
	griIŒ
 =ğ
´edToHCRev”£Index
->
’d
())

2224 
d–‘e
 
şau£
;

2225 
	gşau£
 = 
NULL
;

2230 (*
	ghcRev”£IndexA¼
)[
´edno
] = 
riIŒ
->
£cÚd
;

2234 ià(!
	gşau£
 || cÏu£->
g‘NumP»diÿ‹s
() <= 0)

2246 
	gwt
 = 
v¬CÏu£
->
g‘Wt
();

2247 
	gşau£
->
£tWt
(
wt
);

2249 
	gmaxV¬Id
 = 
g‘MaxV¬Id
(
v¬CÏu£
);

2250 
	gv¬IdToCªÚiÿlV¬Id
 = 
Ãw
 
A¼ay
<>(
maxV¬Id
+1,-1);

2251 
	gşau£
->
ÿnÚiÿlize
(
v¬IdToCªÚiÿlV¬Id
);

2260 
CÏu£
 *
	gmÊV¬ŸtiÚCÏu£
;

2261 
CÏu£HashA¼ay
 *
	gmÊV¬ŸtiÚCÏu£s
;

2263 
IÁA¼ayHashA¼ay
 *
	gÃqCÚ¡¿šts
, *
	gÿnÚiÿlNeqCÚ¡¿šts
;

2265 
	gÃqCÚ¡¿šts
 = 
NULL
;

2266 
	gÿnÚiÿlNeqCÚ¡¿šts
 = 
NULL
;

2267 if(
	gu£CT_
) {

2268 
	gÃqCÚ¡¿šts
 = 
Ãw
 
IÁA¼ayHashA¼ay
();

2269 
	gmÊV¬ŸtiÚCÏu£s
 = 
g‘CÏu£V¬ŸtiÚs
(
mÊCÏu£
, 
unknownP»dIndiûs
,
ÃqCÚ¡¿šts
);

2271 
	gÿnÚiÿlNeqCÚ¡¿šts
 = 
g‘CªÚiÿlCÚ¡¿šts
(
ÃqCÚ¡¿šts
, 
v¬IdToCªÚiÿlV¬Id
);

2272 
	gcout
<<"cÚ¡¿št ¬:"<<
	g’dl
;

2273 
	gi
=0;i<
	gÿnÚiÿlNeqCÚ¡¿šts
->
size
();i++) {

2274 
	gcout
<<
	gi
<<":";

2275 
´štA¼ay
(*(*
ÿnÚiÿlNeqCÚ¡¿šts
)[
i
], 
cout
);

2276 
	gcout
<<
	g’dl
;

2279 
	gmÊV¬ŸtiÚCÏu£s
 = 
Ãw
 
CÏu£HashA¼ay
();

2280 
	gmÊV¬ŸtiÚCÏu£s
->
­³nd
(
Ãw
 
CÏu£
(*
mÊCÏu£
));

2283 
	gsu³rCÏu£
 = 
Ãw
 
Su³rCÏu£
(
şau£
, 
ÿnÚiÿlNeqCÚ¡¿šts
,

2284 
v¬IdToCªÚiÿlV¬Id
, 
u£CT_
, 
wt
);

2286 
	gcout
<<"MLN cÏu£ i "<<
	g’dl
;

2287 
	gmÊCÏu£
->
´št
(
cout
,
domaš
);

2288 
	gcout
<<
	g’dl
<<" Variations Are :"<<endl;

2289 
	gi
=0;i<
	gmÊV¬ŸtiÚCÏu£s
->
size
();i++) {

2290 
	gmÊV¬ŸtiÚCÏu£
 = (*
mÊV¬ŸtiÚCÏu£s
)[
i
];

2292 
	gcout
<<
	gi
<<":"<<
	g’dl
;

2293 
	gmÊV¬ŸtiÚCÏu£
->
´št
(
cout
,
domaš
);

2294 
	gcout
<<
	g’dl
;

2296 
boŞ
 
	ghasZ”oGndšgs
 = 
çl£
;

2298 
	g´edno
=0;´edno<
	g´edCÁ
;predno++) {

2299 
	gmÊP»d
 = 
mÊV¬ŸtiÚCÏu£
->
g‘P»diÿ‹
(
´edno
);

2300 
boŞ
 
	g£n£
 = 
mÊP»d
->
g‘S’£
();

2302 
	g´edB™
 = 
n
>>
´edno
 & 1;

2303 if(
	g´edB™
) {

2304 
	gtv
 = 2;

2306 
	gtv
 = 
£n£
?0:1;

2309 
	gmÊP»d
->
ÿnÚiÿlize
();

2315 
	g´edToHCRev”£Index
 = (*
´edToHCRev”£IndexA¼
)[
tv
];

2317 
	gÿnÚiÿlP»d
 = 
Ãw
 
P»diÿ‹
(*
mÊP»d
);

2318 
	gÿnÚiÿlP»d
->
ÿnÚiÿlize
();

2326 
	griIŒ
 = 
´edToHCRev”£Index
->
fšd
(
ÿnÚiÿlP»d
);

2329 if(
	griIŒ
 =ğ
´edToHCRev”£Index
->
’d
()) {

2330 
ÿnÚiÿlP»d
->
´št
(
cout
,
domaš
);

2331 
	gcout
<<" **v = "<<
	gtv
<<
	g’dl
;

2332 
	gcout
<<"Could‚Ù fšdhi Úš index!!"<<
	g’dl
;

2333 
	ghasZ”oGndšgs
 = 
Œue
;

2335 (*
	ghcRev”£IndexA¼
)[
´edno
] = 
riIŒ
->
£cÚd
;

2337 
d–‘e
 
	gÿnÚiÿlP»d
;

2339 if(
	ghasZ”oGndšgs
)

2342 
g‘CÏu£Hy³rCubes
(
v¬CÏu£
, 
su³rCÏu£
, 
hcRev”£IndexA¼
, 
hcRefšem’tA¼
,
unknownP»dIndiûs
,

2343 
ÃqCÚ¡¿šts
, 
u£CT_
, 
domaš
);

2347 
	gcout
<<"DÚw™hhjoš :"<<
	g’dl
;

2348 
	gcout
<<"Numb” oàhy³rcube i ğ"<<
	gsu³rCÏu£
->
g‘NumHy³rCubes
()<<
	g’dl
;

2356 
	gcout
<<
	g’dl
;

2357 
	gcout
<<"Tu¶CouÁ i ğ"<<
	gsu³rCÏu£
->
g‘NumTu¶es
()<<
	g’dl
;

2358 
	gcout
<<"CÏu£ i ğ"<<
	g’dl
;

2359 
	gşau£
->
´št
(
cout
,
domaš
);

2360 
	gcout
<<
	g’dl
;

2363 if(
	gsu³rCÏu£
->
g‘NumTu¶es
() == 0) {

2364 
d–‘e
 
su³rCÏu£
;

2382 
Su³rCÏu£
 *
	gexi¡šgSu³rCÏu£
;

2383 
	gCÏu£ToSu³rCÏu£M­
::
™”©Ü
 
scIŒ
 = 
şau£ToSu³rCÏu£
->
fšd
(
şau£
);

2386 if(
	gscIŒ
 =ğ
şau£ToSu³rCÏu£
->
’d
()) {

2387 (*
şau£ToSu³rCÏu£
)[
şau£
] = 
su³rCÏu£
;

2389 
	gcout
<<"ÿmtØm”gthşau£s!!!"<<
	g’dl
;

2390 
	gexi¡šgSu³rCÏu£
 = 
scIŒ
->
£cÚd
;

2391 
	gexi¡šgSu³rCÏu£
->
m”ge
(
su³rCÏu£
);

2392 
d–‘e
 
	gsu³rCÏu£
;

2396 
d–‘e
 
	gv¬CÏu£
;

2397 
d–‘e
 
	gunknownP»dIndiûs
;

2398 
d–‘e
 
	ghcRev”£IndexA¼
;

2401 
	gpublic
:

2405 
IÁA¼ayHashA¼ay
 * 
	$g‘NeqCÚ¡¿šts
(
P»diÿ‹
 * cÚ¡ & 
´ed
) {

2406 cÚ¡ 
T”m
 * 
‹rm
;

2407 
IÁToIÁM­
 *
v¬IdToTy³Id
 = 
Ãw
 
	`IÁToIÁM­
();

2408 
IÁToIÁM­
::
™”©Ü
 
™r1
, 
™r2
;

2409 
IÁA¼ayHashA¼ay
 *
ÃqCÚ¡¿šts
 = 
Ãw
 
	`IÁA¼ayHashA¼ay
();

2410 
IÁA¼ay
 *
cÚ¡¿št
;

2412 
‹rmCÁ
 = 
´ed
->
	`g‘NumT”ms
();

2413 
‹rmno
=0;‹rmno<
‹rmCÁ
;termno++) {

2414 
‹rm
 = 
´ed
->
	`g‘T”m
(
‹rmno
);

2415 
v¬Id
 = -
‹rm
->
	`g‘Id
();

2416 
	`as£¹
(
v¬Id
 > 0);

2417 
ty³Id
 = 
´ed
->
	`g‘T”mTy³AsIÁ
(
‹rmno
);

2418 (*
v¬IdToTy³Id
)[
v¬Id
] = 
ty³Id
;

2421 
™r1
 = 
v¬IdToTy³Id
->
	`begš
();™r1 !ğv¬IdToTy³Id->
	`’d
(); itr1++) {

2422 
v¬Id1
 = 
™r1
->
fœ¡
;

2423 
ty³Id1
 = 
™r1
->
£cÚd
;

2424 
™r2
 = 
v¬IdToTy³Id
->
	`begš
();™r2 !ğv¬IdToTy³Id->
	`’d
(); itr2++) {

2425 
v¬Id2
 = 
™r2
->
fœ¡
;

2426 
ty³Id2
 = 
™r2
->
£cÚd
;

2427 if(
ty³Id1
 !ğ
ty³Id2
 || 
v¬Id1
 >ğ
v¬Id2
)

2429 
cÚ¡¿št
 = 
Ãw
 
	`IÁA¼ay
();

2430 
cÚ¡¿št
->
	`­³nd
(-
v¬Id1
);

2431 
cÚ¡¿št
->
	`­³nd
(-
v¬Id2
);

2432 
ÃqCÚ¡¿šts
->
	`­³nd
(
cÚ¡¿št
);

2435 
d–‘e
 
v¬IdToTy³Id
;

2436  
ÃqCÚ¡¿šts
;

2437 
	}
}

2439 
	g´iv©e
:

2445 
IÁToIÁM­
 *
	$g‘V¬ŸtiÚIdM­
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
ÃqCÚ¡¿šts
,

2446 
cÚ¡¿štS©Code
,

2448 
IÁHashA¼ay
 * cÚ¡ & 
cÚ¡Ids
,

2450 
idCÁ
) {

2452 
IÁToIÁM­
 * 
ÜigToV¬ŸtiÚIds
 = 
Ãw
 
	`IÁToIÁM­
();

2454 
i
=1;i<=
idCÁ
;i++) {

2455 (*
ÜigToV¬ŸtiÚIds
)[-
i
] = -i;

2458 
A¼ay
<
IÁHashA¼ay
 *> *
eqIdsA¼
 = 
Ãw
 Array<IntHashArray *>();

2459 
IÁHashA¼ay
 *
eqIds
;

2461 
IÁA¼ay
 *
v¬ŸtiÚIdA¼
 = 
Ãw
 
	`IÁA¼ay
();

2462 
IÁA¼ay
 * 
cÚ¡¿št
;

2463 
cÚ¡¿štCÁ
 = 
ÃqCÚ¡¿šts
->
	`size
();

2464 
úo
=0;úo<
cÚ¡¿štCÁ
;cno++) {

2465 
boŞ
 
cb™
 = 
cÚ¡¿štS©Code
>>
úo
 & 1;

2466 if(
cb™
)

2468 
cÚ¡¿št
 = (*
ÃqCÚ¡¿šts
)[
úo
];

2469 
id1
 = (*
cÚ¡¿št
)[0];

2470 
id2
 = (*
cÚ¡¿št
)[1];

2471 
foundPos
 = -1;

2472 
i
=0;i<
eqIdsA¼
->
	`size
();i++) {

2473 
eqIds
 = (*
eqIdsA¼
)[
i
];

2474 if(
eqIds
->
	`fšd
(
id1
è>ğ0 ||ƒqIds->fšd(
id2
) >= 0) {

2475 
eqIds
->
	`­³nd
(
id1
);

2476 
eqIds
->
	`­³nd
(
id2
);

2477 
foundPos
 = 
i
;

2481 if(
foundPos
 < 0) {

2482 
eqIds
 = 
Ãw
 
	`IÁHashA¼ay
();

2483 
eqIds
->
	`­³nd
(
id1
);

2484 
eqIds
->
	`­³nd
(
id2
);

2485 
eqIdsA¼
->
	`­³nd
(
eqIds
);

2488 
v¬ŸtiÚIdA¼
->
	`­³nd
(
id1
);

2489 
foundPos
 = 
eqIdsA¼
->
	`size
()-1;

2493 if(
cÚ¡Ids
->
	`fšd
(
id1
) >= 0 ) {

2494 (*
v¬ŸtiÚIdA¼
)[
foundPos
] = 
id1
;

2496 if(
cÚ¡Ids
->
	`fšd
(
id2
) >= 0 ) {

2497 (*
v¬ŸtiÚIdA¼
)[
foundPos
] = 
id2
;

2501 
i
=0;i<
eqIdsA¼
->
	`size
();i++) {

2502 
eqIds
 = (*
eqIdsA¼
)[
i
];

2503 
j
=0;j<
eqIds
->
	`size
();j++) {

2504 
ÜigId
 = (*
eqIds
)[
j
];

2505 (*
ÜigToV¬ŸtiÚIds
)[
ÜigId
] = (*
v¬ŸtiÚIdA¼
)[
i
];

2509 
eqIdsA¼
->
	`d–‘eI‹msAndCË¬
();

2511 
d–‘e
 
eqIdsA¼
;

2512 
d–‘e
 
v¬ŸtiÚIdA¼
;

2513  
ÜigToV¬ŸtiÚIds
;

2514 
	}
}

2516 
	gA¼ay
<
	gP»diÿ‹
 *> * 
	$g‘P»diÿ‹V¬ŸtiÚs
(
P»diÿ‹
 * cÚ¡ & 
´ed
) {

2519 
IÁA¼ay
 *
mÊT”mIds
;

2520 
CÏu£
 *
şau£
 = 
Ãw
 
	`CÏu£
();

2521 
şau£
->
	`­³ndP»diÿ‹
(
Ãw
 
	`P»diÿ‹
(*
´ed
));

2522 
mÊT”mIds
 = 
şau£
->
	`upd©eToV¬CÏu£
();

2523 
P»diÿ‹
 *
v¬P»d
 = 
şau£
->
	`g‘P»diÿ‹
(0);

2525 
şau£
->
	`»moveAÎP»diÿ‹s
();

2526 
d–‘e
 
şau£
;

2528 
IÁHashA¼ay
 *
cÚ¡Ids
 = 
Ãw
 
	`IÁHashA¼ay
();

2530 
i
=1;i<
mÊT”mIds
->
	`size
();i++) {

2532 if((*
mÊT”mIds
)[
i
] >= 0)

2533 
cÚ¡Ids
->
	`­³nd
(
i
);

2537 
IÁA¼ayHashA¼ay
 * 
ÃqCÚ¡¿šts
 = 
	`g‘NeqCÚ¡¿šts
(
v¬P»d
);

2540 
IÁToIÁM­
 *
ÜigToV¬ŸtiÚIds
;

2541 
P»diÿ‹
 *
v¬ŸtiÚP»d
;

2542 
A¼ay
<
P»diÿ‹
 *> *
v¬ŸtiÚP»ds
 = 
Ãw
 Array<Predicate *>();

2550 
cÚ¡¿štCÁ
 = 
ÃqCÚ¡¿šts
->
	`size
();

2551 
cÚfigCÁ
ğ()
	`pow
(2.0,
cÚ¡¿štCÁ
);

2554 
idCÁ
 = 
mÊT”mIds
->
	`size
()-1;

2555 
IÁToIÁM­
::
™”©Ü
 
™r
;

2556 
n
=0;n<
cÚfigCÁ
;n++) {

2557 
cÚ¡¿štS©Code
 = 
n
;

2558 
ÜigToV¬ŸtiÚIds
 = 
	`g‘V¬ŸtiÚIdM­
(
ÃqCÚ¡¿šts
, 
cÚ¡¿štS©Code
,
cÚ¡Ids
, 
idCÁ
);

2566 
v¬ŸtiÚP»d
 = 
Ãw
 
	`P»diÿ‹
(*
v¬P»d
);

2567 
‹rmCÁ
 = 
v¬P»d
->
	`g‘NumT”ms
();

2568 
T”m
 *
‹rm
;

2569 
‹rmno
=0;‹rmno<
‹rmCÁ
;termno++) {

2570 
‹rm
 = (
T”m
 *)
v¬ŸtiÚP»d
->
	`g‘T”m
(
‹rmno
);

2571 
ÜigId
 = 
‹rm
->
	`g‘Id
();

2572 
v¬ŸtiÚId
 = (*
ÜigToV¬ŸtiÚIds
)[
ÜigId
];

2575 if((*
mÊT”mIds
)[-
v¬ŸtiÚId
] >= 0) {

2576 
v¬ŸtiÚId
 = (*
mÊT”mIds
)[-variationId];

2578 
‹rm
->
	`£tId
(
v¬ŸtiÚId
);

2580 
v¬ŸtiÚP»ds
->
	`­³nd
(
v¬ŸtiÚP»d
);

2581 
d–‘e
 
ÜigToV¬ŸtiÚIds
;

2584 
d–‘e
 
mÊT”mIds
;

2585 
d–‘e
 
cÚ¡Ids
;

2586 
d–‘e
 
v¬P»d
;

2588 
ÃqCÚ¡¿šts
->
	`d–‘eI‹msAndCË¬
();

2589 
d–‘e
 
ÃqCÚ¡¿šts
;

2591  
v¬ŸtiÚP»ds
;

2592 
	}
}

2595 
CÏu£HashA¼ay
 * 
	$g‘CÏu£V¬ŸtiÚs
(
CÏu£
 * cÚ¡ & 
mÊCÏu£
,

2596 
IÁHashA¼ay
 * cÚ¡ & 
unknownP»dIndiûs
,

2597 
IÁA¼ayHashA¼ay
 * cÚ¡ & 
ÃqCÚ¡¿šts
) {

2599 
IÁA¼ay
 *
mÊT”mIds
;

2600 
CÏu£
 *
v¬CÏu£
 = 
Ãw
 
	`CÏu£
(*
mÊCÏu£
);

2601 
P»diÿ‹
 *
´ed
, *
ÜigP»d
;

2602 
mÊT”mIds
 = 
v¬CÏu£
->
	`upd©eToV¬CÏu£
();

2604 
IÁHashA¼ay
 *
cÚ¡Ids
 = 
Ãw
 
	`IÁHashA¼ay
();

2605 
i
=0;i<
mÊT”mIds
->
	`size
();i++) {

2606 if((*
mÊT”mIds
)[
i
] >= 0)

2607 
cÚ¡Ids
->
	`­³nd
(
i
);

2611 
IÁA¼ayHashA¼ay
 *
´edNeqCÚ¡¿šts
;

2612 
´edCÁ
 = 
v¬CÏu£
->
	`g‘NumP»diÿ‹s
();

2613 
´edno
=0;´edno<
´edCÁ
;predno++) {

2614 
´ed
 = 
v¬CÏu£
->
	`g‘P»diÿ‹
(
´edno
);

2617 if((
unknownP»dIndiûs
->
	`fšd
(
´edno
) >= 0) ||

2618 
´ed
->
	`g‘Tem¶©e
()->
	`isEqu®P»diÿ‹Tem¶©e
()) {

2619 
´ed
 = 
v¬CÏu£
->
	`g‘P»diÿ‹
(
´edno
);

2620 
´edNeqCÚ¡¿šts
 = 
	`g‘NeqCÚ¡¿šts
(
´ed
);

2621 
ÃqCÚ¡¿šts
->
	`­³nd
(
´edNeqCÚ¡¿šts
);

2622 
d–‘e
 
´edNeqCÚ¡¿šts
;

2626 
IÁToIÁM­
 *
ÜigToV¬ŸtiÚIds
;

2627 
P»diÿ‹
 *
v¬ŸtiÚP»d
;

2628 
CÏu£
 *
v¬ŸtiÚCÏu£
;

2629 
CÏu£HashA¼ay
 *
v¬ŸtiÚCÏu£s
 = 
Ãw
 
	`CÏu£HashA¼ay
();

2631 
cÚ¡¿štCÁ
 = 
ÃqCÚ¡¿šts
->
	`size
();

2640 
cÚfigCÁ
=()
	`pow
(2.0,
cÚ¡¿štCÁ
);

2642 
idCÁ
 = 
mÊT”mIds
->
	`size
()-1;

2643 
IÁToIÁM­
::
™”©Ü
 
™r
;

2645 
n
=0;n<
cÚfigCÁ
;n++) {

2646 
cÚ¡¿štS©Code
 = 
n
;

2647 
ÜigToV¬ŸtiÚIds
 = 
	`g‘V¬ŸtiÚIdM­
(
ÃqCÚ¡¿šts
, 
cÚ¡¿štS©Code
,
cÚ¡Ids
,
idCÁ
);

2655 
v¬ŸtiÚCÏu£
 = 
Ãw
 
	`CÏu£
();

2656 
´edno
=0;´edno<
´edCÁ
;predno++) {

2657 
ÜigP»d
 = 
v¬CÏu£
->
	`g‘P»diÿ‹
(
´edno
);

2659 
v¬ŸtiÚP»d
 = 
Ãw
 
	`P»diÿ‹
(*
ÜigP»d
);

2660 
‹rmCÁ
 = 
ÜigP»d
->
	`g‘NumT”ms
();

2661 
T”m
 *
‹rm
;

2662 
‹rmno
=0;‹rmno<
‹rmCÁ
;termno++) {

2663 
‹rm
 = (
T”m
 *)
v¬ŸtiÚP»d
->
	`g‘T”m
(
‹rmno
);

2664 
ÜigId
 = 
‹rm
->
	`g‘Id
();

2665 
v¬ŸtiÚId
 = (*
ÜigToV¬ŸtiÚIds
)[
ÜigId
];

2667 if((*
mÊT”mIds
)[-
v¬ŸtiÚId
] >= 0) {

2668 
v¬ŸtiÚId
 = (*
mÊT”mIds
)[-variationId];

2670 
‹rm
->
	`£tId
(
v¬ŸtiÚId
);

2672 
v¬ŸtiÚCÏu£
->
	`­³ndP»diÿ‹
(
v¬ŸtiÚP»d
);

2674 
v¬ŸtiÚCÏu£s
->
	`­³nd
(
v¬ŸtiÚCÏu£
);

2675 
d–‘e
 
ÜigToV¬ŸtiÚIds
;

2678 
d–‘e
 
mÊT”mIds
;

2679 
d–‘e
 
cÚ¡Ids
;

2680 
d–‘e
 
v¬CÏu£
;

2685  
v¬ŸtiÚCÏu£s
;

2686 
	}
}

2689 
IÁToIÁM­
 *
	$g‘Reã»nûM­
(
P»diÿ‹
 * cÚ¡ & 
ÿnÚiÿlP»d
) {

2690 
‹rmCÁ
 = 
ÿnÚiÿlP»d
->
	`g‘NumT”ms
();

2691 
IÁToIÁM­
 *
»fM­
 = 
Ãw
 
	`IÁToIÁM­
();

2692 
IÁToIÁM­
 * 
v¬IdToT”mNo
 = 
Ãw
 
	`IÁToIÁM­
();

2693 
IÁToIÁM­
::
™”©Ü
 
™r
;

2694 cÚ¡ 
T”m
 * 
‹rm
;

2695 
‹rmno
=0;‹rmno<
‹rmCÁ
;termno++) {

2696 
‹rm
 = 
ÿnÚiÿlP»d
->
	`g‘T”m
(
‹rmno
);

2697 
v¬Id
 = -
‹rm
->
	`g‘Id
();

2698 
™r
 = 
v¬IdToT”mNo
->
	`fšd
(
v¬Id
);

2699 if(
™r
 =ğ
v¬IdToT”mNo
->
	`’d
()) {

2700 (*
v¬IdToT”mNo
)[
v¬Id
] = 
‹rmno
;

2702 (*
»fM­
)[
‹rmno
+1] = (*
v¬IdToT”mNo
)[
v¬Id
]+1;

2704  
»fM­
;

2705 
	}
}

2708 
	$»¶aûDu¶iÿ‹CÚ¡ªtsByBšdšgs
(
IÁA¼ayHashA¼ay
 * 
tu¶eCÚ¡ªtsA¼
,

2709 
P»diÿ‹
 * cÚ¡ & 
ÿnÚiÿlP»d
) {

2711 
IÁToIÁM­
 * 
v¬IdToT”mNo
 = 
Ãw
 
	`IÁToIÁM­
();

2712 
IÁToIÁM­
::
™”©Ü
 
™r
;

2713 
IÁA¼ay
 *
tu¶eCÚ¡ªts
;

2714 cÚ¡ 
T”m
 * 
‹rm
;

2715 
‹rmCÁ
 = 
ÿnÚiÿlP»d
->
	`g‘NumT”ms
();

2716 
‹rmno
=0;‹rmno<
‹rmCÁ
;termno++) {

2717 
‹rm
 = 
ÿnÚiÿlP»d
->
	`g‘T”m
(
‹rmno
);

2718 
v¬Id
 = -
‹rm
->
	`g‘Id
();

2719 
™r
 = 
v¬IdToT”mNo
->
	`fšd
(
v¬Id
);

2720 if(
™r
 =ğ
v¬IdToT”mNo
->
	`’d
()) {

2721 (*
v¬IdToT”mNo
)[
v¬Id
] = 
‹rmno
;

2725 
IÁA¼ayHashA¼ay
 *
ÃwTu¶eCÚ¡ªtsA¼
 = 
Ãw
 
	`IÁA¼ayHashA¼ay
();

2726 
i
=0;i<
tu¶eCÚ¡ªtsA¼
->
	`size
();i++) {

2727 
tu¶eCÚ¡ªts
 = (*
tu¶eCÚ¡ªtsA¼
)[
i
];

2728 
	`as£¹
(
‹rmCÁ
+1 =ğ
tu¶eCÚ¡ªts
->
	`size
());

2729 
‹rmno
=0;‹rmno<
‹rmCÁ
;termno++) {

2730 
‹rm
 = 
ÿnÚiÿlP»d
->
	`g‘T”m
(
‹rmno
);

2731 
v¬Id
 = -
‹rm
->
	`g‘Id
();

2732 
»fT”mNo
 = (*
v¬IdToT”mNo
)[
v¬Id
];

2734 if(
»fT”mNo
 !ğ
‹rmno
) {

2735 (*
tu¶eCÚ¡ªts
)[
‹rmno
+1] = -(
»fT”mNo
+1);

2743 
ÃwTu¶eCÚ¡ªtsA¼
->
	`­³nd
(
tu¶eCÚ¡ªts
);

2746 
tu¶eCÚ¡ªtsA¼
->
	`ş—r
();

2747 
i
=0;i<
ÃwTu¶eCÚ¡ªtsA¼
->
	`size
();i++) {

2748 
tu¶eCÚ¡ªtsA¼
->
	`­³nd
((*
ÃwTu¶eCÚ¡ªtsA¼
)[
i
]);

2750 
ÃwTu¶eCÚ¡ªtsA¼
->
	`ş—r
();

2751 
d–‘e
 
ÃwTu¶eCÚ¡ªtsA¼
;

2752 
d–‘e
 
v¬IdToT”mNo
;

2753 
	}
}

2757 
IÁA¼ayHashA¼ay
* 
	$g‘CªÚiÿlCÚ¡¿šts
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
cÚ¡¿šts
,

2758 
IÁA¼ay
 * cÚ¡ & 
v¬IdToCªÚiÿlV¬Id
) {

2760 
IÁA¼ayHashA¼ay
 *
ÿnÚiÿlCÚ¡¿šts
 = 
Ãw
 
	`IÁA¼ayHashA¼ay
();

2761 
IÁA¼ay
 *
cÚ¡¿št
;

2762 
IÁA¼ay
 *
ÿnÚiÿlCÚ¡¿št
;

2763 
v¬Id1
, 
v¬Id2
, 
ÿnÚiÿlV¬Id1
, 
ÿnÚiÿlV¬Id2
;

2765 
i
=0;i<
cÚ¡¿šts
->
	`size
();i++) {

2766 
cÚ¡¿št
 = (*
cÚ¡¿šts
)[
i
];

2767 
v¬Id1
 = -(*
cÚ¡¿št
)[0];

2768 
v¬Id2
 = -(*
cÚ¡¿št
)[1];

2769 
ÿnÚiÿlV¬Id1
 = (*
v¬IdToCªÚiÿlV¬Id
)[
v¬Id1
];

2770 
ÿnÚiÿlV¬Id2
 = (*
v¬IdToCªÚiÿlV¬Id
)[
v¬Id2
];

2771 if(
ÿnÚiÿlV¬Id1
 < 0 || 
ÿnÚiÿlV¬Id2
 < 0)

2773 
ÿnÚiÿlCÚ¡¿št
 = 
Ãw
 
	`IÁA¼ay
();

2774 if(
ÿnÚiÿlV¬Id1
 > 
ÿnÚiÿlV¬Id2
) {

2775 
tmp
 = 
ÿnÚiÿlV¬Id1
;

2776 
ÿnÚiÿlV¬Id1
 = 
ÿnÚiÿlV¬Id2
;

2777 
ÿnÚiÿlV¬Id2
 = 
tmp
;

2779 
ÿnÚiÿlCÚ¡¿št
->
	`­³nd
(-
ÿnÚiÿlV¬Id1
);

2780 
ÿnÚiÿlCÚ¡¿št
->
	`­³nd
(-
ÿnÚiÿlV¬Id2
);

2781 
ÿnÚiÿlCÚ¡¿šts
->
	`­³nd
(
ÿnÚiÿlCÚ¡¿št
);

2783  
ÿnÚiÿlCÚ¡¿šts
;

2784 
	}
}

2786 
	gpublic
:

2788 
boŞ
 
	$g‘U£HC
()

2790  
u£HC_
;

2791 
	}
}

2793 
boŞ
 
	$g‘U£CT
()

2795  
u£CT_
;

2796 
	}
}

2798 
	$g‘HcC»©eNoi£
()

2800  
hcC»©eNoi£_
;

2801 
	}
}

2803 
MLN
* 
	$g‘MLN
()

2805  
mÊ_
;

2806 
	}
}

2808 
	g´iv©e
:

2810 
boŞ
 
liáed_
;

2813 
boŞ
 
	gu£HC_
;

2816 
boŞ
 
	gu£CT_
;

2819 
Hy³rCubeC»©eTy³
 
	ghcC»©eTy³_
;

2822 
	ghcC»©eNoi£_
;

2825 
	gÊcI‹r_
;

2828 
¡ršg
 
	gnoHCP»dsSŒ_
;

2831 
boŞ
 
	gim¶ic™R•_
;

2833 
LškIdToTwoWayMes§geM­
* 
	glidToTWMsg_
;

2835 
	gA¼ay
<A¼ay<
	gSu³rCÏu£
*>*>* 
	gsu³rCÏu£sA¼_
;

2838 
	gA¼ay
<
	gFaùÜ
*>* 
	gçùÜs_
;

2840 
	gA¼ay
<
	gNode
*>* 
	gnodes_
;

2843 
MLN
* 
	gmÊ_
;

2845 
Domaš
* 
	gdomaš_
;

2848 
	gA¼ay
<
	gAuxFaùÜ
*>* 
	gauxFaùÜs_
;

	@infer/gelmanconvergencetest.h

66 #iâdeà
GELMANCONVERGENCETEST_H_SEP_30_2005


67 
	#GELMANCONVERGENCETEST_H_SEP_30_2005


	)

69 
	~"m—nv¬Ÿnû.h
"

74 şas 
	cG–mªCÚv”g’ûTe¡


76 
	mpublic
:

77 
	$G–mªCÚv”g’ûTe¡
(cÚ¡ & 
numChašs
) :

78 
	`numChašs_
(
numChašs
),

79 
	`w™hšChašM—nV¬s_
(
Ãw
 
M—nV¬Ÿnû
[
numChašs
]),

80 
	$numSam¶es_
(0) {}

82 ~
	$G–mªCÚv”g’ûTe¡
(è{ 
d–‘e
 [] 
w™hšChašM—nV¬s_
; 
	}
}

86 
	$­³ndNewV®ues
(cÚ¡ * cÚ¡ & 
v®ues
)

88 
i
 = 0; i < 
numChašs_
; i++)

89 
w™hšChašM—nV¬s_
[
i
].
	`­³ndV®ue
(
v®ues
[i]);

90 
numSam¶es_
++;

91 
	}
}

94 
	$­³ndNewV®ues
(cÚ¡ 
boŞ
* cÚ¡ & 
v®ues
)

96 
i
 = 0; i < 
numChašs_
; i++)

97 
w™hšChašM—nV¬s_
[
i
].
	`­³ndV®ue
(()
v®ues
[i]);

98 
numSam¶es_
++;

99 
	}
}

102 
	$g‘CÚv”g’ûScÜe
()

104 
b‘w“nChašsM—nV¬_
.
	`»£t
();

105 
tÙ®W
 = 0;

106 
i
 = 0; i < 
numChašs_
; i++)

108 
b‘w“nChašsM—nV¬_
.
	`­³ndV®ue
Ğ
w™hšChašM—nV¬s_
[
i
].
	`g‘M—n
() );

109 
tÙ®W
 +ğ
w™hšChašM—nV¬s_
[
i
].
	`g‘V¬Ÿnû
();

111 
numV®ues
 = 
w™hšChašM—nV¬s_
[0].
	`g‘NumV®ues
();

113 
B
 = 
b‘w“nChašsM—nV¬_
.
	`g‘V¬Ÿnû
(è* 
numV®ues
;

114 
W
 = 
tÙ®W
 / 
numChašs_
;

117 
scÜe
 = 
B
/
W
;

118  
scÜe
;

119 
	}
}

122 
	$g‘NumSam¶esAdded
(è{  
numSam¶es_
; 
	}
}

125 
boŞ
 
	$checkCÚv”g’ûOfAÎ
(
G–mªCÚv”g’ûTe¡
* 
‹¡s
[],

126 cÚ¡ & 
numTe¡s
,

127 cÚ¡ 
boŞ
& 
´št
=
çl£
)

130 
th»shŞd
 = 1 + 0.44 * 
‹¡s
[0]->
	`g‘NumSam¶esAdded
();

131 
maxI‹m
 = -1;

132 
maxScÜe
 = -1;

133 
numbad
 = 0;

135 
f
 = 0; f < 
numTe¡s
; f++)

137 
scÜe
 = 
‹¡s
[
f
]->
	`g‘CÚv”g’ûScÜe
();

139 ià(!
	`fš™e
(
scÜe
)è{ 
numbad
++; ; }

141 ià(
scÜe
 > 
th»shŞd
)

143 ià(
´št
)

144 
cout
 << " I‹m " << 
f
 << "' scÜoà" << 
scÜe
 << " >hreshold of "

145 << 
th»shŞd
 << 
’dl
;

146  
çl£
;

149 ià(
scÜe
 > 
maxScÜe
)

151 
maxScÜe
 = 
scÜe
;

152 
maxI‹m
 = 
f
;

156 ià(
numbad
 =ğ
numTe¡s
)

158 ià(
´št
è
cout
 << " AÎ scÜe w”šàÜ Nª!" << 
’dl
;

159  
çl£
;

164 ià(
´št
)

165 
cout
 << " max i‹m i " << 
maxI‹m
 << " w™h scÜ" << 
maxScÜe


166 << " <h»shŞd oà" << 
th»shŞd
 << 
’dl
;

168  
Œue
;

169 
	}
}

172 
	g´iv©e
:

173 
numChašs_
;

174 
M—nV¬Ÿnû
* 
	gw™hšChašM—nV¬s_
;

175 
	gnumSam¶es_
;

176 
M—nV¬Ÿnû
 
	gb‘w“nChašsM—nV¬_
;

	@infer/gibbsparams.h

66 #iâdeà
GIBBSPARAMS_H_


67 
	#GIBBSPARAMS_H_


	)

69 
	~"mcmı¬ams.h
"

70 
	~"maxw®k§¬ams.h
"

77 
	gGibbsP¬ams
 : 
MCMCP¬ams


79 
MaxW®k§tP¬ams
* 
mwsP¬ams
;

80 
	ggamma
;

81 
	g•sÚE¼Ü
;

82 
	gäacCÚv”ged
;

83 
	gw®k§tTy³
;

84 
boŞ
 
	g‹¡CÚv”g’û
;

85 
	g§m¶esP”Te¡
;

	@infer/gibbssampler.h

66 #iâdeà
GIBBSSAMPLER_H_


67 
	#GIBBSSAMPLER_H_


	)

69 
	~"mcmc.h
"

70 
	~"gibb¥¬ams.h
"

71 
	~"maxw®k§t.h
"

72 
	~"cÚv”g’û‹¡.h
"

73 
	~"g–mªcÚv”g’û‹¡.h
"

76 
	eW®k§tTy³
 { 
	mNONE
 = 0, 
	mMAXWALKSAT
 = 1 };

78 cÚ¡ 
boŞ
 
	ggibbsdebug
 = 
çl£
;

83 şas 
	cGibbsSam¶”
 : 
public
 
MCMC


85 
public
:

93 
	$GibbsSam¶”
(
V¬ŸbËS‹
* 
¡©e
, 
£ed
,

94 cÚ¡ 
boŞ
& 
ŒackCÏu£TrueCÁs
, 
GibbsP¬ams
* 
gibbsP¬ams
)

95 : 
	$MCMC
(
¡©e
, 
£ed
, 
ŒackCÏu£TrueCÁs
, 
gibbsP¬ams
)

98 
gamma_
 = 
gibbsP¬ams
->
gamma
;

99 
•sÚE¼Ü_
 = 
gibbsP¬ams
->
•sÚE¼Ü
;

100 
äacCÚv”ged_
 = 
gibbsP¬ams
->
äacCÚv”ged
;

101 
w®k§tTy³_
 = 
gibbsP¬ams
->
w®k§tTy³
;

102 
‹¡CÚv”g’û_
 = 
gibbsP¬ams
->
‹¡CÚv”g’û
;

103 
§m¶esP”Te¡_
 = 
gibbsP¬ams
->
§m¶esP”Te¡
;

106 
mws_
 = 
Ãw
 
	`MaxW®kS©
(
¡©e_
, 
£ed
, 
çl£
, 
gibbsP¬ams
->
mwsP¬ams
);

112 ~
	$GibbsSam¶”
()

114 
	`d–‘eCÚv”g’ûTe¡s
(
buºCÚv”g’ûTe¡s_
, 
gibbsCÚv”g’ûTe¡s_
,

115 
¡©e_
->
	`g‘NumAtoms
());

116 
d–‘e
 
mws_
;

117 
	}
}

122 
	$š™
()

125 
	`š™TruthV®uesAndWts
(
numChašs_
);

126 
	`´štN‘wÜk
(
cout
);

127 
cout
 << "Initializing Gibbs sampling " ;

129 ià(
w®k§tTy³_
 == 1)

131 
cout
 << "w™h MaxW®k§t" << 
’dl
;

132 
c
 = 0; c < 
numChašs_
; c++)

134 
cout
 << "fÜ chaš " << 
c
 << "..." << 
’dl
;

135 
mws_
->
	`š™
();

136 
mws_
->
	`šãr
();

137 
	`§veLowS‹ToChaš
(
c
);

139 ià(
numChašs_
 =ğ1è
¡©e_
->
	`§veLowS‹ToGndP»ds
();

144 
cout
 << "¿ndomly" << 
’dl
;

145 
	`¿ndomIn™GndP»dsTruthV®ues
(
numChašs_
);

150 
	`š™NumTrueL™s
(
numChašs_
);

152 
numGndP»ds
 = 
¡©e_
->
	`g‘NumAtoms
();

154 
	`š™CÚv”g’ûTe¡s
(
buºCÚv”g’ûTe¡s_
, 
gibbsCÚv”g’ûTe¡s_
,

155 
gamma_
, 
•sÚE¼Ü_
, 
numGndP»ds
, 
numChašs_
);

156 
	}
}

161 
	$šãr
()

163 
	`š™NumTrue
();

164 
Tim”
 
tim”
;

166 
boŞ
 
buºšgIn
 = (
buºMaxS‹ps_
 > 0è? 
Œue
 : 
çl£
;

167 
£cÚdsEÏp£d
 = 0;

168 
¡¬tTimeSec
 = 
tim”
.
	`time
();

169 
cu¼’tTimeSec
;

172 ià(
ŒackCÏu£TrueCÁs_
)

173 
şau£no
 = 0; cÏu£nØ< 
şau£TrueCÁs_
->
	`size
(); clauseno++)

174 (*
şau£TrueCÁs_
)[
şau£no
] = 0;

177 
GroundP»diÿ‹HashA¼ay
 
afãùedGndP»ds
;

178 
A¼ay
<> 
afãùedGndP»dIndiûs
;

180 
numAtoms
 = 
¡©e_
->
	`g‘NumAtoms
();

181 
i
 = 0; i < 
numAtoms
; i++)

183 
afãùedGndP»ds
.
	`­³nd
(
¡©e_
->
	`g‘GndP»d
(
i
), 
numAtoms
);

184 
afãùedGndP»dIndiûs
.
	`­³nd
(
i
);

186 
c
 = 0; c < 
numChašs_
; c++)

187 
	`upd©eWtsFÜGndP»ds
(
afãùedGndP»ds
, 
afãùedGndP»dIndiûs
, 
c
);

188 
afãùedGndP»ds
.
	`ş—r
();

189 
afãùedGndP»dIndiûs
.
	`ş—r
();

191 
cout
 << "RuÂšg Gibb §m¶šg..." << 
’dl
;

193 
§m¶e
 = 0;

194 
numSam¶esP”P»d
 = 0;

195 
boŞ
 
dÚe
 = 
çl£
;

196 !
dÚe
)

198 ++
§m¶e
;

200 ià(
§m¶e
 % 
§m¶esP”Te¡_
 == 0)

202 
cu¼’tTimeSec
 = 
tim”
.
	`time
();

203 
£cÚdsEÏp£d
 = 
cu¼’tTimeSec
-
¡¬tTimeSec
;

204 
cout
 << "Sam¶Õ”…»d…” chašè" << 
§m¶e
 << ",imeƒlapsed = ";

205 
Tim”
::
	`´štTime
(
cout
, 
£cÚdsEÏp£d
); couˆ<< 
’dl
;

209 
c
 = 0; c < 
numChašs_
; c++)

211 
	`³rfÜmGibbsS‹p
(
c
, 
buºšgIn
, 
afãùedGndP»ds
,

212 
afãùedGndP»dIndiûs
);

213 ià(!
buºšgIn
è
numSam¶esP”P»d
++;

217 
i
 = 0; i < 
¡©e_
->
	`g‘NumAtoms
(); i++)

219 cÚ¡ 
boŞ
* 
v®s
 = 
ŒuthV®ues_
[
i
].
	`g‘I‹ms
();

221 ià(
buºšgIn
è
buºCÚv”g’ûTe¡s_
[
i
]->
	`­³ndNewV®ues
(
v®s
);

222 
gibbsCÚv”g’ûTe¡s_
[
i
]->
	`­³ndNewV®ues
(
v®s
);

225 ià(
§m¶e
 % 
§m¶esP”Te¡_
 != 0) ;

226 ià(
buºšgIn
)

230 
boŞ
 
buºCÚv”ged
 = 
çl£
;

232 ià(
‹¡CÚv”g’û_
)

233 
buºCÚv”ged
 =

234 
G–mªCÚv”g’ûTe¡
::
	`checkCÚv”g’ûOfAÎ
(
buºCÚv”g’ûTe¡s_
,

235 
¡©e_
->
	`g‘NumAtoms
(),

236 
Œue
);

237 iàĞ(
§m¶e
 >ğ
buºMšS‹ps_
 && 
buºCÚv”ged
)

238 || (
buºMaxS‹ps_
 >ğ0 && 
§m¶e
 >= burnMaxSteps_)

239 || (
maxSecÚds_
 > 0 && 
£cÚdsEÏp£d
 >= maxSeconds_))

241 
cout
 << "DÚbuºšg. " << 
§m¶e
 << " samples…er…red…er chain";

242 ià(
‹¡CÚv”g’û_
)

244 
cout
 << " (" << (
buºCÚv”ged
? "converged":"didn't converge")

245 <<"‡ˆtÙ® oà" << 
numChašs_
*
§m¶e
 << " samples…er…red)";

247 
cout
 << 
’dl
;

248 
buºšgIn
 = 
çl£
;

249 
§m¶e
 = 0;

254 
boŞ
 
gibbsCÚv”ged
 = 
çl£
;

256 ià(
‹¡CÚv”g’û_
)

257 
gibbsCÚv”ged
 =

258 
CÚv”g’ûTe¡
::
	`checkCÚv”g’ûOfAtL—¡
(
gibbsCÚv”g’ûTe¡s_
,

259 
¡©e_
->
	`g‘NumAtoms
(),

260 
§m¶e
, 
äacCÚv”ged_
,

261 
Œue
);

263 iàĞ(
§m¶e
 >ğ
mšS‹ps_
 && 
gibbsCÚv”ged
)

264 || (
maxS‹ps_
 >ğ0 && 
§m¶e
 >= maxSteps_)

265 || (
maxSecÚds_
 > 0 && 
£cÚdsEÏp£d
 >= maxSeconds_))

267 
cout
 << "DÚGibb §m¶šg. " << 
§m¶e


269 ià(
‹¡CÚv”g’û_
)

271 
cout
 << " (" << (
gibbsCÚv”ged
? "converged":"didn't converge")

272 <<"‡ˆtÙ® oà" << 
numSam¶esP”P»d
 << " samples…er…red)";

274 
cout
 << 
’dl
;

275 
dÚe
 = 
Œue
;

278 
cout
.
	`æush
();

281 
cout
<< "Timeaken for Gibbs sampling = ";

282 
Tim”
::
	`´štTime
(
cout
, 
tim”
.
	`time
(è- 
¡¬tTimeSec
); couˆ<< 
’dl
;

285 
i
 = 0; i < 
¡©e_
->
	`g‘NumAtoms
(); i++)

287 
	`£tProbTrue
(
i
, 
numTrue_
[i] / 
numSam¶esP”P»d
);

291 ià(
ŒackCÏu£TrueCÁs_
)

294 
i
 = 0; i < 
şau£TrueCÁs_
->
	`size
(); i++)

295 (*
şau£TrueCÁs_
)[
i
] = (*şau£TrueCÁs_)[i] / 
numSam¶esP”P»d
;

297 
	}
}

299 
	g´iv©e
:

304 
	$š™CÚv”g’ûTe¡s
(
G–mªCÚv”g’ûTe¡
**& 
buºCÚv”g’ûTe¡s
,

305 
CÚv”g’ûTe¡
**& 
gibbsCÚv”g’ûTe¡s
,

306 cÚ¡ & 
gamma
, cÚ¡ & 
•sÚF¿c
,

307 cÚ¡ & 
numGndP»ds
, cÚ¡ & 
numChašs
)

309 
buºCÚv”g’ûTe¡s
 = 
Ãw
 
G–mªCÚv”g’ûTe¡
*[
numGndP»ds
];

310 
gibbsCÚv”g’ûTe¡s
 = 
Ãw
 
CÚv”g’ûTe¡
*[
numGndP»ds
];

311 
i
 = 0; i < 
numGndP»ds
; i++)

313 
buºCÚv”g’ûTe¡s
[
i
] = 
Ãw
 
	`G–mªCÚv”g’ûTe¡
(
numChašs
);

314 
gibbsCÚv”g’ûTe¡s
[
i
] = 
Ãw
 
	`CÚv”g’ûTe¡
(
numChašs
, 
gamma
,

315 
•sÚF¿c
);

317 
	}
}

322 
	$d–‘eCÚv”g’ûTe¡s
(
G–mªCÚv”g’ûTe¡
**& 
buºCÚv”g’ûTe¡s
,

323 
CÚv”g’ûTe¡
**& 
gibbsCÚv”g’ûTe¡s
,

324 cÚ¡ & 
numGndP»ds
)

326 
i
 = 0; i < 
numGndP»ds
; i++)

328 
d–‘e
 
buºCÚv”g’ûTe¡s
[
i
];

329 
d–‘e
 
gibbsCÚv”g’ûTe¡s
[
i
];

331 
d–‘e
 [] 
buºCÚv”g’ûTe¡s
;

332 
d–‘e
 [] 
gibbsCÚv”g’ûTe¡s
;

333 
	}
}

335 
	g´iv©e
:

337 
gamma_
;

339 
	g•sÚE¼Ü_
;

341 
	gäacCÚv”ged_
;

343 
	gw®k§tTy³_
;

345 
	g‹¡CÚv”g’û_
;

347 
	g§m¶esP”Te¡_
;

349 
G–mªCÚv”g’ûTe¡
** 
	gbuºCÚv”g’ûTe¡s_
;

351 
CÚv”g’ûTe¡
** 
	ggibbsCÚv”g’ûTe¡s_
;

354 
MaxW®kS©
* 
	gmws_
;

	@infer/groundclause.cpp

66 
	~"groundşau£.h
"

67 
	~"ground´ediÿ‹.h
"

68 
	~"şau£.h
"

69 
	~"mÊ.h
"

71 
	gGroundCÏu£
::
	$GroundCÏu£
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
,

72 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
gndP»dHashA¼ay
)

73 : 
	`wt_
(
c
->
	`g‘Wt
()), 
	$foCÏu£F»qu’c›s_
(
NULL
)

75 
divideFaùÜs_
 = 
Ãw
 
m­
<,>();

76 ià(
gcdebug
è
cout
 << "CÚ¡ruùšg GroundCÏu£" << 
’dl
;

77 ià(
gcdebug
)

79 
cout
 << "S“Àground…»ds: " << 
’dl
;

80 
i
 = 0; i < 
gndP»dHashA¼ay
->
	`size
(); i++)

82 (*
gndP»dHashA¼ay
)[
i
]->
	`´št
(
cout
);

83 
cout
 << 
’dl
;

87 
numP»ds
 = 
c
->
	`g‘NumP»diÿ‹s
();

88 ià(
gcdebug
è
cout
 << "Numb” oà´eds: " << 
numP»ds
 << 
’dl
;

89 
gndP»dIndexes_
 = 
Ãw
 
A¼ay
<>;

90 
A¼ay
<>* 
štA¼R•
 = 
Ãw
 Array<>;

93 
i
 = 0; i < 
numP»ds
; i++)

95 ià(
gcdebug
è
cout
 << "Lookšg‡ˆ´ed " << 
i
 << 
’dl
;

96 
boŞ
 
d–‘eP»d
 = 
çl£
;

97 
P»diÿ‹
* 
´ed
 = 
c
->
	`g‘P»diÿ‹
(
i
);

99 ià(
gcdebug
è
cout
 << "CÚ¡ruùšg GroundP»diÿ‹" << 
’dl
;

100 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
(
´ed
);

101 
	`as£¹
(
gndP»d
);

102 ià(
gcdebug
)

104 
cout
 << "Constructed GroundPredicate ";

105 
gndP»d
->
	`´št
(
cout
);

106 
cout
 << 
’dl
;

109 ià(
gcdebug
è
cout
 << "Fšdšg GroundP»diÿ‹" << 
’dl
;

110 
šdex
 = 
gndP»dHashA¼ay
->
	`fšd
(
gndP»d
);

112 ià(
gcdebug
è
cout
 << "Index oàGroundP»diÿ‹: " << 
šdex
 << 
’dl
;

113 ià(
šdex
 < 0 )

115 ià(
gcdebug
è
cout
 << "P»d " << 
i
 << "‚Ù s“ÀbefÜe" << 
’dl
;

116 
šdex
 = 
gndP»dHashA¼ay
->
	`­³nd
(
gndP»d
) + 1;

117 ià(
gcdebug
è
cout
 << "Aµ’ded it" << 
’dl
;

121 ià(
gcdebug
è
cout
 << "P»d " << 
i
 << " s“ÀbefÜe" << 
’dl
;

122 
d–‘eP»d
 = 
Œue
;

123 
šdex
++;

126 
wl™
;

127 ià(
´ed
->
	`g‘S’£
())

129 
wl™
 = 
šdex
;

130 
štA¼R•
->
	`­³nd
(1);

134 
wl™
 = -
šdex
;

135 
štA¼R•
->
	`­³nd
(()0);

137 
štA¼R•
->
	`­³nd
(
šdex
);

138 
gndP»dIndexes_
->
	`­³nd
(
wl™
);

140 ià(
d–‘eP»d
è
d–‘e
 
gndP»d
;

143 
hashCode_
 = 
Hash
::
	`hash
(*
štA¼R•
);

144 
d–‘e
 
štA¼R•
;

145 
gndP»dIndexes_
->
	`com´ess
();

146 
	}
}

220 
	gGroundCÏu£
::
GroundCÏu£
(cÚ¡ GroundCÏu£* cÚ¡ & 
gc
,

221 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
gndP»dHashA¼ay
, 
A¼ay
<> &
´edIndiûs
)

222 : 
wt_
(0.0), 
	$foCÏu£F»qu’c›s_
(
NULL
)

224 
divideFaùÜs_
 = 
Ãw
 
m­
<,>();

239 
numP»ds
 = 
´edIndiûs
.
	`size
();

240 ià(
gcdebug
è
cout
<<"numP»d : "<<
numP»ds
<<
’dl
;

241 
gndP»dIndexes_
 = 
Ãw
 
A¼ay
<>;

242 
A¼ay
<>* 
štA¼R•
 = 
Ãw
 Array<>;

243 ià(
gcdebug
è
cout
<<"gndP»dHashA¼ay siz: "<<
gndP»dHashA¼ay
->
	`size
()<<
’dl
;

245 
a
 = 0;‡ < 
numP»ds
;‡++)

247 
boŞ
 
d–‘eP»d
 = 
çl£
;

248 
i
 = 
´edIndiûs
[
a
];

279 
wl™
 = (*(
gc
->
gndP»dIndexes_
))[
i
];

280 
gndP»dIndexes_
->
	`­³nd
(
wl™
);

281 ià(
wl™
 > 0)

283 
štA¼R•
->
	`­³nd
(1);

287 
štA¼R•
->
	`­³nd
(()0);

289 
štA¼R•
->
	`­³nd
(
	`abs
(
wl™
));

293 
hashCode_
 = 
Hash
::
	`hash
(*
štA¼R•
);

294 
d–‘e
 
štA¼R•
;

295 
gndP»dIndexes_
->
	`com´ess
();

296 
	}
}

305 
	gGroundCÏu£
::
	$­³ndToGndP»ds
(

306 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
gndP»dHashA¼ay
)

309 if(
gcdebug
)
cout
<<"gndP»dIndexes_siz: "<<
gndP»dIndexes_
->
	`size
()<<
’dl
;

311 
i
 = 0; i < 
gndP»dIndexes_
->
	`size
(); i++)

313 
boŞ
 
£n£
 = ((*
gndP»dIndexes_
)[
i
] > 0);

314 
šdex
 = 
	`abs
((*
gndP»dIndexes_
)[
i
]) - 1;

315 if(
gcdebug
)
cout
<<"£n£ : "<<
£n£
<<
’dl
;

317 (*
gndP»dHashA¼ay
)[
šdex
]->
	`­³ndGndCÏu£
(
this
, 
£n£
);

318 if(
gcdebug
)
cout
<<"gndşau£­³nded..."<<
’dl
;

321 
	}
}

329 
	gGroundCÏu£
::
	$­³ndToR—lGndP»ds
(

330 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
gndP»dHashA¼ay
)

333 if(
gcdebug
)
cout
<<"gndP»dIndexes_siz: "<<
gndP»dIndexes_
->
	`size
()<<
’dl
;

335 
i
 = 0; i < 
gndP»dIndexes_
->
	`size
(); i++)

337 
boŞ
 
£n£
 = ((*
gndP»dIndexes_
)[
i
] > 0);

338 
šdex
 = 
	`abs
((*
gndP»dIndexes_
)[
i
]) - 1;

339 if(
gcdebug
)
cout
<<"£n£ : "<<
£n£
<<
’dl
;

341 (*
gndP»dHashA¼ay
)[
šdex
]->
	`­³ndR—lGndCÏu£
(
this
, 
£n£
);

342 if(
gcdebug
)
cout
<<"»®Gndşau£­³nded..."<<
’dl
;

345 
	}
}

347 
	gGroundCÏu£
::
	$£tWtToWeigh‹dSumOfP¬’tWts
(cÚ¡ 
MLN
* cÚ¡ & 
mÊ
)

349 
wt_
 = 0;

350 
IÁBoŞPaœIŒ
 
™r
;

351 
™r
 = 
foCÏu£F»qu’c›s_
->
	`begš
();

352 
™r
 !ğ
foCÏu£F»qu’c›s_
->
	`’d
(); itr++)

354 
şau£no
 = 
™r
->
fœ¡
;

355 
äequ’cy
 = 
™r
->
£cÚd
.
fœ¡
;

356 
boŞ
 
šv”tWt
 = 
™r
->
£cÚd
.second;

357 
m­
<,>::
™”©Ü
 
™r2
 = 
divideFaùÜs_
->
	`fšd
(
şau£no
);

358 
	`as£¹
(
™r2
 !ğ
divideFaùÜs_
->
	`’d
());

359 
divideFaùÜ
 = 
™r2
->
£cÚd
;

360 
·»ÁWeight
 = 
mÊ
->
	`g‘CÏu£
(
şau£no
)->
	`g‘Wt
();

361 ià(
šv”tWt
è
wt_
 -ğ(
·»ÁWeight
*
äequ’cy
)/
divideFaùÜ
;

362 
wt_
 +ğ(
·»ÁWeight
*
äequ’cy
)/
divideFaùÜ
;

364 
	}
}

372 
	gGroundCÏu£
::
	$£tWtToSumOfP¬’tWts
(cÚ¡ 
MLN
* cÚ¡ & 
mÊ
)

374 
wt_
 = 0;

376 
IÁBoŞPaœIŒ
 
™r
;

377 
™r
 = 
foCÏu£F»qu’c›s_
->
	`begš
();

378 
™r
 !ğ
foCÏu£F»qu’c›s_
->
	`’d
(); itr++)

380 
şau£no
 = 
™r
->
fœ¡
;

381 
äequ’cy
 = 
™r
->
£cÚd
.
fœ¡
;

382 
boŞ
 
šv”tWt
 = 
™r
->
£cÚd
.second;

383 
·»ÁWeight
 = 
mÊ
->
	`g‘CÏu£
(
şau£no
)->
	`g‘Wt
();

384 ià(
šv”tWt
è
wt_
 -ğ
·»ÁWeight
*
äequ’cy
;

385 
wt_
 +ğ
·»ÁWeight
*
äequ’cy
;

387 
	}
}

389 
	gGroundCÏu£
::
	$´štW™houtWt
(
o¡»am
& 
out
) const

391 
i
 = 0; i < 
gndP»dIndexes_
->
	`size
(); i++)

393 
out
 << (*
gndP»dIndexes_
)[
i
];

394 ià(
i
 < 
gndP»dIndexes_
->
	`size
(è- 1è
out
 << " v ";

396 
	}
}

398 
	gGroundCÏu£
::
	$´št
(
o¡»am
& 
out
) const

399 { 
out
 << 
wt_
 << " "; 
	`´štW™houtWt
(out); 
	}
}

401 
	go¡»am
&

402 
	gGroundCÏu£
::
	$´št
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡& 
domaš
,

403 cÚ¡ 
boŞ
& 
w™hWt
, cÚ¡ boŞ& 
asIÁ
,

404 cÚ¡ 
boŞ
& 
w™hSŒV¬
,

405 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
´edHashA¼ay
) const

407 ià(
w™hWt
è
out
 << 
wt_
 << " ";

409 
A¼ay
<
P»diÿ‹
*> 
eqP»ds
;

410 
A¼ay
<
P»diÿ‹
*> 
š‹º®P»ds
;

411 
i
 = 0; i < 
gndP»dIndexes_
->
	`size
(); i++)

413 
šdex
 = (*
gndP»dIndexes_
)[
i
];

414 
P»diÿ‹
* 
´ed
 =

415 (*
´edHashA¼ay
)[
	`abs
(
šdex
)-1]->
	`ü—‹Equiv®’tP»diÿ‹
(
domaš
);

418 
	`as£¹
(
´ed
);

419 ià(
šdex
 < 0è
´ed
->
	`£tS’£
(
çl£
);

420 
´ed
->
	`£tS’£
(
Œue
);

422 ià(
´ed
->
	`isEqu®P»d
())

423 
eqP»ds
.
	`­³nd
(
´ed
);

425 ià(
´ed
->
	`isIÁ”ÇlP»d
())

426 
š‹º®P»ds
.
	`­³nd
(
´ed
);

429 ià(
asIÁ
è
´ed
->
	`´štAsIÁ
(
out
);

430 ià(
w™hSŒV¬
è
´ed
->
	`´štW™hSŒV¬
(
out
, 
domaš
);

431 
´ed
->
	`´št
(
out
,
domaš
);

432 ià(
i
 < 
gndP»dIndexes_
->
	`size
(è- 1 || !
eqP»ds
.
	`em±y
() ||

433 !
š‹º®P»ds
.
	`em±y
()è
out
 << " v ";

434 
d–‘e
 
´ed
;

438 
i
 = 0; i < 
eqP»ds
.
	`size
(); i++)

440 ià(
asIÁ
è
eqP»ds
[
i
]->
	`´štAsIÁ
(
out
);

441 ià(
w™hSŒV¬
è
eqP»ds
[
i
]->
	`´štW™hSŒV¬
(
out
,
domaš
);

442 
eqP»ds
[
i
]->
	`´št
(
out
,
domaš
);

443 
out
 << ((
i
 !ğ
eqP»ds
.
	`size
()-1 || !
š‹º®P»ds
.
	`em±y
())?" v ":"");

444 
d–‘e
 
eqP»ds
[
i
];

447 
i
 = 0; i < 
š‹º®P»ds
.
	`size
(); i++)

449 ià(
asIÁ
è
š‹º®P»ds
[
i
]->
	`´štAsIÁ
(
out
);

450 ià(
w™hSŒV¬
è
š‹º®P»ds
[
i
]->
	`´štW™hSŒV¬
(
out
,
domaš
);

451 
š‹º®P»ds
[
i
]->
	`´št
(
out
,
domaš
);

452 
out
 << ((
i
!=
š‹º®P»ds
.
	`size
()-1)?" v ":"");

453 
d–‘e
 
š‹º®P»ds
[
i
];

456  
out
;

457 
	}
}

460 
	go¡»am
&

461 
	gGroundCÏu£
::
	$´štW™houtWt
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

462 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
´edHashA¼ay
) const

463 {  
	`´št
(
out
, 
domaš
, 
çl£
, f®£, f®£, 
´edHashA¼ay
); 
	}
}

465 
	go¡»am
&

466 
	gGroundCÏu£
::
	$´štW™houtWtW™hSŒV¬
(
o¡»am
& 
out
,

467 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

468 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
´edHashA¼ay
) const

469 {  
	`´št
(
out
, 
domaš
, 
çl£
, f®£, 
Œue
, 
´edHashA¼ay
); 
	}
}

471 
	go¡»am
&

472 
	gGroundCÏu£
::
	$´štW™hWtAndSŒV¬
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡& 
domaš
,

473 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
´edHashA¼ay
) const

474 {  
	`´št
(
out
, 
domaš
, 
Œue
, 
çl£
,rue, 
´edHashA¼ay
); 
	}
}

476 
	go¡»am
&

477 
	gGroundCÏu£
::
	$´št
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡& 
domaš
,

478 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
´edHashA¼ay
) const

479 {  
	`´št
(
out
, 
domaš
, 
Œue
, 
çl£
, f®£, 
´edHashA¼ay
); 
	}
}

481 
	go¡»am
&

482 
	gGroundCÏu£
::
	$´štW™houtWtW™hSŒV¬AndP”iod
(
o¡»am
& 
out
,

483 cÚ¡ 
Domaš
* cÚ¡& 
domaš
,

484 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
´edHashA¼ay
) const

486 
	`´štW™houtWtW™hSŒV¬
(
out
, 
domaš
, 
´edHashA¼ay
);

487 ià(
	`isH¬dCÏu£
()è
out
 << ".";

488  
out
;

489 
	}
}

495 
	gGroundCÏu£
::
	$sizeKB
()

497 
size
 = 0;

499 ià(
gndP»dIndexes_
)

500 
size
 +ğ(
gndP»dIndexes_
->
	`size
()*() / 1024.0);

502 
size
 += (() / 1024.0);

504 ià(
foCÏu£F»qu’c›s_
)

505 
size
 +ğ(
foCÏu£F»qu’c›s_
->
	`size
()*

506 (2*(è+ (
boŞ
)) / 1024.0);

508  
size
;

509 
	}
}

	@infer/groundclause.h

67 #iâdeà
GROUNDCLAUSE_H_JUN_26_2005


68 
	#GROUNDCLAUSE_H_JUN_26_2005


	)

70 
	~<cæßt
>

71 
	~<ext/hash_£t
>

72 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

73 
	~"hash¬¿y.h
"

74 
	~"¬¿y.h
"

75 
	~"hash.h
"

76 
	~<m­
>

77 
	~<c¡ršg
>

79 
usšg
 
Çme¥aû
 
	g¡d
;

82 
	gm­
<, 
	t·œ
<,
	tboŞ
> > 
	tIÁBoŞPaœ
;

83 
	gIÁBoŞPaœ
::
	t™”©Ü
 
	tIÁBoŞPaœIŒ
;

88 cÚ¡ 
	gHARD_GROUNDCLAUSE_WT
 = 100;

89 cÚ¡ 
boŞ
 
	ggcdebug
 = 
çl£
;

92 
şass
 
	gMLN
;

93 
şass
 
	gDomaš
;

94 
şass
 
	gCÏu£
;

95 
şass
 
	gGroundP»diÿ‹
;

96 
şass
 
	gHashGroundP»diÿ‹
;

97 
şass
 
	gEqu®GroundP»diÿ‹
;

100 
	gHashA¼ay
<
	tGroundP»diÿ‹
*, 
	tHashGroundP»diÿ‹
, 
	tEqu®GroundP»diÿ‹
>

101 
	tGroundP»diÿ‹HashA¼ay
;

106 şas 
	cGroundCÏu£


108 
	mpublic
:

109 
GroundCÏu£
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
,

110 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
gndP»dHashA¼ay
);

112 
GroundCÏu£
(cÚ¡ GroundCÏu£* cÚ¡ & 
gc
,

113 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
gndP»dHashA¼ay
, 
A¼ay
<> &
´edIndiûs
);

115 ~
	$GroundCÏu£
()

117 ià(
gndP»dIndexes_
è
d–‘e
 gndPredIndexes_;

118 ià(
foCÏu£F»qu’c›s_
è
d–‘e
 foClauseFrequencies_;

121 
	$d–‘eFoCÏu£F»qu’c›s
()

123 ià(
foCÏu£F»qu’c›s_
è
d–‘e
 foClauseFrequencies_;

124 
foCÏu£F»qu’c›s_
 = 
NULL
;

125 
	}
}

127 
	$addWt
(cÚ¡ & 
wt
)

128 { ià(
wt_
 =ğ
HARD_GROUNDCLAUSE_WT
è; wt_ +ğ
wt
; 
	}
}

130 
	$£tWt
(cÚ¡ & 
wt
)

131 { ià(
wt_
 =ğ
HARD_GROUNDCLAUSE_WT
è; wt_ = 
wt
; 
	}
}

133 
	$g‘Wt
(ècÚ¡ {  
wt_
; 
	}
}

135 
	$£tWtToH¬dWt
(è{ 
wt_
 = 
HARD_GROUNDCLAUSE_WT
; 
	}
}

136 
boŞ
 
	$isH¬dCÏu£
(ècÚ¡ {  (
wt_
 =ğ
HARD_GROUNDCLAUSE_WT
); 
	}
}

138 
	$g‘NumGroundP»diÿ‹s
(ècÚ¡ {  
gndP»dIndexes_
->
	`size
(); 
	}
}

140 cÚ¡ 
GroundP»diÿ‹
* 
	$g‘GroundP»diÿ‹
(cÚ¡ & 
i
,

141 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
gndP»dHashA¼ay
) const

143  (*
gndP»dHashA¼ay
)[
	`abs
((*
gndP»dIndexes_
)[
i
]) - 1];

144 
	}
}

152 
­³ndToGndP»ds
(
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
gndP»dHashA¼ay
);

153 
­³ndToR—lGndP»ds
(

154 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
gndP»dHashA¼ay
);

157 
boŞ
 
	$g‘GroundP»diÿ‹S’£
(cÚ¡ & 
i
) const

158 {  ((*
gndP»dIndexes_
)[
i
] > 0); 
	}
}

160 
	$£tGroundP»diÿ‹S’£
(cÚ¡ & 
i
, cÚ¡ 
boŞ
& 
£n£
)

163 ià((
£n£
 && (*
gndP»dIndexes_
)[
i
] > 0) ||

164 (!
£n£
 && (*
gndP»dIndexes_
)[
i
] < 0))

167 (*
gndP»dIndexes_
)[
i
] = -(*gndPredIndexes_)[i];

168 
	`»hash
();

169 
	}
}

171 
	$£tGroundP»diÿ‹Index
(cÚ¡ & 
i
, cÚ¡ & 
gndP»dIdx
)

172 { (*
gndP»dIndexes_
)[
i
] = 
gndP»dIdx
; 
	}
}

174 
	$g‘GroundP»diÿ‹Index
(cÚ¡ & 
i
) const

175 {  (*
gndP»dIndexes_
)[
i
]; 
	}
}

177 cÚ¡ 
	gA¼ay
<>* 
	$g‘GndP»dIndexes
() const

179  
gndP»dIndexes_
;

180 
	}
}

189 
£tWtToSumOfP¬’tWts
(cÚ¡ 
MLN
* cÚ¡ & 
mÊ
);

190 
£tWtToWeigh‹dSumOfP¬’tWts
(cÚ¡ 
MLN
* cÚ¡ & 
mÊ
);

192 
IÁBoŞPaœ
 *
	$g‘CÏu£F»qu’c›s
()

194  
foCÏu£F»qu’c›s_
;

195 
	}
}

197 cÚ¡ 
	g·œ
<,
	gboŞ
>* 
	$g‘CÏu£F»qu’cyPaœ
(
şau£no
) const

199 
·œ
<,
boŞ
>* 
»suÉ
 = 
Ãw
…air<,bool>();

200 
»suÉ
->
fœ¡
 = 0;

201 
»suÉ
->
£cÚd
 = 
çl£
;

202 ià(!
foCÏu£F»qu’c›s_
è 
»suÉ
;

203 
IÁBoŞPaœIŒ
 
™r
 = 
foCÏu£F»qu’c›s_
->
	`fšd
(
şau£no
);

204 ià(
™r
 =ğ
foCÏu£F»qu’c›s_
->
	`’d
())

206  
»suÉ
;

210 
d–‘e
 
»suÉ
;

211  &(
™r
->
£cÚd
);

213 
	}
}

215 
	$g‘CÏu£F»qu’cy
(
şau£no
)

217 ià(!
foCÏu£F»qu’c›s_
)  0;

218 
IÁBoŞPaœIŒ
 
™r
 = 
foCÏu£F»qu’c›s_
->
	`fšd
(
şau£no
);

219 ià(
™r
 =ğ
foCÏu£F»qu’c›s_
->
	`’d
())

222  
™r
->
£cÚd
.
fœ¡
;

223 
	}
}

225 
	$upd©eDivideFaùÜ
(
şau£no
, 
divideFaùÜ
)

227 if(!
divideFaùÜs_
)

228 
divideFaùÜs_
 = 
Ãw
 
m­
<,>();

229 
m­
<,>::
™”©Ü
 
™r
 = 
divideFaùÜs_
->
	`fšd
(
şau£no
);

230 if(
™r
 =ğ
divideFaùÜs_
->
	`’d
())

231 
divideFaùÜs_
->
	`š£¹
(
	`make_·œ
(
şau£no
, 
divideFaùÜ
));

234 
cu¼’tD
 = 
™r
->
£cÚd
;

235 
ÃwD
 = (
cu¼’tD
*
divideFaùÜ
)/(currentD+divideFactor);

236 
™r
->
£cÚd
 = 
ÃwD
;

238 
	}
}

240 
	$šüem’tCÏu£F»qu’cy
(
şau£no
, 
šüem’t
, 
boŞ
 
šv”tWt
)

242 ià(!
foCÏu£F»qu’c›s_
)

243 
foCÏu£F»qu’c›s_
 = 
Ãw
 
IÁBoŞPaœ
;

244 
IÁBoŞPaœIŒ
 
™r
 = 
foCÏu£F»qu’c›s_
->
	`fšd
(
şau£no
);

245 ià(
™r
 =ğ
foCÏu£F»qu’c›s_
->
	`’d
())

246 
foCÏu£F»qu’c›s_
->

247 
	`š£¹
(
	`make_·œ
(
şau£no
, make_·œ(
šüem’t
, 
šv”tWt
)));

249 
™r
->
£cÚd
.
fœ¡
 +ğ
šüem’t
;

250 
	}
}

258 
	$»moveGndP»d
(cÚ¡ & 
gndP»d
)

260 
i
 = 0; i < 
gndP»dIndexes_
->
	`size
(); i++)

262 ià(
gndP»d
 =ğ(*
gndP»dIndexes_
)[
i
])

264 
gndP»dIndexes_
->
	`»moveI‹m
(
i
);

265 
gndP»dIndexes_
->
	`com´ess
();

266 
	`»hash
();

270 
	}
}

279 
	$chªgeGndP»dIndex
(cÚ¡ & 
ŞdIdx
, cÚ¡ & 
ÃwIdx
)

281 
i
 = 0; i < 
gndP»dIndexes_
->
	`size
(); i++)

283 ià(
ŞdIdx
 =ğ(*
gndP»dIndexes_
)[
i
])

285 (*
gndP»dIndexes_
)[
i
] = 
ÃwIdx
;

286 
	`»hash
();

290 
	}
}

292 
size_t
 
	$hashCode
(è{  
hashCode_
; 
	}
}

294 
boŞ
 
	$§me
(cÚ¡ 
GroundCÏu£
* cÚ¡ & 
gc
)

296 ià(
this
 =ğ
gc
è 
Œue
;

297 ià(
gndP»dIndexes_
->
	`size
(è!ğ
gc
->
	`g‘GndP»dIndexes
()->size())

299  
çl£
;

302  (
	`memcmp
(
gndP»dIndexes_
->
	`g‘I‹ms
(),

303 
gc
->
	`g‘GndP»dIndexes
()->
	`g‘I‹ms
(),

304 (
gndP»dIndexes_
->
	`size
())*()) == 0);

305 
	}
}

307 
	$´štW™houtWt
(
o¡»am
& 
out
) const;

308 
	$´št
(
o¡»am
& 
out
) const;

310 
o¡»am
& 
	$´št
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡& 
domaš
,

311 cÚ¡ 
boŞ
& 
w™hWt
, cÚ¡ boŞ& 
asIÁ
,

312 cÚ¡ 
boŞ
& 
w™hSŒV¬
,

313 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
´edHashA¼ay
) const;

315 
o¡»am
& 
	$´štW™houtWt
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

316 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
´edHashA¼ay
) const;

318 
o¡»am
&

319 
	$´štW™houtWtW™hSŒV¬
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

320 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
´edHashA¼ay
) const;

322 
o¡»am
& 
	$´štW™hWtAndSŒV¬
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡& 
domaš
,

323 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
´edHashA¼ay
) const;

325 
o¡»am
& 
	$´št
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡& 
domaš
,

326 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
´edHashA¼ay
) const;

328 
o¡»am
& 
	$´štW™houtWtW™hSŒV¬AndP”iod
(
o¡»am
& 
out
,

329 cÚ¡ 
Domaš
* cÚ¡& 
domaš
,

330 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
´edHashA¼ay
) const;

332 
	`sizeKB
();

336 
´iv©e
:

341 
	$»hash
()

343 
A¼ay
<>* 
štA¼R•
 = 
Ãw
 Array<>;

346 
i
 = 0; i < 
gndP»dIndexes_
->
	`size
(); i++)

349 ià((*
gndP»dIndexes_
)[
i
] > 0)

350 
štA¼R•
->
	`­³nd
(1);

352 
štA¼R•
->
	`­³nd
(()0);

353 
štA¼R•
->
	`­³nd
(
	`abs
((*
gndP»dIndexes_
)[
i
]));

356 
hashCode_
 = 
Hash
::
	`hash
(*
štA¼R•
);

357 
d–‘e
 
štA¼R•
;

358 
	}
}

360 
	g´iv©e
:

362 
size_t
 
hashCode_
;

363 
	gA¼ay
<>* 
	ggndP»dIndexes_
;

367 
	gwt_
;

371 
IÁBoŞPaœ
* 
	gfoCÏu£F»qu’c›s_
;

373 
	gm­
<,>* 
	gdivideFaùÜs_
;

381 şas 
	cHashGroundCÏu£


383 
	mpublic
:

384 
size_t
 
	$İ”©Ü
()(
GroundCÏu£
* cÚ¡ & 
gc
ècÚ¡ {  gc->
	`hashCode
(); }

385 
	}
};

388 şas 
	cEqu®GroundCÏu£


390 
	mpublic
:

391 
boŞ
 
	$İ”©Ü
()(
GroundCÏu£
* cÚ¡ & 
c1
, GroundCÏu£* cÚ¡ & 
c2
) const

392 {  
c1
->
	`§me
(
c2
); }

393 
	}
};

398 
	gHashA¼ay
<
	tGroundCÏu£
*, 
	tHashGroundCÏu£
, 
	tEqu®GroundCÏu£
>

399 
	tGroundCÏu£HashA¼ay
;

401 
	ghash_£t
<
	tGroundCÏu£
*, 
	tHashGroundCÏu£
, 
	tEqu®GroundCÏu£
>

402 
	tGroundCÏu£S‘
;

	@infer/groundpredicate.h

66 #iâdeà
GROUNDPREDICATE_H_JUN_26_2005


67 
	#GROUNDPREDICATE_H_JUN_26_2005


	)

69 
	~<cm©h
>

70 
	~"domaš.h
"

71 
	~"´ediÿ‹.h
"

72 
	~"groundşau£.h
"

73 
	~"groundfÜmuÏ.h
"

75 şas 
	cGroundP»diÿ‹


77 
	mpublic
:

78 
	$GroundP»diÿ‹
(
P»diÿ‹
* cÚ¡ & 
´ed
)

79 : 
	`ÃgGndCÏu£s_
(
Ãw
 
A¼ay
<
GroundCÏu£
*>), 
	`»®NegGndCÏu£s_
(new Array<GroundClause*>),

80 
	`posGndCÏu£s_
(
Ãw
 
A¼ay
<
GroundCÏu£
*>), 
	`»®PosGndCÏu£s_
(new Array<GroundClause*>),

81 
	`gndCÏu£S‘_
(
Ãw
 
GroundCÏu£S‘
), 
	`»®GndCÏu£S‘_
(new GroundClauseSet),

82 
	`ŒuthV®ue_
(
çl£
), 
	`wtWh’F®£_
(0), 
	$wtWh’True_
(0)

84 
	`as£¹
(
´ed
->
	`isGrounded
());

85 
numT”ms
 = 
´ed
->
	`g‘NumT”ms
();

86 
štA¼R•_
 = 
Ãw
 
A¼ay
<>(
numT”ms
+1);

87 
štA¼R•_
->
	`growToSize
(
numT”ms
+1);

88 (*
štA¼R•_
)[0] = 
´ed
->
	`g‘Id
();

89 
	`as£¹
((*
štA¼R•_
)[0] >= 0);

90 
i
 = 0; i < 
numT”ms
; i++)

92 (*
štA¼R•_
)[
i
+1] = 
´ed
->
	`g‘T”m
(i)->
	`g‘Id
();

93 
	`as£¹
((*
štA¼R•_
)[
i
+1] >= 0);

95 
štA¼R•_
->
	`com´ess
();

96 
hashCode_
 = 
Hash
::
	`hash
(*
štA¼R•_
);

100 ~
	$GroundP»diÿ‹
()

102 ià(
štA¼R•_
è
d–‘e
 intArrRep_;

103 ià(
gndCÏu£S‘_
è
d–‘e
 gndClauseSet_;

104 ià(
»®GndCÏu£S‘_
è
d–‘e
„ealGndClauseSet_;

105 
d–‘e
 
ÃgGndCÏu£s_
;

106 
d–‘e
 
»®NegGndCÏu£s_
;

107 
d–‘e
 
posGndCÏu£s_
;

108 
d–‘e
 
»®PosGndCÏu£s_
;

109 
	}
}

112 
	$d–‘eGndCÏu£S‘
()

113 { ià(
gndCÏu£S‘_
è
d–‘e
 gndCÏu£S‘_; gndCÏu£S‘_ = 
NULL
;

114 ià(
»®GndCÏu£S‘_
è
d–‘e
„—lGndCÏu£S‘_;„—lGndCÏu£S‘_ = 
NULL
;

115 
	}
}

121 
	$»moveGndCÏu£s
()

123 
	`d–‘eGndCÏu£S‘
();

124 
d–‘e
 
ÃgGndCÏu£s_
;

125 
d–‘e
 
»®NegGndCÏu£s_
;

126 
d–‘e
 
posGndCÏu£s_
;

127 
d–‘e
 
»®PosGndCÏu£s_
;

128 
ÃgGndCÏu£s_
 = 
Ãw
 
A¼ay
<
GroundCÏu£
*>;

129 
»®NegGndCÏu£s_
 = 
Ãw
 
A¼ay
<
GroundCÏu£
*>;

130 
posGndCÏu£s_
 = 
Ãw
 
A¼ay
<
GroundCÏu£
*>;

131 
»®PosGndCÏu£s_
 = 
Ãw
 
A¼ay
<
GroundCÏu£
*>;

132 
	}
}

138 
P»diÿ‹
* 
	$ü—‹Equiv®’tP»diÿ‹
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

140 cÚ¡ 
P»diÿ‹Tem¶©e
* 
±
 = 
domaš
->
	`g‘P»diÿ‹Tem¶©e
(
	`g‘Id
());

141 
	`as£¹
(
±
);

142 
P»diÿ‹
* 
´ed
 = 
Ãw
 
	`P»diÿ‹
(
±
);

143 
j
 = 0; j < 
±
->
	`g‘NumT”ms
(); j++)

144 
´ed
->
	`­³ndT”m
(
Ãw
 
	`T”m
(
	`g‘T”mId
(
j
), (*í»d, 
Œue
));

145  
´ed
;

146 
	}
}

148 
	$g‘Id
(ècÚ¡ {  (*
štA¼R•_
)[0]; 
	}
}

149 
	$g‘T”mId
(cÚ¡ & 
idx
ècÚ¡ {  (*
štA¼R•_
)[idx+1]; 
	}
}

150 
	$g‘NumT”ms
(ècÚ¡ {  
štA¼R•_
->
	`size
(è- 1; 
	}
}

152 
boŞ
 
	$g‘TruthV®ue
(ècÚ¡ {  
ŒuthV®ue_
; 
	}
}

153 
	$£tTruthV®ue
(cÚ¡ 
boŞ
& 
tv
è{ 
ŒuthV®ue_
 =v; 
	}
}

155 
	$g‘WtWh’F®£
(ècÚ¡ {  
wtWh’F®£_
; 
	}
}

156 
	$£tWtWh’F®£
(cÚ¡ & 
wt
è{
wtWh’F®£_
 = wt;
	}
}

157 
	$addWtWh’F®£
(cÚ¡ & 
wt
è{
wtWh’F®£_
 +ğwt;
	}
}

159 
	$g‘WtWh’True
(ècÚ¡ {  
wtWh’True_
; 
	}
}

160 
	$£tWtWh’True
(cÚ¡ & 
wt
è{
wtWh’True_
 = wt;
	}
}

161 
	$addWtWh’True
(cÚ¡ & 
wt
è{
wtWh’True_
 +ğwt;
	}
}

164 
	$g‘Probab™y
()

165 {  1.0 / ( 1.0 + 
	`exp
(
wtWh’F®£_
 - 
wtWh’True_
)); 
	}
}

168 
	$com´ess
()

170 
ÃgGndCÏu£s_
->
	`com´ess
();

171 
posGndCÏu£s_
->
	`com´ess
();

172 
	}
}

175 
size_t
 
	$hashCode
(è{  
hashCode_
; 
	}
}

177 cÚ¡ 
	gA¼ay
<>* 
	$g‘IÁA¼R•
(ècÚ¡ {  
štA¼R•_
; 
	}
}

180 
­³ndIÁA¼R•
(
A¼ay
<>& 
»p
è{ 
	g»p
.
­³nd
(*
štA¼R•_
); }

183 
boŞ
 
	$­³ndGndCÏu£
(
GroundCÏu£
* cÚ¡ & 
gc
, cÚ¡ 
boŞ
& 
£n£InGndCÏu£
)

185 ià(
gndCÏu£S‘_
=ğ
NULL
 || gndCÏu£S‘_->
	`fšd
(
gc
è=ğgndCÏu£S‘_->
	`’d
())

187 ià(
gndCÏu£S‘_
ègndCÏu£S‘_->
	`š£¹
(
gc
);

189 ià(
£n£InGndCÏu£
è
posGndCÏu£s_
->
	`­³nd
(
gc
);

190 
ÃgGndCÏu£s_
->
	`­³nd
(
gc
);

192  
Œue
;

194  
çl£
;

195 
	}
}

197 
boŞ
 
	$­³ndR—lGndCÏu£
(
GroundCÏu£
* cÚ¡ & 
gc
, cÚ¡ 
boŞ
& 
£n£InGndCÏu£
)

199 ià(
»®GndCÏu£S‘_
=ğ
NULL
 ||„—lGndCÏu£S‘_->
	`fšd
(
gc
è=ğ»®GndCÏu£S‘_->
	`’d
())

201 ià(
»®GndCÏu£S‘_
è»®GndCÏu£S‘_->
	`š£¹
(
gc
);

203 ià(
£n£InGndCÏu£
è
»®PosGndCÏu£s_
->
	`­³nd
(
gc
);

204 
»®NegGndCÏu£s_
->
	`­³nd
(
gc
);

206  
Œue
;

208  
çl£
;

209 
	}
}

211 cÚ¡ 
	gA¼ay
<
	gGroundCÏu£
*>* 
	$g‘NegGndCÏu£s
(ècÚ¡ {  
ÃgGndCÏu£s_
;
	}
}

212 cÚ¡ 
	gA¼ay
<
	gGroundCÏu£
*>* 
	$g‘R—lNegGndCÏu£s
(ècÚ¡ {  
»®NegGndCÏu£s_
;
	}
}

213 cÚ¡ 
	gA¼ay
<
	gGroundCÏu£
*>* 
	$g‘PosGndCÏu£s
(ècÚ¡ {  
posGndCÏu£s_
;
	}
}

214 cÚ¡ 
	gA¼ay
<
	gGroundCÏu£
*>* 
	$g‘R—lPosGndCÏu£s
(ècÚ¡ {  
»®PosGndCÏu£s_
;
	}
}

216 
	$g‘NumGndCÏu£s
() const

217 {  
ÃgGndCÏu£s_
->
	`size
(è+ 
posGndCÏu£s_
->size(); 
	}
}

218 
	$g‘NumR—lGndCÏu£s
() const

219 {  
»®NegGndCÏu£s_
->
	`size
(è+ 
»®PosGndCÏu£s_
->size(); 
	}
}

222 
boŞ
 
	$§me
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
gp
)

224 ià(
štA¼R•_
->
	`size
(è!ğ
gp
->
	`g‘IÁA¼R•
()->size()è 
çl£
;

225  (
	`memcmp
(
štA¼R•_
->
	`g‘I‹ms
(), 
gp
->
	`g‘IÁA¼R•
()->getItems(),

226 
štA¼R•_
->
	`size
()*()) == 0);

227 
	}
}

229 
¡ršg
 
	$g‘P»diÿ‹SŒ
(cÚ¡ 
Domaš
* cÚ¡& 
domaš
)

231 cÚ¡ * 
´edName
 = 
domaš
->
	`g‘P»diÿ‹Name
((*
štA¼R•_
)[0]);

232 
¡ršg
 
¡rP»dName
 = 
´edName
;

233 
¡rP»dName
 = strPredName + "(";

234 
size
 = 
štA¼R•_
->
	`size
();

235 
i
 = 1; i < 
size
; i++)

237 
¡ršg
 
Çme
 = 
domaš
->
	`g‘CÚ¡ªtName
((*
štA¼R•_
)[
i
]);

238 
¡ršg
::
size_ty³
 
©
 = 
Çme
.
	`rfšd
("@");

239 ià(
©
 !ğ
¡ršg
::
Åos
è
Çme
 =‚ame.
	`sub¡r
×t+1,‚ame.
	`Ëngth
()-at-1);

240 
¡rP»dName
 = sŒP»dNam+ 
Çme
;

241 ià(
i
 < 
size
-1è
¡rP»dName
 = strPredName + ",";

242 
¡rP»dName
 = strPredName + ")";

244  
¡rP»dName
;

245 
	}
}

246 
¡ršg
 
	$g‘P»dName
(cÚ¡ 
Domaš
* cÚ¡& 
domaš
) const

248 
¡ršg
 
s
 = 
	`¡ršg
(
domaš
->
	`g‘P»diÿ‹Name
((*
štA¼R•_
)[0]));

249  
s
;

250 
	}
}

252 
¡ršg
 
	$g‘P»dSŒšg
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

254 
¡ršg
 
¡rP»d
 = 
	`¡ršg
(
domaš
->
	`g‘P»diÿ‹Name
((*
štA¼R•_
)[0]));

255 
¡rP»d
 = strPred + "(";

256 
size
 = 
štA¼R•_
->
	`size
();

257 
i
 = 1; i < 
size
; i++)

259 
¡ršg
 
Çme
 = 
domaš
->
	`g‘CÚ¡ªtName
((*
štA¼R•_
)[
i
]);

260 
¡ršg
::
size_ty³
 
©
 = 
Çme
.
	`rfšd
("@");

261 ià(
©
 !ğ
¡ršg
::
Åos
è
Çme
 =‚ame.
	`sub¡r
×t+1,‚ame.
	`Ëngth
()-at-1);

262 
¡rP»d
 = sŒP»d + 
Çme
;

263 ià(
i
 < 
size
-1è
¡rP»d
 = strPred + ",";

264 
¡rP»d
 = strPred + ")";

267  
¡rP»d
;

268 
	}
}

270 
	$´št
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

272 cÚ¡ * 
´edName
 = 
domaš
->
	`g‘P»diÿ‹Name
((*
štA¼R•_
)[0]);

273 
out
 << 
´edName
;

275 ià(
	`¡rcmp
(
domaš
->
	`g‘CÚ¡ªtName
((*
štA¼R•_
)[1]),

276 
Domaš
::
PROPOSITIONAL_CONSTANT
) == 0)

281 
out
 << "(";

282 
size
 = 
štA¼R•_
->
	`size
();

283 
i
 = 1; i < 
size
; i++)

285 
¡ršg
 
Çme
 = 
domaš
->
	`g‘CÚ¡ªtName
((*
štA¼R•_
)[
i
]);

286 
¡ršg
::
size_ty³
 
©
 = 
Çme
.
	`rfšd
("@");

287 ià(
©
 !ğ
¡ršg
::
Åos
è
Çme
 =‚ame.
	`sub¡r
×t+1,‚ame.
	`Ëngth
()-at-1);

288 
out
 << 
Çme
;

289 ià(
i
 < 
size
-1è
out
 << ",";

290 
out
 << ")";

292 
	}
}

295 
	$´št
(
o¡»am
& 
out
) const

297 
out
 << (*
štA¼R•_
)[0] << "(";

298 
size
 = 
štA¼R•_
->
	`size
();

299 
i
 = 1; i < 
size
; i++)

301 
out
 << (*
štA¼R•_
)[
i
];

302 ià(
i
 < 
size
-1è
out
 << ",";

303 
out
 << ")";

305 
	}
}

310 
	$sizeKB
()

312 
size
 = 0;

314 ià(
štA¼R•_
)

315 
size
 +ğ(
štA¼R•_
->
	`size
()*() / 1024.0);

317 
size
 +ğ((
size_t
) / 1024.0);

319 ià(
ÃgGndCÏu£s_
)

321 
i
 = 0; i < 
ÃgGndCÏu£s_
->
	`size
(); i++)

322 
size
 +ğ((*
ÃgGndCÏu£s_
)[
i
]->
	`sizeKB
());

324 ià(
»®NegGndCÏu£s_
)

326 
i
 = 0; i < 
»®NegGndCÏu£s_
->
	`size
(); i++)

327 
size
 +ğ((*
»®NegGndCÏu£s_
)[
i
]->
	`sizeKB
());

329 ià(
posGndCÏu£s_
)

331 
i
 = 0; i < 
posGndCÏu£s_
->
	`size
(); i++)

332 
size
 +ğ((*
posGndCÏu£s_
)[
i
]->
	`sizeKB
());

334 ià(
»®PosGndCÏu£s_
)

336 
i
 = 0; i < 
»®PosGndCÏu£s_
->
	`size
(); i++)

337 
size
 +ğ((*
»®PosGndCÏu£s_
)[
i
]->
	`sizeKB
());

341 
size
 +ğ((
boŞ
) / 1024.0);

343 
size
 += (() / 1024.0);

345 
size
 += (() / 1024.0);

347  
size
;

348 
	}
}

350 
	g´iv©e
:

353 
A¼ay
<>* 
štA¼R•_
;

354 
size_t
 
	ghashCode_
;

356 
	gA¼ay
<
	gGroundCÏu£
*>* 
	gÃgGndCÏu£s_
;

358 
	gA¼ay
<
	gGroundCÏu£
*>* 
	g»®NegGndCÏu£s_
;

360 
	gA¼ay
<
	gGroundCÏu£
*>* 
	gposGndCÏu£s_
;

362 
	gA¼ay
<
	gGroundCÏu£
*>* 
	g»®PosGndCÏu£s_
;

364 
GroundCÏu£S‘
* 
	ggndCÏu£S‘_
;

366 
GroundCÏu£S‘
* 
	g»®GndCÏu£S‘_
;

369 
boŞ
 
	gŒuthV®ue_
;

371 
	gwtWh’F®£_
;

373 
	gwtWh’True_
;

381 şas 
	cHashGroundP»diÿ‹


383 
	mpublic
:

384 
size_t
 
	$İ”©Ü
()(
GroundP»diÿ‹
* cÚ¡ & 
gp
ècÚ¡ { gp->
	`hashCode
();}

385 
	}
};

388 şas 
	cEqu®GroundP»diÿ‹


390 
	mpublic
:

391 
boŞ
 
	$İ”©Ü
()(
GroundP»diÿ‹
* cÚ¡ & 
p1
, GroundP»diÿ‹* cÚ¡& 
p2
) const

392 {  
p1
->
	`§me
(
p2
); }

393 
	}
};

397 
	ghash_£t
<
	tGroundP»diÿ‹
*, 
	tHashGroundP»diÿ‹
, 
	tEqu®GroundP»diÿ‹
>

398 
	tGroundP»diÿ‹S‘
;

400 
	ghash_m­
<
	tGroundP»diÿ‹
*, ,
	tHashGroundP»diÿ‹
,
	tEqu®GroundP»diÿ‹
>

401 
	tGroundP»diÿ‹ToIÁM­
;

	@infer/hmaxwalksat.h

66 #iâdeà
HMAXWALKSAT_H


67 
	#HMAXWALKSAT_H


	)

69 
	~<cæßt
>

70 
	~<uni¡d.h
>

71 
	~<sys/time.h
>

72 
	~<sys/»sourû.h
>

73 
	~<c¡ršg
>

74 
	~<s¡»am
>

75 
	~<f¡»am
>

76 
	~"¬¿y.h
"

77 
	~"tim”.h
"

78 
	~"ut.h
"

79 
	~"§t.h
"

80 
	~"logich–³r.h
"

81 
	~"maxw®k§¬ams.h
"

84 cÚ¡ 
boŞ
 
	ghmwsdebug
 = 
çl£
;

85 
	#BIGSTEP
 100

	)

96 şas 
	cHMaxW®kS©
 : 
public
 
SAT


98 
public
:

102 
	$HMaxW®kS©
(
HV¬ŸbËS‹
* 
¡©e
, 
£ed
, cÚ¡ 
boŞ
& 
ŒackCÏu£TrueCÁs
,

103 
MaxW®k§tP¬ams
* 
·¿ms
)

104 : 
	$SAT
(
¡©e
, 
£ed
, 
ŒackCÏu£TrueCÁs
)

106 
numAtoms
 = 
h¡©e_
->
	`g‘NumAtoms
();

107 
§S‹ps_
 = 0;

108 
§IÁ”v®_
 = 100;

111 
maxS‹ps_
 = 
·¿ms
->
maxS‹ps
;

112 
maxTr›s_
 = 
·¿ms
->
maxTr›s
;

113 
rg‘Co¡_
 = 
·¿ms
->
rg‘Co¡
;

114 
h¬d_
 = 
·¿ms
->
h¬d
;

116 
h¡©e_
->
	`£tB»akH¬dCÏu£s
(
h¬d_
);

117 
numSŞutiÚs_
 = 
·¿ms
->
numSŞutiÚs
;

118 
heuri¡ic_
 = 
·¿ms
->
heuri¡ic
;

120 
buL’gth_
 = 
·¿ms
->
buL’gth
;

121 
ÏzyLowS‹_
 = 
·¿ms
->
ÏzyLowS‹
;

123 
§R©io_
 = 
·¿ms
->
ssP¬ams
->
§R©io
;

124 
§Temp_
 = 
·¿ms
->
ssP¬ams
->
§Temp
;

125 
§TempIn™_
 = 
§Temp_
;

126 
Ï‹Sa_
 = 
·¿ms
->
ssP¬ams
->
Ï‹Sa
;

129 ià(
heuri¡ic_
 =ğ
TABU
 || heuri¡ic_ =ğ
SS
 || heuri¡ic_ =ğ
HMWS
)

130 
chªged_
.
	`growToSize
(
numAtoms
 + 1);

131 
numFls_
 = 0;

134 
num”©Ü_
 = 50;

135 
d’omš©Ü_
 = 100;

137 
šBlock_
 = 
çl£
;

138 
æInBlock_
 = 
NOVALUE
;

140 
idx
 = 0;

141 
pickcode
[
idx
++] = &
HMaxW®kS©
::
pickRªdom
;

142 
pickcode
[
idx
++] = &
HMaxW®kS©
::
pickBe¡
;

143 
pickcode
[
idx
++] = &
HMaxW®kS©
::
pickHMCS
;

144 
pickcode
[
idx
++] = &
HMaxW®kS©
::
pickSS
;

145 
pickcode
[
idx
++] = &
HMaxW®kS©
::
pickHMWS
;

146 
pickcode
[
idx
++] = &
HMaxW®kS©
::
pickSA
;

147 
maxSecÚds_
 = -1;

153 ~
	$HMaxW®kS©
(è{ 
	}
}

156 
	$S‘MaxSecÚds
(
maxSecÚds
)

158 
maxSecÚds_
 = 
maxSecÚds
;

159 
	}
}

161 
	$S‘Noi£P¿
(
num”©Ü
, 
d’omš©Ü
)

163 
num”©Ü_
 = 
num”©Ü
;

164 
d’omš©Ü_
 = 
d’omš©Ü
;

165 
	}
}

167 
	$S‘SAIÁ”v®
(
§IÁ”v®
)

169 
§IÁ”v®_
 = 
§IÁ”v®
;

170 
	}
}

175 
	$š™
()

177 ià(
heuri¡ic_
 =ğ
TABU
 || heuri¡ic_ =ğ
SS
 || heuri¡ic_ =ğ
HMWS
)

179 
numAtoms
 = 
h¡©e_
->
	`g‘NumAtoms
();

180 ià(
chªged_
.
	`size
(è!ğ
numAtoms
 + 1)

182 ià((
chªged_
.
	`size
()è< 
numAtoms
 + 1) {

183 
chªged_
.
	`growToSize
(
numAtoms
 + 1);

185 
chªged_
.
	`shrškToSize
(
numAtoms
 + 1);

188 
i
 = 1; i <ğ
numAtoms
; ++i)

189 
chªged_
[
i
] = -(
buL’gth_
 + 1);

193 
h¡©e_
->
	`š™Rªdom
();

195 
§Temp_
 = 
§TempIn™_
;

196 
	}
}

198 
	$g‘T¬g‘Co¡
()

200  
rg‘Co¡_
;

201 
	}
}

203 
	$£tSATempDownR©io
(
§TempDownR©io
)

205 
§TempDownR©io_
 = 
§TempDownR©io
;

206 
	}
}

212 
	$šãr
()

214 
numŒy
 = 0;

215 
numsucûs¡ry
 = 0;

216 
Tim”
 
tim”
;

217 
¡¬tTimeSec
 = 
tim”
.
	`time
();

219 
cu¼’tTimeSec
, 
£cÚdsEÏp£d
;

221 
boŞ
 
timeUp
 = 
çl£
;

222 
lowCo¡
;

223 ià(!
h¡©e_
->
bMaxOÆy_
)

225 
lowCo¡
 = 
BigV®ue
;

227 
lowCo¡
 = -
BigV®ue
;

230 
tÙ®Œynum
 = 0;

232 ià(
ŒackCÏu£TrueCÁs_
)

234 
şau£no
 = 0; cÏu£nØ< 
şau£TrueCÁs_
->
	`size
(); clauseno++)

235 (*
şau£TrueCÁs_
)[
şau£no
] = 0;

236 
şau£no
 = 0; cÏu£nØ< 
şau£TrueCÁsCÚt_
->
	`size
(); clauseno++)

237 (*
şau£TrueCÁsCÚt_
)[
şau£no
] = 0;

240 
numh¬dçl£
 = 0;

241 ià(
h¡©e_
->
bMaxOÆy_
)

243 
i
 = 0; i < 
h¡©e_
->
	`g‘NumF®£CÏu£s
(); i++)

245 
GroundCÏu£
* 
şau£
 = (*(
h¡©e_
->
gndCÏu£s_
))[h¡©e_->
çl£CÏu£_
[
i
]];

246 ià(
şau£
->
	`isH¬dCÏu£
())

248 
numh¬dçl£
++;

251 
cout
 << "befÜHMWS, f®£ di şau£#: " << 
h¡©e_
->
	`g‘NumF®£CÏu£s
(è<< " f®£ h¬d cÏu£#: " << 
numh¬dçl£
<< 
’dl
;

255 
numsucûs¡ry
 < 
numSŞutiÚs_
 && 
numŒy
 < 
maxTr›s_
 && !
timeUp
)

257 
numŒy
++;

258 
numFls_
 = 0;

259 
boŞ
 
lowS‹InThisTry
 = 
çl£
;

263 ià(
numŒy
 > 1 && 
numsucûs¡ry
 == 0)

265 
	`š™
();

266 
¡¬tTimeSec
 = 
tim”
.
	`time
();

269 ((
numFls_
 < 
maxS‹ps_
 && 
maxSecÚds_
 < 0) || (maxSeconds_ > 0))

270 && 
numsucûs¡ry
 < 
numSŞutiÚs_
)

272 
cu¼’tTimeSec
 = 
tim”
.
	`time
();

273 
£cÚdsEÏp£d
 = 
cu¼’tTimeSec
 - 
¡¬tTimeSec
;

274 ià(
maxSecÚds_
 > 0 && 
£cÚdsEÏp£d
 > maxSeconds_) {

275 
cout
 << "Timi u°fÜ cu¼’ˆHMaxW®kSATry. " << 
’dl
;

276 
timeUp
 = 
Œue
;

279 
numFls_
++;

280 
©omIdx
 = (
this
->*(
pickcode
[
heuri¡ic_
]))();

282 ià(
hmwsdebug
)

284 
cout
 << "HMWS…icked‡tom: " << 
©omIdx
 << "." << 
’dl
;

288 ià(
©omIdx
 < 0)

290 
©omIdx
 = -atomIdx;

291 ià(!
h¡©e_
->
bMaxOÆy_
)

293 ià(
pickedCÚtV®ue_
 =ğ
UNSOLVABLE
) {

296 
h¡©e_
->
	`Upd©eHybridCÏu£InfoByCÚtAtom
(
©omIdx
, 
pickedCÚtV®ue_
);

300 ià(
pickedCÚtV®ue_
 =ğ
UNSOLVABLE
) {

303 
h¡©e_
->
	`Upd©eHybridCÏu£WeightSumByCÚtAtom
(
©omIdx
, 
pickedCÚtV®ue_
);

306 ià(
©omIdx
 > 0 &&‡tomIdx !ğ
NOVALUE
)

308 ià(!
h¡©e_
->
bMaxOÆy_
)

310 ià(
hmwsdebug
)

312 
cout
 << "æpšg di ©om: " << 
©omIdx
 << " befÜæ:"; 
h¡©e_
->
	`´štDisAtom
×tomIdx, cout); couˆ<< 
’dl
;

315 
	`æAtom
(
©omIdx
);

316 ià(
hmwsdebug
)

318 
cout
 << "aá” fl iÀdis: ";
h¡©e_
->
	`´štDisAtom
(
©omIdx
, cout); cout<< 
’dl
;

321 
boŞ
 
©omV®ue
 = 
h¡©e_
->
	`g‘V®ueOfAtom
(
©omIdx
);

322 
h¡©e_
->
	`Upd©eHybridCÏu£InfoByDisAtom
(
©omIdx
, 
©omV®ue
);

323 ià(
hmwsdebug
)

325 
cout
 << "aá” fl iÀcÚt: ";
h¡©e_
->
	`´štDisAtom
(
©omIdx
, cout); cout<< 
’dl
;

330 
	`æAtom
(
©omIdx
);

331 
boŞ
 
©omV®ue
 = 
h¡©e_
->
	`g‘V®ueOfAtom
(
©omIdx
);

332 
h¡©e_
->
	`Upd©eHybridCÏu£WeightSumByDisAtom
(
©omIdx
, 
©omV®ue
);

339 
disco¡
 = 0, 
hybridco¡
 = 0;

340 
co¡OfF®£CÚ¡¿šts
 = 0;

341 ià(!
h¡©e_
->
bMaxOÆy_
)

343 
co¡OfF®£CÚ¡¿šts
 = 
h¡©e_
->
	`g‘Co¡OfTÙ®F®£CÚ¡¿šts
();

347 
co¡OfF®£CÚ¡¿šts
 = 
h¡©e_
->
	`g‘Co¡OfAÎCÏu£s
(
disco¡
, 
hybridco¡
);

353 if(!
h¡©e_
->
bMaxOÆy_
)

355 ià(
co¡OfF®£CÚ¡¿šts
 <ğ
lowCo¡
)

357 ià(
hmwsdebug
)

359 
cout
 << "Co¡ oàçl£ cÏu£s: " << 
co¡OfF®£CÚ¡¿šts


360 << "†es thª†owe¡ co¡: " << 
lowCo¡
 << 
’dl
;

362 
lowCo¡
 = 
co¡OfF®£CÚ¡¿šts
;

363 
h¡©e_
->
	`§veLowS‹AÎ
();

369 ià(
co¡OfF®£CÚ¡¿šts
 <ğ
rg‘Co¡_
 + 
SMALLVALUE
)

370 
numsucûs¡ry
++;

374 ià(
co¡OfF®£CÚ¡¿šts
 >ğ
lowCo¡
)

376 
lowCo¡
 = 
co¡OfF®£CÚ¡¿šts
;

377 
h¡©e_
->
	`§veLowS‹AÎ
();

382 ià(!
h¡©e_
->
bMaxOÆy_
)

384 
tÙ®Œynum
 +ğ
numFls_
;

385 ià(
lowS‹InThisTry
)

386 
	`»cÚ¡ruùLowS‹
();

387 
h¡©e_
->
	`§veLowS‹ToDB
();

388 ià(
hmwsdebug
)

390 
cout
<< "IÀth’d oàŒy " << 
numŒy
 << ": " << 
’dl
;

391 
cout
<< "Lowe¡‚um. oàçl£ cÚ¡¿šts: " << 
h¡©e_
->
	`g‘LowBadAÎ
(è<< 
’dl
;

392 
cout
<< "Lowe¡ co¡ oàçl£ cÚ¡¿šts: " << 
h¡©e_
->
	`g‘LowCo¡AÎ
(è<< 
’dl
;

393 
cout
<< "Numb” oàæs: " << 
numFls_
 << 
’dl
;

398 ià(!
h¡©e_
->
bMaxOÆy_
)

400 ià(
hmwsdebug
)

402 
cout
 << "TÙ® fl num: " << 
tÙ®Œynum
 << ". Sucûed:" << 
numsucûs¡ry
 << "imes." << 
’dl
;

405 ià(
numsucûs¡ry
 == 0)

408 
h¡©e_
->
	`§veLa¡AsCu¼’tAssignm’t
();

409 
h¡©e_
->
	`upd©eCo¡
();

410 
h¡©e_
->
	`§veLowS‹AÎ
();

413 
h¡©e_
->
	`§veLowToCu¼’tAÎ
();

415 ià(
ŒackCÏu£TrueCÁs_
)

417 
h¡©e_
->
	`upd©eNumTrueL™s
();

418 
h¡©e_
->
	`g‘NumCÏu£Gndšgs
(
şau£TrueCÁs_
, 
Œue
);

419 
h¡©e_
->
	`g‘CÚtCÏu£Gndšgs
(
şau£TrueCÁsCÚt_
);

424 
cout
 << "fšish hybrid MaxW®kSAT." << 
’dl
;

425 
cout
 << "Lowe¡ s‹ co¡:" << 
lowCo¡
 << 
’dl
;

426 
numh¬dçl£
 = 0;

427 
i
 = 0; i < 
h¡©e_
->
	`g‘NumF®£CÏu£s
(); i++)

429 
GroundCÏu£
* 
şau£
 = (*(
h¡©e_
->
gndCÏu£s_
))[h¡©e_->
çl£CÏu£_
[
i
]];

430 ià(
şau£
->
	`isH¬dCÏu£
())

432 
numh¬dçl£
++;

435 
cout
 << "after HMWS, false dis clause#: "

436 << 
h¡©e_
->
	`g‘NumF®£CÏu£s
() << " false hard clause#: "

437 << 
numh¬dçl£
 << 
’dl
;

438 
h¡©e_
->
	`§veLowToCu¼’tAÎ
();

439 ià(
ŒackCÏu£TrueCÁs_
)

441 
h¡©e_
->
	`upd©eNumTrueL™s
();

442 
h¡©e_
->
	`g‘NumCÏu£Gndšgs
(
şau£TrueCÁs_
, 
Œue
);

443 
h¡©e_
->
	`g‘CÚtCÏu£Gndšgs
(
şau£TrueCÁsCÚt_
);

446 
	}
}

448 cÚ¡ 
	$g‘Heuri¡ic
()

450  
heuri¡ic_
;

451 
	}
}

453 
	$£tHeuri¡ic
(cÚ¡ & 
heuri¡ic
)

455 
heuri¡ic_
 = 
heuri¡ic
;

456 
	}
}

458 
vœtu®
 cÚ¡ 
	gA¼ay
<>* 
	$g‘CÏu£TrueCÁs
()

461 ià(!
ŒackCÏu£TrueCÁs_
)

463 
h¡©e_
->
	`upd©eNumTrueL™s
();

464 
h¡©e_
->
	`g‘NumCÏu£Gndšgs
(
şau£TrueCÁs_
, 
Œue
);

466  
şau£TrueCÁs_
;

467 
	}
}

469 
vœtu®
 cÚ¡ 
	gA¼ay
<>* 
	$g‘CÏu£TrueCÁsCÚt
()

471 ià(!
ŒackCÏu£TrueCÁs_
)

473 
h¡©e_
->
	`g‘CÚtCÏu£Gndšgs
(
şau£TrueCÁsCÚt_
);

475  
şau£TrueCÁsCÚt_
;

476 
	}
}

478 
	g´Ùeùed
:

486 
	$æAtom
 (
toFl
)

489 ià(
toFl
 =ğ
NOVALUE
)

493 
h¡©e_
->
	`æAtom
(
toFl
, -1);

495 ià(
heuri¡ic_
 =ğ
TABU
 || heuri¡ic_ =ğ
SS
 || heuri¡ic_ =ğ
HMWS
)

497 
chªged_
[
toFl
] = 
numFls_
;

498 
chªged_
.
	`growToSize
(
h¡©e_
->
	`g‘NumAtoms
(è+ 1, -(
buL’gth_
 + 1));

501 ià(
ÏzyLowS‹_
)

506 ià(
v¬sFl³dSšûLowS‹_
.
	`fšd
(
toFl
) !=

507 
v¬sFl³dSšûLowS‹_
.
	`’d
())

509 
v¬sFl³dSšûLowS‹_
.
	`”a£
(
toFl
);

513 
v¬sFl³dSšûLowS‹_
.
	`š£¹
(
toFl
);

516 ià(
hmwsdebug
è
cout
 << "L—všg HMaxW®kS©::æAtom" << 
’dl
;

517 
	}
}

525 
	$pickRªdom
()

528 
	}
}

536 
	$pickBe¡
()

539 
	}
}

546 
	$pickHMCS
()

548 ià(
hmwsdebug
)

550 
cout
 << "HMCS" << 
’dl
;

553 
	`as£¹
(!
šBlock_
);

556 
boŞ
 
noisyPick
 = (
num”©Ü_
 > 0 && 
	`¿ndom
(è% 
d’omš©Ü_
 <‚umerator_);

560 
toFix
 = 
h¡©e_
->
	`g‘RªdomF®£CÏu£IndexHMCS
();

561 ià(
toFix
 =ğ
NOVALUE
)

563  
NOVALUE
;

565 ià(
toFix
 > 0)

567 
toFix
 --;

568 ià(
hmwsdebug
)

570 
cout
 << "Pick f®£ di şau£: " << 
toFix
 << ", "; 
h¡©e_
->
	`´štDisCÏu£
ÑoFix, cout); couˆ<< "Co¡: " << h¡©e_->
şau£Co¡_
[toFix] << 
’dl
;

572 
im´ovem’t
;

573 
şau£Size
 = 
h¡©e_
->
	`g‘CÏu£Size
(
toFix
);

574 
co¡
 = 
h¡©e_
->
	`g‘CÏu£Co¡
(
toFix
);

576 
A¼ay
<> 
be¡
;

578 
numbe¡
 = 0;

580 
be¡v®ue
 = -
LDBL_MAX
;

583 ià(
noisyPick
)

585 
i
 = 0; i < 
şau£Size
; ++i)

587 
l™
 = 
h¡©e_
->
	`g‘AtomInCÏu£
(
i
, 
toFix
);

589 ià(
co¡
 < 0 && !
h¡©e_
->
	`isTrueL™”®
(
l™
)) ;

590 
be¡
.
	`­³nd
(
	`abs
(
l™
));

591 
numbe¡
++;

596 
i
 = 0; i < 
şau£Size
; ++i)

598 
l™
 = 
h¡©e_
->
	`g‘AtomInCÏu£
(
i
, 
toFix
);

600 ià(
co¡
 < 0 && !
h¡©e_
->
	`isTrueL™”®
(
l™
)) ;

602 
v¬
 = 
	`abs
(
l™
);

603 
im´ovem’t
 = 
	`ÿlcuÏ‹Im´ovem’tDisHMCS
(
v¬
);

604 ià(
mwsdebug
) {

605 
cout
 << "Im´ovem’ˆoàv¬ " << 
v¬
 << " is: " << 
im´ovem’t
 << 
’dl
;

609 ià(
im´ovem’t
 > 0 && im´ovem’ˆ>ğ
be¡v®ue
)

611 ià(
im´ovem’t
 > 
be¡v®ue
)

613 
numbe¡
 = 0;

614 
be¡
.
	`ş—r
();

616 
be¡v®ue
 = 
im´ovem’t
;

617 
be¡
.
	`­³nd
(
v¬
);

618 
numbe¡
++;

619 } ià(
im´ovem’t
 > -
LDBL_MAX
 && 
buL’gth_
 < 
numFls_
 - 
chªged_
[
v¬
]) {

620 ià(
im´ovem’t
 >ğ
be¡v®ue
)

622 ià(
im´ovem’t
 > 
be¡v®ue
)

624 
numbe¡
 = 0;

625 
be¡
.
	`ş—r
();

627 
be¡v®ue
 = 
im´ovem’t
;

628 
be¡
.
	`­³nd
(
v¬
);

629 
numbe¡
++;

635 ià(
numbe¡
 == 0)

637 ià(
hmwsdebug
è
cout
 << "L—všg MaxW®kS©::pickHMCS (NOVALUE)" << 
’dl
;

638  
NOVALUE
;

640 
toFl
 = 
NOVALUE
;

642 ià(
numbe¡
 == 1) {

643 
toFl
 = 
be¡
[0];

646 
toFl
 = 
be¡
[
	`¿ndom
()% be¡.
	`size
()];

649 ià(
hmwsdebug
)

651 
cout
 << "Im´ovem’t:" << 
be¡v®ue
 << 
’dl
;

653  
toFl
;

657 
toFix
++;

658 
cÚtCÏu£Idx
 = -
toFix
;

660 ià(
h¡©e_
->
hybridWts_
[
cÚtCÏu£Idx
] =ğ0è 
NOVALUE
;

662 ià(
hmwsdebug
) {

663 
cout
 << "Pick f®£ hybrid cÏu£: " << 
cÚtCÏu£Idx
 << ", cÚ¡¿št:"; 
h¡©e_
->
	`´štHybridCÚ¡¿št
(contClauseIdx, cout);

665 
cÚtV¬Num
 = 
h¡©e_
->
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
].
	`size
();

666 
disV¬Num
 = 
h¡©e_
->
hybridDisCÏu£_
[
cÚtCÏu£Idx
].
	`size
();

667 
tÙ®V¬Num
 = 
cÚtV¬Num
 + 
disV¬Num
;

668 ià(
noisyPick
)

670 
£t
<> 
pickedCÚtV¬s
;

671 
šIdx
 = 
	`¿ndom
(è% 
tÙ®V¬Num
;

672 ià(
šIdx
 < 
cÚtV¬Num
)

674 
cÚtAtomIdx
 = 
h¡©e_
->
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
][
šIdx
];

677 
pickedCÚtV®ue_
 = 
h¡©e_
->
	`SŞveHybridCÚ¡¿štToCÚtV¬Sam¶e
(
cÚtCÏu£Idx
, 
šIdx
);

678 ià(
pickedCÚtV®ue_
 =ğ
FLIPDIS
) {

680 
A¼ay
<
boŞ
> 
sŞutiÚ
;

681 
	`G‘CÏu£RªdomSŞutiÚ
(
h¡©e_
->
hybridDisCÏu£_
[
cÚtCÏu£Idx
].
	`size
(), 
Œue
, h¡©e_->
hybridCÚjunùiÚDisjunùiÚ_
[cÚtCÏu£Idx], &
sŞutiÚ
);

683 
i
 = 0; i < 
sŞutiÚ
.
	`size
(); ++i) {

684 
©omIdx
 = 
h¡©e_
->
hybridDisCÏu£_
[
cÚtCÏu£Idx
][
i
];

685 ià(
sŞutiÚ
[
i
] !ğ
h¡©e_
->
	`g‘V®ueOfAtom
(
©omIdx
)) {

686 
	`æAtom
(
©omIdx
);

687 
boŞ
 
©omV®ue
 = 
h¡©e_
->
	`g‘V®ueOfAtom
(
©omIdx
);

688 
h¡©e_
->
	`Upd©eHybridCÏu£InfoByDisAtom
(
©omIdx
, 
©omV®ue
);

692 
cÚt_·¹_v®ue
 = 
h¡©e_
->
	`HybridCÏu£CÚtP¬tV®ue
(
cÚtCÏu£Idx
);

693 ià(
cÚt_·¹_v®ue
 < 
h¡©e_
->
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
vTh»shŞd_
) {

695 
cÚt_v¬_v®ue
 = 
h¡©e_
->
	`SŞveCÚ¡¿štAndRªdomSam¶e
(
cÚtCÏu£Idx
, 
šIdx
);

696 ià(
cÚt_v¬_v®ue
 =ğ
UNSOLVABLE
)

697  
NOVALUE
;

700 
h¡©e_
->
	`Upd©eHybridCÏu£InfoByCÚtAtom
(
cÚtAtomIdx
, 
cÚt_v¬_v®ue
);

705  
NOVALUE
;

708  -
cÚtAtomIdx
;

714 
©omIdx
 = 
	`abs
(
h¡©e_
->
hybridDisCÏu£_
[
cÚtCÏu£Idx
][
šIdx
 - 
cÚtV¬Num
]);

715 
h¡©e_
->
©om_
[
©omIdx
] = !hstate_->atom_[atomIdx];

716 
hybrid_şau£_v®
 = 
h¡©e_
->
	`HybridCÏu£V®ue
(
cÚtCÏu£Idx
);

717 
h¡©e_
->
©om_
[
©omIdx
] = !hstate_->atom_[atomIdx];

718 ià(
h¡©e_
->
	`isS©isf›d
(h¡©e_->
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
], 
hybrid_şau£_v®
)) {

719  
©omIdx
;

721  
NOVALUE
;

727 
be¡v®ue
 = -
LDBL_MAX
;

728 
A¼ay
<> 
be¡
;

729 
numbe¡
 = 0;

730 
m­
<, > 
pickedCÚtV®ues
;

731 
i
 = 0; i < 
cÚtV¬Num
; ++i) {

732 
cÚtAtomIdx
 = 
h¡©e_
->
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
][
i
];

735 
cÚt_v¬_v®
 = 0;

736 
im´ovem’t
 =

737 
h¡©e_
->
	`G‘Im´ovem’tBySŞvšgHybridCÚ¡¿štToCÚtV¬
(
cÚtCÏu£Idx
, 
i
, 
cÚt_v¬_v®
);

739 ià(
im´ovem’t
 !ğ
CANNOTSATCURRENT
 && im´ovem’ˆ>ğ
be¡v®ue
) {

740 ià(
im´ovem’t
 > 
be¡v®ue
) {

741 
numbe¡
 = 0;

742 
be¡
.
	`ş—r
();

744 
be¡v®ue
 = 
im´ovem’t
;

745 
be¡
.
	`­³nd
(-
cÚtAtomIdx
);

746 
numbe¡
++;

747 
pickedCÚtV®ues
[-
cÚtAtomIdx
] = 
cÚt_v¬_v®
;

751 
i
 = 0; i < 
disV¬Num
; ++i)

753 
disAtomIdx
 = 
	`abs
(
h¡©e_
->
hybridDisCÏu£_
[
cÚtCÏu£Idx
][
i
]);

754 
im´ovem’t
 = 
	`ÿlcuÏ‹Im´ovem’tDisHMCS
(
disAtomIdx
);

756 ià(
im´ovem’t
 >ğ
be¡v®ue
)

758 ià(
im´ovem’t
 > 
be¡v®ue
)

760 
numbe¡
 = 0;

761 
be¡
.
	`ş—r
();

763 
be¡v®ue
 = 
im´ovem’t
;

764 
be¡
.
	`­³nd
(
disAtomIdx
);

765 
numbe¡
++;

769 
©omIdx
 = 
NOVALUE
;

771 ià(
numbe¡
 == 1)

772 
©omIdx
 = 
be¡
[0];

775 
©omIdx
 = 
be¡
[
	`¿ndom
()%
numbe¡
];

777 ià(
©omIdx
 < 0)

779 
pickedCÚtV®ue_
 = 
pickedCÚtV®ues
[
©omIdx
];

781  
©omIdx
;

784  
NOVALUE
;

785 
	}
}

787 
checkAr
(cÚ¡ 
A¼ay
<>& 
¬
)

789 
	gv
 = 
¬
[0];

790 
	gi
 = 0;˜< 
	g¬
.
size
(); i++)

792 if(
	g¬
[
i
] !ğ
v
)

794 
cout
 << 
v
 << "\t" << 
¬
[
i
] << ". E¼Ü!!!!!" <<
’dl
;

800 
	sFlDisV¬IdxCÚt


802 
	gA¼ay
<> 
	gdisIdx_
;

805 
	$pickHMWS
()

807 ià(
hmwsdebug
)

809 
cout
 << "HMWSSTEP" << 
’dl
;

812 
	`as£¹
(!
šBlock_
);

815 
boŞ
 
noisyPick
 = (
num”©Ü_
 > 0 && 
	`¿ndom
()%
d’omš©Ü_
 <‚umerator_);

820 
toFix
 = 
h¡©e_
->
	`g‘RªdomF®£CÏu£IndexHMWS
();

822 ià(
toFix
 =ğ
NOVALUE
)

824  
NOVALUE
;

825 } ià(
toFix
 > 0) {

826 
toFix
--;

827 ià(
hmwsdebug
)

829 
cout
 << "Pick f®£ di şau£: " << 
toFix
 << ", "; 
h¡©e_
->
	`´štDisCÏu£
(toFix, cout);

831 
im´ovem’t
;

832 
şau£Size
 = 
h¡©e_
->
	`g‘CÏu£Size
(
toFix
);

833 
co¡
 = 
h¡©e_
->
	`g‘CÏu£Co¡
(
toFix
);

835 
A¼ay
<> 
be¡
;

837 
numbe¡
 = 0;

839 
be¡v®ue
 = -
LDBL_MAX
;

842 ià(
noisyPick
)

844 
i
 = 0; i < 
şau£Size
; i++)

846 
l™
 = 
h¡©e_
->
	`g‘AtomInCÏu£
(
i
, 
toFix
);

848 ià(
co¡
 < 0 && !
h¡©e_
->
	`isTrueL™”®
(
l™
)) ;

849 
be¡
.
	`­³nd
(
	`abs
(
l™
));

850 
numbe¡
++;

855 
i
 = 0; i < 
şau£Size
; i++)

857 
l™
 = 
h¡©e_
->
	`g‘AtomInCÏu£
(
i
, 
toFix
);

859 ià(
co¡
 < 0 && !
h¡©e_
->
	`isTrueL™”®
(
l™
)) ;

861 
v¬
 = 
	`abs
(
l™
);

862 
im´ovem’t
 = 
	`ÿlcuÏ‹Im´ovem’tDisHMWS
(
v¬
);

863 ià(
mwsdebug
) {

864 
cout
 << "Im´ovem’ˆoàv¬ " << 
v¬
 << " is: " << 
im´ovem’t
 << 
’dl
;

868 ià(
im´ovem’t
 > 0 && im´ovem’ˆ>ğ
be¡v®ue
)

870 ià(
im´ovem’t
 > 
be¡v®ue
)

872 
numbe¡
 = 0;

873 
be¡
.
	`ş—r
();

875 
be¡v®ue
 = 
im´ovem’t
;

876 
be¡
.
	`­³nd
(
v¬
);

877 
numbe¡
++;

878 } ià(
im´ovem’t
 > -
LDBL_MAX
 && 
buL’gth_
 < 
numFls_
 - 
chªged_
[
v¬
]) {

879 ià(
im´ovem’t
 >ğ
be¡v®ue
)

881 ià(
im´ovem’t
 > 
be¡v®ue
)

883 
numbe¡
 = 0;

884 
be¡
.
	`ş—r
();

886 
be¡v®ue
 = 
im´ovem’t
;

887 
be¡
.
	`­³nd
(
v¬
);

888 
numbe¡
++;

894 ià(
numbe¡
 == 0)

896 ià(
hmwsdebug
è
cout
 << "L—všg HMaxW®kS©::pickHMWS (NOVALUE)" << 
’dl
;

897  
NOVALUE
;

900 
toFl
 = 
NOVALUE
;

902 ià(
numbe¡
 == 1)

903 
toFl
 = 
be¡
[0];

906 
toFl
 = 
be¡
[
	`¿ndom
()%
numbe¡
];

908 ià(
hmwsdebug
)

910 
cout
 << "Picked di ©omØæ: " << 
toFl
 << ",";
h¡©e_
->
	`´štDisAtom
(toFlip, cout);

911 
cout
 << ". Im´ovem’t:" <<
be¡v®ue
 <<
’dl
;

914  
toFl
;

918 
toFix
++;

919 
cÚtCÏu£Idx
 = -
toFix
;

920 ià(
h¡©e_
->
hybridWts_
[
cÚtCÏu£Idx
] =ğ0è 
NOVALUE
;

921 ià(
hmwsdebug
) {

922 
cout
 << "Pick hybrid cÏu£: " << 
cÚtCÏu£Idx
 << ", constraint:";

923 
h¡©e_
->
	`´štHybridCÚ¡¿št
(
cÚtCÏu£Idx
, 
cout
);

926 
cÚtV¬Num
 = 
h¡©e_
->
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
].
	`size
();

927 
disV¬Num
 = 
h¡©e_
->
hybridDisCÏu£_
[
cÚtCÏu£Idx
].
	`size
();

928 
tÙ®V¬Num
 = 
cÚtV¬Num
 + 
disV¬Num
;

929 ià(
noisyPick
)

931 
£t
<> 
pickedCÚtV¬s
;

932 
šIdx
 = 
	`¿ndom
(è% 
tÙ®V¬Num
;

933 ià(
šIdx
 < 
cÚtV¬Num
)

935 
cÚtAtomIdx
 = 
h¡©e_
->
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
][
šIdx
];

938 ià(
h¡©e_
->
	`HybridCÏu£DisP¬tV®ue
(
cÚtCÏu£Idx
)) {

941 
pickedCÚtV®ue_
 = 
h¡©e_
->
	`O±imizeHybridCÏu£ToCÚtV¬
(
cÚtCÏu£Idx
, 
šIdx
);

942  -
cÚtAtomIdx
;

944  
NOVALUE
;

950 
disAtomIdx
 = 
	`abs
(
h¡©e_
->
hybridDisCÏu£_
[
cÚtCÏu£Idx
][
šIdx
 - 
cÚtV¬Num
]);

951 
hybridCÏu£V®ueBefÜeFlpšg
 = 
h¡©e_
->
	`HybridCÏu£V®ue
(
cÚtCÏu£Idx
);

952 
h¡©e_
->
©om_
[
disAtomIdx
] = !hstate_->atom_[disAtomIdx];

953 
hybridCÏu£V®ueAá”Flpšg
 = 
h¡©e_
->
	`HybridCÏu£V®ue
(
cÚtCÏu£Idx
);

954 
h¡©e_
->
©om_
[
disAtomIdx
] = !hstate_->atom_[disAtomIdx];

955 ià(
hybridCÏu£V®ueAá”Flpšg
 - 
hybridCÏu£V®ueBefÜeFlpšg
 >ğ0è 
disAtomIdx
;

956  
NOVALUE
;

961 
be¡v®ue
 = -
LDBL_MAX
;

962 
A¼ay
<> 
be¡
;

963 
numbe¡
 = 0;

964 
m­
<, > 
pickedCÚtV®ues
;

966 
i
 = 0; i < 
cÚtV¬Num
; ++i)

968 
cÚtAtomIdx
 = 
h¡©e_
->
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
][
i
];

969 
assign
 = 0;

971 
im´ovem’t
 = 
h¡©e_
->
	`ReduûCÏu£AndO±imize
(
cÚtAtomIdx
, &
assign
);

972 ià(
im´ovem’t
 =ğ
NOVALUE
) ;

973 ià(
im´ovem’t
 >ğ
be¡v®ue
)

975 ià(
im´ovem’t
 > 
be¡v®ue
)

977 
numbe¡
 = 0;

978 
be¡
.
	`ş—r
();

980 
be¡v®ue
 = 
im´ovem’t
;

981 
be¡
.
	`­³nd
(-
cÚtAtomIdx
);

982 
numbe¡
++;

983 
pickedCÚtV®ues
.
	`š£¹
(
m­
<, >::
	`v®ue_ty³
(-
cÚtAtomIdx
, 
assign
));

986 
i
 = 0; i < 
disV¬Num
; ++i) {

987 
disAtomIdx
 = 
h¡©e_
->
hybridDisCÏu£_
[
cÚtCÏu£Idx
][
i
];

988 
im´ovem’t
 = 
	`ÿlcuÏ‹Im´ovem’tDisHMWS
(
disAtomIdx
);

989 ià(
im´ovem’t
 >ğ
be¡v®ue
)

991 ià(
im´ovem’t
 > 
be¡v®ue
)

993 
numbe¡
 = 0;

994 
be¡
.
	`ş—r
();

996 
be¡v®ue
 = 
im´ovem’t
;

997 
be¡
.
	`­³nd
(
disAtomIdx
);

998 
numbe¡
++;

1002 
©omIdx
 = 
NOVALUE
;

1004 ià(
numbe¡
 == 1)

1005 
©omIdx
 = 
be¡
[0];

1008 
©omIdx
 = 
be¡
[
	`¿ndom
()%
numbe¡
];

1010 ià(
©omIdx
 < 0)

1012 
pickedCÚtV®ue_
 = 
pickedCÚtV®ues
[
©omIdx
];

1014  
©omIdx
;

1017  
NOVALUE
;

1018 
	}
}

1020 
	$pickSA
()

1023 ià(
hmwsdebug
)

1025 
cout
 << "SA" << 
’dl
;

1030 
toFl
 = 
h¡©e_
->
	`g‘IndexOfRªdomAtom
();

1031 ià(
toFl
 > 0)

1033 ià(
hmwsdebug
)

1035 
cout
 << "Choo£Øæ di ©om " << 
toFl
 << ":";
h¡©e_
->
	`´štDisAtom
(toFlip, cout);

1037 
im´ovem’t
 = 
h¡©e_
->
	`g‘Im´ovem’tInWeightSumByFlpšg
(
toFl
);

1039 ià(
hmwsdebug
)

1041 
cout
 << "By flpšg, im´ovem’ˆi " << 
im´ovem’t
 << 
’dl
;

1046 ià((
im´ovem’t
 >= 0) ||

1047 (
	`¿ndom
(è<ğ
	`exp
(
im´ovem’t
/(
§Temp_
)è* 
RAND_MAX
))

1050 
§S‹ps_
 ++;

1051 ià(
§S‹ps_
 % 
§IÁ”v®_
 == 0)

1053 
§Temp_
 = saTemp_ * 
§TempDownR©io_
;

1055  
toFl
;

1059  
NOVALUE
;

1065 
cÚtAtomIdx
 = -
toFl
;

1066 
vCÚtAtomFl³d
 = 
h¡©e_
->
	`g‘CÚtV¬V®ueByRªdomMove
(
cÚtAtomIdx
);

1069 
im´ovem’t
 = 
h¡©e_
->
	`g‘Im´ovem’tRªdomMoveCÚt
(
cÚtAtomIdx
, 
vCÚtAtomFl³d
);

1071 ià(
hmwsdebug
)

1073 
cout
 << "Choo£Øæ cÚˆ©om " << 
cÚtAtomIdx
 << ":";
h¡©e_
->
	`´štCÚtAtom
(contAtomIdx, cout);

1075 ià(
hmwsdebug
)

1077 
cout
 << "By flpšgØ" << 
vCÚtAtomFl³d
 << ", im´ovem’ˆi " << 
im´ovem’t
 << 
’dl
;

1079 ià((
im´ovem’t
 >ğ0è|| (
	`¿ndom
(è<ğ
	`exp
(im´ovem’t/(
§Temp_
)è* 
RAND_MAX
))

1081 
pickedCÚtV®ue_
 = 
vCÚtAtomFl³d
;

1082 
§S‹ps_
 ++;

1083 ià(
§S‹ps_
 % 
§IÁ”v®_
 == 0)

1085 
§Temp_
 = saTemp_ * 
§TempDownR©io_
;

1087  
toFl
;

1089  
NOVALUE
;

1093 
	}
}

1101 
	$pickSS
()

1103 
co¡OfF®£CÏu£s
 = 
h¡©e_
->
	`g‘Co¡OfTÙ®F®£CÚ¡¿šts
();

1106 ià(
co¡OfF®£CÏu£s
 <ğ
rg‘Co¡_
 + 
SMALLVALUE
 ||

1107 (
	`¿ndom
(è% 100 < 
§R©io_
 && !
Ï‹Sa_
))

1109 ià(
hmwsdebug
)

1110 
cout
 << "SASTEP" << 
’dl
;

1114 
toFl
 = 
h¡©e_
->
	`g‘IndexOfRªdomAtom
();

1115 ià(
toFl
 > 0)

1117 ià(
hmwsdebug
)

1119 
cout
 << "Choo£Øæ di ©om " << 
toFl
 << ":";

1120 
h¡©e_
->
	`´štDisAtom
(
toFl
, 
cout
);

1121 
cout
 << 
’dl
;

1123 
im´ovem’t
 = 
	`ÿlcuÏ‹Im´ovem’tDisHMCS
(
toFl
);

1125 ià(
hmwsdebug
)

1126 
cout
 << "By flpšg, im´ovem’ˆi " << 
im´ovem’t
 << 
’dl
;

1130 ià((
im´ovem’t
 >= 0) ||

1131 (
	`¿ndom
(è<ğ
	`exp
(
im´ovem’t
/(
§Temp_
/100.0)è* 
RAND_MAX
))

1133  
toFl
;

1137  
NOVALUE
;

1144 
cÚtAtomIdx
 = -
toFl
;

1145 
vCÚtAtomFl³d
;

1146 
im´ovem’t
 =

1147 
h¡©e_
->
	`G‘Im´ovem’tByMovšgCÚtV¬
(
cÚtAtomIdx
, 
vCÚtAtomFl³d
);

1149 ià(
hmwsdebug
)

1151 
cout
 << "Choo£ØmovcÚˆ©om " << 
cÚtAtomIdx
 << ":";

1152 
h¡©e_
->
	`´štCÚtAtom
(
cÚtAtomIdx
, 
cout
);

1153 
cout
 << " TØ" << 
vCÚtAtomFl³d
 << ", improvement is "

1154 << 
im´ovem’t
 << 
’dl
;

1157 ià((
im´ovem’t
 >= 0) ||

1158 (
	`¿ndom
(è<ğ
	`exp
(
im´ovem’t
/(
§Temp_
/100.0)è* 
RAND_MAX
))

1160 
pickedCÚtV®ue_
 = 
vCÚtAtomFl³d
;

1161  
toFl
;

1165  
NOVALUE
;

1172  
	`pickHMCS
();

1174 
	}
}

1192 
	$ÿlcuÏ‹Im´ovem’tDisHMCS
(cÚ¡ & 
©omIdx
)

1194  
h¡©e_
->
	`g‘Im´ovem’tByFlpšgDisHMCS
(
©omIdx
);

1195 
	}
}

1200 
	$ÿlcuÏ‹Im´ovem’tDisHMWS
(
©omIdx
)

1202 ià(
©omIdx
 > 0)

1204  
h¡©e_
->
	`g‘Im´ovem’tByFlpšgDisHMWS
(
©omIdx
);

1207 
	}
}

1213 
	$»cÚ¡ruùLowS‹
()

1215 
	`as£¹
(
ÏzyLowS‹_
);

1216 ià(
hmwsdebug
è
cout
 << "RecÚ¡ruùšg†ow s‹ ..." << 
’dl
;

1217 
hash_£t
<>::
cÚ¡_™”©Ü
 
™
 = 
v¬sFl³dSšûLowS‹_
.
	`begš
();

1218 ; 
™
 !ğ
v¬sFl³dSšûLowS‹_
.
	`’d
(); it++)

1220 ià(
hmwsdebug
)

1222 
cout
 << "Flpšg‡tom " << (*
™
è<< 
’dl
;

1224 
h¡©e_
->
	`æAtomV®ue
(*
™
, -1);

1226 
h¡©e_
->
	`§veLowS‹
();

1227 ià(
hmwsdebug
è
cout
 << "DÚ»cÚ¡ruùšg†ow s‹ ..." << 
’dl
;

1228 
	}
}

1230 
	g´iv©e
:

1231 
§IÁ”v®_
;

1232 
	g§S‹ps_
;

1233 
	gmaxSecÚds_
;

1234 
	g§TempDownR©io_
;

1235 
	g§TempIn™_
;

1236 
	gpickedCÚtV®ue_
;

1237 
	gpickedCÚtIdx_
;

1239 
	gA¼ay
<> 
	gpickDisIdx_
;

1244 
	gheuri¡ic_
;

1246 
	gbuL’gth_
;

1250 
	g§R©io_
;

1252 
	g§Temp_
;

1254 
boŞ
 
	gÏ‹Sa_
;

1260 (
	gHMaxW®kS©
::*
pickcode
[15])();

1262 
boŞ
 
	gh¬d_
;

1265 
	gnum”©Ü_
;

1266 
	gd’omš©Ü_
;

1269 
boŞ
 
	gšBlock_
;

1270 
	gæInBlock_
;

1276 
boŞ
 
	gÏzyLowS‹_
;

1279 
	ghash_£t
<> 
	gv¬sFl³dSšûLowS‹_
;

	@infer/hmcsat.h

67 #iâdeà
HMCSAT_H_


68 
	#HMCSAT_H_


	)

70 
	~"mcmc.h
"

71 
	~"mc§¬ams.h
"

72 
	~"hmaxw®k§t.h
"

73 
	~"hv¬ŸbË¡©e.h
"

75 cÚ¡ 
	ghmsdebug
 = 
çl£
;

83 şas 
	cHMCSAT
 : 
public
 
MCMC


85 
public
:

89 
	$HMCSAT
(
HV¬ŸbËS‹
* 
¡©e
, 
£ed
, cÚ¡ 
boŞ
& 
ŒackCÏu£TrueCÁs
,

90 
MCS©P¬ams
* 
mc§tP¬ams
)

91 : 
	$MCMC
(
¡©e
, 
£ed
, 
ŒackCÏu£TrueCÁs
, 
mc§tP¬ams
)

93 
Tim”
 
tim”1
;

96 
mws_
 = 
Ãw
 
	`HMaxW®kS©
(
h¡©e_
, 
£ed
, 
çl£
, 
mc§tP¬ams
->
mwsP¬ams
);

97 
bMaxW®kS©_
 = 
çl£
;

98 
cÚtSam¶es_
.
	`growToSize
(
h¡©e_
->
cÚtAtomNum_
);

99 
´št_v¬s_³r_§m¶e_
 = 
çl£
;

101 ià(
hmsdebug
)

103 
cout
 << "[MCSAT] ";

104 
Tim”
::
	`´štTime
(
cout
, 
tim”1
.
	`time
());

105 
cout
 << 
’dl
;

106 
tim”1
.
	`»£t
();

113 ~
	$HMCSAT
()

115 
d–‘e
 
mws_
;

116 
	}
}

118 
	$š™NumTrueTÙ®
()

120 
numDisP»ds
 = 
h¡©e_
->
	`g‘NumAtoms
();

121 
numTrue_
.
	`growToSize
(
numDisP»ds
, 0);

122 
	}
}

127 
	$š™
()

129 
Tim”
 
tim”1
;

130 
	`as£¹
(
numChašs_
 == 1);

132 
cout
 << "In™Ÿlizšg MC-SAT w™h MaxW®k§ˆÚ h¬d cÏu£s..." << 
’dl
;

134 
	`š™NumTrueTÙ®
();

135 
h¡©e_
->
	`–imš©eSoáCÏu£s
();

136 
h¡©e_
->
	`£tInã»nûMode
(h¡©e_->
MODE_HARD
);

138 
numSŞutiÚs
 = 
mws_
->
	`g‘NumSŞutiÚs
();

139 
mws_
->
	`£tNumSŞutiÚs
(1);

151 
mws_
->
	`š™
();

152 
mws_
->
	`šãr
();

154 ià(
hmsdebug
)

156 
cout
 << "Low s‹:" << 
’dl
;

157 
h¡©e_
->
	`´štLowS‹
(
cout
);

160 
h¡©e_
->
	`§veLowS‹ToGndP»ds
();

161 
h¡©e_
->
	`§veCu¼’tAsLa¡Assignm’t
();

162 
h¡©e_
->
	`Upd©eHybridCÚ¡¿štTh
();

164 
mws_
->
	`£tHeuri¡ic
(
SS
);

165 
mws_
->
	`£tNumSŞutiÚs
(
numSŞutiÚs
);

166 
mws_
->
	`£tT¬g‘Co¡
(0.0);

167 
h¡©e_
->
	`»£tD—dCÏu£s
();

168 
§m¶e_
 = 0;

171 
h¡©e_
->
	`£tInã»nûMode
(h¡©e_->
MODE_SAMPLESAT
);

173 ià(
hmsdebug
)

175 
cout
 << "[MCSAT.init] ";

176 
Tim”
::
	`´štTime
(
cout
, 
tim”1
.
	`time
());

177 
cout
 << 
’dl
;

178 
tim”1
.
	`»£t
();

180 
	}
}

182 
	$´štCÚtSam¶es
()

184 
i
 = 0; i < 
cÚtSam¶es_
.
	`size
(); i ++)

186 
j
 = 0; j < 
cÚtSam¶es_
[
i
].
	`size
(); j++)

188 
cÚtSam¶eLog_
 << 
cÚtSam¶es_
[
i
][
j
] << " ";

190 
cÚtSam¶eLog_
 << 
’dl
;

192 
	}
}

197 
	$šãr
()

199 
Tim”
 
tim”1
;

201 
boŞ
 
buºšgIn
 = (
buºMaxS‹ps_
 > 0è? 
Œue
 : 
çl£
;

202 
£cÚdsEÏp£d
 = 0;

204 
ssSecÚdsEÏp£d_
 = 0;

205 
¡¬tTimeSec
 = 
tim”1
.
	`time
();

206 
cu¼’tTimeSec
;

207 
§m¶esP”Ouut
 = 100;

210 
GroundP»diÿ‹HashA¼ay
 
afãùedGndP»ds
;

211 
A¼ay
<> 
afãùedGndP»dIndiûs
;

214 
numAtoms
 = 
h¡©e_
->
	`g‘NumAtoms
();

215 
i
 = 0; i < 
numAtoms
; i++)

217 
afãùedGndP»ds
.
	`­³nd
(
h¡©e_
->
	`g‘GndP»d
(
i
), 
numAtoms
);

218 
afãùedGndP»dIndiûs
.
	`­³nd
(
i
);

220 
	`upd©eWtsFÜGndP»dsH
(
afãùedGndP»ds
, 
afãùedGndP»dIndiûs
, 0);

221 
afãùedGndP»ds
.
	`ş—r
();

222 
afãùedGndP»dIndiûs
.
	`ş—r
();

224 ià(
hmsdebug
)

226 
cout
 << "[MCSAT.infer.prep] ";

227 
Tim”
::
	`´štTime
(
cout
, 
tim”1
.
	`time
());

228 
cout
 << 
’dl
;

229 
tim”1
.
	`»£t
();

232 
cout
 << "RuÂšg MC-SAT sam¶šg..." << 
’dl
;

234 
numSam¶esP”P»d
 = 0;

235 
boŞ
 
dÚe
 = 
çl£
;

236 !
dÚe
)

238 ++
§m¶e_
;

239 ià(
§m¶e_
 % 
§m¶esP”Ouut
 == 0)

241 
cu¼’tTimeSec
 = 
tim”1
.
	`time
();

242 
£cÚdsEÏp£d
 = 
cu¼’tTimeSec
 - 
¡¬tTimeSec
;

243 
cout
 << "Sam¶Õ”…»dè" << 
§m¶e_
 << ",imeƒlapsed = ";

244 
Tim”
::
	`´štTime
(
cout
, 
£cÚdsEÏp£d
);

245 
cout
 << ",‚um.…»d ğ" << 
h¡©e_
->
	`g‘NumAtoms
();

246 
cout
 << ",‚um. cÏu£ ğ" << 
h¡©e_
->
	`g‘NumCÏu£s
();

247 
cout
 << 
’dl
;

250 
	`³rfÜmMCS©S‹p
(
buºšgIn
);

252 ià(!
buºšgIn
è
numSam¶esP”P»d
++;

254 ià(
buºšgIn
)

256 ià((
buºMaxS‹ps_
 >ğ0 && 
§m¶e_
 >ğbuºMaxS‹ps_è|| (
maxSecÚds_
 > 0 && 
£cÚdsEÏp£d
 >= maxSeconds_))

258 
cout
 << "DÚbuºšg. " << 
§m¶e_
 << " sam¶es." << 
’dl
;

259 
buºšgIn
 = 
çl£
;

260 
§m¶e_
 = 0;

265 iàĞ(
maxS‹ps_
 >ğ0 && 
§m¶e_
 >= maxSteps_)

266 || (
maxSecÚds_
 > 0 && 
£cÚdsEÏp£d
 >= maxSeconds_))

268 
cout
 << "DÚMC-SAT sam¶šg. " << 
§m¶e_
 << " samples."

269 << 
’dl
;

270 
dÚe
 = 
Œue
;

273 
cout
.
	`æush
();

276 
cout
<< "Timeaken for MC-SAT sampling = ";

277 
Tim”
::
	`´štTime
(
cout
, 
tim”1
.
	`time
(è- 
¡¬tTimeSec
); couˆ<< 
’dl
;

282 
cout
<< "Timeaken for SampleSat = ";

283 
Tim”
::
	`´štTime
(
cout
, 
ssSecÚdsEÏp£d_
); couˆ<< 
’dl
;

286 
i
 = 0; i < 
h¡©e_
->
	`g‘NumAtoms
(); i++)

288 
	`£tProbTrue
(
i
, 
numTrue_
[i] / 
numSam¶esP”P»d
);

301 
	}
}

304 
	$S‘CÚtSam¶eFe
(cÚ¡ * 
cÚt§m¶–og
)

306 
cÚtSam¶eLog_
.
	`İ’
(
cÚt§m¶–og
);

307 ià(!
cÚtSam¶eLog_
.
	`is_İ’
())

311 
	}
}

315 
	$S‘PrštV¬sP”Sam¶e
(
boŞ
 
µs
) {

316 
´št_v¬s_³r_§m¶e_
 = 
µs
;

317 
	}
}

320 
boŞ
 
	gbMaxW®kS©_
;

322 
	g´iv©e
:

328 
	$³rfÜmMCS©S‹p
(cÚ¡ 
boŞ
& 
buºšgIn
)

330 ià(
hmsdebug
)

332 
cout
 << "Num oàşau£ " << 
h¡©e_
->
	`g‘NumCÏu£s
(è<< 
’dl
;

333 
cout
 << "Num oàçl£ cÏu£ " << 
h¡©e_
->
	`g‘NumF®£CÏu£s
(è<< 
’dl
;

334 
cout
 << "Num oàd—d cÏu£ " << 
h¡©e_
->
	`g‘NumD—dCÏu£s
(è<< 
’dl
;

336 
Tim”
 
tim”
;

337 
¡¬tTime
;

338 ià(
hmsdebug
è
cout
 << "EÁ”šg MC-SAT s‹p" << 
’dl
;

341 
h¡©e_
->
	`£tU£Th»shŞd
(
Œue
);

342 
h¡©e_
->
	`upd©eP»vS©isf›d
();

344 
¡¬t
 = 0;

346 
h¡©e_
->
	`»£tMakeB»akCo¡W©ch
();

348 
h¡©e_
->
	`klCÏu£s
(
¡¬t
);

351 
¡¬tTime
 = 
tim”
.
	`time
();

352 
mws_
->
	`š™
();

353 
mws_
->
	`šãr
();

354 
ssSecÚdsEÏp£d_
 +ğ(
tim”
.
	`time
(è- 
¡¬tTime
);

356 
h¡©e_
->
	`§veLowS‹ToGndP»ds
();

357 ià(
´št_v¬s_³r_§m¶e_
) {

358 
cout
 << "HMCS I‹r#" << 
§m¶e_
 << ":\t";

359 
i
 = 0; i < 
h¡©e_
->
	`g‘NumAtoms
(); ++i) {

360 
cout
 << 
h¡©e_
->
©om_
[
i
 + 1] << "\t";

363 
i
 = 0; i < 
h¡©e_
->
	`g‘NumCÚtAtoms
(); ++i) {

364 
cout
 << 
h¡©e_
->
cÚtAtoms_
[
i
+1] << "\t";

366 
cout
 << 
’dl
;

368 ià(
hmsdebug
 && 
h¡©e_
->
co¡OfTÙ®F®£CÚ¡¿šts_
 < 
mws_
->
	`g‘T¬g‘Co¡
(è+ 
SMALLVALUE
)

370 
h¡©e_
->
	`´štLowS‹AÎ
(
cout
);

372 ià(
hmsdebug
 && 
h¡©e_
->
co¡OfTÙ®F®£CÚ¡¿šts_
 > 
mws_
->
	`g‘T¬g‘Co¡
(è+ 
SMALLVALUE
)

374 
cout
 << "nÙ‡Î s©isf›d,‡ˆ§m¶" << 
§m¶e_
 << ". " << 
’dl
;

375 
cout
 << "E¼Ü‡ˆ§m¶e: " << 
§m¶e_
 << ", " << 
h¡©e_
->
co¡OfTÙ®F®£CÚ¡¿šts_
 << 
’dl
;

376 
cout
 << "F®£ cÚˆcÚ¡¿šts: " << 
h¡©e_
->
co¡HybridF®£CÚ¡¿št_
 << ", f®£ disü‘e: " << h¡©e_->
	`g‘Co¡OfF®£CÏu£s
(è<< 
’dl
;

378 
h¡©e_
->
	`´štF®£CÏu£s
(
cout
);

381 
numAtoms
 = 
h¡©e_
->
	`g‘NumAtoms
();

382 
i
 = 0; i < 
numAtoms
; i++)

384 
GroundP»diÿ‹
* 
gndP»d
 = 
h¡©e_
->
	`g‘GndP»d
(
i
);

385 
boŞ
 
ÃwAssignm’t
 = 
h¡©e_
->
	`g‘V®ueOfLowAtom
(
i
 + 1);

387 ià(
ÃwAssignm’t
 !ğ
gndP»d
->
	`g‘TruthV®ue
()) {

388 
gndP»d
->
	`£tTruthV®ue
(
ÃwAssignm’t
);

389 
	`upd©eCÏu£s
(
i
);

393 
i
 = 0; i < 
h¡©e_
->
cÚtAtomNum_
; i++)

395 
cÚtSam¶es_
[
i
].
	`­³nd
(
h¡©e_
->
cÚtAtoms_
[i+1]);

396 
cÚtSam¶eLog_
 << 
h¡©e_
->
cÚtAtoms_
[
i
+1] << " ";

398 
cÚtSam¶eLog_
 << 
’dl
;

400  
i
 = 0; i < 
h¡©e_
->
	`g‘NumAtoms
(); i++)

402 
boŞ
 
ÃwAssignm’t
 = 
h¡©e_
->
	`g‘V®ueOfAtom
(
i
+1);

403 ià(!
buºšgIn
 && 
ÃwAssignm’t
è
numTrue_
[
i
]++;

405 
h¡©e_
->
	`»£tFixedAtoms
();

406 
h¡©e_
->
	`»£tD—dCÏu£s
();

407 
h¡©e_
->
	`§veCu¼’tAsLa¡Assignm’t
();

409 
h¡©e_
->
	`Upd©eHybridCÚ¡¿štTh
();

410 
h¡©e_
->
	`£tU£Th»shŞd
(
çl£
);

412 ià(!
buºšgIn
 && 
ŒackCÏu£TrueCÁs_
)

414 
h¡©e_
->
	`g‘NumCÏu£Gndšgs
(
şau£TrueCÁs_
, 
Œue
);

415 
h¡©e_
->
	`g‘CÚtCÏu£Gndšgs
(
şau£TrueCÁsCÚt_
);

417 ià(
hmsdebug
è
cout
 << "L—všg MC-SAT s‹p" << 
’dl
;

418 
	}
}

427 
	$upd©eCÏu£s
(cÚ¡ & 
gndP»dIdx
)

429 ià(
hmsdebug
è
cout
 << "EÁ”šg upd©eCÏu£s" << 
’dl
;

430 
GroundP»diÿ‹
* 
gndP»d
 = 
h¡©e_
->
	`g‘GndP»d
(
gndP»dIdx
);

431 
A¼ay
<>& 
ÃgGndCÏu£s
 =

432 
h¡©e_
->
	`g‘NegOccu»nûA¼ay
(
gndP»dIdx
 + 1);

433 
A¼ay
<>& 
posGndCÏu£s
 =

434 
h¡©e_
->
	`g‘PosOccu»nûA¼ay
(
gndP»dIdx
 + 1);

435 
gndCÏu£Idx
;

436 
boŞ
 
£n£
;

438 
i
 = 0; i < 
ÃgGndCÏu£s
.
	`size
(è+ 
posGndCÏu£s
.size(); i++)

440 ià(
i
 < 
ÃgGndCÏu£s
.
	`size
())

442 
gndCÏu£Idx
 = 
ÃgGndCÏu£s
[
i
];

443 
£n£
 = 
çl£
;

447 
gndCÏu£Idx
 = 
posGndCÏu£s
[
i
 - 
ÃgGndCÏu£s
.
	`size
()];

448 
£n£
 = 
Œue
;

451 ià(
gndP»d
->
	`g‘TruthV®ue
(è=ğ
£n£
)

452 
h¡©e_
->
	`šüem’tNumTrueL™s
(
gndCÏu£Idx
);

454 
h¡©e_
->
	`deüem’tNumTrueL™s
(
gndCÏu£Idx
);

456 ià(
hmsdebug
è
cout
 << "L—všg upd©eCÏu£s" << 
’dl
;

457 
	}
}

459 
	g´iv©e
:

460 
of¡»am
 
cÚtSam¶eLog_
;

461 
	g§m¶e_
;

462 
boŞ
 
	g´št_v¬s_³r_§m¶e_
;

464 
	gA¼ay
<A¼ay<> > 
	gcÚtSam¶es_
;

469 
HMaxW®kS©
* 
	gmws_
;

474 
	gssSecÚdsEÏp£d_
;

	@infer/hypercube.h

67 #iâdeà
_HYPERCUBE_H_MAY_2008


68 
	#_HYPERCUBE_H_MAY_2008


	)

70 
	~<ext/hash_£t
>

71 
	~<ext/hash_m­
>

72 
	~<o¡»am
>

74 
	~"ut.h
"

75 
	~"¬¿y.h
"

76 
	~"hashšt.h
"

77 
	~"šãrut.h
"

80 
usšg
 
Çme¥aû
 
	g¡d
;

81 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

84 şas 
	cHy³rCube
 {

86 
	mpublic
:

88 
	$Hy³rCube
() {

89 
	`š™
();

92 
	$Hy³rCube
(
v¬CÁ
) {

93 
	`š™
();

94 
v¬CÚ¡ªtsA¼_
->
	`growToSize
(
v¬CÁ
+1,
NULL
);

95 
	}
}

98 
Hy³rCube
(
A¼ay
<> * cÚ¡ & 
cÚ¡ªts
) {

99 
š™
();

109 
IÁA¼ay
 * 
	gv¬CÚ¡ªts
;

110 
	gv¬CÚ¡ªtsA¼_
->
growToSize
(
cÚ¡ªts
->
size
(),
NULL
);

112 
	gv¬Id
=1;v¬Id<
	gcÚ¡ªts
->
size
();varId++) {

114 
	gv¬CÚ¡ªts
 = 
Ãw
 
IÁA¼ay
();

115 
	gv¬CÚ¡ªts
->
­³nd
((*
cÚ¡ªts
)[
v¬Id
]);

116 
	gv¬CÚ¡ªts
->
com´ess
();

117 
£tV¬CÚ¡ªts
(
v¬CÚ¡ªts
,
v¬Id
);

122 
	$Hy³rCube
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
) {

125 
	`š™
();

136 
v¬CÁ
 = 
hy³rCube
->
	`g‘V¬CouÁ
();

137 
v¬CÚ¡ªtsA¼_
->
	`growToSize
(
v¬CÁ
+1,
NULL
);

138 
IÁA¼ay
 *
v¬CÚ¡ªts
;

139 
v¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

140 
v¬CÚ¡ªts
 = 
hy³rCube
->
	`g‘V¬CÚ¡ªts
(
v¬Id
);

141 if(
v¬CÚ¡ªts
)

142 
	`£tV¬CÚ¡ªts
(
Ãw
 
	`IÁA¼ay
(*
v¬CÚ¡ªts
),
v¬Id
);

146 
	}
}

149 
	$Hy³rCube
(
Hy³rCube
 cÚ¡ & 
hy³rCube
) {

150 
cout
<<"O³¿tiÚ NÙ SuµÜ‹d!!"<<
’dl
;

151 
	`as£¹
(
çl£
);

152 
	}
}

157 ~
	$Hy³rCube
() {

158 
	`d–‘eV¬CÚ¡ªts
();

160 
d–‘e
 
v¬CÚ¡ªtsA¼_
;

161 
	}
}

163 
	$š™
() {

167 
dœty_
 = 
Œue
;

168 
v¬CÚ¡ªtsA¼_
 = 
Ãw
 
A¼ay
<
IÁA¼ay
 *>();

169 
	}
}

171 
	$d–‘eV¬CÚ¡ªts
() {

172 
dœty_
 = 
Œue
;

173 
i
=0;i<
v¬CÚ¡ªtsA¼_
->
	`size
();i++) {

174 if(!(*
v¬CÚ¡ªtsA¼_
)[
i
])

176 (*
v¬CÚ¡ªtsA¼_
)[
i
]->
	`ş—r
();

177 
	`d–‘e
 (*
v¬CÚ¡ªtsA¼_
)[
i
];

178 (*
v¬CÚ¡ªtsA¼_
)[
i
] = 
NULL
;

180 
v¬CÚ¡ªtsA¼_
->
	`ş—r
();

181 
	}
}

184 
	$g‘V¬CouÁ
() const {

185  (
v¬CÚ¡ªtsA¼_
->
	`size
()-1);

186 
	}
}

188 
	$g‘NumCÚ¡ªts
() {

189 
numCÚ¡ªts
 = 0;

190 
v¬CÁ
 = 
	`g‘V¬CouÁ
();

191 
v¬
=1;v¬<=
v¬CÁ
;var++) {

192 
numCÚ¡ªts
 +ğ(*
v¬CÚ¡ªtsA¼_
)[
v¬
]->
	`size
();

194  
numCÚ¡ªts
;

195 
	}
}

199 
	$g‘NumTu¶es
() const {

200 
v¬CÁ
 = 
	`g‘V¬CouÁ
();

201 
tu¶eCÁ
 = 1;

202 
v¬
=1;v¬<=
v¬CÁ
;var++) {

203 
tu¶eCÁ
 =u¶eCÁ * (*
v¬CÚ¡ªtsA¼_
)[
v¬
]->
	`size
();

205  
tu¶eCÁ
;

206 
	}
}

208 
IÁA¼ay
 * 
	$g‘V¬CÚ¡ªts
(
v¬
) const {

209  (*
v¬CÚ¡ªtsA¼_
)[
v¬
];

210 
	}
}

212 
	$g‘V¬CÚ¡ªtCouÁ
(
v¬
) const {

213  (*
v¬CÚ¡ªtsA¼_
)[
v¬
]->
	`size
();

214 
	}
}

217 
	gA¼ay
<> * 
g‘Tu¶eCÚ¡ªtsAtIndex
(
A¼ay
<> * cÚ¡ & 
šdiûs
) {

218 
	gv¬CÁ
 = 
g‘V¬CouÁ
();

219 
	gA¼ay
<> * 
	gtu¶eCÚ¡ªts
 = 
Ãw
 
A¼ay
<>();

221 
	gtu¶eCÚ¡ªts
->
­³nd
(0);

223 
	gv¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

224 
	gšdex
 = (*
šdiûs
)[
v¬Id
];

225 
	gtu¶eCÚ¡ªts
->
­³nd
((*(*
v¬CÚ¡ªtsA¼_
)[
v¬Id
])[
šdex
]);

227  
	gtu¶eCÚ¡ªts
;

230 
boŞ
 
	$hasDu¶iÿ‹CÚ¡ªts
(
IÁA¼ay
 * cÚ¡ & 
tu¶eCÚ¡ªts
,

231 
IÁA¼ayHashA¼ay
 * cÚ¡ & 
ÃqCÚ¡¿šts
) {

232 
IÁA¼ay
 *
cÚ¡¿št
;

233 if(!
ÃqCÚ¡¿šts
)

234  
çl£
;

236 
i
=0;i<
ÃqCÚ¡¿šts
->
	`size
();i++) {

237 
cÚ¡¿št
 = (*
ÃqCÚ¡¿šts
)[
i
];

238 
v¬Id1
 = -(*
cÚ¡¿št
)[0];

239 
v¬Id2
 = -(*
cÚ¡¿št
)[1];

240 if((*
tu¶eCÚ¡ªts
)[
v¬Id1
] =ğ(*tu¶eCÚ¡ªts)[
v¬Id2
]) {

241 if((*
tu¶eCÚ¡ªts
)[
v¬Id1
] >= 0)

242  
Œue
;

245  
çl£
;

246 
	}
}

249 
	$»¶aûRefV¬IdsByCÚ¡ªts
(
IÁA¼ay
 * cÚ¡ & 
tu¶eCÚ¡ªts
) {

250 
»fV¬Id
;

251 
cÚ¡Id
;

252 
v¬Id
=1;v¬Id<
tu¶eCÚ¡ªts
->
	`size
();varId++) {

253 
cÚ¡Id
 = (*
tu¶eCÚ¡ªts
)[
v¬Id
];

254 if(
cÚ¡Id
 < 0) {

255 
»fV¬Id
 = -
cÚ¡Id
;

256 
	`as£¹
(
»fV¬Id
 <ğ
	`g‘V¬CouÁ
());

257 (*
tu¶eCÚ¡ªts
)[
v¬Id
] = (*tu¶eCÚ¡ªts)[
»fV¬Id
];

260 
	}
}

263 
	gA¼ay
<A¼ay<> *>* 
	$g‘Tu¶es
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
ÃqCÚ¡¿šts
) {

264 
A¼ay
<A¼ay<>*> * 
tu¶eCÚ¡ªtsA¼
 = 
Ãw
 Array<Array<> *>;

265 
IÁA¼ay
 *
tu¶eCÚ¡ªts
;

266 
boŞ
 
isDu¶iÿ‹
;

267 
v¬CÁ
 = 
	`g‘V¬CouÁ
();

268 
A¼ay
<> * 
¡ack
 = 
Ãw
 Array<>();

269 
b»akPos
;

272 
i
=0;i<=
v¬CÁ
;i++) {

273 
¡ack
->
	`­³nd
(0);

277 
Œue
) {

278 
tu¶eCÚ¡ªts
 = 
	`g‘Tu¶eCÚ¡ªtsAtIndex
(
¡ack
);

279 
isDu¶iÿ‹
 = 
	`hasDu¶iÿ‹CÚ¡ªts
(
tu¶eCÚ¡ªts
, 
ÃqCÚ¡¿šts
);

281 if(
isDu¶iÿ‹
) {

282 
d–‘e
 
tu¶eCÚ¡ªts
;

284 
	`»¶aûRefV¬IdsByCÚ¡ªts
(
tu¶eCÚ¡ªts
);

285 
tu¶eCÚ¡ªtsA¼
->
	`­³nd
(
tu¶eCÚ¡ªts
);

288 
b»akPos
 = 
v¬CÁ
 + 1;

290 
v¬
=1;v¬<=
v¬CÁ
;var++) {

291 if((*
¡ack
)[
v¬
] < 
	`g‘V¬CÚ¡ªtCouÁ
(var)-1) {

292 
b»akPos
 = 
v¬
;

297 if(
b»akPos
 > 
v¬CÁ
)

300 
–em
 = (*
¡ack
)[
b»akPos
];

301 (*
¡ack
)[
b»akPos
] = 
–em
 + 1;

303 
v¬
=
b»akPos
-1;var>0;var--) {

304 (*
¡ack
)[
v¬
] = 0;

307 
d–‘e
 
¡ack
;

308  
tu¶eCÚ¡ªtsA¼
;

309 
	}
}

312 
	gA¼ay
<A¼ay<> *>* 
	$g‘Tu¶es
() {

313  
	`g‘Tu¶es
(
NULL
);

314 
	}
}

318 
	$g‘Reã»nûV¬Id
(
v¬Id
) {

319 
IÁA¼ay
 *
v¬CÚ¡ªts
 = 
	`g‘V¬CÚ¡ªts
(
v¬Id
);

320 if(
v¬CÚ¡ªts
 =ğ
NULL
)

321  
v¬Id
;

322 if(
v¬CÚ¡ªts
->
	`size
() != 1)

323  
v¬Id
;

324 
»fV¬Id
 = -(*
v¬CÚ¡ªts
)[0];

325 if(
»fV¬Id
 > 0) {

326 
	`as£¹
(
»fV¬Id
 !ğ
v¬Id
);

327  
»fV¬Id
;

329  
v¬Id
;

331 
	}
}

334 
IÁA¼ayHashA¼ay
 *
	$g‘R–evªtCÚ¡¿šts
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
špCÚ¡¿šts
) {

336 
IÁA¼ayHashA¼ay
 *
cÚ¡¿šts
 = 
Ãw
 
	`IÁA¼ayHashA¼ay
();

337 
IÁA¼ay
 *
cÚ¡¿št
, *
špCÚ¡¿št
;

338 
v¬Id1
, 
v¬Id2
, 
»fV¬Id1
, 
»fV¬Id2
;

340 
i
=0;i<
špCÚ¡¿šts
->
	`size
();i++) {

341 
špCÚ¡¿št
 = (*
špCÚ¡¿šts
)[
i
];

342 
v¬Id1
 = -(*
špCÚ¡¿št
)[0];

343 
v¬Id2
 = -(*
špCÚ¡¿št
)[1];

344 
»fV¬Id1
 = 
	`g‘Reã»nûV¬Id
(
v¬Id1
);

345 
»fV¬Id2
 = 
	`g‘Reã»nûV¬Id
(
v¬Id2
);

346 if(
»fV¬Id1
 =ğ
»fV¬Id2
)

349 if(
»fV¬Id1
 > 
»fV¬Id2
) {

350 
tmp
 = 
»fV¬Id1
;

351 
»fV¬Id1
 = 
»fV¬Id2
;

352 
»fV¬Id2
 = 
tmp
;

354 
cÚ¡¿št
 = 
Ãw
 
	`IÁA¼ay
();

355 
cÚ¡¿št
->
	`­³nd
(-
»fV¬Id1
);

356 
cÚ¡¿št
->
	`­³nd
(-
»fV¬Id2
);

362 
cÚ¡¿šts
->
	`­³nd
(
cÚ¡¿št
);

364  
cÚ¡¿šts
;

365 
	}
}

368 
boŞ
 
	$hasDu¶iÿ‹CÚ¡ªts
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
ÃqCÚ¡¿šts
) {

369 
boŞ
 
foundDu¶iÿ‹
 = 
çl£
;

370 
v¬CÁ
 = 
	`g‘V¬CouÁ
();

371 
IÁA¼ay
 *
cÚ¡¿št
 = 
NULL
;

372 
IÁA¼ay
 *
v¬CÚ¡ªts1
, *
v¬CÚ¡ªts2
;

373 
IÁA¼ayHashA¼ay
 *
»ËvªtCÚ¡¿šts
 = 
NULL
;

374 
v¬Id1
=1;v¬Id1<=
v¬CÁ
;varId1++) {

375 
v¬CÚ¡ªts1
 = 
	`g‘V¬CÚ¡ªts
(
v¬Id1
);

376 if((
v¬CÚ¡ªts1
->
	`size
() != 1) || ((*varConstants1)[0] < 0))

379 
v¬Id2
=
v¬Id1
+1;v¬Id2<=
v¬CÁ
;varId2++) {

380 
v¬CÚ¡ªts2
 = 
	`g‘V¬CÚ¡ªts
(
v¬Id2
);

381 if((
v¬CÚ¡ªts2
->
	`size
() != 1) || ((*varConstants2)[0] < 0))

383 if((*
v¬CÚ¡ªts1
)[0] !ğ(*
v¬CÚ¡ªts2
)[0])

388 if(!
»ËvªtCÚ¡¿šts
)

389 
»ËvªtCÚ¡¿šts
 = 
	`g‘R–evªtCÚ¡¿šts
(
ÃqCÚ¡¿šts
);

391 if(!
cÚ¡¿št
) {

392 
cÚ¡¿št
 = 
Ãw
 
	`IÁA¼ay
();

394 
cÚ¡¿št
->
	`ş—r
();

396 
cÚ¡¿št
->
	`­³nd
(-
v¬Id1
);

397 
cÚ¡¿št
->
	`­³nd
(-
v¬Id2
);

404 if(
ÃqCÚ¡¿šts
->
	`fšd
(
cÚ¡¿št
) >= 0) {

405 
foundDu¶iÿ‹
 = 
Œue
;

416 if(
cÚ¡¿št
)

417 
d–‘e
 
cÚ¡¿št
;

418 if(
»ËvªtCÚ¡¿šts
) {

419 
»ËvªtCÚ¡¿šts
->
	`d–‘eI‹msAndCË¬
();

420 
d–‘e
 
»ËvªtCÚ¡¿šts
;

422  
foundDu¶iÿ‹
;

423 
	}
}

426 
boŞ
 
	$isReã»nûV¬
(
v¬Id
) {

427 
IÁA¼ay
 *
v¬CÚ¡ªts
 = 
	`g‘V¬CÚ¡ªts
(
v¬Id
);

428  (
v¬CÚ¡ªts
 !ğ
NULL
 && v¬CÚ¡ªts->
	`size
() == 1 && (*varConstants)[0] < 0);

429 
	}
}

432 
boŞ
 
	$isEm±y
() {

433 
v¬CÁ
 = 
	`g‘V¬CouÁ
();

434 
v¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

435 if(
	`g‘V¬CÚ¡ªtCouÁ
(
v¬Id
) == 0) {

436  
Œue
;

439  
çl£
;

440 
	}
}

442 
boŞ
 
	$isSub£tOf
(
IÁA¼ay
 * cÚ¡ & 
špV¬CÚ¡ªts
, 
v¬Id
) {

443 
cÚ¡ªt
;

444 
IÁA¼ay
 * 
v¬CÚ¡ªts
 = (*
v¬CÚ¡ªtsA¼_
)[
v¬Id
];

445 if(
v¬CÚ¡ªts
->
	`size
(è> 
špV¬CÚ¡ªts
->size())

446  
çl£
;

447 
i
=0;i<
v¬CÚ¡ªts
->
	`size
();i++) {

448 
cÚ¡ªt
 = (*
v¬CÚ¡ªts
)[
i
];

450 if(
	`Üd”edA¼ayFšd
(
špV¬CÚ¡ªts
,
cÚ¡ªt
) < 0)

451  
çl£
;

453  
Œue
;

454 
	}
}

456 
boŞ
 
	$isSub£tOf
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
) {

457 
IÁA¼ay
 * 
špV¬CÚ¡ªts
;

458 
v¬CÁ
 = 
	`g‘V¬CouÁ
();

459 
v¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

460 
špV¬CÚ¡ªts
 = 
hy³rCube
->
	`g‘V¬CÚ¡ªts
(
v¬Id
);

461 if(!
	`isSub£tOf
(
špV¬CÚ¡ªts
, 
v¬Id
))

462  
çl£
;

464  
Œue
;

465 
	}
}

467 
boŞ
 
	$hasIÁ”£ùiÚ
(
IÁA¼ay
 * cÚ¡ & 
špV¬CÚ¡ªts
, 
v¬Id
) {

468 
cÚ¡ªt
;

469 
IÁA¼ay
 * 
v¬CÚ¡ªts
 = (*
v¬CÚ¡ªtsA¼_
)[
v¬Id
];

471 
i
=0;i<
v¬CÚ¡ªts
->
	`size
();i++) {

472 
cÚ¡ªt
 = (*
v¬CÚ¡ªts
)[
i
];

474 if(
	`Üd”edA¼ayFšd
(
špV¬CÚ¡ªts
,
cÚ¡ªt
) >= 0)

475  
Œue
;

477  
çl£
;

478 
	}
}

481 
boŞ
 
	$hasIÁ”£ùiÚ
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
, 
boŞ
 
´št
=
çl£
) {

482 
IÁA¼ay
 * 
špV¬CÚ¡ªts
;

483 
v¬CÁ
 = 
	`g‘V¬CouÁ
();

486 if(
´št
) {

487 
cout
<<"-------------------------------------------------"<<
’dl
;

488 
cout
<<"G‘tšghš‹r£ùiÚ of"<<
’dl
;

489 
cout
<<"A=>"<<
’dl
;

490 
this
->
	`´št
(
cout
);

491 
cout
<<
’dl
;

492 
cout
<<"B=>"<<
’dl
;

493 
hy³rCube
->
	`´št
(
cout
);

494 
cout
<<
’dl
;

495 
cout
<<"-------------------------------------------------"<<
’dl
;

498 
v¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

499 
špV¬CÚ¡ªts
 = 
hy³rCube
->
	`g‘V¬CÚ¡ªts
(
v¬Id
);

502 if(!
	`hasIÁ”£ùiÚ
(
špV¬CÚ¡ªts
, 
v¬Id
)) {

505  
çl£
;

510  
Œue
;

511 
	}
}

514 
boŞ
 
	$hasSameV¬CÚ¡ªts
(
v¬Id1
, 
v¬Id2
) {

515 
IÁA¼ay
 * 
v¬CÚ¡ªts1
 = 
	`g‘V¬CÚ¡ªts
(
v¬Id1
);

516 
IÁA¼ay
 * 
v¬CÚ¡ªts2
 = 
	`g‘V¬CÚ¡ªts
(
v¬Id2
);

517  
	`Üd”edA¼ayA»Same
(
v¬CÚ¡ªts1
, 
v¬CÚ¡ªts2
);

518 
	}
}

521 
boŞ
 
	$hasDisjoštV¬CÚ¡ªts
(
v¬Id1
, 
v¬Id2
) {

522 
IÁA¼ay
 * 
v¬CÚ¡ªts1
 = 
	`g‘V¬CÚ¡ªts
(
v¬Id1
);

523  !
	`hasIÁ”£ùiÚ
(
v¬CÚ¡ªts1
, 
v¬Id2
);

524 
	}
}

528 
	$£tReã»nûV¬Id
(
v¬Id
, 
»fId
) {

529 
dœty_
 = 
Œue
;

530 
	`as£¹
(
	`isReã»nûV¬
(
v¬Id
));

531 
IÁA¼ay
 *
v¬CÚ¡ªts
 = 
	`g‘V¬CÚ¡ªts
(
v¬Id
);

532 (*
v¬CÚ¡ªts
)[0] = -
»fId
;

533 
	}
}

536 
	$£tToEm±y
() {

537 
dœty_
 = 
Œue
;

538 
v¬CÁ
 = 
	`g‘V¬CouÁ
();

539 
v¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

540 (*
v¬CÚ¡ªtsA¼_
)[
v¬Id
]->
	`ş—r
();

542 
	}
}

545 
	$addNewV¬ŸbË
(
IÁA¼ay
 * cÚ¡ & 
v¬CÚ¡ªts
) {

546 
dœty_
 = 
Œue
;

547 
v¬CÚ¡ªtsA¼_
->
	`­³nd
(
v¬CÚ¡ªts
);

548 
	}
}

551 
	$addV¬CÚ¡ªts
(
IÁA¼ay
 * cÚ¡ & 
špV¬CÚ¡ªts
, 
v¬Id
) {

552 
dœty_
 = 
Œue
;

553 
IÁA¼ay
 *
v¬CÚ¡ªts
 = 
	`g‘V¬CÚ¡ªts
(
v¬Id
);

554 
	`uniÚA¼ayK“pOrd”
(
v¬CÚ¡ªts
,
špV¬CÚ¡ªts
);

555 
	}
}

560 
	$£tV¬CÚ¡ªts
(
IÁA¼ay
 * cÚ¡ & 
v¬CÚ¡ªts
, 
v¬Id
) {

561 
dœty_
 = 
Œue
;

562 (*
v¬CÚ¡ªtsA¼_
)[
v¬Id
] = 
v¬CÚ¡ªts
;

563 
	}
}

568 
	$£tV¬CÚ¡ªtsAndD–‘eOld
(
IÁA¼ay
 * cÚ¡ & 
v¬CÚ¡ªts
, 
v¬Id
) {

569 
dœty_
 = 
Œue
;

570 
	`d–‘e
 (*
v¬CÚ¡ªtsA¼_
)[
v¬Id
];

571 
	`£tV¬CÚ¡ªts
(
v¬CÚ¡ªts
, 
v¬Id
);

572 
	}
}

577 
ÿnÚiÿlize
(
A¼ay
<> * cÚ¡ &
v¬IdToCªÚiÿlV¬Id
) {

578 
	gdœty_
 = 
Œue
;

581 
upd©eToIm¶ic™T›dR•»£Á©iÚ
();

583 
	gút
 = 1;

584 
	gA¼ay
<
	gIÁA¼ay
 *> *
	gÃwV¬CÚ¡ªtsA¼
 = 
Ãw
 
A¼ay
<
IÁA¼ay
 *>();

587 
	gÃwV¬CÚ¡ªtsA¼
->
growToSize
(1,
NULL
);

589 
IÁA¼ay
 *
	gv¬CÚ¡ªts
;

591 
	gÿnÚiÿlV¬Id
;

592 
	gv¬CÁ
 = 
g‘V¬CouÁ
();

594 
	gv¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

595 
	gv¬CÚ¡ªts
 = (*
v¬CÚ¡ªtsA¼_
)[
v¬Id
];

596 
	gÿnÚiÿlV¬Id
 = (*
v¬IdToCªÚiÿlV¬Id
)[
v¬Id
];

598 if(
	gÿnÚiÿlV¬Id
 < 0) {

600 
as£¹
(
v¬CÚ¡ªts
);

601 
	gút
 = 
út
 * 
v¬CÚ¡ªts
->
size
();

602 
d–‘e
 
	gv¬CÚ¡ªts
;

609 if(
	gÃwV¬CÚ¡ªtsA¼
->
size
(è< 
	gÿnÚiÿlV¬Id
+1)

610 
	gÃwV¬CÚ¡ªtsA¼
->
growToSize
(
ÿnÚiÿlV¬Id
 + 1);

611 (*
	gÃwV¬CÚ¡ªtsA¼
)[
ÿnÚiÿlV¬Id
] = 
v¬CÚ¡ªts
;

614 
d–‘e
 
	gv¬CÚ¡ªtsA¼_
;

615 
	gv¬CÚ¡ªtsA¼_
 = 
ÃwV¬CÚ¡ªtsA¼
;

618 
upd©eToEx¶ic™T›dR•»£Á©iÚ
();

619  
	gút
;

624 
	$upd©eToIm¶ic™T›dR•»£Á©iÚ
() {

625 
dœty_
 = 
Œue
;

626 
IÁA¼ay
 *
v¬CÚ¡ªts
;

627 
v¬CÁ
 = 
	`g‘V¬CouÁ
();

628 
v¬Id
 = 1; v¬Id <ğ
v¬CÁ
; varId++) {

629 
»fId
 = 
	`g‘Reã»nûV¬Id
(
v¬Id
);

630 if(
»fId
 =ğ
v¬Id
)

633 
v¬CÚ¡ªts
 = 
	`g‘V¬CÚ¡ªts
(
»fId
);

634 
	`£tV¬CÚ¡ªtsAndD–‘eOld
(
v¬CÚ¡ªts
,
v¬Id
);

636 
	}
}

639 
	$upd©eToEx¶ic™T›dR•»£Á©iÚ
() {

640 
dœty_
 = 
Œue
;

641 
IÁA¼ay
 *
v¬CÚ¡ªts
, *
v¬CÚ¡ªts1
, *
v¬CÚ¡ªts2
;

642 
v¬CÁ
 = 
	`g‘V¬CouÁ
();

643 
v¬Id1
 = 1; v¬Id1 <ğ
v¬CÁ
; varId1++) {

644 
v¬CÚ¡ªts1
 = 
	`g‘V¬CÚ¡ªts
(
v¬Id1
);

645 if(!
v¬CÚ¡ªts1
)

647 
v¬Id2
 = 
v¬Id1
+1;v¬Id2 <ğ
v¬CÁ
; varId2++) {

648 
v¬CÚ¡ªts2
 = 
	`g‘V¬CÚ¡ªts
(
v¬Id2
);

649 if(
v¬CÚ¡ªts1
 =ğ
v¬CÚ¡ªts2
) {

653 
v¬CÚ¡ªts
 = 
Ãw
 
	`IÁA¼ay
();

654 
v¬CÚ¡ªts
->
	`­³nd
(-
v¬Id1
);

655 
	`£tV¬CÚ¡ªts
(
v¬CÚ¡ªts
,
v¬Id2
);

659 
	}
}

662 
	$š‹r£ù
(
IÁA¼ay
 * cÚ¡ & 
špV¬CÚ¡ªts
,

663 
v¬Id
) {

664 
dœty_
 = 
Œue
;

665 
IÁA¼ay
 *
v¬CÚ¡ªts
 = (*
v¬CÚ¡ªtsA¼_
)[
v¬Id
];

667 
	`š‹r£ùA¼ayK“pOrd”
(
v¬CÚ¡ªts
,
špV¬CÚ¡ªts
);

668 
	}
}

670 
	$š‹r£ù
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
) {

671 
dœty_
 = 
Œue
;

672 
v¬CÁ
 = 
	`g‘V¬CouÁ
();

673 
	`as£¹
(
v¬CÁ
 =ğ
hy³rCube
->
	`g‘V¬CouÁ
());

674 
v¬Id
 = 1; v¬Id <ğ
v¬CÁ
; varId++) {

675 
	`š‹r£ù
(
hy³rCube
->
	`g‘V¬CÚ¡ªts
(
v¬Id
), varId);

676 if(
	`g‘V¬CÚ¡ªtCouÁ
(
v¬Id
) <= 0) {

677 
	`£tToEm±y
();

681 
	}
}

684 
	$š‹r£ù
(
v¬Id1
, 
v¬Id2
) {

685 
IÁA¼ay
 *
v¬CÚ¡ªts1
, *
v¬CÚ¡ªts2
;

686 
v¬CÚ¡ªts1
 = 
	`g‘V¬CÚ¡ªts
(
v¬Id1
);

687 
	`š‹r£ù
(
v¬CÚ¡ªts1
, 
v¬Id2
);

688 
v¬CÚ¡ªts2
 = 
	`g‘V¬CÚ¡ªts
(
v¬Id2
);

689 
	`š‹r£ù
(
v¬CÚ¡ªts2
, 
v¬Id1
);

690 
	}
}

694 
	gA¼ay
<
	gHy³rCube
 *> * 
	$g‘Mšus
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
) {

708 
A¼ay
<
Hy³rCube
 *> * 
mšusHy³rCubes
 = 
Ãw
 Array<HyperCube *>();

709 
Hy³rCube
 *
´im¬yMšusHy³rCube
, *
mšusHy³rCube
;

710 
IÁA¼ay
 * 
v¬CÚ¡ªts
;

712 
v¬CÁ
 = 
	`g‘V¬CouÁ
();

713 
	`as£¹
(
v¬CÁ
 =ğ
hy³rCube
->
	`g‘V¬CouÁ
());

716 if(
	`§me
(
hy³rCube
è|| 
	`isSub£tOf
(hyperCube)) {

721  
mšusHy³rCubes
;

725 if(!
	`hasIÁ”£ùiÚ
(
hy³rCube
)) {

726 
mšusHy³rCubes
->
	`­³nd
(
Ãw
 
	`Hy³rCube
(
this
));

727  
mšusHy³rCubes
;

734 
´im¬yMšusHy³rCube
 = 
Ãw
 
	`Hy³rCube
(
v¬CÁ
);

735 
v¬Id
=1; v¬Id<=
v¬CÁ
; varId++) {

736 
v¬CÚ¡ªts
 = 
Ãw
 
	`IÁA¼ay
(*
	`g‘V¬CÚ¡ªts
(
v¬Id
));

737 
	`subŒaùA¼ayK“pOrd”
(
v¬CÚ¡ªts
,
hy³rCube
->
	`g‘V¬CÚ¡ªts
(
v¬Id
));

738 
´im¬yMšusHy³rCube
->
	`£tV¬CÚ¡ªts
(
v¬CÚ¡ªts
, 
v¬Id
);

750 if(
this
->
	`§me
(
´im¬yMšusHy³rCube
)) {

751 
mšusHy³rCubes
->
	`­³nd
(
´im¬yMšusHy³rCube
);

752  
mšusHy³rCubes
;

757 
šdex
=1; index<=
v¬CÁ
; index++) {

758 
mšusHy³rCube
 = 
Ãw
 
	`Hy³rCube
(
this
);

760 
v¬Id
=1;v¬Id<
šdex
;varId++) {

762 
v¬CÚ¡ªts
 = 
hy³rCube
->
	`g‘V¬CÚ¡ªts
(
v¬Id
);

763 
mšusHy³rCube
->
	`š‹r£ù
(
v¬CÚ¡ªts
, 
v¬Id
);

766 
v¬CÚ¡ªts
 = 
Ãw
 
	`IÁA¼ay
(*
´im¬yMšusHy³rCube
->
	`g‘V¬CÚ¡ªts
(
šdex
));

767 
mšusHy³rCube
->
	`£tV¬CÚ¡ªtsAndD–‘eOld
(
v¬CÚ¡ªts
, 
šdex
);

775 if(!
mšusHy³rCube
->
	`isEm±y
())

776 
mšusHy³rCubes
->
	`­³nd
(
mšusHy³rCube
);

778 
d–‘e
 
mšusHy³rCube
;

782 
d–‘e
 
´im¬yMšusHy³rCube
;

784  
mšusHy³rCubes
;

785 
	}
}

787 
boŞ
 
	$§me
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
) {

789 
Hy³rCube
 *
hc1
, *
hc2
;

790 
hc1
 = 
this
;

791 
hc2
 = 
hy³rCube
;

793 if(
hc1
->
	`g‘HashCode
(è!ğ
hc2
->getHashCode())

794  
çl£
;

799 cÚ¡ *
™ems1
, *
™ems2
;

800 
cÚ¡CÁ1
, 
cÚ¡CÁ2
;

801 
v¬CÁ1
 = 
hc1
->
	`g‘V¬CouÁ
();

802 
v¬CÁ2
 = 
hc2
->
	`g‘V¬CouÁ
();

804 if(
v¬CÁ1
 !ğ
v¬CÁ2
)

805  
çl£
;

807 
v¬
=1;v¬<=
v¬CÁ1
;var++) {

809 
cÚ¡CÁ1
 = 
hc1
->
	`g‘V¬CÚ¡ªtCouÁ
(
v¬
);

810 
cÚ¡CÁ2
 = 
hc2
->
	`g‘V¬CÚ¡ªtCouÁ
(
v¬
);

812 if(
cÚ¡CÁ1
 !ğ
cÚ¡CÁ2
)

813  
çl£
;

815 
™ems1
 = 
hc1
->
	`g‘V¬CÚ¡ªts
(
v¬
)->
	`g‘I‹ms
();

816 
™ems2
 = 
hc2
->
	`g‘V¬CÚ¡ªts
(
v¬
)->
	`g‘I‹ms
();

818 
boŞ
 
§me
 = (
	`memcmp
(
™ems1
, 
™ems2
,
cÚ¡CÁ1
*()) == 0);

819 if(!
§me
)

820  
çl£
;

823  
Œue
;

826 
	}
}

828 
size_t
 
	$g‘HashCode
() {

829 
IÁA¼ay
 *
v¬CÚ¡ªts
;

830 if(!
dœty_
)

831  
hashCode_
;

832 
code
 = 1;

845 
code
 = 1;

846 
v¬CÁ
 = 
	`g‘V¬CouÁ
();

847 
v¬
=1;v¬<=
v¬CÁ
;var++) {

848 
v¬CÚ¡ªts
 = (*
v¬CÚ¡ªtsA¼_
)[
v¬
];

851 if(
v¬CÚ¡ªts
->
	`size
() == 0) {

852 
code
 = 1;

855 
i
=0;i<
v¬CÚ¡ªts
->
	`size
();i++) {

856 
code
 = 31*cod+ (*
v¬CÚ¡ªts
)[
i
];

862 
dœty_
 = 
çl£
;

863 
hashCode_
 = (
size_t
)
code
;

864  
hashCode_
;

865 
	}
}

868 
	go¡»am
 & 
	$´št
(
o¡»am
 & 
out
) {

869 
IÁA¼ay
 * 
v¬CÚ¡ªts
;

870 
v¬CÁ
 = 
	`g‘V¬CouÁ
();

871 
v¬
=1;v¬<=
v¬CÁ
;var++) {

872 
v¬CÚ¡ªts
 = (*
v¬CÚ¡ªtsA¼_
)[
v¬
];

873 
out
<<"v¬ "<<
v¬
<<" => ";

874 if(
v¬CÚ¡ªts
 =ğ
NULL
) {

875 
out
<<"NULL"<<
’dl
;

878 
i
=0;i<
v¬CÚ¡ªts
->
	`size
();i++) {

879 
out
<<(*
v¬CÚ¡ªts
)[
i
]<<" ";

881 
out
<<
’dl
;

883  
out
;

884 
	}
}

886 
	g´iv©e
:

891 
A¼ay
<
IÁA¼ay
 *> *
v¬CÚ¡ªtsA¼_
;

897 
	ghashCode_
;

898 
boŞ
 
	gdœty_
;

902 şas 
	cHashHy³rCube


904 
	mpublic
:

905 
size_t
 
	$İ”©Ü
()(
Hy³rCube
 *
hc
) const {

906  
hc
->
	`g‘HashCode
();

908 
	}
};

911 şas 
	cEqu®Hy³rCube


913 
	mpublic
:

914 
boŞ
 
	$İ”©Ü
()(
Hy³rCube
 * cÚ¡ & 
hc1
, Hy³rCub* cÚ¡ & 
hc2
) const {

915 cÚ¡ *
™ems1
, *
™ems2
;

916 
cÚ¡CÁ1
, 
cÚ¡CÁ2
;

917 
v¬CÁ1
 = 
hc1
->
	`g‘V¬CouÁ
();

918 
v¬CÁ2
 = 
hc2
->
	`g‘V¬CouÁ
();

920 if(
v¬CÁ1
 !ğ
v¬CÁ2
)

921  
çl£
;

923 
v¬
=1;v¬<=
v¬CÁ1
;var++) {

925 
cÚ¡CÁ1
 = 
hc1
->
	`g‘V¬CÚ¡ªtCouÁ
(
v¬
);

926 
cÚ¡CÁ2
 = 
hc2
->
	`g‘V¬CÚ¡ªtCouÁ
(
v¬
);

928 if(
cÚ¡CÁ1
 !ğ
cÚ¡CÁ2
)

929  
çl£
;

931 
™ems1
 = 
hc1
->
	`g‘V¬CÚ¡ªts
(
v¬
)->
	`g‘I‹ms
();

932 
™ems2
 = 
hc2
->
	`g‘V¬CÚ¡ªts
(
v¬
)->
	`g‘I‹ms
();

934 
boŞ
 
§me
 = (
	`memcmp
(
™ems1
, 
™ems2
,
cÚ¡CÁ1
*()) == 0);

935 if(!
§me
)

936  
çl£
;

939  
Œue
;

941 
	}
};

943 
	gHashA¼ay
<
	tHy³rCube
*, 
	tHashHy³rCube
, 
	tEqu®Hy³rCube
> 
	tHy³rCubeHashA¼ay
;

945 
	ghash_m­
<
	tHy³rCube
*, Hy³rCube*, 
	tHashHy³rCube
, 
	tEqu®Hy³rCube
> 
	tHy³rCubeToHy³rCubeM­
;

946 
	ghash_m­
<
	tHy³rCube
*, 
	tHy³rCubeHashA¼ay
*, 
	tHashHy³rCube
, 
	tEqu®Hy³rCube
> 
	tHy³rCubeToHy³rCubeHashA¼ayM­
;

947 
	ghash_m­
<
	tHy³rCube
*, 
	tA¼ay
<Hy³rCub*> *, 
	tHashHy³rCube
, 
	tEqu®Hy³rCube
> 
	tHy³rCubeToHy³rCubeA¼ayM­
;

	@infer/hypercubeoperations.h

67 #iâdeà
_HYPERCUBE_OPERATIONS_H_MAY_2008


68 
	#_HYPERCUBE_OPERATIONS_H_MAY_2008


	)

70 
	~<ext/hash_£t
>

71 
	~<ext/hash_m­
>

72 
	~<o¡»am
>

74 
	~"ut.h
"

75 
	~"šãrut.h
"

76 
	~"¬¿y.h
"

77 
	~"hashšt.h
"

78 
	~"mÊ.h
"

79 
	~"domaš.h
"

80 
	~"hy³rcube.h
"

81 
	~"hy³rcub”ev”£šdex.h
"

82 
	~"hy³rcub”efšem’t.h
"

84 
usšg
 
Çme¥aû
 
	g¡d
;

85 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

87 
şass
 
	gSu³rCÏu£
;

94 
	gA¼ay
<
	gHy³rCube
 *> *
ü—‹GroundHy³rCubes
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
tu¶eCÚ¡ªtsA¼
);

96 
	gA¼ay
<
	gHy³rCube
 *> *
ü—‹Hy³rCubes
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
tu¶eCÚ¡ªtsA¼
,

97 
Hy³rCubeC»©eTy³
 
ty³
,

98 
noi£
);

100 
	gA¼ay
<
	gHy³rCube
 *> *
ü—‹Com¶em’ryHy³rCubes
(
A¼ay
<
Hy³rCube
 *> * cÚ¡ & 
špHy³rCubes
,

101 
Hy³rCube
 * cÚ¡ & 
domašHy³rCube
);

108 
	gA¼ay
<
	gHy³rCube
 *> *
g‘CÏu£Hy³rCubes
(
CÏu£
 * cÚ¡ & 
şau£
,

109 
Su³rCÏu£
 * cÚ¡ & 
su³rCÏu£
,

110 
A¼ay
<
Hy³rCubeRev”£Index
 *> * cÚ¡ & 
´edHCRev”£IndexA¼
,

111 
A¼ay
<
Hy³rCubeRefšem’t
 *> * cÚ¡ & 
hcRefšem’tA¼
,

112 
IÁHashA¼ay
 * cÚ¡ & 
unknownP»dIndiûs
,

113 
IÁA¼ayHashA¼ay
 * cÚ¡ & 
ÃqCÚ¡¿šts
,

114 
boŞ
 
u£CT
,

115 
Domaš
 * cÚ¡ & 
domaš
);

120 
şass
 
	gHy³rCubeRefšem’t
;

	@infer/hypercuberefinement.h

67 #iâdeà
_HYPERCUBE_REFINEMENT_H_MAY_2008


68 
	#_HYPERCUBE_REFINEMENT_H_MAY_2008


	)

70 
	~<ext/hash_£t
>

71 
	~<ext/hash_m­
>

72 
	~<o¡»am
>

74 
	~"ut.h
"

75 
	~"¬¿y.h
"

76 
	~"hashšt.h
"

77 
	~"mÊ.h
"

78 
	~"domaš.h
"

79 
	~"hy³rcube.h
"

81 
	#USE_INLINE
 0

	)

84 
usšg
 
Çme¥aû
 
	g¡d
;

85 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

87 
	ghash_m­
<,
	tA¼ay
<> *, 
	tHashIÁ
, 
	tEqu®IÁ
> 
	tIÁToIÁA¼ayM­
;

89 şas 
	cHy³rCubeRefšem’t
 {

91 
	mpublic
:

92 
	$Hy³rCubeRefšem’t
() {

93 
sub£tHCToBa£HC_
 = 
Ãw
 
	`Hy³rCubeToHy³rCubeM­
();

94 
ba£HCToSub£tHCs_
 = 
Ãw
 
	`Hy³rCubeToHy³rCubeHashA¼ayM­
();

95 
sub£tHCToRefšedHCs_
 = 
Ãw
 
	`Hy³rCubeToHy³rCubeA¼ayM­
();

99 ~
	$Hy³rCubeRefšem’t
() {

101 
Hy³rCube
 *
ba£Hy³rCube
;

103 
Hy³rCubeToHy³rCubeHashA¼ayM­
::
™”©Ü
 
h™r
;

104 
Hy³rCubeToHy³rCubeA¼ayM­
::
™”©Ü
 
™r
;

106 
Hy³rCubeHashA¼ay
 *
sub£tHy³rCubes
;

107 
A¼ay
<
Hy³rCube
 *> *
ba£Hy³rCubes
;

109 
ba£Hy³rCubes
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>();

127 
	`d–‘eRefšedHy³rCubes
();

130 
h™r
 = 
ba£HCToSub£tHCs_
->
	`begš
();

131 
h™r
 !ğ
ba£HCToSub£tHCs_
->
	`’d
();

132 
h™r
++) {

134 
ba£Hy³rCube
 = 
h™r
->
fœ¡
;

135 
ba£Hy³rCubes
->
	`­³nd
(
ba£Hy³rCube
);

137 
sub£tHy³rCubes
 = 
h™r
->
£cÚd
;

138 
sub£tHy³rCubes
->
	`d–‘eI‹msAndCË¬
();

139 
d–‘e
 
sub£tHy³rCubes
;

143 
ba£Hy³rCubes
->
	`d–‘eI‹msAndCË¬
();

144 
d–‘e
 
ba£Hy³rCubes
;

147 
d–‘e
 
ba£HCToSub£tHCs_
;

148 
d–‘e
 
sub£tHCToRefšedHCs_
;

149 
d–‘e
 
sub£tHCToBa£HC_
;

150 
	}
}

152 
	$d–‘eRefšedHy³rCubes
() {

153 
Hy³rCubeToHy³rCubeA¼ayM­
::
™”©Ü
 
™r
;

154 
A¼ay
<
Hy³rCube
 *> *
»fšedHy³rCubes
;

155 
Hy³rCube
 *
»fšedHy³rCube
, *
sub£tHy³rCube
;

156 
Hy³rCubeHashA¼ay
 *
uniqueRefšedHy³rCubes
 = 
Ãw
 
	`Hy³rCubeHashA¼ay
();

159 
™r
 = 
sub£tHCToRefšedHCs_
->
	`begš
();

160 
™r
 !ğ
sub£tHCToRefšedHCs_
->
	`’d
();

161 
™r
++) {

162 
sub£tHy³rCube
 = 
™r
->
fœ¡
;

171 
»fšedHy³rCubes
 = 
™r
->
£cÚd
;

173 
i
=0;i<
»fšedHy³rCubes
->
	`size
();i++) {

174 
»fšedHy³rCube
 = (*
»fšedHy³rCubes
)[
i
];

175 
uniqueRefšedHy³rCubes
->
	`­³nd
(
»fšedHy³rCube
);

183 
d–‘e
 
»fšedHy³rCubes
;

187 
uniqueRefšedHy³rCubes
->
	`d–‘eI‹msAndCË¬
();

188 
d–‘e
 
uniqueRefšedHy³rCubes
;

190 
sub£tHCToRefšedHCs_
->
	`ş—r
();

191 
	}
}

194 
	$g‘NumSub£tHy³rCubes
() {

195  
ba£HCToSub£tHCs_
->
	`size
();

196 
	}
}

199 
Hy³rCube
 * 
	$g‘Ba£Hy³rCube
(
Hy³rCube
 * cÚ¡ & 
sub£tHy³rCube
) {

200 
Hy³rCubeToHy³rCubeM­
::
™”©Ü
 
™r
;

201 
™r
 = 
sub£tHCToBa£HC_
->
	`fšd
(
sub£tHy³rCube
);

202 if(
™r
 !ğ
sub£tHCToBa£HC_
->
	`’d
())

203  
™r
->
£cÚd
;

205  
NULL
;

206 
	}
}

209 
	gA¼ay
<
	gHy³rCube
 *> *
	$g‘RefšedHy³rCubes
(
Hy³rCube
 * cÚ¡ & 
sub£tHy³rCube
) {

210 
i
=0;

211 
Hy³rCubeToHy³rCubeA¼ayM­
::
™”©Ü
 
™r
,
™r1
;

213 
™r
 = 
sub£tHCToRefšedHCs_
->
	`fšd
(
sub£tHy³rCube
);

214 if(
™r
 =ğ
sub£tHCToRefšedHCs_
->
	`’d
()) {

215 
cout
<<"Wow,„‘uºšg NuÎ!!"<<
’dl
;

216 
sub£tHy³rCube
->
	`´št
(
cout
);

217 
cout
<<
’dl
;

219 
cout
<<"Hy³rcube ¬: "<<
’dl
;

220 
™r1
 = 
sub£tHCToRefšedHCs_
->
	`begš
();

221 
™r1
 !ğ
sub£tHCToRefšedHCs_
->
	`’d
();

222 
™r1
++) {

223 
cout
<<
i
++<<":"<<
’dl
;

224 (
™r1
->
fœ¡
)->
	`´št
(
cout
);

225 
cout
<<
’dl
;

227 
cout
<<"----------------------------------------------------"<<
’dl
;

228  
NULL
;

230  
™r
->
£cÚd
;

231 
	}
}

238 
	$addSub£tHy³rCube
(
Hy³rCube
 * cÚ¡ & 
špBa£Hy³rCube
,

239 
Hy³rCube
 * cÚ¡ & 
sub£tHy³rCube
) {

240 
Hy³rCube
 *
ba£Hy³rCube
;

241 
Hy³rCubeHashA¼ay
 * 
sub£tHy³rCubes
;

242 
Hy³rCubeToHy³rCubeHashA¼ayM­
::
™”©Ü
 
™r
;

256 
™r
 = 
ba£HCToSub£tHCs_
->
	`fšd
(
špBa£Hy³rCube
);

257 if(
™r
 =ğ
ba£HCToSub£tHCs_
->
	`’d
()) {

260 
ba£Hy³rCube
 = 
špBa£Hy³rCube
;

261 
sub£tHy³rCubes
 = 
Ãw
 
	`Hy³rCubeHashA¼ay
();

262 (*
ba£HCToSub£tHCs_
)[
ba£Hy³rCube
] = 
sub£tHy³rCubes
;

265 
d–‘e
 
špBa£Hy³rCube
;

266 
ba£Hy³rCube
 = 
™r
->
fœ¡
;

267 
sub£tHy³rCubes
 = 
™r
->
£cÚd
;

270 
šdex
 = 
sub£tHy³rCubes
->
	`­³nd
(
sub£tHy³rCube
);

273 if(
šdex
 < 0) {

274 
d–‘e
 
sub£tHy³rCube
;

277 (*
sub£tHCToBa£HC_
)[
sub£tHy³rCube
] = 
ba£Hy³rCube
;

280 
	}
}

286 
	$ü—‹RefšedHy³rCubeM­pšg
() {

289 
Hy³rCube
 *
sub£tHy³rCube
, *
ba£Hy³rCube
;

290 
Hy³rCubeHashA¼ay
 * 
sub£tHy³rCubes
;

291 
A¼ay
<
Hy³rCube
 *> * 
»fšedHy³rCubes
, *
š‹r£ùšgHy³rCubes
;

293 
Hy³rCubeToHy³rCubeHashA¼ayM­
::
™”©Ü
 
™r
;

294 
n
=0;

299 
n
 = 0;

300 
™r
 = 
ba£HCToSub£tHCs_
->
	`begš
();

301 
™r
 !ğ
ba£HCToSub£tHCs_
->
	`’d
();

302 
™r
++) {

304 
ba£Hy³rCube
 = 
™r
->
fœ¡
;

305 
sub£tHy³rCubes
 = 
™r
->
£cÚd
;

321 
»fšedHy³rCubes
 = 
	`ü—‹RefšedHy³rCubes
(
sub£tHy³rCubes
);

362 
i
=0;i<
sub£tHy³rCubes
->
	`size
();i++) {

363 
sub£tHy³rCube
 = (*
sub£tHy³rCubes
)[
i
];

371 
š‹r£ùšgHy³rCubes
 = 
	`g‘IÁ”£ùšgHy³rCubes
(
sub£tHy³rCube
,
»fšedHy³rCubes
);

372 (*
sub£tHCToRefšedHCs_
)[
sub£tHy³rCube
] = 
š‹r£ùšgHy³rCubes
;

400 
d–‘e
 
»fšedHy³rCubes
;

411 
	}
}

415 
	g´iv©e
:

418 
A¼ay
<
Hy³rCube
 *> * 
	$ü—‹RefšedHy³rCubes
(
Hy³rCubeHashA¼ay
 * cÚ¡ & 
sub£tHy³rCubes
) {

424 
A¼ay
<
Hy³rCube
 *> *
»fšedHy³rCubes
 = 
Ãw
 Array<HyperCube *>();

425 
A¼ay
<
Hy³rCube
 *> *
»maššgHy³rCubes
 = 
Ãw
 Array<HyperCube *>();

426 
Hy³rCube
 *
sub£tHy³rCube
;

427 
boŞ
 
´št
 = 
Œue
;

428 
šdex
=0;šdex<
sub£tHy³rCubes
->
	`size
();index++) {

429 
sub£tHy³rCube
 = (*
sub£tHy³rCubes
)[
šdex
];

438 if(
çl£
) {

441 
´št
 = 
Œue
;

442 
cout
<<"yup! yup!…ršˆi Œue.."<<
’dl
;

444 
´št
 = 
çl£
;

447 
Hy³rCube
 *
hc
 = 
Ãw
 
	`Hy³rCube
(
sub£tHy³rCube
);

456 
	`upd©eRefšedHy³rCubes
(
hc
, 
»fšedHy³rCubes
,
»maššgHy³rCubes
, 
´št
, 0,
šdex
);

457 
»fšedHy³rCubes
->
	`­³nd
(
»maššgHy³rCubes
);

458 
»maššgHy³rCubes
->
	`ş—r
();

474 
d–‘e
 
»maššgHy³rCubes
;

475  
»fšedHy³rCubes
;

476 
	}
}

478 
upd©eRefšedHy³rCubes
(
Hy³rCube
 * cÚ¡ & 
toIÁ”£ùHy³rCube
,

479 
A¼ay
<
Hy³rCube
 *> * cÚ¡ & 
»fšedHy³rCubes
,

480 
A¼ay
<
Hy³rCube
 *> * cÚ¡ & 
»maššgHy³rCubes
,

481 
boŞ
 
´št
, 
d•th
, 
šdex
);

486 
	gA¼ay
<
	gHy³rCube
 *> *
g‘IÁ”£ùšgHy³rCubes
(
Hy³rCube
 * cÚ¡ & 
sub£tHy³rCube
,

487 
A¼ay
<
Hy³rCube
 *> * cÚ¡ & 
»fšedHy³rCubes
) {

488 
	gA¼ay
<
	gHy³rCube
 *> *
	gš‹r£ùšgHy³rCubes
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>();

489 
Hy³rCube
 *
	g»fšedHy³rCube
;

492 
	gi
=0;i<
	g»fšedHy³rCubes
->
size
();i++) {

493 
	g»fšedHy³rCube
 = (*
»fšedHy³rCubes
)[
i
];

494 if(
	gsub£tHy³rCube
->
hasIÁ”£ùiÚ
(
»fšedHy³rCube
)) {

495 
	gš‹r£ùšgHy³rCubes
->
­³nd
(
»fšedHy³rCube
);

503  
	gš‹r£ùšgHy³rCubes
;

509 
	g´iv©e
:

510 
Hy³rCubeToHy³rCubeM­
 *
sub£tHCToBa£HC_
;

512 
Hy³rCubeToHy³rCubeHashA¼ayM­
 *
	gba£HCToSub£tHCs_
;

514 
Hy³rCubeToHy³rCubeA¼ayM­
 *
	gsub£tHCToRefšedHCs_
;

	@infer/hypercubereverseindex.h

67 #iâdeà
_HYPERCUBE_REVERSEINDEX_H_MAY_2008


68 
	#_HYPERCUBE_REVERSEINDEX_H_MAY_2008


	)

70 
	~<ext/hash_m­
>

71 
	~<o¡»am
>

73 
	~"ut.h
"

74 
	~"mrf.h
"

75 
	~"¬¿y.h
"

76 
	~"hashšt.h
"

77 
	~"šãrut.h
"

81 şas 
	cHy³rCubeRev”£Index
 {

83 
	mpublic
:

85 
	$Hy³rCubeRev”£Index
() {

86 
	`š™
();

89 
	`Hy³rCubeRev”£Index
(
A¼ay
<
Hy³rCube
 *> * cÚ¡ & 
hy³rCubes
) {

90 
	`š™
();

91 
i
=0;i<
hy³rCubes
->
	`size
();i++) {

92 
hy³rCubes_
->
	`­³nd
((*
hy³rCubes
)[
i
]);

94 
	}
}

96 
	$š™
() {

97 
hasIndex_
 = 
çl£
;

98 
hy³rCubes_
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>();

99 
cÚ¡ªtToHCIndiûsA¼_
 = 
Ãw
 
A¼ay
<
IÁToIÁHashA¼ayM­
 *>();

100 
	}
}

102 ~
	$Hy³rCubeRev”£Index
() {

111 
d–‘e
 
hy³rCubes_
;

112 
	`d–‘eIndex
();

113 
d–‘e
 
cÚ¡ªtToHCIndiûsA¼_
;

114 
	}
}

116 
	$g‘NumHy³rCubes
(){ 
hy³rCubes_
->
	`size
();
	}
}

119 
boŞ
 
	$addHy³rCube
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
) {

120 
šdex
 = 
hy³rCubes_
->
	`­³nd
(
hy³rCube
);

121 if(
hasIndex_
) {

122 
	`addHy³rCubeToIndex
(
hy³rCubes_
->
	`size
()-1);

126 if(
šdex
 >=0)

127  
Œue
;

129  
çl£
;

130 
	}
}

133 
	$growIndex
(
Ãwsize
) {

134 
size
 = 
cÚ¡ªtToHCIndiûsA¼_
->
	`size
();

135 
v¬Id
=
size
; v¬Id<
Ãwsize
;varId++) {

136 
cÚ¡ªtToHCIndiûsA¼_
->
	`­³nd
(
Ãw
 
	`IÁToIÁHashA¼ayM­
());

138 
	}
}

141 
	$addHy³rCubeToIndex
(
hšdex
) {

143 
IÁA¼ay
 * 
v¬CÚ¡ªts
;

144 
IÁHashA¼ay
 *
hcIndiûs
;

145 
Hy³rCube
 *
hy³rCube
;

147 
IÁToIÁHashA¼ayM­
 *
cÚ¡ªtToHCIndiûs
;

148 
IÁToIÁHashA¼ayM­
::
™”©Ü
 
™r
;

149 
cÚ¡ªt
;

151 
hy³rCube
 = (*
hy³rCubes_
)[
hšdex
];

152 
v¬CÁ
 = 
hy³rCube
->
	`g‘V¬CouÁ
();

155 
	`growIndex
(
v¬CÁ
+1);

156 
v¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

157 
cÚ¡ªtToHCIndiûs
 = (*
cÚ¡ªtToHCIndiûsA¼_
)[
v¬Id
];

158 
v¬CÚ¡ªts
 = 
hy³rCube
->
	`g‘V¬CÚ¡ªts
(
v¬Id
);

161 
i
=0;i<
v¬CÚ¡ªts
->
	`size
();i++) {

162 
cÚ¡ªt
 = (*
v¬CÚ¡ªts
)[
i
];

163 
™r
 = 
cÚ¡ªtToHCIndiûs
->
	`fšd
(
cÚ¡ªt
);

164 if(
™r
 =ğ
cÚ¡ªtToHCIndiûs
->
	`’d
()) {

165 
hcIndiûs
 = 
Ãw
 
	`IÁHashA¼ay
();

166 (*
cÚ¡ªtToHCIndiûs
)[
cÚ¡ªt
] = 
hcIndiûs
;

168 
hcIndiûs
 = 
™r
->
£cÚd
;

170 
hcIndiûs
->
	`­³nd
(
hšdex
);

173 
	}
}

175 
	$ü—‹Index
() {

176 
	`d–‘eIndex
();

177 
hasIndex_
 = 
Œue
;

178 
hšdex
=0;hšdex<
hy³rCubes_
->
	`size
();hindex++) {

179 
	`addHy³rCubeToIndex
(
hšdex
);

181 
	}
}

184 
	$d–‘eIndex
() {

185 
hasIndex_
 = 
çl£
;

186 
IÁHashA¼ay
 *
hcIndiûs
;

187 
IÁToIÁHashA¼ayM­
 *
cÚ¡ªtToHCIndiûs
;

188 
IÁToIÁHashA¼ayM­
::
™”©Ü
 
™r
;

191 
v¬Id
=0;v¬Id<
cÚ¡ªtToHCIndiûsA¼_
->
	`size
();varId++) {

192 
cÚ¡ªtToHCIndiûs
 = (*
cÚ¡ªtToHCIndiûsA¼_
)[
v¬Id
];

194 
™r
 = 
cÚ¡ªtToHCIndiûs
->
	`begš
();

195 
™r
 !ğ
cÚ¡ªtToHCIndiûs
->
	`’d
();

196 
™r
++) {

197 
hcIndiûs
 = 
™r
->
£cÚd
;

198 
d–‘e
 
hcIndiûs
;

200 
cÚ¡ªtToHCIndiûs
->
	`ş—r
();

201 
d–‘e
 
cÚ¡ªtToHCIndiûs
;

203 
cÚ¡ªtToHCIndiûsA¼_
->
	`ş—r
();

204 
	}
}

206 
	$d–‘eAÎHy³rCubes
() {

207 
Hy³rCube
 *
hy³rCube
;

208 
A¼ay
<
Hy³rCube
 *> *
®lHy³rCubes
 = 
	`g‘AÎHy³rCubes
();

209 
i
 =0;i<
®lHy³rCubes
->
	`size
();i++) {

210 
hy³rCube
 = (*
®lHy³rCubes
)[
i
];

211 
hy³rCube
->
	`d–‘eV¬CÚ¡ªts
();

212 
d–‘e
 
hy³rCube
;

214 
®lHy³rCubes
->
	`ş—r
();

215 
d–‘e
 
®lHy³rCubes
;

216 
	}
}

220 
IÁHashA¼ay
 * 
	$g‘Hy³rCubeIndiûs
(
IÁA¼ay
 * cÚ¡ & 
v¬CÚ¡ªts
,

221 
v¬Id
) {

222 
IÁHashA¼ay
 *
®lHCIndiûs
 = 
Ãw
 
	`IÁHashA¼ay
();

223 
IÁToIÁHashA¼ayM­
 *
cÚ¡ªtToHCIndiûs
;

224 if(
cÚ¡ªtToHCIndiûsA¼_
->
	`size
() <= 0)

225  
®lHCIndiûs
;

228 
cÚ¡ªtToHCIndiûs
 = (*
cÚ¡ªtToHCIndiûsA¼_
)[
v¬Id
];

229 
IÁToIÁHashA¼ayM­
::
™”©Ü
 
™r
;

230 
IÁHashA¼ay
 *
hcIndiûs
;

242 
i
=0;i<
v¬CÚ¡ªts
->
	`size
();i++) {

243 
cÚ¡ªt
 = (*
v¬CÚ¡ªts
)[
i
];

244 
™r
 = 
cÚ¡ªtToHCIndiûs
->
	`fšd
(
cÚ¡ªt
);

245 if(
™r
 =ğ
cÚ¡ªtToHCIndiûs
->
	`’d
())

247 
hcIndiûs
 = 
™r
->
£cÚd
;

248 
®lHCIndiûs
->
	`­³nd
(*
hcIndiûs
);

250  
®lHCIndiûs
;

251 
	}
}

254 
	gA¼ay
<
	gHy³rCube
 *> * 
	$g‘Hy³rCubes
(
IÁHashA¼ay
 * cÚ¡ & 
hcIndiûs
) {

255 
A¼ay
<
Hy³rCube
 *> * 
hy³rCubes
 = 
Ãw
 Array<HyperCube *>();

256 
i
=0;i<
hcIndiûs
->
	`size
();i++) {

257 
šdex
 = (*
hcIndiûs
)[
i
];

258 
hy³rCubes
->
	`­³nd
((*
hy³rCubes_
)[
šdex
]);

260  
hy³rCubes
;

261 
	}
}

264 
	gA¼ay
<
	gHy³rCube
 *> * 
	$g‘AÎHy³rCubes
() {

265  
Ãw
 
A¼ay
<
Hy³rCube
 *>(*
hy³rCubes_
);

266 
	}
}

270 
	$g‘Reã»nûV¬Id
(
v¬Id
) {

271 if(
hy³rCubes_
->
	`size
() == 0)

272  
v¬Id
;

273  (*
hy³rCubes_
)[0]->
	`g‘Reã»nûV¬Id
(
v¬Id
);

274 
	}
}

277 
	g´iv©e
:

278 
A¼ay
<
Hy³rCube
 *> * 
hy³rCubes_
;

279 
	gA¼ay
<
	gIÁToIÁHashA¼ayM­
 *> *
	gcÚ¡ªtToHCIndiûsA¼_
;

280 
boŞ
 
	ghasIndex_
;

	@infer/infer.cpp

68 
	~<uni¡d.h
>

69 
	~<f¡»am
>

70 
	~<şim™s
>

71 
	~<sys/times.h
>

72 
	~"fŞ.h
"

73 
	~"¬gum’ts.h
"

74 
	~"ut.h
"

75 
	~"šãr.h
"

77 cÚ¡ * 
ZZ_TMP_FILE_POSTFIX
;

81 
ARGS
 
	gARGS
::
Args
[] =

84 
ARGS
("i", ARGS::
Req
, 
ašMLNFes
,

87 
ARGS
("cw", ARGS::
O±
, 
aClo£dWÜldP»dsSŒ
,

93 
ARGS
("ow", ARGS::
O±
, 
aO³nWÜldP»dsSŒ
,

99 
ARGS
("qu”yEvid’û", ARGS::
Tog
, 
aisQu”yEvid’û
,

104 
ARGS
("m", ARGS::
Tog
, 
am­Pos
,

107 
ARGS
("a", ARGS::
Tog
, 
am­AÎ
,

110 
ARGS
("p", ARGS::
Tog
, 
agibbsInãr
,

114 
ARGS
("ms", ARGS::
Tog
, 
amc§tInãr
,

118 
ARGS
("bp", ARGS::
Tog
, 
abpInãr
,

122 
ARGS
("efbp", ARGS::
Tog
, 
«fbpInãr
,

126 
ARGS
("decisiÚ", ARGS::
Tog
, 
adecisiÚInãr
,

130 
ARGS
("sim", ARGS::
Tog
, 
asimInãr
,

134 
ARGS
("ouutN‘wÜk", ARGS::
Tog
, 
aouutN‘wÜk
,

138 
ARGS
("couÁs", ARGS::
Tog
, 
aşau£CouÁs
,

141 
ARGS
("£ed", ARGS::
O±
, 
aS“d
,

145 
ARGS
("Ïzy", ARGS::
O±
, 
aLazy
,

148 
ARGS
("ÏzyNoAµrox", ARGS::
O±
, 
aLazyNoAµrox
,

152 
ARGS
("memLim™", ARGS::
O±
, 
aMemLim™
,

156 
ARGS
("PrštSam¶eP”I‹¿tiÚ", ARGS::
O±
, 
aPrštSam¶eP”I‹¿tiÚ
,

159 
ARGS
("SAIÁ”v®", ARGS::
O±
, 
§IÁ”v®
, "SA interval"),

161 
ARGS
("MaxSecÚds", ARGS::
O±
, 
aMaxSecÚds
, "Max seconds for HMWS‡nd SA."),

163 
ARGS
("SATempDownR©io", ARGS::
O±
, 
aSATempDownR©io
, "Simulated‡nnealing "

166 
ARGS
("SA", ARGS::
O±
, 
aSA
, "simulated‡nnealing inference."),

168 
ARGS
("hybrid", ARGS::
O±
, 
aHybrid
,

171 
ARGS
("´İ¡dev", ARGS::
O±
, 
aPrİo§lStdev
,

174 
ARGS
("cÚtSam¶es", ARGS::
O±
, 
aCÚtSam¶es
,

180 
ARGS
("mwsMaxS‹ps", ARGS::
O±
, 
amwsMaxS‹ps
,

183 
ARGS
("Œ›s", ARGS::
O±
, 
amwsTr›s
,

186 
ARGS
("rg‘Wt", ARGS::
O±
, 
amwsT¬g‘Wt
,

190 
ARGS
("b»akH¬dCÏu£s", ARGS::
Tog
, 
amwsH¬d
,

194 
ARGS
("heuri¡ic", ARGS::
O±
, 
amwsHeuri¡ic
,

198 
ARGS
("buL’gth", ARGS::
O±
, 
amwsTabuL’gth
,

202 
ARGS
("ÏzyLowS‹", ARGS::
O±
, 
amwsLazyLowS‹
,

211 
ARGS
("buºMšS‹ps", ARGS::
O±
, 
amcmcBuºMšS‹ps
,

214 
ARGS
("buºMaxS‹ps", ARGS::
O±
, 
amcmcBuºMaxS‹ps
,

217 
ARGS
("mšS‹ps", ARGS::
O±
, 
amcmcMšS‹ps
,

220 
ARGS
("maxS‹ps", ARGS::
O±
, 
amcmcMaxS‹ps
,

223 
ARGS
("maxSecÚds", ARGS::
O±
, 
amcmcMaxSecÚds
,

228 
ARGS
("subIÁ”v®", ARGS::
O±
, 
asimSubIÁ”v®
,

231 
ARGS
("numRuns", ARGS::
O±
, 
asimNumST
,

234 
ARGS
("numSw­", ARGS::
O±
, 
asimNumSw­
,

239 
ARGS
("liáed", ARGS::
Tog
, 
®iáedInãr
,

242 
ARGS
("u£HC", ARGS::
Tog
, 
au£HC
,

245 
ARGS
("u£CT", ARGS::
Tog
, 
au£CT
,

249 
ARGS
("cÚvTh»sh", ARGS::
O±
, 
abpCÚv”g’ûTh»sh
,

252 
ARGS
("cÚvI‹¿tiÚs", ARGS::
O±
, 
abpCÚv”geRequœedIŒCÁ
,

255 
ARGS
("ex¶ic™R•", ARGS::
Tog
, 
«x¶ic™R•
,

259 
ARGS
("hcC»©eTy³", ARGS::
O±
, 
ahcC»©eTy³
,

262 
ARGS
("hcC»©eNoi£", ARGS::
O±
, 
ahcC»©eNoi£
,

265 
ARGS
("ÊcI‹r", ARGS::
O±
, 
®ncI‹r
,

268 
ARGS
("noHC", ARGS::
O±
, 
ªoHCP»dsSŒ
,

276 
ARGS
("numSŞutiÚs", ARGS::
O±
, 
amwsNumSŞutiÚs
,

279 
ARGS
("§R©io", ARGS::
O±
, 
assSaR©io
,

283 
ARGS
("§Tem³¿tu»", ARGS::
O±
, 
assSaTemp
,

287 
ARGS
("Ï‹Sa", ARGS::
Tog
, 
assL©eSa
,

292 
ARGS
("numChašs", ARGS::
O±
, 
amcmcNumChašs
,

296 
ARGS
("d–", ARGS::
O±
, 
agibbsD–
,

300 
ARGS
("•sÚE¼Ü", ARGS::
O±
, 
agibbsEpsÚE¼Ü
,

303 
ARGS
("äacCÚv”ged", ARGS::
O±
, 
agibbsF¿cCÚv”ged
,

307 
ARGS
("w®k§tTy³", ARGS::
O±
, 
agibbsW®k§tTy³
,

311 
ARGS
("‹¡CÚv”g’û", ARGS::
O±
, 
agibbsTe¡CÚv”g’û
,

314 
ARGS
("§m¶esP”Te¡", ARGS::
O±
, 
agibbsSam¶esP”Te¡
,

320 
ARGS
("e", ARGS::
Req
, 
«vid’ûFes
,

324 
ARGS
("r", ARGS::
Req
, 
¬esuÉsFe
,

327 
ARGS
("q", ARGS::
O±
, 
aqu”yP»dsSŒ
,

332 
ARGS
("f", ARGS::
O±
, 
aqu”yFe
,

337 
ARGS
()

341 
	$´štResuÉs
(cÚ¡ 
¡ršg
& 
qu”yFe
, cÚ¡ sŒšg& 
qu”yP»dsSŒ
,

342 
Domaš
 *
domaš
, 
o¡»am
& 
out
,

343 
GroundP»diÿ‹HashA¼ay
* cÚ¡ &
qu”›s
,

344 
Inã»nû
* cÚ¡ &
šã»nû
, 
HV¬ŸbËS‹
* cÚ¡ &
¡©e
)

348 ià(
aLazy
)

350 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
gndP»dHashA¼ay
 = 
NULL
;

351 
A¼ay
<>* 
gndP»dProbs
 = 
NULL
;

355 ià(!(
am­Pos
 || 
am­AÎ
))

357 
gndP»dHashA¼ay
 = 
¡©e
->
	`g‘GndP»dHashA¼ayPŒ
();

358 
gndP»dProbs
 = 
Ãw
 
A¼ay
<>;

359 
gndP»dProbs
->
	`growToSize
(
gndP»dHashA¼ay
->
	`size
());

360 
i
 = 0; i < 
gndP»dProbs
->
	`size
(); i++)

361 (*
gndP»dProbs
)[
i
] = 
šã»nû
->
	`g‘Probab™yH
((*
gndP»dHashA¼ay
)[i]);

364 ià(
qu”yFe
.
	`Ëngth
() > 0)

366 
cout
 << "Writing query…redicateshat‡re specified in query file..."

367 << 
’dl
;

368 
boŞ
 
ok
 = 
	`ü—‹Qu”yFeP»ds
(
qu”yFe
, 
domaš
, domaš->
	`g‘DB
(),

369 
NULL
, NULL, 
Œue
, 
out
, 
am­Pos
,

370 
gndP»dHashA¼ay
, 
gndP»dProbs
, 
NULL
);

371 ià(!
ok
)

373 
cout
 <<"FaedØü—‹ qu”y…»diÿ‹s."<< 
’dl
;

374 
	`ex™
(-1);

378 
A¼ay
<> 
®lP»dGndšgsA»Qu”›s
;

379 
®lP»dGndšgsA»Qu”›s
.
	`growToSize
(
domaš
->
	`g‘NumP»diÿ‹s
(), 
çl£
);

380 ià(
qu”yP»dsSŒ
.
	`Ëngth
() > 0)

382 
cout
 << "Writing query…redicateshat‡re specified on command†ine..."

383 << 
’dl
;

384 
boŞ
 
ok
 = 
	`ü—‹ComLšeQu”yP»ds
(
qu”yP»dsSŒ
, 
domaš
,

385 
domaš
->
	`g‘DB
(), 
NULL
, NULL,

386 &
®lP»dGndšgsA»Qu”›s
, 
Œue
,

387 
out
, 
am­Pos
, 
gndP»dHashA¼ay
,

388 
gndP»dProbs
, 
NULL
);

389 ià(!
ok
)

391 
cout
 <<"FaedØü—‹ qu”y…»diÿ‹s."<< 
’dl
; 
	`ex™
(-1);

395 ià(!(
am­Pos
 || 
am­AÎ
))

396 
d–‘e
 
gndP»dProbs
;

402 ià(
am­Pos
)

403 
šã»nû
->
	`´štTrueP»dsH
(
out
);

406 
i
 = 0; i < 
qu”›s
->
	`size
(); i++)

409 
´ob
 = 
šã»nû
->
	`g‘Probab™yH
((*
qu”›s
)[
i
]);

410 (*
qu”›s
)[
i
]->
	`´št
(
out
, 
domaš
); ouˆ<< " " << 
´ob
 << 
’dl
;

414 
	}
}

432 
´štResuÉs
(cÚ¡ 
¡ršg
& 
qu”yFe
, cÚ¡ sŒšg& 
qu”yP»dsSŒ
,

433 
Domaš
 *
domaš
, 
o¡»am
& 
out
,

434 
GroundP»diÿ‹HashA¼ay
* cÚ¡ &
qu”›s
,

435 
Inã»nû
* cÚ¡ &
šã»nû
, 
V¬ŸbËS‹
* cÚ¡ &
¡©e
,

436 
A¼ay
<
P»diÿ‹
*> cÚ¡ &
qu”yP»ds
,

437 
A¼ay
<
TruthV®ue
> cÚ¡ &
qu”yP»dV®ues
)

441 ià(
	gaLazy
)

447 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++)

449 
	gv®
 = (
qu”yP»dV®ues
[
i
] =ğ
TRUE
) ? 1 : 0;

452 
	g´ob
 = 
šã»nû
->
g‘Probab™y
((
GroundP»diÿ‹
*)
qu”yP»ds
[
i
]);

454 
	gqu”yP»ds
[
i
]->
´št
(
out
, 
domaš
);

455 
	gout
 << " " << 
	g´ob
 << " " << 
	gv®
 << 
	g’dl
;

500 ià(
	gam­Pos
)

501 
	gšã»nû
->
´štTrueP»ds
(
out
);

504 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++)

506 
	gv®
 = (
qu”yP»dV®ues
[
i
] =ğ
TRUE
) ? 1 : 0;

509 
	g´ob
 = 
šã»nû
->
g‘Probab™y
((
GroundP»diÿ‹
*)
qu”yP»ds
[
i
]);

511 
	gqu”yP»ds
[
i
]->
´št
(
out
, 
domaš
);

512 
	gout
 << " " << 
	g´ob
 << " " << 
	gv®
 << 
	g’dl
;

518 
	$´štResuÉs
(cÚ¡ 
¡ršg
& 
qu”yFe
, cÚ¡ sŒšg& 
qu”yP»dsSŒ
,

519 
Domaš
 *
domaš
, 
o¡»am
& 
out
,

520 
GroundP»diÿ‹HashA¼ay
* cÚ¡ &
qu”›s
,

521 
Inã»nû
* cÚ¡ &
šã»nû
, 
V¬ŸbËS‹
* cÚ¡ &
¡©e
)

525 ià(
aLazy
)

527 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
gndP»dHashA¼ay
 = 
NULL
;

528 
A¼ay
<>* 
gndP»dProbs
 = 
NULL
;

532 ià(!(
am­Pos
 || 
am­AÎ
))

534 
gndP»dHashA¼ay
 = 
¡©e
->
	`g‘GndP»dHashA¼ayPŒ
();

535 
gndP»dProbs
 = 
Ãw
 
A¼ay
<>;

536 
gndP»dProbs
->
	`growToSize
(
gndP»dHashA¼ay
->
	`size
());

537 
i
 = 0; i < 
gndP»dProbs
->
	`size
(); i++)

538 (*
gndP»dProbs
)[
i
] =

539 
šã»nû
->
	`g‘Probab™y
((*
gndP»dHashA¼ay
)[
i
]);

542 ià(
qu”yFe
.
	`Ëngth
() > 0)

544 
cout
 << "Writing query…redicateshat‡re specified in query file..."

545 << 
’dl
;

546 
boŞ
 
ok
 = 
	`ü—‹Qu”yFeP»ds
(
qu”yFe
, 
domaš
, domaš->
	`g‘DB
(), 
NULL
,

547 
NULL
, 
Œue
, 
out
, 
am­Pos
,

548 
gndP»dHashA¼ay
, 
gndP»dProbs
, 
NULL
);

549 ià(!
ok
è{ 
cout
 <<"FaedØü—‹ qu”y…»diÿ‹s."<< 
’dl
; 
	`ex™
(-1); }

552 
A¼ay
<> 
®lP»dGndšgsA»Qu”›s
;

553 
®lP»dGndšgsA»Qu”›s
.
	`growToSize
(
domaš
->
	`g‘NumP»diÿ‹s
(), 
çl£
);

554 ià(
qu”yP»dsSŒ
.
	`Ëngth
() > 0)

556 
cout
 << "Writing query…redicateshat‡re specified on command†ine..."

557 << 
’dl
;

558 
boŞ
 
ok
 = 
	`ü—‹ComLšeQu”yP»ds
(
qu”yP»dsSŒ
, 
domaš
, domaš->
	`g‘DB
(),

559 
NULL
, NULL, &
®lP»dGndšgsA»Qu”›s
,

560 
Œue
, 
out
, 
am­Pos
, 
gndP»dHashA¼ay
,

561 
gndP»dProbs
, 
NULL
);

562 ià(!
ok
è{ 
cout
 <<"FaedØü—‹ qu”y…»diÿ‹s."<< 
’dl
; 
	`ex™
(-1); }

565 ià(!(
am­Pos
 || 
am­AÎ
))

566 
d–‘e
 
gndP»dProbs
;

572 ià(
am­Pos
)

573 
šã»nû
->
	`´štTrueP»ds
(
out
);

576 
šã»nû
->
	`´štQFProbs
(
out
, 
domaš
);

577 ià(
abpInãr
 || 
«fbpInãr
)

579 
šã»nû
->
	`´štProbab™›s
(
out
);

583 
i
 = 0; i < 
qu”›s
->
	`size
(); i++)

586 
´ob
 = 
šã»nû
->
	`g‘Probab™y
((*
qu”›s
)[
i
]);

587 (*
qu”›s
)[
i
]->
	`´št
(
out
, 
domaš
); ouˆ<< " " << 
´ob
 << 
’dl
;

592 
	}
}

603 
	$maš
(
¬gc
, * 
¬gv
[])

606 
ARGS
::
	`·r£
(
¬gc
, 
¬gv
, &
cout
);

607 
Tim”
 
tim”
;

608 
begSec
 = 
tim”
.
	`time
();

610 
A¼ay
<
P»diÿ‹
 *> 
qu”yP»ds
;

611 
A¼ay
<
TruthV®ue
> 
qu”yP»dV®ues
;

613 
of¡»am
 
	`»suÉsOut
(
¬esuÉsFe
);

614 ià(!
»suÉsOut
.
	`good
())

615 { 
cout
 << "ERROR: uÇbËØİ’ " << 
¬esuÉsFe
 << 
’dl
;  -1; }

617 
Domaš
* 
domaš
 = 
NULL
;

618 
Inã»nû
* 
šã»nû
 = 
NULL
;

619 ià(
	`budInã»nû
(
šã»nû
, 
domaš
, 
aisQu”yEvid’û
, 
qu”yP»ds
,

620 
qu”yP»dV®ues
) > -1)

627 
š™Time
, 
runTime
;

628 
Tim”
 
tim”1
;

630 
tim”1
.
	`»£t
();

631 
šã»nû
->
	`š™
();

632 
š™Time
 = 
tim”1
.
	`time
();

634 
tim”1
.
	`»£t
();

637 ià(
aouutN‘wÜk
)

639 
cout
 << "Wr™šg‚‘wÜkØf..." << 
’dl
;

640 
šã»nû
->
	`´štN‘wÜk
(
»suÉsOut
);

645 ià(
adecisiÚInãr
)

647 
BP
* 
bp
 = 
dyÇmic_ÿ¡
<BP*>(
šã»nû
);

648 ià(
bp
èbp->
	`runDecisiÚBP
();

652 
šã»nû
->
	`šãr
();

655 
runTime
 = 
tim”1
.
	`time
();

656 
cout
<<"Time-ResuÉs: In™ "<<
š™Time
<<" RuÀ"<<
runTime
<<" TÙ® "<<(š™Time+runTime)<<
’dl
;

659 ià(
aHybrid
)

661 
	`´štResuÉs
(
qu”yFe
, 
qu”yP»dsSŒ
, 
domaš
, 
»suÉsOut
, &
qu”›s
,

662 
šã»nû
, inã»nû->
	`g‘HS‹
());

666 ià(
adecisiÚInãr
)

668 
BP
* 
bp
 = 
dyÇmic_ÿ¡
<BP*>(
šã»nû
);

669 ià(
bp
èbp->
	`´štDecisiÚResuÉs
(
»suÉsOut
);

673 
	`´štResuÉs
(
qu”yFe
, 
qu”yP»dsSŒ
, 
domaš
, 
»suÉsOut
, &
qu”›s
,

674 
šã»nû
, inã»nû->
	`g‘S‹
());

680 
»suÉsOut
.
	`şo£
();

681 ià(
domaš
è
d–‘e
 domain;

682 
i
 = 0; i < 
knownQu”›s
.
	`size
(); i++)

683 ià(
knownQu”›s
[
i
]è
d–‘e
 knownQueries[i];

684 ià(
šã»nû
è
d–‘e
 inference;

686 
cout
 << "tÙ®imk’ = "; 
Tim”
::
	`´štTime
(cout, 
tim”
.
	`time
()-
begSec
);

687 
cout
 << 
’dl
;

688 
	}
}

	@infer/infer.h

67 #iâdeà
_INFER_H_OCT_30_2005


68 
	#_INFER_H_OCT_30_2005


	)

74 
	~"ut.h
"

75 
	~"fŞ.h
"

76 
	~"mrf.h
"

77 
	~"Ë¬nwts.h
"

78 
	~"šã»nû¬gs.h
"

79 
	~"maxw®k§t.h
"

80 
	~"mc§t.h
"

81 
	~"gibbs§m¶”.h
"

82 
	~"simuÏ‹d‹m³ršg.h
"

83 
	~"bp.h
"

84 
	~"v¬ŸbË¡©e.h
"

85 
	~"hv¬ŸbË¡©e.h
"

86 
	~"hmc§t.h
"

87 
	~"lbfg¥.h
"

91 * 
	g«vid’ûFes
 = 
NULL
;

92 * 
	g¬esuÉsFe
 = 
NULL
;

93 * 
	gaqu”yP»dsSŒ
 = 
NULL
;

94 * 
	gaqu”yFe
 = 
NULL
;

96 
	gªum”©Ü
 = 50;

97 
	gad’omš©Ü
 = 100;

99 * 
	gaMaxSecÚds
 = 
NULL
;

100 
boŞ
 
	gaS¹Pt
 = 
Œue
;

102 
	g§IÁ”v®
 = 100;

104 
boŞ
 
	gaPrštSam¶eP”I‹¿tiÚ
 = 
çl£
;

106 
¡ršg
 
	gqu”yP»dsSŒ
, 
	gqu”yFe
;

107 
GroundP»diÿ‹HashA¼ay
 
	gqu”›s
;

108 
GroundP»diÿ‹HashA¼ay
 
	gknownQu”›s
;

138 
boŞ
 
ü—‹ComLšeQu”yP»ds
(cÚ¡ 
¡ršg
& 
qu”yP»dsSŒ
,

139 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

140 
D©aba£
* cÚ¡ & 
db
,

141 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
qu”›s
,

142 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
knownQu”›s
,

143 
A¼ay
<>* cÚ¡ & 
®lP»dGndšgsA»Qu”›s
,

144 
boŞ
 
´štToFe
, 
o¡»am
& 
out
, boŞ 
am­Pos
,

145 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
ŒueQu”›s
,

146 cÚ¡ 
A¼ay
<>* cÚ¡ & 
ŒueProbs
,

147 
A¼ay
<A¼ay<
P»diÿ‹
* >* >* 
qu”yCÚjs
)

150 ià(
	gqu”yP»dsSŒ
.
Ëngth
(è=ğ0è 
Œue
;

151 
¡ršg
 
	g´edCÚjs
 = 
Ut
::
Œim
(
qu”yP»dsSŒ
);

154 
	gb®·»n
 = 0;

155 
	gi
 = 0; i < 
	g´edCÚjs
.
Ëngth
(); i++)

157 ià(
	g´edCÚjs
.
©
(
i
)=='('è
b®·»n
++;

158 ià(
	g´edCÚjs
.
©
(
i
)==')'è
b®·»n
--;

159 ià((
	g´edCÚjs
.
©
(
i
)==';' || 
´edCÚjs
.at(i)==',') &&

160 
b®·»n
==0è
´edCÚjs
.
©
(
i
) = '\n';

163 
boŞ
 
	g»t
 = 
Œue
;

164 
¡ršg
 
	g´edCÚj
;

165 
i¡ršg¡»am
 
iss
(
´edCÚjs
);

166 
	gd–im™
[2]; delimit[1] = '\0';

169 
g‘lše
(
iss
, 
´edCÚj
))

172 
	gb®·»n
 = 0;

173 
	gi
 = 0; i < 
	g´edCÚj
.
Ëngth
(); i++)

175 ià(
	g´edCÚj
.
©
(
i
)=='('è
b®·»n
++;

176 ià(
	g´edCÚj
.
©
(
i
)==')'è
b®·»n
--;

177 ià(
	g´edCÚj
.
©
(
i
)=='^' && 
b®·»n
==0è
´edCÚj
.at(i) = '\n';

179 
boŞ
 
	gÚlyP»dName
;

180 
	gcur
;

181 
	g‹rmId
, 
	gv¬IdCÁ
 = 0;

182 
	ghash_m­
<
	g¡ršg
, , 
	gHashSŒšg
, 
	gEqu®SŒšg
> 
	gv¬ToId
;

183 
	ghash_m­
<
	g¡ršg
, , 
	gHashSŒšg
, 
	gEqu®SŒšg
>::
™”©Ü
 
™
;

184 
	gA¼ay
<
	gV¬sTy³Id
*>* 
	gvtiA¼
;

185 
¡ršg
 
	g´ed
, 
	g´edName
, 
	g‹rm
;

186 
i¡ršg¡»am
 
iss2
(
´edCÚj
);

187 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	g±em¶©e
;

188 
	g´ediÿ‹
 = 0;

190 
	gA¼ay
<
	gP»diÿ‹
* >* 
	g´edA¼ay
 = 
Ãw
 
A¼ay
<
P»diÿ‹
*>;

191 ià(
	gqu”yCÚjs
èqu”yCÚjs->
­³nd
(
´edA¼ay
);

193 
g‘lše
(
iss2
, 
´ed
))

195 
	g´ed
 = 
Ut
::
Œim
(
´ed
);

196 
	gÚlyP»dName
 = 
çl£
;

197 
	gv¬ToId
.
ş—r
();

198 
	gv¬IdCÁ
 = 0;

199 
	gcur
 = 0;

200 
boŞ
 
	gÃg©ed
 = 
çl£
;

203 ià(
	g´ed
.
©
(0) == '!')

205 
Ãg©ed
 = 
Œue
;

206 
	g´ed
.
©
(0) = ' ';

207 
	g´ed
 = 
Ut
::
Œim
(
´ed
);

210 ià(!
	gUt
::
sub¡r
(
´ed
, 
cur
, 
´edName
, "("))

212 
	g´edName
 = 
´ed
;

213 
	gÚlyP»dName
 = 
Œue
;

217 
	g±em¶©e
 = 
domaš
->
g‘P»diÿ‹Tem¶©e
(
´edName
.
c_¡r
());

218 ià(
	g±em¶©e
 =ğ
NULL
)

220 
cout
 << "ERROR: CªnÙ fšd commªd†šqu”y…»diÿ‹" << 
´edName


221 << " iÀdomaš." << 
’dl
;

222 
	g»t
 = 
çl£
;

225 
P»diÿ‹
 
µ»d
(
±em¶©e
);

228 ià(!
	gÚlyP»dName
)

231 
	gi
 = 0; i < 2; i++)

233 ià(
	gi
 =ğ0è
d–im™
[0] = ',';

234 
	gd–im™
[0] = ')';

235 
	gUt
::
sub¡r
(
´ed
, 
cur
, 
‹rm
, 
d–im™
))

238 ià(
isuµ”
(
‹rm
.
©
(0)è|| 
	g‹rm
.©(0è=ğ'"' || 
isdig™
(term.at(0)))

240 
‹rmId
 = 
domaš
->
g‘CÚ¡ªtId
(
‹rm
.
c_¡r
());

241 ià(
	g‹rmId
 < 0)

243 
	gcout
 <<"ERROR: CªnÙ fšd cÚ¡ªˆ"<<
	g‹rm
<<" iÀd©aba£"<<
	g’dl
;

244 
	g»t
 = 
çl£
;

249 ià((
	g™
=
v¬ToId
.
fšd
(
‹rm
)è=ğv¬ToId.
’d
())

251 
‹rmId
 = --
v¬IdCÁ
;

252 
	gv¬ToId
[
‹rm
] = 
v¬IdCÁ
;

255 
	g‹rmId
 = (*
™
).
£cÚd
;

257 
	gµ»d
.
­³ndT”m
(
Ãw
 
T”m
(
‹rmId
, (*)&
µ»d
, 
Œue
));

265 
	gi
 = 0; i < 
	g±em¶©e
->
g‘NumT”ms
(); i++)

266 
	gµ»d
.
­³ndT”m
(
Ãw
 
T”m
(--
v¬IdCÁ
, (*)&
µ»d
, 
Œue
));

270 ià(
	gµ»d
.
g‘NumT”ms
(è!ğ
±em¶©e
->getNumTerms())

272 
cout
 << "ERROR: " << 
´edName
 << "„equœe " << 
±em¶©e
->
g‘NumT”ms
()

273 << "”m buˆgiv’ " << 
µ»d
.
g‘NumT”ms
(è<< 
’dl
;

274 
	g»t
 = 
çl£
;

276 ià(!
	g»t
) ;

279 
	gvtiA¼
 = 
NULL
;

280 
	gµ»d
.
ü—‹V¬sTy³IdA¼
(
vtiA¼
);

283 ià(
	gvtiA¼
->
size
() <= 1)

285 
as£¹
(
µ»d
.
isGrounded
());

286 
as£¹
(!
db
->
isClo£dWÜld
(
µ»d
.
g‘Id
()));

287 
TruthV®ue
 
	gtv
 = 
db
->
g‘V®ue
(&
µ»d
);

289 ià(
	gÃg©ed
è
	gµ»d
.
£tS’£
(
çl£
);

290 
	g´edA¼ay
->
­³nd
(
Ãw
 
P»diÿ‹
(
µ»d
));

292 
GroundP»diÿ‹
* 
	ggndP»d
 = 
Ãw
 GroundP»diÿ‹(&
µ»d
);

294 ià(
	g´štToFe
è
as£¹
(
tv
 !ğ
UNKNOWN
);

295 ià(
	gtv
 =ğ
UNKNOWN
)

297 ià(
qu”›s
->
­³nd
(
gndP»d
è< 0è
d–‘e
 gndPred;

302 ià(
	g´štToFe
)

305 ià(
	gŒueQu”›s
)

307 
	g´ob
 = 0.0;

308 ià(
	gdomaš
->
g‘DB
()->
g‘Evid’ûStus
(&
µ»d
))

316 
	gfound
 = 
ŒueQu”›s
->
fšd
(
gndP»d
);

317 ià(
	gfound
 >ğ0è
´ob
 = (*
ŒueProbs
)[
found
];

320 
	g´ob
 = (
´ob
*10000+1/2.0)/(10000+1.0);

323 
	ggndP»d
->
´št
(
out
, 
domaš
); 
	gout
 << " " << 
	g´ob
 << 
	g’dl
;

327 ià(
	gam­Pos
)

329 ià(
	gtv
 =ğ
TRUE
)

331 
µ»d
.
´štW™hSŒV¬
(
out
, 
domaš
);

332 
	gout
 << 
	g’dl
;

337 
	gµ»d
.
´štW™hSŒV¬
(
out
, 
domaš
);

338 
	gout
 << " " << 
	gtv
 << 
	g’dl
;

341 
d–‘e
 
	ggndP»d
;

347 ià(
	gknownQu”›s
->
­³nd
(
gndP»d
è< 0è
d–‘e
 
	ggndP»d
;

353 
	gA¼aysAcûssÜ
<> 
	gacc
;

354 
	gi
 = 1; i < 
	gvtiA¼
->
size
(); i++)

356 cÚ¡ 
	gA¼ay
<>* 
	gcÚs
 =

357 
domaš
->
g‘CÚ¡ªtsByTy³
((*
vtiA¼
)[
i
]->
ty³Id
);

358 
	gacc
.
­³ndA¼ay
(
cÚs
);

362 
	gA¼ay
<> 
	gcÚ¡Ids
;

363 
	gacc
.
g‘NextCombš©iÚ
(
cÚ¡Ids
))

365 
as£¹
(
cÚ¡Ids
.
size
(è=ğ
vtiA¼
->size()-1);

366 
	gj
 = 0; j < 
	gcÚ¡Ids
.
size
(); j++)

368 
	gA¼ay
<
	gT”m
*>& 
	g‹rms
 = (*
vtiA¼
)[
j
+1]->
v¬s
;

369 
	gk
 = 0; k < 
	g‹rms
.
size
(); k++)

370 
	g‹rms
[
k
]->
£tId
(
cÚ¡Ids
[
j
]);

374 
as£¹
(!
db
->
isClo£dWÜld
(
µ»d
.
g‘Id
()));

376 
TruthV®ue
 
	gtv
 = 
db
->
g‘V®ue
(&
µ»d
);

377 
GroundP»diÿ‹
* 
	ggndP»d
 = 
Ãw
 GroundP»diÿ‹(&
µ»d
);

383 ià(
	g´štToFe
è
as£¹
(
tv
 !ğ
UNKNOWN
);

384 ià(
	gtv
 =ğ
UNKNOWN
)

386 ià(
qu”›s
->
­³nd
(
gndP»d
è< 0è
d–‘e
 gndPred;

391 ià(
	g´štToFe
)

394 ià(
	gŒueQu”›s
)

396 
	g´ob
 = 0.0;

397 ià(
	gdomaš
->
g‘DB
()->
g‘Evid’ûStus
(&
µ»d
))

405 
	gfound
 = 
ŒueQu”›s
->
fšd
(
gndP»d
);

406 ià(
	gfound
 >ğ0è
´ob
 = (*
ŒueProbs
)[
found
];

409 
	g´ob
 = (
´ob
*10000+1/2.0)/(10000+1.0);

413 
	ggndP»d
->
´št
(
out
, 
domaš
); 
	gout
 << " " << 
	g´ob
 << 
	g’dl
;

417 ià(
	gam­Pos
)

419 ià(
	gtv
 =ğ
TRUE
)

421 
µ»d
.
´štW™hSŒV¬
(
out
, 
domaš
);

422 
	gout
 << 
	g’dl
;

427 
	gµ»d
.
´štW™hSŒV¬
(
out
, 
domaš
);

428 
	gout
 << " " << 
	gtv
 << 
	g’dl
;

431 
d–‘e
 
	ggndP»d
;

437 ià(
	gknownQu”›s
->
­³nd
(
gndP»d
è< 0è
d–‘e
 
	ggndP»d
;

444 
	gµ»d
.
d–‘eV¬sTy³IdA¼
(
vtiA¼
);

445 
	g´ediÿ‹
++;

447 ià(
	g´edA¼ay
->
size
() == 0)

449 ià(
qu”yCÚjs
èqu”yCÚjs->
»moveLa¡I‹m
();

450 
d–‘e
 
	g´edA¼ay
;

454 ià(!
	g´štToFe
)

456 
	gqu”›s
->
com´ess
();

457 
	gknownQu”›s
->
com´ess
();

460  
	g»t
;

467 
boŞ
 
ü—‹ComLšeQu”yP»ds
(cÚ¡ 
¡ršg
& 
qu”yP»dsSŒ
,

468 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

469 
D©aba£
* cÚ¡ & 
db
,

470 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
qu”›s
,

471 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
knownQu”›s
,

472 
A¼ay
<>* cÚ¡ & 
®lP»dGndšgsA»Qu”›s
,

473 
A¼ay
<A¼ay<
P»diÿ‹
* >* >* 
qu”yCÚjs
)

475  
ü—‹ComLšeQu”yP»ds
(
qu”yP»dsSŒ
, 
domaš
, 
db
,

476 
qu”›s
, 
knownQu”›s
,

477 
®lP»dGndšgsA»Qu”›s
,

478 
çl£
, 
cout
, f®£, 
NULL
, NULL, 
qu”yCÚjs
);

491 
boŞ
 
	$exŒaùP»dNames
(
¡ršg
 
´eds
, cÚ¡ sŒšg* 
qu”yFe
,

492 
SŒšgHashA¼ay
& 
´edNames
)

494 
´edNames
.
	`ş—r
();

497 
¡ršg
::
size_ty³
 
cur
 = 0, 
ws
, 
É·»n
;

498 
¡ršg
 
q´ed
, 
´edName
;

500 ià(
´eds
.
	`Ëngth
() > 0)

502 
´eds
.
	`­³nd
(" ");

505 
b®·»n
 = 0;

506 
i
 = 0; i < 
´eds
.
	`Ëngth
(); i++)

508 ià(
´eds
.
	`©
(
i
è=ğ'('è
b®·»n
++;

509 ià(
´eds
.
	`©
(
i
è=ğ')'è
b®·»n
--;

510 ià((
´eds
.
	`©
(
i
) == ',' ||…reds.at(i) == ';') &&

511 
b®·»n
 =ğ0è
´eds
.
	`©
(
i
) = ' ';

514 
´eds
.
	`©
(
cur
) == ' ') cur++;

515 
Œue
)

517 
ws
 = 
´eds
.
	`fšd
(" ", 
cur
);

518 ià(
ws
 =ğ
¡ršg
::
Åos
) ;

519 
q´ed
 = 
´eds
.
	`sub¡r
(
cur
,
ws
-cur+1);

520 
cur
 = 
ws
+1;

521 
cur
 < 
´eds
.
	`Ëngth
() &&

522 (
´eds
.
	`©
(
cur
) == ' ' ||…reds.at(cur) == '^' ||

523 
´eds
.
	`©
(
cur
) == '!')) cur++;

524 
É·»n
 = 
q´ed
.
	`fšd
("(",0);

526 ià(
É·»n
 =ğ
¡ršg
::
Åos
)

528 
ws
 = 
q´ed
.
	`fšd
(" ");

529 ià(
ws
 !ğ
¡ršg
::
Åos
è
q´ed
 = q´ed.
	`sub¡r
(0,ws);

530 
´edName
 = 
q´ed
;

533 
´edName
 = 
q´ed
.
	`sub¡r
(0,
É·»n
);

535 
´edNames
.
	`­³nd
(
´edName
);

539 ià(
qu”yFe
 =ğ
NULL
 || qu”yFe->
	`Ëngth
(è=ğ0è 
Œue
;

542 
if¡»am
 
	`š
((*
qu”yFe
).
	`c_¡r
());

543 ià(!
š
.
	`good
())

545 
cout
 << "ERROR: uÇbËØİ’ " << *
qu”yFe
 << 
’dl
;

546  
çl£
;

548 
¡ršg
 
bufãr
;

549 
	`g‘lše
(
š
, 
bufãr
))

551 
cur
 = 0;

552 
cur
 < 
bufãr
.
	`Ëngth
() &&

553 (
bufãr
.
	`©
(
cur
) == ' ' || buffer.at(cur) == '^' ||

554 
bufãr
.
	`©
(
cur
) == '!')) cur++;

555 
É·»n
 = 
bufãr
.
	`fšd
("(", 
cur
);

556 ià(
É·»n
 =ğ
¡ršg
::
Åos
) ;

557 
´edName
 = 
bufãr
.
	`sub¡r
(
cur
, 
É·»n
-cur);

558 
´edNames
.
	`­³nd
(
´edName
);

561 
š
.
	`şo£
();

562  
Œue
;

563 
	}
}

568 
IÁHashA¼ay
 *
	$g‘P»diÿ‹Ids
(
¡ršg
 & 
´edsSŒ
, 
Domaš
 * cÚ¡ & 
domaš
)

570 
IÁHashA¼ay
 *
´edIds
 = 
Ãw
 
	`IÁHashA¼ay
();

571 
SŒšgHashA¼ay
 
´edNames
;

572 
	`exŒaùP»dNames
(
´edsSŒ
,
NULL
,
´edNames
);

573 
i
=0;i<
´edNames
.
	`size
();i++)

575 
¡ršg
 
´edName
 = 
´edNames
[
i
];

576 
´edId
 = 
domaš
->
	`g‘P»diÿ‹Id
(
´edName
.
	`c_¡r
());

577 if(
´edId
 < 0)

579 
´edIds
->
	`­³nd
(
´edId
);

581  
´edIds
;

582 
	}
}

589 
	$g‘TruthV®ueFœ¡Ch¬
(cÚ¡ 
TruthV®ue
& 
tv
)

591 ià(
tv
 =ğ
TRUE
)  'T';

592 ià(
tv
 =ğ
FALSE
)  'F';

593 ià(
tv
 =ğ
UNKNOWN
)  'U';

594 
	`as£¹
(
çl£
);

595 
	`ex™
(-1);

597 
	}
}

602 
	$£t¤ªd
()

604 
timev®
 
tv
;

605 
timezÚe
 
tzp
;

606 
	`g‘timeofday
(&
tv
,&
tzp
);

607 
£ed
 = (Ğ
tv
.
tv_£c
 & 0177 ) * 1000000è+v.
tv_u£c
;

608 
	`¤ªd
(
£ed
);

609 
	}
}

613 
cİyFeAndAµ’dDbFe
(cÚ¡ 
¡ršg
& 
¤cFe
, sŒšg& 
d¡Fe
,

614 cÚ¡ 
A¼ay
<
¡ršg
>& 
dbFesA¼
,

615 cÚ¡ 
A¼ay
<
¡ršg
>& 
cÚ¡FesA¼
)

617 
of¡»am
 
out
(
d¡Fe
.
c_¡r
());

618 
if¡»am
 
š
(
¤cFe
.
c_¡r
());

619 ià(!
	gout
.
good
()è{ 
	gcout
<<"ERROR: faedØİ’ "<<
	gd¡Fe
<<
	g’dl
;
ex™
(-1);}

620 ià(!
	gš
.
good
()è{ 
	gcout
<<"ERROR: faedØİ’ "<<
	g¤cFe
<<
	g’dl
;
ex™
(-1);}

622 
¡ršg
 
	gbufãr
;

623 
g‘lše
(
š
, 
bufãr
)è
	gout
 << 
	gbufãr
 << 
	g’dl
;

624 
	gš
.
şo£
();

626 
	gout
 << 
	g’dl
;

627 
	gi
 = 0; i < 
	gcÚ¡FesA¼
.
size
(); i++)

628 
	gout
 << "#šşud\"" << 
	gcÚ¡FesA¼
[
i
] << "\"" << 
	g’dl
;

629 
	gout
 << 
	g’dl
;

630 
	gi
 = 0; i < 
	gdbFesA¼
.
size
(); i++)

631 
	gout
 << "#šşud\"" << 
	gdbFesA¼
[
i
] << "\"" << 
	g’dl
;

632 
	gout
.
şo£
();

636 
boŞ
 
	$checkQu”yP»dsNÙInClo£dWÜldP»ds
(cÚ¡ 
SŒšgHashA¼ay
& 
q´edNames
,

637 cÚ¡ 
SŒšgHashA¼ay
& 
cwP»dNames
)

639 
boŞ
 
ok
 = 
Œue
;

640 
i
 = 0; i < 
q´edNames
.
	`size
(); i++)

641 ià(
cwP»dNames
.
	`cÚšs
(
q´edNames
[
i
]))

643 
cout
 << "ERROR: qu”y…»diÿ‹ " << 
q´edNames
[
i
]

644 << " cªnÙ b¥ecif›d‡ şo£d wÜld" << 
’dl
;

645 
ok
 = 
çl£
;

647  
ok
;

648 
	}
}

678 
boŞ
 
ü—‹Qu”yFeP»ds
(cÚ¡ 
¡ršg
& 
qu”yFe
,

679 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

680 
D©aba£
* cÚ¡ & 
db
,

681 
GroundP»diÿ‹HashA¼ay
* cÚ¡ &
qu”›s
,

682 
GroundP»diÿ‹HashA¼ay
* cÚ¡ &
knownQu”›s
,

683 
boŞ
 
´štToFe
, 
o¡»am
& 
out
, boŞ 
am­Pos
,

684 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ &
ŒueQu”›s
,

685 cÚ¡ 
A¼ay
<>* cÚ¡ & 
ŒueProbs
,

686 
A¼ay
<A¼ay<
P»diÿ‹
* >* >* 
qu”yCÚjs
)

688 ià(
	gqu”yFe
.
Ëngth
(è=ğ0è 
Œue
;

690 
boŞ
 
	g»t
 = 
Œue
;

691 
¡ršg
 
	g´edCÚj
;

692 
if¡»am
 
š
(
qu”yFe
.
c_¡r
());

693 
	gd–im™
[2]; delimit[1] = '\0';

696 
g‘lše
(
š
, 
´edCÚj
))

699 
	gb®·»n
 = 0;

700 
	gi
 = 0; i < 
	g´edCÚj
.
Ëngth
(); i++)

702 ià(
	g´edCÚj
.
©
(
i
)=='('è
b®·»n
++;

703 ià(
	g´edCÚj
.
©
(
i
)==')'è
b®·»n
--;

704 ià(
	g´edCÚj
.
©
(
i
)=='^' && 
b®·»n
==0è
´edCÚj
.at(i) = '\n';

707 
boŞ
 
	gÚlyP»dName
;

708 
	gcur
;

709 
	g‹rmId
, 
	gv¬IdCÁ
 = 0;

710 
	ghash_m­
<
	g¡ršg
, , 
	gHashSŒšg
, 
	gEqu®SŒšg
> 
	gv¬ToId
;

711 
	ghash_m­
<
	g¡ršg
, , 
	gHashSŒšg
, 
	gEqu®SŒšg
>::
™”©Ü
 
™
;

712 
	gA¼ay
<
	gV¬sTy³Id
*>* 
	gvtiA¼
;

713 
¡ršg
 
	g´ed
, 
	g´edName
, 
	g‹rm
;

714 
i¡ršg¡»am
 
iss2
(
´edCÚj
);

715 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	g±em¶©e
;

716 
	g´ediÿ‹
 = 0;

718 
	gA¼ay
<
	gP»diÿ‹
* >* 
	g´edA¼ay
 = 
Ãw
 
A¼ay
<
P»diÿ‹
*>;

719 
	gqu”yCÚjs
->
­³nd
(
´edA¼ay
);

721 
g‘lše
(
iss2
, 
´ed
))

723 
	g´ed
 = 
Ut
::
Œim
(
´ed
);

724 
	gÚlyP»dName
 = 
çl£
;

725 
	gv¬ToId
.
ş—r
();

726 
	gv¬IdCÁ
 = 0;

727 
	gcur
 = 0;

728 
boŞ
 
	gÃg©ed
 = 
çl£
;

731 ià(
	g´ed
.
©
(0) == '!')

733 
Ãg©ed
 = 
Œue
;

734 
	g´ed
.
©
(0) = ' ';

735 
	g´ed
 = 
Ut
::
Œim
(
´ed
);

738 ià(!
	gUt
::
sub¡r
(
´ed
, 
cur
, 
´edName
, "("))

740 
	g´edName
 = 
´ed
;

741 
	gÚlyP»dName
 = 
Œue
;

745 
	g±em¶©e
 = 
domaš
->
g‘P»diÿ‹Tem¶©e
(
´edName
.
c_¡r
());

746 ià(
	g±em¶©e
 =ğ
NULL
)

748 
cout
 << "ERROR: CªnÙ fšd commªd†šqu”y…»diÿ‹" << 
´edName


749 << " iÀdomaš." << 
’dl
;

750 
	g»t
 = 
çl£
;

753 
P»diÿ‹
 
µ»d
(
±em¶©e
);

756 ià(!
	gÚlyP»dName
)

759 
	gi
 = 0; i < 2; i++)

761 ià(
	gi
 =ğ0è
d–im™
[0] = ',';

762 
	gd–im™
[0] = ')';

763 
	gUt
::
sub¡r
(
´ed
, 
cur
, 
‹rm
, 
d–im™
))

766 ià(
isuµ”
(
‹rm
.
©
(0)è|| 
	g‹rm
.©(0è=ğ'"' || 
isdig™
(term.at(0)))

768 
‹rmId
 = 
domaš
->
g‘CÚ¡ªtId
(
‹rm
.
c_¡r
());

769 ià(
	g‹rmId
 < 0)

771 
	gcout
 <<"ERROR: CªnÙ fšd cÚ¡ªˆ"<<
	g‹rm
<<" iÀd©aba£"<<
	g’dl
;

772 
	g»t
 = 
çl£
;

777 ià((
	g™
=
v¬ToId
.
fšd
(
‹rm
)è=ğv¬ToId.
’d
())

779 
‹rmId
 = --
v¬IdCÁ
;

780 
	gv¬ToId
[
‹rm
] = 
v¬IdCÁ
;

783 
	g‹rmId
 = (*
™
).
£cÚd
;

785 
	gµ»d
.
­³ndT”m
(
Ãw
 
T”m
(
‹rmId
, (*)&
µ»d
, 
Œue
));

793 
	gi
 = 0; i < 
	g±em¶©e
->
g‘NumT”ms
(); i++)

794 
	gµ»d
.
­³ndT”m
(
Ãw
 
T”m
(--
v¬IdCÁ
, (*)&
µ»d
, 
Œue
));

798 ià(
	gµ»d
.
g‘NumT”ms
(è!ğ
±em¶©e
->getNumTerms())

800 
cout
 << "ERROR: " << 
´edName
 << "„equœe " << 
±em¶©e
->
g‘NumT”ms
()

801 << "”m buˆgiv’ " << 
µ»d
.
g‘NumT”ms
(è<< 
’dl
;

802 
	g»t
 = 
çl£
;

804 ià(!
	g»t
) ;

807 
	gvtiA¼
 = 
NULL
;

808 
	gµ»d
.
ü—‹V¬sTy³IdA¼
(
vtiA¼
);

811 ià(
	gvtiA¼
->
size
() <= 1)

813 
as£¹
(
µ»d
.
isGrounded
());

814 
as£¹
(!
db
->
isClo£dWÜld
(
µ»d
.
g‘Id
()));

815 
TruthV®ue
 
	gtv
 = 
db
->
g‘V®ue
(&
µ»d
);

817 ià(
	gÃg©ed
è
	gµ»d
.
£tS’£
(
çl£
);

818 
	g´edA¼ay
->
­³nd
(
Ãw
 
P»diÿ‹
(
µ»d
));

820 
GroundP»diÿ‹
* 
	ggndP»d
 = 
Ãw
 GroundP»diÿ‹(&
µ»d
);

822 ià(
	g´štToFe
è
as£¹
(
tv
 !ğ
UNKNOWN
);

823 ià(
	gtv
 =ğ
UNKNOWN
)

825 ià(
qu”›s
->
­³nd
(
gndP»d
è< 0è
d–‘e
 gndPred;

830 ià(
	g´štToFe
)

833 ià(
	gŒueQu”›s
)

835 
	g´ob
 = 0.0;

836 ià(
	gdomaš
->
g‘DB
()->
g‘Evid’ûStus
(&
µ»d
))

844 
	gfound
 = 
ŒueQu”›s
->
fšd
(
gndP»d
);

845 ià(
	gfound
 >ğ0è
´ob
 = (*
ŒueProbs
)[
found
];

848 
	g´ob
 = (
´ob
*10000+1/2.0)/(10000+1.0);

851 
	ggndP»d
->
´št
(
out
, 
domaš
); 
	gout
 << " " << 
	g´ob
 << 
	g’dl
;

855 ià(
	gam­Pos
)

857 ià(
	gtv
 =ğ
TRUE
)

859 
µ»d
.
´štW™hSŒV¬
(
out
, 
domaš
);

860 
	gout
 << 
	g’dl
;

865 
	gµ»d
.
´štW™hSŒV¬
(
out
, 
domaš
);

866 
	gout
 << " " << 
	gtv
 << 
	g’dl
;

869 
d–‘e
 
	ggndP»d
;

875 ià(
	gknownQu”›s
->
­³nd
(
gndP»d
è< 0è
d–‘e
 
	ggndP»d
;

881 
	gA¼aysAcûssÜ
<> 
	gacc
;

882 
	gi
 = 1; i < 
	gvtiA¼
->
size
(); i++)

884 cÚ¡ 
	gA¼ay
<>* 
	gcÚs
 =

885 
domaš
->
g‘CÚ¡ªtsByTy³
((*
vtiA¼
)[
i
]->
ty³Id
);

886 
	gacc
.
­³ndA¼ay
(
cÚs
);

890 
	gA¼ay
<> 
	gcÚ¡Ids
;

891 
	gacc
.
g‘NextCombš©iÚ
(
cÚ¡Ids
))

893 
as£¹
(
cÚ¡Ids
.
size
(è=ğ
vtiA¼
->size()-1);

894 
	gj
 = 0; j < 
	gcÚ¡Ids
.
size
(); j++)

896 
	gA¼ay
<
	gT”m
*>& 
	g‹rms
 = (*
vtiA¼
)[
j
+1]->
v¬s
;

897 
	gk
 = 0; k < 
	g‹rms
.
size
(); k++)

898 
	g‹rms
[
k
]->
£tId
(
cÚ¡Ids
[
j
]);

902 
as£¹
(!
db
->
isClo£dWÜld
(
µ»d
.
g‘Id
()));

904 
TruthV®ue
 
	gtv
 = 
db
->
g‘V®ue
(&
µ»d
);

905 
GroundP»diÿ‹
* 
	ggndP»d
 = 
Ãw
 GroundP»diÿ‹(&
µ»d
);

908 ià(
	g´štToFe
è
as£¹
(
tv
 !ğ
UNKNOWN
);

909 ià(
	gtv
 =ğ
UNKNOWN
)

911 ià(
qu”›s
->
­³nd
(
gndP»d
è< 0è
d–‘e
 gndPred;

916 ià(
	g´štToFe
)

919 ià(
	gŒueQu”›s
)

921 
	g´ob
 = 0.0;

922 ià(
	gdomaš
->
g‘DB
()->
g‘Evid’ûStus
(&
µ»d
))

930 
	gfound
 = 
ŒueQu”›s
->
fšd
(
gndP»d
);

931 ià(
	gfound
 >ğ0è
´ob
 = (*
ŒueProbs
)[
found
];

934 
	g´ob
 = (
´ob
*10000+1/2.0)/(10000+1.0);

938 
	ggndP»d
->
´št
(
out
, 
domaš
); 
	gout
 << " " << 
	g´ob
 << 
	g’dl
;

942 ià(
	gam­Pos
)

944 ià(
	gtv
 =ğ
TRUE
)

946 
µ»d
.
´štW™hSŒV¬
(
out
, 
domaš
);

947 
	gout
 << 
	g’dl
;

952 
	gµ»d
.
´štW™hSŒV¬
(
out
, 
domaš
);

953 
	gout
 << " " << 
	gtv
 << 
	g’dl
;

956 
d–‘e
 
	ggndP»d
;

962 ià(
	gknownQu”›s
->
­³nd
(
gndP»d
è< 0è
d–‘e
 
	ggndP»d
;

968 
	gµ»d
.
d–‘eV¬sTy³IdA¼
(
vtiA¼
);

969 
	g´ediÿ‹
++;

971 ià(
	g´edA¼ay
->
size
() == 0)

973 ià(
qu”yCÚjs
èqu”yCÚjs->
»moveLa¡I‹m
();

974 
d–‘e
 
	g´edA¼ay
;

978 ià(!
	g´štToFe
)

980 
	gqu”›s
->
com´ess
();

981 
	gknownQu”›s
->
com´ess
();

984 
	gš
.
şo£
();

985  
	g»t
;

992 
boŞ
 
ü—‹Qu”yFeP»ds
(cÚ¡ 
¡ršg
& 
qu”yFe
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

993 
D©aba£
* cÚ¡ & 
db
,

994 
GroundP»diÿ‹HashA¼ay
* cÚ¡ &
qu”›s
,

995 
GroundP»diÿ‹HashA¼ay
* cÚ¡ &
knownQu”›s
,

996 
A¼ay
<A¼ay<
P»diÿ‹
* >* >* 
qu”yCÚjs
)

998  
ü—‹Qu”yFeP»ds
(
qu”yFe
, 
domaš
, 
db
, 
qu”›s
, 
knownQu”›s
,

999 
çl£
, 
cout
, f®£, 
NULL
, NULL, 
qu”yCÚjs
);

1009 
budInã»nû
(
Inã»nû
*& 
šã»nû
, 
Domaš
*& 
domaš
,

1010 
boŞ
 cÚ¡ &
aisQu”yEvid’û
, 
A¼ay
<
P»diÿ‹
 *> &
qu”yP»ds
,

1011 
A¼ay
<
TruthV®ue
> &
qu”yP»dV®ues
)

1013 
¡ršg
 
	gšMLNFe
, 
	gwkMLNFe
, 
	gevid’ûFe
;

1015 
SŒšgHashA¼ay
 
	gqu”yP»dNames
;

1016 
SŒšgHashA¼ay
 
	gowP»dNames
;

1017 
SŒšgHashA¼ay
 
	gcwP»dNames
;

1018 
MLN
* 
	gmÊ
 = 
NULL
;

1019 
	gA¼ay
<
	g¡ršg
> 
	gcÚ¡FesA¼
;

1020 
	gA¼ay
<
	g¡ršg
> 
	gevid’ûFesA¼
;

1028 
exŒaùFeNames
(
ašMLNFes
, 
cÚ¡FesA¼
);

1029 
as£¹
(
cÚ¡FesA¼
.
size
() >= 1);

1030 
	gšMLNFe
.
­³nd
(
cÚ¡FesA¼
[0]);

1031 
	gcÚ¡FesA¼
.
»moveI‹m
(0);

1032 
exŒaùFeNames
(
«vid’ûFes
, 
evid’ûFesA¼
);

1034 ià(
	gaqu”yP»dsSŒ
è
	gqu”yP»dsSŒ
.
­³nd
(
aqu”yP»dsSŒ
);

1035 ià(
	gaqu”yFe
è
	gqu”yFe
.
­³nd
(
aqu”yFe
);

1037 ià(
	gqu”yP»dsSŒ
.
Ëngth
(è=ğ0 && 
qu”yFe
.length() == 0)

1038 { 
cout
 << "NØqu”y…»diÿ‹ ¥ecif›d" << 
’dl
;  -1; }

1040 ià(
	gagibbsInãr
 && 
	gagibbsTe¡CÚv”g’û
 && 
	gamcmcNumChašs
 < 2)

1042 
	gcout
 << "ERROR: Ifesting for convergence,here must be‡t†east 2 "

1044 << 
	g’dl
;  -1;

1047 ià(
	gadecisiÚInãr
 && !
	gabpInãr
 && !
	g«fbpInãr
)

1049 
	g«fbpInãr
 = 
Œue
;

1051 ià(!
	gasimInãr
 && !
	gam­Pos
 && !
	gam­AÎ
 && !
	gagibbsInãr
 &&

1052 !
	gamc§tInãr
 && !
	gaHybrid
 && !
	gaSA
 && !
	gabpInãr
 && !
	g«fbpInãr
 &&

1053 !
	gaouutN‘wÜk
)

1056 
	gamc§tInãr
 = 
Œue
;

1060 ià(
	gqu”yP»dsSŒ
.
Ëngth
(è> 0 || 
	gqu”yFe
.length() > 0)

1062 ià(!
exŒaùP»dNames
(
qu”yP»dsSŒ
, &
qu”yFe
, 
qu”yP»dNames
))  -1;

1065 ià(
	gamwsMaxS‹ps
 <= 0)

1066 { 
cout
 << "ERROR: mwsMaxS‹p mu¡ bpos™ive" << 
’dl
;  -1; }

1068 ià(
	gamwsTr›s
 <= 0)

1069 { 
cout
 << "ERROR: mwsTr› mu¡ bpos™ive" << 
’dl
;  -1; }

1072 ià(
	gaO³nWÜldP»dsSŒ
)

1074 ià(!
exŒaùP»dNames
(
¡ršg
(
aO³nWÜldP»dsSŒ
), 
NULL
, 
owP»dNames
))

1076 
as£¹
(
owP»dNames
.
size
() > 0);

1080 ià(
	gaClo£dWÜldP»dsSŒ
)

1082 ià(!
exŒaùP»dNames
(
¡ršg
(
aClo£dWÜldP»dsSŒ
), 
NULL
, 
cwP»dNames
))

1084 
as£¹
(
cwP»dNames
.
size
() > 0);

1085 ià(!
checkQu”yP»dsNÙInClo£dWÜldP»ds
(
qu”yP»dNames
, 
cwP»dNames
))

1099 
Sam¶eS©P¬ams
* 
	gs¥¬ams
 = 
Ãw
 SampleSatParams;

1100 
	gs¥¬ams
->
	gÏ‹Sa
 = 
assL©eSa
;

1101 
	gs¥¬ams
->
	g§R©io
 = 
assSaR©io
;

1102 
	gs¥¬ams
->
	g§Temp
 = 
assSaTemp
;

1105 
MaxW®k§tP¬ams
* 
	gmw¥¬ams
 = 
Ãw
 MaxWalksatParams;

1106 
	gmw¥¬ams
->
	gssP¬ams
 = 
s¥¬ams
;

1107 
	gmw¥¬ams
->
	gmaxS‹ps
 = 
amwsMaxS‹ps
;

1108 
	gmw¥¬ams
->
	gmaxTr›s
 = 
amwsTr›s
;

1109 
	gmw¥¬ams
->
	grg‘Co¡
 = 
amwsT¬g‘Wt
;

1110 
	gmw¥¬ams
->
	gh¬d
 = 
amwsH¬d
;

1113 
	gmw¥¬ams
->
	gnumSŞutiÚs
 = 
amwsNumSŞutiÚs
;

1114 
	gmw¥¬ams
->
	gheuri¡ic
 = 
amwsHeuri¡ic
;

1115 
	gmw¥¬ams
->
	gbuL’gth
 = 
amwsTabuL’gth
;

1116 
	gmw¥¬ams
->
	gÏzyLowS‹
 = 
amwsLazyLowS‹
;

1119 
MCS©P¬ams
* 
	gm¥¬ams
 = 
Ãw
 MCSatParams;

1120 
	gm¥¬ams
->
	gmwsP¬ams
 = 
mw¥¬ams
;

1122 
	gm¥¬ams
->
	gnumChašs
 = 1;

1123 
	gm¥¬ams
->
	gbuºMšS‹ps
 = 
amcmcBuºMšS‹ps
;

1124 
	gm¥¬ams
->
	gbuºMaxS‹ps
 = 
amcmcBuºMaxS‹ps
;

1125 
	gm¥¬ams
->
	gmšS‹ps
 = 
amcmcMšS‹ps
;

1126 
	gm¥¬ams
->
	gmaxS‹ps
 = 
amcmcMaxS‹ps
;

1127 
	gm¥¬ams
->
	gmaxSecÚds
 = 
amcmcMaxSecÚds
;

1131 
GibbsP¬ams
* 
	ggibb¥¬ams
 = 
Ãw
 GibbsParams;

1132 
	ggibb¥¬ams
->
	gmwsP¬ams
 = 
mw¥¬ams
;

1133 
	ggibb¥¬ams
->
	gnumChašs
 = 
amcmcNumChašs
;

1134 
	ggibb¥¬ams
->
	gbuºMšS‹ps
 = 
amcmcBuºMšS‹ps
;

1135 
	ggibb¥¬ams
->
	gbuºMaxS‹ps
 = 
amcmcBuºMaxS‹ps
;

1136 
	ggibb¥¬ams
->
	gmšS‹ps
 = 
amcmcMšS‹ps
;

1137 
	ggibb¥¬ams
->
	gmaxS‹ps
 = 
amcmcMaxS‹ps
;

1138 
	ggibb¥¬ams
->
	gmaxSecÚds
 = 
amcmcMaxSecÚds
;

1140 
	ggibb¥¬ams
->
	ggamma
 = 1 - 
agibbsD–
;

1141 
	ggibb¥¬ams
->
	g•sÚE¼Ü
 = 
agibbsEpsÚE¼Ü
;

1142 
	ggibb¥¬ams
->
	gäacCÚv”ged
 = 
agibbsF¿cCÚv”ged
;

1143 
	ggibb¥¬ams
->
	gw®k§tTy³
 = 
agibbsW®k§tTy³
;

1144 
	ggibb¥¬ams
->
	g‹¡CÚv”g’û
 = 
agibbsTe¡CÚv”g’û
;

1145 
	ggibb¥¬ams
->
	g§m¶esP”Te¡
 = 
agibbsSam¶esP”Te¡
;

1148 
SimuÏ‹dTem³ršgP¬ams
* 
	g¡·¿ms
 = 
Ãw
 SimulatedTemperingParams;

1149 
	g¡·¿ms
->
	gmwsP¬ams
 = 
mw¥¬ams
;

1150 
	g¡·¿ms
->
	gnumChašs
 = 
amcmcNumChašs
;

1151 
	g¡·¿ms
->
	gbuºMšS‹ps
 = 
amcmcBuºMšS‹ps
;

1152 
	g¡·¿ms
->
	gbuºMaxS‹ps
 = 
amcmcBuºMaxS‹ps
;

1153 
	g¡·¿ms
->
	gmšS‹ps
 = 
amcmcMšS‹ps
;

1154 
	g¡·¿ms
->
	gmaxS‹ps
 = 
amcmcMaxS‹ps
;

1155 
	g¡·¿ms
->
	gmaxSecÚds
 = 
amcmcMaxSecÚds
;

1157 
	g¡·¿ms
->
	gsubIÁ”v®
 = 
asimSubIÁ”v®
;

1158 
	g¡·¿ms
->
	gnumST
 = 
asimNumST
;

1159 
	g¡·¿ms
->
	gnumSw­
 = 
asimNumSw­
;

1162 
BPP¬ams
* 
	gbµ¬ams
 = 
Ãw
 BPParams;

1163 
	gbµ¬ams
->
	gmaxS‹ps
 = 
amcmcMaxS‹ps
;

1164 
	gbµ¬ams
->
	gmaxSecÚds
 = 
amcmcMaxSecÚds
;

1165 
	gbµ¬ams
->
	gliáed
 = 
®iáedInãr
;

1166 
	gbµ¬ams
->
	gu£HC
 = 
au£HC
;

1167 
	gbµ¬ams
->
	gu£CT
 = 
au£CT
;

1168 
	gbµ¬ams
->
	gcÚv”g’ûTh»sh
 = 
abpCÚv”g’ûTh»sh
;

1169 
	gbµ¬ams
->
	gcÚv”geRequœedIŒCÁ
 = 
abpCÚv”geRequœedIŒCÁ
;

1170 
	gbµ¬ams
->
	gim¶ic™R•
 = !
«x¶ic™R•
;

1171 
	gbµ¬ams
->
	ghcC»©eTy³
 = (
Hy³rCubeC»©eTy³
)
ahcC»©eTy³
;

1172 
	gbµ¬ams
->
	ghcC»©eNoi£
 = 
ahcC»©eNoi£
;

1173 
	gbµ¬ams
->
	gÊcI‹r
 = 
®ncI‹r
;

1174 
	gbµ¬ams
->
	gouutN‘wÜk
 = 
aouutN‘wÜk
;

1175 ià(
	gªoHCP»dsSŒ
)

1177 (
	gbµ¬ams
->
	gnoHCP»dsSŒ
).
­³nd
(
ªoHCP»dsSŒ
);

1182 
	gcout
 << "R—dšg fÜmuÏ ªdƒvid’û…»diÿ‹s..." << 
	g’dl
;

1185 
	g¡ršg
::
size_ty³
 
b¦ash
 = 
šMLNFe
.
rfšd
("/");

1186 
¡ršg
 
	gtmp
 = (
b¦ash
 =ğ¡ršg::
Åos
) ?

1187 
šMLNFe
:šMLNFe.
sub¡r
(
b¦ash
+1,šMLNFe.
Ëngth
()-bslash-1);

1188 
	gbuf
[100];

1189 
¥rštf
(
buf
, "%s%d%s", 
tmp
.
c_¡r
(), 
g‘pid
(), 
ZZ_TMP_FILE_POSTFIX
);

1190 
	gwkMLNFe
 = 
buf
;

1191 
cİyFeAndAµ’dDbFe
(
šMLNFe
, 
wkMLNFe
,

1192 
evid’ûFesA¼
, 
cÚ¡FesA¼
);

1195 
	gdomaš
 = 
Ãw
 
Domaš
;

1196 
	gmÊ
 = 
Ãw
 
MLN
();

1197 
boŞ
 
	gaddUn™CÏu£s
 = 
çl£
;

1198 
boŞ
 
	gmu¡HaveWtOrFuÎStİ
 = 
Œue
;

1199 
boŞ
 
	gw¬nAboutDupGndP»ds
 = 
Œue
;

1200 
boŞ
 
	gæWtsOfFl³dCÏu£
 = 
Œue
;

1201 
boŞ
 
	g®lP»dsExû±Qu”›sA»CW
 = 
çl£
;

1203 
Domaš
* 
	gfÜCheckšgPlusTy³s
 = 
NULL
;

1207 
	gcout
<<
	gwkMLNFe
.
c_¡r
()<<
	g’dl
;

1208 ià(!
runYYP¬£r
(
mÊ
, 
domaš
, 
wkMLNFe
.
c_¡r
(), 
®lP»dsExû±Qu”›sA»CW
,

1209 &
owP»dNames
, &
cwP»dNames
, &
qu”yP»dNames
, 
addUn™CÏu£s
,

1210 
w¬nAboutDupGndP»ds
, 0, 
mu¡HaveWtOrFuÎStİ
,

1211 
fÜCheckšgPlusTy³s
, 
Œue
, 
æWtsOfFl³dCÏu£
))

1213 
uÆšk
(
wkMLNFe
.
c_¡r
());

1217 
uÆšk
(
wkMLNFe
.
c_¡r
());

1218 cÚ¡ 
FÜmuÏAndCÏu£sA¼ay
* 
	gfÿ
 = 
mÊ
->
g‘FÜmuÏAndCÏu£sA¼ay
();

1219 
	gi
 = 0; i < 
	gfÿ
->
size
(); i++)

1221 
IndexCÏu£HashA¼ay
* 
	gšdexCÏu£s
 = (*
fÿ
)[
i
]->
šdexCÏu£s
;

1222 
	gj
 = 0; j < 
	gšdexCÏu£s
->
size
(); j++)

1224 
	gidx
 = (*
šdexCÏu£s
)[
j
]->
šdex
;

1225 
CÏu£
* 
	gc
 = (*
šdexCÏu£s
)[
j
]->
şau£
;

1226 
	gcout
 << "idx " << 
	gidx
 << ": ";

1227 
	gc
->
´štW™hWtAndSŒV¬
(
cout
, 
domaš
);

1228 
	gcout
 << 
	g’dl
;

1234 
	gA¼ay
<> 
	g®lP»dGndšgsA»Qu”›s
;

1235 
	gA¼ay
<A¼ay<
	gP»diÿ‹
* >* >* 
	gqu”yFÜmuÏs
 = 
Ãw
 
A¼ay
<A¼ay<
P»diÿ‹
*> *>;

1239 ià(!
	gaLazy
)

1241 ià(
	gqu”yFe
.
Ëngth
() > 0)

1243 
	gcout
 << "Reading query…redicateshat‡re specified in query file..."

1244 << 
	g’dl
;

1245 
boŞ
 
	gok
 = 
ü—‹Qu”yFeP»ds
(
qu”yFe
, 
domaš
, domaš->
g‘DB
(),

1246 &
qu”›s
, &
knownQu”›s
, 
qu”yFÜmuÏs
);

1247 ià(!
	gok
è{ 
	gcout
<<"FaedØü—‹ qu”y…»diÿ‹s."<<
	g’dl
; 
ex™
(-1); }

1250 
	g®lP»dGndšgsA»Qu”›s
.
growToSize
(
domaš
->
g‘NumP»diÿ‹s
(), 
çl£
);

1251 ià(
	gqu”yP»dsSŒ
.
Ëngth
() > 0)

1255 
GroundP»diÿ‹HashA¼ay
 
	guÃP»ds
;

1256 
GroundP»diÿ‹HashA¼ay
 
	gkÃP»ds
;

1258 
boŞ
 
	gok
 = 
ü—‹ComLšeQu”yP»ds
(
qu”yP»dsSŒ
, 
domaš
,

1259 
domaš
->
g‘DB
(), &
uÃP»ds
, &
kÃP»ds
,

1260 &
®lP»dGndšgsA»Qu”›s
, 
qu”yFÜmuÏs
);

1261 ià(!
	gok
è{ 
	gcout
<<"FaedØü—‹ qu”y…»diÿ‹s."<<
	g’dl
; 
ex™
(-1); }

1262 
	gA¼ay
<
	gP»diÿ‹
*>* 
	gšdexedGndšgs
 = 
Ãw
 
A¼ay
<
P»diÿ‹
*>();

1263 
	gdomaš
->
g‘DB
()->
g‘IndexedGndšgs
(
šdexedGndšgs
,
mÊ
->
g‘CÏu£
(0)->
g‘P»diÿ‹
(0),
Œue
,
çl£
);

1264 
	gi
=0;i<
	gšdexedGndšgs
->
size
();i++)

1266 (*
	gšdexedGndšgs
)[
i
]->
´št
(
cout
,
domaš
);

1267 
	gcout
<<
	g’dl
;

1269 
	gi
=0;i<
	gqu”yFÜmuÏs
->
size
();i++)

1271 
	gj
=0;j<(*
	gqu”yFÜmuÏs
)[
i
]->
size
();j++)

1273 (*(*
	gqu”yFÜmuÏs
)[
i
])[
j
]->
´št
(
cout
,
domaš
);

1274 
	gcout
<<" ";

1276 
	gcout
<<
	g’dl
;

1278 ià(
	gaisQu”yEvid’û
)

1288 
	gqu”yP»dV®ues
.
ş—r
();

1289 
	g´edno
 = 0;…»dnØ< 
	guÃP»ds
.
size
();…redno++)

1290 
	gdomaš
->
g‘DB
()->
£tV®ue
(
uÃP»ds
[
´edno
], 
FALSE
);

1291 
	gknownQu”›s
 = 
uÃP»ds
;

1294 
	g´edno
 = 0;…»dnØ< 
	gkÃP»ds
.
size
();…redno++)

1296 
TruthV®ue
 
	gÜigV®ue


1297 ğ
domaš
->
g‘DB
()->
£tV®ue
(
kÃP»ds
[
´edno
], 
UNKNOWN
);

1298 
	gqu”yP»dV®ues
.
­³nd
(
ÜigV®ue
);

1300 
	gqu”›s
 = 
kÃP»ds
;

1304 
	gqu”›s
 = 
uÃP»ds
;

1305 
	gknownQu”›s
 = 
kÃP»ds
;

1309 
	gi
=0;i<
	gqu”›s
.
size
();i++)

1311 
	gqu”›s
[
i
]->
´št
(
cout
,
domaš
);

1312 
	gcout
<<
	g’dl
;

1314 
boŞ
 
	gŒackCÏu£TrueCÁs
 = 
çl£
;

1315 
V¬ŸbËS‹
* 
	g¡©e
 = 
NULL
;

1316 
HV¬ŸbËS‹
* 
	gh¡©e
 = 
NULL
;

1317 
FaùÜG¿ph
* 
	gçùÜG¿ph
 = 
NULL
;

1319 ià(
	gabpInãr
 || 
	g«fbpInãr
 || 
	gaouutN‘wÜk
)

1321 
	gçùÜG¿ph
 = 
Ãw
 
FaùÜG¿ph
(
bµ¬ams
->
liáed
, bµ¬ams->
u£HC
,

1322 
bµ¬ams
->
u£CT
, bµ¬ams->
im¶ic™R•
,

1323 
bµ¬ams
->
hcC»©eTy³
,

1324 
bµ¬ams
->
hcC»©eNoi£
, bµ¬ams->
ÊcI‹r
,

1325 
bµ¬ams
->
noHCP»dsSŒ
,
mÊ
, 
domaš
,

1326 
qu”yFÜmuÏs
);

1327 
	gšã»nû
 = 
Ãw
 
BP
(
çùÜG¿ph
, 
bµ¬ams
, 
qu”yFÜmuÏs
);

1332 
boŞ
 
	gm¬kH¬dGndCÏu£s
 = 
Œue
;

1333 
boŞ
 
	gŒackP¬’tCÏu£Wts
 = 
çl£
;

1334 ià(
	gaHybrid
)

1337 
boŞ
 
	gm¬kH¬dGndCÏu£s
 = 
Œue
;

1338 
boŞ
 
	gŒackP¬’tCÏu£Wts
 = 
çl£
;

1339 
	gh¡©e
 = 
Ãw
 
HV¬ŸbËS‹
(&
qu”›s
, 
NULL
, NULL,

1340 &
®lP»dGndšgsA»Qu”›s
,

1341 
m¬kH¬dGndCÏu£s
,

1342 
ŒackP¬’tCÏu£Wts
,

1343 
mÊ
, 
domaš
, 
aLazy
);

1347 
	gh¡©e
->
LßdCÚtMLN
();

1350 
	gh¡©e
->
	gbMaxOÆy_
 = (
am­Pos
 || 
am­AÎ
);

1356 
	g¡©e
 = 
Ãw
 
V¬ŸbËS‹
(&
qu”›s
, 
NULL
, NULL,

1357 &
®lP»dGndšgsA»Qu”›s
,

1358 
m¬kH¬dGndCÏu£s
,

1359 
ŒackP¬’tCÏu£Wts
,

1360 
mÊ
, 
domaš
, 
aLazy
);

1363 ià(
	gaS¹Pt
 && 
	gaHybrid
)

1366 
	gh¡©e
->
lßdDisEviV®ues
();

1367 
	gi
 = 0; i < 
	gevid’ûFesA¼
.
size
(); i++)

1368 
	gh¡©e
->
LßdCÚtEviV®ues
(
evid’ûFesA¼
[
i
]);

1370 
	gh¡©e
->
£tIn™FromEvi
(
Œue
);

1374 ià(
	gam­Pos
 || 
	gam­AÎ
 || 
	gamc§tInãr
 || 
	gagibbsInãr
 || 
	gasimInãr
 ||

1375 
	gaHybrid
 || 
	gaSA
)

1377 ià((
	gam­Pos
 || 
	gam­AÎ
è&& !
	gaHybrid
)

1381 
	gmw¥¬ams
->
	gnumSŞutiÚs
 = 1;

1382 
	gšã»nû
 = 
Ãw
 
MaxW®kS©
(
¡©e
, 
aS“d
, 
ŒackCÏu£TrueCÁs
, 
mw¥¬ams
);

1384 ià((
	gam­Pos
 || 
	gam­AÎ
è&& 
	gaHybrid
 && !
	gamc§tInãr
 && !
	gaSA
)

1386 
	gh¡©e
->
£tPrİo§lStdev
(
aPrİo§lStdev
);

1389 
	gh¡©e
->
İtimizeIndividu®NumT”m
();

1390 
	gmw¥¬ams
->
	gnumSŞutiÚs
 = 1;

1391 
	gmw¥¬ams
->
	gheuri¡ic
 = 
HMWS
;

1392 
	gšã»nû
 = 
Ãw
 
HMaxW®kS©
(
h¡©e
, 
aS“d
, 
ŒackCÏu£TrueCÁs
,

1393 
mw¥¬ams
);

1394 
HMaxW®kS©
* 
	gp
 = (HMaxW®kS©*)
šã»nû
;

1395 
	gp
->
S‘Noi£P¿
(
ªum”©Ü
, 
ad’omš©Ü
);

1396 ià(
	gaMaxSecÚds
)

1398 
	gp
->
S‘MaxSecÚds
(
©of
(
aMaxSecÚds
));

1401 ià(
	gaS¹Pt
)

1403 
	gh¡©e
->
£tIn™FromEvi
(
Œue
);

1406 ià((
	gam­Pos
 || 
	gam­AÎ
è&& 
	gaHybrid
 && !
	gamc§tInãr
 && 
	gaSA
)

1408 
	gh¡©e
->
£tPrİo§lStdev
(
aPrİo§lStdev
);

1409 
	gmw¥¬ams
->
	gnumSŞutiÚs
 = 1;

1410 
	gmw¥¬ams
->
	gheuri¡ic
 = 
HSA
;

1411 
	gšã»nû
 = 
Ãw
 
HMaxW®kS©
(
h¡©e
, 
aS“d
, 
ŒackCÏu£TrueCÁs
,

1412 
mw¥¬ams
);

1414 
HMaxW®kS©
* 
	gp
 = (HMaxW®kS©*)
šã»nû
;

1416 
	gp
->
£tHeuri¡ic
(
HSA
);

1417 
	gp
->
£tSATempDownR©io
(
aSATempDownR©io
);

1418 
	gp
->
S‘MaxSecÚds
(
©of
(
aMaxSecÚds
));

1419 
	gp
->
S‘SAIÁ”v®
(
§IÁ”v®
);

1420 ià(
	gaS¹Pt
)

1422 
	gh¡©e
->
£tIn™FromEvi
(
Œue
);

1425 ià(
	gaHybrid
 && 
	gamc§tInãr
)

1427 
	gcout
 << "C»©šg HMCSAT in¡ªû." << 
	g’dl
;

1428 
	gh¡©e
->
£tPrİo§lStdev
(
aPrİo§lStdev
);

1429 ià(
	gaCÚtSam¶es
 =ğ
NULL
)

1433 
šã»nû
 = 
Ãw
 
HMCSAT
(
h¡©e
, 
aS“d
, 
ŒackCÏu£TrueCÁs
, 
m¥¬ams
);

1434 
HMCSAT
* 
	gp
 = (HMCSAT*è
šã»nû
;

1435 
	gp
->
S‘CÚtSam¶eFe
(
aCÚtSam¶es
);

1436 
	gp
->
S‘PrštV¬sP”Sam¶e
(
aPrštSam¶eP”I‹¿tiÚ
);

1438 ià(
	gamc§tInãr
 && !
	gaHybrid
)

1440 
	gšã»nû
 = 
Ãw
 
MCSAT
(
¡©e
, 
aS“d
, 
ŒackCÏu£TrueCÁs
, 
m¥¬ams
,

1441 
qu”yFÜmuÏs
);

1443 ià(
	gasimInãr
 && !
	gaHybrid
)

1447 
	gmw¥¬ams
->
	gnumSŞutiÚs
 = 1;

1448 
	gšã»nû
 = 
Ãw
 
SimuÏ‹dTem³ršg
(
¡©e
, 
aS“d
, 
ŒackCÏu£TrueCÁs
,

1449 
¡·¿ms
);

1451 ià(
	gagibbsInãr
 && !
	gaHybrid
)

1455 
	gmw¥¬ams
->
	gnumSŞutiÚs
 = 1;

1456 
	gšã»nû
 = 
Ãw
 
GibbsSam¶”
(
¡©e
, 
aS“d
, 
ŒackCÏu£TrueCÁs
,

1457 
gibb¥¬ams
);

1465 
	ghash_m­
<
	t¡ršg
, cÚ¡ 
	tA¼ay
<cÚ¡ *>*, 
	tHashSŒšg
, 
	tEqu®SŒšg
>

1466 
	tSŒšgToSŒA¼ayM­
;

	@infer/inference.h

67 #iâdeà
INFERENCE_H_


68 
	#INFERENCE_H_


	)

70 
	~"v¬ŸbË¡©e.h
"

71 
	~"hv¬ŸbË¡©e.h
"

74 cÚ¡ 
	gDEFAULT_SEED
 = 2350877;

81 şas 
	cInã»nû


83 
	mpublic
:

96 
Inã»nû
(
V¬ŸbËS‹
* 
¡©e
, 
£ed
,

97 cÚ¡ 
boŞ
& 
ŒackCÏu£TrueCÁs
,

98 
A¼ay
<A¼ay<
P»diÿ‹
* >* >* 
qu”yFÜmuÏs
 = 
NULL
)

99 : 
£ed_
(
£ed
), 
¡©e_
(
¡©e
), 
§veAÎCouÁs_
(
çl£
),

100 
şau£TrueCÁs_
(
NULL
), 
şau£TrueSqCÁs_
(NULL),

101 
numSam¶es_
(0),

102 
®lCÏu£TrueCÁs_
(
NULL
), 
ŞdCÏu£TrueCÁs_
(NULL),

103 
ŞdAÎCÏu£TrueCÁs_
(
NULL
), 
	$qu”yFÜmuÏs_
(
qu”yFÜmuÏs
)

106 ià(
£ed_
 =ğ-1è£ed_ = 
DEFAULT_SEED
;

107 
	`¤ªdom
(
£ed_
);

109 
ŒackCÏu£TrueCÁs_
 = 
ŒackCÏu£TrueCÁs
;

110 ià(
ŒackCÏu£TrueCÁs_
 && 
¡©e_
)

112 
numCÏu£s
 = 
¡©e_
->
	`g‘MLN
()->
	`g‘NumCÏu£s
();

116 
şau£TrueCÁs_
 = 
Ãw
 
A¼ay
<>(
numCÏu£s
, 0);

117 
şau£TrueSqCÁs_
 = 
Ãw
 
A¼ay
<>(
numCÏu£s
, 0);

120 ià(
qu”yFÜmuÏs_
)

121 
qfProbs_
 = 
Ãw
 
A¼ay
<>(
qu”yFÜmuÏs_
->
	`size
(), 0);

123 
qfProbs_
 = 
NULL
;

126 
	$Inã»nû
(
HV¬ŸbËS‹
* 
¡©e
, 
£ed
,

127 cÚ¡ 
boŞ
& 
ŒackCÏu£TrueCÁs
)

128 : 
	`£ed_
(
£ed
), 
	`h¡©e_
(
¡©e
), 
	`§veAÎCouÁs_
(
çl£
),

129 
	`şau£TrueCÁs_
(
NULL
), 
	`şau£TrueCÁsCÚt_
(NULL),

130 
	`şau£TrueSqCÁs_
(
NULL
), 
	`numSam¶es_
(0),

131 
	`®lCÏu£TrueCÁs_
(
NULL
), 
	`ŞdCÏu£TrueCÁs_
(NULL),

132 
	`ŞdAÎCÏu£TrueCÁs_
(
NULL
), 
	`qu”yFÜmuÏs_
(NULL),

133 
	$qfProbs_
(
NULL
)

136 ià(
£ed_
 =ğ-1è£ed_ = 
DEFAULT_SEED
;

137 
	`¤ªdom
(
£ed_
);

139 
ŒackCÏu£TrueCÁs_
 = 
ŒackCÏu£TrueCÁs
;

140 ià(
ŒackCÏu£TrueCÁs_
 && 
h¡©e_
)

144 
şau£TrueCÁs_
 = 
Ãw
 
A¼ay
<>;

145 
şau£TrueCÁs_
->
	`growToSize
(
h¡©e_
->
	`g‘MLN
()->
	`g‘NumCÏu£s
(), 0);

146 
şau£TrueCÁsCÚt_
 = 
Ãw
 
A¼ay
<>;

147 
şau£TrueCÁsCÚt_
->
	`growToSize
(
h¡©e_
->
	`g‘NumCÚtFÜmuÏs
(), 0);

149 
	}
}

154 
	gvœtu®
 ~
	$Inã»nû
()

156 
d–‘e
 
şau£TrueCÁs_
;

157 
d–‘e
 
şau£TrueSqCÁs_
;

158 
d–‘e
 
®lCÏu£TrueCÁs_
;

160 
d–‘e
 
ŞdAÎCÏu£TrueCÁs_
;

161 
d–‘e
 
ŞdCÏu£TrueCÁs_
;

163 ià(
qfProbs_
è
d–‘e
 qfProbs_;

164 
	}
}

167 
	$§veAÎCouÁs
(
boŞ
 
§veCouÁs
=
Œue
)

169 ià(
§veAÎCouÁs_
 =ğ
§veCouÁs
)

172 
§veAÎCouÁs_
 = 
§veCouÁs
;

173 ià(
§veCouÁs
)

175 
®lCÏu£TrueCÁs_
 = 
Ãw
 
A¼ay
<Array<> >;

176 
ŞdAÎCÏu£TrueCÁs_
 = 
Ãw
 
A¼ay
<Array<> >;

180 
d–‘e
 
®lCÏu£TrueCÁs_
;

181 
d–‘e
 
ŞdAÎCÏu£TrueCÁs_
;

182 
®lCÏu£TrueCÁs_
 = 
NULL
;

183 
ŞdAÎCÏu£TrueCÁs_
 = 
NULL
;

185 
	}
}

191 
vœtu®
 
š™
() = 0;

196 
vœtu®
 
šãr
() = 0;

201 
vœtu®
 
´štN‘wÜk
(
o¡»am
& 
out
) = 0;

206 
vœtu®
 
´štProbab™›s
(
o¡»am
& 
out
) = 0;

214 
vœtu®
 
g‘ChªgedP»ds
(
veùÜ
<
¡ršg
>& 
chªgedP»ds
,

215 
veùÜ
<>& 
´obs
,

216 
veùÜ
<>& 
ŞdProbs
,

217 cÚ¡ & 
´obD–
) = 0;

223 
vœtu®
 
´štTrueP»ds
(
o¡»am
& 
out
) = 0;

224 
vœtu®
 
´štTrueP»dsH
(
o¡»am
& 
out
) = 0;

229 
vœtu®
 
g‘Probab™y
(
GroundP»diÿ‹
* cÚ¡& 
gndP»d
) = 0;

230 
vœtu®
 
g‘Probab™yH
(
GroundP»diÿ‹
* cÚ¡& 
gndP»d
) = 0;

235 
	$´štQFProbs
(
o¡»am
& 
out
, 
Domaš
* 
domaš
)

237 ià(
qfProbs_
)

239 
i
 = 0; i < 
qu”yFÜmuÏs_
->
	`size
(); i++)

241 
A¼ay
<
P»diÿ‹
* >* 
fÜmuÏ
 = (*
qu”yFÜmuÏs_
)[
i
];

242 
j
 = 0; j < 
fÜmuÏ
->
	`size
(); j++)

244 (*
fÜmuÏ
)[
j
]->
	`´štW™hSŒV¬
(
out
, 
domaš
);

245 ià(
j
 !ğ
fÜmuÏ
->
	`size
(è- 1è
out
 << " ^ ";

247 
out
 << " " << (*
qfProbs_
)[
i
] << 
’dl
;

250 
	}
}

252 
	$g‘S“d
(è{  
£ed_
; 
	}
}

253 
	$£tS“d
(
s
è{ 
£ed_
 = s; 
	}
}

255 
V¬ŸbËS‹
* 
	$g‘S‹
(è{  
¡©e_
; 
	}
}

256 
	$£tS‹
(
V¬ŸbËS‹
* 
s
è{ 
¡©e_
 = s; 
	}
}

258 
HV¬ŸbËS‹
* 
	$g‘HS‹
(è{  
h¡©e_
; 
	}
}

259 
	$£tHS‹
(
HV¬ŸbËS‹
* 
s
è{ 
h¡©e_
 = s; 
	}
}

266 
vœtu®
 
	$sÿËSam¶es
(
çùÜ
è{ 
	}
}

270 cÚ¡ 
	gA¼ay
<>* 
	$g‘CÏu£TrueCÁs
(è{  
şau£TrueCÁs_
; 
	}
}

271 cÚ¡ 
	gA¼ay
<>* 
	$g‘CÏu£TrueSqCÁs
(è{  
şau£TrueSqCÁs_
; 
	}
}

272 
	$g‘NumSam¶es
(ècÚ¡ {  
numSam¶es_
; 
	}
}

281 cÚ¡ 
	gA¼ay
<A¼ay<> >* 
	$g‘HessŸn
()

283 
numCÏu£s
 = 
¡©e_
->
	`g‘MLN
()->
	`g‘NumCÏu£s
();

284 
numSam¶es
 = 
®lCÏu£TrueCÁs_
->
	`size
();

287 
A¼ay
<A¼ay<> >* 
hessŸn
 = 
Ãw
 A¼ay<A¼ay<> >(
numCÏu£s
);

288 
i
 = 0; i < 
numCÏu£s
; i++)

289 (*
hessŸn
)[
i
].
	`growToSize
(
numCÏu£s
);

295 
i
 = 0; i < 
numCÏu£s
; i++)

297 
j
 = 0; j < 
numCÏu£s
; j++)

299 
ni
 = 0.0;

300 
nj
 = 0.0;

301 
nšj
 = 0.0;

302 
s
 = 0; s < 
numSam¶es
; s++)

304 
ni
 +ğ(*
®lCÏu£TrueCÁs_
)[
s
][
i
];

305 
nj
 +ğ(*
®lCÏu£TrueCÁs_
)[
s
][
j
];

306 
nšj
 +ğ(*
®lCÏu£TrueCÁs_
)[
s
][
i
]

307 * (*
®lCÏu£TrueCÁs_
)[
s
][
j
];

309 
n
 = 
numSam¶es
;

310 (*
hessŸn
)[
i
][
j
] = 
ni
/
n
 * 
nj
/À- 
nšj
/n;

314  
hessŸn
;

315 
	}
}

320 cÚ¡ 
	gA¼ay
<>* 
g‘HessŸnVeùÜProduù2
(
A¼ay
<>& 
v
)

322 
	gnumCÏu£s
 = 
¡©e_
->
g‘MLN
()->
g‘NumCÏu£s
();

323 cÚ¡ 
	gA¼ay
<A¼ay<> >* 
	ghessŸn
 = 
g‘HessŸn
();

324 
	gA¼ay
<>* 
	g´oduù
 = 
Ãw
 
A¼ay
<>(
numCÏu£s
,0);

326 
	gşau£no
 = 0; cÏu£nØ< 
	gnumCÏu£s
; clauseno++)

328 (*
	g´oduù
)[
şau£no
] = 0.0;

329 
	gi
 = 0; i < 
	gnumCÏu£s
; i++)

330 (*
	g´oduù
)[
şau£no
] +ğ(*
hessŸn
)[şau£no][
i
] * 
v
[i];

333 
d–‘e
 
	ghessŸn
;

334  
	g´oduù
;

338 cÚ¡ 
	gA¼ay
<>* 
g‘HessŸnVeùÜProduù
(cÚ¡ 
A¼ay
<>& 
v
)

340 
	gnumCÏu£s
 = 
¡©e_
->
g‘MLN
()->
g‘NumCÏu£s
();

341 
	gnumSam¶es
 = 
®lCÏu£TrueCÁs_
->
size
();

349 
	gsumVN
 = 0;

350 
	gA¼ay
<> 
sumN
(
numCÏu£s
, 0);

351 
	gA¼ay
<> 
sumNiVN
(
numCÏu£s
, 0);

355 
	gs
 = 0; s < 
	gnumSam¶es
; s++)

357 
	gA¼ay
<>& 
	gn
 = (*
®lCÏu£TrueCÁs_
)[
s
];

360 
	gvn
 = 0;

361 
	gi
 = 0; i < 
	gnumCÏu£s
; i++)

362 
	gvn
 +ğ
v
[
i
] * 
n
[i];

365 
	gsumVN
 +ğ
vn
;

366 
	gi
 = 0; i < 
	gnumCÏu£s
; i++)

368 
	gsumN
[
i
] +ğ
n
[i];

369 
	gsumNiVN
[
i
] +ğ
n
[i] * 
vn
;

374 
	gA¼ay
<>* 
	g´oduù
 = 
Ãw
 
A¼ay
<>(
numCÏu£s
,0);

375 
	gşau£no
 = 0; cÏu£nØ< 
	gnumCÏu£s
; clauseno++)

377 
	gE_vn
 = 
sumVN
/
numSam¶es
;

378 
	gE_ni
 = 
sumN
[
şau£no
]/
numSam¶es
;

379 
	gE_nivn
 = 
sumNiVN
[
şau£no
]/
numSam¶es
;

380 (*
	g´oduù
)[
şau£no
] = 
E_nivn
 - 
E_ni
 * 
E_vn
;

383  
	g´oduù
;

387 
	$»£tCÁs
()

389 
şau£no
 = 0; cÏu£nØ< 
şau£TrueCÁs_
->
	`size
(); clauseno++)

391 (*
şau£TrueCÁs_
)[
şau£no
] = 0;

392 (*
şau£TrueSqCÁs_
)[
şau£no
] = 0;

394 
numSam¶es_
 = 0;

396 ià(
§veAÎCouÁs_
)

398 
d–‘e
 
®lCÏu£TrueCÁs_
;

399 
®lCÏu£TrueCÁs_
 = 
Ãw
 
A¼ay
<Array<> >;

401 
	}
}

404 
	$§veCÁs
()

406 ià(!
§veAÎCouÁs_
)

412 
d–‘e
 
ŞdAÎCÏu£TrueCÁs_
;

413 
ŞdAÎCÏu£TrueCÁs_
 = 
Ãw
 
A¼ay
<A¼ay<> > (*
®lCÏu£TrueCÁs_
);

420 
	}
}

423 
	$»¡ÜeCÁs
()

425 ià(!
§veAÎCouÁs_
)

428 
	`»£tCÁs
();

430 *
®lCÏu£TrueCÁs_
 = *
ŞdAÎCÏu£TrueCÁs_
;

431 
i
 = 0; i < 
®lCÏu£TrueCÁs_
->
	`size
(); i++)

433 
numcouÁs
 = (*
®lCÏu£TrueCÁs_
)[
i
].
	`size
();

434 
j
 = 0; j < 
numcouÁs
; j++)

436 
cu¼couÁ
 = (*
®lCÏu£TrueCÁs_
)[
i
][
j
];

437 (*
şau£TrueCÁs_
)[
j
] +ğ
cu¼couÁ
;

438 (*
şau£TrueSqCÁs_
)[
j
] +ğ
cu¼couÁ
 * currcount;

440 
numSam¶es_
++;

448 
	}
}

451 
	$ÎyCÁsFromS‹
()

454 
numcouÁs
 = 
şau£TrueCÁs_
->
	`size
();

455 
A¼ay
<> 
	`cu¼CouÁs
(
numcouÁs
, 0.0);

456 
¡©e_
->
	`g‘NumCÏu£Gndšgs
(&
cu¼CouÁs
, 
Œue
);

458 ià(
§veAÎCouÁs_
)

460 
®lCÏu£TrueCÁs_
->
	`­³nd
(
A¼ay
<>());

461 (*
®lCÏu£TrueCÁs_
)[
numSam¶es_
].
	`growToSize
(
numcouÁs
);

464 
i
 = 0; i < 
numcouÁs
; i++)

466 ià(
§veAÎCouÁs_
)

467 (*
®lCÏu£TrueCÁs_
)[
numSam¶es_
][
i
] = 
cu¼CouÁs
[i];

469 (*
şau£TrueCÁs_
)[
i
] +ğ
cu¼CouÁs
[i];

470 (*
şau£TrueSqCÁs_
)[
i
] +ğ
cu¼CouÁs
[i] * currCounts[i];

472 
numSam¶es_
++;

473 
	}
}

475 
	g´Ùeùed
:

478 
£ed_
;

481 
V¬ŸbËS‹
* 
	g¡©e_
;

482 
HV¬ŸbËS‹
* 
	gh¡©e_
;

485 
boŞ
 
	g§veAÎCouÁs_
;

488 
	gA¼ay
<>* 
	gşau£TrueCÁs_
;

489 
	gA¼ay
<>* 
	gşau£TrueCÁsCÚt_
;

493 
	gA¼ay
<>* 
	gşau£TrueSqCÁs_
;

495 
	gnumSam¶es_
;

497 
boŞ
 
	gŒackCÏu£TrueCÁs_
;

500 
	gA¼ay
<A¼ay<> >* 
	g®lCÏu£TrueCÁs_
;

502 
	gA¼ay
<>* 
	gŞdCÏu£TrueCÁs_
;

503 
	gA¼ay
<A¼ay<> >* 
	gŞdAÎCÏu£TrueCÁs_
;

505 
	gA¼ay
<A¼ay<
	gP»diÿ‹
* >* >* 
	gqu”yFÜmuÏs_
;

506 
	gA¼ay
<>* 
	gqfProbs_
;

	@infer/inferenceargs.h

67 #iâdeà
INFERENCEARGS_H_


68 
	#INFERENCEARGS_H_


	)

70 
	~"šãrut.h
"

82 
boŞ
 
	gaisQu”yEvid’û
 = 
çl£
;

85 * 
	gašMLNFes
 = 
NULL
;

88 * 
	gaClo£dWÜldP»dsSŒ
 = 
NULL
;

90 * 
	gaO³nWÜldP»dsSŒ
 = 
NULL
;

93 
boŞ
 
	gam­Pos
 = 
çl£
;

94 
boŞ
 
	gam­AÎ
 = 
çl£
;

96 
boŞ
 
	gagibbsInãr
 = 
çl£
;

98 
boŞ
 
	gamc§tInãr
 = 
çl£
;

100 
boŞ
 
	gasimInãr
 = 
çl£
;

102 
boŞ
 
	gabpInãr
 = 
çl£
;

104 
boŞ
 
	g«fbpInãr
 = 
çl£
;

106 
boŞ
 
	gadecisiÚInãr
 = 
çl£
;

108 
boŞ
 
	gaouutN‘wÜk
 = 
çl£
;

111 
boŞ
 
	gaLazy
 = 
çl£
;

114 
boŞ
 
	gaHybrid
 = 
çl£
;

116 
boŞ
 
	gaSA
 = 
çl£
;

118 * 
	gaPrİo§lStdev
 = (*)"tmp.sd";

119 
boŞ
 
	gbO±imum
 = 
çl£
;

121 * 
	gaCÚtSam¶es
 = 
NULL
;

124 
boŞ
 
	gaMaxOrNÙ
 = 
çl£
;

126 
	gaS“d
 = -1;

128 
	gaMemLim™
 = -1;

130 
boŞ
 
	gaLazyNoAµrox
 = 
çl£
;

134 
	gamwsMaxS‹ps
 = 1000000;

135 
	gamwsTr›s
 = 1;

136 
	gamwsNumSŞutiÚs
 = 10;

137 
	gamwsT¬g‘Wt
 = 0;

138 
boŞ
 
	gamwsH¬d
 = 
çl£
;

139 
	gamwsHeuri¡ic
 = 2;

140 
	gamwsTabuL’gth
 = 10;

141 
boŞ
 
	gamwsLazyLowS‹
 = 
çl£
;

144 
	gassSaR©io
 = 50;

145 
	gassSaTemp
 = 80;

146 
boŞ
 
	gassL©eSa
 = 
Œue
;

147 
	gaSATempDownR©io
 = 0.9;

150 
	gamcmcNumChašs
 = 10;

151 
	gamcmcBuºMšS‹ps
 = 100;

152 
	gamcmcBuºMaxS‹ps
 = 100;

153 
	gamcmcMšS‹ps
 = -1;

154 
	gamcmcMaxS‹ps
 = 1000;

155 
	gamcmcMaxSecÚds
 = -1;

158 
	gagibbsD–
 = 0.05;

159 
	gagibbsEpsÚE¼Ü
 = 0.01;

160 
	gagibbsF¿cCÚv”ged
 = 0.95;

161 
	gagibbsW®k§tTy³
 = 1;

162 
boŞ
 
	gagibbsTe¡CÚv”g’û
 = 
çl£
;

163 
	gagibbsSam¶esP”Te¡
 = 100;

166 
	gasimSubIÁ”v®
 = 2;

167 
	gasimNumST
 = 3;

168 
	gasimNumSw­
 = 10;

171 
boŞ
 
	g®iáedInãr
 = 
çl£
;

172 
boŞ
 
	gau£HC
 = 
çl£
;

173 
boŞ
 
	gau£CT
 = 
çl£
;

174 
	gabpCÚv”g’ûTh»sh
 = 1e-4;

175 
	gabpCÚv”geRequœedIŒCÁ
 = 20;

176 
boŞ
 
	g«x¶ic™R•
 = 
çl£
;

177 
	gahcC»©eTy³
 = 
Basic
;

178 
	gahcC»©eNoi£
 = 0.0;

179 
	g®ncI‹r
 = 0;

181 *
	gªoHCP»dsSŒ
 = 
NULL
;

184 
boŞ
 
	gaşau£CouÁs
 = 
çl£
;

	@infer/inferutil.cpp

67 
	~"šãrut.h
"

69 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

70 
usšg
 
Çme¥aû
 
	g¡d
;

72 
	eO³¿tiÚ
 {

73 
	mUNION
,

74 
	mSUBTRACT
,

75 
	mINTERSECT


78 
İ”©eA¼ayK“pOrd”
(
IÁA¼ay
 * cÚ¡ & 
¬r1
, IÁA¼ay * cÚ¡ & 
¬r2
, 
O³¿tiÚ
 
İ”
);

90 
	$š‹r£ùHashA¼ay
(
IÁHashA¼ay
 * cÚ¡ & 
¬r1
, IÁHashA¼ay * cÚ¡ & 
¬r2
) {

91 
	`š‹r£ùHashA¼ayK“pOrd”
(
¬r1
, 
¬r2
);

92 
	}
}

94 
	$š‹r£ùHashA¼ayK“pOrd”
(
IÁHashA¼ay
 * cÚ¡ & 
¬r1
, IÁHashA¼ay * cÚ¡ & 
¬r2
) {

96 
IÁHashA¼ay
 *
¬rIÁ”£ù
 = 
Ãw
 
	`IÁHashA¼ay
();

97 
–em
;

98 
i
=0;i<
¬r1
->
	`size
();i++) {

99 
–em
 = (*
¬r1
)[
i
];

100 if(
¬r2
->
	`fšd
(
–em
) >= 0){

101 
¬rIÁ”£ù
->
	`­³nd
(
–em
);

104 (*
¬r1
èğ(*
¬rIÁ”£ù
);

105 
¬r1
->
	`com´ess
();

106 
d–‘e
 
¬rIÁ”£ù
;

107 
	}
}

111 
	$uniÚA¼ayK“pOrd”
(
IÁA¼ay
 * cÚ¡ & 
¬r1
, IÁA¼ay * cÚ¡ & 
¬r2
) {

112 
O³¿tiÚ
 
İ”
 = 
UNION
;

113 
	`İ”©eA¼ayK“pOrd”
(
¬r1
, 
¬r2
, 
İ”
);

114 
	}
}

117 
	$š‹r£ùA¼ayK“pOrd”
(
IÁA¼ay
 * cÚ¡ & 
¬r1
, IÁA¼ay * cÚ¡ & 
¬r2
) {

118 
O³¿tiÚ
 
İ”
 = 
INTERSECT
;

119 
	`İ”©eA¼ayK“pOrd”
(
¬r1
, 
¬r2
, 
İ”
);

120 
	}
}

123 
	$subŒaùA¼ayK“pOrd”
(
IÁA¼ay
 * cÚ¡ & 
¬r1
, IÁA¼ay * cÚ¡ & 
¬r2
) {

124 
O³¿tiÚ
 
İ”
 = 
SUBTRACT
;

125 
	`İ”©eA¼ayK“pOrd”
(
¬r1
, 
¬r2
, 
İ”
);

126 
	}
}

131 
	$İ”©eA¼ayK“pOrd”
(
IÁA¼ay
 * cÚ¡ & 
¬r1
, IÁA¼ay * cÚ¡ & 
¬r2
, 
O³¿tiÚ
 
İ”
) {

132 
IÁA¼ay
 *
¬rResuÉ
 = 
Ãw
 
	`IÁA¼ay
();

133 
–em1
, 
–em2
;

135 
šdex1
 = 0;

136 
šdex2
 = 0;

137 
size1
 = 
¬r1
->
	`size
();

138 
size2
 = 
¬r2
->
	`size
();

139 
šdex1
 < 
size1
 && 
šdex2
 < 
size2
) {

140 
–em1
 = (*
¬r1
)[
šdex1
];

141 
–em2
 = (*
¬r2
)[
šdex2
];

142 if(
–em1
 =ğ
–em2
) {

143 if(
İ”
 =ğ
UNION
 || o³¸=ğ
INTERSECT
) {

144 
¬rResuÉ
->
	`­³nd
(
–em1
);

146 
šdex1
++;

147 
šdex2
++;

149 if(
–em1
 < 
–em2
) {

150 if(
İ”
 =ğ
UNION
 || o³¸=ğ
SUBTRACT
) {

151 
¬rResuÉ
->
	`­³nd
(
–em1
);

153 
šdex1
++;

155 if(
–em2
 < 
–em1
) {

156 if(
İ”
 =ğ
UNION
) {

157 
¬rResuÉ
->
	`­³nd
(
–em2
);

159 
šdex2
++;

163 if(
İ”
 =ğ
UNION
 || o³¸=ğ
SUBTRACT
) {

164 ;
šdex1
<
size1
;index1++) {

165 
¬rResuÉ
->
	`­³nd
((*
¬r1
)[
šdex1
]);

169 if(
İ”
 =ğ
UNION
) {

170 ;
šdex2
<
size2
;index2++) {

171 
¬rResuÉ
->
	`­³nd
((*
¬r2
)[
šdex2
]);

175 (*
¬r1
èğ(*
¬rResuÉ
);

176 
¬r1
->
	`com´ess
();

177 
d–‘e
 
¬rResuÉ
;

178 
	}
}

182 
	$Üd”edA¼ayFšd
(
IÁA¼ay
 * cÚ¡ & 
¬r
, 
–em
) {

183 if(
¬r
->
	`size
() == 0)

185 
¡¬t
 = 0;

186 
’d
 = 
¬r
->
	`size
()-1;

187 
šdex
;

189 if(
–em
 < (*
¬r
)[
¡¬t
] ||ƒËm > (*¬r)[
’d
])

192 
¡¬t
 <ğ
’d
) {

193 
šdex
 = (
¡¬t
 + 
’d
)/2;

194 if(
–em
 =ğ(*
¬r
)[
šdex
])

195  
šdex
;

196 if(
–em
 < (*
¬r
)[
šdex
])

197 
’d
 = 
šdex
-1;

198 if(
–em
 > (*
¬r
)[
šdex
])

199 
¡¬t
 = 
šdex
+1;

202 
	}
}

205 
boŞ
 
	$Üd”edA¼ayA»Same
(
IÁA¼ay
 * cÚ¡ & 
¬r1
, IÁA¼ay * cÚ¡ & 
¬r2
) {

206 if(
¬r1
->
	`size
(è!ğ
¬r2
->size())

207  
çl£
;

209 
size
 = 
¬r1
->
	`size
();

210 
i
=0;i<
size
;i++) {

211 if((*
¬r1
)[
i
] !ğ(*
¬r2
)[i])

212  
çl£
;

214  
Œue
;

215 
	}
}

218 
	$sÜtAsûndšg
(
IÁA¼ay
 * cÚ¡ & 
šdiûs
, IÁA¼ay * cÚ¡ & 
v®s
) {

219 
size
 = 
v®s
->
	`size
();

220 
šdiûs
->
	`ş—r
();

221 
i
=0;i<
size
;i++) {

222 
šdiûs
->
	`­³nd
(
i
);

224 
i
=0;i<
size
;i++) {

225 
j
=
i
+1;j<
size
;j++) {

226 
šdexi
 = (*
šdiûs
)[
i
];

227 
šdexj
 = (*
šdiûs
)[
j
];

228 if((*
v®s
)[
šdexi
] > (*v®s)[
šdexj
]) {

229 
tmp
 = (*
šdiûs
)[
i
];

230 (*
šdiûs
)[
i
] = (*šdiûs)[
j
];

231 (*
šdiûs
)[
j
] = 
tmp
;

235 
	}
}

239 
	go¡»am
& 
	$´štA¼ay
(
IÁA¼ay
 & 
¬¿y
, 
o¡»am
& 
out
)

241  
	`´štA¼ay
(
¬¿y
, 0, 
out
);

242 
	}
}

245 
	go¡»am
& 
	$´štA¼ay
(
IÁA¼ay
 & 
¬¿y
, 
begšIndex
, 
o¡»am
& 
out
)

247 
d–im™”
 = ' ';

248 
i
 = 
begšIndex
; i < 
¬¿y
.
	`size
(); i++)

250 
out
<<
¬¿y
[
i
]<<
d–im™”
;

252  
out
;

253 
	}
}

259 
	$g‘MaxV¬Id
(
CÏu£
 * cÚ¡ & 
şau£
) {

260 
P»diÿ‹
 *
´ed
;

261 cÚ¡ 
T”m
 *
‹rm
;

262 
maxV¬Id
 = 0;

263 
´edno
=0;´edno<
şau£
->
	`g‘NumP»diÿ‹s
();predno++) {

264 
´ed
 = 
Ãw
 
	`P»diÿ‹
(*(
şau£
->
	`g‘P»diÿ‹
(
´edno
)));

265 
‹rmno
 = 0;”mnØ< 
´ed
->
	`g‘NumT”ms
();ermno++) {

266 
‹rm
 = 
´ed
->
	`g‘T”m
(
‹rmno
);

267 
v¬Id
 = -
‹rm
->
	`g‘Id
();

268 
	`as£¹
(
v¬Id
 > 0);

269 if(
v¬Id
 > 
maxV¬Id
)

270 
maxV¬Id
 = 
v¬Id
;

273  
maxV¬Id
;

274 
	}
}

277 
boŞ
 
	$cÚšsDu¶iÿ‹V¬ŸbË
(
P»diÿ‹
 * cÚ¡ & 
´ed
) {

278 
IÁHashA¼ay
 *
uniqueV¬Ids
 = 
Ãw
 
	`IÁHashA¼ay
();

279 
‹rmCÁ
 = 
´ed
->
	`g‘NumT”ms
();

280 
‹rmno
 = 0;”mnØ< 
‹rmCÁ
;ermno++)

282 cÚ¡ 
T”m
 *
‹rm
 = 
´ed
->
	`g‘T”m
(
‹rmno
);

283 if(
‹rm
->
	`isCÚ¡ªt
())

285 
v¬Id
 = 
‹rm
->
	`g‘Id
();

286 if(
uniqueV¬Ids
->
	`fšd
(
v¬Id
) >= 0) {

287 
d–‘e
 
uniqueV¬Ids
;

288  
Œue
;

290 
uniqueV¬Ids
->
	`­³nd
(
v¬Id
);

293 
d–‘e
 
uniqueV¬Ids
;

294  
çl£
;

295 
	}
}

	@infer/inferutil.h

67 #iâdeà
_INFER_UTIL_H_MAY_2008


68 
	#_INFER_UTIL_H_MAY_2008


	)

70 
	~<¡dlib.h
>

71 
	~<as£¹.h
>

72 
	~<io¡»am
>

74 
	~"¬¿y.h
"

75 
	~"hashšt.h
"

76 
	~"şau£.h
"

78 
	~<ext/hash_m­
>

79 
	~<ext/hash_£t
>

82 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

83 
usšg
 
Çme¥aû
 
	g¡d
;

85 cÚ¡ 
	gMAX_INT
 = 2147483647;

91 
	ghash_m­
<, , 
	tHashIÁ
, 
	tEqu®IÁ
> 
	tIÁToIÁM­
;

92 
	gA¼ay
<> 
	tIÁA¼ay
;

93 
	ghash_m­
<,
	tIÁHashA¼ay
*,
	tHashIÁ
,
	tEqu®IÁ
> 
	tIÁToIÁHashA¼ayM­
;

95 
	eHy³rCubeC»©eTy³
 {

96 
	mBasic
,

97 
	mDT


110 
š‹r£ùHashA¼ay
(
IÁHashA¼ay
 * cÚ¡ & 
¬r1
, IÁHashA¼ay * cÚ¡ & 
¬r2
);

111 
š‹r£ùHashA¼ayK“pOrd”
(
IÁHashA¼ay
 * cÚ¡ & 
¬r1
, IÁHashA¼ay * cÚ¡ & 
¬r2
);

115 
uniÚA¼ayK“pOrd”
(
IÁA¼ay
 * cÚ¡ & 
¬r1
, IÁA¼ay * cÚ¡ & 
¬r2
);

118 
š‹r£ùA¼ayK“pOrd”
(
IÁA¼ay
 * cÚ¡ & 
¬r1
, IÁA¼ay * cÚ¡ & 
¬r2
);

121 
subŒaùA¼ayK“pOrd”
(
IÁA¼ay
 * cÚ¡ & 
¬r1
, IÁA¼ay * cÚ¡ & 
¬r2
);

124 
Üd”edA¼ayFšd
(
IÁA¼ay
 * cÚ¡ & 
¬r
, 
–em
);

127 
boŞ
 
Üd”edA¼ayA»Same
(
IÁA¼ay
 * cÚ¡ & 
¬r1
, IÁA¼ay * cÚ¡ & 
¬r2
);

130 
sÜtAsûndšg
(
IÁA¼ay
 * cÚ¡ & 
šdiûs
, IÁA¼ay * cÚ¡ & 
v®s
);

133 
	go¡»am
& 
´štA¼ay
(
IÁA¼ay
 & 
¬¿y
, 
o¡»am
& 
out
);

136 
	go¡»am
& 
´štA¼ay
(
IÁA¼ay
 & 
¬¿y
, 
begšIndex
, 
o¡»am
& 
out
);

139 
g‘MaxV¬Id
(
CÏu£
 * cÚ¡ & 
şau£
);

142 
boŞ
 
cÚšsDu¶iÿ‹V¬ŸbË
(
P»diÿ‹
 * cÚ¡ & 
´ed
);

	@infer/joinhypercube.cpp

70 
	~<ext/hash_£t
>

71 
	~<ext/hash_m­
>

73 
	~"ut.h
"

74 
	~"hy³rcube.h
"

75 
	~"hy³rcub”ev”£šdex.h
"

76 
	~"·¹Ÿlgndhùu¶e.h
"

77 
	~"šãrut.h
"

78 
	~"su³rşau£.h
"

81 
usšg
 
Çme¥aû
 
	g¡d
;

82 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

86 
	gA¼ay
<
	gHy³rCube
 *> * 
	$g‘JošHy³rCubes
(
P¬tŸlGndHCTu¶e
 * cÚ¡ & 
pgTu¶e
,

87 
Hy³rCubeRev”£Index
 * cÚ¡ & 
´edHCRev”£Index
,

88 
P»diÿ‹
 * cÚ¡ & 
´ed
)

90 
IÁToIÁM­
 *
jošV¬IdToP»dT”mNo
 = 
Ãw
 
	`IÁToIÁM­
();

91 
IÁToIÁM­
::
™”©Ü
 
™r
;

93 
IÁHashA¼ay
 *
jošHCIndiûs
, *
hcIndiûs
;

94 
IÁHashA¼ay
 *
£’V¬Ids
 = 
Ãw
 
	`IÁHashA¼ay
();

96 
‹rmno
=0;”mno<
´ed
->
	`g‘NumT”ms
();termno++) {

97 cÚ¡ 
T”m
 * 
‹rm
 = 
´ed
->
	`g‘T”m
(
‹rmno
);

98 
v¬Id
 = -
‹rm
->
	`g‘Id
();

101 if(
£’V¬Ids
->
	`fšd
(
v¬Id
) >= 0)

104 
£’V¬Ids
->
	`­³nd
(
v¬Id
);

106 if(!
pgTu¶e
->
	`isV¬Gnded
(
v¬Id
))

108 (*
jošV¬IdToP»dT”mNo
)[
v¬Id
] = 
‹rmno
+1;

111 
d–‘e
 
£’V¬Ids
;

115 if(
jošV¬IdToP»dT”mNo
->
	`em±y
()) {

116 
d–‘e
 
jošV¬IdToP»dT”mNo
;

117  
´edHCRev”£Index
->
	`g‘AÎHy³rCubes
();

120 
™r
 = 
jošV¬IdToP»dT”mNo
->
	`begš
();

121 
™r
 !ğ
jošV¬IdToP»dT”mNo
->
	`’d
();

122 
™r
++) {

124 
jošV¬Id
 = 
™r
->
fœ¡
;

125 
´edT”mNo
 = 
™r
->
£cÚd
;

126 
»fJošV¬Id
 = 
pgTu¶e
->
	`g‘Reã»nûV¬Id
(
jošV¬Id
);

127 
IÁA¼ay
 *
v¬CÚ¡ªts
 = 
pgTu¶e
->
	`g‘V¬CÚ¡ªts
(
»fJošV¬Id
);

139 
»fP»dT”mNo
 = 
´edHCRev”£Index
->
	`g‘Reã»nûV¬Id
(
´edT”mNo
);

140 
hcIndiûs
 = 
´edHCRev”£Index
->
	`g‘Hy³rCubeIndiûs
(
v¬CÚ¡ªts
,
»fP»dT”mNo
);

143 if(
™r
 =ğ
jošV¬IdToP»dT”mNo
->
	`begš
()) {

144 
jošHCIndiûs
 = 
hcIndiûs
;

149 
	`š‹r£ùHashA¼ay
(
jošHCIndiûs
,
hcIndiûs
);

151 
d–‘e
 
hcIndiûs
;

155 
A¼ay
<
Hy³rCube
 *> * 
jošHy³rCubes
 = 
´edHCRev”£Index
->
	`g‘Hy³rCubes
(
jošHCIndiûs
);

156 
d–‘e
 
jošHCIndiûs
;

157 
d–‘e
 
jošV¬IdToP»dT”mNo
;

159  
jošHy³rCubes
;

160 
	}
}

165 
	gA¼ay
<
	gHy³rCube
 *> *
g‘CÏu£Hy³rCubes
(
CÏu£
 * cÚ¡ & 
şau£
,

166 
Su³rCÏu£
 * cÚ¡ & 
su³rCÏu£
,

167 
A¼ay
<
Hy³rCubeRev”£Index
 *> * cÚ¡ & 
´edHCRev”£IndexA¼
,

168 
A¼ay
<
Hy³rCubeRefšem’t
 *> * cÚ¡ & 
hy³rCubeRefšem’tA¼
,

169 
IÁHashA¼ay
 * cÚ¡ & 
unknownP»dIds
,

170 
IÁA¼ayHashA¼ay
 * cÚ¡ & 
ÃqCÚ¡¿šts
,

171 
boŞ
 
u£CT
,

172 
Domaš
 * cÚ¡ & 
domaš
) {

174 
	gA¼ay
<
	gHy³rCube
 *> * 
	gşau£Hy³rCubes
 = 
NULL
;

176 
	gA¼ay
<
	gHy³rCube
 *> * 
	gjošHy³rCubes
, *
	ghy³rCubes
;

177 
P¬tŸlGndHCTu¶e
 *
	gpgTu¶e
, *
	gjošedPGTu¶e
;

178 
Hy³rCubeRev”£Index
 *
	g´edHCRev”£Index
;

179 
Hy³rCube
 *
	ghy³rCube
, *
	gjošHy³rCube
;

180 
P»diÿ‹
 * 
	g´ed
;

182 
	gA¼ay
<> *
	gv¬IdToCªÚiÿlV¬Id
;

183 
	gA¼ay
<
	gP¬tŸlGndHCTu¶e
 *> *
	gpgTu¶es
 = 
Ãw
 
A¼ay
<
P¬tŸlGndHCTu¶e
 *>();

184 cÚ¡ 
	gA¼ay
<
	gP»diÿ‹
 *> *
	g´eds
 = 
şau£
->
g‘P»diÿ‹s
();

186 
	gpgTu¶e
 = 
Ãw
 
P¬tŸlGndHCTu¶e
(
şau£
, 
u£CT
);

187 
	gpgTu¶es
->
­³nd
(
pgTu¶e
);

190 if(!
	gsu³rCÏu£
)

191 
	gşau£Hy³rCubes
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>();

193 
	gtu¶eCÁ
 = 0;

194 
	gpgTu¶es
->
size
() > 0) {

195 
	gpgTu¶e
 = 
pgTu¶es
->
»moveLa¡I‹m
();

196 
	gpšdex
 = 
pgTu¶e
->
g‘Fœ¡UnGndP»dIndex
();

197 
as£¹
(
pšdex
 >= 0);

198 
	g´ed
 = (*
´eds
)[
pšdex
];

201 
	g´edHCRev”£Index
 = (*
´edHCRev”£IndexA¼
)[
pšdex
];

204 
	gjošHy³rCubes
 = 
g‘JošHy³rCubes
(
pgTu¶e
,
´edHCRev”£Index
,
´ed
);

206 
	gi
=0;i<
	gjošHy³rCubes
->
size
();i++) {

207 
	gjošHy³rCube
 = (*
jošHy³rCubes
)[
i
];

215 
	gjošedPGTu¶e
 = 
Ãw
 
P¬tŸlGndHCTu¶e
(
pgTu¶e
);

216 
	gjošedPGTu¶e
->
još
(
jošHy³rCube
, 
pšdex
);

217 if(
	gjošedPGTu¶e
->
isGnded
()) {

218 
	gjošedPGTu¶e
->
ü—‹CÚ¡¿šedHy³rCubes
(
ÃqCÚ¡¿šts
);

219 
	gjošedPGTu¶e
->
upd©eHy³rCubeRefšem’t
(
hy³rCubeRefšem’tA¼
,
unknownP»dIds
);

220 
	ghy³rCubes
 = 
jošedPGTu¶e
->
g‘CÚ¡¿šedHy³rCubes
();

225 
	ghšdex
=0;hšdex<
	ghy³rCubes
->
size
();hindex++) {

226 
	ghy³rCube
 = (*
hy³rCubes
)[
hšdex
];

227 if(
	gsu³rCÏu£
 =ğ
NULL
) {

228 
şau£Hy³rCubes
->
­³nd
(
hy³rCube
);

230 
	gv¬IdToCªÚiÿlV¬Id
 = 
su³rCÏu£
->
g‘V¬IdToCªÚiÿlV¬Id
();

238 
	gút
 = 
hy³rCube
->
ÿnÚiÿlize
(
v¬IdToCªÚiÿlV¬Id
);

246 
	gsu³rCÏu£
->
addNewHy³rCubeAndInüem’tCouÁ
(
hy³rCube
,
út
);

247 
	gtu¶eCÁ
++;

250 
d–‘e
 
	gjošedPGTu¶e
;

252 
	gpgTu¶es
->
­³nd
(
jošedPGTu¶e
);

256 
d–‘e
 
	gjošHy³rCubes
;

257 
d–‘e
 
	gpgTu¶e
;

260 
d–‘e
 
	gpgTu¶es
;

262  
	gşau£Hy³rCubes
;

	@infer/link.h

67 #iâdeà
_LINK_H_Jª_2008


68 
	#_LINK_H_Jª_2008


	)

70 
	~"ut.h
"

71 
	~"mrf.h
"

72 
	~"¬¿y.h
"

73 
	~<m©h.h
>

75 
usšg
 
Çme¥aû
 
	g¡d
;

76 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

78 
şass
 
	gNode
;

79 
şass
 
	gFaùÜ
;

86 şas 
	cLšk


88 
	mpublic
:

90 
	$Lšk
(
Node
 * cÚ¡ & 
node
, 
FaùÜ
 * cÚ¡ & 
çùÜ
,

91 & 
»v”£NodeIndex
, & 
»v”£FaùÜIndex
,

92 & 
´edIndex
, & 
út
)

94 
node_
 = 
node
;

95 
çùÜ_
 = 
çùÜ
;

96 
»v”£NodeIndex_
 = 
»v”£NodeIndex
;

97 
»v”£FaùÜIndex_
 = 
»v”£FaùÜIndex
;

98 
´edIndex_
 = 
´edIndex
;

99 
út_
 = 
út
;

102 
Node
 * 
	$g‘Node
(è{  
node_
;
	}
}

103 
FaùÜ
 * 
	$g‘FaùÜ
(è{ 
çùÜ_
;
	}
}

104 
	$g‘Rev”£NodeIndex
(è{  
»v”£NodeIndex_
;
	}
}

105 
	$g‘Rev”£FaùÜIndex
(è{  
»v”£FaùÜIndex_
;
	}
}

106 
	$g‘P»dIndex
(è{  
´edIndex_
;
	}
}

107 
	$g‘CouÁ
(è{ 
út_
;
	}
}

109 
	go¡»am
& 
´št
(
o¡»am
& 
out
);

111 
	g´iv©e
:

112 
Node
 * 
node_
;

113 
FaùÜ
 * 
	gçùÜ_
;

114 
	g»v”£NodeIndex_
;

115 
	g»v”£FaùÜIndex_
;

118 
	g´edIndex_
;

119 
	gút_
;

	@infer/maxwalksat.h

66 #iâdeà
MAXWALKSAT_H


67 
	#MAXWALKSAT_H


	)

69 
	~<cæßt
>

70 
	~<uni¡d.h
>

71 
	~<sys/time.h
>

72 
	~<sys/»sourû.h
>

73 
	~<c¡ršg
>

74 
	~<s¡»am
>

75 
	~<f¡»am
>

76 
	~"¬¿y.h
"

77 
	~"tim”.h
"

78 
	~"ut.h
"

79 
	~"§t.h
"

80 
	~"maxw®k§¬ams.h
"

82 cÚ¡ 
boŞ
 
	gmwsdebug
 = 
çl£
;

94 şas 
	cMaxW®kS©
 : 
public
 
SAT


96 
public
:

101 
	$MaxW®kS©
(
V¬ŸbËS‹
* 
¡©e
, 
£ed
, cÚ¡ 
boŞ
& 
ŒackCÏu£TrueCÁs
,

102 
MaxW®k§tP¬ams
* 
·¿ms
)

103 : 
	`SAT
(
¡©e
, 
£ed
, 
ŒackCÏu£TrueCÁs
), 
	$´štInfo_
(
Œue
)

105 
numAtoms
 = 
¡©e_
->
	`g‘NumAtoms
();

108 
maxS‹ps_
 = 
·¿ms
->
maxS‹ps
;

109 
maxTr›s_
 = 
·¿ms
->
maxTr›s
;

110 
rg‘Co¡_
 = 
·¿ms
->
rg‘Co¡
;

111 
h¬d_
 = 
·¿ms
->
h¬d
;

113 
¡©e_
->
	`£tB»akH¬dCÏu£s
(
h¬d_
);

114 
numSŞutiÚs_
 = 
·¿ms
->
numSŞutiÚs
;

115 
heuri¡ic_
 = 
·¿ms
->
heuri¡ic
;

116 
buL’gth_
 = 
·¿ms
->
buL’gth
;

117 
ÏzyLowS‹_
 = 
·¿ms
->
ÏzyLowS‹
;

119 
§R©io_
 = 
·¿ms
->
ssP¬ams
->
§R©io
;

120 
§Temp_
 = 
·¿ms
->
ssP¬ams
->
§Temp
;

121 
Ï‹Sa_
 = 
·¿ms
->
ssP¬ams
->
Ï‹Sa
;

124 ià(
heuri¡ic_
 =ğ
TABU
 || heuri¡ic_ =ğ
SS
)

125 
chªged_
.
	`growToSize
(
numAtoms
 + 1);

126 
numFls_
 = 0;

129 
num”©Ü_
 = 50;

130 
d’omš©Ü_
 = 100;

132 
šBlock_
 = -1;

133 
æInBlock_
 = 
NOVALUE
;

136 
idx
 = 0;

137 
pickcode
[
idx
++] = &
MaxW®kS©
::
pickRªdom
;

138 
pickcode
[
idx
++] = &
MaxW®kS©
::
pickBe¡
;

139 
pickcode
[
idx
++] = &
MaxW®kS©
::
pickTabu
;

140 
pickcode
[
idx
++] = &
MaxW®kS©
::
pickSS
;

146 ~
	$MaxW®kS©
()

155 
	}
}

161 
	$š™
()

164 ià(
heuri¡ic_
 =ğ
TABU
 || heuri¡ic_ =ğ
SS
)

166 if(
heuri¡ic_
 =ğ
TABU
)

168 if(
mwsdebug
)
cout
<<"heuri¡iøi bu..."<<
’dl
;

170 if(
heuri¡ic_
 =ğ
SS
)

172 if(
mwsdebug
)
cout
<<"heuri¡iøi ss..."<<
’dl
;

174 
numAtoms
 = 
¡©e_
->
	`g‘NumAtoms
();

175 ià(
chªged_
.
	`size
(è!ğ
numAtoms
 + 1)

177 ià(
chªged_
.
	`size
(è< 
numAtoms
 + 1)

178 
chªged_
.
	`growToSize
(
numAtoms
 + 1);

180 
chªged_
.
	`shrškToSize
(
numAtoms
 + 1);

182 
i
 = 1; i <ğ
numAtoms
; i++)

183 
chªged_
[
i
] = -(
buL’gth_
 + 1);

185 
¡©e_
->
	`š™Rªdom
();

186 
	}
}

191 
	$šãr
()

193 
numŒy
 = 0;

194 
numsucûs¡ry
 = 0;

195 
lowCo¡
 = 
LDBL_MAX
;

204 
numsucûs¡ry
 < 
numSŞutiÚs_
 && 
numŒy
 < 
maxTr›s_
)

206 
numŒy
++;

207 
numFls_
 = 0;

208 
ŒyLowCo¡
 = 
LDBL_MAX
;

209 
ŒyLowBad
 = 
INT_MAX
;

210 
boŞ
 
lowS‹InThisTry
 = 
çl£
;

211 ià(
ÏzyLowS‹_
)

212 
v¬sFl³dSšûLowS‹_
.
	`ş—r
();

216 ià(
numŒy
 > 1 && 
numsucûs¡ry
 =ğ0è
	`š™
();

218 ià(
´štInfo_
 || 
mwsdebug
)

220 
cout
 << "\nIÀthbegšnšg oàŒy " << 
numŒy
 << ": " << 
’dl
;

221 
cout
 << "Numb” oàşau£s: " << 
¡©e_
->
	`g‘NumCÏu£s
(è<< 
’dl
;

222 
cout
 << "Numb” oàçl£ cÏu£s: " << 
¡©e_
->
	`g‘NumF®£CÏu£s
()

223 << 
’dl
;

224 
cout
 << "Co¡ oàçl£ cÏu£s: " << 
¡©e_
->
	`g‘Co¡OfF®£CÏu£s
()

225 << 
’dl
;

226 
cout
 << "T¬g‘ co¡: " << 
rg‘Co¡_
 << 
’dl
;

229 
numFls_
 < 
maxS‹ps_
 && 
numsucûs¡ry
 < 
numSŞutiÚs_
)

231 
numFls_
++;

232 if(
mwsdebug
)

234 
cout
 << "cu¼’ˆ¡©befÜæpšg:" << 
’dl
;

235 
¡©e_
->
	`´štCu¼’tS‹
(
cout
);

237 
	`æAtom
((
this
->*(
pickcode
[
heuri¡ic_
]))());

238 if(
mwsdebug
)

240 
cout
 << "cu¼’ˆ¡©aá” flpšg:" << 
’dl
;

241 
¡©e_
->
	`´štCu¼’tS‹
(
cout
);

244 ià(
šBlock_
 > -1)

246 ià(
mwsdebug
)

248 
cout
 << "IÀblock " << 
šBlock_
 << ": fl‡tom " << 
æInBlock_


249 << 
’dl
;

251 
	`æAtom
(
æInBlock_
);

255 
šBlock_
 = -1;

256 
æInBlock_
 = 
NOVALUE
;

258 
co¡OfF®£CÏu£s
 = 
¡©e_
->
	`g‘Co¡OfF®£CÏu£s
();

260 ià(
co¡OfF®£CÏu£s
 < 
ŒyLowCo¡
)

262 
ŒyLowCo¡
 = 
co¡OfF®£CÏu£s
;

263 
ŒyLowBad
 = 
¡©e_
->
	`g‘NumF®£CÏu£s
();

269 ià((
co¡OfF®£CÏu£s
 <ğ
rg‘Co¡_
 + 0.0001 &&

270 
co¡OfF®£CÏu£s
 <ğ
lowCo¡
) || (costOfFalseClauses <†owCost))

272 ià(
mwsdebug
)

274 
cout
 << "Co¡ oàçl£ cÏu£s: " << 
co¡OfF®£CÏu£s


275 << "†es thª†owe¡ co¡: " << 
lowCo¡
 << 
’dl
;

277 
lowCo¡
 = 
co¡OfF®£CÏu£s
;

278 ià(!
ÏzyLowS‹_
)

280 
¡©e_
->
	`§veLowS‹
();

284 
v¬sFl³dSšûLowS‹_
.
	`ş—r
();

285 
lowS‹InThisTry
 = 
Œue
;

292 ià(
co¡OfF®£CÏu£s
 <ğ
rg‘Co¡_
 + 0.0001)

293 
numsucûs¡ry
++;

296 ià(
lowS‹InThisTry
)

297 
	`»cÚ¡ruùLowS‹
();

298 
¡©e_
->
	`§veLowS‹ToDB
();

300 ià(
´štInfo_
 || 
mwsdebug
)

302 
cout
<< "IÀth’d oàŒy " << 
numŒy
 << ": " << 
’dl
;

303 
cout
<< "Lowe¡‚um. oàçl£ cÏu£s: " << 
ŒyLowBad
 << 
’dl
;

304 
cout
<< "Lowe¡ co¡ oàçl£ cÏu£s: " << 
ŒyLowCo¡
 << 
’dl
;

305 
cout
<< "Numb” oàæs: " << 
numFls_
 << 
’dl
;

311 ià(
ŒackCÏu£TrueCÁs_
)

313 if(
mwsdebug
è
cout
<<"ÿÎšg®lyCÁsFromS‹()..."<<
’dl
;

314 
	`ÎyCÁsFromS‹
();

316 
	}
}

318 cÚ¡ 
	$g‘Heuri¡ic
()

320  
heuri¡ic_
;

321 
	}
}

323 
	$£tHeuri¡ic
(cÚ¡ & 
heuri¡ic
)

325 
heuri¡ic_
 = 
heuri¡ic
;

326 
	}
}

328 
	$g‘MaxS‹ps
()

330  
maxS‹ps_
;

331 
	}
}

333 
	$£tMaxS‹ps
(cÚ¡ & 
maxS‹ps
)

335 
maxS‹ps_
 = 
maxS‹ps
;

336 
	}
}

338 
	$£tPrštInfo
(cÚ¡ 
boŞ
& 
´štInfo
)

340 
´štInfo_
 = 
´štInfo
;

341 
	}
}

343 cÚ¡ 
boŞ
 
	$g‘PrštInfo
()

345  
´štInfo_
;

346 
	}
}

348 
	g´Ùeùed
:

356 
	$æAtom
(
toFl
)

358 ià(
mwsdebug
è
cout
 << "EÁ”šg MaxW®kS©::æAtom : " << 
’dl
;

360 ià(
toFl
 =ğ
NOVALUE
)

362 if(
mwsdebug
)
cout
<<"nÙhšgØbæ³d...."<<
’dl
;

368 
¡©e_
->
	`æAtom
(
toFl
, 
šBlock_
);

370 ià(
heuri¡ic_
 =ğ
TABU
 || heuri¡ic_ =ğ
SS
)

372 
chªged_
.
	`growToSize
(
¡©e_
->
	`g‘NumAtoms
(è+ 1, -(
buL’gth_
 + 1));

373 
chªged_
[
toFl
] = 
numFls_
;

376 ià(
ÏzyLowS‹_
)

381 ià(
v¬sFl³dSšûLowS‹_
.
	`fšd
(
toFl
) !=

382 
v¬sFl³dSšûLowS‹_
.
	`’d
())

384 ià(
mwsdebug
)

389 
v¬sFl³dSšûLowS‹_
.
	`”a£
(
toFl
);

393 ià(
mwsdebug
)

398 
v¬sFl³dSšûLowS‹_
.
	`š£¹
(
toFl
);

402 
	}
}

410 
	$pickRªdom
()

413 
	`as£¹
(
šBlock_
 == -1);

414 
©omIdx
 = 
¡©e_
->
	`g‘IndexOfAtomInRªdomF®£CÏu£
();

415 ià(
©omIdx
 =ğ
NOVALUE
)  NOVALUE;

416 ià(
¡©e_
->
	`g‘Im´ovem’tByFlpšg
(
©omIdx
è=ğ-
LDBL_MAX
è 
NOVALUE
;

419 
boŞ
 
ignÜeAùiveP»ds
 = 
çl£
;

420 
boŞ
 
groundOÆy
 = 
çl£
;

421 ià(!
¡©e_
->
	`aùiv©eAtom
(
©omIdx
, 
ignÜeAùiveP»ds
, 
groundOÆy
))

422  
NOVALUE
;

425 
blockIdx
 = 
¡©e_
->
	`g‘BlockIndex
(
©omIdx
 - 1);

426 ià(
blockIdx
 >= 0)

430 ià(
¡©e_
->
	`g‘Domaš
()->
	`g‘BlockEvid’û
(
blockIdx
) ||

431 
¡©e_
->
	`g‘Domaš
()->
	`g‘BlockSize
(
blockIdx
) == 1)

432  
NOVALUE
;

436 
blockSize
 = 
¡©e_
->
	`g‘Domaš
()->
	`g‘BlockSize
(
blockIdx
);

438 ià(
¡©e_
->
	`g‘V®ueOfAtom
(
©omIdx
) == 0)

440 
i
 = 0; i < 
blockSize
; i++)

442 cÚ¡ 
P»diÿ‹
* 
´ed
 =

443 
¡©e_
->
	`g‘Domaš
()->
	`g‘P»dInBlock
(
i
, 
blockIdx
);

444 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
((
P»diÿ‹
*)
´ed
);

446 
idx
 = 
¡©e_
->
	`g‘IndexOfGroundP»diÿ‹
(
gndP»d
);

448 
d–‘e
 
gndP»d
;

449 
d–‘e
 
´ed
;

452 ià(
idx
 >= 0)

454 ià(
¡©e_
->
	`g‘V®ueOfAtom
(
idx
 + 1) == 1)

456 
šBlock_
 = 
blockIdx
;

457 
æInBlock_
 = 
idx
 + 1;

458  
©omIdx
;

466 
boŞ
 
ok
 = 
çl£
;

467 !
ok
)

469 cÚ¡ 
P»diÿ‹
* 
´ed
 =

470 
¡©e_
->
	`g‘Domaš
()->
	`g‘RªdomP»dInBlock
(
blockIdx
);

471 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
((
P»diÿ‹
*)
´ed
);

473 
idx
 = 
¡©e_
->
	`g‘IndexOfGroundP»diÿ‹
(
gndP»d
);

475 
d–‘e
 
gndP»d
;

476 
d–‘e
 
´ed
;

478 ià(
idx
 + 1 !ğ
©omIdx
)

480 
šBlock_
 = 
blockIdx
;

481 
æInBlock_
 = 
idx
 + 1;

482  
©omIdx
;

489  
©omIdx
;

490 
	}
}

498 
	$pickBe¡
()

502 
boŞ
 
noisyPick
 = (
num”©Ü_
 > 0 && 
	`¿ndom
()%
d’omš©Ü_
 <‚umerator_);

503 ià(
noisyPick
)

504  
	`pickRªdom
();

506 
	`as£¹
(
šBlock_
 == -1);

508 
toFix
 = 
¡©e_
->
	`g‘RªdomF®£CÏu£Index
();

509 ià(
toFix
 =ğ
NOVALUE
)  NOVALUE;

511 ià(
mwsdebug
è
cout
 << "LookšgØfix cÏu£ " << 
toFix
 << 
’dl
;

513 
şau£Size
 = 
¡©e_
->
	`g‘CÏu£Size
(
toFix
);

514 
co¡
 = 
¡©e_
->
	`g‘CÏu£Co¡
(
toFix
);

516 
im´ovem’t
;

518 
A¼ay
<A¼ay<> > 
ÿnNÙFl
;

521 
A¼ay
<A¼ay<> > 
ÿndid©eBlockedV¬s
;

522 
A¼ay
<A¼ay<> > 
Ùh”sToFl
;

523 
A¼ay
<> 
blockIdx
;

525 
ÿnNÙFl
.
	`growToSize
(
şau£Size
);

526 
ÿndid©eBlockedV¬s
.
	`growToSize
(
şau£Size
);

527 
Ùh”sToFl
.
	`growToSize
(
şau£Size
);

528 
blockIdx
.
	`growToSize
(
şau£Size
);

531 
A¼ay
<> 
be¡
;

533 
numbe¡
 = 0;

535 
be¡v®ue
 = -
LDBL_MAX
;

538 
i
 = 0; i < 
şau£Size
; i++)

540 
l™
 = 
¡©e_
->
	`g‘AtomInCÏu£
(
i
, 
toFix
);

542 ià(
co¡
 < 0 && !
¡©e_
->
	`isTrueL™”®
(
l™
)) ;

544 
v¬
 = 
	`abs
(
l™
);

546 ià(
¡©e_
->
	`isFixedAtom
(
v¬
)) ;

547 
boŞ
 
ignÜeAùiveP»ds
 = 
çl£
;

548 
boŞ
 
groundOÆy
 = 
çl£
;

549 ià(!
¡©e_
->
	`aùiv©eAtom
(
v¬
, 
ignÜeAùiveP»ds
, 
groundOÆy
))

550  
NOVALUE
;

552 
im´ovem’t
 = 
	`ÿlcuÏ‹Im´ovem’t
(
v¬
, 
ÿnNÙFl
[
i
],

553 
ÿndid©eBlockedV¬s
[
i
],

554 
Ùh”sToFl
[
i
], 
blockIdx
[i]);

555 ià(
mwsdebug
)

556 
cout
 << "Im´ovem’ˆoàv¬ " << 
v¬
 << " is: " << 
im´ovem’t
 << 
’dl
;

558 ià(
im´ovem’t
 > -
LDBL_MAX
 && im´ovem’ˆ>ğ
be¡v®ue
)

560 ià(
im´ovem’t
 > 
be¡v®ue
)

562 
numbe¡
 = 0;

563 
be¡
.
	`ş—r
();

565 
be¡v®ue
 = 
im´ovem’t
;

566 
be¡
.
	`­³nd
(
i
);

567 
numbe¡
++;

572 ià(
numbe¡
 =ğ0è 
NOVALUE
;

575 
toFl
 = 
be¡
[
	`¿ndom
()%
numbe¡
];

578 ià(
numbe¡
 == 1)

579 
toFl
 = 
be¡
[0];

580 
toFlAtom
 = 
	`abs
(
¡©e_
->
	`g‘AtomInCÏu£
(
toFl
, 
toFix
));

582 ià(
blockIdx
[
toFl
] > -1)

585 ià(
ÿnNÙFl
[
toFl
].
	`cÚšs
(
toFlAtom
))

586 
toFlAtom
 = 
NOVALUE
;

589 
idx
 = 
ÿndid©eBlockedV¬s
[
toFl
].
	`fšd
(
toFlAtom
);

590 ià(
idx
 >= 0)

592 
šBlock_
 = 
blockIdx
[
toFl
];

593 
æInBlock_
 = 
Ùh”sToFl
[
toFl
][
idx
];

599  
toFlAtom
;

600 
	}
}

607 
	$pickTabu
()

610 
	`as£¹
(
šBlock_
 == -1);

612 
toFix
 = 
¡©e_
->
	`g‘RªdomF®£CÏu£Index
();

613 ià(
toFix
 =ğ
NOVALUE
)

616  
NOVALUE
;

618 ià(
mwsdebug
è
cout
 << "LookšgØfix cÏu£ " << 
toFix
 << 
’dl
;

620 
şau£Size
 = 
¡©e_
->
	`g‘CÏu£Size
(
toFix
);

621 
co¡
 = 
¡©e_
->
	`g‘CÏu£Co¡
(
toFix
);

623 
im´ovem’t
;

625 
A¼ay
<A¼ay<> > 
ÿnNÙFl
;

628 
A¼ay
<A¼ay<> > 
ÿndid©eBlockedV¬s
;

629 
A¼ay
<A¼ay<> > 
Ùh”sToFl
;

630 
A¼ay
<> 
blockIdx
;

632 
ÿnNÙFl
.
	`growToSize
(
şau£Size
);

633 
ÿndid©eBlockedV¬s
.
	`growToSize
(
şau£Size
);

634 
Ùh”sToFl
.
	`growToSize
(
şau£Size
);

635 
blockIdx
.
	`growToSize
(
şau£Size
);

638 
A¼ay
<> 
be¡
;

640 
numbe¡
 = 0;

642 
be¡v®ue
 = -
LDBL_MAX
;

645 
boŞ
 
noisyPick
 = (
num”©Ü_
 > 0 && 
	`¿ndom
()%
d’omš©Ü_
 <‚umerator_);

648 ià(
noisyPick
)

650 
i
 = 0; i < 
şau£Size
; i++)

652 
l™
 = 
¡©e_
->
	`g‘AtomInCÏu£
(
i
, 
toFix
);

654 ià(
co¡
 < 0 && !
¡©e_
->
	`isTrueL™”®
(
l™
)) ;

656 
v¬
 = 
	`abs
(
l™
);

658 ià(
¡©e_
->
	`isFixedAtom
(
v¬
)) ;

659 
boŞ
 
ignÜeAùiveP»ds
 = 
çl£
;

660 
boŞ
 
groundOÆy
 = 
çl£
;

661 ià(!
¡©e_
->
	`aùiv©eAtom
(
v¬
, 
ignÜeAùiveP»ds
, 
groundOÆy
))

662  
NOVALUE
;

665 
	`ÿlcuÏ‹Im´ovem’t
(
v¬
, 
ÿnNÙFl
[
i
],

666 
ÿndid©eBlockedV¬s
[
i
],

667 
Ùh”sToFl
[
i
], 
blockIdx
[i]);

673 
b»akco¡
=
¡©e_
->
	`g‘B»akCo¡
(
v¬
);

674 ià(
buL’gth_
<
numFls_
-
chªged_
[
v¬
] || 
b»akco¡
==0) {

675 
be¡
.
	`­³nd
(
i
);

676 
numbe¡
++;

681 
i
 = 0; i < 
şau£Size
; i++)

683 
l™
 = 
¡©e_
->
	`g‘AtomInCÏu£
(
i
, 
toFix
);

685 ià(
co¡
 < 0 && !
¡©e_
->
	`isTrueL™”®
(
l™
)) ;

687 
v¬
 = 
	`abs
(
l™
);

689 ià(
¡©e_
->
	`isFixedAtom
(
v¬
)) ;

690 
boŞ
 
ignÜeAùiveP»ds
 = 
çl£
;

691 
boŞ
 
groundOÆy
 = 
çl£
;

692 ià(!
¡©e_
->
	`aùiv©eAtom
(
v¬
, 
ignÜeAùiveP»ds
, 
groundOÆy
))

693  
NOVALUE
;

695 
im´ovem’t
 = 
	`ÿlcuÏ‹Im´ovem’t
(
v¬
, 
ÿnNÙFl
[
i
],

696 
ÿndid©eBlockedV¬s
[
i
],

697 
Ùh”sToFl
[
i
], 
blockIdx
[i]);

698 ià(
mwsdebug
)

699 
cout
 << "Im´ovem’ˆoàv¬ " << 
v¬
 << " is: " << 
im´ovem’t
 << 
’dl
;

702 
b»akco¡
=
¡©e_
->
	`g‘B»akCo¡
(
v¬
);

703 ià((
buL’gth_
<
numFls_
-
chªged_
[
v¬
] || 
b»akco¡
==0è&& 
im´ovem’t
 >ğ
be¡v®ue
) {

704 ià(
im´ovem’t
 > 
be¡v®ue
) {

705 
numbe¡
 = 0;

706 
be¡
.
	`ş—r
();

708 
be¡v®ue
 = 
im´ovem’t
;

709 
be¡
.
	`­³nd
(
i
);

710 
numbe¡
++;

745 ià(
numbe¡
 == 0)

748  
NOVALUE
;

751 
toFl
 = 
NOVALUE
;

753 ià(
numbe¡
 == 1)

754 
toFl
 = 
be¡
[0];

757 
toFl
 = 
be¡
[
	`¿ndom
()%
numbe¡
];

758 
toFlAtom
 = 
	`abs
(
¡©e_
->
	`g‘AtomInCÏu£
(
toFl
, 
toFix
));

760 ià(
blockIdx
[
toFl
] > -1)

763 ià(
ÿnNÙFl
[
toFl
].
	`cÚšs
(
toFlAtom
))

764 
toFlAtom
 = 
NOVALUE
;

767 
idx
 = 
ÿndid©eBlockedV¬s
[
toFl
].
	`fšd
(
toFlAtom
);

768 ià(
idx
 >= 0)

770 
šBlock_
 = 
blockIdx
[
toFl
];

771 
æInBlock_
 = 
Ùh”sToFl
[
toFl
][
idx
];

777  
toFlAtom
;

778 
	}
}

786 
	$pickSS
()

789 
	`as£¹
(
šBlock_
 == -1);

790 
A¼ay
<> 
ÿnNÙFl
;

793 
A¼ay
<> 
ÿndid©eBlockedV¬s
;

794 
A¼ay
<> 
Ùh”sToFl
;

795 
blockIdx
;

797 
co¡OfF®£CÏu£s
 = 
¡©e_
->
	`g‘Co¡OfF®£CÏu£s
();

803 ià(
co¡OfF®£CÏu£s
 <ğ
rg‘Co¡_
 + 0.0001 ||

804 (!
Ï‹Sa_
 && 
	`¿ndom
(è% 100 < 
§R©io_
 ))

807 
toFl
 = 
¡©e_
->
	`g‘IndexOfRªdomAtom
();

808 ià(
toFl
 =ğ
NOVALUE
)  NOVALUE;

810 ià(
¡©e_
->
	`isFixedAtom
(
toFl
)è 
NOVALUE
;

811 
boŞ
 
ignÜeAùiveP»ds
 = 
çl£
;

813 
boŞ
 
groundOÆy
 = 
Œue
;

814 ià(!
¡©e_
->
	`aùiv©eAtom
(
toFl
, 
ignÜeAùiveP»ds
, 
groundOÆy
))

815  
NOVALUE
;

816 
im´ovem’t
 = 
	`ÿlcuÏ‹Im´ovem’t
(
toFl
, 
ÿnNÙFl
,

817 
ÿndid©eBlockedV¬s
,

818 
Ùh”sToFl
, 
blockIdx
);

819 ià(
mwsdebug
è
cout
 << "TÙ® im´ovem’t: " << 
im´ovem’t
 << 
’dl
;

823 ià(
im´ovem’t
 > -
LDBL_MAX
 &&

824 ((
im´ovem’t
 >= 0) ||

825 (
	`¿ndom
(è<ğ
	`exp
(
im´ovem’t
/(
§Temp_
/100.0)è* 
RAND_MAX
)))

828 ià(
ÿnNÙFl
.
	`cÚšs
(
toFl
)ètoFl = 
NOVALUE
;

831 
idx
 = 
ÿndid©eBlockedV¬s
.
	`fšd
(
toFl
);

832 ià(
idx
 >= 0)

834 
šBlock_
 = 
blockIdx
;

835 
æInBlock_
 = 
Ùh”sToFl
[
idx
];

840 ià(
toFl
 !ğ
NOVALUE
)

842 
¡©e_
->
	`£tAùive
(
toFl
);

844  
toFl
;

848  
NOVALUE
;

854  
	`pickTabu
();

856 
	}
}

876 
ÿlcuÏ‹Im´ovem’t
(cÚ¡ & 
©omIdx
, 
A¼ay
<>& 
ÿnNÙFl
,

877 
A¼ay
<>& 
ÿndid©eBlockedV¬s
,

878 
A¼ay
<>& 
Ùh”sToFl
, & 
blockIdx
)

880 
	gblockIdx
 = 
¡©e_
->
g‘BlockIndex
(
©omIdx
 - 1);

881 ià(
	gblockIdx
 == -1)

884  
¡©e_
->
g‘Im´ovem’tByFlpšg
(
©omIdx
);

890 ià(
	g¡©e_
->
g‘Domaš
()->
g‘BlockEvid’û
(
blockIdx
) ||

891 
	g¡©e_
->
g‘Domaš
()->
g‘BlockSize
(
blockIdx
) == 1)

893 
ÿnNÙFl
.
­³nd
(
©omIdx
);

894  -
	gLDBL_MAX
;

899 
	gblockSize
 = 
¡©e_
->
g‘Domaš
()->
g‘BlockSize
(
blockIdx
);

900 
	gcho£n
 = -1;

901 
	gÙh”ToFl
 = -1;

904 ià(
	g¡©e_
->
g‘V®ueOfAtom
(
©omIdx
) == 0)

906 
i
 = 0; 
	gi
 < 
	gblockSize
; i++)

908 cÚ¡ 
P»diÿ‹
* 
	g´ed
 =

909 
¡©e_
->
g‘Domaš
()->
g‘P»dInBlock
(
i
, 
blockIdx
);

910 
GroundP»diÿ‹
* 
	ggndP»d
 = 
Ãw
 GroundP»diÿ‹((
P»diÿ‹
*)
´ed
);

912 
	gidx
 = 
¡©e_
->
g‘IndexOfGroundP»diÿ‹
(
gndP»d
);

914 
d–‘e
 
	ggndP»d
;

915 
d–‘e
 
	g´ed
;

918 ià(
	gidx
 >= 0)

920 ià(
¡©e_
->
g‘V®ueOfAtom
(
idx
 + 1) == 1)

922 
cho£n
 = 
idx
 + 1;

932 
boŞ
 
	gok
 = 
çl£
;

933 !
	gok
)

935 cÚ¡ 
P»diÿ‹
* 
	g´ed
 =

936 
¡©e_
->
g‘Domaš
()->
g‘RªdomP»dInBlock
(
blockIdx
);

937 
GroundP»diÿ‹
* 
	ggndP»d
 = 
Ãw
 GroundP»diÿ‹((
P»diÿ‹
*)
´ed
);

939 
	gidx
 = 
¡©e_
->
g‘IndexOfGroundP»diÿ‹
(
gndP»d
);

940 ià(
	gidx
 == -1)

942 
d–‘e
 
gndP»d
;

943 
d–‘e
 
	g´ed
;

947 
	gcho£n
 = 
idx
 + 1;

949 
d–‘e
 
	ggndP»d
;

950 
d–‘e
 
	g´ed
;

952 ià(
	gcho£n
 !ğ
©omIdx
)

953 
ok
 = 
Œue
;

957 
as£¹
(
cho£n
 >= 0);

958 
	gÿndid©eBlockedV¬s
.
­³nd
(
©omIdx
);

959 
	gÙh”ToFl
 = 
cho£n
;

960 
	gÙh”sToFl
.
­³nd
(
Ùh”ToFl
);

961  (
	g¡©e_
->
g‘Im´ovem’tByFlpšg
(
©omIdx
) +

962 
	g¡©e_
->
g‘Im´ovem’tByFlpšg
(
Ùh”ToFl
));

971 
	$»cÚ¡ruùLowS‹
()

973 
	`as£¹
(
ÏzyLowS‹_
);

974 ià(
mwsdebug
è
cout
 << "RecÚ¡ruùšg†ow s‹ ..." << 
’dl
;

975 
hash_£t
<>::
cÚ¡_™”©Ü
 
™
 = 
v¬sFl³dSšûLowS‹_
.
	`begš
();

976 ; 
™
 !ğ
v¬sFl³dSšûLowS‹_
.
	`’d
(); it++)

978 ià(
mwsdebug
)

980 
cout
 << "Flpšg‡tom " << (*
™
è<< 
’dl
;

982 
¡©e_
->
	`æAtomV®ue
(*
™
, -1);

984 
¡©e_
->
	`§veLowS‹
();

985 ià(
mwsdebug
è
cout
 << "DÚ»cÚ¡ruùšg†ow s‹ ..." << 
’dl
;

986 
	}
}

988 
	g´iv©e
:

992 
heuri¡ic_
;

994 
	gbuL’gth_
;

998 
	g§R©io_
;

1000 
	g§Temp_
;

1002 
boŞ
 
	gÏ‹Sa_
;

1008 (
MaxW®kS©
::*
pickcode
[15])();

1010 
boŞ
 
h¬d_
;

1013 
num”©Ü_
;

1014 
d’omš©Ü_
;

1017 
šBlock_
;

1018 
æInBlock_
;

1024 
boŞ
 
ÏzyLowS‹_
;

1027 
hash_£t
<> 
v¬sFl³dSšûLowS‹_
;

1030 
boŞ
 
´štInfo_
;

1031 
	}
};

	@infer/maxwalksatparams.h

66 #iâdeà
MAXWALKSATPARAMS_H_MAR_21_2005


67 
	#MAXWALKSATPARAMS_H_MAR_21_2005


	)

69 
	~"§m¶e§¬ams.h
"

70 
	eheuri¡ics
 {
	mRANDOM
 = 0, 
	mBEST
 = 1, 
	mTABU
 = 2, 
	mSS
 = 3, 
	mHMWS
 = 4, 
	mHSA
 = 5};

75 
	sMaxW®k§tP¬ams


78 
Sam¶eS©P¬ams
* 
	mssP¬ams
;

79 
	mmaxS‹ps
;

80 
	mmaxTr›s
;

81 
	mrg‘Co¡
;

82 
boŞ
 
	mh¬d
;

83 
	mnumSŞutiÚs
;

85 
	mheuri¡ic
;

86 
	mbuL’gth
;

87 
boŞ
 
	mÏzyLowS‹
;

	@infer/mcmc.h

67 #iâdeà
MCMC_H_


68 
	#MCMC_H_


	)

70 
	~"šã»nû.h
"

71 
	~"mcmı¬ams.h
"

74 cÚ¡ 
boŞ
 
	gmcmcdebug
 = 
çl£
;

80 şas 
	cMCMC
 : 
public
 
Inã»nû


82 
public
:

90 
MCMC
(
V¬ŸbËS‹
* 
¡©e
, 
£ed
, cÚ¡ 
boŞ
& 
ŒackCÏu£TrueCÁs
,

91 
MCMCP¬ams
* 
·¿ms
, 
A¼ay
<A¼ay<
P»diÿ‹
* >* >* 
qu”yFÜmuÏs
 = 
NULL
)

92 : 
	$Inã»nû
(
¡©e
, 
£ed
, 
ŒackCÏu£TrueCÁs
, 
qu”yFÜmuÏs
)

95 
numChašs_
 = 
·¿ms
->
numChašs
;

96 
buºMšS‹ps_
 = 
·¿ms
->
buºMšS‹ps
;

97 
buºMaxS‹ps_
 = 
·¿ms
->
buºMaxS‹ps
;

98 
mšS‹ps_
 = 
·¿ms
->
mšS‹ps
;

99 
maxS‹ps_
 = 
·¿ms
->
maxS‹ps
;

100 
maxSecÚds_
 = 
·¿ms
->
maxSecÚds
;

104 
	$MCMC
(
HV¬ŸbËS‹
* 
¡©e
, 
£ed
, cÚ¡ 
boŞ
& 
ŒackCÏu£TrueCÁs
,

105 
MCMCP¬ams
* 
·¿ms
)

106 : 
	$Inã»nû
(
¡©e
, 
£ed
, 
ŒackCÏu£TrueCÁs
)

109 
numChašs_
 = 
·¿ms
->
numChašs
;

110 
buºMšS‹ps_
 = 
·¿ms
->
buºMšS‹ps
;

111 
buºMaxS‹ps_
 = 
·¿ms
->
buºMaxS‹ps
;

112 
mšS‹ps_
 = 
·¿ms
->
mšS‹ps
;

113 
maxS‹ps_
 = 
·¿ms
->
maxS‹ps
;

114 
maxSecÚds_
 = 
·¿ms
->
maxSecÚds
;

115 
	}
}

120 ~
	$MCMC
(è{
	}
}

127 
	$compu‹HybridCÏu£V®ue
(
şau£Idx
, 
c
)

129 
cÚtCÏu£CÚtP¬tV®ue
 = 
	`HybridCÏu£CÚtP¬tV®ue
(
şau£Idx
, 
c
);

130 
cÚtCÏu£DisP¬tV®ue
 = 
	`HybridCÏu£DisP¬tV®ue
(
şau£Idx
, 
c
);

131  
h¡©e_
->
hybridWts_
[
şau£Idx
] * 
cÚtCÏu£CÚtP¬tV®ue
 * 
cÚtCÏu£DisP¬tV®ue
;

132 
	}
}

134 
	$HybridCÏu£CÚtP¬tV®ue
(
cÚtCÏu£Idx
, 
c
)

136 
PŞyNomŸl
& 
¶
 = 
h¡©e_
->
	`G‘HybridCÏu£PŞynomŸl
(
cÚtCÏu£Idx
);

138 
	`as£¹
(
h¡©e_
->
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
].
	`size
(è=ğ
¶
.
	`G‘V¬Num
());

140 
A¼ay
<> 
¬V¬
;

141 
i
 = 0; i < 
h¡©e_
->
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
].
	`size
(); ++i)

143 
¬V¬
.
	`­³nd
(
ŒuthV®uesCÚt_
[
h¡©e_
->
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
][
i
] - 1][
c
]);

145 
v
 = 
¶
.
	`Compu‹PlV®ue
(
¬V¬
);

147  
v
;

148 
	}
}

150 
	$HybridCÏu£DisP¬tV®ue
(
cÚtCÏu£Idx
, 
c
)

152 
boŞ
 
bAndOr
 = 
h¡©e_
->
hybridCÚjunùiÚDisjunùiÚ_
[
cÚtCÏu£Idx
];

153 
numTrueL™s
 = 0;

154 
numF®£L™s
 = 0;

155 
j
 = 0; j < 
h¡©e_
->
hybridDisCÏu£_
[
cÚtCÏu£Idx
].
	`size
(); ++j)

157 
©omIdx
 = 
h¡©e_
->
hybridDisCÏu£_
[
cÚtCÏu£Idx
][
j
];

158 if((
©omIdx
 > 0è=ğ
ŒuthV®ues_
[
	`abs
×tomIdx)-1][
c
])

160 
numTrueL™s
 ++;

161 if(!
bAndOr
)

168 
numF®£L™s
 ++;

169 if(
bAndOr
)

175 if(!
bAndOr
)

177  (
numTrueL™s
 > 0)?1.0:0.0;

181  (
numF®£L™s
 > 0)?0.0:1.0;

184 
	}
}

186 
	$upd©eDisP»dV®ue
(
´edIdx
, 
chašIdx
, 
boŞ
 
upd©eV®ue
)

188 
boŞ
 
bBak
 = 
ŒuthV®ues_
[
´edIdx
][
chašIdx
];

189 
A¼ay
<>& 
occDisPos
 = 
h¡©e_
->
	`g‘PosOccu»nûA¼ay
(
´edIdx
 + 1);

190 
A¼ay
<>& 
occDisNeg
 = 
h¡©e_
->
	`g‘NegOccu»nûA¼ay
(
´edIdx
 + 1);

191 
A¼ay
<>& 
occCÚt
 = 
h¡©e_
->
	`g‘CÚtDisOccu»nûA¼ay
(
´edIdx
 + 1) ;

193 if(
upd©eV®ue
)

195 if(!
bBak
)

198 
j
 = 0; j < 
occDisPos
.
	`size
(); ++j)

200 
disCÏu£Idx
 = 
occDisPos
[
j
];

201 
numTrueL™s_
[
disCÏu£Idx
][
chašIdx
] += 1;

204  
j
 = 0; j < 
occDisNeg
.
	`size
(); ++j)

206 
disCÏu£Idx
 = 
occDisNeg
[
j
];

207 
numTrueL™s_
[
disCÏu£Idx
][
chašIdx
] -= 1;

213 if(
bBak
)

215  
j
 = 0; j < 
occDisPos
.
	`size
(); ++j)

217 
disCÏu£Idx
 = 
occDisPos
[
j
];

218 
numTrueL™s_
[
disCÏu£Idx
][
chašIdx
] -= 1;

221  
j
 = 0; j < 
occDisNeg
.
	`size
(); ++j)

223 
disCÏu£Idx
 = 
occDisNeg
[
j
];

224 
numTrueL™s_
[
disCÏu£Idx
][
chašIdx
] += 1;

229 
ŒuthV®ues_
[
´edIdx
][
chašIdx
] = 
upd©eV®ue
;

231 if(
bBak
 !ğ
upd©eV®ue
)

233  
j
 = 0; j < 
occCÚt
.
	`size
(); ++j)

235 
hybridCÏu£Idx
 = 
occCÚt
[
j
];

236 
hybridCÏu£DisP¬tV®ueMCMC_
[
hybridCÏu£Idx
] = 
	`HybridCÏu£DisP¬tV®ue
(hybridCÏu£Idx, 
chašIdx
)==1.0?
Œue
:
çl£
;

239 
	}
}

241 
	$upd©ePrİo§lCÚtV®ue
(
cÚtP»dIdx
, 
chašIdx
)

243 
A¼ay
<>& 
occCÚtCÚt
 = 
h¡©e_
->
hybridCÚtOccu¼’û_
[
cÚtP»dIdx
 + 1];

244 
PŞyNomŸl
 
¶
;

245 
j
 = 0; j < 
occCÚtCÚt
.
	`size
(); j++)

247 
cÚtCÏu£Idx
 = 
occCÚtCÚt
[
j
];

248 
PŞyNomŸl
 
¶tmp
 = 
h¡©e_
->
hybridPls_
[
cÚtCÏu£Idx
];

250 
šIdx
 = -1;

251 
A¼ay
<> 
¬V¬s
;

252 
k
 = 0; k < 
h¡©e_
->
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
].
	`size
(); k++)

254 
¬V¬s
.
	`­³nd
(
ŒuthV®uesCÚt_
[
h¡©e_
->
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
][
k
]-1][
chašIdx
]);

255 ià(
h¡©e_
->
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
][
k
] =ğ
cÚtP»dIdx
+1)

258 
šIdx
 = 
k
;

261 ià(
šIdx
 == -1)

263 
cout
 << "çšt" << 
’dl
;

266 
¶tmp
.
	`ReduûToOÃV¬
(
¬V¬s
, 
šIdx
);

267 
¶
.
	`AddPl
(
¶tmp
);

270 
miu
 = 0, 
¡dev
 = 0;

271 
¶
.
	`G‘GaussŸnP¬a
(&
miu
, &
¡dev
);

272 
ŒuthV®uesCÚt_
[
cÚtP»dIdx
][
chašIdx
] = 
ExtRªdom
::
	`gaussRªdom
(
miu
, 
¡dev
);

274 
j
 = 0; j < 
occCÚtCÚt
.
	`size
(); j++)

276 
hybridCÏu£Idx
 = 
occCÚtCÚt
[
j
];

277 
hybridCÏu£CÚtP¬tV®ueMCMC_
[
hybridCÏu£Idx
][
chašIdx
] = 
	`HybridCÏu£CÚtP¬tV®ue
(hybridClauseIdx,chainIdx);

279 
	}
}

282 
	$g‘Probab™yOfP»dH
(cÚ¡ & 
´edIdx
, cÚ¡ & 
chašIdx
, cÚ¡ & 
švTemp
)

285 ià(
numChašs_
 > 1)

287 
wtDisAsTrue
 = 0, 
wtDisAsF®£
 = 0;

288 
boŞ
 
bBak
 = 
ŒuthV®ues_
[
´edIdx
][
chašIdx
];

290 
A¼ay
<>& 
occDisPos
 = 
h¡©e_
->
	`g‘PosOccu»nûA¼ay
(
´edIdx
 + 1);

291 
A¼ay
<>& 
occDisNeg
 = 
h¡©e_
->
	`g‘NegOccu»nûA¼ay
(
´edIdx
 + 1);

292 
A¼ay
<>& 
occCÚt
 = 
h¡©e_
->
	`g‘CÚtDisOccu»nûA¼ay
(
´edIdx
 + 1) ;

295 
j
 = 0; j < 
occDisPos
.
	`size
(); j++)

297 
disCÏu£Idx
 = 
occDisPos
[
j
];

298 
wtDisAsTrue
 +ğ
h¡©e_
->
şau£Co¡_
[
disCÏu£Idx
];

300 if(
numTrueL™s_
[
disCÏu£Idx
][
chašIdx
] > 1)

302 
wtDisAsF®£
 +ğ
h¡©e_
->
şau£Co¡_
[
disCÏu£Idx
];

304 if(
numTrueL™s_
[
disCÏu£Idx
][
chašIdx
] =ğ1 && !
bBak
)

306 
wtDisAsF®£
 +ğ
h¡©e_
->
şau£Co¡_
[
disCÏu£Idx
];

311 
j
 = 0; j < 
occDisNeg
.
	`size
(); j++)

313 
disCÏu£Idx
 = 
occDisNeg
[
j
];

314 if(
numTrueL™s_
[
disCÏu£Idx
][
chašIdx
] > 1)

316 
wtDisAsTrue
 +ğ
h¡©e_
->
şau£Co¡_
[
disCÏu£Idx
];

318 if(
numTrueL™s_
[
disCÏu£Idx
][
chašIdx
] =ğ1 && 
bBak
)

320 
wtDisAsTrue
 +ğ
h¡©e_
->
şau£Co¡_
[
disCÏu£Idx
];

322 
wtDisAsF®£
 +ğ
h¡©e_
->
şau£Co¡_
[
disCÏu£Idx
];

325 
j
 = 0; j < 
occCÚt
.
	`size
(); j++) {

326 
hybridCÏu£Idx
 = 
occCÚt
[
j
];

327 
cÚtP¬t
 = 
hybridCÏu£CÚtP¬tV®ueMCMC_
[
hybridCÏu£Idx
][
chašIdx
];

328 
wt
 = 
h¡©e_
->
hybridWts_
[
hybridCÏu£Idx
];

330 
ŒuthV®ues_
[
´edIdx
][
chašIdx
] = 
Œue
;

331 
disP¬tAsTrue
 = 
	`HybridCÏu£DisP¬tV®ue
(
hybridCÏu£Idx
,
chašIdx
);

332 
ŒuthV®ues_
[
´edIdx
][
chašIdx
] = 
çl£
;

333 
disP¬tAsF®£
 = 
	`HybridCÏu£DisP¬tV®ue
(
hybridCÏu£Idx
,
chašIdx
);

334 
ŒuthV®ues_
[
´edIdx
][
chašIdx
] = 
bBak
;

336 
wtDisAsTrue
 +ğ
wt
*
disP¬tAsTrue
*
cÚtP¬t
;

337 
wtDisAsF®£
 +ğ
wt
*
disP¬tAsF®£
*
cÚtP¬t
;

341 
wtDiff
 = (
wtDisAsF®£
 - 
wtDisAsTrue
è* 
švTemp
;

342 
´ob
;

343 ià(
wtDiff
 > 403.429)

345 
´ob
 = 0;

347 ià(
wtDiff
 < -403.429)

349 
´ob
 = 1;

353 
´ob
 = 1 / ( 1 + 
	`exp
(
wtDiff
));

355  
´ob
;

359 
GroundP»diÿ‹
* 
gndP»d
 = 
h¡©e_
->
	`g‘GndP»d
(
´edIdx
);

360 
wtDisAsTrue
 = 0, 
wtDisAsF®£
 = 0;

361 
boŞ
 
bBak
 = 
gndP»d
->
	`g‘TruthV®ue
();

363 
A¼ay
<>& 
occDisPos
 = 
h¡©e_
->
	`g‘PosOccu»nûA¼ay
(
´edIdx
 + 1);

364 
A¼ay
<>& 
occDisNeg
 = 
h¡©e_
->
	`g‘NegOccu»nûA¼ay
(
´edIdx
 + 1);

365 
A¼ay
<>& 
occCÚt
 = 
h¡©e_
->
	`g‘CÚtDisOccu»nûA¼ay
(
´edIdx
 + 1) ;

367 
gndP»d
->
	`£tTruthV®ue
(
Œue
);

369 
j
 = 0; j < 
occDisPos
.
	`size
(); j++)

371 
disCÏu£Idx
 = 
occDisPos
[
j
];

372 
wtDisAsTrue
 +ğ
h¡©e_
->
şau£Co¡_
[
disCÏu£Idx
];

375 
j
 = 0; j < 
occDisNeg
.
	`size
(); j++)

377 
disCÏu£Idx
 = 
occDisNeg
[
j
];

378 
k
 = 0; k < 
h¡©e_
->
şau£_
[
disCÏu£Idx
].
	`size
(); k++)

380 
l™
 = 
h¡©e_
->
şau£_
[
disCÏu£Idx
][
k
];

381 
GroundP»diÿ‹
* 
gndP»dtmp
 = 
h¡©e_
->
	`g‘GndP»d
(
	`abs
(
l™
)-1);

382 ià((
l™
 > 0è=ğ
gndP»dtmp
->
	`g‘TruthV®ue
())

384 
wtDisAsTrue
 +ğ
h¡©e_
->
şau£Co¡_
[
disCÏu£Idx
];

390 
j
 = 0; j < 
occCÚt
.
	`size
(); j++)

392 
cÚtCÏu£Idx
 = 
occCÚt
[
j
];

393 
wtDisAsTrue
 +ğ
h¡©e_
->
	`HybridCÏu£V®ue
(
cÚtCÏu£Idx
);

398 
gndP»d
->
	`£tTruthV®ue
(
çl£
);

399 
j
 = 0; j < 
occDisNeg
.
	`size
(); j++)

401 
disCÏu£Idx
 = 
occDisNeg
[
j
];

402 
wtDisAsF®£
 +ğ
h¡©e_
->
şau£Co¡_
[
disCÏu£Idx
];

405 
j
 = 0; j < 
occDisPos
.
	`size
(); j++)

407 
disCÏu£Idx
 = 
occDisPos
[
j
];

408 
k
 = 0; k < 
h¡©e_
->
şau£_
[
disCÏu£Idx
].
	`size
(); k++)

410 
l™
 = 
h¡©e_
->
şau£_
[
disCÏu£Idx
][
k
];

411 
GroundP»diÿ‹
* 
gndP»dtmp
 = 
h¡©e_
->
	`g‘GndP»d
(
	`abs
(
l™
)-1);

412 ià((
l™
 > 0è=ğ
gndP»dtmp
->
	`g‘TruthV®ue
())

414 
wtDisAsF®£
 +ğ
h¡©e_
->
şau£Co¡_
[
disCÏu£Idx
];

420 
j
 = 0; j < 
occCÚt
.
	`size
(); j++)

422 
cÚtCÏu£Idx
 = 
occCÚt
[
j
];

423 
wtDisAsF®£
 +ğ
h¡©e_
->
	`HybridCÏu£V®ue
(
cÚtCÏu£Idx
);

426 
gndP»d
->
	`£tTruthV®ue
(
bBak
);

428  1.0 / ( 1.0 + 
	`exp
((
wtDisAsF®£
 - 
wtDisAsTrue
è* 
švTemp
));

430 
	}
}

435 
vœtu®
 
	$´štN‘wÜk
(
o¡»am
& 
out
)

437 
¡©e_
->
	`´štN‘wÜk
(
out
);

438 
	}
}

443 
	$´štProbab™›s
(
o¡»am
& 
out
)

445 
i
 = 0; i < 
¡©e_
->
	`g‘NumAtoms
(); i++)

447 
´ob
 = 
	`g‘ProbTrue
(
i
);

450 
´ob
 = (prob*10000 + 1/2.0)/(10000 + 1.0);

451 
¡©e_
->
	`´štGndP»d
(
i
, 
out
);

452 
out
 << " " << 
´ob
 << 
’dl
;

454 
	}
}

469 
g‘ChªgedP»ds
(
veùÜ
<
¡ršg
>& 
chªgedP»ds
, veùÜ<>& 
´obs
,

470 
veùÜ
<>& 
ŞdProbs
, cÚ¡ & 
´obD–
)

472 
	gchªgedP»ds
.
ş—r
();

473 
	g´obs
.
ş—r
();

474 
	gnumAtoms
 = 
¡©e_
->
g‘NumAtoms
();

476 
	gŞdProbs
.
»size
(
numAtoms
, 0);

477 
	gi
 = 0; i < 
	gnumAtoms
; i++)

479 
	g´ob
 = 
g‘ProbTrue
(
i
);

480 ià(
abs
(
´ob
 - 
ŞdProbs
[
i
]è> 
	g´obD–
)

484 
	gŞdProbs
[
i
] = 
´ob
;

486 
	g´ob
 = (
´ob
*10000 + 1/2.0)/(10000 + 1.0);

487 
o¡ršg¡»am
 
oss
(o¡ršg¡»am::
out
);

488 
	g¡©e_
->
´štGndP»d
(
i
, 
oss
);

489 
	gchªgedP»ds
.
push_back
(
oss
.
¡r
());

490 
	g´obs
.
push_back
(
´ob
);

496 
	$g‘Probab™yH
(
GroundP»diÿ‹
* cÚ¡& 
gndP»d
)

498 
idx
 = 
h¡©e_
->
	`g‘GndP»dIndex
(
gndP»d
);

499 
´ob
 = 0.0;

500 ià(
idx
 >ğ0è
´ob
 = 
	`g‘ProbTrue
(idx);

502  (
´ob
*10000 + 1/2.0)/(10000 + 1.0);

503 
	}
}

511 
	$g‘Probab™y
(
GroundP»diÿ‹
* cÚ¡& 
gndP»d
)

513 
idx
 = 
¡©e_
->
	`g‘GndP»dIndex
(
gndP»d
);

514 
´ob
 = 0.0;

515 ià(
idx
 >ğ0è
´ob
 = 
	`g‘ProbTrue
(idx);

517  (
´ob
*10000 + 1/2.0)/(10000 + 1.0);

518 
	}
}

523 
	$´štTrueP»ds
(
o¡»am
& 
out
)

525 
i
 = 0; i < 
¡©e_
->
	`g‘NumAtoms
(); i++)

527 
´ob
 = 
	`g‘ProbTrue
(
i
);

530 
´ob
 = (prob*10000 + 1/2.0)/(10000 + 1.0);

531 ià(
´ob
 >ğ0.5è
¡©e_
->
	`´štGndP»d
(
i
, 
out
);

533 
	}
}

535 
	$´štTrueP»dsH
(
o¡»am
& 
out
)

537 
i
 = 0; i < 
h¡©e_
->
	`g‘NumAtoms
(); i++)

539 
´ob
 = 
	`g‘ProbTrue
(
i
);

542 
´ob
 = (prob * 10000 + 1/2.0) / (10000 + 1.0);

543 ià(
´ob
 >ğ0.5è
h¡©e_
->
	`´štGndP»d
(
i
, 
out
);

545 
	}
}

548 
	g´Ùeùed
:

558 
	$š™TruthV®uesAndWts
(cÚ¡ & 
numChašs
)

560 
numP»ds
 = 
¡©e_
->
	`g‘NumAtoms
();

561 
ŒuthV®ues_
.
	`growToSize
(
numP»ds
);

562 
wtsWh’F®£_
.
	`growToSize
(
numP»ds
);

563 
wtsWh’True_
.
	`growToSize
(
numP»ds
);

564 
i
 = 0; i < 
numP»ds
; i++)

566 
ŒuthV®ues_
[
i
].
	`growToSize
(
numChašs
, 
çl£
);

567 
wtsWh’F®£_
[
i
].
	`growToSize
(
numChašs
, 0);

568 
wtsWh’True_
[
i
].
	`growToSize
(
numChašs
, 0);

571 
numCÏu£s
 = 
¡©e_
->
	`g‘NumCÏu£s
();

572 
numTrueL™s_
.
	`growToSize
(
numCÏu£s
);

573 
i
 = 0; i < 
numCÏu£s
; i++)

575 
numTrueL™s_
[
i
].
	`growToSize
(
numChašs
, 0);

577 
	}
}

583 
	$š™NumTrue
()

585 
numP»ds
 = 
¡©e_
->
	`g‘NumAtoms
();

586 
numTrue_
.
	`growToSize
(
numP»ds
);

587 
i
 = 0; i < 
numTrue_
.
	`size
(); i++)

588 
numTrue_
[
i
] = 0;

589 
	}
}

597 
	$š™NumTrueL™s
(cÚ¡ & 
numChašs
)

600 ià(
numChašs
 =ğ1è
¡©e_
->
	`»£tMakeB»akCo¡W©ch
();

601 
i
 = 0; i < 
¡©e_
->
	`g‘NumCÏu£s
(); i++)

603 
GroundCÏu£
* 
gndCÏu£
 = 
¡©e_
->
	`g‘GndCÏu£
(
i
);

604 
j
 = 0; j < 
gndCÏu£
->
	`g‘NumGroundP»diÿ‹s
(); j++)

606 cÚ¡ 
©omIdx
 = 
	`abs
(
¡©e_
->
	`g‘AtomInCÏu£
(
j
, 
i
)) - 1;

607 cÚ¡ 
boŞ
 
£n£
 = 
gndCÏu£
->
	`g‘GroundP»diÿ‹S’£
(
j
);

608 ià(
numChašs
 > 1)

610 
c
 = 0; c < 
numChašs
; c++)

612 ià(
ŒuthV®ues_
[
©omIdx
][
c
] =ğ
£n£
)

614 
numTrueL™s_
[
i
][
c
]++;

615 
	`as£¹
(
numTrueL™s_
[
i
][
c
] <ğ
¡©e_
->
	`g‘NumAtoms
());

621 
GroundP»diÿ‹
* 
gndP»d
 = 
¡©e_
->
	`g‘GndP»d
(
©omIdx
);

622 ià(
gndP»d
->
	`g‘TruthV®ue
(è=ğ
£n£
)

623 
¡©e_
->
	`šüem’tNumTrueL™s
(
i
);

624 
	`as£¹
(
¡©e_
->
	`g‘NumTrueL™s
(
i
è<ğ¡©e_->
	`g‘NumAtoms
());

628 
	}
}

637 
	$¿ndomIn™GndP»dsTruthV®ues
(cÚ¡ & 
numChašs
)

639 
c
 = 0; c < 
numChašs
; c++)

641 ià(
mcmcdebug
è
cout
 << "Chaš " << 
c
 << ":" << 
’dl
;

643 
i
 = 0; i < 
¡©e_
->
	`g‘Domaš
()->
	`g‘NumP»dBlocks
(); i++)

646 ià(
¡©e_
->
	`g‘Domaš
()->
	`g‘BlockEvid’û
(
i
))

649 
	`£tOth”sInBlockToF®£
(
c
, -1, 
i
);

653 
boŞ
 
ok
 = 
çl£
;

654 !
ok
)

656 cÚ¡ 
P»diÿ‹
* 
´ed
 = 
¡©e_
->
	`g‘Domaš
()->
	`g‘RªdomP»dInBlock
(
i
);

657 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
((
P»diÿ‹
*)
´ed
);

658 
idx
 = 
¡©e_
->
	`g‘IndexOfGroundP»diÿ‹
(
gndP»d
);

660 
d–‘e
 
gndP»d
;

661 
d–‘e
 
´ed
;

663 ià(
idx
 >= 0)

666 ià(
numChašs_
 > 1)

667 
ŒuthV®ues_
[
idx
][
c
] = 
Œue
;

670 
GroundP»diÿ‹
* 
gndP»d
 = 
¡©e_
->
	`g‘GndP»d
(
i
);

671 
gndP»d
->
	`£tTruthV®ue
(
Œue
);

673 
	`£tOth”sInBlockToF®£
(
c
, 
idx
, 
i
);

674 
ok
 = 
Œue
;

680 
i
 = 0; i < 
ŒuthV®ues_
.
	`size
(); i++)

683 ià(
¡©e_
->
	`g‘BlockIndex
(
i
) == -1)

685 
boŞ
 
tv
 = 
	`g’TruthV®ueFÜProb
(0.5);

687 ià(
numChašs_
 > 1)

688 
ŒuthV®ues_
[
i
][
c
] = 
tv
;

691 
GroundP»diÿ‹
* 
gndP»d
 = 
¡©e_
->
	`g‘GndP»d
(
i
);

692 
gndP»d
->
	`£tTruthV®ue
(
tv
);

694 ià(
mcmcdebug
è
cout
 << "P»d " << 
i
 << " s‘Ø" << 
tv
 << 
’dl
;

698 
	}
}

706 
boŞ
 
	$g’TruthV®ueFÜProb
(cÚ¡ & 
p
)

708 ià(
p
 =ğ1.0è 
Œue
;

709 ià(
p
 =ğ0.0è 
çl£
;

710 
boŞ
 
r
 = 
	`¿ndom
(è<ğ
p
*
RAND_MAX
;

711  
r
;

712 
	}
}

723 
	$g‘Probab™yOfP»d
(cÚ¡ & 
´edIdx
, cÚ¡ & 
chašIdx
,

724 cÚ¡ & 
švTemp
)

727 ià(
numChašs_
 > 1)

730 Ğ1.0 + 
	`exp
((
wtsWh’F®£_
[
´edIdx
][
chašIdx
] -

731 
wtsWh’True_
[
´edIdx
][
chašIdx
]) *

732 
švTemp
));

736 
GroundP»diÿ‹
* 
gndP»d
 = 
¡©e_
->
	`g‘GndP»d
(
´edIdx
);

738 Ğ1.0 + 
	`exp
((
gndP»d
->
	`g‘WtWh’F®£
() -

739 
gndP»d
->
	`g‘WtWh’True
()) *

740 
švTemp
));

742 
	}
}

752 
	$£tOth”sInBlockToF®£
(cÚ¡ & 
chašIdx
, cÚ¡ & 
©omIdx
,

753 cÚ¡ & 
blockIdx
)

755 
blockSize
 = 
¡©e_
->
	`g‘Domaš
()->
	`g‘BlockSize
(
blockIdx
);

756 
i
 = 0; i < 
blockSize
; i++)

758 cÚ¡ 
P»diÿ‹
* 
´ed
 = 
¡©e_
->
	`g‘Domaš
()->
	`g‘P»dInBlock
(
i
, 
blockIdx
);

759 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
((
P»diÿ‹
*)
´ed
);

760 
idx
 = 
¡©e_
->
	`g‘IndexOfGroundP»diÿ‹
(
gndP»d
);

762 
d–‘e
 
gndP»d
;

763 
d–‘e
 
´ed
;

766 ià(
idx
 >ğ0 && idx !ğ
©omIdx
)

767 
ŒuthV®ues_
[
idx
][
chašIdx
] = 
çl£
;

769 
	}
}

781 
³rfÜmGibbsS‹p
(cÚ¡ & 
chašIdx
, cÚ¡ 
boŞ
& 
buºšgIn
,

782 
GroundP»diÿ‹HashA¼ay
& 
afãùedGndP»ds
,

783 
A¼ay
<>& 
afãùedGndP»dIndiûs
)

785 ià(
	gmcmcdebug
è
	gcout
 << "Gibb ¡•" << 
	g’dl
;

788 
	gi
 = 0; i < 
	g¡©e_
->
g‘Domaš
()->
g‘NumP»dBlocks
(); i++)

791 ià(
	g¡©e_
->
g‘Domaš
()->
g‘BlockEvid’û
(
i
)) ;

793 
	gcho£n
 = 
gibbsSam¶eFromBlock
(
chašIdx
, 
i
, 1);

795 
boŞ
 
	gŒuthV®ue
;

796 cÚ¡ 
P»diÿ‹
* 
	g´ed
 = 
¡©e_
->
g‘Domaš
()->
g‘P»dInBlock
(
cho£n
, 
i
);

797 
GroundP»diÿ‹
* 
	ggndP»d
 = 
Ãw
 GroundP»diÿ‹((
P»diÿ‹
*)
´ed
);

798 
	gidx
 = 
¡©e_
->
g‘IndexOfGroundP»diÿ‹
(
gndP»d
);

800 
d–‘e
 
	ggndP»d
;

801 
d–‘e
 
	g´ed
;

804 ià(
	gidx
 >= 0)

806 
gndP»d
 = 
¡©e_
->
g‘GndP»d
(
idx
);

807 ià(
	gnumChašs_
 > 1è
	gŒuthV®ue
 = 
ŒuthV®ues_
[
idx
][
chašIdx
];

808 
	gŒuthV®ue
 = 
gndP»d
->
g‘TruthV®ue
();

811 ià(!
	gŒuthV®ue
)

813 
	gblockSize
 = 
¡©e_
->
g‘Domaš
()->
g‘BlockSize
(
i
);

814 
	gj
 = 0; j < 
	gblockSize
; j++)

817 
boŞ
 
	gÙh”TruthV®ue
;

818 cÚ¡ 
P»diÿ‹
* 
	gÙh”P»d
 =

819 
¡©e_
->
g‘Domaš
()->
g‘P»dInBlock
(
j
, 
i
);

820 
GroundP»diÿ‹
* 
	gÙh”GndP»d
 =

821 
Ãw
 
GroundP»diÿ‹
((
P»diÿ‹
*)
Ùh”P»d
);

822 
	gÙh”Idx
 = 
¡©e_
->
g‘IndexOfGroundP»diÿ‹
(
gndP»d
);

824 
d–‘e
 
	gÙh”GndP»d
;

825 
d–‘e
 
	gÙh”P»d
;

828 ià(
	gÙh”Idx
 >= 0)

830 
Ùh”GndP»d
 = 
¡©e_
->
g‘GndP»d
(
Ùh”Idx
);

831 ià(
	gnumChašs_
 > 1)

832 
	gÙh”TruthV®ue
 = 
ŒuthV®ues_
[
Ùh”Idx
][
chašIdx
];

834 
	gÙh”TruthV®ue
 = 
Ùh”GndP»d
->
g‘TruthV®ue
();

835 ià(
	gÙh”TruthV®ue
)

838 ià(
	gnumChašs_
 > 1)

839 
	gŒuthV®ues_
[
Ùh”Idx
][
chašIdx
] = 
çl£
;

841 
	gÙh”GndP»d
->
£tTruthV®ue
(
çl£
);

843 
	gafãùedGndP»ds
.
ş—r
();

844 
	gafãùedGndP»dIndiûs
.
ş—r
();

845 
gndP»dFl³dUpd©es
(
Ùh”Idx
, 
chašIdx
, 
afãùedGndP»ds
,

846 
afãùedGndP»dIndiûs
);

847 
upd©eWtsFÜGndP»ds
(
afãùedGndP»ds
, 
afãùedGndP»dIndiûs
,

848 
chašIdx
);

854 ià(
	gnumChašs_
 > 1è
	gŒuthV®ues_
[
idx
][
chašIdx
] = 
Œue
;

855 
	ggndP»d
->
£tTruthV®ue
(
Œue
);

856 
	gafãùedGndP»ds
.
ş—r
();

857 
	gafãùedGndP»dIndiûs
.
ş—r
();

858 
gndP»dFl³dUpd©es
(
idx
, 
chašIdx
, 
afãùedGndP»ds
,

859 
afãùedGndP»dIndiûs
);

860 
upd©eWtsFÜGndP»ds
(
afãùedGndP»ds
, 
afãùedGndP»dIndiûs
,

861 
chašIdx
);

865 ià(!
	gbuºšgIn
è
	gnumTrue_
[
idx
]++;

870 
	gi
 = 0; i < 
	g¡©e_
->
g‘NumAtoms
(); i++)

873 ià(
	g¡©e_
->
g‘BlockIndex
(
i
) >= 0) ;

875 ià(
	gmcmcdebug
)

877 
	gcout
 << "Chaš " << 
	gchašIdx
 << ": Probability of…red "

878 << 
	gi
 << " i " << 
g‘Probab™yOfP»d
(
i
, 
chašIdx
, 1è<< 
	g’dl
;

881 
boŞ
 
	gÃwAssignm’t


882 ğ
g’TruthV®ueFÜProb
(
g‘Probab™yOfP»d
(
i
, 
chašIdx
, 1));

885 
boŞ
 
	gŒuthV®ue
;

886 
GroundP»diÿ‹
* 
	ggndP»d
 = 
¡©e_
->
g‘GndP»d
(
i
);

887 ià(
	gnumChašs_
 > 1è
	gŒuthV®ue
 = 
ŒuthV®ues_
[
i
][
chašIdx
];

888 
	gŒuthV®ue
 = 
gndP»d
->
g‘TruthV®ue
();

890 ià(
	gÃwAssignm’t
 !ğ
ŒuthV®ue
)

892 ià(
mcmcdebug
)

894 
cout
 << "Chaš " << 
chašIdx
 << ": Changingruth value of…red "

895 << 
i
 << "Ø" << 
ÃwAssignm’t
 << 
’dl
;

898 ià(
	gnumChašs_
 > 1è
	gŒuthV®ues_
[
i
][
chašIdx
] = 
ÃwAssignm’t
;

899 
	ggndP»d
->
£tTruthV®ue
(
ÃwAssignm’t
);

900 
	gafãùedGndP»ds
.
ş—r
();

901 
	gafãùedGndP»dIndiûs
.
ş—r
();

902 
gndP»dFl³dUpd©es
(
i
, 
chašIdx
, 
afãùedGndP»ds
,

903 
afãùedGndP»dIndiûs
);

904 
upd©eWtsFÜGndP»ds
(
afãùedGndP»ds
, 
afãùedGndP»dIndiûs
,

905 
chašIdx
);

910 ià(!
	gbuºšgIn
 && 
	gÃwAssignm’t
è
	gnumTrue_
[
i
]++;

913 ià(!
	gbuºšgIn
 && 
	gŒackCÏu£TrueCÁs_
)

914 
	g¡©e_
->
g‘NumCÏu£Gndšgs
(
şau£TrueCÁs_
, 
Œue
);

916 ià(
	gmcmcdebug
è
	gcout
 << "End oàGibb ¡•" << 
	g’dl
;

927 
upd©eWtsFÜGndP»dsH
(
GroundP»diÿ‹HashA¼ay
& 
gndP»ds
,

928 
A¼ay
<>& 
gndP»dIndiûs
, cÚ¡ & 
chašIdx
)

930 ià(
	gmcmcdebug
è
	gcout
 << "EÁ”šg upd©eWtsFÜGndP»ds" << 
	g’dl
;

932 
	gg
 = 0; g < 
	ggndP»ds
.
size
(); g++)

934 
	gwtIfNoChªge
 = 0, 
	gwtIfInv”‹d
 = 0, 
	gwt
;

936 
	gA¼ay
<>& 
	gÃgGndCÏu£s
 =

937 
h¡©e_
->
g‘NegOccu»nûA¼ay
(
gndP»dIndiûs
[
g
] + 1);

938 
	gA¼ay
<>& 
	gposGndCÏu£s
 =

939 
h¡©e_
->
g‘PosOccu»nûA¼ay
(
gndP»dIndiûs
[
g
] + 1);

941 
	ggndCÏu£Idx
;

942 
boŞ
 
	g£n£
;

943 ià(
	gmcmcdebug
)

945 
	gcout
 << "Ground cÏu£ š which…»d " << 
	gg
 << " occurs‚eg.: "

946 << 
	gÃgGndCÏu£s
.
size
(è<< 
	g’dl
;

947 
	gcout
 << "Ground cÏu£ š which…»d " << 
	gg
 << " occurs…os.: "

948 << 
	gposGndCÏu£s
.
size
(è<< 
	g’dl
;

951 
	gi
 = 0; i < 
	gÃgGndCÏu£s
.
size
(è+ 
	gposGndCÏu£s
.size(); i++)

953 ià(
	gi
 < 
	gÃgGndCÏu£s
.
size
())

955 
	ggndCÏu£Idx
 = 
ÃgGndCÏu£s
[
i
];

956 ià(
	gmcmcdebug
è
	gcout
 << "Neg. iÀşau£ " << 
	ggndCÏu£Idx
 << 
	g’dl
;

957 
	g£n£
 = 
çl£
;

961 
	ggndCÏu£Idx
 = 
posGndCÏu£s
[
i
 - 
ÃgGndCÏu£s
.
size
()];

962 ià(
	gmcmcdebug
è
	gcout
 << "Pos. iÀşau£ " << 
	ggndCÏu£Idx
 << 
	g’dl
;

963 
	g£n£
 = 
Œue
;

966 
GroundCÏu£
* 
	ggndCÏu£
 = 
h¡©e_
->
g‘GndCÏu£
(
gndCÏu£Idx
);

967 ià(
	ggndCÏu£
->
isH¬dCÏu£
())

968 
	gwt
 = 
h¡©e_
->
g‘CÏu£Co¡
(
gndCÏu£Idx
);

970 
	gwt
 = 
gndCÏu£
->
g‘Wt
();

972 
	gnumS©L™”®s
;

973 ià(
	gnumChašs_
 > 1)

974 
	gnumS©L™”®s
 = 
numTrueL™s_
[
gndCÏu£Idx
][
chašIdx
];

976 
	gnumS©L™”®s
 = 
h¡©e_
->
g‘NumTrueL™s
(
gndCÏu£Idx
);

977 ià(
	gnumS©L™”®s
 > 1)

981 ià(
	gwt
 > 0)

983 
	gwtIfNoChªge
 +ğ
wt
;

984 
	gwtIfInv”‹d
 +ğ
wt
;

988 ià(
	gnumS©L™”®s
 == 1)

990 ià(
wt
 > 0è
wtIfNoChªge
 += wt;

992 
boŞ
 
	gŒuthV®ue
;

993 ià(
	gnumChašs_
 > 1)

994 
	gŒuthV®ue
 = 
ŒuthV®ues_
[
gndP»dIndiûs
[
g
]][
chašIdx
];

996 
	gŒuthV®ue
 = 
gndP»ds
[
g
]->
g‘TruthV®ue
();

998 ià(
	gŒuthV®ue
 =ğ
£n£
)

1001 ià(
wt
 < 0è
wtIfInv”‹d
 +ğ
abs
(wt);

1006 ià(
	gwt
 > 0è
	gwtIfInv”‹d
 +ğ
wt
;

1010 ià(
	gnumS©L™”®s
 == 0)

1013 ià(
wt
 > 0è
wtIfInv”‹d
 += wt;

1014 ià(
	gwt
 < 0è
	gwtIfNoChªge
 +ğ
abs
(
wt
);

1018 ià(
	gmcmcdebug
)

1020 
	gcout
 << "wtIfNoChªgoà´ed " << 
	gg
 << ": "

1021 << 
	gwtIfNoChªge
 << 
	g’dl
;

1022 
	gcout
 << "wtIfInv”‹d oà´ed " << 
	gg
 << ": "

1023 << 
	gwtIfInv”‹d
 << 
	g’dl
;

1027 ià(
	gnumChašs_
 > 1)

1029 ià(
	gŒuthV®ues_
[
gndP»dIndiûs
[
g
]][
chašIdx
])

1031 
	gwtsWh’True_
[
gndP»dIndiûs
[
g
]][
chašIdx
] = 
wtIfNoChªge
;

1032 
	gwtsWh’F®£_
[
gndP»dIndiûs
[
g
]][
chašIdx
] = 
wtIfInv”‹d
;

1036 
	gwtsWh’F®£_
[
gndP»dIndiûs
[
g
]][
chašIdx
] = 
wtIfNoChªge
;

1037 
	gwtsWh’True_
[
gndP»dIndiûs
[
g
]][
chašIdx
] = 
wtIfInv”‹d
;

1042 ià(
	ggndP»ds
[
g
]->
g‘TruthV®ue
())

1044 
	ggndP»ds
[
g
]->
£tWtWh’True
(
wtIfNoChªge
);

1045 
	ggndP»ds
[
g
]->
£tWtWh’F®£
(
wtIfInv”‹d
);

1049 
	ggndP»ds
[
g
]->
£tWtWh’F®£
(
wtIfNoChªge
);

1050 
	ggndP»ds
[
g
]->
£tWtWh’True
(
wtIfInv”‹d
);

1054 ià(
	gmcmcdebug
è
	gcout
 << "L—všg upd©eWtsFÜGndP»ds" << 
	g’dl
;

1068 
upd©eWtsFÜGndP»ds
(
GroundP»diÿ‹HashA¼ay
& 
gndP»ds
,

1069 
A¼ay
<>& 
gndP»dIndiûs
,

1070 cÚ¡ & 
chašIdx
)

1072 ià(
	gmcmcdebug
è
	gcout
 << "EÁ”šg upd©eWtsFÜGndP»ds" << 
	g’dl
;

1075 
	gg
 = 0; g < 
	ggndP»ds
.
size
(); g++)

1077 
	gwtIfNoChªge
 = 0, 
	gwtIfInv”‹d
 = 0, 
	gwt
;

1079 
	gA¼ay
<>& 
	gÃgGndCÏu£s
 =

1080 
¡©e_
->
g‘NegOccu»nûA¼ay
(
gndP»dIndiûs
[
g
] + 1);

1081 
	gA¼ay
<>& 
	gposGndCÏu£s
 =

1082 
¡©e_
->
g‘PosOccu»nûA¼ay
(
gndP»dIndiûs
[
g
] + 1);

1083 
	ggndCÏu£Idx
;

1084 
boŞ
 
	g£n£
;

1086 ià(
	gmcmcdebug
)

1088 
	gcout
 << "Ground cÏu£ š which…»d " << 
	gg
 << " occurs‚eg.: "

1089 << 
	gÃgGndCÏu£s
.
size
(è<< 
	g’dl
;

1090 
	gcout
 << "Ground cÏu£ š which…»d " << 
	gg
 << " occurs…os.: "

1091 << 
	gposGndCÏu£s
.
size
(è<< 
	g’dl
;

1094 
	gi
 = 0; i < 
	gÃgGndCÏu£s
.
size
(è+ 
	gposGndCÏu£s
.size(); i++)

1096 ià(
	gi
 < 
	gÃgGndCÏu£s
.
size
())

1098 
	ggndCÏu£Idx
 = 
ÃgGndCÏu£s
[
i
];

1099 ià(
	gmcmcdebug
è
	gcout
 << "Neg. iÀşau£ " << 
	ggndCÏu£Idx
 << 
	g’dl
;

1100 
	g£n£
 = 
çl£
;

1104 
	ggndCÏu£Idx
 = 
posGndCÏu£s
[
i
 - 
ÃgGndCÏu£s
.
size
()];

1105 ià(
	gmcmcdebug
è
	gcout
 << "Pos. iÀşau£ " << 
	ggndCÏu£Idx
 << 
	g’dl
;

1106 
	g£n£
 = 
Œue
;

1109 
GroundCÏu£
* 
	ggndCÏu£
 = 
¡©e_
->
g‘GndCÏu£
(
gndCÏu£Idx
);

1110 ià(
	ggndCÏu£
->
isH¬dCÏu£
())

1111 
	gwt
 = 
¡©e_
->
g‘CÏu£Co¡
(
gndCÏu£Idx
);

1113 
	gwt
 = 
gndCÏu£
->
g‘Wt
();

1115 
	gnumS©L™”®s
;

1116 ià(
	gnumChašs_
 > 1)

1117 
	gnumS©L™”®s
 = 
numTrueL™s_
[
gndCÏu£Idx
][
chašIdx
];

1119 
	gnumS©L™”®s
 = 
¡©e_
->
g‘NumTrueL™s
(
gndCÏu£Idx
);

1121 ià(
	gnumS©L™”®s
 > 1)

1125 ià(
	gwt
 > 0)

1127 
	gwtIfNoChªge
 +ğ
wt
;

1128 
	gwtIfInv”‹d
 +ğ
wt
;

1132 ià(
	gnumS©L™”®s
 == 1)

1134 ià(
wt
 > 0è
wtIfNoChªge
 += wt;

1136 
boŞ
 
	gŒuthV®ue
;

1137 ià(
	gnumChašs_
 > 1)

1138 
	gŒuthV®ue
 = 
ŒuthV®ues_
[
gndP»dIndiûs
[
g
]][
chašIdx
];

1140 
	gŒuthV®ue
 = 
gndP»ds
[
g
]->
g‘TruthV®ue
();

1142 ià(
	gŒuthV®ue
 =ğ
£n£
)

1145 ià(
wt
 < 0è
wtIfInv”‹d
 +ğ
abs
(wt);

1150 ià(
	gwt
 > 0è
	gwtIfInv”‹d
 +ğ
wt
;

1154 ià(
	gnumS©L™”®s
 == 0)

1157 ià(
wt
 > 0è
wtIfInv”‹d
 += wt;

1158 ià(
	gwt
 < 0è
	gwtIfNoChªge
 +ğ
abs
(
wt
);

1162 ià(
	gmcmcdebug
)

1164 
	gcout
 << "wtIfNoChªgoà´ed " << 
	gg
 << ": "

1165 << 
	gwtIfNoChªge
 << 
	g’dl
;

1166 
	gcout
 << "wtIfInv”‹d oà´ed " << 
	gg
 << ": "

1167 << 
	gwtIfInv”‹d
 << 
	g’dl
;

1171 ià(
	gnumChašs_
 > 1)

1173 ià(
	gŒuthV®ues_
[
gndP»dIndiûs
[
g
]][
chašIdx
])

1175 
	gwtsWh’True_
[
gndP»dIndiûs
[
g
]][
chašIdx
] = 
wtIfNoChªge
;

1176 
	gwtsWh’F®£_
[
gndP»dIndiûs
[
g
]][
chašIdx
] = 
wtIfInv”‹d
;

1180 
	gwtsWh’F®£_
[
gndP»dIndiûs
[
g
]][
chašIdx
] = 
wtIfNoChªge
;

1181 
	gwtsWh’True_
[
gndP»dIndiûs
[
g
]][
chašIdx
] = 
wtIfInv”‹d
;

1186 ià(
	ggndP»ds
[
g
]->
g‘TruthV®ue
())

1188 
	ggndP»ds
[
g
]->
£tWtWh’True
(
wtIfNoChªge
);

1189 
	ggndP»ds
[
g
]->
£tWtWh’F®£
(
wtIfInv”‹d
);

1193 
	ggndP»ds
[
g
]->
£tWtWh’F®£
(
wtIfNoChªge
);

1194 
	ggndP»ds
[
g
]->
£tWtWh’True
(
wtIfInv”‹d
);

1198 ià(
	gmcmcdebug
è
	gcout
 << "L—všg upd©eWtsFÜGndP»ds" << 
	g’dl
;

1210 
	$gibbsSam¶eFromBlock
(cÚ¡ & 
chašIdx
, cÚ¡ & 
blockIndex
,

1211 cÚ¡ & 
švTemp
)

1213 
A¼ay
<> 
num”©Üs
;

1214 
d’omš©Ü
 = 0;

1216 
blockSize
 = 
¡©e_
->
	`g‘Domaš
()->
	`g‘BlockSize
(
blockIndex
);

1217 
i
 = 0; i < 
blockSize
; i++)

1219 cÚ¡ 
P»diÿ‹
* 
´ed
 =

1220 
¡©e_
->
	`g‘Domaš
()->
	`g‘P»dInBlock
(
i
, 
blockIndex
);

1221 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
((
P»diÿ‹
*)
´ed
);

1222 
idx
 = 
¡©e_
->
	`g‘IndexOfGroundP»diÿ‹
(
gndP»d
);

1224 
d–‘e
 
gndP»d
;

1225 
d–‘e
 
´ed
;

1228 
´ob
 = 0.0;

1230 ià(
idx
 >= 0)

1231 
´ob
 = 
	`g‘Probab™yOfP»d
(
idx
, 
chašIdx
, 
švTemp
);

1233 
num”©Üs
.
	`­³nd
(
´ob
);

1234 
d’omš©Ü
 +ğ
´ob
;

1237 
r
 = 
	`¿ndom
();

1238 
numSum
 = 0.0;

1239 
i
 = 0; i < 
blockSize
; i++)

1241 
numSum
 +ğ
num”©Üs
[
i
];

1242 ià(
r
 < ((
numSum
 / 
d’omš©Ü
è* 
RAND_MAX
))

1244  
i
;

1247  
blockSize
 - 1;

1248 
	}
}

1258 
gndP»dFl³dUpd©es
(cÚ¡ & 
gndP»dIdx
, cÚ¡ & 
chašIdx
,

1259 
GroundP»diÿ‹HashA¼ay
& 
afãùedGndP»ds
,

1260 
A¼ay
<>& 
afãùedGndP»dIndiûs
)

1262 ià(
	gmcmcdebug
è
	gcout
 << "EÁ”šg gndP»dFl³dUpd©es" << 
	g’dl
;

1263 
	gnumAtoms
 = 
¡©e_
->
g‘NumAtoms
();

1264 
GroundP»diÿ‹
* 
	ggndP»d
 = 
¡©e_
->
g‘GndP»d
(
gndP»dIdx
);

1265 
	gidx
 = 
afãùedGndP»ds
.
­³nd
(
gndP»d
, 
numAtoms
);

1266 ià(
	gidx
 >ğ0è
afãùedGndP»dIndiûs
.
­³nd
(
gndP»dIdx
);

1267 
as£¹
(
afãùedGndP»ds
.
size
(è<ğ
numAtoms
);

1269 
	gA¼ay
<>& 
	gÃgGndCÏu£s
 =

1270 
¡©e_
->
g‘NegOccu»nûA¼ay
(
gndP»dIdx
 + 1);

1271 
	gA¼ay
<>& 
	gposGndCÏu£s
 =

1272 
¡©e_
->
g‘PosOccu»nûA¼ay
(
gndP»dIdx
 + 1);

1273 
	ggndCÏu£Idx
;

1274 
GroundCÏu£
* 
	ggndCÏu£
;

1275 
boŞ
 
	g£n£
;

1278 
	gi
 = 0; i < 
	gÃgGndCÏu£s
.
size
(è+ 
	gposGndCÏu£s
.size(); i++)

1280 ià(
	gi
 < 
	gÃgGndCÏu£s
.
size
())

1282 
	ggndCÏu£Idx
 = 
ÃgGndCÏu£s
[
i
];

1283 
	g£n£
 = 
çl£
;

1287 
	ggndCÏu£Idx
 = 
posGndCÏu£s
[
i
 - 
ÃgGndCÏu£s
.
size
()];

1288 
	g£n£
 = 
Œue
;

1290 
	ggndCÏu£
 = 
¡©e_
->
g‘GndCÏu£
(
gndCÏu£Idx
);

1293 ià(
	gnumChašs_
 > 1)

1295 ià(
	gŒuthV®ues_
[
gndP»dIdx
][
chašIdx
] =ğ
£n£
)

1296 
numTrueL™s_
[
gndCÏu£Idx
][
chašIdx
]++;

1298 
	gnumTrueL™s_
[
gndCÏu£Idx
][
chašIdx
]--;

1302 ià(
	ggndP»d
->
g‘TruthV®ue
(è=ğ
£n£
)

1303 
¡©e_
->
šüem’tNumTrueL™s
(
gndCÏu£Idx
);

1305 
	g¡©e_
->
deüem’tNumTrueL™s
(
gndCÏu£Idx
);

1308 
	gj
 = 0; j < 
	ggndCÏu£
->
g‘NumGroundP»diÿ‹s
(); j++)

1310 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
	ggpha
 = 
¡©e_
->
g‘GndP»dHashA¼ayPŒ
();

1311 
GroundP»diÿ‹
* 
	g´ed
 =

1312 (
GroundP»diÿ‹
*)
gndCÏu£
->
g‘GroundP»diÿ‹
(
j
,

1313 (
GroundP»diÿ‹HashA¼ay
*)
gpha
);

1314 
	gidx
 = 
afãùedGndP»ds
.
­³nd
(
´ed
, 
numAtoms
);

1315 ià(
	gidx
 >ğ0è
afãùedGndP»dIndiûs
.
­³nd
(

1316 
abs
(
gndCÏu£
->
g‘GroundP»diÿ‹Index
(
j
)) - 1);

1317 
as£¹
(
afãùedGndP»ds
.
size
(è<ğ
numAtoms
);

1320 ià(
	gmcmcdebug
è
	gcout
 << "L—všg gndP»dFl³dUpd©es" << 
	g’dl
;

1323 
	$g‘ProbTrue
(cÚ¡ & 
´edIdx
ècÚ¡ {  
numTrue_
[´edIdx]; 
	}
}

1325 
	$£tProbTrue
(cÚ¡ & 
´edIdx
, cÚ¡ & 
p
)

1327 
	`as£¹
(
p
 >= 0);

1328 
numTrue_
[
´edIdx
] = 
p
;

1329 
	}
}

1337 
	$§veLowS‹ToChaš
(cÚ¡ & 
chašIdx
)

1339 
i
 = 0; i < 
¡©e_
->
	`g‘NumAtoms
(); i++)

1340 
ŒuthV®ues_
[
i
][
chašIdx
] = 
¡©e_
->
	`g‘V®ueOfLowAtom
(i + 1);

1341 
	}
}

1348 
	$£tMCMCP¬am‘”s
(
MCMCP¬ams
* 
·¿ms
)

1351 
numChašs_
 = 
·¿ms
->
numChašs
;

1352 
buºMšS‹ps_
 = 
·¿ms
->
buºMšS‹ps
;

1353 
buºMaxS‹ps_
 = 
·¿ms
->
buºMaxS‹ps
;

1354 
mšS‹ps_
 = 
·¿ms
->
mšS‹ps
;

1355 
maxS‹ps_
 = 
·¿ms
->
maxS‹ps
;

1356 
maxSecÚds_
 = 
·¿ms
->
maxSecÚds
;

1357 
	}
}

1359 
	$sÿËSam¶es
(
çùÜ
)

1361 
mšS‹ps_
 = ()(mšS‹ps_ * 
çùÜ
);

1362 
maxS‹ps_
 = ()(maxS‹ps_ * 
çùÜ
);

1363 
	}
}

1365 
	gpublic
:

1367 
A¼ay
<A¼ay<> > 
ŒuthV®uesCÚt_
;

1369 
	gA¼ay
<A¼ay<
	gboŞ
> > 
	ghybridCÏu£DisP¬tV®ueMCMC_
;

1371 
	gA¼ay
<A¼ay<> > 
	ghybridCÏu£CÚtP¬tV®ueMCMC_
;

1373 
	g´Ùeùed
:

1377 
numChašs_
;

1379 
	gbuºMšS‹ps_
;

1381 
	gbuºMaxS‹ps_
;

1383 
	gmšS‹ps_
;

1385 
	gmaxS‹ps_
;

1387 
	gmaxSecÚds_
;

1391 
	gA¼ay
<A¼ay<
	gboŞ
> > 
	gŒuthV®ues_
;

1393 
	gA¼ay
<A¼ay<> > 
	gwtsWh’F®£_
;

1395 
	gA¼ay
<A¼ay<> > 
	gwtsWh’True_
;

1399 
	gA¼ay
<> 
	gnumTrue_
;

1403 
	gA¼ay
<A¼ay<> > 
	gnumTrueL™s_
;

	@infer/mcmcparams.h

66 #iâdeà
MCMCPARAMS_H_


67 
	#MCMCPARAMS_H_


	)

72 
	sMCMCP¬ams


75 
	mnumChašs
;

77 
	mbuºMšS‹ps
;

79 
	mbuºMaxS‹ps
;

81 
	mmšS‹ps
;

83 
	mmaxS‹ps
;

85 
	mmaxSecÚds
;

	@infer/mcsat.h

67 #iâdeà
MCSAT_H_


68 
	#MCSAT_H_


	)

70 
	~"mcmc.h
"

71 
	~"mc§¬ams.h
"

72 
	~"un™´İag©iÚ.h
"

73 
	~"maxw®k§t.h
"

75 cÚ¡ 
	gmsdebug
 = 
çl£
;

83 şas 
	cMCSAT
 : 
public
 
MCMC


85 
public
:

90 
MCSAT
(
V¬ŸbËS‹
* 
¡©e
, 
£ed
, cÚ¡ 
boŞ
& 
ŒackCÏu£TrueCÁs
,

91 
MCS©P¬ams
* 
mc§tP¬ams
,

92 
A¼ay
<A¼ay<
P»diÿ‹
* >* >* 
qu”yFÜmuÏs
 = 
NULL
)

93 : 
	$MCMC
(
¡©e
, 
£ed
, 
ŒackCÏu£TrueCÁs
, 
mc§tP¬ams
, 
qu”yFÜmuÏs
)

95 
Tim”
 
tim”1
;

99 
mws_
 = 
Ãw
 
	`MaxW®kS©
(
¡©e_
, 
£ed
, 
çl£
, 
mc§tP¬ams
->
mwsP¬ams
);

100 
mws_
->
	`£tPrštInfo
(
çl£
);

102 ià(
msdebug
)

104 
cout
 << "[MCSAT] ";

105 
Tim”
::
	`´štTime
(
cout
, 
tim”1
.
	`time
());

106 
cout
 << 
’dl
;

107 
tim”1
.
	`»£t
();

114 ~
	$MCSAT
()

117 
d–‘e
 
mws_
;

118 
	}
}

123 
	$š™
()

125 
Tim”
 
tim”1
;

126 
	`as£¹
(
numChašs_
 == 1);

128 
cout
 << "In™Ÿlizšg MC-SAT w™h MaxW®k§ˆÚ h¬d cÏu£s..." << 
’dl
;

130 
¡©e_
->
	`–imš©eSoáCÏu£s
();

131 
¡©e_
->
	`£tInã»nûMode
(¡©e_->
MODE_HARD
);

134 
numSŞutiÚs
 = 
mws_
->
	`g‘NumSŞutiÚs
();

135 
mws_
->
	`£tNumSŞutiÚs
(1);

138 
mws_
->
	`š™
();

140 
mws_
->
	`šãr
();

142 ià(
msdebug
)

144 
cout
 << "Low s‹‡á” mws->šãr():" << 
’dl
;

145 
¡©e_
->
	`´štLowS‹
(
cout
);

147 
¡©e_
->
	`§veLowS‹ToGndP»ds
();

150 
mws_
->
	`£tHeuri¡ic
(
SS
);

151 
mws_
->
	`£tNumSŞutiÚs
(
numSŞutiÚs
);

152 
mws_
->
	`£tT¬g‘Co¡
(0.0);

153 
¡©e_
->
	`»£tD—dCÏu£s
();

156 
¡©e_
->
	`£tInã»nûMode
(¡©e_->
MODE_SAMPLESAT
);

158 ià(
msdebug
)

160 
cout
 << "[MCSAT.init] ";

161 
Tim”
::
	`´štTime
(
cout
, 
tim”1
.
	`time
());

162 
cout
 << 
’dl
;

163 
tim”1
.
	`»£t
();

165 
	}
}

170 
	$šãr
()

172 
Tim”
 
tim”1
;

174 
	`š™NumTrue
();

175 
Tim”
 
tim”
;

177 
boŞ
 
buºšgIn
 = (
buºMaxS‹ps_
 > 0è? 
Œue
 : 
çl£
;

178 
£cÚdsEÏp£d
 = 0;

180 
ssSecÚdsEÏp£d_
 = 0;

181 
¡¬tTimeSec
 = 
tim”
.
	`time
();

182 
cu¼’tTimeSec
;

183 
§m¶esP”Ouut
 = 100;

186 
GroundP»diÿ‹HashA¼ay
 
afãùedGndP»ds
;

187 
A¼ay
<> 
afãùedGndP»dIndiûs
;

189 
numAtoms
 = 
¡©e_
->
	`g‘NumAtoms
();

190 
i
 = 0; i < 
numAtoms
; i++)

192 
afãùedGndP»ds
.
	`­³nd
(
¡©e_
->
	`g‘GndP»d
(
i
), 
numAtoms
);

193 
afãùedGndP»dIndiûs
.
	`­³nd
(
i
);

196 
	`upd©eWtsFÜGndP»ds
(
afãùedGndP»ds
, 
afãùedGndP»dIndiûs
, 0);

197 
afãùedGndP»ds
.
	`ş—r
();

198 
afãùedGndP»dIndiûs
.
	`ş—r
();

200 ià(
msdebug
)

202 
cout
 << "[MCSAT.infer.prep] ";

203 
Tim”
::
	`´štTime
(
cout
, 
tim”1
.
	`time
());

204 
cout
 << 
’dl
;

205 
tim”1
.
	`»£t
();

208 
cout
 << "RuÂšg MC-SAT sam¶šg..." << 
’dl
;

210 
§m¶e
 = 0;

211 
numSam¶esP”P»d
 = 0;

212 
boŞ
 
dÚe
 = 
çl£
;

213 !
dÚe
)

215 ++
§m¶e
;

216 ià(
§m¶e
 % 
§m¶esP”Ouut
 == 0)

218 
cu¼’tTimeSec
 = 
tim”
.
	`time
();

219 
£cÚdsEÏp£d
 = 
cu¼’tTimeSec
 - 
¡¬tTimeSec
;

220 
cout
 << "Sam¶Õ”…»dè" << 
§m¶e
 << ",imeƒlapsed = ";

221 
Tim”
::
	`´štTime
(
cout
, 
£cÚdsEÏp£d
);

222 
cout
 << ",‚um.…»d ğ" << 
¡©e_
->
	`g‘NumAtoms
();

223 
cout
 << ",‚um. cÏu£ ğ" << 
¡©e_
->
	`g‘NumCÏu£s
();

224 
cout
 << 
’dl
;

228 
	`³rfÜmMCS©S‹p
(
buºšgIn
);

230 ià(!
buºšgIn
è
numSam¶esP”P»d
++;

232 ià(
buºšgIn
)

234 iàĞ(
buºMaxS‹ps_
 >ğ0 && 
§m¶e
 >= burnMaxSteps_)

235 || (
maxSecÚds_
 > 0 && 
£cÚdsEÏp£d
 >= maxSeconds_))

237 
cout
 << "DÚbuºšg. " << 
§m¶e
 << " sam¶es." << 
’dl
;

238 
buºšgIn
 = 
çl£
;

239 
§m¶e
 = 0;

244 iàĞ(
maxS‹ps_
 >ğ0 && 
§m¶e
 >= maxSteps_)

245 || (
maxSecÚds_
 > 0 && 
£cÚdsEÏp£d
 >= maxSeconds_))

247 
cout
 << "DÚMC-SAT sam¶šg. " << 
§m¶e
 << " samples."

248 << 
’dl
;

249 
dÚe
 = 
Œue
;

252 
cout
.
	`æush
();

255 
cout
 << "Fš® ground…»diÿ‹‚umb”: " << 
¡©e_
->
	`g‘NumAtoms
(è<< 
’dl
;

256 
cout
 << "Fš® ground cÏu£‚umb”: " << 
¡©e_
->
	`g‘NumCÏu£s
(è<< 
’dl
;

258 
cout
<< "Timeaken for MC-SAT sampling = ";

259 
Tim”
::
	`´štTime
(
cout
, 
tim”
.
	`time
(è- 
¡¬tTimeSec
); couˆ<< 
’dl
;

264 
cout
<< "Timeaken for SampleSat = ";

265 
Tim”
::
	`´štTime
(
cout
, 
ssSecÚdsEÏp£d_
); couˆ<< 
’dl
;

268 
i
 = 0; i < 
¡©e_
->
	`g‘NumAtoms
(); i++)

270 
	`£tProbTrue
(
i
, 
numTrue_
[i] / 
numSam¶esP”P»d
);

274 ià(
qfProbs_
)

276 
j
 = 0; j < 
qfProbs_
->
	`size
(); j++)

277 (*
qfProbs_
)[
j
] = (*qfProbs_)[j] / 
numSam¶esP”P»d
;

279 
	}
}

281 
	g´iv©e
:

288 
	$³rfÜmMCS©S‹p
(cÚ¡ 
boŞ
& 
buºšgIn
)

290 
Tim”
 
tim”
;

291 
¡¬tTime
;

292 ià(
msdebug
è
cout
 << "EÁ”šg MC-SAT s‹p" << 
’dl
;

294 
¡©e_
->
	`£tU£Th»shŞd
(
Œue
);

295 
¡©e_
->
	`upd©eP»vS©isf›d
();

297 
¡¬t
 = 0;

299 
¡©e_
->
	`»£tMakeB»akCo¡W©ch
();

301 
¡©e_
->
	`klCÏu£s
(
¡¬t
);

303 ià(
msdebug
)

305 
cout
 << "Num oàşau£ " << 
¡©e_
->
	`g‘NumCÏu£s
(è<< 
’dl
;

306 
cout
 << "Num oàçl£ cÏu£ " << 
¡©e_
->
	`g‘NumF®£CÏu£s
(è<< 
’dl
;

307 
cout
 << "Num oàd—d cÏu£ " << 
¡©e_
->
	`g‘NumD—dCÏu£s
(è<< 
’dl
;

311 
¡¬tTime
 = 
tim”
.
	`time
();

316 
¡¬tTime
 = 
tim”
.
	`time
();

317 
mws_
->
	`š™
();

318 
mws_
->
	`šãr
();

319 
ssSecÚdsEÏp£d_
 +ğ(
tim”
.
	`time
(è- 
¡¬tTime
);

321 ià(
msdebug
)

323 
cout
 << "Low s‹:" << 
’dl
;

324 
¡©e_
->
	`´štLowS‹
(
cout
);

329 
¡©e_
->
	`»£tFixedAtoms
();

330 
¡©e_
->
	`»£tD—dCÏu£s
();

331 
¡©e_
->
	`£tU£Th»shŞd
(
çl£
);

332 
numAtoms
 = 
¡©e_
->
	`g‘NumAtoms
();

334 
numTrue_
.
	`growToSize
(
numAtoms
, 0);

336 
i
 = 0; i < 
numAtoms
; i++)

338 
GroundP»diÿ‹
* 
gndP»d
 = 
¡©e_
->
	`g‘GndP»d
(
i
);

340 
boŞ
 
ÃwAssignm’t
 = 
¡©e_
->
	`g‘V®ueOfLowAtom
(
i
 + 1);

343 ià(
ÃwAssignm’t
 !ğ
gndP»d
->
	`g‘TruthV®ue
())

345 
gndP»d
->
	`£tTruthV®ue
(
ÃwAssignm’t
);

346 
	`upd©eCÏu£s
(
i
);

351 ià(!
buºšgIn
 && 
ÃwAssignm’t
è
numTrue_
[
i
]++;

356 ià(!
buºšgIn
 && 
ŒackCÏu£TrueCÁs_
)

357 
	`ÎyCÁsFromS‹
();

360 ià(!
buºšgIn
 && 
qfProbs_
)

362 
i
 = 0; i < 
qu”yFÜmuÏs_
->
	`size
(); i++)

364 
A¼ay
<
P»diÿ‹
* >* 
fÜmuÏ
 = (*
qu”yFÜmuÏs_
)[
i
];

365 
boŞ
 
§tisf›d
 = 
Œue
;

366 
j
 = 0; j < 
fÜmuÏ
->
	`size
(); j++)

368 
boŞ
 
£n£
 = (*
fÜmuÏ
)[
j
]->
	`g‘S’£
();

369 
GroundP»diÿ‹
* 
´ed
 = 
Ãw
 
	`GroundP»diÿ‹
((*
fÜmuÏ
)[
j
]);

370 
TruthV®ue
 
tv
 = 
¡©e_
->
	`g‘Domaš
()->
	`g‘DB
()->
	`g‘V®ue
(
´ed
);

371 ià((
tv
 =ğ
TRUE
 && !
£n£
è|| (tv =ğ
FALSE
 && sense))

372 
§tisf›d
 = 
çl£
;

373 
d–‘e
 
´ed
;

374 ià(!
§tisf›d
) ;

376 ià(
§tisf›d
è(*
qfProbs_
)[
i
]++;

380 ià(
msdebug
è
cout
 << "L—všg MC-SAT s‹p" << 
’dl
;

381 
	}
}

390 
	$upd©eCÏu£s
(cÚ¡ & 
gndP»dIdx
)

392 ià(
msdebug
è
cout
 << "EÁ”šg upd©eCÏu£s" << 
’dl
;

393 
GroundP»diÿ‹
* 
gndP»d
 = 
¡©e_
->
	`g‘GndP»d
(
gndP»dIdx
);

394 
A¼ay
<>& 
ÃgGndCÏu£s
 =

395 
¡©e_
->
	`g‘NegOccu»nûA¼ay
(
gndP»dIdx
 + 1);

396 
A¼ay
<>& 
posGndCÏu£s
 =

397 
¡©e_
->
	`g‘PosOccu»nûA¼ay
(
gndP»dIdx
 + 1);

398 
gndCÏu£Idx
;

399 
boŞ
 
£n£
;

401 
i
 = 0; i < 
ÃgGndCÏu£s
.
	`size
(è+ 
posGndCÏu£s
.size(); i++)

403 ià(
i
 < 
ÃgGndCÏu£s
.
	`size
())

405 
gndCÏu£Idx
 = 
ÃgGndCÏu£s
[
i
];

406 
£n£
 = 
çl£
;

410 
gndCÏu£Idx
 = 
posGndCÏu£s
[
i
 - 
ÃgGndCÏu£s
.
	`size
()];

411 
£n£
 = 
Œue
;

414 ià(
gndP»d
->
	`g‘TruthV®ue
(è=ğ
£n£
)

415 
¡©e_
->
	`šüem’tNumTrueL™s
(
gndCÏu£Idx
);

417 
¡©e_
->
	`deüem’tNumTrueL™s
(
gndCÏu£Idx
);

419 ià(
msdebug
è
cout
 << "L—všg upd©eCÏu£s" << 
’dl
;

420 
	}
}

422 
	g´iv©e
:

430 
MaxW®kS©
* 
mws_
;

435 
	gssSecÚdsEÏp£d_
;

	@infer/mcsatparams.h

66 #iâdeà
MCSATPARAMS_H_


67 
	#MCSATPARAMS_H_


	)

69 
	~"mcmı¬ams.h
"

70 
	~"maxw®k§¬ams.h
"

77 
	gMCS©P¬ams
 : 
MCMCP¬ams


79 
MaxW®k§tP¬ams
* 
mwsP¬ams
;

	@infer/mrf.h

66 #iâdeà
MRF_H_SEP_23_2005


67 
	#MRF_H_SEP_23_2005


	)

69 
	~<sys/times.h
>

70 
	~<sys/time.h
>

71 
	~<c¡dlib
>

72 
	~<cæßt
>

73 
	~<f¡»am
>

74 
	~"tim”.h
"

75 
	~"mÊ.h
"

76 
	~"ground´ediÿ‹.h
"

78 cÚ¡ 
boŞ
 
	gmrfdebug
 = 
çl£
;

83 
	sAddGroundCÏu£SŒuù


85 
AddGroundCÏu£SŒuù
(cÚ¡ 
GroundP»diÿ‹S‘
* cÚ¡ & 
s£’P»ds
,

86 
GroundP»diÿ‹S‘
* cÚ¡ & 
uun£’P»ds
,

87 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
ggndP»ds
,

88 cÚ¡ 
A¼ay
<>* cÚ¡ & 
¯ÎP»dGndšgsA»Qu”›s
,

89 
GroundCÏu£S‘
* cÚ¡ & 
ggndCÏu£sS‘
, GroundCÏu£S‘* cÚ¡ & 
¼—lGndCÏu£sS‘
,

90 
A¼ay
<
GroundCÏu£
*>* cÚ¡ & 
ggndCÏu£s
,

91 cÚ¡ 
boŞ
& 
mm¬kH¬dGndCÏu£s
,

92 cÚ¡ * cÚ¡ & 
µ¬’tWtPŒ
,

93 cÚ¡ & 
cşau£Id
)

94 : 
£’P»ds
(
s£’P»ds
), 
un£’P»ds
(
uun£’P»ds
), 
gndP»ds
(
ggndP»ds
),

95 
®lP»dGndšgsA»Qu”›s
(
¯ÎP»dGndšgsA»Qu”›s
),

96 
gndCÏu£sS‘
(
ggndCÏu£sS‘
), 
»®GndCÏu£sS‘
(
¼—lGndCÏu£sS‘
),

97 
gndCÏu£s
(
ggndCÏu£s
), 
m¬kH¬dGndCÏu£s
(
mm¬kH¬dGndCÏu£s
),

98 
·»ÁWtPŒ
(
µ¬’tWtPŒ
), 
şau£Id
(
cşau£Id
) {}

100 ~
AddGroundCÏu£SŒuù
() {}

102 cÚ¡ 
GroundP»diÿ‹S‘
* 
	m£’P»ds
;

103 
GroundP»diÿ‹S‘
* 
	mun£’P»ds
;

104 
GroundP»diÿ‹HashA¼ay
* 
	mgndP»ds
;

105 cÚ¡ 
	mA¼ay
<>* 
	m®lP»dGndšgsA»Qu”›s
;

106 
GroundCÏu£S‘
* 
	mgndCÏu£sS‘
;

107 
GroundCÏu£S‘
* 
	m»®GndCÏu£sS‘
;

108 
	mA¼ay
<
	mGroundCÏu£
*>* 
	mgndCÏu£s
;

109 cÚ¡ 
boŞ
 
	mm¬kH¬dGndCÏu£s
;

110 cÚ¡ * 
	m·»ÁWtPŒ
;

111 cÚ¡ 
	mşau£Id
;

117 şas 
	cMRF


119 
	mpublic
:

124 
MRF
(cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡& 
qu”›s
,

125 cÚ¡ 
A¼ay
<>* cÚ¡ & 
®lP»dGndšgsA»Qu”›s
,

126 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
, cÚ¡ 
D©aba£
 * cÚ¡ & 
db
,

127 cÚ¡ 
MLN
* cÚ¡ & 
mÊ
, cÚ¡ 
boŞ
& 
m¬kH¬dGndCÏu£s
,

128 cÚ¡ 
boŞ
& 
ŒackP¬’tCÏu£Wts
, cÚ¡ & 
memLim™
)

130 
	mcout
 << "ü—tšg mrf..." << 
	m’dl
;

131 
Tim”
 
	mtim”
;

132 
GroundP»diÿ‹S‘
 
	mun£’P»ds
, 
	m£’P»ds
;

133 
GroundP»diÿ‹ToIÁM­
 
	mgndP»dsM­
;

134 
GroundCÏu£S‘
 
	mgndCÏu£sS‘
;

135 
GroundCÏu£S‘
 
	m»®GndCÏu£sS‘
;

136 
	mgndP»ds_
 = 
Ãw
 
GroundP»diÿ‹HashA¼ay
;

137 
	mgndCÏu£s_
 = 
Ãw
 
A¼ay
<
GroundCÏu£
*>;

138 
	mæ©R—lGndCÏu£s_
 = 
Ãw
 
A¼ay
<
GroundCÏu£
*>;

140 
	mnumFœ¡Ord”CÏu£s
 = 
mÊ
->
g‘NumCÏu£s
();

143 
	mmemN“ded
 = 0;

145 if(
	mmrfdebug
)

146 
	mcout
<<"š™Ÿliz©iÚ dÚe..."<<
	m’dl
;

150 
	mi
 = 0; i < 
	mqu”›s
->
size
(); i++)

152 
GroundP»diÿ‹
* 
	mgp
 = (*
qu”›s
)[
i
];

153 
	mun£’P»ds
.
š£¹
(
gp
);

154 
	mgndP»dIdx
 = 
gndP»ds_
->
­³nd
(
gp
);

155 
as£¹
(
gndP»dsM­
.
fšd
(
gp
è=ğgndP»dsM­.
’d
());

156 
	mgndP»dsM­
[
gp
] = 
gndP»dIdx
;

160 ià(
	mmemLim™
 > 0)

162 
	mmemN“ded
 = 
sizeKB
();

163 ià(
	mmemN“ded
 > 
	mmemLim™
)

165 
	mi
 = 0; i < 
	mgndCÏu£s_
->
size
(); i++)

166 
d–‘e
 (*
gndCÏu£s_
)[
i
];

167 
d–‘e
 
	mgndCÏu£s_
;

169 
	mi
 = 0; i < 
	mgndP»ds_
->
size
(); i++)

170 ià((*
	mgndP»ds_
)[
i
]è
d–‘e
 (*
gndP»ds_
)[i];

171 
d–‘e
 
	mgndP»ds_
;

173 
	mthrow
 1;

178 !
	mun£’P»ds
.
em±y
())

180 
	mGroundP»diÿ‹S‘
::
™”©Ü
 
´edIt
 = 
un£’P»ds
.
begš
();

181 
GroundP»diÿ‹
* 
	m´ed
 = *
´edIt
;

182 
	m´edId
 = 
´ed
->
g‘Id
();

185 
boŞ
 
	mg’CÏu£sFÜAÎP»dGndšgs
 = 
çl£
;

187 ià(
	m®lP»dGndšgsA»Qu”›s
 && (*®lP»dGndšgsA»Qu”›s)[
´edId
] >= 1)

190 ià((*
®lP»dGndšgsA»Qu”›s
)[
´edId
] == 1){

191 
g’CÏu£sFÜAÎP»dGndšgs
 = 
Œue
;

198 
	mun£’P»ds
.
”a£
(
´edIt
);

200 
	m£’P»ds
.
š£¹
(
´ed
);

206 cÚ¡ 
	mA¼ay
<
	mIndexCÏu£
*>* 
	mşau£s


207 ğ
mÊ
->
g‘CÏu£sCÚššgP»d
(
´edId
);

212 
	mi
 = 0; 
	mşau£s
 && i < cÏu£s->
size
(); i++)

214 
CÏu£
* 
	mc
 = (*
şau£s
)[
i
]->
şau£
;

218 cÚ¡ 
	mşau£Id
 = 
mÊ
->
fšdCÏu£Idx
(
c
);

219 
as£¹
(
şau£Id
 >= 0);

222 ià(
	mc
->
g‘Wt
() == 0) ;

225 cÚ¡ * 
	m·»ÁWtPŒ
 =

226 (
ŒackP¬’tCÏu£Wts
è? 
c
->
g‘WtPŒ
(è: 
NULL
;

227 
AddGroundCÏu£SŒuù
 
agc
(&
£’P»ds
, &
un£’P»ds
, 
gndP»ds_
,

228 
®lP»dGndšgsA»Qu”›s
,

229 &
gndCÏu£sS‘
, &
»®GndCÏu£sS‘
, 
gndCÏu£s_
,

230 
m¬kH¬dGndCÏu£s
, 
·»ÁWtPŒ
,

231 
şau£Id
);

233 
	mŒy


236 if(
	mmrfdebug
)

237 
	mcout
<<"ÿÎšg‡ddUnknownGndCÏu£s..."<<
	m’dl
;

239 
addUnknownGndCÏu£s
(
´ed
, 
c
, 
domaš
, 
db
, 
g’CÏu£sFÜAÎP»dGndšgs
,

240 &
agc
);

242 if(
	mmrfdebug
)

243 
	mcout
<<"ÿÎed‡ddUnknownGndCÏu£s..."<<
	m’dl
;

245 
ÿtch
 (
bad_®loc
&)

247 
	mcout
 << "Bad‡lloc when‡dding unknown ground clauseso MRF!\n";

248 
	mû¼
 << "Bad‡lloc when‡dding unknown ground clauseso MRF!\n";

249 
	mthrow
 1;

254 ià(
	mmemLim™
 > 0)

256 
	mmemN“ded
 = 
sizeKB
();

261 ià(
	mmemN“ded
 > 
	mmemLim™
)

263 
	mi
 = 0; i < 
	mgndCÏu£s_
->
size
(); i++)

264 
d–‘e
 (*
gndCÏu£s_
)[
i
];

265 
d–‘e
 
	mgndCÏu£s_
;

267 
	mi
 = 0; i < 
	mgndP»ds_
->
size
(); i++)

268 ià((*
	mgndP»ds_
)[
i
]è
d–‘e
 (*
gndP»ds_
)[i];

269 
d–‘e
 
	mgndP»ds_
;

271 
	mthrow
 1;

282 
	mun£’P»ds
.
”a£
(
´edIt
);

283 
	m£’P»ds
.
š£¹
(
´ed
);

284 ià(
	mg’CÏu£sFÜAÎP»dGndšgs
)

286 
as£¹
(
®lP»dGndšgsA»Qu”›s
 &&

287 (*
®lP»dGndšgsA»Qu”›s
)[
´edId
]==1);

289 (*
	m®lP»dGndšgsA»Qu”›s
)[
´edId
]++;

300 
	mcout
 << "numb” oàgrounded…»diÿ‹ ğ" << 
	mgndP»ds_
->
size
(è<< 
	m’dl
;

301 
	mcout
 << "numb” oàgrounded cÏu£ ğ" << 
	mgndCÏu£s_
->
size
(è<< 
	m’dl
;

302 ià(
	mgndCÏu£s_
->
size
() == 0)

303 
cout
<< "M¬kov bÏnk‘ oàqu”y ground…»diÿ‹ ¬em±y" << 
’dl
;

305 
	mGroundCÏu£S‘
::
™”©Ü
 
™”
 = 
»®GndCÏu£sS‘
.
begš
(è; 
	m™”
 !ğ»®GndCÏu£sS‘.
’d
() ; iter++)

307 
	mæ©R—lGndCÏu£s_
->
­³nd
(*
™”
);

310 ià(
	mmrfdebug
)

312 
	mcout
 << "CÏu£ š MRF: " << 
	m’dl
;

313 
	mi
 = 0; i < 
	mgndCÏu£s_
->
size
(); i++)

315 (*
	mgndCÏu£s_
)[
i
]->
´št
(
cout
, 
domaš
, 
gndP»ds_
);

316 
	mcout
 << 
	m’dl
;

318 
	mcout
 << "FÏˆR—ÈGround CÏu£ š MRF: " << 
	m’dl
;

319 
	mi
 = 0; i < 
	mæ©R—lGndCÏu£s_
->
size
(); i++)

321 (*
	mæ©R—lGndCÏu£s_
)[
i
]->
´št
(
cout
, 
domaš
, 
gndP»ds_
);

322 
	mcout
 << 
	m’dl
;

328 
	mi
 = 0; i < 
	mgndP»ds_
->
size
(); i++)

329 (*
	mgndP»ds_
)[
i
]->
com´ess
();

331 
	mgndP»ds_
->
com´ess
();

332 
	mgndCÏu£s_
->
com´ess
();

333 
	mæ©R—lGndCÏu£s_
->
com´ess
();

335 
	mcout
 <<"Timeakeno construct MRF = ";

336 
	mTim”
::
´štTime
(
cout
,
tim”
.
time
());

337 
	mcout
 << 
	m’dl
;

343 
	$sizeKB
()

347 
size
 = 0;

348 
i
 = 0; i < 
gndCÏu£s_
->
	`size
(); i++)

349 
size
 +ğ(*
gndCÏu£s_
)[
i
]->
	`sizeKB
();

350 
i
 = 0; i < 
gndP»ds_
->
	`size
(); i++)

351 
size
 +ğ(*
gndP»ds_
)[
i
]->
	`sizeKB
();

353  
size
;

354 
	}
}

400 
	$addToR—lGndCÏu£s
(cÚ¡ 
GroundCÏu£
* cÚ¡ & 
gcArg
, cÚ¡ 
boŞ
 &
isH¬dCÏu£
, cÚ¡ 
AddGroundCÏu£SŒuù
* cÚ¡ & 
agcs
, cÚ¡ 
D©aba£
 *
db
 )

402 
numR—lGndCÏu£s
 = 0;

403 
GroundCÏu£S‘
 *
»®GndCÏu£sS‘
 = 
agcs
->realGndClausesSet;

404 
A¼ay
<
GroundCÏu£
*> 
groundCÏu£sAµ’ded
;

405 
GroundP»diÿ‹HashA¼ay
* 
gndP»ds
 = 
agcs
->gndPreds;

406 if(
mrfdebug
)

407 
cout
<<"IÀMRF::addToR—lGndCÏu£s"<<
’dl
;

409 
A¼ay
<> 
	`subTy³Indiûs
(1,-1);

410 
A¼ay
<> 
nÜm®Indiûs
;

411 cÚ¡ * 
·»ÁWtPŒ
 = 
agcs
->parentWtPtr;

412 
şau£no
 = 
agcs
->
şau£Id
;

413 
numGroundP»diÿ‹s
 = 
gcArg
->
	`g‘NumGroundP»diÿ‹s
();

414 
n
 = 0 ;‚ < 
numGroundP»diÿ‹s
 ;‚++)

416 cÚ¡ 
GroundP»diÿ‹
* 
gndP»d
 = 
gcArg
->
	`g‘GroundP»diÿ‹
(
n
,
gndP»ds
);

418 if((
gndP»d
->
	`g‘P»dName
(
db
->
	`g‘Domaš
()è=ğ"subty³"è&& !
isH¬dCÏu£
)

420 
subTy³Indiûs
[0] = 
n
;

422 
GroundCÏu£
 *
Ãwgc
 = 
Ãw
 
	`GroundCÏu£
(
gcArg
, 
gndP»ds
, 
subTy³Indiûs
);

423 if(
mrfdebug
)

425 
cout
<<"subty³ found,…rštšg‚ewgø: "<<
’dl
;

426 
Ãwgc
->
	`´št
(
cout
);

427 
cout
<<
’dl
;

429 
GroundCÏu£S‘
::
™”©Ü
 
™”
 = 
»®GndCÏu£sS‘
->
	`fšd
(
Ãwgc
);

430 if(
™”
 =ğ
»®GndCÏu£sS‘
->
	`’d
())

432 if(
mrfdebug
)
cout
<<"Thi p›û come fœ¡ime..."<<
’dl
;

433 
groundCÏu£sAµ’ded
.
	`­³nd
(
Ãwgc
);

434 
»®GndCÏu£sS‘
->
	`š£¹
(
Ãwgc
);

438 if(
mrfdebug
)
cout
<<"Thi p›û ha ®»ady come..."<<
’dl
;

439 
groundCÏu£sAµ’ded
.
	`­³nd
(*
™”
);

441 
d–‘e
 
Ãwgc
;

443 
numR—lGndCÏu£s
++;

447 
nÜm®Indiûs
.
	`­³nd
(
n
);

451 if(
mrfdebug
)
cout
<<"nÜm®Indiû ü—‹d sucûsfuÎy..."<<
’dl
;

452 
GroundCÏu£
 *
Ãwgc
 = 
Ãw
 
	`GroundCÏu£
(
gcArg
, 
gndP»ds
, 
nÜm®Indiûs
);

453 
GroundCÏu£S‘
::
™”©Ü
 
™”
 = 
»®GndCÏu£sS‘
->
	`fšd
(
Ãwgc
);

454 if(
™”
 =ğ
»®GndCÏu£sS‘
->
	`’d
())

456 if(
mrfdebug
)
cout
<<"nÚsubty³ cÏu£,…›û come fœ¡ime..."<<
’dl
;

457 
groundCÏu£sAµ’ded
.
	`­³nd
(
Ãwgc
);

458 
»®GndCÏu£sS‘
->
	`š£¹
(
Ãwgc
);

462 if(
mrfdebug
)
cout
<<"nÚ subty³ cÏu£,…›û ha ®»ady come..."<<
’dl
;

463 
groundCÏu£sAµ’ded
.
	`­³nd
(*
™”
);

464 
d–‘e
 
Ãwgc
;

466 
numR—lGndCÏu£s
++;

467 if(
mrfdebug
)

469 
cout
<<"´štšg„—lGndCÏu£ £ˆaá”‡ddšg‚ew…›û : "<<
’dl
;

470 
GroundCÏu£S‘
::
™”©Ü
 
™”
 = 
»®GndCÏu£sS‘
->
	`begš
(è; i‹¸!ğ»®GndCÏu£sS‘->
	`’d
() ; iter++)

472 (*
™”
)->
	`´št
(
cout
);

473 
cout
<<
’dl
;

476 if(
mrfdebug
){
cout
<<"numR—lGndCÏu£ : "<<
numR—lGndCÏu£s
<<",‚ow upd©šg wts, f»q‡nd dividçùÜs..."<<
’dl
;}

477 
k
 = 0 ; k < 
numR—lGndCÏu£s
; k++)

479 
groundCÏu£sAµ’ded
[
k
]->
	`addWt
((
gcArg
->
	`g‘Wt
())/
numR—lGndCÏu£s
);

480 if(
mrfdebug
)

482 
cout
<<"k : "<<
k
<<
’dl
;

483 
cout
<<"wˆ: "<<
groundCÏu£sAµ’ded
[
k
]->
	`g‘Wt
()<<
’dl
;

485 if(
·»ÁWtPŒ
)

487 cÚ¡ 
·œ
<,
boŞ
>* 
şau£F»qu’cyPaœ
 = 
gcArg
->
	`g‘CÏu£F»qu’cyPaœ
(
şau£no
);

488 
boŞ
 
šv”tWt
 = 
şau£F»qu’cyPaœ
->
£cÚd
;

489 if(
şau£F»qu’cyPaœ
->
fœ¡
 == 0)

490 
d–‘e
 
şau£F»qu’cyPaœ
;

491 
groundCÏu£sAµ’ded
[
k
]->
	`šüem’tCÏu£F»qu’cy
(
şau£no
, 1, 
šv”tWt
);

492 
groundCÏu£sAµ’ded
[
k
]->
	`upd©eDivideFaùÜ
(
şau£no
, 
numR—lGndCÏu£s
);

495 
	}
}

499 
	$addUnknownGndCÏu£
(cÚ¡ 
AddGroundCÏu£SŒuù
* cÚ¡ & 
agcs
,

500 cÚ¡ 
CÏu£
* cÚ¡ & 
şau£
,

501 cÚ¡ 
CÏu£
* cÚ¡ & 
ŒuncCÏu£
,

502 cÚ¡ 
boŞ
& 
isH¬dCÏu£
, cÚ¡ 
D©aba£
 *
db
)

504 cÚ¡ 
GroundP»diÿ‹S‘
* 
£’P»ds
 = 
agcs
->seenPreds;

505 
GroundP»diÿ‹S‘
* 
un£’P»ds
 = 
agcs
->unseenPreds;

506 
GroundP»diÿ‹HashA¼ay
* 
gndP»ds
 = 
agcs
->gndPreds;

507 cÚ¡ 
A¼ay
<>* 
®lGndšgsA»Qu”›s
 = 
agcs
->
®lP»dGndšgsA»Qu”›s
;

508 
GroundCÏu£S‘
* 
gndCÏu£sS‘
 = 
agcs
->gndClausesSet;

509 
A¼ay
<
GroundCÏu£
*>* 
gndCÏu£s
 = 
agcs
->gndClauses;

510 
GroundCÏu£S‘
* 
»®GndCÏu£sS‘
 = 
agcs
->realGndClausesSet;

511 cÚ¡ 
boŞ
 
m¬kH¬dGndCÏu£s
 = 
agcs
->markHardGndClauses;

512 cÚ¡ * 
·»ÁWtPŒ
 = 
agcs
->parentWtPtr;

513 cÚ¡ 
şau£Id
 = 
agcs
->clauseId;

521 
boŞ
 
£’BefÜe
 = 
çl£
;

523 
j
 = 0; j < 
şau£
->
	`g‘NumP»diÿ‹s
(); j++)

525 
P»diÿ‹
* 
p
 = 
şau£
->
	`g‘P»diÿ‹
(
j
);

526 
GroundP»diÿ‹
* 
gp
 = 
Ãw
 
	`GroundP»diÿ‹
(
p
);

527 ià(
£’P»ds
->
	`fšd
(
gp
è!ğ£’P»ds->
	`’d
() ||

528 (
®lGndšgsA»Qu”›s
 && (*®lGndšgsA»Qu”›s)[
gp
->
	`g‘Id
()] > 1) )

530 
£’BefÜe
 = 
Œue
;

531 
d–‘e
 
gp
;

534 
d–‘e
 
gp
;

537 ià(
£’BefÜe
) ;

539 
GroundCÏu£
* 
gndCÏu£
 = 
Ãw
 
	`GroundCÏu£
(
ŒuncCÏu£
, 
gndP»ds
);

540 if(
mrfdebug
)

542 
cout
<<"gndP»d siz: "<<
gndP»ds
->
	`size
()<<
’dl
;

543 
cout
<<"gndCÏu£ c»©ed..."<<
’dl
;

546 
boŞ
 
®lP»dsSubty³
 = 
Œue
;

547 
i
 = 0 ; i < 
gndCÏu£
->
	`g‘NumGroundP»diÿ‹s
() ; i++)

549 cÚ¡ 
GroundP»diÿ‹
* 
gp
 = 
gndCÏu£
->
	`g‘GroundP»diÿ‹
(
i
, 
gndP»ds
);

550 if(
gp
->
	`g‘P»dName
(
db
->
	`g‘Domaš
()è!ğ"subty³" || 
isH¬dCÏu£
)

552 
®lP»dsSubty³
 = 
çl£
;

556 if(
®lP»dsSubty³
)

558 
d–‘e
 
gndCÏu£
;

562 if(
mrfdebug
)

564 
cout
<<"checkšg fÜ‡Î subty³ dÚe..."<<
’dl
;

566 ià(
m¬kH¬dGndCÏu£s
 && 
isH¬dCÏu£
è
gndCÏu£
->
	`£tWtToH¬dWt
();

567 
	`as£¹
(
gndCÏu£
->
	`g‘Wt
() != 0);

569 
boŞ
 
šv”tWt
 = 
çl£
;

571 ià(!
isH¬dCÏu£
 && 
gndCÏu£
->
	`g‘NumGroundP»diÿ‹s
() == 1 &&

572 !
gndCÏu£
->
	`g‘GroundP»diÿ‹S’£
(0))

574 
gndCÏu£
->
	`£tGroundP»diÿ‹S’£
(0, 
Œue
);

575 
gndCÏu£
->
	`£tWt
(-gndCÏu£->
	`g‘Wt
());

576 
šv”tWt
 = 
Œue
;

579 
GroundCÏu£S‘
::
™”©Ü
 
™”
 = 
gndCÏu£sS‘
->
	`fšd
(
gndCÏu£
);

580 if(
mrfdebug
)

582 
cout
<<"´štšg cu¼’ˆbig gnd cÏu£ : "<<
’dl
;

583 
gndCÏu£
->
	`´št
(
cout
);

584 
cout
<<
’dl
;

585 
cout
<<"´štšg big gnd cÏu£sS‘ :"<<
’dl
;

586 
GroundCÏu£S‘
::
™”©Ü
 
™”
 = 
gndCÏu£sS‘
->
	`begš
(è; i‹¸!ğgndCÏu£sS‘->
	`’d
() ; iter++)

588 (*
™”
)->
	`´št
(
cout
);

589 
cout
<<
’dl
;

593 ià(
™”
 =ğ
gndCÏu£sS‘
->
	`’d
())

595 
gndCÏu£sS‘
->
	`š£¹
(
gndCÏu£
);

596 
gndCÏu£s
->
	`­³nd
(
gndCÏu£
);

597 
gndCÏu£
->
	`­³ndToGndP»ds
(
gndP»ds
);

598 if(
mrfdebug
è
cout
<<"·»ÁWtPŒ : "<<
·»ÁWtPŒ
<<
’dl
;

600 ià(
·»ÁWtPŒ
)

601 
gndCÏu£
->
	`šüem’tCÏu£F»qu’cy
(
şau£Id
, 1, 
šv”tWt
);

605 
j
 = 0; j < 
gndCÏu£
->
	`g‘NumGroundP»diÿ‹s
(); j++)

607 
GroundP»diÿ‹
* 
gp
 =

608 (
GroundP»diÿ‹
*)
gndCÏu£
->
	`g‘GroundP»diÿ‹
(
j
, 
gndP»ds
);

609 
	`as£¹
(
£’P»ds
->
	`fšd
(
gp
è=ğ£’P»ds->
	`’d
());

611 
GroundP»diÿ‹S‘
::
™”©Ü
 
™
 = 
un£’P»ds
->
	`fšd
(
gp
);

612 ià(
™
 =ğ
un£’P»ds
->
	`’d
())

616 
un£’P»ds
->
	`š£¹
(
gp
);

619 
	`addToR—lGndCÏu£s
(
gndCÏu£
, 
isH¬dCÏu£
, 
agcs
, 
db
);

624 if(
mrfdebug
)
cout
<<"Big ground cÏu£‡Ì—dy hav ­³¬ed..."<<
’dl
;

625 (*
™”
)->
	`addWt
(
gndCÏu£
->
	`g‘Wt
());

626 ià(
·»ÁWtPŒ
)

627 
gndCÏu£
->
	`šüem’tCÏu£F»qu’cy
(
şau£Id
, 1, 
šv”tWt
);

628 
	`addToR—lGndCÏu£s
(
gndCÏu£
, 
isH¬dCÏu£
, 
agcs
, 
db
);

629 
d–‘e
 
gndCÏu£
;

631 
	}
}

635 ~
	$MRF
()

637 
i
 = 0; i < 
gndCÏu£s_
->
	`size
(); i++)

638 ià((*
gndCÏu£s_
)[
i
]è
	`d–‘e
 (*gndClauses_)[i];

639 
d–‘e
 
gndCÏu£s_
;

641 
i
 = 0; i < 
gndP»ds_
->
	`size
(); i++)

642 ià((*
gndP»ds_
)[
i
]è
	`d–‘e
 (*gndPreds_)[i];

643 
d–‘e
 
gndP»ds_
;

644 
	}
}

646 
	$d–‘eGndP»dsGndCÏu£S‘s
()

648 
i
 = 0; i < 
gndP»ds_
->
	`size
(); i++)

649 (*
gndP»ds_
)[
i
]->
	`d–‘eGndCÏu£S‘
();

650 
	}
}

652 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
	$g‘GndP»ds
(ècÚ¡ {  
gndP»ds_
; 
	}
}

654 cÚ¡ 
	gA¼ay
<
	gGroundCÏu£
*>* 
	$g‘GndCÏu£s
(ècÚ¡ {  
gndCÏu£s_
; 
	}
}

656 cÚ¡ 
	gA¼ay
<
	gGroundCÏu£
*>* 
	$g‘FÏtR—lGndCÏu£s
(ècÚ¡ {  
æ©R—lGndCÏu£s_
; 
	}
}

658 
	g´iv©e
:

660 
	$addUnknownGndCÏu£s
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡& 
qu”yGndP»d
,

661 
CÏu£
* cÚ¡ & 
c
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

662 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

663 cÚ¡ 
boŞ
& 
g’CÏu£FÜAÎP»dGndšgs
,

664 cÚ¡ 
AddGroundCÏu£SŒuù
* cÚ¡ & 
agcs
)

669 ià(
g’CÏu£FÜAÎP»dGndšgs
)

670 
c
->
	`addUnknownCÏu£s
(
domaš
, 
db
, -1, 
NULL
, 
agcs
);

673 
i
 = 0; i < 
c
->
	`g‘NumP»diÿ‹s
(); i++)

677 ià(
c
->
	`g‘P»diÿ‹
(
i
)->
	`ÿnBeGroundedAs
(
qu”yGndP»d
))

679 
c
->
	`addUnknownCÏu£s
(
domaš
, 
db
, 
i
, 
qu”yGndP»d
, 
agcs
);

684 
	}
}

686 
	gpublic
:

688 cÚ¡ 
	$g‘NumGndP»ds
()

690  
gndP»ds_
->
	`size
();

691 
	}
}

693 cÚ¡ 
	$g‘NumGndCÏu£s
()

695  
gndCÏu£s_
->
	`size
();

696 
	}
}

698 
	g´iv©e
:

699 
GroundP»diÿ‹HashA¼ay
* 
gndP»ds_
;

701 
	gA¼ay
<
	gGroundCÏu£
*>* 
	ggndCÏu£s_
;

702 
	gA¼ay
<
	gGroundCÏu£
*>* 
	gæ©R—lGndCÏu£s_
;

	@infer/node.cpp

67 
	~"node.h
"

75 
	gNode
::
addFaùÜs
(
A¼ay
<
FaùÜ
 *> * cÚ¡ & 
®lFaùÜs
,

76 
LškIdToTwoWayMes§geM­
* cÚ¡ & 
lidToTWMsg
)

78 
FaùÜ
 *
	gçùÜ
;

79 
Lšk
 *
	glšk
;

80 
	gút
;

81 
CÏu£CouÁ”
 * 
	gcouÁ”
 = (CÏu£CouÁ” *)
su³rP»d_
->
g‘CÏu£CouÁ”
();

82 
	gnumFaùÜs
 = 
couÁ”
->
g‘NumCÏu£s
();

83 cÚ¡ 
	gA¼ay
<> * 
	gúts
;

85 
	gfšdex
 = 0; fšdex < 
	gnumFaùÜs
; findex++)

87 
	gfid
 = 
couÁ”
->
g‘CÏu£Id
(
fšdex
);

88 
	gúts
 = 
couÁ”
->
g‘CÏu£CouÁs
(
fšdex
);

89 
	gçùÜ
 = (*
®lFaùÜs
)[
fid
];

91 
	g´edIndex
 = 0;…»dIndex < 
	gúts
->
size
();…redIndex++)

93 
	gút
 = (*
úts
)[
´edIndex
];

94 ià((*
	gúts
)[
´edIndex
] == 0)

98 
	g»v”£NodeIndex
 = 
çùÜ
->
g‘NumLšks
();

100 
	g»v”£FaùÜIndex
 = 
g‘NumLšks
();

102 
	glšk
 = 
Ãw
 
Lšk
(
this
, 
çùÜ
, 
»v”£NodeIndex
, 
»v”£FaùÜIndex
,

103 
´edIndex
, 
út
);

106 
LškId
 *
	glid
;

107 
TwoWayMes§ge
 *
	gtmsg
;

108 *
	gnodeToFaùÜMsgs
, *
	gçùÜToNodeMsgs
;

109 
	gLškIdToTwoWayMes§geM­
::
™”©Ü
 
lidToTMsgIŒ
;

110 
	g·»ÁSu³rP»dId
 = 
g‘P¬’tSu³rP»dId
();

111 
	g·»ÁSu³rCÏu£Id
 = 
çùÜ
->
g‘P¬’tSu³rCÏu£Id
();

113 
	glid
 = 
Ãw
 
LškId
(
´edId_
, 
·»ÁSu³rP»dId
, 
·»ÁSu³rCÏu£Id
,

114 
´edIndex
);

115 
	glidToTMsgIŒ
 = 
lidToTWMsg
->
fšd
(
lid
);

116 
d–‘e
 
	glid
;

118 ià(
	glidToTMsgIŒ
 !ğ
lidToTWMsg
->
’d
())

120 
tmsg
 = 
lidToTMsgIŒ
->
£cÚd
;

121 
	gnodeToFaùÜMsgs
 = 
tmsg
->
g‘NodeToFaùÜMes§ge
();

122 
	gçùÜToNodeMsgs
 = 
tmsg
->
g‘FaùÜToNodeMes§ge
();

126 
	gnodeToFaùÜMsgs
 = 
NULL
;

127 
	gçùÜToNodeMsgs
 = 
NULL
;

129 
	gthis
->
addLšk
(
lšk
, 
nodeToFaùÜMsgs
);

130 
	gçùÜ
->
addLšk
(
lšk
,
çùÜToNodeMsgs
);

136 
	gNode
::
	$£ndMes§ge
()

138 
Lšk
 *
lšk
;

139 
FaùÜ
 *
çùÜ
;

140 
út
;

141 *
msgs
;

142 *
outMsgs
 = 
Ãw
 [2];

144 
lšdex
 = 0;†šdex < 
lšks_
->
	`size
();†index++)

146 
lšk
 = (*
lšks_
)[
lšdex
];

147 
çùÜ
 = 
lšk
->
	`g‘FaùÜ
();

148 
út
 = 
lšk
->
	`g‘CouÁ
();

150 
msgs
 = (*
msgsA¼_
)[
lšdex
];

151 
i
 = 0; i < 2; i++)

153 
outMsgs
[
i
] = 
msgProds_
[i] - 
msgs
[i];

157 
çùÜ
->
	`»ûiveMes§ge
(
outMsgs
, 
lšk
);

159 
d–‘e
 [] 
outMsgs
;

160 
	}
}

163 
	gNode
::
	$£ndAuxMes§ge
()

165 
Lšk
 *
lšk
;

166 
FaùÜ
 *
çùÜ
;

167 
út
;

169 *
outMsgs
 = 
Ãw
 [2];

171 
lšdex
 = 0;†šdex < 
auxLšks_
->
	`size
();†index++)

173 
lšk
 = (*
auxLšks_
)[
lšdex
];

174 
çùÜ
 = 
lšk
->
	`g‘FaùÜ
();

175 
út
 = 
lšk
->
	`g‘CouÁ
();

176 
i
 = 0; i < 2; i++)

178 
outMsgs
[
i
] = 
msgProds_
[i];

182 
çùÜ
->
	`»ûiveMes§ge
(
outMsgs
, 
lšk
);

184 
d–‘e
 [] 
outMsgs
;

185 
	}
}

189 
	gNode
::
	$moveToNextS‹p
()

191 * 
msgs
;

192 * 
ÃxtMsgs
;

193 
út
;

196 
i
 = 0; i < 2; i++)

198 
msgProds_
[
i
] = 0;

203 
lšdex
 = 0;†šdex < 
lšks_
->
	`size
();†index++)

205 
msgs
 = (*
msgsA¼_
)[
lšdex
];

206 
ÃxtMsgs
 = (*
ÃxtMsgsA¼_
)[
lšdex
];

213 
út
 = (*
lšks_
)[
lšdex
]->
	`g‘CouÁ
();

214 
i
 = 0; i < 2; i++)

216 
msgs
[
i
] = 
ÃxtMsgs
[i];

217 
ÃxtMsgs
[
i
] = 0;

219 
msgProds_
[
i
] = msgProds_[i] + 
út
*
msgs
[i];

222 
	}
}

224 
	gNode
::
gNeighbÜsS’d
(
£t
<
FaùÜ
*> &
£ndFaùÜs
,

225 
£t
<
FaùÜ
*> &
»ûiveFaùÜs
,

226 
£t
<
Node
*> &
»ûiveNodes
)

231 
FaùÜ
* 
	gçùÜ
;

232 
	glšdex
 = 0;†šdex < 
	glšks_
->
size
();†index++)

234 
	gçùÜ
 = (*
lšks_
)[
lšdex
]->
g‘FaùÜ
();

235 
	g£ndFaùÜs
.
š£¹
(
çùÜ
);

236 
	g»ûiveFaùÜs
.
š£¹
(
çùÜ
);

237 
	gçùÜ
->
gNeighbÜsReûive
(
»ûiveNodes
);

241 
	gNode
::
gNeighbÜsS’d
(
li¡
<
FaùÜ
*> &
£ndFaùÜs
,

242 
li¡
<
FaùÜ
*> &
»ûiveFaùÜs
,

243 
li¡
<
Node
*> &
»ûiveNodes
)

249 
FaùÜ
* 
	gçùÜ
;

250 
	glšdex
 = 0;†šdex < 
	glšks_
->
size
();†index++)

252 
	gçùÜ
 = (*
lšks_
)[
lšdex
]->
g‘FaùÜ
();

253 
	g£ndFaùÜs
.
push_back
(
çùÜ
);

254 
	g»ûiveFaùÜs
.
push_back
(
çùÜ
);

255 
	gçùÜ
->
gNeighbÜsReûive
(
»ûiveNodes
);

259 
	gNode
::
gNeighbÜsReûive
(
£t
<
FaùÜ
*> &
£ndFaùÜs
,

260 
£t
<
FaùÜ
*> &
»ûiveFaùÜs
,

261 
£t
<
Node
*> &
£ndNodes
,

262 
£t
<
Node
*> &
»ûiveNodes
)

268 
FaùÜ
* 
	gçùÜ
;

269 
	glšdex
 = 0;†šdex < 
	glšks_
->
size
();†index++)

271 
	gçùÜ
 = (*
lšks_
)[
lšdex
]->
g‘FaùÜ
();

272 
	g»ûiveFaùÜs
.
š£¹
(
çùÜ
);

273 
	gçùÜ
->
gNeighbÜsS’dReûive
(
£ndFaùÜs
, 
»ûiveFaùÜs
, 
£ndNodes
,

274 
»ûiveNodes
);

278 
	gNode
::
gNeighbÜsReûive
(
li¡
<
FaùÜ
*> &
£ndFaùÜs
,

279 
li¡
<
FaùÜ
*> &
»ûiveFaùÜs
,

280 
li¡
<
Node
*> &
£ndNodes
,

281 
li¡
<
Node
*> &
»ûiveNodes
)

287 
FaùÜ
* 
	gçùÜ
;

288 
	glšdex
 = 0;†šdex < 
	glšks_
->
size
();†index++)

291 
	gçùÜ
 = (*
lšks_
)[
lšdex
]->
g‘FaùÜ
();

292 
	g»ûiveFaùÜs
.
push_back
(
çùÜ
);

293 
	gçùÜ
->
gNeighbÜsS’dReûive
(
£ndFaùÜs
, 
»ûiveFaùÜs
, 
£ndNodes
,

294 
»ûiveNodes
);

	@infer/node.h

67 #iâdeà
_NODE_H_Jª_2008


68 
	#_NODE_H_Jª_2008


	)

70 
	~<m©h.h
>

71 
	~"ut.h
"

72 
	~"mrf.h
"

73 
	~"¬¿y.h
"

74 
	~"lšk.h
"

75 
	~"su³½»d.h
"

76 
	~"twowaymes§ge.h
"

77 
	~"çùÜ.h
"

79 cÚ¡ 
	gMIN
 = 1e-6;

80 cÚ¡ 
	gMINEXP
 = 
logl
(
MIN
);

82 cÚ¡ 
	gSMOOTHTERM
 = 1e-6;

84 
usšg
 
Çme¥aû
 
	g¡d
;

85 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

90 şas 
	cNode


92 
	mpublic
:

97 
Node
(
´edId
, 
Su³rP»d
 * cÚ¡ & 
su³rP»d
,

98 
A¼ay
<> * cÚ¡ & 
cÚ¡ªts
, 
Domaš
 * cÚ¡ & 
domaš
)

100 
	m´edId_
 = 
´edId
;

101 
	msu³rP»d_
 = 
su³rP»d
;

102 
	mcÚ¡ªts_
 = 
cÚ¡ªts
;

103 
	mdomaš_
 = 
domaš
;

104 
	mlšks_
 = 
Ãw
 
A¼ay
<
Lšk
 *>();

105 
	mauxLšks_
 = 
Ãw
 
A¼ay
<
Lšk
 *>();

106 
	mmsgsA¼_
 = 
Ãw
 
A¼ay
<*>();

107 
	mÃxtMsgsA¼_
 = 
Ãw
 
A¼ay
<*>();

108 
	mmsgProds_
[0] = 
msgProds_
[1] = 0;

109 
	m´evProb_
 = 0.5;

110 
	mut_
 = 0.0;

112 
	mggedS’d_
 = 
çl£
;

113 
	mggedReûive_
 = 
çl£
;

115 
	mgndNodeCÁ_
 = 
NULL
;

121 ~
	$Node
()

123 
i
 = 0; i < 
lšks_
->
	`size
(); i++)

124 
	`d–‘e
 (*
lšks_
)[
i
];

125 
i
 = 0; i < 
auxLšks_
->
	`size
(); i++)

126 
	`d–‘e
 (*
auxLšks_
)[
i
];

127 
i
 = 0; i < 
msgsA¼_
->
	`size
(); i++)

129 
	`d–‘e
 (*
msgsA¼_
)[
i
];

130 
	`d–‘e
 (*
ÃxtMsgsA¼_
)[
i
];

132 
d–‘e
 
lšks_
;

133 
d–‘e
 
auxLšks_
;

134 
d–‘e
 
msgsA¼_
;

135 
d–‘e
 
ÃxtMsgsA¼_
;

136 ià(
gndNodeCÁ_
)

137 
d–‘e
 
gndNodeCÁ_
;

138 
	}
}

140 
	$g‘P»dId
(è{  
´edId_
;
	}
}

142 
	$g‘Su³rP»dId
()

144 ià(
su³rP»d_
)

145  
su³rP»d_
->
	`g‘Su³rP»dId
();

148 
	}
}

150 
	$g‘P¬’tSu³rP»dId
()

152 ià(
su³rP»d_
)

153  
su³rP»d_
->
	`g‘P¬’tSu³rP»dId
();

156 
	}
}

158 
Su³rP»d
* 
	$g‘Su³rP»d
(è{ 
su³rP»d_
;
	}
}

159 
	gA¼ay
<> * 
	$g‘CÚ¡ªts
(è{ 
cÚ¡ªts_
;
	}
}

161 
	$g‘GroundNodeCouÁ
()

163 ià(
gndNodeCÁ_
 =ğ
NULL
)

165 
gndNodeCÁ_
 = 
Ãw
 ;

166 ià(
su³rP»d_
)

167 *
gndNodeCÁ_
 = 
su³rP»d_
->
	`g‘AµroxNumTu¶es
();

169 *
gndNodeCÁ_
 = 1;

171  *
gndNodeCÁ_
;

172 
	}
}

178 
	$g‘NumLšks
(è{  
lšks_
->
	`size
();
	}
}

180 
Lšk
 * 
	$g‘Lšk
(
šdex
è{ (*
lšks_
)[šdex];
	}
}

189 
	$g‘Mes§ge
(
šdex
, 
msgs
[])

191 
msgs
[0] = (*
msgsA¼_
)[
šdex
][0];

192 
msgs
[1] = (*
msgsA¼_
)[
šdex
][1];

193 
	}
}

199 
	$addAuxLšk
(
Lšk
 *
lšk
)

201 
auxLšks_
->
	`­³nd
(
lšk
);

202 
	}
}

208 
	$addLšk
(
Lšk
 *
lšk
, 
špMsgs
[2])

210 
lšks_
->
	`­³nd
(
lšk
);

211 *
msgs
;

212 
msgs
 = 
Ãw
 [2];

214 
út
 = 
lšk
->
	`g‘CouÁ
();

215 
i
 = 0; i < 2; i++)

217 ià(
špMsgs
)

219 
msgs
[
i
] = 
špMsgs
[i];

223 
msgs
[
i
] = 0;

225 
msgProds_
[
i
] = msgProds_[i] + 
út
*
msgs
[i];

228 
msgsA¼_
->
	`­³nd
(
msgs
);

229 
msgs
 = 
Ãw
 [2];

230 
ÃxtMsgsA¼_
->
	`­³nd
(
msgs
);

231 
	}
}

237 
addFaùÜs
(
A¼ay
<
FaùÜ
 *> * cÚ¡ & 
®lFaùÜs
,

238 
LškIdToTwoWayMes§geM­
* cÚ¡ & 
lidToTWMsg
);

243 
	$»ûiveMes§ge
(* 
špMsgs
, 
Lšk
 * cÚ¡ & 
lšk
)

245 *
ÃxtMsgs
;

246 
»v”£FaùÜIndex
 = 
lšk
->
	`g‘Rev”£FaùÜIndex
();

247 
ÃxtMsgs
 = (*
ÃxtMsgsA¼_
)[
»v”£FaùÜIndex
];

248 
ÃxtMsgs
[0] = 
špMsgs
[0];

249 
ÃxtMsgs
[1] = 
špMsgs
[1];

250 
	}
}

252 
	$g‘Exp
()

254 
exp
 = 
msgProds_
[1] - msgProds_[0];

255  
exp
;

256 
	}
}

262 * 
	$g‘Probs
(* cÚ¡ & 
´obs
)

264 
exps
[2];

265 
nÜm
, 
smoÙh
;

266 
exps
[0] = 0;

267 
exps
[1] = 
msgProds_
[1] - msgProds_[0];

269 
i
 = 0; i < 2; i++)

271 if(
exps
[
i
] < 
MINEXP
)

272 
exps
[
i
] = 
MINEXP
;

273 if(
exps
[
i
] > -
MINEXP
)

274 
exps
[
i
] = -
MINEXP
;

275 
´obs
[
i
] = 
	`ex¶
(
exps
[i]);

278 
nÜm
 = 
´obs
[0] +…robs[1];

279 
smoÙh
 = 
nÜm
*
SMOOTHTERM
;

280 
nÜm
 +ğ
smoÙh
;

282 
i
 = 0; i < 2 ; i++)

284 
´obs
[
i
] +ğ
smoÙh
/2;

285 
´obs
[
i
] =…robs[i]/
nÜm
;

287  
´obs
;

288 
	}
}

293 
£ndMes§ge
();

298 
£ndAuxMes§ge
();

303 
moveToNextS‹p
();

305 
	go¡»am
& 
	$´št
(
o¡»am
& 
out
)

307 ià(
su³rP»d_
 !ğ
NULL
)

308 (
su³rP»d_
->
	`g‘Hy³rCube
(0))->
	`´št
(
out
);

310 
	`´štA¼ay
(*
cÚ¡ªts_
,
out
);

311  
out
;

312 
	}
}

314 
	$g‘Prob
()

316 
´obs
[2];

317 
	`g‘Probs
(
´obs
);

318  
´obs
[1];

319 
	}
}

321 
	$g‘P»vUt
(è{  
´evProb_
 * 
ut_
; 
	}
}

323 
	$upd©eProb
(è{ 
´evProb_
 = 
	`g‘Prob
(); 
	}
}

325 
	$g‘Ut
(è{  
	`g‘Prob
(è* 
ut_
; 
	}
}

327 
	$isUt
(è{  (
ut_
 !ğ0.0); 
	}
}

329 
	$£tUt
(
ut
è{ 
ut_
 = ut; 
	}
}

332 
gNeighbÜsS’d
(
£t
<
FaùÜ
*> &
£ndFaùÜs
,

333 
£t
<
FaùÜ
*> &
»ûiveFaùÜs
,

334 
£t
<
Node
*> &
»ûiveNodes
);

335 
gNeighbÜsS’d
(
li¡
<
FaùÜ
*> &
£ndFaùÜs
,

336 
li¡
<
FaùÜ
*> &
»ûiveFaùÜs
,

337 
li¡
<
Node
*> &
»ûiveNodes
);

342 
gNeighbÜsReûive
(
£t
<
FaùÜ
*> &
£ndFaùÜs
,

343 
£t
<
FaùÜ
*> &
»ûiveFaùÜs
,

344 
£t
<
Node
*> &
£ndNodes
,

345 
£t
<
Node
*> &
»ûiveNodes
);

346 
gNeighbÜsReûive
(
li¡
<
FaùÜ
*> &
£ndFaùÜs
,

347 
li¡
<
FaùÜ
*> &
»ûiveFaùÜs
,

348 
li¡
<
Node
*> &
£ndNodes
,

349 
li¡
<
Node
*> &
»ûiveNodes
);

351 
	$»£tTags
()

353 
ggedS’d_
 = 
çl£
;

354 
ggedReûive_
 = 
çl£
;

355 
	}
}

357 
	g´iv©e
:

359 
´edId_
;

363 
Su³rP»d
 * 
	gsu³rP»d_
;

364 
	gA¼ay
<> *
	gcÚ¡ªts_
;

366 
Domaš
 * 
	gdomaš_
;

368 
	gA¼ay
<
	gLšk
 *> * 
	glšks_
;

370 
	gA¼ay
<
	gLšk
 *> * 
	gauxLšks_
;

372 
	gA¼ay
<*> * 
	gmsgsA¼_
;

373 
	gA¼ay
<*> * 
	gÃxtMsgsA¼_
;

379 
	gmsgProds_
[2];

381 
	gut_
;

382 
	g´evProb_
;

384 
boŞ
 
	gggedS’d_
, 
	gggedReûive_
;

386 *
	ggndNodeCÁ_
;

	@infer/partialgndhctuple.h

67 #iâdeà
_PARTIAL_GND_HC_MAY_2008


68 
	#_PARTIAL_GND_HC_MAY_2008


	)

70 
	~<ext/hash_m­
>

71 
	~<o¡»am
>

73 
	~"ut.h
"

74 
	~"mrf.h
"

75 
	~"¬¿y.h
"

76 
	~"hashšt.h
"

77 
	~"hy³rcubeİ”©iÚs.h
"

79 şas 
	cP¬tŸlGndHCTu¶e
 {

81 
	mpublic
:

82 
	$P¬tŸlGndHCTu¶e
(
CÏu£
 * cÚ¡ & 
şau£
, 
boŞ
 
u£CT
) {

84 
şau£_
 = 
şau£
;

85 
u£CT_
 = 
u£CT
;

87 
v¬CÁ
 = 
şau£
->
	`g‘NumV¬ŸbËs
();

88 
´edCÁ
 = 
şau£
->
	`g‘NumP»diÿ‹s
();

90 
hy³rCube_
 = 
Ãw
 
	`Hy³rCube
(
v¬CÁ
);

92 
isGndP»ds_
 = 
Ãw
 
A¼ay
<
boŞ
>(
´edCÁ
,
çl£
);

93 
jošHy³rCubes_
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>(
´edCÁ
,
NULL
);

94 
cÚ¡¿šedHy³rCubes_
 = 
NULL
;

97 
	$P¬tŸlGndHCTu¶e
(
P¬tŸlGndHCTu¶e
 * cÚ¡ & 
pgTu¶e
) {

98 
şau£_
 = 
pgTu¶e
->
	`g‘CÏu£
();

99 
u£CT_
 = 
pgTu¶e
->
	`isU£CT
();

100 
hy³rCube_
 = 
Ãw
 
	`Hy³rCube
(
pgTu¶e
->
	`g‘Hy³rCube
());

101 
isGndP»ds_
 = 
Ãw
 
A¼ay
<
boŞ
>(*
pgTu¶e
->
	`g‘IsGndP»ds
());

102 
jošHy³rCubes_
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>(*
pgTu¶e
->
	`g‘JošHy³rCubes
());

103 
cÚ¡¿šedHy³rCubes_
 = 
NULL
;

104 
	}
}

106 ~
	$P¬tŸlGndHCTu¶e
() {

107 
d–‘e
 
hy³rCube_
;

108 
d–‘e
 
isGndP»ds_
;

109 
d–‘e
 
jošHy³rCubes_
;

110 if(
cÚ¡¿šedHy³rCubes_
)

111 
d–‘e
 
cÚ¡¿šedHy³rCubes_
;

112 
	}
}

115 
boŞ
 
	$isU£CT
() {

116  
u£CT_
;

117 
	}
}

121 
boŞ
 
	$isV¬Gnded
(
v¬Id
) {

122  (
hy³rCube_
->
	`g‘V¬CÚ¡ªts
(
v¬Id
è!ğ
NULL
);

123 
	}
}

126 
boŞ
 
	$isGnded
() {

127 
´edCÁ
 = 
isGndP»ds_
->
	`size
();

128 
i
=0;i<
´edCÁ
;i++) {

129 if(!(*
isGndP»ds_
)[
i
])

130  
çl£
;

132  
Œue
;

133 
	}
}

135 
CÏu£
 * 
	$g‘CÏu£
(è{  
şau£_
;
	}
}

136 
Hy³rCube
 * 
	$g‘Hy³rCube
(è{  
hy³rCube_
;
	}
}

137 
	gA¼ay
<
	gHy³rCube
 *> * 
	$g‘JošHy³rCubes
(è{  
jošHy³rCubes_
;
	}
}

139 
	gA¼ay
<
	gHy³rCube
 *> *
	$g‘CÚ¡¿šedHy³rCubes
(è{  
cÚ¡¿šedHy³rCubes_
;
	}
}

141 
	gA¼ay
<
	gboŞ
> * 
	$g‘IsGndP»ds
(){ 
isGndP»ds_
;
	}
}

143 
IÁA¼ay
 * 
	$g‘V¬CÚ¡ªts
(
v¬Id
) {

144  
hy³rCube_
->
	`g‘V¬CÚ¡ªts
(
v¬Id
);

145 
	}
}

148 
	$g‘Fœ¡UnGndP»dIndex
() {

149 
´edCÁ
 = 
isGndP»ds_
->
	`size
();

150 
pšdex
=0;pšdex<
´edCÁ
;pindex++) {

151 if(!(*
isGndP»ds_
)[
pšdex
])

152  
pšdex
;

155 
	}
}

158 
Hy³rCube
 * 
	$g‘P»diÿ‹Hy³rCube
(
Hy³rCube
 * cÚ¡ & 
hc
, 
pšdex
) {

159 
P»diÿ‹
 *
´ed
 = 
şau£_
->
	`g‘P»diÿ‹
(
pšdex
);

160 
´edT”mCÁ
 = 
´ed
->
	`g‘NumT”ms
();

161 
Hy³rCube
 *
phy³rCube
 = 
Ãw
 
	`Hy³rCube
(
´edT”mCÁ
);

162 
IÁA¼ay
 * 
v¬CÚ¡ªts
;

164 if(
u£CT_
) {

165 
hc
->
	`upd©eToIm¶ic™T›dR•»£Á©iÚ
();

168 
‹rmno
=0;”mno<
´edT”mCÁ
;termno++) {

169 cÚ¡ 
T”m
 *
‹rm
 = 
´ed
->
	`g‘T”m
(
‹rmno
);

170 
v¬Id
 = -
‹rm
->
	`g‘Id
();

173 
	`as£¹
(
	`isV¬Gnded
(
v¬Id
));

177 
v¬CÚ¡ªts
 = 
hc
->
	`g‘V¬CÚ¡ªts
(
v¬Id
);

178 
phy³rCube
->
	`£tV¬CÚ¡ªts
(
v¬CÚ¡ªts
, 
‹rmno
+1);

181 if(
u£CT_
) {

182 
hc
->
	`upd©eToEx¶ic™T›dR•»£Á©iÚ
();

183 
phy³rCube
->
	`upd©eToEx¶ic™T›dR•»£Á©iÚ
();

187 
‹rmno
=0;”mno<
´edT”mCÁ
;termno++) {

188 
‹rmIndex
 = 
‹rmno
+1;

189 
»fT”mIndex
 = 
phy³rCube
->
	`g‘Reã»nûV¬Id
(
‹rmIndex
);

192 if(!
u£CT_
) {

193 
	`as£¹
(
»fT”mIndex
 =ğ
‹rmIndex
);

196 if(
»fT”mIndex
 !ğ
‹rmIndex
)

198 
v¬CÚ¡ªts
 = 
Ãw
 
	`IÁA¼ay
(*(
phy³rCube
->
	`g‘V¬CÚ¡ªts
(
‹rmIndex
)));

199 
phy³rCube
->
	`£tV¬CÚ¡ªts
(
v¬CÚ¡ªts
,
‹rmIndex
);

201  
phy³rCube
;

202 
	}
}

206 
	$g‘Reã»nûV¬Id
(
v¬Id
) {

207  
hy³rCube_
->
	`g‘Reã»nûV¬Id
(
v¬Id
);

208 
	}
}

210 
	$još
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
,

211 
pšdex
) {

212 
P»diÿ‹
 *
´ed
 = 
şau£_
->
	`g‘P»diÿ‹
(
pšdex
);

213 
IÁA¼ay
 * 
v¬CÚ¡ªts
, *
»fV¬CÚ¡ªts
;

215 if(
u£CT_
) {

221 
hy³rCube_
->
	`upd©eToIm¶ic™T›dR•»£Á©iÚ
();

230 
‹rmno
=0;”mno<
´ed
->
	`g‘NumT”ms
();termno++) {

231 cÚ¡ 
T”m
 *
‹rm
 = 
´ed
->
	`g‘T”m
(
‹rmno
);

232 
v¬Id
 = -
‹rm
->
	`g‘Id
();

233 
‹rmIndex
 = 
‹rmno
+1;

234 
»fT”mIndex
 = 
hy³rCube
->
	`g‘Reã»nûV¬Id
(
‹rmIndex
);

237 if(!
u£CT_
) {

238 
	`as£¹
(
»fT”mIndex
 =ğ
‹rmIndex
);

242 if(
»fT”mIndex
 !ğ
‹rmIndex
) {

243 
»fT”mNo
 = 
»fT”mIndex
 - 1;

244 
»fV¬Id
 = -(
´ed
->
	`g‘T”m
(
»fT”mNo
))->
	`g‘Id
();

246 
	`as£¹
(
	`isV¬Gnded
(
»fV¬Id
));

247 
v¬CÚ¡ªts
 = 
hy³rCube_
->
	`g‘V¬CÚ¡ªts
(
v¬Id
);

248 
»fV¬CÚ¡ªts
 = 
hy³rCube_
->
	`g‘V¬CÚ¡ªts
(
»fV¬Id
);

249 if(
v¬CÚ¡ªts
 =ğ
»fV¬CÚ¡ªts
)

251 if(!
v¬CÚ¡ªts
) {

252 
hy³rCube_
->
	`£tV¬CÚ¡ªts
(
»fV¬CÚ¡ªts
,
v¬Id
);

254 
hy³rCube_
->
	`š‹r£ù
(
v¬CÚ¡ªts
,
»fV¬Id
);

255 
»fV¬CÚ¡ªts
 = 
hy³rCube_
->
	`g‘V¬CÚ¡ªts
(
»fV¬Id
);

256 
hy³rCube_
->
	`£tV¬CÚ¡ªtsAndD–‘eOld
(
»fV¬CÚ¡ªts
,
v¬Id
);

260 if(
	`isV¬Gnded
(
v¬Id
)) {

262 
v¬CÚ¡ªts
 = 
hy³rCube
->
	`g‘V¬CÚ¡ªts
(
»fT”mIndex
);

263 
hy³rCube_
->
	`š‹r£ù
(
v¬CÚ¡ªts
,
v¬Id
);

265 
v¬CÚ¡ªts
 = 
Ãw
 
	`IÁA¼ay
(*
hy³rCube
->
	`g‘V¬CÚ¡ªts
(
»fT”mIndex
));

266 
hy³rCube_
->
	`£tV¬CÚ¡ªts
(
v¬CÚ¡ªts
,
v¬Id
);

270 if(
u£CT_
) {

276 
hy³rCube_
->
	`upd©eToEx¶ic™T›dR•»£Á©iÚ
();

279 (*
isGndP»ds_
)[
pšdex
] = 
Œue
;

280 (*
jošHy³rCubes_
)[
pšdex
] = 
hy³rCube
;

287 
	}
}

290 
	$ü—‹CÚ¡¿šedHy³rCubes
(
IÁA¼ayHashA¼ay
 * cÚ¡ & 
špNeqCÚ¡¿šts
) {

291 
	`as£¹
(
cÚ¡¿šedHy³rCubes_
 =ğ
NULL
);

293 
Hy³rCube
 *
ÜigHy³rCube
 = 
Ãw
 
	`Hy³rCube
(
hy³rCube_
);

300 
cÚ¡¿šedHy³rCubes_
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>();

301 if(!
u£CT_
) {

302 
cÚ¡¿šedHy³rCubes_
->
	`­³nd
(
ÜigHy³rCube
);

306 
IÁA¼ayHashA¼ay
 * 
ÃqCÚ¡¿šts
 = 
hy³rCube_
->
	`g‘R–evªtCÚ¡¿šts
(
špNeqCÚ¡¿šts
);

307 
A¼ay
<
Hy³rCube
 *> *
mšusHy³rCubes
;

308 
Hy³rCube
 *
hy³rCube
, 
mšusHy³rCube
, *
š‹r£ùHy³rCube
;

309 
IÁA¼ay
 *
cÚ¡¿št
;

310 
boŞ
 
isR—dyToAdd
;

312 
A¼ay
<
Hy³rCube
 *> *
hcSck
 = 
Ãw
 Array<HyperCube *>();

313 
hcSck
->
	`­³nd
(
ÜigHy³rCube
);

315 
hcSck
->
	`size
() > 0) {

316 
hy³rCube
 = 
hcSck
->
	`»moveLa¡I‹m
();

317 
isR—dyToAdd
 = 
Œue
;

318 
úo
=0;úo<
ÃqCÚ¡¿šts
->
	`size
();cno++) {

320 
cÚ¡¿št
 = (*
ÃqCÚ¡¿šts
)[
úo
];

321 
v¬Id1
 = -(*
cÚ¡¿št
)[0];

322 
v¬Id2
 = -(*
cÚ¡¿št
)[1];

330 if(
hy³rCube
->
	`hasSameV¬CÚ¡ªts
(
v¬Id1
,
v¬Id2
))

332 if(
hy³rCube
->
	`hasDisjoštV¬CÚ¡ªts
(
v¬Id1
,
v¬Id2
))

334 
isR—dyToAdd
 = 
çl£
;

336 
š‹r£ùHy³rCube
 = 
Ãw
 
	`Hy³rCube
(
hy³rCube
);

344 
š‹r£ùHy³rCube
->
	`š‹r£ù
(
v¬Id1
,
v¬Id2
);

352 
mšusHy³rCubes
 = 
hy³rCube
->
	`g‘Mšus
(
š‹r£ùHy³rCube
);

361 
i
=0;i<
mšusHy³rCubes
->
	`size
();i++) {

364 
hcSck
->
	`­³nd
((*
mšusHy³rCubes
)[
i
]);

366 
d–‘e
 
mšusHy³rCubes
;

367 
hcSck
->
	`­³nd
(
š‹r£ùHy³rCube
);

379 
d–‘e
 
hy³rCube
;

383 if(
isR—dyToAdd
) {

384 
cÚ¡¿šedHy³rCubes_
->
	`­³nd
(
hy³rCube
);

393 
ÃqCÚ¡¿šts
->
	`d–‘eI‹msAndCË¬
();

394 
d–‘e
 
ÃqCÚ¡¿šts
;

395 
d–‘e
 
hcSck
;

396 
	}
}

402 
upd©eHy³rCubeRefšem’t
(
A¼ay
<
Hy³rCubeRefšem’t
 *> * cÚ¡ & 
hy³rCubeRefšem’tA¼
,

403 
IÁHashA¼ay
 * cÚ¡ & 
unknownP»dIndiûs
) {

404 
as£¹
(
isGnded
());

405 
Hy³rCube
 *
	gjošHy³rCube
, *
	g´edHy³rCube
, *
	gba£Hy³rCube
;

406 
Hy³rCubeRefšem’t
 *
	ghy³rCubeRefšem’t
;

407 
P»diÿ‹
 *
	g´ed
;

408 
	g´edCÁ
 = 
şau£_
->
g‘NumP»diÿ‹s
();

410 
Hy³rCube
 *
	ghc
;

411 
	ghšdex
=0;hšdex<
	gcÚ¡¿šedHy³rCubes_
->
size
();hindex++) {

412 
	ghc
 = (*
cÚ¡¿šedHy³rCubes_
)[
hšdex
];

414 
	gpšdex
=0;pšdex<
	g´edCÁ
;pindex++) {

417 if(
	gunknownP»dIndiûs
->
fšd
(
pšdex
) < 0)

420 
	g´ed
 = 
şau£_
->
g‘P»diÿ‹
(
pšdex
);

421 
	g´edId
 = 
´ed
->
g‘Id
();

422 
	ghy³rCubeRefšem’t
 = (*
hy³rCubeRefšem’tA¼
)[
´edId
];

424 
	gjošHy³rCube
 = (*
jošHy³rCubes_
)[
pšdex
];

427 
	gba£Hy³rCube
 = 
Ãw
 
Hy³rCube
(
jošHy³rCube
);

428 
	g´edHy³rCube
 = 
g‘P»diÿ‹Hy³rCube
(
hc
,
pšdex
);

432 
	ghy³rCubeRefšem’t
->
addSub£tHy³rCube
(
ba£Hy³rCube
,
´edHy³rCube
);

437 
	g´iv©e
:

438 
CÏu£
 *
şau£_
;

439 
Hy³rCube
 *
	ghy³rCube_
;

440 
	gA¼ay
<
	gHy³rCube
 *> * 
	gjošHy³rCubes_
;

441 
	gA¼ay
<
	gHy³rCube
 *> * 
	gcÚ¡¿šedHy³rCubes_
;

442 
	gA¼ay
<
	gboŞ
> *
	gisGndP»ds_
;

444 
boŞ
 
	gu£CT_
;

	@infer/refinehypercube.cpp

67 
	~<ext/hash_£t
>

68 
	~<ext/hash_m­
>

70 
	~"ut.h
"

71 
	~"hy³rcube.h
"

72 
	~"hy³rcub”efšem’t.h
"

74 
	#USE_RECURSIVE
 0

	)

75 
boŞ
 
	gPRINTED
 = 
çl£
;

81 #ià!
USE_RECURSIVE


82 
	gHy³rCubeRefšem’t
::
upd©eRefšedHy³rCubes
(
Hy³rCube
 * cÚ¡ & 
sub£tHy³rCube
,

83 
A¼ay
<
Hy³rCube
 *> * cÚ¡ & 
»fšedHy³rCubes
,

84 
A¼ay
<
Hy³rCube
 *> * cÚ¡ & 
»maššgHy³rCubes
,

85 
boŞ
 
´št
, 
d•th
, 
hcIndex
) {

87 if(!
	gPRINTED
) {

88 
	gcout
<<"Usšg I‹¿tivv”siÚ.."<<
	g’dl
;

89 
	gPRINTED
=
Œue
;

94 if(
	g»fšedHy³rCubes
->
size
() == 0) {

95 
»fšedHy³rCubes
->
­³nd
(
sub£tHy³rCube
);

99 
Hy³rCube
 *
	g»fšedHy³rCube
, *
	gtoIÁ”£ùHy³rCube
;

100 
	gA¼ay
<
	gHy³rCube
 *> * 
	gtoIÁ”£ùHy³rCubeCompÚ’ts
, *
	g»fšedHy³rCubeCompÚ’ts
;

101 
	gA¼ay
<
	gHy³rCube
 *> * 
	gtoIÁ”£ùHy³rCubes
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>();

102 
	gA¼ay
<> * 
	g¡¬tIndiûs
 = 
Ãw
 
A¼ay
<>();

104 
	gtoIÁ”£ùHy³rCubes
->
­³nd
(
sub£tHy³rCube
);

107 
	g¡¬tIndiûs
->
­³nd
(0);

109 
	g»fšedIndex
;

111 
	gtoIÁ”£ùHy³rCubes
->
size
() > 0) {

113 
as£¹
(
toIÁ”£ùHy³rCubes
->
size
(è=ğ
¡¬tIndiûs
->size());

115 
	gtoIÁ”£ùHy³rCube
 = 
toIÁ”£ùHy³rCubes
->
»moveLa¡I‹m
();

116 
	g»fšedIndex
 = 
¡¬tIndiûs
->
»moveLa¡I‹m
();

118 
	g»fšedIndex
 < 
	g»fšedHy³rCubes
->
size
()) {

119 
	g»fšedHy³rCube
 = (*
»fšedHy³rCubes
)[
»fšedIndex
];

122 if(
	g»fšedHy³rCube
->
§me
(
toIÁ”£ùHy³rCube
)) {

123 
d–‘e
 
	gtoIÁ”£ùHy³rCube
;

129 
boŞ
 
	ghasIÁ”£ùiÚ
 = 
»fšedHy³rCube
->
hasIÁ”£ùiÚ
(
toIÁ”£ùHy³rCube
, 
´št
);

130 if(!
	ghasIÁ”£ùiÚ
) {

131 
	g»fšedIndex
++;

136 
	gtoIÁ”£ùHy³rCubeCompÚ’ts
 = 
toIÁ”£ùHy³rCube
->
g‘Mšus
(
»fšedHy³rCube
);

137 
	gj
=0;j<
	gtoIÁ”£ùHy³rCubeCompÚ’ts
->
size
();j++) {

138 
	gtoIÁ”£ùHy³rCubes
->
­³nd
((*
toIÁ”£ùHy³rCubeCompÚ’ts
)[
j
]);

139 
	g¡¬tIndiûs
->
­³nd
(
»fšedIndex
+1);

141 
d–‘e
 
	gtoIÁ”£ùHy³rCubeCompÚ’ts
;

143 
	g»fšedHy³rCubeCompÚ’ts
 = 
»fšedHy³rCube
->
g‘Mšus
(
toIÁ”£ùHy³rCube
);

144 
	g»fšedHy³rCubes
->
­³nd
(
»fšedHy³rCubeCompÚ’ts
);

145 
d–‘e
 
	g»fšedHy³rCubeCompÚ’ts
;

147 
	g»fšedHy³rCube
->
š‹r£ù
(
toIÁ”£ùHy³rCube
);

148 
d–‘e
 
	gtoIÁ”£ùHy³rCube
;

154 if(
	g»fšedIndex
 >ğ
»fšedHy³rCubes
->
size
()) {

155 
»fšedHy³rCubes
->
­³nd
(
toIÁ”£ùHy³rCube
);

158 
d–‘e
 
	gtoIÁ”£ùHy³rCubes
;

159 
d–‘e
 
	g¡¬tIndiûs
;

164 #ià
USE_RECURSIVE


165 
	gHy³rCubeRefšem’t
::
upd©eRefšedHy³rCubes
(
Hy³rCube
 * cÚ¡ & 
toIÁ”£ùHy³rCube
,

166 
A¼ay
<
Hy³rCube
 *> * cÚ¡ & 
»fšedHy³rCubes
,

167 
A¼ay
<
Hy³rCube
 *> * cÚ¡ & 
»maššgHy³rCubes
,

168 
boŞ
 
´št
, 
d•th
, 
hcIndex
) {

169 
	gMax_D•th
;

171 if(
	gçl£
) {

174 
	g´št
 = 
Œue
;

178 if(!
	gPRINTED
) {

179 
	gcout
<<"Usšg Recursivv”siÚ.."<<
	g’dl
;

180 
	gPRINTED
=
Œue
;

183 if(
	gMax_D•th
 < 
	gd•th
) {

185 
	gMax_D•th
 = 
d•th
;

187 
Hy³rCube
 * 
	g»fšedHy³rCube
;

188 
	gA¼ay
<
	gHy³rCube
 *> * 
	gtoIÁ”£ùHy³rCubeCompÚ’ts
, *
	g»fšedHy³rCubeCompÚ’ts
;

190 if(
	g´št
) {

191 
	gcout
<<"yØmª! I camh”e..."<<
	g’dl
;

192 
	gcout
<<"ÿm1"<<
	g’dl
;

197 if(
	g»fšedHy³rCubes
->
size
() == 0) {

198 
»maššgHy³rCubes
->
­³nd
(
toIÁ”£ùHy³rCube
);

201 if(
	g´št
) {

202 
	gcout
<<"yØmª! I camh”e..."<<
	g’dl
;

203 
	gcout
<<"ÿm2"<<
	g’dl
;

206 
	g»fšedHy³rCube
 = 
»fšedHy³rCubes
->
»moveI‹mFa¡DisÜd”
(0);

208 if(
	g´št
) {

209 
	gcout
<<
	g’dl
;

210 
	gcout
<<"Proûssšg„efšed hy³rcub.."<<
	g’dl
;

211 
	g»fšedHy³rCube
->
´št
(
cout
);

212 
	gcout
<<
	g’dl
;

216 if(
	g»fšedHy³rCube
->
§me
(
toIÁ”£ùHy³rCube
)) {

217 
d–‘e
 
	gtoIÁ”£ùHy³rCube
;

218 
	g»maššgHy³rCubes
->
­³nd
(
»fšedHy³rCube
);

221 if(
	g´št
) {

222 
	gcout
<<"yØmª! I camh”e..."<<
	g’dl
;

223 
	gcout
<<"ÿm3"<<
	g’dl
;

230 
boŞ
 
	ghasIÁ”£ùiÚ
 = 
»fšedHy³rCube
->
hasIÁ”£ùiÚ
(
toIÁ”£ùHy³rCube
, 
´št
);

231 if(!
	ghasIÁ”£ùiÚ
) {

232 if(
	g´št
) {

233 
	gcout
<<"yØmª! I camh”e..."<<
	g’dl
;

234 
	gcout
<<"ÿm3.1"<<
	g’dl
;

236 
upd©eRefšedHy³rCubes
(
toIÁ”£ùHy³rCube
,
»fšedHy³rCubes
,
»maššgHy³rCubes
,

237 
´št
, 
d•th
+1,
hcIndex
);

238 
	g»fšedHy³rCubes
->
­³nd
(
»fšedHy³rCube
);

239 if(
	g´št
) {

240 
	gcout
<<"yØmª! I camh”e..."<<
	g’dl
;

241 
	gcout
<<"ÿm3.2"<<
	g’dl
;

247 if(
	g´št
) {

248 
	gcout
<<"yØmª! I camh”e..."<<
	g’dl
;

249 
	gcout
<<"ÿm4"<<
	g’dl
;

254 
	gtoIÁ”£ùHy³rCubeCompÚ’ts
 = 
toIÁ”£ùHy³rCube
->
g‘Mšus
(
»fšedHy³rCube
);

255 
	gj
=0;j<
	gtoIÁ”£ùHy³rCubeCompÚ’ts
->
size
();j++) {

256 
upd©eRefšedHy³rCubes
((*
toIÁ”£ùHy³rCubeCompÚ’ts
)[
j
],
»fšedHy³rCubes
,
»maššgHy³rCubes
,

257 
´št
, 
d•th
+1, 
hcIndex
);

259 
d–‘e
 
	gtoIÁ”£ùHy³rCubeCompÚ’ts
;

261 
	g»fšedHy³rCubeCompÚ’ts
 = 
»fšedHy³rCube
->
g‘Mšus
(
toIÁ”£ùHy³rCube
);

262 
	g»fšedHy³rCubes
->
­³nd
(
»fšedHy³rCubeCompÚ’ts
);

263 
d–‘e
 
	g»fšedHy³rCubeCompÚ’ts
;

265 
	g»fšedHy³rCube
->
š‹r£ù
(
toIÁ”£ùHy³rCube
);

266 
	g»maššgHy³rCubes
->
­³nd
(
»fšedHy³rCube
);

269 
d–‘e
 
	gtoIÁ”£ùHy³rCube
;

270 if(
	g´št
) {

271 
	gcout
<<"yØmª! I camh”e..."<<
	g’dl
;

272 
	gcout
<<"ÿm5"<<
	g’dl
;

	@infer/samplesatparams.h

66 #iâdeà
SAMPLESATPARAMS_H_


67 
	#SAMPLESATPARAMS_H_


	)

72 
	sSam¶eS©P¬ams


74 
	m§R©io
;

75 
	m§Temp
;

76 
boŞ
 
	mÏ‹Sa
;

	@infer/sat.h

66 #iâdeà
SAT_H_


67 
	#SAT_H_


	)

69 
	~"šã»nû.h
"

75 şas 
	cSAT
 : 
public
 
Inã»nû


77 
public
:

79 
	$SAT
(
V¬ŸbËS‹
* 
¡©e
, 
£ed
, cÚ¡ 
boŞ
& 
ŒackCÏu£TrueCÁs
) :

80 
	$Inã»nû
(
¡©e
, 
£ed
, 
ŒackCÏu£TrueCÁs
) {}

82 
	$SAT
(
HV¬ŸbËS‹
* 
¡©e
, 
£ed
, cÚ¡ 
boŞ
& 
ŒackCÏu£TrueCÁs
) :

83 
	$Inã»nû
(
¡©e
, 
£ed
, 
ŒackCÏu£TrueCÁs
è{
	}
}

85 
	gvœtu®
 ~
	$SAT
(è{
	}
}

90 
vœtu®
 
	$´štN‘wÜk
(
o¡»am
& 
out
)

92 
	}
}

94 cÚ¡ 
	$g‘NumSŞutiÚs
()

96  
numSŞutiÚs_
;

97 
	}
}

99 
	$£tNumSŞutiÚs
(cÚ¡ & 
numSŞutiÚs
)

101 
numSŞutiÚs_
 = 
numSŞutiÚs
;

102 
	}
}

104 cÚ¡ 
	$g‘T¬g‘Co¡
()

106  
rg‘Co¡_
;

107 
	}
}

109 
	$£tT¬g‘Co¡
(cÚ¡ & 
rg‘Co¡
)

111 
rg‘Co¡_
 = 
rg‘Co¡
;

112 
	}
}

117 
	$´štProbab™›s
(
o¡»am
& 
out
)

119 
i
 = 0; i < 
¡©e_
->
	`g‘NumAtoms
(); i++)

121 
¡©e_
->
	`´štGndP»d
(
i
, 
out
);

122 
out
 << " " << 
¡©e_
->
	`g‘V®ueOfLowAtom
(
i
 + 1è<< 
’dl
;

124 
	}
}

139 
g‘ChªgedP»ds
(
veùÜ
<
¡ršg
>& 
chªgedP»ds
, veùÜ<>& 
´obs
,

140 
veùÜ
<>& 
ŞdProbs
, cÚ¡ & 
´obD–
)

142 
	gchªgedP»ds
.
ş—r
();

143 
	g´obs
.
ş—r
();

144 
	gnumAtoms
 = 
¡©e_
->
g‘NumAtoms
();

146 
	gŞdProbs
.
»size
(
numAtoms
, 0);

147 
	gi
 = 0; i < 
	gnumAtoms
; i++)

149 
	gtv
 = 
¡©e_
->
g‘V®ueOfLowAtom
(
i
 + 1);

150 ià(
	gtv
 !ğ
ŞdProbs
[
i
])

154 
ŞdProbs
[
i
] = 
tv
;

155 
o¡ršg¡»am
 
oss
(o¡ršg¡»am::
out
);

156 
	g¡©e_
->
´štGndP»d
(
i
, 
oss
);

157 
	gchªgedP»ds
.
push_back
(
oss
.
¡r
());

158 
	g´obs
.
push_back
(
tv
);

166 
	$g‘Probab™y
(
GroundP»diÿ‹
* cÚ¡& 
gndP»d
)

168 
idx
 = 
¡©e_
->
	`g‘GndP»dIndex
(
gndP»d
);

169 
ŒuthV®ue
 = 0;

170 ià(
idx
 >ğ0è
ŒuthV®ue
 = 
¡©e_
->
	`g‘V®ueOfLowAtom
(idx + 1);

171  
ŒuthV®ue
;

172 
	}
}

174 
	$g‘Probab™yH
(
GroundP»diÿ‹
* cÚ¡& 
gndP»d
)

176 
idx
 = 
h¡©e_
->
	`g‘GndP»dIndex
(
gndP»d
);

177 
ŒuthV®ue
 = 0;

178 ià(
idx
 >ğ0è
ŒuthV®ue
 = 
h¡©e_
->
	`g‘V®ueOfLowAtom
(idx + 1);

179  
ŒuthV®ue
;

180 
	}
}

186 
	$´štTrueP»ds
(
o¡»am
& 
out
)

188 
i
 = 0; i < 
¡©e_
->
	`g‘NumAtoms
(); i++)

190 ià(
¡©e_
->
	`g‘V®ueOfLowAtom
(
i
 + 1))

192 
¡©e_
->
	`´štGndP»d
(
i
, 
out
);

193 
out
 << 
’dl
;

196 
	}
}

198 
	$´štTrueP»dsH
(
o¡»am
& 
out
)

200 
i
 = 0; i < 
h¡©e_
->
	`g‘NumAtoms
(); i++)

202 ià(
h¡©e_
->
	`g‘V®ueOfLowAtom
(
i
 + 1))

204 
h¡©e_
->
	`´štGndP»d
(
i
, 
out
);

205 
out
 << 
’dl
;

208 
	}
}

210 
	g´Ùeùed
:

214 
maxTr›s_
;

216 
	gmaxS‹ps_
;

218 
	grg‘Co¡_
;

220 
	gnumSŞutiÚs_
;

225 
	gA¼ay
<> 
	gchªged_
;

227 
	gnumFls_
;

	@infer/simulatedannealing.h

66 #iâdeà
SIMULATEDANNEALING_H_


67 
	#SIMULATEDANNEALING_H_


	)

72 
CÏss
 
	gSimuÏ‹dAÂ—lšg
 : 
public
 
SAT


74 
public
:

76 
SimuÏ‹dAÂ—lšg
() {}

77 ~
SimuÏ‹dAÂ—lšg
() {}

79 
´iv©e
:

	@infer/simulatedtempering.h

66 #iâdeà
SIMULATEDTEMPERING_H_


67 
	#SIMULATEDTEMPERING_H_


	)

69 
	~"mcmc.h
"

70 
	~"simuÏ‹d‹m³ršg·¿ms.h
"

71 
	~"maxw®k§t.h
"

72 
	~"cÚv”g’û‹¡.h
"

73 
	~"g–mªcÚv”g’û‹¡.h
"

78 şas 
	cSimuÏ‹dTem³ršg
 : 
public
 
MCMC


80 
public
:

85 
	$SimuÏ‹dTem³ršg
(
V¬ŸbËS‹
* 
¡©e
, 
£ed
,

86 cÚ¡ 
boŞ
& 
ŒackCÏu£TrueCÁs
,

87 
SimuÏ‹dTem³ršgP¬ams
* 
¡P¬ams
)

88 : 
	$MCMC
(
¡©e
, 
£ed
, 
ŒackCÏu£TrueCÁs
, 
¡P¬ams
)

91 
subIÁ”v®_
 = 
¡P¬ams
->
subIÁ”v®
;

92 
numST_
 = 
¡P¬ams
->
numST
;

93 
numSw­_
 = 
¡P¬ams
->
numSw­
;

95 
numChašs_
 = 
numSw­_
*
numST_
;

102 
£lIÁ”v®_
 = 
subIÁ”v®_
*(
numSw­_
 - 1);

105 
švTemps_
 = 
Ãw
 *[
numST_
];

107 
chašIds_
 = 
Ãw
 *[
numST_
];

109 
‹mpIds_
 = 
Ãw
 *[
numST_
];

111 
mws_
 = 
Ãw
 
	`MaxW®kS©
(
¡©e_
, 
£ed
, 
çl£
, 
¡P¬ams
->
mwsP¬ams
);

117 ~
	$SimuÏ‹dTem³ršg
()

119 
i
 = 0; i < 
numST_
; i++)

121 
d–‘e
 [] 
švTemps_
[
i
];

122 
d–‘e
 [] 
chašIds_
[
i
];

123 
d–‘e
 [] 
‹mpIds_
[
i
];

125 
d–‘e
 [] 
švTemps_
;

126 
d–‘e
 [] 
chašIds_
;

127 
d–‘e
 [] 
‹mpIds_
;

128 
d–‘e
 
mws_
;

129 
	}
}

134 
	$š™
()

138 
	`š™TruthV®uesAndWts
(
numChašs_
);

141 
cout
 << "In™Ÿlizšg SimuÏ‹d Tem³ršg w™h MaxW®k§t" << 
’dl
;

142 
¡©e_
->
	`–imš©eSoáCÏu£s
();

144 
numSŞutiÚs
 = 
mws_
->
	`g‘NumSŞutiÚs
();

145 
mws_
->
	`£tNumSŞutiÚs
(1);

146 
c
 = 0; c < 
numChašs_
; c++)

148 
cout
 << "fÜ chaš " << 
c
 << "..." << 
’dl
;

150 
mws_
->
	`š™
();

151 
mws_
->
	`šãr
();

152 
	`§veLowS‹ToChaš
(
c
);

154 
mws_
->
	`£tNumSŞutiÚs
(
numSŞutiÚs
);

155 
¡©e_
->
	`»£tD—dCÏu£s
();

158 
maxWt
 = 
¡©e_
->
	`g‘MaxCÏu£Weight
();

159 
maxWtFÜEv’ScheduË
 = 100.0;

160 
ba£
 = 
	`log
(
maxWt
è/†og(()
numSw­_
);

161 * 
divs
 = 
Ãw
 [
numSw­_
];

162 
divs
[0] = 1.0;

164 
i
 = 1; i < 
numSw­_
; i++)

166 
divs
[
i
] = divs[˜- 1] / 
ba£
;

169 
i
 = 0; i < 
numST_
; i++)

171 
švTemps_
[
i
] = 
Ãw
 [
numSw­_
];

172 
chašIds_
[
i
] = 
Ãw
 [
numSw­_
];

173 
‹mpIds_
[
i
] = 
Ãw
 [
numSw­_
];

174 
j
 = 0; j < 
numSw­_
; j++)

176 
chašIds_
[
i
][
j
] = j;

177 
‹mpIds_
[
i
][
j
] = j;

179 ià(
maxWt
 > 
maxWtFÜEv’ScheduË
)

181 
švTemps_
[
i
][
j
] = 
divs
[j];

185 
švTemps_
[
i
][
j
] = 1.0-(()j)/((è
numSw­_
);

189 
d–‘e
 [] 
divs
;

193 
	`š™NumTrueL™s
(
numChašs_
);

194 
	}
}

199 
	$šãr
()

201 
	`š™NumTrue
();

202 
Tim”
 
tim”
;

204 
boŞ
 
buºšgIn
 = (
buºMaxS‹ps_
 > 0è? 
Œue
 : 
çl£
;

205 
£cÚdsEÏp£d
 = 0;

206 
¡¬tTimeSec
 = 
tim”
.
	`time
();

207 
cu¼’tTimeSec
;

208 
§m¶esP”Ouut
 = 100;

211 ià(
ŒackCÏu£TrueCÁs_
)

212 
şau£no
 = 0; cÏu£nØ< 
şau£TrueCÁs_
->
	`size
(); clauseno++)

213 (*
şau£TrueCÁs_
)[
şau£no
] = 0;

216 
GroundP»diÿ‹HashA¼ay
 
afãùedGndP»ds
;

217 
A¼ay
<> 
afãùedGndP»dIndiûs
;

219 
numAtoms
 = 
¡©e_
->
	`g‘NumAtoms
();

220 
i
 = 0; i < 
numAtoms
; i++)

222 
afãùedGndP»ds
.
	`­³nd
(
¡©e_
->
	`g‘GndP»d
(
i
), 
numAtoms
);

223 
afãùedGndP»dIndiûs
.
	`­³nd
(
i
);

225 
c
 = 0; c < 
numChašs_
; c++)

226 
	`upd©eWtsFÜGndP»ds
(
afãùedGndP»ds
, 
afãùedGndP»dIndiûs
, 
c
);

227 
afãùedGndP»ds
.
	`ş—r
();

228 
afãùedGndP»dIndiûs
.
	`ş—r
();

230 
cout
 << "RuÂšg SimuÏ‹d Tem³ršg sam¶šg..." << 
’dl
;

232 
§m¶e
 = 0;

233 
numSam¶esP”P»d
 = 0;

234 
boŞ
 
dÚe
 = 
çl£
;

235 !
dÚe
)

237 ++
§m¶e
;

239 ià(
§m¶e
 % 
§m¶esP”Ouut
 == 0)

241 
cu¼’tTimeSec
 = 
tim”
.
	`time
();

242 
£cÚdsEÏp£d
 = 
cu¼’tTimeSec
-
¡¬tTimeSec
;

243 
cout
 << "Sam¶Õ”…»d…” chašè" << 
§m¶e
 << ",imeƒlapsed = ";

244 
Tim”
::
	`´štTime
(
cout
, 
£cÚdsEÏp£d
); couˆ<< 
’dl
;

248 ià((
§m¶e
 % 
£lIÁ”v®_
è% 
subIÁ”v®_
 == 0)

250 
©‹m±TempId
 = (
§m¶e
 % 
£lIÁ”v®_
è/ 
subIÁ”v®_
;

251 ià(
©‹m±TempId
 < 
numSw­_
 - 1)

253 
wl
, 
wh
, 
™l
, 
™h
;

254 
i
 = 0; i < 
numST_
; i++)

256 
lChašId
 = 
chašIds_
[
i
][
©‹m±TempId
];

257 
hChašId
 = 
chašIds_
[
i
][
©‹m±TempId
 + 1];

260 
wl
 = 
	`g‘WeightSum
(
i
*
numSw­_
 + 
lChašId
);

261 
wh
 = 
	`g‘WeightSum
(
i
*
numSw­_
 + 
hChašId
);

262 
™l
 = 
švTemps_
[
i
][
©‹m±TempId
];

263 
™h
 = 
švTemps_
[
i
][
©‹m±TempId
 + 1];

265 ià(
wl
 <ğ
wh
 || 
	`¿ndom
(è<ğ
RAND_MAX
*
	`exp
((
™l
 - 
™h
)*(wh - wl)))

267 
chašIds_
[
i
][
©‹m±TempId
] = 
hChašId
;

268 
chašIds_
[
i
][
©‹m±TempId
+1] = 
lChašId
;

269 
‹mpIds_
[
i
][
hChašId
] = 
©‹m±TempId
;

270 
‹mpIds_
[
i
][
lChašId
] = 
©‹m±TempId
 + 1;

277 
c
 = 0; c < 
numChašs_
; c++)

280 
i
 = 0; i < 
¡©e_
->
	`g‘Domaš
()->
	`g‘NumP»dBlocks
(); i++)

283 ià(
¡©e_
->
	`g‘Domaš
()->
	`g‘BlockEvid’û
(
i
)) ;

285 
švTemp
 =

286 
švTemps_
[
c
/
numSw­_
][
‹mpIds_
[c/numSwap_][c%numSwap_]];

288 
cho£n
 = 
	`gibbsSam¶eFromBlock
(
c
, 
i
, 
švTemp
);

290 cÚ¡ 
P»diÿ‹
* 
´ed
 =

291 
¡©e_
->
	`g‘Domaš
()->
	`g‘P»dInBlock
(
cho£n
, 
i
);

292 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
((
P»diÿ‹
*)
´ed
);

293 
idx
 = 
¡©e_
->
	`g‘IndexOfGroundP»diÿ‹
(
gndP»d
);

295 
d–‘e
 
gndP»d
;

296 
d–‘e
 
´ed
;

299 ià(
idx
 >= 0)

301 
boŞ
 
ŒuthV®ue
 = 
ŒuthV®ues_
[
idx
][
c
];

304 ià(!
ŒuthV®ue
)

306 
blockSize
 = 
¡©e_
->
	`g‘Domaš
()->
	`g‘BlockSize
(
i
);

307 
j
 = 0; j < 
blockSize
; j++)

309 cÚ¡ 
P»diÿ‹
* 
Ùh”P»d
 =

310 
¡©e_
->
	`g‘Domaš
()->
	`g‘P»dInBlock
(
j
, 
i
);

311 
GroundP»diÿ‹
* 
Ùh”GndP»d
 =

312 
Ãw
 
	`GroundP»diÿ‹
((
P»diÿ‹
*)
Ùh”P»d
);

313 
Ùh”Idx
 = 
¡©e_
->
	`g‘IndexOfGroundP»diÿ‹
(
gndP»d
);

315 
d–‘e
 
Ùh”GndP»d
;

316 
d–‘e
 
Ùh”P»d
;

319 ià(
Ùh”Idx
 >= 0)

321 
boŞ
 
Ùh”TruthV®ue
 = 
ŒuthV®ues_
[
Ùh”Idx
][
c
];

322 ià(
Ùh”TruthV®ue
)

324 
ŒuthV®ues_
[
Ùh”Idx
][
c
] = 
çl£
;

326 
afãùedGndP»ds
.
	`ş—r
();

327 
afãùedGndP»dIndiûs
.
	`ş—r
();

328 
	`gndP»dFl³dUpd©es
(
Ùh”Idx
, 
c
, 
afãùedGndP»ds
,

329 
afãùedGndP»dIndiûs
);

330 
	`upd©eWtsFÜGndP»ds
(
afãùedGndP»ds
,

331 
afãùedGndP»dIndiûs
, 
c
);

336 
ŒuthV®ues_
[
idx
][
c
] = 
Œue
;

337 
afãùedGndP»ds
.
	`ş—r
();

338 
afãùedGndP»dIndiûs
.
	`ş—r
();

339 
	`gndP»dFl³dUpd©es
(
idx
, 
c
, 
afãùedGndP»ds
,

340 
afãùedGndP»dIndiûs
);

341 
	`upd©eWtsFÜGndP»ds
(
afãùedGndP»ds
, 
afãùedGndP»dIndiûs
, 
c
);

346 ià(!
buºšgIn
 && 
‹mpIds_
[
c
/
numSw­_
][c%numSwap_] == 0)

347 
numTrue_
[
idx
]++;

352 
i
 = 0; i < 
¡©e_
->
	`g‘NumAtoms
(); i++)

355 ià(
¡©e_
->
	`g‘BlockIndex
(
i
) >= 0) ;

357 
švTemp
 =

358 
švTemps_
[
c
/
numSw­_
][
‹mpIds_
[c/numSwap_][c%numSwap_]];

359 
p
 = 
	`g‘Probab™yOfP»d
(
i
, 
c
, 
švTemp
);

362 
boŞ
 
ÃwAssignm’t
 = 
	`g’TruthV®ueFÜProb
(
p
);

364 ià(
ÃwAssignm’t
 !ğ
ŒuthV®ues_
[
i
][
c
])

367 
ŒuthV®ues_
[
i
][
c
] = 
ÃwAssignm’t
;

368 
afãùedGndP»ds
.
	`ş—r
();

369 
afãùedGndP»dIndiûs
.
	`ş—r
();

370 
	`gndP»dFl³dUpd©es
(
i
, 
c
, 
afãùedGndP»ds
,

371 
afãùedGndP»dIndiûs
);

372 
	`upd©eWtsFÜGndP»ds
(
afãùedGndP»ds
, 
afãùedGndP»dIndiûs
, 
c
);

377 ià(!
buºšgIn
 && 
ÃwAssignm’t
 &&

378 
‹mpIds_
[
c
/
numSw­_
][c%numSwap_] == 0)

380 
numTrue_
[
i
]++;

383 ià(!
buºšgIn
è
numSam¶esP”P»d
 +ğ
numST_
;

386 ià(!
buºšgIn
 && 
ŒackCÏu£TrueCÁs_
)

387 
¡©e_
->
	`g‘NumCÏu£Gndšgs
(
şau£TrueCÁs_
, 
Œue
);

389 ià(
buºšgIn
)

391 iàĞ(
buºMaxS‹ps_
 >ğ0 && 
§m¶e
 >= burnMaxSteps_)

392 || (
maxSecÚds_
 > 0 && 
£cÚdsEÏp£d
 >= maxSeconds_))

394 
cout
 << "DÚbuºšg. " << 
§m¶e
 << " sam¶e ³¸chaš " << 
’dl
;

395 
buºšgIn
 = 
çl£
;

396 
§m¶e
 = 0;

401 iàĞ(
maxS‹ps_
 >ğ0 && 
§m¶e
 >= maxSteps_)

402 || (
maxSecÚds_
 > 0 && 
£cÚdsEÏp£d
 >= maxSeconds_))

404 
cout
 << "DÚsimuÏ‹dem³ršg sam¶šg. " << 
§m¶e


405 << " sam¶e ³¸chaš" << 
’dl
;

406 
dÚe
 = 
Œue
;

409 
cout
.
	`æush
();

412 
cout
<< "Timeaken for Simulated Tempering sampling = ";

413 
Tim”
::
	`´štTime
(
cout
, 
tim”
.
	`time
(è- 
¡¬tTimeSec
); couˆ<< 
’dl
;

416 
i
 = 0; i < 
¡©e_
->
	`g‘NumAtoms
(); i++)

420 
	`£tProbTrue
(
i
, 
numTrue_
[i] / 
numSam¶esP”P»d
);

424 ià(
ŒackCÏu£TrueCÁs_
)

427 
i
 = 0; i < 
şau£TrueCÁs_
->
	`size
(); i++)

428 (*
şau£TrueCÁs_
)[
i
] = (*şau£TrueCÁs_)[i] / 
numSam¶esP”P»d
;

430 
	}
}

432 
	g´iv©e
:

441 
	$g‘WeightSum
(cÚ¡ & 
chašIdx
)

443 
w
 = 0;

444 
i
 = 0; i < 
¡©e_
->
	`g‘NumCÏu£s
(); i++)

446 
wt
 = 
¡©e_
->
	`g‘CÏu£Co¡
(
i
);

447 ià((
wt
 > 0 && 
numTrueL™s_
[
i
][
chašIdx
] > 0) ||

448 (
wt
 < 0 && 
numTrueL™s_
[
i
][
chašIdx
] == 0))

449 
w
 +ğ
	`abs
(
wt
);

451  
w
;

452 
	}
}

454 
	g´iv©e
:

458 
subIÁ”v®_
;

460 
	gnumST_
;

462 
	gnumSw­_
;

465 
MaxW®kS©
* 
	gmws_
;

468 
	g£lIÁ”v®_
;

470 ** 
	gšvTemps_
;

472 ** 
	gchašIds_
;

474 ** 
	g‹mpIds_
;

	@infer/simulatedtemperingparams.h

66 #iâdeà
SIMULATEDTEMPERINGPARAMS_H_


67 
	#SIMULATEDTEMPERINGPARAMS_H_


	)

69 
	~"mcmı¬ams.h
"

70 
	~"maxw®k§¬ams.h
"

77 
	gSimuÏ‹dTem³ršgP¬ams
 : 
MCMCP¬ams


79 
MaxW®k§tP¬ams
* 
mwsP¬ams
;

81 
	gsubIÁ”v®
;

83 
	gnumST
;

85 
	gnumSw­
;

	@infer/superclause.cpp

67 
	~"ut.h
"

68 
	~"mrf.h
"

69 
	~"su³rşau£.h
"

70 
	~"su³½»d.h
"

71 
	~"hy³rcubeİ”©iÚs.h
"

73 
	gSu³rCÏu£
::
su³rCÏu£Index__
 = 0;

76 
ü—‹Su³rCÏu£s
(
A¼ay
<A¼ay<
Su³rCÏu£
 *> *> * cÚ¡ & 
su³rCÏu£sA¼
,

77 
Domaš
 * cÚ¡ & 
domaš
)

81 
	gSu³rCÏu£
::
»£tIndex
();

83 
IÁA¼ayToSu³rCÏu£
 * 
	gsu³rP»dIdsToSu³rCÏu£
;

84 
	gIÁA¼ayToSu³rCÏu£
::
™”©Ü
 
ŸToScIŒ
;

85 
Hy³rCube
 *
	ghy³rCube
, *
	gphy³rCube
, *
	gba£Hy³rCube
;

86 
	gA¼ay
<> *
	gsu³rP»dIds
;

87 
CÏu£
* 
	gşau£
;

88 
Su³rCÏu£
 *
	gsu³rCÏu£
, *
	gÃwSu³rCÏu£
;

89 
P»diÿ‹
 *
	g´ed
;

90 
	gA¼ay
<
	gSu³rCÏu£
 *> *
	gsu³rCÏu£s
;

91 
	gA¼ay
<
	gSu³rCÏu£
 *> *
	gÃwSu³rCÏu£s
;

92 
	gsu³rCÏu£CÁ
;

94 
	gdomašP»dCÁ
 = 
domaš
->
g‘NumP»diÿ‹s
();

97 
boŞ
 
	gu£RefšedHC
;

98 
	gA¼ay
<
	gHy³rCubeRefšem’t
 *> *
	ghcRefšem’tA¼
, *
	gÃwHCRefšem’tA¼
;

99 
	ghcRefšem’tA¼
 = 
Su³rP»d
::
g‘Hy³rCubeRefšem’t
();

101 if(
	ghcRefšem’tA¼
)

102 
	gu£RefšedHC
 = 
Œue
;

104 
	gu£RefšedHC
 = 
çl£
;

106 if(
	gu£RefšedHC
) {

107 
	gÃwHCRefšem’tA¼
 = 
Ãw
 
A¼ay
<
Hy³rCubeRefšem’t
 *>();

108 
	gÃwHCRefšem’tA¼
->
growToSize
(
domašP»dCÁ
);

110 
	gi
=0;i<
	gdomašP»dCÁ
;i++) {

111 (*
	gÃwHCRefšem’tA¼
)[
i
] = 
Ãw
 
Hy³rCubeRefšem’t
();

116 
	g¬rIndex
=0;¬rIndex<
	gsu³rCÏu£sA¼
->
size
();arrIndex++) {

117 
	gsu³rCÏu£s
 = (*
su³rCÏu£sA¼
)[
¬rIndex
];

118 
	gsu³rCÏu£CÁ
 = 
su³rCÏu£s
->
size
();

119 
	gÃwSu³rCÏu£s
 = 
Ãw
 
A¼ay
<
Su³rCÏu£
*>();

120 
	gsu³rP»dIdsToSu³rCÏu£
 = 
Ãw
 
IÁA¼ayToSu³rCÏu£
();

123 
	gscšdex
=0;scšdex<
	gsu³rCÏu£CÁ
;scindex++) {

124 
	gsu³rP»dIdsToSu³rCÏu£
->
ş—r
();

125 
	gsu³rCÏu£
 = (*
su³rCÏu£s
)[
scšdex
];

128 
boŞ
 
	gu£CT
 = 
su³rCÏu£
->
isU£CT
();

130 
boŞ
 
	g´št
 =
çl£
;

132 if(
	g¬rIndex
 == 1) {

137 if(
u£RefšedHC
) {

138 
su³rCÏu£
->
»fšeHy³rCubes
(
hcRefšem’tA¼
, 
ÃwHCRefšem’tA¼
, 
domaš
,
´št
);

141 
	gşau£
 = 
su³rCÏu£
->
g‘CÏu£
();

142 
	g´edCÁ
 = 
şau£
->
g‘NumP»diÿ‹s
();

147 
	gnumHy³rCubes
 = 
su³rCÏu£
->
g‘NumHy³rCubes
();

160 
	ghšdex
=0;hšdex<
	gnumHy³rCubes
;hindex++) {

170 if(
	gu£CT
) {

172 
Hy³rCube
 *
	ghc
 = 
su³rCÏu£
->
g‘Hy³rCube
(
hšdex
);

176 if(
	gsu³rCÏu£
->
hasZ”oNumTu¶es
(
hc
))

184 
d–‘e
 
	ghc
;

189 
	gsu³rP»dIds
 = 
Ãw
 
A¼ay
<>();

190 
	gpšdex
=0;pšdex<
	g´edCÁ
;pindex++) {

191 
	g´ed
 = 
şau£
->
g‘P»diÿ‹
(
pšdex
);

192 
	g´edId
 = 
domaš
->
g‘P»diÿ‹Id
(
´ed
->
g‘Name
());

193 
	gphy³rCube
 = 
su³rCÏu£
->
g‘P»diÿ‹Hy³rCube
(
hšdex
, 
´ed
);

196 if(
	gu£RefšedHC
) {

197 
	gba£Hy³rCube
 = (*
ÃwHCRefšem’tA¼
)[
´edId
]->
g‘Ba£Hy³rCube
(
phy³rCube
);

199 
	gba£Hy³rCube
 = 
phy³rCube
;

202 
as£¹
(
ba£Hy³rCube
);

203 if(!
	gba£Hy³rCube
) {

204 
	gcout
<<"ProbËm h”e.!!"<<
	g’dl
;

205 
	gcout
<<"NØba£ hy³rcube!"<<
	g’dl
;

218 
	gsu³rP»dIds
->
­³nd
(
Su³rP»d
::
g‘Su³rP»dId
(
ba£Hy³rCube
, 
´edId
));

222 
d–‘e
 
	gphy³rCube
;

224 
	gŸToScIŒ
 = 
su³rP»dIdsToSu³rCÏu£
->
fšd
(
su³rP»dIds
);

234 if(
	gŸToScIŒ
 =ğ
su³rP»dIdsToSu³rCÏu£
->
’d
()) {

236 
ÃwSu³rCÏu£
 = 
su³rCÏu£
->
ü—‹Su³rCÏu£FromTem¶©e
();

237 (*
	gsu³rP»dIdsToSu³rCÏu£
)[
su³rP»dIds
] = 
ÃwSu³rCÏu£
;

238 
	gÃwSu³rCÏu£s
->
­³nd
(
ÃwSu³rCÏu£
);

240 
d–‘e
 
	gsu³rP»dIds
;

241 
	gÃwSu³rCÏu£
 = 
ŸToScIŒ
->
£cÚd
;

244 
	ghút
 = 
su³rCÏu£
->
g‘Hy³rCubeCouÁ
(
hšdex
);

245 
	ghy³rCube
 = 
su³rCÏu£
->
g‘Hy³rCube
(
hšdex
);

246 
	gÃwSu³rCÏu£
->
addHy³rCube
(
hy³rCube
);

247 
	gÃwSu³rCÏu£
->
šüem’tHy³rCubeCouÁ
(
hy³rCube
, 
hút
);

256 
	gA¼ay
<A¼ay<>*> 
	gkeysA¼
;

257 
	gkeysA¼
.
ş—r
();

258 
	gŸToScIŒ
 = 
su³rP»dIdsToSu³rCÏu£
->
begš
();

259 
	gŸToScIŒ
 !ğ
su³rP»dIdsToSu³rCÏu£
->
’d
();

260 
	gŸToScIŒ
++) {

261 
	gsu³rP»dIds
 = 
ŸToScIŒ
->
fœ¡
;

262 
	gkeysA¼
.
­³nd
(
su³rP»dIds
);

264 
	gsu³rP»dIdsToSu³rCÏu£
->
ş—r
();

265 
	gi
=0;i<
	gkeysA¼
.
size
();i++) {

266 
d–‘e
 
	gkeysA¼
[
i
];

272 
d–‘e
 
	gsu³rP»dIdsToSu³rCÏu£
;

273 
	gi
=0;i<
	gsu³rCÏu£s
->
size
();i++) {

274 
d–‘e
 (*
su³rCÏu£s
)[
i
];

276 
	gsu³rCÏu£s
->
ş—r
();

279 
	gi
=0;i<
	gÃwSu³rCÏu£s
->
size
();i++) {

280 
	gsu³rCÏu£s
->
­³nd
((*
ÃwSu³rCÏu£s
)[
i
]);

284 
d–‘e
 
	gÃwSu³rCÏu£s
;

287 if(
	gu£RefšedHC
) {

289 
	gi
=0;i<
	ghcRefšem’tA¼
->
size
();i++) {

290 
d–‘e
 (*
hcRefšem’tA¼
)[
i
];

292 
d–‘e
 
	ghcRefšem’tA¼
;

294 
	gSu³rP»d
::
£tHy³rCubeRefšem’t
(
ÃwHCRefšem’tA¼
);

295 
	gi
=0;i<
	gÃwHCRefšem’tA¼
->
size
();i++) {

296 (*
	gÃwHCRefšem’tA¼
)[
i
]->
ü—‹RefšedHy³rCubeM­pšg
();

	@infer/superclause.h

67 #iâdeà
SUPERCLAUSE_H_NOV_2007


68 
	#SUPERCLAUSE_H_NOV_2007


	)

70 
	~"ut.h
"

71 
	~"mrf.h
"

72 
	~"¬¿y.h
"

73 
	~"hashšt.h
"

74 
	~<ext/hash_£t
>

75 
	~"v¬ŸbË.h
"

76 
	~"hy³rcube.h
"

77 
	~"hy³rcubeİ”©iÚs.h
"

78 
	~"šãrut.h
"

80 
usšg
 
Çme¥aû
 
	g¡d
;

81 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

83 şas 
	cSu³rCÏu£


85 
	mpublic
:

87 
Su³rCÏu£
(
CÏu£
 * cÚ¡ & 
şau£
,

88 
IÁA¼ayHashA¼ay
 * cÚ¡ & 
ÃqCÚ¡¿šts
,

89 
A¼ay
<> * cÚ¡ & 
v¬IdToCªÚiÿlV¬Id
,

90 
boŞ
 
u£CT
, 
ouutWt
)

92 
	m·»ÁSu³rCÏu£Id
 = -1;

93 
	mouutWt_
 = 
ouutWt
;

94 
š™
(
şau£
,
ÃqCÚ¡¿šts
,
v¬IdToCªÚiÿlV¬Id
,
u£CT
,
·»ÁSu³rCÏu£Id
);

97 
Su³rCÏu£
(
CÏu£
 * cÚ¡ & 
şau£
,

98 
IÁA¼ayHashA¼ay
 * cÚ¡ & 
ÃqCÚ¡¿šts
,

99 
A¼ay
<> * cÚ¡ & 
v¬IdToCªÚiÿlV¬Id
,

100 
boŞ
 
u£CT
,

101 
·»ÁSu³rCÏu£Id
, 
ouutWt
)

103 
	gouutWt_
 = 
ouutWt
;

104 
š™
(
şau£
,
ÃqCÚ¡¿šts
,
v¬IdToCªÚiÿlV¬Id
,
u£CT
,
·»ÁSu³rCÏu£Id
);

107 
š™
(
CÏu£
 * cÚ¡ & 
şau£
,

108 
IÁA¼ayHashA¼ay
 * cÚ¡ & 
ÃqCÚ¡¿šts
,

109 
A¼ay
<> * cÚ¡ & 
v¬IdToCªÚiÿlV¬Id
,

110 
boŞ
 
u£CT
,

111 
·»ÁSu³rCÏu£Id
) {

112 
	gşau£_
 = 
şau£
;

113 
	gÃqCÚ¡¿šts_
 = 
ÃqCÚ¡¿šts
;

114 
	gv¬IdToCªÚiÿlV¬Id_
 = 
v¬IdToCªÚiÿlV¬Id
;

115 
	gu£CT_
 = 
u£CT
;

117 
	ghy³rCubes_
 = 
Ãw
 
Hy³rCubeHashA¼ay
();

118 
	ghy³rCubeCÁs_
 = 
Ãw
 
A¼ay
<>();

120 
	gsu³rCÏu£Id_
 = 
su³rCÏu£Index__
++;

121 
	g·»ÁSu³rCÏu£Id_
 = 
·»ÁSu³rCÏu£Id
;

124 ~
	$Su³rCÏu£
() {

125 
d–‘e
 
hy³rCubes_
;

126 
d–‘e
 
hy³rCubeCÁs_
;

127 
	}
}

129 
Su³rCÏu£
 * 
	$ü—‹Su³rCÏu£FromTem¶©e
() {

131  
Ãw
 
	`Su³rCÏu£
(
şau£_
, 
ÃqCÚ¡¿šts_
, 
v¬IdToCªÚiÿlV¬Id_
,

132 
u£CT_
,
su³rCÏu£Id_
);

133 
	}
}

135 
IÁA¼ayHashA¼ay
 * 
	$g‘NeqCÚ¡¿šts
(è{  
ÃqCÚ¡¿šts_
;
	}
}

137 
	$g‘Su³rCÏu£Id
(è{  
su³rCÏu£Id_
;
	}
}

139 
	$g‘P¬’tSu³rCÏu£Id
(è{  
·»ÁSu³rCÏu£Id_
;
	}
}

141 
CÏu£
 * 
	$g‘CÏu£
(){  
şau£_
;
	}
}

143 
	$g‘Hy³rCubeCouÁ
(
hšdex
è{ (*
hy³rCubeCÁs_
)[hšdex];
	}
}

145 
	$g‘NumHy³rCubes
(){  
hy³rCubes_
->
	`size
();
	}
}

147 
	$g‘Hy³rCubeIndex
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
è{ 
hy³rCubes_
->
	`fšd
(hy³rCube);
	}
}

149 
Hy³rCubeHashA¼ay
 *
	$g‘Hy³rCubes
(è{ 
hy³rCubes_
;
	}
}

151 
Hy³rCube
 * 
	$g‘Hy³rCube
(
hšdex
è{ (*
hy³rCubes_
)[hšdex];
	}
}

153 
	gA¼ay
<> * 
	$g‘V¬IdToCªÚiÿlV¬Id
(){ 
v¬IdToCªÚiÿlV¬Id_
;
	}
}

155 
boŞ
 
	$isU£CT
(){  
u£CT_
;
	}
}

159 
	$šüem’tHy³rCubeCouÁ
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
, 
út
) {

160 
šdex
 = 
hy³rCubes_
->
	`fšd
(
hy³rCube
);

161 (*
hy³rCubeCÁs_
)[
šdex
] +ğ
út
;

162 
	}
}

166 
boŞ
 
	$addHy³rCube
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
) {

167 
šdex
 = 
hy³rCubes_
->
	`fšd
(
hy³rCube
);

169 if(
šdex
 < 0) {

170 
hy³rCubes_
->
	`­³nd
(
hy³rCube
);

171 
hy³rCubeCÁs_
->
	`­³nd
(0.0);

172  
Œue
;

174  
çl£
;

176 
	}
}

179 
addNewCÚ¡ªtsAndInüem’tCouÁ
(
A¼ay
<> * cÚ¡ & 
cÚ¡ªts
, 
út
) {

180 
boŞ
 
	gaddedNew
 = 
çl£
;

181 
Hy³rCube
 *
	gÃwHy³rCube
 = 
Ãw
 Hy³rCube(
cÚ¡ªts
);

183 
	gaddedNew
 = 
addHy³rCube
(
ÃwHy³rCube
);

184 
šüem’tHy³rCubeCouÁ
(
ÃwHy³rCube
,
út
);

186 if(!
	gaddedNew
) {

188 
d–‘e
 
	gÃwHy³rCube
;

193 
	$addNewHy³rCubeAndInüem’tCouÁ
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
, 
út
) {

194 
boŞ
 
addedNew
 = 
çl£
;

195 
Hy³rCube
 *
ÃwHy³rCube
 = 
Ãw
 
	`Hy³rCube
(
hy³rCube
);

197 
addedNew
 = 
	`addHy³rCube
(
ÃwHy³rCube
);

198 
	`šüem’tHy³rCubeCouÁ
(
ÃwHy³rCube
,
út
);

200 if(!
addedNew
) {

202 
d–‘e
 
ÃwHy³rCube
;

204 
	}
}

208 
Hy³rCube
 * 
	$g‘P»diÿ‹Hy³rCube
(
hšdex
, 
P»diÿ‹
 *
´ed
) {

209 
´edT”mCÁ
 = 
´ed
->
	`g‘NumT”ms
();

211 
IÁA¼ay
 *
v¬CÚ¡ªts
;

212 
Hy³rCube
 * 
phy³rCube
 = 
Ãw
 
	`Hy³rCube
(
´edT”mCÁ
);

213 
Hy³rCube
 * 
hy³rCube
 = (*
hy³rCubes_
)[
hšdex
];

215 if(
u£CT_
) {

216 
hy³rCube
->
	`upd©eToIm¶ic™T›dR•»£Á©iÚ
();

221 
‹rmno
=0;‹rmno<
´edT”mCÁ
;termno++) {

222 cÚ¡ 
T”m
 *
‹rm
 = 
´ed
->
	`g‘T”m
(
‹rmno
);

223 
v¬Id
 = -
‹rm
->
	`g‘Id
();

224 
	`as£¹
(
v¬Id
 >= 0);

228 
v¬CÚ¡ªts
 = 
hy³rCube
->
	`g‘V¬CÚ¡ªts
(
v¬Id
);

229 
phy³rCube
->
	`£tV¬CÚ¡ªts
(
v¬CÚ¡ªts
,
‹rmno
+1);

233 if(
u£CT_
) {

234 
hy³rCube
->
	`upd©eToEx¶ic™T›dR•»£Á©iÚ
();

235 
phy³rCube
->
	`upd©eToEx¶ic™T›dR•»£Á©iÚ
();

239 
‹rmno
=0;”mno<
´edT”mCÁ
;termno++) {

240 
‹rmIndex
 = 
‹rmno
+1;

241 
»fT”mIndex
 = 
phy³rCube
->
	`g‘Reã»nûV¬Id
(
‹rmIndex
);

242 if(!
u£CT_
) {

243 
	`as£¹
(
»fT”mIndex
 =ğ
‹rmIndex
);

246 if(
»fT”mIndex
 !ğ
‹rmIndex
)

248 
v¬CÚ¡ªts
 = 
Ãw
 
	`IÁA¼ay
(*(
phy³rCube
->
	`g‘V¬CÚ¡ªts
(
‹rmIndex
)));

249 
phy³rCube
->
	`£tV¬CÚ¡ªts
(
v¬CÚ¡ªts
,
‹rmIndex
);

251  
phy³rCube
;

252 
	}
}

255 
	$hasZ”oNumTu¶es
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
) {

256 
boŞ
 
ÃedD‘aedCheck
 = 
çl£
;

257 
v¬CÁ
 = 
hy³rCube
->
	`g‘V¬CouÁ
();

258 
v¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

259 
»fV¬Id
 = 
hy³rCube
->
	`g‘Reã»nûV¬Id
(
v¬Id
);

260 if(
v¬Id
 !ğ
»fV¬Id
)

262 if(
hy³rCube
->
	`g‘V¬CÚ¡ªtCouÁ
(
v¬Id
è< 
v¬CÁ
) {

263 
ÃedD‘aedCheck
 = 
Œue
;

268 if(!
ÃedD‘aedCheck
)

269  
çl£
;

271 
A¼ay
<
boŞ
> *
fixedIds
 = 
Ãw
 A¼ay<boŞ>(
v¬CÁ
+1,
çl£
);

272 
num
 = 
	`g‘NumTu¶es
(
hy³rCube
,
fixedIds
);

273 
d–‘e
 
fixedIds
;

274  (
num
 <= 0);

275 
	}
}

279 
g‘NumTu¶es
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
, 
A¼ay
<
boŞ
> * cÚ¡ & 
fixedIds
) {

280 
	gnum
;

281 
	gv¬CÁ
 = 
hy³rCube
->
g‘V¬CouÁ
();

283 if(
	gu£CT_
)

291 
boŞ
 
	g®lA»Fixed
 = 
Œue
;

292 
	gv¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

293 if((*
	gfixedIds
)[
v¬Id
])

295 
	g®lA»Fixed
 = 
çl£
;

297 if(
	g®lA»Fixed
) {

303 
	gA¼ay
<> *
	gcÚ¡ªtCÁs
 = 
Ãw
 
IÁA¼ay
(
v¬CÁ
+1,1);

305 
	gv¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

306 
	g»fV¬Id
 = 
hy³rCube
->
g‘Reã»nûV¬Id
(
v¬Id
);

307 if(
	gv¬Id
 !ğ
»fV¬Id
)

309 if((*
	gfixedIds
)[
v¬Id
])

311 (*
	gcÚ¡ªtCÁs
)[
v¬Id
] = 
hy³rCube
->
g‘V¬CÚ¡ªtCouÁ
(varId);

320 
	gA¼ay
<> *
	g£’CÁs
 = 
Ãw
 
IÁA¼ay
(
v¬CÁ
+1,0);

321 
IÁA¼ayHashA¼ay
 *
	g»ËvªtCÚ¡¿šts
 = 
hy³rCube
->
g‘R–evªtCÚ¡¿šts
(
ÃqCÚ¡¿šts_
);

322 
IÁA¼ay
 *
	gcÚ¡¿št
;

323 
	gafãùedV¬Id
, 
	gŞdCÁ
;

324 
	gi
=0;i<
	g»ËvªtCÚ¡¿šts
->
size
();i++) {

325 
	gcÚ¡¿št
 = (*
»ËvªtCÚ¡¿šts
)[
i
];

326 
	gv¬Id1
 = -(*
cÚ¡¿št
)[0];

327 
	gv¬Id2
 = -(*
cÚ¡¿št
)[1];

328 
	gafãùedV¬Id
 = 0;

330 if(
	ghy³rCube
->
hasDisjoštV¬CÚ¡ªts
(
v¬Id1
,
v¬Id2
))

333 (*
	g£’CÁs
)[
v¬Id1
]++;

334 (*
	g£’CÁs
)[
v¬Id2
]++;

336 if((*
	gfixedIds
)[
v¬Id1
] || ((*fixedIds)[
v¬Id2
]))

337 if((*
	gfixedIds
)[
v¬Id1
] && ((*fixedIds)[
v¬Id2
]))

343 if(!
	gafãùedV¬Id
 && (*
	gfixedIds
)[
v¬Id1
])

344 
	gafãùedV¬Id
 = 
v¬Id2
;

345 if(!
	gafãùedV¬Id
 && (*
	gfixedIds
)[
v¬Id2
])

346 
	gafãùedV¬Id
 = 
v¬Id1
;

349 if(!
	gafãùedV¬Id
 && (*
	g£’CÁs
)[
v¬Id1
] < (*£’CÁs)[
v¬Id2
])

350 
	gafãùedV¬Id
 = 
v¬Id1
;

351 if(!
	gafãùedV¬Id
 && (*
	g£’CÁs
)[
v¬Id2
] < (*£’CÁs)[
v¬Id1
])

352 
	gafãùedV¬Id
 = 
v¬Id2
;

355 if(!
	gafãùedV¬Id
 && (*
	gcÚ¡ªtCÁs
)[
v¬Id1
] <ğ(*
cÚ¡ªtCÁs
)[
v¬Id2
])

356 
afãùedV¬Id
 = 
v¬Id1
;

357 if(!
	gafãùedV¬Id
 && (*
	gcÚ¡ªtCÁs
)[
v¬Id1
] >ğ(*
cÚ¡ªtCÁs
)[
v¬Id2
])

358 
afãùedV¬Id
 = 
v¬Id2
;

360 
	gŞdCÁ
 = (*
cÚ¡ªtCÁs
)[
afãùedV¬Id
];

361 (*
	gcÚ¡ªtCÁs
)[
afãùedV¬Id
] = 
max
(0,
ŞdCÁ
-1);

364 
	gnum
 = 1;

365 
	gv¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

366 if((*
	gfixedIds
)[
v¬Id
])

368 
	gnum
 = 
num
 * (*
cÚ¡ªtCÁs
)[
v¬Id
];

371 
	g»ËvªtCÚ¡¿šts
->
d–‘eI‹msAndCË¬
();

372 
d–‘e
 
	g»ËvªtCÚ¡¿šts
;

373 
d–‘e
 
	g£’CÁs
;

374 
d–‘e
 
	gcÚ¡ªtCÁs
;

377 
	gnum
 = 1;

378 
	gv¬Id
=1;v¬Id<=
v¬CÁ
;varId++) {

379 if((*
	gfixedIds
)[
v¬Id
])

381 
	gnum
 = 
num
 * 
hy³rCube
->
g‘V¬CÚ¡ªtCouÁ
(
v¬Id
);

384  
	gnum
;

390 
	$g‘NumTu¶esJoššgW™hHy³rCube
(
hšdex
, 
P»diÿ‹
 *
´ed
) {

391 
Hy³rCube
 *
hy³rCube
 = (*
hy³rCubes_
)[
hšdex
];

392 
v¬CÁ
 = 
hy³rCube
->
	`g‘V¬CouÁ
();

393 
A¼ay
<
boŞ
> *
fixedIds
 = 
Ãw
 A¼ay<boŞ>(
v¬CÁ
+1,
çl£
);

396 
i
=0;i<
´ed
->
	`g‘NumT”ms
();i++) {

397 cÚ¡ 
T”m
 *
‹rm
 = 
´ed
->
	`g‘T”m
(
i
);

398 
v¬Id
 = -
‹rm
->
	`g‘Id
();

399 
	`as£¹
(
v¬Id
 > 0);

400 
»fV¬Id
 = 
hy³rCube
->
	`g‘Reã»nûV¬Id
(
v¬Id
);

401 (*
fixedIds
)[
»fV¬Id
] = 
Œue
;

404 
num
 = 
	`g‘NumTu¶es
(
hy³rCube
,
fixedIds
);

405 
d–‘e
 
fixedIds
;

406  
num
;

407 
	}
}

411 
	$g‘NumTu¶es
(
hšdex
) {

412 
Hy³rCube
 *
hy³rCube
 = (*
hy³rCubes_
)[
hšdex
];

413 
v¬CÁ
 = 
hy³rCube
->
	`g‘V¬CouÁ
();

414 
A¼ay
<
boŞ
> *
fixedIds
 = 
Ãw
 A¼ay<boŞ>(
v¬CÁ
+1,
çl£
);

416 
num
 = 
	`g‘NumTu¶es
(
hy³rCube
,
fixedIds
);

425 
d–‘e
 
fixedIds
;

426  
num
;

427 
	}
}

429 
	$g‘NumTu¶es
(){

430 
num
 = 0;

433 
hšdex
=0;hšdex<
hy³rCubes_
->
	`size
();hindex++) {

434 
num
 =‚um + 
	`g‘NumTu¶es
(
hšdex
);

437  
num
;

439 
	}
}

441 
	$g‘NumTu¶esW™hDu¶iÿ‹s
(){

442 
num
 = 0;

445 
hšdex
=0;hšdex<
hy³rCubes_
->
	`size
();hindex++) {

446 
du¶iÿ‹CÁ
 = ()(*
hy³rCubeCÁs_
)[
hšdex
];

447 
num
 =‚um + 
du¶iÿ‹CÁ
*
	`g‘NumTu¶es
(
hšdex
);

450  
num
;

452 
	}
}

453 
	$g‘NumCÚ¡ªts
(
hšdex
) {

454  (*
hy³rCubes_
)[
hšdex
]->
	`g‘NumCÚ¡ªts
();

455 
	}
}

457 
	$g‘NumCÚ¡ªts
(){

458 
num
 = 0;

459 
hšdex
=0;hšdex<
hy³rCubes_
->
	`size
();hindex++) {

460 
num
 =‚um + 
	`g‘NumCÚ¡ªts
(
hšdex
);

462  
num
;

463 
	}
}

465 
	$g‘OuutWt
()

467  
ouutWt_
;

468 
	}
}

470 
	$addOuutWt
(cÚ¡ & 
ouutWt
)

472 
ouutWt_
 +ğ
ouutWt
;

473 
	}
}

478 
	$m”ge
(
Su³rCÏu£
 * cÚ¡ & 
su³rCÏu£
) {

479 
Hy³rCube
 *
hy³rCube
;

480 
hšdex
=0;hšdex<
su³rCÏu£
->
	`g‘NumHy³rCubes
();hindex++) {

481 
hy³rCube
 = 
su³rCÏu£
->
	`g‘Hy³rCube
(
hšdex
);

482 
hút
 = 
su³rCÏu£
->
	`g‘Hy³rCubeCouÁ
(
hšdex
);

483 
boŞ
 
addedNew
 = 
	`addHy³rCube
(
hy³rCube
);

484 
	`šüem’tHy³rCubeCouÁ
(
hy³rCube
,
hút
);

485 if(!
addedNew
) {

487 
d–‘e
 
hy³rCube
;

490 
	}
}

496 
	gA¼ay
<
	gHy³rCubeRev”£Index
 *> *
g‘RefšedRev”£Index
(
hšdex
,

497 
A¼ay
<
Hy³rCubeRefšem’t
 *> *
hcRefšem’tA¼
,

498 
boŞ
 
´št
)

500 
	g´edCÁ
 = 
şau£_
->
g‘NumP»diÿ‹s
();

501 
	gA¼ay
<
	gHy³rCube
 *> *
	g»fšedPHy³rCubes
;

502 
	gA¼ay
<
	gHy³rCubeRev”£Index
 *> * 
	g»v”£IndexA¼
 = 
Ãw
 
A¼ay
<
Hy³rCubeRev”£Index
 *>(
´edCÁ
,
	gNULL
);

503 
Hy³rCubeRefšem’t
 *
	ghcRefšem’t
;

504 
Hy³rCubeRev”£Index
 *
	g»v”£Index
;

505 
Hy³rCube
 *
	gphy³rCube
, *
	g»fšedPHy³rCube
;

507 
P»diÿ‹
 *
	g´ed
;

508 
	g´edId
;

509 if(
	g´št
) {

510 
	gcout
<<"G‘tšg„ev”£ index.."<<
	g’dl
;

513 
	gpšdex
=0;pšdex<
	g´edCÁ
;pindex++) {

514 
	g´ed
 = 
şau£_
->
g‘P»diÿ‹
(
pšdex
);

515 
	g´edId
 = 
´ed
->
g‘Id
();

516 
	g»v”£Index
 = 
Ãw
 
Hy³rCubeRev”£Index
();

517 
	g»v”£Index
->
ü—‹Index
();

518 
	gphy³rCube
 = 
g‘P»diÿ‹Hy³rCube
(
hšdex
, 
´ed
);

519 
	ghcRefšem’t
 = (*
hcRefšem’tA¼
)[
´edId
];

525 if(
	g´št
) {

526 
	gcout
<<"P»d Hy³rCubis:"<<
	g’dl
;

527 
	gphy³rCube
->
´št
(
cout
);

528 
	gcout
<<
	g’dl
;

531 
	g»fšedPHy³rCubes
 = 
hcRefšem’t
->
g‘RefšedHy³rCubes
(
phy³rCube
);

532 if(
	g´št
) {

533 
	gcout
<<"Numb” oà»fšed P»diÿ‹ hy³rcube obšed = "<<
	g»fšedPHy³rCubes
->
size
()<<
	g’dl
;

534 
	gcout
<<"Andhe£‡» "<<
	g’dl
;

537 
	gi
=0;i<
	g»fšedPHy³rCubes
->
size
();i++) {

538 if(
	g´št
) {

539 
	gcout
<<
	gi
<<":"<<
	g’dl
;

540 (*
	g»fšedPHy³rCubes
)[
i
]->
´št
(
cout
);

543 
	g»fšedPHy³rCube
 = (*
»fšedPHy³rCubes
)[
i
];

544 
	g»v”£Index
->
addHy³rCube
(
»fšedPHy³rCube
);

547 (*
	g»v”£IndexA¼
)[
pšdex
] = 
»v”£Index
;

548 
d–‘e
 
	gphy³rCube
;

550  
	g»v”£IndexA¼
;

555 
»fšeHy³rCubes
(
A¼ay
<
Hy³rCubeRefšem’t
 *> *
hcRefšem’tA¼
,

556 
A¼ay
<
Hy³rCubeRefšem’t
 *> *
ÃwHCRefšem’tA¼
,

557 
Domaš
 * cÚ¡ & 
domaš
,

558 
boŞ
 
´št
) {

560 if(
	g´št
) {

561 
	gcout
<<"------------------------------------------------------------"<<
	g’dl
;

562 
	gcout
<<"Ok, camšØg‘hRefšed Hy³rCubes..."<<
	g’dl
;

565 
	gA¼ay
<
	gHy³rCube
 *> *
	gÃwHy³rCubes
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>();

566 
	gA¼ay
<> *
	gÃwHy³rCubeCÁs
 = 
Ãw
 
A¼ay
<>();

568 
	gA¼ay
<
	gHy³rCube
 *> *
	g»fšedHy³rCubes
;

569 
	gA¼ay
<
	gHy³rCubeRev”£Index
 *> * 
	g»v”£IndexA¼
;

570 
IÁHashA¼ay
 *
	gunknownP»dIndiûs
 = 
Ãw
 IntHashArray();

571 
	g´edno
=0;´edno<
	gşau£_
->
g‘NumP»diÿ‹s
();predno++) {

572 
	gunknownP»dIndiûs
->
­³nd
(
´edno
);

575 
	ghšdex
=0;hšdex<
g‘NumHy³rCubes
();hindex++) {

579 if(
	g´št
) {

580 
	gcout
<<
	g’dl
<<"----------------------------------------------"<<endl;

581 
	gcout
<<"hšdex = "<<
	ghšdex
<<
	g’dl
;

582 
Hy³rCube
 *
	ghy³rCube
 = 
g‘Hy³rCube
(
hšdex
);

584 
	gcout
<<"G‘tšgh»fšed hy³rcube fÜ "<<
	g’dl
;

585 
	ghy³rCube
->
´št
(
cout
);

586 
	gcout
<<
	g’dl
;

588 
	g»v”£IndexA¼
 = 
g‘RefšedRev”£Index
(
hšdex
,
hcRefšem’tA¼
,
´št
);

593 if(
	g´št
) {

594 
	gcout
<<
	g’dl
;

595 
	gcout
<<"Now…”fÜmšghjoš.."<<
	g’dl
;

598 
Su³rCÏu£
 *
	gsu³rCÏu£
 = 
NULL
;

599 
	g»fšedHy³rCubes
 = 
g‘CÏu£Hy³rCubes
(
şau£_
,
su³rCÏu£
,
»v”£IndexA¼
,

600 
ÃwHCRefšem’tA¼
,
unknownP»dIndiûs
,

601 
ÃqCÚ¡¿šts_
,
u£CT_
,
domaš
);

603 
	gÃwHy³rCubes
->
­³nd
(
»fšedHy³rCubes
);

605 if(
	g´št
) {

606 
	gcout
<<"sizoà»fšed hy³rcubğ"<<
	g»fšedHy³rCubes
->
size
()<<
	g’dl
;

611 
	gi
=0;i<
	g»fšedHy³rCubes
->
size
();i++) {

612 
	gÃwHy³rCubeCÁs
->
­³nd
((*
hy³rCubeCÁs_
)[
hšdex
]);

615 
d–‘e
 
	g»fšedHy³rCubes
;

618 
d–‘e
 (*
hy³rCubes_
)[
hšdex
];

621 
	g»v”£IndexA¼
->
d–‘eI‹msAndCË¬
();

622 
d–‘e
 
	g»v”£IndexA¼
;

625 
	ghy³rCubes_
->
ş—r
();

626 
	ghy³rCubeCÁs_
->
ş—r
();

628 
	gi
=0;i<
	gÃwHy³rCubes
->
size
();i++) {

629 
Hy³rCube
 *
	ghc
 = (*
ÃwHy³rCubes
)[
i
];

630 
	gút
 = (*
ÃwHy³rCubeCÁs
)[
i
];

631 
	gšdex
 = 
hy³rCubes_
->
fšd
(
hc
);

634 if(
	gšdex
 < 0) {

635 
	ghy³rCubes_
->
­³nd
((*
ÃwHy³rCubes
)[
i
]);

636 
	ghy³rCubeCÁs_
->
­³nd
(
út
);

638 
d–‘e
 
	ghc
;

639 (*
	ghy³rCubeCÁs_
)[
šdex
] +ğ
út
;

643 if(
	g´št
) {

644 
	gcout
<<"Şd couÁ w”e: "<<
	g’dl
;

645 
	gi
=0;i<
	ghy³rCubeCÁs_
->
size
();i++)

646 
	gcout
<<(*
	ghy³rCubeCÁs_
)[
i
]<<" ";

647 
	gcout
<<
	g’dl
;

649 
	gcout
<<"Ãw couÁ ¬e: "<<
	g’dl
;

650 
	gi
=0;i<
	gÃwHy³rCubeCÁs
->
size
();i++)

651 
	gcout
<<(*
	gÃwHy³rCubeCÁs
)[
i
]<<" ";

652 
	gcout
<<
	g’dl
;

658 
d–‘e
 
	gunknownP»dIndiûs
;

659 
d–‘e
 
	gÃwHy³rCubes
;

660 
d–‘e
 
	gÃwHy³rCubeCÁs
;

662 if(
	g´št
) {

663 
	gcout
<<" DÚg‘tšgh»fšed hy³rcubes... "<<
	g’dl
;

664 
	gcout
<<"------------------------------------------------------------"<<
	g’dl
;

672 
	go¡»am
& 
	$´št
(
o¡»am
& 
out
) {

673 
i
=0;i<
hy³rCubes_
->
	`size
();i++) {

674 (*
hy³rCubes_
)[
i
]->
	`´št
(
out
);

676  
out
;

677 
	}
}

680 
	$´štCÏu£s
(
Domaš
 * cÚ¡ & 
domaš
, 
o¡»am
 & 
out
) {

681 
A¼ay
<
IÁA¼ay
 *> * 
tu¶es
;

682 
IÁA¼ay
 *
tu¶e
;

683 
Hy³rCube
 *
hy³rCube
;

684 
CÏu£
 *
gndCÏu£
;

685 
P»diÿ‹
 *
´ed
,*
gndP»d
;

686 
IÁA¼ay
 *
±u¶e
;

687 
cÚ¡ªt
;

688 
hšdex
=0;hšdex<
hy³rCubes_
->
	`size
();hindex++) {

689 
hy³rCube
 = (*
hy³rCubes_
)[
hšdex
];

690 
tu¶es
 = 
hy³rCube
->
	`g‘Tu¶es
();

691 
tšdex
=0;tšdex<
tu¶es
->
	`size
();tindex++) {

692 
tu¶e
 = (*
tu¶es
)[
tšdex
];

693 
gndCÏu£
 = 
Ãw
 
	`CÏu£
();

695 
´edno
=0;´edno<
şau£_
->
	`g‘NumP»diÿ‹s
();predno++) {

696 
±u¶e
 = 
Ãw
 
	`IÁA¼ay
();

697 
´ed
 = 
şau£_
->
	`g‘P»diÿ‹
(
´edno
);

698 
‹rmno
=0;‹rmno<
´ed
->
	`g‘NumT”ms
();termno++) {

699 
v¬Id
 = -(
´ed
->
	`g‘T”m
(
‹rmno
)->
	`g‘Id
());

700 
cÚ¡ªt
 = (*
tu¶e
)[
v¬Id
];

701 
±u¶e
->
	`­³nd
(
cÚ¡ªt
);

703 
gndP»d
 = 
domaš
->
	`g‘P»diÿ‹
(
±u¶e
,
´ed
->
	`g‘Id
());

705 
gndP»d
->
	`£tS’£
(
´ed
->
	`g‘S’£
());

706 
gndCÏu£
->
	`­³ndP»diÿ‹
(
gndP»d
);

707 
d–‘e
 
±u¶e
;

709 
gndCÏu£
->
	`´št
(
out
,
domaš
);

710 
out
<<
’dl
;

711 
d–‘e
 
gndCÏu£
;

712 
d–‘e
 
tu¶e
;

714 
tu¶es
->
	`ş—r
();

715 
d–‘e
 
tu¶es
;

717 
	}
}

721 
	$»£tIndex
(è{ 
su³rCÏu£Index__
 = 0;
	}
}

723 
	g´iv©e
:

724 
CÏu£
* 
şau£_
;

725 
	gwtSÿË_
;

726 
Hy³rCubeHashA¼ay
 *
	ghy³rCubes_
;

727 
	gA¼ay
<> * 
	ghy³rCubeCÁs_
;

728 
IÁA¼ayHashA¼ay
 * 
	gÃqCÚ¡¿šts_
;

729 
	gA¼ay
<> * 
	gv¬IdToCªÚiÿlV¬Id_
;

730 
	gsu³rCÏu£Id_
;

731 
	g·»ÁSu³rCÏu£Id_
;

732 
	gouutWt_
;

735 
boŞ
 
	gu£CT_
;

738 
	gsu³rCÏu£Index__
;

743 
ü—‹Su³rCÏu£s
(
A¼ay
<A¼ay<
Su³rCÏu£
*>*> * cÚ¡ & 
su³rCÏu£sA¼
,

744 
Domaš
 * cÚ¡ & 
domaš
);

746 
	ghash_m­
<
	tA¼ay
<>*,
	tSu³rCÏu£
 *, 
	tHashIÁA¼ay
, 
	tEqu®IÁA¼ay
> 
	tIÁA¼ayToSu³rCÏu£
;

	@infer/superpred.cpp

67 
	~"ut.h
"

68 
	~"mrf.h
"

69 
	~"su³rşau£.h
"

70 
	~"su³½»d.h
"

73 
boŞ
 
	gSu³rP»d
::
isFœ¡AcûssFÜSticV¬s_
 = 
Œue
;

74 
	gA¼ay
<
	gHy³rCubeToSu³rP»dM­
 *> * 
	gSu³rP»d
::
hy³rCubeToSu³rP»dA¼_
 = 
NULL
;

75 
	gA¼ay
<A¼ay<
	gSu³rP»d
 *>*>* Su³rP»d::
su³rP»dsA¼_
 = 
NULL
;

76 
	gA¼ay
<
	gHy³rCubeRefšem’t
 *>* 
	gSu³rP»d
::
hcRefšem’tA¼_
 = 
NULL
;

80 
š™Su³rP»ds
(
A¼ay
<A¼ay<
Su³rCÏu£
 *> *> * cÚ¡ & 
su³rCÏu£sA¼
,

81 
Domaš
 * cÚ¡ & 
domaš
) {

83 
	gdomašP»dCÁ
 = 
domaš
->
g‘NumP»diÿ‹s
();

84 
	gA¼ay
<
	gHy³rCubeHashA¼ay
 *> * 
	ghy³rCubesA¼
 = 
Ãw
 
A¼ay
<
Hy³rCubeHashA¼ay
 *>();

85 
	g´edId
=0;´edId<
	gdomašP»dCÁ
;predId++) {

86 
	ghy³rCubesA¼
->
­³nd
(
Ãw
 
Hy³rCubeHashA¼ay
());

89 
	gSu³rP»d
::
ş—r
(
domašP»dCÁ
);

91 
Hy³rCubeRefšem’t
 *
	ghcRefšem’t
;

92 
	gA¼ay
<
	gSu³rCÏu£
 *> * 
	gsu³rCÏu£s
;

93 
Hy³rCubeHashA¼ay
 * 
	ghy³rCubes
;

94 
Hy³rCube
 *
	gphy³rCube
, *
	gba£Hy³rCube
;

95 
CÏu£
* 
	gşau£
;

96 
P»diÿ‹
 *
	g´ed
;

97 
Su³rCÏu£
 *
	gsu³rCÏu£
;

98 
CÏu£CouÁ”
 *
	gşau£CouÁ”
;

99 
	gsu³rCÏu£CÁ
;

101 
	gA¼ay
<
	gSu³rP»d
 *> *
	gsu³rP»ds
;

102 
Su³rP»d
 *
	gsu³rP»d
;

105 
	g¬rIndex
=0;¬rIndex<
	gsu³rCÏu£sA¼
->
size
();arrIndex++) {

106 
	gsu³rCÏu£s
 = (*
su³rCÏu£sA¼
)[
¬rIndex
];

107 
	gsu³rCÏu£CÁ
 = 
su³rCÏu£s
->
size
();

109 
	gscšdex
=0;scšdex<
	gsu³rCÏu£CÁ
;scindex++) {

110 
	gsu³rCÏu£
 = (*
su³rCÏu£s
)[
scšdex
];

111 
	gşau£
 = 
su³rCÏu£
->
g‘CÏu£
();

112 
	g´edCÁ
 = 
şau£
->
g‘NumP»diÿ‹s
();

115 
	gnumHy³rCubes
 = 
su³rCÏu£
->
g‘NumHy³rCubes
();

116 
	ghšdex
=0;hšdex<
	gnumHy³rCubes
;hindex++) {

117 
	gpšdex
=0;pšdex<
	g´edCÁ
;pindex++) {

118 
	g´ed
 = 
şau£
->
g‘P»diÿ‹
(
pšdex
);

119 
	gphy³rCube
 = 
su³rCÏu£
->
g‘P»diÿ‹Hy³rCube
(
hšdex
, 
´ed
);

121 
	g´edId
 = 
domaš
->
g‘P»diÿ‹Id
(
´ed
->
g‘Name
());

122 
	ghcRefšem’t
 = 
Su³rP»d
::
g‘Hy³rCubeRefšem’t
(
´edId
);

123 if(
	ghcRefšem’t
) {

124 
	gba£Hy³rCube
 = 
hcRefšem’t
->
g‘Ba£Hy³rCube
(
phy³rCube
);

126 
	gba£Hy³rCube
 = 
Ãw
 
Hy³rCube
(
ba£Hy³rCube
);

127 
d–‘e
 
	gphy³rCube
;

129 
	gba£Hy³rCube
 = 
phy³rCube
;

132 
	ghy³rCubes
 = (*
hy³rCubesA¼
)[
´edId
];

134 if(
	ghy³rCubes
->
­³nd
(
ba£Hy³rCube
) < 0) {

135 
d–‘e
 
	gba£Hy³rCube
;

139 
	gsu³rP»ds
 = 
Su³rP»d
::
g‘Su³rP»ds
(
´edId
);

140 
as£¹
((
su³rP»ds
->
size
() == 0) || (superPreds->size() == 1));

142 if(
	gsu³rP»ds
->
size
() == 0) {

143 
şau£CouÁ”
 = 
Ãw
 
CÏu£CouÁ”
();

145 
	gsu³rP»d
 = 
Ãw
 
Su³rP»d
(
´edId
, 
şau£CouÁ”
, -1);

147 
	gsu³rP»d
 = (*
su³rP»ds
)[0];

150 
	gsu³rP»d
->
addHy³rCube
(
ba£Hy³rCube
, 
´edId
);

156 
	ghy³rCubesA¼
->
d–‘eI‹msAndCË¬
();

157 
d–‘e
 
	ghy³rCubesA¼
;

163 
ü—‹Su³rP»ds
(
A¼ay
<A¼ay<
Su³rCÏu£
 *> *> * cÚ¡ & 
su³rCÏu£sA¼
,

164 
Domaš
 * cÚ¡ & 
domaš
,

165 
boŞ
 
isAµroxim©eSu³rP»ds
) {

171 
IÁHashA¼ay
 
	g£’P»dIds
;

172 
	gA¼ay
<
	gSu³rCÏu£
 *> * 
	gsu³rCÏu£s
;

174 
	gdomašP»dCÁ
 = 
domaš
->
g‘NumP»diÿ‹s
();

175 
	gA¼ay
<
	gHy³rCubeToP»dHCAuxInfoM­
* > * 
	ghcToAuxInfoA¼
 = 
NULL
;

177 if(!
	gisAµroxim©eSu³rP»ds
) {

178 
	ghcToAuxInfoA¼
 = 
Ãw
 
A¼ay
<
Hy³rCubeToP»dHCAuxInfoM­
*>();

179 
	ghcToAuxInfoA¼
->
growToSize
(
domašP»dCÁ
);

181 
	gi
=0;i<
	gdomašP»dCÁ
;i++) {

182 (*
	ghcToAuxInfoA¼
)[
i
] = 
Ãw
 
Hy³rCubeToP»dHCAuxInfoM­
();

186 
Hy³rCubeToP»dHCAuxInfoM­
 * 
	ghcToAuxInfo
;

187 
	gHy³rCubeToP»dHCAuxInfoM­
::
™”©Ü
 
hcToAuxInfoIŒ
;

189 
Hy³rCubeRefšem’t
 *
	ghcRefšem’t
;

190 
	gA¼ay
<
	gHy³rCube
 *> * 
	g»fšedHy³rCubes
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>();

192 
Hy³rCube
 *
	gphy³rCube
, *
	gba£Hy³rCube
, *
	g»fšedHy³rCube
;

193 
CÏu£
* 
	gşau£
;

194 
P»diÿ‹
 *
	g´ed
;

195 
Su³rCÏu£
 *
	gsu³rCÏu£
;

196 
P»dHCAuxInfo
 *
	gauxInfo
;

197 
CÏu£CouÁ”
 *
	gşau£CouÁ”
;

198 
	gsu³rCÏu£CÁ
;

200 
	gA¼ay
<
	gSu³rP»d
 *> *
	gsu³rP»ds
;

201 
Su³rP»d
 *
	gsu³rP»d
;

204 
boŞ
 
	gu£RefšedHC
;

206 
	gA¼ay
<
	gHy³rCubeRefšem’t
 *> *
	ghcRefšem’tA¼
;

207 
	ghcRefšem’tA¼
 = 
Su³rP»d
::
g‘Hy³rCubeRefšem’t
();

208 if(
	ghcRefšem’tA¼
)

209 
	gu£RefšedHC
 = 
Œue
;

211 
	gu£RefšedHC
 = 
çl£
;

213 
	gSu³rP»d
::
ş—rCÏu£CouÁ”s
(
domašP»dCÁ
);

216 
boŞ
 
	g»fšedHCCÚv”ged
 = 
Œue
;

218 
	g´evCÁ
 = 0;

220 
	g¬rIndex
=0;¬rIndex<
	gsu³rCÏu£sA¼
->
size
();arrIndex++) {

221 
	gsu³rCÏu£s
 = (*
su³rCÏu£sA¼
)[
¬rIndex
];

222 
	gsu³rCÏu£CÁ
 = 
su³rCÏu£s
->
size
();

224 
	gscšdex
=0;scšdex<
	gsu³rCÏu£CÁ
;scindex++) {

225 
	gsu³rCÏu£
 = (*
su³rCÏu£s
)[
scšdex
];

226 
	gşau£
 = 
su³rCÏu£
->
g‘CÏu£
();

227 
	g´edCÁ
 = 
şau£
->
g‘NumP»diÿ‹s
();

230 
	gnumHy³rCubes
 = 
su³rCÏu£
->
g‘NumHy³rCubes
();

240 
	ghšdex
=0;hšdex<
	gnumHy³rCubes
;hindex++) {

243 
	ghút
 = 
su³rCÏu£
->
g‘Hy³rCubeCouÁ
(
hšdex
);

258 
	gim¶ic™CÁ
;

259 
	gpšdex
=0;pšdex<
	g´edCÁ
;pindex++) {

260 
	g´ed
 = 
şau£
->
g‘P»diÿ‹
(
pšdex
);

261 
	gphy³rCube
 = 
su³rCÏu£
->
g‘P»diÿ‹Hy³rCube
(
hšdex
, 
´ed
);

266 
	g´edId
 = 
domaš
->
g‘P»diÿ‹Id
(
´ed
->
g‘Name
());

267 
	ghcRefšem’t
 = 
Su³rP»d
::
g‘Hy³rCubeRefšem’t
(
´edId
);

274 
	g»fšedHy³rCubes
->
ş—r
();

275 if(
	gu£RefšedHC
) {

276 (*
	g»fšedHy³rCubes
èğ(*(
hcRefšem’t
->
g‘RefšedHy³rCubes
(
phy³rCube
)));

277 
	gba£Hy³rCube
 = 
hcRefšem’t
->
g‘Ba£Hy³rCube
(
phy³rCube
);

282 if(
	g»fšedHy³rCubes
->
size
() > 1) {

283 
	g»fšedHCCÚv”ged
 = 
çl£
;

285 
d–‘e
 
	gphy³rCube
;

288 
	gba£Hy³rCube
 = 
phy³rCube
;

289 
	g»fšedHy³rCubes
->
­³nd
(
phy³rCube
);

292 
as£¹
(
ba£Hy³rCube
);

293 if(!
	gba£Hy³rCube
) {

294 
	gcout
<<"ProbËm h”e.!!"<<
	g’dl
;

295 
	gcout
<<"NØba£ hy³rcube!"<<
	g’dl
;

298 
	gim¶ic™CÁ
 = 
su³rCÏu£
->
g‘NumTu¶esJoššgW™hHy³rCube
(
hšdex
, 
´ed
);

299 
	g£’P»dIds
.
­³nd
(
´edId
);

302 
	grhšdex
=0;rhšdex<
	g»fšedHy³rCubes
->
size
();rhindex++) {

305 if(
	gu£RefšedHC
)

306 
	g»fšedHy³rCube
 = 
Ãw
 
Hy³rCube
((*
»fšedHy³rCubes
)[
rhšdex
]);

308 
	g»fšedHy³rCube
 = (*
»fšedHy³rCubes
)[
rhšdex
];

311 if(
	gisAµroxim©eSu³rP»ds
) {

312 
	gsu³rP»d
 = 
Su³rP»d
::
g‘Su³rP»d
(
ba£Hy³rCube
, 
´edId
);

313 
	gşau£CouÁ”
 = (
CÏu£CouÁ”
 *)
su³rP»d
->
g‘CÏu£CouÁ”
();

314 
	ghcNumTu¶es
 = 
»fšedHy³rCube
->
g‘NumTu¶es
();

315 
	gşau£CouÁ”
->
šüem’tCouÁ
(
scšdex
+
´evCÁ
,
pšdex
,
´edCÁ
,
hút
*
im¶ic™CÁ
*
hcNumTu¶es
);

316 
d–‘e
 
	g»fšedHy³rCube
;

319 
	ghcToAuxInfo
 = (*
hcToAuxInfoA¼
)[
´edId
];

320 
	ghcToAuxInfoIŒ
 = 
hcToAuxInfo
->
fšd
(
»fšedHy³rCube
);

336 if(
	ghcToAuxInfoIŒ
 =ğ
hcToAuxInfo
->
’d
()) {

338 
su³rP»dId
 = 
Su³rP»d
::
g‘Su³rP»dId
(
ba£Hy³rCube
, 
´edId
);

339 
	gşau£CouÁ”
 = 
Ãw
 
CÏu£CouÁ”
();

340 
	gauxInfo
 = 
Ãw
 
P»dHCAuxInfo
(
şau£CouÁ”
,
su³rP»dId
);

341 (*
	ghcToAuxInfo
)[
»fšedHy³rCube
] = 
auxInfo
;

344 
d–‘e
 
	g»fšedHy³rCube
;

345 
	gauxInfo
 = 
hcToAuxInfoIŒ
->
£cÚd
;

346 
	gşau£CouÁ”
 = 
auxInfo
->
g‘CÏu£CouÁ”
();

348 
	gşau£CouÁ”
->
šüem’tCouÁ
(
scšdex
+
´evCÁ
,
pšdex
,
´edCÁ
,
hút
*
im¶ic™CÁ
);

354 
	g´evCÁ
 +ğ
su³rCÏu£CÁ
;

357 
	g»fšedHy³rCubes
->
ş—r
();

358 
d–‘e
 
	g»fšedHy³rCubes
;

360 if(
	gisAµroxim©eSu³rP»ds
) {

361 
	g´edId
=0;´edId<
	gdomašP»dCÁ
;predId++) {

362 if(
	g£’P»dIds
.
fšd
(
´edId
) < 0)

364 
	gsu³rP»ds
 = 
Su³rP»d
::
g‘Su³rP»ds
(
´edId
);

365 
	gi
=0;i<
	gsu³rP»ds
->
size
();i++) {

366 
	gsu³rP»d
 = (*
su³rP»ds
)[
i
];

367 
	gşau£CouÁ”
 = (
CÏu£CouÁ”
 *)
su³rP»d
->
g‘CÏu£CouÁ”
();

368 
	gnumTu¶es
 = 
su³rP»d
->
g‘AµroxNumTu¶es
();

369 
	gşau£CouÁ”
->
muÉlyCouÁs
(1.0/
numTu¶es
);

377 if(
	gu£RefšedHC
 && 
	g»fšedHCCÚv”ged
) {

378 
	gcout
<<"Refšed hy³rcubü—tiÚ…roûs ha cÚv”ged...! :-)"<<
	g’dl
;

379 
	gSu³rP»d
::
d–‘eHy³rCubeRefšem’t
();

390 
CÏu£CouÁ”ToSu³rP»dM­
 * 
	gşau£CouÁ”ToSu³rP»d
;

391 
	gCÏu£CouÁ”ToSu³rP»dM­
::
™”©Ü
 
ocToSpIŒ
;

394 
	g·»ÁSu³rP»dId
;

397 
	gSu³rP»d
::
ş—r
(
domašP»dCÁ
);

399 
	g´edId
=0;´edId<
	gdomašP»dCÁ
;predId++) {

401 if(
	g£’P»dIds
.
fšd
(
´edId
) < 0)

405 
	gşau£CouÁ”ToSu³rP»d
 = 
Ãw
 
CÏu£CouÁ”ToSu³rP»dM­
();

406 
	ghcToAuxInfo
 = (*
hcToAuxInfoA¼
)[
´edId
];

408 
	ghcToAuxInfoIŒ
 = 
hcToAuxInfo
->
begš
();

409 
	ghcToAuxInfoIŒ
 !ğ
hcToAuxInfo
->
’d
();

410 
	ghcToAuxInfoIŒ
++) {

412 
	gphy³rCube
 = 
hcToAuxInfoIŒ
->
fœ¡
;

413 
	gauxInfo
 = 
hcToAuxInfoIŒ
->
£cÚd
;

414 
	g·»ÁSu³rP»dId
 = 
auxInfo
->
g‘Su³rP»dId
();

415 
	gşau£CouÁ”
 = 
auxInfo
->
g‘CÏu£CouÁ”
();

426 
	gocToSpIŒ
 = 
şau£CouÁ”ToSu³rP»d
->
fšd
(
şau£CouÁ”
);

427 if(
	gocToSpIŒ
 =ğ
şau£CouÁ”ToSu³rP»d
->
’d
()) {

429 
su³rP»d
 = 
Ãw
 
Su³rP»d
(
´edId
, 
şau£CouÁ”
, 
·»ÁSu³rP»dId
);

430 (*
	gşau£CouÁ”ToSu³rP»d
)[
şau£CouÁ”
] = 
su³rP»d
;

432 
d–‘e
 
	gşau£CouÁ”
;

433 
	gsu³rP»d
 = 
ocToSpIŒ
->
£cÚd
;

440 
	gsu³rP»d
->
addHy³rCube
(
phy³rCube
, 
´edId
);

444 
	gşau£CouÁ”ToSu³rP»d
->
ş—r
();

445 
d–‘e
 
	gşau£CouÁ”ToSu³rP»d
;

449 
	g´edId
=0;´edId<
	gdomašP»dCÁ
;predId++) {

450 
	ghcToAuxInfo
 = (*
hcToAuxInfoA¼
)[
´edId
];

451 
	ghcToAuxInfo
->
ş—r
();

452 
d–‘e
 
	ghcToAuxInfo
;

455 
d–‘e
 
	ghcToAuxInfoA¼
;

	@infer/superpred.h

67 #iâdeà
_SUPERPRED_H_DEC_2007


68 
	#_SUPERPRED_H_DEC_2007


	)

70 
	~"şau£couÁ”.h
"

71 
	~"su³rşau£.h
"

72 
	~"hy³rcube.h
"

73 
	~"hy³rcubeİ”©iÚs.h
"

74 
	~"domaš.h
"

76 
şass
 
	gSu³rP»d
;

79 
	ghash_m­
<
	tHy³rCube
*, 
	tSu³rP»d
*, 
	tHashHy³rCube
, 
	tEqu®Hy³rCube
> 
	tHy³rCubeToSu³rP»dM­
;

84 
š™Su³rP»ds
(
A¼ay
<A¼ay<
Su³rCÏu£
 *> *> * cÚ¡ & 
su³rCÏu£sA¼
,

85 
Domaš
 * cÚ¡ & 
domaš
);

87 
ü—‹Su³rP»ds
(
A¼ay
<A¼ay<
Su³rCÏu£
 *> *> * cÚ¡ & 
su³rCÏu£sA¼
,

88 
Domaš
 * cÚ¡ & 
domaš
,

89 
boŞ
 
isAµroxim©eSu³rP»ds
);

93 şas 
	cSu³rP»d
 {

94 
	mpublic
:

95 
	$Su³rP»d
(& 
´edId
, 
CÏu£CouÁ”
 * cÚ¡ & 
şau£CouÁ”
, 
·»ÁSu³rP»dId
) {

96 
hy³rCubes_
 = 
Ãw
 
A¼ay
<
Hy³rCube
 *>;

97 
´edId_
 = 
´edId
;

101 
A¼ay
<
Su³rP»d
 *> * 
su³rP»ds
 = (*(Su³rP»d::
su³rP»dsA¼_
))[
´edId
];

102 
su³rP»dId_
 = 
su³rP»ds
->
	`size
();

103 
su³rP»ds
->
	`­³nd
(
this
);

104 
şau£CouÁ”_
 = 
şau£CouÁ”
;

105 
·»ÁSu³rP»dId_
 = 
·»ÁSu³rP»dId
;

109 ~
	$Su³rP»d
() {

110 
d–‘e
 
hy³rCubes_
;

114 
d–‘e
 
şau£CouÁ”_
;

115 
	}
}

117 
	$g‘P»dId
(è{ 
´edId_
;
	}
}

119 
Hy³rCube
 * 
	$g‘Hy³rCube
(
hšdex
è{ (*
hy³rCubes_
)[hšdex];
	}
}

121 
	$g‘Su³rP»dId
(è{ 
su³rP»dId_
;
	}
}

123 
	$g‘P¬’tSu³rP»dId
(è{ 
·»ÁSu³rP»dId_
;
	}
}

125 
	$g‘NumHy³rCubes
(){  
hy³rCubes_
->
	`size
();
	}
}

129 
	$g‘AµroxNumTu¶es
() {

130 
út
 = 0;

131 
i
=0;i<
hy³rCubes_
->
	`size
();i++) {

132 
út
 +ğ(*
hy³rCubes_
)[
i
]->
	`g‘NumTu¶es
();

134  
út
;

135 
	}
}

137 cÚ¡ 
CÏu£CouÁ”
 * 
	$g‘CÏu£CouÁ”
(è{  
şau£CouÁ”_
;
	}
}

138 
	$ş—rCÏu£CouÁ”
(è{ 
d–‘e
 
şau£CouÁ”_
; cÏu£CouÁ”_ = 
Ãw
 
	`CÏu£CouÁ”
();
	}
}

140 
	$addHy³rCube
(
Hy³rCube
 * 
hy³rCube
, 
´edId
) {

141 
hy³rCubes_
->
	`­³nd
(
hy³rCube
);

142 
Hy³rCubeToSu³rP»dM­
 * 
hy³rCubeToSu³rP»d
;

143 
hy³rCubeToSu³rP»d
 = (*(
Su³rP»d
::
hy³rCubeToSu³rP»dA¼_
))[
´edId
];

144 (*
hy³rCubeToSu³rP»d
)[
hy³rCube
] = 
this
;

147 
	}
}

150 
	$´štP»diÿ‹s
(
Domaš
 * cÚ¡ & 
domaš
,

151 
o¡»am
 & 
out
) {

152 
A¼ay
<
IÁA¼ay
 *> * 
tu¶es
;

153 
IÁA¼ay
 *
tu¶e
;

154 
Hy³rCube
 *
hy³rCube
;

156 
P»diÿ‹
 *
gndP»d
;

157 
hšdex
=0;hšdex<
hy³rCubes_
->
	`size
();hindex++) {

158 
hy³rCube
 = (*
hy³rCubes_
)[
hšdex
];

159 
tu¶es
 = 
hy³rCube
->
	`g‘Tu¶es
();

160 
tšdex
=0;tšdex<
tu¶es
->
	`size
();tindex++) {

161 
tu¶e
 = (*
tu¶es
)[
tšdex
];

162 
tu¶e
->
	`»moveI‹m
(0);

164 
gndP»d
 = 
domaš
->
	`g‘P»diÿ‹
(
tu¶e
,
´edId_
);

169 
gndP»d
->
	`´štW™hSŒV¬
(
out
,
domaš
);

170 
out
<<
’dl
;

171 
d–‘e
 
gndP»d
;

172 
d–‘e
 
tu¶e
;

174 
tu¶es
->
	`ş—r
();

175 
d–‘e
 
tu¶es
;

177 
	}
}

182 
	$g‘Su³rP»dCouÁ
(
´edId
){ (*
su³rP»dsA¼_
)[´edId]->
	`size
();
	}
}

185 
	gA¼ay
<
	gSu³rP»d
 *> * 
	$g‘Su³rP»ds
(
´edId
è{  (*
su³rP»dsA¼_
)[´edId];
	}
}

187 
	$ş—rCÏu£CouÁ”s
(
´edCÁ
) {

188 
A¼ay
<
Su³rP»d
 *> *
su³rP»ds
;

189 
´edId
=0;´edId<
´edCÁ
;predId++) {

190 
su³rP»ds
 = (*
su³rP»dsA¼_
)[
´edId
];

191 
i
=0;i<
su³rP»ds
->
	`size
();i++) {

192 (*
su³rP»ds
)[
i
]->
	`ş—rCÏu£CouÁ”
();

195 
	}
}

197 
	$ş—r
(
´edCÁ
) {

199 if(
isFœ¡AcûssFÜSticV¬s_
) {

200 
su³rP»dsA¼_
 = 
Ãw
 
A¼ay
<A¼ay<
Su³rP»d
 *>*>();

201 
hy³rCubeToSu³rP»dA¼_
 = 
Ãw
 
A¼ay
<
Hy³rCubeToSu³rP»dM­
 *>();

202 
´edId
=0;´edId<
´edCÁ
;predId++) {

204 
hy³rCubeToSu³rP»dA¼_
->
	`­³nd
(
Ãw
 
	`Hy³rCubeToSu³rP»dM­
());

205 
su³rP»dsA¼_
->
	`­³nd
(
Ãw
 
A¼ay
<
Su³rP»d
 *>());

207 
isFœ¡AcûssFÜSticV¬s_
 = 
çl£
;

210 
A¼ay
<
Su³rP»d
 *> *
su³rP»ds
;

211 
Hy³rCubeToSu³rP»dM­
 * 
hy³rCubeToSu³rP»d
;

212 
Hy³rCubeToSu³rP»dM­
::
™”©Ü
 
hcToSpIŒ
;

213 
´edId
=0;´edId<
´edCÁ
;predId++) {

216 
su³rP»ds
 = (*
su³rP»dsA¼_
)[
´edId
];

217 
i
=0;i<
su³rP»ds
->
	`size
();i++) {

218 
	`d–‘e
 (*
su³rP»ds
)[
i
];

222 
A¼ay
<
Hy³rCube
 *> 
keysA¼
;

223 
hy³rCubeToSu³rP»d
 = (*
hy³rCubeToSu³rP»dA¼_
)[
´edId
];

224 
keysA¼
.
	`ş—r
();

225 
hcToSpIŒ
 = 
hy³rCubeToSu³rP»d
->
	`begš
();

226 
hcToSpIŒ
 !ğ
hy³rCubeToSu³rP»d
->
	`’d
();

227 
hcToSpIŒ
++) {

228 
keysA¼
.
	`­³nd
(
hcToSpIŒ
->
fœ¡
);

230 
i
=0;i<
keysA¼
.
	`size
();i++) {

231 
d–‘e
 
keysA¼
[
i
];

235 
su³rP»ds
->
	`ş—r
();

236 
hy³rCubeToSu³rP»d
->
	`ş—r
();

239 
	}
}

241 
Su³rP»d
 * 
	$g‘Su³rP»d
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
, & 
´edId
) {

242 
Hy³rCubeToSu³rP»dM­
 * 
hy³rCubeToSu³rP»d
;

243 
Hy³rCubeToSu³rP»dM­
::
™”©Ü
 
hcToSpIŒ
;

244 if(
isFœ¡AcûssFÜSticV¬s_
) {

245  
NULL
;

247 
	`as£¹
(
hy³rCubeToSu³rP»dA¼_
);

248 
hy³rCubeToSu³rP»d
 = (*
hy³rCubeToSu³rP»dA¼_
)[
´edId
];

249 
hcToSpIŒ
 = 
hy³rCubeToSu³rP»d
->
	`fšd
(
hy³rCube
);

250 if(
hcToSpIŒ
 =ğ
hy³rCubeToSu³rP»d
->
	`’d
()) {

251 
cout
<<"ProbËm h”e...!!"<<
’dl
;

252 
cout
<<"Cª'ˆfšdhhy³rcub"<<
’dl
;

253 
hy³rCube
->
	`´št
(
cout
)<<
’dl
;

254 
cout
<<
’dl
;

256 
Su³rP»d
 *
su³rP»d
 = 
hcToSpIŒ
->
£cÚd
;

257 
	`as£¹
(
su³rP»d
 !ğ
NULL
);

258  
su³rP»d
;

259 
	}
}

261 
	$g‘Su³rP»dId
(
Hy³rCube
 * cÚ¡ & 
hy³rCube
, & 
´edId
) {

262 
Su³rP»d
 * 
su³rP»d
 = 
	`g‘Su³rP»d
(
hy³rCube
,
´edId
);

263 if(
su³rP»d
) {

264  
su³rP»d
->
	`g‘Su³rP»dId
();

268 
	}
}

270 
Hy³rCubeRefšem’t
 *
	$g‘Hy³rCubeRefšem’t
(
´edId
) {

271 if(!
hcRefšem’tA¼_
)

272  
NULL
;

273  (*
hcRefšem’tA¼_
)[
´edId
];

274 
	}
}

276 
	gA¼ay
<
	gHy³rCubeRefšem’t
 *> *
	$g‘Hy³rCubeRefšem’t
() {

277  
hcRefšem’tA¼_
;

278 
	}
}

281 
	$d–‘eHy³rCubeRefšem’t
() {

282 if(!
hcRefšem’tA¼_
)

285 
i
=0;i<
hcRefšem’tA¼_
->
	`size
();i++) {

286 
	`d–‘e
 (*
hcRefšem’tA¼_
)[
i
];

288 
d–‘e
 
hcRefšem’tA¼_
;

289 
Su³rP»d
::
	`£tHy³rCubeRefšem’t
(
NULL
);

290 
	}
}

292 
£tHy³rCubeRefšem’t
(
A¼ay
<
Hy³rCubeRefšem’t
 *> * const &

293 
ÃwHCRefšem’tA¼
) {

294 
	ghcRefšem’tA¼_
 = 
ÃwHCRefšem’tA¼
;

297 
	g´iv©e
:

298 
´edId_
;

299 
	gsu³rP»dId_
;

300 
	g·»ÁSu³rP»dId_
;

301 
	gA¼ay
<
	gHy³rCube
 *> *
	ghy³rCubes_
;

302 
CÏu£CouÁ”
 *
	gşau£CouÁ”_
;

304 
boŞ
 
	gisFœ¡AcûssFÜSticV¬s_
;

305 
	gA¼ay
<
	gHy³rCubeToSu³rP»dM­
*>* 
	ghy³rCubeToSu³rP»dA¼_
;

306 
	gA¼ay
<A¼ay<
	gSu³rP»d
 *>*>* 
	gsu³rP»dsA¼_
;

307 
	gA¼ay
<
	gHy³rCubeRefšem’t
 *> * 
	ghcRefšem’tA¼_
;

311 şas 
	cP»dHCAuxInfo
 {

312 
	mpublic
:

313 
	$P»dHCAuxInfo
(
CÏu£CouÁ”
 * cÚ¡ & 
cc
, 
su³rP»dId
) {

314 
cc_
 = 
cc
;

315 
su³rP»dId_
 = 
su³rP»dId
;

318 ~
	$P»dHCAuxInfo
() {

319 
d–‘e
 
cc_
;

320 
	}
}

322 
	$g‘Su³rP»dId
(è{  
su³rP»dId_
;
	}
}

323 
CÏu£CouÁ”
 * 
	$g‘CÏu£CouÁ”
(è{ 
cc_
;
	}
}

325 
	g´iv©e
:

326 
su³rP»dId_
;

327 
CÏu£CouÁ”
 *
	gcc_
;

330 
	ghash_m­
<
	tCÏu£CouÁ”
*, 
	tSu³rP»d
*, 
	tHashCÏu£CouÁ”
, 
	tEqu®CÏu£CouÁ”
> 
	tCÏu£CouÁ”ToSu³rP»dM­
;

331 
	ghash_m­
<
	tHy³rCube
*, 
	tP»dHCAuxInfo
*, 
	tHashHy³rCube
, 
	tEqu®Hy³rCube
> 
	tHy³rCubeToP»dHCAuxInfoM­
;

	@infer/twowaymessage.h

66 #iâdeà
TWOWAYMESSAGE_H_


67 
	#TWOWAYMESSAGE_H_


	)

73 şas 
	cTwoWayMes§ge


75 
	mpublic
:

76 
	$TwoWayMes§ge
(
nodeToFaùÜMsgs
[], 
çùÜToNodeMsgs
[])

78 
i
 = 0; i < 2; i++)

80 
nodeToFaùÜMsgs_
[
i
] = 
nodeToFaùÜMsgs
[i];

81 
çùÜToNodeMsgs_
[
i
] = 
çùÜToNodeMsgs
[i];

85 ~
	$TwoWayMes§ge
(è{
	}
}

87 * 
	$g‘NodeToFaùÜMes§ge
(è{  
nodeToFaùÜMsgs_
;
	}
}

88 * 
	$g‘FaùÜToNodeMes§ge
(è{  
çùÜToNodeMsgs_
;
	}
}

90 
	g´iv©e
:

91 
nodeToFaùÜMsgs_
[2];

92 
	gçùÜToNodeMsgs_
[2];

95 şas 
	cLškId


97 
	mpublic
:

98 
	$LškId
(
´edId
, 
su³rP»dId
, 
su³rCÏu£Id
, 
´edIndex
)

100 
´edId_
 = 
´edId
;

101 
su³rP»dId_
 = 
su³rP»dId
;

102 
su³rCÏu£Id_
 = 
su³rCÏu£Id
;

103 
´edIndex_
 = 
´edIndex
;

104 
dœty_
 = 
Œue
;

107 ~
	$LškId
(){
	}
}

109 
	$g‘P»dId
(è{  
´edId_
;
	}
}

110 
	$g‘Su³rP»dId
(è{  
su³rP»dId_
; 
	}
}

111 
	$g‘Su³rCÏu£Id
(è{  
su³rCÏu£Id_
; 
	}
}

112 
	$g‘P»dIndex
(è{  
´edIndex_
; 
	}
}

114 
size_t
 
	$g‘HashCode
()

116 ià(!
dœty_
è 
hashCode_
;

117 
hashCode_
 = 
´edId_
;

118 
hashCode_
 = hashCode_*31 + 
su³rP»dId_
;

119 
hashCode_
 = hashCode_*31 + 
su³rCÏu£Id_
;

120 
hashCode_
 = hashCode_*31 + 
´edIndex_
;

121 
dœty_
 = 
çl£
;

122  
hashCode_
;

123 
	}
}

125 
	g´iv©e
:

126 
´edId_
;

127 
	gsu³rP»dId_
;

128 
	gsu³rCÏu£Id_
;

129 
	g´edIndex_
;

131 
size_t
 
	ghashCode_
;

132 
boŞ
 
	gdœty_
;

136 şas 
	cHashLškId


138 
	mpublic
:

139 
size_t
 
	$İ”©Ü
()(
LškId
 * cÚ¡ & 
lid
) const

141  
lid
->
	`g‘HashCode
();

143 
	}
};

146 şas 
	cEqu®LškId


148 
	mpublic
:

149 
boŞ
 
	$İ”©Ü
()(
LškId
 * cÚ¡ & 
lid1
, LškId * cÚ¡ & 
lid2
)

151  (
lid1
->
	`g‘P»dId
(è=ğ
lid2
->getPredId() &&

152 
lid1
->
	`g‘Su³rP»dId
(è=ğ
lid2
->getSuperPredId() &&

153 
lid1
->
	`g‘Su³rCÏu£Id
(è=ğ
lid2
->getSuperClauseId() &&

154 
lid1
->
	`g‘P»dIndex
(è=ğ
lid2
->getPredIndex());

156 
	}
};

158 
	ghash_m­
<
	tLškId
*, 
	tTwoWayMes§ge
*, 
	tHashLškId
, 
	tEqu®LškId
>

159 
	tLškIdToTwoWayMes§geM­
;

	@infer/unitpropagation.h

66 #iâdeà
UNITPROPAGATION_H_


67 
	#UNITPROPAGATION_H_


	)

69 
	~"šã»nû.h
"

71 cÚ¡ 
	gupdebug
 = 
çl£
;

73 şas 
	cUn™Prİag©iÚ
 : 
public
 
Inã»nû


75 
public
:

80 
	$Un™Prİag©iÚ
(
V¬ŸbËS‹
* 
¡©e
, 
£ed
,

81 cÚ¡ 
boŞ
& 
ŒackCÏu£TrueCÁs
)

82 : 
	$Inã»nû
(
¡©e
, 
£ed
, 
ŒackCÏu£TrueCÁs
) {}

84 ~
	$Un™Prİag©iÚ
(è{
	}
}

89 
	$š™
(è{ ; 
	}
}

94 
	$šãr
()

96 ià(
updebug
è
cout
 << "EÁ”šg Un™Prİag©iÚ::šãr" << 
’dl
;

97 
boŞ
 
dÚe
 = 
çl£
;

99 !
dÚe
)

101 ià(
updebug
è
cout
 << 
’dl
 <<ƒndl;

102 
dÚe
 = 
Œue
;

103 
i
 = 0; i < 
¡©e_
->
	`g‘NumCÏu£s
(); i++)

106 ià(
¡©e_
->
	`isD—dCÏu£
(
i
)) ;

108 
A¼ay
<>* 
©oms
 = 
¡©e_
->
	`sim¶ifyCÏu£FromFixedAtoms
(
i
);

109 ià(
©oms
->
	`size
() == 0)

111 
d–‘e
 
©oms
;

114 ià(
updebug
è
cout
 << "CÏu£ " << 
i
 << " ";

116 
co¡
 = 
¡©e_
->
	`g‘CÏu£Co¡
(
i
);

117 ià(
©oms
->
	`size
(è=ğ1 || 
co¡
 < 0)

119 ià(
updebug
è
cout
 << "un™ o¸Ãg©ive" << 
’dl
;

121 
dÚe
 = 
çl£
;

123 
j
 = 0; j < 
©oms
->
	`size
(); j++)

125 
l™
 = (*
©oms
)[
j
];

128 
boŞ
 
v®ue
 = ((
l™
 > 0 && 
co¡
 > 0) || (lit < 0 && cost < 0))

129 ? 
Œue
 : 
çl£
;

130 
¡©e_
->
	`fixAtom
(
	`abs
(
l™
), 
v®ue
);

135 ià(
updebug
è
cout
 << 
’dl
;

137 
d–‘e
 
©oms
;

141 
¡©e_
->
	`§veLowS‹
();

142 ià(
updebug
è
cout
 << "L—všg Un™Prİag©iÚ::šãr" << 
’dl
;

143 
	}
}

148 
	$´štProbab™›s
(
o¡»am
& 
out
)

150 
i
 = 0; i < 
¡©e_
->
	`g‘NumAtoms
(); i++)

152 
¡©e_
->
	`´štGndP»d
(
i
, 
out
);

153 
out
 << " " << 
¡©e_
->
	`g‘V®ueOfLowAtom
(
i
 + 1è<< 
’dl
;

155 
	}
}

170 
g‘ChªgedP»ds
(
veùÜ
<
¡ršg
>& 
chªgedP»ds
, veùÜ<>& 
´obs
,

171 
veùÜ
<>& 
ŞdProbs
, cÚ¡ & 
´obD–
)

173 
	gchªgedP»ds
.
ş—r
();

174 
	g´obs
.
ş—r
();

175 
	gnumAtoms
 = 
¡©e_
->
g‘NumAtoms
();

177 
	gŞdProbs
.
»size
(
numAtoms
, 0);

178 
	gi
 = 0; i < 
	gnumAtoms
; i++)

180 
	gtv
 = 
¡©e_
->
g‘V®ueOfLowAtom
(
i
 + 1);

181 ià(
	gtv
 !ğ
ŞdProbs
[
i
])

185 
ŞdProbs
[
i
] = 
tv
;

186 
o¡ršg¡»am
 
oss
(o¡ršg¡»am::
out
);

187 
	g¡©e_
->
´štGndP»d
(
i
, 
oss
);

188 
	gchªgedP»ds
.
push_back
(
oss
.
¡r
());

189 
	g´obs
.
push_back
(
tv
);

197 
	$g‘Probab™y
(
GroundP»diÿ‹
* cÚ¡& 
gndP»d
)

199 
idx
 = 
¡©e_
->
	`g‘GndP»dIndex
(
gndP»d
);

200 
ŒuthV®ue
 = 0;

201 ià(
idx
 >ğ0è
ŒuthV®ue
 = 
¡©e_
->
	`g‘V®ueOfLowAtom
(idx + 1);

202  
ŒuthV®ue
;

203 
	}
}

208 
	$´štTrueP»ds
(
o¡»am
& 
out
)

210 
i
 = 0; i < 
¡©e_
->
	`g‘NumAtoms
(); i++)

212 ià(
¡©e_
->
	`g‘V®ueOfLowAtom
(
i
 + 1))

214 
¡©e_
->
	`´štGndP»d
(
i
, 
out
);

215 
out
 << 
’dl
;

218 
	}
}

220 
	g´iv©e
:

	@infer/variable.h

68 #iâdeà
VARIABLE_H_JAN_2008


69 
	#VARIABLE_H_JAN_2008


	)

71 
	~"ut.h
"

72 
	~"´ediÿ‹.h
"

79 şas 
	cP»diÿ‹T”m


81 
	mpublic
:

82 
	$P»diÿ‹T”m
(& 
´edId
, & 
‹rmno
)

84 
´edId_
 = 
´edId
;

85 
‹rmno_
 = 
‹rmno
;

88 
	$g‘P»dId
(è{  
´edId_
;
	}
}

90 
	$g‘T”mno
(è{  
‹rmno_
;
	}
}

92 
	g´iv©e
:

93 
´edId_
;

94 
	g‹rmno_
;

103 şas 
	cV¬ŸbË


105 
	mpublic
:

106 
V¬ŸbË
(
CÏu£
* cÚ¡ & 
şau£
, 
v¬Id
, 
P»diÿ‹
* cÚ¡ & 
´ed
,

107 & 
‹rmno
, & 
eqCÏssId
, cÚ¡ 
A¼ay
<>* cÚ¡ & 
cÚ¡ªts
)

109 
	mşau£_
 = 
şau£
;

110 
	m´ed_
 = 
´ed
;

111 
	mv¬Id_
 = 
v¬Id
;

112 
	m‹rmno_
 = 
‹rmno
;

113 
	meqCÏssId_
 = 
eqCÏssId
;

114 
	mt›dV¬s_
 = 
Ãw
 
A¼ay
<
V¬ŸbË
*>();

115 
	mt›dV¬s_
->
­³nd
(
this
);

116 
	m»´e£Á©ive_
 = 
Œue
;

117 
	mim¶ic™CÚ¡ªts_
 = 
Ãw
 
IÁHashA¼ay
();

120 
	mi
 = 0; i < 
	mcÚ¡ªts
->
size
(); i++)

122 
	mim¶ic™CÚ¡ªts_
->
­³nd
((*
cÚ¡ªts
)[
i
]);

126 
	gA¼ay
<
	gV¬ŸbË
*>* 
	$g‘T›dV¬ŸbËs
(è{ 
t›dV¬s_
;
	}
}

128 
CÏu£
 * 
	$g‘CÏu£
(){ 
şau£_
;
	}
}

129 
	$g‘P»dId
(è{ 
´ed_
->
	`g‘Id
();
	}
}

130 
	$g‘V¬Id
(è{ 
v¬Id_
;
	}
}

131 
	$g‘T”mno
(è{ 
‹rmno_
;
	}
}

132 
	$g‘EqCÏssId
(è{ 
eqCÏssId_
;
	}
}

133 
boŞ
 
	$isR•»£Á©ive
(è{ 
»´e£Á©ive_
;
	}
}

134 
	$g‘NumT›dV¬ŸbËs
(è{ 
t›dV¬s_
->
	`size
();
	}
}

135 
V¬ŸbË
 * 
	$g‘T›dV¬ŸbË
(
pos
è{ (*
t›dV¬s_
)[pos];
	}
}

138 
£tT›dV¬s
(
A¼ay
<
V¬ŸbË
 *> * cÚ¡ & 
ÃwT›dV¬s
)

140 
	gt›dV¬s_
 = 
ÃwT›dV¬s
;

143 
	$£tEqCÏssId
(
id
è{ 
eqCÏssId_
 = id;
	}
}

145 
	$£tR•»£Á©ive
(
boŞ
 
b
è{ 
»´e£Á©ive_
 = b;
	}
}

147 
boŞ
 
	$hasSameEqCÏss
(
V¬ŸbË
 * cÚ¡ & 
v¬
)

149  (
eqCÏssId_
 =ğ
v¬
->
	`g‘EqCÏssId
());

150 
	}
}

152 
boŞ
 
	$§me
(
V¬ŸbË
 * cÚ¡ & 
v¬
)

156 (
şau£_
->
	`§me
(
v¬
->
	`g‘CÏu£
()) &&

157 
v¬Id_
 =ğ
v¬
->
	`g‘V¬Id
() && varId_ < 0) ||

159 ((
´ed_
->
	`g‘Id
(è=ğ
v¬
->
	`g‘P»dId
()è&& (
‹rmno_
 =ğv¬->
	`g‘T”mno
()));

160 
	}
}

163 
	$m”ge
(
V¬ŸbË
 * cÚ¡ & 
v¬
)

165 ià(
	`hasSameEqCÏss
(
v¬
))

167 
t›dV¬s_
->
	`­³nd
(
v¬
->tiedVars_);

168 
d–‘e
 
v¬
->
t›dV¬s_
;

170 
V¬ŸbË
 *
lškedV¬
;

172 
i
 = 0; i < 
t›dV¬s_
->
	`size
(); i++)

174 
lškedV¬
 = (*
t›dV¬s_
)[
i
];

175 
lškedV¬
->
	`£tEqCÏssId
(
eqCÏssId_
);

176 
lškedV¬
->
	`£tT›dV¬s
(
t›dV¬s_
);

177 
lškedV¬
->
	`£tR•»£Á©ive
(
çl£
);

179 
»´e£Á©ive_
 = 
Œue
;

180 
	}
}

182 
	$´št
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

184 
out
<<"CÏs id: "<<
eqCÏssId_
<<
’dl
;

185 
out
<<
´ed_
->
	`g‘Name
()<<" :"<<
‹rmno_
<<
’dl
;

186 
cout
<<
’dl
;

187 
	}
}

189 
	$´štAÎ
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

191 
i
 = 0; i < 
t›dV¬s_
->
	`size
(); i++)

193 (*
t›dV¬s_
)[
i
]->
	`´št
(
out
,
domaš
);

195 
	}
}

201 
boŞ
 
	$isIm¶ic™
(
cÚ¡ªtId
)

203  
im¶ic™CÚ¡ªts_
->
	`fšd
(
cÚ¡ªtId
) >= 0;

204 
	}
}

206 
	$g‘NumIm¶ic™CÚ¡ªts
(è{  
im¶ic™CÚ¡ªts_
->
	`size
();
	}
}

208 
	$g‘Im¶ic™Index
(
cÚ¡ªtId
)

210  
im¶ic™CÚ¡ªts_
->
	`fšd
(
cÚ¡ªtId
);

211 
	}
}

214 
	$»moveIm¶ic™
(
cÚ¡ªtId
)

216 
šdex
 = 
im¶ic™CÚ¡ªts_
->
	`fšd
(
cÚ¡ªtId
);

217 ià(
šdex
 >= 0)

218 
im¶ic™CÚ¡ªts_
->
	`»moveI‹m
(
šdex
);

219 
	}
}

221 
	$g‘Im¶ic™CÚ¡ªt
(
šdex
)

223 
	`as£¹
(
im¶ic™CÚ¡ªts_
->
	`size
(è> 
šdex
);

224  (*
im¶ic™CÚ¡ªts_
)[
šdex
];

225 
	}
}

229 
boŞ
 
	$isIm¶ic™PÏûHŞd”
(
cÚ¡ªtId
)

231 ià(
im¶ic™CÚ¡ªts_
->
	`size
() <= 0)

232  
çl£
;

233  
cÚ¡ªtId
 =ğ(*
im¶ic™CÚ¡ªts_
)[0];

234 
	}
}

236 
	$´štIm¶ic™CÚ¡ªts
(
o¡»am
 & 
out
, 
Domaš
 * cÚ¡ & 
domaš
)

238 
i
 = 0; i < 
im¶ic™CÚ¡ªts_
->
	`size
(); i++)

240 
out
<<(*
im¶ic™CÚ¡ªts_
)[
i
]<<" ";

242 
	}
}

244 
	g´iv©e
:

245 
CÏu£
 *
şau£_
;

246 
P»diÿ‹
 *
	g´ed_
;

247 
	gv¬Id_
;

248 
	g‹rmno_
;

249 
	gA¼ay
<
	gV¬ŸbË
 *> *
	gt›dV¬s_
;

250 
	geqCÏssId_
;

251 
boŞ
 
	g»´e£Á©ive_
;

254 
IÁHashA¼ay
 * 
	gim¶ic™CÚ¡ªts_
;

258 şas 
	cHashP»diÿ‹T”m


260 
	mpublic
:

261 
size_t
 
	$İ”©Ü
()(
P»diÿ‹T”m
 *
±
) const

263  31*
±
->
	`g‘P»dId
()+…t->
	`g‘T”mno
();

265 
	}
};

268 şas 
	cEqu®P»diÿ‹T”m


270 
	mpublic
:

271 
boŞ
 
	$İ”©Ü
()(
P»diÿ‹T”m
 * cÚ¡ & 
±1
,

272 
P»diÿ‹T”m
 * cÚ¡ & 
±2
) const

274  (
±1
->
	`g‘P»dId
(è=ğ
±2
->getPredId()) &&

275 (
±1
->
	`g‘T”mno
(è=ğ
±2
->getTermno());

277 
	}
};

	@learnstruct/learnstruct.cpp

66 
	~<f¡»am
>

67 
	~<io¡»am
>

68 
	~"¬gum’ts.h
"

69 
	~"fŞ.h
"

70 
	~"Ë¬nwts.h
"

72 
	~"¡ruùË¬n.h
"

75 * 
	gšMLNFes
 = 
NULL
;

76 * 
	goutMLNFe
 = 
NULL
;

77 * 
	gdbFes
 = 
NULL
;

78 * 
	gnÚEvidP»dsSŒ
 = 
NULL
;

79 
boŞ
 
	gmuÉËD©aba£s
 = 
çl£
;

81 
	gb—mSize
 = 5;

82 
	gmšWt
 = 0.01;

83 
	g³ÇÉy
 = 0.01;

84 
	gmaxV¬s
 = 6;

85 
	gmaxNumP»diÿ‹s
 = 6;

86 
	gÿcheSize
 = 500;

88 
boŞ
 
	gnoSam¶eCÏu£s
 = 
çl£
;

89 
	gdd–
 = 0.05;

90 
	g•sÚ
 = 0.2;

91 
	gmšCÏu£Sam¶es
 = -1;

92 
	gmaxCÏu£Sam¶es
 = -1;

94 
boŞ
 
	gnoSam¶eGndP»ds
 = 
çl£
;

95 
	gäaùiÚ
 = 0.8;

96 
	gmšGndP»dSam¶es
 = -1;

97 
	gmaxGndP»dSam¶es
 = -1;

99 
boŞ
 
	gnoPriÜ
 = 
çl£
;

100 
	g´iÜM—n
 = 0;

101 
	g´iÜStdDev
 = 100;

103 
	glbMaxI‹r
 = 10000;

104 
	glbCÚvTh»sh
 = 1e-5;

105 
	gloo£MaxI‹r
 = 10;

106 
	gloo£CÚvTh»sh
 = 1e-3;

108 
	gnumE¡Be¡CÏu£s
 = 10;

109 
boŞ
 
	gnoWtP»dsEqu®ly
 = 
çl£
;

110 
boŞ
 
	g¡¬tFromEm±yMLN
 = 
çl£
;

111 
boŞ
 
	gŒyAÎFls
 = 
çl£
;

112 
	gbe¡GašUnchªgedLim™
 = 2;

114 
boŞ
 
	g¡ruùG¿dDesûÁ
 = 
çl£
;

115 
boŞ
 
	gw™hEM
 = 
çl£
;

117 
ARGS
 
	gARGS
::
Args
[] =

119 
ARGS
("i", ARGS::
Req
, 
šMLNFes
,

125 
ARGS
("o", ARGS::
Req
, 
outMLNFe
,

128 
ARGS
("t", ARGS::
Req
, 
dbFes
,

133 
ARGS
("Ã", ARGS::
O±
, 
nÚEvidP»dsSŒ
,

137 
ARGS
("muÉËD©aba£s", ARGS::
Tog
, 
muÉËD©aba£s
,

141 
ARGS
("b—mSize", ARGS::
O±
, 
b—mSize
, "[5] Size of beam in beam search."),

143 
ARGS
("mšWt", ARGS::
O±
, 
mšWt
,

147 
ARGS
("³ÇÉy", ARGS::
O±
, 
³ÇÉy
,

152 
ARGS
("maxV¬s", ARGS::
O±
, 
maxV¬s
,

155 
ARGS
("maxNumP»diÿ‹s", ARGS::
O±
, 
maxNumP»diÿ‹s
,

158 
ARGS
("ÿcheSize", ARGS::
O±
, 
ÿcheSize
,

162 
ARGS
("noSam¶eCÏu£s", ARGS::
Tog
, 
noSam¶eCÏu£s
,

167 
ARGS
("d–", ARGS::
O±
, 
dd–
,

174 
ARGS
("•sÚ", ARGS::
O±
, 
•sÚ
,

180 
ARGS
("mšCÏu£Sam¶es", ARGS::
O±
, 
mšCÏu£Sam¶es
,

185 
ARGS
("maxCÏu£Sam¶es", ARGS::
O±
, 
maxCÏu£Sam¶es
,

190 
ARGS
("noSam¶eAtoms", ARGS::
Tog
, 
noSam¶eGndP»ds
,

194 
ARGS
("äaùAtoms", ARGS::
O±
, 
äaùiÚ
,

198 
ARGS
("mšAtomSam¶es", ARGS::
O±
, 
mšGndP»dSam¶es
,

203 
ARGS
("maxAtomSam¶es", ARGS::
O±
, 
maxGndP»dSam¶es
,

208 
ARGS
("noPriÜ", ARGS::
Tog
, 
noPriÜ
, "No Gaussian…riors on formula weights."),

210 
ARGS
("´iÜM—n", ARGS::
O±
, 
´iÜM—n
,

216 
ARGS
("´iÜStdDev", ARGS::
O±
, 
´iÜStdDev
,

219 
ARGS
("tightMaxI‹r", ARGS::
O±
, 
lbMaxI‹r
,

223 
ARGS
("tightCÚvTh»sh", ARGS::
O±
, 
lbCÚvTh»sh
,

227 
ARGS
("loo£MaxI‹r", ARGS::
O±
, 
loo£MaxI‹r
,

231 
ARGS
("loo£CÚvTh»sh", ARGS::
O±
, 
loo£CÚvTh»sh
,

235 
ARGS
("numCÏu£sReEv®", ARGS::
O±
, 
numE¡Be¡CÏu£s
,

239 
ARGS
("noWtP»dsEqu®ly", ARGS::
Tog
, 
noWtP»dsEqu®ly
,

245 
ARGS
("¡¬tFromEm±yMLN", ARGS::
Tog
, 
¡¬tFromEm±yMLN
,

251 
ARGS
("ŒyAÎFls", ARGS::
Tog
, 
ŒyAÎFls
,

256 
ARGS
("be¡GašUnchªgedLim™", ARGS::
O±
, 
be¡GašUnchªgedLim™
,

269 
ARGS
()

273 
boŞ
 
	$checkP¬ams
()

275 
boŞ
 
ok
 = 
Œue
;

276 ià(
b—mSize
<=0è{
cout
<<"ERROR: b—mSizmu¡ bpos™ive"<<
’dl
; 
ok
 =
çl£
;}

278 ià(
mšWt
<0è{ 
cout
 << "ERROR: mšWˆmu¡ bnÚ-Ãg©ive" << 
’dl
;
ok
 =
çl£
;}

280 ià(
³ÇÉy
<0è{ 
cout
 <<"ERROR:…’®ty mu¡ bnÚ-Ãg©ive"<<
’dl
;
ok
=
çl£
;}

282 ià(
maxV¬s
<=0è{ 
cout
 << "ERROR: maxV¬ mu¡ bpos™ive" << 
’dl
;
ok
 =
çl£
;}

284 ià(
maxNumP»diÿ‹s
 <= 0)

286 
cout
 << "ERROR: maxNumP»diÿ‹ mu¡ bpos™ive" << 
’dl
; 
ok
 = 
çl£
;

289 ià(
ÿcheSize
 < 0)

290 { 
cout
 << "ERROR: cacheSizmu¡ bnÚ-Ãg©ive" << 
’dl
; 
ok
 = 
çl£
; }

292 ià(
dd–
 <= 0 || ddelta > 1)

293 { 
cout
 << "ERROR: gamm¨mu¡ bb‘w“À0‡nd 1" << 
’dl
; 
ok
 = 
çl£
; }

295 ià(
•sÚ
 <= 0 ||ƒpsilon >= 1)

296 { 
cout
 << "ERROR:ƒpsÚ mu¡ bb‘w“À0‡nd 1" << 
’dl
; 
ok
 = 
çl£
; }

298 ià(
äaùiÚ
 < 0 || fraction > 1)

299 { 
cout
 << "ERROR: f¿ùiÚ mu¡ bb‘w“À0‡nd 1" << 
’dl
; 
ok
 = 
çl£
;}

301 ià(
´iÜM—n
 < 0)

302 { 
cout
 << "ERROR:…riÜM—Àmu¡ bnÚ-Ãg©ive" << 
’dl
; 
ok
 = 
çl£
; }

304 ià(
´iÜStdDev
 <= 0)

305 { 
cout
 << "ERROR:…riÜStdDev mu¡ bpos™ive" << 
’dl
; 
ok
 = 
çl£
; }

307 ià(
lbMaxI‹r
 <= 0)

308 { 
cout
 << "ERROR:ightMaxI‹¸mu¡ bpos™ive" << 
’dl
; 
ok
 = 
çl£
; }

310 ià(
lbCÚvTh»sh
 <= 0 ||†bConvThresh >= 1)

311 { 
cout
 << "ERROR:ightCÚvTh»sh mu¡ bb‘w“À0‡nd 1" << 
’dl
; 
ok
=
çl£
;}

313 ià(
loo£MaxI‹r
 <= 0)

314 { 
cout
 << "ERROR:†oo£MaxI‹¸mu¡ bpos™ive" << 
’dl
; 
ok
 = 
çl£
; }

316 ià(
loo£CÚvTh»sh
 <= 0 ||†ooseConvThresh >= 1)

317 { 
cout
 << "ERROR:†oo£CÚvTh»sh mu¡ bb‘w“À0‡nd 1" << 
’dl
; 
ok
=
çl£
;}

319 ià(
numE¡Be¡CÏu£s
 <= 0)

320 { 
cout
 << "ERROR:‚umCÏu£sReEv® mu¡ bpos™ive" << 
’dl
; 
ok
 = 
çl£
; }

322 ià(
be¡GašUnchªgedLim™
 <= 0)

323 { 
cout
 << "ERROR: be¡GašUnchªgedLim™ mu¡ bpos™ive" << 
’dl
; 
ok
=
çl£
;}

325 ià(!
¡ruùG¿dDesûÁ
 && 
w™hEM
)

326 { 
cout
 << "ERROR: EM cª oÆy bu£d w™h sŒuùu¿Èg¿d›Á desûÁ" << 
’dl
; 
ok
=
çl£
; }

328 ià(
¡ruùG¿dDesûÁ
 && 
nÚEvidP»dsSŒ
 =ğ
NULL
)

330 
cout
 << "ERROR: you must specify‚on-evidence…redicates for "

331 << "¡ruùu¿Èg¿d›Á desûÁ" << 
’dl
;

332 
ok
 = 
çl£
;

335  
ok
;

336 
	}
}

345 
	$maš
(
¬gc
, * 
¬gv
[])

347 
ARGS
::
	`·r£
(
¬gc
,
¬gv
,&
cout
);

348 
Tim”
 
tim”
;

349 
begSec
, 
¡¬tSec
 = 
tim”
.
	`time
();

354 
T”m
::
	`compu‹FixedSizeB
();

355 
P»diÿ‹
::
	`compu‹FixedSizeB
();

356 
CÏu£
::
	`compu‹FixedSizeB
();

357 
AuxCÏu£D©a
::
	`compu‹FixedSizeB
();

362 ià(!
	`checkP¬ams
())  -1;

369 
A¼ay
<
¡ršg
> 
cÚ¡FesA¼
, 
dbFesA¼
;

370 
	`exŒaùFeNames
(
šMLNFes
, 
cÚ¡FesA¼
);

371 
	`as£¹
(
cÚ¡FesA¼
.
	`size
() >= 1);

372 
¡ršg
 
šMLNFe
 = 
cÚ¡FesA¼
[0];

373 
cÚ¡FesA¼
.
	`»moveI‹m
(0);

374 
	`exŒaùFeNames
(
dbFes
, 
dbFesA¼
);

376 ià(
dbFesA¼
.
	`size
() <= 0)

377 { 
cout
 << "ERROR: mu¡ s³cify¿ššg d©¨w™h -ˆæag."<<
’dl
;  -1;}

380 ià(
muÉËD©aba£s
)

383 iàĞ(
cÚ¡FesA¼
.
	`size
(è> 0 && cÚ¡FesA¼.size(è!ğ
dbFesA¼
.size()))

385 
cout
 << "ERROR: whenhere‡re multiple databases, if .mln files "

387 << "bth§mnumb” oàthem‡ .db fes" << 
’dl
;

392 
SŒšgHashA¼ay
 
tmpNEP»dNames
;

393 
A¼ay
<
¡ršg
> 
nÚEvidP»dNames
;

394 ià(
nÚEvidP»dsSŒ
)

396 if(!
	`exŒaùP»dNames
(
nÚEvidP»dsSŒ
, 
NULL
, 
tmpNEP»dNames
))

398 
cout
 << "ERROR: faedØexŒaù‚Ú-evid’û…»diÿ‹‚ames." << 
’dl
;

401 
i
 = 0; i < 
tmpNEP»dNames
.
	`size
(); i++)

402 
nÚEvidP»dNames
.
	`­³nd
(
tmpNEP»dNames
[
i
]);

407 
A¼ay
<
Domaš
*> 
domašs
;

408 
A¼ay
<
MLN
*> 
mÊs
;

409 
SŒšgHashA¼ay
* 
qu”yP»dNames
 = 
NULL
;

410 ià(
¡ruùG¿dDesûÁ
)

412 
qu”yP»dNames
 = 
Ãw
 
	`SŒšgHashA¼ay
();

413 
i
 = 0; i < 
nÚEvidP»dNames
.
	`size
(); i++)

414 
qu”yP»dNames
->
	`­³nd
(
nÚEvidP»dNames
[
i
]);

417 
boŞ
 
addUn™CÏu£s
 = 
çl£
;

419 
boŞ
 
®lP»dsExû±Qu”›sA»CW
 = 
Œue
;

420 
boŞ
 
mwsLazy
 = 
Œue
;

421 ià(
¡ruùG¿dDesûÁ
 && 
w™hEM
è
®lP»dsExû±Qu”›sA»CW
 = 
çl£
;

422 
begSec
 = 
tim”
.
	`time
();

423 
cout
 << "P¬sšg MLN‡nd c»©šg domašs..." << 
’dl
;

424 
	`ü—‹DomašsAndMLNs
(
domašs
, 
mÊs
, 
muÉËD©aba£s
, 
šMLNFe
,

425 
cÚ¡FesA¼
, 
dbFesA¼
, 
qu”yP»dNames
,

426 
addUn™CÏu£s
, 
´iÜM—n
, 
mwsLazy
,

427 
®lP»dsExû±Qu”›sA»CW
, 
NULL
, NULL);

428 
cout
 << "Parsing MLN‡nd creating domainsook ";

429 
Tim”
::
	`´štTime
(
cout
, 
tim”
.
	`time
()-
begSec
); couˆ<< 
’dl
 <<ƒndl;

448 ià(
nÚEvidP»dNames
.
	`size
() == 0)

449 
domašs
[0]->
	`g‘NÚEqu®P»diÿ‹Names
(
nÚEvidP»dNames
);

450 
boŞ
 
ÿcheCÏu£s
 = (
ÿcheSize
 > 0);

451 
boŞ
 
»Ev®Be¡Cªdid©esW™hTightP¬ams
 = 
Œue
;

453 
SŒuùL—º
 
	`¦
(&
mÊs
, 
¡¬tFromEm±yMLN
, 
outMLNFe
, &
domašs
,

454 &
nÚEvidP»dNames
, 
maxV¬s
, 
maxNumP»diÿ‹s
, 
ÿcheCÏu£s
,

455 
ÿcheSize
, 
ŒyAÎFls
,

456 !
noSam¶eCÏu£s
, 
dd–
, 
•sÚ
,

457 
mšCÏu£Sam¶es
, 
maxCÏu£Sam¶es
,

458 !
noPriÜ
, 
´iÜM—n
, 
´iÜStdDev
,

459 !
noWtP»dsEqu®ly
,

460 
lbMaxI‹r
, 
lbCÚvTh»sh
, 
loo£MaxI‹r
, 
loo£CÚvTh»sh
,

461 
b—mSize
, 
be¡GašUnchªgedLim™
, 
numE¡Be¡CÏu£s
,

462 
mšWt
, 
³ÇÉy
,

463 !
noSam¶eGndP»ds
,
äaùiÚ
,
mšGndP»dSam¶es
,
maxGndP»dSam¶es
,

464 
»Ev®Be¡Cªdid©esW™hTightP¬ams
, 
¡ruùG¿dDesûÁ
,

465 
w™hEM
);

466 
¦
.
	`run
();

471 
	`d–‘eDomašs
(
domašs
);

472 
i
 = 0; i < 
mÊs
.
	`size
(); i++è
d–‘e
 mlns[i];

473 
Pow”S‘
::
	`d–‘ePow”S‘
();

475 
cout
 << "Totalimeaken = ";

476 
Tim”
::
	`´štTime
(
cout
, 
tim”
.
	`time
()-
¡¬tSec
); couˆ<< 
’dl
;

477 
	}
}

	@learnstruct/structlearn.h

67 #iâdeà
STRUCTLEARN_H_NOV_2_2005


68 
	#STRUCTLEARN_H_NOV_2_2005


	)

70 
	~"şau£çùÜy.h
"

71 
	~"mÊ.h
"

73 
	~"lbfgsb.h
"

74 
	~"disüimš©iv–—º”.h
"

78 
	sExi¡FÜmuÏ


80 
Exi¡FÜmuÏ
(cÚ¡ 
¡ršg
& 
ffÜmuÏ
)

81 : 
fÜmuÏ
(
ffÜmuÏ
), 
gaš
(0), 
wt
(0), 
ÃwScÜe
(0), 
numP»ds
(0) {}

82 ~
Exi¡FÜmuÏ
()

84 
	mi
 = 0; i < 
	múfCÏu£sFÜDomašs
.
size
(); i++)

85 
	múfCÏu£sFÜDomašs
[
i
].
d–‘eI‹msAndCË¬
();

88 
¡ršg
 
	mfÜmuÏ
;

91 
	mA¼ay
<A¼ay<
	mCÏu£
*> > 
	múfCÏu£sFÜDomašs
;

92 
	mgaš
;

93 
	mwt
;

94 
	mA¼ay
<> 
	mwts
;

95 
	mÃwScÜe
;

96 
	mnumP»ds
;

99 
	sIndexCouÁDomašIdx
 { 
IndexAndCouÁ
* 
	mŸc
; 
	mdomašIdx
; };

100 
	sCÏu£AndICDA¼ay
 {
CÏu£
* 
	mşau£
;
	mA¼ay
<
	mIndexCouÁDomašIdx
> 
	micdA¼ay
;};

103 şas 
	cSŒuùL—º


105 
	mpublic
:

108 
SŒuùL—º
(
A¼ay
<
MLN
*>* cÚ¡ & 
mÊs
, cÚ¡ 
boŞ
& 
¡¬tFromEm±yMLN
,

109 cÚ¡ 
¡ršg
& 
outMLNFeName
, 
A¼ay
<
Domaš
*>* cÚ¡ & 
domašs
,

110 cÚ¡ 
A¼ay
<
¡ršg
>* cÚ¡ & 
nÚEvidP»dNames
,

111 cÚ¡ & 
maxV¬s
, cÚ¡ & 
maxNumP»diÿ‹s
,

112 cÚ¡ 
boŞ
& 
ÿcheCÏu£s
, cÚ¡ & 
maxCacheSizeMB
,

113 cÚ¡ 
boŞ
& 
ŒyAÎFls
, cÚ¡ boŞ& 
§m¶eCÏu£s
,

114 cÚ¡ & 
d–
, cÚ¡ & 
•sÚ
,

115 cÚ¡ & 
mšCÏu£Sam¶es
, cÚ¡ & 
maxCÏu£Sam¶es
,

116 cÚ¡ 
boŞ
& 
hasPriÜ
, cÚ¡ & 
´iÜM—n
,

117 cÚ¡ & 
´iÜStdDev
, cÚ¡ 
boŞ
& 
wtP»dsEqu®ly
,

118 cÚ¡ & 
lbMaxI‹r
, cÚ¡ & 
lbCÚvTh»sh
,

119 cÚ¡ & 
loo£MaxI‹r
, cÚ¡ & 
loo£CÚvTh»sh
,

120 cÚ¡ & 
b—mSize
, cÚ¡ & 
be¡GašUnchªgedLim™
,

121 cÚ¡ & 
numE¡Be¡CÏu£s
,

122 cÚ¡ & 
mšWt
, cÚ¡ & 
³ÇÉy
,

123 cÚ¡ 
boŞ
& 
§m¶eGndP»ds
, cÚ¡ & 
äaùiÚ
,

124 cÚ¡ & 
mšGndP»dSam¶es
, cÚ¡ & 
maxGndP»dSam¶es
,

125 cÚ¡ 
boŞ
& 
»Ev®u©eBe¡Cªdid©esW™hTightP¬ams
,

126 cÚ¡ 
boŞ
& 
¡ruùG¿dDesûÁ
, cÚ¡ boŞ& 
w™hEM
)

127 : 
mÊ0_
((*
mÊs
)[0]), 
mÊs_
(mÊs), 
¡¬tFromEm±yMLN_
(
¡¬tFromEm±yMLN
),

128 
outMLNFeName_
(
outMLNFeName
), 
domašs_
(
domašs
),

129 
´eds_
(
Ãw
 
A¼ay
<
P»diÿ‹
*>), 
¬eNÚEvidP»ds_
Òew A¼ay<
boŞ
>),

130 
şau£FaùÜy_
(
Ãw
 
CÏu£FaùÜy
(
maxV¬s
, 
maxNumP»diÿ‹s
,

131 (*
domašs_
)[0])),

132 
ÿcheCÏu£s_
(
ÿcheCÏu£s
), 
ÜigCacheCÏu£s_
(cacheClauses),

133 
ÿchedCÏu£s_
((
ÿcheCÏu£s
è? (
Ãw
 
CÏu£HashA¼ay
è: 
NULL
),

134 
ÿcheSizeMB_
(0), 
maxCacheSizeMB_
(
maxCacheSizeMB
),

135 
ŒyAÎFls_
(
ŒyAÎFls
),

136 
§m¶eCÏu£s_
(
§m¶eCÏu£s
), 
ÜigSam¶eCÏu£s_
(sampleClauses),

137 
¶l_
(
NULL
), 
hasPriÜ_
(
hasPriÜ
), 
´iÜM—n_
(
´iÜM—n
),

138 
´iÜStdDev_
(
´iÜStdDev
), 
wtP»dsEqu®ly_
(
wtP»dsEqu®ly
),

139 
lbfgsb_
(
NULL
), 
lbMaxI‹r_
(
lbMaxI‹r
), 
lbCÚvTh»sh_
(
lbCÚvTh»sh
),

140 
loo£MaxI‹r_
(
loo£MaxI‹r
), 
loo£CÚvTh»sh_
(
loo£CÚvTh»sh
),

141 
b—mSize_
(
b—mSize
), 
be¡GašUnchªgedLim™_
(
be¡GašUnchªgedLim™
),

142 
numE¡Be¡CÏu£s_
(
numE¡Be¡CÏu£s
),

143 
mšGaš_
(0), 
mšWt_
(
mšWt
), 
³ÇÉy_
(
³ÇÉy
),

144 
§m¶eGndP»ds_
(
§m¶eGndP»ds
), 
äaùiÚ_
(
äaùiÚ
),

145 
mšGndP»dSam¶es_
(
mšGndP»dSam¶es
),

146 
maxGndP»dSam¶es_
(
maxGndP»dSam¶es
),

147 
»Ev®Be¡CªdsW™hTightP¬ams_
(
»Ev®u©eBe¡Cªdid©esW™hTightP¬ams
),

148 
ÿndCÁ_
(0), 
™”_
(-1), 
bs™”_
(-1), 
¡¬tSec_
(-1), 
šdexT¿ns_
(
NULL
),

149 
¡ruùG¿dDesûÁ_
(
¡ruùG¿dDesûÁ
), 
	$w™hEM_
(
w™hEM
)

151 
	`as£¹
(
mšWt_
 >= 0);

152 
	`as£¹
(
domašs_
->
	`size
(è=ğ
mÊs_
->size());

154 
¬eNÚEvidP»ds_
->
	`growToSize
((*
domašs_
)[0]->
	`g‘NumP»diÿ‹s
(), 
çl£
);

155 
i
 = 0; i < 
nÚEvidP»dNames
->
	`size
(); i++)

157 
´edId
=(*
domašs_
)[0]->
	`g‘P»diÿ‹Id
((*
nÚEvidP»dNames
)[
i
].
	`c_¡r
());

158 ià(
´edId
 < 0)

160 
cout
 << "ERROR: in StructLearn::StructLearn(). Predicate "

161 << (*
nÚEvidP»dNames
)[
i
] << " undefšed." << 
’dl
;

162 
	`ex™
(-1);

164 (*
¬eNÚEvidP»ds_
)[
´edId
] = 
Œue
;

167 (*
domašs_
)[0]->
	`ü—‹P»diÿ‹s
(
´eds_
, 
Œue
);

169 ià(
ÜigSam¶eCÏu£s_
)

171 
CÏu£Sam¶”
* 
cs
 = 
Ãw
 
	`CÏu£Sam¶”
(
d–
, 
•sÚ
, 
mšCÏu£Sam¶es
,

172 
maxCÏu£Sam¶es
);

173 
CÏu£
::
	`£tCÏu£Sam¶”
(
cs
);

174 
i
 = 0; i < 
domašs_
->
	`size
(); i++)

175 (*
domašs_
)[
i
]->
	`ÃwTrueF®£GroundšgsStÜe
();

180 ~
	$SŒuùL—º
()

182 ià(
¶l_
è
d–‘e
…ll_;

183 ià(
lbfgsb_
è
d–‘e
†bfgsb_;

184 
´eds_
->
	`d–‘eI‹msAndCË¬
();

185 
d–‘e
 
´eds_
;

186 
d–‘e
 
¬eNÚEvidP»ds_
;

187 
d–‘e
 
şau£FaùÜy_
;

188 ià(
ÿchedCÏu£s_
)

190 
ÿchedCÏu£s_
->
	`d–‘eI‹msAndCË¬
();

191 
d–‘e
 
ÿchedCÏu£s_
;

193 ià(
ÜigSam¶eCÏu£s_
è
d–‘e
 
CÏu£
::
	`g‘CÏu£Sam¶”
();

194 ià(
šdexT¿ns_
è
d–‘e
 indexTrans_;

195 
	}
}

197 
	$run
()

199 
¡¬tSec_
 = 
tim”_
.
	`time
();

201 
boŞ
 
ÃedIndexT¿ns
 = 
IndexT¿n¦©Ü
::
	`ÃedIndexT¿n¦©Ü
(*
mÊs_
,*
domašs_
);

205 
A¼ay
<
CÏu£
*> 
š™ŸlMLNCÏu£s
;

206 
A¼ay
<
Exi¡FÜmuÏ
*> 
exi¡FÜmuÏs
;

207 ià(
¡¬tFromEm±yMLN_
)

209 
	`g‘MLNCÏu£s
(
š™ŸlMLNCÏu£s
, 
exi¡FÜmuÏs
);

210 
	`»moveCÏu£sFromMLNs
();

211 
i
 = 0; i < 
š™ŸlMLNCÏu£s
.
	`size
(); i++)

213 
CÏu£
* 
c
 = 
š™ŸlMLNCÏu£s
[
i
];

214 
c
->
	`ÃwAuxCÏu£D©a
();

215 
c
->
	`ŒackCÚ¡ªts
();

216 
c
->
	`g‘AuxCÏu£D©a
()->
gaš
 = 0;

217 
c
->
	`g‘AuxCÏu£D©a
()->
İ
 = 
OP_ADD
;

218 
c
->
	`g‘AuxCÏu£D©a
()->
»movedCÏu£Idx
 = -1;

219 
c
->
	`g‘AuxCÏu£D©a
()->
hasB“nEx·nded
 = 
çl£
;

220 
c
->
	`g‘AuxCÏu£D©a
()->
Ï¡S‹pEx·nded
 = -1;

221 
c
->
	`g‘AuxCÏu£D©a
()->
Ï¡S‹pOv”MšWeight
 = -1;

226 
cout
 << "addšg un™ cÏu£ tØMLN..." << 
’dl
 <<ƒndl;

227 
	`addUn™CÏu£sToMLNs
();

230 
i
 = 0; i < 
mÊ0_
->
	`g‘NumCÏu£s
(); i++)

232 
CÏu£
* 
c
 = (CÏu£*è
mÊ0_
->
	`g‘CÏu£
(
i
);

233 
c
->
	`ÃwAuxCÏu£D©a
();

236 ià(
	`isModifŸbËCÏu£
(
i
)è
c
->
	`ŒackCÚ¡ªts
();

239 
šdexT¿ns_
 = (
ÃedIndexT¿ns
)? 
Ãw
 
	`IndexT¿n¦©Ü
(
mÊs_
, 
domašs_
è: 
NULL
;

240 ià(
šdexT¿ns_
)

241 
cout
 << "The weights of clauses inhe CNFs ofƒxistential formulas wiil "

242 << "bt›d" << 
’dl
;

245 
	`runSŒuùL—ºšg
(
š™ŸlMLNCÏu£s
, 
exi¡FÜmuÏs
);

246 
	}
}

249 
runSŒuùL—ºšg
(
A¼ay
<
CÏu£
*> 
š™ŸlMLNCÏu£s
,

250 
A¼ay
<
Exi¡FÜmuÏ
*> 
exi¡FÜmuÏs
)

296 
	g¶l_
 = 
Ãw
 
P£udoLogLik–ihood
(
¬eNÚEvidP»ds_
, 
domašs_
, 
wtP»dsEqu®ly_
,

297 
§m¶eGndP»ds_
, 
äaùiÚ_
,

298 
mšGndP»dSam¶es_
, 
maxGndP»dSam¶es_
);

299 
	g¶l_
->
£tIndexT¿n¦©Ü
(
šdexT¿ns_
);

301 
	gnumCÏu£sFÜmuÏs
 = 
g‘NumCÏu£sFÜmuÏs
();

302 
	glbfgsb_
 = 
Ãw
 
LBFGSB
(-1, -1, 
¶l_
, 
numCÏu£sFÜmuÏs
);

304 
u£TightP¬ams
();

307 
	gcout
 << "computšg couÁ fÜ in™ŸÈMLN cÏu£s..." << 
	g’dl
;

308 
	gbegSec
 = 
tim”_
.
time
();

309 
¶lCompu‹CouÁsFÜIn™ŸlMLN
();

310 
	gcout
 << "computing counts for initial MLN clausesook ";

311 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
begSec
); 
	gcout
 << 
	g’dl
 <<ƒndl;

315 
	gcout
 << "Ë¬nšghš™ŸÈweight ªd scÜoàMLN..." << 
	g’dl
 <<ƒndl;

316 
	gbegSec
 = 
tim”_
.
time
();

317 
	gscÜe
;

318 
	gA¼ay
<> 
	gwts
;

319 ià(!
Ë¬nAndS‘MLNWeights
(
scÜe
)) ;

320 
´štMLNCÏu£sW™hWeightsAndScÜe
(
scÜe
, -1);

321 
	gcout
 << "learninghe initial weights‡nd score of MLNook ";

322 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
begSec
); 
	gcout
 << 
	g’dl
 <<ƒndl;

326 
	gcout
 <<"tryingo‡dd unit clause with diff variable combinationso MLN..."

327 << 
	g’dl
 <<ƒndl;

328 
	gbegSec
 = 
tim”_
.
time
();

329 
­³ndUn™CÏu£sW™hDiffCombOfV¬
(
scÜe
);

330 
´štMLNCÏu£sW™hWeightsAndScÜe
(
scÜe
, -1);

331 
	gcout
 <<"adding unit clause with diff variable combinationso MLNook ";

332 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
begSec
); 
	gcout
 << 
	g’dl
 <<ƒndl;

336 ià(
	gŒyAÎFls_
)

338 
	gcout
 << "ŒyšgØæh£n£ oàMLN cÏu£s..." << 
	g’dl
 <<ƒndl;

339 
	gbegSec
 = 
tim”_
.
time
();

340 
æMLNCÏu£s
(
scÜe
);

341 
´štMLNCÏu£sW™hWeightsAndScÜe
(
scÜe
, -1);

342 
	gcout
 << "tryingo fliphe senses of MLN clausesook ";;

343 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
begSec
); 
	gcout
 << 
	g’dl
 <<ƒndl;

346 
	g™”_
 = -1;

350 
	gb£c
;

351 
	gA¼ay
<
	gCÏu£
*> 
	gš™ŸlCÏu£s
;

352 
	gA¼ay
<
	gCÏu£
*> 
	gbe¡Cªdid©es
;

353 
	gŒue
)

355 
	gbegSec
 = 
tim”_
.
time
();

356 
	g™”_
++;

359 
	gcout
 << "I‹¿tiÚ " << 
	g™”_
 << 
	g’dl
 <<ƒndl;

361 
	gmšGaš_
 = 0;

363 
	gA¼ay
<
	gExi¡FÜmuÏ
*> 
	ghighGašWtExi¡FÜmuÏs
;

364 ià(
	g¡¬tFromEm±yMLN_
 && !
	gexi¡FÜmuÏs
.
em±y
())

366 
u£TightP¬ams
();

367 
	gcout
 << "ev®u©šghgaš oàexi¡’tŸÈfÜmuÏs..." << 
	g’dl
<<endl;

368 
	gb£c
 = 
tim”_
.
time
();

370 
	gmšGaš_
 = 
ev®u©eExi¡FÜmuÏs
(
exi¡FÜmuÏs
, 
highGašWtExi¡FÜmuÏs
,

371 
scÜe
);

372 
	gcout
 << "evaluatinghe gains ofƒxistential formulasook ";

373 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
b£c
); 
	gcout
 << 
	g’dl
 <<ƒndl;

374 
	gcout
 << "setting minGaino min gain‡mongƒxistential formulas. "

375 << "mšGaš = " << 
	gmšGaš_
 << 
	g’dl
;

378 
u£Loo£P¬ams
();

381 
	gš™ŸlCÏu£s
.
ş—r
();

382 
	gi
 = 0; i < 
	gmÊ0_
->
g‘NumCÏu£s
(); i++)

384 
CÏu£
* 
	gc
 = (CÏu£*è
mÊ0_
->
g‘CÏu£
(
i
);

385 
	gc
->
g‘AuxCÏu£D©a
()->
»£t
();

386 ià(
isModifŸbËCÏu£
(
i
))

388 
	gc
->
ŒackCÚ¡ªts
();

389 
	gš™ŸlCÏu£s
.
­³nd
(
Ãw
 
CÏu£
(*
c
));

393 
	gbe¡Cªdid©es
.
ş—r
();

394 
b—mS—rch
(
š™ŸlCÏu£s
, 
š™ŸlMLNCÏu£s
, 
scÜe
, 
be¡Cªdid©es
);

395 
boŞ
 
	gnoCªd
 = (
¡¬tFromEm±yMLN_
 && !
exi¡FÜmuÏs
.
em±y
()) ?

396 (
be¡Cªdid©es
.
em±y
(è&& 
highGašWtExi¡FÜmuÏs
.empty())

397 : 
be¡Cªdid©es
.
em±y
();

398 ià(
	gnoCªd
)

400 
	gcout
 << "B—m i em±y. Endšg s—rch fÜ MLN cÏu£s." << 
	g’dl
;

401 
´štI‹rAndTimeEÏp£d
(
begSec
);

405 
u£TightP¬ams
();

407 ià(
	g»Ev®Be¡CªdsW™hTightP¬ams_
)

409 
	gcout
 << "»ev®u©šgİ cªdid©es... " << 
	g’dl
 <<ƒndl;

410 
	gb£c
 = 
tim”_
.
time
();

411 
»Ev®u©eCªdid©es
(
be¡Cªdid©es
, 
scÜe
);

412 
	gcout
 << "reevaluatingop candidatesook ";

413 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
b£c
); 
	gcout
 << 
	g’dl
 <<ƒndl;

417 
	gb£c
 = 
tim”_
.
time
();

418 
boŞ
 
	gok
;

419 ià(
	g¡¬tFromEm±yMLN_
 && !
	gexi¡FÜmuÏs
.
em±y
())

420 
	gok
 = 
efãùBe¡Cªdid©eOnMLNs
(
be¡Cªdid©es
, 
exi¡FÜmuÏs
,

421 
highGašWtExi¡FÜmuÏs
, 
scÜe
);

423 
	gok
 = 
efãùBe¡Cªdid©eOnMLNs
(
be¡Cªdid©es
, 
scÜe
);

425 
	gcout
 << "effecting best candidatesook ";

426 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
b£c
); 
	gcout
 << 
	g’dl
 <<ƒndl;

428 ià(!
	gok
)

430 
	gcout
 << "çedØefãù‡ny oàthbe¡ cªdid©e Ú MLN" << 
	g’dl


431 << "¡İpšg s—rch fÜ MLN cÏu£s..." << 
	g’dl
;

435 
´štI‹rAndTimeEÏp£d
(
begSec
);

438 
	gcout
 << "dÚ£¬chšg fÜ MLN cÏu£s" << 
	g’dl
 <<ƒndl;

439 
	gnumI‹rTak’
 = 
™”_
+1;

440 
	g™”_
= -1;

442 
u£TightP¬ams
();

445 
	gcout
 << "´unšg cÏu£ äom MLN..." << 
	g’dl
 <<ƒndl;

446 
	gbegSec
 = 
tim”_
.
time
();

447 
´uÃMLN
(
scÜe
);

448 
	gcout
 << "pruning clauses from MLNook ";

449 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
begSec
); 
	gcout
 << 
	g’dl
 <<ƒndl;

451 
´štMLNCÏu£sW™hWeightsAndScÜe
(
scÜe
, -1);

452 
´štMLNToFe
(
NULL
, -2);

453 
	gcout
 << "num oà™”©iÚ k’ = " << 
	gnumI‹rTak’
 << 
	g’dl
;

455 
	gcout
 << "timeaken for structure†earning = ";

456 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
¡¬tSec_
); 
	gcout
 << 
	g’dl
 <<ƒndl;

458 
	gš™ŸlMLNCÏu£s
.
d–‘eI‹msAndCË¬
();

459 
d–‘eExi¡FÜmuÏs
(
exi¡FÜmuÏs
);

463 
boŞ
 
	$Ë¬nAndS‘MLNWeights
(& 
scÜe
)

465 
A¼ay
<> 
´iÜM—ns
, 
´iÜStdDevs
;

466 
tmpScÜe
 = 
scÜe
;

467 
	`¶lS‘PriÜM—nsStdDevs
(
´iÜM—ns
, 
´iÜStdDevs
, 0, 
NULL
);

468 
numCÏu£sFÜmuÏs
 = 
	`g‘NumCÏu£sFÜmuÏs
();

469 
A¼ay
<> 
wts
;

470 
wts
.
	`growToSize
(
numCÏu£sFÜmuÏs
 + 1);

472 
™”
; 
boŞ
 
”rÜ
; 
–­£dSec
;

473 
tmpScÜe
 = 
	`maximizeScÜe
(
numCÏu£sFÜmuÏs
, 0, &
wts
, 
NULL
, NULL,

474 
™”
, 
”rÜ
, 
–­£dSec
);

475 ià(
”rÜ
)

477 
cout
 << "LBFGSB faedØfšd wts" << 
’dl
;

478  
çl£
;

482 
scÜe
 = 
tmpScÜe
;

483 
	`´štNewScÜe
((
CÏu£
*)
NULL
, NULL, 
™”
, 
–­£dSec
, 
scÜe
, 0, 0);

486 
	`upd©eWts
(
wts
, 
NULL
, NULL);

488  
Œue
;

489 
	}
}

492 
	g´iv©e
:

496 
b—mS—rch
(cÚ¡ 
A¼ay
<
CÏu£
*>& 
š™CÏu£s
,

497 cÚ¡ 
A¼ay
<
CÏu£
*>& 
š™MLNCÏu£s
, cÚ¡ & 
´evScÜe
,

498 
A¼ay
<
CÏu£
*>& 
be¡CÏu£s
)

500 
	g™”Be¡GašUnchªged
 = 0; 
	gbs™”_
 = -1;

501 
	gA¼ay
<> 
	g´iÜM—ns
, 
	g´iÜStdDevs
;

502 
CÏu£OpHashA¼ay
* 
	gb—m
 = 
Ãw
 ClauseOpHashArray;

503 
	gi
 = 0; i < 
	gš™CÏu£s
.
size
(); i++è
	gb—m
->
­³nd
(
š™CÏu£s
[
i
]);

505 
	gnumCÏu£sFÜmuÏs
 = 
g‘NumCÏu£sFÜmuÏs
();

506 
	gA¼ay
<> 
	gwts
;

507 
	gwts
.
growToSize
(
numCÏu£sFÜmuÏs
 + 2);

508 
	gA¼ay
<> 
ÜigWts
(
numCÏu£sFÜmuÏs
);

509 ià(
	gšdexT¿ns_
èšdexT¿ns_->
g‘CÏu£FÜmuÏWts
(
ÜigWts
);

510 
	gmÊ0_
->
g‘CÏu£Wts
(
ÜigWts
);

513 
£tPriÜM—nsStdDevs
(
´iÜM—ns
, 
´iÜStdDevs
, 1, 
NULL
);

514 ià(
	gšdexT¿ns_
èšdexT¿ns_->
­³ndCÏu£IdxToCÏu£FÜmuÏIdxs
(1, 1);

516 
boŞ
 
	g”rÜ
;

517 
	gbegI‹rSec
, 
	gb£c
;

518 
	gA¼ay
<
	gCÏu£
*> 
	gÿndid©es
;

519 !
	gb—m
->
em±y
(è&& 
	g™”Be¡GašUnchªged
 < 
	gbe¡GašUnchªgedLim™_
)

521 
	gbegI‹rSec
 = 
tim”_
.
time
();

522 
	gbs™”_
++;

525 
	gcout
 << 
	g’dl
 << "BEAM SEARCH ITERATION " << 
	gbs™”_
 <<ƒndl <<ƒndl;

527 
	gcout
 << "ü—tšg cªdid©şau£s..." << 
	g’dl
;

528 
	gÿndid©es
.
ş—r
();

529 
	gb£c
 = 
tim”_
.
time
();

531 ià(
	gbs™”_
==0è
ü—‹Cªdid©eCÏu£s
(
b—m
, 
ÿndid©es
, &
š™MLNCÏu£s
);

532 
ü—‹Cªdid©eCÏu£s
(
b—m
, 
ÿndid©es
, 
NULL
);

534 
	gcout
 << "num oàÿndid©e ü—‹d = " << 
	gÿndid©es
.
size
() << ";ook ";

535 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
b£c
); 
	gcout
 << 
	g’dl
 <<ƒndl;

537 
	gcout
 << "ev®u©šg gaš oàÿndid©es..." << 
	g’dl
 <<ƒndl;

538 
	gb£c
 = 
tim”_
.
time
();

539 
	gi
 = 0; i < 
	gÿndid©es
.
size
(); i++)

540 
couÁAndMaxScÜeEfãùCªdid©e
(
ÿndid©es
[
i
], &
wts
, &
ÜigWts
,
´evScÜe
,

541 
Œue
, 
´iÜM—ns
, 
´iÜStdDevs
, 
”rÜ
,

542 
NULL
, NULL);

543 
	gcout
 << "evaluating gain of candidatesook ";

544 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
b£c
); 
	gcout
 << 
	g’dl
 <<ƒndl;

547 
	gcout
 << "fšdšg be¡ cªdid©es..." << 
	g’dl
;

548 
	gb£c
 = 
tim”_
.
time
();

549 
CÏu£OpHashA¼ay
* 
	gÃwB—m
 = 
Ãw
 CÏu£OpHashA¼ay(
b—mSize_
);

550 
boŞ
 
	gÃwBe¡CÏu£
 = 
fšdBe¡CÏu£sAmÚgCªdid©es
(
ÿndid©es
, 
ÃwB—m
,

551 
be¡CÏu£s
);

552 
	gcout
 << "finding best candidatesook ";

553 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
b£c
); 
	gcout
 << 
	g’dl
 <<ƒndl;

555 
	gb—m
->
d–‘eI‹msAndCË¬
();

556 
d–‘e
 
	gb—m
;

557 
	gb—m
 = 
ÃwB—m
;

559 ià(
	gÃwBe¡CÏu£
)

561 
	g™”Be¡GašUnchªged
 = 0;

562 
	gcout
 << "found‚ew be¡ cÏu£ iÀb—m s—rch i‹¸" << 
	gbs™”_
 << 
	g’dl
;

565 
	g™”Be¡GašUnchªged
++;

569 
	gcout
 << "be¡ cÏu£ found iÀb—m s—rch i‹¸" << 
	gbs™”_
 << 
	g’dl
;

570 
	gcout
 << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << 
	g’dl
;

571 
	gi
 = 0; i < 
	gbe¡CÏu£s
.
size
(); i++)

573 
	gcout
 << 
	gi
 << "\t";

574 
	gbe¡CÏu£s
[
i
]->
´štW™houtWtW™hSŒV¬
(
cout
,(*
domašs_
)[0]);

575 
	gcout
 << 
	g’dl


576 << "\tgaš = " << 
	gbe¡CÏu£s
[
i
]->
g‘AuxCÏu£D©a
()->
	ggaš


578 << 
	gCÏu£
::
g‘OpAsSŒšg
(
be¡CÏu£s
[
i
]->
g‘AuxCÏu£D©a
()->
İ
);

579 ià(
	gbe¡CÏu£s
[
i
]->
g‘AuxCÏu£D©a
()->
	gİ
 !ğ
OP_REMOVE
)

580 
cout
 << ", wˆğ" << 
be¡CÏu£s
[
i
]->
g‘Wt
();

581 
	gcout
 << 
	g’dl
;

583 
	gcout
 << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << 
	g’dl
 <<ƒndl;

586 
	gcout
 << "BEAM SEARCH ITERATION " << 
	gbs™”_
 << "ook ";

587 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
begI‹rSec
); 
	gcout
 << 
	g’dl
 <<ƒndl;

588 
	gcout
 << "Timeƒlapsed = ";

589 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
¡¬tSec_
); 
	gcout
 << 
	g’dl
 <<ƒndl;

592 ià(
	gb—m
->
em±y
()è
	gcout
 << "Beam searchƒnded because beam isƒmpty"

593 << 
	g’dl
 <<ƒndl;

594 
	gcout
 << "Beam searchƒnded because best clause did‚ot change in "

595 << 
	g™”Be¡GašUnchªged
 << " i‹¿tiÚs" << 
	g’dl
 <<ƒndl;

597 
	gb—m
->
d–‘eI‹msAndCË¬
();

598 
d–‘e
 
	gb—m
;

599 
	gbs™”_
 = -1;

601 ià(
	gšdexT¿ns_
èšdexT¿ns_->
»moveCÏu£IdxToCÏu£FÜmuÏIdxs
(1, 1);

606 
	g´iv©e
:

610 
maximizeScÜe
(cÚ¡ & 
numCÏu£sFÜmuÏs
, cÚ¡ & 
numExŒaWts
,

611 
A¼ay
<>* cÚ¡ & 
wts
,

612 cÚ¡ 
A¼ay
<>* cÚ¡ & 
ÜigWts
,

613 cÚ¡ 
A¼ay
<>* cÚ¡ & 
»movedCÏu£FÜmuÏIdxs
,

614 & 
™”
, 
boŞ
& 
”rÜ
, & 
–­£dSec
)

616 ià(
	gÜigWts
)

617 { 
	gi
=1 ; i<=
numCÏu£sFÜmuÏs
; i++è(*
	gwts
)[
i
] = (*
ÜigWts
)[i-1];}

619 { 
	gi
=1; i<=
numCÏu£sFÜmuÏs
; i++è(*
	gwts
)[
i
] = 0; }

621 
	gi
 = 1; i <ğ
numExŒaWts
; i++è(*
	gwts
)[
numCÏu£sFÜmuÏs
+
i
] = 0;

623 ià(
	g»movedCÏu£FÜmuÏIdxs
)

624 
	gi
 = 0; i < 
	g»movedCÏu£FÜmuÏIdxs
->
size
(); i++)

625 (*
	gwts
)[ (*
»movedCÏu£FÜmuÏIdxs
)[
i
]+1 ] = 0;

631 * 
	gwwts
 = (*è
wts
->
g‘I‹ms
();

632 
	gbegSec
 = 
tim”_
.
time
();

633 
	gÃwScÜe


634 ğ
lbfgsb_
->
mšimize
(
numCÏu£sFÜmuÏs
 + 
numExŒaWts
, 
wwts
, 
™”
, 
”rÜ
);

635 
	gÃwScÜe
 = -
ÃwScÜe
;

636 
	g–­£dSec
 = 
tim”_
.
time
(è- 
begSec
;

642  
	gÃwScÜe
;

653 
couÁAndMaxScÜeEfãùAÎCªdid©es
(cÚ¡ 
A¼ay
<
CÏu£
*>& 
ÿndid©es
,

654 
A¼ay
<>* cÚ¡ & 
wts
,

655 cÚ¡ 
A¼ay
<>*cÚ¡& 
ÜigWts
,

656 cÚ¡ & 
´evScÜe
,

657 cÚ¡ 
boŞ
& 
»£tPriÜs
,

658 
A¼ay
<>& 
´iÜM—ns
,

659 
A¼ay
<>& 
´iÜStdDevs
,

660 
boŞ
& 
”rÜ
,

661 
A¼ay
<
UndoInfo
*>* cÚ¡& 
uundoInfos
,

662 
A¼ay
<
CÏu£AndICDA¼ay
*>* cÚ¡ & 
­³ndedCÏu£Infos
)

664 
	gA¼ay
<
	gUndoInfo
*>* 
	gundoInfos
 = (
uundoInfos
)? uundoInfos:
Ãw
 
A¼ay
<
UndoInfo
*>;

665 
	gA¼ay
<> 
	g»mCÏu£FÜmuÏIdxs
;

666 
	gA¼ay
<*> 
	gidxPŒs
;

667 
	gA¼ay
<
	gCÏu£
*> 
	gtoBeRemovedCÏu£s
;

668 
	gA¼ay
<
	gCÏu£
*> 
	gtoBeAµ’dedCÏu£s
;

669 
	gnumCÏu£sFÜmuÏs
 = 
g‘NumCÏu£sFÜmuÏs
();

671 
	gi
 = 0; i < 
	gÿndid©es
.
size
(); i++)

673 
CÏu£
* 
	gÿnd
 = 
ÿndid©es
[
i
];

674 
AuxCÏu£D©a
* 
	gacd
 = 
ÿnd
->
g‘AuxCÏu£D©a
();

675 
	gİ
 = 
acd
->
İ
;

678 ià(
	gİ
 =ğ
OP_REMOVE
 || 
İ
 =ğ
OP_REPLACE
 || o°=ğ
OP_REPLACE_ADDPRED
 ||

679 
İ
 =ğ
OP_REPLACE_REMPRED
)

681 
CÏu£
* 
»mCÏu£
 = (
mÊs_
->
size
() > 1) ?

682 (
CÏu£
*è
mÊ0_
->
g‘CÏu£
(
acd
->
»movedCÏu£Idx
è: 
NULL
;

683 
	gA¼ay
<*> 
	gidxs
; idxs.
growToSize
(
mÊs_
->
size
());

684 
	gA¼ay
<
	gCÏu£
*> 
	g»mCÏu£s
;„emCÏu£s.
growToSize
(
mÊs_
->
size
());

685 
	gd
 = 0; d < 
	gmÊs_
->
size
(); d++)

687 
	g»mIdx
;

688 ià(
	gd
 == 0)

690 
»mIdx
 = 
acd
->
»movedCÏu£Idx
;

691 
	g»mCÏu£FÜmuÏIdxs
.
­³nd
(
»mIdx
);

695 ià(
	g»mCÏu£
->
cÚšsCÚ¡ªts
())

696 
	g»mCÏu£
->
Œª¦©eCÚ¡ªts
((*
domašs_
)[
d
-1], (*domains_)[d]);

697 
	g»mIdx
 = (*
mÊs_
)[
d
]->
fšdCÏu£Idx
(
»mCÏu£
);

699 
	gidxs
[
d
] = (*
mÊs_
)[d]->
g‘MLNCÏu£InfoIndexPŒ
(
»mIdx
);

700 
	g»mCÏu£s
[
d
] = (
CÏu£
*è(*
mÊs_
)[d]->
g‘CÏu£
(
»mIdx
);

702 ià(
	gmÊs_
->
size
(è> 1 && 
	g»mCÏu£
->
cÚšsCÚ¡ªts
())

703 
	g»mCÏu£
->
Œª¦©eCÚ¡ªts
((*
domašs_
)[
mÊs_
->
size
()-1],

704 (*
domašs_
)[0]);

705 
¶lRemoveCouÁsFÜCÏu£
(
»mCÏu£s
, 
idxs
, 
undoInfos
);

707 ià(
	gİ
 =ğ
OP_REMOVE
è
toBeRemovedCÏu£s
.
­³nd
(
ÿnd
);

711 ià(
	gİ
 =ğ
OP_ADD
 || 
İ
 =ğ
OP_REPLACE
 || o°=ğ
OP_REPLACE_ADDPRED
 ||

712 
İ
 =ğ
OP_REPLACE_REMPRED
)

714 
A¼ay
<*> 
tmpIdxs
; 
	gtmpIdxs
.
growToSize
(
mÊs_
->
size
());

715 
	gd
 = 0; d < 
	gmÊs_
->
size
(); d++)

717 * 
	gtmpCÏu£IdxInMLN
 = 
Ãw
 Ğ(*
mÊs_
)[
d
]->
g‘NumCÏu£s
() +

718 
toBeAµ’dedCÏu£s
.
size
() );

719 
	gtmpIdxs
[
d
] = 
tmpCÏu£IdxInMLN
;

720 
	gidxPŒs
.
­³nd
(
tmpCÏu£IdxInMLN
);

723 
	gA¼ay
<
	gUndoInfo
*>* 
	gtmpInfos
 = (
­³ndedCÏu£Infos
)?

724 
Ãw
 
A¼ay
<
UndoInfo
*> : 
undoInfos
;

725 
¶lCompu‹CouÁsFÜCÏu£
(
ÿnd
, 
tmpIdxs
, 
tmpInfos
);

726 
	gtoBeAµ’dedCÏu£s
.
­³nd
(
ÿnd
);

728 ià(
	g­³ndedCÏu£Infos
)

730 
	gundoInfos
->
­³nd
(*
tmpInfos
);

731 
CÏu£AndICDA¼ay
* 
	gÿ
 = 
Ãw
 ClauseAndICDArray;

732 
	gÿ
->
	gşau£
 = 
ÿnd
;

733 
	g­³ndedCÏu£Infos
->
­³nd
(
ÿ
);

734 
	gj
 = 0; j < 
	gtmpInfos
->
size
(); j++)

736 
	gÿ
->
	gicdA¼ay
.
­³nd
(
IndexCouÁDomašIdx
());

737 
	gÿ
->
	gicdA¼ay
.
Ï¡I‹m
().
	gŸc
=(*
tmpInfos
)[
j
]->
afãùedA¼
->lastItem();

738 
	gÿ
->
	gicdA¼ay
.
Ï¡I‹m
().
	gdomašIdx
 = (*
tmpInfos
)[
j
]->
domašIdx
;

740 
d–‘e
 
	gtmpInfos
;

748 ià(
	gšdexT¿ns_
)

749 
	gšdexT¿ns_
->
g‘CÏu£FÜmuÏIndexes
(
»mCÏu£FÜmuÏIdxs
, 0);

751 
	gA¼ay
<> 
	g»movedV®ues
;

752 ià(
	g»£tPriÜs
)

754 
£tPriÜM—nsStdDevs
(
´iÜM—ns
, 
´iÜStdDevs
, 
toBeAµ’dedCÏu£s
.
size
(),

755 &
»mCÏu£FÜmuÏIdxs
);

756 ià(
	gšdexT¿ns_
èšdexT¿ns_->
­³ndCÏu£IdxToCÏu£FÜmuÏIdxs
(

757 
toBeAµ’dedCÏu£s
.
size
(), 1);

761 
as£¹
(
´iÜM—ns
.
size
(è=ğ
numCÏu£sFÜmuÏs
 + 
ÿndid©es
.size());

762 
as£¹
(
´iÜStdDevs
.
size
(è=ğ
numCÏu£sFÜmuÏs
 + 
ÿndid©es
.size());

763 ià(
	gšdexT¿ns_
)

764 
as£¹
(
šdexT¿ns_
->
checkCIdxWtsG¿dsSize
(
ÿndid©es
.
size
()));

766 
£tRemoveAµ’dedPriÜM—ns
(
numCÏu£sFÜmuÏs
, 
´iÜM—ns
,

767 
»mCÏu£FÜmuÏIdxs
,

768 
toBeAµ’dedCÏu£s
.
size
(), 
»movedV®ues
);

771 ià(
	ghasPriÜ_
)

772 
	g¶l_
->
£tM—nsStdDevs
(
´iÜM—ns
.
size
(),…riÜM—ns.
g‘I‹ms
(),

773 
´iÜStdDevs
.
g‘I‹ms
());

775 
	g¶l_
->
£tM—nsStdDevs
(-1, 
NULL
, NULL);

777 
	gwts
->
growToSize
(
numCÏu£sFÜmuÏs
 + 
toBeAµ’dedCÏu£s
.
size
() + 1);

779 
	g™”
; 
	g–­£dSec
;

780 
	gÃwScÜe
 = 
maximizeScÜe
(
numCÏu£sFÜmuÏs
,

781 
toBeAµ’dedCÏu£s
.
size
(),

782 
wts
, 
ÜigWts
, &
»mCÏu£FÜmuÏIdxs
,

783 
™”
, 
”rÜ
, 
–­£dSec
);

786 
	gi
 = 0; i < 
	gtoBeAµ’dedCÏu£s
.
size
(); i++)

787 
	gtoBeAµ’dedCÏu£s
[
i
]->
£tWt
Ğ(*
wts
)[
numCÏu£sFÜmuÏs
+i+1] );

789 
	gi
 = 0; i < 
	gtoBeRemovedCÏu£s
.
size
(); i++)

790 
	gtoBeRemovedCÏu£s
[
i
]->
£tWt
(111111111);

792 
	gA¼ay
<> 
	g³ÇÉ›s
;

793 
	gi
 = 0; i < 
	gÿndid©es
.
size
(); i++)

794 
	g³ÇÉ›s
.
­³nd
(
g‘P’®ty
(
ÿndid©es
[
i
]));

796 ià(
	g”rÜ
è{ 
	gÃwScÜe
=
´evScÜe
; 
	gcout
<<"LBFGSB faedØfšd wts"<<
	g’dl
; }

797 
´štNewScÜe
(
ÿndid©es
, (*
domašs_
)[0], 
™”
, 
–­£dSec
,

798 
ÃwScÜe
,‚ewScÜe-
´evScÜe
, 
³ÇÉ›s
);

800 
	gi
 = 0; i < 
	gÿndid©es
.
size
(); i++)

801 
	gÿndid©es
[
i
]->
g‘AuxCÏu£D©a
()->
	ggaš
 = 
ÃwScÜe
-
´evScÜe
-
³ÇÉ›s
[i];

803 ià(
	guundoInfos
 =ğ
NULL
)

805 
¶l_
->
undoAµ’dRemoveCouÁs
(
undoInfos
);

806 
d–‘e
 
	gundoInfos
;

809 ià(
	g»£tPriÜs
)

811 ià(
	gšdexT¿ns_
èšdexT¿ns_->
»moveCÏu£IdxToCÏu£FÜmuÏIdxs
(

812 
toBeAµ’dedCÏu£s
.
size
(), 1);

816 
	gi
 = 0; i < 
	g»mCÏu£FÜmuÏIdxs
.
size
(); i++)

817 
	g´iÜM—ns
[
»mCÏu£FÜmuÏIdxs
[
i
]] = 
»movedV®ues
[i];

820 
	gidxPŒs
.
d–‘eI‹msAndCË¬
();

822  
	gÃwScÜe
;

826 
couÁAndMaxScÜeEfãùCªdid©e
(
CÏu£
* cÚ¡ & 
ÿndid©e
,

827 
A¼ay
<>* cÚ¡ & 
wts
,

828 cÚ¡ 
A¼ay
<>* cÚ¡ & 
ÜigWts
,

829 cÚ¡ & 
´evScÜe
,

830 cÚ¡ 
boŞ
& 
»£tPriÜs
,

831 
A¼ay
<>& 
´iÜM—ns
,

832 
A¼ay
<>& 
´iÜStdDevs
,

833 
boŞ
& 
”rÜ
,

834 
A¼ay
<
UndoInfo
*>* cÚ¡& 
undoInfos
,

835 
A¼ay
<
CÏu£AndICDA¼ay
*>* cÚ¡ & 
­³ndedCÏu£Infos
)

837 
	gA¼ay
<
	gCÏu£
*> 
	gÿndid©es
; cªdid©es.
­³nd
(
ÿndid©e
);

838  
couÁAndMaxScÜeEfãùAÎCªdid©es
(
ÿndid©es
, 
wts
, 
ÜigWts
,

839 
´evScÜe
, 
»£tPriÜs
,

840 
´iÜM—ns
, 
´iÜStdDevs
, 
”rÜ
,

841 
undoInfos
, 
­³ndedCÏu£Infos
);

847 
boŞ
 
­³ndToAndRemoveFromMLNs
(cÚ¡ 
A¼ay
<
CÏu£
*>& 
ÿndid©es
,& 
scÜe
,

848 cÚ¡ 
boŞ
& 
makeChªgeFÜEqu®ScÜe
=
çl£
)

850 
A¼ay
<> 
wts
;

851 
	gA¼ay
<
	gUndoInfo
*> 
	gundoInfos
;

852 
	gA¼ay
<
	gCÏu£AndICDA¼ay
*> 
	g­³ndedCÏu£Infos
;

853 
	gA¼ay
<> 
	g´iÜM—ns
, 
	g´iÜStdDevs
;

854 
boŞ
 
	g”rÜ
;

856 
	gÃwScÜe


857 ğ
couÁAndMaxScÜeEfãùAÎCªdid©es
(
ÿndid©es
, &
wts
, 
NULL
, 
scÜe
,

858 
Œue
, 
´iÜM—ns
,
´iÜStdDevs
,
”rÜ
,

859 &
undoInfos
, &
­³ndedCÏu£Infos
);

861 
boŞ
 
	gim´ove
 = (
makeChªgeFÜEqu®ScÜe
è? (
ÃwScÜe
 >ğ
scÜe
)

862 : (
ÃwScÜe
 > 
scÜe
);

864 ià(!
	g”rÜ
 && 
	gim´ove
)

866 
	gscÜe
 = 
ÃwScÜe
;

870 
upd©eWts
(
wts
, 
NULL
, NULL);

872 
	gnumCÏu£sFÜmuÏs
 = 
g‘NumCÏu£sFÜmuÏs
();

874 
	gi
 = 0; i < 
	g­³ndedCÏu£Infos
.
size
(); i++)

875 
	g­³ndedCÏu£Infos
[
i
]->
	gşau£
->
£tWt
(
wts
[
numCÏu£sFÜmuÏs
+i+1]);

878 
	g­pCÏu£Idx
 = 0;

879 
	gi
 = 0; i < 
	gÿndid©es
.
size
(); i++)

881 
CÏu£
* 
	gÿnd
 = 
ÿndid©es
[
i
];

882 
AuxCÏu£D©a
* 
	gacd
 = 
ÿnd
->
g‘AuxCÏu£D©a
();

883 
	gİ
 = 
acd
->
İ
;

888 ià(
	gİ
 =ğ
OP_REPLACE
è
ÿnd
->
ÿnÚiÿlize
();

890 ià(
	gİ
 =ğ
OP_REMOVE
 || 
İ
 =ğ
OP_REPLACE
 || o°=ğ
OP_REPLACE_ADDPRED
 ||

891 
İ
 =ğ
OP_REPLACE_REMPRED
)

893 
CÏu£
* 
»mCÏu£
 = (CÏu£*è
mÊ0_
->
g‘CÏu£
(
acd
->
»movedCÏu£Idx
);

895 
	gd
 = 0; d < 
	gmÊs_
->
size
(); d++)

897 ià(
	gd
 == 0)

899 
CÏu£
* 
r
 = 
»moveCÏu£FromMLN
(
acd
->
»movedCÏu£Idx
, 
d
);

900 
	gcout
 << "Modified MLN: Removed clause from MLN: ";

901 
	gr
->
´štW™houtWtW™hSŒV¬
(
cout
,(*
domašs_
)[0]); 
	gcout
 << 
	g’dl
;

902 ià(
	gİ
 =ğ
OP_REMOVE
 && 
ÿnd
 !ğ
r
è
d–‘e
 cand;

907 ià(
	g»mCÏu£
->
cÚšsCÚ¡ªts
())

908 
	g»mCÏu£
->
Œª¦©eCÚ¡ªts
((*
domašs_
)[
d
-1], (*domains_)[d]);

909 
	g»mIdx
 = (*
mÊs_
)[
d
]->
fšdCÏu£Idx
(
»mCÏu£
);

910 
d–‘e
 
»moveCÏu£FromMLN
(
»mIdx
, 
d
);

913 
d–‘e
 
	g»mCÏu£
;

916 ià(
	gİ
 =ğ
OP_ADD
 || 
İ
 =ğ
OP_REPLACE
 || o°=ğ
OP_REPLACE_ADDPRED
 ||

917 
İ
 =ğ
OP_REPLACE_REMPRED
)

919 
A¼ay
<*> 
idxPŒs
; 
	gidxPŒs
.
growToSize
(
mÊs_
->
size
());

920 
	gd
 = 0; d < 
	gmÊs_
->
size
(); d++)

922 
CÏu£
* 
	gc
 = 
ÿnd
;

923 ià(
	gd
 > 0)

925 ià(
	gÿnd
->
cÚšsCÚ¡ªts
())

926 
	gÿnd
->
Œª¦©eCÚ¡ªts
((*
domašs_
)[
d
-1], (*domains_)[d]);

927 
	gc
 = 
Ãw
 
CÏu£
(*
ÿnd
);

929 
	gidx
 = 
­³ndCÏu£ToMLN
(
c
, 
d
);

930 
	gidxPŒs
[
d
] = (*
mÊs_
)[d]->
g‘MLNCÏu£InfoIndexPŒ
(
idx
);

933 
	gA¼ay
<
	gIndexCouÁDomašIdx
>& 
	gicds


934 ğ
­³ndedCÏu£Infos
[
­pCÏu£Idx
++]->
icdA¼ay
;

935 
	gj
 = 0; j < 
	gicds
.
size
(); j++)

936 
	gicds
[
j
].
	gŸc
->
	gšdex
 = 
idxPŒs
[ 
icds
[j].
domašIdx
 ];

938 
	gcout
 << "Modified MLN: Appended clauseo MLN: ";

939 
	gÿnd
->
´štW™houtWtW™hSŒV¬
(
cout
,(*
domašs_
)[0]);

940 
	gcout
 << 
	g’dl
;

944 
as£¹
(
¶l_
->
checkNoR•—‹dIndex
());

945 
as£¹
(
­pCÏu£Idx
 =ğ
­³ndedCÏu£Infos
.
size
());

947 
	gundoInfos
.
d–‘eI‹msAndCË¬
();

950 ià(
	gšdexT¿ns_
èšdexT¿ns_->
ü—‹CÏu£IdxToCÏu£FÜmuÏIdxsM­
();

954 
	gcout
 << "undošg cªdid©e beÿu£ scÜdid‚Ù im´ove..."<<
	g’dl
<<endl;

955 
	g¶l_
->
undoAµ’dRemoveCouÁs
(&
undoInfos
);

958 
	g­³ndedCÏu£Infos
.
d–‘eI‹msAndCË¬
();

959  
	gim´ove
;

964 
boŞ
 
	$­³ndToAndRemoveFromMLNs
(
CÏu£
* cÚ¡ & 
ÿndid©e
, & 
scÜe
,

965 cÚ¡ 
boŞ
& 
makeChªgeFÜEqu®ScÜe
=
çl£
)

967 
A¼ay
<
CÏu£
*> 
ÿndid©es
; cªdid©es.
	`­³nd
(
ÿndid©e
);

968  
	`­³ndToAndRemoveFromMLNs
(
ÿndid©es
, 
scÜe
,
makeChªgeFÜEqu®ScÜe
);

969 
	}
}

973 
¶lCompu‹CouÁsFÜCÏu£
(
CÏu£
* cÚ¡ & 
c
,

974 cÚ¡ 
A¼ay
<*>& 
şau£IdxInMLNs
,

975 
A¼ay
<
UndoInfo
*>* cÚ¡ & 
undoInfos
)

977 
as£¹
(
c
->
g‘AuxCÏu£D©a
()->
ÿche
 =ğ
NULL
);

978 
as£¹
(
şau£IdxInMLNs
.
size
(è=ğ
domašs_
->size());

979 
	gbegSec
 = 
tim”_
.
time
();

981 ià(
	gÿcheCÏu£s_
)

983 
	gi
;

984 ià((
	gi
 = 
ÿchedCÏu£s_
->
fšd
(
c
)) >= 0)

989 
¶l_
->
š£¹CouÁs
(
şau£IdxInMLNs
, 
undoInfos
,

990 (*
ÿchedCÏu£s_
)[
i
]->
g‘AuxCÏu£D©a
()->
ÿche
);

991 
	gcout
 << "using cached countsook ";

992 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
begSec
); 
	gcout
 << 
	g’dl
;

997 
as£¹
(
c
->
g‘AuxCÏu£D©a
()->
ÿche
 =ğ
NULL
);

998 ià(
	gÿcheSizeMB_
 < 
	gmaxCacheSizeMB_
)

999 
	gc
->
ÃwCache
(
domašs_
->
size
(), (*domašs_)[0]->
g‘NumP»diÿ‹s
());

1002 
boŞ
 
	g´štCacheFuÎ
 = 
Œue
;

1003 ià(
	g´štCacheFuÎ
)

1005 
	gcout
 << "Cachi fuÎ,‡µroxim©sizğ" << 
	gÿcheSizeMB_


1006 << " MB" << 
	g’dl
;

1007 
	g´štCacheFuÎ
 = 
çl£
;

1017 ià(!
	gc
->
cÚšsCÚ¡ªts
())

1019 
	gi
 = 0; i < 
	gdomašs_
->
size
(); i++)

1021 * 
	gşau£IdxInMLN
 = 
şau£IdxInMLNs
[
i
];

1022 
	g¶l_
->
compu‹CouÁsFÜNewAµ’dedCÏu£
(
c
, 
şau£IdxInMLN
, 
i
,

1023 
undoInfos
, 
§m¶eCÏu£s_
,

1024 
c
->
g‘AuxCÏu£D©a
()->
ÿche
,

1025 
NULL
);

1030 
	gi
;

1031 
	gi
 = 0; i < 
	gdomašs_
->
size
(); i++)

1033 ià(
	gi
 > 0è
	gc
->
Œª¦©eCÚ¡ªts
((*
domašs_
)[
i
-1], (*domains_)[i]);

1034 * 
	gşau£IdxInMLN
 = 
şau£IdxInMLNs
[
i
];

1035 
	g¶l_
->
compu‹CouÁsFÜNewAµ’dedCÏu£
(
c
, 
şau£IdxInMLN
, 
i
,

1036 
undoInfos
, 
§m¶eCÏu£s_
,

1037 
c
->
g‘AuxCÏu£D©a
()->
ÿche
,

1038 
NULL
);

1040 ià(
	gi
 > 1è
	gc
->
Œª¦©eCÚ¡ªts
((*
domašs_
)[
i
-1], (*domains_)[0]);

1044 ià(
	gc
->
g‘AuxCÏu£D©a
()->
	gÿche
)

1046 ià(
	gÿcheSizeMB_
 < 
	gmaxCacheSizeMB_
)

1048 
	gÿcheSizeMB_
 +ğ
c
->
sizeMB
();

1049 
	gA¼ay
<A¼ay<A¼ay<
	gCacheCouÁ
*>*>*>* 
	gÿche
 =
c
->
g‘AuxCÏu£D©a
()->
ÿche
;

1050 
	gc
->
g‘AuxCÏu£D©a
()->
	gÿche
 = 
NULL
;

1051 
CÏu£
* 
	gcİyCÏu£
 = 
Ãw
 CÏu£(*
c
);

1052 
	gcİyCÏu£
->
g‘AuxCÏu£D©a
()->
	gÿche
 = 
ÿche
;

1053 
	gcİyCÏu£
->
com´ess
();

1054 
	gÿchedCÏu£s_
->
­³nd
(
cİyCÏu£
);

1058 
	gc
->
g‘AuxCÏu£D©a
()->
d–‘eCache
();

1059 
	gc
->
g‘AuxCÏu£D©a
()->
	gÿche
 = 
NULL
;

1063 
	gcout
 << "Computing countsook ";

1064 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
begSec
);

1067 
	gcout
 << 
	g’dl
;

1071 
¶lRemoveCouÁsFÜCÏu£
(cÚ¡ 
A¼ay
<
CÏu£
*>& 
»mCÏu£s
,

1072 cÚ¡ 
A¼ay
<*>& 
şau£IdxInMLNs
,

1073 
A¼ay
<
UndoInfo
*>* cÚ¡ & 
undoInfos
)

1075 
as£¹
(
şau£IdxInMLNs
.
size
(è=ğ
domašs_
->size());

1076 
	gbegSec
 = 
tim”_
.
time
();

1077 
	gi
 = 0; i < 
	gdomašs_
->
size
(); i++)

1078 
	g¶l_
->
»moveCouÁsFÜCÏu£
(
»mCÏu£s
[
i
],
şau£IdxInMLNs
[i],i,
undoInfos
);

1079 
	gcout
 << "Removing countsook ";

1080 
	gtim”_
.
´štTime
(
cout
, 
tim”_
.
time
()-
begSec
);

1081 
	gcout
 << 
	g’dl
;

1086 
	$¶lCompu‹CouÁsFÜIn™ŸlMLN
()

1088 
i
 = 0; i < 
mÊs_
->
	`size
(); i++)

1090 
cout
 << "computšg couÁ fÜ cÏu£ š domaš " << 
i
 << "..." << 
’dl
;

1091 
MLN
* 
mÊ
 = (*
mÊs_
)[
i
];

1092 
j
 = 0; j < 
mÊ
->
	`g‘NumCÏu£s
(); j++)

1094 
CÏu£
* 
c
 = (CÏu£*)
mÊ
->
	`g‘CÏu£
(
j
);

1095 
cout
 << "CÏu£ " << 
j
 << ": ";

1096 
c
->
	`´štW™houtWtW™hSŒV¬
(
cout
, (*
domašs_
)[
i
]); couˆ<< 
’dl
;

1097 * 
şau£IdxInMLN
 = 
mÊ
->
	`g‘MLNCÏu£InfoIndexPŒ
(
j
);

1098 
¶l_
->
	`compu‹CouÁsFÜNewAµ’dedCÏu£
(
c
, 
şau£IdxInMLN
, 
i
, 
NULL
,

1099 
§m¶eCÏu£s_
, 
NULL
, NULL);

1102 
	}
}

1106 
	g´iv©e
:

1107 
	$addUn™CÏu£sToMLNs
()

1109 
A¼ay
<
P»diÿ‹
*> 
nÚEvidP»ds
;

1110 
i
 = 0; i < 
´eds_
->
	`size
(); i++)

1111 ià((*
¬eNÚEvidP»ds_
)[(*
´eds_
)[
i
]->
	`g‘Id
()])

1112 
nÚEvidP»ds
.
	`­³nd
((*
´eds_
)[
i
]);

1114 
A¼ay
<
CÏu£
*> 
un™CÏu£s
;

1115 
boŞ
 
®lowEqu®P»ds
 = 
Œue
;

1116 
CÏu£FaùÜy
::
	`ü—‹Un™CÏu£s
(
un™CÏu£s
,
nÚEvidP»ds
,
®lowEqu®P»ds
);

1118 
i
 = 0; i < 
un™CÏu£s
.
	`size
(); i++)

1120 ià(
mÊ0_
->
	`cÚšsCÏu£
(
un™CÏu£s
[
i
]))

1121 { 
d–‘e
 
un™CÏu£s
[
i
]; ; }

1122 
o¡ršg¡»am
 
oss
; 
idx
;

1123 
un™CÏu£s
[
i
]->
	`´štW™houtWtW™hSŒV¬
(
oss
, (*
domašs_
)[0]);

1125 
j
 = 0; j < 
mÊs_
->
	`size
(); j++)

1127 
CÏu£
* 
c
 = (
j
 =ğ0è? 
un™CÏu£s
[
i
] : 
Ãw
 
	`CÏu£
(*unitClauses[i]);

1128 (*
mÊs_
)[
j
]->
	`­³ndCÏu£
(
oss
.
	`¡r
(), 
çl£
, 
c
, 
´iÜM—n_
, f®£, 
idx
,

1129 
çl£
, false, false, 0.0);

1130 ((
MLNCÏu£Info
*)(*
mÊs_
)[
j
]->
	`g‘MLNCÏu£Info
(
idx
))->
´iÜM—n


1131 ğ
´iÜM—n_
;

1134 
	}
}

1137 
	$­³ndUn™CÏu£sW™hDiffCombOfV¬
(& 
scÜe
)

1139 
boŞ
 
®lowEqu®P»ds
 = 
çl£
;

1140 
i
 = 0; i < 
´eds_
->
	`size
(); i++)

1142 ià(!(*
¬eNÚEvidP»ds_
)[(*
´eds_
)[
i
]->
	`g‘Id
()]) ;

1144 
CÏu£
* 
ÜigCÏu£
 = 
CÏu£FaùÜy
::
	`ü—‹Un™CÏu£
((*
´eds_
)[
i
],

1145 
®lowEqu®P»ds
);

1146 ià(
ÜigCÏu£
 =ğ
NULL
) ;

1147 
	`as£¹
(
ÜigCÏu£
->
	`g‘AuxCÏu£D©a
(è=ğ
NULL
);

1148 
ÜigCÏu£
->
	`£tAuxCÏu£D©a
(
Ãw
 
AuxCÏu£D©a
);

1149 
ÜigCÏu£
->
	`ŒackCÚ¡ªts
();

1151 
CÏu£OpHashA¼ay
 
ÃwUn™CÏu£s
;

1152 
şau£FaùÜy_
->
	`ü—‹Un™CÏu£sW™hDiffCombOfV¬
((*
´eds_
)[
i
], 
OP_ADD
,

1153 -1, 
ÃwUn™CÏu£s
);

1154 
j
 = 0; j < 
ÃwUn™CÏu£s
.
	`size
(); j++)

1156 
CÏu£
* 
ÃwCÏu£
 = 
ÃwUn™CÏu£s
[
j
];

1158 ià(
ÜigCÏu£
->
	`§me
(
ÃwCÏu£
) ||

1159 !
şau£FaùÜy_
->
	`v®idCÏu£
(
ÃwCÏu£
) ||

1160 
mÊ0_
->
	`cÚšsCÏu£
(
ÃwCÏu£
))

1162 
ÃwUn™CÏu£s
.
	`»moveI‹mFa¡DisÜd”
(
j
);

1163 
d–‘e
 
ÃwCÏu£
;

1164 
j
--;

1168 ià(!
	`­³ndToAndRemoveFromMLNs
(
ÃwCÏu£
, 
scÜe
)è
d–‘e
‚ewClause;

1170 
d–‘e
 
ÜigCÏu£
;

1172 
	}
}

1175 
	$æMLNCÏu£s
(& 
scÜe
)

1177 
A¼ay
<
CÏu£
*> 
mÊCÏu£s
;

1178 
i
 = 0; i < 
mÊ0_
->
	`g‘NumCÏu£s
(); i++)

1181 ià(
mÊ0_
->
	`g‘CÏu£
(
i
)->
	`g‘NumP»diÿ‹s
()==1 || !
	`isModifŸbËCÏu£
(i))

1183 
mÊCÏu£s
.
	`­³nd
((
CÏu£
*)
mÊ0_
->
	`g‘CÏu£
(
i
));

1186 
i
 = 0; i < 
mÊCÏu£s
.
	`size
(); i++)

1188 
CÏu£
* 
ÜigCÏu£
 = 
mÊCÏu£s
[
i
];

1189 
ÜigIdx
 = 
mÊ0_
->
	`fšdCÏu£Idx
(
ÜigCÏu£
);

1193 
boŞ
 
ÿnÚiÿlizeNewCÏu£s
 = 
çl£
;

1194 
CÏu£OpHashA¼ay
 
ÃwCÏu£s
;

1195 
şau£FaùÜy_
->
	`æS’£sInCÏu£
(
ÜigCÏu£
, 
OP_REPLACE
, 
ÜigIdx
,

1196 
ÃwCÏu£s
, 
ÿnÚiÿlizeNewCÏu£s
);

1198 
A¼ay
<> 
´iÜM—ns
, 
´iÜStdDevs
;

1199 
	`£tPriÜM—nsStdDevs
(
´iÜM—ns
, 
´iÜStdDevs
, 1, 
NULL
);

1200 
A¼ay
<> 
wts
;

1201 
wts
.
	`growToSize
(
	`g‘NumCÏu£sFÜmuÏs
()+2);

1202 
CÏu£
* 
be¡CÏu£
 = 
NULL
;

1203 
be¡ScÜe
 = 
scÜe
;

1204 
boŞ
 
”rÜ
;

1206 
j
 = 0; j < 
ÃwCÏu£s
.
	`size
(); j++)

1208 
CÏu£
* 
ÃwCÏu£
 = 
ÃwCÏu£s
[
j
];

1209 ià(
ÜigCÏu£
->
	`§me
(
ÃwCÏu£
è||‚ewCÏu£->
	`hasRedundªtP»diÿ‹s
()

1210 || 
mÊ0_
->
	`cÚšsCÏu£
(
ÃwCÏu£
)è{ 
d–‘e
‚ewClause; ; }

1212 
ÃwScÜe


1213 ğ
	`couÁAndMaxScÜeEfãùCªdid©e
(
ÃwCÏu£
, &
wts
, 
NULL
, 
scÜe
, 
Œue
,

1214 
´iÜM—ns
, 
´iÜStdDevs
, 
”rÜ
,

1215 
NULL
, NULL);

1216 ià(
ÃwScÜe
 > 
be¡ScÜe
)

1218 
be¡ScÜe
 = 
ÃwScÜe
;

1219 ià(
be¡CÏu£
è
d–‘e
 bestClause;

1220 
be¡CÏu£
 = 
ÃwCÏu£
;

1223 
d–‘e
 
ÃwCÏu£
;

1226 ià(
be¡CÏu£
 && !
	`­³ndToAndRemoveFromMLNs
(be¡CÏu£, 
scÜe
))

1227 
d–‘e
 
be¡CÏu£
;

1229 
	}
}

1234 
	$´uÃMLN
(& 
scÜe
)

1236 
A¼ay
<
CÏu£
*> 
mÊCÏu£s
;

1237 
i
 = 0; i < 
mÊ0_
->
	`g‘NumCÏu£s
(); i++)

1240 ià(
mÊ0_
->
	`g‘CÏu£
(
i
)->
	`g‘NumP»diÿ‹s
() == 1 ||

1241 !
	`isModifŸbËCÏu£
(
i
)) ;

1242 
mÊCÏu£s
.
	`­³nd
((
CÏu£
*)
mÊ0_
->
	`g‘CÏu£
(
i
));

1245 
i
 = 0; i < 
mÊCÏu£s
.
	`size
(); i++)

1247 
CÏu£
* 
ÜigCÏu£
 = 
mÊCÏu£s
[
i
];

1248 
ÜigIdx
 = 
mÊ0_
->
	`fšdCÏu£Idx
(
ÜigCÏu£
);

1249 
CÏu£
* 
cİy
 = 
Ãw
 
	`CÏu£
(*
ÜigCÏu£
);

1250 
cİy
->
	`£tAuxCÏu£D©a
(
Ãw
 
	`AuxCÏu£D©a
(0, 
OP_REMOVE
, 
ÜigIdx
));

1251 
cİy
->
	`ŒackCÚ¡ªts
();

1252 ià(!
	`­³ndToAndRemoveFromMLNs
(
cİy
, 
scÜe
, 
Œue
)è
d–‘e
 copy;

1254 
	}
}

1257 
	$­³ndCÏu£ToMLN
(
CÏu£
* cÚ¡ 
c
, cÚ¡ & 
domašIdx
)

1259 
o¡ršg¡»am
 
oss
; 
idx
;

1260 
c
->
	`´štW™houtWtW™hSŒV¬
(
oss
, (*
domašs_
)[
domašIdx
]);

1261 
MLN
* 
mÊ
 = (*
mÊs_
)[
domašIdx
];

1262 
boŞ
 
ok
 = 
mÊ
->
	`­³ndCÏu£
(
oss
.
	`¡r
(), 
çl£
, 
c
, c->
	`g‘Wt
(), f®£, 
idx
,

1263 
çl£
, false, false, 0.0);

1264 ià(!
ok
è{ 
cout
 << "ERROR: faedØš£¹ " << 
oss
.
	`¡r
() <<" into MLN"

1265 << 
’dl
; 
	`ex™
(-1); }

1266 ((
MLNCÏu£Info
*)
mÊ
->
	`g‘MLNCÏu£Info
(
idx
))->
´iÜM—n
 = 
´iÜM—n_
;

1267  
idx
;

1268 
	}
}

1271 
CÏu£
* 
	$»moveCÏu£FromMLN
(cÚ¡ & 
»mCÏu£Idx
, cÚ¡ & 
domašIdx
)

1273 
CÏu£
* 
»mCÏu£
 = (*
mÊs_
)[
domašIdx
]->
	`»moveCÏu£
(
»mCÏu£Idx
);

1274 ià(
»mCÏu£
 =ğ
NULL
)

1276 
cout
 << "ERROR: failedo„emove ";

1277 
»mCÏu£
->
	`´štW™houtWtW™hSŒV¬
(
cout
, (*
domašs_
)[0]);

1278 
cout
 << " from MLN" << 
’dl
;

1279 
	`ex™
(-1);

1281  
»mCÏu£
;

1282 
	}
}

1286 
	g´iv©e
:

1287 
	$addP»diÿ‹ToCÏu£
(
CÏu£
* cÚ¡ & 
b—mCÏu£
, cÚ¡ & 
İ
,

1288 cÚ¡ & 
»moveCÏu£Idx
,

1289 
CÏu£OpHashA¼ay
& 
ÃwCÏu£s
)

1292 
şau£FaùÜy_
->
	`addP»diÿ‹ToCÏu£
(*
´eds_
,
b—mCÏu£
,
İ
,
»moveCÏu£Idx
,

1293 
Œue
,
ÃwCÏu£s
,
çl£
);

1296 ià(
b—mCÏu£
->
	`g‘NumP»diÿ‹s
() == 1)

1298 
b—mCÏu£
->
	`g‘P»diÿ‹
(0)->
	`šv”tS’£
();

1299 
şau£FaùÜy_
->
	`addP»diÿ‹ToCÏu£
(*
´eds_
, 
b—mCÏu£
, 
İ
,

1300 
»moveCÏu£Idx
, 
Œue
, 
ÃwCÏu£s
,

1301 
çl£
);

1302 
b—mCÏu£
->
	`g‘P»diÿ‹
(0)->
	`šv”tS’£
();

1304 
	}
}

1308 
	$»moveP»diÿ‹FromCÏu£
(
CÏu£
* cÚ¡ & 
b—mCÏu£
, cÚ¡ & 
İ
,

1309 cÚ¡ & 
»moveCÏu£Idx
,

1310 
CÏu£OpHashA¼ay
& 
ÃwCÏu£s
)

1312 ià(
b—mCÏu£
->
	`g‘NumP»diÿ‹s
() > 2)

1313 
şau£FaùÜy_
->
	`»moveP»diÿ‹FromCÏu£
(
b—mCÏu£
, 
İ
, 
»moveCÏu£Idx
,

1314 
ÃwCÏu£s
);

1315 
	}
}

1318 
addNewCÏu£ToCªdid©es
(
CÏu£
* cÚ¡ & 
ÃwCÏu£
,

1319 
A¼ay
<
CÏu£
*>& 
ÿndid©es
,

1320 
A¼ay
<
CÏu£
*>* cÚ¡ & 
thrownOut
)

1323 ià(
	gthrownOut
 && 
	gmÊ0_
->
cÚšsCÏu£
(
ÃwCÏu£
))

1324 { 
	gthrownOut
->
­³nd
(
ÃwCÏu£
); ;}

1325 
	gÃwCÏu£
->
£tWt
(0);

1326 
	gÿndid©es
.
­³nd
(
ÃwCÏu£
);

1330 
ü—‹Cªdid©eCÏu£s
(cÚ¡ 
CÏu£OpHashA¼ay
* cÚ¡ & 
b—m
,

1331 
A¼ay
<
CÏu£
*>& 
ÿndid©es
,

1332 cÚ¡ 
A¼ay
<
CÏu£
*>* cÚ¡ & 
š™MLNCÏu£s
)

1335 
	gA¼ay
<
	gCÏu£
*> 
	gthrownOutCÏu£s
;

1336 
CÏu£OpHashA¼ay
 
	gÃwCÏu£s
;

1337 
	gi
 = 0; i < 
	gb—m
->
size
(); i++)

1339 
CÏu£
* 
	gb—mCÏu£
 = (*
b—m
)[
i
];

1340 
AuxCÏu£D©a
* 
	gb—macd
 = 
b—mCÏu£
->
g‘AuxCÏu£D©a
();

1341 
	gİ
 = 
b—macd
->
İ
;

1342 
	gÃwCÏu£sBegIdx
 = 
ÃwCÏu£s
.
size
();

1344 ià(
	gİ
 =ğ
OP_ADD
)

1346 
»mIdx
 = 
b—macd
->
»movedCÏu£Idx
;

1347 
addP»diÿ‹ToCÏu£
(
b—mCÏu£
, 
İ
, 
»mIdx
, 
ÃwCÏu£s
);

1348 
»moveP»diÿ‹FromCÏu£
(
b—mCÏu£
, 
İ
, 
»mIdx
, 
ÃwCÏu£s
);

1349 
	gj
 = 
ÃwCÏu£sBegIdx
; j < 
	gÃwCÏu£s
.
size
(); j++)

1350 
addNewCÏu£ToCªdid©es
(
ÃwCÏu£s
[
j
], 
ÿndid©es
,&
thrownOutCÏu£s
);

1353 ià(
	gİ
 =ğ
OP_REPLACE_ADDPRED
)

1355 
addP»diÿ‹ToCÏu£
(
b—mCÏu£
, 
İ
, 
b—macd
->
»movedCÏu£Idx
,

1356 
ÃwCÏu£s
);

1357 
	gj
 = 
ÃwCÏu£sBegIdx
; j < 
	gÃwCÏu£s
.
size
(); j++)

1358 
addNewCÏu£ToCªdid©es
(
ÃwCÏu£s
[
j
], 
ÿndid©es
,&
thrownOutCÏu£s
);

1361 ià(
	gİ
 =ğ
OP_REPLACE_REMPRED
)

1363 
»moveP»diÿ‹FromCÏu£
(
b—mCÏu£
, 
İ
, 
b—macd
->
»movedCÏu£Idx
,

1364 
ÃwCÏu£s
);

1365 
	gj
 = 
ÃwCÏu£sBegIdx
; j < 
	gÃwCÏu£s
.
size
(); j++)

1366 
addNewCÏu£ToCªdid©es
(
ÃwCÏu£s
[
j
], 
ÿndid©es
,&
thrownOutCÏu£s
);

1369 ià(
	gİ
 =ğ
OP_NONE
)

1371 
idx
 = 
mÊ0_
->
fšdCÏu£Idx
(
b—mCÏu£
);

1372 
boŞ
 
	gb—mCÏu£InMLN
 = (
idx
 >= 0);

1373 
boŞ
 
	g»moveB—mCÏu£
 = (
b—mCÏu£InMLN
 &&

1374 
b—mCÏu£
->
g‘NumP»diÿ‹s
() > 1);

1375 
boŞ
 
	gisModCÏu£
 = (!
b—mCÏu£InMLN
 || 
isModifŸbËCÏu£
(
idx
));

1377 ià(
	gisModCÏu£
)

1379 
addP»diÿ‹ToCÏu£
(
b—mCÏu£
, 
OP_ADD
, -1, 
ÃwCÏu£s
);

1380 
	gj
 = 
ÃwCÏu£sBegIdx
; j < 
	gÃwCÏu£s
.
size
(); j++)

1381 
addNewCÏu£ToCªdid©es
(
ÃwCÏu£s
[
j
], 
ÿndid©es
,

1382 &
thrownOutCÏu£s
);

1384 ià(
	g»moveB—mCÏu£
)

1386 
	gÃwCÏu£sBegIdx
 = 
ÃwCÏu£s
.
size
();

1387 
addP»diÿ‹ToCÏu£
(
b—mCÏu£
, 
OP_REPLACE_ADDPRED
, 
idx
,

1388 
ÃwCÏu£s
);

1389 
	gj
 = 
ÃwCÏu£sBegIdx
; j < 
	gÃwCÏu£s
.
size
(); j++)

1390 
addNewCÏu£ToCªdid©es
(
ÃwCÏu£s
[
j
], 
ÿndid©es
,

1391 &
thrownOutCÏu£s
);

1394 
	gÃwCÏu£sBegIdx
 = 
ÃwCÏu£s
.
size
();

1395 
»moveP»diÿ‹FromCÏu£
(
b—mCÏu£
, 
OP_ADD
, -1, 
ÃwCÏu£s
);

1396 
	gj
 = 
ÃwCÏu£sBegIdx
; j < 
	gÃwCÏu£s
.
size
(); j++)

1397 
addNewCÏu£ToCªdid©es
(
ÃwCÏu£s
[
j
], 
ÿndid©es
,

1398 &
thrownOutCÏu£s
);

1400 ià(
	g»moveB—mCÏu£
)

1402 
	gÃwCÏu£sBegIdx
 = 
ÃwCÏu£s
.
size
();

1403 
»moveP»diÿ‹FromCÏu£
(
b—mCÏu£
, 
OP_REPLACE_REMPRED
, 
idx
,

1404 
ÃwCÏu£s
);

1405 
	gj
 = 
ÃwCÏu£sBegIdx
; j < 
	gÃwCÏu£s
.
size
(); j++)

1406 
addNewCÏu£ToCªdid©es
(
ÃwCÏu£s
[
j
], 
ÿndid©es
,

1407 &
thrownOutCÏu£s
);

1410 ià(
	g»moveB—mCÏu£
)

1412 
CÏu£
* 
	gc
 = 
Ãw
 CÏu£(*
b—mCÏu£
);

1413 
	gc
->
g‘AuxCÏu£D©a
()->
	gİ
 = 
OP_REMOVE
;

1414 
	gc
->
g‘AuxCÏu£D©a
()->
	g»movedCÏu£Idx
 = 
idx
;

1415 
addNewCÏu£ToCªdid©es
(
c
, 
ÿndid©es
, 
NULL
);

1420 
as£¹
(
İ
 =ğ
OP_REMOVE
 || o°=ğ
OP_REPLACE
);

1424 ià(
	gš™MLNCÏu£s
)

1428 
	gÃwCÏu£sBegIdx
 = 
ÃwCÏu£s
.
size
();

1429 
	gi
 = 0; i < 
	gš™MLNCÏu£s
->
size
(); i++)

1431 
CÏu£
* 
	gc
 = 
Ãw
 CÏu£(*((*
š™MLNCÏu£s
)[
i
]));

1432 ià(
	gÃwCÏu£s
.
­³nd
(
c
è< 0è
d–‘e
 
	gc
;

1434 
	gi
 = 
ÃwCÏu£sBegIdx
; i < 
	gÃwCÏu£s
.
size
(); i++)

1435 
addNewCÏu£ToCªdid©es
(
ÃwCÏu£s
[
i
], 
ÿndid©es
, &
thrownOutCÏu£s
);

1438 
	gi
 = 0; i < 
	gthrownOutCÏu£s
.
size
(); i++)

1439 
d–‘e
 
	gthrownOutCÏu£s
[
i
];

1445 
	g´iv©e
:

1446 
	$u£TightP¬ams
()

1448 
§m¶eCÏu£s_
 = 
çl£
;

1449 
¶l_
->
	`£tSam¶eGndP»ds
(
çl£
);

1450 
lbfgsb_
->
	`£tMaxI‹r
(
lbMaxI‹r_
);

1451 
lbfgsb_
->
	`£tFtŞ
(
lbCÚvTh»sh_
);

1452 
ÿcheCÏu£s_
 = 
çl£
;

1453 
	}
}

1456 
	$u£Loo£P¬ams
()

1458 
§m¶eCÏu£s_
 = 
ÜigSam¶eCÏu£s_
;

1459 
¶l_
->
	`£tSam¶eGndP»ds
(
§m¶eGndP»ds_
);

1460 ià(
loo£MaxI‹r_
 >ğ0è
lbfgsb_
->
	`£tMaxI‹r
(looseMaxIter_);

1461 ià(
loo£CÚvTh»sh_
 >ğ0è
lbfgsb_
->
	`£tFtŞ
(looseConvThresh_);

1462 
ÿcheCÏu£s_
 = 
ÜigCacheCÏu£s_
;

1463 
	}
}

1467 
boŞ
 
	$isModifŸbËCÏu£
(cÚ¡ & 
i
) const

1468 {  (!
mÊ0_
->
	`isExi¡CÏu£
(
i
è&& !mÊ0_->
	`isExi¡UniqueCÏu£
(i)); 
	}
}

1471 
boŞ
 
	$isNÚModifŸbËFÜmuÏ
(cÚ¡ 
FÜmuÏAndCÏu£s
* cÚ¡ & 
âc
) const

1472 {  (
âc
->
hasExi¡
 || fnc->
isExi¡Unique
); 
	}
}

1475 
	$´štI‹rAndTimeEÏp£d
(cÚ¡ & 
begSec
)

1477 
cout
 << "I‹¿tiÚ " << 
™”_
 << "ook ";

1478 
tim”_
.
	`´štTime
(
cout
,im”_.
	`time
()-
begSec
); couˆ<< 
’dl
 <<ƒndl;

1479 
cout
 << "Timeƒlapsed = ";

1480 
tim”_
.
	`´štTime
(
cout
,im”_.
	`time
()-
¡¬tSec_
); couˆ<< 
’dl
 <<ƒndl;

1481 
	}
}

1484 
	$»moveCÏu£sFromMLNs
()

1486 
i
 = 0; i < 
mÊs_
->
	`size
(); i++)

1487 (*
mÊs_
)[
i
]->
	`»moveAÎCÏu£s
(
NULL
);

1488 
	}
}

1491 
»Ev®u©eCªdid©es
(
A¼ay
<
CÏu£
*>& 
ÿndid©es
,

1492 cÚ¡ & 
´evScÜe
)

1494 
	gnumCÏu£sFÜmuÏs
 = 
g‘NumCÏu£sFÜmuÏs
();

1495 
	gA¼ay
<> 
	gwts
;

1496 
	gwts
.
growToSize
(
numCÏu£sFÜmuÏs
 + 2);

1498 
	gA¼ay
<> 
	g´iÜM—ns
, 
	g´iÜStdDevs
;

1499 
£tPriÜM—nsStdDevs
(
´iÜM—ns
, 
´iÜStdDevs
, 1, 
NULL
);

1500 ià(
	gšdexT¿ns_
èšdexT¿ns_->
­³ndCÏu£IdxToCÏu£FÜmuÏIdxs
(1, 1);

1502 
boŞ
 
	g”rÜ
;

1503 
	gi
 = 0; i < 
	gÿndid©es
.
size
(); i++)

1505 
	gÿndid©es
[
i
]->
g‘AuxCÏu£D©a
()->
	ggaš
 = 0;

1506 
couÁAndMaxScÜeEfãùCªdid©e
(
ÿndid©es
[
i
], &
wts
, 
NULL
, 
´evScÜe
,

1507 
Œue
, 
´iÜM—ns
, 
´iÜStdDevs
, 
”rÜ
,

1508 
NULL
, NULL);

1511 ià(
	gšdexT¿ns_
èšdexT¿ns_->
»moveCÏu£IdxToCÏu£FÜmuÏIdxs
(1, 1);

1513 
	gA¼ay
<
	gCÏu£
*> 
tmpCªd
(
ÿndid©es
);

1514 
rquicksÜt
(
tmpCªd
);

1515 
	gÿndid©es
.
ş—r
();

1516 
	gi
 = 0; i < 
	gtmpCªd
.
size
(); i++)

1518 ià(
	gtmpCªd
[
i
]->
g‘AuxCÏu£D©a
()->
	ggaš
 > 
	gmšGaš_
 &&

1519 
çbs
(
tmpCªd
[
i
]->
g‘Wt
()è>ğ
mšWt_
)

1520 
ÿndid©es
.
­³nd
(
tmpCªd
[
i
]);

1522 
d–‘e
 
	gtmpCªd
[
i
];

1525 
	gcout
 << "»ev®u©edİ " << 
	gÿndid©es
.
size
()

1526 << " cªdid©e w™highˆ·¿ms:" << 
	g’dl
;

1527 
	gcout
 << "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@" << 
	g’dl
;

1528 
	gi
 = 0; i < 
	gÿndid©es
.
size
(); i++)

1530 
	gcout
 << 
	gi
 << "\t";

1531 
	gÿndid©es
[
i
]->
´štW™houtWtW™hSŒV¬
(
cout
,(*
domašs_
)[0]);

1532 
	gcout
 << 
	g’dl


1533 << "\tgaš = " << 
	gÿndid©es
[
i
]->
g‘AuxCÏu£D©a
()->
	ggaš


1534 << ", wˆğ" << 
	gÿndid©es
[
i
]->
g‘Wt
()

1536 << 
	gCÏu£
::
g‘OpAsSŒšg
(
ÿndid©es
[
i
]->
g‘AuxCÏu£D©a
()->
İ
)

1537 << 
’dl
;

1539 
	gcout
 << "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@" << 
	g’dl
 <<ƒndl;;

1546 
boŞ
 
fšdBe¡CÏu£sAmÚgCªdid©es
(
A¼ay
<
CÏu£
*>& 
ÿndid©es
,

1547 
CÏu£OpHashA¼ay
* cÚ¡ & 
b—m
,

1548 
A¼ay
<
CÏu£
*>& 
be¡CÏu£s
)

1550 
as£¹
(
b—m
->
size
() == 0);

1555 
rquicksÜt
(
ÿndid©es
);

1557 
	gi
 = 0; i < 
	gÿndid©es
.
size
(); i++)

1559 ià(
	gb—m
->
size
(è>ğ
b—mSize_
) ;

1560 
	gÿndGaš
 = 
ÿndid©es
[
i
]->
g‘AuxCÏu£D©a
()->
gaš
;

1561 
	gÿndAbsWt
 = 
çbs
(
ÿndid©es
[
i
]->
g‘Wt
());

1562 ià(
	gÿndGaš
 > 
	gmšGaš_
 && 
	gÿndAbsWt
 >ğ
mšWt_
)

1564 
a
 = 
b—m
->
­³nd
(
Ãw
 
CÏu£
(*(
ÿndid©es
[
i
])));

1565 
as£¹
(
a
 >ğ0); 
	ga
 = 0;

1569 ià(
	gb—m
->
size
() == 0)

1571 
i
 = 0; 
	gi
 < 
	gÿndid©es
.
size
(); i++è
d–‘e
 candidates[i];

1572  
	gçl£
;

1576 
CÏu£
* 
	g´evBe¡CÏu£
 = (
be¡CÏu£s
.
size
() > 0) ?

1577 
Ãw
 
CÏu£
(*(
be¡CÏu£s
[0])è: 
NULL
;

1581 
CÏu£OpS‘
 
	gc£t
;

1582 
	gCÏu£OpS‘
::
™”©Ü
 
™
;

1583 
	gi
 = 0; i < 
	gÿndid©es
.
size
(); i++è
	gc£t
.
š£¹
(
ÿndid©es
[
i
]);

1585 
	gi
 = 0; i < 
	gbe¡CÏu£s
.
size
(); i++)

1587 ià((
	g™
=
c£t
.
fšd
(
be¡CÏu£s
[
i
])è=ğc£t.
’d
())

1589 
ÿndid©es
.
­³nd
(
be¡CÏu£s
[
i
]);

1590 
	gc£t
.
š£¹
(
be¡CÏu£s
[
i
]);

1594 
as£¹
((*
™
)->
g‘AuxCÏu£D©a
()->
gaš
 ==

1595 
be¡CÏu£s
[
i
]->
g‘AuxCÏu£D©a
()->
gaš
);

1596 
d–‘e
 
	gbe¡CÏu£s
[
i
];

1600 
rquicksÜt
(
ÿndid©es
);

1602 
	gbe¡CÏu£s
.
ş—r
();

1603 
	gi
 = 0; i < 
	gÿndid©es
.
size
(); i++)

1605 ià(
	gbe¡CÏu£s
.
size
(è< 
	gnumE¡Be¡CÏu£s_
)

1607 
	gÿndGaš
 = 
ÿndid©es
[
i
]->
g‘AuxCÏu£D©a
()->
gaš
;

1608 
	gÿndAbsWt
 = 
çbs
(
ÿndid©es
[
i
]->
g‘Wt
());

1609 ià(
	gÿndGaš
 > 
	gmšGaš_
 && 
	gÿndAbsWt
 >ğ
mšWt_
)

1610 
be¡CÏu£s
.
­³nd
(
ÿndid©es
[
i
]);

1619 
d–‘e
 
	gÿndid©es
[
i
];

1623 
d–‘e
 
	gÿndid©es
[
i
];

1627 
boŞ
 
	gbe¡CÏu£Chªged
;

1628 ià(
	gbe¡CÏu£s
.
size
() > 0)

1630 ià(
	g´evBe¡CÏu£
 =ğ
NULL
è
be¡CÏu£Chªged
 = 
Œue
;

1634 ià(
	gbe¡CÏu£s
[0]->
§me
(
´evBe¡CÏu£
) &&

1635 
	gbe¡CÏu£s
[0]->
g‘AuxCÏu£D©a
()->
	gİ
 ==

1636 
´evBe¡CÏu£
->
g‘AuxCÏu£D©a
()->
İ
)

1637 
be¡CÏu£Chªged
 = 
çl£
;

1641 ià(
	gbe¡CÏu£s
[0]->
g‘AuxCÏu£D©a
()->
	ggaš
 >

1642 
	g´evBe¡CÏu£
->
g‘AuxCÏu£D©a
()->
	ggaš
)

1643 
	gbe¡CÏu£Chªged
 = 
Œue
;

1645 
	gbe¡CÏu£Chªged
 = 
çl£
;

1650 
	gbe¡CÏu£Chªged
 = 
çl£
;

1652 ià(
	g´evBe¡CÏu£
è
d–‘e
…revBestClause;

1653  
	gbe¡CÏu£Chªged
;

1657 
boŞ
 
	$efãùBe¡Cªdid©eOnMLNs
(
CÏu£
* cÚ¡ & 
ÿnd
, & 
scÜe
)

1659 ià(
	`­³ndToAndRemoveFromMLNs
(
ÿnd
, 
scÜe
))

1661 
	`´štMLNCÏu£sW™hWeightsAndScÜe
(
scÜe
, 
™”_
);

1663  
Œue
;

1665  
çl£
;

1666 
	}
}

1669 
boŞ
 
efãùBe¡Cªdid©eOnMLNs
(
A¼ay
<
CÏu£
*>& 
be¡Cªdid©es
, & 
scÜe
)

1671 
	gcout
 << "efãùšg be¡ cªdid©Ú MLN..." << 
	g’dl
 <<ƒndl;

1672 
boŞ
 
	gok
 = 
çl£
;

1673 
	gi
;

1674 
	gi
 = 0; i < 
	gbe¡Cªdid©es
.
size
(); i++)

1676 
	gcout
 << "efãùšg be¡ cªdid©" << 
	gi
 << " oÀMLN..." << 
	g’dl
 <<ƒndl;

1677 ià((
	gok
 = 
efãùBe¡Cªdid©eOnMLNs
(
be¡Cªdid©es
[
i
], 
scÜe
))) ;

1678 
	gcout
 << "çedØefãù cªdid©Ú MLN." << 
	g’dl
;

1679 
d–‘e
 
	gbe¡Cªdid©es
[
i
];

1681 
	gj
 = 
i
+1; j < 
	gbe¡Cªdid©es
.
size
();j++è
d–‘e
 be¡Cªdid©es[
j
];

1682  
	gok
;

1686 
	$g‘P’®ty
(cÚ¡ 
CÏu£
* cÚ¡ & 
ÿnd
)

1688 
İ
 = 
ÿnd
->
	`g‘AuxCÏu£D©a
()->op;

1690 ià(
İ
 =ğ
OP_ADD
è 
ÿnd
->
	`g‘NumP»diÿ‹s
(è* 
³ÇÉy_
;

1692 ià(
İ
 =ğ
OP_REPLACE_ADDPRED
)

1694 
»mIdx
 = 
ÿnd
->
	`g‘AuxCÏu£D©a
()->
»movedCÏu£Idx
;

1695 
ÜigËn
 = 
mÊ0_
->
	`g‘CÏu£
(
»mIdx
)->
	`g‘NumP»diÿ‹s
();

1696 
diff
 = 
ÿnd
->
	`g‘NumP»diÿ‹s
(è- 
ÜigËn
;

1697 
	`as£¹
(
diff
 > 0);

1698  
diff
 * 
³ÇÉy_
;

1701 ià(
İ
 =ğ
OP_REPLACE_REMPRED
)

1703 
»mIdx
 = 
ÿnd
->
	`g‘AuxCÏu£D©a
()->
»movedCÏu£Idx
;

1704 
ÜigËn
 = 
mÊ0_
->
	`g‘CÏu£
(
»mIdx
)->
	`g‘NumP»diÿ‹s
();

1705 
diff
 = 
ÜigËn
 - 
ÿnd
->
	`g‘NumP»diÿ‹s
();

1706 
	`as£¹
(
diff
 > 0);

1707  
diff
 * 
³ÇÉy_
;

1710 ià(
İ
 =ğ
OP_REPLACE
)

1714 
»mIdx
 = 
ÿnd
->
	`g‘AuxCÏu£D©a
()->
»movedCÏu£Idx
;

1715 cÚ¡ 
CÏu£
* 
mÊCÏu£
 = 
mÊ0_
->
	`g‘CÏu£
(
»mIdx
);

1716 
	`as£¹
(
ÿnd
->
	`g‘NumP»diÿ‹s
(è=ğ
mÊCÏu£
->getNumPredicates());

1717 
diff
 = 0;

1718 
i
 = 0; i < 
ÿnd
->
	`g‘NumP»diÿ‹s
(); i++)

1720 
P»diÿ‹
* 
ı»d
 = (P»diÿ‹*è
ÿnd
->
	`g‘P»diÿ‹
(
i
);

1721 
P»diÿ‹
* 
m´ed
 = (P»diÿ‹*è
mÊCÏu£
->
	`g‘P»diÿ‹
(
i
);

1722 
	`as£¹
(
ı»d
->
	`§me
(
m´ed
));

1723 ià(
ı»d
->
	`g‘S’£
(è!ğ
m´ed
->g‘S’£()è
diff
++;

1725  
diff
 * 
³ÇÉy_
;

1728 ià(
İ
 =ğ
OP_REMOVE
è 
ÿnd
->
	`g‘NumP»diÿ‹s
(è* 
³ÇÉy_
;

1730 
	`as£¹
(
çl£
);

1732 
	}
}

1735 
´štNewScÜe
(cÚ¡ 
A¼ay
<
CÏu£
*>& 
ÿ¼ay
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1736 cÚ¡ & 
lbfgsbI‹r
, cÚ¡ & 
lbfgsbSec
,

1737 cÚ¡ & 
ÃwScÜe
, cÚ¡ & 
gaš
,

1738 cÚ¡ 
A¼ay
<>& 
³ÇÉ›s
)

1740 
	gcout
 << "*************************** " << 
	gÿndCÁ_
++ << ", i‹¸" << 
	g™”_


1741 << ", b—m s—rch i‹¸" << 
	gbs™”_
 << 
	g’dl
;

1742 
	gi
 = 0; i < 
	gÿ¼ay
.
size
(); i++)

1744 ià(
	gÿ¼ay
[
i
])

1746 
	gcout
 << "candidate : ";

1747 
	gÿ¼ay
[
i
]->
´štW™houtWtW™hSŒV¬
(
cout
,
domaš
); 
	gcout
 << 
	g’dl
;

1748 
	gcout
 << "op : ";

1749 
	gcout
 << 
	gCÏu£
::
g‘OpAsSŒšg
(
ÿ¼ay
[
i
]->
g‘AuxCÏu£D©a
()->
İ
è<<
’dl
;

1750 
	gcout
 << "removed clause: ";

1751 
	g»mIdx
 = 
ÿ¼ay
[
i
]->
g‘AuxCÏu£D©a
()->
»movedCÏu£Idx
;

1752 ià(
	g»mIdx
 < 0è
	gcout
 << "NULL";

1753 { 
	gmÊ0_
->
g‘CÏu£
(
»mIdx
)->
´štW™houtWtW™hSŒV¬
(
cout
,
domaš
);}

1754 
	gcout
 << 
	g’dl
;

1755 ià(
	gÿ¼ay
[
i
]->
g‘AuxCÏu£D©a
()->
	g´evCÏu£SŒ
.
Ëngth
() > 0)

1757 
	gcout
 << "prevClause : ";

1758 
	gcout
 << 
	gÿ¼ay
[
i
]->
g‘AuxCÏu£D©a
()->
	g´evCÏu£SŒ
 << 
	g’dl
;

1760 ià(
	gÿ¼ay
[
i
]->
g‘AuxCÏu£D©a
()->
	gaddedP»dSŒ
.
Ëngth
() > 0)

1762 
	gcout
 << "addedPred : ";

1763 
	gcout
 << 
	gÿ¼ay
[
i
]->
g‘AuxCÏu£D©a
()->
	gaddedP»dSŒ
 << 
	g’dl
;

1765 ià(
	gÿ¼ay
[
i
]->
g‘AuxCÏu£D©a
()->
	g»movedP»dIdx
 >= 0)

1767 
cout
 << "removedPredIdx: ";

1768 
	gcout
 << 
	gÿ¼ay
[
i
]->
g‘AuxCÏu£D©a
()->
	g»movedP»dIdx
 << 
	g’dl
;

1771 
	gcout
 << "scÜ : " << 
	gÃwScÜe
 << 
	g’dl
;

1772 
	gcout
 << "gaš : " << 
	ggaš
 << 
	g’dl
;

1773 
	gcout
 << "³ÇÉy : " << 
	g³ÇÉ›s
[
i
] << 
	g’dl
;

1774 
	gcout
 << "Ãˆgaš : " << 
	ggaš
 - 
	g³ÇÉ›s
[
i
] << 
	g’dl
;

1775 ià(
	gÿ¼ay
[
i
]->
g‘AuxCÏu£D©a
()->
	gİ
 !ğ
OP_REMOVE
)

1776 
cout
 << "wˆ : " << 
ÿ¼ay
[
i
]->
g‘Wt
(è<< 
’dl
;

1779 
	gcout
 << "num LBFGSB i‹¸ = " << 
	glbfgsbI‹r
 << 
	g’dl
;

1780 
	gcout
 << "timk’ by LBFGSB = "; 
	gTim”
::
´štTime
(
cout
, 
lbfgsbSec
);

1781 
	gcout
 << 
	g’dl
;

1782 
	gcout
 << "*************************** " << 
	g’dl
 <<ƒndl;;

1786 
	$´štNewScÜe
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1787 cÚ¡ & 
lbfgsbI‹r
, cÚ¡ & 
lbfgsbSec
,

1788 cÚ¡ & 
ÃwScÜe
, cÚ¡ & 
gaš
,

1789 cÚ¡ & 
³ÇÉy
)

1791 
A¼ay
<
CÏu£
*> 
ÿ¼ay
;

1792 
A¼ay
<> 
·¼ay
;

1793 ià(
c
è{ 
ÿ¼ay
.
	`­³nd
((
CÏu£
*)c); 
·¼ay
.­³nd(
³ÇÉy
); }

1794 
	`´štNewScÜe
(
ÿ¼ay
, 
domaš
, 
lbfgsbI‹r
, 
lbfgsbSec
, 
ÃwScÜe
, 
gaš
,
·¼ay
);

1795 
	}
}

1798 
	$´štMLNCÏu£sW™hWeightsAndScÜe
(cÚ¡ & 
scÜe
, cÚ¡ & 
™”
)

1800 ià(
™”
 >ğ0è
cout
 << "MLN iÀ™”©iÚ " << i‹¸<< ":" << 
’dl
;

1801 
cout
 << "MLN:" << 
’dl
;

1802 
cout
 << "------------------------------------" << 
’dl
;

1803 ià(
šdexT¿ns_
èšdexT¿ns_->
	`´štCÏu£FÜmuÏWts
(
cout
, 
Œue
);

1804 
mÊ0_
->
	`´štMLNCÏu£sFÜmuÏs
(
cout
, (*
domašs_
)[0], 
Œue
);

1805 
cout
 << "------------------------------------" << 
’dl
;

1806 
cout
 << "scÜğ"<< 
scÜe
 << 
’dl
 <<ƒndl;

1807 
	}
}

1810 
	$´štMLNToFe
(cÚ¡ * cÚ¡ & 
­³ndSŒ
, cÚ¡ & 
™”
)

1812 
¡ršg
 
âame
 = 
outMLNFeName_
;

1814 ià(
­³ndSŒ
è
âame
.
	`­³nd
(".").append(appendStr);

1816 ià(
™”
 >= -1)

1818 
buf
[100];

1819 
	`¥rštf
(
buf
, "%d", 
™”
);

1820 
âame
.
	`­³nd
(".™”").­³nd(
buf
);

1823 ià(
­³ndSŒ
 || 
™”
 >ğ-1è
âame
.
	`­³nd
(".mln");

1825 
of¡»am
 
	`out
(
âame
.
	`c_¡r
());

1826 ià(!
out
.
	`good
()è{ 
cout
 << "ERROR: faedØİ’ " <<
âame
<<
’dl
;
	`ex™
(-1);}

1829 
out
 << "//´ediÿ‹ deş¬©iÚs" << 
’dl
;

1830 (*
domašs_
)[0]->
	`´štP»diÿ‹Tem¶©es
(
out
);

1831 
out
 << 
’dl
;

1834 ià((*
domašs_
)[0]->
	`g‘NumFunùiÚs
() > 0)

1836 
out
 << "//funùiÚ deş¬©iÚs" << 
’dl
;

1837 (*
domašs_
)[0]->
	`´štFunùiÚTem¶©es
(
out
);

1838 
out
 << 
’dl
;

1841 ià(
šdexT¿ns_
èšdexT¿ns_->
	`´štCÏu£FÜmuÏWts
(
out
, 
çl£
);

1842 
mÊ0_
->
	`´štMLNCÏu£sFÜmuÏs
(
out
, (*
domašs_
)[0], 
çl£
);

1844 
out
 << 
’dl
;

1845 
out
.
	`şo£
();

1846 
	}
}

1849 
	$´štCÏu£sInB—m
(cÚ¡ 
CÏu£OpHashA¼ay
* cÚ¡ & 
b—m
)

1851 
cout
.
	`£tf
(
ios_ba£
::
Ëá
, ios_ba£::
adju¡f›ld
);

1852 
cout
 << "^^^^^^^^^^^^^^^^^^^ b—m ^^^^^^^^^^^^^^^^^^^" << 
’dl
;

1853 
i
 = 0; i < 
b—m
->
	`size
(); i++)

1855 
cout
 << 
i
 << ": ";

1856 
cout
.
	`width
(10); couˆ<< (*
b—m
)[
i
]->
	`g‘Wt
(); cout.width(0); cout << " ";

1857 (*
b—m
)[
i
]->
	`´štW™houtWtW™hSŒV¬
(
cout
, (*
domašs_
)[0]); couˆ<< 
’dl
;

1859 
cout
.
	`width
(0);

1860 
cout
 << "^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^" << 
’dl
;

1862 
	}
}

1864 
£tPriÜM—nsStdDevs
(
A¼ay
<>& 
´iÜM—ns
,

1865 
A¼ay
<>& 
´iÜStdDevs
, cÚ¡ & 
addSlÙs
,

1866 cÚ¡ 
A¼ay
<>* cÚ¡& 
»movedSlÙIndexes
)

1868 
	g´iÜM—ns
.
ş—r
(); 
	g´iÜStdDevs
.clear();

1870 ià(
	gšdexT¿ns_
)

1872 
	gšdexT¿ns_
->
£tPriÜM—ns
(
´iÜM—ns
);

1873 
	g´iÜStdDevs
.
growToSize
(
´iÜM—ns
.
size
());

1874 
	gi
 = 0; i < 
	g´iÜM—ns
.
size
(); i++)

1875 
	g´iÜStdDevs
[
i
] = 
´iÜStdDev_
;

1879 
	gi
 = 0; i < 
	gmÊ0_
->
g‘NumCÏu£s
(); i++)

1881 
	g´iÜM—ns
.
­³nd
(
mÊ0_
->
g‘MLNCÏu£Info
(
i
)->
´iÜM—n
);

1882 
	g´iÜStdDevs
.
­³nd
(
´iÜStdDev_
);

1886 ià(
	g»movedSlÙIndexes
)

1888 
	gi
 = 0; i < 
	g»movedSlÙIndexes
->
size
(); i++)

1889 
	g´iÜM—ns
[ (*
»movedSlÙIndexes
)[
i
] ] = 0;

1892 
	gi
 = 0; i < 
	gaddSlÙs
; i++)

1894 
	g´iÜM—ns
.
­³nd
(
´iÜM—n_
);

1895 
	g´iÜStdDevs
.
­³nd
(
´iÜStdDev_
);

1900 
¶lS‘PriÜM—nsStdDevs
(
A¼ay
<>& 
´iÜM—ns
,

1901 
A¼ay
<>& 
´iÜStdDevs
, cÚ¡ & 
addSlÙs
,

1902 cÚ¡ 
A¼ay
<>* cÚ¡ & 
»movedSlÙIndexes
)

1904 ià(
	ghasPriÜ_
)

1906 
£tPriÜM—nsStdDevs
(
´iÜM—ns
, 
´iÜStdDevs
,

1907 
addSlÙs
, 
»movedSlÙIndexes
);

1908 
	g¶l_
->
£tM—nsStdDevs
(
´iÜM—ns
.
size
(),…riÜM—ns.
g‘I‹ms
(),

1909 
´iÜStdDevs
.
g‘I‹ms
());

1912 
	g¶l_
->
£tM—nsStdDevs
(-1, 
NULL
, NULL);

1916 
£tRemoveAµ’dedPriÜM—ns
(cÚ¡ & 
numCÏu£sFÜmuÏs
,

1917 
A¼ay
<>& 
´iÜM—ns
,

1918 cÚ¡ 
A¼ay
<>& 
»movedSlÙIndexes
,

1919 cÚ¡ & 
addSlÙs
,

1920 
A¼ay
<>& 
»movedV®ues
)

1922 
	gi
 = 0; i < 
	g»movedSlÙIndexes
.
size
(); i++)

1924 
	g»movedV®ues
.
­³nd
(
´iÜM—ns
[ 
»movedSlÙIndexes
[
i
] ]);

1925 
	g´iÜM—ns
[ 
»movedSlÙIndexes
[
i
] ] = 0;

1928 
	gi
 = 0; i < 
	gaddSlÙs
; i++)

1929 
	g´iÜM—ns
[
numCÏu£sFÜmuÏs
+
i
] = 
´iÜM—n_
;

1933 
	$g‘NumCÏu£sFÜmuÏs
()

1935 ià(
šdexT¿ns_
è indexT¿ns_->
	`g‘NumCÏu£sAndExi¡FÜmuÏs
();

1936  
mÊ0_
->
	`g‘NumCÏu£s
();

1937 
	}
}

1940 
upd©eWts
(cÚ¡ 
A¼ay
<>& 
wts
,

1941 cÚ¡ 
A¼ay
<
CÏu£
*>* cÚ¡ & 
­³ndedCÏu£s
,

1942 cÚ¡ 
A¼ay
<
¡ršg
>* cÚ¡ & 
­³ndedFÜmuÏs
)

1944 ià(
	gšdexT¿ns_
)

1946 
	gA¼ay
<> 
	gtmpWts
;

1947 
	gtmpWts
.
growToSize
(
wts
.
size
()-1);

1948 
	gi
 = 1; i < 
	gwts
.
size
(); i++è
	gtmpWts
[
i
-1] = 
wts
[i];

1949 
	gšdexT¿ns_
->
upd©eCÏu£FÜmuÏWtsInMLNs
(
tmpWts
, 
­³ndedCÏu£s
,

1950 
­³ndedFÜmuÏs
);

1954 
	gi
 = 0; i < 
	gmÊs_
->
size
(); i++)

1955 
	gj
 = 0; j < (*
	gmÊs_
)[
i
]->
g‘NumCÏu£s
(); j++)

1956 ((
	gCÏu£
*)(*
	gmÊs_
)[
i
]->
g‘CÏu£
(
j
))->
£tWt
(
wts
[j+1]);

1963 
	g´iv©e
:

1965 
rquicksÜt
(
A¼ay
<
CÏu£
*>& 
şau£s
, cÚ¡ & 
l
, cÚ¡ & 
r
)

1967 
CÏu£
** 
	g™ems
 = (CÏu£**è
şau£s
.
g‘I‹ms
();

1968 ià(
	gl
 >ğ
r
) ;

1969 
CÏu£
* 
	gtmp
 = 
™ems
[
l
];

1970 
	g™ems
[
l
] = 
™ems
[Ö+
r
)/2];

1971 
	g™ems
[(
l
+
r
)/2] = 
tmp
;

1973 
	gÏ¡
 = 
l
;

1974 
	gi
 = 
l
+1; i <ğ
r
; i++)

1975 ià(
	g™ems
[
i
]->
g‘AuxCÏu£D©a
()->
	ggaš
 >

1976 
	g™ems
[
l
]->
g‘AuxCÏu£D©a
()->
	ggaš
)

1978 ++
	gÏ¡
;

1979 
CÏu£
* 
	gtmp
 = 
™ems
[
Ï¡
];

1980 
	g™ems
[
Ï¡
] = 
™ems
[
i
];

1981 
	g™ems
[
i
] = 
tmp
;

1984 
	gtmp
 = 
™ems
[
l
];

1985 
	g™ems
[
l
] = 
™ems
[
Ï¡
];

1986 
	g™ems
[
Ï¡
] = 
tmp
;

1987 
rquicksÜt
(
şau£s
, 
l
, 
Ï¡
-1);

1988 
rquicksÜt
(
şau£s
, 
Ï¡
+1, 
r
);

1991 
rquicksÜt
(
A¼ay
<
CÏu£
*>& 
ÿ
è{„quicksÜt(ÿ, 0, ca.
size
()-1); }

1996 
	g´iv©e
:

1998 
d–‘eExi¡FÜmuÏs
(
A¼ay
<
Exi¡FÜmuÏ
*>& 
exi¡FÜmuÏs
)

1999 { 
exi¡FÜmuÏs
.
d–‘eI‹msAndCË¬
(); }

2002 
g‘MLNCÏu£s
(
A¼ay
<
CÏu£
*>& 
š™ŸlMLNCÏu£s
,

2003 
A¼ay
<
Exi¡FÜmuÏ
*>& 
exi¡FÜmuÏs
)

2005 
	gi
 = 0; i < 
	gmÊ0_
->
g‘NumCÏu£s
(); i++)

2006 ià(
isModifŸbËCÏu£
(
i
))

2008 
CÏu£
* 
	gc
 = (CÏu£*è
mÊ0_
->
g‘CÏu£
(
i
);

2009 
	gš™ŸlMLNCÏu£s
.
­³nd
(
Ãw
 
CÏu£
(*
c
));

2012 cÚ¡ 
FÜmuÏAndCÏu£sA¼ay
* 
	gâÿ
 = 
mÊ0_
->
g‘FÜmuÏAndCÏu£sA¼ay
();

2013 
	gi
 = 0; i < 
	gâÿ
->
size
(); i++)

2014 ià(
isNÚModifŸbËFÜmuÏ
((*
âÿ
)[
i
]))

2015 
	gexi¡FÜmuÏs
.
­³nd
(
Ãw
 
Exi¡FÜmuÏ
((*
âÿ
)[
i
]->
fÜmuÏ
));

2017 
	gi
 = 0; i < 
	gexi¡FÜmuÏs
.
size
(); i++)

2019 
¡ršg
 
	gfÜmuÏ
 = 
exi¡FÜmuÏs
[
i
]->
fÜmuÏ
;

2020 
FÜmuÏAndCÏu£s
 
tmp
(
fÜmuÏ
, 0, 
çl£
, false, false);

2021 cÚ¡ 
FÜmuÏAndCÏu£sA¼ay
* 
	gâÿ


2022 ğ(*
mÊs_
)[0]->
g‘FÜmuÏAndCÏu£sA¼ay
();

2023 
	ga
 = 
âÿ
->
fšd
(&
tmp
);

2024 
	gexi¡FÜmuÏs
[
i
]->
	gnumP»ds
 = (*
âÿ
)[
a
]->
numP»ds
;

2026 
	gA¼ay
<A¼ay<
	gCÏu£
*> >& 
	gúfCÏu£sFÜDomašs


2027 ğ
exi¡FÜmuÏs
[
i
]->
úfCÏu£sFÜDomašs
;

2028 
	gúfCÏu£sFÜDomašs
.
growToSize
(
mÊs_
->
size
());

2029 
	gj
 = 0; j < 
	gmÊs_
->
size
(); j++)

2031 
	gA¼ay
<
	gCÏu£
*>& 
	gúfCÏu£s
 = 
úfCÏu£sFÜDomašs
[
j
];

2032 
	gâÿ
 = (*
mÊs_
)[
j
]->
g‘FÜmuÏAndCÏu£sA¼ay
();

2033 
	ga
 = 
âÿ
->
fšd
(&
tmp
);

2034 
as£¹
(
a
 >= 0);

2035 
IndexCÏu£HashA¼ay
* 
	gšdexCÏu£s
 = (*
âÿ
)[
a
]->
šdexCÏu£s
;

2036 
	gk
 = 0; k < 
	gšdexCÏu£s
->
size
(); k++)

2038 
CÏu£
* 
	gc
 = 
Ãw
 CÏu£(*((*
šdexCÏu£s
)[
k
]->
şau£
));

2039 
	gc
->
ÃwAuxCÏu£D©a
();

2040 
	gúfCÏu£s
.
­³nd
(
c
);

2042 
	gúfCÏu£s
.
com´ess
();

2049 
šlše
 
¶lCouÁsFÜExi¡FÜmuÏ
(
CÏu£
* 
úfCÏu£
,

2050 cÚ¡ & 
domašIdx
,

2051 * 
şau£IdxInMÊ
,

2052 
A¼ay
<
UndoInfo
*>* cÚ¡ & 
undoInfos
)

2054 
as£¹
(
úfCÏu£
->
g‘AuxCÏu£D©a
()->
ÿche
 =ğ
NULL
);

2055 
boŞ
 
	gšCache
 = 
çl£
;

2056 
boŞ
 
	ghasDomašCouÁs
 = 
çl£
;

2057 
	g´evCNFCÏu£Size
 = 0;

2059 ià(
	gÿcheCÏu£s_
)

2061 
	gi
;

2062 ià((
	gi
 = 
ÿchedCÏu£s_
->
fšd
(
úfCÏu£
)) >= 0)

2064 
šCache
 = 
Œue
;

2065 
	gA¼ay
<A¼ay<A¼ay<
	gCacheCouÁ
*>*>*>* 
	gÿche
 =

2066 (*
ÿchedCÏu£s_
)[
i
]->
g‘AuxCÏu£D©a
()->
ÿche
;

2067 
	gA¼ay
<A¼ay<
	gCacheCouÁ
*>*>* 
	gdomašCache
 = (*
ÿche
)[
domašIdx
];

2068 
	gj
 = 0; j < 
	gdomašCache
->
size
(); j++)

2069 ià((*
	gdomašCache
)[
j
] !ğ
NULL
è{ 
hasDomašCouÁs
 = 
Œue
; ; }

2072 ià(
	ghasDomašCouÁs
)

2074 
	g¶l_
->
š£¹CouÁs
(
şau£IdxInMÊ
, 
undoInfos
,

2075 (*
ÿchedCÏu£s_
)[
i
]->
g‘AuxCÏu£D©a
()->
ÿche
,

2076 
domašIdx
);

2081 ià(
	gÿcheSizeMB_
 < 
	gmaxCacheSizeMB_
)

2083 ià(
	gšCache
)

2085 
	gúfCÏu£
->
g‘AuxCÏu£D©a
()->
	gÿche


2086 ğ(*
ÿchedCÏu£s_
)[
i
]->
g‘AuxCÏu£D©a
()->
ÿche
;

2087 
	g´evCNFCÏu£Size
 = 
úfCÏu£
->
sizeMB
();

2090 
	gúfCÏu£
->
ÃwCache
(
domašs_
->
size
(),

2091 (*
domašs_
)[0]->
g‘NumP»diÿ‹s
());

2095 
boŞ
 
	g´štCacheFuÎ
 = 
Œue
;

2096 ià(
	g´štCacheFuÎ
)

2098 
	gcout
 << "Cachi fuÎ,‡µroxim©sizğ" << 
	gÿcheSizeMB_


2099 <<" MB" << 
	g’dl
;

2100 
	g´štCacheFuÎ
 = 
çl£
;

2107 
	g¶l_
->
compu‹CouÁsFÜNewAµ’dedCÏu£
(
úfCÏu£
,
şau£IdxInMÊ
,
domašIdx
,

2108 
undoInfos
, 
§m¶eCÏu£s_
,

2109 
úfCÏu£
->
g‘AuxCÏu£D©a
()->
ÿche
,

2110 
NULL
);

2112 ià(
	gúfCÏu£
->
g‘AuxCÏu£D©a
()->
	gÿche
)

2114 ià(
	gšCache
)

2116 
	gÿcheSizeMB_
 +ğ
úfCÏu£
->
sizeMB
(è- 
´evCNFCÏu£Size
;

2117 
	gúfCÏu£
->
g‘AuxCÏu£D©a
()->
	gÿche
 = 
NULL
;

2121 ià(
	gÿcheSizeMB_
 < 
	gmaxCacheSizeMB_
)

2123 
	gÿcheSizeMB_
 +ğ
úfCÏu£
->
sizeMB
();

2124 
	gA¼ay
<A¼ay<A¼ay<
	gCacheCouÁ
*>*>*>* 
	gÿche


2125 ğ
úfCÏu£
->
g‘AuxCÏu£D©a
()->
ÿche
;

2126 
	gúfCÏu£
->
g‘AuxCÏu£D©a
()->
	gÿche
 = 
NULL
;

2127 
CÏu£
* 
	gcİyCÏu£
 = 
Ãw
 CÏu£(*
úfCÏu£
);

2128 
	gcİyCÏu£
->
g‘AuxCÏu£D©a
()->
	gÿche
 = 
ÿche
;

2129 
	gcİyCÏu£
->
com´ess
();

2130 
	gÿchedCÏu£s_
->
­³nd
(
cİyCÏu£
);

2134 
	gúfCÏu£
->
g‘AuxCÏu£D©a
()->
d–‘eCache
();

2135 
	gúfCÏu£
->
g‘AuxCÏu£D©a
()->
	gÿche
 = 
NULL
;

2142 
šlše
 
	$´štNewScÜe
(cÚ¡ 
¡ršg
 
exi¡FÜmSŒ
,cÚ¡ & 
lbfgsbI‹r
,

2143 cÚ¡ & 
lbfgsbSec
, cÚ¡ & 
ÃwScÜe
,

2144 cÚ¡ & 
gaš
, cÚ¡ & 
³ÇÉy
,

2145 cÚ¡ & 
wt
)

2147 
cout
 << "*************************** " << 
ÿndCÁ_
++ << ", i‹¸" << 
™”_


2148 << ", b—m s—rch i‹¸" << 
bs™”_
 << 
’dl
;

2150 
cout
 << "exi¡ fÜmuÏ : " << 
exi¡FÜmSŒ
 << 
’dl
;

2151 
cout
 << "İ : OP_ADD" << 
’dl
;

2152 
cout
 << "scÜ : " << 
ÃwScÜe
 << 
’dl
;

2153 
cout
 << "gaš : " << 
gaš
 << 
’dl
;

2154 
cout
 << "³ÇÉy : " << 
³ÇÉy
 << 
’dl
;

2155 
cout
 << "Ãˆgaš : " << 
gaš
 - 
³ÇÉy
 << 
’dl
;

2156 
cout
 << "wˆ : " << 
wt
 << 
’dl
;

2157 
cout
 << "num LBFGSB i‹¸ = " << 
lbfgsbI‹r
 << 
’dl
;

2158 
cout
 << "timk’ by LBFGSB = "; 
Tim”
::
	`´štTime
(cout, 
lbfgsbSec
);

2159 
cout
 << 
’dl
;

2160 
cout
 << "*************************** " << 
’dl
 <<ƒndl;;

2161 
	}
}

2164 
šlše
 
rquicksÜt
(
A¼ay
<
Exi¡FÜmuÏ
*>& 
exi¡FÜmuÏs
, cÚ¡ & 
l
,

2165 cÚ¡ & 
r
)

2167 
Exi¡FÜmuÏ
** 
	g™ems
 = (Exi¡FÜmuÏ**è
exi¡FÜmuÏs
.
g‘I‹ms
();

2168 ià(
	gl
 >ğ
r
) ;

2169 
Exi¡FÜmuÏ
* 
	gtmp
 = 
™ems
[
l
];

2170 
	g™ems
[
l
] = 
™ems
[Ö+
r
)/2];

2171 
	g™ems
[(
l
+
r
)/2] = 
tmp
;

2173 
	gÏ¡
 = 
l
;

2174 
	gi
 = 
l
+1; i <ğ
r
; i++)

2175 ià(
	g™ems
[
i
]->
	ggaš
 > i‹ms[
l
]->gain)

2177 ++
	gÏ¡
;

2178 
Exi¡FÜmuÏ
* 
	gtmp
 = 
™ems
[
Ï¡
];

2179 
	g™ems
[
Ï¡
] = 
™ems
[
i
];

2180 
	g™ems
[
i
] = 
tmp
;

2183 
	gtmp
 = 
™ems
[
l
];

2184 
	g™ems
[
l
] = 
™ems
[
Ï¡
];

2185 
	g™ems
[
Ï¡
] = 
tmp
;

2186 
rquicksÜt
(
exi¡FÜmuÏs
, 
l
, 
Ï¡
-1);

2187 
rquicksÜt
(
exi¡FÜmuÏs
, 
Ï¡
+1, 
r
);

2191 
šlše
 
rquicksÜt
(
A¼ay
<
Exi¡FÜmuÏ
*>& 
ef
)

2192 { 
rquicksÜt
(
ef
, 0,ƒf.
size
()-1); }

2198 
šlše
 
ev®u©eExi¡FÜmuÏ
(
Exi¡FÜmuÏ
* cÚ¡& 
ef
,

2199 cÚ¡ 
boŞ
& 
compu‹CouÁsOÆy
,

2200 
A¼ay
<A¼ay<A¼ay<
IndexAndCouÁ
*> > >* cÚ¡ & 
ŸcA¼aysP”Domaš
,

2201 cÚ¡ & 
´evScÜe
)

2203 
boŞ
 
	gundo
 = !
compu‹CouÁsOÆy
;

2204 
boŞ
 
	gev®GašL—ºWts
 = !
compu‹CouÁsOÆy
;

2206 
	gA¼ay
<*> 
	gidxPŒs
;

2207 
	gA¼ay
<
	gUndoInfo
*>* 
	gundoInfos
 = (
undo
è? 
Ãw
 
A¼ay
<
UndoInfo
*> : 
NULL
;

2211 
	gA¼ay
<A¼ay<
	gCÏu£
*> >& 
	gúfCÏu£sFÜDomašs
 = 
ef
->
úfCÏu£sFÜDomašs
;

2212 
	gd
 = 0; d < 
	gúfCÏu£sFÜDomašs
.
size
(); d++)

2214 
	gA¼ay
<
	gCÏu£
*>& 
	gúfCÏu£s
 = 
úfCÏu£sFÜDomašs
[
d
];

2215 
MLN
* 
	gmÊ
 = (*
mÊs_
)[
d
];

2216 
	gk
 = 0; k < 
	gúfCÏu£s
.
size
(); k++)

2218 
CÏu£
* 
	gc
 = 
úfCÏu£s
[
k
];

2222 ià(!
	gundo
 && 
	gmÊ
->
cÚšsCÏu£
(
c
)) ;

2223 * 
	gtmpCÏu£IdxInMLN
 = 
Ãw
 (
mÊ
->
g‘NumCÏu£s
(è+ 
k
);

2224 
	gidxPŒs
.
­³nd
(
tmpCÏu£IdxInMLN
);

2225 ià(
	gŸcA¼aysP”Domaš
)

2227 
	gA¼ay
<A¼ay<
	gIndexAndCouÁ
*> >& 
	gŸcA¼ays
 = (*
ŸcA¼aysP”Domaš
)[
d
];

2228 
as£¹
(
ŸcA¼ays
.
size
(è=ğ
úfCÏu£s
.size());

2229 
	gA¼ay
<
	gIndexAndCouÁ
*>& 
	gŸcA¼ay
 = 
ŸcA¼ays
[
k
];

2231 
	gA¼ay
<
	gUndoInfo
*> 
	gtmpUndoInfos
;

2232 
¶lCouÁsFÜExi¡FÜmuÏ
(
c
, 
d
, 
tmpCÏu£IdxInMLN
, &
tmpUndoInfos
);

2233 
	gi
 = 0; i < 
	gtmpUndoInfos
.
size
(); i++)

2234 
	gŸcA¼ay
.
­³nd
(
tmpUndoInfos
[
i
]->
afãùedA¼
->
Ï¡I‹m
());

2235 ià(
	gundoInfos
èundoInfos->
­³nd
(
tmpUndoInfos
);

2236 
	gtmpUndoInfos
.
d–‘eI‹msAndCË¬
();

2239 
¶lCouÁsFÜExi¡FÜmuÏ
(
c
, 
d
, 
tmpCÏu£IdxInMLN
, 
undoInfos
);

2245 ià(
	gev®GašL—ºWts
)

2247 
	gA¼ay
<> 
	g´iÜM—ns
, 
	g´iÜStdDevs
;

2251 
	gnumAdded
 = (
šdexT¿ns_
è? 1 : 
úfCÏu£sFÜDomašs
[0].
size
();

2252 
£tPriÜM—nsStdDevs
(
´iÜM—ns
, 
´iÜStdDevs
, 
numAdded
, 
NULL
);

2254 ià(
	ghasPriÜ_
)

2255 
	g¶l_
->
£tM—nsStdDevs
(
´iÜM—ns
.
size
(),…riÜM—ns.
g‘I‹ms
(),

2256 
´iÜStdDevs
.
g‘I‹ms
());

2258 
	g¶l_
->
£tM—nsStdDevs
(-1, 
NULL
, NULL);

2260 ià(
	gšdexT¿ns_
)

2262 
	gd
 = 0; d < 
	gúfCÏu£sFÜDomašs
.
size
(); d++)

2264 
	gnumCNFCÏu£s
 = 
úfCÏu£sFÜDomašs
[
d
].
size
();

2265 
	gšdexT¿ns_
->
­³ndCÏu£IdxToCÏu£FÜmuÏIdxs
(1, 
numCNFCÏu£s
);

2269 
	g™”
; 
boŞ
 
	g”rÜ
; 
	g–­£dSec
;

2270 
	gnumCÏu£sFÜmuÏs
 = 
g‘NumCÏu£sFÜmuÏs
();

2271 
	gA¼ay
<>* 
	gwts
 = &(
ef
->
wts
);

2272 
	gwts
->
growToSize
(
numCÏu£sFÜmuÏs
 + 
numAdded
 + 1);

2274 
	gÃwScÜe
 = 
maximizeScÜe
(
numCÏu£sFÜmuÏs
, 
numAdded
, 
wts
,

2275 
NULL
, NULL, 
™”
, 
”rÜ
, 
–­£dSec
);

2277 ià(
	gšdexT¿ns_
)

2279 
	gd
 = 0; d < 
	gúfCÏu£sFÜDomašs
.
size
(); d++)

2281 
	gnumCNFCÏu£s
 = 
úfCÏu£sFÜDomašs
[
d
].
size
();

2282 
	gšdexT¿ns_
->
»moveCÏu£IdxToCÏu£FÜmuÏIdxs
(1, 
numCNFCÏu£s
);

2286 
	gtÙ®Wt
 = 0;

2287 
	gi
 = 0; i < 
	gnumAdded
; i++)

2288 
	gtÙ®Wt
 +ğ(*
wts
)[
numCÏu£sFÜmuÏs
+
i
+1];

2290 
	g³ÇÉy
 = 
ef
->
numP»ds
 * 
³ÇÉy_
;

2292 
	gef
->
	ggaš
 = 
ÃwScÜe
-
´evScÜe
-
³ÇÉy
;

2293 
	gef
->
	gwt
 = 
tÙ®Wt
;

2294 
	gef
->
	gÃwScÜe
 = 
ÃwScÜe
;

2296 ià(
	g”rÜ
è{
	gÃwScÜe
=
´evScÜe
;
	gcout
<<"LBFGSB faedØfšd wts"<<
	g’dl
;}

2297 
´štNewScÜe
(
ef
->
fÜmuÏ
, 
™”
, 
–­£dSec
, 
ÃwScÜe
,

2298 
ÃwScÜe
-
´evScÜe
, 
³ÇÉy
, 
tÙ®Wt
);

2301 ià(
	gundo
è{ 
	g¶l_
->
undoAµ’dRemoveCouÁs
(
undoInfos
); 
d–‘e
 
	gundoInfos
; }

2302 
	gidxPŒs
.
d–‘eI‹msAndCË¬
();

2307 
ev®u©eExi¡FÜmuÏs
(
A¼ay
<
Exi¡FÜmuÏ
*>& 
exi¡FÜmuÏs
,

2308 
A¼ay
<
Exi¡FÜmuÏ
*>& 
highGašWtFÜmuÏs
,

2309 cÚ¡ & 
´evScÜe
)

2311 ià(
	gexi¡FÜmuÏs
.
size
() == 0)  0;

2312 
	gi
 = 0; i < 
	gexi¡FÜmuÏs
.
size
(); i++)

2313 
ev®u©eExi¡FÜmuÏ
(
exi¡FÜmuÏs
[
i
], 
çl£
, 
NULL
, 
´evScÜe
);

2315 
	gA¼ay
<
	gExi¡FÜmuÏ
*> 
tmp
(
exi¡FÜmuÏs
);

2316 
rquicksÜt
(
tmp
);

2317 
	gmšGaš
 = 
DBL_MAX
;

2318 
	gcout
 << "ev®u©edƒxi¡’tŸÈfÜmuÏ " << 
	g’dl
;

2319 
	gcout
 << "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@" << 
	g’dl
;

2320 
	gi
 = 0; i < 
	gtmp
.
size
(); i++)

2322 
	gexi¡FÜmuÏs
[
i
] = 
tmp
[i];

2323 
	ggaš
 = 
exi¡FÜmuÏs
[
i
]->
gaš
;

2324 
	gwt
 = 
exi¡FÜmuÏs
[
i
]->
wt
;

2325 
	gcout
 << 
	gi
 << "\t" << 
	gexi¡FÜmuÏs
[
i
]->
	gfÜmuÏ
 << 
	g’dl


2326 << "\tgaš = " << 
	ggaš
 << ", wˆğ" << 
	gwt
 << ", op = OP_ADD"

2327 << 
	g’dl
;

2328 ià(
	ggaš
 > 
	gmšGaš_
 && 
	gwt
 >ğ
mšWt_
)

2330 
highGašWtFÜmuÏs
.
­³nd
(
tmp
[
i
]);

2331 ià(
	ggaš
 < 
	gmšGaš
èmšGaš = 
gaš
;

2334 
	gcout
 << "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@" << 
	g’dl
 <<ƒndl;

2336 ià(
	gmšGaš
 =ğ
DBL_MAX
è
mšGaš
 = 0;

2337  
	gmšGaš
;

2341 
šlše
 
	$­³ndExi¡FÜmuÏToMLNs
(
Exi¡FÜmuÏ
* cÚ¡ & 
ef
)

2343 
A¼ay
<A¼ay<A¼ay<
IndexAndCouÁ
*> > > 
ŸcsP”Domaš
;

2344 
A¼ay
<A¼ay<
CÏu£
*> >& 
úfCÏu£sFÜDomašs
 = 
ef
->cnfClausesForDomains;

2345 
ŸcsP”Domaš
.
	`growToSize
(
úfCÏu£sFÜDomašs
.
	`size
());

2346 
d
 = 0; d < 
úfCÏu£sFÜDomašs
.
	`size
(); d++)

2348 
A¼ay
<A¼ay<
IndexAndCouÁ
*> >& 
ŸcA¼ays
 = 
ŸcsP”Domaš
[
d
];

2349 
ŸcA¼ays
.
	`growToSize
Ğ
úfCÏu£sFÜDomašs
[
d
].
	`size
() );

2351 
	`ev®u©eExi¡FÜmuÏ
(
ef
, 
Œue
, &
ŸcsP”Domaš
, 0);

2353 
A¼ay
<>& 
wts
 = 
ef
->wts;

2354 
numCÏu£sFÜmuÏs
 = 
	`g‘NumCÏu£sFÜmuÏs
();

2358 ià(
šdexT¿ns_
 =ğ
NULL
è
	`upd©eWts
(
wts
, NULL, NULL);

2361 
d
 = 0; d < 
úfCÏu£sFÜDomašs
.
	`size
(); d++)

2363 
MLN
* 
mÊ
 = (*
mÊs_
)[
d
];

2364 
A¼ay
<A¼ay<
IndexAndCouÁ
*> >& 
ŸcA¼ays
 = 
ŸcsP”Domaš
[
d
];

2365 
A¼ay
<
CÏu£
*>& 
úfCÏu£s
 = 
úfCÏu£sFÜDomašs
[
d
];

2367 
i
 = 0; i < 
úfCÏu£s
.
	`size
(); i++)

2369 
idx
;

2372 
wt
 = (
šdexT¿ns_
è? 0 : 
wts
[
numCÏu£sFÜmuÏs
+
i
+1];

2375 
mÊ
->
	`­³ndCÏu£
(
ef
->
fÜmuÏ
, 
Œue
, 
Ãw
 
	`CÏu£
(*
úfCÏu£s
[
i
]),

2376 
wt
, 
çl£
, 
idx
, false, false, false, 0.0);

2377 
mÊ
->
	`£tFÜmuÏPriÜM—n
(
ef
->
fÜmuÏ
, 
´iÜM—n_
);

2378 ((
MLNCÏu£Info
*)
mÊ
->
	`g‘MLNCÏu£Info
(
idx
))->
´iÜM—n


2379 +ğ
´iÜM—n_
/
úfCÏu£s
.
	`size
();

2381 * 
idxPŒ
 = 
mÊ
->
	`g‘MLNCÏu£InfoIndexPŒ
(
idx
);

2382 
A¼ay
<
IndexAndCouÁ
*>& 
Ÿcs
 = 
ŸcA¼ays
[
i
];

2383 
j
 = 0; j < 
Ÿcs
.
	`size
(); j++èŸcs[j]->
šdex
 = 
idxPŒ
;

2386 
	`as£¹
(
¶l_
->
	`checkNoR•—‹dIndex
());

2389 ià(
šdexT¿ns_
)

2392 
A¼ay
<
¡ršg
> 
­³ndedFÜmuÏ
;

2393 
­³ndedFÜmuÏ
.
	`­³nd
(
ef
->
fÜmuÏ
);

2394 
	`upd©eWts
(
wts
, 
NULL
, &
­³ndedFÜmuÏ
);

2396 
šdexT¿ns_
->
	`ü—‹CÏu£IdxToCÏu£FÜmuÏIdxsM­
();

2399 
cout
 << "Modif›d MLN: Aµ’ded fÜmuÏØMLN: " << 
ef
->
fÜmuÏ
 << 
’dl
;

2400 
	}
}

2403 
šlše
 
boŞ
 
efãùExi¡FÜmuÏOnMLNs
(
Exi¡FÜmuÏ
* 
ef
,

2404 
A¼ay
<
Exi¡FÜmuÏ
*>& 
exi¡FÜmuÏs
,

2405 & 
scÜe
)

2407 
	gcout
 << "efãùšgƒxi¡’tŸÎy quªtif›d fÜmuÏ " << 
	gef
->
	gfÜmuÏ


2408 << " oÀMLN..." << 
	g’dl
;

2409 
­³ndExi¡FÜmuÏToMLNs
(
ef
);

2410 
	gscÜe
 = 
ef
->
ÃwScÜe
;

2411 
´štMLNCÏu£sW™hWeightsAndScÜe
(
scÜe
, 
™”_
);

2412 
´štMLNToFe
(
NULL
, 
™”_
);

2414 
	gr
 = 
exi¡FÜmuÏs
.
fšd
(
ef
);

2415 
as£¹
(
r
 >= 0);

2416 
Exi¡FÜmuÏ
* 
	grf
 = 
exi¡FÜmuÏs
.
»moveI‹mFa¡DisÜd”
(
r
);

2417 
as£¹
(
rf
 =ğ
ef
);

2418 
d–‘e
 
	grf
;

2419  
	gŒue
;

2423 
boŞ
 
efãùBe¡Cªdid©eOnMLNs
(
A¼ay
<
CÏu£
*>& 
be¡Cªdid©es
,

2424 
A¼ay
<
Exi¡FÜmuÏ
*>& 
exi¡FÜmuÏs
,

2425 
A¼ay
<
Exi¡FÜmuÏ
*>& 
highGašWtFÜmuÏs
,

2426 & 
scÜe
)

2428 
	gcout
 << "effecting best candidate‡mongƒxistential formulas‡nd "

2429 << "be¡ cªdid©e Ú MLN..." << 
	g’dl
 <<ƒndl;

2431 
	ga
 = 0, 
	gb
 = 0;

2432 
boŞ
 
	gok
 = 
çl£
;

2433 
	gnumCªds
 = 
be¡Cªdid©es
.
size
(è+ 
highGašWtFÜmuÏs
.size();

2434 
	gi
 = 0; i < 
	gnumCªds
; i++)

2436 ià(
	ga
 >ğ
be¡Cªdid©es
.
size
())

2438 ià((
ok
 = 
efãùExi¡FÜmuÏOnMLNs
(
highGašWtFÜmuÏs
[
b
++],

2439 
exi¡FÜmuÏs
, 
scÜe
))) ;

2442 ià(
	gb
 >ğ
highGašWtFÜmuÏs
.
size
())

2444 
cout
 << "efãùšg be¡ cªdid©" << 
a
 << " oÀMLN..." << 
’dl
;

2445 ià((
	gok
 = 
efãùBe¡Cªdid©eOnMLNs
(
be¡Cªdid©es
[
a
++], 
scÜe
))) ;

2446 
	gcout
 << "çedØefãù cªdid©Ú MLN." << 
	g’dl
;

2447 
d–‘e
 
	gbe¡Cªdid©es
[
a
-1];

2450 ià(
	ghighGašWtFÜmuÏs
[
b
]->
	ggaš
 >

2451 
	gbe¡Cªdid©es
[
a
]->
g‘AuxCÏu£D©a
()->
	ggaš
)

2453 ià((
	gok
 = 
efãùExi¡FÜmuÏOnMLNs
(
highGašWtFÜmuÏs
[
b
++],

2454 
exi¡FÜmuÏs
, 
scÜe
))) ;

2458 
	gcout
 << "efãùšg be¡ cªdid©" << 
	ga
 << " oÀMLN..." << 
	g’dl
;

2459 ià((
	gok
 = 
efãùBe¡Cªdid©eOnMLNs
(
be¡Cªdid©es
[
a
++], 
scÜe
))) ;

2460 
	gcout
 << "çedØefãù cªdid©Ú MLN." << 
	g’dl
;

2461 
d–‘e
 
	gbe¡Cªdid©es
[
a
-1];

2465 
	gi
 = 
a
; i < 
	gbe¡Cªdid©es
.
size
(); i++è
d–‘e
 be¡Cªdid©es[
i
];

2466  
	gok
;

2514 
	g´iv©e
:

2517 
MLN
* 
mÊ0_
;

2518 
	gA¼ay
<
	gMLN
*>* 
	gmÊs_
;

2519 
boŞ
 
	g¡¬tFromEm±yMLN_
;

2520 
¡ršg
 
	goutMLNFeName_
;

2521 
	gA¼ay
<
	gDomaš
*>* 
	gdomašs_
;

2522 
	gA¼ay
<
	gP»diÿ‹
*>* 
	g´eds_
;

2523 
	gA¼ay
<
	gboŞ
>* 
	g¬eNÚEvidP»ds_
;

2524 
CÏu£FaùÜy
* 
	gşau£FaùÜy_
;

2526 
boŞ
 
	gÿcheCÏu£s_
;

2527 
boŞ
 
	gÜigCacheCÏu£s_
;

2528 
CÏu£HashA¼ay
* 
	gÿchedCÏu£s_
;

2529 
	gÿcheSizeMB_
;

2530 
	gmaxCacheSizeMB_
;

2532 
boŞ
 
	gŒyAÎFls_
;

2533 
boŞ
 
	g§m¶eCÏu£s_
;

2534 
boŞ
 
	gÜigSam¶eCÏu£s_
;

2536 
P£udoLogLik–ihood
* 
	g¶l_
;

2537 
boŞ
 
	ghasPriÜ_
;

2538 
	g´iÜM—n_
;

2539 
	g´iÜStdDev_
;

2540 
boŞ
 
	gwtP»dsEqu®ly_
;

2542 
LBFGSB
* 
	glbfgsb_
;

2543 
	glbMaxI‹r_
;

2544 
	glbCÚvTh»sh_
;

2545 
	gloo£MaxI‹r_
;

2546 
	gloo£CÚvTh»sh_
;

2548 
	gb—mSize_
;

2549 
	gbe¡GašUnchªgedLim™_
;

2550 
	gnumE¡Be¡CÏu£s_
;

2551 
	gmšGaš_
;

2552 
	gmšWt_
;

2553 
	g³ÇÉy_
;

2555 
boŞ
 
	g§m¶eGndP»ds_
;

2556 
	gäaùiÚ_
;

2557 
	gmšGndP»dSam¶es_
;

2558 
	gmaxGndP»dSam¶es_
;

2560 
boŞ
 
	g»Ev®Be¡CªdsW™hTightP¬ams_
;

2562 
Tim”
 
	gtim”_
;

2563 
	gÿndCÁ_
;

2565 
	g™”_
;

2566 
	gbs™”_
;

2567 
	g¡¬tSec_
;

2573 
IndexT¿n¦©Ü
* 
	gšdexT¿ns_
;

2575 
boŞ
 
	g¡ruùG¿dDesûÁ_
;

2576 
boŞ
 
	gw™hEM_
;

	@learnwts/discriminativelearner.h

67 #iâdeà
DISCRIMINATIVE_LEARNER_H_OCT_30_2005


68 
	#DISCRIMINATIVE_LEARNER_H_OCT_30_2005


	)

70 
	~"šãr.h
"

71 
	~"şau£.h
"

72 
	~"tim”.h
"

73 
	~"šdexŒª¦©Ü.h
"

74 
	~"maxw®k§t.h
"

75 
	~"bp.h
"

77 cÚ¡ 
boŞ
 
	gdldebug
 = 
çl£
;

78 cÚ¡ 
	gEPSILON
 = .00001;

80 #iâdeà
PI


81 
	#PI
 3.14159265

	)

84 
	$dÙ´od
(cÚ¡ * 
v1
, cÚ¡ * 
v2
, 
dim
)

86 
tÙ®
 = 0.0;

87 
i
 = 0; i < 
dim
; i++)

88 
tÙ®
 +ğ
v1
[
i
] * 
v2
[i];

89  
tÙ®
;

90 
	}
}

92 
dÙ´od
(cÚ¡ * 
v1
, cÚ¡ 
A¼ay
<>& 
v2
, 
dim
)

94 
	gtÙ®
 = 0.0;

95 
	gi
 = 0; i < 
	gdim
; i++)

96 
	gtÙ®
 +ğ
v1
[
i
] * 
v2
[i];

97  
	gtÙ®
;

100 
dÙ´od
(cÚ¡ 
A¼ay
<>& 
v1
, cÚ¡ A¼ay<>& 
v2
, 
dim
)

102 
	gtÙ®
 = 0.0;

103 
	gi
 = 0; i < 
	gdim
; i++)

105 
	gtÙ®
 +ğ
v1
[
i
] * 
v2
[i];

107  
	gtÙ®
;

110 
	$vËn
(cÚ¡ * 
v1
, 
dim
)

111 {  
	`sq¹
(
	`dÙ´od
(
v1
,v1,
dim
)); 
	}
}

112 
vËn
(cÚ¡ 
A¼ay
<>& 
v1
, 
dim
)

113 {  
sq¹
(
dÙ´od
(
v1
,v1,
dim
)); }

115 
boŞ
 
	$isOuutI‹r
(
™”
)

117 
™”
 % 10 == 0)

118 
™”
 /= 10;

120 ià(
™”
 == 1 || iter == 2 || iter == 5)

121  
Œue
;

123  
çl£
;

124 
	}
}

133 şas 
	cDisüimš©iveL—º”


135 
	mpublic
:

158 
Disüimš©iveL—º”
(cÚ¡ 
A¼ay
<
Inã»nû
*>& 
šã»nûs
,

159 cÚ¡ 
SŒšgHashA¼ay
& 
nÚEvidP»dNames
,

160 
IndexT¿n¦©Ü
* cÚ¡ & 
idxT¿ns
,

161 cÚ¡ 
boŞ
& 
ÏzyInã»nû
, cÚ¡ boŞ& 
w™hEM
,

162 cÚ¡ 
A¼ay
<
Inã»nû
*>& 
emInã»nûs
,

163 cÚ¡ 
boŞ
& 
»sÿËG¿d›Á
, cÚ¡ & 
m‘hod
,

164 cÚ¡ & 
Ïmbda
, cÚ¡ 
boŞ
& 
´ecÚd™iÚCG
,

165 cÚ¡ & 
maxLambda
, cÚ¡ & 
mš_Î_chªge
)

166 : 
domašCÁ_
(
šã»nûs
.
size
()), 
idxT¿ns_
(
idxT¿ns
),

167 
ÏzyInã»nû_
(
ÏzyInã»nû
), 
»sÿËG¿d›Á_
(
»sÿËG¿d›Á
),

168 
m‘hod_
(
m‘hod
),

171 
cg_Ïmbda_
(
Ïmbda
), 
´ecÚd™iÚCG_
(
´ecÚd™iÚCG
),

172 
maxBackŒacks_
(1000), 
backŒackCouÁ_
(0),

173 
cg_max_Ïmbda_
(
maxLambda
), 
mš_Î_chªge_
(
mš_Î_chªge
), 
	$w™hEM_
(
w™hEM
)

175 
cout
 << 
’dl
 << "Constructing discriminative†earner..." <<ƒndl <<ƒndl;

177 
šã»nûs_
.
	`­³nd
(
šã»nûs
);

178 
emInã»nûs_
.
	`­³nd
(
emInã»nûs
);

179 
logOddsP”Domaš_
.
	`growToSize
(
domašCÁ_
);

180 
şau£CÁP”Domaš_
.
	`growToSize
(
domašCÁ_
);

182 
i
 = 0; i < 
domašCÁ_
; i++)

185 ià((
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
i
])))

187 
şau£CÁP”Domaš_
[
i
] =

188 
bp_
->
	`g‘FaùÜG¿ph
()->
	`g‘MLN
()->
	`g‘NumCÏu£s
();

192 
şau£CÁP”Domaš_
[
i
] =

193 
šã»nûs_
[
i
]->
	`g‘S‹
()->
	`g‘MLN
()->
	`g‘NumCÏu£s
();

195 
logOddsP”Domaš_
[
i
].
	`growToSize
(
şau£CÁP”Domaš_
[i], 0);

198 
tÙ®TrueCÁs_
.
	`growToSize
(
domašCÁ_
);

199 
tÙ®F®£CÁs_
.
	`growToSize
(
domašCÁ_
);

200 
deçuÉTrueCÁs_
.
	`growToSize
(
domašCÁ_
);

201 
deçuÉF®£CÁs_
.
	`growToSize
(
domašCÁ_
);

202 
»ËvªtCÏu£sP”Domaš_
.
	`growToSize
(
domašCÁ_
);

205 
	`fšdR–evªtCÏu£s
(
nÚEvidP»dNames
);

206 
	`fšdR–evªtCÏu£sFÜmuÏs
();

209 
	`š™ŸlizeWts
(
nÚEvidP»dNames
);

212 
i
 = 0; i < 
šã»nûs_
.
	`size
(); i++)

215 ià((
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
i
])))

221 
šã»nûs_
[
i
]->
	`š™
();

225 ià(
w™hEM_
)

228 
i
 = 0; i < 
emInã»nûs_
.
	`size
(); i++)

230 
V¬ŸbËS‹
* 
¡©e
 = 
šã»nûs_
[
i
]->
	`g‘S‹
();

231 cÚ¡ 
Domaš
* 
domaš
 = 
¡©e
->
	`g‘Domaš
();

232 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
kÃP»ds
 = 
¡©e
->
	`g‘KÃP»ds
();

233 cÚ¡ 
A¼ay
<
TruthV®ue
>* 
kÃP»dV®ues
 = 
¡©e
->
	`g‘KÃP»dV®ues
();

236 
domaš
->
	`g‘DB
()->
	`£tV®uesToGiv’V®ues
(
kÃP»ds
, 
kÃP»dV®ues
);

238 
emInã»nûs_
[
i
]->
	`š™
();

241 
A¼ay
<
TruthV®ue
> 
tmpV®ues
;

242 
tmpV®ues
.
	`growToSize
(
kÃP»ds
->
	`size
());

243 
domaš
->
	`g‘DB
()->
	`£tV®uesToUnknown
(
kÃP»ds
, &
tmpV®ues
);

248 ~
	$Disüimš©iveL—º”
()

250 
i
 = 0; i < 
ŒašTrueCÁs_
.
	`size
(); i++)

252 
d–‘e
[] 
ŒašTrueCÁs_
[
i
];

253 
d–‘e
[] 
ŒašF®£CÁs_
[
i
];

255 ià(
w™hEM_
)

257 
i
 = 0; i < 
emDiffCÁs_
.
	`size
(); i++)

259 
d–‘e
[] 
emDiffCÁs_
[
i
];

262 
	}
}

265 
	$£tM—nsStdDevs
(cÚ¡ & 
¬rSize
, cÚ¡ * cÚ¡ & 
´iÜM—ns
,

266 cÚ¡ * cÚ¡ & 
´iÜStdDevs
)

268 ià(
¬rSize
 < 0)

270 
u£PriÜ_
 = 
çl£
;

271 
´iÜM—ns_
 = 
NULL
;

272 
´iÜStdDevs_
 = 
NULL
;

277 
u£PriÜ_
 = 
Œue
;

278 
´iÜM—ns_
 = 
´iÜM—ns
;

279 
´iÜStdDevs_
 = 
´iÜStdDevs
;

285 
	}
}

288 
	$£tMLNWeights
(* cÚ¡& 
weights
)

291 ià(
idxT¿ns_
 =ğ
NULL
)

293 
şau£CÁ
 = 
şau£CÁP”Domaš_
[0];

294 
i
 = 0; i < 
domašCÁ_
; i++)

296 
	`as£¹
(
şau£CÁP”Domaš_
[
i
] =ğ
şau£CÁ
);

297 cÚ¡ 
MLN
* 
mÊ
;

300 ià((
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
i
])))

302 
mÊ
 = 
bp_
->
	`g‘FaùÜG¿ph
()->
	`g‘MLN
();

306 
mÊ
 = 
šã»nûs_
[
i
]->
	`g‘S‹
()->
	`g‘MLN
();

312 
j
 = 0; j < 
şau£CÁ
; j++)

314 
CÏu£
* 
c
 = (CÏu£*è
mÊ
->
	`g‘CÏu£
(
j
);

315 
c
->
	`£tWt
(
weights
[
j
]);

321 
A¼ay
<A¼ay<> >* 
wtsP”Domaš
 = 
idxT¿ns_
->
	`g‘WtsP”Domaš
();

322 cÚ¡ 
A¼ay
<A¼ay<A¼ay<
IdxDiv
>*> >* 
cIdxToCFIdxsP”Domaš


323 ğ
idxT¿ns_
->
	`g‘CÏu£IdxToCÏu£FÜmuÏIdxsP”Domaš
();

325 
i
 = 0; i < 
domašCÁ_
; i++)

327 
A¼ay
<>& 
wts
 = (*
wtsP”Domaš
)[
i
];

328 
	`mem£t
((*)
wts
.
	`g‘I‹ms
(), 0, wts.
	`size
()*());

331 
j
 = 0; j < 
wts
.
	`size
(); j++)

333 
A¼ay
<
IdxDiv
>* 
idxDivs
 = (*
cIdxToCFIdxsP”Domaš
)[
i
][
j
];

334 
k
 = 0; k < 
idxDivs
->
	`size
(); k++)

335 
wts
[
j
] +ğ
weights
[ (*
idxDivs
)[
k
].
idx
 ] / (*idxDivs)[k].
div
;

339 
i
 = 0; i < 
domašCÁ_
; i++)

341 
A¼ay
<
boŞ
>& 
»ËvªtCÏu£s
 = 
»ËvªtCÏu£sP”Domaš_
[
i
];

342 
şau£CÁ
 = 
şau£CÁP”Domaš_
[
i
];

343 
A¼ay
<>& 
wts
 = (*
wtsP”Domaš
)[
i
];

344 
	`as£¹
(
wts
.
	`size
(è=ğ
şau£CÁ
);

345 cÚ¡ 
MLN
* 
mÊ
;

348 ià((
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
i
])))

350 
mÊ
 = 
bp_
->
	`g‘FaùÜG¿ph
()->
	`g‘MLN
();

354 
mÊ
 = 
šã»nûs_
[
i
]->
	`g‘S‹
()->
	`g‘MLN
();

357 
j
 = 0; j < 
şau£CÁ
; j++)

359 
CÏu£
* 
c
 = (CÏu£*è
mÊ
->
	`g‘CÏu£
(
j
);

360 ià(
»ËvªtCÏu£s
[
j
]è
c
->
	`£tWt
(
wts
[j]);

361 
c
->
	`£tWt
(0);

365 
	}
}

368 
	$£tLogOddsWeights
(* 
weights
, 
numWeights
)

371 ià(
idxT¿ns_
 =ğ
NULL
)

373 
i
 = 0; i < 
domašCÁ_
; i++)

375 
A¼ay
<>& 
logOdds
 = 
logOddsP”Domaš_
[
i
];

376 
	`as£¹
(
numWeights
 =ğ
logOdds
.
	`size
());

377 
j
 = 0; j < 
logOdds
.
	`size
(); j++è
weights
[j] +=†ogOdds[j];

382 cÚ¡ 
A¼ay
<A¼ay<A¼ay<
IdxDiv
>*> >* 
cIdxToCFIdxsP”Domaš


383 ğ
idxT¿ns_
->
	`g‘CÏu£IdxToCÏu£FÜmuÏIdxsP”Domaš
();

385 
A¼ay
<> 
numLogOdds
;

386 
A¼ay
<> 
wtsFÜDomaš
;

387 
numLogOdds
.
	`growToSize
(
numWeights
);

388 
wtsFÜDomaš
.
	`growToSize
(
numWeights
);

390 
i
 = 0; i < 
domašCÁ_
; i++)

392 
	`mem£t
((*)
numLogOdds
.
	`g‘I‹ms
(), 0,‚umLogOdds.
	`size
()*());

393 
	`mem£t
((*)
wtsFÜDomaš
.
	`g‘I‹ms
(), 0,

394 
wtsFÜDomaš
.
	`size
()*());

396 
A¼ay
<>& 
logOdds
 = 
logOddsP”Domaš_
[
i
];

400 
j
 = 0; j < 
logOdds
.
	`size
(); j++)

402 
A¼ay
<
IdxDiv
>* 
idxDivs
 =(*
cIdxToCFIdxsP”Domaš
)[
i
][
j
];

403 
k
 = 0; k < 
idxDivs
->
	`size
(); k++)

405 
wtsFÜDomaš
[ (*
idxDivs
)[
k
].
idx
 ] +ğ
logOdds
[
j
];

406 
numLogOdds
[ (*
idxDivs
)[
k
].
idx
 ]++;

410 
j
 = 0; j < 
numWeights
; j++)

411 ià(
numLogOdds
[
j
] > 0è
weights
[j] +ğ
wtsFÜDomaš
[j]/numLogOdds[j];

415 
i
 = 0; i < 
numWeights
; i++)

416 
weights
[
i
] /ğ
domašCÁ_
;

417 
	}
}

420 
	$£tRªdGaussWeights
(* 
weights
, 
numWeights
, cÚ¡ * 
m—ns
,

421 cÚ¡ * 
¡devs
)

423 ià(
dldebug
è
cout
 << "S‘tšg„ªdom weights: " << 
’dl
;

424 
i
 = 0; i < 
numWeights
; i++)

426 
weights
[
i
] = 
ExtRªdom
::
	`gaussRªdom
(
m—ns
[i], 
¡devs
[i]);

427 
cout
 << 
weights
[
i
] << 
’dl
;

429 
	}
}

431 
	$£tRªdomWeights
(* 
weights
, 
numWeights
, cÚ¡ & 
mš
,

432 cÚ¡ & 
max
)

434 ià(
dldebug
è
cout
 << "S‘tšg„ªdom weights: " << 
’dl
;

435 
i
 = 0; i < 
numWeights
; i++)

437 
weights
[
i
] = (
max
 - 
mš
)*()
	`¿nd
()/()
RAND_MAX
 + min;

438 
cout
 << 
weights
[
i
] << 
’dl
;

440 
	}
}

443 
g‘V¬Ÿnû
(
A¼ay
<>& 
v¬Ÿnû
, 
numWeights
)

445 ià(
	gdldebug
)

446 
	gcout
 << "V¬Ÿnûs:" << 
	g’dl
;

449 
	gşau£no
 = 0; cÏu£nØ< 
	gnumWeights
; clauseno++)

451 
	gv¬Ÿnû
[
şau£no
] = 0.0;

454 ià(
	gu£PriÜ_
)

456 
	gsd
 = 
´iÜStdDevs_
[
şau£no
];

457 
	gv¬Ÿnû
[
şau£no
] = 1.0/(
sd
 * sd);

461 
	gi
 = 0; i < 
	gdomašCÁ_
; i++)

463 cÚ¡ 
	gA¼ay
<>* 
	gŒueCÁs
 = 
šã»nûs_
[
i
]->
g‘CÏu£TrueCÁs
();

464 cÚ¡ 
	gA¼ay
<>* 
	gŒueSqCÁs
 = 
šã»nûs_
[
i
]->
g‘CÏu£TrueSqCÁs
();

465 
	gtÙ®Sam¶es
 = 
šã»nûs_
[
i
]->
g‘NumSam¶es
();

467 
	gx
 = (*
ŒueCÁs
)[
şau£no
];

468 
	gxsq
 = (*
ŒueSqCÁs
)[
şau£no
];

469 
	gn
 = 
tÙ®Sam¶es
;

472 
	gv¬Ÿnû
[
şau£no
] +ğ
xsq
/
n
 - (
x
/n)*(x/n);

475 ià(
	gdldebug
)

476 
	gcout
 << 
	gşau£no
 << ": " << 
	gv¬Ÿnû
[
şau£no
] << 
	g’dl
;

481 cÚ¡ 
	gA¼ay
<>* 
g‘HessŸnVeùÜProduù
(cÚ¡ 
A¼ay
<>& 
d
)

484 cÚ¡ 
	gA¼ay
<>* 
	gHd
 = 
šã»nûs_
[0]->
g‘HessŸnVeùÜProduù
(
d
);

485 
	gi
 = 1; i < 
	gdomašCÁ_
; i++)

487 cÚ¡ 
	gA¼ay
<>* 
	gHd_i
 = 
šã»nûs_
[
i
]->
g‘HessŸnVeùÜProduù
(
d
);

488 
	gj
 = 0; j < 
	gHd
->
size
(); j++)

489 (*
	gHd
)[
j
] +ğ(*
Hd_i
)[j];

490 
d–‘e
 
	gHd_i
;

493  
	gHd
;

497 
compu‹Quad¿ticS‹pL’gth
(* 
g¿d›Á
, cÚ¡ 
A¼ay
<>& 
d
,

498 cÚ¡ 
A¼ay
<>* 
Hd
, 
Ïmbda
)

500 
	gnumWeights
 = 
d
.
size
();

503 
	gdHd
 = 
dÙ´od
(
d
, (*
Hd
), 
numWeights
);

504 
	gdd
 = 
dÙ´od
(
d
, d, 
numWeights
);

505 
	gdg
 = 
dÙ´od
(
g¿d›Á
, 
d
, 
numWeights
);

506 
	g®pha
 = -
dg
/(
dHd
 + 
Ïmbda
 * 
dd
);

509 ià(
	gdldebug
)

511 
	gcout
 << "dHd = " << 
	gdHd
 << 
	g’dl
;

512 
	gcout
 << "dd = " << 
	gdd
 << 
	g’dl
;

513 
	gcout
 << "dg = " << 
	gdg
 << 
	g’dl
;

514 
	gcout
 << "®ph¨ğ" << 
	g®pha
 << 
	g’dl
;

523 ià(
	g®pha
 < 0.0)

526 ià(
	gdldebug
)

528 
	gcout
 << "AÍh¨< 0! Bad dœeùiÚ o¸HessŸn." << 
	g’dl
;

533  
	g®pha
;

537 
	$Ë¬nWeights
(* cÚ¡ & 
weights
, cÚ¡ & 
numWeights
,

538 cÚ¡ & 
maxI‹r
, cÚ¡ & 
maxSec
,

539 cÚ¡ & 
Ë¬nšgR©e
, cÚ¡ & 
mom’tum
,

540 
boŞ
 
š™W™hLogOdds
, cÚ¡ & 
mwsMaxSub£qu’tS‹ps
,

541 
boŞ
 
³riodicMLNs
)

543 
Tim”
 
tim”
;

544 
begSec
 = 
tim”
.
	`time
();

547 
	`mem£t
(
weights
, 0, 
numWeights
*());

549 * 
av”ageWeights
 = 
Ãw
 [
numWeights
];

550 * 
g¿d›Á
 = 
Ãw
 [
numWeights
];

553 cÚ¡ 
A¼ay
<>* 
d–_´ed
 = 
NULL
;

554 cÚ¡ 
A¼ay
<>* 
Hd
 = 
NULL
;

557 
®pha
 = 1;

558 
A¼ay
<> 
	`d
(
numWeights
, 0.0);

559 
Şdg¿d›Á
[
numWeights
];

560 
A¼ay
<> 
	`Şdd
(
numWeights
, 0.0);

565 ià(
š™W™hLogOdds
)

566 
	`£tLogOddsWeights
(
weights
, 
numWeights
);

567 ià(
w™hEM_
)

570 ià(
u£PriÜ_
)

571 
	`£tRªdGaussWeights
(
weights
, 
numWeights
, 
´iÜM—ns_
, 
´iÜStdDevs_
);

573 
	`£tRªdomWeights
(
weights
, 
numWeights
, -1.0, 1.0);

577 cÚ¡ 
MLN
* 
mÊ
 = 
šã»nûs_
[0]->
	`g‘S‹
()->
	`g‘MLN
();

578 
i
=0; i<
numWeights
; i++) {

579 cÚ¡ 
CÏu£
* 
şau£
=
mÊ
->
	`g‘CÏu£
(
i
);

580 ià(
şau£
->
	`isH¬dCÏu£
()) {

581 
weights
[
i
]=10;

586 
	`memıy
(
av”ageWeights
, 
weights
, 
numWeights
*());

590 
i
 = 0; i < 
domašCÁ_
; i++)

591 
šã»nûs_
[
i
]->
	`§veAÎCouÁs
(
Œue
);

594 
A¼ay
<> 
	`cu¼V¬Ÿnû
(
numWeights
, 0);

597 
A¼ay
<> 
	`Şdweights
(
numWeights
, 0.0);

601 
boŞ
 
backŒacked
 = 
çl£
;

605 
™”
 = 1; i‹¸<ğ
maxI‹r
; iter++)

607 
cout
 << 
’dl
 << "I‹¿tiÚ " << 
™”
 << " : " <<ƒndl <<ƒndl;

609 
tÙ®£c
 = 
tim”
.
	`time
(è- 
begSec
;

610 
hour
 = ()
tÙ®£c
/3600;

611 
mš
 = ()(
tÙ®£c
 - 3600*
hour
)/60;

612 
£c
 = ()(
tÙ®£c
 - 3600*
hour
 - 60*
mš
);

615 
cout
 << "EÏp£dime: " << 
tÙ®£c
 << "s";

616 ià(
hour
 > 0)

617 
cout
 << " (" << 
hour
 << "h " << 
mš
 << "m " << 
£c
 << "s)";

618 ià(
mš
 > 0)

619 
cout
 << " (" << 
mš
 << "m " << 
£c
 << "s)";

620 
cout
 << 
’dl
;

622 ià(
maxSec
 > 0 && 
tÙ®£c
 > maxSec)

624 
cout
 << "Timlim™ƒxûeded. Stİpšg†—ºšg." << 
’dl
;

630 ià(
™”
 == 3)

632 
i
 = 0; i < 
šã»nûs_
.
	`size
(); i++)

635 ià(
MaxW®kS©
* 
mws
 = 
dyÇmic_ÿ¡
<MaxW®kS©*>(
šã»nûs_
[
i
]))

637 
mws
->
	`£tMaxS‹ps
(
mwsMaxSub£qu’tS‹ps
);

643 
tcouÁs
[
numWeights
];

644 
tcouÁsTÙ®
[
numWeights
];

645 
icouÁs
[
numWeights
];

646 
icouÁsTÙ®
[
numWeights
];

650 
	`£tMLNWeights
(
weights
);

652 ià(
w™hEM_
è
	`flInMissšgV®ues
();

653 
cout
 << "RuÂšg inã»nû ..." << 
’dl
;

654 
	`šãr
();

655 
cout
 << "DÚw™h inã»nû" << 
’dl
;

657 
cout
 << "G‘tšg g¿d›Á..." << 
’dl
;

660 
	`g‘G¿d›Á
(
weights
, 
g¿d›Á
, 
numWeights
);

662 
»®di¡
 = 1.0;

663 
´eddi¡
 = 1.0;

664 ià(
™”
 > 1 && 
d–_´ed
 !ğ
NULL
 && !
backŒacked
)

666 
A¼ay
<> 
	`di¡
(
numWeights
, 0.0);

667 
i
 = 0; i < 
numWeights
; i++)

668 
di¡
[
i
] = 
weights
[i] - 
Şdweights
[i];

676 
A¼ay
<> 
	`avgP»d
(
numWeights
);

677 
avgP»d
.
	`growToSize
(
numWeights
);

678 
i
 = 0; i < 
numWeights
; i++)

679 
avgP»d
[
i
] = 
Şdg¿d›Á
[i] + (*
d–_´ed
)[i]/2.0;

680 
´eddi¡
 = 
	`dÙ´od
(
avgP»d
, 
di¡
, 
numWeights
);

683 
»®di¡
 = 
	`dÙ´od
(
g¿d›Á
, 
di¡
, 
numWeights
);

689 
A¼ay
<> 
	`´edg¿d›Á
(
numWeights
, 0.0);

690 
i
 = 0; i < 
numWeights
; i++)

691 
´edg¿d›Á
[
i
] = 
Şdg¿d›Á
[i] + (*
d–_´ed
)[i];

693 
´eddi¡
 = 
	`dÙ´od
(
´edg¿d›Á
, 
di¡
, 
numWeights
);

694 
»®di¡
 = 
	`dÙ´od
(
g¿d›Á
, 
di¡
, 
numWeights
);

700 
A¼ay
<> 
	`d–_aùu®
(
numWeights
, 0.0);

701 
i
 = 0; i < 
numWeights
; i++)

702 
d–_aùu®
[
i
] = 
g¿d›Á
[i] - 
Şdg¿d›Á
[i];

704 
´eddi¡
 = 
	`dÙ´od
(*
d–_´ed
, 
di¡
, 
numWeights
);

705 
»®di¡
 = 
	`dÙ´od
(
d–_aùu®
, 
di¡
, 
numWeights
);

711 
A¼ay
<> 
	`avgP»d
(
numWeights
, 0.0);

712 
A¼ay
<> 
	`avgAùu®
(
numWeights
, 0.0);

713 
i
 = 0; i < 
numWeights
; i++)

715 
avgP»d
[
i
] = 
Şdg¿d›Á
[i] + (*
d–_´ed
)[i]/2.0;

716 
avgAùu®
[
i
] = (
Şdg¿d›Á
[i] + 
g¿d›Á
[i])/2.0;

719 
´eddi¡
 = 
	`dÙ´od
(
avgP»d
, 
di¡
, 
numWeights
);

720 
»®di¡
 = 
	`dÙ´od
(
avgAùu®
, 
di¡
, 
numWeights
);

724 
cout
 << "P»d*di¡ = " << 
´eddi¡
 << 
’dl
;

725 
cout
 << "R—l*di¡ = " << 
»®di¡
 << 
’dl
;

726 ià(
´eddi¡
 > 0)

727 
cout
 << "Di¡¿tiØğ" << 
»®di¡
/
´eddi¡
 << 
’dl
;

730 ià(
™”
 > 1 && (
m‘hod_
 =ğ
CG
 || m‘hod_ =ğ
DN
))

734 
d–
 = 
»®di¡
/
´eddi¡
;

736 ià(!
backŒacked
 && 
´eddi¡
 == 0)

737 
cg_Ïmbda_
 /= 4;

745 ià(
d–
 > 0.75 && delta < 1.333)

746 
cg_Ïmbda_
 /= 2;

747 ià(
d–
 < 0.25 || delta > 4.0)

749 ià(
cg_Ïmbda_
 * 4 > 
cg_max_Ïmbda_
)

750 
cg_Ïmbda_
 = 
cg_max_Ïmbda_
;

752 
cg_Ïmbda_
 *= 4;

755 ià(!
backŒacked
 && 
´eddi¡
 !ğ0 && 
d–
 > 0.75)

756 
cg_Ïmbda_
 /= 2;

758 ià(
d–
 < 0.0)

760 ià(
cg_Ïmbda_
 * 4 > 
cg_max_Ïmbda_
)

761 
cg_Ïmbda_
 = 
cg_max_Ïmbda_
;

763 
cg_Ïmbda_
 *= 4;

766 
cout
 << "Lambd¨ğ" << 
cg_Ïmbda_
 << 
’dl
;

768 ià(
d–
 < 0.0 && 
backŒackCouÁ_
 < 
maxBackŒacks_
)

770 
cout
 << "BackŒackšg!" << 
’dl
;

771 
™”
--;

773 
Şd®pha
 = 
®pha
;

774 
®pha
 = 
	`compu‹Quad¿ticS‹pL’gth
(
Şdg¿d›Á
, 
d
, 
Hd
, 
cg_Ïmbda_
);

775 
i
 = 0; i < 
numWeights
; i++)

777 
weights
[
i
] = 
Şdweights
[i] + 
®pha
 * 
d
[i];

778 (*
d–_´ed
)[
i
] *ğ
®pha
/
Şd®pha
;

781 
i
 = 0; i < 
numWeights
; i++)

782 
weights
[
i
] = 
Şdweights
[i];

785 
i
 = 0; i < 
domašCÁ_
; i++)

786 
šã»nûs_
[
i
]->
	`»¡ÜeCÁs
();

788 
backŒacked
 = 
Œue
;

789 
backŒackCouÁ_
++;

793 
backŒacked
 = 
çl£
;

794 
backŒackCouÁ_
 = 0;

798 ià(!
backŒacked
)

800 
i
 = 0; i < 
domašCÁ_
; i++)

801 
šã»nûs_
[
i
]->
	`§veCÁs
();

807 ià(!
backŒacked
)

809 
i
 = 0; i < 
numWeights
; i++)

812 
´iÜCouÁs
 = 1.0;

813 
tcouÁs
[
i
] +ğ
´iÜCouÁs
;

814 
tcouÁsTÙ®
[
i
] +ğ
´iÜCouÁs
 * 2.0;

815 
icouÁs
[
i
] +ğ
´iÜCouÁs
;

816 
icouÁsTÙ®
[
i
] +ğ
´iÜCouÁs
 * 2.0;

819 
sd
 = 
´iÜStdDevs_
[
i
];

820 
efãùiveCouÁs
 = 
tcouÁs
[
i
] -

821 (
weights
[
i
] - 
´iÜM—ns_
[i])/(
sd
*sd);

823 ià(
tcouÁsTÙ®
[
i
] == 0)

826 
p
 = 
efãùiveCouÁs
/
tcouÁsTÙ®
[
i
];

827 ià(
p
 < 0.0) {… = 0.0; }

828 ià(
p
 > 1.0) {… = 1.0; }

829 
cdf
 =

832 ià(
cdf
 < 0.05 || cdf > 0.95)

835 
cout
 << "˜ğ" << 
i
 << 
’dl
;

836 
cout
 << "tc' = " << 
efãùiveCouÁs
 << 
’dl
;

837 
cout
 << "tøğ" << 
tcouÁs
[
i
] << ";ù = " << 
tcouÁsTÙ®
[i] << 
’dl
;

838 
cout
 << "iøğ" << 
icouÁs
[
i
] << "; iù = " << 
icouÁsTÙ®
[i] << 
’dl
;

839 
cout
 << "Ba£…rob: " << 
p
 << 
’dl
;

840 
cout
 << "Inã¼ed…rob: " << ()
icouÁs
[
i
]/
icouÁsTÙ®
[i] << 
’dl
;

841 
cout
 << "cdàğ" << 
cdf
 << 
’dl
;

843 
™”sSšûSignifiÿÁ
 = 0;

850 
™”sSšûSignifiÿÁ
++;

851 ià(
™”sSšûSignifiÿÁ
 > 10)

853 
cout
 << "No significant difference in‡ny dimension‡fter "

864 ià(
m‘hod_
 =ğ
CG
 && !
backŒacked
)

867 
A¼ay
<> 
	`´ecÚd
(
numWeights
, 1.0);

870 ià(
´ecÚd™iÚCG_
)

872 
A¼ay
<> 
	`v¬Ÿnû
(
numWeights
, 0.0);

873 
	`g‘V¬Ÿnû
(
v¬Ÿnû
, 
numWeights
);

875 
şau£no
 = 0; cÏu£nØ< 
numWeights
; clauseno++)

876 
´ecÚd
[
şau£no
] = 1.0/
v¬Ÿnû
[clauseno];

880 
b‘a
 = 0.0;

886 
b‘a_num
 = 0.0;

887 
b‘a_d’om
 = 0.0;

889 ià(
™”
 > 1)

891 
i
 = 0; i < 
numWeights
; i++)

893 
b‘a_num
 +ğ
g¿d›Á
[
i
] * 
´ecÚd
[i]

894 * (
g¿d›Á
[
i
] - 
Şdg¿d›Á
[i]);

895 
b‘a_d’om
 +ğ
Şdg¿d›Á
[
i
] * 
´ecÚd
[i] * oldgradient[i];

897 
b‘a
 = 
b‘a_num
/
b‘a_d’om
;

900 
b‘a
 = 0.0;

902 ià(
dldebug
)

903 
cout
 << "B‘¨ğ" << 
b‘a
 << 
’dl
;

906 
w
 = 0; w < 
numWeights
; w++)

907 
d
[
w
] = -
´ecÚd
[w]*
g¿d›Á
[w] + 
b‘a
*
Şdd
[w];

909 
d–‘e
 
Hd
;

910 
Hd
 = 
	`g‘HessŸnVeùÜProduù
(
d
);

911 
®pha
 = 
	`compu‹Quad¿ticS‹pL’gth
(
g¿d›Á
, 
d
, 
Hd
, 
cg_Ïmbda_
);

915 ià(
®pha
 < 0.0)

917 
w
 = 0; w < 
numWeights
; w++)

918 
d
[
w
] = -
´ecÚd
[w]*
g¿d›Á
[w];

920 
d–‘e
 
Hd
;

921 
Hd
 = 
	`g‘HessŸnVeùÜProduù
(
d
);

922 
®pha
 = 
	`compu‹Quad¿ticS‹pL’gth
(
g¿d›Á
, 
d
, 
Hd
, 
cg_Ïmbda_
);

928 ià(
m‘hod_
 =ğ
DN
 && !
backŒacked
)

930 
A¼ay
<> 
	`v¬Ÿnû
(
numWeights
, 0.0);

931 
	`g‘V¬Ÿnû
(
v¬Ÿnû
, 
numWeights
);

933 
w
 = 0; w < 
numWeights
; w++)

935 ià(
	`çbs
(
g¿d›Á
[
w
]) < 0.00000001)

936 
g¿d›Á
[
w
] = 0;

937 
d
[
w
] = -
g¿d›Á
[w]/
v¬Ÿnû
[w];

940 
d–‘e
 
Hd
;

941 
Hd
 = 
	`g‘HessŸnVeùÜProduù
(
d
);

942 
®pha
 = 
	`compu‹Quad¿ticS‹pL’gth
(
g¿d›Á
, 
d
, 
Hd
, 
cg_Ïmbda_
);

946 ià(
m‘hod_
 =ğ
SIMPLE
)

949 
w
 = 0; w < 
numWeights
; w++)

950 
d
[
w
] = -
g¿d›Á
[w];

953 
®pha
 = 
Ë¬nšgR©e
;

956 ià(!
backŒacked
 && 
®pha
 <= 0.0)

961 
backŒacked
 = 
Œue
;

962 
™”
--;

965 ià(!
backŒacked
)

968 
A¼ay
<> 
	`wchªge
(
numWeights
, 0.0);

969 
w
 = 0; w < 
numWeights
; w++) {

970 cÚ¡ 
CÏu£
* 
şau£
=
mÊ
->
	`g‘CÏu£
(
w
);

971 ià(
şau£
->
	`isH¬dCÏu£
()) ;

972 
wchªge
[
w
] = 
d
[w] * 
®pha
 + (
weights
[w] - 
Şdweights
[w]è* 
mom’tum
;

978 
maxchªge
 = -
	`dÙ´od
(
g¿d›Á
, 
wchªge
, 
numWeights
);

979 
cout
 << "Maximumƒ¡im©ed im´ovem’t: " << 
maxchªge
 << 
’dl
;

980 ià((
m‘hod_
 =ğ
CG
 || m‘hod_ =ğ
DN
) &&

981 
maxchªge
 < 
mš_Î_chªge_
)

983 
cout
 << "Uµ” bound i Ës thª " << 
mš_Î_chªge_


984 << "; h®tšg†—ºšg." << 
’dl
;

989 
w
 = 0; w < 
numWeights
; w++)

991 
Şdweights
[
w
] = 
weights
[w];

992 
Şdd
[
w
] = 
d
[w];

993 
Şdg¿d›Á
[
w
] = 
g¿d›Á
[w];

995 
weights
[
w
] +ğ
wchªge
[w];

996 
av”ageWeights
[
w
] = ((
™”
-1è*‡v”ageWeights[w] + 
weights
[w])/iter;

1000 
d–‘e
 
d–_´ed
;

1001 
d–_´ed
 = 
	`g‘HessŸnVeùÜProduù
(
wchªge
);

1007 
i
 = 0; i < 
domašCÁ_
; i++)

1008 
šã»nûs_
[
i
]->
	`»£tCÁs
();

1011 
boŞ
 
´št
 = !
backŒacked
 && (!
³riodicMLNs
 || 
	`isOuutI‹r
(
™”
));

1012 ià(
´št
)

1014 
cout
 << "Weights:\tNew\t\tAverage\n";

1015 
w
 = 0; w < 
numWeights
; w++)

1016 
cout
 << 
w
 << ":\t\t" << 
weights
[w] << "\t\t"

1017 << 
av”ageWeights
[
w
] << 
’dl
;

1023 
cout
 << 
’dl
 << "Learned Weights : " <<ƒndl;

1024 
w
 = 0; w < 
numWeights
; w++)

1027 ià(
dyÇmic_ÿ¡
<
MaxW®kS©
*>(
šã»nûs_
[0]))

1029 
weights
[
w
] = 
av”ageWeights
[w];

1031 
cout
 << 
w
 << ":" << 
weights
[w] << 
’dl
;

1034 
d–‘e
 [] 
av”ageWeights
;

1035 
d–‘e
 [] 
g¿d›Á
;

1037 
	`»£tDBs
();

1038 
	}
}

1041 
	g´iv©e
:

1046 
	$»£tDBs
()

1048 ià(!
ÏzyInã»nû_
)

1050 
i
 = 0; i < 
domašCÁ_
; i++)

1053 ià((
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
i
])))

1058 
V¬ŸbËS‹
* 
¡©e
 = 
šã»nûs_
[
i
]->
	`g‘S‹
();

1059 
D©aba£
* 
db
 = 
¡©e
->
	`g‘Domaš
()->
	`g‘DB
();

1061 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
kÃP»ds
 = 
¡©e
->
	`g‘KÃP»ds
();

1062 cÚ¡ 
A¼ay
<
TruthV®ue
>* 
kÃP»dV®ues
 = 
¡©e
->
	`g‘KÃP»dV®ues
();

1063 
db
->
	`£tV®uesToGiv’V®ues
(
kÃP»ds
, 
kÃP»dV®ues
);

1065 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
uÃP»ds
 = 
¡©e
->
	`g‘UÃP»ds
();

1066 
´edno
 = 0;…»dnØ< 
uÃP»ds
->
	`size
();…redno++)

1067 
db
->
	`£tV®ue
((*
uÃP»ds
)[
´edno
], 
UNKNOWN
);

1070 
	}
}

1077 
	$fšdR–evªtCÏu£s
(cÚ¡ 
SŒšgHashA¼ay
& 
nÚEvidP»dNames
)

1079 
d
 = 0; d < 
domašCÁ_
; d++)

1081 
şau£CÁ
 = 
şau£CÁP”Domaš_
[
d
];

1082 
A¼ay
<
boŞ
>& 
»ËvªtCÏu£s
 = 
»ËvªtCÏu£sP”Domaš_
[
d
];

1083 
»ËvªtCÏu£s
.
	`growToSize
(
şau£CÁ
);

1084 
	`mem£t
((
boŞ
*)
»ËvªtCÏu£s
.
	`g‘I‹ms
(), 
çl£
,

1085 
»ËvªtCÏu£s
.
	`size
()*(
boŞ
));

1086 cÚ¡ 
Domaš
* 
domaš
;

1087 cÚ¡ 
MLN
* 
mÊ
;

1090 ià((
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
d
])))

1092 
domaš
 = 
bp_
->
	`g‘FaùÜG¿ph
()->
	`g‘Domaš
();

1093 
mÊ
 = 
bp_
->
	`g‘FaùÜG¿ph
()->
	`g‘MLN
();

1097 
domaš
 = 
šã»nûs_
[
d
]->
	`g‘S‹
()->
	`g‘Domaš
();

1098 
mÊ
 = 
šã»nûs_
[
d
]->
	`g‘S‹
()->
	`g‘MLN
();

1101 cÚ¡ 
A¼ay
<
IndexCÏu£
*>* 
šdşau£s
;

1102 cÚ¡ 
CÏu£
* 
şau£
;

1103 
´edid
, 
şau£id
;

1104 
i
 = 0; i < 
nÚEvidP»dNames
.
	`size
(); i++)

1106 
´edid
 = 
domaš
->
	`g‘P»diÿ‹Id
(
nÚEvidP»dNames
[
i
].
	`c_¡r
());

1109 
šdşau£s
 = 
mÊ
->
	`g‘CÏu£sCÚššgP»d
(
´edid
);

1110 ià(
šdşau£s
)

1112 
j
 = 0; j < 
šdşau£s
->
	`size
(); j++)

1114 
şau£
 = (*
šdşau£s
)[
j
]->clause;

1115 
şau£id
 = 
mÊ
->
	`fšdCÏu£Idx
(
şau£
);

1118 ià(!
mÊ
->
	`isEx‹º®CÏu£
(
şau£id
))

1119 
»ËvªtCÏu£s
[
şau£id
] = 
Œue
;

1124 
	}
}

1127 
	$fšdR–evªtCÏu£sFÜmuÏs
()

1129 ià(
idxT¿ns_
 =ğ
NULL
)

1131 
A¼ay
<
boŞ
>& 
»ËvªtCÏu£s
 = 
»ËvªtCÏu£sP”Domaš_
[0];

1132 
»ËvªtCÏu£sFÜmuÏs_
.
	`growToSize
(
»ËvªtCÏu£s
.
	`size
());

1133 
i
 = 0; i < 
»ËvªtCÏu£s
.
	`size
(); i++)

1134 
»ËvªtCÏu£sFÜmuÏs_
[
i
] = 
»ËvªtCÏu£s
[i];

1138 
idxT¿ns_
->
	`£tR–evªtCÏu£sFÜmuÏs
(
»ËvªtCÏu£sFÜmuÏs_
,

1139 
»ËvªtCÏu£sP”Domaš_
[0]);

1140 
cout
 << "R–evªˆşau£s/fÜmuÏs:" << 
’dl
;

1141 
idxT¿ns_
->
	`´štR–evªtCÏu£sFÜmuÏs
(
cout
, 
»ËvªtCÏu£sFÜmuÏs_
);

1142 
cout
 << 
’dl
;

1144 
	}
}

1156 
ÿlcuÏ‹CouÁs
(
A¼ay
<>& 
ŒueCÁ
, A¼ay<>& 
çl£CÁ
,

1157 cÚ¡ & 
domašIdx
, cÚ¡ 
boŞ
& 
hasUnknownP»ds
)

1159 
CÏu£
* 
	gşau£
;

1160 
	gtmpUnknownCÁ
;

1161 
	gşau£CÁ
 = 
şau£CÁP”Domaš_
[
domašIdx
];

1162 
	gA¼ay
<
	gboŞ
>& 
	g»ËvªtCÏu£s
 = 
»ËvªtCÏu£sP”Domaš_
[
domašIdx
];

1163 cÚ¡ 
Domaš
* 
	gdomaš
;

1164 cÚ¡ 
MLN
* 
	gmÊ
;

1167 ià((
	gbp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
domašIdx
])))

1169 
domaš
 = 
bp_
->
g‘FaùÜG¿ph
()->
g‘Domaš
();

1170 
	gmÊ
 = 
bp_
->
g‘FaùÜG¿ph
()->
g‘MLN
();

1174 
	gdomaš
 = 
šã»nûs_
[
domašIdx
]->
g‘S‹
()->
g‘Domaš
();

1175 
	gmÊ
 = 
šã»nûs_
[
domašIdx
]->
g‘S‹
()->
g‘MLN
();

1179 
	gşau£no
 = 0; cÏu£nØ< 
	gşau£CÁ
; clauseno++)

1181 ià(!
	g»ËvªtCÏu£s
[
şau£no
])

1186 
	gşau£
 = (
CÏu£
*è
mÊ
->
g‘CÏu£
(
şau£no
);

1187 
	gşau£
->
g‘NumTrueF®£UnknownGroundšgs
(
domaš
, domaš->
g‘DB
(),

1188 
hasUnknownP»ds
,

1189 
ŒueCÁ
[
şau£no
],

1190 
çl£CÁ
[
şau£no
],

1191 
tmpUnknownCÁ
);

1192 
as£¹
(
hasUnknownP»ds
 || (
tmpUnknownCÁ
==0));

1204 
	$š™ŸlizeWts
(cÚ¡ 
SŒšgHashA¼ay
& 
nÚEvidP»dNames
)

1206 
cout
 << "In™Ÿlizšg weight ..." << 
’dl
;

1208 
boŞ
 
hasUnknownP»ds
;

1210 
A¼ay
<
P»diÿ‹
*> 
g´eds
;

1211 
A¼ay
<
P»diÿ‹
*> 
µ»ds
;

1212 
A¼ay
<
TruthV®ue
> 
g´edV®ues
;

1213 
A¼ay
<
TruthV®ue
> 
tmpV®ues
;

1215 ià(!
ÏzyInã»nû_
)

1217 
ŒašTrueCÁs_
.
	`growToSize
(
domašCÁ_
);

1218 
ŒašF®£CÁs_
.
	`growToSize
(
domašCÁ_
);

1219 ià(
w™hEM_
è
emDiffCÁs_
.
	`growToSize
(
domašCÁ_
);

1222 
i
 = 0; i < 
domašCÁ_
; i++)

1224 ià(
dldebug
è
cout
 << "Domaš " << 
i
 << 
’dl
;

1225 
şau£CÁ
 = 
şau£CÁP”Domaš_
[
i
];

1226 ià(
dldebug
è
cout
 << "CÏu£ couÁ: " << 
şau£CÁ
 << 
’dl
;

1227 
Domaš
* 
domaš
;

1229 ià((
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
i
])))

1231 
FaùÜG¿ph
* 
fg
 = 
bp_
->
	`g‘FaùÜG¿ph
();

1232 
domaš
 = (
Domaš
*)
fg
->
	`g‘Domaš
();

1236 
V¬ŸbËS‹
* 
¡©e
 = 
šã»nûs_
[
i
]->
	`g‘S‹
();

1237 
domaš
 = (
Domaš
*)
¡©e
->
	`g‘Domaš
();

1240 ià(
ÏzyInã»nû_
 || (
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
i
])))

1242 
domaš
->
	`g‘DB
()->
	`£tP”fÜmšgInã»nû
(
çl£
);

1245 
g´eds
.
	`ş—r
();

1246 
g´edV®ues
.
	`ş—r
();

1247 
tmpV®ues
.
	`ş—r
();

1248 
´edno
 = 0;…»dnØ< 
nÚEvidP»dNames
.
	`size
();…redno++)

1250 
µ»ds
.
	`ş—r
();

1251 
´edid
 = 
domaš
->
	`g‘P»diÿ‹Id
(
nÚEvidP»dNames
[
´edno
].
	`c_¡r
());

1252 
P»diÿ‹
::
	`ü—‹AÎGroundšgs
(
´edid
, 
domaš
, 
µ»ds
);

1253 
g´eds
.
	`­³nd
(
µ»ds
);

1256 
domaš
->
	`g‘DB
()->
	`®‹rTruthV®ue
(&
g´eds
, 
UNKNOWN
, 
FALSE
, &
g´edV®ues
);

1258 
hasUnknownP»ds
 = 
çl£
;

1260 
A¼ay
<>& 
ŒueCÁ
 = 
tÙ®TrueCÁs_
[
i
];

1261 
A¼ay
<>& 
çl£CÁ
 = 
tÙ®F®£CÁs_
[
i
];

1262 
ŒueCÁ
.
	`growToSize
(
şau£CÁ
);

1263 
çl£CÁ
.
	`growToSize
(
şau£CÁ
);

1264 
	`ÿlcuÏ‹CouÁs
(
ŒueCÁ
, 
çl£CÁ
, 
i
, 
hasUnknownP»ds
);

1268 
hasUnknownP»ds
 = 
Œue
;

1270 
domaš
->
	`g‘DB
()->
	`£tV®uesToUnknown
(&
g´eds
, &
tmpV®ues
);

1272 
A¼ay
<>& 
dTrueCÁ
 = 
deçuÉTrueCÁs_
[
i
];

1273 
A¼ay
<>& 
dF®£CÁ
 = 
deçuÉF®£CÁs_
[
i
];

1274 
dTrueCÁ
.
	`growToSize
(
şau£CÁ
);

1275 
dF®£CÁ
.
	`growToSize
(
şau£CÁ
);

1276 
	`ÿlcuÏ‹CouÁs
(
dTrueCÁ
, 
dF®£CÁ
, 
i
, 
hasUnknownP»ds
);

1278 
´edno
 = 0;…»dnØ< 
g´eds
.
	`size
();…redno++)

1279 
d–‘e
 
g´eds
[
´edno
];

1281 
domaš
->
	`g‘DB
()->
	`£tP”fÜmšgInã»nû
(
Œue
);

1285 
V¬ŸbËS‹
* 
¡©e
 = 
šã»nûs_
[
i
]->
	`g‘S‹
();

1286 ià(
w™hEM_
)

1288 
V¬ŸbËS‹
* 
emS‹
 = 
emInã»nûs_
[
i
]->
	`g‘S‹
();

1289 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
emUÃP»ds
 = 
emS‹
->
	`g‘UÃP»ds
();

1290 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
emKÃP»ds
 = 
emS‹
->
	`g‘KÃP»ds
();

1292 
emDiffCÁs_
[
i
] = 
Ãw
 [
şau£CÁ
];

1294 ià(
dldebug
)

1296 ià(
emUÃP»ds
)

1298 
cout
 << "UnknowÀnÚ-evid…»d (E): " << 
emUÃP»ds
->
	`size
()

1299 << 
’dl
;

1301 ià(
emKÃP»ds
)

1303 
cout
 << "KnowÀnÚ-evid…»d (E): " << 
emKÃP»ds
->
	`size
()

1304 << 
’dl
;

1307 
emUÃP»dsSize
 = 0;

1308 
emKÃP»dsSize
 = 0;

1309 ià(
emUÃP»ds
è
emUÃP»dsSize
 =ƒmUÃP»ds->
	`size
();

1310 ià(
emKÃP»ds
è
emKÃP»dsSize
 =ƒmKÃP»ds->
	`size
();

1312 
emTÙ®P»ds
 = 
emUÃP»dsSize
 + 
emKÃP»dsSize
;

1315 
A¼ay
<
boŞ
>* 
emUnknownP»d
 = 
Ãw
 Array<bool>;

1316 
emUnknownP»d
->
	`growToSize
(
emTÙ®P»ds
, 
çl£
);

1317 
´edno
 = 0;…»dnØ< 
emTÙ®P»ds
;…redno++)

1319 
GroundP»diÿ‹
* 
p
;

1320 ià(
´edno
 < 
emUÃP»dsSize
)

1321 
p
 = (*
emUÃP»ds
)[
´edno
];

1323 
p
 = (*
emKÃP»ds
)[
´edno
 - 
emUÃP»dsSize
];

1324 
TruthV®ue
 
tv
 = 
emS‹
->
	`g‘Domaš
()->
	`g‘DB
()->
	`g‘V®ue
(
p
);

1327 ià(
tv
 =ğ
TRUE
)

1329 
emS‹
->
	`£tV®ueOfAtom
(
´edno
 + 1, 
Œue
, 
çl£
, -1);

1330 
p
->
	`£tTruthV®ue
(
Œue
);

1334 
emS‹
->
	`£tV®ueOfAtom
(
´edno
 + 1, 
çl£
, false, -1);

1335 
p
->
	`£tTruthV®ue
(
çl£
);

1338 ià(
tv
 =ğ
UNKNOWN
)

1340 (*
emUnknownP»d
)[
´edno
] = 
Œue
;

1345 
emS‹
->
	`š™MakeB»akCo¡W©ch
();

1347 
emS‹
->
	`g‘NumCÏu£GndšgsW™hUnknown
(
emDiffCÁs_
[
i
], 
şau£CÁ
,

1348 
Œue
, 
emUnknownP»d
);

1349 
d–‘e
 
emUnknownP»d
;

1350 ià(
dldebug
)

1352 
şau£no
 = 0; cÏu£nØ< 
şau£CÁ
; clauseno++)

1354 
cout
 << 
şau£no
 << " :ƒmDiffCÁ = " << 
emDiffCÁs_
[
i
][clauseno]

1355 << 
’dl
;

1360 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
uÃP»ds
 = 
¡©e
->
	`g‘UÃP»ds
();

1361 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
kÃP»ds
 = 
¡©e
->
	`g‘KÃP»ds
();

1363 
ŒašTrueCÁs_
[
i
] = 
Ãw
 [
şau£CÁ
];

1364 
ŒašF®£CÁs_
[
i
] = 
Ãw
 [
şau£CÁ
];

1366 ià(
dldebug
)

1368 
cout
 << "UnknowÀnÚ-evid…»ds: " << 
uÃP»ds
->
	`size
(è<< 
’dl
;

1369 
cout
 << "KnowÀnÚ-evid…»ds: " << 
kÃP»ds
->
	`size
(è<< 
’dl
;

1371 
tÙ®P»ds
 = 
uÃP»ds
->
	`size
(è+ 
kÃP»ds
->size();

1374 
A¼ay
<
boŞ
>* 
unknownP»d
 = 
Ãw
 Array<bool>;

1375 
unknownP»d
->
	`growToSize
(
tÙ®P»ds
, 
çl£
);

1376 
´edno
 = 0;…»dnØ< 
tÙ®P»ds
;…redno++)

1378 
GroundP»diÿ‹
* 
p
;

1379 ià(
´edno
 < 
uÃP»ds
->
	`size
())

1380 
p
 = (*
uÃP»ds
)[
´edno
];

1382 
p
 = (*
kÃP»ds
)[
´edno
 - 
uÃP»ds
->
	`size
()];

1383 
TruthV®ue
 
tv
 = 
¡©e
->
	`g‘Domaš
()->
	`g‘DB
()->
	`g‘V®ue
(
p
);

1384 if(
dldebug
)

1386 
cout
<<"printing gndPred‡ndv : ";

1387 
p
->
	`´št
(
cout
);

1388 
cout
<<",v : "<<
tv
<<
’dl
;

1389 
cout
<<
’dl
;

1393 
boŞ
 
aùiv©e
 = 
çl£
;

1394 ià(
tv
 =ğ
TRUE
)

1396 
¡©e
->
	`£tV®ueOfAtom
(
´edno
 + 1, 
Œue
, 
aùiv©e
, -1);

1397 
p
->
	`£tTruthV®ue
(
Œue
);

1401 
¡©e
->
	`£tV®ueOfAtom
(
´edno
 + 1, 
çl£
, 
aùiv©e
, -1);

1402 
p
->
	`£tTruthV®ue
(
çl£
);

1405 ià(
tv
 =ğ
UNKNOWN
)

1407 (*
unknownP»d
)[
´edno
] = 
Œue
;

1412 
¡©e
->
	`š™MakeB»akCo¡W©ch
();

1413 if(
dldebug
è
cout
<<"g‘tšgruút => "<<
’dl
;

1414 
¡©e
->
	`g‘NumCÏu£GndšgsW™hUnknown
(
ŒašTrueCÁs_
[
i
], 
şau£CÁ
,

1415 
Œue
, 
unknownP»d
);

1416 if(
dldebug
è
cout
<<"gÙruút => "<<
’dl
;

1417 ià(
w™hEM_
)

1419 
şau£no
 = 0; cÏu£nØ< 
şau£CÁ
; clauseno++)

1421 
emDiffCÁs_
[
i
][
şau£no
] = 
ŒašTrueCÁs_
[i][clauseno] -

1422 
emDiffCÁs_
[
i
][
şau£no
];

1427 if(
dldebug
è
cout
<<"g‘tšg f®£ cÁ => "<<
’dl
;

1428 
¡©e
->
	`g‘NumCÏu£GndšgsW™hUnknown
(
ŒašF®£CÁs_
[
i
], 
şau£CÁ
,

1429 
çl£
, 
unknownP»d
);

1430 if(
dldebug
è
cout
<<"gÙ f®£ cÁ => "<<
’dl
;

1431 
d–‘e
 
unknownP»d
;

1432 ià(
dldebug
)

1434 
şau£no
 = 0; cÏu£nØ< 
şau£CÁ
; clauseno++)

1436 
cout
 << 
şau£no
 << " :øğ" << 
ŒašTrueCÁs_
[
i
][clauseno]

1437 << " ** føğ" << 
ŒašF®£CÁs_
[
i
][
şau£no
] << 
’dl
;

1443 
tc
,
fc
;

1444 
nÚEvidP»ds
 = 0;

1445 
cout
 << "Li¡ oàCNF CÏu£ : " << 
’dl
;

1446 
şau£no
 = 0; cÏu£nØ< 
şau£CÁP”Domaš_
[0]; clauseno++)

1448 
tc
 = 0.0; 
fc
 = 0.0; 
nÚEvidP»ds
 = 0;

1449 
Domaš
* 
domaš0
;

1451 ià((
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[0])))

1453 
domaš0
 = (
Domaš
*)
bp_
->
	`g‘FaùÜG¿ph
()->
	`g‘Domaš
();

1457 
domaš0
 = (
Domaš
*)
šã»nûs_
[0]->
	`g‘S‹
()->
	`g‘Domaš
();

1460 
i
 = 0; i < 
domašCÁ_
; i++)

1462 cÚ¡ 
MLN
* 
mÊ
;

1463 
Domaš
* 
domaš
;

1465 ià((
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
i
])))

1467 
FaùÜG¿ph
* 
fg
 = 
bp_
->
	`g‘FaùÜG¿ph
();

1468 
domaš
 = (
Domaš
*)
fg
->
	`g‘Domaš
();

1469 
mÊ
 = 
fg
->
	`g‘MLN
();

1473 
V¬ŸbËS‹
* 
¡©e
 = 
šã»nûs_
[
i
]->
	`g‘S‹
();

1474 
domaš
 = (
Domaš
*)
¡©e
->
	`g‘Domaš
();

1475 
mÊ
 = 
¡©e
->
	`g‘MLN
();

1478 
A¼ay
<
boŞ
>& 
»ËvªtCÏu£s
 = 
»ËvªtCÏu£sP”Domaš_
[
i
];

1479 
A¼ay
<>& 
logOdds
 = 
logOddsP”Domaš_
[
i
];

1481 ià(!
»ËvªtCÏu£s
[
şau£no
])

1483 
domaš
->
	`£tNumTrueNÚEvidGndšgs
(
şau£no
, 0);

1484 
domaš
->
	`£tNumF®£NÚEvidGndšgs
(
şau£no
, 0);

1485 
logOdds
[
şau£no
] = 0.0;

1489 
cout
 << 
şau£no
 << ":";

1490 cÚ¡ 
CÏu£
* 
şau£
 = 
mÊ
->
	`g‘CÏu£
(
şau£no
);

1491 
şau£
->
	`´št
(
cout
, 
domaš0
);

1492 
cout
 << 
’dl
;

1494 
domašTrueCÁs
 = 0.0;

1495 
domašF®£CÁs
 = 0.0;

1496 ià(
ÏzyInã»nû_
 || (
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
i
])))

1498 
domašTrueCÁs
 = 
tÙ®TrueCÁs_
[
i
][
şau£no
] -

1499 
deçuÉTrueCÁs_
[
i
][
şau£no
];

1500 
domašF®£CÁs
 = 
tÙ®F®£CÁs_
[
i
][
şau£no
] -

1501 
deçuÉF®£CÁs_
[
i
][
şau£no
];

1505 
domašTrueCÁs
 = 
ŒašTrueCÁs_
[
i
][
şau£no
];

1506 
domašF®£CÁs
 = 
ŒašF®£CÁs_
[
i
][
şau£no
];

1509 
tc
 +ğ
domašTrueCÁs
;

1510 
fc
 +ğ
domašF®£CÁs
;

1511 
domaš
->
	`£tNumTrueNÚEvidGndšgs
(
şau£no
, 
domašTrueCÁs
);

1512 
domaš
->
	`£tNumF®£NÚEvidGndšgs
(
şau£no
, 
domašF®£CÁs
);

1514 ià(
dldebug
)

1515 
cout
 << 
şau£no
 << " :øğ" << 
tc
 << " ** føğ"<< 
fc
 <<
’dl
;

1517 
i
 = 0; i < 
şau£
->
	`g‘NumP»diÿ‹s
(); i++)

1519 cÚ¡ * 
´edName
 =

1520 
şau£
->
	`g‘P»diÿ‹
(
i
)->
	`g‘Tem¶©e
()->
	`g‘Name
();

1521 ià(
nÚEvidP»dNames
.
	`cÚšs
(
´edName
))

1522 
nÚEvidP»ds
++;

1526 
weight
 = 0.0;

1527 
tÙ®CÁ
 = 
tc
 + 
fc
;

1529 ià(
tÙ®CÁ
 =ğ0 || 
nÚEvidP»ds
 == 0)

1532 
weight
 = 
EPSILON
;

1536 ià(
fc
 == 0.0)

1537 
fc
 = 0.00001;

1538 ià(
tc
 == 0.0)

1539 
tc
 = 0.00001;

1541 
´iÜodds
 = (
	`pow
(2.0, 
nÚEvidP»ds
) - 1.0)/1.0;

1542 
weight
 = 
	`log
(
tc
/
fc
è-†og(
´iÜodds
);

1545 
i
 = 0; i < 
domašCÁ_
; i++)

1547 
A¼ay
<>& 
logOdds
 = 
logOddsP”Domaš_
[
i
];

1548 
logOdds
[
şau£no
] = 
weight
;

1551 
	}
}

1557 
	$šãr
()

1559 
i
 = 0; i < 
domašCÁ_
; i++)

1561 ià(
dldebug
è
cout
 << "š domaš " << 
i
 << 
’dl
;

1564 ià((
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
i
])))

1566 
šã»nûs_
[
i
]->
	`šãr
();

1570 
V¬ŸbËS‹
* 
¡©e
 = 
šã»nûs_
[
i
]->
	`g‘S‹
();

1571 
¡©e
->
	`£tGndCÏu£sWtsToSumOfP¬’tWts
();

1573 
¡©e
->
	`š™
();

1574 
šã»nûs_
[
i
]->
	`šãr
();

1575 
¡©e
->
	`§veLowS‹ToGndP»ds
();

1578 ià(
dldebug
)

1580 
cout
 << "Inã¼ed fŞlowšg v®ue (M): " << 
’dl
;

1581 
šã»nûs_
[
i
]->
	`´štProbab™›s
(
cout
);

1584 
	}
}

1590 
	$flInMissšgV®ues
()

1592 
	`as£¹
(
w™hEM_
);

1593 
cout
 << "Flšg iÀmissšg d©¨..." << 
’dl
;

1596 
A¼ay
<A¼ay<
TruthV®ue
> > 
ueV®ues
;

1597 
ueV®ues
.
	`growToSize
(
domašCÁ_
);

1598 
i
 = 0; i < 
domašCÁ_
; i++)

1600 
V¬ŸbËS‹
* 
¡©e
 = 
šã»nûs_
[
i
]->
	`g‘S‹
();

1601 cÚ¡ 
Domaš
* 
domaš
 = 
¡©e
->
	`g‘Domaš
();

1602 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
kÃP»ds
 = 
¡©e
->
	`g‘KÃP»ds
();

1603 cÚ¡ 
A¼ay
<
TruthV®ue
>* 
kÃP»dV®ues
 = 
¡©e
->
	`g‘KÃP»dV®ues
();

1606 
domaš
->
	`g‘DB
()->
	`£tV®uesToGiv’V®ues
(
kÃP»ds
, 
kÃP»dV®ues
);

1608 
V¬ŸbËS‹
* 
emS‹
 = 
emInã»nûs_
[
i
]->
	`g‘S‹
();

1610 
emS‹
->
	`£tGndCÏu£sWtsToSumOfP¬’tWts
();

1612 
emS‹
->
	`š™
();

1613 
emInã»nûs_
[
i
]->
	`šãr
();

1614 
emS‹
->
	`§veLowS‹ToGndP»ds
();

1616 ià(
dldebug
)

1618 
cout
 << "Inã¼ed fŞlowšg v®ue (E): " << 
’dl
;

1619 
emInã»nûs_
[
i
]->
	`´štProbab™›s
(
cout
);

1623 
şau£CÁ
 = 
şau£CÁP”Domaš_
[
i
];

1624 
emS‹
->
	`š™MakeB»akCo¡W©ch
();

1626 cÚ¡ 
A¼ay
<>* 
şau£TrueCÁs
 =

1627 
emInã»nûs_
[
i
]->
	`g‘CÏu£TrueCÁs
();

1628 
	`as£¹
(
şau£TrueCÁs
->
	`size
(è=ğ
şau£CÁ
);

1629 
numSam¶es
 = 
emInã»nûs_
[
i
]->
	`g‘NumSam¶es
();

1630 
j
 = 0; j < 
şau£CÁ
; j++)

1633 
ŒašTrueCÁs_
[
i
][
j
] = (*
şau£TrueCÁs
)[j]/
numSam¶es
 +

1634 
emDiffCÁs_
[
i
][
j
];

1641 
A¼ay
<
TruthV®ue
> 
tmpV®ues
;

1642 
tmpV®ues
.
	`growToSize
(
kÃP»ds
->
	`size
());

1643 
domaš
->
	`g‘DB
()->
	`£tV®uesToUnknown
(
kÃP»ds
, &
tmpV®ues
);

1645 
cout
 << "DÚflšg iÀmissšg d©a" << 
’dl
;

1646 
	}
}

1653 
	$g‘CouÁsFÜDomaš
(* cÚ¡ & 
şau£T¿šCÁs
,

1654 * cÚ¡ & 
şau£T¿šTÙ®
, * cÚ¡ & 
şau£Inã¼edCÁs
,

1655 * cÚ¡ & 
şau£Inã¼edTÙ®
, 
domašIdx
)

1657 
A¼ay
<
boŞ
>& 
»ËvªtCÏu£s
 = 
»ËvªtCÏu£sP”Domaš_
[
domašIdx
];

1658 
şau£CÁ
 = 
şau£CÁP”Domaš_
[
domašIdx
];

1659 * 
ŒašCÁs
 = 
NULL
;

1660 * 
šã¼edCÁs
 = 
NULL
;

1661 
A¼ay
<>& 
tÙ®TrueCÁs
 = 
tÙ®TrueCÁs_
[
domašIdx
];

1663 
A¼ay
<>& 
deçuÉTrueCÁs
 = 
deçuÉTrueCÁs_
[
domašIdx
];

1664 cÚ¡ 
MLN
* 
mÊ
 = 
šã»nûs_
[
domašIdx
]->
	`g‘S‹
()->
	`g‘MLN
();

1665 cÚ¡ 
Domaš
* 
domaš
 = 
šã»nûs_
[
domašIdx
]->
	`g‘S‹
()->
	`g‘Domaš
();

1667 
	`mem£t
(
şau£T¿šCÁs
, 0, 
şau£CÁ
*());

1668 
	`mem£t
(
şau£Inã¼edCÁs
, 0, 
şau£CÁ
*());

1669 
	`mem£t
(
şau£T¿šTÙ®
, 0, 
şau£CÁ
*());

1670 
	`mem£t
(
şau£Inã¼edTÙ®
, 0, 
şau£CÁ
*());

1672 ià(!(
ÏzyInã»nû_
 || (
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
domašIdx
]))))

1674 ià(!
šã¼edCÁs
èšã¼edCÁ ğ
Ãw
 [
şau£CÁ
];

1676 cÚ¡ 
A¼ay
<>* 
şau£TrueCÁs
 =

1677 
šã»nûs_
[
domašIdx
]->
	`g‘CÏu£TrueCÁs
();

1678 
	`as£¹
(
şau£TrueCÁs
->
	`size
(è=ğ
şau£CÁ
);

1679 
i
 = 0; i < 
şau£CÁ
; i++)

1680 
šã¼edCÁs
[
i
] = (*
şau£TrueCÁs
)[i];

1682 
ŒašCÁs
 = 
ŒašTrueCÁs_
[
domašIdx
];

1686 
şau£no
 = 0; cÏu£nØ< 
şau£CÁ
; clauseno++)

1688 ià(!
»ËvªtCÏu£s
[
şau£no
]) ;

1691 
tÙ®Gndšgs
 = ()(
ŒašF®£CÁs_
[
domašIdx
][
şau£no
]

1692 + 
ŒašTrueCÁs_
[
domašIdx
][
şau£no
]);

1693 
şau£T¿šTÙ®
[
şau£no
] +ğ
tÙ®Gndšgs
;

1694 
şau£Inã¼edTÙ®
[
şau£no
] +ğ
tÙ®Gndšgs
 *

1695 
šã»nûs_
[
domašIdx
]->
	`g‘NumSam¶es
();

1697 ià(
ÏzyInã»nû_
 || (
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
domašIdx
])))

1699 
CÏu£
* 
şau£
 = (CÏu£*è
mÊ
->
	`g‘CÏu£
(
şau£no
);

1701 
ŒašCÁ
 = 
tÙ®TrueCÁs
[
şau£no
];

1702 
šã¼edCÁ
 =

1703 
şau£
->
	`g‘NumTrueGroundšgs
(
domaš
, domaš->
	`g‘DB
(), 
çl£
);

1704 
ŒašCÁ
 -ğ
deçuÉTrueCÁs
[
şau£no
];

1705 
šã¼edCÁ
 -ğ
deçuÉTrueCÁs
[
şau£no
];

1706 
şau£T¿šCÁs
[
şau£no
] +ğ()
ŒašCÁ
;

1707 
şau£Inã¼edCÁs
[
şau£no
] +ğ()
šã¼edCÁ
;

1711 
şau£T¿šCÁs
[
şau£no
] +ğ()
ŒašCÁs
[clauseno];

1712 
şau£Inã¼edCÁs
[
şau£no
] +ğ()
šã¼edCÁs
[clauseno];

1717 
d–‘e
[] 
šã¼edCÁs
;

1718 
	}
}

1722 
	$g‘G¿d›ÁFÜDomaš
(* cÚ¡ & 
g¿d›Á
, cÚ¡ & 
domašIdx
)

1724 
A¼ay
<
boŞ
>& 
»ËvªtCÏu£s
 = 
»ËvªtCÏu£sP”Domaš_
[
domašIdx
];

1725 
şau£CÁ
 = 
şau£CÁP”Domaš_
[
domašIdx
];

1726 * 
ŒašCÁs
 = 
NULL
;

1727 * 
šã¼edCÁs
 = 
NULL
;

1728 * 
şau£T¿šCÁs
 = 
Ãw
 [
şau£CÁ
];

1729 * 
şau£Inã¼edCÁs
 = 
Ãw
 [
şau£CÁ
];

1736 
	`mem£t
(
şau£T¿šCÁs
, 0, 
şau£CÁ
*());

1737 
	`mem£t
(
şau£Inã¼edCÁs
, 0, 
şau£CÁ
*());

1739 ià(!
šã¼edCÁs
èšã¼edCÁ ğ
Ãw
 [
şau£CÁ
];

1741 cÚ¡ 
A¼ay
<>* 
şau£TrueCÁs
 =

1742 
šã»nûs_
[
domašIdx
]->
	`g‘CÏu£TrueCÁs
();

1743 
cout
<<
şau£TrueCÁs
->
	`size
()<<
’dl
;

1744 
i
=0;i<
şau£TrueCÁs
->
	`size
();i++)

1746 
cout
<<(*
şau£TrueCÁs
)[
i
]<<" ";

1748 
cout
<<
’dl
;

1749 
	`as£¹
(
şau£TrueCÁs
->
	`size
(è=ğ
şau£CÁ
);

1750 
numSam¶es
 = 
šã»nûs_
[
domašIdx
]->
	`g‘NumSam¶es
();

1751 
i
 = 0; i < 
şau£CÁ
; i++)

1753 ià((
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
domašIdx
])))

1754 
šã¼edCÁs
[
i
] = (*
şau£TrueCÁs
)[i];

1756 
šã¼edCÁs
[
i
] = (*
şau£TrueCÁs
)[i] / 
numSam¶es
;

1758 ià(!(
ÏzyInã»nû_
 || (
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
domašIdx
]))))

1759 
ŒašCÁs
 = 
ŒašTrueCÁs_
[
domašIdx
];

1761 ià(
dldebug
)

1762 
cout
 << "numSam¶e ğ" << 
numSam¶es
 << 
’dl
;

1766 
şau£no
 = 0; cÏu£nØ< 
şau£CÁ
; clauseno++)

1768 ià(!
»ËvªtCÏu£s
[
şau£no
]) ;

1769 ià(
ÏzyInã»nû_
 || (
bp_
 = 
dyÇmic_ÿ¡
<
BP
*>(
šã»nûs_
[
domašIdx
])))

1771 
şau£T¿šCÁs
[
şau£no
] = clauseTrainCnts[clauseno] +

1772 
tÙ®TrueCÁs_
[
domašIdx
][
şau£no
] -

1773 
deçuÉTrueCÁs_
[
domašIdx
][
şau£no
];

1774 
şau£Inã¼edCÁs
[
şau£no
] +ğ
šã¼edCÁs
[clauseno];

1778 
şau£T¿šCÁs
[
şau£no
] +ğ
ŒašCÁs
[clauseno];

1779 
şau£Inã¼edCÁs
[
şau£no
] +ğ
šã¼edCÁs
[clauseno];

1784 ià(
dldebug
)

1786 
cout
 << "Domaš " << 
domašIdx
 << "‚‘ couÁ : " << 
’dl
;

1787 
cout
 << "\t\‰¿š couÁ\t\t\t\tšã¼ed couÁ" << 
’dl
 <<ƒndl;

1790 
şau£no
 = 0; cÏu£nØ< 
şau£CÁ
; clauseno++)

1792 ià(!
»ËvªtCÏu£s
[
şau£no
]) ;

1794 ià(
dldebug
)

1795 
cout
 << 
şau£no
 << ":\t\t" << 
şau£T¿šCÁs
[clauseno] << "\t\t\t\t"

1796 << 
şau£Inã¼edCÁs
[
şau£no
] << 
’dl
;

1799 ià(
»sÿËG¿d›Á_
 && 
şau£T¿šCÁs
[
şau£no
] > 0)

1801 
g¿d›Á
[
şau£no
] -=

1802 (
şau£T¿šCÁs
[
şau£no
] - 
şau£Inã¼edCÁs
[clauseno])

1803 / 
şau£T¿šCÁs
[
şau£no
];

1807 
g¿d›Á
[
şau£no
] -ğ
şau£T¿šCÁs
[clauseno] -

1808 
şau£Inã¼edCÁs
[
şau£no
];

1812 
d–‘e
[] 
šã¼edCÁs
;

1813 
d–‘e
[] 
şau£T¿šCÁs
;

1814 
d–‘e
[] 
şau£Inã¼edCÁs
;

1815 
	}
}

1819 
	$g‘G¿d›Á
(* cÚ¡ & 
weights
, * cÚ¡ & 
g¿d›Á
,

1820 cÚ¡ 
numWts
)

1823 
	`mem£t
(
g¿d›Á
, 0, 
numWts
*());

1826 ià(
idxT¿ns_
 =ğ
NULL
)

1828 
i
 = 0; i < 
domašCÁ_
; i++)

1831 
	`g‘G¿d›ÁFÜDomaš
(
g¿d›Á
, 
i
);

1837 
A¼ay
<A¼ay<> >* 
g¿dsP”Domaš
 = 
idxT¿ns_
->
	`g‘G¿dsP”Domaš
();

1838 cÚ¡ 
A¼ay
<A¼ay<A¼ay<
IdxDiv
>*> >* 
cIdxToCFIdxsP”Domaš


1839 ğ
idxT¿ns_
->
	`g‘CÏu£IdxToCÏu£FÜmuÏIdxsP”Domaš
();

1841 
i
 = 0; i < 
domašCÁ_
; i++)

1845 
A¼ay
<>& 
g¿ds
 = (*
g¿dsP”Domaš
)[
i
];

1846 
	`mem£t
((*)
g¿ds
.
	`g‘I‹ms
(), 0, g¿ds.
	`size
()*());

1848 
	`g‘G¿d›ÁFÜDomaš
((*)
g¿ds
.
	`g‘I‹ms
(), 
i
);

1851 
	`as£¹
(
g¿ds
.
	`size
(è=ğ
şau£CÁP”Domaš_
[
i
]);

1852 
j
 = 0; j < 
g¿ds
.
	`size
(); j++)

1854 
A¼ay
<
IdxDiv
>* 
idxDivs
 = (*
cIdxToCFIdxsP”Domaš
)[
i
][
j
];

1855 
k
 = 0; k < 
idxDivs
->
	`size
(); k++)

1856 
g¿d›Á
[ (*
idxDivs
)[
k
].
idx
 ] +ğ
g¿ds
[
j
] / (*idxDivs)[k].
div
;

1862 ià(
u£PriÜ_
)

1864 
i
 = 0; i < 
numWts
; i++)

1867 
sd
 = 
´iÜStdDevs_
[
i
];

1868 
´iÜD”iv©ive
 = (
weights
[
i
]-
´iÜM—ns_
[i])/(
sd
*sd);

1871 
g¿d›Á
[
i
] +ğ
´iÜD”iv©ive
;

1875 
	}
}

1877 
	gpublic
:

1880 cÚ¡ 
SIMPLE
 = 0;

1881 cÚ¡ 
	gDN
 = 2;

1882 cÚ¡ 
	gCG
 = 3;

1885 
	g´iv©e
:

1886 
domašCÁ_
;

1887 
	gA¼ay
<A¼ay<> > 
	glogOddsP”Domaš_
;

1888 
	gA¼ay
<> 
	gşau£CÁP”Domaš_
;

1891 
	gA¼ay
<A¼ay<> > 
	gtÙ®TrueCÁs_
;

1892 
	gA¼ay
<A¼ay<> > 
	gtÙ®F®£CÁs_
;

1893 
	gA¼ay
<A¼ay<> > 
	gdeçuÉTrueCÁs_
;

1894 
	gA¼ay
<A¼ay<> > 
	gdeçuÉF®£CÁs_
;

1896 
	gA¼ay
<A¼ay<
	gboŞ
> > 
	g»ËvªtCÏu£sP”Domaš_
;

1897 
	gA¼ay
<
	gboŞ
> 
	g»ËvªtCÏu£sFÜmuÏs_
;

1900 
	gA¼ay
<*> 
	gŒašTrueCÁs_
;

1901 
	gA¼ay
<*> 
	gŒašF®£CÁs_
;

1903 
boŞ
 
	gu£PriÜ_
;

1904 cÚ¡ * 
	g´iÜM—ns_
, * 
	g´iÜStdDevs_
;

1906 
IndexT¿n¦©Ü
* 
	gidxT¿ns_
;

1908 
boŞ
 
	gÏzyInã»nû_
;

1909 
boŞ
 
	gisQu”yEvid’û_
;

1910 
boŞ
 
	g»sÿËG¿d›Á_
;

1911 
	gm‘hod_
;

1912 
	gcg_Ïmbda_
;

1913 
boŞ
 
	g´ecÚd™iÚCG_
;

1915 
	gmaxBackŒacks_
;

1916 
	gbackŒackCouÁ_
;

1917 
	gcg_max_Ïmbda_
;

1918 
	gmš_Î_chªge_
;

1920 
	gA¼ay
<
	gInã»nû
*> 
	gšã»nûs_
;

1923 
boŞ
 
	gw™hEM_
;

1924 
	gA¼ay
<
	gInã»nû
*> 
	gemInã»nûs_
;

1926 
	gA¼ay
<*> 
	gemDiffCÁs_
;

1929 
BP
* 
	gbp_
;

	@learnwts/indextranslator.h

67 #iâdeà
INDEXTRANSLATOR_H_NOV_29_2005


68 
	#INDEXTRANSLATOR_H_NOV_29_2005


	)

71 
	~"mÊ.h
"

75 
	sIdxDiv
 { 
	midx
; 
	mdiv
; };

78 şas 
	cIndexT¿n¦©Ü


80 
	mpublic
:

81 
IndexT¿n¦©Ü
(cÚ¡ 
A¼ay
<
MLN
*>* cÚ¡ & 
mÊs
,

82 cÚ¡ 
A¼ay
<
Domaš
*>* cÚ¡ & 
domašs
)

83 : 
mÊs_
(
mÊs
), 
domašs_
(
domašs
), 
cIdxToCFIdxsP”Domaš_
(
NULL
),

84 
wtsP”Domaš_
(
NULL
), 
g¿dsP”Domaš_
(NULL),

85 
şau£Ord”šg_
(
NULL
), 
	$exi¡FÜmuÏOrd”šg_
(
NULL
)

86 { 
	`ü—‹CÏu£IdxToCÏu£FÜmuÏIdxsM­
(); }

89 ~
	$IndexT¿n¦©Ü
()

91 ià(
cIdxToCFIdxsP”Domaš_
)

93 
i
 = 0; i < 
cIdxToCFIdxsP”Domaš_
->
	`size
(); i++)

94 (*
cIdxToCFIdxsP”Domaš_
)[
i
].
	`d–‘eI‹msAndCË¬
();

95 
d–‘e
 
cIdxToCFIdxsP”Domaš_
;

97 ià(
wtsP”Domaš_
è
d–‘e
 wtsPerDomain_;

98 ià(
g¿dsP”Domaš_
è
d–‘e
 gradsPerDomain_;

99 ià(
şau£Ord”šg_
)

100 { 
şau£Ord”šg_
->
	`d–‘eI‹msAndCË¬
(); 
d–‘e
 clauseOrdering_; }

101 ià(
exi¡FÜmuÏOrd”šg_
è
d–‘e
ƒxistFormulaOrdering_;

102 
	}
}

109 
boŞ
 
ÃedIndexT¿n¦©Ü
(cÚ¡ 
A¼ay
<
MLN
*>& 
mÊs
,

110 cÚ¡ 
A¼ay
<
Domaš
*>& 
domašs
)

112 ià(
	gmÊs
.
size
(è<ğ1è 
çl£
;

114 
	gi
 = 1; i < 
	gmÊs
.
size
(); i++)

115 ià(
	gmÊs
[0]->
g‘NumCÏu£s
(è!ğ
mÊs
[
i
]->g‘NumCÏu£s()è 
Œue
;

120 
boŞ
 
	g®lT›dFÜmuÏsHaveOÃCÏu£
 = 
Œue
;

121 
	gi
 = 0; i < 
	gmÊs
.
size
(); i++)

123 cÚ¡ 
FÜmuÏAndCÏu£sA¼ay
* 
	gâÿ
 = 
mÊs
[
i
]->
g‘FÜmuÏAndCÏu£sA¼ay
();

124 
	gj
 = 0; j < 
	gâÿ
->
size
(); j++)

126 ià(
fÜmuÏWtT›dToCÏu£Wts
((*
âÿ
)[
j
]) &&

127 (*
	gâÿ
)[
j
]->
	gšdexCÏu£s
->
size
() > 1)

129 
	g®lT›dFÜmuÏsHaveOÃCÏu£
 = 
çl£
;

133 ià(!
	g®lT›dFÜmuÏsHaveOÃCÏu£
) ;

136 ià(
	g®lT›dFÜmuÏsHaveOÃCÏu£
è 
	gçl£
;

143 
	gi
 = 0; i < 
	gmÊs
[0]->
g‘NumCÏu£s
(); i++)

146 ià(
t›CÏu£WtToFÜmuÏWt
(
mÊs
[0], 
i
))

148 
o¡ršg¡»am
 
	goss0
;

149 
	gmÊs
[0]->
g‘CÏu£
(
i
)->
´štW™houtWtW™hSŒV¬
(
oss0
, 
domašs
[0]);

150 
	gj
 = 1; j < 
	gmÊs
.
size
(); j++)

152 
o¡ršg¡»am
 
	gossj
;

153 
	gmÊs
[
j
]->
g‘CÏu£
(
i
)->
´štW™houtWtW™hSŒV¬
(
ossj
, 
domašs
[j]);

154 ià(
	goss0
.
¡r
().
com·»
(
ossj
.¡r()è!ğ0è 
Œue
;

159  
	gçl£
;

163 cÚ¡ 
	gA¼ay
<A¼ay<A¼ay<
	gIdxDiv
>*> >*

164 
	$g‘CÏu£IdxToCÏu£FÜmuÏIdxsP”Domaš
() const

165 {  
cIdxToCFIdxsP”Domaš_
; 
	}
}

167 
	gA¼ay
<A¼ay<> >* 
	$g‘WtsP”Domaš
(ècÚ¡ {  
wtsP”Domaš_
; 
	}
}

169 
	gA¼ay
<A¼ay<> >* 
	$g‘G¿dsP”Domaš
(ècÚ¡ {  
g¿dsP”Domaš_
; 
	}
}

171 cÚ¡ 
CÏu£HashA¼ay
* 
	$g‘CÏu£Ord”šg
(ècÚ¡ {  
şau£Ord”šg_
; 
	}
}

173 cÚ¡ 
SŒšgHashA¼ay
* 
	$g‘Exi¡FÜmuÏOrd”šg
() const

174 {  
exi¡FÜmuÏOrd”šg_
; 
	}
}

176 
	$g‘NumCÏu£sAndExi¡FÜmuÏs
() const

177 {  
şau£Ord”šg_
->
	`size
(è+ 
exi¡FÜmuÏOrd”šg_
->size(); 
	}
}

182 
boŞ
 
	$checkCIdxWtsG¿dsSize
(cÚ¡ & 
numAdded
)

184 
i
 = 0; i < 
mÊs_
->
	`size
(); i++)

186 
sz
 = (*
mÊs_
)[
i
]->
	`g‘NumCÏu£s
(è+ 
numAdded
;

187 ià((*
cIdxToCFIdxsP”Domaš_
)[
i
].
	`size
(è!ğ
sz
è 
çl£
;

188 ià((*
wtsP”Domaš_
)[
i
].
	`size
(è!ğ
sz
è 
çl£
;

189 ià((*
g¿dsP”Domaš_
)[
i
].
	`size
(è!ğ
sz
è 
çl£
;

191  
Œue
;

192 
	}
}

197 
upd©eCÏu£FÜmuÏWtsInMLNs
(cÚ¡ 
A¼ay
<>& 
wts
,

198 cÚ¡ 
A¼ay
<
CÏu£
*>*cÚ¡& 
­³ndedCÏu£s
,

199 cÚ¡ 
A¼ay
<
¡ršg
>*cÚ¡& 
­³ndedFÜmuÏs
)

201 
as£¹
(
­³ndedCÏu£s
 =ğ
NULL
 || 
­³ndedFÜmuÏs
 == NULL);

202 
Domaš
* 
	gdom0
 = (*
domašs_
)[0];

203 
	gi
 = 0; i < 
	gmÊs_
->
size
(); i++)

205 
MLN
* 
	gmÊ
 = (*
mÊs_
)[
i
];

206 
Domaš
* 
	gdom
 = (*
domašs_
)[
i
];

208 
	gj
 = 0; j < 
	gşau£Ord”šg_
->
size
(); j++)

210 
CÏu£
* 
	gc
 = (*
şau£Ord”šg_
)[
j
];

211 ià(
	gi
 > 0 && 
	gc
->
cÚšsCÚ¡ªts
()èc->
Œª¦©eCÚ¡ªts
(
dom0
, 
dom
);

212 
CÏu£
* 
	gcc
 = (CÏu£*è
mÊ
->
fšdCÏu£
(
c
);

213 ià(
	gi
 > 0 && 
	gc
->
cÚšsCÚ¡ªts
()èc->
Œª¦©eCÚ¡ªts
(
dom
, 
dom0
);

214 
	gcc
->
£tWt
(
wts
[
j
]);

217 
	goff£t
 = 
şau£Ord”šg_
->
size
();

219 
	gj
 = 0; j < 
	gexi¡FÜmuÏOrd”šg_
->
size
(); j++)

220 
	gmÊ
->
£tFÜmuÏWt
((*
exi¡FÜmuÏOrd”šg_
)[
j
], 
wts
[
off£t
+j]);

222 
	goff£t
 +ğ
exi¡FÜmuÏOrd”šg_
->
size
();

224 ià(
	g­³ndedCÏu£s
)

226 
	gj
 = 0; j < 
	g­³ndedCÏu£s
->
size
(); j++)

228 
CÏu£
* 
	gc
 = (*
­³ndedCÏu£s
)[
j
];

229 ià(
	gi
 > 0 && 
	gc
->
cÚšsCÚ¡ªts
()èc->
Œª¦©eCÚ¡ªts
(
dom0
, 
dom
);

230 
CÏu£
* 
	gcc
 = (CÏu£*è
mÊ
->
fšdCÏu£
(
c
);

231 ià(
	gi
 > 0 && 
	gc
->
cÚšsCÚ¡ªts
()èc->
Œª¦©eCÚ¡ªts
(
dom
, 
dom0
);

232 
	gcc
->
£tWt
(
wts
[
off£t
+
j
]);

236 ià(
	g­³ndedFÜmuÏs
)

238 
	gj
 = 0; j < 
	g­³ndedFÜmuÏs
->
size
(); j++)

239 
	gmÊ
->
£tFÜmuÏWt
((*
­³ndedFÜmuÏs
)[
j
], 
wts
[
off£t
+j]);

245 
g‘CÏu£FÜmuÏWts
(
A¼ay
<>& 
wts
) const

247 
	gwts
.
ş—r
();

248 
	gwts
.
growToSize
(
şau£Ord”šg_
->
size
(è+ 
exi¡FÜmuÏOrd”šg_
->size());

249 
	ga
 = 0;

250 
	gj
 = 0; j < 
	gşau£Ord”šg_
->
size
(); j++)

251 
	gwts
[
a
++] = (*
mÊs_
)[0]->
fšdCÏu£
((*
şau£Ord”šg_
)[
j
])->
g‘Wt
();

253 
	gj
 = 0; j < 
	gexi¡FÜmuÏOrd”šg_
->
size
(); j++)

254 
	gwts
[
a
++] = (*
mÊs_
)[0]->
g‘FÜmuÏWt
((*
exi¡FÜmuÏOrd”šg_
)[
j
]);

260 
	$ü—‹CÏu£IdxToCÏu£FÜmuÏIdxsM­
()

262 
	`as£¹
(
mÊs_
->
	`size
(è=ğ
domašs_
->size());

263 ià(
mÊs_
->
	`size
() <= 1) ;

264 ià(
cIdxToCFIdxsP”Domaš_
)

266 
i
 = 0; i < 
cIdxToCFIdxsP”Domaš_
->
	`size
(); i++)

267 (*
cIdxToCFIdxsP”Domaš_
)[
i
].
	`d–‘eI‹msAndCË¬
();

268 
d–‘e
 
cIdxToCFIdxsP”Domaš_
;

270 ià(
wtsP”Domaš_
è
d–‘e
 wtsPerDomain_;

271 ià(
g¿dsP”Domaš_
è
d–‘e
 gradsPerDomain_;

272 ià(
şau£Ord”šg_
)

273 { 
şau£Ord”šg_
->
	`d–‘eI‹msAndCË¬
(); 
d–‘e
 clauseOrdering_; }

274 ià(
exi¡FÜmuÏOrd”šg_
è
d–‘e
ƒxistFormulaOrdering_;

276 
	`ŒackCÏu£CÚ¡ªts
();

277 
şau£Ord”šg_
 = 
Ãw
 
CÏu£HashA¼ay
;

278 
exi¡FÜmuÏOrd”šg_
 = 
Ãw
 
SŒšgHashA¼ay
;

279 
	`ü—‹CÏu£sFÜmuÏsOrd”šg
((*
mÊs_
)[0], 
şau£Ord”šg_
,

280 
exi¡FÜmuÏOrd”šg_
);

282 
cIdxToCFIdxsP”Domaš_
 = 
Ãw
 
A¼ay
<A¼ay<A¼ay<
IdxDiv
>*> >;

283 
wtsP”Domaš_
 = 
Ãw
 
A¼ay
<Array<> >;

284 
g¿dsP”Domaš_
 = 
Ãw
 
A¼ay
<Array<> >;

285 
cIdxToCFIdxsP”Domaš_
->
	`growToSize
(
mÊs_
->
	`size
());

286 
wtsP”Domaš_
->
	`growToSize
(
mÊs_
->
	`size
());

287 
g¿dsP”Domaš_
->
	`growToSize
(
mÊs_
->
	`size
());

289 
Domaš
* 
dom0
 = (*
domašs_
)[0];

290 
i
 = 0; i < 
mÊs_
->
	`size
(); i++)

292 
MLN
* 
mÊ
 = (*
mÊs_
)[
i
];

293 
Domaš
* 
dom
 = (*
domašs_
)[
i
];

294 cÚ¡ 
FÜmuÏAndCÏu£sA¼ay
* 
âÿ
 = 
mÊ
->
	`g‘FÜmuÏAndCÏu£sA¼ay
();

295 
A¼ay
<A¼ay<
IdxDiv
>*>& 
cIdxToCFIdxsM­
 = (*
cIdxToCFIdxsP”Domaš_
)[
i
];

296 
cIdxToCFIdxsM­
.
	`growToSize
(
mÊ
->
	`g‘NumCÏu£s
());

297 (*
wtsP”Domaš_
)[
i
].
	`growToSize
(
mÊ
->
	`g‘NumCÏu£s
());

298 (*
g¿dsP”Domaš_
)[
i
].
	`growToSize
(
mÊ
->
	`g‘NumCÏu£s
());

300 
j
 = 0; j < 
mÊ
->
	`g‘NumCÏu£s
(); j++)

302 
A¼ay
<
IdxDiv
>* 
cfIdxs
 = 
Ãw
 Array<IdxDiv>;

303 
cIdxToCFIdxsM­
[
j
] = 
cfIdxs
;

308 ià(
	`noT›CÏu£WtToFÜmuÏWt
(
mÊ
,
j
))

310 
CÏu£
* 
c
 = (CÏu£*è
mÊ
->
	`g‘CÏu£
(
j
);

311 ià(
i
 > 0 && 
c
->
	`cÚšsCÚ¡ªts
()èc->
	`Œª¦©eCÚ¡ªts
(
dom
, 
dom0
);

312 
idx
 = 
şau£Ord”šg_
->
	`fšd
(
c
);

313 
cfIdxs
->
	`­³nd
(
	`IdxDiv
());

314 
cfIdxs
->
	`Ï¡I‹m
().
idx
 = idx;

315 
cfIdxs
->
	`Ï¡I‹m
().
div
 = 1;

316 ià(
i
 > 0 && 
c
->
	`cÚšsCÚ¡ªts
()èc->
	`Œª¦©eCÚ¡ªts
(
dom0
, 
dom
);

317 ià(
idx
 < 0)

319 
cout
 <<"ERROR: in IndexTranslator::"

321 
c
->
	`´štW™houtWtW™hSŒV¬
(
cout
, 
dom
); couˆ<< "nÙ found!"<<
’dl
;

322 
	`ex™
(-1);

329 ià(
	`t›CÏu£WtToFÜmuÏWt
(
mÊ
, 
j
))

331 cÚ¡ 
A¼ay
<
FÜmuÏCÏu£Indexes
*>& 
fciA¼


332 ğ
mÊ
->
	`g‘MLNCÏu£Info
(
j
)->
fÜmuÏCÏu£Indexes
;

334 
k
 = 0; k < 
fciA¼
.
	`size
(); k++)

336 
fidx
 = *(
fciA¼
[
k
]->
fÜmuÏIndex
);

337 ià(!
	`fÜmuÏWtT›dToCÏu£Wts
((*
âÿ
)[
fidx
])) ;

338 
¡ršg
 
fÜmuÏ
 = (*
âÿ
)[
fidx
]->formula;

339 
numCÏu£s
 = (*
âÿ
)[
fidx
]->
šdexCÏu£s
->
	`size
();

340 
idx
 = 
exi¡FÜmuÏOrd”šg_
->
	`fšd
(
fÜmuÏ
);

341 
cfIdxs
->
	`­³nd
(
	`IdxDiv
());

343 
cfIdxs
->
	`Ï¡I‹m
().
idx
 = idx + 
şau£Ord”šg_
->
	`size
();

345 ià(
mÊ
->
	`isExi¡CÏu£
(
j
))

346 
cfIdxs
->
	`Ï¡I‹m
().
div
 = 
numCÏu£s
;

348 ià(
mÊ
->
	`isExi¡UniqueCÏu£
(
j
))

351 
CÏu£
* 
fœ¡CÏu£


352 ğ(*((*
âÿ
)[
fidx
]->
šdexCÏu£s
))[0]->
şau£
;

353 
numP»ds
 = 
fœ¡CÏu£
->
	`g‘NumP»diÿ‹s
();

354 
CÏu£
* 
c
 = (CÏu£*è
mÊ
->
	`g‘CÏu£
(
j
);

355 ià(
c
->
	`§me
(
fœ¡CÏu£
))

356 
cfIdxs
->
	`Ï¡I‹m
().
div
 = (
numP»ds
 > 1) ?‚umPreds+1 : 1;

358 
cfIdxs
->
	`Ï¡I‹m
().
div
 = (
numP»ds
*numPreds-1)*0.5;

361 
	`as£¹
(
çl£
);

364 ià(
idx
 < 0)

366 
cout
 << "ERROR: in createClauseIdxToClauseFormulaIdxsMap(): "

367 << "fÜmuÏ " << 
fÜmuÏ
 << "nÙ found!" << 
’dl
;

368 
	`ex™
(-1);

373 
cfIdxs
->
	`com´ess
();

377 
	}
}

380 
	$­³ndCÏu£IdxToCÏu£FÜmuÏIdxs
(cÚ¡ & 
numCFIdxs
,

381 cÚ¡ & 
numCIdxsP”CFIdx
,

382 cÚ¡ & 
domašIdx
)

384 ià(
numCFIdxs
 == 0) ;

385 
A¼ay
<A¼ay<
IdxDiv
>*>& 
cidxs
 = (*
cIdxToCFIdxsP”Domaš_
)[
domašIdx
];

386 
A¼ay
<>& 
wts
 = (*
wtsP”Domaš_
)[
domašIdx
];

387 
A¼ay
<>& 
g¿ds
 = (*
g¿dsP”Domaš_
)[
domašIdx
];

388 
numCÏu£sFÜmuÏs
 = 
	`g‘NumCÏu£sAndExi¡FÜmuÏs
();

390 
j
 = 0; j < 
numCFIdxs
; j++)

392 
cfidx
 = 
numCÏu£sFÜmuÏs
 + 
j
;

393 
k
 = 0; k < 
numCIdxsP”CFIdx
; k++)

395 
IdxDiv
 
idiv
;

396 
idiv
.
idx
 = 
cfidx
;

397 
idiv
.
div
 = 1;

398 
A¼ay
<
IdxDiv
>* 
¬r
 = 
Ãw
 Array<IdxDiv>(1);

399 
¬r
->
	`­³nd
(
idiv
);

400 
cidxs
.
	`­³nd
(
¬r
);

402 
wts
.
	`­³nd
(0.0);

403 
g¿ds
.
	`­³nd
(0.0);

406 
	}
}

409 
	$­³ndCÏu£IdxToCÏu£FÜmuÏIdxs
(cÚ¡ & 
numCFIdxs
,

410 cÚ¡ & 
numCIdxsP”CFIdx
)

412 ià(
numCFIdxs
 == 0) ;

413 
i
 = 0; i < 
cIdxToCFIdxsP”Domaš_
->
	`size
(); i++)

414 
	`­³ndCÏu£IdxToCÏu£FÜmuÏIdxs
(
numCFIdxs
, 
numCIdxsP”CFIdx
, 
i
);

415 
	}
}

418 
	$»moveCÏu£IdxToCÏu£FÜmuÏIdxs
(cÚ¡ & 
numCFIdxs
,

419 cÚ¡ & 
numCIdxsP”CFIdx
,

420 cÚ¡ & 
domašIdx
)

422 ià(
numCFIdxs
 == 0) ;

423 
A¼ay
<A¼ay<
IdxDiv
>*>& 
cidxs
 = (*
cIdxToCFIdxsP”Domaš_
)[
domašIdx
];

424 
A¼ay
<>& 
wts
 = (*
wtsP”Domaš_
)[
domašIdx
];

425 
A¼ay
<>& 
g¿ds
 = (*
g¿dsP”Domaš_
)[
domašIdx
];

427 
j
 = 0; j < 
numCFIdxs
; j++)

428 
k
 = 0; k < 
numCIdxsP”CFIdx
; k++)

430 
d–‘e
 
cidxs
.
	`»moveLa¡I‹m
();

431 
wts
.
	`»moveLa¡I‹m
();

432 
g¿ds
.
	`»moveLa¡I‹m
();

434 
	}
}

437 
	$»moveCÏu£IdxToCÏu£FÜmuÏIdxs
(cÚ¡ & 
numCFIdxs
,

438 cÚ¡ & 
numCIdxsP”CFIdx
)

440 ià(
numCFIdxs
 == 0) ;

441 
i
 = 0; i < 
cIdxToCFIdxsP”Domaš_
->
	`size
(); i++)

442 
	`»moveCÏu£IdxToCÏu£FÜmuÏIdxs
(
numCFIdxs
, 
numCIdxsP”CFIdx
, 
i
);

443 
	}
}

446 
£tPriÜM—ns
(
A¼ay
<>& 
´iÜM—ns
)

448 
	g´iÜM—ns
.
ş—r
();

449 
	g´iÜM—ns
.
growToSize
(
şau£Ord”šg_
->
size
() +

450 
exi¡FÜmuÏOrd”šg_
->
size
());

451 
	gm
 = 0;

452 
MLN
* 
	gmÊ0
 = (*
mÊs_
)[0];

454 
	gi
 = 0; i < 
	gşau£Ord”šg_
->
size
(); i++)

456 
CÏu£
* 
	gc
 = (*
şau£Ord”šg_
)[
i
];

457 
	gcidx
 = 
mÊ0
->
fšdCÏu£Idx
(
c
);

458 
	g´iÜM—ns
[
m
++] = 
mÊ0
->
g‘MLNCÏu£Info
(
cidx
)->
´iÜM—n
;

461 cÚ¡ 
FÜmuÏAndCÏu£sA¼ay
* 
	gâÿ
 = 
mÊ0
->
g‘FÜmuÏAndCÏu£sA¼ay
();

462 
	gi
 = 0; i < 
	gexi¡FÜmuÏOrd”šg_
->
size
(); i++)

464 
FÜmuÏAndCÏu£s
 
tmp
((*
exi¡FÜmuÏOrd”šg_
)[
i
], 0, 
çl£
, false,

465 
çl£
);

466 
	ga
 = 
âÿ
->
fšd
(&
tmp
);

467 
as£¹
(
a
 >= 0);

468 
	g´iÜM—ns
[
m
++] = (*
âÿ
)[
a
]->
´iÜM—n
;

475 
g‘CÏu£FÜmuÏIndexes
(
A¼ay
<>& 
şau£Indexes
, cÚ¡ & 
domašIdx
)

477 
	gi
 = 0; i < 
	gşau£Indexes
.
size
(); i++)

479 
	gcidx
 = 
şau£Indexes
[
i
];

480 
	gA¼ay
<
	gIdxDiv
>* 
	gidxDivs
 = (*
cIdxToCFIdxsP”Domaš_
)[
domašIdx
][
cidx
];

481 
	gj
 = 0; j < 
	gidxDivs
->
size
(); j++)

482 ià((*
	gidxDivs
)[
j
].
	gidx
 < 
	gşau£Ord”šg_
->
size
())

486 
as£¹
((*
idxDivs
)[
j
].
div
 == 1);

487 
	gşau£Indexes
[
i
] = (*
idxDivs
)[
j
].
idx
;

495 
	$assignNÚT›dCÏu£WtsToMLNs
(cÚ¡ * cÚ¡ & 
wts
)

497 
i
 = 0; i < 
mÊs_
->
	`size
(); i++)

499 
MLN
* 
mÊ
 = (*
mÊs_
)[
i
];

500 
j
 = 0; j < 
mÊ
->
	`g‘NumCÏu£s
(); j++)

502 ià(!
	`noT›CÏu£WtToFÜmuÏWt
(
mÊ
,
j
)) ;

504 
CÏu£
* 
c
 = ((CÏu£*è
mÊ
->
	`g‘CÏu£
(
j
));

505 
	`as£¹
(
	`šCÏu£Ord”šg
(
c
, 
i
));

506 
A¼ay
<
IdxDiv
>* 
idxDivs
 =(*
cIdxToCFIdxsP”Domaš_
)[
i
][
j
];

507 
wt
 = 0;

508 
k
 = 0; k < 
idxDivs
->
	`size
(); k++)

511 ià((*
idxDivs
)[
k
].
idx
 < 
şau£Ord”šg_
->
	`size
())

512 
wt
 +ğ
wts
[ (*
idxDivs
)[
k
].
idx
 ] / (*idxDivs)[k].
div
;

514 
c
->
	`£tWt
(
wt
);

517 
	}
}

520 
	$´štCÏu£FÜmuÏWts
(
o¡»am
& 
out
, cÚ¡ 
boŞ
& 
šşudeIdx
)

522 
A¼ay
<> 
wts
;

523 
	`g‘CÏu£FÜmuÏWts
(
wts
);

525 
A¼ay
<
CÏu£
*> 
tmp
;

526 
i
 = 0; i < 
şau£Ord”šg_
->
	`size
(); i++)

528 (*
şau£Ord”šg_
)[
i
]->
	`£tWt
(
wts
[i]);

529 
tmp
.
	`­³nd
((*
şau£Ord”šg_
)[
i
]);

531 
CÏu£
::
	`sÜtByL’
(
tmp
);

533 
out
.
	`£tf
(
ios_ba£
::
Ëá
, ios_ba£::
adju¡f›ld
);

534 
i
 = 0; i < 
tmp
.
	`size
(); i++)

536 ià(
šşudeIdx
è{ 
out
 << 
i
 << ": "; out.
	`width
(14); }

537 { 
out
.
	`width
(10); }

538 
out
 << 
tmp
[
i
]->
	`g‘Wt
(); out.
	`width
(0); out << " ";

539 
tmp
[
i
]->
	`´štW™houtWtW™hSŒV¬
(
out
, (*
domašs_
)[0]); ouˆ<< 
’dl
;

541 
out
.
	`width
(0);

543 
i
 = 0; i < 
exi¡FÜmuÏOrd”šg_
->
	`size
(); i++)

545 
idx
 = 
i
+
şau£Ord”šg_
->
	`size
();

546 ià(
šşudeIdx
è{ 
out
 << 
idx
 <<": ";out.
	`width
(14);}

547 { 
out
.
	`width
(10); }

548 
out
 << 
wts
[
idx
]; out.
	`width
(0);

549 
out
 << " " << (*
exi¡FÜmuÏOrd”šg_
)[
i
] << 
’dl
;

551 
out
.
	`width
(0);

552 
	}
}

556 
£tR–evªtCÏu£sFÜmuÏs
(
A¼ay
<
boŞ
>& 
»ËvªtCÏu£sFÜmuÏs
,

557 cÚ¡ 
A¼ay
<
boŞ
>& 
»ËvªtCÏu£sInMLN0
)

559 cÚ¡ 
	gA¼ay
<
	gboŞ
>& 
	g»ËvªtCÏu£s
 = 
»ËvªtCÏu£sInMLN0
;

561 ià(
	g»ËvªtCÏu£sFÜmuÏs
.
size
(è< 
	g»ËvªtCÏu£s
.size())

562 
	g»ËvªtCÏu£sFÜmuÏs
.
growToSize
(
»ËvªtCÏu£s
.
size
());

564 ià(
	g»ËvªtCÏu£sFÜmuÏs
.
size
(è> 
	g»ËvªtCÏu£s
.size())

565 
	g»ËvªtCÏu£sFÜmuÏs
.
shrškToSize
(
»ËvªtCÏu£s
.
size
());

567 
	gi
 = 0; i < 
	g»ËvªtCÏu£sFÜmuÏs
.
size
(); i++)

568 
	g»ËvªtCÏu£sFÜmuÏs
[
i
] = 
çl£
;

571 
	gi
 = 0; i < 
	gşau£Ord”šg_
->
size
(); i++)

573 
	gcidx
 = (*
mÊs_
)[0]->
fšdCÏu£Idx
((*
şau£Ord”šg_
)[
i
]);

574 
	g»ËvªtCÏu£sFÜmuÏs
[
i
] = 
»ËvªtCÏu£s
[
cidx
];

577 
	goff£t
 = 
şau£Ord”šg_
->
size
();

579 
	gi
 = 0; i < 
	gexi¡FÜmuÏOrd”šg_
->
size
(); i++)

581 cÚ¡ 
IndexCÏu£HashA¼ay
* 
	gicha


582 ğ(*
mÊs_
)[0]->
g‘CÏu£sOfFÜmuÏ
((*
exi¡FÜmuÏOrd”šg_
)[
i
]);

583 
	gj
 = 0; j < 
	gicha
->
size
(); j++)

585 
	gcidx
 = (*
mÊs_
)[0]->
fšdCÏu£Idx
((*
icha
)[
j
]->
şau£
);

586 
	g»ËvªtCÏu£sFÜmuÏs
[
off£t
+
i
] = 
»ËvªtCÏu£s
[
cidx
];

587 ià(
	g»ËvªtCÏu£sFÜmuÏs
[
off£t
+
i
]) ;

593 
´štR–evªtCÏu£sFÜmuÏs
(
o¡»am
& 
out
,

594 cÚ¡ 
A¼ay
<
boŞ
>& 
»ËvªtCÏu£sFÜmuÏs
)

596 
	gi
 = 0; i < 
	gşau£Ord”šg_
->
size
(); i++)

598 ià(
	g»ËvªtCÏu£sFÜmuÏs
[
i
])

600 
	gout
 << 
	gi
 << ": ";

601 (*
	gşau£Ord”šg_
)[
i
]->
´štW™houtWtW™hSŒV¬
(
out
, (*
domašs_
)[0]);

602 
	gout
 << 
	g’dl
;

606 
	goff£t
 = 
şau£Ord”šg_
->
size
();

608 
	gi
 = 0; i < 
	gexi¡FÜmuÏOrd”šg_
->
size
(); i++)

610 ià(
	g»ËvªtCÏu£sFÜmuÏs
[
off£t
+
i
])

611 
	gout
 << 
	goff£t
+
	gi
 << ": " << (*
	gexi¡FÜmuÏOrd”šg_
)[
i
] << 
	g’dl
;

616 
	g´iv©e
:

617 
	$ŒackCÏu£CÚ¡ªts
()

619 
i
 = 0; i < 
mÊs_
->
	`size
(); i++)

620 
j
 = 0; j < (*
mÊs_
)[
i
]->
	`g‘NumCÏu£s
(); j++)

621 ià(
	`noT›CÏu£WtToFÜmuÏWt
((*
mÊs_
)[
i
], 
j
))

623 
CÏu£
* 
c
 = (CÏu£*è(*
mÊs_
)[
i
]->
	`g‘CÏu£
(
j
);

624 ià(
c
->
	`g‘AuxCÏu£D©a
(è=ğ
NULL
èc->
	`ÃwAuxCÏu£D©a
();

625 
c
->
	`ŒackCÚ¡ªts
();

627 
	}
}

630 
	$ü—‹CÏu£sFÜmuÏsOrd”šg
(
MLN
* cÚ¡ & 
mÊ
,

631 
CÏu£HashA¼ay
* cÚ¡ & 
şau£s
,

632 
SŒšgHashA¼ay
* cÚ¡ & 
exi¡FÜmuÏs
)

634 
i
 = 0; i < 
mÊ
->
	`g‘NumCÏu£s
(); i++)

635 ià(
	`noT›CÏu£WtToFÜmuÏWt
(
mÊ
,
i
))

637 
CÏu£
* 
c
 = 
Ãw
 
	`CÏu£
Ğ*((CÏu£*)
mÊ
->
	`g‘CÏu£
(
i
)) );

638 
şau£s
->
	`­³nd
(
c
);

641 cÚ¡ 
FÜmuÏAndCÏu£sA¼ay
* 
âÿ
 = 
mÊ
->
	`g‘FÜmuÏAndCÏu£sA¼ay
();

642 
i
 = 0; i < 
âÿ
->
	`size
(); i++)

643 ià(
	`fÜmuÏWtT›dToCÏu£Wts
((*
âÿ
)[
i
]))

644 
exi¡FÜmuÏs
->
	`­³nd
((*
âÿ
)[
i
]->
fÜmuÏ
);

645 
	}
}

648 
boŞ
 
	$šCÏu£Ord”šg
(
CÏu£
* cÚ¡ & 
c
, cÚ¡ & 
domašIdx
)

650 
	`as£¹
(
c
->
	`g‘AuxCÏu£D©a
());

651 ià(
domašIdx
 > 0 && 
c
->
	`cÚšsCÚ¡ªts
())

652 
c
->
	`Œª¦©eCÚ¡ªts
((*
domašs_
)[
domašIdx
], (*domains_)[0]);

653 
boŞ
 
š
 = (
şau£Ord”šg_
->
	`fšd
(
c
) >= 0);

654 ià(
domašIdx
 > 0 && 
c
->
	`cÚšsCÚ¡ªts
())

655 
c
->
	`Œª¦©eCÚ¡ªts
((*
domašs_
)[0], (*domašs_)[
domašIdx
]);

656  
š
;

657 
	}
}

664 
boŞ
 
	$t›CÏu£WtToFÜmuÏWt
(cÚ¡ 
MLN
* cÚ¡ & 
mÊ
, cÚ¡ & 
i
)

665 {  (
mÊ
->
	`isExi¡CÏu£
(
i
è|| mÊ->
	`isExi¡UniqueCÏu£
(i)); 
	}
}

668 
boŞ
 
	$fÜmuÏWtT›dToCÏu£Wts
(cÚ¡ 
FÜmuÏAndCÏu£s
* cÚ¡ & 
âc
)

669 {  (
âc
->
hasExi¡
 || fnc->
isExi¡Unique
); 
	}
}

676 
boŞ
 
	$noT›CÏu£WtToFÜmuÏWt
(cÚ¡ 
MLN
* cÚ¡ & 
mÊ
, cÚ¡ & 
i
)

677 {  
mÊ
->
	`şau£InNÚExi¡AndNÚExi¡UniqueFÜmuÏCNF
(
i
); 
	}
}

679 
	g´iv©e
:

680 cÚ¡ 
A¼ay
<
MLN
*>* 
mÊs_
;

681 cÚ¡ 
	gA¼ay
<
	gDomaš
*>* 
	gdomašs_
;

688 
	gA¼ay
<A¼ay<A¼ay<
	gIdxDiv
>*> >* 
	gcIdxToCFIdxsP”Domaš_
;

689 
	gA¼ay
<A¼ay<> >* 
	gwtsP”Domaš_
;

690 
	gA¼ay
<A¼ay<> >* 
	gg¿dsP”Domaš_
;

692 
CÏu£HashA¼ay
* 
	gşau£Ord”šg_
;

693 
SŒšgHashA¼ay
* 
	gexi¡FÜmuÏOrd”šg_
;

	@learnwts/lbfgsb.h

67 #iâdeà
LBFGSB_H_SEP_17_2005


68 
	#LBFGSB_H_SEP_17_2005


	)

70 
	~<cm©h
>

71 
	~<c¡dlib
>

72 
	~<f¡»am
>

73 
	~"tim”.h
"

74 
	~"p£udŞoglik–ihood.h
"

75 
	~"PŞynomŸl.h
"

77 cÚ¡ 
	gLBFGSB_PRINT
 = 1;

85 şas 
	cLBFGSB


87 
	mpublic
:

88 
	$LBFGSB
(cÚ¡ & 
maxI‹r
, cÚ¡ & 
áŞ
,

89 
P£udoLogLik–ihood
* cÚ¡& 
¶l
, cÚ¡ & 
numWts
)

90 : 
	`maxI‹r_
(
maxI‹r
), 
	`áŞ_
(
áŞ
), 
	`¶l_
(
¶l
),

91 
	`nbd_
(
NULL
), 
	`iwa_
(NULL), 
	`l_
(NULL), 
	`u_
(NULL), 
	`g_
(NULL), 
	$wa_
(
NULL
)

92 { 
	`š™
(
numWts
); }

95 ~
	$LBFGSB
(è{ 
	`de¡roy
(); 
	}
}

98 
	$£tMaxI‹r
(cÚ¡ & 
™”
è{ 
maxI‹r_
 = i‹r; 
	}
}

100 
	$£tFtŞ
(cÚ¡ & 
tŞ
è{ 
áŞ_
 =Ş; 
	}
}

103 
	$š™
(cÚ¡ & 
numWts
)

105 
	`de¡roy
();

106 
numWts_
 = 
numWts
;

107 
mmax
 = 17;

108 
nbd_
 = 
Ãw
 [
numWts_
+1];

109 
iwa_
 = 
Ãw
 [3*
numWts_
+1];

110 
l_
 = 
Ãw
 [
numWts_
+1];

111 
u_
 = 
Ãw
 [
numWts_
+1];

112 
g_
 = 
Ãw
 [
numWts_
+1];

113 
wa_
 = 
Ãw
 [2*
mmax
*
numWts_
+4*numWts_+12*mmax*mmax+12*mmax+1];

114 
	}
}

117 
	$»In™
(cÚ¡ & 
numWts
)

119 ià(
numWts_
 =ğ
numWts
) ;

120 
	`š™
(
numWts
);

121 
	}
}

123 
	$de¡roy
()

125 ià(
nbd_
 !ğ
NULL
è
d–‘e
 []‚bd_;

126 ià(
iwa_
 !ğ
NULL
è
d–‘e
 [] iwa_;

127 ià(
l_
 !ğ
NULL
è
d–‘e
 []†_;

128 ià(
u_
 !ğ
NULL
è
d–‘e
 [] u_;

129 ià(
g_
 !ğ
NULL
è
d–‘e
 [] g_;

130 ià(
wa_
 !ğ
NULL
è
d–‘e
 [] wa_;

131 
	}
}

133 
	$mšimize
(* cÚ¡ & 
wts
, & 
™”
, 
boŞ
& 
”rÜ
)

135 
”rÜ
 = 
çl£
;

136 
m
 = 5;

137 
f
;

138 
çùr
 = 0;

139 
pgtŞ
 = 0;

141 
of¡»am
* 
™fe
 = 
NULL
;

142 
ršt
 = 
LBFGSB_PRINT
;

143 ià(
ršt
 >ğ1è
™fe
 = 
Ãw
 
	`of¡»am
("iterate.dat");

144 
™”
 = 0;

147 
i
 = 0; i <ğ
numWts_
; i++è
nbd_
[i] = 0;

149 
	`¡rıy
(
sk_
,"START");

150 
i
 = 5; i <ğ60; i++è
sk_
[i]=' ';

152 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

153 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

155 
š™ŸlV®ue
 = 0, 
´evV®ue
 = 0, 
ÃwV®ue
;

156 
boŞ
 
fœ¡I‹r
 = 
Œue
;

159 
	`¡ºcmp
(
sk_
,"FG",2)==0 || strncmp(task_,"NEW_X",5)==0)

161 ià(
	`¡ºcmp
(
sk_
,"FG",2)==0)

163 
f
 = 
	`g‘V®ueAndG¿d›Á
(
g_
, 
wts
);

165 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

166 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

168 ià(
fœ¡I‹r
è{ fœ¡I‹¸ğ
çl£
; 
´evV®ue
 = 
f
; 
š™ŸlV®ue
 = f; }

174 ià(
™”
+1 > 
maxI‹r_
) ;

175 ++
™”
;

176 
ÃwV®ue
 = 
f
;

178 ià(
	`çbs
(
ÃwV®ue
-
´evV®ue
è< 
áŞ_
*fabs(prevValue)) ;

179 
´evV®ue
 = 
ÃwV®ue
;

181 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

182 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

191 ià(
	`¡ºcmp
(
sk_
,"ABNO",4) == 0)

193 
cout
 << "ERROR: LBFGSB faed. R‘uºed ABNO" << 
’dl
;

194 
”rÜ
 = 
Œue
;

195  
š™ŸlV®ue
;

198 ià(
	`¡ºcmp
(
sk_
,"ERROR",5)==0)

200 
cout
 << "ERROR: LBFGSB faed. R‘uºed ERROR" << 
’dl
;

201 
”rÜ
 = 
Œue
;

202  
š™ŸlV®ue
;

205 ià(
	`¡ºcmp
(
sk_
,"CONV",4)==0)

210  
f
;

211 
	}
}

213 
	$mšimize
(cÚ¡ & 
numWts
, * cÚ¡ & 
wts
, & 
™”
,
boŞ
& 
”rÜ
)

215 
	`»In™
(
numWts
);

216  
	`mšimize
(
wts
, 
™”
, 
”rÜ
);

217 
	}
}

219 
	$¡¬tPl
(* cÚ¡ & 
wts
, & 
™”
, 
boŞ
& 
”rÜ
, 
PŞyNomŸl
& 
¶
)

221 
”rÜ
 = 
çl£
;

222 
m
 = 5;

223 
f
;

224 
çùr
 = 0;

225 
pgtŞ
 = 0;

227 
of¡»am
* 
™fe
 = 
NULL
;

228 
ršt
 = 
LBFGSB_PRINT
;

229 ià(
ršt
 >ğ1è
™fe
 = 
Ãw
 
	`of¡»am
("iterate.dat");

230 
™”
 = 0;

235 
i
 = 0; i <ğ
numWts_
; i++è
nbd_
[i] = 2;

237 
	`¡rıy
(
sk_
,"START");

238 
i
 = 5; i <ğ60; i++è
sk_
[i]=' ';

241 
¶
.
v¬V®ue_
.
	`ş—r
();

242 
i
 = 0; i < 
numWts_
; i++è
¶
.
v¬V®ue_
.
	`­³nd
(
wts
[i+1]);

244 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

245 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

247 
™”
++;

248 
¶
.
v¬V®ue_
.
	`ş—r
();

249 
i
 = 0; i < 
numWts_
; i++è
¶
.
v¬V®ue_
.
	`­³nd
(
wts
[i+1]);

250  
f
;

251 
	}
}

253 
	$´oûedOÃS‹pPl
(* cÚ¡ & 
wts
, & 
š™ŸlV®ue
, & 
™”
, 
boŞ
& 
”rÜ
, 
PŞyNomŸl
& 
¶
)

255 
”rÜ
 = 
çl£
;

256 
m
 = 5;

257 
f
 = 
š™ŸlV®ue
;

258 
çùr
 = 0;

259 
pgtŞ
 = 0;

261 
of¡»am
* 
™fe
 = 
NULL
;

262 
ršt
 = 
LBFGSB_PRINT
;

263 ià(
ršt
 >ğ1è
™fe
 = 
Ãw
 
	`of¡»am
("iterate.dat");

266 ià(
	`¡ºcmp
(
sk_
,"FG",2)==0)

268 
f
 = 
	`g‘V®ueAndG¿d›ÁPl
(
g_
, 
wts
, 
¶
);

269 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

270 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

271 
¶
.
v¬V®ue_
.
	`ş—r
();

272 
i
 = 0; i < 
numWts_
; i++è
¶
.
v¬V®ue_
.
	`­³nd
(
wts
[i+1]);

279 ià(
™”
 + 1 > 
maxI‹r_
è -
BigV®ue
;

280 ++
™”
;

282 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

283 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

285 
¶
.
v¬V®ue_
.
	`ş—r
();

286 
i
 = 0; i < 
numWts_
; i++è
¶
.
v¬V®ue_
.
	`­³nd
(
wts
[i+1]);

294  
f
;

296 
	}
}

299 
	$mšimizePl
(* cÚ¡ & 
wts
, & 
™”
, 
boŞ
& 
”rÜ
, 
PŞyNomŸl
& 
¶
)

301 
”rÜ
 = 
çl£
;

302 
m
 = 5;

303 
f
;

304 
çùr
 = 0;

305 
pgtŞ
 = 0;

307 
of¡»am
* 
™fe
 = 
NULL
;

308 
ršt
 = 
LBFGSB_PRINT
;

309 ià(
ršt
 >ğ1è
™fe
 = 
Ãw
 
	`of¡»am
("iterate.dat");

310 
™”
 = 0;

315 
i
 = 0; i <ğ
numWts_
; i++è
nbd_
[i] = 2;

317 
	`¡rıy
(
sk_
,"START");

318 
i
 = 5; i <ğ60; i++è
sk_
[i]=' ';

321 
¶
.
v¬V®ue_
.
	`ş—r
();

322 
i
 = 0; i < 
numWts_
; i++è
¶
.
v¬V®ue_
.
	`­³nd
(
wts
[i+1]);

324 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

325 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

327 
¶
.
v¬V®ue_
.
	`ş—r
();

328 
i
 = 0; i < 
numWts_
; i++è
¶
.
v¬V®ue_
.
	`­³nd
(
wts
[i+1]);

331 
š™ŸlV®ue
 = 0, 
´evV®ue
 = 0, 
ÃwV®ue
;

332 
boŞ
 
fœ¡I‹r
 = 
Œue
;

335 
	`¡ºcmp
(
sk_
,"FG",2)==0 || strncmp(task_,"NEW_X",5)==0)

337 ià(
	`¡ºcmp
(
sk_
,"FG",2)==0)

339 
f
 = 
	`g‘V®ueAndG¿d›ÁPl
(
g_
, 
wts
, 
¶
);

341 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

342 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

344 
¶
.
v¬V®ue_
.
	`ş—r
();

345 
i
 = 0; i < 
numWts_
; i++è
¶
.
v¬V®ue_
.
	`­³nd
(
wts
[i+1]);

348 ià(
fœ¡I‹r
è{ fœ¡I‹¸ğ
çl£
; 
´evV®ue
 = 
f
; 
š™ŸlV®ue
 = f; }

354 ià(
™”
+1 > 
maxI‹r_
) ;

355 ++
™”
;

356 
ÃwV®ue
 = 
f
;

358 ià(
	`çbs
(
ÃwV®ue
-
´evV®ue
è< 
áŞ_
*fabs(prevValue)) ;

359 
´evV®ue
 = 
ÃwV®ue
;

361 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

362 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

364 
¶
.
v¬V®ue_
.
	`ş—r
();

365 
i
 = 0; i < 
numWts_
; i++è
¶
.
v¬V®ue_
.
	`­³nd
(
wts
[i+1]);

375 ià(
	`¡ºcmp
(
sk_
,"ABNO",4) == 0)

377 
cout
 << "ERROR: LBFGSB faed. R‘uºed ABNO" << 
’dl
;

378 
”rÜ
 = 
Œue
;

379  
š™ŸlV®ue
;

382 ià(
	`¡ºcmp
(
sk_
,"ERROR",5)==0)

384 
cout
 << "ERROR: LBFGSB faed. R‘uºed ERROR" << 
’dl
;

385 
”rÜ
 = 
Œue
;

386  
š™ŸlV®ue
;

389 ià(
	`¡ºcmp
(
sk_
,"CONV",4)==0)

394  
f
;

396 
	}
}

399 
	$£tUµ”Bounds
(cÚ¡ * 
u
)

401 ià(
numWts_
 > 0)

403 
	`memıy
(
u_
+1, 
u
, 
numWts_
*());

405 
	}
}

407 
	$£tLow”Bounds
(cÚ¡ * 
l
)

409 if(
numWts_
 > 0)

411 
	`memıy
(
l_
+1, 
l
, 
numWts_
*());

413 
	}
}

415 
	g´iv©e
:

416 
maxI‹r_
;

417 
	gáŞ_
;

418 
P£udoLogLik–ihood
* 
	g¶l_
;

419 
	gnumWts_
;

422 * 
	gnbd_
;

423 * 
	giwa_
;

424 * 
	gl_
;

425 * 
	gu_
;

426 * 
	gg_
;

427 * 
	gwa_
;

429 
	gsk_
[61];

430 
	gc§ve_
[61];

431 
boŞ
 
	gl§ve_
[5];

432 
	gi§ve_
[45];

433 
	gd§ve_
[30];

436 
	g´iv©e
 :

438 
	$g‘V®ueAndG¿d›ÁPl
(* cÚ¡ & 
g
, cÚ¡ * cÚ¡ & 
wts
, 
PŞyNomŸl
& 
¶
)

440 
g
[0] = 0;

443 
A¼ay
<> 
gr
 = 
¶
.
	`G‘G¿d›Á
();

445 
i
 = 0; i < 
gr
.
	`size
(); i++)

447 
g
[
i
+1] = 
gr
[i];

450  
¶
.
	`Compu‹PlV®ue
();

451 
	}
}

453 
	$g‘V®ueAndG¿d›Á
(* 
g
, * 
wts
)

455  (
¶l_
->
	`g‘V®ueAndG¿d›Á
(
g
+1, 
wts
+1, 
numWts_
));

456 
	}
}

459 
	$g‘Idx
(cÚ¡ & 
i
, cÚ¡ & 
j
, cÚ¡ & 
idim
)

461  (
j
-1)*
idim
 + 
i
;

462 
	}
}

465 
	$max
(cÚ¡ & 
a
, cÚ¡ & 
b
è{ ià×>=bè‡;  b; 
	}
}

467 
	$mš
(cÚ¡ & 
a
, cÚ¡ & 
b
è{ ià×<=bè‡;  b; 
	}
}

469 
	$mš
(cÚ¡ & 
a
, cÚ¡ & 
b
è{ ià×<=bè‡;  b; 
	}
}

471 
	$max
(cÚ¡ & 
a
, cÚ¡ & 
b
, cÚ¡ & 
c
)

473 ià(
a
 >ğ
b
 &&‡ >ğ
c
) ‡;

474 ià(
b
 >ğ
a
 && b >ğ
c
)  b;

475 
	`as£¹
(
c
 >ğ
a
 && c >ğ
b
);

476  
c
;

477 
	}
}

668 
	$£tulb
(cÚ¡ & 
n
, cÚ¡ & 
m
, * cÚ¡ & 
x
,

669 cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

670 cÚ¡ * cÚ¡ & 
nbd
, & 
f
, * cÚ¡ & 
g
,

671 cÚ¡ & 
çùr
, cÚ¡ & 
pgtŞ
,

672 * cÚ¡ & 
wa
, * cÚ¡ & 
iwa
,

673 * cÚ¡ & 
sk
, cÚ¡ & 
ršt
,

674 * cÚ¡ & 
c§ve
, 
boŞ
* cÚ¡ & 
l§ve
,

675 * cÚ¡ & 
i§ve
, * cÚ¡ & 
d§ve
,

676 
of¡»am
* 
™fe
)

678 
l1
,
l2
,
l3
,
lws
,
Ì
,
lz
,
É
,
ld
,
lsg
,
lwa
,
lyg
,

679 
lsgo
,
lwy
,
lsy
,
lss
,
lyy
,
lwt
,
lwn
,
l¢d
,
lygo
;

681 ià(
	`¡ºcmp
(
sk
,"START",5)==0)

683 
i§ve
[1] = 
m
*
n
;

684 
i§ve
[2] = 
m
*m;

685 
i§ve
[3] = 4*
m
*m;

686 
i§ve
[4] = 1;

687 
i§ve
[5] = isave[4] + isave[1];

688 
i§ve
[6] = isave[5] + isave[1];

689 
i§ve
[7] = isave[6] + isave[2];

690 
i§ve
[8] = isave[7] + isave[2];

691 
i§ve
[9] = isave[8] + isave[2];

692 
i§ve
[10] = isave[9] + isave[2];

693 
i§ve
[11] = isave[10] + isave[3];

694 
i§ve
[12] = isave[11] + isave[3];

695 
i§ve
[13] = i§ve[12] + 
n
;

696 
i§ve
[14] = i§ve[13] + 
n
;

697 
i§ve
[15] = i§ve[14] + 
n
;

698 
i§ve
[16] = i§ve[15] + 
n
;

699 
i§ve
[17] = i§ve[16] + 8*
m
;

700 
i§ve
[18] = i§ve[17] + 
m
;

701 
i§ve
[19] = i§ve[18] + 
m
;

702 
i§ve
[20] = i§ve[19] + 
m
;

704 
l1
 = 
i§ve
[1];

705 
l2
 = 
i§ve
[2];

706 
l3
 = 
i§ve
[3];

707 
lws
 = 
i§ve
[4];

708 
lwy
 = 
i§ve
[5];

709 
lsy
 = 
i§ve
[6];

710 
lss
 = 
i§ve
[7];

711 
lyy
 = 
i§ve
[8];

712 
lwt
 = 
i§ve
[9];

713 
lwn
 = 
i§ve
[10];

714 
l¢d
 = 
i§ve
[11];

715 
lz
 = 
i§ve
[12];

716 
Ì
 = 
i§ve
[13];

717 
ld
 = 
i§ve
[14];

718 
É
 = 
i§ve
[15];

719 
lwa
 = 
i§ve
[16];

720 
lsg
 = 
i§ve
[17];

721 
lsgo
 = 
i§ve
[18];

722 
lyg
 = 
i§ve
[19];

723 
lygo
 = 
i§ve
[20];

725 
tim”_
.
	`»£t
();

727 
	`mašlb
(
n
,
m
,
x
,
l
,
u
,
nbd
,
f
,
g
,
çùr
,
pgtŞ
,

728 &(
wa
[
lws
-1]),&(wa[
lwy
-1]),&(wa[
lsy
-1]),&(wa[
lss
-1]),&(wa[
lyy
-1]),

729 &(
wa
[
lwt
-1]),&(wa[
lwn
-1]),&(wa[
l¢d
-1]),&(wa[
lz
-1]),&(wa[
Ì
-1]),

730 &(
wa
[
ld
-1]),&(wa[
É
-1]),&(wa[
lwa
-1]),&(wa[
lsg
-1]),&(wa[
lsgo
-1]),

731 &(
wa
[
lyg
-1]),&(wa[
lygo
-1]),&(
iwa
[1-1]),&(iwa[
n
+1-1]),&(iwa[2*n+1-1]),

732 
sk
,
ršt
,
c§ve
,
l§ve
,&(
i§ve
[22-1]),
d§ve
, 
™fe
);

733 
	}
}

915 
	$mašlb
(cÚ¡ & 
n
, cÚ¡ & 
m
, * cÚ¡ & 
x
,

916 cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

917 cÚ¡ * cÚ¡ & 
nbd
, & 
f
, * cÚ¡ & 
g
,

918 cÚ¡ & 
çùr
, cÚ¡ & 
pgtŞ
,

919 * cÚ¡ & 
ws
, * cÚ¡ & 
wy
, * cÚ¡ & 
sy
,

920 * cÚ¡ & 
ss
, * cÚ¡ & 
yy
, * cÚ¡ & 
wt
,

921 * cÚ¡ & 
wn
, * cÚ¡ & 
¢d
, * cÚ¡ & 
z
,

922 * cÚ¡ & 
r
, * cÚ¡ & 
d
, * cÚ¡ & 
t
,

923 * cÚ¡ & 
wa
, * cÚ¡ & 
sg
, * cÚ¡& 
sgo
,

924 * cÚ¡ & 
yg
, * cÚ¡ & 
ygo
, * cÚ¡& 
šdex
,

925 * cÚ¡ & 
iwh”e
, * cÚ¡ & 
šdx2
, * cÚ¡& 
sk
,

926 cÚ¡ & 
ršt
, * cÚ¡& 
c§ve
, 
boŞ
 * cÚ¡& 
l§ve
,

927 * cÚ¡ & 
i§ve
, * cÚ¡ & 
d§ve
, 
of¡»am
* 
™fe
)

929 
boŞ
 
´jùd
,
ú¡nd
,
boxed
,
upd©d
,
wrk
;

930 
wÜd
[4];

931 
k
,
nštŞ
,
iback
,
nsk
,

932 
h—d
,
cŞ
,
™”
,
™a
,
iupd©
,

933 
nšt
,
nfgv
,
šfo
,
ifun
=0,

934 
iwÜd
,
nä“
,
Çù
,
—ve
,
ÃÁ”
;

935 
th‘a
,
fŞd
=0,
dr
,
¼
,
tŞ
,

936 
x¡•
,
sbgÄm
,
ddum
,
dnÜm
=0,
dtd
,
•smch
,

937 
ıu1
=0,
ıu2
,
ÿchyt
,
sbtime
,
Êscht
,
time1
,
time2
,

938 
gd
,
gdŞd
=0,
¡p
,
¡pmx
=0,
time
;

939 
Úe
=1.0,
z”o
=0.0;

941 ià(
ršt
 > 1è{ 
	`as£¹
(
™fe
); }

943 ià(
	`¡ºcmp
(
sk
,"START",5)==0)

945 
time1
 = 
tim”_
.
	`time
();

948 
•smch
 = 
	`dpm•s
();

955 
cŞ
 = 0;

956 
h—d
 = 1;

957 
th‘a
 = 
Úe
;

958 
iupd©
 = 0;

959 
upd©d
 = 
çl£
;

962 
™”
 = 0;

963 
nfgv
 = 0;

964 
nšt
 = 0;

965 
nštŞ
 = 0;

966 
nsk
 = 0;

967 
nä“
 = 
n
;

970 
tŞ
 = 
çùr
*
•smch
;

973 
ÿchyt
 = 0;

974 
sbtime
 = 0;

975 
Êscht
 = 0;

979 
	`¡rıy
(
wÜd
, "---");

982 
šfo
 = 0;

992 
	`”rşb
(
n
,
m
,
çùr
,
l
,
u
,
nbd
,
sk
,
šfo
,
k
);

993 ià(
	`¡ºcmp
(
sk
,"ERROR",5)==0)

995 
	`´n3lb
(
n
,
x
,
f
,
sk
,
ršt
,
šfo
,
™fe
,

996 
™”
,
nfgv
,
nštŞ
,
nsk
,
Çù
,
sbgÄm
,

997 
z”o
,
nšt
,
wÜd
,
iback
,
¡p
,
x¡•
,
k
,

998 
ÿchyt
,
sbtime
,
Êscht
);

1002 
	`´n1lb
(
n
,
m
,
l
,
u
,
x
,
ršt
,
™fe
,
•smch
);

1005 
	`aùive
(
n
,
l
,
u
,
nbd
,
x
,
iwh”e
,
ršt
,
´jùd
,
ú¡nd
,
boxed
) ;

1012 
´jùd
 = 
l§ve
[1];

1013 
ú¡nd
 = 
l§ve
[2];

1014 
boxed
 = 
l§ve
[3];

1015 
upd©d
 = 
l§ve
[4];

1017 
nštŞ
 = 
i§ve
[1];

1019 
iback
 = 
i§ve
[4];

1020 
nsk
 = 
i§ve
[5];

1021 
h—d
 = 
i§ve
[6];

1022 
cŞ
 = 
i§ve
[7];

1023 
™a
 = 
i§ve
[8];

1024 
™”
 = 
i§ve
[9];

1025 
iupd©
 = 
i§ve
[10];

1026 
nšt
 = 
i§ve
[12];

1027 
nfgv
 = 
i§ve
[13];

1028 
šfo
 = 
i§ve
[14];

1029 
ifun
 = 
i§ve
[15];

1030 
iwÜd
 = 
i§ve
[16];

1031 
nä“
 = 
i§ve
[17];

1032 
Çù
 = 
i§ve
[18];

1033 
—ve
 = 
i§ve
[19];

1034 
ÃÁ”
 = 
i§ve
[20];

1036 
th‘a
 = 
d§ve
[1];

1037 
fŞd
 = 
d§ve
[2];

1038 
tŞ
 = 
d§ve
[3];

1039 
dnÜm
 = 
d§ve
[4];

1040 
•smch
 = 
d§ve
[5];

1041 
ıu1
 = 
d§ve
[6];

1042 
ÿchyt
 = 
d§ve
[7];

1043 
sbtime
 = 
d§ve
[8];

1044 
Êscht
 = 
d§ve
[9];

1045 
time1
 = 
d§ve
[10];

1046 
gd
 = 
d§ve
[11];

1047 
¡pmx
 = 
d§ve
[12];

1048 
sbgÄm
 = 
d§ve
[13];

1049 
¡p
 = 
d§ve
[14];

1050 
gdŞd
 = 
d§ve
[15];

1051 
dtd
 = 
d§ve
[16];

1056 ià(
	`¡ºcmp
(
sk
,"FG_LN",5)==0è
gÙo66
;

1057 ià(
	`¡ºcmp
(
sk
,"NEW_X",5)==0è
gÙo777
;

1058 ià(
	`¡ºcmp
(
sk
,"FG_ST",5)==0è
gÙo111
;

1059 ià(
	`¡ºcmp
(
sk
,"STOP",4)==0)

1061 ià(
	`¡ºcmp
(&(
sk
[6]),"CPU",3)==0)

1064 
	`dcİy
(
n
,
t
,1,
x
,1);

1065 
	`dcİy
(
n
,
r
,1,
g
,1);

1066 
f
 = 
fŞd
;

1068 
gÙo999
;

1074 
	`¡rıy
(
sk
, "FG_START");

1076 
gÙo1000
;

1078 
gÙo111
:

1080 
nfgv
 = 1;

1084 
	`´ojgr
(
n
,
l
,
u
,
nbd
,
x
,
g
,
sbgÄm
);

1086 ià(
ršt
 >= 1)

1088 
cout
 << "Aˆ™”©" << 
™”
 << ": f=" <<
f
<<", |´oj g|="<<
sbgÄm
<<
’dl
;

1089 *
™fe
 << "Aˆ™”©" << 
™”
 << ":‚fgv=" << 
nfgv


1090 << ", sbgÄm=" << 
sbgÄm
 << ", f=" << 
f
 << 
’dl
;

1093 ià(
sbgÄm
 <ğ
pgtŞ
)

1096 
	`¡rıy
(
sk
,"CONVERGENCE: NORM OF PROJECTED GRADIENT <= PGTOL");

1097 
gÙo999
;

1102 
gÙo222
:

1103 ià(
ršt
 >ğ99è
cout
 << "ITERATION " << (
™”
 + 1è<< 
’dl
;

1104 
iwÜd
 = -1;

1106 ià(!
ú¡nd
 && 
cŞ
 > 0)

1109 
	`dcİy
(
n
,
x
,1,
z
,1);

1110 
wrk
 = 
upd©d
;

1111 
nšt
 = 0;

1112 
gÙo333
;

1121 
ıu1
 = 
tim”_
.
	`time
();

1123 
	`ÿuchy
(
n
,
x
,
l
,
u
,
nbd
,
g
,
šdx2
,
iwh”e
,
t
,
d
,
z
,

1124 
m
,
wy
,
ws
,
sy
,
wt
,
th‘a
,
cŞ
,
h—d
,

1125 &(
wa
[1-1]),&(wa[2*
m
+1-1]),&(wa[4*m+1-1]),&(wa[6*m+1-1]),
nšt
,

1126 
sg
,
yg
,
ršt
,
sbgÄm
,
šfo
,
•smch
);

1128 ià(
šfo
 > 0)

1131 ià(
ršt
 >= 1)

1132 
cout
 << "Singularriangular system detected; "

1133 << "»äeshhlbfg memÜy‡nd„e¡¬ˆth™”©iÚ." <<
’dl
;

1134 
šfo
 = 0;

1135 
cŞ
 = 0;

1136 
h—d
 = 1;

1137 
th‘a
 = 
Úe
;

1138 
iupd©
 = 0;

1139 
upd©d
 = 
çl£
;

1140 
ıu2
 = 
tim”_
.
	`time
();

1141 
ÿchyt
 = cachyˆ+ 
ıu2
 - 
ıu1
;

1142 
gÙo222
;

1144 
ıu2
 = 
tim”_
.
	`time
();

1145 
ÿchyt
 = cachyˆ+ 
ıu2
 - 
ıu1
;

1146 
nštŞ
 =‚štŞ + 
nšt
;

1151 
	`ä“v
(
n
,
nä“
,
šdex
,
ÃÁ”
,
—ve
,
šdx2
,

1152 
iwh”e
,
wrk
,
upd©d
,
ú¡nd
,
ršt
,
™”
);

1154 
Çù
 = 
n
 - 
nä“
;

1156 
gÙo333
:

1161 ià(
nä“
 =ğ0 || 
cŞ
 =ğ0è
gÙo555
;

1169 
ıu1
 = 
tim”_
.
	`time
();

1177 ià(
wrk
è
	`fÜmk
(
n
,
nä“
,
šdex
,
ÃÁ”
,
—ve
,
šdx2
,
iupd©
,

1178 
upd©d
,
wn
,
¢d
,
m
,
ws
,
wy
,
sy
,
th‘a
,
cŞ
,
h—d
,
šfo
);

1180 ià(
šfo
 != 0)

1184 if(
ršt
 >= 1)

1185 
cout
 << "Nonpositive definiteness in Cholesky factorization in formk;"

1186 << "»äeshhlbfg memÜy‡nd„e¡¬ˆth™”©iÚ." << 
’dl
;

1187 
šfo
 = 0;

1188 
cŞ
 = 0;

1189 
h—d
 = 1;

1190 
th‘a
 = 
Úe
;

1191 
iupd©
 = 0;

1192 
upd©d
 = 
çl£
;

1193 
ıu2
 = 
tim”_
.
	`time
() ;

1194 
sbtime
 = sbtim+ 
ıu2
 - 
ıu1
;

1195 
gÙo222
;

1200 
	`cm´lb
(
n
,
m
,
x
,
g
,
ws
,
wy
,
sy
,
wt
,
z
,
r
,
wa
,
šdex
,

1201 
th‘a
,
cŞ
,
h—d
,
nä“
,
ú¡nd
,
šfo
);

1203 ià(
šfo
 !ğ0è
gÙo444
;

1205 
	`subsm
(
n
,
m
,
nä“
,
šdex
,
l
,
u
,
nbd
,
z
,
r
,
ws
,
wy
,
th‘a
,

1206 
cŞ
,
h—d
,
iwÜd
,
wa
,
wn
,
ršt
,
šfo
);

1209 
gÙo444
:

1210 ià(
šfo
 != 0)

1214 if(
ršt
 >= 1)

1215 
cout
 << "Singularriangular system detected; "

1216 << "»äeshhlbfg memÜy‡nd„e¡¬ˆth™”©iÚ." <<
’dl
;

1217 
šfo
 = 0;

1218 
cŞ
 = 0;

1219 
h—d
 = 1;

1220 
th‘a
 = 
Úe
;

1221 
iupd©
 = 0;

1222 
upd©d
 = 
çl£
;

1223 
ıu2
 = 
tim”_
.
	`time
();

1224 
sbtime
 = sbtim+ 
ıu2
 - 
ıu1
;

1225 
gÙo222
;

1228 
ıu2
 = 
tim”_
.
	`time
();

1229 
sbtime
 = sbtim+ 
ıu2
 - 
ıu1
 ;

1230 
gÙo555
:

1240 
i
 = 1; i <ğ
n
; i++)

1241 
d
[
i
] = 
z
[i] - 
x
[i];

1243 
ıu1
 = 
tim”_
.
	`time
();

1244 
gÙo66
:

1246 
	`Ê¤lb
(
n
,
l
,
u
,
nbd
,
x
,
f
,
fŞd
,
gd
,
gdŞd
,
g
,
d
,
r
,
t
,
z
,
¡p
,
dnÜm
,

1247 
dtd
,
x¡•
,
¡pmx
,
™”
,
ifun
,
iback
,
nfgv
,
šfo
,
sk
,

1248 
boxed
,
ú¡nd
,
c§ve
,&(
i§ve
[22-1]),&(
d§ve
[17-1]));

1250 ià(
šfo
 !ğ0 || 
iback
 >= 20)

1253 
	`dcİy
(
n
,
t
,1,
x
,1);

1254 
	`dcİy
(
n
,
r
,1,
g
,1);

1255 
f
 = 
fŞd
;

1256 ià(
cŞ
 == 0)

1259 ià(
šfo
 == 0)

1261 
šfo
 = -9;

1263 
nfgv
 -= 1;

1264 
ifun
 -= 1;

1265 
iback
 -= 1;

1267 
	`¡rıy
(
sk
, "ABNORMAL_TERMINATION_IN_LNSRCH");

1268 
™”
 += 1;

1269 
gÙo999
;

1274 if(
ršt
 >= 1)

1275 
cout
 << "Bad direction inhe†ine search; "

1276 << "thlbfg memÜy‡nd„e¡¬ˆth™”©iÚ" << 
’dl
;

1277 ià(
šfo
 =ğ0è
nfgv
 =‚fgv - 1;

1278 
šfo
 = 0;

1279 
cŞ
 = 0;

1280 
h—d
 = 1;

1281 
th‘a
 = 
Úe
;

1282 
iupd©
 = 0;

1283 
upd©d
 = 
çl£
;

1284 
	`¡rıy
(
sk
, "RESTART_FROM_LNSRCH");

1285 
ıu2
 = 
tim”_
.
	`time
();

1286 
Êscht
 +ğ
ıu2
 - 
ıu1
;

1287 
gÙo222
;

1291 ià(
	`¡ºcmp
(
sk
,"FG_LN",5)==0)

1294 
gÙo1000
;

1299 
ıu2
 = 
tim”_
.
	`time
() ;

1300 
Êscht
 +ğ
ıu2
 - 
ıu1
;

1301 
™”
 += 1;

1305 
	`´ojgr
(
n
,
l
,
u
,
nbd
,
x
,
g
,
sbgÄm
);

1309 
	`´n2lb
(
n
,
x
,
f
,
g
,
ršt
,
™fe
,
™”
,
nfgv
,
Çù
,

1310 
sbgÄm
,
nšt
,
wÜd
,
iwÜd
,
iback
,
¡p
,
x¡•
);

1311 
gÙo1000
;

1313 
gÙo777
:

1317 ià(
sbgÄm
 <ğ
pgtŞ
)

1320 
	`¡rıy
(
sk
, "CONVERGENCE: NORM OF PROJECTED GRADIENT <= PGTOL");

1321 
gÙo999
;

1324 
ddum
 = 
	`max
(
	`çbs
(
fŞd
), fabs(
f
), 
Úe
);

1325 ià((
fŞd
 - 
f
è<ğ
tŞ
*
ddum
)

1328 
	`¡rıy
(
sk
, "CONVERGENCE: REL_REDUCTION_OF_F <= FACTR*EPSMCH");

1329 ià(
iback
 >ğ10è
šfo
 = -5;

1331 
gÙo999
;

1336 
i
 = 1; i <ğ
n
; i++)

1337 
r
[
i
] = 
g
[i] -„[i];

1338 
¼
 = 
	`ddÙ
(
n
,
r
,1,r,1);

1339 ià(
¡p
 =ğ
Úe
)

1341 
dr
 = 
gd
 - 
gdŞd
;

1342 
ddum
 = -
gdŞd
;

1346 
dr
 = (
gd
 - 
gdŞd
)*
¡p
;

1347 
	`dsÿl
(
n
,
¡p
,
d
,1);

1348 
ddum
 = -
gdŞd
*
¡p
;

1351 ià(
dr
 <ğ
•smch
*
ddum
)

1354 
nsk
 =‚skip + 1;

1355 
upd©d
 = 
çl£
;

1356 ià(
ršt
 >= 1)

1357 
cout
 << " ys=" << 
dr
 << " -gs=" <<
ddum
<<" BFSG upd©SKIPPED"<<
’dl
;

1358 
gÙo888
;

1367 
upd©d
 = 
Œue
;

1368 
iupd©
 += 1;

1372 
	`m©upd
(
n
,
m
,
ws
,
wy
,
sy
,
ss
,
d
,
r
,
™a
,

1373 
iupd©
,
cŞ
,
h—d
,
th‘a
,
¼
,
dr
,
¡p
,
dtd
);

1380 
	`fÜmt
(
m
,
wt
,
sy
,
ss
,
cŞ
,
th‘a
,
šfo
);

1382 ià(
šfo
 != 0)

1386 if(
ršt
 >= 1)

1387 
cout
 << "Nonpositive definiteness in Cholesky factorization in formt; "

1388 << "»äeshhlbfg memÜy‡nd„e¡¬ˆth™”©iÚ." << 
’dl
;

1389 
šfo
 = 0;

1390 
cŞ
 = 0;

1391 
h—d
 = 1;

1392 
th‘a
 = 
Úe
;

1393 
iupd©
 = 0;

1394 
upd©d
 = 
çl£
;

1395 
gÙo222
;

1403 
gÙo888
:

1407 
gÙo222
;

1409 
gÙo999
:

1410 
time2
 = 
tim”_
.
	`time
();

1411 
time
 = 
time2
 - 
time1
;

1412 
	`´n3lb
(
n
,
x
,
f
,
sk
,
ršt
,
šfo
,
™fe
,

1413 
™”
,
nfgv
,
nštŞ
,
nsk
,
Çù
,
sbgÄm
,

1414 
time
,
nšt
,
wÜd
,
iback
,
¡p
,
x¡•
,
k
,

1415 
ÿchyt
,
sbtime
,
Êscht
);

1416 
gÙo1000
:

1419 
l§ve
[1] = 
´jùd
;

1420 
l§ve
[2] = 
ú¡nd
;

1421 
l§ve
[3] = 
boxed
;

1422 
l§ve
[4] = 
upd©d
;

1424 
i§ve
[1] = 
nštŞ
;

1426 
i§ve
[4] = 
iback
;

1427 
i§ve
[5] = 
nsk
;

1428 
i§ve
[6] = 
h—d
;

1429 
i§ve
[7] = 
cŞ
;

1430 
i§ve
[8] = 
™a
;

1431 
i§ve
[9] = 
™”
;

1432 
i§ve
[10] = 
iupd©
;

1433 
i§ve
[12] = 
nšt
;

1434 
i§ve
[13] = 
nfgv
;

1435 
i§ve
[14] = 
šfo
;

1436 
i§ve
[15] = 
ifun
;

1437 
i§ve
[16] = 
iwÜd
;

1438 
i§ve
[17] = 
nä“
;

1439 
i§ve
[18] = 
Çù
;

1440 
i§ve
[19] = 
—ve
;

1441 
i§ve
[20] = 
ÃÁ”
;

1443 
d§ve
[1] = 
th‘a
;

1444 
d§ve
[2] = 
fŞd
;

1445 
d§ve
[3] = 
tŞ
;

1446 
d§ve
[4] = 
dnÜm
;

1447 
d§ve
[5] = 
•smch
;

1448 
d§ve
[6] = 
ıu1
;

1449 
d§ve
[7] = 
ÿchyt
;

1450 
d§ve
[8] = 
sbtime
;

1451 
d§ve
[9] = 
Êscht
;

1452 
d§ve
[10] = 
time1
;

1453 
d§ve
[11] = 
gd
;

1454 
d§ve
[12] = 
¡pmx
;

1455 
d§ve
[13] = 
sbgÄm
;

1456 
d§ve
[14] = 
¡p
;

1457 
d§ve
[15] = 
gdŞd
;

1458 
d§ve
[16] = 
dtd
;

1460 
	}
}

1490 
	$aùive
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
l
,

1491 cÚ¡ * cÚ¡ & 
u
, cÚ¡ * cÚ¡ & 
nbd
,

1492 * cÚ¡ & 
x
, * cÚ¡ & 
iwh”e
, cÚ¡ & 
ršt
,

1493 
boŞ
& 
´jùd
, boŞ& 
ú¡nd
, boŞ& 
boxed
)

1496 
nbdd
;

1497 
z”o
=0.0;

1500 
nbdd
 = 0;

1501 
´jùd
 = 
çl£
;

1502 
ú¡nd
 = 
çl£
;

1503 
boxed
 = 
Œue
;

1507 
i
 = 1; i <ğ
n
; i++)

1509 ià(
nbd
[
i
] > 0)

1511 ià(
nbd
[
i
] <ğ2 && 
x
[i] <ğ
l
[i])

1513 ià(
x
[
i
] < 
l
[i])

1515 
´jùd
 = 
Œue
;

1516 
x
[
i
] = 
l
[i];

1518 
nbdd
 += 1;

1521 ià(
nbd
[
i
] >ğ2 && 
x
[i] >ğ
u
[i])

1523 ià(
x
[
i
] > 
u
[i])

1525 
´jùd
 = 
Œue
;

1526 
x
[
i
] = 
u
[i];

1528 
nbdd
 += 1;

1535 
i
 = 1; i <ğ
n
; i++)

1537 ià(
nbd
[
i
] !ğ2è
boxed
 = 
çl£
;

1538 ià(
nbd
[
i
] == 0)

1541 
iwh”e
[
i
] = -1;

1546 
ú¡nd
 = 
Œue
;

1547 ià(
nbd
[
i
] =ğ2 && (
u
[i]-
l
[i]è<ğ
z”o
)

1550 
iwh”e
[
i
] = 3;

1553 
iwh”e
[
i
] = 0;

1557 ià(
ršt
 >= 0)

1559 ià(
´jùd
)

1560 
cout
 << "The initial X is infeasible. Restart with its…rojection."

1561 << 
’dl
;

1562 ià(!
ú¡nd
è
cout
 << "Thi ´obËm i uncÚ¡¿šed." << 
’dl
;

1565 ià(
ršt
 > 0)

1566 
cout
 << "AˆX0 " << 
nbdd
 << " v¬ŸbË ¬exaùly‡ˆthbounds" <<
’dl
;

1567 
	}
}

1628 
	$bmv
(cÚ¡ & 
m
, * cÚ¡ & 
sy
, * cÚ¡ & 
wt
,

1629 cÚ¡ & 
cŞ
, cÚ¡ * cÚ¡ & 
v
, * cÚ¡ & 
p
,

1630 & 
šfo
)

1633 
i2
;

1634 
sum
;

1636 ià(
cŞ
 == 0) ;

1642 
p
[
cŞ
+1] = 
v
[col+1];

1644 
i
 = 2; i <ğ
cŞ
; i++)

1646 
i2
 = 
cŞ
 + 
i
;

1647 
sum
 = 0;

1648 
k
 = 1; k <ğ
i
-1; k++)

1649 
sum
 +ğ
sy
[
	`g‘Idx
(
i
,
k
,
m
)]*
v
[k]/sy[getIdx(k,k,m)];

1651 
p
[
i2
] = 
v
[i2] + 
sum
;

1655 
	`dŒ¦
(
wt
,
m
,
cŞ
,&(
p
[cŞ+1-1]),11,
šfo
);

1656 ià(
šfo
 != 0) ;

1659 
i
 = 1; i <ğ
cŞ
; i++)

1660 
p
[
i
] = 
v
[i]/
	`sq¹
(
sy
[
	`g‘Idx
(i,i,
m
)]);

1666 
	`dŒ¦
(
wt
,
m
,
cŞ
,&(
p
[cŞ+1-1]),1,
šfo
);

1667 ià(
šfo
 != 0) ;

1671 
i
 = 1; i <ğ
cŞ
; i++)

1672 
p
[
i
] = -p[i]/
	`sq¹
(
sy
[
	`g‘Idx
(i,i,
m
)]);

1674 
i
 = 1; i <ğ
cŞ
; i++)

1676 
sum
 = 0;

1677 
k
 = 
i
+1; i <ğ
cŞ
; i++)

1678 
sum
 +ğ
sy
[
	`g‘Idx
(
k
,
i
,
m
)]*
p
[
cŞ
+k]/sy[getIdx(i,i,m)];

1679 
p
[
i
] +ğ
sum
;

1681 
	}
}

1861 
	$ÿuchy
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
x
,

1862 cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

1863 cÚ¡ * cÚ¡ & 
nbd
, cÚ¡ * cÚ¡ & 
g
,

1864 * cÚ¡ & 
iÜd”
, * cÚ¡ & 
iwh”e
,

1865 * cÚ¡ & 
t
, * cÚ¡ & 
d
, * cÚ¡ & 
xı
,

1866 cÚ¡ & 
m
, * cÚ¡ & 
wy
,

1867 * cÚ¡ & 
ws
, * cÚ¡ & 
sy
,

1868 * cÚ¡ & 
wt
, & 
th‘a
,

1869 cÚ¡ & 
cŞ
, cÚ¡ & 
h—d
, * cÚ¡ & 
p
,

1870 * cÚ¡ & 
c
, * cÚ¡ & 
wbp
,

1871 * cÚ¡ & 
v
, & 
nšt
, cÚ¡ * cÚ¡ & 
sg
,

1872 cÚ¡ * cÚ¡ & 
yg
, cÚ¡ & 
ršt
,

1873 cÚ¡ & 
sbgÄm
, & 
šfo
, cÚ¡ & 
•smch
)

1875 
boŞ
 
xlow”
,
xuµ”
,
bnded
;

1877 
cŞ2
,
nä“
,
nb»ak
,
pošŒ
,

1878 
ibp
,
Æeá
,
ibkmš
,
™”
;

1879 
f1
,
f2
,
dt
,
dtm
,
tsum
,
dibp
,
zibp
,
dibp2
,
bkmš
,

1880 
tu
=0,

=0,
wmc
,
wmp
,
wmw
,
tj
,
tj0
,
Ãggi
,

1881 
f2_Üg
;

1882 
Úe
=1,
z”o
=0;

1888 ià(
sbgÄm
 <ğ
z”o
)

1890 ià(
ršt
 >ğ0è
cout
 << "SubgnÜm = 0. GCP = X." << 
’dl
;

1891 
	`dcİy
(
n
,
x
,1,
xı
,1);

1894 
bnded
 = 
Œue
;

1895 
nä“
 = 
n
 + 1;

1896 
nb»ak
 = 0;

1897 
ibkmš
 = 0;

1898 
bkmš
 = 
z”o
;

1899 
cŞ2
 = 2*
cŞ
;

1900 
f1
 = 
z”o
;

1901 ià(
ršt
 >= 99)

1902 
cout
 << "---------------- CAUCHYƒÁ”ed-------------------" << 
’dl
;

1905 
i
 = 1; i <ğ
cŞ2
; i++)

1906 
p
[
i
] = 
z”o
;

1912 
i
 = 1; i <ğ
n
; i++)

1914 
Ãggi
 = -
g
[
i
];

1915 ià(
iwh”e
[
i
] != 3 && iwhere[i] != -1)

1919 ià(
nbd
[
i
] <ğ2è

 = 
x
[i] - 
l
[i];

1920 ià(
nbd
[
i
] >ğ2è
tu
 = 
u
[i] - 
x
[i];

1924 
xlow”
 = (
nbd
[
i
] <ğ2 && 

 <ğ
z”o
);

1925 
xuµ”
 = (
nbd
[
i
] >ğ2 && 
tu
 <ğ
z”o
);

1928 
iwh”e
[
i
] = 0;

1929 ià(
xlow”
)

1931 ià(
Ãggi
 <ğ
z”o
è
iwh”e
[
i
] = 1;

1934 ià(
xuµ”
)

1936 ià(
Ãggi
 >ğ
z”o
è
iwh”e
[
i
] = 2;

1940 ià(
	`çbs
(
Ãggi
è<ğ
z”o
è
iwh”e
[
i
] = -3;

1943 
pošŒ
 = 
h—d
;

1944 ià(
iwh”e
[
i
] != 0 && iwhere[i] != -1)

1945 
d
[
i
] = 
z”o
;

1948 
d
[
i
] = 
Ãggi
;

1949 
f1
 -ğ
Ãggi
*neggi;

1951 
j
 = 1; j <ğ
cŞ
; j++)

1953 
p
[
j
] +ğ
wy
[
	`g‘Idx
(
i
,
pošŒ
,
n
)] * 
Ãggi
;

1954 
p
[
cŞ
 + 
j
] +ğ
ws
[
	`g‘Idx
(
i
,
pošŒ
,
n
)] * 
Ãggi
;

1955 
pošŒ
 =…ošŒ%
m
 + 1;

1957 ià(
nbd
[
i
] <ğ2 &&‚bd[i] !ğ0 && 
Ãggi
 < 
z”o
)

1960 
nb»ak
 += 1;

1961 
iÜd”
[
nb»ak
] = 
i
;

1962 
t
[
nb»ak
] = 

/(-
Ãggi
);

1963 ià(
nb»ak
 =ğ1 || 
t
[nb»ak] < 
bkmš
)

1965 
bkmš
 = 
t
[
nb»ak
];

1966 
ibkmš
 = 
nb»ak
;

1970 ià(
nbd
[
i
] >ğ2 && 
Ãggi
 > 
z”o
)

1973 
nb»ak
 += 1;

1974 
iÜd”
[
nb»ak
] = 
i
;

1975 
t
[
nb»ak
] = 
tu
/
Ãggi
;

1976 ià(
nb»ak
 =ğ1 || 
t
[nb»ak] < 
bkmš
)

1978 
bkmš
 = 
t
[
nb»ak
];

1979 
ibkmš
 = 
nb»ak
;

1985 
nä“
 -= 1;

1986 
iÜd”
[
nä“
] = 
i
;

1987 ià(
	`çbs
(
Ãggi
è> 
z”o
è
bnded
 = 
çl£
;

1997 ià(
th‘a
 !ğ
Úe
)

2000 
	`dsÿl
(
cŞ
,
th‘a
,&(
p
[col+1-1]),1);

2005 
	`dcİy
(
n
,
x
,1,
xı
,1);

2007 ià(
nb»ak
 =ğ0 && 
nä“
 =ğ
n
 + 1)

2010 ià(
ršt
 > 100)

2012 
cout
 << "Cauchy X = ";

2013 
i
 = 1; i <ğ
n
; i++)

2014 
cout
 << 
xı
[
i
] << " ";

2015 
cout
 << 
’dl
;

2022 
j
 = 1; j <ğ
cŞ2
; j++)

2023 
c
[
j
] = 
z”o
;

2027 
f2
 = -
th‘a
*
f1
;

2028 
f2_Üg
 = 
f2
;

2029 ià(
cŞ
 > 0)

2031 
	`bmv
(
m
,
sy
,
wt
,
cŞ
,
p
,
v
,
šfo
);

2032 ià(
šfo
 != 0) ;

2033 
f2
 -ğ
	`ddÙ
(
cŞ2
,
v
,1,
p
,1);

2035 
dtm
 = -
f1
/
f2
;

2036 
tsum
 = 
z”o
;

2037 
nšt
 = 1;

2038 ià(
ršt
 >= 99)

2039 
cout
 << "Th”¬" << 
nb»ak
 << " b»akpošts" << 
’dl
;

2043 ià(
nb»ak
 =ğ0è
gÙo888
;

2045 
Æeá
 = 
nb»ak
;

2046 
™”
 = 1;

2048 
tj
 = 
z”o
;

2052 
gÙo777
:

2057 
tj0
 = 
tj
;

2058 ià(
™”
 == 1)

2063 
tj
 = 
bkmš
;

2064 
ibp
 = 
iÜd”
[
ibkmš
];

2068 ià(
™”
 == 2)

2072 ià(
ibkmš
 !ğ
nb»ak
)

2074 
t
[
ibkmš
] =[
nb»ak
];

2075 
iÜd”
[
ibkmš
] = iÜd”[
nb»ak
];

2081 
	`hpsŞb
(
Æeá
,
t
,
iÜd”
,
™”
-2);

2082 
tj
 = 
t
[
Æeá
];

2083 
ibp
 = 
iÜd”
[
Æeá
];

2086 
dt
 = 
tj
 - 
tj0
;

2088 ià(
dt
 !ğ
z”o
 && 
ršt
 >= 100)

2090 
cout
 << "P›û " << 
nšt
 << " --f1, f2‡t start…oint "

2091 << 
f1
 << "," << 
f2
 << 
’dl
;

2092 
cout
 << "Di¡ªûØthÃxˆb»ak…ošˆğ" << 
dt
 << 
’dl
;

2093 
cout
 << "Di¡ªûØth¡©iÚ¬y…ošˆğ" << 
dtm
 << 
’dl
;

2098 ià(
dtm
 < 
dt
è
gÙo888
;

2103 
tsum
 +ğ
dt
;

2104 
Æeá
 -= 1;

2105 
™”
 += 1;

2106 
dibp
 = 
d
[
ibp
];

2107 
d
[
ibp
] = 
z”o
;

2108 ià(
dibp
 > 
z”o
)

2110 
zibp
 = 
u
[
ibp
] - 
x
[ibp];

2111 
xı
[
ibp
] = 
u
[ibp];

2112 
iwh”e
[
ibp
] = 2;

2116 
zibp
 = 
l
[
ibp
] - 
x
[ibp];

2117 
xı
[
ibp
] = 
l
[ibp];

2118 
iwh”e
[
ibp
] = 1;

2120 ià(
ršt
 >ğ100è
cout
 << "V¬ŸbË " << 
ibp
 << " i fixed." << 
’dl
;

2121 ià(
Æeá
 =ğ0 && 
nb»ak
 =ğ
n
)

2124 
dtm
 = 
dt
;

2125 
gÙo999
;

2130 
nšt
 += 1;

2131 
dibp2
 = 
dibp
*dibp;

2136 
f1
 +ğ
dt
*
f2
 + 
dibp2
 - 
th‘a
*
dibp
*
zibp
;

2137 
f2
 -ğ
th‘a
*
dibp2
;

2139 ià(
cŞ
 > 0)

2142 
	`daxpy
(
cŞ2
,
dt
,
p
,1,
c
,1);

2146 
pošŒ
 = 
h—d
;

2147 
j
 = 1; j <ğ
cŞ
; j++)

2149 
wbp
[
j
] = 
wy
[
	`g‘Idx
(
ibp
,
pošŒ
,
n
)];

2150 
wbp
[
cŞ
 + 
j
] = 
th‘a
*
ws
[
	`g‘Idx
(
ibp
,
pošŒ
,
n
)];

2151 
pošŒ
 =…ošŒ%
m
 + 1;

2154 
	`bmv
(
m
,
sy
,
wt
,
cŞ
,
wbp
,
v
,
šfo
);

2155 ià(
šfo
 != 0) ;

2156 
wmc
 = 
	`ddÙ
(
cŞ2
,
c
,1,
v
,1);

2157 
wmp
 = 
	`ddÙ
(
cŞ2
,
p
,1,
v
,1);

2158 
wmw
 = 
	`ddÙ
(
cŞ2
,
wbp
,1,
v
,1);

2161 
	`daxpy
(
cŞ2
,-
dibp
,
wbp
,1,
p
,1);

2164 
f1
 +ğ
dibp
*
wmc
;

2165 
f2
 +ğ2.0*
dibp
*
wmp
 - 
dibp2
*
wmw
;

2168 
f2
 = 
	`max
(
•smch
*
f2_Üg
,f2);

2169 ià(
Æeá
 > 0)

2171 
dtm
 = -
f1
/
f2
;

2172 
gÙo777
;

2176 if(
bnded
)

2178 
f1
 = 
z”o
;

2179 
f2
 = 
z”o
;

2180 
dtm
 = 
z”o
;

2183 
dtm
 = -
f1
/
f2
;

2187 
gÙo888
:

2188 ià(
ršt
 >= 99)

2190 
cout
 << 
’dl
 << "GCP found inhis segment" <<ƒndl

2191 << "P›û " << 
nšt
 << " --f1, f2‡t start…oint "

2192 << 
f1
 << "," << 
f2
 << 
’dl


2193 << "Di¡ªûØth¡©iÚ¬y…ošˆğ" << 
dtm
 << 
’dl
;

2196 ià(
dtm
 <ğ
z”o
) dtm = zero;

2197 
tsum
 +ğ
dtm
;

2202 
	`daxpy
(
n
,
tsum
,
d
,1,
xı
,1);

2204 
gÙo999
:

2209 ià(
cŞ
 > 0è
	`daxpy
(
cŞ2
,
dtm
,
p
,1,
c
,1);

2210 ià(
ršt
 > 100)

2212 
cout
<< "Cauchy X = ";

2213 
i
 = 1; i <=
n
; i++)

2214 
cout
 << 
xı
[
i
] << " ";

2215 
cout
 << 
’dl
;

2217 ià(
ršt
 >= 99)

2218 
cout
 << "----------------ƒx™ CAUCHY----------------------" << 
’dl
;

2219 
	}
}

2246 
	$cm´lb
(cÚ¡ & 
n
, cÚ¡ & 
m
, cÚ¡ * cÚ¡ & 
x
,

2247 cÚ¡ * cÚ¡ & 
g
, * cÚ¡ & 
ws
,

2248 * cÚ¡ & 
wy
, * cÚ¡ & 
sy
,

2249 * cÚ¡ & 
wt
, cÚ¡ * cÚ¡ & 
z
,

2250 * cÚ¡ & 
r
, * cÚ¡ & 
wa
,

2251 cÚ¡ * cÚ¡ & 
šdex
, cÚ¡ & 
th‘a
,

2252 cÚ¡ & 
cŞ
, cÚ¡ & 
h—d
, cÚ¡ & 
nä“
,

2253 cÚ¡ 
boŞ
& 
ú¡nd
, & 
šfo
)

2256 
k
,
pošŒ
,
idx
;

2257 
a1
,
a2
;

2259 ià(!
ú¡nd
 && 
cŞ
 > 0)

2261 
i
 = 1; i <ğ
n
; i++)

2262 
r
[
i
] = -
g
[i];

2266 
i
 = 1; i <ğ
nä“
; i++)

2268 
k
 = 
šdex
[
i
];

2269 
r
[
i
] = -
th‘a
*(
z
[
k
] - 
x
[k]è- 
g
[k];

2271 
	`bmv
(
m
,
sy
,
wt
,
cŞ
,&(
wa
[2*m+1-1]),&(wa[1-1]),
šfo
);

2272 ià(
šfo
 != 0)

2274 
šfo
 = -8;

2277 
pošŒ
 = 
h—d
;

2278 
j
 = 1; j <ğ
cŞ
; j++)

2280 
a1
 = 
wa
[
j
];

2281 
a2
 = 
th‘a
*
wa
[
cŞ
 + 
j
];

2282 
i
 = 1; i <ğ
nä“
; i++)

2284 
k
 = 
šdex
[
i
];

2285 
idx
 = 
	`g‘Idx
(
k
,
pošŒ
,
n
);

2286 
r
[
i
] +ğ
wy
[
idx
]*
a1
 + 
ws
[idx]*
a2
;

2289 
pošŒ
 =…ošŒ%
m
 + 1;

2292 
	}
}

2314 
	$”rşb
(cÚ¡ & 
n
, cÚ¡ & 
m
, cÚ¡ & 
çùr
,

2315 cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

2316 cÚ¡ * cÚ¡ & 
nbd
, * cÚ¡ & 
sk
, & 
šfo
,

2317 & 
k
)

2321 
z”o
=0.0;

2325 ià(
n
 <ğ0è
	`¡rıy
(
sk
,"ERROR: N <= 0");

2326 ià(
m
 <ğ0è
	`¡rıy
(
sk
,"ERROR: M <= 0");

2327 ià(
çùr
 < 
z”o
è
	`¡rıy
(
sk
,"ERROR: FACTR < 0");

2330 
i
 = 1; i <ğ
n
; i++)

2332 ià(
nbd
[
i
] < 0 ||‚bd[i] > 3)

2335 
	`¡rıy
(
sk
,"ERROR: INVALID NBD");

2336 
šfo
 = -6;

2337 
k
 = 
i
;

2339 ià(
nbd
[
i
] == 2)

2341 ià(
l
[
i
] > 
u
[i])

2344 
	`¡rıy
(
sk
, "ERROR: NO FEASIBLE SOLUTION");

2345 
šfo
 = -7;

2346 
k
 = 
i
;

2350 
	}
}

2476 
	$fÜmk
(cÚ¡ & 
n
, cÚ¡ & 
nsub
, cÚ¡ * cÚ¡ & 
šd
,

2477 cÚ¡ & 
ÃÁ”
, cÚ¡ & 
—ve
,

2478 cÚ¡ * cÚ¡ & 
šdx2
, cÚ¡ & 
iupd©
,

2479 cÚ¡ 
boŞ
& 
upd©d
, * cÚ¡ & 
wn
,

2480 * cÚ¡ & 
wn1
, cÚ¡ & 
m
,

2481 * cÚ¡ & 
ws
, * cÚ¡ & 
wy
,

2482 * cÚ¡ & 
sy
, cÚ¡ & 
th‘a
,

2483 cÚ¡ & 
cŞ
, cÚ¡ & 
h—d
, & 
šfo
)

2486 
m2
,
Ár
,
j²Œ
,
iy
,
is
,
jy
,
js
,
is1
,
js1
,
k1
,

2487 
cŞ2
,
pbegš
,
³nd
,
dbegš
,
d’d
,
upş
;

2488 
idx1
, 
idx2
;

2489 
‹mp1
,
‹mp2
,
‹mp3
,
‹mp4
;

2491 
z”o
=0.0;

2493 
m2
 = 2*
m
;

2501 ià(
upd©d
)

2503 ià(
iupd©
 > 
m
)

2506 
jy
 = 1; jy <ğ
m
-1; jy++)

2508 
js
 = 
m
 + 
jy
;

2509 
	`dcİy
(
m
-
jy
,&(
wn1
[
	`g‘Idx
(jy+1,jy+1,
m2
)-1]),1,

2510 &(
wn1
[
	`g‘Idx
(
jy
,jy,
m2
)-1]),1);

2511 
	`dcİy
(
m
-
jy
,&(
wn1
[
	`g‘Idx
(
js
+1,js+1,
m2
)-1]),1,

2512 &(
wn1
[
	`g‘Idx
(
js
,js,
m2
)-1]), 1);

2513 
	`dcİy
(
m
-1, &(
wn1
[
	`g‘Idx
(m+2,
jy
+1,
m2
)-1]), 1,

2514 &(
wn1
[
	`g‘Idx
(
m
+1,
jy
,
m2
)-1]),1);

2519 
pbegš
 = 1;

2520 
³nd
 = 
nsub
;

2521 
dbegš
 = 
nsub
 + 1;

2522 
d’d
 = 
n
;

2523 
iy
 = 
cŞ
;

2524 
is
 = 
m
 + 
cŞ
;

2525 
Ár
 = 
h—d
 + 
cŞ
 - 1;

2526 ià(
Ár
 > 
m
) ipntr -= m ;

2527 
j²Œ
 = 
h—d
;

2529 
jy
 = 1; jy <ğ
cŞ
; jy++)

2531 
js
 = 
m
 + 
jy
;

2532 
‹mp1
 = 
z”o
;

2533 
‹mp2
 = 
z”o
;

2534 
‹mp3
 = 
z”o
;

2536 
k
 = 
pbegš
; k <ğ
³nd
; k++)

2538 
k1
 = 
šd
[
k
];

2539 
‹mp1
 +ğ
wy
[
	`g‘Idx
(
k1
,
Ár
,
n
)]*wy[g‘Idx(k1,
j²Œ
,n)];

2542 
k
 = 
dbegš
; k <ğ
d’d
; k++)

2544 
k1
 = 
šd
[
k
];

2545 
idx1
 = 
	`g‘Idx
(
k1
,
Ár
,
n
);

2546 
idx2
 = 
	`g‘Idx
(
k1
,
j²Œ
,
n
);

2547 
‹mp2
 +ğ
ws
[
idx1
] * ws[
idx2
];

2548 
‹mp3
 +ğ
ws
[
idx1
] * 
wy
[
idx2
];

2550 
wn1
[
	`g‘Idx
(
iy
,
jy
,
m2
)] = 
‹mp1
;

2551 
wn1
[
	`g‘Idx
(
is
,
js
,
m2
)] = 
‹mp2
;

2552 
wn1
[
	`g‘Idx
(
is
,
jy
,
m2
)] = 
‹mp3
;

2553 
j²Œ
 = j²Œ%
m
 + 1;

2557 
jy
 = 
cŞ
;

2558 
j²Œ
 = 
h—d
 + 
cŞ
 - 1;

2559 ià(
j²Œ
 > 
m
) jpntr -= m;

2560 
Ár
 = 
h—d
;

2561 
i
 = 1; i <ğ
cŞ
; i++)

2563 
is
 = 
m
 + 
i
;

2564 
‹mp3
 = 
z”o
;

2566 
k
 = 
pbegš
; k <ğ
³nd
; k++)

2568 
k1
 = 
šd
[
k
];

2569 
‹mp3
 +ğ
ws
[
	`g‘Idx
(
k1
,
Ár
,
n
)]*
wy
[g‘Idx(k1,
j²Œ
,n)];

2571 
Ár
 = i²Œ%
m
 + 1;

2572 
wn1
[
	`g‘Idx
(
is
,
jy
,
m2
)] = 
‹mp3
;

2574 
upş
 = 
cŞ
 - 1;

2577 
upş
 = 
cŞ
;

2581 
Ár
 = 
h—d
;

2583 
iy
 = 1; iy <ğ
upş
; iy++)

2585 
is
 = 
m
 + 
iy
;

2586 
j²Œ
 = 
h—d
;

2588 
jy
 = 1; jy <ğ
iy
; jy++)

2590 
js
 = 
m
 + 
jy
;

2591 
‹mp1
 = 
z”o
;

2592 
‹mp2
 = 
z”o
;

2593 
‹mp3
 = 
z”o
;

2594 
‹mp4
 = 
z”o
;

2595 
k
 = 1; k <ğ
ÃÁ”
; k++)

2597 
k1
 = 
šdx2
[
k
];

2598 
idx1
 = 
	`g‘Idx
(
k1
,
Ár
,
n
);

2599 
idx2
 = 
	`g‘Idx
(
k1
,
j²Œ
,
n
);

2600 
‹mp1
 +ğ
wy
[
idx1
]*wy[
idx2
];

2601 
‹mp2
 +ğ
ws
[
idx1
]*ws[
idx2
];

2603 
k
 = 
—ve
; k <ğ
n
; k++)

2605 
k1
 = 
šdx2
[
k
];

2606 
idx1
 = 
	`g‘Idx
(
k1
,
Ár
,
n
);

2607 
idx2
 = 
	`g‘Idx
(
k1
,
j²Œ
,
n
);

2608 
‹mp3
 +ğ
wy
[
idx1
]*wy[
idx2
];

2609 
‹mp4
 +ğ
ws
[
idx1
]*ws[
idx2
];

2611 
wn1
[
	`g‘Idx
(
iy
,
jy
,
m2
)] +ğ
‹mp1
 - 
‹mp3
;

2612 
wn1
[
	`g‘Idx
(
is
,
js
,
m2
)] +ğ
‹mp4
 - 
‹mp2
;

2613 
j²Œ
 = j²Œ%
m
 + 1;

2615 
Ár
 = i²Œ%
m
 + 1;

2618 
Ár
 = 
h—d
;

2620 
is
 = 
m
+1; i <ğm + 
upş
; is++)

2622 
j²Œ
 = 
h—d
;

2623 
jy
 = 1; jy <ğ
upş
; jy++)

2625 
‹mp1
 = 
z”o
;

2626 
‹mp3
 = 
z”o
;

2628 
k
 = 1; k <ğ
ÃÁ”
; k++)

2630 
k1
 = 
šdx2
[
k
];

2631 
‹mp1
 +ğ
ws
[
	`g‘Idx
(
k1
,
Ár
,
n
)]*
wy
[g‘Idx(k1,
j²Œ
,n)];

2633 
k
 = 
—ve
; k <ğ
n
; k++)

2635 
k1
 = 
šdx2
[
k
];

2636 
‹mp3
 +ğ
ws
[
	`g‘Idx
(
k1
,
Ár
,
n
)]*
wy
[g‘Idx(k1,
j²Œ
,n)];

2638 ià(
is
 <ğ
jy
 + 
m
)

2639 
wn1
[
	`g‘Idx
(
is
,
jy
,
m2
)] +ğ
‹mp1
 - 
‹mp3
;

2641 
wn1
[
	`g‘Idx
(
is
,
jy
,
m2
)] +ğ
‹mp3
 - 
‹mp1
;

2643 
j²Œ
 = j²Œ%
m
 + 1;

2645 
Ár
 = i²Œ%
m
 + 1;

2650 
iy
 = 1; iy <ğ
cŞ
; iy++)

2652 
is
 = 
cŞ
 + 
iy
;

2653 
is1
 = 
m
 + 
iy
;

2654 
jy
 = 1; jy <ğ
iy
; jy++)

2656 
js
 = 
cŞ
 + 
jy
;

2657 
js1
 = 
m
 + 
jy
;

2658 
wn
[
	`g‘Idx
(
jy
,
iy
,
m2
)] = 
wn1
[g‘Idx(iy,jy,m2)]/
th‘a
;

2659 
wn
[
	`g‘Idx
(
js
,
is
,
m2
)] = 
wn1
[g‘Idx(
is1
,
js1
,m2)]*
th‘a
;

2662 
jy
 = 1; jy <ğ
iy
-1; jy++)

2663 
wn
[
	`g‘Idx
(
jy
,
is
,
m2
)] = -
wn1
[g‘Idx(
is1
,jy,m2)];

2665 
jy
 = 
iy
; jy <ğ
cŞ
; jy++)

2666 
wn
[
	`g‘Idx
(
jy
,
is
,
m2
)] = 
wn1
[g‘Idx(
is1
,jy,m2)];

2667 
wn
[
	`g‘Idx
(
iy
,iy,
m2
)] +ğ
sy
[g‘Idx(iy,iy,
m
)];

2675 
	`dpoç
(
wn
,
m2
,
cŞ
,
šfo
);

2676 ià(
šfo
 != 0)

2678 
šfo
 = -1;

2683 
cŞ2
 = 2*
cŞ
;

2684 
js
 = 
cŞ
+1; j <ğ
cŞ2
; js++)

2685 
	`dŒ¦
(
wn
,
m2
,
cŞ
,&(wn[
	`g‘Idx
(1,
js
,m2)-1]),11,
šfo
);

2692 
is
 = 
cŞ
+1; i <ğ
cŞ2
; is++)

2693 
js
 = 
is
; j <ğ
cŞ2
; js++)

2694 
wn
[
	`g‘Idx
(
is
,
js
,
m2
)] +ğ
	`ddÙ
(
cŞ
,&(wn[getIdx(1,is,m2)-1]),1,

2695 &(
wn
[
	`g‘Idx
(1,
js
,
m2
)-1]),1);

2698 
	`dpoç
(&(
wn
[
	`g‘Idx
(
cŞ
+1,cŞ+1,
m2
)-1]),m2,cŞ,
šfo
);

2700 ià(
šfo
 != 0)

2702 
šfo
 = -2;

2705 
	}
}

2734 
	$fÜmt
(cÚ¡ & 
m
, * cÚ¡ & 
wt
, * cÚ¡& 
sy
,

2735 * cÚ¡ & 
ss
, cÚ¡ & 
cŞ
, cÚ¡ & 
th‘a
,

2736 & 
šfo
)

2739 
k1
, 
idx
;

2740 
ddum
;

2741 
z”o
=0.0;

2745 
j
 = 1; j <ğ
cŞ
; j++)

2747 
idx
 = 
	`g‘Idx
(1,
j
,
m
);

2748 
wt
[
idx
] = 
th‘a
*
ss
[idx];

2751 
i
 = 2; i <ğ
cŞ
; i++)

2752 
j
 = 
i
; j <ğ
cŞ
; j++)

2754 
k1
 = 
	`mš
(
i
,
j
) - 1;

2755 
ddum
 = 
z”o
;

2756 
k
 = 1; k <ğ
k1
; k++)

2757 
ddum
 +ğ
sy
[
	`g‘Idx
(
i
,
k
,
m
)]*sy[g‘Idx(
j
,k,m)]/sy[getIdx(k,k,m)];

2758 
wt
[
	`g‘Idx
(
i
,
j
,
m
)] = 
ddum
 + 
th‘a
*
ss
[getIdx(i,j,m)];

2764 
	`dpoç
(
wt
,
m
,
cŞ
,
šfo
);

2765 ià(
šfo
 != 0) info = -3;

2766 
	}
}

2807 
	$ä“v
(cÚ¡ & 
n
, & 
nä“
, * cÚ¡ & 
šdex
, & 
ÃÁ”
,

2808 & 
—ve
, * cÚ¡ & 
šdx2
, * cÚ¡ & 
iwh”e
,

2809 
boŞ
& 
wrk
, cÚ¡ boŞ& 
upd©d
, cÚ¡ boŞ& 
ú¡nd
,

2810 cÚ¡ & 
ršt
, cÚ¡ & 
™”
)

2813 
Ÿù
,
k
;

2815 
ÃÁ”
 = 0;

2816 
—ve
 = 
n
 + 1;

2817 ià(
™”
 > 0 && 
ú¡nd
)

2820 
i
 = 1; i <ğ
nä“
; i++)

2822 
k
 = 
šdex
[
i
];

2823 ià(
iwh”e
[
k
] > 0)

2825 
—ve
 -= 1;

2826 
šdx2
[
—ve
] = 
k
;

2827 ià(
ršt
 >= 100)

2828 
cout
 << "V¬ŸbË " << 
k
<<"†—ve th£ˆoàä“ v¬ŸbËs"<<
’dl
;

2832 
i
 = 1+
nä“
; i <ğ
n
; i++)

2834 
k
 = 
šdex
[
i
];

2835 ià(
iwh”e
[
k
] <= 0)

2837 
ÃÁ”
 += 1;

2838 
šdx2
[
ÃÁ”
] = 
k
;

2839 ià(
ršt
 >= 100)

2840 
cout
 << "V¬ŸbË " << 
k
<<"ƒÁ” th£ˆoàä“ v¬ŸbËs"<<
’dl
;

2843 ià(
ršt
 >= 99)

2844 
cout
 << 
n
+1-
—ve
 << " variables†eave; "

2845 << 
ÃÁ”
 << " v¬ŸbË ’‹r" << 
’dl
;

2847 
wrk
 = (
—ve
 < 
n
+1è|| (
ÃÁ”
 > 0è|| 
upd©d
;

2851 
nä“
 = 0;

2852 
Ÿù
 = 
n
 + 1;

2853 
i
 = 1; i <ğ
n
; i++)

2855 ià(
iwh”e
[
i
] <= 0)

2857 
nä“
 += 1;

2858 
šdex
[
nä“
] = 
i
;

2862 
Ÿù
 -= 1;

2863 
šdex
[
Ÿù
] = 
i
;

2867 ià(
ršt
 >= 99)

2868 
cout
 << 
nä“
 << " v¬ŸbË ¬ä“‡ˆGCP " << 
™”
 + 1 << 
’dl
;

2869 
	}
}

2914 
	$hpsŞb
(cÚ¡ & 
n
, * cÚ¡ & 
t
, * cÚ¡ & 
iÜd”
,

2915 cÚ¡ & 
ih—p
)

2918 
i
,
j
,
šdxš
,
šdxou
;

2919 
ddum
,
out
;

2921 ià(
ih—p
 == 0)

2924 
k
 = 2; k <ğ
n
; k++)

2926 
ddum
 = 
t
[
k
];

2927 
šdxš
 = 
iÜd”
[
k
];

2930 
i
 = 
k
;

2931 
gÙo10
:

2932 ià(
i
>1)

2934 
j
 = 
i
/2;

2935 ià(
ddum
 < 
t
[
j
])

2937 
t
[
i
] =[
j
];

2938 
iÜd”
[
i
] = iÜd”[
j
];

2939 
i
 = 
j
;

2940 
gÙo10
;

2944 
t
[
i
] = 
ddum
;

2945 
iÜd”
[
i
] = 
šdxš
;

2953 ià(
n
 > 1)

2955 
i
 = 1;

2956 
out
 = 
t
[1];

2957 
šdxou
 = 
iÜd”
[1];

2958 
ddum
 = 
t
[
n
];

2959 
šdxš
 = 
iÜd”
[
n
];

2962 
gÙo30
:

2963 
j
 = 
i
+i;

2964 ià(
j
 <ğ
n
-1)

2966 ià(
t
[
j
+1] <[j]) j = j+1;

2967 ià(
t
[
j
] < 
ddum
 )

2969 
t
[
i
] =[
j
];

2970 
iÜd”
[
i
] = iÜd”[
j
];

2971 
i
 = 
j
;

2972 
gÙo30
;

2975 
t
[
i
] = 
ddum
;

2976 
iÜd”
[
i
] = 
šdxš
;

2980 
t
[
n
] = 
out
;

2981 
iÜd”
[
n
] = 
šdxou
;

2983 
	}
}

3013 
	$Ê¤lb
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

3014 cÚ¡ * cÚ¡& 
nbd
, * cÚ¡ & 
x
, & 
f
,

3015 & 
fŞd
, & 
gd
, & 
gdŞd
, * cÚ¡& 
g
,

3016 * cÚ¡& 
d
, * cÚ¡& 
r
, * cÚ¡& 
t
,

3017 * cÚ¡& 
z
, & 
¡p
, & 
dnÜm
, & 
dtd
,

3018 & 
x¡•
, & 
¡pmx
, cÚ¡ & 
™”
, & 
ifun
,

3019 & 
iback
, & 
nfgv
, & 
šfo
, * cÚ¡ & 
sk
,

3020 cÚ¡ 
boŞ
& 
boxed
, cÚ¡ boŞ& 
ú¡nd
, * cÚ¡ & 
c§ve
,

3021 * cÚ¡ & 
i§ve
, * cÚ¡ & 
d§ve
)

3024 
a1
,
a2
;

3025 
Úe
=1.0,
z”o
=0.0,
big
=1e10;

3026 
áŞ
=1.0e-3,
gtŞ
=0.9,
xtŞ
=0.1;

3029 ià(
	`¡ºcmp
(
sk
,"FG_LN",5)==0è
gÙo556
;

3031 
dtd
 = 
	`ddÙ
(
n
,
d
,1,d,1);

3032 
dnÜm
 = 
	`sq¹
(
dtd
);

3036 
¡pmx
 = 
big
;

3037 ià(
ú¡nd
)

3039 ià(
™”
 == 0)

3040 
¡pmx
 = 
Úe
;

3043 
i
 = 1; i <ğ
n
; i++)

3045 
a1
 = 
d
[
i
];

3046 ià(
nbd
[
i
] != 0)

3048 ià(
a1
 < 
z”o
 && 
nbd
[
i
] <= 2)

3050 
a2
 = 
l
[
i
] - 
x
[i];

3051 ià(
a2
 >ğ
z”o
)

3052 
¡pmx
 = 
z”o
;

3054 ià(
a1
*
¡pmx
 < 
a2
)

3055 
¡pmx
 = 
a2
/
a1
;

3058 ià(
a1
 > 
z”o
 && 
nbd
[
i
] >= 2)

3060 
a2
 = 
u
[
i
] - 
x
[i];

3061 ià(
a2
 <ğ
z”o
)

3062 
¡pmx
 = 
z”o
;

3064 ià(
a1
*
¡pmx
 > 
a2
)

3065 
¡pmx
 = 
a2
/
a1
;

3072 ià(
™”
 =ğ0 && !
boxed
)

3073 
¡p
 = 
	`mš
(
Úe
/
dnÜm
, 
¡pmx
);

3075 
¡p
 = 
Úe
;

3077 
	`dcİy
(
n
,
x
,1,
t
,1);

3078 
	`dcİy
(
n
,
g
,1,
r
,1);

3079 
fŞd
 = 
f
;

3080 
ifun
 = 0;

3081 
iback
 = 0;

3082 
	`¡rıy
(
c§ve
,"START");

3083 
gÙo556
:

3084 
gd
 = 
	`ddÙ
(
n
,
g
,1,
d
,1);

3085 ià(
ifun
 == 0)

3087 
gdŞd
=
gd
;

3088 ià(
gd
 >ğ
z”o
)

3092 
šfo
 = -4;

3097 
	`dc¤ch
(
f
,
gd
,
¡p
,
áŞ
,
gtŞ
,
xtŞ
,
z”o
,
¡pmx
,
c§ve
,
i§ve
,
d§ve
);

3099 
x¡•
 = 
¡p
*
dnÜm
;

3100 ià(
	`¡ºcmp
(
c§ve
,"CONV",4) != 0 && strncmp(csave,"WARN",4) != 0)

3102 
	`¡rıy
(
sk
,"FG_LNSRCH");

3103 
ifun
 += 1;

3104 
nfgv
 += 1;

3105 
iback
 = 
ifun
 - 1;

3106 ià(
¡p
 =ğ
Úe
)

3107 
	`dcİy
(
n
,
z
,1,
x
,1);

3110 
i
 = 1; i <ğ
n
; i++)

3111 
x
[
i
] = 
¡p
*
d
[i] + 
t
[i];

3115 
	`¡rıy
(
sk
,"NEW_X");

3116 
	}
}

3143 
	$m©upd
(cÚ¡ & 
n
, cÚ¡ & 
m
, * cÚ¡ & 
ws
,

3144 * cÚ¡ & 
wy
, * cÚ¡ & 
sy
, * cÚ¡ & 
ss
,

3145 * cÚ¡ & 
d
, * cÚ¡ & 
r
, & 
™a
, & 
iupd©
,

3146 & 
cŞ
, & 
h—d
, & 
th‘a
, & 
¼
, & 
dr
,

3147 & 
¡p
, & 
dtd
)

3150 
pošŒ
;

3151 
Úe
=1.0;

3152 
idx
;

3155 ià(
iupd©
 <ğ
m
)

3157 
cŞ
 = 
iupd©
;

3158 
™a
 = (
h—d
+
iupd©
-2)%
m
 + 1;

3162 
™a
 = i%
m
 + 1;

3163 
h—d
 = h—d%
m
 + 1;

3167 
idx
 = 
	`g‘Idx
(1,
™a
,
n
)-1;

3168 
	`dcİy
(
n
,
d
,1,&(
ws
[
idx
]),1);

3169 
	`dcİy
(
n
,
r
,1,&(
wy
[
idx
]),1);

3172 
th‘a
 = 
¼
/
dr
;

3177 ià(
iupd©
 > 
m
)

3180 
j
 = 1; j <ğ
cŞ
-1; j++)

3182 
	`dcİy
(
j
,&(
ss
[
	`g‘Idx
(2,j+1,
m
)-1]),1,&(ss[getIdx(1,j,m)-1]),1);

3183 
	`dcİy
(
cŞ
-
j
,&(
sy
[
	`g‘Idx
(j+1,j+1,
m
)-1]),1,&(sy[getIdx(j,j,m)-1]),1);

3189 
pošŒ
 = 
h—d
;

3190 
j
 = 1; j <ğ
cŞ
-1; j++)

3192 
idx
 = 
	`g‘Idx
(1,
pošŒ
,
n
)-1;

3193 
sy
[
	`g‘Idx
(
cŞ
,
j
,
m
)] = 
	`ddÙ
(
n
,
d
,1,&(
wy
[
idx
]),1);

3194 
ss
[
	`g‘Idx
(
j
,
cŞ
,
m
)] = 
	`ddÙ
(
n
,&(
ws
[
idx
]),1,
d
,1);

3195 
pošŒ
 =…ošŒ%
m
 + 1;

3198 
idx
 = 
	`g‘Idx
(
cŞ
,cŞ,
m
);

3199 ià(
¡p
 =ğ
Úe
)

3200 
ss
[
idx
] = 
dtd
;

3202 
ss
[
idx
] = 
¡p
*¡p*
dtd
;

3204 
sy
[
idx
] = 
dr
;

3205 
	}
}

3229 
	$´n1lb
(cÚ¡ & 
n
, cÚ¡ & 
m
, cÚ¡ * cÚ¡ & 
l
,

3230 cÚ¡ * cÚ¡ & 
u
, cÚ¡ * cÚ¡ & 
x
,

3231 cÚ¡ & 
ršt
, 
of¡»am
* 
™fe
, cÚ¡ & 
•smch
)

3235 ià(
ršt
 >= 0)

3237 
cout
 << "RUNNING THE L-BFGS-B CODE, " << 
’dl


3238 << "•smch = machš´ecisiÚ" << 
’dl


3239 << "™ = i‹¿tiÚ‚umb”" << 
’dl


3240 << "nà =‚umb” oàfunùiÚƒv®u©iÚs" << 
’dl


3242 << 
’dl


3244 << 
’dl


3246 << 
’dl


3247 <<"cÚ = cÚv”ged, bnd =‡ bound wa »ached" << 
’dl


3249 << 
’dl


3250 << "¡•Èğ¡•†’gth u£d" << 
’dl


3251 << "t¡• =‚Üm oàthdi¥Ïûm’ˆÑÙ® s‹p)" << 
’dl


3252 << "´ojg =‚Üm oàth´ojeùed g¿d›Á" << 
’dl


3253 << "à = funùiÚ v®ue" << 
’dl


3254 << "Machš´ecisiÚ = " << 
•smch
 << 
’dl
;

3255 
cout
 << "N = " << 
n
 << ", M = " << 
m
 << 
’dl
;

3256 ià(
ršt
 >= 1)

3258 *
™fe
 << "RUNNING THE L-BFGS-B CODE,ƒpsmch = "

3259 << "™ = i‹¿tiÚ‚umb”" << 
’dl


3260 << "nà =‚umb” oàfunùiÚƒv®u©iÚs" << 
’dl


3262 << 
’dl


3264 << 
’dl


3266 << 
’dl


3267 <<"cÚ = cÚv”ged, bnd =‡ bound wa »ached" << 
’dl


3269 << 
’dl


3270 << "¡•Èğ¡•†’gth u£d" << 
’dl


3271 << "t¡• =‚Üm oàthdi¥Ïûm’ˆÑÙ® s‹p)" << 
’dl


3272 << "´ojg =‚Üm oàth´ojeùed g¿d›Á" << 
’dl


3273 << "à = funùiÚ v®ue" << 
’dl


3274 << "Machš´ecisiÚ = " << 
•smch
 << 
’dl
;

3275 *
™fe
 << "N = " << 
n
 << ", M = " << 
m
 << 
’dl
;

3276 *
™fe
 << " it‚f‚int‚act sub itls steplstep…rojg"

3277 << " f" << 
’dl
;

3278 ià(
ršt
 > 100)

3280 
cout
 << "L = ";

3281 
i
 = 1; i <ğ
n
; i++è
cout
 << 
l
[i] << " ";

3282 
cout
 << 
’dl
;

3283 
cout
 << "X0 = ";

3284 
i
 = 1; i <ğ
n
; i++è
cout
 << 
x
[i] << " ";

3285 
cout
 << 
’dl
;

3286 
cout
 << "U = ";

3287 
i
 = 1; i <ğ
n
; i++è
cout
 << 
u
[i] << " ";

3288 
cout
 << 
’dl
;

3292 
	}
}

3315 
	$´n2lb
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
x
, cÚ¡ & 
f
,

3316 cÚ¡ * cÚ¡ & 
g
, cÚ¡ & 
ršt
,

3317 
of¡»am
* 
™fe
, cÚ¡ & 
™”
, cÚ¡ & 
nfgv
,

3318 cÚ¡ & 
Çù
, cÚ¡ & 
sbgÄm
, cÚ¡ & 
nšt
,

3319 * cÚ¡ & 
wÜd
, cÚ¡ & 
iwÜd
, cÚ¡ & 
iback
,

3320 cÚ¡ & 
¡p
, cÚ¡ & 
x¡•
)

3323 
imod
;

3326 ià(
iwÜd
 == 0)

3329 
	`¡rıy
(
wÜd
, "con");

3332 ià(
iwÜd
 == 1)

3335 
	`¡rıy
(
wÜd
, "bnd");

3338 ià(
iwÜd
 == 5)

3341 
	`¡rıy
(
wÜd
, "TNT");

3345 
	`¡rıy
(
wÜd
, "---");

3347 ià(
ršt
 >= 99)

3349 
cout
 << "LINE SEARCH " << 
iback
 <<"imes;‚Üm oà¡• = " <<
x¡•
<<
’dl
;

3350 
cout
 << "Aˆ™”©" << 
™”
 << " f=" << 
f
 <<" |´oj g|="<<
sbgÄm
<<
’dl
;

3351 ià(
ršt
 > 100)

3353 
cout
 << "X = " << 
’dl
;

3354 
i
 = 1; i <ğ
n
; i++è
cout
 << 
x
[i] << " ";

3355 
cout
 << 
’dl
;

3356 
cout
 << "G = " << 
’dl
;

3357 
i
 = 1; i <ğ
n
; i++è
cout
 << 
g
[i] << " ";

3358 
cout
 << 
’dl
;

3362 ià(
ršt
 > 0)

3364 
imod
 = 
™”
%
ršt
;

3365 ià(
imod
 == 0)

3366 
cout
 << "Aˆ™”©" << 
™”
 << " f="<<
f
<< " |´oj g|="<<
sbgÄm
<<
’dl
;

3368 ià(
ršt
 >= 1)

3369 *
™fe
 << " " << 
™”
 << " " << 
nfgv
 << " " << 
nšt
 << " " << 
Çù
 << " "

3370 << 
wÜd
 << " " << 
iback
 << " " << 
¡p
 << " " << 
x¡•
 << " "

3371 << 
sbgÄm
 << " " << 
f
 << 
’dl
;

3372 
	}
}

3396 
	$´n3lb
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
x
, & 
f
,

3397 cÚ¡ * cÚ¡ & 
sk
, cÚ¡ & 
ršt
,

3398 cÚ¡ & 
šfo
, 
of¡»am
* 
™fe
, cÚ¡ & 
™”
,

3399 cÚ¡ & 
nfgv
, cÚ¡ & 
nštŞ
, cÚ¡ & 
nsk
,

3400 cÚ¡ & 
Çù
, cÚ¡ & 
sbgÄm
, cÚ¡ & 
time
,

3401 cÚ¡ & 
nšt
, cÚ¡ * cÚ¡ & 
wÜd
, cÚ¡ & 
iback
,

3402 cÚ¡ & 
¡p
,cÚ¡ & 
x¡•
, cÚ¡ & 
k
,

3403 cÚ¡ & 
ÿchyt
, cÚ¡ & 
sbtime
, cÚ¡ & 
Êscht
)

3406 ià(
	`¡ºcmp
(
sk
,"ERROR",5)==0è
gÙo999
;

3408 ià(
ršt
 >= 0)

3410 
cout
 << " * * *"

3411 << "T™ =Ù®‚umb” oà™”©iÚs" << 
’dl


3412 << "Tnà =Ù®‚umb” oàfunùiÚƒv®u©iÚs" << 
’dl


3414 << " Cauchy s—rches" << 
’dl


3415 << "Sk =‚umb” oàBFGS upd©e sk³d" << 
’dl


3417 << " Cauchy…ošt" << 
’dl


3418 << "Projg =‚Üm oàthfš®…rojeùed g¿d›Á" << 
’dl


3419 << "F = fš® funùiÚ v®ue" << 
’dl


3420 << " * * *" << 
’dl
;

3422 
cout
 << " N T™ Tnà Tnšˆ Sk Naù Projg F" << 
’dl
;

3423 
cout
 << " " << 
n
 << " " << 
™”
 << " " << 
nfgv
 << " " << 
nštŞ
 << " "

3424 << 
nsk
 << " " << 
Çù
 << " " << 
sbgÄm
 << " " << 
f
 << 
’dl
;

3425 ià(
ršt
 >= 100)

3427 
cout
 << "X = ";

3428 
i
 = 1; i <ğ
n
; i++)

3429 
cout
 << 
x
[
i
] << " ";

3430 
cout
 << 
’dl
;

3432 ià(
ršt
 >ğ1è
cout
 << " F = " << 
f
 << 
’dl
;

3435 
gÙo999
:

3437 ià(
ršt
 >= 0)

3439 
cout
 << 
sk
 << 
’dl
;

3440 ià(
šfo
 != 0)

3442 ià(
šfo
 == -1)

3443 
cout
 << "Matrix in 1st Cholesky factorization in formk is‚ot "

3444 << "Pos. Def." << 
’dl
;

3445 ià(
šfo
 == -2)

3446 
cout
 << "Matrix in 2st Cholesky factorization in formk is‚ot "

3447 << "Pos. Def." << 
’dl
;

3448 ià(
šfo
 == -3)

3449 
cout
 << "Matrix inhe Cholesky factorization in formt is‚ot "

3450 << "Pos. Def." << 
’dl
;

3451 ià(
šfo
 == -4)

3452 
cout
 << "Derivative >= 0, backtracking†ine search impossible."

3453 << 
’dl
 << "Previous x, f‡nd g„estored." <<ƒndl

3455 <<"ev®u©iÚ;" << 
’dl


3456 << "2„oundšgƒ¼Ü domš©computiÚ." << 
’dl
;

3457 ià(
šfo
 == -5)

3458 
cout
 << "W¬nšg: mÜthª 10 funùiÚ‡nd g¿d›Á" << 
’dl


3460 << "may…ossibly bÿu£d by‡ bad s—rch dœeùiÚ."<<
’dl
;

3461 ià(
šfo
 == -6)

3462 
cout
 << " IÅuˆnbd(" << 
k
 << "èi šv®id."<<
’dl
;

3463 ià(
šfo
 == -7)

3464 
cout
 << "†(" << 
k
 << ") > u(" << k << "). No feasible solution."

3465 << 
’dl
;

3466 ià(
šfo
 == -8)

3467 
cout
 << "ThŒŸnguÏ¸sy¡em i sšguÏr" << 
’dl
;

3468 ià(
šfo
 == -9)

3469 
cout
 << " Lš£¬ch cªnÙ†oÿ‹‡Àadequ©pošˆaá”"<<
’dl


3471 << " g„e¡Üed." << 
’dl


3474 << 
’dl
;

3477 ià(
ršt
 >= 1)

3478 
cout
 << "Cauchyim" << 
ÿchyt
 << " secÚds."<<
’dl


3479 << "Sub¥aû mšimiz©iÚim" << 
sbtime
 << " secÚds."<<
’dl


3480 << "Lš£¬chim" << 
Êscht
 << " secÚds."<<
’dl
;

3482 
cout
 << "TÙ® U£¸tim" << 
time
 << " secÚds." << 
’dl
;

3484 ià(
ršt
 >= 1)

3486 ià(
šfo
 == -4 || info == -9)

3488 *
™fe
 << " " << 
n
 << " " << 
™”
 << " " << 
nfgv
 << " " << 
nštŞ


3489 << " " << 
nsk
 << " " << 
Çù
 << " " << 
sbgÄm
 << " " << 
f


3490 << 
’dl
;

3492 *
™fe
 << 
sk
 << 
’dl
;

3493 ià(
šfo
 != 0)

3495 ià(
šfo
 == -1)

3496 *
™fe
 << "Matrix in 1st Cholesky factorization in formk is‚ot"

3497 << " Pos. Def." << 
’dl
;

3498 ià(
šfo
 == -2)

3499 *
™fe
 << "Matrix in 2st Cholesky factorization in formk is‚ot"

3500 << " Pos. Def." << 
’dl
;

3501 ià(
šfo
 == -3)

3502 *
™fe
 << "Matrix inhe Cholesky factorization in formt is‚ot"

3503 << " Pos. Def." << 
’dl
;

3504 ià(
šfo
 == -4)

3505 *
™fe
 << "Derivative>=0, backtracking†ine search impossible."

3506 << 
’dl
 << "Previous x, f‡nd g„estored." <<ƒndl

3508 <<"ev®u©iÚ;" << 
’dl


3509 << "2„oundšgƒ¼Ü domš©computiÚ." << 
’dl
;

3510 ià(
šfo
 == -5)

3511 *
™fe
 << "W¬nšg: mÜthª 10 funùiÚ‡nd g¿d›Á" << 
’dl


3514 << 
’dl
;

3515 ià(
šfo
 == -8)

3516 
cout
 << "ThŒŸnguÏ¸sy¡em i sšguÏr" << 
’dl
;

3517 ià(
šfo
 == -9)

3518 
cout
 << " Line search cannot†ocate‡n‡dequate…oint‡fter"

3519 << 
’dl


3521 << "ªd g„e¡Üed." << 
’dl


3524 << 
’dl
;

3526 *
™fe
 << "TÙ® U£¸tim" << 
time
 << " secÚds." << 
’dl
;

3529 
	}
}

3552 
	$´ojgr
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

3553 cÚ¡ * cÚ¡ & 
nbd
, cÚ¡ * cÚ¡ & 
x
,

3554 cÚ¡ * cÚ¡ & 
g
, & 
sbgÄm
)

3557 
gi
;

3559 
z”o
=0.0;

3561 
sbgÄm
 = 
z”o
;

3562 
i
 = 1; i <ğ
n
; i++)

3564 
gi
 = 
g
[
i
];

3565 ià(
nbd
[
i
] != 0)

3567 ià(
gi
 < 
z”o
)

3569 ià(
nbd
[
i
] >ğ2è
gi
 = 
	`max
((
x
[i]-
u
[i]),gi);

3573 ià(
nbd
[
i
] <ğ2è
gi
 = 
	`mš
((
x
[i]-
l
[i]),gi);

3576 
sbgÄm
 = 
	`max
(sbgÄm,
	`çbs
(
gi
));

3578 
	}
}

3729 
	$subsm
(cÚ¡ & 
n
, cÚ¡ & 
m
, cÚ¡ & 
nsub
, cÚ¡ * cÚ¡& 
šd
,

3730 cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

3731 cÚ¡ * cÚ¡ & 
nbd
, * cÚ¡ & 
x
, * cÚ¡ & 
d
,

3732 * cÚ¡ & 
ws
, * cÚ¡ & 
wy
, cÚ¡ & 
th‘a
,

3733 cÚ¡ & 
cŞ
, cÚ¡ & 
h—d
, & 
iwÜd
, * cÚ¡ & 
wv
,

3734 * cÚ¡ & 
wn
, cÚ¡ & 
ršt
, & 
šfo
)

3737 
pošŒ
,
m2
,
cŞ2
,
ibd
=0,
js
,
k
;

3738 
®pha
,
dk
,
‹mp1
,
‹mp2
;

3739 
Úe
=1.0,
z”o
=0.0;

3740 
idx
;

3742 ià(
nsub
 <= 0) ;

3743 ià(
ršt
 >= 99)

3744 
cout
 << "----------------SUBSMƒÁ”ed-----------------" << 
’dl
;

3748 
pošŒ
 = 
h—d
;

3749 
i
 = 1; i <ğ
cŞ
; i++)

3751 
‹mp1
 = 
z”o
;

3752 
‹mp2
 = 
z”o
;

3753 
j
 = 1; j <ğ
nsub
; j++)

3755 
k
 = 
šd
[
j
];

3756 
idx
 = 
	`g‘Idx
(
k
,
pošŒ
,
n
);

3757 
‹mp1
 +ğ
wy
[
idx
]*
d
[
j
];

3758 
‹mp2
 +ğ
ws
[
idx
]*
d
[
j
];

3760 
wv
[
i
] = 
‹mp1
;

3761 
wv
[
cŞ
 + 
i
] = 
th‘a
*
‹mp2
;

3762 
pošŒ
 =…ošŒ%
m
 + 1;

3768 
m2
 = 2*
m
;

3769 
cŞ2
 = 2*
cŞ
;

3770 
	`dŒ¦
(
wn
,
m2
,
cŞ2
,
wv
,11,
šfo
);

3772 ià(
šfo
 != 0) ;

3773 
i
 = 1; i <ğ
cŞ
; i++)

3774 
wv
[
i
] = -wv[i];

3775 
	`dŒ¦
(
wn
,
m2
,
cŞ2
,
wv
,01,
šfo
);

3777 ià(
šfo
 != 0) ;

3781 
pošŒ
 = 
h—d
;

3782 
jy
 = 1; jy <ğ
cŞ
; jy++)

3784 
js
 = 
cŞ
 + 
jy
;

3785 
i
 = 1; i <ğ
nsub
; i++)

3787 
k
 = 
šd
[
i
];

3788 
idx
 = 
	`g‘Idx
(
k
,
pošŒ
,
n
);

3789 
d
[
i
] +ğ
wy
[
idx
]*
wv
[
jy
]/
th‘a
 + 
ws
[idx]*wv[
js
];

3791 
pošŒ
 =…ošŒ%
m
 + 1;

3794 
i
 = 1; i <ğ
nsub
; i++)

3795 
d
[
i
] /ğ
th‘a
;

3799 
®pha
 = 
Úe
;

3800 
‹mp1
 = 
®pha
;

3802 
i
 = 1; i <ğ
nsub
; i++)

3804 
k
 = 
šd
[
i
];

3805 
dk
 = 
d
[
i
];

3806 ià(
nbd
[
k
] != 0)

3808 ià(
dk
 < 
z”o
 && 
nbd
[
k
] <= 2)

3810 
‹mp2
 = 
l
[
k
] - 
x
[k];

3811 ià(
‹mp2
 >ğ
z”o
)

3812 
‹mp1
 = 
z”o
;

3814 ià(
dk
*
®pha
 < 
‹mp2
)

3815 
‹mp1
 = 
‹mp2
/
dk
;

3818 ià(
dk
 > 
z”o
 && 
nbd
[
k
] >= 2)

3820 
‹mp2
 = 
u
[
k
] - 
x
[k];

3821 ià(
‹mp2
 <ğ
z”o
)

3822 
‹mp1
 = 
z”o
;

3824 ià(
dk
*
®pha
 > 
‹mp2
)

3825 
‹mp1
 = 
‹mp2
/
dk
;

3827 ià(
‹mp1
 < 
®pha
)

3829 
®pha
 = 
‹mp1
;

3830 
ibd
 = 
i
;

3836 ià(
®pha
 < 
Úe
)

3838 
dk
 = 
d
[
ibd
];

3839 
k
 = 
šd
[
ibd
];

3840 ià(
dk
 > 
z”o
)

3842 
x
[
k
] = 
u
[k];

3843 
d
[
ibd
] = 
z”o
;

3846 ià(
dk
 < 
z”o
)

3848 
x
[
k
] = 
l
[k];

3849 
d
[
ibd
] = 
z”o
;

3853 
i
 = 1; i <ğ
nsub
; i++)

3855 
k
 = 
šd
[
i
];

3856 
x
[
k
] +ğ
®pha
*
d
[
i
];

3859 ià(
ršt
 >= 99)

3861 ià(
®pha
 < 
Úe
)

3862 
cout
 << "ALPHA = " << 
®pha
 << " backŒackØthBOX" << 
’dl
;

3864 
cout
 << "SM sŞutiÚ insidthbox" << 
’dl
;

3866 ià(
ršt
 >100)

3868 
cout
 << "Subspace solution X = ";

3869 
i
 = 1; i <ğ
n
; i++è
cout
 << 
x
[i] << " ";

3870 
cout
 << 
’dl
;

3874 ià(
®pha
 < 
Úe
)

3875 
iwÜd
 = 1;

3877 
iwÜd
 = 0;

3879 ià(
ršt
 >= 99)

3880 
cout
 << "----------------ex™ SUBSM --------------------" << 
’dl
;

3881 
	}
}

4017 
	$dc¤ch
(& 
f
, & 
g
, & 
¡p
, cÚ¡ & 
áŞ
,

4018 cÚ¡ & 
gtŞ
, cÚ¡ & 
xtŞ
, cÚ¡ & 
¡pmš
,

4019 cÚ¡ & 
¡pmax
, * cÚ¡ & 
sk
, * cÚ¡ & 
i§ve
,

4020 * cÚ¡ & 
d§ve
)

4022 
z”o
=0.0,
p5
=0.5,
p66
=0.66;

4023 
xŒ­l
=1.1,
xŒ­u
=4.0;

4025 
boŞ
 
b¿ckt
;

4026 
¡age
;

4027 
fš™
,
áe¡
,
fm
,
fx
,
fxm
,
fy
,
fym
,
gš™
,
g‹¡
,

4028 
gm
,
gx
,
gxm
,
gy
,
gym
,
¡x
,
¡y
,
¡mš
,
¡max
,
width
,
width1
;

4032 ià(
	`¡ºcmp
(
sk
,"START",5)==0)

4036 ià(
¡p
 < 
¡pmš
è
	`¡rıy
(
sk
, "ERROR: STP < STPMIN");

4037 ià(
¡p
 > 
¡pmax
è
	`¡rıy
(
sk
, "ERROR: STP > STPMAX");

4038 ià(
g
 >
z”o
è
	`¡rıy
(
sk
, "ERROR: INITIAL G >ZERO");

4039 ià(
áŞ
 < 
z”o
è
	`¡rıy
(
sk
, "ERROR: FTOL < ZERO");

4040 ià(
gtŞ
 < 
z”o
è
	`¡rıy
(
sk
, "ERROR: GTOL < ZERO");

4041 ià(
xtŞ
 < 
z”o
è
	`¡rıy
(
sk
, "ERROR: XTOL < ZERO");

4042 ià(
¡pmš
 < 
z”o
è
	`¡rıy
(
sk
, "ERROR: STPMIN < ZERO");

4043 ià(
¡pmax
 < 
¡pmš
è
	`¡rıy
(
sk
, "ERROR: STPMAX < STPMIN");

4046 ià(
	`¡ºcmp
(
sk
,"ERROR",5)==0) ;

4050 
b¿ckt
 = 
çl£
;

4051 
¡age
 = 1;

4052 
fš™
 = 
f
;

4053 
gš™
 = 
g
;

4054 
g‹¡
 = 
áŞ
*
gš™
;

4055 
width
 = 
¡pmax
 - 
¡pmš
;

4056 
width1
 = 
width
/
p5
;

4065 
¡x
 = 
z”o
;

4066 
fx
 = 
fš™
;

4067 
gx
 = 
gš™
;

4068 
¡y
 = 
z”o
;

4069 
fy
 = 
fš™
;

4070 
gy
 = 
gš™
;

4071 
¡mš
 = 
z”o
;

4072 
¡max
 = 
¡p
 + 
xŒ­u
*stp;

4073 
	`¡rıy
(
sk
, "FG");

4075 
gÙo1000
;

4081 ià(
i§ve
[1] == 1)

4082 
b¿ckt
 = 
Œue
;

4084 
b¿ckt
 = 
çl£
;

4086 
¡age
 = 
i§ve
[2];

4087 
gš™
 = 
d§ve
[1];

4088 
g‹¡
 = 
d§ve
[2];

4089 
gx
 = 
d§ve
[3];

4090 
gy
 = 
d§ve
[4];

4091 
fš™
 = 
d§ve
[5];

4092 
fx
 = 
d§ve
[6];

4093 
fy
 = 
d§ve
[7];

4094 
¡x
 = 
d§ve
[8];

4095 
¡y
 = 
d§ve
[9];

4096 
¡mš
 = 
d§ve
[10];

4097 
¡max
 = 
d§ve
[11];

4098 
width
 = 
d§ve
[12];

4099 
width1
 = 
d§ve
[13];

4105 
áe¡
 = 
fš™
 + 
¡p
*
g‹¡
;

4106 ià(
¡age
 =ğ1 && 
f
 <ğ
áe¡
 && 
g
 >ğ
z”o
) stage = 2;

4110 ià(
b¿ckt
 && (
¡p
 <ğ
¡mš
 || s >ğ
¡max
))

4111 
	`¡rıy
(
sk
, "WARNING: ROUNDING ERRORS PREVENT PROGRESS");

4112 ià(
b¿ckt
 && 
¡max
 - 
¡mš
 <ğ
xtŞ
*stmax)

4113 
	`¡rıy
(
sk
, "WARNING: XTOL TEST SATISFIED");

4114 ià(
¡p
 =ğ
¡pmax
 && 
f
 <ğ
áe¡
 && 
g
 <ğ
g‹¡
)

4115 
	`¡rıy
(
sk
, "WARNING: STP = STPMAX");

4116 ià(
¡p
 =ğ
¡pmš
 && (
f
 > 
áe¡
 || 
g
 >ğ
g‹¡
))

4117 
	`¡rıy
(
sk
, "WARNING: STP = STPMIN");

4121 ià(
f
 <ğ
áe¡
 && 
	`çbs
(
g
è<ğ
gtŞ
*(-
gš™
))

4122 
	`¡rıy
(
sk
, "CONVERGENCE");

4126 ià(
	`¡ºcmp
(
sk
,"WARN",4)==0 || sŒncmpÑask,"CONV",4)==0è
gÙo1000
;

4132 ià(
¡age
 =ğ1 && 
f
 <ğ
fx
 && f > 
áe¡
)

4136 
fm
 = 
f
 - 
¡p
*
g‹¡
;

4137 
fxm
 = 
fx
 - 
¡x
*
g‹¡
;

4138 
fym
 = 
fy
 - 
¡y
*
g‹¡
;

4139 
gm
 = 
g
 - 
g‹¡
;

4140 
gxm
 = 
gx
 - 
g‹¡
;

4141 
gym
 = 
gy
 - 
g‹¡
;

4145 
	`dc¡•
(
¡x
,
fxm
,
gxm
,
¡y
,
fym
,
gym
,
¡p
,
fm
,
gm
,

4146 
b¿ckt
,
¡mš
,
¡max
);

4150 
fx
 = 
fxm
 + 
¡x
*
g‹¡
;

4151 
fy
 = 
fym
 + 
¡y
*
g‹¡
;

4152 
gx
 = 
gxm
 + 
g‹¡
;

4153 
gy
 = 
gym
 + 
g‹¡
;

4159 
	`dc¡•
(
¡x
,
fx
,
gx
,
¡y
,
fy
,
gy
,
¡p
,
f
,
g
,

4160 
b¿ckt
,
¡mš
,
¡max
);

4165 ià(
b¿ckt
)

4167 ià(
	`çbs
(
¡y
-
¡x
è>ğ
p66
*
width1
è
¡p
 = stx + 
p5
*(sty - stx);

4168 
width1
 = 
width
;

4169 
width
 = 
	`çbs
(
¡y
-
¡x
);

4174 ià(
b¿ckt
)

4176 
¡mš
 = 
	`mš
(
¡x
,
¡y
);

4177 
¡max
 = 
	`max
(
¡x
,
¡y
);

4181 
¡mš
 = 
¡p
 + 
xŒ­l
*(¡°- 
¡x
);

4182 
¡max
 = 
¡p
 + 
xŒ­u
*(¡°- 
¡x
);

4187 
¡p
 = 
	`max
(¡p,
¡pmš
);

4188 
¡p
 = 
	`mš
(¡p,
¡pmax
);

4193 ià((
b¿ckt
 && (
¡p
 <ğ
¡mš
 || s >ğ
¡max
))

4194 || (
b¿ckt
 && 
¡max
-
¡mš
 <ğ
xtŞ
*¡max)è
¡p
 = 
¡x
;

4197 
	`¡rıy
(
sk
,"FG");

4199 
gÙo1000
:

4203 ià(
b¿ckt
)

4204 
i§ve
[1] = 1;

4206 
i§ve
[1] = 0;

4208 
i§ve
[2] = 
¡age
;

4209 
d§ve
[1] = 
gš™
;

4210 
d§ve
[2] = 
g‹¡
;

4211 
d§ve
[3] = 
gx
;

4212 
d§ve
[4] = 
gy
;

4213 
d§ve
[5] = 
fš™
;

4214 
d§ve
[6] = 
fx
;

4215 
d§ve
[7] = 
fy
;

4216 
d§ve
[8] = 
¡x
;

4217 
d§ve
[9] = 
¡y
;

4218 
d§ve
[10] = 
¡mš
;

4219 
d§ve
[11] = 
¡max
;

4220 
d§ve
[12] = 
width
;

4221 
d§ve
[13] = 
width1
;

4222 
	}
}

4318 
	$dc¡•
(& 
¡x
, & 
fx
, & 
dx
, & 
¡y
, & 
fy
,

4319 & 
dy
, & 
¡p
, cÚ¡ & 
å
, cÚ¡ & 
dp
,

4320 
boŞ
& 
b¿ckt
, cÚ¡ & 
¡pmš
, cÚ¡ & 
¡pmax
)

4322 
z”o
=0.0,
p66
=0.66,
two
=2.0,
th»e
=3.0;

4323 
gamma
,
p
,
q
,
r
,
s
,
sgnd
,
¡pc
,
¡pf
,
¡pq
,
th‘a
;

4325 
sgnd
 = 
dp
*(
dx
/
	`çbs
(dx));

4332 ià(
å
 > 
fx
)

4334 
th‘a
 = 
th»e
*(
fx
 - 
å
)/(
¡p
 - 
¡x
è+ 
dx
 + 
dp
;

4335 
s
 = 
	`max
(
	`çbs
(
th‘a
),çbs(
dx
),çbs(
dp
));

4336 
gamma
 = 
s
*
	`sq¹
Ğ(
th‘a
/s)*Ñh‘a/sè- (
dx
/s)*(
dp
/s) );

4337 ià(
¡p
 < 
¡x
è
gamma
 = -gamma;

4338 
p
 = (
gamma
 - 
dx
è+ 
th‘a
;

4339 
q
 = ((
gamma
 - 
dx
è+ gammaè+ 
dp
;

4340 
r
 = 
p
/
q
;

4341 
¡pc
 = 
¡x
 + 
r
*(
¡p
 - stx);

4342 
¡pq
 = 
¡x
 + ((
dx
/((
fx
 - 
å
)/(
¡p
 - stxè+ dx))/
two
)*(stp - stx);

4343 ià(
	`çbs
(
¡pc
-
¡x
è< fabs(
¡pq
-stx))

4344 
¡pf
 = 
¡pc
;

4346 
¡pf
 = 
¡pc
 + (
¡pq
 - sc)/
two
;

4347 
b¿ckt
 = 
Œue
;

4356 ià(
sgnd
 < 
z”o
)

4358 
th‘a
 = 
th»e
*(
fx
 - 
å
)/(
¡p
 - 
¡x
è+ 
dx
 + 
dp
;

4359 
s
 = 
	`max
(
	`çbs
(
th‘a
),çbs(
dx
),çbs(
dp
));

4360 
gamma
 = 
s
*
	`sq¹
Ğ(
th‘a
/s)*Ñh‘a/sè- (
dx
/s)*(
dp
/s) );

4361 ià(
¡p
 > 
¡x
è
gamma
 = -gamma;

4362 
p
 = (
gamma
 - 
dp
è+ 
th‘a
;

4363 
q
 = ((
gamma
 - 
dp
è+ gammaè+ 
dx
;

4364 
r
 = 
p
/
q
;

4365 
¡pc
 = 
¡p
 + 
r
*(
¡x
 - stp);

4366 
¡pq
 = 
¡p
 + (
dp
/(d°- 
dx
))*(
¡x
 - stp);

4367 ià(
	`çbs
(
¡pc
-
¡p
è> fabs(
¡pq
-stp))

4368 
¡pf
 = 
¡pc
;

4370 
¡pf
 = 
¡pq
;

4371 
b¿ckt
 = 
Œue
;

4378 ià(
	`çbs
(
dp
è< fabs(
dx
))

4385 
th‘a
 = 
th»e
*(
fx
 - 
å
)/(
¡p
 - 
¡x
è+ 
dx
 + 
dp
;

4386 
s
 = 
	`max
(
	`çbs
(
th‘a
),çbs(
dx
),çbs(
dp
));

4391 
gamma
 = 
s
*
	`sq¹
(
	`max
(
z”o
, (
th‘a
/s)*Ñh‘a/s)-(
dx
/s)*(
dp
/s)));

4392 ià(
¡p
 > 
¡x
è
gamma
 = -gamma;

4393 
p
 = (
gamma
 - 
dp
è+ 
th‘a
;

4394 
q
 = (
gamma
 + (
dx
 - 
dp
)) + gamma;

4395 
r
 = 
p
/
q
;

4396 ià(
r
 < 
z”o
 && 
gamma
 != zero)

4397 
¡pc
 = 
¡p
 + 
r
*(
¡x
 - stp);

4399 ià(
¡p
 > 
¡x
)

4400 
¡pc
 = 
¡pmax
;

4402 
¡pc
 = 
¡pmš
;

4404 
¡pq
 = 
¡p
 + (
dp
/(d°- 
dx
))*(
¡x
 - stp);

4406 ià(
b¿ckt
)

4413 ià(
	`çbs
(
¡pc
-
¡p
è< fabs(
¡pq
-stp))

4414 
¡pf
 = 
¡pc
;

4416 
¡pf
 = 
¡pq
;

4418 ià(
¡p
 > 
¡x
)

4419 
¡pf
 = 
	`mš
(
¡p
+
p66
*(
¡y
-stp),stpf);

4421 
¡pf
 = 
	`max
(
¡p
+
p66
*(
¡y
-stp),stpf);

4429 ià(
	`çbs
(
¡pc
-
¡p
è> fabs(
¡pq
-stp))

4430 
¡pf
 = 
¡pc
;

4432 
¡pf
 = 
¡pq
;

4434 
¡pf
 = 
	`mš
(
¡pmax
,stpf);

4435 
¡pf
 = 
	`max
(
¡pmš
,stpf);

4444 ià(
b¿ckt
)

4446 
th‘a
 = 
th»e
*(
å
 - 
fy
)/(
¡y
 - 
¡p
è+ 
dy
 + 
dp
;

4447 
s
 = 
	`max
(
	`çbs
(
th‘a
),çbs(
dy
),çbs(
dp
));

4448 
gamma
 = 
s
*
	`sq¹
((
th‘a
/s)*Ñh‘a/sè- (
dy
/s)*(
dp
/s));

4449 ià(
¡p
 > 
¡y
è
gamma
 = -gamma;

4450 
p
 = (
gamma
 - 
dp
è+ 
th‘a
;

4451 
q
 = ((
gamma
 - 
dp
è+ gammaè+ 
dy
;

4452 
r
 = 
p
/
q
;

4453 
¡pc
 = 
¡p
 + 
r
*(
¡y
 - stp);

4454 
¡pf
 = 
¡pc
;

4457 ià(
¡p
 > 
¡x
)

4458 
¡pf
 = 
¡pmax
;

4460 
¡pf
 = 
¡pmš
;

4465 ià(
å
 > 
fx
)

4467 
¡y
 = 
¡p
;

4468 
fy
 = 
å
;

4469 
dy
 = 
dp
;

4473 ià(
sgnd
 < 
z”o
)

4475 
¡y
 = 
¡x
;

4476 
fy
 = 
fx
;

4477 
dy
 = 
dx
;

4479 
¡x
 = 
¡p
;

4480 
fx
 = 
å
;

4481 
dx
 = 
dp
;

4486 
¡p
 = 
¡pf
;

4487 
	}
}

4520 
	$dÄm2
(& 
n
,* cÚ¡ & 
x
, & 
šcx
)

4523 
sÿË
 = 0.0;

4524 
ddÄm2
 = 0.0;

4526 
i
 = 1; i <ğ
n
; i+=
šcx
)

4527 
sÿË
 = 
	`max
(sÿË, 
	`çbs
(
x
[
i
]));

4529 ià(
sÿË
 =ğ0.0è 
ddÄm2
;

4531 
i
 = 1; i <ğ
n
; i+=
šcx
)

4532 
ddÄm2
 +ğ(
x
[
i
]/
sÿË
)*(x[i]/scale);

4534 
ddÄm2
 = 
sÿË
*
	`sq¹
(ddnrm2);

4535  
ddÄm2
;

4536 
	}
}

4569 
	$dpm•s
()

4572 
ib‘a
,
œnd
,
™
,
™emp
,
Ãg•
;

4573 
a
,
b
,
b‘a
,
b‘aš
,
b‘ah
,
‹mp
,
‹m·
,
‹mp1
,

4574 
z”o
=0.0,
Úe
=1.0,
two
=2.0;

4575 
ddpm•s
;

4579 
a
 = 
Úe
;

4580 
b
 = 
Úe
;

4581 
gÙo10
:

4582 
a
 =‡ +‡;

4583 
‹mp
 = 
a
 + 
Úe
;

4584 
‹mp1
 = 
‹mp
 - 
a
;

4585 ià(
‹mp1
 - 
Úe
 =ğ
z”o
è
gÙo10
;

4587 
gÙo20
:

4588 
b
 = b + b;

4589 
‹mp
 = 
a
 + 
b
;

4590 
™emp
 = (
‹mp
 - 
a
);

4591 ià(
™emp
 =ğ0è
gÙo20
;

4592 
ib‘a
 = 
™emp
;

4593 
b‘a
 = (
ib‘a
);

4597 
™
 = 0;

4598 
b
 = 
Úe
;

4599 
gÙo30
:

4600 
™
 += 1;

4601 
b
 *ğ
b‘a
;

4602 
‹mp
 = 
b
 + 
Úe
;

4603 
‹mp1
 = 
‹mp
 - 
b
;

4604 ià(
‹mp1
 - 
Úe
 =ğ
z”o
è
gÙo30
;

4605 
œnd
 = 0;

4606 
b‘ah
 = 
b‘a
/
two
;

4607 
‹mp
 = 
a
 + 
b‘ah
;

4608 ià(
‹mp
 - 
a
 !ğ
z”o
è
œnd
 = 1;

4609 
‹m·
 = 
a
 + 
b‘a
;

4610 
‹mp
 = 
‹m·
 + 
b‘ah
;

4611 ià((
œnd
 =ğ0è&& (
‹mp
 - 
‹m·
 !ğ
z”o
)) irnd = 2;

4615 
Ãg•
 = 
™
 + 3;

4616 
b‘aš
 = 
Úe
/
b‘a
;

4617 
a
 = 
Úe
;

4618 
i
 = 1; i <ğ
Ãg•
; i++)

4619 
a
 *ğ
b‘aš
;

4621 
gÙo50
:

4622 
‹mp
 = 
Úe
 + 
a
;

4623 ià(
‹mp
 - 
Úe
 !ğ
z”o
è
gÙo60
;

4624 
a
 *ğ
b‘a
;

4625 
gÙo50
;

4627 
gÙo60
:

4628 
ddpm•s
 = 
a
;

4629 ià((
ib‘a
 =ğ2è|| (
œnd
 =ğ0)è
gÙo70
;

4630 
a
 = (a*(
Úe
 +‡))/
two
;

4631 
‹mp
 = 
Úe
 + 
a
;

4632 ià(
‹mp
 - 
Úe
 !ğ
z”o
è
ddpm•s
 = 
a
;

4634 
gÙo70
:

4635  
ddpm•s
;

4636 
	}
}

4643 
	$daxpy
(cÚ¡ & 
n
, cÚ¡ & 
da
, cÚ¡ * cÚ¡ & 
dx
,

4644 cÚ¡ & 
šcx
, * cÚ¡ & 
dy
, cÚ¡ & 
šcy
)

4647 
ix
,
iy
,
m
,
mp1
;

4648 ià(
n
 <= 0) ;

4649 ià(
da
 == 0.0) ;

4650 if(
šcx
==1 && 
šcy
==1è
gÙo20
;

4655 
ix
 = 1;

4656 
iy
 = 1;

4657 if(
šcx
 < 0è
ix
 = (-
n
+1)*incx + 1;

4658 if(
šcy
 < 0è
iy
 = (-
n
+1)*incy + 1;

4660 
i
 = 1; i <ğ
n
; i++)

4662 
dy
[
iy
] +ğ
da
*
dx
[
ix
];

4663 
ix
 +ğ
šcx
;

4664 
iy
 +ğ
šcy
;

4671 
gÙo20
:

4672 
m
 = 
n
%4;

4673 ià(
m
 =ğ0è
gÙo40
;

4675 
i
 = 1; i <ğ
m
; i++)

4676 
dy
[
i
] +ğ
da
*
dx
[i];

4678 ià(
n
 < 4) ;

4680 
gÙo40
:

4681 
mp1
 = 
m
 + 1;

4683 
i
 = 
mp1
; i <ğ
n
; i+=4)

4685 
dy
[
i
] +ğ
da
*
dx
[i];

4686 
dy
[
i
 + 1] +ğ
da
*
dx
[i + 1];

4687 
dy
[
i
 + 2] +ğ
da
*
dx
[i + 2];

4688 
dy
[
i
 + 3] +ğ
da
*
dx
[i + 3];

4690 
	}
}

4697 
	$dcİy
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
dx
, cÚ¡ & 
šcx
,

4698 * cÚ¡ & 
dy
,cÚ¡ & 
šcy
)

4701 
ix
,
iy
,
m
,
mp1
;

4703 ià(
n
 <= 0) ;

4704 if(
šcx
==1 && 
šcy
==1è
gÙo20
;

4709 
ix
 = 1;

4710 
iy
 = 1;

4711 ià(
šcx
 < 0è
ix
 = (-
n
+1)*incx + 1;

4712 ià(
šcy
 < 0è
iy
 = (-
n
+1)*incy + 1;

4713 
i
 = 1; i <ğ
n
; i++)

4715 
dy
[
iy
] = 
dx
[
ix
];

4716 
ix
 +ğ
šcx
;

4717 
iy
 +ğ
šcy
;

4725 
gÙo20
:

4726 
m
 = 
n
%7;

4727 ià(
m
 =ğ0è
gÙo40
;

4728 
i
 = 1; i <ğ
m
; i++)

4729 
dy
[
i
] = 
dx
[i];

4731 ià(
n
 < 7) ;

4733 
gÙo40
:

4734 
mp1
 = 
m
 + 1;

4735 
i
 = 
mp1
; i <ğ
n
; i+=7)

4737 
dy
[
i
] = 
dx
[i];

4738 
dy
[
i
 + 1] = 
dx
[i + 1];

4739 
dy
[
i
 + 2] = 
dx
[i + 2];

4740 
dy
[
i
 + 3] = 
dx
[i + 3];

4741 
dy
[
i
 + 4] = 
dx
[i + 4];

4742 
dy
[
i
 + 5] = 
dx
[i + 5];

4743 
dy
[
i
 + 6] = 
dx
[i + 6];

4745 
	}
}

4752 
	$ddÙ
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
dx
, cÚ¡ & 
šcx
,

4753 cÚ¡ * cÚ¡ & 
dy
, cÚ¡ & 
šcy
)

4755 
d‹mp
;

4757 
ix
,
iy
,
m
,
mp1
;

4759 
dddÙ
 = 0.0;

4760 
d‹mp
 = 0.0;

4761 ià(
n
 <ğ0è 
dddÙ
;

4762 ià(
šcx
==1 && 
šcy
==1è
gÙo20
;

4767 
ix
 = 1;

4768 
iy
 = 1;

4769 ià(
šcx
 < 0è
ix
 = (-
n
+1)*incx + 1;

4770 ià(
šcy
 < 0è
iy
 = (-
n
+1)*incy + 1;

4772 
i
 = 1; i <ğ
n
; i++)

4774 
d‹mp
 +ğ
dx
[
ix
]*
dy
[
iy
];

4775 
ix
 +ğ
šcx
;

4776 
iy
 +ğ
šcy
;

4778 
dddÙ
 = 
d‹mp
;

4779  
dddÙ
;

4785 
gÙo20
:

4786 
m
 = 
n
%5;

4787 ià(
m
 =ğ0è
gÙo40
;

4789 
i
 = 1; i <ğ
m
; i++)

4790 
d‹mp
 +ğ
dx
[
i
]*
dy
[i];

4792 ifĞ
n
 < 5 ) 
gÙo60
;

4794 
gÙo40
:

4795 
mp1
 = 
m
 + 1;

4798 
i
 = 
mp1
; i <ğ
n
; i+=5)

4800 
d‹mp
 +ğ
dx
[
i
]*
dy
[i] + dx[i + 1]*dy[i + 1] +

4801 
dx
[
i
 + 2]*
dy
[i + 2] + dx[i + 3]*dy[i + 3] + dx[i + 4]*dy[i + 4];

4804 
gÙo60
:

4805 
dddÙ
 = 
d‹mp
;

4806  
dddÙ
;

4807 
	}
}

4852 
	$dpoç
(* cÚ¡ & 
a
, cÚ¡ & 
lda
, cÚ¡ & 
n
, & 
šfo
,

4853 
boŞ
 
sm®ËrM©rix
=
çl£
)

4855 
t
;

4856 
s
;

4858 
jm1
;

4859 
idx
;

4862 
j
 = 1; j <ğ
n
; j++)

4864 
šfo
 = 
j
;

4865 
s
 = 0.0;

4866 
jm1
 = 
j
 - 1;

4867 ià(
jm1
 < 1è
gÙo20
;

4868 
k
 = 1; k <ğ
jm1
; k++)

4870 
idx
 = 
	`g‘Idx
(
k
,
j
,
lda
);

4871 
t
 = 
a
[
idx
] - 
	`ddÙ
(
k
-1,&×[
	`g‘Idx
(1,k,
lda
)-1]),1,

4872 &(
a
[
	`g‘Idx
(1,
j
,
lda
)-1]),1);

4873 
t
 =/
a
[
	`g‘Idx
(
k
,k,
lda
)];

4874 
a
[
idx
] = 
t
;

4875 
s
 +ğ
t
*t;

4878 
gÙo20
:

4879 
idx
 = 
	`g‘Idx
(
j
,j,
lda
);

4880 
s
 = 
a
[
idx
] - s;

4883 ià(
s
 <ğ0.0è
gÙo40
;

4884 
a
[
idx
] = 
	`sq¹
(
s
);

4886 
šfo
 = 0;

4887 
gÙo40
:

4888 
t
 = 0;

4889 
	}
}

4897 
	$dsÿl
(cÚ¡ & 
n
, cÚ¡ & 
da
, * cÚ¡ & 
dx
,

4898 cÚ¡ & 
šcx
)

4901 
m
,
mp1
,
nšcx
;

4903 ià(
n
 <ğ0 || 
šcx
 <= 0) ;

4904 ià(
šcx
 =ğ1è
gÙo20
;

4908 
nšcx
 = 
n
*
šcx
;

4910 
i
 = 1; i <ğ
nšcx
; i+=
šcx
)

4911 
dx
[
i
] = 
da
*dx[i];

4918 
gÙo20
:

4919 
m
 = 
n
%5;

4920 ià(
m
 =ğ0è
gÙo40
;

4922 
i
 = 1; i <ğ
m
; i++)

4923 
dx
[
i
] = 
da
*dx[i];

4925 ià(
n
 < 5) ;

4927 
gÙo40
:

4928 
mp1
 = 
m
 + 1;

4929 
i
 = 
mp1
; i <ğ
n
; i+=5)

4931 
dx
[
i
] = 
da
*dx[i];

4932 
dx
[
i
 + 1] = 
da
*dx[i + 1];

4933 
dx
[
i
 + 2] = 
da
*dx[i + 2];

4934 
dx
[
i
 + 3] = 
da
*dx[i + 3];

4935 
dx
[
i
 + 4] = 
da
*dx[i + 4];

4937 
	}
}

4994 
	$dŒ¦
(* cÚ¡ & 
t
, cÚ¡ & 
ldt
, cÚ¡ & 
n
,

4995 * cÚ¡ &
b
, cÚ¡ & 
job
, & 
šfo
)

4997 
‹mp
;

4998 
cÿ£
,
j
;

5005 
šfo
 = 1; infØ<ğ
n
; info++)

5008 ià(
t
[
	`g‘Idx
(
šfo
,šfo,
ldt
)] =ğ0.0è
gÙo150
;

5010 
šfo
 = 0;

5014 
cÿ£
 = 1;

5015 ià(
job
%10 !ğ0è
cÿ£
 = 2;

5016 ià((
job
%100)/10 !ğ0è
cÿ£
 += 2;

5017 ià(
cÿ£
==1è
gÙo20
;

5018 ià(
cÿ£
==2è
gÙo50
;

5019 ià(
cÿ£
==3è
gÙo80
;

5020 ià(
cÿ£
==4è
gÙo110
;

5024 
gÙo20
:

5025 
b
[1] /ğ
t
[
	`g‘Idx
(1,1,
ldt
)];

5026 ià(
n
 < 2è
gÙo40
;

5027 
j
 = 2; j <ğ
n
; j++)

5029 
‹mp
 = -
b
[
j
-1];

5030 
	`daxpy
(
n
-
j
+1,
‹mp
,&(
t
[
	`g‘Idx
(j,j-1,
ldt
)-1]),1,&(
b
[j-1]),1);

5031 
b
[
j
] /ğ
t
[
	`g‘Idx
(j,j,
ldt
)];

5033 
gÙo40
:

5034 
gÙo140
;

5038 
gÙo50
:

5039 
b
[
n
] /ğ
t
[
	`g‘Idx
Ò,n,
ldt
)];

5040 ià(
n
 < 2è
gÙo70
;

5041 
jj
 = 2; jj <ğ
n
; jj++)

5043 
j
 = 
n
 - 
jj
 + 1;

5044 
‹mp
 = -
b
[
j
+1];

5045 
	`daxpy
(
j
,
‹mp
,&(
t
[
	`g‘Idx
(1,j+1,
ldt
)-1]),1,&(
b
[1-1]),1);

5046 
b
[
j
] /ğ
t
[
	`g‘Idx
(j,j,
ldt
)];

5049 
gÙo70
:

5050 
gÙo140
;

5054 
gÙo80
:

5055 
b
[
n
] /ğ
t
[
	`g‘Idx
Ò,n,
ldt
)];

5056 ià(
n
 < 2è
gÙo100
;

5057 
jj
 = 2; jj <ğ
n
; jj++)

5059 
j
 = 
n
 - 
jj
 + 1;

5060 
b
[
j
] = b[j] - 
	`ddÙ
(
jj
-1,&(
t
[
	`g‘Idx
(j+1,j,
ldt
)-1]),1,&(b[j+1-1]),1);

5061 
b
[
j
] /ğ
t
[
	`g‘Idx
(j,j,
ldt
)];

5063 
gÙo100
:

5064 
gÙo140
;

5068 
gÙo110
:

5069 
b
[1] /ğ
t
[
	`g‘Idx
(1,1,
ldt
)];

5070 ià(
n
 < 2è
gÙo130
;

5071 
j
 = 2; j <ğ
n
; j++)

5073 
b
[
j
] = b[j] - 
	`ddÙ
(j-1,&(
t
[
	`g‘Idx
(1,j,
ldt
)-1]),1,&(b[1-1]),1);

5074 
b
[
j
] /ğ
t
[
	`g‘Idx
(j,j,
ldt
)];

5077 
gÙo130
:

5079 ià(
çl£
);

5081 
gÙo140
:

5083 ià(
çl£
);

5085 
gÙo150
:

5087 ià(
çl£
);

5089 
	}
}

5091 
	g´iv©e
:

5092 
Tim”
 
tim”_
;

	@learnwts/lbfgsp.h

67 #iâdeà
LBFGSP_H_SEP_17_2005


68 
	#LBFGSP_H_SEP_17_2005


	)

70 
	~<cm©h
>

71 
	~<c¡dlib
>

72 
	~<f¡»am
>

73 
	~"tim”.h
"

74 
	~"PŞynomŸl.h
"

76 cÚ¡ 
	gLBFGSP_PRINT
 = -1;

84 şas 
	cLBFGSP


86 
	mpublic
:

87 
	$LBFGSP
(cÚ¡ & 
maxI‹r
, cÚ¡ & 
áŞ
,

88 cÚ¡ & 
numWts
)

89 : 
	`maxI‹r_
(
maxI‹r
), 
	`áŞ_
(
áŞ
),

90 
	`nbd_
(
NULL
), 
	`iwa_
(NULL), 
	`l_
(NULL), 
	`u_
(NULL), 
	`g_
(NULL), 
	$wa_
(
NULL
)

91 { 
	`š™
(
numWts
); }

93 
	$LBFGSP
()

94 : 
	`maxI‹r_
(-1), 
	`áŞ_
(-1),

95 
	`nbd_
(
NULL
), 
	`iwa_
(NULL), 
	`l_
(NULL), 
	`u_
(NULL), 
	`g_
(NULL), 
	$wa_
(
NULL
)

96 { 
	`š™
(0); 
	}
}

99 ~
	$LBFGSP
(è{ 
	`de¡roy
(); 
	}
}

102 
	$£tMaxI‹r
(cÚ¡ & 
™”
è{ 
maxI‹r_
 = i‹r; 
	}
}

104 
	$£tFtŞ
(cÚ¡ & 
tŞ
è{ 
áŞ_
 =Ş; 
	}
}

107 
	$š™
(cÚ¡ & 
numWts
)

109 
	`de¡roy
();

110 
numWts_
 = 
numWts
;

111 
mmax
 = 17;

112 
nbd_
 = 
Ãw
 [
numWts_
+1];

113 
iwa_
 = 
Ãw
 [3*
numWts_
+1];

114 
l_
 = 
Ãw
 [
numWts_
+1];

115 
u_
 = 
Ãw
 [
numWts_
+1];

116 
g_
 = 
Ãw
 [
numWts_
+1];

117 
wa_
 = 
Ãw
 [2*
mmax
*
numWts_
+4*numWts_+12*mmax*mmax+12*mmax+1];

118 
	}
}

121 
	$»In™
(cÚ¡ & 
numWts
)

123 ià(
numWts_
 =ğ
numWts
) ;

124 
	`š™
(
numWts
);

125 
	}
}

127 
	$de¡roy
()

129 ià(
nbd_
 !ğ
NULL
è
d–‘e
 []‚bd_;

130 ià(
iwa_
 !ğ
NULL
è
d–‘e
 [] iwa_;

131 ià(
l_
 !ğ
NULL
è
d–‘e
 []†_;

132 ià(
u_
 !ğ
NULL
è
d–‘e
 [] u_;

133 ià(
g_
 !ğ
NULL
è
d–‘e
 [] g_;

134 ià(
wa_
 !ğ
NULL
è
d–‘e
 [] wa_;

135 
	}
}

137 
	$mšimize
(cÚ¡ & 
numWts
, * cÚ¡ & 
wts
, & 
™”
,
boŞ
& 
”rÜ
, 
PŞyNomŸl
& 
¶
)

139 
	`»In™
(
numWts
);

140  
	`mšimize
(
™”
, 
”rÜ
, 
¶
);

141 
	}
}

143 
	$¡¬tLBFGS
(
PŞyNomŸl
& 
¶
)

145 
m
 = 5;

146 
f
;

147 
çùr
 = 0;

148 
pgtŞ
 = 0;

150 
of¡»am
* 
™fe
 = 
NULL
;

151 
ršt
 = 
LBFGSP_PRINT
;

152 ià(
ršt
 >ğ1è
™fe
 = 
Ãw
 
	`of¡»am
("iterate.dat");

157 
i
 = 0; i <ğ
numWts_
; i++è
nbd_
[i] = 2;

159 
	`¡rıy
(
sk_
,"START");

160 
i
 = 5; i <ğ60; i++è
sk_
[i]=' ';

163 * 
wts
 = 
Ãw
 [
numWts_
 + 1];

165 
¶
.
	`CË¬V¬V®ue
();

166 
i
 = 0; i < 
numWts_
; i++)

168 
wts
[
i
+1] = 0;

169 
¶
.
	`Aµ’dV¬V®ue
(
wts
[
i
+1]);

172 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

173 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

174 
¶
.
	`CË¬V¬V®ue
();

175 
i
 = 0; i < 
numWts_
; i++è
¶
.
	`Aµ’dV¬V®ue
(
wts
[i+1]);

176 
d–‘e
[] 
wts
;

177  
f
;

178 
	}
}

181 
	$´oûedOÃS‹p
(
PŞyNomŸl
& 
¶
)

183 
m
 = 5;

184 
f
 = -999;

185 
çùr
 = 0;

186 
pgtŞ
 = 0;

188 
of¡»am
* 
™fe
 = 
NULL
;

189 
ršt
 = 
LBFGSP_PRINT
;

190 ià(
ršt
 >ğ1è
™fe
 = 
Ãw
 
	`of¡»am
("iterate.dat");

191 * 
wts
 = 
Ãw
 [
numWts_
 + 1];

192 
i
 = 0; i < 
numWts_
; i++) {

193 
wts
[
i
+1] = 
¶
.
	`G‘V¬V®ue
(i);

197 ià(
	`¡ºcmp
(
sk_
,"FG",2)==0)

199 
f
 = 
	`g‘V®ueAndG¿d›Á
(
g_
, 
wts
, 
¶
);

200 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

201 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

202 
¶
.
	`CË¬V¬V®ue
();

203 
i
 = 0; i < 
numWts_
; i++è
¶
.
	`Aµ’dV¬V®ue
(
wts
[i+1]);

209 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

210 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

212 
¶
.
	`CË¬V¬V®ue
();

213 
i
 = 0; i < 
numWts_
; i++è
¶
.
	`Aµ’dV¬V®ue
(
wts
[i+1]);

218 
d–‘e
[] 
wts
;

219  
¶
.
	`Compu‹PlV®ue
();

220 
	}
}

224 
	$mšimize
(& 
™”
, 
boŞ
& 
”rÜ
, 
PŞyNomŸl
& 
¶
)

227 
”rÜ
 = 
çl£
;

228 
m
 = 5;

229 
f
;

230 
çùr
 = 0;

231 
pgtŞ
 = 0;

233 
of¡»am
* 
™fe
 = 
NULL
;

234 
ršt
 = 
LBFGSP_PRINT
;

235 ià(
ršt
 >ğ1è
™fe
 = 
Ãw
 
	`of¡»am
("iterate.dat");

236 
™”
 = 0;

241 
i
 = 0; i <ğ
numWts_
; i++è
nbd_
[i] = 2;

243 
	`¡rıy
(
sk_
,"START");

244 
i
 = 5; i <ğ60; i++è
sk_
[i]=' ';

248 * 
wts
 = 
Ãw
 [
numWts_
 + 1];

249 
¶
.
	`CË¬V¬V®ue
();

250 
i
 = 0; i < 
numWts_
; i++)

252 
wts
[
i
 + 1] = 0;

253 
¶
.
	`Aµ’dV¬V®ue
(
wts
[
i
+1]);

256 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

257 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

259 
¶
.
	`CË¬V¬V®ue
();

260 
i
 = 0; i < 
numWts_
; i++è
¶
.
	`Aµ’dV¬V®ue
(
wts
[i+1]);

262 
š™ŸlV®ue
 = 0, 
´evV®ue
 = 0, 
ÃwV®ue
;

263 
boŞ
 
fœ¡I‹r
 = 
Œue
;

266 
	`¡ºcmp
(
sk_
,"FG",2)==0 || strncmp(task_,"NEW_X",5)==0)

268 ià(
	`¡ºcmp
(
sk_
,"FG",2)==0)

270 
f
 = 
	`g‘V®ueAndG¿d›Á
(
g_
, 
wts
, 
¶
);

272 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

273 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

275 
¶
.
	`CË¬V¬V®ue
();

276 
i
 = 0; i < 
numWts_
; i++è
¶
.
	`Aµ’dV¬V®ue
(
wts
[i+1]);

278 ià(
fœ¡I‹r
è{ fœ¡I‹¸ğ
çl£
; 
´evV®ue
 = 
f
; 
š™ŸlV®ue
 = f; }

284 ià(
™”
+1 > 
maxI‹r_
) ;

285 ++
™”
;

286 
ÃwV®ue
 = 
f
;

288 ià(
	`çbs
(
ÃwV®ue
-
´evV®ue
è< 
áŞ_
*fabs(prevValue)) ;

289 
´evV®ue
 = 
ÃwV®ue
;

290 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

291 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

292 
¶
.
	`CË¬V¬V®ue
();

293 
i
 = 0; i < 
numWts_
; i++è
¶
.
	`Aµ’dV¬V®ue
(
wts
[i+1]);

301 ià(
	`¡ºcmp
(
sk_
,"ABNO",4) == 0)

303 
cout
 << "ERROR: LBFGSP faed. R‘uºed ABNO" << 
’dl
;

304 
”rÜ
 = 
Œue
;

305 
d–‘e
[] 
wts
;

306  
š™ŸlV®ue
;

309 ià(
	`¡ºcmp
(
sk_
,"ERROR",5)==0)

311 
cout
 << "ERROR: LBFGSP faed. R‘uºed ERROR" << 
’dl
;

312 
”rÜ
 = 
Œue
;

313 
d–‘e
[] 
wts
;

314  
š™ŸlV®ue
;

317 ià(
	`¡ºcmp
(
sk_
,"CONV",4)==0)

319 
cout
 << "LBFGSP cÚv”ged!" << 
’dl
;

322 
d–‘e
[] 
wts
;

324  
f
;

325 
	}
}

328 
	$£tUµ”Bounds
(cÚ¡ * 
u
)

330 ià(
numWts_
 > 0)

332 
	`memıy
(
u_
+1, 
u
, 
numWts_
*());

334 
	}
}

336 
	$£tLow”Bounds
(cÚ¡ * 
l
)

338 if(
numWts_
 > 0)

340 
	`memıy
(
l_
+1, 
l
, 
numWts_
*());

342 
	}
}

344 
	g´iv©e
:

345 
maxI‹r_
;

346 
	gáŞ_
;

347 
	gnumWts_
;

350 * 
	gnbd_
;

351 * 
	giwa_
;

352 * 
	gl_
;

353 * 
	gu_
;

354 * 
	gg_
;

355 * 
	gwa_
;

357 
	gsk_
[61];

358 
	gc§ve_
[61];

359 
boŞ
 
	gl§ve_
[5];

360 
	gi§ve_
[45];

361 
	gd§ve_
[30];

364 
	g´iv©e
 :

366 
	$g‘V®ueAndG¿d›Á
(* cÚ¡ & 
g
, cÚ¡ * cÚ¡ & 
wts
, 
PŞyNomŸl
& 
¶
)

368 
g
[0] = 0;

371 
A¼ay
<> 
gr
 = 
¶
.
	`G‘G¿d›Á
();

372 
i
 = 0; i < 
gr
.
	`size
(); i++)

374 
g
[
i
+1] = 
gr
[i];

377  
¶
.
	`Compu‹PlV®ue
();

378 
	}
}

385 
	$g‘Idx
(cÚ¡ & 
i
, cÚ¡ & 
j
, cÚ¡ & 
idim
)

387  (
j
-1)*
idim
 + 
i
;

388 
	}
}

391 
	$max
(cÚ¡ & 
a
, cÚ¡ & 
b
è{ ià×>=bè‡;  b; 
	}
}

393 
	$mš
(cÚ¡ & 
a
, cÚ¡ & 
b
è{ ià×<=bè‡;  b; 
	}
}

395 
	$mš
(cÚ¡ & 
a
, cÚ¡ & 
b
è{ ià×<=bè‡;  b; 
	}
}

397 
	$max
(cÚ¡ & 
a
, cÚ¡ & 
b
, cÚ¡ & 
c
)

399 ià(
a
 >ğ
b
 &&‡ >ğ
c
) ‡;

400 ià(
b
 >ğ
a
 && b >ğ
c
)  b;

401 
	`as£¹
(
c
 >ğ
a
 && c >ğ
b
);

402  
c
;

403 
	}
}

594 
	$£tulb
(cÚ¡ & 
n
, cÚ¡ & 
m
, * cÚ¡ & 
x
,

595 cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

596 cÚ¡ * cÚ¡ & 
nbd
, & 
f
, * cÚ¡ & 
g
,

597 cÚ¡ & 
çùr
, cÚ¡ & 
pgtŞ
,

598 * cÚ¡ & 
wa
, * cÚ¡ & 
iwa
,

599 * cÚ¡ & 
sk
, cÚ¡ & 
ršt
,

600 * cÚ¡ & 
c§ve
, 
boŞ
* cÚ¡ & 
l§ve
,

601 * cÚ¡ & 
i§ve
, * cÚ¡ & 
d§ve
,

602 
of¡»am
* 
™fe
)

604 
l1
,
l2
,
l3
,
lws
,
Ì
,
lz
,
É
,
ld
,
lsg
,
lwa
,
lyg
,

605 
lsgo
,
lwy
,
lsy
,
lss
,
lyy
,
lwt
,
lwn
,
l¢d
,
lygo
;

607 ià(
	`¡ºcmp
(
sk
,"START",5)==0)

609 
i§ve
[1] = 
m
*
n
;

610 
i§ve
[2] = 
m
*m;

611 
i§ve
[3] = 4*
m
*m;

612 
i§ve
[4] = 1;

613 
i§ve
[5] = isave[4] + isave[1];

614 
i§ve
[6] = isave[5] + isave[1];

615 
i§ve
[7] = isave[6] + isave[2];

616 
i§ve
[8] = isave[7] + isave[2];

617 
i§ve
[9] = isave[8] + isave[2];

618 
i§ve
[10] = isave[9] + isave[2];

619 
i§ve
[11] = isave[10] + isave[3];

620 
i§ve
[12] = isave[11] + isave[3];

621 
i§ve
[13] = i§ve[12] + 
n
;

622 
i§ve
[14] = i§ve[13] + 
n
;

623 
i§ve
[15] = i§ve[14] + 
n
;

624 
i§ve
[16] = i§ve[15] + 
n
;

625 
i§ve
[17] = i§ve[16] + 8*
m
;

626 
i§ve
[18] = i§ve[17] + 
m
;

627 
i§ve
[19] = i§ve[18] + 
m
;

628 
i§ve
[20] = i§ve[19] + 
m
;

630 
l1
 = 
i§ve
[1];

631 
l2
 = 
i§ve
[2];

632 
l3
 = 
i§ve
[3];

633 
lws
 = 
i§ve
[4];

634 
lwy
 = 
i§ve
[5];

635 
lsy
 = 
i§ve
[6];

636 
lss
 = 
i§ve
[7];

637 
lyy
 = 
i§ve
[8];

638 
lwt
 = 
i§ve
[9];

639 
lwn
 = 
i§ve
[10];

640 
l¢d
 = 
i§ve
[11];

641 
lz
 = 
i§ve
[12];

642 
Ì
 = 
i§ve
[13];

643 
ld
 = 
i§ve
[14];

644 
É
 = 
i§ve
[15];

645 
lwa
 = 
i§ve
[16];

646 
lsg
 = 
i§ve
[17];

647 
lsgo
 = 
i§ve
[18];

648 
lyg
 = 
i§ve
[19];

649 
lygo
 = 
i§ve
[20];

651 
tim”_
.
	`»£t
();

653 
	`mašlb
(
n
,
m
,
x
,
l
,
u
,
nbd
,
f
,
g
,
çùr
,
pgtŞ
,

654 &(
wa
[
lws
-1]),&(wa[
lwy
-1]),&(wa[
lsy
-1]),&(wa[
lss
-1]),&(wa[
lyy
-1]),

655 &(
wa
[
lwt
-1]),&(wa[
lwn
-1]),&(wa[
l¢d
-1]),&(wa[
lz
-1]),&(wa[
Ì
-1]),

656 &(
wa
[
ld
-1]),&(wa[
É
-1]),&(wa[
lwa
-1]),&(wa[
lsg
-1]),&(wa[
lsgo
-1]),

657 &(
wa
[
lyg
-1]),&(wa[
lygo
-1]),&(
iwa
[1-1]),&(iwa[
n
+1-1]),&(iwa[2*n+1-1]),

658 
sk
,
ršt
,
c§ve
,
l§ve
,&(
i§ve
[22-1]),
d§ve
, 
™fe
);

659 
	}
}

841 
	$mašlb
(cÚ¡ & 
n
, cÚ¡ & 
m
, * cÚ¡ & 
x
,

842 cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

843 cÚ¡ * cÚ¡ & 
nbd
, & 
f
, * cÚ¡ & 
g
,

844 cÚ¡ & 
çùr
, cÚ¡ & 
pgtŞ
,

845 * cÚ¡ & 
ws
, * cÚ¡ & 
wy
, * cÚ¡ & 
sy
,

846 * cÚ¡ & 
ss
, * cÚ¡ & 
yy
, * cÚ¡ & 
wt
,

847 * cÚ¡ & 
wn
, * cÚ¡ & 
¢d
, * cÚ¡ & 
z
,

848 * cÚ¡ & 
r
, * cÚ¡ & 
d
, * cÚ¡ & 
t
,

849 * cÚ¡ & 
wa
, * cÚ¡ & 
sg
, * cÚ¡& 
sgo
,

850 * cÚ¡ & 
yg
, * cÚ¡ & 
ygo
, * cÚ¡& 
šdex
,

851 * cÚ¡ & 
iwh”e
, * cÚ¡ & 
šdx2
, * cÚ¡& 
sk
,

852 cÚ¡ & 
ršt
, * cÚ¡& 
c§ve
, 
boŞ
 * cÚ¡& 
l§ve
,

853 * cÚ¡ & 
i§ve
, * cÚ¡ & 
d§ve
, 
of¡»am
* 
™fe
)

855 
boŞ
 
´jùd
,
ú¡nd
,
boxed
,
upd©d
,
wrk
;

856 
wÜd
[4];

857 
k
,
nštŞ
,
iback
,
nsk
,

858 
h—d
,
cŞ
,
™”
,
™a
,
iupd©
,

859 
nšt
,
nfgv
,
šfo
,
ifun
=0,

860 
iwÜd
,
nä“
,
Çù
,
—ve
,
ÃÁ”
;

861 
th‘a
,
fŞd
=0,
dr
,
¼
,
tŞ
,

862 
x¡•
,
sbgÄm
,
ddum
,
dnÜm
=0,
dtd
,
•smch
,

863 
ıu1
=0,
ıu2
,
ÿchyt
,
sbtime
,
Êscht
,
time1
,
time2
,

864 
gd
,
gdŞd
=0,
¡p
,
¡pmx
=0,
time
;

865 
Úe
=1.0,
z”o
=0.0;

867 ià(
ršt
 > 1è{ 
	`as£¹
(
™fe
); }

869 ià(
	`¡ºcmp
(
sk
,"START",5)==0)

871 
time1
 = 
tim”_
.
	`time
();

874 
•smch
 = 
	`dpm•s
();

881 
cŞ
 = 0;

882 
h—d
 = 1;

883 
th‘a
 = 
Úe
;

884 
iupd©
 = 0;

885 
upd©d
 = 
çl£
;

888 
™”
 = 0;

889 
nfgv
 = 0;

890 
nšt
 = 0;

891 
nštŞ
 = 0;

892 
nsk
 = 0;

893 
nä“
 = 
n
;

896 
tŞ
 = 
çùr
*
•smch
;

899 
ÿchyt
 = 0;

900 
sbtime
 = 0;

901 
Êscht
 = 0;

905 
	`¡rıy
(
wÜd
, "---");

908 
šfo
 = 0;

918 
	`”rşb
(
n
,
m
,
çùr
,
l
,
u
,
nbd
,
sk
,
šfo
,
k
);

919 ià(
	`¡ºcmp
(
sk
,"ERROR",5)==0)

921 
	`´n3lb
(
n
,
x
,
f
,
sk
,
ršt
,
šfo
,
™fe
,

922 
™”
,
nfgv
,
nštŞ
,
nsk
,
Çù
,
sbgÄm
,

923 
z”o
,
nšt
,
wÜd
,
iback
,
¡p
,
x¡•
,
k
,

924 
ÿchyt
,
sbtime
,
Êscht
);

928 
	`´n1lb
(
n
,
m
,
l
,
u
,
x
,
ršt
,
™fe
,
•smch
);

931 
	`aùive
(
n
,
l
,
u
,
nbd
,
x
,
iwh”e
,
ršt
,
´jùd
,
ú¡nd
,
boxed
) ;

938 
´jùd
 = 
l§ve
[1];

939 
ú¡nd
 = 
l§ve
[2];

940 
boxed
 = 
l§ve
[3];

941 
upd©d
 = 
l§ve
[4];

943 
nštŞ
 = 
i§ve
[1];

945 
iback
 = 
i§ve
[4];

946 
nsk
 = 
i§ve
[5];

947 
h—d
 = 
i§ve
[6];

948 
cŞ
 = 
i§ve
[7];

949 
™a
 = 
i§ve
[8];

950 
™”
 = 
i§ve
[9];

951 
iupd©
 = 
i§ve
[10];

952 
nšt
 = 
i§ve
[12];

953 
nfgv
 = 
i§ve
[13];

954 
šfo
 = 
i§ve
[14];

955 
ifun
 = 
i§ve
[15];

956 
iwÜd
 = 
i§ve
[16];

957 
nä“
 = 
i§ve
[17];

958 
Çù
 = 
i§ve
[18];

959 
—ve
 = 
i§ve
[19];

960 
ÃÁ”
 = 
i§ve
[20];

962 
th‘a
 = 
d§ve
[1];

963 
fŞd
 = 
d§ve
[2];

964 
tŞ
 = 
d§ve
[3];

965 
dnÜm
 = 
d§ve
[4];

966 
•smch
 = 
d§ve
[5];

967 
ıu1
 = 
d§ve
[6];

968 
ÿchyt
 = 
d§ve
[7];

969 
sbtime
 = 
d§ve
[8];

970 
Êscht
 = 
d§ve
[9];

971 
time1
 = 
d§ve
[10];

972 
gd
 = 
d§ve
[11];

973 
¡pmx
 = 
d§ve
[12];

974 
sbgÄm
 = 
d§ve
[13];

975 
¡p
 = 
d§ve
[14];

976 
gdŞd
 = 
d§ve
[15];

977 
dtd
 = 
d§ve
[16];

982 ià(
	`¡ºcmp
(
sk
,"FG_LN",5)==0è
gÙo66
;

983 ià(
	`¡ºcmp
(
sk
,"NEW_X",5)==0è
gÙo777
;

984 ià(
	`¡ºcmp
(
sk
,"FG_ST",5)==0è
gÙo111
;

985 ià(
	`¡ºcmp
(
sk
,"STOP",4)==0)

987 ià(
	`¡ºcmp
(&(
sk
[6]),"CPU",3)==0)

990 
	`dcİy
(
n
,
t
,1,
x
,1);

991 
	`dcİy
(
n
,
r
,1,
g
,1);

992 
f
 = 
fŞd
;

994 
gÙo999
;

1000 
	`¡rıy
(
sk
, "FG_START");

1002 
gÙo1000
;

1004 
gÙo111
:

1006 
nfgv
 = 1;

1010 
	`´ojgr
(
n
,
l
,
u
,
nbd
,
x
,
g
,
sbgÄm
);

1012 ià(
ršt
 >= 1)

1014 
cout
 << "Aˆ™”©" << 
™”
 << ": f=" <<
f
<<", |´oj g|="<<
sbgÄm
<<
’dl
;

1015 *
™fe
 << "Aˆ™”©" << 
™”
 << ":‚fgv=" << 
nfgv


1016 << ", sbgÄm=" << 
sbgÄm
 << ", f=" << 
f
 << 
’dl
;

1019 ià(
sbgÄm
 <ğ
pgtŞ
)

1022 
	`¡rıy
(
sk
,"CONVERGENCE: NORM OF PROJECTED GRADIENT <= PGTOL");

1023 
gÙo999
;

1028 
gÙo222
:

1029 ià(
ršt
 >ğ99è
cout
 << "ITERATION " << (
™”
 + 1è<< 
’dl
;

1030 
iwÜd
 = -1;

1032 ià(!
ú¡nd
 && 
cŞ
 > 0)

1035 
	`dcİy
(
n
,
x
,1,
z
,1);

1036 
wrk
 = 
upd©d
;

1037 
nšt
 = 0;

1038 
gÙo333
;

1047 
ıu1
 = 
tim”_
.
	`time
();

1049 
	`ÿuchy
(
n
,
x
,
l
,
u
,
nbd
,
g
,
šdx2
,
iwh”e
,
t
,
d
,
z
,

1050 
m
,
wy
,
ws
,
sy
,
wt
,
th‘a
,
cŞ
,
h—d
,

1051 &(
wa
[1-1]),&(wa[2*
m
+1-1]),&(wa[4*m+1-1]),&(wa[6*m+1-1]),
nšt
,

1052 
sg
,
yg
,
ršt
,
sbgÄm
,
šfo
,
•smch
);

1054 ià(
šfo
 > 0)

1057 ià(
ršt
 >= 1)

1058 
cout
 << "Singularriangular system detected; "

1059 << "»äeshhlbfg memÜy‡nd„e¡¬ˆth™”©iÚ." <<
’dl
;

1060 
šfo
 = 0;

1061 
cŞ
 = 0;

1062 
h—d
 = 1;

1063 
th‘a
 = 
Úe
;

1064 
iupd©
 = 0;

1065 
upd©d
 = 
çl£
;

1066 
ıu2
 = 
tim”_
.
	`time
();

1067 
ÿchyt
 = cachyˆ+ 
ıu2
 - 
ıu1
;

1068 
gÙo222
;

1070 
ıu2
 = 
tim”_
.
	`time
();

1071 
ÿchyt
 = cachyˆ+ 
ıu2
 - 
ıu1
;

1072 
nštŞ
 =‚štŞ + 
nšt
;

1077 
	`ä“v
(
n
,
nä“
,
šdex
,
ÃÁ”
,
—ve
,
šdx2
,

1078 
iwh”e
,
wrk
,
upd©d
,
ú¡nd
,
ršt
,
™”
);

1080 
Çù
 = 
n
 - 
nä“
;

1082 
gÙo333
:

1087 ià(
nä“
 =ğ0 || 
cŞ
 =ğ0è
gÙo555
;

1095 
ıu1
 = 
tim”_
.
	`time
();

1103 ià(
wrk
è
	`fÜmk
(
n
,
nä“
,
šdex
,
ÃÁ”
,
—ve
,
šdx2
,
iupd©
,

1104 
upd©d
,
wn
,
¢d
,
m
,
ws
,
wy
,
sy
,
th‘a
,
cŞ
,
h—d
,
šfo
);

1106 ià(
šfo
 != 0)

1110 if(
ršt
 >= 1)

1111 
cout
 << "Nonpositive definiteness in Cholesky factorization in formk;"

1112 << "»äeshhlbfg memÜy‡nd„e¡¬ˆth™”©iÚ." << 
’dl
;

1113 
šfo
 = 0;

1114 
cŞ
 = 0;

1115 
h—d
 = 1;

1116 
th‘a
 = 
Úe
;

1117 
iupd©
 = 0;

1118 
upd©d
 = 
çl£
;

1119 
ıu2
 = 
tim”_
.
	`time
() ;

1120 
sbtime
 = sbtim+ 
ıu2
 - 
ıu1
;

1121 
gÙo222
;

1126 
	`cm´lb
(
n
,
m
,
x
,
g
,
ws
,
wy
,
sy
,
wt
,
z
,
r
,
wa
,
šdex
,

1127 
th‘a
,
cŞ
,
h—d
,
nä“
,
ú¡nd
,
šfo
);

1129 ià(
šfo
 !ğ0è
gÙo444
;

1131 
	`subsm
(
n
,
m
,
nä“
,
šdex
,
l
,
u
,
nbd
,
z
,
r
,
ws
,
wy
,
th‘a
,

1132 
cŞ
,
h—d
,
iwÜd
,
wa
,
wn
,
ršt
,
šfo
);

1135 
gÙo444
:

1136 ià(
šfo
 != 0)

1140 if(
ršt
 >= 1)

1141 
cout
 << "Singularriangular system detected; "

1142 << "»äeshhlbfg memÜy‡nd„e¡¬ˆth™”©iÚ." <<
’dl
;

1143 
šfo
 = 0;

1144 
cŞ
 = 0;

1145 
h—d
 = 1;

1146 
th‘a
 = 
Úe
;

1147 
iupd©
 = 0;

1148 
upd©d
 = 
çl£
;

1149 
ıu2
 = 
tim”_
.
	`time
();

1150 
sbtime
 = sbtim+ 
ıu2
 - 
ıu1
;

1151 
gÙo222
;

1154 
ıu2
 = 
tim”_
.
	`time
();

1155 
sbtime
 = sbtim+ 
ıu2
 - 
ıu1
 ;

1156 
gÙo555
:

1166 
i
 = 1; i <ğ
n
; i++)

1167 
d
[
i
] = 
z
[i] - 
x
[i];

1169 
ıu1
 = 
tim”_
.
	`time
();

1170 
gÙo66
:

1172 
	`Ê¤lb
(
n
,
l
,
u
,
nbd
,
x
,
f
,
fŞd
,
gd
,
gdŞd
,
g
,
d
,
r
,
t
,
z
,
¡p
,
dnÜm
,

1173 
dtd
,
x¡•
,
¡pmx
,
™”
,
ifun
,
iback
,
nfgv
,
šfo
,
sk
,

1174 
boxed
,
ú¡nd
,
c§ve
,&(
i§ve
[22-1]),&(
d§ve
[17-1]));

1176 ià(
šfo
 !ğ0 || 
iback
 >= 20)

1179 
	`dcİy
(
n
,
t
,1,
x
,1);

1180 
	`dcİy
(
n
,
r
,1,
g
,1);

1181 
f
 = 
fŞd
;

1182 ià(
cŞ
 == 0)

1185 ià(
šfo
 == 0)

1187 
šfo
 = -9;

1189 
nfgv
 -= 1;

1190 
ifun
 -= 1;

1191 
iback
 -= 1;

1193 
	`¡rıy
(
sk
, "ABNORMAL_TERMINATION_IN_LNSRCH");

1194 
™”
 += 1;

1195 
gÙo999
;

1200 if(
ršt
 >= 1)

1201 
cout
 << "Bad direction inhe†ine search; "

1202 << "thlbfg memÜy‡nd„e¡¬ˆth™”©iÚ" << 
’dl
;

1203 ià(
šfo
 =ğ0è
nfgv
 =‚fgv - 1;

1204 
šfo
 = 0;

1205 
cŞ
 = 0;

1206 
h—d
 = 1;

1207 
th‘a
 = 
Úe
;

1208 
iupd©
 = 0;

1209 
upd©d
 = 
çl£
;

1210 
	`¡rıy
(
sk
, "RESTART_FROM_LNSRCH");

1211 
ıu2
 = 
tim”_
.
	`time
();

1212 
Êscht
 +ğ
ıu2
 - 
ıu1
;

1213 
gÙo222
;

1217 ià(
	`¡ºcmp
(
sk
,"FG_LN",5)==0)

1220 
gÙo1000
;

1225 
ıu2
 = 
tim”_
.
	`time
() ;

1226 
Êscht
 +ğ
ıu2
 - 
ıu1
;

1227 
™”
 += 1;

1231 
	`´ojgr
(
n
,
l
,
u
,
nbd
,
x
,
g
,
sbgÄm
);

1235 
	`´n2lb
(
n
,
x
,
f
,
g
,
ršt
,
™fe
,
™”
,
nfgv
,
Çù
,

1236 
sbgÄm
,
nšt
,
wÜd
,
iwÜd
,
iback
,
¡p
,
x¡•
);

1237 
gÙo1000
;

1239 
gÙo777
:

1243 ià(
sbgÄm
 <ğ
pgtŞ
)

1246 
	`¡rıy
(
sk
, "CONVERGENCE: NORM OF PROJECTED GRADIENT <= PGTOL");

1247 
gÙo999
;

1250 
ddum
 = 
	`max
(
	`çbs
(
fŞd
), fabs(
f
), 
Úe
);

1251 ià((
fŞd
 - 
f
è<ğ
tŞ
*
ddum
)

1254 
	`¡rıy
(
sk
, "CONVERGENCE: REL_REDUCTION_OF_F <= FACTR*EPSMCH");

1255 ià(
iback
 >ğ10è
šfo
 = -5;

1257 
gÙo999
;

1262 
i
 = 1; i <ğ
n
; i++)

1263 
r
[
i
] = 
g
[i] -„[i];

1264 
¼
 = 
	`ddÙ
(
n
,
r
,1,r,1);

1265 ià(
¡p
 =ğ
Úe
)

1267 
dr
 = 
gd
 - 
gdŞd
;

1268 
ddum
 = -
gdŞd
;

1272 
dr
 = (
gd
 - 
gdŞd
)*
¡p
;

1273 
	`dsÿl
(
n
,
¡p
,
d
,1);

1274 
ddum
 = -
gdŞd
*
¡p
;

1277 ià(
dr
 <ğ
•smch
*
ddum
)

1280 
nsk
 =‚skip + 1;

1281 
upd©d
 = 
çl£
;

1282 ià(
ršt
 >= 1)

1283 
cout
 << " ys=" << 
dr
 << " -gs=" <<
ddum
<<" BFSG upd©SKIPPED"<<
’dl
;

1284 
gÙo888
;

1293 
upd©d
 = 
Œue
;

1294 
iupd©
 += 1;

1298 
	`m©upd
(
n
,
m
,
ws
,
wy
,
sy
,
ss
,
d
,
r
,
™a
,

1299 
iupd©
,
cŞ
,
h—d
,
th‘a
,
¼
,
dr
,
¡p
,
dtd
);

1306 
	`fÜmt
(
m
,
wt
,
sy
,
ss
,
cŞ
,
th‘a
,
šfo
);

1308 ià(
šfo
 != 0)

1312 if(
ršt
 >= 1)

1313 
cout
 << "Nonpositive definiteness in Cholesky factorization in formt; "

1314 << "»äeshhlbfg memÜy‡nd„e¡¬ˆth™”©iÚ." << 
’dl
;

1315 
šfo
 = 0;

1316 
cŞ
 = 0;

1317 
h—d
 = 1;

1318 
th‘a
 = 
Úe
;

1319 
iupd©
 = 0;

1320 
upd©d
 = 
çl£
;

1321 
gÙo222
;

1329 
gÙo888
:

1333 
gÙo222
;

1335 
gÙo999
:

1336 
time2
 = 
tim”_
.
	`time
();

1337 
time
 = 
time2
 - 
time1
;

1338 
	`´n3lb
(
n
,
x
,
f
,
sk
,
ršt
,
šfo
,
™fe
,

1339 
™”
,
nfgv
,
nštŞ
,
nsk
,
Çù
,
sbgÄm
,

1340 
time
,
nšt
,
wÜd
,
iback
,
¡p
,
x¡•
,
k
,

1341 
ÿchyt
,
sbtime
,
Êscht
);

1342 
gÙo1000
:

1345 
l§ve
[1] = 
´jùd
;

1346 
l§ve
[2] = 
ú¡nd
;

1347 
l§ve
[3] = 
boxed
;

1348 
l§ve
[4] = 
upd©d
;

1350 
i§ve
[1] = 
nštŞ
;

1352 
i§ve
[4] = 
iback
;

1353 
i§ve
[5] = 
nsk
;

1354 
i§ve
[6] = 
h—d
;

1355 
i§ve
[7] = 
cŞ
;

1356 
i§ve
[8] = 
™a
;

1357 
i§ve
[9] = 
™”
;

1358 
i§ve
[10] = 
iupd©
;

1359 
i§ve
[12] = 
nšt
;

1360 
i§ve
[13] = 
nfgv
;

1361 
i§ve
[14] = 
šfo
;

1362 
i§ve
[15] = 
ifun
;

1363 
i§ve
[16] = 
iwÜd
;

1364 
i§ve
[17] = 
nä“
;

1365 
i§ve
[18] = 
Çù
;

1366 
i§ve
[19] = 
—ve
;

1367 
i§ve
[20] = 
ÃÁ”
;

1369 
d§ve
[1] = 
th‘a
;

1370 
d§ve
[2] = 
fŞd
;

1371 
d§ve
[3] = 
tŞ
;

1372 
d§ve
[4] = 
dnÜm
;

1373 
d§ve
[5] = 
•smch
;

1374 
d§ve
[6] = 
ıu1
;

1375 
d§ve
[7] = 
ÿchyt
;

1376 
d§ve
[8] = 
sbtime
;

1377 
d§ve
[9] = 
Êscht
;

1378 
d§ve
[10] = 
time1
;

1379 
d§ve
[11] = 
gd
;

1380 
d§ve
[12] = 
¡pmx
;

1381 
d§ve
[13] = 
sbgÄm
;

1382 
d§ve
[14] = 
¡p
;

1383 
d§ve
[15] = 
gdŞd
;

1384 
d§ve
[16] = 
dtd
;

1386 
	}
}

1416 
	$aùive
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
l
,

1417 cÚ¡ * cÚ¡ & 
u
, cÚ¡ * cÚ¡ & 
nbd
,

1418 * cÚ¡ & 
x
, * cÚ¡ & 
iwh”e
, cÚ¡ & 
ršt
,

1419 
boŞ
& 
´jùd
, boŞ& 
ú¡nd
, boŞ& 
boxed
)

1422 
nbdd
;

1423 
z”o
=0.0;

1426 
nbdd
 = 0;

1427 
´jùd
 = 
çl£
;

1428 
ú¡nd
 = 
çl£
;

1429 
boxed
 = 
Œue
;

1433 
i
 = 1; i <ğ
n
; i++)

1435 ià(
nbd
[
i
] > 0)

1437 ià(
nbd
[
i
] <ğ2 && 
x
[i] <ğ
l
[i])

1439 ià(
x
[
i
] < 
l
[i])

1441 
´jùd
 = 
Œue
;

1442 
x
[
i
] = 
l
[i];

1444 
nbdd
 += 1;

1447 ià(
nbd
[
i
] >ğ2 && 
x
[i] >ğ
u
[i])

1449 ià(
x
[
i
] > 
u
[i])

1451 
´jùd
 = 
Œue
;

1452 
x
[
i
] = 
u
[i];

1454 
nbdd
 += 1;

1461 
i
 = 1; i <ğ
n
; i++)

1463 ià(
nbd
[
i
] !ğ2è
boxed
 = 
çl£
;

1464 ià(
nbd
[
i
] == 0)

1467 
iwh”e
[
i
] = -1;

1472 
ú¡nd
 = 
Œue
;

1473 ià(
nbd
[
i
] =ğ2 && (
u
[i]-
l
[i]è<ğ
z”o
)

1476 
iwh”e
[
i
] = 3;

1479 
iwh”e
[
i
] = 0;

1483 ià(
ršt
 >= 0)

1485 ià(
´jùd
)

1486 
cout
 << "The initial X is infeasible. Restart with its…rojection."

1487 << 
’dl
;

1488 ià(!
ú¡nd
è
cout
 << "Thi ´obËm i uncÚ¡¿šed." << 
’dl
;

1491 ià(
ršt
 > 0)

1492 
cout
 << "AˆX0 " << 
nbdd
 << " v¬ŸbË ¬exaùly‡ˆthbounds" <<
’dl
;

1493 
	}
}

1554 
	$bmv
(cÚ¡ & 
m
, * cÚ¡ & 
sy
, * cÚ¡ & 
wt
,

1555 cÚ¡ & 
cŞ
, cÚ¡ * cÚ¡ & 
v
, * cÚ¡ & 
p
,

1556 & 
šfo
)

1559 
i2
;

1560 
sum
;

1562 ià(
cŞ
 == 0) ;

1568 
p
[
cŞ
+1] = 
v
[col+1];

1570 
i
 = 2; i <ğ
cŞ
; i++)

1572 
i2
 = 
cŞ
 + 
i
;

1573 
sum
 = 0;

1574 
k
 = 1; k <ğ
i
-1; k++)

1575 
sum
 +ğ
sy
[
	`g‘Idx
(
i
,
k
,
m
)]*
v
[k]/sy[getIdx(k,k,m)];

1577 
p
[
i2
] = 
v
[i2] + 
sum
;

1581 
	`dŒ¦
(
wt
,
m
,
cŞ
,&(
p
[cŞ+1-1]),11,
šfo
);

1582 ià(
šfo
 != 0) ;

1585 
i
 = 1; i <ğ
cŞ
; i++)

1586 
p
[
i
] = 
v
[i]/
	`sq¹
(
sy
[
	`g‘Idx
(i,i,
m
)]);

1592 
	`dŒ¦
(
wt
,
m
,
cŞ
,&(
p
[cŞ+1-1]),1,
šfo
);

1593 ià(
šfo
 != 0) ;

1597 
i
 = 1; i <ğ
cŞ
; i++)

1598 
p
[
i
] = -p[i]/
	`sq¹
(
sy
[
	`g‘Idx
(i,i,
m
)]);

1600 
i
 = 1; i <ğ
cŞ
; i++)

1602 
sum
 = 0;

1603 
k
 = 
i
+1; i <ğ
cŞ
; i++)

1604 
sum
 +ğ
sy
[
	`g‘Idx
(
k
,
i
,
m
)]*
p
[
cŞ
+k]/sy[getIdx(i,i,m)];

1605 
p
[
i
] +ğ
sum
;

1607 
	}
}

1787 
	$ÿuchy
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
x
,

1788 cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

1789 cÚ¡ * cÚ¡ & 
nbd
, cÚ¡ * cÚ¡ & 
g
,

1790 * cÚ¡ & 
iÜd”
, * cÚ¡ & 
iwh”e
,

1791 * cÚ¡ & 
t
, * cÚ¡ & 
d
, * cÚ¡ & 
xı
,

1792 cÚ¡ & 
m
, * cÚ¡ & 
wy
,

1793 * cÚ¡ & 
ws
, * cÚ¡ & 
sy
,

1794 * cÚ¡ & 
wt
, & 
th‘a
,

1795 cÚ¡ & 
cŞ
, cÚ¡ & 
h—d
, * cÚ¡ & 
p
,

1796 * cÚ¡ & 
c
, * cÚ¡ & 
wbp
,

1797 * cÚ¡ & 
v
, & 
nšt
, cÚ¡ * cÚ¡ & 
sg
,

1798 cÚ¡ * cÚ¡ & 
yg
, cÚ¡ & 
ršt
,

1799 cÚ¡ & 
sbgÄm
, & 
šfo
, cÚ¡ & 
•smch
)

1801 
boŞ
 
xlow”
,
xuµ”
,
bnded
;

1803 
cŞ2
,
nä“
,
nb»ak
,
pošŒ
,

1804 
ibp
,
Æeá
,
ibkmš
,
™”
;

1805 
f1
,
f2
,
dt
,
dtm
,
tsum
,
dibp
,
zibp
,
dibp2
,
bkmš
,

1806 
tu
=0,

=0,
wmc
,
wmp
,
wmw
,
tj
,
tj0
,
Ãggi
,

1807 
f2_Üg
;

1808 
Úe
=1,
z”o
=0;

1814 ià(
sbgÄm
 <ğ
z”o
)

1816 ià(
ršt
 >ğ0è
cout
 << "SubgnÜm = 0. GCP = X." << 
’dl
;

1817 
	`dcİy
(
n
,
x
,1,
xı
,1);

1820 
bnded
 = 
Œue
;

1821 
nä“
 = 
n
 + 1;

1822 
nb»ak
 = 0;

1823 
ibkmš
 = 0;

1824 
bkmš
 = 
z”o
;

1825 
cŞ2
 = 2*
cŞ
;

1826 
f1
 = 
z”o
;

1827 ià(
ršt
 >= 99)

1828 
cout
 << "---------------- CAUCHYƒÁ”ed-------------------" << 
’dl
;

1831 
i
 = 1; i <ğ
cŞ2
; i++)

1832 
p
[
i
] = 
z”o
;

1838 
i
 = 1; i <ğ
n
; i++)

1840 
Ãggi
 = -
g
[
i
];

1841 ià(
iwh”e
[
i
] != 3 && iwhere[i] != -1)

1845 ià(
nbd
[
i
] <ğ2è

 = 
x
[i] - 
l
[i];

1846 ià(
nbd
[
i
] >ğ2è
tu
 = 
u
[i] - 
x
[i];

1850 
xlow”
 = (
nbd
[
i
] <ğ2 && 

 <ğ
z”o
);

1851 
xuµ”
 = (
nbd
[
i
] >ğ2 && 
tu
 <ğ
z”o
);

1854 
iwh”e
[
i
] = 0;

1855 ià(
xlow”
)

1857 ià(
Ãggi
 <ğ
z”o
è
iwh”e
[
i
] = 1;

1860 ià(
xuµ”
)

1862 ià(
Ãggi
 >ğ
z”o
è
iwh”e
[
i
] = 2;

1866 ià(
	`çbs
(
Ãggi
è<ğ
z”o
è
iwh”e
[
i
] = -3;

1869 
pošŒ
 = 
h—d
;

1870 ià(
iwh”e
[
i
] != 0 && iwhere[i] != -1)

1871 
d
[
i
] = 
z”o
;

1874 
d
[
i
] = 
Ãggi
;

1875 
f1
 -ğ
Ãggi
*neggi;

1877 
j
 = 1; j <ğ
cŞ
; j++)

1879 
p
[
j
] +ğ
wy
[
	`g‘Idx
(
i
,
pošŒ
,
n
)] * 
Ãggi
;

1880 
p
[
cŞ
 + 
j
] +ğ
ws
[
	`g‘Idx
(
i
,
pošŒ
,
n
)] * 
Ãggi
;

1881 
pošŒ
 =…ošŒ%
m
 + 1;

1883 ià(
nbd
[
i
] <ğ2 &&‚bd[i] !ğ0 && 
Ãggi
 < 
z”o
)

1886 
nb»ak
 += 1;

1887 
iÜd”
[
nb»ak
] = 
i
;

1888 
t
[
nb»ak
] = 

/(-
Ãggi
);

1889 ià(
nb»ak
 =ğ1 || 
t
[nb»ak] < 
bkmš
)

1891 
bkmš
 = 
t
[
nb»ak
];

1892 
ibkmš
 = 
nb»ak
;

1896 ià(
nbd
[
i
] >ğ2 && 
Ãggi
 > 
z”o
)

1899 
nb»ak
 += 1;

1900 
iÜd”
[
nb»ak
] = 
i
;

1901 
t
[
nb»ak
] = 
tu
/
Ãggi
;

1902 ià(
nb»ak
 =ğ1 || 
t
[nb»ak] < 
bkmš
)

1904 
bkmš
 = 
t
[
nb»ak
];

1905 
ibkmš
 = 
nb»ak
;

1911 
nä“
 -= 1;

1912 
iÜd”
[
nä“
] = 
i
;

1913 ià(
	`çbs
(
Ãggi
è> 
z”o
è
bnded
 = 
çl£
;

1923 ià(
th‘a
 !ğ
Úe
)

1926 
	`dsÿl
(
cŞ
,
th‘a
,&(
p
[col+1-1]),1);

1931 
	`dcİy
(
n
,
x
,1,
xı
,1);

1933 ià(
nb»ak
 =ğ0 && 
nä“
 =ğ
n
 + 1)

1936 ià(
ršt
 > 100)

1938 
cout
 << "Cauchy X = ";

1939 
i
 = 1; i <ğ
n
; i++)

1940 
cout
 << 
xı
[
i
] << " ";

1941 
cout
 << 
’dl
;

1948 
j
 = 1; j <ğ
cŞ2
; j++)

1949 
c
[
j
] = 
z”o
;

1953 
f2
 = -
th‘a
*
f1
;

1954 
f2_Üg
 = 
f2
;

1955 ià(
cŞ
 > 0)

1957 
	`bmv
(
m
,
sy
,
wt
,
cŞ
,
p
,
v
,
šfo
);

1958 ià(
šfo
 != 0) ;

1959 
f2
 -ğ
	`ddÙ
(
cŞ2
,
v
,1,
p
,1);

1961 
dtm
 = -
f1
/
f2
;

1962 
tsum
 = 
z”o
;

1963 
nšt
 = 1;

1964 ià(
ršt
 >= 99)

1965 
cout
 << "Th”¬" << 
nb»ak
 << " b»akpošts" << 
’dl
;

1969 ià(
nb»ak
 =ğ0è
gÙo888
;

1971 
Æeá
 = 
nb»ak
;

1972 
™”
 = 1;

1974 
tj
 = 
z”o
;

1978 
gÙo777
:

1983 
tj0
 = 
tj
;

1984 ià(
™”
 == 1)

1989 
tj
 = 
bkmš
;

1990 
ibp
 = 
iÜd”
[
ibkmš
];

1994 ià(
™”
 == 2)

1998 ià(
ibkmš
 !ğ
nb»ak
)

2000 
t
[
ibkmš
] =[
nb»ak
];

2001 
iÜd”
[
ibkmš
] = iÜd”[
nb»ak
];

2007 
	`hpsŞb
(
Æeá
,
t
,
iÜd”
,
™”
-2);

2008 
tj
 = 
t
[
Æeá
];

2009 
ibp
 = 
iÜd”
[
Æeá
];

2012 
dt
 = 
tj
 - 
tj0
;

2014 ià(
dt
 !ğ
z”o
 && 
ršt
 >= 100)

2016 
cout
 << "P›û " << 
nšt
 << " --f1, f2‡t start…oint "

2017 << 
f1
 << "," << 
f2
 << 
’dl
;

2018 
cout
 << "Di¡ªûØthÃxˆb»ak…ošˆğ" << 
dt
 << 
’dl
;

2019 
cout
 << "Di¡ªûØth¡©iÚ¬y…ošˆğ" << 
dtm
 << 
’dl
;

2024 ià(
dtm
 < 
dt
è
gÙo888
;

2029 
tsum
 +ğ
dt
;

2030 
Æeá
 -= 1;

2031 
™”
 += 1;

2032 
dibp
 = 
d
[
ibp
];

2033 
d
[
ibp
] = 
z”o
;

2034 ià(
dibp
 > 
z”o
)

2036 
zibp
 = 
u
[
ibp
] - 
x
[ibp];

2037 
xı
[
ibp
] = 
u
[ibp];

2038 
iwh”e
[
ibp
] = 2;

2042 
zibp
 = 
l
[
ibp
] - 
x
[ibp];

2043 
xı
[
ibp
] = 
l
[ibp];

2044 
iwh”e
[
ibp
] = 1;

2046 ià(
ršt
 >ğ100è
cout
 << "V¬ŸbË " << 
ibp
 << " i fixed." << 
’dl
;

2047 ià(
Æeá
 =ğ0 && 
nb»ak
 =ğ
n
)

2050 
dtm
 = 
dt
;

2051 
gÙo999
;

2056 
nšt
 += 1;

2057 
dibp2
 = 
dibp
*dibp;

2062 
f1
 +ğ
dt
*
f2
 + 
dibp2
 - 
th‘a
*
dibp
*
zibp
;

2063 
f2
 -ğ
th‘a
*
dibp2
;

2065 ià(
cŞ
 > 0)

2068 
	`daxpy
(
cŞ2
,
dt
,
p
,1,
c
,1);

2072 
pošŒ
 = 
h—d
;

2073 
j
 = 1; j <ğ
cŞ
; j++)

2075 
wbp
[
j
] = 
wy
[
	`g‘Idx
(
ibp
,
pošŒ
,
n
)];

2076 
wbp
[
cŞ
 + 
j
] = 
th‘a
*
ws
[
	`g‘Idx
(
ibp
,
pošŒ
,
n
)];

2077 
pošŒ
 =…ošŒ%
m
 + 1;

2080 
	`bmv
(
m
,
sy
,
wt
,
cŞ
,
wbp
,
v
,
šfo
);

2081 ià(
šfo
 != 0) ;

2082 
wmc
 = 
	`ddÙ
(
cŞ2
,
c
,1,
v
,1);

2083 
wmp
 = 
	`ddÙ
(
cŞ2
,
p
,1,
v
,1);

2084 
wmw
 = 
	`ddÙ
(
cŞ2
,
wbp
,1,
v
,1);

2087 
	`daxpy
(
cŞ2
,-
dibp
,
wbp
,1,
p
,1);

2090 
f1
 +ğ
dibp
*
wmc
;

2091 
f2
 +ğ2.0*
dibp
*
wmp
 - 
dibp2
*
wmw
;

2094 
f2
 = 
	`max
(
•smch
*
f2_Üg
,f2);

2095 ià(
Æeá
 > 0)

2097 
dtm
 = -
f1
/
f2
;

2098 
gÙo777
;

2102 if(
bnded
)

2104 
f1
 = 
z”o
;

2105 
f2
 = 
z”o
;

2106 
dtm
 = 
z”o
;

2109 
dtm
 = -
f1
/
f2
;

2113 
gÙo888
:

2114 ià(
ršt
 >= 99)

2116 
cout
 << 
’dl
 << "GCP found inhis segment" <<ƒndl

2117 << "P›û " << 
nšt
 << " --f1, f2‡t start…oint "

2118 << 
f1
 << "," << 
f2
 << 
’dl


2119 << "Di¡ªûØth¡©iÚ¬y…ošˆğ" << 
dtm
 << 
’dl
;

2122 ià(
dtm
 <ğ
z”o
) dtm = zero;

2123 
tsum
 +ğ
dtm
;

2128 
	`daxpy
(
n
,
tsum
,
d
,1,
xı
,1);

2130 
gÙo999
:

2135 ià(
cŞ
 > 0è
	`daxpy
(
cŞ2
,
dtm
,
p
,1,
c
,1);

2136 ià(
ršt
 > 100)

2138 
cout
<< "Cauchy X = ";

2139 
i
 = 1; i <=
n
; i++)

2140 
cout
 << 
xı
[
i
] << " ";

2141 
cout
 << 
’dl
;

2143 ià(
ršt
 >= 99)

2144 
cout
 << "----------------ƒx™ CAUCHY----------------------" << 
’dl
;

2145 
	}
}

2172 
	$cm´lb
(cÚ¡ & 
n
, cÚ¡ & 
m
, cÚ¡ * cÚ¡ & 
x
,

2173 cÚ¡ * cÚ¡ & 
g
, * cÚ¡ & 
ws
,

2174 * cÚ¡ & 
wy
, * cÚ¡ & 
sy
,

2175 * cÚ¡ & 
wt
, cÚ¡ * cÚ¡ & 
z
,

2176 * cÚ¡ & 
r
, * cÚ¡ & 
wa
,

2177 cÚ¡ * cÚ¡ & 
šdex
, cÚ¡ & 
th‘a
,

2178 cÚ¡ & 
cŞ
, cÚ¡ & 
h—d
, cÚ¡ & 
nä“
,

2179 cÚ¡ 
boŞ
& 
ú¡nd
, & 
šfo
)

2182 
k
,
pošŒ
,
idx
;

2183 
a1
,
a2
;

2185 ià(!
ú¡nd
 && 
cŞ
 > 0)

2187 
i
 = 1; i <ğ
n
; i++)

2188 
r
[
i
] = -
g
[i];

2192 
i
 = 1; i <ğ
nä“
; i++)

2194 
k
 = 
šdex
[
i
];

2195 
r
[
i
] = -
th‘a
*(
z
[
k
] - 
x
[k]è- 
g
[k];

2197 
	`bmv
(
m
,
sy
,
wt
,
cŞ
,&(
wa
[2*m+1-1]),&(wa[1-1]),
šfo
);

2198 ià(
šfo
 != 0)

2200 
šfo
 = -8;

2203 
pošŒ
 = 
h—d
;

2204 
j
 = 1; j <ğ
cŞ
; j++)

2206 
a1
 = 
wa
[
j
];

2207 
a2
 = 
th‘a
*
wa
[
cŞ
 + 
j
];

2208 
i
 = 1; i <ğ
nä“
; i++)

2210 
k
 = 
šdex
[
i
];

2211 
idx
 = 
	`g‘Idx
(
k
,
pošŒ
,
n
);

2212 
r
[
i
] +ğ
wy
[
idx
]*
a1
 + 
ws
[idx]*
a2
;

2215 
pošŒ
 =…ošŒ%
m
 + 1;

2218 
	}
}

2240 
	$”rşb
(cÚ¡ & 
n
, cÚ¡ & 
m
, cÚ¡ & 
çùr
,

2241 cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

2242 cÚ¡ * cÚ¡ & 
nbd
, * cÚ¡ & 
sk
, & 
šfo
,

2243 & 
k
)

2247 
z”o
=0.0;

2251 ià(
n
 <ğ0è
	`¡rıy
(
sk
,"ERROR: N <= 0");

2252 ià(
m
 <ğ0è
	`¡rıy
(
sk
,"ERROR: M <= 0");

2253 ià(
çùr
 < 
z”o
è
	`¡rıy
(
sk
,"ERROR: FACTR < 0");

2256 
i
 = 1; i <ğ
n
; i++)

2258 ià(
nbd
[
i
] < 0 ||‚bd[i] > 3)

2261 
	`¡rıy
(
sk
,"ERROR: INVALID NBD");

2262 
šfo
 = -6;

2263 
k
 = 
i
;

2265 ià(
nbd
[
i
] == 2)

2267 ià(
l
[
i
] > 
u
[i])

2270 
	`¡rıy
(
sk
, "ERROR: NO FEASIBLE SOLUTION");

2271 
šfo
 = -7;

2272 
k
 = 
i
;

2276 
	}
}

2402 
	$fÜmk
(cÚ¡ & 
n
, cÚ¡ & 
nsub
, cÚ¡ * cÚ¡ & 
šd
,

2403 cÚ¡ & 
ÃÁ”
, cÚ¡ & 
—ve
,

2404 cÚ¡ * cÚ¡ & 
šdx2
, cÚ¡ & 
iupd©
,

2405 cÚ¡ 
boŞ
& 
upd©d
, * cÚ¡ & 
wn
,

2406 * cÚ¡ & 
wn1
, cÚ¡ & 
m
,

2407 * cÚ¡ & 
ws
, * cÚ¡ & 
wy
,

2408 * cÚ¡ & 
sy
, cÚ¡ & 
th‘a
,

2409 cÚ¡ & 
cŞ
, cÚ¡ & 
h—d
, & 
šfo
)

2412 
m2
,
Ár
,
j²Œ
,
iy
,
is
,
jy
,
js
,
is1
,
js1
,
k1
,

2413 
cŞ2
,
pbegš
,
³nd
,
dbegš
,
d’d
,
upş
;

2414 
idx1
, 
idx2
;

2415 
‹mp1
,
‹mp2
,
‹mp3
,
‹mp4
;

2417 
z”o
=0.0;

2419 
m2
 = 2*
m
;

2427 ià(
upd©d
)

2429 ià(
iupd©
 > 
m
)

2432 
jy
 = 1; jy <ğ
m
-1; jy++)

2434 
js
 = 
m
 + 
jy
;

2435 
	`dcİy
(
m
-
jy
,&(
wn1
[
	`g‘Idx
(jy+1,jy+1,
m2
)-1]),1,

2436 &(
wn1
[
	`g‘Idx
(
jy
,jy,
m2
)-1]),1);

2437 
	`dcİy
(
m
-
jy
,&(
wn1
[
	`g‘Idx
(
js
+1,js+1,
m2
)-1]),1,

2438 &(
wn1
[
	`g‘Idx
(
js
,js,
m2
)-1]), 1);

2439 
	`dcİy
(
m
-1, &(
wn1
[
	`g‘Idx
(m+2,
jy
+1,
m2
)-1]), 1,

2440 &(
wn1
[
	`g‘Idx
(
m
+1,
jy
,
m2
)-1]),1);

2445 
pbegš
 = 1;

2446 
³nd
 = 
nsub
;

2447 
dbegš
 = 
nsub
 + 1;

2448 
d’d
 = 
n
;

2449 
iy
 = 
cŞ
;

2450 
is
 = 
m
 + 
cŞ
;

2451 
Ár
 = 
h—d
 + 
cŞ
 - 1;

2452 ià(
Ár
 > 
m
) ipntr -= m ;

2453 
j²Œ
 = 
h—d
;

2455 
jy
 = 1; jy <ğ
cŞ
; jy++)

2457 
js
 = 
m
 + 
jy
;

2458 
‹mp1
 = 
z”o
;

2459 
‹mp2
 = 
z”o
;

2460 
‹mp3
 = 
z”o
;

2462 
k
 = 
pbegš
; k <ğ
³nd
; k++)

2464 
k1
 = 
šd
[
k
];

2465 
‹mp1
 +ğ
wy
[
	`g‘Idx
(
k1
,
Ár
,
n
)]*wy[g‘Idx(k1,
j²Œ
,n)];

2468 
k
 = 
dbegš
; k <ğ
d’d
; k++)

2470 
k1
 = 
šd
[
k
];

2471 
idx1
 = 
	`g‘Idx
(
k1
,
Ár
,
n
);

2472 
idx2
 = 
	`g‘Idx
(
k1
,
j²Œ
,
n
);

2473 
‹mp2
 +ğ
ws
[
idx1
] * ws[
idx2
];

2474 
‹mp3
 +ğ
ws
[
idx1
] * 
wy
[
idx2
];

2476 
wn1
[
	`g‘Idx
(
iy
,
jy
,
m2
)] = 
‹mp1
;

2477 
wn1
[
	`g‘Idx
(
is
,
js
,
m2
)] = 
‹mp2
;

2478 
wn1
[
	`g‘Idx
(
is
,
jy
,
m2
)] = 
‹mp3
;

2479 
j²Œ
 = j²Œ%
m
 + 1;

2483 
jy
 = 
cŞ
;

2484 
j²Œ
 = 
h—d
 + 
cŞ
 - 1;

2485 ià(
j²Œ
 > 
m
) jpntr -= m;

2486 
Ár
 = 
h—d
;

2487 
i
 = 1; i <ğ
cŞ
; i++)

2489 
is
 = 
m
 + 
i
;

2490 
‹mp3
 = 
z”o
;

2492 
k
 = 
pbegš
; k <ğ
³nd
; k++)

2494 
k1
 = 
šd
[
k
];

2495 
‹mp3
 +ğ
ws
[
	`g‘Idx
(
k1
,
Ár
,
n
)]*
wy
[g‘Idx(k1,
j²Œ
,n)];

2497 
Ár
 = i²Œ%
m
 + 1;

2498 
wn1
[
	`g‘Idx
(
is
,
jy
,
m2
)] = 
‹mp3
;

2500 
upş
 = 
cŞ
 - 1;

2503 
upş
 = 
cŞ
;

2507 
Ár
 = 
h—d
;

2509 
iy
 = 1; iy <ğ
upş
; iy++)

2511 
is
 = 
m
 + 
iy
;

2512 
j²Œ
 = 
h—d
;

2514 
jy
 = 1; jy <ğ
iy
; jy++)

2516 
js
 = 
m
 + 
jy
;

2517 
‹mp1
 = 
z”o
;

2518 
‹mp2
 = 
z”o
;

2519 
‹mp3
 = 
z”o
;

2520 
‹mp4
 = 
z”o
;

2521 
k
 = 1; k <ğ
ÃÁ”
; k++)

2523 
k1
 = 
šdx2
[
k
];

2524 
idx1
 = 
	`g‘Idx
(
k1
,
Ár
,
n
);

2525 
idx2
 = 
	`g‘Idx
(
k1
,
j²Œ
,
n
);

2526 
‹mp1
 +ğ
wy
[
idx1
]*wy[
idx2
];

2527 
‹mp2
 +ğ
ws
[
idx1
]*ws[
idx2
];

2529 
k
 = 
—ve
; k <ğ
n
; k++)

2531 
k1
 = 
šdx2
[
k
];

2532 
idx1
 = 
	`g‘Idx
(
k1
,
Ár
,
n
);

2533 
idx2
 = 
	`g‘Idx
(
k1
,
j²Œ
,
n
);

2534 
‹mp3
 +ğ
wy
[
idx1
]*wy[
idx2
];

2535 
‹mp4
 +ğ
ws
[
idx1
]*ws[
idx2
];

2537 
wn1
[
	`g‘Idx
(
iy
,
jy
,
m2
)] +ğ
‹mp1
 - 
‹mp3
;

2538 
wn1
[
	`g‘Idx
(
is
,
js
,
m2
)] +ğ
‹mp4
 - 
‹mp2
;

2539 
j²Œ
 = j²Œ%
m
 + 1;

2541 
Ár
 = i²Œ%
m
 + 1;

2544 
Ár
 = 
h—d
;

2546 
is
 = 
m
+1; i <ğm + 
upş
; is++)

2548 
j²Œ
 = 
h—d
;

2549 
jy
 = 1; jy <ğ
upş
; jy++)

2551 
‹mp1
 = 
z”o
;

2552 
‹mp3
 = 
z”o
;

2554 
k
 = 1; k <ğ
ÃÁ”
; k++)

2556 
k1
 = 
šdx2
[
k
];

2557 
‹mp1
 +ğ
ws
[
	`g‘Idx
(
k1
,
Ár
,
n
)]*
wy
[g‘Idx(k1,
j²Œ
,n)];

2559 
k
 = 
—ve
; k <ğ
n
; k++)

2561 
k1
 = 
šdx2
[
k
];

2562 
‹mp3
 +ğ
ws
[
	`g‘Idx
(
k1
,
Ár
,
n
)]*
wy
[g‘Idx(k1,
j²Œ
,n)];

2564 ià(
is
 <ğ
jy
 + 
m
)

2565 
wn1
[
	`g‘Idx
(
is
,
jy
,
m2
)] +ğ
‹mp1
 - 
‹mp3
;

2567 
wn1
[
	`g‘Idx
(
is
,
jy
,
m2
)] +ğ
‹mp3
 - 
‹mp1
;

2569 
j²Œ
 = j²Œ%
m
 + 1;

2571 
Ár
 = i²Œ%
m
 + 1;

2576 
iy
 = 1; iy <ğ
cŞ
; iy++)

2578 
is
 = 
cŞ
 + 
iy
;

2579 
is1
 = 
m
 + 
iy
;

2580 
jy
 = 1; jy <ğ
iy
; jy++)

2582 
js
 = 
cŞ
 + 
jy
;

2583 
js1
 = 
m
 + 
jy
;

2584 
wn
[
	`g‘Idx
(
jy
,
iy
,
m2
)] = 
wn1
[g‘Idx(iy,jy,m2)]/
th‘a
;

2585 
wn
[
	`g‘Idx
(
js
,
is
,
m2
)] = 
wn1
[g‘Idx(
is1
,
js1
,m2)]*
th‘a
;

2588 
jy
 = 1; jy <ğ
iy
-1; jy++)

2589 
wn
[
	`g‘Idx
(
jy
,
is
,
m2
)] = -
wn1
[g‘Idx(
is1
,jy,m2)];

2591 
jy
 = 
iy
; jy <ğ
cŞ
; jy++)

2592 
wn
[
	`g‘Idx
(
jy
,
is
,
m2
)] = 
wn1
[g‘Idx(
is1
,jy,m2)];

2593 
wn
[
	`g‘Idx
(
iy
,iy,
m2
)] +ğ
sy
[g‘Idx(iy,iy,
m
)];

2601 
	`dpoç
(
wn
,
m2
,
cŞ
,
šfo
);

2602 ià(
šfo
 != 0)

2604 
šfo
 = -1;

2609 
cŞ2
 = 2*
cŞ
;

2610 
js
 = 
cŞ
+1; j <ğ
cŞ2
; js++)

2611 
	`dŒ¦
(
wn
,
m2
,
cŞ
,&(wn[
	`g‘Idx
(1,
js
,m2)-1]),11,
šfo
);

2618 
is
 = 
cŞ
+1; i <ğ
cŞ2
; is++)

2619 
js
 = 
is
; j <ğ
cŞ2
; js++)

2620 
wn
[
	`g‘Idx
(
is
,
js
,
m2
)] +ğ
	`ddÙ
(
cŞ
,&(wn[getIdx(1,is,m2)-1]),1,

2621 &(
wn
[
	`g‘Idx
(1,
js
,
m2
)-1]),1);

2624 
	`dpoç
(&(
wn
[
	`g‘Idx
(
cŞ
+1,cŞ+1,
m2
)-1]),m2,cŞ,
šfo
);

2626 ià(
šfo
 != 0)

2628 
šfo
 = -2;

2631 
	}
}

2660 
	$fÜmt
(cÚ¡ & 
m
, * cÚ¡ & 
wt
, * cÚ¡& 
sy
,

2661 * cÚ¡ & 
ss
, cÚ¡ & 
cŞ
, cÚ¡ & 
th‘a
,

2662 & 
šfo
)

2665 
k1
, 
idx
;

2666 
ddum
;

2667 
z”o
=0.0;

2671 
j
 = 1; j <ğ
cŞ
; j++)

2673 
idx
 = 
	`g‘Idx
(1,
j
,
m
);

2674 
wt
[
idx
] = 
th‘a
*
ss
[idx];

2677 
i
 = 2; i <ğ
cŞ
; i++)

2678 
j
 = 
i
; j <ğ
cŞ
; j++)

2680 
k1
 = 
	`mš
(
i
,
j
) - 1;

2681 
ddum
 = 
z”o
;

2682 
k
 = 1; k <ğ
k1
; k++)

2683 
ddum
 +ğ
sy
[
	`g‘Idx
(
i
,
k
,
m
)]*sy[g‘Idx(
j
,k,m)]/sy[getIdx(k,k,m)];

2684 
wt
[
	`g‘Idx
(
i
,
j
,
m
)] = 
ddum
 + 
th‘a
*
ss
[getIdx(i,j,m)];

2690 
	`dpoç
(
wt
,
m
,
cŞ
,
šfo
);

2691 ià(
šfo
 != 0) info = -3;

2692 
	}
}

2733 
	$ä“v
(cÚ¡ & 
n
, & 
nä“
, * cÚ¡ & 
šdex
, & 
ÃÁ”
,

2734 & 
—ve
, * cÚ¡ & 
šdx2
, * cÚ¡ & 
iwh”e
,

2735 
boŞ
& 
wrk
, cÚ¡ boŞ& 
upd©d
, cÚ¡ boŞ& 
ú¡nd
,

2736 cÚ¡ & 
ršt
, cÚ¡ & 
™”
)

2739 
Ÿù
,
k
;

2741 
ÃÁ”
 = 0;

2742 
—ve
 = 
n
 + 1;

2743 ià(
™”
 > 0 && 
ú¡nd
)

2746 
i
 = 1; i <ğ
nä“
; i++)

2748 
k
 = 
šdex
[
i
];

2749 ià(
iwh”e
[
k
] > 0)

2751 
—ve
 -= 1;

2752 
šdx2
[
—ve
] = 
k
;

2753 ià(
ršt
 >= 100)

2754 
cout
 << "V¬ŸbË " << 
k
<<"†—ve th£ˆoàä“ v¬ŸbËs"<<
’dl
;

2758 
i
 = 1+
nä“
; i <ğ
n
; i++)

2760 
k
 = 
šdex
[
i
];

2761 ià(
iwh”e
[
k
] <= 0)

2763 
ÃÁ”
 += 1;

2764 
šdx2
[
ÃÁ”
] = 
k
;

2765 ià(
ršt
 >= 100)

2766 
cout
 << "V¬ŸbË " << 
k
<<"ƒÁ” th£ˆoàä“ v¬ŸbËs"<<
’dl
;

2769 ià(
ršt
 >= 99)

2770 
cout
 << 
n
+1-
—ve
 << " variables†eave; "

2771 << 
ÃÁ”
 << " v¬ŸbË ’‹r" << 
’dl
;

2773 
wrk
 = (
—ve
 < 
n
+1è|| (
ÃÁ”
 > 0è|| 
upd©d
;

2777 
nä“
 = 0;

2778 
Ÿù
 = 
n
 + 1;

2779 
i
 = 1; i <ğ
n
; i++)

2781 ià(
iwh”e
[
i
] <= 0)

2783 
nä“
 += 1;

2784 
šdex
[
nä“
] = 
i
;

2788 
Ÿù
 -= 1;

2789 
šdex
[
Ÿù
] = 
i
;

2793 ià(
ršt
 >= 99)

2794 
cout
 << 
nä“
 << " v¬ŸbË ¬ä“‡ˆGCP " << 
™”
 + 1 << 
’dl
;

2795 
	}
}

2840 
	$hpsŞb
(cÚ¡ & 
n
, * cÚ¡ & 
t
, * cÚ¡ & 
iÜd”
,

2841 cÚ¡ & 
ih—p
)

2844 
i
,
j
,
šdxš
,
šdxou
;

2845 
ddum
,
out
;

2847 ià(
ih—p
 == 0)

2850 
k
 = 2; k <ğ
n
; k++)

2852 
ddum
 = 
t
[
k
];

2853 
šdxš
 = 
iÜd”
[
k
];

2856 
i
 = 
k
;

2857 
gÙo10
:

2858 ià(
i
>1)

2860 
j
 = 
i
/2;

2861 ià(
ddum
 < 
t
[
j
])

2863 
t
[
i
] =[
j
];

2864 
iÜd”
[
i
] = iÜd”[
j
];

2865 
i
 = 
j
;

2866 
gÙo10
;

2870 
t
[
i
] = 
ddum
;

2871 
iÜd”
[
i
] = 
šdxš
;

2879 ià(
n
 > 1)

2881 
i
 = 1;

2882 
out
 = 
t
[1];

2883 
šdxou
 = 
iÜd”
[1];

2884 
ddum
 = 
t
[
n
];

2885 
šdxš
 = 
iÜd”
[
n
];

2888 
gÙo30
:

2889 
j
 = 
i
+i;

2890 ià(
j
 <ğ
n
-1)

2892 ià(
t
[
j
+1] <[j]) j = j+1;

2893 ià(
t
[
j
] < 
ddum
 )

2895 
t
[
i
] =[
j
];

2896 
iÜd”
[
i
] = iÜd”[
j
];

2897 
i
 = 
j
;

2898 
gÙo30
;

2901 
t
[
i
] = 
ddum
;

2902 
iÜd”
[
i
] = 
šdxš
;

2906 
t
[
n
] = 
out
;

2907 
iÜd”
[
n
] = 
šdxou
;

2909 
	}
}

2939 
	$Ê¤lb
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

2940 cÚ¡ * cÚ¡& 
nbd
, * cÚ¡ & 
x
, & 
f
,

2941 & 
fŞd
, & 
gd
, & 
gdŞd
, * cÚ¡& 
g
,

2942 * cÚ¡& 
d
, * cÚ¡& 
r
, * cÚ¡& 
t
,

2943 * cÚ¡& 
z
, & 
¡p
, & 
dnÜm
, & 
dtd
,

2944 & 
x¡•
, & 
¡pmx
, cÚ¡ & 
™”
, & 
ifun
,

2945 & 
iback
, & 
nfgv
, & 
šfo
, * cÚ¡ & 
sk
,

2946 cÚ¡ 
boŞ
& 
boxed
, cÚ¡ boŞ& 
ú¡nd
, * cÚ¡ & 
c§ve
,

2947 * cÚ¡ & 
i§ve
, * cÚ¡ & 
d§ve
)

2950 
a1
,
a2
;

2951 
Úe
=1.0,
z”o
=0.0,
big
=1e10;

2952 
áŞ
=1.0e-3,
gtŞ
=0.9,
xtŞ
=0.1;

2955 ià(
	`¡ºcmp
(
sk
,"FG_LN",5)==0è
gÙo556
;

2957 
dtd
 = 
	`ddÙ
(
n
,
d
,1,d,1);

2958 
dnÜm
 = 
	`sq¹
(
dtd
);

2962 
¡pmx
 = 
big
;

2963 ià(
ú¡nd
)

2965 ià(
™”
 == 0)

2966 
¡pmx
 = 
Úe
;

2969 
i
 = 1; i <ğ
n
; i++)

2971 
a1
 = 
d
[
i
];

2972 ià(
nbd
[
i
] != 0)

2974 ià(
a1
 < 
z”o
 && 
nbd
[
i
] <= 2)

2976 
a2
 = 
l
[
i
] - 
x
[i];

2977 ià(
a2
 >ğ
z”o
)

2978 
¡pmx
 = 
z”o
;

2980 ià(
a1
*
¡pmx
 < 
a2
)

2981 
¡pmx
 = 
a2
/
a1
;

2984 ià(
a1
 > 
z”o
 && 
nbd
[
i
] >= 2)

2986 
a2
 = 
u
[
i
] - 
x
[i];

2987 ià(
a2
 <ğ
z”o
)

2988 
¡pmx
 = 
z”o
;

2990 ià(
a1
*
¡pmx
 > 
a2
)

2991 
¡pmx
 = 
a2
/
a1
;

2998 ià(
™”
 =ğ0 && !
boxed
)

2999 
¡p
 = 
	`mš
(
Úe
/
dnÜm
, 
¡pmx
);

3001 
¡p
 = 
Úe
;

3003 
	`dcİy
(
n
,
x
,1,
t
,1);

3004 
	`dcİy
(
n
,
g
,1,
r
,1);

3005 
fŞd
 = 
f
;

3006 
ifun
 = 0;

3007 
iback
 = 0;

3008 
	`¡rıy
(
c§ve
,"START");

3009 
gÙo556
:

3010 
gd
 = 
	`ddÙ
(
n
,
g
,1,
d
,1);

3011 ià(
ifun
 == 0)

3013 
gdŞd
=
gd
;

3014 ià(
gd
 >ğ
z”o
)

3018 
šfo
 = -4;

3023 
	`dc¤ch
(
f
,
gd
,
¡p
,
áŞ
,
gtŞ
,
xtŞ
,
z”o
,
¡pmx
,
c§ve
,
i§ve
,
d§ve
);

3025 
x¡•
 = 
¡p
*
dnÜm
;

3026 ià(
	`¡ºcmp
(
c§ve
,"CONV",4) != 0 && strncmp(csave,"WARN",4) != 0)

3028 
	`¡rıy
(
sk
,"FG_LNSRCH");

3029 
ifun
 += 1;

3030 
nfgv
 += 1;

3031 
iback
 = 
ifun
 - 1;

3032 ià(
¡p
 =ğ
Úe
)

3033 
	`dcİy
(
n
,
z
,1,
x
,1);

3036 
i
 = 1; i <ğ
n
; i++)

3037 
x
[
i
] = 
¡p
*
d
[i] + 
t
[i];

3041 
	`¡rıy
(
sk
,"NEW_X");

3042 
	}
}

3069 
	$m©upd
(cÚ¡ & 
n
, cÚ¡ & 
m
, * cÚ¡ & 
ws
,

3070 * cÚ¡ & 
wy
, * cÚ¡ & 
sy
, * cÚ¡ & 
ss
,

3071 * cÚ¡ & 
d
, * cÚ¡ & 
r
, & 
™a
, & 
iupd©
,

3072 & 
cŞ
, & 
h—d
, & 
th‘a
, & 
¼
, & 
dr
,

3073 & 
¡p
, & 
dtd
)

3076 
pošŒ
;

3077 
Úe
=1.0;

3078 
idx
;

3081 ià(
iupd©
 <ğ
m
)

3083 
cŞ
 = 
iupd©
;

3084 
™a
 = (
h—d
+
iupd©
-2)%
m
 + 1;

3088 
™a
 = i%
m
 + 1;

3089 
h—d
 = h—d%
m
 + 1;

3093 
idx
 = 
	`g‘Idx
(1,
™a
,
n
)-1;

3094 
	`dcİy
(
n
,
d
,1,&(
ws
[
idx
]),1);

3095 
	`dcİy
(
n
,
r
,1,&(
wy
[
idx
]),1);

3098 
th‘a
 = 
¼
/
dr
;

3103 ià(
iupd©
 > 
m
)

3106 
j
 = 1; j <ğ
cŞ
-1; j++)

3108 
	`dcİy
(
j
,&(
ss
[
	`g‘Idx
(2,j+1,
m
)-1]),1,&(ss[getIdx(1,j,m)-1]),1);

3109 
	`dcİy
(
cŞ
-
j
,&(
sy
[
	`g‘Idx
(j+1,j+1,
m
)-1]),1,&(sy[getIdx(j,j,m)-1]),1);

3115 
pošŒ
 = 
h—d
;

3116 
j
 = 1; j <ğ
cŞ
-1; j++)

3118 
idx
 = 
	`g‘Idx
(1,
pošŒ
,
n
)-1;

3119 
sy
[
	`g‘Idx
(
cŞ
,
j
,
m
)] = 
	`ddÙ
(
n
,
d
,1,&(
wy
[
idx
]),1);

3120 
ss
[
	`g‘Idx
(
j
,
cŞ
,
m
)] = 
	`ddÙ
(
n
,&(
ws
[
idx
]),1,
d
,1);

3121 
pošŒ
 =…ošŒ%
m
 + 1;

3124 
idx
 = 
	`g‘Idx
(
cŞ
,cŞ,
m
);

3125 ià(
¡p
 =ğ
Úe
)

3126 
ss
[
idx
] = 
dtd
;

3128 
ss
[
idx
] = 
¡p
*¡p*
dtd
;

3130 
sy
[
idx
] = 
dr
;

3131 
	}
}

3155 
	$´n1lb
(cÚ¡ & 
n
, cÚ¡ & 
m
, cÚ¡ * cÚ¡ & 
l
,

3156 cÚ¡ * cÚ¡ & 
u
, cÚ¡ * cÚ¡ & 
x
,

3157 cÚ¡ & 
ršt
, 
of¡»am
* 
™fe
, cÚ¡ & 
•smch
)

3161 ià(
ršt
 >= 0)

3163 
cout
 << "RUNNING THE L-BFGS-B CODE, " << 
’dl


3164 << "•smch = machš´ecisiÚ" << 
’dl


3165 << "™ = i‹¿tiÚ‚umb”" << 
’dl


3166 << "nà =‚umb” oàfunùiÚƒv®u©iÚs" << 
’dl


3168 << 
’dl


3170 << 
’dl


3172 << 
’dl


3173 <<"cÚ = cÚv”ged, bnd =‡ bound wa »ached" << 
’dl


3175 << 
’dl


3176 << "¡•Èğ¡•†’gth u£d" << 
’dl


3177 << "t¡• =‚Üm oàthdi¥Ïûm’ˆÑÙ® s‹p)" << 
’dl


3178 << "´ojg =‚Üm oàth´ojeùed g¿d›Á" << 
’dl


3179 << "à = funùiÚ v®ue" << 
’dl


3180 << "Machš´ecisiÚ = " << 
•smch
 << 
’dl
;

3181 
cout
 << "N = " << 
n
 << ", M = " << 
m
 << 
’dl
;

3182 ià(
ršt
 >= 1)

3184 *
™fe
 << "RUNNING THE L-BFGS-B CODE,ƒpsmch = "

3185 << "™ = i‹¿tiÚ‚umb”" << 
’dl


3186 << "nà =‚umb” oàfunùiÚƒv®u©iÚs" << 
’dl


3188 << 
’dl


3190 << 
’dl


3192 << 
’dl


3193 <<"cÚ = cÚv”ged, bnd =‡ bound wa »ached" << 
’dl


3195 << 
’dl


3196 << "¡•Èğ¡•†’gth u£d" << 
’dl


3197 << "t¡• =‚Üm oàthdi¥Ïûm’ˆÑÙ® s‹p)" << 
’dl


3198 << "´ojg =‚Üm oàth´ojeùed g¿d›Á" << 
’dl


3199 << "à = funùiÚ v®ue" << 
’dl


3200 << "Machš´ecisiÚ = " << 
•smch
 << 
’dl
;

3201 *
™fe
 << "N = " << 
n
 << ", M = " << 
m
 << 
’dl
;

3202 *
™fe
 << " it‚f‚int‚act sub itls steplstep…rojg"

3203 << " f" << 
’dl
;

3204 ià(
ršt
 > 100)

3206 
cout
 << "L = ";

3207 
i
 = 1; i <ğ
n
; i++è
cout
 << 
l
[i] << " ";

3208 
cout
 << 
’dl
;

3209 
cout
 << "X0 = ";

3210 
i
 = 1; i <ğ
n
; i++è
cout
 << 
x
[i] << " ";

3211 
cout
 << 
’dl
;

3212 
cout
 << "U = ";

3213 
i
 = 1; i <ğ
n
; i++è
cout
 << 
u
[i] << " ";

3214 
cout
 << 
’dl
;

3218 
	}
}

3241 
	$´n2lb
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
x
, cÚ¡ & 
f
,

3242 cÚ¡ * cÚ¡ & 
g
, cÚ¡ & 
ršt
,

3243 
of¡»am
* 
™fe
, cÚ¡ & 
™”
, cÚ¡ & 
nfgv
,

3244 cÚ¡ & 
Çù
, cÚ¡ & 
sbgÄm
, cÚ¡ & 
nšt
,

3245 * cÚ¡ & 
wÜd
, cÚ¡ & 
iwÜd
, cÚ¡ & 
iback
,

3246 cÚ¡ & 
¡p
, cÚ¡ & 
x¡•
)

3249 
imod
;

3252 ià(
iwÜd
 == 0)

3255 
	`¡rıy
(
wÜd
, "con");

3258 ià(
iwÜd
 == 1)

3261 
	`¡rıy
(
wÜd
, "bnd");

3264 ià(
iwÜd
 == 5)

3267 
	`¡rıy
(
wÜd
, "TNT");

3271 
	`¡rıy
(
wÜd
, "---");

3273 ià(
ršt
 >= 99)

3275 
cout
 << "LINE SEARCH " << 
iback
 <<"imes;‚Üm oà¡• = " <<
x¡•
<<
’dl
;

3276 
cout
 << "Aˆ™”©" << 
™”
 << " f=" << 
f
 <<" |´oj g|="<<
sbgÄm
<<
’dl
;

3277 ià(
ršt
 > 100)

3279 
cout
 << "X = " << 
’dl
;

3280 
i
 = 1; i <ğ
n
; i++è
cout
 << 
x
[i] << " ";

3281 
cout
 << 
’dl
;

3282 
cout
 << "G = " << 
’dl
;

3283 
i
 = 1; i <ğ
n
; i++è
cout
 << 
g
[i] << " ";

3284 
cout
 << 
’dl
;

3288 ià(
ršt
 > 0)

3290 
imod
 = 
™”
%
ršt
;

3291 ià(
imod
 == 0)

3292 
cout
 << "Aˆ™”©" << 
™”
 << " f="<<
f
<< " |´oj g|="<<
sbgÄm
<<
’dl
;

3294 ià(
ršt
 >= 1)

3295 *
™fe
 << " " << 
™”
 << " " << 
nfgv
 << " " << 
nšt
 << " " << 
Çù
 << " "

3296 << 
wÜd
 << " " << 
iback
 << " " << 
¡p
 << " " << 
x¡•
 << " "

3297 << 
sbgÄm
 << " " << 
f
 << 
’dl
;

3298 
	}
}

3322 
	$´n3lb
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
x
, & 
f
,

3323 cÚ¡ * cÚ¡ & 
sk
, cÚ¡ & 
ršt
,

3324 cÚ¡ & 
šfo
, 
of¡»am
* 
™fe
, cÚ¡ & 
™”
,

3325 cÚ¡ & 
nfgv
, cÚ¡ & 
nštŞ
, cÚ¡ & 
nsk
,

3326 cÚ¡ & 
Çù
, cÚ¡ & 
sbgÄm
, cÚ¡ & 
time
,

3327 cÚ¡ & 
nšt
, cÚ¡ * cÚ¡ & 
wÜd
, cÚ¡ & 
iback
,

3328 cÚ¡ & 
¡p
,cÚ¡ & 
x¡•
, cÚ¡ & 
k
,

3329 cÚ¡ & 
ÿchyt
, cÚ¡ & 
sbtime
, cÚ¡ & 
Êscht
)

3332 ià(
	`¡ºcmp
(
sk
,"ERROR",5)==0è
gÙo999
;

3334 ià(
ršt
 >= 0)

3336 
cout
 << " * * *"

3337 << "T™ =Ù®‚umb” oà™”©iÚs" << 
’dl


3338 << "Tnà =Ù®‚umb” oàfunùiÚƒv®u©iÚs" << 
’dl


3340 << " Cauchy s—rches" << 
’dl


3341 << "Sk =‚umb” oàBFGS upd©e sk³d" << 
’dl


3343 << " Cauchy…ošt" << 
’dl


3344 << "Projg =‚Üm oàthfš®…rojeùed g¿d›Á" << 
’dl


3345 << "F = fš® funùiÚ v®ue" << 
’dl


3346 << " * * *" << 
’dl
;

3348 
cout
 << " N T™ Tnà Tnšˆ Sk Naù Projg F" << 
’dl
;

3349 
cout
 << " " << 
n
 << " " << 
™”
 << " " << 
nfgv
 << " " << 
nštŞ
 << " "

3350 << 
nsk
 << " " << 
Çù
 << " " << 
sbgÄm
 << " " << 
f
 << 
’dl
;

3351 ià(
ršt
 >= 100)

3353 
cout
 << "X = ";

3354 
i
 = 1; i <ğ
n
; i++)

3355 
cout
 << 
x
[
i
] << " ";

3356 
cout
 << 
’dl
;

3358 ià(
ršt
 >ğ1è
cout
 << " F = " << 
f
 << 
’dl
;

3361 
gÙo999
:

3363 ià(
ršt
 >= 0)

3365 
cout
 << 
sk
 << 
’dl
;

3366 ià(
šfo
 != 0)

3368 ià(
šfo
 == -1)

3369 
cout
 << "Matrix in 1st Cholesky factorization in formk is‚ot "

3370 << "Pos. Def." << 
’dl
;

3371 ià(
šfo
 == -2)

3372 
cout
 << "Matrix in 2st Cholesky factorization in formk is‚ot "

3373 << "Pos. Def." << 
’dl
;

3374 ià(
šfo
 == -3)

3375 
cout
 << "Matrix inhe Cholesky factorization in formt is‚ot "

3376 << "Pos. Def." << 
’dl
;

3377 ià(
šfo
 == -4)

3378 
cout
 << "Derivative >= 0, backtracking†ine search impossible."

3379 << 
’dl
 << "Previous x, f‡nd g„estored." <<ƒndl

3381 <<"ev®u©iÚ;" << 
’dl


3382 << "2„oundšgƒ¼Ü domš©computiÚ." << 
’dl
;

3383 ià(
šfo
 == -5)

3384 
cout
 << "W¬nšg: mÜthª 10 funùiÚ‡nd g¿d›Á" << 
’dl


3386 << "may…ossibly bÿu£d by‡ bad s—rch dœeùiÚ."<<
’dl
;

3387 ià(
šfo
 == -6)

3388 
cout
 << " IÅuˆnbd(" << 
k
 << "èi šv®id."<<
’dl
;

3389 ià(
šfo
 == -7)

3390 
cout
 << "†(" << 
k
 << ") > u(" << k << "). No feasible solution."

3391 << 
’dl
;

3392 ià(
šfo
 == -8)

3393 
cout
 << "ThŒŸnguÏ¸sy¡em i sšguÏr" << 
’dl
;

3394 ià(
šfo
 == -9)

3395 
cout
 << " Lš£¬ch cªnÙ†oÿ‹‡Àadequ©pošˆaá”"<<
’dl


3397 << " g„e¡Üed." << 
’dl


3400 << 
’dl
;

3403 ià(
ršt
 >= 1)

3404 
cout
 << "Cauchyim" << 
ÿchyt
 << " secÚds."<<
’dl


3405 << "Sub¥aû mšimiz©iÚim" << 
sbtime
 << " secÚds."<<
’dl


3406 << "Lš£¬chim" << 
Êscht
 << " secÚds."<<
’dl
;

3408 
cout
 << "TÙ® U£¸tim" << 
time
 << " secÚds." << 
’dl
;

3410 ià(
ršt
 >= 1)

3412 ià(
šfo
 == -4 || info == -9)

3414 *
™fe
 << " " << 
n
 << " " << 
™”
 << " " << 
nfgv
 << " " << 
nštŞ


3415 << " " << 
nsk
 << " " << 
Çù
 << " " << 
sbgÄm
 << " " << 
f


3416 << 
’dl
;

3418 *
™fe
 << 
sk
 << 
’dl
;

3419 ià(
šfo
 != 0)

3421 ià(
šfo
 == -1)

3422 *
™fe
 << "Matrix in 1st Cholesky factorization in formk is‚ot"

3423 << " Pos. Def." << 
’dl
;

3424 ià(
šfo
 == -2)

3425 *
™fe
 << "Matrix in 2st Cholesky factorization in formk is‚ot"

3426 << " Pos. Def." << 
’dl
;

3427 ià(
šfo
 == -3)

3428 *
™fe
 << "Matrix inhe Cholesky factorization in formt is‚ot"

3429 << " Pos. Def." << 
’dl
;

3430 ià(
šfo
 == -4)

3431 *
™fe
 << "Derivative>=0, backtracking†ine search impossible."

3432 << 
’dl
 << "Previous x, f‡nd g„estored." <<ƒndl

3434 <<"ev®u©iÚ;" << 
’dl


3435 << "2„oundšgƒ¼Ü domš©computiÚ." << 
’dl
;

3436 ià(
šfo
 == -5)

3437 *
™fe
 << "W¬nšg: mÜthª 10 funùiÚ‡nd g¿d›Á" << 
’dl


3440 << 
’dl
;

3441 ià(
šfo
 == -8)

3442 
cout
 << "ThŒŸnguÏ¸sy¡em i sšguÏr" << 
’dl
;

3443 ià(
šfo
 == -9)

3444 
cout
 << " Line search cannot†ocate‡n‡dequate…oint‡fter"

3445 << 
’dl


3447 << "ªd g„e¡Üed." << 
’dl


3450 << 
’dl
;

3452 *
™fe
 << "TÙ® U£¸tim" << 
time
 << " secÚds." << 
’dl
;

3455 
	}
}

3478 
	$´ojgr
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

3479 cÚ¡ * cÚ¡ & 
nbd
, cÚ¡ * cÚ¡ & 
x
,

3480 cÚ¡ * cÚ¡ & 
g
, & 
sbgÄm
)

3483 
gi
;

3485 
z”o
=0.0;

3487 
sbgÄm
 = 
z”o
;

3488 
i
 = 1; i <ğ
n
; i++)

3490 
gi
 = 
g
[
i
];

3491 ià(
nbd
[
i
] != 0)

3493 ià(
gi
 < 
z”o
)

3495 ià(
nbd
[
i
] >ğ2è
gi
 = 
	`max
((
x
[i]-
u
[i]),gi);

3499 ià(
nbd
[
i
] <ğ2è
gi
 = 
	`mš
((
x
[i]-
l
[i]),gi);

3502 
sbgÄm
 = 
	`max
(sbgÄm,
	`çbs
(
gi
));

3504 
	}
}

3655 
	$subsm
(cÚ¡ & 
n
, cÚ¡ & 
m
, cÚ¡ & 
nsub
, cÚ¡ * cÚ¡& 
šd
,

3656 cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

3657 cÚ¡ * cÚ¡ & 
nbd
, * cÚ¡ & 
x
, * cÚ¡ & 
d
,

3658 * cÚ¡ & 
ws
, * cÚ¡ & 
wy
, cÚ¡ & 
th‘a
,

3659 cÚ¡ & 
cŞ
, cÚ¡ & 
h—d
, & 
iwÜd
, * cÚ¡ & 
wv
,

3660 * cÚ¡ & 
wn
, cÚ¡ & 
ršt
, & 
šfo
)

3663 
pošŒ
,
m2
,
cŞ2
,
ibd
=0,
js
,
k
;

3664 
®pha
,
dk
,
‹mp1
,
‹mp2
;

3665 
Úe
=1.0,
z”o
=0.0;

3666 
idx
;

3668 ià(
nsub
 <= 0) ;

3669 ià(
ršt
 >= 99)

3670 
cout
 << "----------------SUBSMƒÁ”ed-----------------" << 
’dl
;

3674 
pošŒ
 = 
h—d
;

3675 
i
 = 1; i <ğ
cŞ
; i++)

3677 
‹mp1
 = 
z”o
;

3678 
‹mp2
 = 
z”o
;

3679 
j
 = 1; j <ğ
nsub
; j++)

3681 
k
 = 
šd
[
j
];

3682 
idx
 = 
	`g‘Idx
(
k
,
pošŒ
,
n
);

3683 
‹mp1
 +ğ
wy
[
idx
]*
d
[
j
];

3684 
‹mp2
 +ğ
ws
[
idx
]*
d
[
j
];

3686 
wv
[
i
] = 
‹mp1
;

3687 
wv
[
cŞ
 + 
i
] = 
th‘a
*
‹mp2
;

3688 
pošŒ
 =…ošŒ%
m
 + 1;

3694 
m2
 = 2*
m
;

3695 
cŞ2
 = 2*
cŞ
;

3696 
	`dŒ¦
(
wn
,
m2
,
cŞ2
,
wv
,11,
šfo
);

3698 ià(
šfo
 != 0) ;

3699 
i
 = 1; i <ğ
cŞ
; i++)

3700 
wv
[
i
] = -wv[i];

3701 
	`dŒ¦
(
wn
,
m2
,
cŞ2
,
wv
,01,
šfo
);

3703 ià(
šfo
 != 0) ;

3707 
pošŒ
 = 
h—d
;

3708 
jy
 = 1; jy <ğ
cŞ
; jy++)

3710 
js
 = 
cŞ
 + 
jy
;

3711 
i
 = 1; i <ğ
nsub
; i++)

3713 
k
 = 
šd
[
i
];

3714 
idx
 = 
	`g‘Idx
(
k
,
pošŒ
,
n
);

3715 
d
[
i
] +ğ
wy
[
idx
]*
wv
[
jy
]/
th‘a
 + 
ws
[idx]*wv[
js
];

3717 
pošŒ
 =…ošŒ%
m
 + 1;

3720 
i
 = 1; i <ğ
nsub
; i++)

3721 
d
[
i
] /ğ
th‘a
;

3725 
®pha
 = 
Úe
;

3726 
‹mp1
 = 
®pha
;

3728 
i
 = 1; i <ğ
nsub
; i++)

3730 
k
 = 
šd
[
i
];

3731 
dk
 = 
d
[
i
];

3732 ià(
nbd
[
k
] != 0)

3734 ià(
dk
 < 
z”o
 && 
nbd
[
k
] <= 2)

3736 
‹mp2
 = 
l
[
k
] - 
x
[k];

3737 ià(
‹mp2
 >ğ
z”o
)

3738 
‹mp1
 = 
z”o
;

3740 ià(
dk
*
®pha
 < 
‹mp2
)

3741 
‹mp1
 = 
‹mp2
/
dk
;

3744 ià(
dk
 > 
z”o
 && 
nbd
[
k
] >= 2)

3746 
‹mp2
 = 
u
[
k
] - 
x
[k];

3747 ià(
‹mp2
 <ğ
z”o
)

3748 
‹mp1
 = 
z”o
;

3750 ià(
dk
*
®pha
 > 
‹mp2
)

3751 
‹mp1
 = 
‹mp2
/
dk
;

3753 ià(
‹mp1
 < 
®pha
)

3755 
®pha
 = 
‹mp1
;

3756 
ibd
 = 
i
;

3762 ià(
®pha
 < 
Úe
)

3764 
dk
 = 
d
[
ibd
];

3765 
k
 = 
šd
[
ibd
];

3766 ià(
dk
 > 
z”o
)

3768 
x
[
k
] = 
u
[k];

3769 
d
[
ibd
] = 
z”o
;

3772 ià(
dk
 < 
z”o
)

3774 
x
[
k
] = 
l
[k];

3775 
d
[
ibd
] = 
z”o
;

3779 
i
 = 1; i <ğ
nsub
; i++)

3781 
k
 = 
šd
[
i
];

3782 
x
[
k
] +ğ
®pha
*
d
[
i
];

3785 ià(
ršt
 >= 99)

3787 ià(
®pha
 < 
Úe
)

3788 
cout
 << "ALPHA = " << 
®pha
 << " backŒackØthBOX" << 
’dl
;

3790 
cout
 << "SM sŞutiÚ insidthbox" << 
’dl
;

3792 ià(
ršt
 >100)

3794 
cout
 << "Subspace solution X = ";

3795 
i
 = 1; i <ğ
n
; i++è
cout
 << 
x
[i] << " ";

3796 
cout
 << 
’dl
;

3800 ià(
®pha
 < 
Úe
)

3801 
iwÜd
 = 1;

3803 
iwÜd
 = 0;

3805 ià(
ršt
 >= 99)

3806 
cout
 << "----------------ex™ SUBSM --------------------" << 
’dl
;

3807 
	}
}

3943 
	$dc¤ch
(& 
f
, & 
g
, & 
¡p
, cÚ¡ & 
áŞ
,

3944 cÚ¡ & 
gtŞ
, cÚ¡ & 
xtŞ
, cÚ¡ & 
¡pmš
,

3945 cÚ¡ & 
¡pmax
, * cÚ¡ & 
sk
, * cÚ¡ & 
i§ve
,

3946 * cÚ¡ & 
d§ve
)

3948 
z”o
=0.0,
p5
=0.5,
p66
=0.66;

3949 
xŒ­l
=1.1,
xŒ­u
=4.0;

3951 
boŞ
 
b¿ckt
;

3952 
¡age
;

3953 
fš™
,
áe¡
,
fm
,
fx
,
fxm
,
fy
,
fym
,
gš™
,
g‹¡
,

3954 
gm
,
gx
,
gxm
,
gy
,
gym
,
¡x
,
¡y
,
¡mš
,
¡max
,
width
,
width1
;

3958 ià(
	`¡ºcmp
(
sk
,"START",5)==0)

3962 ià(
¡p
 < 
¡pmš
è
	`¡rıy
(
sk
, "ERROR: STP < STPMIN");

3963 ià(
¡p
 > 
¡pmax
è
	`¡rıy
(
sk
, "ERROR: STP > STPMAX");

3964 ià(
g
 >
z”o
è
	`¡rıy
(
sk
, "ERROR: INITIAL G >ZERO");

3965 ià(
áŞ
 < 
z”o
è
	`¡rıy
(
sk
, "ERROR: FTOL < ZERO");

3966 ià(
gtŞ
 < 
z”o
è
	`¡rıy
(
sk
, "ERROR: GTOL < ZERO");

3967 ià(
xtŞ
 < 
z”o
è
	`¡rıy
(
sk
, "ERROR: XTOL < ZERO");

3968 ià(
¡pmš
 < 
z”o
è
	`¡rıy
(
sk
, "ERROR: STPMIN < ZERO");

3969 ià(
¡pmax
 < 
¡pmš
è
	`¡rıy
(
sk
, "ERROR: STPMAX < STPMIN");

3972 ià(
	`¡ºcmp
(
sk
,"ERROR",5)==0) ;

3976 
b¿ckt
 = 
çl£
;

3977 
¡age
 = 1;

3978 
fš™
 = 
f
;

3979 
gš™
 = 
g
;

3980 
g‹¡
 = 
áŞ
*
gš™
;

3981 
width
 = 
¡pmax
 - 
¡pmš
;

3982 
width1
 = 
width
/
p5
;

3991 
¡x
 = 
z”o
;

3992 
fx
 = 
fš™
;

3993 
gx
 = 
gš™
;

3994 
¡y
 = 
z”o
;

3995 
fy
 = 
fš™
;

3996 
gy
 = 
gš™
;

3997 
¡mš
 = 
z”o
;

3998 
¡max
 = 
¡p
 + 
xŒ­u
*stp;

3999 
	`¡rıy
(
sk
, "FG");

4001 
gÙo1000
;

4007 ià(
i§ve
[1] == 1)

4008 
b¿ckt
 = 
Œue
;

4010 
b¿ckt
 = 
çl£
;

4012 
¡age
 = 
i§ve
[2];

4013 
gš™
 = 
d§ve
[1];

4014 
g‹¡
 = 
d§ve
[2];

4015 
gx
 = 
d§ve
[3];

4016 
gy
 = 
d§ve
[4];

4017 
fš™
 = 
d§ve
[5];

4018 
fx
 = 
d§ve
[6];

4019 
fy
 = 
d§ve
[7];

4020 
¡x
 = 
d§ve
[8];

4021 
¡y
 = 
d§ve
[9];

4022 
¡mš
 = 
d§ve
[10];

4023 
¡max
 = 
d§ve
[11];

4024 
width
 = 
d§ve
[12];

4025 
width1
 = 
d§ve
[13];

4031 
áe¡
 = 
fš™
 + 
¡p
*
g‹¡
;

4032 ià(
¡age
 =ğ1 && 
f
 <ğ
áe¡
 && 
g
 >ğ
z”o
) stage = 2;

4036 ià(
b¿ckt
 && (
¡p
 <ğ
¡mš
 || s >ğ
¡max
))

4037 
	`¡rıy
(
sk
, "WARNING: ROUNDING ERRORS PREVENT PROGRESS");

4038 ià(
b¿ckt
 && 
¡max
 - 
¡mš
 <ğ
xtŞ
*stmax)

4039 
	`¡rıy
(
sk
, "WARNING: XTOL TEST SATISFIED");

4040 ià(
¡p
 =ğ
¡pmax
 && 
f
 <ğ
áe¡
 && 
g
 <ğ
g‹¡
)

4041 
	`¡rıy
(
sk
, "WARNING: STP = STPMAX");

4042 ià(
¡p
 =ğ
¡pmš
 && (
f
 > 
áe¡
 || 
g
 >ğ
g‹¡
))

4043 
	`¡rıy
(
sk
, "WARNING: STP = STPMIN");

4047 ià(
f
 <ğ
áe¡
 && 
	`çbs
(
g
è<ğ
gtŞ
*(-
gš™
))

4048 
	`¡rıy
(
sk
, "CONVERGENCE");

4052 ià(
	`¡ºcmp
(
sk
,"WARN",4)==0 || sŒncmpÑask,"CONV",4)==0è
gÙo1000
;

4058 ià(
¡age
 =ğ1 && 
f
 <ğ
fx
 && f > 
áe¡
)

4062 
fm
 = 
f
 - 
¡p
*
g‹¡
;

4063 
fxm
 = 
fx
 - 
¡x
*
g‹¡
;

4064 
fym
 = 
fy
 - 
¡y
*
g‹¡
;

4065 
gm
 = 
g
 - 
g‹¡
;

4066 
gxm
 = 
gx
 - 
g‹¡
;

4067 
gym
 = 
gy
 - 
g‹¡
;

4071 
	`dc¡•
(
¡x
,
fxm
,
gxm
,
¡y
,
fym
,
gym
,
¡p
,
fm
,
gm
,

4072 
b¿ckt
,
¡mš
,
¡max
);

4076 
fx
 = 
fxm
 + 
¡x
*
g‹¡
;

4077 
fy
 = 
fym
 + 
¡y
*
g‹¡
;

4078 
gx
 = 
gxm
 + 
g‹¡
;

4079 
gy
 = 
gym
 + 
g‹¡
;

4085 
	`dc¡•
(
¡x
,
fx
,
gx
,
¡y
,
fy
,
gy
,
¡p
,
f
,
g
,

4086 
b¿ckt
,
¡mš
,
¡max
);

4091 ià(
b¿ckt
)

4093 ià(
	`çbs
(
¡y
-
¡x
è>ğ
p66
*
width1
è
¡p
 = stx + 
p5
*(sty - stx);

4094 
width1
 = 
width
;

4095 
width
 = 
	`çbs
(
¡y
-
¡x
);

4100 ià(
b¿ckt
)

4102 
¡mš
 = 
	`mš
(
¡x
,
¡y
);

4103 
¡max
 = 
	`max
(
¡x
,
¡y
);

4107 
¡mš
 = 
¡p
 + 
xŒ­l
*(¡°- 
¡x
);

4108 
¡max
 = 
¡p
 + 
xŒ­u
*(¡°- 
¡x
);

4113 
¡p
 = 
	`max
(¡p,
¡pmš
);

4114 
¡p
 = 
	`mš
(¡p,
¡pmax
);

4119 ià((
b¿ckt
 && (
¡p
 <ğ
¡mš
 || s >ğ
¡max
))

4120 || (
b¿ckt
 && 
¡max
-
¡mš
 <ğ
xtŞ
*¡max)è
¡p
 = 
¡x
;

4123 
	`¡rıy
(
sk
,"FG");

4125 
gÙo1000
:

4129 ià(
b¿ckt
)

4130 
i§ve
[1] = 1;

4132 
i§ve
[1] = 0;

4134 
i§ve
[2] = 
¡age
;

4135 
d§ve
[1] = 
gš™
;

4136 
d§ve
[2] = 
g‹¡
;

4137 
d§ve
[3] = 
gx
;

4138 
d§ve
[4] = 
gy
;

4139 
d§ve
[5] = 
fš™
;

4140 
d§ve
[6] = 
fx
;

4141 
d§ve
[7] = 
fy
;

4142 
d§ve
[8] = 
¡x
;

4143 
d§ve
[9] = 
¡y
;

4144 
d§ve
[10] = 
¡mš
;

4145 
d§ve
[11] = 
¡max
;

4146 
d§ve
[12] = 
width
;

4147 
d§ve
[13] = 
width1
;

4148 
	}
}

4244 
	$dc¡•
(& 
¡x
, & 
fx
, & 
dx
, & 
¡y
, & 
fy
,

4245 & 
dy
, & 
¡p
, cÚ¡ & 
å
, cÚ¡ & 
dp
,

4246 
boŞ
& 
b¿ckt
, cÚ¡ & 
¡pmš
, cÚ¡ & 
¡pmax
)

4248 
z”o
=0.0,
p66
=0.66,
two
=2.0,
th»e
=3.0;

4249 
gamma
,
p
,
q
,
r
,
s
,
sgnd
,
¡pc
,
¡pf
,
¡pq
,
th‘a
;

4251 
sgnd
 = 
dp
*(
dx
/
	`çbs
(dx));

4258 ià(
å
 > 
fx
)

4260 
th‘a
 = 
th»e
*(
fx
 - 
å
)/(
¡p
 - 
¡x
è+ 
dx
 + 
dp
;

4261 
s
 = 
	`max
(
	`çbs
(
th‘a
),çbs(
dx
),çbs(
dp
));

4262 
gamma
 = 
s
*
	`sq¹
Ğ(
th‘a
/s)*Ñh‘a/sè- (
dx
/s)*(
dp
/s) );

4263 ià(
¡p
 < 
¡x
è
gamma
 = -gamma;

4264 
p
 = (
gamma
 - 
dx
è+ 
th‘a
;

4265 
q
 = ((
gamma
 - 
dx
è+ gammaè+ 
dp
;

4266 
r
 = 
p
/
q
;

4267 
¡pc
 = 
¡x
 + 
r
*(
¡p
 - stx);

4268 
¡pq
 = 
¡x
 + ((
dx
/((
fx
 - 
å
)/(
¡p
 - stxè+ dx))/
two
)*(stp - stx);

4269 ià(
	`çbs
(
¡pc
-
¡x
è< fabs(
¡pq
-stx))

4270 
¡pf
 = 
¡pc
;

4272 
¡pf
 = 
¡pc
 + (
¡pq
 - sc)/
two
;

4273 
b¿ckt
 = 
Œue
;

4282 ià(
sgnd
 < 
z”o
)

4284 
th‘a
 = 
th»e
*(
fx
 - 
å
)/(
¡p
 - 
¡x
è+ 
dx
 + 
dp
;

4285 
s
 = 
	`max
(
	`çbs
(
th‘a
),çbs(
dx
),çbs(
dp
));

4286 
gamma
 = 
s
*
	`sq¹
Ğ(
th‘a
/s)*Ñh‘a/sè- (
dx
/s)*(
dp
/s) );

4287 ià(
¡p
 > 
¡x
è
gamma
 = -gamma;

4288 
p
 = (
gamma
 - 
dp
è+ 
th‘a
;

4289 
q
 = ((
gamma
 - 
dp
è+ gammaè+ 
dx
;

4290 
r
 = 
p
/
q
;

4291 
¡pc
 = 
¡p
 + 
r
*(
¡x
 - stp);

4292 
¡pq
 = 
¡p
 + (
dp
/(d°- 
dx
))*(
¡x
 - stp);

4293 ià(
	`çbs
(
¡pc
-
¡p
è> fabs(
¡pq
-stp))

4294 
¡pf
 = 
¡pc
;

4296 
¡pf
 = 
¡pq
;

4297 
b¿ckt
 = 
Œue
;

4304 ià(
	`çbs
(
dp
è< fabs(
dx
))

4311 
th‘a
 = 
th»e
*(
fx
 - 
å
)/(
¡p
 - 
¡x
è+ 
dx
 + 
dp
;

4312 
s
 = 
	`max
(
	`çbs
(
th‘a
),çbs(
dx
),çbs(
dp
));

4317 
gamma
 = 
s
*
	`sq¹
(
	`max
(
z”o
, (
th‘a
/s)*Ñh‘a/s)-(
dx
/s)*(
dp
/s)));

4318 ià(
¡p
 > 
¡x
è
gamma
 = -gamma;

4319 
p
 = (
gamma
 - 
dp
è+ 
th‘a
;

4320 
q
 = (
gamma
 + (
dx
 - 
dp
)) + gamma;

4321 
r
 = 
p
/
q
;

4322 ià(
r
 < 
z”o
 && 
gamma
 != zero)

4323 
¡pc
 = 
¡p
 + 
r
*(
¡x
 - stp);

4325 ià(
¡p
 > 
¡x
)

4326 
¡pc
 = 
¡pmax
;

4328 
¡pc
 = 
¡pmš
;

4330 
¡pq
 = 
¡p
 + (
dp
/(d°- 
dx
))*(
¡x
 - stp);

4332 ià(
b¿ckt
)

4339 ià(
	`çbs
(
¡pc
-
¡p
è< fabs(
¡pq
-stp))

4340 
¡pf
 = 
¡pc
;

4342 
¡pf
 = 
¡pq
;

4344 ià(
¡p
 > 
¡x
)

4345 
¡pf
 = 
	`mš
(
¡p
+
p66
*(
¡y
-stp),stpf);

4347 
¡pf
 = 
	`max
(
¡p
+
p66
*(
¡y
-stp),stpf);

4355 ià(
	`çbs
(
¡pc
-
¡p
è> fabs(
¡pq
-stp))

4356 
¡pf
 = 
¡pc
;

4358 
¡pf
 = 
¡pq
;

4360 
¡pf
 = 
	`mš
(
¡pmax
,stpf);

4361 
¡pf
 = 
	`max
(
¡pmš
,stpf);

4370 ià(
b¿ckt
)

4372 
th‘a
 = 
th»e
*(
å
 - 
fy
)/(
¡y
 - 
¡p
è+ 
dy
 + 
dp
;

4373 
s
 = 
	`max
(
	`çbs
(
th‘a
),çbs(
dy
),çbs(
dp
));

4374 
gamma
 = 
s
*
	`sq¹
((
th‘a
/s)*Ñh‘a/sè- (
dy
/s)*(
dp
/s));

4375 ià(
¡p
 > 
¡y
è
gamma
 = -gamma;

4376 
p
 = (
gamma
 - 
dp
è+ 
th‘a
;

4377 
q
 = ((
gamma
 - 
dp
è+ gammaè+ 
dy
;

4378 
r
 = 
p
/
q
;

4379 
¡pc
 = 
¡p
 + 
r
*(
¡y
 - stp);

4380 
¡pf
 = 
¡pc
;

4383 ià(
¡p
 > 
¡x
)

4384 
¡pf
 = 
¡pmax
;

4386 
¡pf
 = 
¡pmš
;

4391 ià(
å
 > 
fx
)

4393 
¡y
 = 
¡p
;

4394 
fy
 = 
å
;

4395 
dy
 = 
dp
;

4399 ià(
sgnd
 < 
z”o
)

4401 
¡y
 = 
¡x
;

4402 
fy
 = 
fx
;

4403 
dy
 = 
dx
;

4405 
¡x
 = 
¡p
;

4406 
fx
 = 
å
;

4407 
dx
 = 
dp
;

4412 
¡p
 = 
¡pf
;

4413 
	}
}

4446 
	$dÄm2
(& 
n
,* cÚ¡ & 
x
, & 
šcx
)

4449 
sÿË
 = 0.0;

4450 
ddÄm2
 = 0.0;

4452 
i
 = 1; i <ğ
n
; i+=
šcx
)

4453 
sÿË
 = 
	`max
(sÿË, 
	`çbs
(
x
[
i
]));

4455 ià(
sÿË
 =ğ0.0è 
ddÄm2
;

4457 
i
 = 1; i <ğ
n
; i+=
šcx
)

4458 
ddÄm2
 +ğ(
x
[
i
]/
sÿË
)*(x[i]/scale);

4460 
ddÄm2
 = 
sÿË
*
	`sq¹
(ddnrm2);

4461  
ddÄm2
;

4462 
	}
}

4495 
	$dpm•s
()

4498 
ib‘a
,
œnd
,
™
,
™emp
,
Ãg•
;

4499 
a
,
b
,
b‘a
,
b‘aš
,
b‘ah
,
‹mp
,
‹m·
,
‹mp1
,

4500 
z”o
=0.0,
Úe
=1.0,
two
=2.0;

4501 
ddpm•s
;

4505 
a
 = 
Úe
;

4506 
b
 = 
Úe
;

4507 
gÙo10
:

4508 
a
 =‡ +‡;

4509 
‹mp
 = 
a
 + 
Úe
;

4510 
‹mp1
 = 
‹mp
 - 
a
;

4511 ià(
‹mp1
 - 
Úe
 =ğ
z”o
è
gÙo10
;

4513 
gÙo20
:

4514 
b
 = b + b;

4515 
‹mp
 = 
a
 + 
b
;

4516 
™emp
 = (
‹mp
 - 
a
);

4517 ià(
™emp
 =ğ0è
gÙo20
;

4518 
ib‘a
 = 
™emp
;

4519 
b‘a
 = (
ib‘a
);

4523 
™
 = 0;

4524 
b
 = 
Úe
;

4525 
gÙo30
:

4526 
™
 += 1;

4527 
b
 *ğ
b‘a
;

4528 
‹mp
 = 
b
 + 
Úe
;

4529 
‹mp1
 = 
‹mp
 - 
b
;

4530 ià(
‹mp1
 - 
Úe
 =ğ
z”o
è
gÙo30
;

4531 
œnd
 = 0;

4532 
b‘ah
 = 
b‘a
/
two
;

4533 
‹mp
 = 
a
 + 
b‘ah
;

4534 ià(
‹mp
 - 
a
 !ğ
z”o
è
œnd
 = 1;

4535 
‹m·
 = 
a
 + 
b‘a
;

4536 
‹mp
 = 
‹m·
 + 
b‘ah
;

4537 ià((
œnd
 =ğ0è&& (
‹mp
 - 
‹m·
 !ğ
z”o
)) irnd = 2;

4541 
Ãg•
 = 
™
 + 3;

4542 
b‘aš
 = 
Úe
/
b‘a
;

4543 
a
 = 
Úe
;

4544 
i
 = 1; i <ğ
Ãg•
; i++)

4545 
a
 *ğ
b‘aš
;

4547 
gÙo50
:

4548 
‹mp
 = 
Úe
 + 
a
;

4549 ià(
‹mp
 - 
Úe
 !ğ
z”o
è
gÙo60
;

4550 
a
 *ğ
b‘a
;

4551 
gÙo50
;

4553 
gÙo60
:

4554 
ddpm•s
 = 
a
;

4555 ià((
ib‘a
 =ğ2è|| (
œnd
 =ğ0)è
gÙo70
;

4556 
a
 = (a*(
Úe
 +‡))/
two
;

4557 
‹mp
 = 
Úe
 + 
a
;

4558 ià(
‹mp
 - 
Úe
 !ğ
z”o
è
ddpm•s
 = 
a
;

4560 
gÙo70
:

4561  
ddpm•s
;

4562 
	}
}

4569 
	$daxpy
(cÚ¡ & 
n
, cÚ¡ & 
da
, cÚ¡ * cÚ¡ & 
dx
,

4570 cÚ¡ & 
šcx
, * cÚ¡ & 
dy
, cÚ¡ & 
šcy
)

4573 
ix
,
iy
,
m
,
mp1
;

4574 ià(
n
 <= 0) ;

4575 ià(
da
 == 0.0) ;

4576 if(
šcx
==1 && 
šcy
==1è
gÙo20
;

4581 
ix
 = 1;

4582 
iy
 = 1;

4583 if(
šcx
 < 0è
ix
 = (-
n
+1)*incx + 1;

4584 if(
šcy
 < 0è
iy
 = (-
n
+1)*incy + 1;

4586 
i
 = 1; i <ğ
n
; i++)

4588 
dy
[
iy
] +ğ
da
*
dx
[
ix
];

4589 
ix
 +ğ
šcx
;

4590 
iy
 +ğ
šcy
;

4597 
gÙo20
:

4598 
m
 = 
n
%4;

4599 ià(
m
 =ğ0è
gÙo40
;

4601 
i
 = 1; i <ğ
m
; i++)

4602 
dy
[
i
] +ğ
da
*
dx
[i];

4604 ià(
n
 < 4) ;

4606 
gÙo40
:

4607 
mp1
 = 
m
 + 1;

4609 
i
 = 
mp1
; i <ğ
n
; i+=4)

4611 
dy
[
i
] +ğ
da
*
dx
[i];

4612 
dy
[
i
 + 1] +ğ
da
*
dx
[i + 1];

4613 
dy
[
i
 + 2] +ğ
da
*
dx
[i + 2];

4614 
dy
[
i
 + 3] +ğ
da
*
dx
[i + 3];

4616 
	}
}

4623 
	$dcİy
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
dx
, cÚ¡ & 
šcx
,

4624 * cÚ¡ & 
dy
,cÚ¡ & 
šcy
)

4627 
ix
,
iy
,
m
,
mp1
;

4629 ià(
n
 <= 0) ;

4630 if(
šcx
==1 && 
šcy
==1è
gÙo20
;

4635 
ix
 = 1;

4636 
iy
 = 1;

4637 ià(
šcx
 < 0è
ix
 = (-
n
+1)*incx + 1;

4638 ià(
šcy
 < 0è
iy
 = (-
n
+1)*incy + 1;

4639 
i
 = 1; i <ğ
n
; i++)

4641 
dy
[
iy
] = 
dx
[
ix
];

4642 
ix
 +ğ
šcx
;

4643 
iy
 +ğ
šcy
;

4651 
gÙo20
:

4652 
m
 = 
n
%7;

4653 ià(
m
 =ğ0è
gÙo40
;

4654 
i
 = 1; i <ğ
m
; i++)

4655 
dy
[
i
] = 
dx
[i];

4657 ià(
n
 < 7) ;

4659 
gÙo40
:

4660 
mp1
 = 
m
 + 1;

4661 
i
 = 
mp1
; i <ğ
n
; i+=7)

4663 
dy
[
i
] = 
dx
[i];

4664 
dy
[
i
 + 1] = 
dx
[i + 1];

4665 
dy
[
i
 + 2] = 
dx
[i + 2];

4666 
dy
[
i
 + 3] = 
dx
[i + 3];

4667 
dy
[
i
 + 4] = 
dx
[i + 4];

4668 
dy
[
i
 + 5] = 
dx
[i + 5];

4669 
dy
[
i
 + 6] = 
dx
[i + 6];

4671 
	}
}

4678 
	$ddÙ
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
dx
, cÚ¡ & 
šcx
,

4679 cÚ¡ * cÚ¡ & 
dy
, cÚ¡ & 
šcy
)

4681 
d‹mp
;

4683 
ix
,
iy
,
m
,
mp1
;

4685 
dddÙ
 = 0.0;

4686 
d‹mp
 = 0.0;

4687 ià(
n
 <ğ0è 
dddÙ
;

4688 ià(
šcx
==1 && 
šcy
==1è
gÙo20
;

4693 
ix
 = 1;

4694 
iy
 = 1;

4695 ià(
šcx
 < 0è
ix
 = (-
n
+1)*incx + 1;

4696 ià(
šcy
 < 0è
iy
 = (-
n
+1)*incy + 1;

4698 
i
 = 1; i <ğ
n
; i++)

4700 
d‹mp
 +ğ
dx
[
ix
]*
dy
[
iy
];

4701 
ix
 +ğ
šcx
;

4702 
iy
 +ğ
šcy
;

4704 
dddÙ
 = 
d‹mp
;

4705  
dddÙ
;

4711 
gÙo20
:

4712 
m
 = 
n
%5;

4713 ià(
m
 =ğ0è
gÙo40
;

4715 
i
 = 1; i <ğ
m
; i++)

4716 
d‹mp
 +ğ
dx
[
i
]*
dy
[i];

4718 ifĞ
n
 < 5 ) 
gÙo60
;

4720 
gÙo40
:

4721 
mp1
 = 
m
 + 1;

4724 
i
 = 
mp1
; i <ğ
n
; i+=5)

4726 
d‹mp
 +ğ
dx
[
i
]*
dy
[i] + dx[i + 1]*dy[i + 1] +

4727 
dx
[
i
 + 2]*
dy
[i + 2] + dx[i + 3]*dy[i + 3] + dx[i + 4]*dy[i + 4];

4730 
gÙo60
:

4731 
dddÙ
 = 
d‹mp
;

4732  
dddÙ
;

4733 
	}
}

4778 
	$dpoç
(* cÚ¡ & 
a
, cÚ¡ & 
lda
, cÚ¡ & 
n
, & 
šfo
,

4779 
boŞ
 
sm®ËrM©rix
=
çl£
)

4781 
t
;

4782 
s
;

4784 
jm1
;

4785 
idx
;

4788 
j
 = 1; j <ğ
n
; j++)

4790 
šfo
 = 
j
;

4791 
s
 = 0.0;

4792 
jm1
 = 
j
 - 1;

4793 ià(
jm1
 < 1è
gÙo20
;

4794 
k
 = 1; k <ğ
jm1
; k++)

4796 
idx
 = 
	`g‘Idx
(
k
,
j
,
lda
);

4797 
t
 = 
a
[
idx
] - 
	`ddÙ
(
k
-1,&×[
	`g‘Idx
(1,k,
lda
)-1]),1,

4798 &(
a
[
	`g‘Idx
(1,
j
,
lda
)-1]),1);

4799 
t
 =/
a
[
	`g‘Idx
(
k
,k,
lda
)];

4800 
a
[
idx
] = 
t
;

4801 
s
 +ğ
t
*t;

4804 
gÙo20
:

4805 
idx
 = 
	`g‘Idx
(
j
,j,
lda
);

4806 
s
 = 
a
[
idx
] - s;

4809 ià(
s
 <ğ0.0è
gÙo40
;

4810 
a
[
idx
] = 
	`sq¹
(
s
);

4812 
šfo
 = 0;

4813 
gÙo40
:

4814 
t
 = 0;

4815 
	}
}

4823 
	$dsÿl
(cÚ¡ & 
n
, cÚ¡ & 
da
, * cÚ¡ & 
dx
,

4824 cÚ¡ & 
šcx
)

4827 
m
,
mp1
,
nšcx
;

4829 ià(
n
 <ğ0 || 
šcx
 <= 0) ;

4830 ià(
šcx
 =ğ1è
gÙo20
;

4834 
nšcx
 = 
n
*
šcx
;

4836 
i
 = 1; i <ğ
nšcx
; i+=
šcx
)

4837 
dx
[
i
] = 
da
*dx[i];

4844 
gÙo20
:

4845 
m
 = 
n
%5;

4846 ià(
m
 =ğ0è
gÙo40
;

4848 
i
 = 1; i <ğ
m
; i++)

4849 
dx
[
i
] = 
da
*dx[i];

4851 ià(
n
 < 5) ;

4853 
gÙo40
:

4854 
mp1
 = 
m
 + 1;

4855 
i
 = 
mp1
; i <ğ
n
; i+=5)

4857 
dx
[
i
] = 
da
*dx[i];

4858 
dx
[
i
 + 1] = 
da
*dx[i + 1];

4859 
dx
[
i
 + 2] = 
da
*dx[i + 2];

4860 
dx
[
i
 + 3] = 
da
*dx[i + 3];

4861 
dx
[
i
 + 4] = 
da
*dx[i + 4];

4863 
	}
}

4920 
	$dŒ¦
(* cÚ¡ & 
t
, cÚ¡ & 
ldt
, cÚ¡ & 
n
,

4921 * cÚ¡ &
b
, cÚ¡ & 
job
, & 
šfo
)

4923 
‹mp
;

4924 
cÿ£
,
j
;

4931 
šfo
 = 1; infØ<ğ
n
; info++)

4934 ià(
t
[
	`g‘Idx
(
šfo
,šfo,
ldt
)] =ğ0.0è
gÙo150
;

4936 
šfo
 = 0;

4940 
cÿ£
 = 1;

4941 ià(
job
%10 !ğ0è
cÿ£
 = 2;

4942 ià((
job
%100)/10 !ğ0è
cÿ£
 += 2;

4943 ià(
cÿ£
==1è
gÙo20
;

4944 ià(
cÿ£
==2è
gÙo50
;

4945 ià(
cÿ£
==3è
gÙo80
;

4946 ià(
cÿ£
==4è
gÙo110
;

4950 
gÙo20
:

4951 
b
[1] /ğ
t
[
	`g‘Idx
(1,1,
ldt
)];

4952 ià(
n
 < 2è
gÙo40
;

4953 
j
 = 2; j <ğ
n
; j++)

4955 
‹mp
 = -
b
[
j
-1];

4956 
	`daxpy
(
n
-
j
+1,
‹mp
,&(
t
[
	`g‘Idx
(j,j-1,
ldt
)-1]),1,&(
b
[j-1]),1);

4957 
b
[
j
] /ğ
t
[
	`g‘Idx
(j,j,
ldt
)];

4959 
gÙo40
:

4960 
gÙo140
;

4964 
gÙo50
:

4965 
b
[
n
] /ğ
t
[
	`g‘Idx
Ò,n,
ldt
)];

4966 ià(
n
 < 2è
gÙo70
;

4967 
jj
 = 2; jj <ğ
n
; jj++)

4969 
j
 = 
n
 - 
jj
 + 1;

4970 
‹mp
 = -
b
[
j
+1];

4971 
	`daxpy
(
j
,
‹mp
,&(
t
[
	`g‘Idx
(1,j+1,
ldt
)-1]),1,&(
b
[1-1]),1);

4972 
b
[
j
] /ğ
t
[
	`g‘Idx
(j,j,
ldt
)];

4975 
gÙo70
:

4976 
gÙo140
;

4980 
gÙo80
:

4981 
b
[
n
] /ğ
t
[
	`g‘Idx
Ò,n,
ldt
)];

4982 ià(
n
 < 2è
gÙo100
;

4983 
jj
 = 2; jj <ğ
n
; jj++)

4985 
j
 = 
n
 - 
jj
 + 1;

4986 
b
[
j
] = b[j] - 
	`ddÙ
(
jj
-1,&(
t
[
	`g‘Idx
(j+1,j,
ldt
)-1]),1,&(b[j+1-1]),1);

4987 
b
[
j
] /ğ
t
[
	`g‘Idx
(j,j,
ldt
)];

4989 
gÙo100
:

4990 
gÙo140
;

4994 
gÙo110
:

4995 
b
[1] /ğ
t
[
	`g‘Idx
(1,1,
ldt
)];

4996 ià(
n
 < 2è
gÙo130
;

4997 
j
 = 2; j <ğ
n
; j++)

4999 
b
[
j
] = b[j] - 
	`ddÙ
(j-1,&(
t
[
	`g‘Idx
(1,j,
ldt
)-1]),1,&(b[1-1]),1);

5000 
b
[
j
] /ğ
t
[
	`g‘Idx
(j,j,
ldt
)];

5003 
gÙo130
:

5005 ià(
çl£
);

5007 
gÙo140
:

5009 ià(
çl£
);

5011 
gÙo150
:

5013 ià(
çl£
);

5015 
	}
}

5017 
	g´iv©e
:

5018 
Tim”
 
tim”_
;

	@learnwts/learnwts.cpp

67 
	~<f¡»am
>

68 
	~<io¡»am
>

69 
	~<s¡»am
>

70 
	~"¬gum’ts.h
"

71 
	~"šã»nû¬gs.h
"

72 
	~"lbfgsb.h
"

73 
	~"disüimš©iv–—º”.h
"

74 
	~"Ë¬nwts.h
"

75 
	~"maxw®k§t.h
"

76 
	~"mc§t.h
"

77 
	~"gibbs§m¶”.h
"

78 
	~"simuÏ‹d‹m³ršg.h
"

79 
	~"lbgšã»nû.h
"

80 
	~"lv·¿ms.h
"

83 
boŞ
 
	gPRINT_CLAUSE_DURING_COUNT
 = 
Œue
;

85 cÚ¡ 
	gDISC_DEFAULT_STD_DEV
 = 2;

86 cÚ¡ 
	gGEN_DEFAULT_STD_DEV
 = 100;

89 
boŞ
 
	gdiscL—º
 = 
çl£
;

90 
boŞ
 
	gg’L—º
 = 
çl£
;

91 * 
	goutMLNFe
 = 
NULL
;

92 * 
	gdbFes
 = 
NULL
;

93 * 
	gnÚEvidP»dsSŒ
 = 
NULL
;

94 
boŞ
 
	gnoAddUn™CÏu£s
 = 
çl£
;

95 
boŞ
 
	gmuÉËD©aba£s
 = 
çl£
;

96 
boŞ
 
	gš™W™hLogOdds
 = 
çl£
;

97 
boŞ
 
	gisQu”yEvid’û
 = 
çl£
;

99 
boŞ
 
	gaP”iodicMLNs
 = 
çl£
;

101 
boŞ
 
	gnoPriÜ
 = 
çl£
;

102 
	g´iÜM—n
 = 0;

103 
	g´iÜStdDev
 = -1;

106 
	gmaxI‹r
 = 10000;

107 
	gcÚvTh»sh
 = 1e-5;

108 
boŞ
 
	gnoEqu®P»dWt
 = 
çl£
;

111 
	gnumI‹r
 = 100;

112 
	gmaxSec
 = 0;

113 
	gmaxMš
 = 0;

114 
	gmaxHour
 = 0;

115 
	gË¬nšgR©e
 = 0.001;

116 
	gmom’tum
 = 0.0;

117 
boŞ
 
	gw™hEM
 = 
çl£
;

118 * 
	gaInãrSŒ
 = 
NULL
;

119 
boŞ
 
	gnoU£P”Weight
 = 
çl£
;

120 
boŞ
 
	gu£NewtÚ
 = 
çl£
;

121 
boŞ
 
	gu£CG
 = 
çl£
;

122 
boŞ
 
	gu£VP
 = 
çl£
;

123 
	gdiscM‘hod
 = 
Disüimš©iveL—º”
::
CG
;

124 
	gcg_Ïmbda
 = 100;

125 
	gcg_max_Ïmbda
 = 
DBL_MAX
;

126 
	gmš_Î_chªge
 = 0.00001;

127 
boŞ
 
	gcg_nİ»cÚd
 = 
çl£
;

128 
	gamwsMaxSub£qu’tS‹ps
 = -1;

129 * 
	gašDBLi¡Fe
 = 
NULL
;

130 
boŞ
 
	gaisLiáedGibbs
 = 
çl£
;

131 
boŞ
 
	gaisLiáedIS
 = 
çl£
;

132 
boŞ
 
	gaisU£UnifÜmPrİo§l
=
çl£
;

133 
boŞ
 
	gaisU£BšomŸlPrİo§l
=
çl£
;

134 
boŞ
 
	gaisU£InfÜmedPrİo§l
=
çl£
;

135 * 
	gaIÅutClu¡”Fe
 = 
NULL
;

136 
	gad­tiveR©e
 = -1;

141 
ARGS
 
	gARGS
::
Args
[] =

144 
ARGS
("i", ARGS::
Req
, 
ašMLNFes
,

150 
ARGS
("cw", ARGS::
O±
, 
aClo£dWÜldP»dsSŒ
,

156 
ARGS
("ow", ARGS::
O±
, 
aO³nWÜldP»dsSŒ
,

163 
ARGS
("m", ARGS::
Tog
, 
am­Pos
,

167 
ARGS
("a", ARGS::
Tog
, 
am­AÎ
,

171 
ARGS
("p", ARGS::
Tog
, 
agibbsInãr
,

176 
ARGS
("ms", ARGS::
Tog
, 
amc§tInãr
,

181 
ARGS
("sim", ARGS::
Tog
, 
asimInãr
,

186 
ARGS
("£ed", ARGS::
O±
, 
aS“d
,

191 
ARGS
("Ïzy", ARGS::
O±
, 
aLazy
,

195 
ARGS
("ÏzyNoAµrox", ARGS::
O±
, 
aLazyNoAµrox
,

200 
ARGS
("memLim™", ARGS::
O±
, 
aMemLim™
,

207 
ARGS
("mwsMaxS‹ps", ARGS::
O±
, 
amwsMaxS‹ps
,

211 
ARGS
("Œ›s", ARGS::
O±
, 
amwsTr›s
,

215 
ARGS
("rg‘Wt", ARGS::
O±
, 
amwsT¬g‘Wt
,

220 
ARGS
("h¬d", ARGS::
O±
, 
amwsH¬d
,

225 
ARGS
("heuri¡ic", ARGS::
O±
, 
amwsHeuri¡ic
,

230 
ARGS
("buL’gth", ARGS::
O±
, 
amwsTabuL’gth
,

235 
ARGS
("ÏzyLowS‹", ARGS::
O±
, 
amwsLazyLowS‹
,

245 
ARGS
("buºMšS‹ps", ARGS::
O±
, 
amcmcBuºMšS‹ps
,

249 
ARGS
("buºMaxS‹ps", ARGS::
O±
, 
amcmcBuºMaxS‹ps
,

253 
ARGS
("mšS‹ps", ARGS::
O±
, 
amcmcMšS‹ps
,

257 
ARGS
("maxS‹ps", ARGS::
O±
, 
amcmcMaxS‹ps
,

261 
ARGS
("maxSecÚds", ARGS::
O±
, 
amcmcMaxSecÚds
,

267 
ARGS
("subIÁ”v®", ARGS::
O±
, 
asimSubIÁ”v®
,

271 
ARGS
("numRuns", ARGS::
O±
, 
asimNumST
,

275 
ARGS
("numSw­", ARGS::
O±
, 
asimNumSw­
,

281 
ARGS
("numSŞutiÚs", ARGS::
O±
, 
amwsNumSŞutiÚs
,

285 
ARGS
("§R©io", ARGS::
O±
, 
assSaR©io
,

290 
ARGS
("§Tem³¿tu»", ARGS::
O±
, 
assSaTemp
,

295 
ARGS
("Ï‹Sa", ARGS::
Tog
, 
assL©eSa
,

301 
ARGS
("numChašs", ARGS::
O±
, 
amcmcNumChašs
,

306 
ARGS
("d–", ARGS::
O±
, 
agibbsD–
,

311 
ARGS
("•sÚE¼Ü", ARGS::
O±
, 
agibbsEpsÚE¼Ü
,

315 
ARGS
("äacCÚv”ged", ARGS::
O±
, 
agibbsF¿cCÚv”ged
,

320 
ARGS
("w®k§tTy³", ARGS::
O±
, 
agibbsW®k§tTy³
,

325 
ARGS
("§m¶esP”Te¡", ARGS::
O±
, 
agibbsSam¶esP”Te¡
,

332 
ARGS
("³riodic", ARGS::
Tog
, 
aP”iodicMLNs
,

335 
ARGS
("šãr", ARGS::
O±
, 
aInãrSŒ
,

341 
ARGS
("d", ARGS::
Tog
, 
discL—º
, "Discriminative weight†earning."),

343 
ARGS
("g", ARGS::
Tog
, 
g’L—º
, "Generative weight†earning."),

345 
ARGS
("o", ARGS::
Req
, 
outMLNFe
,

348 
ARGS
("t", ARGS::
O±
, 
dbFes
,

353 
ARGS
("l", ARGS::
O±
, 
ašDBLi¡Fe
,

357 
ARGS
("Ã", ARGS::
O±
, 
nÚEvidP»dsSŒ
,

364 
ARGS
("noAddUn™CÏu£s", ARGS::
Tog
, 
noAddUn™CÏu£s
,

368 
ARGS
("muÉËD©aba£s", ARGS::
Tog
, 
muÉËD©aba£s
,

372 
ARGS
("w™hEM", ARGS::
Tog
, 
w™hEM
,

376 
ARGS
("dNumI‹r", ARGS::
O±
, 
numI‹r
,

380 
ARGS
("dMaxSec", ARGS::
O±
, 
maxSec
,

383 
ARGS
("dMaxMš", ARGS::
O±
, 
maxMš
,

386 
ARGS
("dMaxHour", ARGS::
O±
, 
maxHour
,

389 
ARGS
("dL—ºšgR©e", ARGS::
O±
, 
Ë¬nšgR©e
,

393 
ARGS
("dMom’tum", ARGS::
O±
, 
mom’tum
,

397 
ARGS
("dNoPW", ARGS::
Tog
, 
noU£P”Weight
,

402 
ARGS
("dVP", ARGS::
Tog
, 
u£VP
,

406 
ARGS
("dNewtÚ", ARGS::
Tog
, 
u£NewtÚ
,

410 
ARGS
("dCG", ARGS::
Tog
, 
u£CG
,

414 
ARGS
("cgLambda", ARGS::
O±
, 
cg_Ïmbda
,

418 
ARGS
("cgMaxLambda", ARGS::
O±
, 
cg_max_Ïmbda
,

421 
ARGS
("cgMšLLChªge", ARGS::
O±
, 
mš_Î_chªge
,

424 
ARGS
("cgNoP»cÚd", ARGS::
Tog
, 
cg_nİ»cÚd
,

427 
ARGS
("qu”yEvid’û", ARGS::
Tog
, 
isQu”yEvid’û
,

431 
ARGS
("dIn™W™hLogOdds", ARGS::
Tog
, 
š™W™hLogOdds
,

435 
ARGS
("dMwsMaxSub£qu’tS‹ps", ARGS::
O±
, 
amwsMaxSub£qu’tS‹ps
,

441 
ARGS
("gMaxI‹r", ARGS::
O±
, 
maxI‹r
,

446 
ARGS
("gCÚvTh»sh", ARGS::
O±
, 
cÚvTh»sh
,

451 
ARGS
("gNoEqu®P»dWt", ARGS::
O±
, 
noEqu®P»dWt
,

456 
ARGS
("noPriÜ", ARGS::
Tog
, 
noPriÜ
, "No Gaussian…riors on formula weights."),

458 
ARGS
("´iÜM—n", ARGS::
O±
, 
´iÜM—n
,

464 
ARGS
("´iÜStdDev", ARGS::
O±
, 
´iÜStdDev
,

468 
ARGS
("lvg", ARGS::
Tog
, 
aisLiáedGibbs
,

487 
ARGS
("ic", ARGS::
O±
, 
aIÅutClu¡”Fe
,

495 
ARGS
()

500 
lßdA¼ay
(cÚ¡ * 
fe
, 
A¼ay
<
¡ršg
>& 
¬¿y
)

502 
if¡»am
 
is
(
fe
);

503 
	g¬¿y
.
ş—r
();

504 
¡ršg
 
	glše
;

505 
g‘lše
(
is
, 
lše
))

507 
	g¬¿y
.
­³nd
(
lše
);

511 
	$maš
(
¬gc
, * 
¬gv
[])

513 
ARGS
::
	`·r£
(
¬gc
,
¬gv
,&
cout
);

514 ià(!
discL—º
 && !
g’L—º
)

517 
discL—º
 = 
Œue
;

524 
Tim”
 
tim”
;

525 
¡¬tSec
 = 
tim”
.
	`time
();

526 
begSec
;

528 ià(
´iÜStdDev
 < 0)

530 ià(
discL—º
)

532 
cout
 << "priorStdDev seto (discriminative†earning's) default of "

533 << 
DISC_DEFAULT_STD_DEV
 << 
’dl
;

534 
´iÜStdDev
 = 
DISC_DEFAULT_STD_DEV
;

538 
cout
 << "priorStdDev seto (generative†earning's) default of "

539 << 
GEN_DEFAULT_STD_DEV
 << 
’dl
;

540 
´iÜStdDev
 = 
GEN_DEFAULT_STD_DEV
;

546 ià(
discL—º
 && 
nÚEvidP»dsSŒ
 =ğ
NULL
)

548 
cout
 << "ERROR: you must specify‚on-evidence…redicates for "

549 << "disüimš©ivË¬nšg" << 
’dl
;

553 ià(
maxI‹r
 <ğ0è{ 
cout
 << "maxI‹¸mu¡ b> 0" << 
’dl
;  -1; }

554 ià(
cÚvTh»sh
 <= 0 || convThresh > 1)

555 { 
cout
 << "cÚvTh»sh mu¡ b> 0‡nd <ğ1" << 
’dl
;  -1; }

556 ià(
´iÜStdDev
 <ğ0è{ 
cout
 << "´iÜStdDev mu¡ b> 0" << 
’dl
;  -1;}

558 ià(
amwsMaxS‹ps
 <= 0)

559 { 
cout
 << "ERROR: mwsMaxS‹p mu¡ bpos™ive" << 
’dl
;  -1; }

562 ià(
amwsMaxSub£qu’tS‹ps
 <ğ0èamwsMaxSub£qu’tS‹p ğ
amwsMaxS‹ps
;

564 ià(
amwsTr›s
 <= 0)

565 { 
cout
 << "ERROR:r› mu¡ bpos™ive" << 
’dl
;  -1; }

567 ià(
aMemLim™
 <= 0 &&‡MemLimit != -1)

568 { 
cout
 << "ERROR:†im™ mu¡ bpos™iv(Ü -1)" << 
’dl
;  -1; }

570 ià(!
discL—º
 && 
aLazy
)

572 
cout
 << "ERROR:†azy can only be used with discriminative†earning"

573 << 
’dl
;

577 
of¡»am
 
	`out
(
outMLNFe
);

578 ià(!
out
.
	`good
())

580 
cout
 << "ERROR: uÇbËØİ’ " << 
outMLNFe
 << 
’dl
;

585 ià(
discL—º
)

588 ià(!
u£VP
 && !
u£CG
 && !
u£NewtÚ
)

589 
u£CG
 = 
Œue
;

591 ià((
u£CG
 || 
u£NewtÚ
è&& !
noU£P”Weight
)

593 
noU£P”Weight
 = 
Œue
;

598 
amcmcBuºMaxS‹ps
 = -1;

599 ià(!
aInãrSŒ
)

603 
amc§tInãr
 = 
Œue
;

608 
šãrArgc
 = 0;

609 **
šãrArgv
 = 
Ãw
 *[200];

610 
i
 = 0; i < 200; i++)

612 
šãrArgv
[
i
] = 
Ãw
 [500];

616 
¡ršg
 
šãrSŒšg
 = "infer ";

617 
šãrSŒšg
.
	`­³nd
(
aInãrSŒ
);

618 
	`exŒaùArgs
(
šãrSŒšg
.
	`c_¡r
(), 
šãrArgc
, 
šãrArgv
);

619 
cout
 << "exŒaùArg " << 
šãrArgc
 << 
’dl
;

620 
i
 = 0; i < 
šãrArgc
; i++)

622 
cout
 << 
i
 << ": " << 
šãrArgv
[i] << 
’dl
;

625 
ARGS
::
	`·r£FromCommªdLše
(
šãrArgc
, 
šãrArgv
);

628 
i
 = 0; i < 200; i++)

630 
d–‘e
[] 
šãrArgv
[
i
];

632 
d–‘e
[] 
šãrArgv
;

635 ià(!
asimInãr
 && !
am­Pos
 && !
am­AÎ
 && !
agibbsInãr
 && !
amc§tInãr
)

638 
amc§tInãr
 = 
Œue
;

648 
A¼ay
<
¡ršg
> 
cÚ¡FesA¼
;

649 
	`exŒaùFeNames
(
ašMLNFes
, 
cÚ¡FesA¼
);

650 
	`as£¹
(
cÚ¡FesA¼
.
	`size
() >= 1);

651 
¡ršg
 
šMLNFe
 = 
cÚ¡FesA¼
[0];

652 
cÚ¡FesA¼
.
	`»moveI‹m
(0);

654 
A¼ay
<
¡ršg
> 
dbFesA¼
;

655 ià(
NULL
 !ğ
dbFes
)

657 
	`exŒaùFeNames
(
dbFes
, 
dbFesA¼
);

661 
	`lßdA¼ay
(
ašDBLi¡Fe
, 
dbFesA¼
);

664 ià(
dbFesA¼
.
	`size
() <= 0)

665 {
cout
<<"ERROR: mu¡ s³cify¿ššg d©¨w™h -ˆİtiÚ."<<
’dl
;  -1;}

668 ià(
muÉËD©aba£s
)

671 ià((
cÚ¡FesA¼
.
	`size
(è> 0 && cÚ¡FesA¼.size(è!ğ
dbFesA¼
.size()))

673 
cout
 << "ERROR: whenhere‡re multiple databases, if .mln files "

675 << "bth§mnumb” oàthem‡ .db fes" << 
’dl
;

680 
SŒšgHashA¼ay
 
nÚEvidP»dNames
;

681 ià(
nÚEvidP»dsSŒ
)

683 ià(!
	`exŒaùP»dNames
(
nÚEvidP»dsSŒ
, 
NULL
, 
nÚEvidP»dNames
))

685 
cout
 << "ERROR: faedØexŒaù‚Ú-evid’û…»diÿ‹‚ames." << 
’dl
;

690 
SŒšgHashA¼ay
 
owP»dNames
;

691 
SŒšgHashA¼ay
 
cwP»dNames
;

695 
cout
 << "P¬sšg MLN‡nd c»©šg domašs..." << 
’dl
;

696 
SŒšgHashA¼ay
* 
ÃP»dNames
 = (
discL—º
è? &
nÚEvidP»dNames
 : 
NULL
;

697 
A¼ay
<
Domaš
*> 
domašs
;

698 
A¼ay
<
MLN
*> 
mÊs
;

699 
begSec
 = 
tim”
.
	`time
();

700 
boŞ
 
®lP»dsExû±Qu”›sA»CW
 = 
Œue
;

701 ià(
discL—º
)

704 ià(
aO³nWÜldP»dsSŒ
)

706 ià(!
	`exŒaùP»dNames
(
	`¡ršg
(
aO³nWÜldP»dsSŒ
), 
NULL
, 
owP»dNames
))

708 
	`as£¹
(
owP»dNames
.
	`size
() > 0);

712 ià(
aClo£dWÜldP»dsSŒ
)

714 ià(!
	`exŒaùP»dNames
(
	`¡ršg
(
aClo£dWÜldP»dsSŒ
), 
NULL
, 
cwP»dNames
))

716 
	`as£¹
(
cwP»dNames
.
	`size
() > 0);

717 ià(!
	`checkQu”yP»dsNÙInClo£dWÜldP»ds
(
nÚEvidP»dNames
, 
cwP»dNames
))

722 
®lP»dsExû±Qu”›sA»CW
 = 
çl£
;

726 
	`ü—‹DomašsAndMLNs
(
domašs
, 
mÊs
, 
muÉËD©aba£s
, 
šMLNFe
,

727 
cÚ¡FesA¼
, 
dbFesA¼
, 
ÃP»dNames
,

728 !
noAddUn™CÏu£s
, 
´iÜM—n
, 
Œue
,

729 
®lP»dsExû±Qu”›sA»CW
, &
owP»dNames
, &
cwP»dNames
);

730 
cout
 << "Parsing MLN‡nd creating domainsook ";

731 
Tim”
::
	`´štTime
(
cout
, 
tim”
.
	`time
(è- 
begSec
); couˆ<< 
’dl
;

734 cÚ¡ 
FÜmuÏAndCÏu£sA¼ay
* 
fÿ
 = 
mÊs
[0]->
	`g‘FÜmuÏAndCÏu£sA¼ay
();

735 
i
 = 0; i < 
fÿ
->
	`size
(); i++)

737 
IndexCÏu£HashA¼ay
* 
šdexCÏu£s
 = (*
fÿ
)[
i
]->indexClauses;

738 
j
 = 0; j < 
šdexCÏu£s
->
	`size
(); j++)

740 
idx
 = (*
šdexCÏu£s
)[
j
]->
šdex
;

741 
CÏu£
* 
c
 = (*
šdexCÏu£s
)[
j
]->
şau£
;

742 
cout
 << "idx " << 
idx
 << ": ";

743 
c
->
	`´štW™hWtAndSŒV¬
(
cout
, 
domašs
[0]);

744 
cout
 << 
’dl
;

765 
IndexT¿n¦©Ü
* 
šdexT¿ns


766 ğ(
IndexT¿n¦©Ü
::
	`ÃedIndexT¿n¦©Ü
(
mÊs
, 
domašs
)) ?

767 
Ãw
 
	`IndexT¿n¦©Ü
(&
mÊs
, &
domašs
è: 
NULL
;

769 ià(
šdexT¿ns
)

770 
cout
 << 
’dl
 << "the weights of clauses inhe CNFs ofƒxistential"

771 << " fÜmuÏ wÈbt›d" << 
’dl
;

773 
A¼ay
<> 
´iÜM—ns
, 
´iÜStdDevs
;

774 
A¼ay
<
boŞ
> 
lockedWts
;

775 ià(!
noPriÜ
)

777 ià(
šdexT¿ns
)

779 
šdexT¿ns
->
	`£tPriÜM—ns
(
´iÜM—ns
);

780 
´iÜStdDevs
.
	`growToSize
(
´iÜM—ns
.
	`size
());

781 
lockedWts
.
	`growToSize
(
´iÜM—ns
.
	`size
());

782 
i
 = 0; i < 
´iÜM—ns
.
	`size
(); i++)

784 
´iÜStdDevs
[
i
] = 
´iÜStdDev
;

785 
lockedWts
[
i
] = 
çl£
;

790 cÚ¡ 
CÏu£HashA¼ay
* 
şau£s
 = 
mÊs
[0]->
	`g‘CÏu£s
();

791 
numCÏu£s
 = 
şau£s
->
	`size
();

793 
i
 = 0; i < 
numCÏu£s
; i++)

795 
´iÜM—ns
.
	`­³nd
((*
şau£s
)[
i
]->
	`g‘Wt
());

796 
´iÜStdDevs
.
	`­³nd
(
´iÜStdDev
);

797 
lockedWts
.
	`­³nd
((*
şau£s
)[
i
]->
	`isSticWt
());

802 
numCÏu£sFÜmuÏs
;

803 ià(
šdexT¿ns
)

804 
numCÏu£sFÜmuÏs
 = 
šdexT¿ns
->
	`g‘NumCÏu£sAndExi¡FÜmuÏs
();

806 
numCÏu£sFÜmuÏs
 = 
mÊs
[0]->
	`g‘CÏu£s
()->
	`size
();

810 
A¼ay
<> 
wts
;

812 
j
 = 0; j < 
mÊs
[0]->
	`g‘NumCÏu£s
(); j++)

814 
CÏu£
* 
c
 = (CÏu£*è
mÊs
[0]->
	`g‘CÏu£
(
j
);

818 ià(
c
->
	`g‘Wt
(è!ğ0 && c->
	`isSticWt
())

819 
c
->
	`lock
();

823 ià(
discL—º
)

825 
wts
.
	`growToSize
(
numCÏu£sFÜmuÏs
 + 1);

826 * 
wwts
 = (*è
wts
.
	`g‘I‹ms
();

827 
wwts
++;

829 
¡ršg
 
ÃP»dsSŒ
 = 
nÚEvidP»dsSŒ
;

832 
Sam¶eS©P¬ams
* 
s¥¬ams
 = 
Ãw
 SampleSatParams;

833 
s¥¬ams
->
Ï‹Sa
 = 
assL©eSa
;

834 
s¥¬ams
->
§R©io
 = 
assSaR©io
;

835 
s¥¬ams
->
§Temp
 = 
assSaTemp
;

838 
MaxW®k§tP¬ams
* 
mw¥¬ams
 = 
NULL
;

839 
mw¥¬ams
 = 
Ãw
 
MaxW®k§tP¬ams
;

840 
mw¥¬ams
->
ssP¬ams
 = 
s¥¬ams
;

841 
mw¥¬ams
->
maxS‹ps
 = 
amwsMaxS‹ps
;

842 
mw¥¬ams
->
maxTr›s
 = 
amwsTr›s
;

843 
mw¥¬ams
->
rg‘Co¡
 = 
amwsT¬g‘Wt
;

844 
mw¥¬ams
->
h¬d
 = 
amwsH¬d
;

847 
mw¥¬ams
->
numSŞutiÚs
 = 
amwsNumSŞutiÚs
;

848 
mw¥¬ams
->
heuri¡ic
 = 
amwsHeuri¡ic
;

849 
mw¥¬ams
->
buL’gth
 = 
amwsTabuL’gth
;

850 
mw¥¬ams
->
ÏzyLowS‹
 = 
amwsLazyLowS‹
;

853 
MCS©P¬ams
* 
m¥¬ams
 = 
Ãw
 MCSatParams;

854 
m¥¬ams
->
mwsP¬ams
 = 
mw¥¬ams
;

856 
m¥¬ams
->
numChašs
 = 1;

857 
m¥¬ams
->
buºMšS‹ps
 = 
amcmcBuºMšS‹ps
;

858 
m¥¬ams
->
buºMaxS‹ps
 = 
amcmcBuºMaxS‹ps
;

859 
m¥¬ams
->
mšS‹ps
 = 
amcmcMšS‹ps
;

860 
m¥¬ams
->
maxS‹ps
 = 
amcmcMaxS‹ps
;

861 
m¥¬ams
->
maxSecÚds
 = 
amcmcMaxSecÚds
;

864 
GibbsP¬ams
* 
gibb¥¬ams
 = 
Ãw
 GibbsParams;

865 
gibb¥¬ams
->
mwsP¬ams
 = 
mw¥¬ams
;

866 
gibb¥¬ams
->
numChašs
 = 
amcmcNumChašs
;

867 
gibb¥¬ams
->
buºMšS‹ps
 = 
amcmcBuºMšS‹ps
;

868 
gibb¥¬ams
->
buºMaxS‹ps
 = 
amcmcBuºMaxS‹ps
;

869 
gibb¥¬ams
->
mšS‹ps
 = 
amcmcMšS‹ps
;

870 
gibb¥¬ams
->
maxS‹ps
 = 
amcmcMaxS‹ps
;

871 
gibb¥¬ams
->
maxSecÚds
 = 
amcmcMaxSecÚds
;

873 
gibb¥¬ams
->
gamma
 = 1 - 
agibbsD–
;

874 
gibb¥¬ams
->
•sÚE¼Ü
 = 
agibbsEpsÚE¼Ü
;

875 
gibb¥¬ams
->
äacCÚv”ged
 = 
agibbsF¿cCÚv”ged
;

876 
gibb¥¬ams
->
w®k§tTy³
 = 
agibbsW®k§tTy³
;

877 
gibb¥¬ams
->
§m¶esP”Te¡
 = 
agibbsSam¶esP”Te¡
;

880 
SimuÏ‹dTem³ršgP¬ams
* 
¡·¿ms
 = 
Ãw
 SimulatedTemperingParams;

881 
¡·¿ms
->
mwsP¬ams
 = 
mw¥¬ams
;

882 
¡·¿ms
->
numChašs
 = 
amcmcNumChašs
;

883 
¡·¿ms
->
buºMšS‹ps
 = 
amcmcBuºMšS‹ps
;

884 
¡·¿ms
->
buºMaxS‹ps
 = 
amcmcBuºMaxS‹ps
;

885 
¡·¿ms
->
mšS‹ps
 = 
amcmcMšS‹ps
;

886 
¡·¿ms
->
maxS‹ps
 = 
amcmcMaxS‹ps
;

887 
¡·¿ms
->
maxSecÚds
 = 
amcmcMaxSecÚds
;

889 
¡·¿ms
->
subIÁ”v®
 = 
asimSubIÁ”v®
;

890 
¡·¿ms
->
numST
 = 
asimNumST
;

891 
¡·¿ms
->
numSw­
 = 
asimNumSw­
;

893 
A¼ay
<
V¬ŸbËS‹
*> 
¡©es
;

894 
A¼ay
<
Inã»nû
*> 
šã»nûs
;

895 
A¼ay
<
V¬ŸbËS‹
*> 
emS‹s
;

896 
A¼ay
<
Inã»nû
*> 
emInã»nûs
;

898 
¡©es
.
	`growToSize
(
domašs
.
	`size
());

899 
šã»nûs
.
	`growToSize
(
domašs
.
	`size
());

900 
emS‹s
.
	`growToSize
(
domašs
.
	`size
());

901 
emInã»nûs
.
	`growToSize
(
domašs
.
	`size
());

904 
A¼ay
<> 
®lP»dGndšgsA»NÚEvid
;

905 
A¼ay
<
P»diÿ‹
*> 
µ»ds
;

908 
j
 = 0; j < 
mÊs
[0]->
	`g‘NumCÏu£s
(); j++)

910 
CÏu£
* 
c
 = (CÏu£*è
mÊs
[0]->
	`g‘CÏu£
(
j
);

913 ià(
c
->
	`isH¬dCÏu£
()) {

914 
c
->
	`£tWt
(10);

918 
c
->
	`£tWt
(1);

921 
i
 = 0; i < 
domašs
.
	`size
(); i++)

923 
Domaš
* 
domaš
 = 
domašs
[
i
];

924 
MLN
* 
mÊ
 = 
mÊs
[
i
];

928 ià(
amcmcMaxS‹ps
 == 1000)

930 
mšSize
 = 
INT_MAX
;

932 
c
 = 0; c < 
mÊ
->
	`g‘NumCÏu£s
(); c++)

934 
CÏu£
* 
şau£
 = (CÏu£*)
mÊ
->
	`g‘CÏu£
(
c
);

935 
size
 = 
şau£
->
	`g‘NumGroundšgs
(
domaš
);

936 ià(
size
 < 
mšSize
) minSize = ()size;

938 
¡•s
 = 10000 / 
mšSize
;

940 ià(
¡•s
 < 100) steps = 100;

941 
cout
 << "S‘tšg‚umb” oàMCMC s‹p tØ" << 
¡•s
 << 
’dl
;

942 
amcmcMaxS‹ps
 = 
¡•s
;

943 
m¥¬ams
->
maxS‹ps
 = 
amcmcMaxS‹ps
;

944 
gibb¥¬ams
->
maxS‹ps
 = 
amcmcMaxS‹ps
;

945 
¡·¿ms
->
maxS‹ps
 = 
amcmcMaxS‹ps
;

949 ià(!
aLazy
)

950 
domašs
[
i
]->
	`g‘DB
()->
	`£tLazyFÏg
(
çl£
);

953 
GroundP»diÿ‹HashA¼ay
* 
uÃP»ds
 = 
NULL
;

956 
GroundP»diÿ‹HashA¼ay
* 
kÃP»ds
 = 
NULL
;

957 
A¼ay
<
TruthV®ue
>* 
kÃP»dV®ues
 = 
NULL
;

960 ià(!
®lP»dsExû±Qu”›sA»CW
)

962 
i
 = 0; i < 
owP»dNames
.
	`size
(); i++)

964 
ÃP»dsSŒ
.
	`­³nd
(",");

965 
ÃP»dsSŒ
.
	`­³nd
(
owP»dNames
[
i
]);

966 
nÚEvidP»dNames
.
	`­³nd
(
owP»dNames
[
i
]);

970 
boŞ
 
m¬kH¬dGndCÏu£s
 = 
çl£
;

971 
boŞ
 
ŒackP¬’tCÏu£Wts
 = 
Œue
;

973 
V¬ŸbËS‹
*& 
emS‹
 = 
emS‹s
[
i
];

975 
A¼ay
<
P»diÿ‹
*> 
g´eds
;

976 
A¼ay
<
TruthV®ue
> 
g´edV®ues
;

979 ià(!
aLazy
)

981 
uÃP»ds
 = 
Ãw
 
GroundP»diÿ‹HashA¼ay
;

982 
kÃP»ds
 = 
Ãw
 
GroundP»diÿ‹HashA¼ay
;

983 
kÃP»dV®ues
 = 
Ãw
 
A¼ay
<
TruthV®ue
>;

985 
®lP»dGndšgsA»NÚEvid
.
	`growToSize
(
domaš
->
	`g‘NumP»diÿ‹s
(), 
çl£
);

987 
	`ü—‹ComLšeQu”yP»ds
(
ÃP»dsSŒ
, 
domaš
, domaš->
	`g‘DB
(),

988 
uÃP»ds
, 
kÃP»ds
,

989 &
®lP»dGndšgsA»NÚEvid
, 
NULL
);

991 ià(
w™hEM
)

993 
emS‹
 = 
Ãw
 
	`V¬ŸbËS‹
(
uÃP»ds
, 
NULL
, NULL,

994 &
®lP»dGndšgsA»NÚEvid
, 
m¬kH¬dGndCÏu£s
,

995 
ŒackP¬’tCÏu£Wts
, 
mÊ
, 
domaš
, 
aLazy
);

1003 
kÃP»dV®ues
->
	`growToSize
(
kÃP»ds
->
	`size
(), 
FALSE
);

1004 
´edno
 = 0;…»dnØ< 
kÃP»ds
->
	`size
();…redno++)

1007 
blockIdx
 = 
domaš
->
	`g‘Block
((*
kÃP»ds
)[
´edno
]);

1008 ià(
blockIdx
 > -1 &&

1009 
domaš
->
	`g‘DB
()->
	`g‘V®ue
((*
kÃP»ds
)[
´edno
]è=ğ
TRUE
)

1011 
domaš
->
	`£tBlockEvid’û
(
blockIdx
, 
çl£
);

1014 (*
kÃP»dV®ues
)[
´edno
] =

1015 
domaš
->
	`g‘DB
()->
	`£tV®ue
((*
kÃP»ds
)[
´edno
], 
UNKNOWN
);

1021 ià(
isQu”yEvid’û
)

1024 
´edno
 = 0;…»dnØ< 
uÃP»ds
->
	`size
();…redno++)

1026 
domaš
->
	`g‘DB
()->
	`£tV®ue
((*
uÃP»ds
)[
´edno
], 
FALSE
);

1027 
	`d–‘e
 (*
uÃP»ds
)[
´edno
];

1029 
uÃP»ds
->
	`ş—r
();

1034 
A¼ay
<
P»diÿ‹
*> 
µ»ds
;

1036 
domaš
->
	`g‘DB
()->
	`£tP”fÜmšgInã»nû
(
çl£
);

1038 
g´eds
.
	`ş—r
();

1039 
g´edV®ues
.
	`ş—r
();

1040 
´edno
 = 0;…»dnØ< 
nÚEvidP»dNames
.
	`size
();…redno++)

1042 
µ»ds
.
	`ş—r
();

1043 
´edid
 = 
domaš
->
	`g‘P»diÿ‹Id
(
nÚEvidP»dNames
[
´edno
].
	`c_¡r
());

1044 
P»diÿ‹
::
	`ü—‹AÎGroundšgs
(
´edid
, 
domaš
, 
µ»ds
);

1045 
g´eds
.
	`­³nd
(
µ»ds
);

1048 
domaš
->
	`g‘DB
()->
	`£tV®uesToUnknown
(&
g´eds
, &
g´edV®ues
);

1053 
cout
 << 
’dl
 << "cÚ¡ruùšg s‹ fÜ domaš " << 
i
 << "..." <<ƒndl;

1055 
V¬ŸbËS‹
*& 
¡©e
 = 
¡©es
[
i
];

1056 
¡©e
 = 
Ãw
 
	`V¬ŸbËS‹
(
uÃP»ds
, 
kÃP»ds
, 
kÃP»dV®ues
,

1057 &
®lP»dGndšgsA»NÚEvid
, 
m¬kH¬dGndCÏu£s
,

1058 
ŒackP¬’tCÏu£Wts
, 
mÊ
, 
domaš
, 
aLazy
);

1094 
Inã»nû
*& 
šã»nû
 = 
šã»nûs
[
i
];

1095 
Inã»nû
*& 
emInã»nû
 = 
emInã»nûs
[
i
];

1096 
boŞ
 
ŒackCÏu£TrueCÁs
 = 
Œue
;

1098 ià(
am­Pos
 || 
am­AÎ
)

1102 
mw¥¬ams
->
numSŞutiÚs
 = 1;

1103 
šã»nû
 = 
Ãw
 
	`MaxW®kS©
(
¡©e
, 
aS“d
, 
ŒackCÏu£TrueCÁs
,

1104 
mw¥¬ams
);

1105 ià(
w™hEM
)

1106 
emInã»nû
 = 
Ãw
 
	`MaxW®kS©
(
emS‹
, 
aS“d
, 
ŒackCÏu£TrueCÁs
,

1107 
mw¥¬ams
);

1109 ià(
amc§tInãr
)

1111 
šã»nû
 = 
Ãw
 
	`MCSAT
(
¡©e
, 
aS“d
, 
ŒackCÏu£TrueCÁs
, 
m¥¬ams
);

1112 ià(
w™hEM
)

1113 
emInã»nû
 = 
Ãw
 
	`MCSAT
(
emS‹
, 
aS“d
, 
ŒackCÏu£TrueCÁs
,

1114 
m¥¬ams
);

1116 ià(
asimInãr
)

1120 
mw¥¬ams
->
numSŞutiÚs
 = 1;

1121 
šã»nû
 = 
Ãw
 
	`SimuÏ‹dTem³ršg
(
¡©e
, 
aS“d
, 
ŒackCÏu£TrueCÁs
,

1122 
¡·¿ms
);

1123 ià(
w™hEM
)

1124 
emInã»nû
 = 
Ãw
 
	`SimuÏ‹dTem³ršg
(
emS‹
, 
aS“d
,

1125 
ŒackCÏu£TrueCÁs
, 
¡·¿ms
);

1127 ià(
agibbsInãr
)

1131 
mw¥¬ams
->
numSŞutiÚs
 = 1;

1132 
šã»nû
 = 
Ãw
 
	`GibbsSam¶”
(
¡©e
, 
aS“d
, 
ŒackCÏu£TrueCÁs
,

1133 
gibb¥¬ams
);

1134 ià(
w™hEM
)

1135 
emInã»nû
 = 
Ãw
 
	`GibbsSam¶”
(
emS‹
, 
aS“d
, 
ŒackCÏu£TrueCÁs
,

1136 
gibb¥¬ams
);

1139 ià(!
aLazy
)

1142 
domaš
->
	`g‘DB
()->
	`£tV®uesToGiv’V®ues
(
kÃP»ds
, 
kÃP»dV®ues
);

1146 
´edno
 = 0;…»dnØ< 
uÃP»ds
->
	`size
();…redno++)

1148 
domaš
->
	`g‘DB
()->
	`£tV®ue
((*
uÃP»ds
)[
´edno
], 
FALSE
);

1153 
domaš
->
	`g‘DB
()->
	`£tV®uesToGiv’V®ues
(&
g´eds
, &
g´edV®ues
);

1156 
´edno
 = 0;…»dnØ< 
g´eds
.
	`size
();…redno++)

1160 
d–‘e
 
g´eds
[
´edno
];

1163 
domaš
->
	`g‘DB
()->
	`£tP”fÜmšgInã»nû
(
Œue
);

1166 if(
aisLiáedGibbs
)

1168 
LvrP¬ams
* 
lP¬ams
 = 
Ãw
 
	`LvrP¬ams
();

1169 
lP¬ams
->
numChašs
 = 
amcmcNumChašs
;

1170 
lP¬ams
->
buºMšS‹ps
 = 
amcmcBuºMšS‹ps
;

1171 
lP¬ams
->
buºMaxS‹ps
 = 
amcmcBuºMaxS‹ps
;

1172 
lP¬ams
->
mšS‹ps
 = 
amcmcMšS‹ps
;

1173 
lP¬ams
->
maxS‹ps
 = 
amcmcMaxS‹ps
;

1174 
lP¬ams
->
maxSecÚds
 = 
amcmcMaxSecÚds
;

1175 
lP¬ams
->
®gÜ™hm
 = 
LVG
;

1177 if(
aIÅutClu¡”Fe
 !ğ
NULL
)

1178 
lP¬ams
->
šClu¡”Fe
 = 
aIÅutClu¡”Fe
;

1179 
šã»nû
 = 
Ãw
 
	`LBGInã»nû
(
¡©e
, 
aS“d
, 
Œue
,

1180 
lP¬ams
);

1206 
cout
 << 
’dl
 << "done constructing variable states" <<ƒndl <<ƒndl;

1208 ià(
u£VP
)

1209 
discM‘hod
 = 
Disüimš©iveL—º”
::
SIMPLE
;

1210 ià(
u£NewtÚ
)

1211 
discM‘hod
 = 
Disüimš©iveL—º”
::
DN
;

1213 
discM‘hod
 = 
Disüimš©iveL—º”
::
CG
;

1216 
Disüimš©iveL—º”
 
	`dl
(
šã»nûs
, 
nÚEvidP»dNames
, 
šdexT¿ns
, 
aLazy
,

1217 
w™hEM
, 
emInã»nûs
, !
noU£P”Weight
, 
discM‘hod
,

1218 
cg_Ïmbda
, !
cg_nİ»cÚd
, 
cg_max_Ïmbda
,

1219 
mš_Î_chªge
);

1221 ià(!
noPriÜ
)

1222 
dl
.
	`£tM—nsStdDevs
(
numCÏu£sFÜmuÏs
, 
´iÜM—ns
.
	`g‘I‹ms
(),

1223 
´iÜStdDevs
.
	`g‘I‹ms
());

1225 
dl
.
	`£tM—nsStdDevs
(-1, 
NULL
, NULL);

1227 
begSec
 = 
tim”
.
	`time
();

1228 
cout
 << "Ë¬nšg (disüimš©iveèweight .. " << 
’dl
;

1229 
maxTime
 = 
maxSec
 + 60*
maxMš
 + 3600*
maxHour
;

1230 
dl
.
	`Ë¬nWeights
(
wwts
, 
wts
.
	`size
()-1, 
numI‹r
, 
maxTime
, 
Ë¬nšgR©e
,

1231 
mom’tum
, 
š™W™hLogOdds
, 
amwsMaxSub£qu’tS‹ps
,

1232 
aP”iodicMLNs
);

1233 
cout
 << 
’dl
 <<ƒndl << "Done†earning discriminative weights. "<<ƒndl;

1234 
cout
 << "Time Taken for†earning = ";

1235 
Tim”
::
	`´štTime
(
cout
, (
tim”
.
	`time
(è- 
begSec
)); couˆ<< 
’dl
;

1237 ià(
mw¥¬ams
è
d–‘e
 mwsparams;

1238 ià(
s¥¬ams
è
d–‘e
 ssparams;

1239 ià(
m¥¬ams
è
d–‘e
 msparams;

1240 ià(
gibb¥¬ams
è
d–‘e
 gibbsparams;

1241 ià(
¡·¿ms
è
d–‘e
 stparams;

1242 
i
 = 0; i < 
šã»nûs
.
	`size
(); i++è
d–‘e
 inferences[i];

1243 
i
 = 0; i < 
¡©es
.
	`size
(); i++è
d–‘e
 states[i];

1249 
A¼ay
<
boŞ
> 
¬eNÚEvidP»ds
;

1250 ià(
nÚEvidP»dNames
.
	`em±y
())

1252 
¬eNÚEvidP»ds
.
	`growToSize
(
domašs
[0]->
	`g‘NumP»diÿ‹s
(), 
Œue
);

1253 
i
 = 0; i < 
domašs
[0]->
	`g‘NumP»diÿ‹s
(); i++)

1256 ià(
domašs
[0]->
	`g‘P»diÿ‹Tem¶©e
(
i
)->
	`isEqu®P»d
())

1258 cÚ¡ * 
²ame
 = 
domašs
[0]->
	`g‘P»diÿ‹Tem¶©e
(
i
)->
	`g‘Name
();

1259 
´edId
 = 
domašs
[0]->
	`g‘P»diÿ‹Id
(
²ame
);

1260 
¬eNÚEvidP»ds
[
´edId
] = 
çl£
;

1263 ià(
domašs
[0]->
	`g‘P»diÿ‹Tem¶©e
(
i
)->
	`isIÁ”ÇlP»diÿ‹Tem¶©e
())

1265 cÚ¡ * 
²ame
 = 
domašs
[0]->
	`g‘P»diÿ‹Tem¶©e
(
i
)->
	`g‘Name
();

1266 
´edId
 = 
domašs
[0]->
	`g‘P»diÿ‹Id
(
²ame
);

1267 
¬eNÚEvidP»ds
[
´edId
] = 
çl£
;

1273 
¬eNÚEvidP»ds
.
	`growToSize
(
domašs
[0]->
	`g‘NumP»diÿ‹s
(), 
çl£
);

1274 
i
 = 0; i < 
nÚEvidP»dNames
.
	`size
(); i++)

1276 
´edId
 = 
domašs
[0]->
	`g‘P»diÿ‹Id
(
nÚEvidP»dNames
[
i
].
	`c_¡r
());

1277 ià(
´edId
 < 0)

1279 
cout
 << "ERROR: P»diÿ‹ " << 
nÚEvidP»dNames
[
i
] << " undefined."

1280 << 
’dl
;

1281 
	`ex™
(-1);

1283 
¬eNÚEvidP»ds
[
´edId
] = 
Œue
;

1287 
A¼ay
<
boŞ
>* 
ÃP»ds
 = &
¬eNÚEvidP»ds
;

1288 
P£udoLogLik–ihood
 
	`¶l
(
ÃP»ds
, &
domašs
, !
noEqu®P»dWt
, 
çl£
,-1,-1,-1);

1289 
¶l
.
	`£tIndexT¿n¦©Ü
(
šdexT¿ns
);

1291 ià(!
noPriÜ
)

1292 
¶l
.
	`£tM—nsStdDevs
(
numCÏu£sFÜmuÏs
, 
´iÜM—ns
.
	`g‘I‹ms
(),

1293 
´iÜStdDevs
.
	`g‘I‹ms
());

1295 
¶l
.
	`£tM—nsStdDevs
(-1, 
NULL
, NULL);

1297 
¶l
.
	`£tLockedWts
(
lockedWts
.
	`g‘I‹ms
());

1301 
begSec
 = 
tim”
.
	`time
();

1302 
A¼ay
<
boŞ
> 
wtsW™hT›dCÏu£s
;

1303 
wtsW™hT›dCÏu£s
.
	`growToSize
(
numCÏu£sFÜmuÏs
 + 1, 
çl£
);

1304 
numWts
 = 0;

1305 
m
 = 0; m < 
mÊs
.
	`size
(); m++)

1307 
cout
 << "Computšg couÁ fÜ cÏu£ š domaš " << 
m
 << "..." << 
’dl
;

1323 cÚ¡ 
CÏu£HashA¼ay
* 
şau£s
 = 
mÊs
[
m
]->
	`g‘CÏu£s
();

1324 cÚ¡ 
A¼ay
<
MLNCÏu£Info
*>* 
şau£Infos
 = 
mÊs
[
m
]->
	`g‘MLNCÏu£Infos
();

1325 cÚ¡ 
FÜmuÏAndCÏu£sA¼ay
* 
çcs
 = 
mÊs
[
m
]->
	`g‘FÜmuÏAndCÏu£sA¼ay
();

1326 
i
 = 0; i < 
şau£Infos
->
	`size
(); i++)

1328 
MLNCÏu£Info
* 
ci
 = (*
şau£Infos
)[
i
];

1329 ià(
PRINT_CLAUSE_DURING_COUNT
)

1331 
cout
 << "şau£ " << 
i
 << ": ";

1332 (*
şau£s
)[
i
]->
	`´štW™houtWt
(
cout
, 
domašs
[
m
]);

1333 
cout
 << 
’dl
; cout.
	`æush
();

1336 
A¼ay
<
FÜmuÏCÏu£Indexes
*>& 
fciA¼
 = 
ci
->
fÜmuÏCÏu£Indexes
;

1337 
fidx
 = *(
fciA¼
[0]->
fÜmuÏIndex
);

1338 
cidx
 = *(
fciA¼
[0]->
şau£Index
);

1339 
FÜmuÏAndCÏu£s
* 
çc
 = (*
çcs
)[
fidx
];

1343 ià(
çc
->
t›dCÏu£s
)

1345 ià(
cidx
 == 0)

1347 ià(
m
 == 0)

1349 
numWts
++;

1350 
wtsW™hT›dCÏu£s
[
i
+1] = 
Œue
;

1352 
A¼ay
<
CÏu£
*>* 
t›dCÏu£s
 = 
Ãw
 Array<Clause*>;

1353 
IndexCÏu£HashA¼ay
* 
šdexCÏu£s
 = 
çc
->indexClauses;

1354 
c
 = 1; c < 
šdexCÏu£s
->
	`size
(); c++)

1355 
t›dCÏu£s
->
	`­³nd
((*
šdexCÏu£s
)[
c
]->
şau£
);

1356 
¶l
.
	`compu‹CouÁsFÜNewAµ’dedCÏu£
((*
şau£s
)[
i
], &(
ci
->
šdex
),

1357 
m
, 
NULL
, 
çl£
, NULL,

1358 
t›dCÏu£s
);

1359 
d–‘e
 
t›dCÏu£s
;

1364 ià(
m
 == 0)

1366 
numWts
++;

1367 
wtsW™hT›dCÏu£s
[
i
+1] = 
Œue
;

1369 
¶l
.
	`compu‹CouÁsFÜNewAµ’dedCÏu£
((*
şau£s
)[
i
], &(
ci
->
šdex
), 
m
,

1370 
NULL
, 
çl£
, NULL, NULL);

1376 
¶l
.
	`com´ess
();

1377 
cout
 <<"Computing countsook ";

1378 
Tim”
::
	`´štTime
(
cout
, 
tim”
.
	`time
(è- 
begSec
); couˆ<< 
’dl
;

1383 
wts
.
	`growToSize
(1);

1384 
wts
.
	`­³nd
(0.0);

1385 
numNÚLockedWts
 = 
numWts
;

1386 
i
 = 0; i < 
numWts
; i++)

1388 ià(
noPriÜ
)

1390 
wts
.
	`growToSize
(wts.
	`size
() + 1);

1391 
wts
[
i
+1] = 0;

1395 ià(
lockedWts
[
i
]è
numNÚLockedWts
--;

1398 
wts
.
	`growToSize
(wts.
	`size
() + 1);

1399 
wts
[
i
+1] = 0;

1405 
cout
 << "L-BFGS-B i fšdšg o±im® weights......" << 
’dl
;

1406 
begSec
 = 
tim”
.
	`time
();

1408 
LBFGSB
 
	`lbfgsb
(
maxI‹r
, 
cÚvTh»sh
, &
¶l
, 
numNÚLockedWts
);

1409 
™”
;

1410 
boŞ
 
”rÜ
;

1411 
¶lV®ue
 = 
lbfgsb
.
	`mšimize
((*)
wts
.
	`g‘I‹ms
(), 
™”
, 
”rÜ
);

1413 ià(
”rÜ
è
cout
 << "LBFGSB„‘uºed w™h‡À”rÜ!" << 
’dl
;

1414 
cout
 << "num i‹¿tiÚ  = " << 
™”
 << 
’dl
;

1415 
cout
 << "timeaken = ";

1416 
Tim”
::
	`´štTime
(
cout
, 
tim”
.
	`time
(è- 
begSec
);

1417 
cout
 << 
’dl
;

1418 
cout
 << "p£udo-log-lik–ihood = " << -
¶lV®ue
 << 
’dl
;

1421 
wts
.
	`growToSize
(
numCÏu£sFÜmuÏs
 + 1);

1423 
A¼ay
<> 
wtsAá”T›dCÏu£s
;

1424 
wtsAá”T›dCÏu£s
.
	`growToSize
(
numCÏu£sFÜmuÏs
 + 1);

1425 
idxOff£t
 = 0;

1426 
w
 = 1; w < 
wtsAá”T›dCÏu£s
.
	`size
(); w++)

1428 ià(
wtsW™hT›dCÏu£s
[
w
])

1430 
wtsAá”T›dCÏu£s
[
w
] = 
wts
[w - 
idxOff£t
];

1431 
idxOff£t
 = 0;

1435 
wtsAá”T›dCÏu£s
[
w
] = 0.0;

1436 
idxOff£t
++;

1439 
w
 = 1; w < 
wtsAá”T›dCÏu£s
.
	`size
(); w++)

1441 
wts
[
w
] = 
wtsAá”T›dCÏu£s
[w];

1447 ià(
šdexT¿ns
è
	`assignWtsAndOuutMLN
(
out
, 
mÊs
, 
domašs
, 
wts
, indexTrans);

1448 
	`assignWtsAndOuutMLN
(
out
, 
mÊs
, 
domašs
, 
wts
);

1450 
out
.
	`şo£
();

1453 
	`d–‘eDomašs
(
domašs
);

1455 
i
 = 0; i < 
mÊs
.
	`size
(); i++)

1457 ià(
DOMAINS_SHARE_DATA_STRUCT
 && 
i
 > 0)

1459 
mÊs
[
i
]->
	`£tCÏu£s
(
NULL
);

1460 
mÊs
[
i
]->
	`£tMLNCÏu£Infos
(
NULL
);

1461 
mÊs
[
i
]->
	`£tP»dIdToCÏu£sM­
(
NULL
);

1462 
mÊs
[
i
]->
	`£tFÜmuÏAndCÏu£sA¼ay
(
NULL
);

1463 
mÊs
[
i
]->
	`£tEx‹º®CÏu£
(
NULL
);

1465 
d–‘e
 
mÊs
[
i
];

1468 
Pow”S‘
::
	`d–‘ePow”S‘
();

1469 ià(
šdexT¿ns
è
d–‘e
 indexTrans;

1471 
cout
 << "Totalime = ";

1472 
Tim”
::
	`´štTime
(
cout
, 
tim”
.
	`time
(è- 
¡¬tSec
); couˆ<< 
’dl
;

1473 
	}
}

	@learnwts/learnwts.h

67 #iâdeà
LEARNWTS_H_NOV_23_2005


68 
	#LEARNWTS_H_NOV_23_2005


	)

70 
	~<sys/time.h
>

71 
	~"ut.h
"

72 
	~"tim”.h
"

73 
	~"fŞ.h
"

74 
	~"mÊ.h
"

75 
	~"šdexŒª¦©Ü.h
"

78 cÚ¡ * 
ZZ_TMP_FILE_POSTFIX
;

79 cÚ¡ 
boŞ
 
	gDOMAINS_SHARE_DATA_STRUCT
 = 
Œue
;

88 
exŒaùFeNames
(cÚ¡ * cÚ¡ & 
ÇmesSŒ
, 
A¼ay
<
¡ršg
>& 
ÇmesA¼ay
)

90 ià(
	gÇmesSŒ
 =ğ
NULL
) ;

91 
¡ršg
 
s
(
ÇmesSŒ
);

92 
	gs
 = 
Ut
::
Œim
(
s
);

93 ià(
	gs
.
Ëngth
() == 0) ;

94 
	gs
.
­³nd
(",");

95 
	g¡ršg
::
size_ty³
 
cur
 = 0;

96 
	g¡ršg
::
size_ty³
 
comma
;

97 
¡ršg
 
	gÇme
;

98 
	gŒue
)

100 
	gcomma
 = 
s
.
fšd
(",", 
cur
);

101 ià(
	gcomma
 =ğ
¡ršg
::
Åos
) ;

102 
	gÇme
 = 
s
.
sub¡r
(
cur
, 
comma
-cur);

103 
	gÇmesA¼ay
.
­³nd
(
Çme
);

104 
	gcur
 = 
comma
+1;

115 
	$exŒaùArgs
(cÚ¡ * cÚ¡ & 
¬gsSŒ
, & 
¬gc
, ** 
¬gv
)

117 
¬gc
 = 0;

118 ià(
¬gsSŒ
 =ğ
NULL
) ;

119 
¡ršg
 
	`s
(
¬gsSŒ
);

120 
s
 = 
Ut
::
	`Œim
(s);

121 ià(
s
.
	`Ëngth
() == 0) ;

122 
s
.
	`­³nd
(" ");

123 
¡ršg
::
size_ty³
 
cur
 = 0;

124 
¡ršg
::
size_ty³
 
bÏnk
;

125 
¡ršg
 
¬g
;

127 
Œue
)

129 
bÏnk
 = 
s
.
	`fšd
(" ", 
cur
);

130 ià(
bÏnk
 =ğ
¡ršg
::
Åos
) ;

131 
¬g
 = 
s
.
	`sub¡r
(
cur
, 
bÏnk
-cur);

132 
¬g
 = 
Ut
::
	`Œim
(arg);

133 
	`mem£t
(
¬gv
[
¬gc
], '\0', 500);

134 
¬g
.
	`cİy
(
¬gv
[
¬gc
],‡rg.
	`Ëngth
());

135 
¬gc
++;

136 
cur
 = 
bÏnk
 + 1;

138 
	}
}

141 
	$´štDomašInfo
(
Domaš
* 
domaš
)

143 
cout
<<"domaš' numb” oà´ediÿ‹ : "<<
domaš
->
	`g‘NumP»diÿ‹s
()<<
’dl
;

144 
cout
<<"domaš' ´ediÿ‹em¶©e : "; 
domaš
->
	`´štP»diÿ‹Tem¶©es
(cout); cout<<
’dl
;

145 
cout
<<"domaš' cÚ¡ªt li¡ : "<<
’dl
;

146 
numTy³s
 = 
domaš
->
	`g‘NumTy³s
();

147 
ty³Id
 = 0 ;y³Id < 
numTy³s
 ;ypeId++)

149 
cout
<<"ty³Id : "<<
ty³Id
<<", constants : ";

150 cÚ¡ 
A¼ay
<>* 
cÚs
 = 
domaš
->
	`g‘CÚ¡ªtsByTy³
(
ty³Id
);

151 
	`´štA¼ay
(*
cÚs
,
cout
);

152 
cout
<<
’dl
;

154 
cout
<<"domaš' ex‹º®CÚ¡ªt li¡ : "<<
’dl
;

155 
ty³Id
 = 0 ;y³Id < 
numTy³s
 ;ypeId++)

157 
cout
<<"ty³Id : "<<
ty³Id
<<", constants : ";

158 cÚ¡ 
A¼ay
<>* 
cÚs
 = 
domaš
->
	`g‘Ex‹º®CÚ¡ªtsByTy³
(
ty³Id
);

159 
	`´štA¼ay
(*
cÚs
,
cout
);

160 
cout
<<
’dl
;

162 
cout
<<"domaš' db' Œu´ediÿ‹ id : "<<
’dl
;

163 
numFOP»ds
 = 
domaš
->
	`g‘NumP»diÿ‹s
();

164 
D©aba£
 *
db
 = 
domaš
->
	`g‘DB
();

165 
A¼ay
<
LÚgLÚgHashS‘
>* 
ŒueP»dIdxS‘
 = 
db
->
	`g‘TrueP»dIdxS‘
();

166 
´edId
 = 0 ;…»dId < 
numFOP»ds
 ;…redId++)

168 
cout
<<"FO´edId : "<<
´edId
<<", FO´edNam: "<<
domaš
->
	`g‘P»diÿ‹Name
(predId)<<",…redIds : ";

169 
LÚgLÚgHashS‘
::
cÚ¡_™”©Ü
 
™
 = (*
ŒueP»dIdxS‘
)[
´edId
].
	`begš
();

170 ; 
™
 !ğ(*
ŒueP»dIdxS‘
)[
´edId
].
	`’d
(); it++)

172 
cout
<<*
™
<<",";

174 
cout
<<
’dl
;

176 
cout
<<"domaš' db' çl£…»diÿ‹ id : "<<
’dl
;

177 
A¼ay
<
LÚgLÚgHashS‘
>* 
çl£P»dIdxS‘
 = 
db
->
	`g‘F®£P»dIdxS‘
();

178 
´edId
 = 0 ;…»dId < 
numFOP»ds
 ;…redId++)

180 
cout
<<"FO´edId : "<<
´edId
<<", FO´edNam: "<<
domaš
->
	`g‘P»diÿ‹Name
(predId)<<",…redIds : ";

181 
LÚgLÚgHashS‘
::
cÚ¡_™”©Ü
 
™
 = (*
çl£P»dIdxS‘
)[
´edId
].
	`begš
();

182 ; 
™
 !ğ(*
çl£P»dIdxS‘
)[
´edId
].
	`’d
(); it++)

184 
cout
<<*
™
<<",";

186 
cout
<<
’dl
;

188 
	}
}

190 
ü—‹DomašAndMLN
(
A¼ay
<
Domaš
*>& 
domašs
, A¼ay<
MLN
*>& 
mÊs
,

191 cÚ¡ 
¡ršg
& 
šMLNFe
, 
o¡ršg¡»am
& 
cÚ¡Fes
,

192 
o¡ršg¡»am
& 
dbFes
,

193 cÚ¡ 
SŒšgHashA¼ay
* cÚ¡ & 
nÚEvidP»dNames
,

194 cÚ¡ 
boŞ
& 
addUn™CÏu£s
, cÚ¡ & 
´iÜM—n
,

195 cÚ¡ 
boŞ
& 
checkPlusTy³s
, cÚ¡ boŞ& 
mwsLazy
,

196 cÚ¡ 
boŞ
& 
®lP»dsExû±Qu”›sA»CW
,

197 cÚ¡ 
SŒšgHashA¼ay
* cÚ¡ & 
owP»dNames
,

198 cÚ¡ 
SŒšgHashA¼ay
* cÚ¡ & 
cwP»dNames
)

200 
	g¡ršg
::
size_ty³
 
b¦ash
 = 
šMLNFe
.
rfšd
("/");

201 
¡ršg
 
	gtmp
 = (
b¦ash
 =ğ¡ršg::
Åos
) ?

202 
šMLNFe
:šMLNFe.
sub¡r
(
b¦ash
+1,šMLNFe.
Ëngth
()-bslash-1);

203 
	gtmpInMLN
[100];

204 
¥rštf
(
tmpInMLN
, "%s%d%s", 
tmp
.
c_¡r
(), 
g‘pid
(), 
ZZ_TMP_FILE_POSTFIX
);

206 
of¡»am
 
out
(
tmpInMLN
);

207 
if¡»am
 
š
(
šMLNFe
.
c_¡r
());

208 ià(!
	gout
.
good
()è{ 
	gcout
<<"ERROR: faedØİ’ "<<
	gtmpInMLN
 <<
	g’dl
; 
ex™
(-1);}

209 ià(!
	gš
.
good
()è{ 
	gcout
<<"ERROR: faedØİ’ "<<
	gšMLNFe
<<
	g’dl
; 
ex™
(-1);}

211 
¡ršg
 
	gbufãr
;

212 
g‘lše
(
š
, 
bufãr
)è
	gout
 << 
	gbufãr
 << 
	g’dl
;

213 
	gš
.
şo£
();

215 
	gout
 << 
	gcÚ¡Fes
.
¡r
(è<< 
	g’dl


216 << 
	gdbFes
.
¡r
(è<< 
	g’dl
;

217 
	gout
.
şo£
();

220 
Domaš
* 
	gdomaš
 = 
Ãw
 Domain;

221 
MLN
* 
	gmÊ
 = 
Ãw
 MLN();

224 
boŞ
 
	gw¬nAboutDupGndP»ds
 = 
Œue
;

225 
boŞ
 
	gmu¡HaveWtOrFuÎStİ
 = 
çl£
;

226 
boŞ
 
	gæWtsOfFl³dCÏu£
 = 
çl£
;

227 
Domaš
* 
	gdomaš0
 = (
checkPlusTy³s
è? 
domašs
[0] : 
NULL
;

229 
boŞ
 
	gok
 = 
runYYP¬£r
(
mÊ
, 
domaš
, 
tmpInMLN
, 
®lP»dsExû±Qu”›sA»CW
,

230 
owP»dNames
, 
cwP»dNames
, 
nÚEvidP»dNames
,

231 
addUn™CÏu£s
, 
w¬nAboutDupGndP»ds
, 
´iÜM—n
,

232 
mu¡HaveWtOrFuÎStİ
, 
domaš0
, 
mwsLazy
,

233 
æWtsOfFl³dCÏu£
);

235 
uÆšk
(
tmpInMLN
);

236 ià(!
	gok
è
ex™
(-1);

237 
	gdomašs
.
­³nd
(
domaš
);

238 
	gmÊs
.
­³nd
(
mÊ
);

240 
´štDomašInfo
(
domaš
);

244 
	$´štGroundP»dsAndTruthV®s
(
Domaš
 *
domaš
)

246 
D©aba£
* cÚ¡ &
db
 = 
domaš
->
	`g‘DB
();

247 
‹rmId
, 
v¬IdCÁ
 = 0;

248 
¡ršg
 
´ed
 = "SameAuthor";

249 
¡ršg
 
´edName
 = 
´ed
;

250 cÚ¡ 
P»diÿ‹Tem¶©e
* 
±em¶©e
;

251 
±em¶©e
 = 
domaš
->
	`g‘P»diÿ‹Tem¶©e
(
´edName
.
	`c_¡r
());

252 
P»diÿ‹
 
	`µ»d
(
±em¶©e
);

253 
i
 = 0; i < 
±em¶©e
->
	`g‘NumT”ms
(); i++)

254 
µ»d
.
	`­³ndT”m
(
Ãw
 
	`T”m
(--
v¬IdCÁ
, (*)&µ»d, 
Œue
));

255 
A¼ay
<
V¬sTy³Id
*>* 
vtiA¼
;

256 
vtiA¼
 = 
NULL
;

257 
µ»d
.
	`ü—‹V¬sTy³IdA¼
(
vtiA¼
);

258 
A¼aysAcûssÜ
<> 
acc
;

259 
i
 = 1; i < 
vtiA¼
->
	`size
(); i++)

261 cÚ¡ 
A¼ay
<>* 
cÚs
 =

262 
domaš
->
	`g‘CÚ¡ªtsByTy³
((*
vtiA¼
)[
i
]->
ty³Id
);

263 
acc
.
	`­³ndA¼ay
(
cÚs
);

267 
A¼ay
<> 
cÚ¡Ids
;

268 
acc
.
	`g‘NextCombš©iÚ
(
cÚ¡Ids
))

270 
	`as£¹
(
cÚ¡Ids
.
	`size
(è=ğ
vtiA¼
->size()-1);

271 
j
 = 0; j < 
cÚ¡Ids
.
	`size
(); j++)

273 
A¼ay
<
T”m
*>& 
‹rms
 = (*
vtiA¼
)[
j
+1]->
v¬s
;

274 
k
 = 0; k < 
‹rms
.
	`size
(); k++)

275 
‹rms
[
k
]->
	`£tId
(
cÚ¡Ids
[
j
]);

279 
	`as£¹
(!
db
->
	`isClo£dWÜld
(
µ»d
.
	`g‘Id
()));

281 
TruthV®ue
 
tv
 = 
db
->
	`g‘V®ue
(&
µ»d
);

282 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
(&
µ»d
);

284 
cout
<<"processing SameAuthor ground…redicate : " ;

285 
gndP»d
->
	`´št
(
cout
,
domaš
);

286 
cout
<<" withruth value : ";

287 if(
tv
 =ğ
TRUE
è
cout
<<"Œue"<<
’dl
;

288 if(
tv
 =ğ
FALSE
è
cout
<<"çl£"<<
’dl
;

289 if(
tv
 =ğ
UNKNOWN
è
cout
<<"unknown"<<
’dl
;

292 
	}
}

293 
ü—‹DomašsAndMLNs
(
A¼ay
<
Domaš
*>& 
domašs
, A¼ay<
MLN
*>& 
mÊs
,

294 cÚ¡ 
boŞ
& 
muÉËD©aba£s
,

295 cÚ¡ 
¡ršg
& 
šMLNFe
,

296 cÚ¡ 
A¼ay
<
¡ršg
>& 
cÚ¡FesA¼
,

297 cÚ¡ 
A¼ay
<
¡ršg
>& 
dbFesA¼
,

298 cÚ¡ 
SŒšgHashA¼ay
* cÚ¡ & 
nÚEvidP»dNames
,

299 cÚ¡ 
boŞ
& 
addUn™CÏu£s
, cÚ¡ & 
´iÜM—n
,

300 cÚ¡ 
boŞ
& 
mwsLazy
,

301 cÚ¡ 
boŞ
& 
®lP»dsExû±Qu”›sA»CW
,

302 cÚ¡ 
SŒšgHashA¼ay
* cÚ¡ & 
owP»dNames
,

303 cÚ¡ 
SŒšgHashA¼ay
* cÚ¡ & 
cwP»dNames
)

305 ià(!
	gmuÉËD©aba£s
)

307 
o¡ršg¡»am
 
	gcÚ¡FesSŒ—m
, 
	gdbFesSŒ—m
;

308 
	gi
 = 0; i < 
	gcÚ¡FesA¼
.
size
(); i++)

309 
	gcÚ¡FesSŒ—m
 << "#šşud\"" << 
	gcÚ¡FesA¼
[
i
] << "\"" << 
	g’dl
;

310 
	gi
 = 0; i < 
	gdbFesA¼
.
size
(); i++)

311 
	gdbFesSŒ—m
 << "#šşud\"" << 
	gdbFesA¼
[
i
] << "\"" << 
	g’dl
;

312 
ü—‹DomašAndMLN
(
domašs
, 
mÊs
, 
šMLNFe
, 
cÚ¡FesSŒ—m
,

313 
dbFesSŒ—m
, 
nÚEvidP»dNames
,

314 
addUn™CÏu£s
, 
´iÜM—n
, 
çl£
, 
mwsLazy
,

315 
®lP»dsExû±Qu”›sA»CW
, 
owP»dNames
, 
cwP»dNames
);

319 
	gi
 = 0; i < 
	gdbFesA¼
.
size
(); i++)

321 
	gcout
 << "·rsšg MLN‡nd c»©šg domaš " << 
	gi
 << "..." << 
	g’dl
;

322 
o¡ršg¡»am
 
	gcÚ¡FesSŒ—m
, 
	gdbFesSŒ—m
;

323 ià(
	gcÚ¡FesA¼
.
size
() > 0)

324 
	gcÚ¡FesSŒ—m
 << "#šşud\"" << 
	gcÚ¡FesA¼
[
i
] << "\"" << 
	g’dl
;

325 
	gdbFesSŒ—m
 << "#šşud\"" << 
	gdbFesA¼
[
i
] << "\"" << 
	g’dl
;

327 
boŞ
 
	gcheckPlusTy³s
 = (
i
 > 0);

329 
ü—‹DomašAndMLN
(
domašs
, 
mÊs
, 
šMLNFe
, 
cÚ¡FesSŒ—m
,

330 
dbFesSŒ—m
, 
nÚEvidP»dNames
,

331 
addUn™CÏu£s
, 
´iÜM—n
, 
checkPlusTy³s
, 
mwsLazy
,

332 
®lP»dsExû±Qu”›sA»CW
, 
owP»dNames
, 
cwP»dNames
);

335 
	gcout
<<"Prštšg MLNs..."<<
	g’dl
;

338 ià(
	gDOMAINS_SHARE_DATA_STRUCT
 && 
	gi
 > 0)

342 
	gnumTy³s
 = 
domašs
[
i
]->
g‘NumTy³s
();

343 
	gj
 = 0; j < 
	gnumTy³s
; j++)

345 cÚ¡ * 
	gty³Name
 = 
domašs
[
i
]->
g‘Ty³Name
(
j
);

346 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡ªtsByTy³
 = 
domašs
[
i
]->
g‘CÚ¡ªtsByTy³
(
j
);

347 
	gk
 = 0; k < 
	gcÚ¡ªtsByTy³
->
size
(); k++)

349 cÚ¡ * 
	gcÚ¡ªtName
 =

350 
domašs
[
i
]->
g‘CÚ¡ªtName
((*
cÚ¡ªtsByTy³
)[
k
]);

352 ià(!
	gdomašs
[0]->
isCÚ¡ªt
(
cÚ¡ªtName
))

354 
	gdomašs
[0]->
addEx‹º®CÚ¡ªt
(
cÚ¡ªtName
, 
ty³Name
);

360 cÚ¡ 
CÏu£HashA¼ay
* 
	gÿ¼
 = 
mÊs
[
i
]->
g‘CÏu£s
();

361 
	gcout
<<"˜ğ"<<
	gi
<<", c¬¸siz: "<<
	gÿ¼
->
size
()<<
	g’dl
;

362 
	gj
 = 0; j < 
	gÿ¼
->
size
(); j++)

364 
CÏu£
* 
	gc
 = (*
ÿ¼
)[
j
];

367 
	gk
 = 0; k < 
	gc
->
g‘NumP»diÿ‹s
(); k++)

369 
P»diÿ‹
* 
	gp
 = 
c
->
g‘P»diÿ‹
(
k
);

370 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	gt


371 ğ
domašs
[0]->
g‘P»diÿ‹Tem¶©e
(
p
->
g‘Name
());

372 
as£¹
(
t
);

373 
	gp
->
£tTem¶©e
((
P»diÿ‹Tem¶©e
*)
t
);

378 ((
	gDomaš
*)
	gdomašs
[
i
])->
»¶aûTy³Du®M­
((

379 
Du®M­
*)
domašs
[0]->
g‘Ty³Du®M­
());

381 ((
	gDomaš
*)
	gdomašs
[
i
])->
»¶aûSŒToP»dTem¶©eM­AndP»dDu®M­
(

382 (
SŒToP»dTem¶©eM­
*è
domašs
[0]->
g‘SŒToP»dTem¶©eM­
(),

383 (
Du®M­
*è
domašs
[0]->
g‘P»dDu®M­
());

385 ((
	gDomaš
*)
	gdomašs
[
i
])->
»¶aûSŒToFuncTem¶©eM­AndFuncDu®M­
(

386 (
SŒToFuncTem¶©eM­
*è
domašs
[0]->
g‘SŒToFuncTem¶©eM­
(),

387 (
Du®M­
*è
domašs
[0]->
g‘FuncDu®M­
());

388 ((
	gDomaš
*)
	gdomašs
[
i
])->
»¶aûEqu®P»dTem¶©e
(

389 (
P»diÿ‹Tem¶©e
*)
domašs
[0]->
g‘Equ®P»dTem¶©e
());

390 ((
	gDomaš
*)
	gdomašs
[
i
])->
»¶aûFuncS‘
(

391 (
FunùiÚS‘
*)
domašs
[0]->
g‘FuncS‘
());

400 
	gdomašs
[0]->
»Üd”CÚ¡ªts
(
mÊs
[0]);

403 
	gi
 = 1; i < 
	gdomašs
.
size
(); i++)

405 ((
	gDomaš
*)
	gdomašs
[
i
])->
»Üd”CÚ¡ªts
(

406 (
CÚ¡Du®M­
*)
domašs
[0]->
g‘CÚ¡Du®M­
(),

407 (
A¼ay
<A¼ay<>*>*)
domašs
[0]->
g‘CÚ¡ªtsByTy³
(),

408 (
A¼ay
<A¼ay<>*>*)
domašs
[0]->
g‘Ex‹º®CÚ¡ªtsByTy³
(),

409 
mÊs
[
i
]);

416 
	gA¼ay
<A¼ay<
	gboŞ
>*>* 
	gex‹º®CÏu£sP”MLN
 = 
Ãw
 
A¼ay
<A¼ay<
boŞ
>*>;

417 
	gex‹º®CÏu£sP”MLN
->
growToSize
(
mÊs
.
size
());

418 (*
	gex‹º®CÏu£sP”MLN
)[0] = 
Ãw
 
A¼ay
<
boŞ
>;

419 (*
	gex‹º®CÏu£sP”MLN
)[0]->
growToSize
(
mÊs
[0]->
g‘NumCÏu£s
(), 
çl£
);

420 
	gi
 = 1; i < 
	gmÊs
.
size
(); i++)

422 cÚ¡ 
CÏu£HashA¼ay
* 
	gÿ¼
 = 
mÊs
[
i
]->
g‘CÏu£s
();

423 (*
	gex‹º®CÏu£sP”MLN
)[
i
] = 
Ãw
 
A¼ay
<
boŞ
>;

424 
	gj
 = 0; j < 
	gÿ¼
->
size
(); j++)

426 
CÏu£
* 
	gc
 = (*
ÿ¼
)[
j
];

427 ià(!
	gmÊs
[0]->
cÚšsCÏu£
(
c
))

429 
¡ršg
 
	gfÜmuÏSŒšg
 = 
mÊs
[
i
]->
g‘P¬’tFÜmuÏ
(
j
, 0);

430 
boŞ
 
	ghasExi¡
 = 
mÊs
[
i
]->
isExi¡CÏu£
(
j
);

431 ià(
	gmÊs
[0]->
­³ndEx‹º®CÏu£
(
fÜmuÏSŒšg
, 
hasExi¡
,

432 
Ãw
 
CÏu£
(*
c
), 
domašs
[0], 
çl£
,

433 
çl£
, false))

435 (*
	gex‹º®CÏu£sP”MLN
)[0]->
­³nd
(
çl£
);

441 cÚ¡ 
CÏu£HashA¼ay
* 
	gÿ¼
 = 
mÊs
[0]->
g‘CÏu£s
();

442 
	gj
 = 0; j < 
	gÿ¼
->
size
(); j++)

444 
CÏu£
* 
	gc
 = (*
ÿ¼
)[
j
];

447 
	gk
 = 1; k < 
	gmÊs
.
size
(); k++)

449 ià(
	gmÊs
[
k
]->
cÚšsCÏu£
(
c
))

450 (*
	gex‹º®CÏu£sP”MLN
)[
k
]->
­³nd
(
çl£
);

452 (*
	gex‹º®CÏu£sP”MLN
)[
k
]->
­³nd
(
Œue
);

456 
	gi
 = 1; i < 
	gmÊs
.
size
(); i++)

459 
	gmÊs
[
i
]->
»¶aûCÏu£s
(
Ãw


460 
CÏu£HashA¼ay
(*(CÏu£HashA¼ay*)
mÊs
[0]->
g‘CÏu£s
()));

461 
	gmÊs
[
i
]->
»¶aûMLNCÏu£Infos
(
Ãw


462 
A¼ay
<
MLNCÏu£Info
*>(*(A¼ay<MLNCÏu£Info*>*)
mÊs
[0]->

463 
g‘MLNCÏu£Infos
()));

464 
	gmÊs
[
i
]->
»¶aûP»dIdToCÏu£sM­
(
Ãw


465 
A¼ay
<A¼ay<
IndexCÏu£
*>*>(*(A¼ay<A¼ay<IndexCÏu£*>*>*)
mÊs
[0]->

466 
g‘P»dIdToCÏu£sM­
()));

467 
	gmÊs
[
i
]->
»¶aûFÜmuÏAndCÏu£sA¼ay
(
Ãw


468 
FÜmuÏAndCÏu£sA¼ay
(*(FÜmuÏAndCÏu£sA¼ay*)
mÊs
[0]->

469 
g‘FÜmuÏAndCÏu£sA¼ay
()));

470 
	gmÊs
[
i
]->
»¶aûEx‹º®CÏu£
((*
ex‹º®CÏu£sP”MLN
)[i]);

473 
d–‘e
 
	gex‹º®CÏu£sP”MLN
;

475 
	gi
 = 1; i < 
	gmÊs
.
size
(); i++)

479 
	gmÊs
[
i
]->
»hashCÏu£s
();

491 
assignWtsAndOuutMLN
(
o¡»am
& 
out
, 
A¼ay
<
MLN
*>& 
mÊs
,

492 
A¼ay
<
Domaš
*>& 
domašs
, cÚ¡ A¼ay<>& 
wts
,

493 
IndexT¿n¦©Ü
* cÚ¡& 
šdexT¿ns
)

497 * 
	gwwts
 = (*è
wts
.
g‘I‹ms
();

498 
	gšdexT¿ns
->
assignNÚT›dCÏu£WtsToMLNs
(++
wwts
);

502 
	gout
 << "//´ediÿ‹ deş¬©iÚs" << 
	g’dl
;

503 
	gdomašs
[0]->
´štP»diÿ‹Tem¶©es
(
out
);

504 
	gout
 << 
	g’dl
;

507 ià(
	gdomašs
[0]->
g‘NumFunùiÚs
() > 0)

509 
	gout
 << "//funùiÚ deş¬©iÚs" << 
	g’dl
;

510 
	gdomašs
[0]->
´štFunùiÚTem¶©es
(
out
);

511 
	gout
 << 
	g’dl
;

514 
	gmÊs
[0]->
´štMLNNÚExi¡FÜmuÏs
(
out
, 
domašs
[0]);

516 cÚ¡ 
CÏu£HashA¼ay
* 
	gşau£Ord”šg
 = 
šdexT¿ns
->
g‘CÏu£Ord”šg
();

517 cÚ¡ 
SŒšgHashA¼ay
* 
	gexFÜmOrd”šg
 = 
šdexT¿ns
->
g‘Exi¡FÜmuÏOrd”šg
();

518 
	gi
 = 0; i < 
	gexFÜmOrd”šg
->
size
(); i++)

521 
	gout
.
width
(0); out << "// "; out.width(6);

522 
	gout
 << 
	gwts
[1+
şau£Ord”šg
->
size
()+
i
] << " " <<(*
	gexFÜmOrd”šg
)[i]<<
	g’dl
;

523 
	gout
 << 
	gwts
[1+
şau£Ord”šg
->
size
()+
i
] << " " <<(*
	gexFÜmOrd”šg
)[i]<<
	g’dl
;

524 
	gout
 << 
	g’dl
;

529 
assignWtsAndOuutMLN
(
o¡»am
& 
out
, 
A¼ay
<
MLN
*>& 
mÊs
,

530 
A¼ay
<
Domaš
*>& 
domašs
, cÚ¡ A¼ay<>& 
wts
)

533 
	gi
 = 0; i < 
	gmÊs
.
size
(); i++)

535 
MLN
* 
	gmÊ
 = 
mÊs
[
i
];

536 cÚ¡ 
CÏu£HashA¼ay
* 
	gşau£s
 = 
mÊ
->
g‘CÏu£s
();

537 
	gj
 = 0; j < 
	gşau£s
->
size
(); j++)

538 (*
	gşau£s
)[
j
]->
£tWt
(
wts
[j+1]);

541 
	gi
 = 0; i < 
	gmÊs
.
size
(); i++)

543 
MLN
* 
	gmÊ
 = 
mÊs
[
i
];

544 
Domaš
* 
	gdomaš
 = 
domašs
[
i
];

545 cÚ¡ 
	gA¼ay
<
	gCÏu£
*>* 
	ghşau£s
 = 
mÊ
->
g‘HybridCÏu£s
();

546 
	gj
 = 0; j < 
	ghşau£s
->
size
(); j++)

548 
	gv¬Ÿnû
 = 
mÊ
->
g‘HybridCÏu£V¬Ÿnû
(
j
, 
domaš
);

549 
	gw
 = 1.0/(2.0*
v¬Ÿnû
);

550 (*
	ghşau£s
)[
j
]->
£tWt
(
w
);

555 
	gout
 << "//´ediÿ‹ deş¬©iÚs" << 
	g’dl
;

556 
	gdomašs
[0]->
´štP»diÿ‹Tem¶©es
(
out
);

557 
	gout
 << 
	g’dl
;

560 ià(
	gdomašs
[0]->
g‘NumFunùiÚs
() > 0)

563 
	gout
 << "//funùiÚ deş¬©iÚs" << 
	g’dl
;

564 
	gdomašs
[0]->
´štFunùiÚTem¶©es
(
out
);

565 
	gout
 << 
	g’dl
;

567 
	gmÊs
[0]->
´štMLN
(
out
, 
domašs
[0]);

571 
d–‘eDomašs
(
A¼ay
<
Domaš
*>& 
domašs
)

573 
	gi
 = 0; i < 
	gdomašs
.
size
(); i++)

575 ià(
	gDOMAINS_SHARE_DATA_STRUCT
 && 
	gi
 > 0)

577 ((
	gDomaš
*)
	gdomašs
[
i
])->
£tTy³Du®M­
(
NULL
);

578 ((
	gDomaš
*)
	gdomašs
[
i
])->
£tSŒToP»dTem¶©eM­AndP»dDu®M­
(
NULL
, NULL);

579 ((
	gDomaš
*)
	gdomašs
[
i
])->
£tSŒToFuncTem¶©eM­AndFuncDu®M­
(
NULL
, NULL);

580 ((
	gDomaš
*)
	gdomašs
[
i
])->
£tEqu®P»dTem¶©e
(
NULL
);

581 ((
	gDomaš
*)
	gdomašs
[
i
])->
£tFuncS‘
(
NULL
);

584 ((
	gDomaš
*)
	gdomašs
[
i
])->
£tCÚ¡Du®M­
(
NULL
);

585 ((
	gDomaš
*)
	gdomašs
[
i
])->
£tCÚ¡ªtsByTy³
(
NULL
);

587 
d–‘e
 
	gdomašs
[
i
];

	@learnwts/pseudologlikelihood.h

67 #iâdeà
LOGPSEUDOLIKELIHOOD_H_AUG_18_2005


68 
	#LOGPSEUDOLIKELIHOOD_H_AUG_18_2005


	)

70 
	~<cm©h
>

71 
	~"¬¿y.h
"

72 
	~"¿ndom.h
"

73 
	~"domaš.h
"

74 
	~"şau£.h
"

75 
	~"mÊ.h
"

76 
	~"šdexŒª¦©Ü.h
"

81 #iâdeà
ex¶


82 
	#ex¶
 
exp


	)

83 
	#logl
 
log


	)

90 cÚ¡ 
boŞ
 
	gDB_HAS_UNKNOWN_PREDS
 = 
çl£
;

92 
	sIndexAndCouÁ


94 
IndexAndCouÁ
(è: 
šdex
(
NULL
), 
couÁ
(0) {}

95 
IndexAndCouÁ
(* cÚ¡ & 
i
, cÚ¡ & 
c
è: 
šdex
(i), 
couÁ
(c) {}

96 * 
	mšdex
;

97 
	mcouÁ
;

101 
	sUndoInfo


103 
UndoInfo
(
A¼ay
<
IndexAndCouÁ
*>* cÚ¡ & 
affA¼
,

104 
IndexAndCouÁ
* cÚ¡ & 
Ÿc
, cÚ¡ & 
»mIdx
, cÚ¡ & 
domIdx
)

105 : 
afãùedA¼
(
affA¼
), 
»mIac
(
Ÿc
), 
»mIacIdx
(
»mIdx
), 
domašIdx
(
domIdx
) {}

106 ~
UndoInfo
(è{ià(
	m»mIac
è
d–‘e
„emIac; }

107 
	mA¼ay
<
	mIndexAndCouÁ
*>* 
	mafãùedA¼
;

108 
IndexAndCouÁ
* 
	m»mIac
;

109 
	m»mIacIdx
;

110 
	mdomašIdx
;

114 
	sSam¶edGndšgs


116 
IÁHashA¼ay
 
	mŒueGndšgs
;

117 
IÁHashA¼ay
 
	mçl£Gndšgs
;

118 
	mtÙ®True
;

119 
	mtÙ®F®£
;

126 şas 
	cP£udoLogLik–ihood


128 
	mpublic
:

129 
P£udoLogLik–ihood
(cÚ¡ 
A¼ay
<
boŞ
>* cÚ¡ & 
¬eNÚEvidP»ds
,

130 cÚ¡ 
A¼ay
<
Domaš
*>* cÚ¡ & 
domašs
,

131 cÚ¡ 
boŞ
& 
wtFOP»d
, cÚ¡ boŞ& 
§m¶eGndP»ds
,

132 cÚ¡ & 
äaùiÚ
, cÚ¡ & 
mšGndP»dSam¶es
,

133 cÚ¡ & 
maxGndP»dSam¶es
)

134 : 
domašs_
(
Ãw
 
A¼ay
<
Domaš
*>è, 
numM—ns_
(-1),

135 
´iÜM—ns_
(
NULL
), 
´iÜStdDevs_
(NULL), 
lockedWts_
(NULL),

136 
wtFOP»d_
(
wtFOP»d
), 
§m¶eGndP»ds_
(
§m¶eGndP»ds
), 
	$idxT¿ns_
(
NULL
)

139 ià(
¬eNÚEvidP»ds
)

141 
¬eNÚEvidP»ds_
 = 
Ãw
 
A¼ay
<
boŞ
>(*
¬eNÚEvidP»ds
);

142 
	`as£¹
(
¬eNÚEvidP»ds_
->
	`size
(è=ğ(*
domašs
)[0]->
	`g‘NumP»diÿ‹s
());

146 
¬eNÚEvidP»ds_
 = 
Ãw
 
A¼ay
<
boŞ
>;

147 
¬eNÚEvidP»ds_
->
	`growToSize
((*
domašs
)[0]->
	`g‘NumP»diÿ‹s
(), 
Œue
);

150 
numDomašs
 = 
domašs
->
	`size
();

151 
	`as£¹
(
numDomašs
 > 0);

152 
domašs_
->
	`growToSize
(
numDomašs
,
NULL
);

153 
i
 = 0; i < 
numDomašs
; i++)

154 (*
domašs_
)[
i
] = (*
domašs
)[i];

156 
gndP»dCÏu£IndexesAndCouÁsA¼_


157 ğ
Ãw
 
A¼ay
<A¼ay<A¼ay<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>*>*>;

158 
gndP»dCÏu£IndexesAndCouÁsA¼_
->
	`growToSize
(
numDomašs
,
NULL
);

159 
i
 = 0; i < 
numDomašs
; i++)

161 (*
gndP»dCÏu£IndexesAndCouÁsA¼_
)[
i
]

162 ğ
Ãw
 
A¼ay
<A¼ay<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>*>;

163 (*
gndP»dCÏu£IndexesAndCouÁsA¼_
)[
i
]->
	`growToSize
(

164 (*
domašs_
)[
i
]->
	`g‘NumP»diÿ‹s
(),
NULL
);

167 
	`ü—‹NumGndšgs
();

169 ià(
§m¶eGndP»ds_
)

171 
§m¶edGndšgsM­s_
 = 
Ãw
 
A¼ay
<A¼ay<
Sam¶edGndšgs
*>*>;

172 
§m¶edGndšgsM­s_
->
	`growToSize
(
numDomašs
, 
NULL
);

173 
i
 = 0; i < 
numDomašs
; i++)

175 (*
§m¶edGndšgsM­s_
)[
i
] = 
Ãw
 
A¼ay
<
Sam¶edGndšgs
*>;

176 (*
§m¶edGndšgsM­s_
)[
i
]->
	`growToSize
((*
domašs_
)[i]->
	`g‘NumP»diÿ‹s
()

177 , 
NULL
);

179 
¿ndom_
 = 
Ãw
 
Rªdom
;

180 
¿ndom_
->
	`š™
(-3);

181 
	`§m¶eP»dGroundšgs
(
äaùiÚ
, 
mšGndP»dSam¶es
, 
maxGndP»dSam¶es
);

185 
§m¶edGndšgsM­s_
 = 
NULL
;

186 
¿ndom_
 = 
NULL
;

191 ~
	$P£udoLogLik–ihood
()

193 
d–‘e
 
¬eNÚEvidP»ds_
;

194 
d–‘e
 
domašs_
;

196 
i
 = 0; i < 
gndP»dCÏu£IndexesAndCouÁsA¼_
->
	`size
(); i++)

198 
A¼ay
<A¼ay<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>*>*

199 
gndP»dCÏu£IndexesAndCouÁs


200 ğ(*
gndP»dCÏu£IndexesAndCouÁsA¼_
)[
i
];

202 
numP»ds
 = 
gndP»dCÏu£IndexesAndCouÁs
->
	`size
();

203 
p
 = 0;… < 
numP»ds
;…++)

205 iàĞ(*
gndP»dCÏu£IndexesAndCouÁs
)[
p
] )

207 
A¼ay
<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>* 
gndšgsToCÏu£IndexesAndCouÁs


208 ğ(*
gndP»dCÏu£IndexesAndCouÁs
)[
p
];

209 
numGnds
 = 
gndšgsToCÏu£IndexesAndCouÁs
->
	`size
();

210 
g
 = 0; g < 
numGnds
; g++)

212 
h
 = 0; h < (*
gndšgsToCÏu£IndexesAndCouÁs
)[
g
]->
	`size
();

213 
h
++)

215 
j
 = 0;

216 
j
 < (*(*
gndšgsToCÏu£IndexesAndCouÁs
)[
g
])[
h
]->
	`size
();

217 
j
++)

219 
	`d–‘e
 (*(*(*
gndšgsToCÏu£IndexesAndCouÁs
)[
g
])[
h
])[
j
];

221 
	`d–‘e
 (*(*
gndšgsToCÏu£IndexesAndCouÁs
)[
g
])[
h
];

223 
	`d–‘e
 (*
gndšgsToCÏu£IndexesAndCouÁs
)[
g
];

225 
d–‘e
 
gndšgsToCÏu£IndexesAndCouÁs
;

228 
d–‘e
 
gndP»dCÏu£IndexesAndCouÁs
;

230 
d–‘e
 
gndP»dCÏu£IndexesAndCouÁsA¼_
;

232 
numGndšgs_
->
	`d–‘eI‹msAndCË¬
();

233 
d–‘e
 
numGndšgs_
;

235 ià(
§m¶edGndšgsM­s_
)

237 
i
 = 0; i < 
§m¶edGndšgsM­s_
->
	`size
(); i++)

239 (*
§m¶edGndšgsM­s_
)[
i
]->
	`d–‘eI‹msAndCË¬
();

240 
	`d–‘e
 (*
§m¶edGndšgsM­s_
)[
i
];

242 
d–‘e
 
§m¶edGndšgsM­s_
;

245 ià(
¿ndom_
è
d–‘e
„andom_;

246 
	}
}

249 
	$com´ess
()

251 
i
 = 0; i < 
gndP»dCÏu£IndexesAndCouÁsA¼_
->
	`size
(); i++)

253 
A¼ay
<A¼ay<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>*>*

254 
gndP»dCÏu£IndexesAndCouÁs


255 ğ(*
gndP»dCÏu£IndexesAndCouÁsA¼_
)[
i
];

257 
numP»ds
 = 
gndP»dCÏu£IndexesAndCouÁs
->
	`size
();

258 
p
 = 0;… < 
numP»ds
;…++)

261 ià((*
gndP»dCÏu£IndexesAndCouÁs
)[
p
])

263 
A¼ay
<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>* 
gndšgsToCÏu£IndexesAndCouÁs


264 ğ(*
gndP»dCÏu£IndexesAndCouÁs
)[
p
];

265 
numGnds
 = 
gndšgsToCÏu£IndexesAndCouÁs
->
	`size
();

266 
g
 = 0; g < 
numGnds
; g++)

268 
A¼ay
<A¼ay<
IndexAndCouÁ
*>*>* 
combosToCÏu£IndexesAndCouÁs


269 ğ(*
gndšgsToCÏu£IndexesAndCouÁs
)[
g
];

270 
numCombos
 = 
combosToCÏu£IndexesAndCouÁs
->
	`size
();

271 
c
 = 0; c < 
numCombos
; c++)

272 (*
combosToCÏu£IndexesAndCouÁs
)[
c
]->
	`com´ess
();

279 
	}
}

283 
š£¹CouÁs
(* cÚ¡ & 
şau£IdxInMLN
,

284 
A¼ay
<
UndoInfo
*>* cÚ¡ & 
undoInfos
,

285 
A¼ay
<A¼ay<A¼ay<
CacheCouÁ
*>*>*>* cÚ¡ & 
ÿche
,

286 cÚ¡ & 
d
)

288 
	gA¼ay
<A¼ay<A¼ay<A¼ay<
	gIndexAndCouÁ
*>*>*>*>*

289 
	ggndP»dCÏu£IndexesAndCouÁs
;

291 
	gA¼ay
<
	gIndexAndCouÁ
*>* 
	ggA¼
;

292 
CacheCouÁ
* 
	gcc
;

293 
as£¹
(
ÿche
->
size
(è=ğ
domašs_
->size());

295 
	ggndP»dCÏu£IndexesAndCouÁs
 = (*
gndP»dCÏu£IndexesAndCouÁsA¼_
)[
d
];

296 
	gp
 = 0;… < (*
	gÿche
)[
d
]->
size
();…++)

298 
	gA¼ay
<
	gCacheCouÁ
*>* 
	gccA¼
 = (*(*
ÿche
)[
d
])[
p
];

299 ià(
	gccA¼
 =ğ
NULL
) ;

300 
	gi
 = 0; i < 
	gccA¼
->
size
(); i++)

302 
as£¹
((*
gndP»dCÏu£IndexesAndCouÁs
)[
p
] !ğ
NULL
);

303 
	gcc
 = (*
ccA¼
)[
i
];

304 
	ggA¼
 = (*(*(*
gndP»dCÏu£IndexesAndCouÁs
)[
p
])[
cc
->
g
])[cc->
c
];

306 
as£¹
(
gA¼
->
size
()==0 ||*(gA¼->
Ï¡I‹m
()->
šdex
)!=*
şau£IdxInMLN
);

307 
as£¹
(
cc
->
út
 != 0);

308 
	ggA¼
->
­³nd
(
Ãw
 
IndexAndCouÁ
(
şau£IdxInMLN
, 
cc
->
út
));

309 ià(
	gundoInfos
èundoInfos->
­³nd
(
Ãw
 
UndoInfo
(
gA¼
, 
NULL
, -1, 
d
));

316 
š£¹CouÁs
(cÚ¡ 
A¼ay
<*>& 
şau£IdxInMLNs
,

317 
A¼ay
<
UndoInfo
*>* cÚ¡ & 
undoInfos
,

318 
A¼ay
<A¼ay<A¼ay<
CacheCouÁ
*>*>*>* cÚ¡ & 
ÿche
)

320 
as£¹
(
ÿche
->
size
(è=ğ
domašs_
->size());

321 
as£¹
(
şau£IdxInMLNs
.
size
(è=ğ
domašs_
->size());

323 
	gd
 = 0; d < 
	gÿche
->
size
(); d++)

324 
š£¹CouÁs
(
şau£IdxInMLNs
[
d
], 
undoInfos
, 
ÿche
, d);

331 
compu‹CouÁsFÜNewAµ’dedCÏu£
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
,

332 * cÚ¡ & 
şau£IdxInMLN
,

333 cÚ¡ & 
domašIdx
,

334 
A¼ay
<
UndoInfo
*>* cÚ¡ & 
undoInfos
,

335 cÚ¡ 
boŞ
& 
§m¶eCÏu£s
,

336 
A¼ay
<A¼ay<A¼ay<
CacheCouÁ
*>*>*>* cÚ¡ & 
ÿche
,

337 
A¼ay
<
CÏu£
*>* cÚ¡ & 
t›dCÏu£s
)

339 
compu‹CouÁsRemoveCouÁsH–³r
(
Œue
, 
c
, 
şau£IdxInMLN
, 
domašIdx
,

340 
undoInfos
, 
§m¶eCÏu£s
, 
ÿche
,

341 
t›dCÏu£s
);

345 
»moveCouÁsFÜCÏu£
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
,

346 * cÚ¡ & 
şau£IdxInMLN
, cÚ¡ & 
domašIdx
,

347 
A¼ay
<
UndoInfo
*>* cÚ¡ & 
undoInfos
)

349 
compu‹CouÁsRemoveCouÁsH–³r
(
çl£
, 
c
, 
şau£IdxInMLN
, 
domašIdx
,

350 
undoInfos
, 
çl£
, 
NULL
, NULL);

355 
undoAµ’dRemoveCouÁs
(cÚ¡ 
A¼ay
<
UndoInfo
*>* cÚ¡ & 
undoInfos
)

357 
	gi
 = 
undoInfos
->
size
() - 1; i >= 0; i--)

359 ià((*
	gundoInfos
)[
i
]->
	g»mIacIdx
 >= 0)

361 
A¼ay
<
IndexAndCouÁ
*>* 
afãùedA¼
 = (*
undoInfos
)[
i
]->affectedArr;

362 
IndexAndCouÁ
* 
	g»mIac
 = (*
undoInfos
)[
i
]->
»mIac
;

363 (*
	gundoInfos
)[
i
]->
	g»mIac
 = 
NULL
;

364 
	g»mIacIdx
 = (*
undoInfos
)[
i
]->
»mIacIdx
;

366 ià(
	gafãùedA¼
->
size
(è=ğ
»mIacIdx
)

367 
afãùedA¼
->
­³nd
(
»mIac
);

370 
as£¹
(
»mIacIdx
 < 
afãùedA¼
->
size
());

371 
IndexAndCouÁ
* 
	gtmpRemIac
 = (*
afãùedA¼
)[
»mIacIdx
];

372 (*
	gafãùedA¼
)[
»mIacIdx
] = 
»mIac
;

373 
	gafãùedA¼
->
­³nd
(
tmpRemIac
);

378 
IndexAndCouÁ
* 
	gŸc
 = (*
undoInfos
)[
i
]->
afãùedA¼
->
»moveLa¡I‹m
();

379 
d–‘e
 
	gŸc
;

382 
as£¹
(
noR•—‹dIndex
((*
undoInfos
)[
i
]->
afãùedA¼
));

383 
d–‘e
 (*
undoInfos
)[
i
];

388 
	$g‘V®ueAndG¿d›Á
(* 
g¿d›Á
, * 
wt
,

389 cÚ¡ & 
¬rSize
)

391 
w¶l
 = 0.0;

393 
A¼ay
<> 
ÃwWts
;

394 
ÃwWts
.
	`growToSize
(
numM—ns_
);

396 
off£t1
 = 0;

397 
i
 = 0; i < 
numM—ns_
; i++)

399 ià(
lockedWts_
 &&†ockedWts_[
i
])

401 
ÃwWts
[
i
] = 
´iÜM—ns_
[i];

402 
off£t1
++;

404 
ÃwWts
[
i
] = 
wt
[˜- 
off£t1
];

407 
A¼ay
<> 
ÃwG¿d›Á
;

408 
ÃwG¿d›Á
.
	`growToSize
(
numM—ns_
, 0.0);

411 ià(
idxT¿ns_
 =ğ
NULL
)

413 
i
 = 0; i < 
domašs_
->
	`size
(); i++)

414 
w¶l
 +ğ
	`g‘V®ueAndG¿d›ÁFÜDomaš
((*)
ÃwG¿d›Á
.
	`g‘I‹ms
(),

415 (*)
ÃwWts
.
	`g‘I‹ms
(),

416 
numM—ns_
, 
i
);

420 
A¼ay
<A¼ay<> >* 
wtsP”Domaš
 = 
idxT¿ns_
->
	`g‘WtsP”Domaš
();

421 
A¼ay
<A¼ay<> >* 
g¿dsP”Domaš
 = 
idxT¿ns_
->
	`g‘G¿dsP”Domaš
();

422 cÚ¡ 
A¼ay
<A¼ay<A¼ay<
IdxDiv
>*> >* 
cIdxToCFIdxsP”Domaš


423 ğ
idxT¿ns_
->
	`g‘CÏu£IdxToCÏu£FÜmuÏIdxsP”Domaš
();

425 
i
 = 0; i < 
domašs_
->
	`size
(); i++)

427 
A¼ay
<>& 
wts
 = (*
wtsP”Domaš
)[
i
];

428 
A¼ay
<>& 
g¿ds
 = (*
g¿dsP”Domaš
)[
i
];

429 
	`as£¹
(
g¿ds
.
	`size
(è=ğ
wts
.size());

430 
	`mem£t
((*)
wts
.
	`g‘I‹ms
(), 0, wts.
	`size
()*());

431 
	`mem£t
((*)
g¿ds
.
	`g‘I‹ms
(), 0, g¿ds.
	`size
()*());

439 
j
 = 0; j < 
wts
.
	`size
(); j++)

441 
A¼ay
<
IdxDiv
>* 
idxDivs
 =(*
cIdxToCFIdxsP”Domaš
)[
i
][
j
];

442 
k
 = 0; k < 
idxDivs
->
	`size
(); k++)

443 ià((*
idxDivs
)[
k
].
idx
 < 
numM—ns_
)

444 
wts
[
j
] +ğ
ÃwWts
[ (*
idxDivs
)[
k
].
idx
 ] / (*idxDivs)[k].
div
;

447 
w¶l
 +ğ
	`g‘V®ueAndG¿d›ÁFÜDomaš
((*)
g¿ds
.
	`g‘I‹ms
(),

448 (*)
wts
.
	`g‘I‹ms
(),

449 
wts
.
	`size
(), 
i
);

452 
j
 = 0; j < 
g¿ds
.
	`size
(); j++)

454 
A¼ay
<
IdxDiv
>* 
idxDivs
 =(*
cIdxToCFIdxsP”Domaš
)[
i
][
j
];

455 
k
 = 0; k < 
idxDivs
->
	`size
(); k++)

456 ià((*
idxDivs
)[
k
].
idx
 < 
numM—ns_
)

457 
ÃwG¿d›Á
[ (*
idxDivs
)[
k
].
idx
 ] +ğ
g¿ds
[
j
] / (*idxDivs)[k].
div
;

467 ià(
numM—ns_
 > 0)

474 
i
 = 0; i < 
numM—ns_
; i++)

478 
w¶l
 +ğ(
ÃwWts
[
i
]-
´iÜM—ns_
[i])*(newWts[i]-priorMeans_[i])/

479 (2*
´iÜStdDevs_
[
i
]*priorStdDevs_[i]);

481 
ÃwG¿d›Á
[
i
] +ğ(
ÃwWts
[i]-
´iÜM—ns_
[i])/

482 (
´iÜStdDevs_
[
i
]*priorStdDevs_[i]);

491 
off£t2
 = 0;

492 
i
 = 0; i < 
numM—ns_
; i++)

494 ià(
lockedWts_
 &&†ockedWts_[
i
])

496 
off£t2
++;

500 
wt
[
i
 - 
off£t2
] = 
ÃwWts
[i];

501 
g¿d›Á
[
i
 - 
off£t2
] = 
ÃwG¿d›Á
[i];

507  
w¶l
;

508 
	}
}

513 
	$£tM—nsStdDevs
(cÚ¡ & 
¬rSize
, cÚ¡ * cÚ¡ & 
´iÜM—ns
,

514 cÚ¡ * cÚ¡ & 
´iÜStdDevs
)

516 
numM—ns_
 = 
¬rSize
;

517 
´iÜM—ns_
 = 
´iÜM—ns
;

518 
´iÜStdDevs_
 = 
´iÜStdDevs
;

519 
	}
}

521 
	$£tLockedWts
(cÚ¡ 
boŞ
* cÚ¡ & 
lockedWts
)

523 
lockedWts_
 = 
lockedWts
;

524 
	}
}

526 
	$£tSam¶eGndP»ds
(cÚ¡ 
boŞ
& 
sgp
)

528 ià(
sgp
è{ 
	`as£¹
(
§m¶edGndšgsM­s_
);‡s£¹(
¿ndom_
); }

529 
§m¶eGndP»ds_
 = 
sgp
;

530 
	}
}

533 
boŞ
 
	$checkNoR•—‹dIndex
(cÚ¡ 
MLN
* cÚ¡ & 
mÊ
=
NULL
)

535 
boŞ
 
»t
 = 
Œue
;

536 
d
 = 0; d < 
domašs_
->
	`size
(); d++)

538 
A¼ay
<A¼ay<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>*>*

539 
gndP»dCÏu£IndexesAndCouÁs


540 ğ(*
gndP»dCÏu£IndexesAndCouÁsA¼_
)[
d
];

542 
numP»ds
 = 
gndP»dCÏu£IndexesAndCouÁs
->
	`size
();

543 
p
 = 0;… < 
numP»ds
;…++)

545 
A¼ay
<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>* 
gndšgsToCÏu£IndexesAndCouÁs


546 ğ(*
gndP»dCÏu£IndexesAndCouÁs
)[
p
];

548 ià(
gndšgsToCÏu£IndexesAndCouÁs
 =ğ
NULL
) ;

550 
numGnds
 = 
gndšgsToCÏu£IndexesAndCouÁs
->
	`size
();

551 
g
 = 0; g < 
numGnds
; g++)

553 
A¼ay
<A¼ay<
IndexAndCouÁ
*>*>* 
gndšgs


554 ğ(*
gndšgsToCÏu£IndexesAndCouÁs
)[
g
];

556 
c
 = 0; c < 
gndšgs
->
	`size
(); c++)

558 
boŞ
 
ok
 = 
	`noR•—‹dIndex
((*
gndšgs
)[
c
], 
mÊ
);

559 ià(!
ok
)

561 
cout
 << "ERROR:„•—‹d index iÀdomaš " << 
d
 << " for…red "

562 << (*
domašs_
)[0]->
	`g‘P»diÿ‹Name
(
p
è<< " gndšg " << 
g


563 << " combš©iÚ " << 
c
 << 
’dl
;

564 
»t
 = 
çl£
;

570  
»t
;

571 
	}
}

574 
	$´štGndP»dCÏu£IndexesAndCouÁs
(cÚ¡ 
MLN
* cÚ¡ & 
mÊ
=
NULL
)

576 
d
 = 0; d < 
domašs_
->
	`size
(); d++)

578 
cout
 << "domašIdx: " << 
d
 << 
’dl
;

579 
cout
 << "gndPredClauseIndexesAndCounts[predIdx][gndingIdx][combIdx][i]"

580 << 
’dl
;

582 
A¼ay
<A¼ay<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>*>*

583 
gndP»dCÏu£IndexesAndCouÁs


584 ğ(*
gndP»dCÏu£IndexesAndCouÁsA¼_
)[
d
];

586 
numP»ds
 = 
gndP»dCÏu£IndexesAndCouÁs
->
	`size
();

587 
p
 = 0;… < 
numP»ds
;…++)

589 
A¼ay
<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>* 
gndšgsToCÏu£IndexesAndCouÁs


590 ğ(*
gndP»dCÏu£IndexesAndCouÁs
)[
p
];

592 ià(
gndšgsToCÏu£IndexesAndCouÁs
 =ğ
NULL
)

594 
cout
 << "gndP»dCÏu£IndexesAndCouÁs[" << 
p
 << "] = NULL" << 
’dl
;

598 
numGnds
 = 
gndšgsToCÏu£IndexesAndCouÁs
->
	`size
();

599 
g
 = 0; g < 
numGnds
; g++)

601 
A¼ay
<A¼ay<
IndexAndCouÁ
*>*>* 
gndšgs


602 ğ(*
gndšgsToCÏu£IndexesAndCouÁs
)[
g
];

604 
c
 = 0; c < 
gndšgs
->
	`size
(); c++)

606 
A¼ay
<
IndexAndCouÁ
*>* 
combos


607 ğ(*
gndšgs
)[
c
];

608 
numCÏu£Idx
 = 
combos
->
	`size
();

610 ià(
numCÏu£Idx
 == 0)

612 
cout
 << "gndP»dCÏu£IndexesAndCouÁs[" << 
p
 << "][" << 
g


613 << "][" << 
c
 << "] =ƒm±y" << 
’dl
;

617 
i
 = 0; i < 
numCÏu£Idx
; i++)

619 
cout
 << "gndP»dCÏu£IndexesAndCouÁs[" << 
p
 << "][" << 
g
 << "]["

620 << 
c
 << "][" << 
i
 << "] (clauseIndex,count) = "

621 << *((*
combos
)[
i
]->
šdex
)

622 << ", " << (*
combos
)[
i
]->
couÁ


623 << ", " << (*
combos
)[
i
] << 
’dl
;

625 ià(
mÊ
)

627 
cout
 << " \t";

628 
mÊ
->
	`g‘CÏu£
(*((*
combos
)[
i
]->
šdex
)è->
	`´št
(
cout
,

629 (*
domašs_
)[0]);

630 
cout
 << 
’dl
;

638 
	}
}

641 
	$£tIndexT¿n¦©Ü
(
IndexT¿n¦©Ü
* cÚ¡ & 
™
è{ 
idxT¿ns_
 = it; 
	}
}

644 
IndexT¿n¦©Ü
* 
	$g‘IndexT¿n¦©Ü
(ècÚ¡ {  
idxT¿ns_
; 
	}
}

647 
	g´iv©e
:

648 
	$ü—‹NumGndšgs
()

650 
numGndšgs_
 = 
Ãw
 
A¼ay
<Array<>*>;

651 
numGndšgs_
->
	`growToSize
(
domašs_
->
	`size
());

652 
i
 = 0; i < 
domašs_
->
	`size
(); i++)

654 (*
numGndšgs_
)[
i
] = 
Ãw
 
A¼ay
<>;

655 (*
numGndšgs_
)[
i
]->
	`growToSize
((*
domašs_
)[i]->
	`g‘NumP»diÿ‹s
(), -1);

658 
i
 = 0; i < 
domašs_
->
	`size
(); i++)

660 cÚ¡ 
Domaš
* 
domaš
 = (*
domašs_
)[
i
];

661 
j
 = 0; j < 
domaš
->
	`g‘NumP»diÿ‹s
(); j++)

663 ià(!(*
¬eNÚEvidP»ds_
)[
j
]) ;

664 cÚ¡ 
P»diÿ‹Tem¶©e
* 
±
 = 
domaš
->
	`g‘P»diÿ‹Tem¶©e
(
j
);

666 
numGndšgs
 = 1;

667 
t
 = 0; < 
±
->
	`g‘NumT”ms
();++)

669 
ty³Id
 = 
±
->
	`g‘T”mTy³AsIÁ
(
t
);

670 
numGndšgs
 *ğ
domaš
->
	`g‘NumCÚ¡ªtsByTy³
(
ty³Id
);

672 (*((*
numGndšgs_
)[
i
]))[
j
] = 
numGndšgs
;

675 
	}
}

678 
ü—‹AÎPossibËP»dsGroundšgs
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

679 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

680 
A¼aysAcûssÜ
<>& 
acc
)

682 
	gi
 = 0; i < 
	g´ed
->
g‘NumT”ms
(); i++)

684 
	gty³Id
 = 
´ed
->
g‘T”mTy³AsIÁ
(
i
);

685 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡A¼
 = 
domaš
->
g‘CÚ¡ªtsByTy³
(
ty³Id
);

686 
	gacc
.
­³ndA¼ay
(
cÚ¡A¼
);

691 
boŞ
 
	$isSam¶edGndP»d
(cÚ¡ & 
g
, cÚ¡ 
Sam¶edGndšgs
* cÚ¡ & 
sg
)

693 ià(
sg
->
çl£Gndšgs
.
	`cÚšs
(
g
)è 
Œue
;

694 ià(
sg
->
ŒueGndšgs
.
	`cÚšs
(
g
)è 
Œue
;

695  
çl£
;

696 
	}
}

699 
compu‹CouÁsRemoveCouÁsH–³r
(
boŞ
 
compu‹CouÁs
,

700 cÚ¡ 
CÏu£
* cÚ¡ & 
c
,

701 * cÚ¡ & 
şau£IdxInMLN
,

702 cÚ¡ & 
domašIdx
,

703 
A¼ay
<
UndoInfo
*>* cÚ¡ & 
undoInfos
,

704 cÚ¡ 
boŞ
& 
§m¶eCÏu£s
,

705 
A¼ay
<A¼ay<A¼ay<
CacheCouÁ
*>*>*>* cÚ¡ & 
ÿche
,

706 
A¼ay
<
CÏu£
*>* cÚ¡ & 
t›dCÏu£s
)

709 cÚ¡ 
Domaš
* 
	gdomaš
 = (*
domašs_
)[
domašIdx
];

710 
D©aba£
* 
	gdb
 = 
domaš
->
g‘DB
();

713 
	gA¼ay
<> 
´edIdxW™hAÎT”msDiffV¬s
(
domaš
->
g‘NumP»diÿ‹s
());

714 
	g´edIdxW™hAÎT”msDiffV¬s
.
growToSize
(
domaš
->
g‘NumP»diÿ‹s
());

715 * 
	g·¼
 = (*è
´edIdxW™hAÎT”msDiffV¬s
.
g‘I‹ms
();

716 
mem£t
(
·¼
, -1, 
domaš
->
g‘NumP»diÿ‹s
()*());

719 
	gA¼ay
<
	gboŞ
> 
´edAÎT”msA»DiffV¬s
(
c
->
g‘NumP»diÿ‹s
());

720 
ü—‹P»dAÎT”msA»DiffV¬s
(
c
, 
´edAÎT”msA»DiffV¬s
,

721 
´edIdxW™hAÎT”msDiffV¬s
);

724 
P»diÿ‹HashA¼ay
 
	g£’P»ds
;

727 
	gp
 = 0;… < 
	gc
->
g‘NumP»diÿ‹s
();…++)

729 
P»diÿ‹
* 
	g´ed
 = 
c
->
g‘P»diÿ‹
(
p
);

730 
	g´edId
 = 
´ed
->
g‘Id
();

731 ià(!(*
	g¬eNÚEvidP»ds_
)[
´edId
]) ;

733 
P»diÿ‹
 
gndP»d
(*
´ed
);

734 
	ggndP»d
.
ÿnÚiÿlize
();

735 
boŞ
 
	g´edIsIn™ŸÎyGnded
 = 
gndP»d
.
isGrounded
();

737 
Sam¶edGndšgs
* 
	gsg
 = 
NULL
;

738 ià(
	g§m¶eGndP»ds_
è
	gsg
 = (*(*
§m¶edGndšgsM­s_
)[
domašIdx
])[
´edId
];

740 
P»diÿ‹
* 
	g£’P»d
 = 
Ãw
 P»diÿ‹(
gndP»d
);

742 ià(
	g£’P»ds
.
­³nd
(
£’P»d
è< 0è{ 
d–‘e
 
	g£’P»d
; ; }

744 ià(
	g´edAÎT”msA»DiffV¬s
[
p
])

749 
	gA¼aysAcûssÜ
<> 
	gacc
;

750 
ü—‹AÎPossibËP»dsGroundšgs
(&
gndP»d
, 
domaš
, 
acc
);

753 
	gg
 = -1;

754 
	gacc
.
hasNextCombš©iÚ
())

756 ++
	gg
;

758 
	gt
 = 0; 
	gcÚ¡Id
;

759 
	gacc
.
ÃxtI‹mInCombš©iÚ
(
cÚ¡Id
))

760 ((
	gT”m
*è
	ggndP»d
.
g‘T”m
(
t
++))->
£tId
(
cÚ¡Id
);

762 ià(
	g§m¶eGndP»ds_
 && !
isSam¶edGndP»d
(
g
,
sg
)) ;

764 ià(
	gcompu‹CouÁs
)

767 
compu‹AndS‘CouÁs
(
c
, 
şau£IdxInMLN
, 
´edId
, 
gndP»d
, 
g
, 
db
,

768 
domašIdx
, 
undoInfos
, 
§m¶eCÏu£s
, 
ÿche
,

769 
t›dCÏu£s
);

773 
»moveCouÁs
(
şau£IdxInMLN
, 
´edId
, 
g
, 
domašIdx
, 
undoInfos
);

780 ià(
	g´edIdxW™hAÎT”msDiffV¬s
[
´edId
] >= 0) ;

785 
	gA¼ay
<> 
muÉl›rs
(
gndP»d
.
g‘NumT”ms
());

786 
ü—‹MuÉl›rs
(
muÉl›rs
, 
gndP»d
, 
domaš
);

790 
	goff£tDueToCÚ¡ªts
 = 0;

796 
	gA¼ay
<A¼ay<
	g·œ
<,
	gT”m
*> >* > 
	gv¬IdToMuÉs
;

797 
	gA¼ay
<> 
	gÃgV¬IdsA¼
;

798 
	gA¼aysAcûssÜ
<> 
	ggroundšgs
;

799 
ü—‹M­pšgOfV¬IdToMuÉl›rsAndV¬GroundšgsAndOff£t
(

800 
gndP»d
, 
domaš
, 
muÉl›rs
, 
off£tDueToCÚ¡ªts
, 
v¬IdToMuÉs
,

801 
ÃgV¬IdsA¼
, 
groundšgs
);

804 ià(!
	g´edIsIn™ŸÎyGnded
)

807 
	gcÚ¡Id
, 
	gcÚ¡Idx
;

808 
	ggroundšgs
.
hasNextCombš©iÚ
())

810 
	gg
 = 
off£tDueToCÚ¡ªts
;

811 
	gj
 = -1;

812 
	ggroundšgs
.
ÃxtI‹mInCombš©iÚ
(
cÚ¡Id
, 
cÚ¡Idx
))

814 ++
	gj
;

815 
	gÃgV¬Id
 = 
ÃgV¬IdsA¼
[
j
];

816 
	gA¼ay
<
	g·œ
<,
	gT”m
*> >* 
	gmuÉsAndT”ms
 = 
v¬IdToMuÉs
[
ÃgV¬Id
];

817 
	gm
 = 0; m < 
	gmuÉsAndT”ms
->
size
(); m++)

819 
	gg
 +ğ
cÚ¡Idx
 * (*
muÉsAndT”ms
)[
m
].
fœ¡
;

820 (*
	gmuÉsAndT”ms
)[
m
].
	g£cÚd
->
£tId
(
cÚ¡Id
);

824 ià(
	g§m¶eGndP»ds_
 && !
isSam¶edGndP»d
(
g
,
sg
)) ;

825 ià(
	gcompu‹CouÁs
)

828 
compu‹AndS‘CouÁs
(
c
, 
şau£IdxInMLN
, 
´edId
, 
gndP»d
, 
g
, 
db
,

829 
domašIdx
, 
undoInfos
, 
§m¶eCÏu£s
, 
ÿche
,

830 
t›dCÏu£s
);

834 
»moveCouÁs
(
şau£IdxInMLN
, 
´edId
, 
g
, 
domašIdx
, 
undoInfos
);

839 
	gg
 = 
off£tDueToCÚ¡ªts
;

841 
boŞ
 
	gok
 = 
Œue
;

842 ià(
	g§m¶eGndP»ds_
è
	gok
 = 
isSam¶edGndP»d
(
g
,
sg
);

844 ià(
	gok
)

846 ià(
	gcompu‹CouÁs
)

849 
compu‹AndS‘CouÁs
(
c
, 
şau£IdxInMLN
, 
´edId
, 
gndP»d
, 
g
, 
db
,

850 
domašIdx
, 
undoInfos
, 
§m¶eCÏu£s
, 
ÿche
,

851 
t›dCÏu£s
);

855 
»moveCouÁs
(
şau£IdxInMLN
, 
´edId
, 
g
, 
domašIdx
, 
undoInfos
);

859 
	gj
 = 0; j < 
	gv¬IdToMuÉs
.
size
(); j++è
d–‘e
 v¬IdToMuÉs[
j
];

863 
	gi
 = 0; i < 
	g£’P»ds
.
size
(); i++è
d–‘e
 s“nP»ds[
i
];

869 
compu‹P”P»dPÎAndG¿d
(cÚ¡ 
A¼ay
<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>*

870 cÚ¡& 
gndšgsToCÏu£IndexesAndCouÁs
,

871 cÚ¡ & 
g
, cÚ¡ * cÚ¡ & 
wt
,

872 & 
³rP»dPÎ
,

873 * cÚ¡ & 
³rP»dG¿d
)

897 
	gwdÙn
 = 0;

899 
	gpmb
 = 1;

901 
	gA¼ay
<A¼ay<
	gIndexAndCouÁ
*>*>* 
	ggndšgs
 =

902 (*
gndšgsToCÏu£IndexesAndCouÁs
)[
g
];

905 
	gc
 = 0; c < 
	ggndšgs
->
size
(); c++)

907 
	gA¼ay
<
	gIndexAndCouÁ
*>* 
	gşau£IndexesAndCouÁs
 = (*
gndšgs
)[
c
];

908 
as£¹
(
noR•—‹dIndex
(
şau£IndexesAndCouÁs
));

910 
	gnumCÏu£sUnifyW™h
 = 
şau£IndexesAndCouÁs
->
size
();

913 
	gi
 = 0; i < 
	gnumCÏu£sUnifyW™h
; i++)

918 
	gwdÙn
 +ğ
wt
[ *Ğ(*
şau£IndexesAndCouÁs
)[
i
]->
šdex
 ) ] *

919 (*
şau£IndexesAndCouÁs
)[
i
]->
couÁ
;

922 
	gpmb
 +ğ
ex¶
(
wdÙn
);

925 
	g³rP»dPÎ
 -ğ
logl
(
pmb
);

928 
	gc
 = 0; c < 
	ggndšgs
->
size
(); c++)

930 
	gA¼ay
<
	gIndexAndCouÁ
*>* 
	gşau£IndexesAndCouÁs


931 ğ(*
gndšgs
)[
c
];

933 
	gi
 = 0; i < 
	gşau£IndexesAndCouÁs
->
size
(); i++)

934 
	g³rP»dG¿d
[ *Ğ(*
şau£IndexesAndCouÁs
)[
i
]->
	gšdex
 ) ]

935 +ğĞ(1.0/
pmb
-1è* (*
şau£IndexesAndCouÁs
)[
i
]->
couÁ
 );

939 
compu‹Sam¶edP”P»dPÎAndG¿d
(
IÁHashA¼ay
& 
gndšgs
,

940 cÚ¡ & 
tÙ®Gndšgs
,

941 & 
tmpP”P»dPÎ
,

942 * cÚ¡ & 
tmpP”P»dG¿d
,

943 & 
³rP»dPÎ
,

944 * cÚ¡ & 
³rP»dG¿d
,

945 cÚ¡ & 
¬rSize
,

946 cÚ¡ * cÚ¡ & 
wt
,

947 cÚ¡ 
A¼ay
<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>*

948 cÚ¡& 
gndšgsToCÏu£IndexesAndCouÁs
)

950 
	gtmpP”P»dPÎ
 = 0;

951 
mem£t
(
tmpP”P»dG¿d
, 0, 
¬rSize
*());

952 
	gi
 = 0; i < 
	ggndšgs
.
size
(); i++)

953 
compu‹P”P»dPÎAndG¿d
(
gndšgsToCÏu£IndexesAndCouÁs
,

954 
gndšgs
[
i
], 
wt
, 
tmpP”P»dPÎ
,

955 
tmpP”P»dG¿d
);

956 ià(
	ggndšgs
.
size
() > 0)

958 
	g³rP»dPÎ
 +ğ
tÙ®Gndšgs
 * 
tmpP”P»dPÎ
/
gndšgs
.
size
();

960 
	gi
 = 0; i < 
	g¬rSize
; i++)

961 
	g³rP»dG¿d
[
i
] +ğ
tÙ®Gndšgs
 * 
tmpP”P»dG¿d
[i]/
gndšgs
.
size
();

968 
	$g‘V®ueAndG¿d›ÁFÜDomaš
(* cÚ¡ & 
g¿d›Á
,

969 cÚ¡ * cÚ¡ & 
wt
,

970 cÚ¡ & 
¬rSize
, cÚ¡ & 
domašIdx
)

972 
w¶l
 = 0;

973 * 
³rP»dG¿d
 = 
Ãw
 [
¬rSize
];

976 
tmpP”P»dPÎ
;

977 * 
tmpP”P»dG¿d
 = 
NULL
;

978 ià(
§m¶eGndP»ds_
è
tmpP”P»dG¿d
 = 
Ãw
 [
¬rSize
];

980 
A¼ay
<A¼ay<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>*>* 
gndP»dCÏu£IndexesAndCouÁs


981 ğ(*
gndP»dCÏu£IndexesAndCouÁsA¼_
)[
domašIdx
];

983 
numP»ds
 = 
gndP»dCÏu£IndexesAndCouÁs
->
	`size
();

984 
p
 = 0;… < 
numP»ds
;…++)

986 ià(!(*
¬eNÚEvidP»ds_
)[
p
]) ;

992 
³rP»dPÎ
 = 0;

993 
	`mem£t
(
³rP»dG¿d
, 0, 
¬rSize
*());

996 ià((*
gndP»dCÏu£IndexesAndCouÁs
)[
p
] !ğ
NULL
)

998 
A¼ay
<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>* 
gndšgsToCÏu£IndexesAndCouÁs


999 ğ(*
gndP»dCÏu£IndexesAndCouÁs
)[
p
];

1001 ià(
§m¶eGndP»ds_
)

1003 
Sam¶edGndšgs
* 
sg
 = (*(*
§m¶edGndšgsM­s_
)[
domašIdx
])[
p
];

1004 
	`compu‹Sam¶edP”P»dPÎAndG¿d
(
sg
->
ŒueGndšgs
, sg->
tÙ®True
,

1005 
tmpP”P»dPÎ
, 
tmpP”P»dG¿d
,

1006 
³rP»dPÎ
, 
³rP»dG¿d
, 
¬rSize
,

1007 
wt
, 
gndšgsToCÏu£IndexesAndCouÁs
);

1008 
	`compu‹Sam¶edP”P»dPÎAndG¿d
(
sg
->
çl£Gndšgs
, sg->
tÙ®F®£
,

1009 
tmpP”P»dPÎ
, 
tmpP”P»dG¿d
,

1010 
³rP»dPÎ
, 
³rP»dG¿d
, 
¬rSize
,

1011 
wt
, 
gndšgsToCÏu£IndexesAndCouÁs
);

1015 
numGnds
 = 
gndšgsToCÏu£IndexesAndCouÁs
->
	`size
();

1016 
	`as£¹
(
numGnds
 =ğ(*((*
numGndšgs_
)[
domašIdx
]))[
p
]);

1017 
g
 = 0; g < 
numGnds
; g++)

1018 
	`compu‹P”P»dPÎAndG¿d
(
gndšgsToCÏu£IndexesAndCouÁs
, 
g
, 
wt
,

1019 
³rP»dPÎ
, 
³rP»dG¿d
);

1024 
³rP»dPÎ
 = (*((*
numGndšgs_
)[
domašIdx
]))[
p
] * -
	`log
(2);

1028 ià(
wtFOP»d_
)

1031 
w¶l
 -ğ
³rP»dPÎ
 / (*((*
numGndšgs_
)[
domašIdx
]))[
p
];

1032 
i
 = 0; i < 
¬rSize
; i++)

1033 
g¿d›Á
[
i
] -ğ
³rP»dG¿d
[i]/(*((*
numGndšgs_
)[
domašIdx
]))[
p
];

1038 
w¶l
 -ğ
³rP»dPÎ
;

1039 
i
 = 0; i < 
¬rSize
; i++)

1040 
g¿d›Á
[
i
] -ğ
³rP»dG¿d
[i];

1044 
d–‘e
 [] 
³rP»dG¿d
;

1045 ià(
§m¶eGndP»ds_
è
d–‘e
 [] 
tmpP”P»dG¿d
;

1047  
w¶l
;

1048 
	}
}

1050 
	$ü—‹CÏu£IndexesAndCouÁsA¼ays
(cÚ¡ & 
´edId
,

1051 cÚ¡ & 
domašIdx
)

1053 
A¼ay
<A¼ay<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>*>* 
gndP»dCÏu£IndexesAndCouÁs


1054 ğ(*
gndP»dCÏu£IndexesAndCouÁsA¼_
)[
domašIdx
];

1055 ià((*
gndP»dCÏu£IndexesAndCouÁs
)[
´edId
] !ğ
NULL
) ;

1057 
A¼ay
<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>* 
¬r
 =

1058 
Ãw
 
A¼ay
<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>;

1059 
numGndšgs
 = (*((*
numGndšgs_
)[
domašIdx
]))[
´edId
];

1063 
g
 = 0; g < 
numGndšgs
; g++)

1064 
¬r
->
	`­³nd
(
Ãw
 
A¼ay
<A¼ay<
IndexAndCouÁ
*>*>);

1065 
¬r
->
	`com´ess
();

1066 (*
gndP»dCÏu£IndexesAndCouÁs
)[
´edId
] = 
¬r
;

1067 
	}
}

1069 
	$ü—‹ComboCÏu£IndexesAndCouÁsA¼ays
(cÚ¡ & 
´edId
,

1070 cÚ¡ & 
domašIdx
,

1071 
P»diÿ‹
* cÚ¡ & 
gndP»d
,

1072 cÚ¡ & 
g
)

1074 
A¼ay
<A¼ay<A¼ay<A¼ay<
IndexAndCouÁ
*>*>*>*>* 
gndP»dCÏu£IndexesAndCouÁs


1075 ğ(*
gndP»dCÏu£IndexesAndCouÁsA¼_
)[
domašIdx
];

1077 
A¼ay
<A¼ay<
IndexAndCouÁ
*>*>* 
comboCÏu£IndexesAndCouÁs


1078 ğ(*(*
gndP»dCÏu£IndexesAndCouÁs
)[
´edId
])[
g
];

1079 ià(
comboCÏu£IndexesAndCouÁs
->
	`size
() > 0) ;

1082 
numCombInBlock
 = 1;

1084 
blockIdx
 = (*
domašs_
)[
domašIdx
]->
	`g‘Block
(
gndP»d
);

1085 ià(
blockIdx
 >= 0)

1086 
numCombInBlock
 = (*
domašs_
)[
domašIdx
]->
	`g‘BlockSize
(
blockIdx
) - 1;

1088 
comboCÏu£IndexesAndCouÁs
->
	`growToSize
(
numCombInBlock
, 
NULL
);

1089 
c
 = 0; c < 
numCombInBlock
; c++)

1091 (*
comboCÏu£IndexesAndCouÁs
)[
c
] = 
Ãw
 
A¼ay
<
IndexAndCouÁ
*>;

1093 
comboCÏu£IndexesAndCouÁs
->
	`com´ess
();

1094 
	}
}

1104 
boŞ
 
compu‹AndS‘CouÁs
(cÚ¡ 
CÏu£
* cÚ¡ 
şau£
,

1105 * cÚ¡ & 
şau£IdxInMLN
,

1106 cÚ¡ & 
´edId
, 
P»diÿ‹
& 
gndP»d
,

1107 cÚ¡ & 
g
, 
D©aba£
* cÚ¡ & 
db
,

1108 cÚ¡ & 
domašIdx
,

1109 
A¼ay
<
UndoInfo
*>* cÚ¡ & 
undoInfos
,

1110 cÚ¡ 
boŞ
& 
§m¶eCÏu£s
,

1111 
A¼ay
<A¼ay<A¼ay<
CacheCouÁ
*>*>*>* cÚ¡ & 
ÿche
,

1112 
A¼ay
<
CÏu£
*>* cÚ¡ & 
t›dCÏu£s
)

1114 
	gA¼ay
<A¼ay<A¼ay<A¼ay<
	gIndexAndCouÁ
*>*>*>*>* 
	ggndP»dCÏu£IndexesAndCouÁs


1115 ğ(*
gndP»dCÏu£IndexesAndCouÁsA¼_
)[
domašIdx
];

1116 cÚ¡ 
Domaš
* 
	gdomaš
 = (*
domašs_
)[
domašIdx
];

1118 ià((*
	ggndP»dCÏu£IndexesAndCouÁs
)[
´edId
] =ğ
NULL
)

1119 
ü—‹CÏu£IndexesAndCouÁsA¼ays
(
´edId
, 
domašIdx
);

1121 
ü—‹ComboCÏu£IndexesAndCouÁsA¼ays
(
´edId
, 
domašIdx
, &
gndP»d
, 
g
);

1123 
	gA¼ay
<A¼ay<
	gIndexAndCouÁ
*>*>* 
	gcomboCÏu£IndexesAndCouÁs


1124 ğ(*(*
gndP»dCÏu£IndexesAndCouÁs
)[
´edId
])[
g
];

1137 
	gc
 = 0; c < 
	gcomboCÏu£IndexesAndCouÁs
->
size
(); c++)

1141 
	gA¼ay
<
	gIndexAndCouÁ
*>* 
	ggA¼
 = (*
comboCÏu£IndexesAndCouÁs
)[
c
];

1142 ià(
	ggA¼
->
size
(è> 0 && *ĞgA¼->
Ï¡I‹m
()->
	gšdex
 ) =ğ*
şau£IdxInMLN
)

1149 
	gút
 =

1150 ((
CÏu£
*)
şau£
)->
couÁDiffNumTrueGroundšgs
(&
gndP»d
, 
domaš
, 
db
,

1151 
DB_HAS_UNKNOWN_PREDS
,

1152 
§m¶eCÏu£s
, 
c
,

1154 
NULL
);

1155 ià(
	gt›dCÏu£s
)

1157 
	gtc
 = 0;ø< 
	gt›dCÏu£s
->
size
();c++)

1159 
boŞ
 
	gnoP»d
 = 
Œue
;

1160 
CÏu£
* 
	gt›dCÏu£
 = (*
t›dCÏu£s
)[
tc
];

1161 cÚ¡ 
	gA¼ay
<
	gP»diÿ‹
*>* 
	g´eds
 = 
t›dCÏu£
->
g‘P»diÿ‹s
();

1162 
	gp
 = 0;… < 
	g´eds
->
size
();…++)

1164 ià((*
	g´eds
)[
p
]->
ÿnBeGroundedAs
(&
gndP»d
))

1166 
	gnoP»d
 = 
çl£
;

1171 ià(
	gnoP»d
) ;

1172 
	gút
 +ğ
t›dCÏu£
->
couÁDiffNumTrueGroundšgs
(&
gndP»d
, 
domaš
, 
db
,

1173 
DB_HAS_UNKNOWN_PREDS
,

1174 
§m¶eCÏu£s
, 
c
, 
NULL
);

1179 ià(
	gút
 != 0)

1182 
gA¼
->
­³nd
(
Ãw
 
IndexAndCouÁ
(
şau£IdxInMLN
, 
út
));

1183 ià(
	gundoInfos
)

1184 
	gundoInfos
->
­³nd
(
Ãw
 
UndoInfo
(
gA¼
, 
NULL
, -1, 
domašIdx
));

1186 ià(
	gÿche
)

1188 
	gA¼ay
<
	gCacheCouÁ
*>*& 
	gccA¼
 = (*(*
ÿche
)[
domašIdx
])[
´edId
];

1189 ià(
	gccA¼
 =ğ
NULL
è
ccA¼
 = 
Ãw
 
A¼ay
<
CacheCouÁ
*>;

1190 
	gccA¼
->
­³nd
(
Ãw
 
CacheCouÁ
(
g
, 
c
, 
út
));

1194 
as£¹
(
noR•—‹dIndex
(
gA¼
));

1197  
	gŒue
;

1202 
boŞ
 
»moveCouÁs
(* cÚ¡ & 
şau£IdxInMLN
, cÚ¡ & 
´edId
,

1203 cÚ¡ & 
g
, cÚ¡ & 
domašIdx
,

1204 
A¼ay
<
UndoInfo
*>* cÚ¡ & 
undoInfos
)

1206 
boŞ
 
	g»moved
 = 
çl£
;

1207 
	gA¼ay
<A¼ay<A¼ay<A¼ay<
	gIndexAndCouÁ
*>*>*>*>* 
	ggndP»dCÏu£IndexesAndCouÁs


1208 ğ(*
gndP»dCÏu£IndexesAndCouÁsA¼_
)[
domašIdx
];

1210 ià((*
	ggndP»dCÏu£IndexesAndCouÁs
)[
´edId
] =ğ
NULL
è 
çl£
;

1212 
	gA¼ay
<A¼ay<
	gIndexAndCouÁ
*>*>* 
	gcomboCÏu£IndexesAndCouÁs


1213 ğ(*(*
gndP»dCÏu£IndexesAndCouÁs
)[
´edId
])[
g
];

1215 
	gc
 = 0; c < 
	gcomboCÏu£IndexesAndCouÁs
->
size
(); c++)

1217 
	gA¼ay
<
	gIndexAndCouÁ
*>* 
	ggA¼
 =(*
comboCÏu£IndexesAndCouÁs
)[
c
];

1218 
	gi
 = 0; i < 
	ggA¼
->
size
(); i++)

1220 ià((*
	ggA¼
)[
i
]->
	gšdex
 =ğ
şau£IdxInMLN
)

1222 
IndexAndCouÁ
* 
ic
 = 
gA¼
->
»moveI‹mFa¡DisÜd”
(
i
);

1224 ià(
	gundoInfos
)

1226 
	gundoInfos
->
­³nd
(
Ãw
 
UndoInfo
(
gA¼
, 
ic
, 
i
, 
domašIdx
));

1227 
as£¹
(
noR•—‹dIndex
(
gA¼
));

1229 
	g»moved
 = 
Œue
;

1233 
d–‘e
 
	gic
;

1234 
as£¹
(
noR•—‹dIndex
(
gA¼
));

1236 
	g»moved
 = 
Œue
;

1240 
as£¹
(
noR•—‹dIndex
(
gA¼
));

1244  
	g»moved
;

1248 
ü—‹P»dAÎT”msA»DiffV¬s
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
,

1249 
A¼ay
<
boŞ
>& 
´edAÎT”msA»DiffV¬s
,

1250 
A¼ay
<>& 
´edIdxW™hAÎT”msDiffV¬s
)

1252 
	gp
 = 0;… < 
	gc
->
g‘NumP»diÿ‹s
();…++)

1254 
P»diÿ‹
* 
	g´ed
 = 
c
->
g‘P»diÿ‹
(
p
);

1255 
boŞ
 
	g®lDiffV¬s
;

1257 ià(
	gc
->
isDœty
())

1260 
	g®lDiffV¬s
 = 
´ed
->
checkAÎT”msA»DiffV¬s
();

1264 
as£¹
(!
´ed
->
isDœty
());

1265 
	g®lDiffV¬s
 = 
´ed
->
®lT”msA»DiffV¬s
();

1268 
	g´edAÎT”msA»DiffV¬s
.
­³nd
(
®lDiffV¬s
);

1269 ià(
	g®lDiffV¬s
)

1271 
	g´edId
 = 
´ed
->
g‘Id
();

1272 ià(
	g´edIdxW™hAÎT”msDiffV¬s
[
´edId
] < 0)

1273 
	g´edIdxW™hAÎT”msDiffV¬s
[
´edId
] = 
p
;

1276 
	g´edAÎT”msA»DiffV¬s
.
com´ess
();

1280 
ü—‹MuÉl›rs
(
A¼ay
<>& 
muÉl›rs
,

1281 cÚ¡ 
P»diÿ‹
& 
gndP»d
,

1282 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

1284 
	gmuÉ
 = 1;

1285 
	gnumT”ms
 = 
gndP»d
.
g‘NumT”ms
();

1286 
	gmuÉl›rs
.
growToSize
(
numT”ms
);

1287 
	gj
 = 
numT”ms
-1; j >= 0; j--)

1289 
	gmuÉl›rs
[
j
] = 
muÉ
;

1290 
	gty³Id
 = 
gndP»d
.
g‘T”mTy³AsIÁ
(
j
);

1291 
	gmuÉ
 *ğ
domaš
->
g‘NumCÚ¡ªtsByTy³
(
ty³Id
);

1296 
ü—‹M­pšgOfV¬IdToMuÉl›rsAndV¬GroundšgsAndOff£t
(

1297 cÚ¡ 
P»diÿ‹
& 
gndP»d
,

1298 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1299 
A¼ay
<>& 
muÉl›rs
,

1300 & 
off£tDueToCÚ¡ªts
,

1301 
A¼ay
<A¼ay<
·œ
<,
T”m
*> >* >& 
v¬IdToMuÉs
,

1302 
A¼ay
<>& 
ÃgV¬IdsA¼
,

1303 
A¼aysAcûssÜ
<>& 
groundšgs
)

1305 
	gj
 = 0; j < 
	ggndP»d
.
g‘NumT”ms
(); j++)

1307 cÚ¡ 
T”m
* 
	gt
 = 
gndP»d
.
g‘T”m
(
j
);

1308 ià(
	gt
->
g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

1310 
as£¹
(
t
->
g‘Id
()<0);

1311 
	gid
 = -(
t
->
g‘Id
());

1312 ià(
	gid
 >ğ
v¬IdToMuÉs
.
size
()èv¬IdToMuÉs.
growToSize
(
id
+1,
NULL
);

1313 ià(
	gv¬IdToMuÉs
[
id
] =ğ
NULL
)

1315 
ÃgV¬IdsA¼
.
­³nd
(
id
);

1316 
	gv¬IdToMuÉs
[
id
] = 
Ãw
 
A¼ay
<
·œ
<,
	gT”m
*> >;

1317 
	gty³Id
 = 
gndP»d
.
g‘T”mTy³AsIÁ
(
j
);

1318 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡ªts
 = 
domaš
->
g‘CÚ¡ªtsByTy³
(
ty³Id
);

1319 
	ggroundšgs
.
­³ndA¼ay
(
cÚ¡ªts
);

1321 
	gv¬IdToMuÉs
[
id
]->
­³nd
(
·œ
<,
T”m
*>(
muÉl›rs
[
j
], (T”m*)
t
));

1324 ià(
	gt
->
g‘Ty³
(è=ğ
T”m
::
CONSTANT
)

1326 
id
 = 
t
->
g‘Id
();

1327 
as£¹
(
id
 >= 0);

1328 
	gty³Id
 = 
gndP»d
.
g‘T”mTy³AsIÁ
(
j
);

1329 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡ªts
 = 
domaš
->
g‘CÚ¡ªtsByTy³
(
ty³Id
);

1330 
as£¹
(
cÚ¡ªts
->
size
() > 0);

1333 
	gi
 = 0; i < 
	gcÚ¡ªts
->
size
(); i++)

1335 ià((*
	gcÚ¡ªts
)[
i
] =ğ
id
)

1337 
off£tDueToCÚ¡ªts
 +ğ
i
*
muÉl›rs
[
j
];

1345 
as£¹
(
çl£
);

1351 
	$¿ndomlyS–eù
(
IÁHashA¼ay
& 
gndšgs
, cÚ¡ & 
äaùiÚ
,

1352 cÚ¡ & 
mš
, cÚ¡ & 
max
)

1354 
size
 = (
äaùiÚ
 * 
gndšgs
.
	`size
() + 0.5);

1355 ià(
mš
 >ğ0 && 
size
 < min) size = min;

1356 ià(
max
 >ğ0 && 
size
 > max) size = max;

1357 
gndšgs
.
	`size
(è> 
size
)

1358 
gndšgs
.
	`»moveI‹mFa¡DisÜd”
(
¿ndom_
->
	`¿ndomOÃOf
(gndšgs.
	`size
()));

1359 
	}
}

1362 
	$§m¶eP»dGroundšgsFÜDomaš
(cÚ¡ 
P»diÿ‹
* cÚ¡& 
foP»d
,

1363 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1364 
Sam¶edGndšgs
* 
§m¶edGndšgs
,

1365 cÚ¡ & 
äaùiÚ
,

1366 cÚ¡ & 
mš
, cÚ¡ & 
max
)

1368 
cout
 << "§m¶šg…»diÿ‹ "; 
foP»d
->
	`´štW™hSŒV¬
(cout, 
domaš
);

1369 
cout
 << 
’dl
;

1371 
	`as£¹
(((
P»diÿ‹
*)
foP»d
)->
	`®lT”msA»DiffV¬s
());

1372 
A¼aysAcûssÜ
<> 
acc
;

1373 
	`ü—‹AÎPossibËP»dsGroundšgs
(
foP»d
, 
domaš
, 
acc
);

1374 
P»diÿ‹
* 
gndP»d
 = (P»diÿ‹*è
foP»d
;

1375 cÚ¡ 
D©aba£
* 
db
 = 
domaš
->
	`g‘DB
();

1377 
IÁHashA¼ay
& 
ŒueGndšgs
 = 
§m¶edGndšgs
->trueGndings;

1378 
IÁHashA¼ay
& 
çl£Gndšgs
 = 
§m¶edGndšgs
->falseGndings;

1380 
g
 = -1;

1381 
acc
.
	`hasNextCombš©iÚ
())

1383 ++
g
;

1384 
t
 = 0;

1385 
cÚ¡Id
;

1386 
acc
.
	`ÃxtI‹mInCombš©iÚ
(
cÚ¡Id
))

1387 ((
T”m
*è
gndP»d
->
	`g‘T”m
(
t
++))->
	`£tId
(
cÚ¡Id
);

1389 
TruthV®ue
 
tv
 = 
db
->
	`g‘V®ue
(
gndP»d
);

1390 ià(
tv
 =ğ
TRUE
è
ŒueGndšgs
.
	`­³nd
(
g
);

1391 ià(
tv
 =ğ
FALSE
è
çl£Gndšgs
.
	`­³nd
(
g
);

1395 
§m¶edGndšgs
->
tÙ®True
 = 
ŒueGndšgs
.
	`size
();

1396 
§m¶edGndšgs
->
tÙ®F®£
 = 
çl£Gndšgs
.
	`size
();

1397 
	`¿ndomlyS–eù
(
ŒueGndšgs
, 
äaùiÚ
, 
mš
, 
max
);

1398 
	`¿ndomlyS–eù
(
çl£Gndšgs
, 
äaùiÚ
, 
mš
, 
max
);

1399 
ŒueGndšgs
.
	`com´ess
();

1400 
çl£Gndšgs
.
	`com´ess
();

1402 
cout
 << "\tsampled/total (true ground‡toms) = "

1403 << 
ŒueGndšgs
.
	`size
(è<< "/" << 
§m¶edGndšgs
->
tÙ®True
 << 
’dl
;

1404 
cout
 << "\tsampled/total (false ground‡toms) = "

1405 << 
çl£Gndšgs
.
	`size
(è<< "/" << 
§m¶edGndšgs
->
tÙ®F®£
 << 
’dl
;

1406 
	}
}

1409 
	$§m¶eP»dGroundšgs
(cÚ¡ & 
äaùiÚ
,

1410 cÚ¡ & 
mš
, cÚ¡ & 
max
)

1412 
d
 = 0; d < 
domašs_
->
	`size
(); d++)

1414 
cout
 << "domaš " << 
d
 << 
’dl
;

1415 cÚ¡ 
Domaš
* 
domaš
 = (*
domašs_
)[
d
];

1416 
A¼ay
<
Sam¶edGndšgs
*>* 
sgm
 = (*
§m¶edGndšgsM­s_
)[
d
];

1417 
p
 = 0;… < 
domaš
->
	`g‘NumP»diÿ‹s
();…++)

1419 ià(!(*
¬eNÚEvidP»ds_
)[
p
]) ;

1420 
Sam¶edGndšgs
* 
sg
 = 
Ãw
 SampledGndings;

1421 
	`as£¹
((*
sgm
)[
p
] =ğ
NULL
);

1422 (*
sgm
)[
p
] = 
sg
;

1423 
P»diÿ‹
* 
foP»d
 = 
domaš
->
	`ü—‹P»diÿ‹
(
p
, 
Œue
);

1424 
	`as£¹
(
foP»d
);

1425 
	`§m¶eP»dGroundšgsFÜDomaš
(
foP»d
, 
domaš
, 
sg
, 
äaùiÚ
, 
mš
, 
max
);

1426 
d–‘e
 
foP»d
;

1429 
	}
}

1432 
boŞ
 
noR•—‹dIndex
(cÚ¡ 
A¼ay
<
IndexAndCouÁ
*>* cÚ¡ & 
gA¼
,

1433 cÚ¡ 
MLN
* cÚ¡ & 
mÊ0
=
NULL
)

1435 
hash_£t
<> 
£t
;

1436 
	gi
 = 0; i < 
	ggA¼
->
size
(); i++)

1438 
	gii
 = *((*
gA¼
)[
i
]->
šdex
);

1439 ià(
	g£t
.
fšd
(
ii
è!ğ
£t
.
’d
())

1441 
cout
 << "ERROR: in PseudoLogLikelihood::noRepeatedIndex. "

1442 << "R•—‹d index " << 
ii
 << " found. ";

1443 ià(
	gmÊ0
)

1444 
	gmÊ0
->
g‘CÏu£
(
ii
)->
´štW™houtWtW™hSŒV¬
(
cout
, (*
domašs_
)[0]);

1445 
	gcout
 << 
	g’dl
;

1446  
	gçl£
;

1448 
	g£t
.
š£¹
(
ii
);

1450  
	gŒue
;

1454 
	$´štWtsG¿dsWPLL
(cÚ¡ * cÚ¡ & 
wts
, cÚ¡ * cÚ¡ & 
g¿ds
,

1455 cÚ¡ & 
¬rSize
, cÚ¡ & 
w¶l
)

1457 
cout
.
	`´ecisiÚ
(10);

1458 
cout
 << "wt ğ" << 
’dl
;

1459 
i
 = 0; i < 
¬rSize
; i++è
cout
 << " " << i << ":" << 
wts
[i];

1460 
cout
 << 
’dl
;

1461 
cout
 << "g¿d ğ" << 
’dl
;

1462 
i
 = 0; i < 
¬rSize
; i++è
cout
 << " " << i << ":" << 
g¿ds
[i];

1463 
cout
 << 
’dl
;

1464 
cout
 << "w¶Èğ" << 
w¶l
 << 
’dl
;

1465 
cout
 << 
’dl
;

1466 
cout
.
	`´ecisiÚ
(6);

1467 
	}
}

1470 
	g´iv©e
:

1471 
A¼ay
<
boŞ
>* 
¬eNÚEvidP»ds_
;

1474 
	gA¼ay
<
	gDomaš
*>* 
	gdomašs_
;

1484 
	gA¼ay
<A¼ay<A¼ay<A¼ay<A¼ay<
	gIndexAndCouÁ
*>*>*>*>*>*

1485 
	ggndP»dCÏu£IndexesAndCouÁsA¼_
;

1487 
	gnumM—ns_
;

1488 cÚ¡ * 
	g´iÜM—ns_
;

1489 cÚ¡ * 
	g´iÜStdDevs_
;

1490 cÚ¡ 
boŞ
* 
	glockedWts_
;

1492 
boŞ
 
	gwtFOP»d_
;

1493 
	gA¼ay
<A¼ay<>*>* 
	gnumGndšgs_
;

1495 
boŞ
 
	g§m¶eGndP»ds_
;

1498 
	gA¼ay
<A¼ay<
	gSam¶edGndšgs
*>*>* 
	g§m¶edGndšgsM­s_
;

1499 
Rªdom
* 
	g¿ndom_
;

1501 
IndexT¿n¦©Ü
* 
	gidxT¿ns_
;

	@liftedinfer/bridge/includes/lbginference.h

1 #iâdeà
LBGINFERENCE_H_


2 
	#LBGINFERENCE_H_


	)

4 
	~"mcmc.h
"

5 
	~"mc§¬ams.h
"

6 
	~"liáed®gscÚv”tÜ.h
"

7 
	~"lv·¿ms.h
"

10 şas 
	cLBGInã»nû
 : 
public
 
MCMC


12 
public
:

14 
LBGInã»nû
(
V¬ŸbËS‹
* 
¡©e
, 
£ed
, cÚ¡ 
boŞ
& 
ŒackCÏu£TrueCÁs
,

15 
LvrP¬ams
* 
lvP¬ams_
,

16 
A¼ay
<A¼ay<
P»diÿ‹
* >* >* 
qu”yFÜmuÏs
 = 
NULL
)

17 : 
MCMC
(
¡©e
, 
£ed
, 
ŒackCÏu£TrueCÁs
, (
MCMCP¬ams
*)
lvP¬ams_
, 
qu”yFÜmuÏs
)

19 
	m®gsCÚv”tÜ
 = 
Ãw
 
LiáedAlgsCÚv”tÜ
(
¡©e
);

20 
	mš™Ÿliz©iÚ
 = 
Œue
;

22 
	mlvP¬ams
 = 
lvP¬ams_
;

25 ~
	$LBGInã»nû
()

27 
d–‘e
 
®gsCÚv”tÜ
;

28 
d–‘e
 
lvP¬ams
;

29 
	}
}

31 
	$š™
()

35 
	}
}

37 
	$šãr
()

39 if(
š™Ÿliz©iÚ
)

41 
®gsCÚv”tÜ
->
	`´oûssWeightL—ºšgIÅut
(
lvP¬ams
,
Œue
);

42 
š™Ÿliz©iÚ
 = 
çl£
;

46 
®gsCÚv”tÜ
->
	`´oûssWeightL—ºšgIÅut
(
lvP¬ams
,
çl£
);

49 
®gsCÚv”tÜ
->
	`upd©eS‹
();

50 
A¼ay
<> 
wts
;

51 
¡©e_
->
	`g‘MLN
()->
	`g‘CÏu£Wts
(
wts
);

52 
veùÜ
<> 
wtsA
;

53 
i
=0;i<
wts
.
	`size
();i++)

55 
wtsA
.
	`push_back
(
wts
[
i
]);

57 
®gsCÚv”tÜ
->
	`upd©eMLNWeights
(
wtsA
);

58 
	`ÎyCÁsFromS‹
();

59 
	}
}

60 
	g´iv©e
:

61 
LiáedAlgsCÚv”tÜ
* 
®gsCÚv”tÜ
;

62 
boŞ
 
	gš™Ÿliz©iÚ
;

64 
LvrP¬ams
* 
	glvP¬ams
;

	@liftedinfer/bridge/includes/liftedalgsconvertor.h

1 #iâdeà
__LALGSCONVERTOR


2 
	#__LALGSCONVERTOR


	)

4 
	~"mÊ.h
"

5 
	~"v¬ŸbË¡©e.h
"

8 
	~"lvrmÊ.h
"

9 
	~"liáed®gshªdËr.h
"

11 
	~"fedump.h
"

13 
	~"lv·¿ms.h
"

17 şas 
	cLiáedAlgsCÚv”tÜ


19 
	mpublic
:

22 
LiáedAlgsCÚv”tÜ
(
V¬ŸbËS‹
* 
¡©e
);

25 
LiáedAlgsCÚv”tÜ
(
MLN
* 
mÊ
, 
Domaš
* 
domaš
,
GroundP»diÿ‹HashA¼ay
 
qu”›s
);

26 ~
LiáedAlgsCÚv”tÜ
();

29 
doLBGM¬
(
LvrP¬ams
* 
·¿ms
);

30 
doLISAµroxZ
(
LvrP¬ams
* 
·¿ms
);

31 
doLISAµroxM¬
(
LvrP¬ams
* 
·¿ms
);

32 
doWMPTPAµroxZ
(
LvrP¬ams
* 
·¿ms
);

33 
doWMPTPExaùZ
(
LvrP¬ams
* 
·¿ms
);

36 
upd©eS‹
();

37 
upd©eMLNWeights
(
veùÜ
<> 
weights
);

38 
´oûssWeightL—ºšgIÅut
(
LvrP¬ams
* 
·¿ms
,
boŞ
 
š™Ÿliz©iÚ
 = 
çl£
);

40 
	m´iv©e
:

43 
WCÏu£
* 
cÚv”tCÏu£ToLiáed
(
CÏu£
* 
şau£
, cÚ¡ 
Domaš
* 
domaš
,

44 
veùÜ
<
P»diÿ‹SymbŞ
*>& 
symbŞsToAdd
,
boŞ
& 
cÚšsGroundedCÏu£
);

46 
cÚv”tIÅutMLNToLiáed
(cÚ¡ 
MLN
* 
mÊ
, cÚ¡ 
Domaš
* 
domaš
,
boŞ
& 
cÚšsGroundedCÏu£
);

47 
P»diÿ‹SymbŞ
* 
ü—‹P»diÿ‹SymbŞ
(
P»diÿ‹
* 
´ed
);

48 
addEvid’û
(
veùÜ
<veùÜ<> >& 
evid’ûIÁR•
);

49 
´oûssS–fJošs
();

50 
doCÚv”siÚ
(
veùÜ
<veùÜ<> >& 
qu”›sIÁR•
, veùÜ<veùÜ<> > & 
evid’ûIÁR•
,

51 
veùÜ
<
¡ršg
>& 
qu”ySŒšgs
, 
boŞ
 
»moveS–fJošs
=
çl£
);

54 
LvrMLN
* 
	mlvrMÊ
;

55 
LiáedAlgsHªdËr
* 
	mliáedAlgsHªdËr
;

58 
V¬ŸbËS‹
* 
	m¡©e_
;

59 cÚ¡ 
MLN
* 
	mmÊ_
;

60 cÚ¡ 
Domaš
* 
	mdomaš_
;

61 
GroundP»diÿ‹HashA¼ay
 
	mqu”›s_
;

	@liftedinfer/bridge/includes/liftedalgshandler.h

1 #iâdeà
__LIFTEDALGS_HANDLER


2 
	#__LIFTEDALGS_HANDLER


	)

3 
	~"lvrmÊ.h
"

4 
	~"lv·¿ms.h
"

5 
	~"şu¡”ü—tÜ.h
"

6 
	~"gibb¥roûsshªdËr.h
"

7 
	~"´İo§lcÚ¡ruùÜ.h
"

9 
	sLiáedAlgsHªdËr


11 
LiáedAlgsHªdËr
(
LvrMLN
& 
mÊ_
);

12 ~
LiáedAlgsHªdËr
();

14 
LBGAµroxM¬gš®s
(
LvrP¬ams
* 
·¿ms
);

16 
LISAµroxP¬t™iÚ
(
LvrP¬ams
* 
·¿ms
);

17 
LISAµroxM¬gš®s
(
LvrP¬ams
* 
·¿ms
);

19 
WMPTPZAµrox
(
LvrP¬ams
* 
·¿ms
);

20 
WMPTPZExaù
(
LvrP¬ams
* 
·¿ms
);

21 
budPrİo§l
(
LvrP¬ams
* 
·¿ms
);

22 
	m´iv©e
:

23 
LvrMLN
& 
mÊ
;

24 
LPTPS—rch
* 
	m±pS—rch
;

25 
LClu¡”C»©Ü
* 
	mşu¡”C»©Ü
;

26 
LPrİo§lCÚ¡ruùÜ
* 
	m´İo§lCÚ¡ruùÜ
;

27 
GibbsProûssHªdËr
* 
	mgibbsProûssHªdËr
;

	@liftedinfer/bridge/src/liftedalgsconvertor.cpp

1 
	~"liáed®gscÚv”tÜ.h
"

2 
	~"qu”yupd©”.h
"

6 
	gLiáedAlgsCÚv”tÜ
::
	$LiáedAlgsCÚv”tÜ
(
V¬ŸbËS‹
* 
¡©e
):
	`¡©e_
(¡©e),
	`mÊ_
(
¡©e_
->
	`g‘MLN
()),

7 
	`domaš_
(
¡©e_
->
	$g‘Domaš
())

9 
lvrMÊ
 = 
Ãw
 
	`LvrMLN
();

11 
boŞ
 
mÊcÚšsGºdCÏu£
=
çl£
;

12 
	`cÚv”tIÅutMLNToLiáed
(
mÊ_
,
domaš_
,
mÊcÚšsGºdCÏu£
);

16 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
gºdP»dHashA¼ay
 = 
¡©e_
->
	`g‘GndP»dHashA¼ayPŒ
();

17 
veùÜ
<veùÜ<> > 
	`qu”yIÁR•
(
gºdP»dHashA¼ay
->
	`size
());

19 
i
=0;i<
gºdP»dHashA¼ay
->
	`size
();i++)

22 
sz
 = (*
gºdP»dHashA¼ay
)[
i
]->
	`g‘IÁA¼R•
()->
	`size
();

23 
veùÜ
<> 
	`tmp
(
sz
);

24 
j
=0;j<
sz
;j++)

26 
tmp
[
j
]=(*((*
gºdP»dHashA¼ay
)[
i
]->
	`g‘IÁA¼R•
()))[j];

28 
qu”yIÁR•
[
i
] = 
tmp
;

34 
veùÜ
<
¡ršg
> 
q¡ršgs
;

35 
LvrQu”yUpd©”
::
	`ü—‹In¡ªû
(
qu”yIÁR•
,
q¡ršgs
,"");

36 
liáedAlgsHªdËr
 = 
NULL
;

37 
	}
}

41 
	gLiáedAlgsCÚv”tÜ
::
	$LiáedAlgsCÚv”tÜ
(
MLN
* 
mÊ
, 
Domaš
* 
domaš
,
GroundP»diÿ‹HashA¼ay
 
qu”›s
):
	`mÊ_
(mln),

42 
	$domaš_
(
domaš
)

44 
¡©e_
 = 
NULL
;

45 
lvrMÊ
 = 
NULL
;

46 
qu”›s_
 = 
qu”›s
;

47 
liáedAlgsHªdËr
 = 
NULL
;

48 
	}
}

50 
	gLiáedAlgsCÚv”tÜ
::~
	$LiáedAlgsCÚv”tÜ
()

52 
d–‘e
 
lvrMÊ
;

53 if(
liáedAlgsHªdËr
)

54 
d–‘e
 
liáedAlgsHªdËr
;

55 
	}
}

57 
	gLiáedAlgsCÚv”tÜ
::
doCÚv”siÚ
(
veùÜ
<veùÜ<> >& 
qu”›sIÁR•
, veùÜ<veùÜ<> > & 
evid’ûIÁR•
,

58 
veùÜ
<
¡ršg
>& 
qu”ySŒšgs
,
boŞ
 
»moveS–fJošs
)

60 
	glvrMÊ
 = 
Ãw
 
LvrMLN
();

61 
boŞ
 
	gmÊcÚšsGºdCÏu£
=
çl£
;

62 
cÚv”tIÅutMLNToLiáed
(
mÊ_
,
domaš_
,
mÊcÚšsGºdCÏu£
);

64 
addEvid’û
(
evid’ûIÁR•
);

66 if(
	gevid’ûIÁR•
.
size
() > 0)

68 
	gcout
<<"NÜm®izšgƒvid’û..."<<
	g’dl
;

69 
	glvrMÊ
->
´•roûssEvid’û
(
evid’ûIÁR•
);

74 if(
	gmÊcÚšsGºdCÏu£
)

77 
LNÜm®iz”
 
Ê
(*
lvrMÊ
);

78 
	gÊ
.
nÜm®izeCÏu£s
(
lvrMÊ
->
şau£s
);

79 
	gi
=0;i<
	glvrMÊ
->
	gşau£s
.
size
();i++)

81 
	gj
=0;j<
	glvrMÊ
->
	gşau£s
[
i
]->
	g©oms
.
size
();j++)

83 
	glvrMÊ
->
	gşau£s
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	g·»ÁId
 =

84 
lvrMÊ
->
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
;

92 
	gqu”›sIÁR•
.
»size
(
qu”›s_
.
size
());

93 
	gi
=0;i<
	gqu”›s_
.
size
();i++)

95 
	gj
=0;j<
	gqu”›s_
[
i
]->
g‘IÁA¼R•
()->
size
();j++)

97 
	gqu”›sIÁR•
[
i
].
push_back
((*
qu”›s_
[i]->
g‘IÁA¼R•
())[
j
]);

99 
¡ršg
 
	gs
=
qu”›s_
[
i
]->
g‘P»dSŒšg
(
domaš_
);

100 
	gqu”ySŒšgs
.
push_back
(
s
);

103 if(
	g»moveS–fJošs
)

105 
boŞ
 
	gisS–fJošed
 = 
çl£
;

106 
	gi
=0;i<
	glvrMÊ
->
	gşau£s
.
size
();i++)

108 if(
	glvrMÊ
->
	gşau£s
[
i
]->
isS–fJošed
())

110 
	gisS–fJošed
 = 
Œue
;

114 if(
	gisS–fJošed
)

116 
	gcout
<<"P»´oûssšg‚Üm®ized MLN..."<<
	g’dl
;

117 
´oûssS–fJošs
();

122 
	gliáedAlgsHªdËr
 = 
Ãw
 
LiáedAlgsHªdËr
(*
lvrMÊ
);

124 
	gcout
<<"dÚwr™šg dum°fe ("<<
	gMLNDUMPFILENAME
<<","<<
	gSYMBOLSDUMPFILENAME
<<","<<

125 
	gQUERIESDUMPFILENAME
<<","<<
	gEVIDENCEDUMPFILENAME
<<")"<<
	g’dl
;

130 
	gLiáedAlgsCÚv”tÜ
::
upd©eMLNWeights
(
veùÜ
<> 
weights
)

132 
i
=0;
	gi
<
	glvrMÊ
->
	gşau£s
.
size
();i++)

135 
	glvrMÊ
->
	gşau£s
[
i
]->
	gweight
 =

136 
LogDoubË
(
weights
[
lvrMÊ
->
şau£s
[
i
]->
Üigš®CÏu£Index
],
çl£
);

141 
	gLiáedAlgsCÚv”tÜ
::
	$doLBGM¬
(
LvrP¬ams
* 
·¿ms
)

143 
veùÜ
<veùÜ<> > 
evid’ûIÁR•
;

144 
veùÜ
<veùÜ<> > 
qu”›sIÁR•
;

145 
veùÜ
<
¡ršg
> 
qu”ySŒšgs
;

146 
	`doCÚv”siÚ
(
qu”›sIÁR•
,
evid’ûIÁR•
,
qu”ySŒšgs
,
Œue
);

147 if(
·¿ms
->
İ”©iÚMode
 !ğ
ECLUSTERING
)

150 
LvrQu”yUpd©”
::
	`ü—‹In¡ªû
(
qu”›sIÁR•
,
qu”ySŒšgs
,

151 
·¿ms
->
»suÉFe
,&
evid’ûIÁR•
);

155 
liáedAlgsHªdËr
->
	`LBGAµroxM¬gš®s
(
·¿ms
);

156 
	}
}

158 
	gLiáedAlgsCÚv”tÜ
::
	$doLISAµroxZ
(
LvrP¬ams
* 
·¿ms
)

160 
veùÜ
<veùÜ<> > 
evid’ûIÁR•
;

161 
veùÜ
<veùÜ<> > 
qu”›sIÁR•
;

162 
veùÜ
<
¡ršg
> 
qu”ySŒšgs
;

163 
	`doCÚv”siÚ
(
qu”›sIÁR•
,
evid’ûIÁR•
,
qu”ySŒšgs
,
çl£
);

164 
liáedAlgsHªdËr
->
	`LISAµroxP¬t™iÚ
(
·¿ms
);

165 
	}
}

167 
	gLiáedAlgsCÚv”tÜ
::
	$doLISAµroxM¬
(
LvrP¬ams
* 
·¿ms
)

169 
veùÜ
<veùÜ<> > 
evid’ûIÁR•
;

170 
veùÜ
<veùÜ<> > 
qu”›sIÁR•
;

171 
veùÜ
<
¡ršg
> 
qu”ySŒšgs
;

172 
	`doCÚv”siÚ
(
qu”›sIÁR•
,
evid’ûIÁR•
,
qu”ySŒšgs
,
çl£
);

174 
LvrQu”yUpd©”
::
	`ü—‹In¡ªû
(
qu”›sIÁR•
,
qu”ySŒšgs
,

175 
·¿ms
->
»suÉFe
,&
evid’ûIÁR•
);

176 
liáedAlgsHªdËr
->
	`LISAµroxM¬gš®s
(
·¿ms
);

178 
	}
}

180 
	gLiáedAlgsCÚv”tÜ
::
	$doWMPTPAµroxZ
(
LvrP¬ams
* 
·¿ms
)

182 
veùÜ
<veùÜ<> > 
evid’ûIÁR•
;

183 
lvrMÊ
 = 
Ãw
 
	`LvrMLN
();

184 
boŞ
 
mÊcÚšsGºdCÏu£
=
çl£
;

185 
	`cÚv”tIÅutMLNToLiáed
(
mÊ_
,
domaš_
,
mÊcÚšsGºdCÏu£
);

187 
	`addEvid’û
(
evid’ûIÁR•
);

192 
liáedAlgsHªdËr
 = 
Ãw
 
	`LiáedAlgsHªdËr
(*
lvrMÊ
);

193 
liáedAlgsHªdËr
->
	`WMPTPZAµrox
(
·¿ms
);

194 
	}
}

196 
	gLiáedAlgsCÚv”tÜ
::
	$doWMPTPExaùZ
(
LvrP¬ams
* 
·¿ms
)

198 
veùÜ
<veùÜ<> > 
evid’ûIÁR•
;

199 
lvrMÊ
 = 
Ãw
 
	`LvrMLN
();

200 
boŞ
 
mÊcÚšsGºdCÏu£
=
çl£
;

201 
	`cÚv”tIÅutMLNToLiáed
(
mÊ_
,
domaš_
,
mÊcÚšsGºdCÏu£
);

203 
	`addEvid’û
(
evid’ûIÁR•
);

208 
veùÜ
<veùÜ<> > 
	`qu”›sIÁR•
(
qu”›s_
.
	`size
());

209 
veùÜ
<
¡ršg
> 
qu”ySŒšgs
;

210 
i
=0;i<
qu”›s_
.
	`size
();i++)

212 
j
=0;j<
qu”›s_
[
i
]->
	`g‘IÁA¼R•
()->
	`size
();j++)

214 
qu”›sIÁR•
[
i
].
	`push_back
((*
qu”›s_
[i]->
	`g‘IÁA¼R•
())[
j
]);

216 
¡ršg
 
s
=
qu”›s_
[
i
]->
	`g‘P»dSŒšg
(
domaš_
);

217 
qu”ySŒšgs
.
	`push_back
(
s
);

220 if(
qu”›sIÁR•
.
	`size
() > 0)

223 
LvrQu”yUpd©”
::
	`ü—‹In¡ªû
(
qu”›sIÁR•
,
qu”ySŒšgs
,

224 
·¿ms
->
»suÉFe
,&
evid’ûIÁR•
);

226 
liáedAlgsHªdËr
 = 
Ãw
 
	`LiáedAlgsHªdËr
(*
lvrMÊ
);

227 
liáedAlgsHªdËr
->
	`WMPTPZExaù
(
·¿ms
);

228 
	}
}

231 
P»diÿ‹SymbŞ
* 
	gLiáedAlgsCÚv”tÜ
::
	$ü—‹P»diÿ‹SymbŞ
(
P»diÿ‹
* 
´ed
)

233 
´ediÿ‹Id
 = 
´ed
->
	`g‘Id
();

234 
veùÜ
<> 
	`v¬_ty³s
(
´ed
->
	`g‘NumT”ms
());

235 
¡ršg
 
	`symbŞName
(
´ed
->
	`g‘Name
());

236 
P»diÿ‹SymbŞ
* 
pSymbŞ
 = 
Ãw
 
	`P»diÿ‹SymbŞ
(
´ediÿ‹Id
,
symbŞName
,
v¬_ty³s
,
	`LogDoubË
(1,
çl£
),LogDouble(1,false),predicateId);

237  
pSymbŞ
;

238 
	}
}

240 
	gLiáedAlgsCÚv”tÜ
::
addEvid’û
(
veùÜ
<veùÜ<> >& 
evid’ûIÁR•
)

242 
£t
<> 
com¶‘edIds
;

243 
	gi
=0;i<
	gmÊ_
->
g‘NumCÏu£s
();i++)

245 
	gj
=0;j<
	gmÊ_
->
g‘CÏu£
(
i
)->
g‘NumP»diÿ‹s
();j++)

247 if(
	gcom¶‘edIds
.
couÁ
(
mÊ_
->
g‘CÏu£
(
i
)->
g‘P»diÿ‹
(
j
)->
g‘Id
()) == 0)

249 
com¶‘edIds
.
š£¹
(
mÊ_
->
g‘CÏu£
(
i
)->
g‘P»diÿ‹
(
j
)->
g‘Id
());

250 
	gA¼ay
<
	gP»diÿ‹
*>* 
	gšdexedGndšgs
 = 
Ãw
 
A¼ay
<
P»diÿ‹
*>();

251 
	gdomaš_
->
g‘DB
()->
g‘TrueGndšgs
(
mÊ_
->
g‘CÏu£
(
i
)->
g‘P»diÿ‹
(
j
)->
g‘Id
()

252 ,
šdexedGndšgs
);

253 
	gk
=0;k<
	gšdexedGndšgs
->
size
();k++)

255 
GroundP»diÿ‹
* 
	ggpTmp
 = 
Ãw
 GroundP»diÿ‹((*
šdexedGndšgs
)[
k
]);

256 
	gveùÜ
<> 
tmpA¼
(
gpTmp
->
g‘IÁA¼R•
()->
size
());

257 
	gjj
=0;jj<
	gtmpA¼
.
size
();jj++)

258 
	gtmpA¼
[
jj
] = (*
gpTmp
->
g‘IÁA¼R•
())[jj];

259 
	gevid’ûIÁR•
.
push_back
(
tmpA¼
);

260 
P»diÿ‹SymbŞ
* 
	gps
 = 
ü—‹P»diÿ‹SymbŞ
((*
šdexedGndšgs
)[
k
]);

261 
	gveùÜ
<
	gLvrT”m
*> 
©omT”ms
((*
šdexedGndšgs
)[
k
]->
g‘NumT”ms
());

262 
	g‹rmno
 = 0;”mnØ< (*
	gšdexedGndšgs
)[
k
]->
g‘NumT”ms
();ermno++)

264 
	gveùÜ
<> 
domV®ues
(1);

265 cÚ¡ 
T”m
* 
	g‹rm
 = (*
šdexedGndšgs
)[
k
]->
g‘T”m
(
‹rmno
);

266 
	gdomV®ues
[0] = 
‹rm
->
g‘Id
();

267 
LvrT”m
* 
	glvrT”m
 = 
Ãw
 LvrT”m(0,
domV®ues
);

268 
	g©omT”ms
[
‹rmno
]=
lvrT”m
;

270 
Atom
* 
	g©om
 = 
Ãw
 Atom(
ps
,
©omT”ms
);

271 
WCÏu£
* 
	gnCÏu£
 = 
Ãw
 WClause();

272 
	gnCÏu£
->
	g©oms
.
push_back
(
©om
);

273 
	gnCÏu£
->
	gsign
.
push_back
(
çl£
);

274 
	glvrMÊ
->
	gşau£s
.
push_back
(
nCÏu£
);

283 
WCÏu£
* 
	gLiáedAlgsCÚv”tÜ
::
cÚv”tCÏu£ToLiáed
(
CÏu£
* 
şau£
, cÚ¡ 
Domaš
* 
domaš
, 
veùÜ
<
P»diÿ‹SymbŞ
*>& 
symbŞsToAdd
,
boŞ
& 
cÚšsGroundedCÏu£
)

285 cÚ¡ 
	gA¼ay
<
	gP»diÿ‹
*>* 
	g´eds
 = 
şau£
->
g‘P»diÿ‹s
();

286 
	gm­
<,
	gLvrT”m
*> 
	gm­OfT”ms
;

287 
WCÏu£
* 
	gnCÏu£
 = 
Ãw
 WClause();

288 
	gnCÏu£
->
	g©oms
 = 
veùÜ
<
Atom
*>(
´eds
->
size
());

289 
	gnCÏu£
->
	gsign
 = 
veùÜ
<
boŞ
>(
´eds
->
size
());

290 
	gnCÏu£
->
	gweight
 = 
LogDoubË
(
şau£
->
g‘Wt
(),
çl£
);

291 
	g£t
<> 
	gcom¶‘edIds
;

292 
	gi
 = 0; i < 
	g´eds
->
size
(); i++)

294 
	gnCÏu£
->
	gsign
[
i
] = !((*
´eds
)[i]->
g‘S’£
());

295 
	g´ediÿ‹Id
 = (*
´eds
)[
i
]->
g‘Id
();

296 
	gveùÜ
<> 
v¬_ty³s
((*
´eds
)[
i
]->
g‘NumT”ms
());

297 
¡ršg
 
symbŞName
((*
´eds
)[
i
]->
g‘Name
());

298 
P»diÿ‹SymbŞ
* 
	gpSymbŞ
 = 
Ãw
 P»diÿ‹SymbŞ(
´ediÿ‹Id
,
symbŞName
,
v¬_ty³s
,
LogDoubË
(1,
çl£
),LogDouble(1,false),predicateId);

299 cÚ¡ 
P»diÿ‹Tem¶©e
 *
	g±em¶©e
 = (*
´eds
)[
i
]->
g‘Tem¶©e
();

300 
	gveùÜ
<
	gLvrT”m
*> 
©omT”ms
((*
´eds
)[
i
]->
g‘NumT”ms
());

301 
	g‹rmno
 = 0;”mnØ< (*
	g´eds
)[
i
]->
g‘NumT”ms
();ermno++)

303 cÚ¡ 
T”m
* 
	g‹rm
 = (*
´eds
)[
i
]->
g‘T”m
(
‹rmno
);

304 if(
	g‹rm
->
g‘Ty³
()==
T”m
::
CONSTANT
)

306 
id
 = 
‹rm
->
g‘Id
();

307 
	gveùÜ
<> 
domV®ues
(1);

308 
	gdomV®ues
[0] = 
id
;

309 
LvrT”m
* 
	glvrT”m
 = 
Ãw
 LvrT”m(0,
domV®ues
);

310 
	g©omT”ms
[
‹rmno
]=
lvrT”m
;

312 
	gcÚšsGroundedCÏu£
=
Œue
;

315 
	gv¬Id
 = 
‹rm
->
g‘Id
();

316 
	gm­
<,
	gLvrT”m
*>::
™”©Ü
 
m­It
 = 
m­OfT”ms
.
fšd
(
v¬Id
);

317 if(
	gm­It
==
m­OfT”ms
.
’d
())

320 
v¬Ty³Id
 = 
±em¶©e
->
g‘T”mTy³AsIÁ
(
‹rmno
);

321 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡ªts
 = 
domaš
->
g‘CÚ¡ªtsByTy³
(
v¬Ty³Id
);

322 
	gveùÜ
<> 
	gdomV®ues
;

323 
	gj
=0;j<
	gcÚ¡ªts
->
size
();j++)

325 
	gdomV®ues
.
push_back
((*
cÚ¡ªts
)[
j
]);

327 
LvrT”m
* 
	glvrT”m
 = 
Ãw
 LvrT”m(0,
domV®ues
);

328 
	gm­OfT”ms
.
š£¹
(
·œ
<,
LvrT”m
*> (
v¬Id
,
lvrT”m
));

329 
	g©omT”ms
[
‹rmno
]=
lvrT”m
;

334 
	g©omT”ms
[
‹rmno
] = 
m­It
->
£cÚd
;

338 
	gjj
=0;jj<
	g©omT”ms
.
size
();jj++)

339 
sÜt
(
©omT”ms
[
jj
]->
domaš
.
begš
(),©omT”ms[jj]->domaš.
’d
());

340 
Atom
* 
	g©om
 = 
Ãw
 Atom(
pSymbŞ
,
©omT”ms
);

341 
	gnCÏu£
->
	g©oms
[
i
] = 
©om
;

342 if(
	gcom¶‘edIds
.
couÁ
(
pSymbŞ
->
id
) == 0)

345 
P»diÿ‹SymbŞ
* 
nSymbŞ
 = 
Ãw
 P»diÿ‹SymbŞ(
´ediÿ‹Id
,
symbŞName
,
v¬_ty³s
,
LogDoubË
(1,
çl£
),LogDouble(1,false),predicateId);

346 
	gsymbŞsToAdd
.
push_back
(
nSymbŞ
);

349  
	gnCÏu£
;

352 
	gLiáedAlgsCÚv”tÜ
::
	$cÚv”tIÅutMLNToLiáed
(cÚ¡ 
MLN
* 
mÊ
, cÚ¡ 
Domaš
* 
domaš
,

353 
boŞ
& 
cÚšsGroundedCÏu£
)

355 
cout
<<"CÚv”tšg MLN..."<<
’dl
;

356 cÚ¡ 
FÜmuÏAndCÏu£sA¼ay
* 
fÿ
 = 
mÊ
->
	`g‘FÜmuÏAndCÏu£sA¼ay
();

357 
şau£Index
 = 0;

358 
i
 = 0; i < 
fÿ
->
	`size
(); i++)

360 
IndexCÏu£HashA¼ay
* 
šdexCÏu£s
 = (*
fÿ
)[
i
]->indexClauses;

361 
j
 = 0; j < 
šdexCÏu£s
->
	`size
(); j++)

363 
idx
 = (*
šdexCÏu£s
)[
j
]->
šdex
;

364 
CÏu£
* 
c
 = (*
šdexCÏu£s
)[
j
]->
şau£
;

365 
veùÜ
<
P»diÿ‹SymbŞ
*> 
symbŞsToAdd
;

366 
WCÏu£
* 
lCls
 = 
	`cÚv”tCÏu£ToLiáed
(
c
,
domaš
,
symbŞsToAdd
,
cÚšsGroundedCÏu£
);

367 
lCls
->
Üigš®CÏu£Index
 = 
şau£Index
++;

368 
lvrMÊ
->
şau£s
.
	`push_back
(
lCls
);

369 
jj
=0;jj<
symbŞsToAdd
.
	`size
();jj++)

370 
lvrMÊ
->
symbŞs
.
	`push_back
(
symbŞsToAdd
[
jj
]);

373 
	}
}

375 
	gLiáedAlgsCÚv”tÜ
::
	$´oûssS–fJošs
()

377 
LNÜm®iz”
 
	`Ê
(*
lvrMÊ
);

378 
Ê
.
	`»moveNPS–fJošs
(
lvrMÊ
->
şau£s
);

379 
	}
}

381 
	gLiáedAlgsCÚv”tÜ
::
	$upd©eS‹
()

383 cÚ¡ 
Domaš
* 
domaš
 = 
¡©e_
->
	`g‘Domaš
();

384 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
gºdP»dHashA¼ay
 = 
¡©e_
->
	`g‘GndP»dHashA¼ayPŒ
();

385 
i
=0;i<
gºdP»dHashA¼ay
->
	`size
();i++)

388 
idx
 = 
¡©e_
->
	`g‘IndexOfGroundP»diÿ‹
((*
gºdP»dHashA¼ay
)[
i
]);

389 if(
idx
==-1)

391 
blockIdx
 = 
domaš
->
	`g‘Block
((*
gºdP»dHashA¼ay
)[
i
]);

392 
sz
 = (*
gºdP»dHashA¼ay
)[
i
]->
	`g‘IÁA¼R•
()->
	`size
();

393 
veùÜ
<> 
	`tmp
(
sz
);

394 
j
=0;j<
sz
;j++)

396 
tmp
[
j
]=(*((*
gºdP»dHashA¼ay
)[
i
]->
	`g‘IÁA¼R•
()))[j];

398 
v®
 = 
LvrQu”yUpd©”
::
	`In¡ªû
()->
	`g‘Cu¼’tSam¶eV®ue
(
tmp
);

399 if(
v®
==-1)

401 
boŞ
 
bV®
=
çl£
;

402 if(
v®
 > 0)

403 
bV®
=
Œue
;

404 if(
bV®
)

405 
cout
<<1;

407 
cout
<<0;

408 
¡©e_
->
	`£tV®ueOfAtom
(
idx
+1,
bV®
,
çl£
,
blockIdx
);

410 
cout
<<
’dl
;

411 
	}
}

412 
	gLiáedAlgsCÚv”tÜ
::
	$´oûssWeightL—ºšgIÅut
(
LvrP¬ams
* 
·¿ms
,
boŞ
 
š™Ÿliz©iÚ
)

414 
·¿ms
->
isWeightL—ºšg
 = 
Œue
;

427 if(
·¿ms
->
®gÜ™hm
 =ğ
LVG
)

430 if(
š™Ÿliz©iÚ
)

432 
boŞ
 
isS–fJošed
 = 
çl£
;

433 
i
=0;i<
lvrMÊ
->
şau£s
.
	`size
();i++)

435 if(
lvrMÊ
->
şau£s
[
i
]->
	`isS–fJošed
())

437 
isS–fJošed
 = 
Œue
;

441 if(
isS–fJošed
)

443 
cout
<<"P»´oûssšg cÚv”‹d MLN..."<<
’dl
;

444 
	`´oûssS–fJošs
();

447 
·¿ms
->
İ”©iÚMode
 = 
ESAMPLER
;

448 if(!
liáedAlgsHªdËr
)

449 
liáedAlgsHªdËr
 = 
Ãw
 
	`LiáedAlgsHªdËr
(*
lvrMÊ
);

450 
liáedAlgsHªdËr
->
	`LBGAµroxM¬gš®s
(
·¿ms
);

452 
	}
}

	@liftedinfer/bridge/src/liftedalgshandler.cpp

1 
	~"liáed®gshªdËr.h
"

2 
	~"wmcÚv”tÜ.h
"

5 
	gLiáedAlgsHªdËr
::
	$LiáedAlgsHªdËr
(
LvrMLN
& 
mÊ_
):
	$mÊ
(
mÊ_
)

7 
±pS—rch
 = 
Ãw
 
	`LPTPS—rch
(
mÊ
);

8 
şu¡”C»©Ü
 = 
Ãw
 
	`LClu¡”C»©Ü
(&
mÊ
);

9 
´İo§lCÚ¡ruùÜ
 = 
Ãw
 
	`LPrİo§lCÚ¡ruùÜ
(
mÊ
);

10 
gibbsProûssHªdËr
 = 
Ãw
 
	`GibbsProûssHªdËr
(
mÊ
);

11 
	}
}

13 
	gLiáedAlgsHªdËr
::~
	$LiáedAlgsHªdËr
()

15 
d–‘e
 
±pS—rch
;

16 
d–‘e
 
şu¡”C»©Ü
;

17 
d–‘e
 
´İo§lCÚ¡ruùÜ
;

18 
d–‘e
 
gibbsProûssHªdËr
;

19 
	}
}

21 
	gLiáedAlgsHªdËr
::
	$LBGAµroxM¬gš®s
(
LvrP¬ams
* 
·¿ms
)

23 
gibbsProûssHªdËr
->
	`¡¬tLBGFÜM¬
(
·¿ms
);

24 
	}
}

26 
	gLiáedAlgsHªdËr
::
	$LISAµroxP¬t™iÚ
(
LvrP¬ams
* 
·¿ms
)

36 
´İo§lCÚ¡ruùÜ
->
	`¡¬tP¬t™iÚFunùiÚ
(
·¿ms
);

37 
	}
}

39 
	gLiáedAlgsHªdËr
::
	$LISAµroxM¬gš®s
(
LvrP¬ams
* 
·¿ms
)

50 
´İo§lCÚ¡ruùÜ
->
	`¡¬tMARInã»nû
(
·¿ms
);

51 
	}
}

53 
	gLiáedAlgsHªdËr
::
	$budPrİo§l
(
LvrP¬ams
* 
·¿ms
)

55 
´İo§lCÚ¡ruùÜ
->
	`¡¬tCÚ¡ruùiÚ
(
·¿ms
);

56 
cout
<<"dÚcÚ¡ruùiÚ"<<
’dl
;

57 
	}
}

59 
	gLiáedAlgsHªdËr
::
	$WMPTPZAµrox
(
LvrP¬ams
* 
·¿ms
)

62 
cout
<<"P»-´oûssšg..CÚv”tšgØWeigh‹d Mod– CouÁšg..."<<
’dl
;

63 
LWMCÚv”tÜ
* 
lw
 = 
Ãw
 
	`LWMCÚv”tÜ
(
mÊ
);

64 
lw
->
	`cÚv”tMLN
();

65 
d–‘e
 
lw
;

66 
cout
<<"WM CÚv”‹d MLN"<<
’dl
;

67 
i
=0;i<
mÊ
.
şau£s
.
	`size
();i++)

68 
mÊ
.
şau£s
[
i
]->
	`´št
();

69 
cout
<<
’dl
;

70 
LFeDump
::
	`dumpMLNToFe
(&
mÊ
);

71 
cout
<<"dÚwr™šg dum°fe ("<<
MLNDUMPFILENAME
<<","<<
SYMBOLSDUMPFILENAME
<<")"<<
’dl
;

72 
±pS—rch
->
	`¡¬tAµroxWeigh‹dMod–CouÁšg
(
·¿ms
);

73 
	}
}

76 
	gLiáedAlgsHªdËr
::
	$WMPTPZExaù
(
LvrP¬ams
* 
·¿ms
)

78 
cout
<<"P»-´oûssšg..CÚv”tšgØWeigh‹d Mod– CouÁšg..."<<
’dl
;

80 
LWMCÚv”tÜ
* 
lw
 = 
Ãw
 
	`LWMCÚv”tÜ
(
mÊ
);

81 
lw
->
	`cÚv”tMLN
();

82 
d–‘e
 
lw
;

83 
cout
<<"WM CÚv”‹d MLN"<<
’dl
;

84 
i
=0;i<
mÊ
.
şau£s
.
	`size
();i++)

85 
mÊ
.
şau£s
[
i
]->
	`´št
();

86 
cout
<<
’dl
;

87 
LFeDump
::
	`dumpMLNToFe
(&
mÊ
);

88 
cout
<<"dÚwr™šg dum°fe ("<<
MLNDUMPFILENAME
<<","<<
SYMBOLSDUMPFILENAME
<<")"<<
’dl
;

89 
cout
<<"Exact Z = ";

90 
±pS—rch
->
	`¡¬tExaùWeigh‹dMod–CouÁšg
(
·¿ms
).
	`´štV®ue
();

91 
cout
<<
’dl
;

92 
	}
}

	@liftedinfer/common/includes/cleanuputils.h

1 #iâdeà
__CLEANUP_UTILS_H


2 
	#__CLEANUP_UTILS_H


	)

4 
	g‹m¶©e
<
ty³Çme
 
	gCÚš”
>

5 
	$ş—nup
(
CÚš”
& 
c
)

7 !
c
.
	`em±y
())

10 if(
c
.
	`back
())

12 
d–‘e
 
c
.
	`back
();

13 
c
.
	`back
(èğ
NULL
;

15 
c
.
	`pİ_back
();

17 
	}
}

19 
	g‹m¶©e
<
ty³Çme
 
	gCÚš”
>

20 
	$»moveI‹m
(
CÚš”
& 
c
, 
™emIndex
)

23 if(
c
.
	`©
(
™emIndex
))

25 
d–‘e
 
c
.
	`©
(
™emIndex
);

26 
c
.
	`©
(
™emIndex
èğ
NULL
;

28 
c
.
	`”a£
(c.
	`begš
()+
™emIndex
);

29 
	}
}

32 
	g‹m¶©e
<
ty³Çme
 
	gCÚš”
>

33 
	$»moveUnu£dI‹ms
(
CÚš”
& 
ŞdC
, CÚš”& 
ÃwC
)

35 !
ŞdC
.
	`em±y
())

37 if(!
ŞdC
.
	`back
())

39 
boŞ
 
found
 = 
çl£
;

40 
i
=0;i<
ÃwC
.
	`size
();i++)

42 if(
ŞdC
.
	`back
(è=ğ
ÃwC
[
i
])

44 
found
 =
Œue
;

48 if(!
found
)

51 
d–‘e
 
ŞdC
.
	`back
();

52 
ŞdC
.
	`back
(èğ
NULL
;

55 
ŞdC
.
	`pİ_back
();

57 
	}
}

59 
	g‹m¶©e
<
ty³Çme
 
	gCÚš”
>

60 
ş—nupI‹ms
(
CÚš”
& 
c
,
¡¬tIndex
 = -1,
’dIndex
 = -1)

62 
¡¬t
;

63 
	g¡¬tIndex
 =ğ-1?
¡¬t
 = 0:¡¬ˆğ
¡¬tIndex
;

64 
	g’d
;

65 
	g’dIndex
 =ğ-1?
’d
 = 
c
.
size
():’d = 
’dIndex
;

66 
	gm
=
¡¬t
;m<
	g’d
;m++)

67 
ş—nup
(
c
[
m
]);

70 
	g‹m¶©e
<
ty³Çme
 
	gCÚš”
>

71 
»moveI‹ms
(
CÚš”
& 
c
,
¡¬tIndex
 = -1,
’dIndex
 = -1)

73 
¡¬t
;

74 
	g¡¬tIndex
 =ğ-1?
¡¬t
 = 0:¡¬ˆğ
¡¬tIndex
;

75 
	g’d
;

76 
	g’dIndex
 =ğ-1?
’d
 = 
c
.
size
():’d = 
’dIndex
;

77 
	gm
=
¡¬t
;m<
	g’d
;m++)

79 
d–‘e
 
	gc
[
m
];

81 
	gc
.
”a£
(
c
.
begš
()+
¡¬t
,c.begš()+
’d
);

	@liftedinfer/common/includes/clusterutil.h

1 #iâdeà
__LCLu¡”Ut__


2 
	#__LCLu¡”Ut__


	)

3 
	~"lvrmÊ.h
"

4 
	~"şu¡”ut.h
"

5 
	~"ş—nuputs.h
"

7 
	sLClu¡”Ut


9 
£³¿‹DisjoštCNF
(
veùÜ
<
WCÏu£
*> 
CNF
, veùÜ<veùÜ<WCÏu£*> >& 
disjoštCNFLi¡
)

11 
	mveùÜ
<veùÜ<> > 
	mşau£Indexes
;

12 
	mveùÜ
<veùÜ<> > 
	m©omIds
;

13 
	mnumEm±yCÏu£s
=0;

14 
	mveùÜ
<
	mLogDoubË
> 
	m§tWts
;

15 
	mveùÜ
<
	mboŞ
> 
	mlv§t
;

16 
	mi
=0;i<
	mCNF
.
size
();i++)

18 if(
	mCNF
[
i
]->
	m©oms
.
size
()==0)

20 
numEm±yCÏu£s
++;

21 
	m§tWts
.
push_back
(
CNF
[
i
]->
weight
);

22 
	mlv§t
.
push_back
(
CNF
[
i
]->
§tisf›d
);

25 
	mveùÜ
<> 
	mfoundPos
;

26 
	mj
=0;j<
	mCNF
[
i
]->
	m©oms
.
size
();j++)

28 
	mk
=0;k<
	m©omIds
.
size
();k++)

30 if(
fšd
(
©omIds
[
k
].
begš
(),©omIds[k].
’d
(),
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
)!=atomIds[k].end())

32 if(
fšd
(
foundPos
.
begš
(),foundPos.
’d
(),
k
)==foundPos.end())

33 
foundPos
.
push_back
(
k
);

38 if(
	mfoundPos
.
size
()==0)

40 
veùÜ
<> 
tmpIds
;

41 
	mj
=0;j<
	mCNF
[
i
]->
	m©oms
.
size
();j++)

42 
	mtmpIds
.
push_back
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

43 
	m©omIds
.
push_back
(
tmpIds
);

44 
	mveùÜ
<> 
	mtmpCšd
;

45 
	mtmpCšd
.
push_back
(
i
);

46 
	mşau£Indexes
.
push_back
(
tmpCšd
);

50 
sÜt
(
foundPos
.
begš
(),foundPos.
’d
());

51 
	m™x
=0;

52 
	mveùÜ
<> 
	mtmpAtomIds
;

53 
	mveùÜ
<> 
	mtmpCInds
;

54 
	mtmpCInds
.
push_back
(
i
);

55 
	mj
=0;j<
	mCNF
[
i
]->
	m©oms
.
size
();j++)

57 
	mtmpAtomIds
.
push_back
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

59 
	mrmCÁ
=0;

60 
	mveùÜ
<>::
™”©Ü
 
™
=
foundPos
.
begš
();
	m™
!=foundPos.
’d
();it++)

62 
	mÃwInd
 = *
™
-
rmCÁ
;

63 if(
	mÃwInd
 < 0)

65 
	mj
=0;j<
	m©omIds
[
ÃwInd
].
size
();j++)

66 
	mtmpAtomIds
.
push_back
(
©omIds
[
ÃwInd
].
©
(
j
));

67 
	mj
=0;j<
	mşau£Indexes
[
ÃwInd
].
size
();j++)

68 
	mtmpCInds
.
push_back
(
şau£Indexes
[
ÃwInd
].
©
(
j
));

69 
	m©omIds
.
”a£
(
©omIds
.
begš
()+
ÃwInd
);

70 
	mşau£Indexes
.
”a£
(
şau£Indexes
.
begš
()+
ÃwInd
);

71 
	mrmCÁ
++;

73 
	m©omIds
.
push_back
(
tmpAtomIds
);

74 
	mşau£Indexes
.
push_back
(
tmpCInds
);

77 
	mi
=0;i<
	mşau£Indexes
.
size
();i++)

79 
	mveùÜ
<
	mWCÏu£
*> 
	mtmpCÏu£s
;

80 
	mj
=0;j<
	mşau£Indexes
[
i
].
size
();j++)

82 
	mtmpCÏu£s
.
push_back
(
LvrMLN
::
ü—‹_Ãw_şau£
(
CNF
[
şau£Indexes
[
i
].
©
(
j
)]));

84 
	mdisjoštCNFLi¡
.
push_back
(
tmpCÏu£s
);

86 
	mi
=0;i<
	mnumEm±yCÏu£s
;i++)

88 
	mveùÜ
<
	mWCÏu£
*> 
	mtmpCÏu£s
;

89 
WCÏu£
* 
	mnCÏu£
ğ
Ãw
 WClause();

90 
	mnCÏu£
->
	m§tisf›d
 = 
lv§t
[
i
];

91 
	mnCÏu£
->
	mweight
 = 
§tWts
[
i
];

92 
	mtmpCÏu£s
.
push_back
(
nCÏu£
);

93 
	mdisjoštCNFLi¡
.
push_back
(
tmpCÏu£s
);

	@liftedinfer/common/includes/decomposer.h

1 #iâdeà
LDECOMPOSER_H_


2 
	#LDECOMPOSER_H_


	)

3 
	~<veùÜ
>

4 
	~<io¡»am
>

5 
	~<£t
>

6 
	~<m­
>

7 
usšg
 
Çme¥aû
 
	g¡d
;

9 
	~"lvrmÊ.h
"

11 
	sDecompo£r


13 
	mveùÜ
<
	mLvrT”m
*> 
	mdecompo£r_‹rms
;

15 
	mm­
<,> 
	m´ediÿ‹_pos™iÚs
;

16 
	mm­
<,> 
	mnÜm_´ediÿ‹_pos™iÚs
;

18 
	mm­
<,> 
	m©omCouÁ”
;

19 
boŞ
 
	md–‘iÚM¬k”
;

20 
Decompo£r
(){}

21 
Decompo£r
(
veùÜ
<
LvrT”m
*> 
decompo£r_‹rms_
, 
m­
<,> 
´ediÿ‹_pos™iÚs_
,m­<,> 
©omCouÁ”_
,

22 
m­
<,> 
nÜm_´ediÿ‹_pos™iÚs_
):
decompo£r_‹rms
(
decompo£r_‹rms_
),

23 
´ediÿ‹_pos™iÚs
(
´ediÿ‹_pos™iÚs_
),
©omCouÁ”
(
©omCouÁ”_
),
d–‘iÚM¬k”
(
çl£
),
nÜm_´ediÿ‹_pos™iÚs
(
nÜm_´ediÿ‹_pos™iÚs_
)

25 
´št
()

27 
	mcout
<<"[";

28 
	mj
=0;j<
	mdecompo£r_‹rms
.
size
();j++)

30 
	mcout
<<
	mdecompo£r_‹rms
[
j
];

31 if(
	mj
!=
decompo£r_‹rms
.
size
()-1)

32 
cout
<<" , ";

34 
	mcout
<<"]";

37 ~
Decompo£r
();

40 
	sLDecompo£r


42 
	mLvrMLN
& 
	mmÊ
;

43 
boŞ
 
decompo£CNF
(
veùÜ
<
WCÏu£
*>& 
CNF
,& 
pow”FaùÜ
);

44 
fšd_decompo£r
(
veùÜ
<
WCÏu£
*>& 
CNF
, veùÜ<
Decompo£r
*>& 
decompo£r_li¡
);

46 
LDecompo£r
(
LvrMLN
& 
mÊ_
):
mÊ
(mln_){}

47 
´iv©e
:

48 
boŞ
 
­³nd_to_decompo£r
 (
veùÜ
<> 
©om_li¡
,veùÜ<
LvrT”m
*> 
‹rms
,veùÜ<veùÜ<> >
pos™iÚs
,veùÜ<
Decompo£r
*>& 
decompo£r_li¡
,

49 
veùÜ
<> 
nÜm_©om_li¡
);

50 
Decompo£r
* 
ü—‹_Ãw_decompo£r
(
LvrT”m
* 
‹rm
,
veùÜ
<> 
©om_li¡
,veùÜ<> 
pos™iÚ_li¡
,veùÜ<> 
nÜm_©om_li¡
);

51 
»moveRowsFromDecompo£r
(
WCÏu£
* 
şau£
, 
veùÜ
<
Decompo£r
*>& 
decompo£r_li¡
);

52 
Decompo£r
* 
m”ge
(Decompo£r* 
d1
, Decompo£r* 
d2
);

53 
unify
(
Decompo£r
* 
d1
, Decompo£r* 
d2
);

	@liftedinfer/common/includes/filedump.h

1 #iâdeà
__LFILEDUMP


2 
	#__LFILEDUMP


	)

3 
	~"lvrmÊ.h
"

4 
	~<s¡»am
>

5 
	~<f¡»am
>

6 
usšg
 
Çme¥aû
 
	g¡d
;

7 
	~"¡ršgcÚv”siÚuts.h
"

9 
	#MLNDUMPFILENAME
 "mÊdump.d©"

	)

10 
	#SYMBOLSDUMPFILENAME
 "symbŞsdump.d©"

	)

11 
	#QUERIESDUMPFILENAME
 "qu”›sdump.d©"

	)

12 
	#EVIDENCEDUMPFILENAME
 "evid’ûdump.d©"

	)

13 
	#PROPOSALDUMPFILENAME
 "´İo§ldump.d©"

	)

14 
	#PROPOSALISOLATEDTERMSDUMPFILE
 "´İo§lITdump.d©"

	)

15 
	#CLAUSESDUMPFILE
 "şau£sdump.d©"

	)

17 
	sLSymbŞDump


19 
	msign
;

20 
	mnT”ms
;

21 
	mid
;

22 
	mpid
;

23 
	mnid
;

24 
¡ršg
 
	mÇme
;

25 
	mpv®
;

26 
	mnv®
;

29 
	sLFeDump


31 
´štCÏu£
(
of¡»am
* 
out
,
WCÏu£
* 
şau£
)

33 if(
	mşau£
->
	m§tisf›d
==
Œue
)

34 (*
out
)<<1<<":";

36 (*
	mout
)<<0<<":";

37 (*
	mout
)<<
	mşau£
->
	m©oms
.
size
()<<":";

38 
	mi
=0;i<
	mşau£
->
	m©oms
.
size
();i++)

40 if(
	mşau£
->
	msign
[
i
])

41 (*
	mout
)<<0<<"#";

43 (*
	mout
)<<1<<"#";

44 (*
	mout
)<<
	mşau£
->
	m©oms
[
i
]->
	m‹rms
.
size
()<<"#"<<şau£->©oms[i]->
	msymbŞ
->
	mid
<<"#"<<şau£->©oms[i]->symbŞ->
	m·»ÁId
<<"#"<<

45 
	mşau£
->
	m©oms
[
i
]->
	msymbŞ
->
	mnÜmP¬’tId
<<"#"<<şau£->©oms[i]->symbŞ->symbŞ.
c_¡r
()<<"#"<<şau£->©oms[i]->symbŞ->
	mpweight
<<"#"<<

46 
	mşau£
->
	m©oms
[
i
]->
	msymbŞ
->
	mnweight
;

47 if(
	mi
<
	mşau£
->
	m©oms
.
size
()-1)

48 (*
	mout
)<<"|";

50 (*
	mout
)<<"@";

51 
	mveùÜ
<
	mLvrT”m
*> 
	m‹rms
;

52 
	mi
=0;i<
	mşau£
->
	m©oms
.
size
();i++)

54 
	mj
=0;j<
	mşau£
->
	m©oms
[
i
]->
	m‹rms
.
size
();j++)

56 if(
fšd
(
‹rms
.
begš
(),‹rms.
’d
(),
şau£
->
©oms
[
i
]->‹rms[
j
])==terms.end())

58 
‹rms
.
push_back
(
şau£
->
©oms
[
i
]->‹rms[
j
]);

63 
	mi
=0;i<
	m‹rms
.
size
();i++)

66 
	mjj
=0;jj<
	m‹rms
[
i
]->
	mdomaš
.
size
();jj++)

68 (*
	mout
)<<
	m‹rms
[
i
]->
	mdomaš
[
jj
];

69 if(
	mjj
<
	m‹rms
[
i
]->
	mdomaš
.
size
()-1)

70 (*
	mout
)<<",";

72 (*
	mout
)<<"&";

73 
¡ršg
 
	m©omT”msSŒ
;

74 
	mj
=0;j<
	mşau£
->
	m©oms
.
size
();j++)

76 
¡ršg
 
	ms
;

77 
	mk
=0;k<
	mşau£
->
	m©oms
[
j
]->
	m‹rms
.
size
();k++)

79 if(
	m‹rms
[
i
]==
şau£
->
©oms
[
j
]->
‹rms
[
k
])

81 
¡ršg
 
s1
;

82 
¡ršg¡»am
 
¡1
(
s1
);

83 
	m¡1
<<
	mj
;

84 
¡ršg
 
	ms2
;

85 
¡ršg¡»am
 
¡2
(
s2
);

86 
	m¡2
<<
	mk
;

87 
	ms
.
­³nd
(
¡1
.
¡r
());

88 
	ms
.
­³nd
(":");

89 
	ms
.
­³nd
(
¡2
.
¡r
());

90 
	ms
.
­³nd
(",");

95 if(
	ms
.
Ëngth
()>0)

96 
	m©omT”msSŒ
.
­³nd
(
s
);

98 (*
	mout
)<<
	m©omT”msSŒ
.
sub¡r
(0,
©omT”msSŒ
.
Ëngth
()-1);

99 if(
	mi
<
	m‹rms
.
size
()-1)

100 (*
	mout
)<<"%";

102 (*
	mout
)<<"@";

103 (*
	mout
)<<
	mşau£
->
	mweight
;

105 
dumpSymbŞs
(
LvrMLN
* 
mÊ
,
¡ršg
 
symbŞsdumpfe
)

107 
of¡»am
* 
	mout
 = 
Ãw
 of¡»am(
symbŞsdumpfe
.
c_¡r
());

108 (*
	mout
)<<
	mmÊ
->
g‘MaxP»diÿ‹Id
()<<
	m’dl
;

109 (*
	mout
)<<
	mmÊ
->
g‘MaxDeg»e
()<<
	m’dl
;

110 
	mi
=0;i<
	mmÊ
->
	msymbŞs
.
size
();i++)

112 (*
	mout
)<<-1<<"#";

113 (*
	mout
)<<
	mmÊ
->
	msymbŞs
[
i
]->
	mv¬ŸbË_ty³s
.
size
()<<"#"<<mÊ->symbŞs[i]->
	mid
<<"#"<<mÊ->symbŞs[i]->
	m·»ÁId
<<"#"<<

114 
	mmÊ
->
	msymbŞs
[
i
]->
	mnÜmP¬’tId
<<"#"<<mÊ->symbŞs[i]->
	msymbŞ
.
c_¡r
()<<"#"<<mÊ->symbŞs[i]->
	mpweight
<<"#"<<

115 
	mmÊ
->
	msymbŞs
[
i
]->
	mnweight
;

116 (*
	mout
)<<
	m’dl
;

118 
	mout
->
şo£
();

119 
d–‘e
 
	mout
;

122 
dumpMLNToFe
(
LvrMLN
* 
mÊ
,
¡ršg
 
mÊdumpfe
=
MLNDUMPFILENAME
,¡ršg 
symbŞsdumpfe
 = 
SYMBOLSDUMPFILENAME
)

124 
of¡»am
* 
out
 = 
Ãw
 of¡»am(
mÊdumpfe
.
c_¡r
());

127 
	mi
=0;i<
	mmÊ
->
	mşau£s
.
size
();i++)

129 
´štCÏu£
(
out
,
mÊ
->
şau£s
[
i
]);

130 (*
	mout
)<<
	m’dl
;

132 
	mout
->
şo£
();

133 
dumpSymbŞs
(
mÊ
,
symbŞsdumpfe
);

134 
d–‘e
 
	mout
;

137 
dumpCÏu£sToFe
(
veùÜ
<
WCÏu£
*> 
şau£s
,
¡ršg
 
şau£sdumpfe
 = 
CLAUSESDUMPFILE
)

139 
of¡»am
* 
out
 = 
Ãw
 of¡»am(
şau£sdumpfe
.
c_¡r
());

142 
	mi
=0;i<
	mşau£s
.
size
();i++)

144 
´štCÏu£
(
out
,
şau£s
[
i
]);

145 (*
	mout
)<<
	m’dl
;

147 
	mout
->
şo£
();

148 
d–‘e
 
	mout
;

151 
»adDum³dşau£sFromFe
(
veùÜ
<
WCÏu£
*>& 
şau£s
,
¡ršg
 
şau£sdumpfe
 = 
CLAUSESDUMPFILE
)

153 
f¡»am
 
fe¡r
(
şau£sdumpfe
.
c_¡r
());

154 if(
	mfe¡r
 =ğ
NULL
)

156 
cout
<<"E¼Ü„—dšg LvrMLN Fe"<<
’dl
;

157 
ex™
(-1);

160 
	mfe¡r
)

163 
¡ršg
 
	mlše
;

164 
g‘lše
(
fe¡r
,
lše
);

165 if(
	mlše
.
size
()==0)

167 
boŞ
 
	m§t
 = 
çl£
;

170 if(
	mlše
[2] == '0')

172 if(
lše
[0]=='1')

174 
§t
=
Œue
;

176 
¡ršg
 
	m¡r
 = 
lše
.
sub¡r
(6);

177 
¡ršg¡»am
 
s¡r
(
¡r
);

178 
	mwt
;

179 
	ms¡r
 >> 
	mwt
;

180 
WCÏu£
* 
	mempCÏu£
 = 
Ãw
 WClause();

181 
	mempCÏu£
->
	m§tisf›d
 = 
§t
;

182 
	mempCÏu£
->
	mweight
 = 
LogDoubË
(
wt
,
çl£
);

183 
	mşau£s
.
push_back
(
empCÏu£
);

188 
	mveùÜ
<
	m¡ršg
> 
	mtok’s
;

189 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
lše
,
tok’s
,"@");

190 
	mpos
 = 
tok’s
[0].
fšd
(":");

191 
	msV®
;

192 
¡ršg¡»am
 
¡r
(
tok’s
[0].
sub¡r
(0,
pos
));

193 
	m¡r
>>
	msV®
;

194 if(
	msV®
==1)

195 
§t
=
Œue
;

198 
	mp1
 = 
tok’s
[0].
rfšd
(":");

200 
¡ršg
 
	m©omsS
 = 
tok’s
[0].
sub¡r
(
p1
+1);

201 
	mveùÜ
<
	m¡ršg
> 
	m©omNames
;

202 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
©omsS
,
©omNames
,"|");

203 
	mveùÜ
<
	mLSymbŞDump
*> 
	msLi¡
;

204 
	mveùÜ
<
	mP»diÿ‹SymbŞ
*> 
	msymbŞs
;

205 
	mi
=0;i<
	m©omNames
.
size
();i++)

207 
LSymbŞDump
* 
	mns
 = 
Ãw
 LSymbolDump();

208 
cÚv”tToDump
(
©omNames
[
i
],
ns
,
symbŞs
);

209 
	msLi¡
.
push_back
(
ns
);

212 
	mveùÜ
<
	m¡ršg
> 
	mtoksT”ms
;

213 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
tok’s
[1],
toksT”ms
,"%");

214 
	mveùÜ
<veùÜ<
	mLvrT”m
*> > 
©omT”ms
(
sLi¡
.
size
());

215 
	mi
=0;i<
	m©omT”ms
.
size
();i++)

217 
	m©omT”ms
[
i
].
»size
(
sLi¡
[i]->
nT”ms
);

219 
	mi
=0;i<
	mtoksT”ms
.
size
();i++)

221 
	mpos
 = 
toksT”ms
[
i
].
fšd
("&");

222 
¡ršg
 
	ms1
 = 
toksT”ms
[
i
].
sub¡r
(0,
pos
);

223 
¡ršg
 
	ms2
 = 
toksT”ms
[
i
].
sub¡r
(
pos
+1);

224 
	mveùÜ
<
	m¡ršg
> 
	mdV®sS
;

225 
	mveùÜ
<> 
	mdV®s
;

226 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
s1
,
dV®sS
,",");

227 
	mLSŒšgCÚv”siÚUts
::
toIÁA¼
(
dV®sS
,
dV®s
);

228 
LvrT”m
* 
	m‹rm
 = 
Ãw
 LvrT”m(0,
dV®s
);

230 
	mveùÜ
<
	m¡ršg
> 
	mpo¡oks
;

231 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
s2
,
po¡oks
,",");

232 
	mj
=0;j<
	mpo¡oks
.
size
();j++)

234 
	mpos
 = 
po¡oks
[
j
].
fšd
(":");

235 
¡ršg
 
	ms1
 = 
po¡oks
[
j
].
sub¡r
(0,
pos
);

236 
¡ršg
 
	ms2
 = 
po¡oks
[
j
].
sub¡r
(
pos
+1);

237 
	m­os
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
s1
);

238 
	mos
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
s2
);

239 
	m©omT”ms
[
­os
].
©
(
os
èğ
‹rm
;

242 
WCÏu£
* 
	mşau£
 = 
Ãw
 WClause();

244 
	mi
=0;i<
	m©omT”ms
.
size
();i++)

246 
Atom
* 
	m©om
 = 
Ãw
 Atom(
symbŞs
[
i
],
©omT”ms
[i]);

247 
	mşau£
->
	m©oms
.
push_back
(
©om
);

248 if(
	msLi¡
[
i
]->
	msign
 == 0)

249 
şau£
->
sign
.
push_back
(
Œue
);

251 
	mşau£
->
	msign
.
push_back
(
çl£
);

253 
	mşau£
->
	mweight
 = 
LogDoubË
(
LSŒšgCÚv”siÚUts
::
toDoubË
(
tok’s
[2]),
çl£
);

254 
	mşau£
->
	m§tisf›d
=
§t
;

255 
	mşau£s
.
push_back
(
şau£
);

257 
	mfe¡r
.
şo£
();

260 
dumpQu”›sToFe
(
veùÜ
<veùÜ<> > 
štR•
,
¡ršg
 
qu”›sdumpfe
 = 
QUERIESDUMPFILENAME
)

262 
of¡»am
* 
out
 = 
Ãw
 of¡»am(
qu”›sdumpfe
.
c_¡r
());

263 
	mi
=0;i<
	mštR•
.
size
();i++)

265 
	mj
=0;j<
	mštR•
[
i
].
size
();j++)

267 (*
	mout
)<<
	mštR•
[
i
].
©
(
j
);

268 if(
	mj
<
	mštR•
[
i
].
size
()-1)

269 (*
	mout
)<<" ";

271 (*
	mout
)<<
	m’dl
;

273 
	mout
->
şo£
();

274 
d–‘e
 
	mout
;

277 
»adQu”›sFromFe
(
veùÜ
<veùÜ<> >& 
štR•
,
¡ršg
 
qu”›sdumpfe
 = 
QUERIESDUMPFILENAME
 )

279 
f¡»am
 
fe¡r
(
qu”›sdumpfe
.
c_¡r
());

280 if(
	mfe¡r
 =ğ
NULL
)

282 
cout
<<"E¼Ü„—dšg LvrMLN Fe"<<
’dl
;

283 
ex™
(-1);

285 * 
	mbuf
 = 
Ãw
 [1024];

286 
	mfe¡r
)

288 
	mfe¡r
.
g‘lše
(
buf
,1024);

289 
¡ršg
 
lše
(
buf
);

290 if(
	mlše
.
size
()==0)

292 
	mveùÜ
<
	m¡ršg
> 
	mtok’s
;

293 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
lše
,
tok’s
," ");

294 
	mveùÜ
<> 
	mtmpA¼
;

295 
	mLSŒšgCÚv”siÚUts
::
toIÁA¼
(
tok’s
,
tmpA¼
);

296 
	mštR•
.
push_back
(
tmpA¼
);

299 
dumpEvid’ûToFe
(
veùÜ
<veùÜ<> > 
štR•
,
¡ršg
 
evid’ûdumpfe
 = 
EVIDENCEDUMPFILENAME
)

301 
of¡»am
* 
out
 = 
Ãw
 of¡»am(
evid’ûdumpfe
.
c_¡r
());

302 
	mi
=0;i<
	mštR•
.
size
();i++)

304 
	mj
=0;j<
	mštR•
[
i
].
size
();j++)

306 (*
	mout
)<<
	mštR•
[
i
].
©
(
j
);

307 if(
	mj
<
	mštR•
[
i
].
size
()-1)

308 (*
	mout
)<<" ";

310 (*
	mout
)<<
	m’dl
;

312 
	mout
->
şo£
();

313 
d–‘e
 
	mout
;

316 
»adEvid’ûFromFe
(
veùÜ
<veùÜ<> >& 
štR•
,
¡ršg
 
evid’ûdumpfe
 = 
EVIDENCEDUMPFILENAME
)

318 
f¡»am
 
fe¡r
(
evid’ûdumpfe
.
c_¡r
());

319 if(
	mfe¡r
 =ğ
NULL
)

321 
cout
<<"E¼Ü„—dšg LvrMLN Fe"<<
’dl
;

322 
ex™
(-1);

324 * 
	mbuf
 = 
Ãw
 [1024];

325 
	mfe¡r
)

327 
	mfe¡r
.
g‘lše
(
buf
,1024);

328 
¡ršg
 
lše
(
buf
);

329 if(
	mlše
.
size
()==0)

331 
	mveùÜ
<
	m¡ršg
> 
	mtok’s
;

332 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
lše
,
tok’s
," ");

333 
	mveùÜ
<> 
	mtmpA¼
;

334 
	mLSŒšgCÚv”siÚUts
::
toIÁA¼
(
tok’s
,
tmpA¼
);

335 
	mštR•
.
push_back
(
tmpA¼
);

339 
cÚv”tToDump
(
¡ršg
 
s
, 
LSymbŞDump
* 
sd
,
veùÜ
<
P»diÿ‹SymbŞ
*>& 
symbŞs
)

341 
	mveùÜ
<
	m¡ršg
> 
	m·¿ms
;

342 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
s
,
·¿ms
,"#");

343 
	msd
->
	msign
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
·¿ms
[0]);

344 
	msd
->
	mnT”ms
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
·¿ms
[1]);

345 
	msd
->
	mid
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
·¿ms
[2]);

346 
	msd
->
	mpid
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
·¿ms
[3]);

347 
	msd
->
	mnid
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
·¿ms
[4]);

348 
	msd
->
	mÇme
 = 
·¿ms
[5];

349 
	msd
->
	mpv®
 = 
LSŒšgCÚv”siÚUts
::
toDoubË
(
·¿ms
[6]);

350 
	msd
->
	mnv®
 = 
LSŒšgCÚv”siÚUts
::
toDoubË
(
·¿ms
[7]);

351 
	mveùÜ
<> 
v¬_ty³s
(
sd
->
nT”ms
);

352 
P»diÿ‹SymbŞ
 *
	mps
 = 
Ãw
 P»diÿ‹SymbŞ(
sd
->
id
,sd->
Çme
,
v¬_ty³s
,
LogDoubË
(sd->
pv®
,
çl£
),LogDoubË(sd->
nv®
,çl£),sd->
nid
);

353 
	mps
->
	m·»ÁId
 = 
sd
->
pid
;

354 
	msymbŞs
.
push_back
(
ps
);

356 
»adDum³dMLNFromFe
(
LvrMLN
& 
mÊ
,
¡ršg
 
mÊdumpfe
 = 
MLNDUMPFILENAME
)

358 
f¡»am
 
fe¡r
(
mÊdumpfe
.
c_¡r
());

359 if(
	mfe¡r
 =ğ
NULL
)

361 
cout
<<"E¼Ü„—dšg LvrMLN Fe"<<
’dl
;

362 
ex™
(-1);

365 
	mfe¡r
)

368 
¡ršg
 
	mlše
;

369 
g‘lše
(
fe¡r
,
lše
);

370 if(
	mlše
.
size
()==0)

372 
boŞ
 
	m§t
 = 
çl£
;

375 if(
	mlše
[2] == '0')

377 if(
lše
[0]=='1')

379 
§t
=
Œue
;

381 
¡ršg
 
	m¡r
 = 
lše
.
sub¡r
(6);

382 
¡ršg¡»am
 
s¡r
(
¡r
);

383 
	mwt
;

384 
	ms¡r
 >> 
	mwt
;

385 
WCÏu£
* 
	mempCÏu£
 = 
Ãw
 WClause();

386 
	mempCÏu£
->
	m§tisf›d
 = 
§t
;

387 
	mempCÏu£
->
	mweight
 = 
LogDoubË
(
wt
,
çl£
);

388 
	mmÊ
.
	mşau£s
.
push_back
(
empCÏu£
);

393 
	mveùÜ
<
	m¡ršg
> 
	mtok’s
;

394 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
lše
,
tok’s
,"@");

395 
	mpos
 = 
tok’s
[0].
fšd
(":");

396 
	msV®
;

397 
¡ršg¡»am
 
¡r
(
tok’s
[0].
sub¡r
(0,
pos
));

398 
	m¡r
>>
	msV®
;

399 if(
	msV®
==1)

400 
§t
=
Œue
;

403 
	mp1
 = 
tok’s
[0].
rfšd
(":");

405 
¡ršg
 
	m©omsS
 = 
tok’s
[0].
sub¡r
(
p1
+1);

406 
	mveùÜ
<
	m¡ršg
> 
	m©omNames
;

407 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
©omsS
,
©omNames
,"|");

408 
	mveùÜ
<
	mLSymbŞDump
*> 
	msLi¡
;

409 
	mveùÜ
<
	mP»diÿ‹SymbŞ
*> 
	msymbŞs
;

410 
	mi
=0;i<
	m©omNames
.
size
();i++)

412 
LSymbŞDump
* 
	mns
 = 
Ãw
 LSymbolDump();

413 
cÚv”tToDump
(
©omNames
[
i
],
ns
,
symbŞs
);

414 
	msLi¡
.
push_back
(
ns
);

417 
	mveùÜ
<
	m¡ršg
> 
	mtoksT”ms
;

418 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
tok’s
[1],
toksT”ms
,"%");

419 
	mveùÜ
<veùÜ<
	mLvrT”m
*> > 
©omT”ms
(
sLi¡
.
size
());

420 
	mi
=0;i<
	m©omT”ms
.
size
();i++)

422 
	m©omT”ms
[
i
].
»size
(
sLi¡
[i]->
nT”ms
);

424 
	mi
=0;i<
	mtoksT”ms
.
size
();i++)

426 
	mpos
 = 
toksT”ms
[
i
].
fšd
("&");

427 
¡ršg
 
	ms1
 = 
toksT”ms
[
i
].
sub¡r
(0,
pos
);

428 
¡ršg
 
	ms2
 = 
toksT”ms
[
i
].
sub¡r
(
pos
+1);

429 
	mveùÜ
<
	m¡ršg
> 
	mdV®sS
;

430 
	mveùÜ
<> 
	mdV®s
;

431 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
s1
,
dV®sS
,",");

432 
	mLSŒšgCÚv”siÚUts
::
toIÁA¼
(
dV®sS
,
dV®s
);

433 
LvrT”m
* 
	m‹rm
 = 
Ãw
 LvrT”m(0,
dV®s
);

435 
	mveùÜ
<
	m¡ršg
> 
	mpo¡oks
;

436 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
s2
,
po¡oks
,",");

437 
	mj
=0;j<
	mpo¡oks
.
size
();j++)

439 
	mpos
 = 
po¡oks
[
j
].
fšd
(":");

440 
¡ršg
 
	ms1
 = 
po¡oks
[
j
].
sub¡r
(0,
pos
);

441 
¡ršg
 
	ms2
 = 
po¡oks
[
j
].
sub¡r
(
pos
+1);

442 
	m­os
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
s1
);

443 
	mos
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
s2
);

444 
	m©omT”ms
[
­os
].
©
(
os
èğ
‹rm
;

447 
WCÏu£
* 
	mşau£
 = 
Ãw
 WClause();

449 
	mi
=0;i<
	m©omT”ms
.
size
();i++)

451 
Atom
* 
	m©om
 = 
Ãw
 Atom(
symbŞs
[
i
],
©omT”ms
[i]);

452 
	mşau£
->
	m©oms
.
push_back
(
©om
);

453 if(
	msLi¡
[
i
]->
	msign
 == 0)

454 
şau£
->
sign
.
push_back
(
Œue
);

456 
	mşau£
->
	msign
.
push_back
(
çl£
);

458 
	mşau£
->
	mweight
 = 
LogDoubË
(
LSŒšgCÚv”siÚUts
::
toDoubË
(
tok’s
[2]),
çl£
);

459 
	mşau£
->
	m§tisf›d
=
§t
;

460 
	mmÊ
.
	mşau£s
.
push_back
(
şau£
);

462 
	mfe¡r
.
şo£
();

463 
»adDum³dSymbŞsFromFe
(
mÊ
);

466 
»adDum³dSymbŞsFromFe
(
LvrMLN
& 
mÊ
,
¡ršg
 
symbŞsdumpfe
=
SYMBOLSDUMPFILENAME
)

468 
f¡»am
 
fe¡r
(
symbŞsdumpfe
.
c_¡r
());

469 if(
	mfe¡r
 =ğ
NULL
)

471 
cout
<<"E¼Ü„—dšg LvrMLN Fe"<<
’dl
;

472 
ex™
(-1);

474 * 
	mbuf
 = 
Ãw
 [1024];

475 
	mfe¡r
.
g‘lše
(
buf
,1024);

476 
¡ršg
 
lše0
(
buf
);

477 
	mmÊ
.
	mmax_´ediÿ‹_id
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
lše0
);

478 
	mfe¡r
.
g‘lše
(
buf
,1024);

479 
¡ršg
 
lše1
(
buf
);

480 
	mmÊ
.
	mmaxDeg»e
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
lše1
);

481 
	mfe¡r
)

483 
	mfe¡r
.
g‘lše
(
buf
,1024);

484 
¡ršg
 
lše
(
buf
);

485 if(
	mlše
.
size
()==0)

488 
	mveùÜ
<
	mLSymbŞDump
*> 
	msLi¡
;

489 
	mveùÜ
<
	mP»diÿ‹SymbŞ
*> 
	msymbŞs
;

490 
LSymbŞDump
* 
	mns
 = 
Ãw
 LSymbolDump();

491 
cÚv”tToDump
(
lše
,
ns
,
mÊ
.
symbŞs
);

492 
	msLi¡
.
push_back
(
ns
);

494 
	mfe¡r
.
şo£
();

497 
dumpPrİo§lAtom
(
Atom
* 
©om
, 
of¡»am
* 
out
)

499 (*
	mout
)<<
	m©om
->
	msymbŞ
->symbŞ.
c_¡r
()<<"#"<<©om->symbŞ->
	mid
<<"#"<<©om->symbŞ->
	m·»ÁId
<<"#";

500 
	mi
=0;i<
	m©om
->
	m‹rms
.
size
();i++)

502 
	mj
=0;j<
	m©om
->
	m‹rms
[
i
]->
	mdomaš
.
size
();j++)

504 (*
	mout
)<<
	m©om
->
	m‹rms
[
i
]->
	mdomaš
[
j
];

505 if(
	mj
<
	m©om
->
	m‹rms
[
i
]->
	mdomaš
.
size
()-1)

506 (*
	mout
)<<",";

508 if(
	mi
 < 
	m©om
->
	m‹rms
.
size
()-1)

509 (*
	mout
)<<"!";

511 (*
	mout
)<<"$";

514 
dumpPrİo§lToFe
(
veùÜ
<
Atom
*> 
©oms
,veùÜ<veùÜ<Atom*> > 
·»Ás
, veùÜ<> 
ids
, 
¡ršg
 
´İo§ldumpfe
=
PROPOSALDUMPFILENAME
)

516 
of¡»am
* 
out
 = 
Ãw
 of¡»am(
´İo§ldumpfe
.
c_¡r
());

517 
	ma
=0;a<
	m©oms
.
size
();a++)

519 (*
	mout
)<<
	mids
[
a
]<<"$";

520 
Atom
* 
	m©om
 = 
©oms
[
a
];

521 
dumpPrİo§lAtom
(
©om
,
out
);

522 
	mi
=0;i<
	m·»Ás
[
a
].
size
();i++)

524 
dumpPrİo§lAtom
(
·»Ás
[
a
].
©
(
i
),
out
);

526 (*
	mout
)<<
	m’dl
;

528 (*
	mout
).
şo£
();

529 
d–‘e
 
	mout
;

533 
»adDum³dPrİo§lAtom
(
veùÜ
<
Atom
*>& 
©oms
,
¡ršg
 
©omSŒšg
)

535 
	mveùÜ
<
	m¡ršg
> 
	mtok’s
;

536 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
©omSŒšg
,
tok’s
,"#");

537 
¡ršg
 
	msymbŞ
 = 
tok’s
[0];

538 
	mid
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
tok’s
[1]);

539 
	m·»Áid
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
tok’s
[2]);

540 
	mveùÜ
<
	m¡ršg
> 
	m‹rmsS
;

541 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
tok’s
[3],
‹rmsS
,"!");

542 
	mveùÜ
<
	mLvrT”m
*> 
‹rmDoms
(
‹rmsS
.
size
());

543 
	mi
=0;i<
	m‹rmsS
.
size
();i++)

545 
	mveùÜ
<> 
	mv®s
;

546 
	mveùÜ
<
	m¡ršg
> 
	mdomS
;

547 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
‹rmsS
[
i
],
domS
,",");

548 
	mLSŒšgCÚv”siÚUts
::
toIÁA¼
(
domS
,
v®s
);

549 
LvrT”m
* 
	m‹rm
 = 
Ãw
 LvrT”m(0,
v®s
);

550 
	m‹rmDoms
[
i
] = 
‹rm
;

553 
	mveùÜ
<> 
v¬_ty³s
(
‹rmDoms
.
size
());

554 
P»diÿ‹SymbŞ
 *
	mps
 = 
Ãw
 P»diÿ‹SymbŞ(
id
,
symbŞ
,
v¬_ty³s
,
LogDoubË
(1,
çl£
),LogDouble(1,false));

555 
	mps
->
	m·»ÁId
 = 
·»Áid
;

556 
Atom
* 
	m©om
 = 
Ãw
 Atom(
ps
,
‹rmDoms
);

557 
	m©oms
.
push_back
(
©om
);

560 
»adDum³dPrİo§lFe
(
veùÜ
<
Atom
*>& 
©oms
,veùÜ<veùÜ<Atom*> >& 
·»Ás
, veùÜ<>& 
ids
,
¡ršg
 
´İo§ldumpfe
=
PROPOSALDUMPFILENAME
)

562 
f¡»am
 
fe¡r
(
´İo§ldumpfe
.
c_¡r
());

563 if(
	mfe¡r
 =ğ
NULL
)

565 
cout
<<"E¼Ü„—dšg LvrMLN Fe"<<
’dl
;

566 
ex™
(-1);

568 * 
	mbuf
 = 
Ãw
 [1024];

569 
	mfe¡r
)

571 
	mfe¡r
.
g‘lše
(
buf
,1024);

572 
¡ršg
 
lše
(
buf
);

573 if(
	mlše
.
size
()==0)

575 
	mveùÜ
<
	m¡ršg
> 
	mtok’s
;

576 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
lše
,
tok’s
,"$");

577 
	mid
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
tok’s
[0]);

578 
»adDum³dPrİo§lAtom
(
©oms
,
tok’s
[1]);

579 
	mveùÜ
<
	mAtom
*> 
	mtmpP¬’ts
;

580 
	mi
=2;i<
	mtok’s
.
size
();i++)

582 if(
	mtok’s
[
i
].
size
() > 0)

584 
»adDum³dPrİo§lAtom
(
tmpP¬’ts
,
tok’s
[
i
]);

587 
	mids
.
push_back
(
id
);

588 
	m·»Ás
.
push_back
(
tmpP¬’ts
);

590 
	mfe¡r
.
şo£
();

593 
dumpPrİo§lITT”msFe
(
veùÜ
<veùÜ<
boŞ
> > 
isŞ©edT”ms
,
¡ršg
 
´İo§lITT”msDum
 = 
PROPOSALISOLATEDTERMSDUMPFILE
)

595 
of¡»am
 
out
(
´İo§lITT”msDum
.
c_¡r
());

596 
	mi
=0;i<
	misŞ©edT”ms
.
size
();i++)

598 
	mj
=0;j<
	misŞ©edT”ms
[
i
].
size
();j++)

600 if(
	misŞ©edT”ms
[
i
].
©
(
j
))

601 
	mout
<<1;

603 
	mout
<<0;

604 if(
	mj
<
	misŞ©edT”ms
[
i
].
size
()-1)

605 
	mout
<<",";

607 
	mout
<<
	m’dl
;

609 
	mout
.
şo£
();

612 
»adDum³dPrİo§lIsŞ©edT”msFe
(
veùÜ
<veùÜ<
boŞ
> >& 
isŞ©edT”ms
,
¡ršg
 
´İo§ldumpfe
=
PROPOSALISOLATEDTERMSDUMPFILE
)

614 
f¡»am
 
fe¡r
(
´İo§ldumpfe
.
c_¡r
());

615 if(
	mfe¡r
 =ğ
NULL
)

617 
cout
<<"E¼Ü„—dšg LvrMLN Fe"<<
’dl
;

618 
ex™
(-1);

620 * 
	mbuf
 = 
Ãw
 [1024];

621 
	mfe¡r
)

623 
	mfe¡r
.
g‘lše
(
buf
,1024);

624 
¡ršg
 
lše
(
buf
);

625 if(
	mlše
.
size
()==0)

627 
	mveùÜ
<
	mboŞ
> 
	mtmpisŞ©edT”ms
;

628 
	mveùÜ
<
	m¡ršg
> 
	mtok’s
;

629 
	mLSŒšgCÚv”siÚUts
::
tok’ize
(
lše
,
tok’s
,",");

630 
	mi
=0;i<
	mtok’s
.
size
();i++)

632 
	mv®
;

633 
¡ršg¡»am
 
¡
(
tok’s
[
i
]);

634 
	m¡
>>
	mv®
;

635 if(
	mv®
 > 0)

637 
	mtmpisŞ©edT”ms
.
push_back
(
Œue
);

640 
	mtmpisŞ©edT”ms
.
push_back
(
çl£
);

642 
	misŞ©edT”ms
.
push_back
(
tmpisŞ©edT”ms
);

644 
	mfe¡r
.
şo£
();

	@liftedinfer/common/includes/fileutils.h

1 #iâdeà
__FILE_UTILS


2 
	#__FILE_UTILS


	)

3 
	~<f¡»am
>

4 
	~<veùÜ
>

5 
usšg
 
Çme¥aû
 
	g¡d
;

6 
	~"logdoubË.h
"

8 
	sLFeUts


10 
LFeUts
* 
In¡ªû
();

12 
ü—‹OutFeIn¡ªû
(
¡ršg
 
outf’ame
);

13 
upd©eFe
(
veùÜ
<
LogDoubË
> 
qu”yV®ues
,veùÜ<
¡ršg
> 
qu”ySŒšgs
);

14 
upd©eFe
(
veùÜ
<> 
qu”yV®ues
,veùÜ<
¡ršg
> 
qu”ySŒšgs
);

15 
	m´iv©e
:

16 
LFeUts
(
¡ršg
 
outf’ame
);

17 
LFeUts
* 
	mm_pIn¡ªû
;

19 
¡ršg
 
	moutf’ame
;

	@liftedinfer/common/includes/hashalgorithm.h

1 #iâdeà
__LVRHASH_ALGORITHM


2 
	#__LVRHASH_ALGORITHM


	)

3 
	~"lvrmÊ.h
"

5 
	sLvrHashAlgÜ™hm


9 
DJBHash
(
veùÜ
<> 
v®s
)

11 
augm’tVeùÜ
(
v®s
);

12 
	mhash
 = 5381;

13 
	m¡d
::
size_t
 
i
 = 0; 
	mi
 < 
	mv®s
.
size
(); i++)

15 
	mhash
 = ((
hash
 << 5è+ hashè+ 
v®s
[
i
];

17  
	mhash
;

20 
DJBHashUS
(
veùÜ
<> 
v®s
)

22 
augm’tVeùÜ
(
v®s
);

23 
	mhash
 = 5381;

24 
	m¡d
::
size_t
 
i
 = 0; 
	mi
 < 
	mv®s
.
size
(); i++)

26 
	mhash
 = ((
hash
 << 5è+ hashè+ 
v®s
[
i
];

28  
	mhash
;

31 
cÚv”tToHash
(
Atom
* 
©om
)

33 if(
	m©om
->
isCÚ¡ªt
())

35 
	mveùÜ
<> 
	msigÇtu»
;

36 
	msigÇtu»
.
push_back
(
©om
->
symbŞ
->
nÜmP¬’tId
);

37 
	mjj
=0;jj<
	m©om
->
	m‹rms
.
size
();jj++)

39 
	msigÇtu»
.
push_back
(
©om
->
‹rms
[
jj
]->
domaš
[0]);

41  
DJBHash
(
sigÇtu»
);

44 
	mveùÜ
<veùÜ<> > 
	msigÇtu»
;

45 
	mveùÜ
<> 
id
(1);

46 
	mid
[0] = 
©om
->
symbŞ
->
nÜmP¬’tId
;

47 
	msigÇtu»
.
push_back
(
id
);

48 
	mi
=0;i<
	m©om
->
	m‹rms
.
size
();i++)

50 
	mveùÜ
<> 
Œm
(
©om
->
‹rms
[
i
]->
domaš
.
size
());

51 
	mj
=0;j<
	m©om
->
	m‹rms
[
i
]->
	mdomaš
.
size
();j++)

52 
	mŒm
[
j
] = 
©om
->
‹rms
[
i
]->
domaš
[j];

53 
	msigÇtu»
.
push_back
(
Œm
);

55  
DJBLHash
(
sigÇtu»
);

60 
DJBLHash
(
veùÜ
<veùÜ<> > 
v®s
)

62 
	mveùÜ
<> 
	msigÇtu»
;

63 
	msigÇtu»
.
push_back
(
v®s
[0].
©
(0));

64 
	mi
=1;i<
	mv®s
.
size
();i++)

66 
	mj
=0;j<
	mv®s
[
i
].
size
();j++)

67 
	msigÇtu»
.
push_back
(
v®s
[
i
].
©
(
j
));

69  
DJBHash
(
sigÇtu»
);

81 
augm’tVeùÜ
(
veùÜ
<>& 
šput
)

83 
	mveùÜ
<> 
	mouut
;

84 
	mpos
 = 1;

85 
	mi
=0;i<
	mšput
.
size
();i++)

87 
	mouut
.
push_back
(
pos
*
šput
[
i
]);

88 
	mouut
.
push_back
(
šput
[
i
]);

89 
	mpos
++;

91 
	mšput
.
ş—r
();

92 
	mšput
=
ouut
;

	@liftedinfer/common/includes/heuristics.h

1 #iâdeà
__HEURISTICS__


2 
	#__HEURISTICS__


	)

3 
	~"decompo£r.h
"

5 
	sLHeuri¡ics


7 
	mLDecompo£r
& 
	mdecompo£r
;

8 
	mLvrMLN
& 
	mmÊ
;

9 
LHeuri¡ics
(
LDecompo£r
& 
decompo£r_
,
LvrMLN
& 
mÊ_
):
decompo£r
(decompo£r_),
mÊ
(mln_){}

10 
Atom
* 
decompos™iÚ_lookah—d
(
veùÜ
<
WCÏu£
*> 
şau£s
);

11 
Atom
* 
g‘AtomToS¶™
(
veùÜ
<
WCÏu£
*> 
CNF
,
boŞ
 
±³xaùm¬
=
çl£
);

12 
Atom
* 
g‘AtomToS¶™H2
(
veùÜ
<
WCÏu£
*> 
CNF
);

13 
´İo§lCou¶šgScÜe
(
veùÜ
<
WCÏu£
*> 
ÜigCÏu£s
,
Atom
* 
a1
, Atom* 
a2
);

	@liftedinfer/common/includes/logdouble.h

10 #iâdeà
LOGDOUBLE_H_


11 
	#LOGDOUBLE_H_


	)

13 
	~<cm©h
>

14 
	~<io¡»am
>

15 #iâdeà
_MSC_VER


16 
	~<lim™s
>

18 
usšg
 
Çme¥aû
 
	g¡d
;

24 
	sLogDoubË
 {

26 
	mv®ue
;

27 
boŞ
 
	mis_z”o
;

28 
boŞ
 
	mis_šf
;

31 
LogDoubË
();

35 
LogDoubË
(cÚ¡ 
d
, 
boŞ
 
š_log¥aû
=
Œue
);

37 
LogDoubË
(cÚ¡ LogDoubË& 
dub
);

40 
	mLogDoubË
& 
	mİ”©Ü
=(cÚ¡ 
LogDoubË
& 
Ùh”
);

41 
£tV®ue
(
v®
);

42 
LogDoubË
 
	mİ”©Ü
+(cÚ¡ 
	mLogDoubË
& 
	mÙh”
) const;

43 
	mLogDoubË
& 
	mİ”©Ü
+=(cÚ¡ 
LogDoubË
& 
Ùh”
);

44 
LogDoubË
 
	mİ”©Ü
*(cÚ¡ 
	mLogDoubË
& 
	mÙh”
) const;

45 
	mLogDoubË
& 
	mİ”©Ü
*=(cÚ¡ 
LogDoubË
& 
Ùh”
);

46 
boŞ
 
	mİ”©Ü
 < (cÚ¡ 
	mLogDoubË
& 
	mÙh”
) const;

47 
boŞ
 
	mİ”©Ü
 > (cÚ¡ 
	mLogDoubË
& 
	mÙh”
) const;

48 
LogDoubË
 
	mİ”©Ü
/(cÚ¡ 
	mLogDoubË
& 
	mÙh”
) const;

49 
´štV®ue
()

51 
	maùV®
 = 
exp
(
v®ue
);

52 if(
	maùV®
 < 
	mnum”ic_lim™s
<>::
max
(è&& 
aùV®
 > 
num”ic_lim™s
<>::
mš
())

53 
cout
<<" (Aùu®è"<<
aùV®
;

55 
	mcout
<<" (Log S·ûè"<<
	mv®ue
;

58 
g‘PršbËV®ue
(
boŞ
& 
log¥aû
)

60 if(
	mis_z”o
)

62 
	maùV®
 = 
exp
(
v®ue
);

63 if(
	maùV®
 < 
	mnum”ic_lim™s
<>::
max
(è&& 
aùV®
 > 
num”ic_lim™s
<>::
mš
())

65  
aùV®
;

69 
	mlog¥aû
=
Œue
;

70  
	mv®ue
;

74 
ä›nd
 
	mo¡»am
& 
	mİ”©Ü
<<(o¡»am& 
	mout
, cÚ¡ 
	mLogDoubË
& 
	mld
)

76 ià(
	mld
.
	mis_z”o
)

77 
	mout
<<0.0;

79 
	mout
 << 
exp
(
ld
.
v®ue
);

80  
	mout
;

83 
ä›nd
 
	mi¡»am
& 
	mİ”©Ü
>>(i¡»am& 
	mš
, 
	mLogDoubË
& 
	mld
)

85 
	mx
;

86 
	mš
>>
	mx
;

87 
	mld
=
LogDoubË
(
x
);

88  
	mš
;

90 
LDPow”
(
LogDoubË
 
š
,
n
,LogDoubË& 
out
);

91 
LogDoubË
 
BšomŸl
(
n
,
r
);

92 
LogDoubË
 
FaùÜŸl
(
n
);

	@liftedinfer/common/includes/lvparams.h

1 #iâdeà
__LVPARAMS


2 
	#__LVPARAMS


	)

3 
	~"mcmı¬ams.h
"

6 
	eESam¶šgMode


8 
	mEUNIFORM
,

9 
	mEBINOMIAL
,

10 
	mEINFORMED
,

11 
	mEINFORMEDV1


15 
	eEClu¡”šgMode


17 
	mESEQUENTIAL
,

18 
	mERANDOM


22 
	eELBGO³¿tiÚMode


24 
	mESAMPLER
,

25 
	mECLUSTERING
,

26 
	mEPARALLEL


29 
	eEAlgÜ™hm


31 
	mLVG
,

32 
	mLISZ
,

33 
	mLISM
,

34 
	mPTPZ
,

35 
	mPTPE


38 
	gLvrP¬ams
:
public
 
MCMCP¬ams


40 
EAlgÜ™hm
 
®gÜ™hm
;

41 
boŞ
 
	gisWeightL—ºšg
;

42 
¡ršg
 
	g»suÉFe
;

43 
¡ršg
 
	gšClu¡”Fe
;

44 
¡ršg
 
	goutClu¡”Fe
;

45 
boŞ
 
	gu£DumpFes
;

46 
ESam¶šgMode
 
	g§m¶šgMode
;

47 
	gË¬nšgR©e
;

48 
EClu¡”šgMode
 
	gşu¡”šgMode
;

49 
ELBGO³¿tiÚMode
 
	gİ”©iÚMode
;

50 
	g´İo§lUpd©eIÁ”v®
;

51 
	g±pCacheSize
;

52 
	gba£lšeCo¡MuÉliÿtiveFaùÜ
;

	@liftedinfer/common/includes/lvratomhashtemplate.h

1 #iâdeà
__LVRATOMHASH_TEMPLATE


2 
	#__LVRATOMHASH_TEMPLATE


	)

3 
	~"hash®gÜ™hm.h
"

4 
	~<m­
>

5 
usšg
 
Çme¥aû
 
	g¡d
;

7 
	g‹m¶©e
<
ty³Çme
 
	gT
>

8 
	sLvrAtomHashTem¶©e


10 
	m´iv©e
:

11 
m­
<,
	mT
> 
	md©a
;

12 
	mpublic
:

13 
LvrAtomHashTem¶©e
(){}

14 ~
LvrAtomHashTem¶©e
(){}

16 
š£¹OrR•ÏûV®ue
(
Atom
* 
©om
,
T
 
v®ue_
)

19 
	mkey
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
©om
);

20 
T
 
	mv®ue
 = 
v®ue_
;

21 
ty³Çme
 
	mm­
<,
	mT
>::
™”©Ü
 
™
 = 
d©a
.
fšd
(
key
);

22 if(
	m™
 =ğ
d©a
.
’d
())

24 
d©a
.
š£¹
(
·œ
<,
T
>(
key
,
v®ue
));

28 
	m™
->
	m£cÚd
 = (
T
è
v®ue
;

31 
boŞ
 
fšd
(
Atom
* 
©om
)

33 
	mkey
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
©om
);

34 if(
	md©a
.
fšd
(
key
)!=
d©a
.
’d
())

35  
Œue
;

37  
	mçl£
;

39 
upd©e
(
Atom
* 
©om
,
T
 
v®ue_
)

41 
	mkey
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
©om
);

42 
T
 
	mv®ue
 = 
v®ue_
;

43 
ty³Çme
 
	mm­
<,
	mT
>::
™”©Ü
 
™
 = 
d©a
.
fšd
(
key
);

44 if(
	m™
!=
d©a
.
’d
())

46 
™
->
£cÚd
 = 
v®ue
;

50 
upd©e
(
veùÜ
<> 
sigÇtu»
,
T
 
v®ue_
)

52 
	mkey
 = 
LvrHashAlgÜ™hm
::
DJBHash
(
sigÇtu»
);

53 
T
 
	mv®ue
 = 
v®ue_
;

54 
ty³Çme
 
	mm­
<,
	mT
>::
™”©Ü
 
™
 = 
d©a
.
fšd
(
key
);

55 if(
	m™
!=
d©a
.
’d
())

57 
™
->
£cÚd
 = 
v®ue
;

62 
š£¹
(
Atom
* 
©om
,
T
 
v®ue_
)

64 
	mkey
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
©om
);

65 
T
 
	mv®ue
 = 
v®ue_
;

66 
ty³Çme
 
	mm­
<,
	mT
>::
™”©Ü
 
™
 = 
d©a
.
fšd
(
key
);

67 
	md©a
.
š£¹
(
·œ
<,
T
>(
key
,
v®ue
));

71 
š£¹
(
veùÜ
<> 
sigÇtu»
,
T
 
v®ue_
)

73 
	mkey
 = 
LvrHashAlgÜ™hm
::
DJBHash
(
sigÇtu»
);

74 
T
 
	mv®ue
 = 
v®ue_
;

75 
ty³Çme
 
	mm­
<,
	mT
>::
™”©Ü
 
™
 = 
d©a
.
fšd
(
key
);

76 
	md©a
.
š£¹
(
·œ
<,
T
>(
key
,
v®ue
));

79 
šüem’tV®ue
(
veùÜ
<> 
sigÇtu»
,
v®ue_
)

81 if(
	mv®ue_
==0)

83 
	mkey
 = 
LvrHashAlgÜ™hm
::
DJBHash
(
sigÇtu»
);

84 
	mv®ue
 = 
v®ue_
;

85 
	mm­
<,>::
™”©Ü
 
™
 = 
d©a
.
fšd
(
key
);

86 if(
	m™
!=
d©a
.
’d
())

88 
™
->
£cÚd
 +ğ
v®ue
;

92 
š£¹Oršüem’tV®ue
(
Atom
* 
©om
,
v®ue_
)

94 if(
	mv®ue_
==0)

96 
	mkey
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
©om
);

97 
	mv®ue
 = 
v®ue_
;

98 
	mm­
<,>::
™”©Ü
 
™
 = 
d©a
.
fšd
(
key
);

99 
	md©a
.
š£¹
(
·œ
<,>(
key
,
v®ue
));

100 if(
	m™
==
d©a
.
’d
())

102 
™
->
£cÚd
 +ğ
v®ue
;

106 
šüem’tV®ue
(
Atom
* 
©om
,
v®ue_
)

108 if(
	mv®ue_
==0)

110 
	mkey
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
©om
);

111 
	mv®ue
 = 
v®ue_
;

112 
	mm­
<,>::
™”©Ü
 
™
 = 
d©a
.
fšd
(
key
);

113 if(
	m™
!=
d©a
.
’d
())

115 
™
->
£cÚd
 +ğ
v®ue
;

119 
T
 
g‘V®ue
(
Atom
* 
©om
)

122 
	mkey
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
©om
);

123 
ty³Çme
 
	mm­
<,
	mT
>::
™”©Ü
 
™
 = 
d©a
.
fšd
(
key
);

124 if(
	m™
!=
d©a
.
’d
())

126  
™
->
£cÚd
;

131 
boŞ
 
g‘V®ue
(
veùÜ
<> 
štR•
,
T
& 
v®ue
)

133 
	mkey
 = 
LvrHashAlgÜ™hm
::
DJBHash
(
štR•
);

134 
ty³Çme
 
	mm­
<,
	mT
>::
™”©Ü
 
™
 = 
d©a
.
fšd
(
key
);

135 if(
	m™
!=
d©a
.
’d
())

137 
v®ue
 = 
™
->
£cÚd
;

138  
	mŒue
;

140  
	mçl£
;

143 
d–‘eEÁry
(
Atom
* 
©om
)

145 
	mkey
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
©om
);

146 
ty³Çme
 
	mm­
<,
	mT
>::
™”©Ü
 
™
 = 
d©a
.
fšd
(
key
);

147 if(
	m™
!=
d©a
.
’d
())

149 
d©a
.
”a£
(
™
,it++);

153 
d–‘eEÁry
(
veùÜ
<> 
štR•
)

155 
	mkey
 = 
LvrHashAlgÜ™hm
::
DJBHash
(
štR•
);

156 
ty³Çme
 
	mm­
<,
	mT
>::
™”©Ü
 
™
 = 
d©a
.
fšd
(
key
);

157 if(
	m™
!=
d©a
.
’d
())

159 
d©a
.
”a£
(
™
,it++);

163 
ş—rAÎ
()

165 
	md©a
.
ş—r
();

201 
g‘Key
(
Atom
* 
©om
)

203  
	mLvrHashAlgÜ™hm
::
cÚv”tToHash
(
©om
);

206 
	mveùÜ
<
	mT
> 
g‘AÎD©a
()

208 
	mveùÜ
<
	mT
> 
	m®lEËms
;

209 
ty³Çme
 
	mm­
<,
	mT
>::
™”©Ü
 
™
 = 
d©a
.
begš
();
	m™
!=d©a.
’d
();it++)

211 
	m®lEËms
.
push_back
(
™
->
£cÚd
);

213  
	m®lEËms
;

216 
g‘AÎKeyV®uePaœs
(
veùÜ
<>& 
keys
,veùÜ<
T
>& 
v®ues
)

218 
ty³Çme
 
	mm­
<,
	mT
>::
™”©Ü
 
™
 = 
d©a
.
begš
();
	m™
!=d©a.
’d
();it++)

220 
	mkeys
.
push_back
(
™
->
fœ¡
);

221 
	mv®ues
.
push_back
(
™
->
£cÚd
);

225 
šüem’tIÁV®ue
(
key
)

227 
ty³Çme
 
	mm­
<,
	mT
>::
™”©Ü
 
™
 = 
d©a
.
fšd
(
key
);

228 
	m™
->
	m£cÚd
++;

231 
£tV®ue
(
key
,
T
 
v®ue
)

233 
ty³Çme
 
	mm­
<,
	mT
>::
™”©Ü
 
™
 = 
d©a
.
fšd
(
key
);

234 
	m™
->
	m£cÚd
=
v®ue
;

238 
boŞ
 
g‘V®ue
(
key
,
T
& 
v®ue
)

240 
ty³Çme
 
	mm­
<,
	mT
>::
™”©Ü
 
™
 = 
d©a
.
fšd
(
key
);

241 if(
	m™
 =ğ
d©a
.
’d
())

242  
çl£
;

243 
	mv®ue
 = 
™
->
£cÚd
;

244  
	mŒue
;

247 
size
()

249  
	md©a
.
size
();

252 
š£¹
(
key
,
T
 
v®ue_
)

254 
	md©a
.
š£¹
(
·œ
<,
T
>(
key
,
v®ue_
));

	@liftedinfer/common/includes/lvrmln.h

1 #iâdeà
LVRMLN_H_


2 
	#LVRMLN_H_


	)

4 
	~<veùÜ
>

5 
	~<io¡»am
>

6 
	~<£t
>

7 
	~<m­
>

8 
	~<®gÜ™hm
>

9 
	~"logdoubË.h
"

10 
usšg
 
Çme¥aû
 
	g¡d
;

11 
	~"·¿mcÚ¡ªts.h
"

13 
	sLvrT”m


16 
	mty³
;

17 
	mveùÜ
<> 
	mdomaš
;

19 
	mÜigDomašSize
;

20 
	mveùÜ
<> 
	mÜigDomaš
;

22 
	mcu¼’tSam¶edPos
;

23 
LvrT”m
():
ÜigDomašSize
(-1),
cu¼’tSam¶edPos
(0){}

24 
LvrT”m
(
ty³_
, 
veùÜ
<>& 
domaš_
): 
ty³
Ñy³_),
domaš
(domaš_),
ÜigDomašSize
(-1),
cu¼’tSam¶edPos
(0){}

25 
LvrT”m
(
ty³_
,
v®ue
):
ty³
Ñy³),
domaš
(
veùÜ
<>(1)),
ÜigDomašSize
(-1),
cu¼’tSam¶edPos
(0){ 
	mdomaš
[0]=value;}

26 
LvrT”m
(cÚ¡ LvrT”m& 
‹rm
)

28 
	mty³
 = 
‹rm
.
ty³
;

29 
	mk
=0;k<
	m‹rm
.
	mdomaš
.
size
();k++)

30 
	mdomaš
.
push_back
(
‹rm
.
domaš
[
k
]);

31 
	mÜigDomašSize
 = 
‹rm
.
ÜigDomašSize
;

33 ~
LvrT”m
()

35 
	mdomaš
.
ş—r
();

38 
	sP»diÿ‹SymbŞ


40 
	mid
;

42 
	m·»ÁId
;

43 
¡ršg
 
	msymbŞ
;

44 
	mveùÜ
<> 
	mv¬ŸbË_ty³s
;

45 
LogDoubË
 
	mpweight
;

46 
LogDoubË
 
	mnweight
;

47 
boŞ
 
	misOrigš®SymbŞ
;

49 
	mnÜmP¬’tId
;

50 
P»diÿ‹SymbŞ
(){}

51 
P»diÿ‹SymbŞ
(
id_
, 
¡ršg
 
symbŞ_
, 
veùÜ
<> 
v¬_ty³s
,
LogDoubË
 
pweight_
,LogDoubË 
nweight_
,

52 
nÜmP¬’tId_
=0, 
boŞ
 
isOrigš®SymbŞ_
 = 
Œue
): 
id
(
id_
),
symbŞ
(
symbŞ_
),
v¬ŸbË_ty³s
(
v¬_ty³s
),

53 
pweight
(
pweight_
),
nweight
(
nweight_
),
isOrigš®SymbŞ
(
isOrigš®SymbŞ_
),
nÜmP¬’tId
(
nÜmP¬’tId_
)

55 
	m·»ÁId
 = 
id
;

57 ~
P»diÿ‹SymbŞ
()

59 
	mv¬ŸbË_ty³s
.
ş—r
();

62 
	sAtom


64 
P»diÿ‹SymbŞ
* 
	msymbŞ
;

66 
	mveùÜ
<
	mLvrT”m
*> 
	m‹rms
;

69 
Atom
(){}

70 
Atom
(
P»diÿ‹SymbŞ
* 
symbŞ_
,
veùÜ
<
LvrT”m
*> 
‹rms_
): 
symbŞ
(symbŞ_),
‹rms
(terms_){}

71 
Atom
(cÚ¡ Atom& 
©om
)

73 
	msymbŞ
 = 
©om
.
symbŞ
;

74 
	mi
=0;i<
	m©om
.
	m‹rms
.
size
();i++)

76 
LvrT”m
* 
tm
(
©om
.
‹rms
[
i
]);

77 
	m‹rms
.
push_back
(
tm
);

80 
boŞ
 
isCÚ¡ªt
();

81 
boŞ
 
isSšgËtÚAtom
(& 
v¬ŸbËIndex
);

82 
´št
(
boŞ
 
v”bo£
=
Œue
);

83 
g‘Numb”OfGroundšgs
();

84 ~
Atom
();

87 
	sCÏu£Decompo£r


89 
	mveùÜ
<
	mLvrT”m
*> 
	m‹rms
;

90 
	mveùÜ
<veùÜ<> > 
	mpos™iÚs
;

93 
	sWCÏu£


95 
	mveùÜ
<
	mAtom
*> 
	m©oms
;

96 
	mveùÜ
<
	mboŞ
> 
	msign
;

97 
LogDoubË
 
	mweight
;

98 
boŞ
 
	m§tisf›d
;

99 
	mÜigš®CÏu£Index
;

100 
WCÏu£
():
§tisf›d
(
çl£
){}

101 
boŞ
 
v®id
(){

102 
i
=0;
	mi
<
	m©oms
.
size
();i++){

103 
	mj
=0;j<
	m©oms
[
i
]->
	m‹rms
.
size
();j++){

104 if(
	m©oms
[
i
]->
	m‹rms
[
j
]->
	mdomaš
.
em±y
()è 
	mçl£
;

108  
	mŒue
;

110 
´št
(){

111 if(
	m§tisf›d
)

112 
	mcout
<<"satisfied v ";

113 if(
	m©oms
.
size
()==0)

114 
cout
<<"{ }";

115 
	mi
=0;i<
	m©oms
.
size
();i++){

116 if(
	msign
[
i
])

117 
	mcout
<<"!";

118 
	mcout
<<
	m©oms
[
i
]->
	msymbŞ
->symbŞ.
c_¡r
()<<"["<<‡toms[i]->symbŞ->
	mid
<<","<<©oms[i]->symbŞ->
	m·»ÁId
<<"{"<<©oms[i]->symbŞ->
	mpweight
<<","<<©oms[i]->symbŞ->
	mnweight
<<"}]"<<" (";

119 
	mj
=0;j<
	m©oms
[
i
]->
	m‹rms
.
size
();j++){

120 if(()
	m©oms
[
i
]->
	m‹rms
[
j
]->
	mdomaš
.
size
()==1){

121 
cout
<<
©oms
[
i
]->
‹rms
[
j
]->
domaš
[0];

124 
	mcout
<<
	m©oms
[
i
]->
	m‹rms
[
j
]<<"[ #"<<©oms[i]->‹rms[j]->
	mdomaš
.
size
()<<" ]";

125 if(
	m©oms
[
i
]->
	m‹rms
[
j
]->
	mÜigDomašSize
!=-1)

127 
cout
<<"D#"<<
©oms
[
i
]->
‹rms
[
j
]->
ÜigDomašSize
;

130 if(
	mj
!=
©oms
[
i
]->
‹rms
.
size
()-1)

131 
cout
<<",";

133 
	mcout
<<")";

134 if(
	mi
!=
©oms
.
size
()-1)

135 
cout
<<" V ";

138 
	mcout
<<"::"<<
	mweight
<<
	m’dl
;

140 
fšd_decompo£r
(
veùÜ
<
LvrT”m
*>& 
‹rms
, veùÜ<veùÜ<> >& 
pos™iÚs
);

141 ~
WCÏu£
();

142 
»moveAtom
(
šdex
);

143 
»moveAtomW™hWeightUpd©iÚ
(
šdex
);

144 
fšdS–fJošs
(
m­
<,
veùÜ
<> >& 
£lfJošedAtoms
);

145 
boŞ
 
isS–fJošedOnAtom
(
Atom
* 
©om
);

146 
boŞ
 
isS–fJošed
()

148 
	mi
=0;i<
	m©oms
.
size
();i++)

150 if(
isS–fJošedOnAtom
(
©oms
[
i
]))

152  
	mŒue
;

155  
	mçl£
;

157 
boŞ
 
isPrİos™iÚ®
();

158 
g‘CÏu£Size
()

160 
	m£t
<
	mLvrT”m
*> 
	m‹rms
;

161 
	mi
=0;i<
	m©oms
.
size
();i++)

163 
	mj
=0;j<
	m©oms
[
i
]->
	m‹rms
.
size
();j++)

164 
	m‹rms
.
š£¹
(
©oms
[
i
]->
‹rms
[
j
]);

166 
	msz
 =1;

167 
	m£t
<
	mLvrT”m
*>::
™”©Ü
 
™
=
‹rms
.
begš
();
	m™
!ñ”ms.
’d
();it++)

168 
	msz
 *ğ(*
™
)->
domaš
.
size
();

169  
	msz
;

171 
boŞ
 
isAtomInCÏu£
(
Atom
* 
©om
)

173 
	mi
=0;i<
	m©oms
.
size
();i++)

175 if(
	m©om
->
	msymbŞ
->
	mid
 =ğ
©oms
[
i
]->
symbŞ
->
id
)

176  
Œue
;

178  
	mçl£
;

180 
g‘Numb”OfGroundedCÏu£s
();

182 
	sFÜmuÏ


184 
	mMLNCÏu£S¹Index
;

185 
	mMLNCÏu£EndIndex
;

186 
boŞ
 
	misEvid’û
;

187 
LogDoubË
 
	mweight
;

188 
FÜmuÏ
(
MLNCÏu£S¹Index_
,
MLNCÏu£EndIndex_
,
LogDoubË
 
weight_
, 
boŞ
 
isEvid’û_
 = 
çl£
):
MLNCÏu£S¹Index
(MLNClauseStartIndex_),

189 
MLNCÏu£EndIndex
(
MLNCÏu£EndIndex_
),
weight
(
weight_
),
isEvid’û
(
isEvid’û_
){}

192 
	sLvrMLN


195 
	mveùÜ
<
	mP»diÿ‹SymbŞ
*> 
	msymbŞs
;

196 
	mveùÜ
<
	mWCÏu£
*> 
	mşau£s
;

197 
	mveùÜ
<
	mFÜmuÏ
*> 
	mfÜmuÏs
;

198 
WCÏu£
* 
ü—‹_Ãw_şau£
(WCÏu£* 
şau£
);

199 
Atom
* 
ü—‹_Ãw_©om
(Atom* 
©om
);

200 
LvrT”m
* 
ü—‹_Ãw_‹rm
(LvrT”m* 
‹rm
);

201 
P»diÿ‹SymbŞ
* 
ü—‹_Ãw_symbŞ
(P»diÿ‹SymbŞ* 
symbŞ
);

202 
cİyAÎCÏu£s
(
veùÜ
<
WCÏu£
*> 
ÜigCÏu£s
, veùÜ<WCÏu£*>& 
ÃwCÏu£s
);

203 
´št
(
veùÜ
<
WCÏu£
*> 
şau£s
,
¡ršg
 
bªÃr
="CNF")

205 
¡ršg
 
tmp
("###########");

206 
	mtmp
.
­³nd
(
bªÃr
);

207 
	mtmp
.
­³nd
("-START");

208 
	mtmp
.
­³nd
("###########");

209 
	mcout
<<
	mtmp
.
c_¡r
()<<
	m’dl
;

210 
	mi
=0;i<
	mşau£s
.
size
();i++)

211 
	mşau£s
[
i
]->
´št
();

212 
¡ršg
 
tmp1
("###########");

213 
	mtmp1
.
­³nd
(
bªÃr
);

214 
	mtmp1
.
­³nd
("-END");

215 
	mtmp1
.
­³nd
("###########");

216 
	mcout
<<
	mtmp1
.
c_¡r
()<<
	m’dl
;

218 
£tMaxP»diÿ‹Id
(
Id
)

220 
	mmax_´ediÿ‹_id
 = 
max
(
max_´ediÿ‹_id
,
Id
);

222 
g‘MaxP»diÿ‹Id
()

227 
	mmax_´ediÿ‹_id
 = -1;

228 
	mi
=0;i<
	msymbŞs
.
size
();i++)

230 if(
	msymbŞs
[
i
]->
	mid
 > 
	mmax_´ediÿ‹_id
)

231 
	mmax_´ediÿ‹_id
 = 
symbŞs
[
i
]->
id
;

233  
	mmax_´ediÿ‹_id
 + 1;

235 
g‘MaxNÜmId
()

240 
	mmax_nÜm_id
 = -1;

241 
	mi
=0;i<
	msymbŞs
.
size
();i++)

243 if(
	msymbŞs
[
i
]->
	mnÜmP¬’tId
 > 
	mmax_nÜm_id
)

244 
	mmax_nÜm_id
 = 
symbŞs
[
i
]->
nÜmP¬’tId
;

246  
	mmax_nÜm_id
 + 1;

248 
´•roûssEvid’ûWMPTP
();

249 
putWeightsOnCÏu£s
();

250 
ş—rD©a
()

252 
	msymbŞs
.
ş—r
();

253 
	mşau£s
.
ş—r
();

254 
	mfÜmuÏs
.
ş—r
();

255 
	mmaxDeg»e
 = -1;

256 
	mmax_´ediÿ‹_id
 = 0;

258 
£tMLNPİ”t›s
()

261 
	mmax‹rms
 = 0;

262 
	mi
=0;i<
	msymbŞs
.
size
();i++)

264 if(
	msymbŞs
[
i
]->
	mv¬ŸbË_ty³s
.
size
(è> 
	mmax‹rms
)

265 
	mmax‹rms
 = 
symbŞs
[
i
]->
v¬ŸbË_ty³s
.
size
();

267 
	mmaxDeg»e
 = 
max‹rms
;

269 
g‘MaxDeg»e
()

271 if(
	mmaxDeg»e
 == -1)

273 
£tMLNPİ”t›s
();

275  
	mmaxDeg»e
;

277 ~
LvrMLN
();

278 
LvrMLN
():
max_´ediÿ‹_id
(0),
maxDeg»e
(-1){}

279 
´•roûssEvid’û
(
veùÜ
<veùÜ<> > 
evid’ûIÁR•
);

280 
´•roûssEvid’û
(
veùÜ
<
Atom
*> 
evid’ûAtoms
);

281 
doP»´oûssEvid’û
(
m­
<,> 
evid’ûHashM­
);

282 
»duûEvid’û
();

283 
	mmax_´ediÿ‹_id
;

284 
	mmaxDeg»e
;

285 
LogDoubË
 
	mcÚv”siÚFaùÜ
;

	@liftedinfer/common/includes/lvrnormpropagation.h

1 #iâdeà
__LVRNORM_PROPAGATION


2 
	#__LVRNORM_PROPAGATION


	)

3 
	~"lvrmÊ.h
"

4 
	~"hash®gÜ™hm.h
"

5 
	~"lv½”mutiÚs.h
"

6 
	~"ş—nuputs.h
"

7 
	~"¿ndomg’ut.h
"

9 
	sLvrNÜmPrİag©iÚ


11 
	mLvrMLN
& 
	mmÊ
;

12 
	m£t
<> 
	mhashCodesToS‘True
;

13 
	mm­
<,> 
	misŞ©edHashCodeM­
;

14 
	eERuËs
{
	mAGB
,
	mIV
,
	mNONE
};

15 
ERuËs
 
	mruËToAµly
;

16 
	mveùÜ
<
	mboŞ
>
	misŞ©edT”ms
;

17 
LvrNÜmPrİag©iÚ
(
LvrMLN
& 
mÊ_
):
mÊ
(mln_){}

19 
´İag©eNÜm®izedCNF
(
veùÜ
<
WCÏu£
*>& 
CNF
, 
Atom
* 
©omToS¶™
,veùÜ<
boŞ
> 
isŞ©edT”ms_
)

21 if(
	m©omToS¶™
->
isCÚ¡ªt
())

24 
´oûssCÚ¡ªts
(
CNF
,
©omToS¶™
,
çl£
);

28 
	misŞ©edT”ms
 = 
isŞ©edT”ms_
;

29 
	mruËToAµly
 = 
NONE
;

30 
doPrİag©eNÜm®izedCNF
(
CNF
,
©omToS¶™
);

61 
´oûssCÚ¡ªts
(
veùÜ
<
WCÏu£
*>& 
CNF
, 
Atom
* 
©om
, 
boŞ
 
£tTrue
)

63 
	mi
=0;i<
	mCNF
.
size
();i++)

65 
	mj
=0;j<
	mCNF
[
i
]->
	m©oms
.
size
();j++)

67 if(
	mCNF
[
i
]->
	m©oms
[
j
]->
	msymbŞ
->
	mid
 =ğ
©om
->
symbŞ
->
id
)

69 if(
CNF
[
i
]->
sign
[
j
] && !
£tTrue
)

70 
CNF
[
i
]->
§tisf›d
ğ
Œue
;

71 if(!
	mCNF
[
i
]->
	msign
[
j
] && 
	m£tTrue
)

72 
	mCNF
[
i
]->
	m§tisf›d
ğ
Œue
;

73 
	mCNF
[
i
]->
»moveAtom
(
j
);

74 
	mj
--;

77 if(
	mCNF
[
i
]->
	m©oms
.
size
()==0 && !
CNF
[i]->
§tisf›d
)

79 
»moveI‹m
(
CNF
,
i
);

80 
	mi
--;

86 
´İag©eNÜm®izedCNF
(
veùÜ
<
WCÏu£
*>& 
CNF
, 
Atom
* 
©omToS¶™
,veùÜ<
boŞ
> 
isŞ©edT”ms_
,veùÜ<> 
numGroundšgsToS‘True
)

88 
	misŞ©edT”ms
 = 
isŞ©edT”ms_
;

89 
	mhashCodesToS‘True
.
ş—r
();

90 
	misŞ©edHashCodeM­
.
ş—r
();

92 if(
	mnumGroundšgsToS‘True
.
size
()==1)

95 if(
©omToS¶™
->
isCÚ¡ªt
())

97 if(
numGroundšgsToS‘True
[0]==0)

99 
´oûssCÚ¡ªts
(
CNF
,
©omToS¶™
,
çl£
);

102 if(
	mnumGroundšgsToS‘True
[0]==
©omToS¶™
->
g‘Numb”OfGroundšgs
())

104 
´oûssCÚ¡ªts
(
CNF
,
©omToS¶™
,
Œue
);

108 
	mruËToAµly
 = 
AGB
;

110 
	mveùÜ
<> 
	mšdexesToS‘True
;

111 
	mcouÁInd
 = 0;

112 
	mcouÁInd
!=
numGroundšgsToS‘True
[0])

114 
šd
 = 
LvRªdomG’Ut
::
In¡ªû
()->
g‘RªdomPos™iÚ
(
©omToS¶™
->
g‘Numb”OfGroundšgs
());

115 if(
fšd
(
šdexesToS‘True
.
begš
(),šdexesToS‘True.
’d
(),
šd
)==indexesToSetTrue.end())

117 
šdexesToS‘True
.
push_back
(
šd
);

118 
	mcouÁInd
++;

135 
	mveùÜ
<> 
domSizes
(
©omToS¶™
->
‹rms
.
size
());

136 
	mi
=0;i<
	m©omToS¶™
->
	m‹rms
.
size
();i++)

138 
	mdomSizes
[
i
] = 
©omToS¶™
->
‹rms
[i]->
domaš
.
size
();

140 
	mi
=0;i<
	mšdexesToS‘True
.
size
();i++)

142 
	mnum
 = 
šdexesToS‘True
[
i
];

143 
	mveùÜ
<> 
¿ndGroundšg
(
domSizes
.
size
()+1);

144 
	m¿ndGroundšg
[0] = 
©omToS¶™
->
symbŞ
->
nÜmP¬’tId
;

145 
	mj
=
domSizes
.
size
()-1;j>= 0;j--)

147 if(
	mdomSizes
[
j
]!=1)

149 
v®
 = 
num
 % 
domSizes
[
j
];

150 
	mnum
 = 
num
/
domSizes
[
j
];

151 
	m¿ndGroundšg
[
j
+1] = 
©omToS¶™
->
‹rms
[j]->
domaš
[
v®
];

154 
	m¿ndGroundšg
[
j
+1] = 
©omToS¶™
->
‹rms
[j]->
domaš
[0];

156 
	mhashCodesToS‘True
.
š£¹
(
LvrHashAlgÜ™hm
::
DJBHash
(
¿ndGroundšg
));

162 
	mruËToAµly
 = 
IV
;

164 
	mveùÜ
<
	mLvrT”m
*> 
	mnÚIsŞ©edT”ms
;

165 
	mi
=0;i<
	misŞ©edT”ms
.
size
();i++)

167 if(!
	misŞ©edT”ms
[
i
])

168 
	mnÚIsŞ©edT”ms
.
push_back
(
©omToS¶™
->
‹rms
[
i
]);

170 
	mveùÜ
<veùÜ<> > 
	m³rmu‹dLi¡
;

171 
	mLvrP”mutiÚs
::
³rmu‹T”ms
(
nÚIsŞ©edT”ms
,
³rmu‹dLi¡
);

172 
	mveùÜ
<veùÜ<> > 
	msigÇtu»
;

173 
	mveùÜ
<> 
id
(1);
	mid
[0] = 
©omToS¶™
->
symbŞ
->
nÜmP¬’tId
;

174 
	msigÇtu»
.
push_back
(
id
);

176 
	mi
=0;i<
	m³rmu‹dLi¡
.
size
();i++)

178 
	m™”
=0;

179 
	mj
=0;j<
	misŞ©edT”ms
.
size
();j++)

181 if(
	misŞ©edT”ms
[
j
])

184 
	mveùÜ
<> 
	mdoms
;

185 
	mk
=0;k<
	m©omToS¶™
->
	m‹rms
[
j
]->
	mdomaš
.
size
();k++)

187 
	mdoms
.
push_back
(
©omToS¶™
->
‹rms
[
j
]->
domaš
[
k
]);

189 
	msigÇtu»
.
push_back
(
doms
);

193 
	mveùÜ
<> 
dm
(1);
	mdm
[0] = 
³rmu‹dLi¡
[
i
].
©
(
™”
++);

194 
	msigÇtu»
.
push_back
(
dm
);

198 
	misŞ©edHashCodeM­
.
š£¹
(
·œ
<,>(
LvrHashAlgÜ™hm
::
DJBLHash
(
sigÇtu»
),
numGroundšgsToS‘True
[
i
]));

201 
doPrİag©eNÜm®izedCNF
(
CNF
,
©omToS¶™
);

205 
š£¹OrUpd©e
Ğ
m­
<,
veùÜ
<
boŞ
> >& 
sh¬edT”msM­
, 
Atom
* 
©om
, 
šdexToS‘
)

207 
	mm­
<,
	mveùÜ
<
	mboŞ
> >::
™”©Ü
 
™
 = 
sh¬edT”msM­
.
fšd
(
©om
->
symbŞ
->
id
);

208 if(
	m™
==
sh¬edT”msM­
.
’d
())

210 
veùÜ
<
boŞ
> 
v®ue
(
©om
->
‹rms
.
size
());

211 
	mv®ue
[
šdexToS‘
] = 
Œue
;

212 
	msh¬edT”msM­
.
š£¹
(
·œ
<,
veùÜ
<
boŞ
> >(
©om
->
symbŞ
->
id
,
v®ue
));

216 
	msh¬edT”msM­
[
©om
->
symbŞ
->
id
].
©
(
šdexToS‘
èğ
Œue
;

220 
upd©eSh¬edT”ms
(
WCÏu£
* 
şau£
, 
©omId
, 
m­
<,
veùÜ
<
boŞ
> >& 
sh¬edT”msM­
,veùÜ<boŞ>& 
dœtyAtoms
)

222 
	mdœtyAtoms
.
»size
(
şau£
->
©oms
.
size
());

223 
	mveùÜ
<> 
	m©omInd
;

224 
	mveùÜ
<veùÜ <
	mLvrT”m
*> > 
	m‹rms
;

225 
	mj
=0;j<
	mşau£
->
	m©oms
.
size
();j++)

229 
boŞ
 
	m®lcÚ¡ªts
 = 
Œue
;

230 if(
	m©omId
 =ğ
şau£
->
©oms
[
j
]->
symbŞ
->
id
)

232 
veùÜ
<
LvrT”m
*> 
tmpT”ms
;

233 
	mk
=0;k<
	mşau£
->
	m©oms
[
j
]->
	m‹rms
.
size
();k++)

235 if(
	mşau£
->
	m©oms
[
j
]->
	m‹rms
[
k
]->
	mdomaš
.
size
() > 1)

237 
	m®lcÚ¡ªts
 = 
çl£
;

238 
	mtmpT”ms
.
push_back
(
şau£
->
©oms
[
j
]->
‹rms
[
k
]);

241 if(
	mtmpT”ms
.
size
() > 0)

242 
	m‹rms
.
push_back
(
tmpT”ms
);

244 if(!
	m®lcÚ¡ªts
)

245 
	m©omInd
.
push_back
(
j
);

248 if(
	m©omInd
.
size
() > 0)

250 
	mj
=0;j<
	mşau£
->
	m©oms
.
size
();j++)

252 
	mm­
<,
	mveùÜ
<
	mboŞ
> >::
™”©Ü
 
™
 = 
sh¬edT”msM­
.
fšd
(
şau£
->
©oms
[
j
]->
symbŞ
->
id
);

253 if(
	m™
==
sh¬edT”msM­
.
’d
())

255 
veùÜ
<
boŞ
> 
sh‹rms
(
şau£
->
©oms
[
j
]->
‹rms
.
size
());

256 
	msh¬edT”msM­
.
š£¹
(
·œ
<,
veùÜ
<
boŞ
> >(
şau£
->
©oms
[
j
]->
symbŞ
->
id
,
sh‹rms
));

257 
	m™
 = 
sh¬edT”msM­
.
fšd
(
şau£
->
©oms
[
j
]->
symbŞ
->
id
);

259 if(
fšd
(
©omInd
.
begš
(),©omInd.
’d
(),
j
)!=atomInd.end())

261 
	mk
=0;k<
	mşau£
->
	m©oms
[
j
]->
	m‹rms
.
size
();k++)

263 if(
	m™
->
	m£cÚd
[
k
])

265 
	mm
=0;m<
	m©omInd
.
size
();m++)

267 if(
fšd
(
‹rms
[
m
].
begš
(),‹rms[m].
’d
(),
şau£
->
©oms
[
j
]->‹rms[
k
])!=terms[m].end())

270 
š£¹OrUpd©e
(
sh¬edT”msM­
,
şau£
->
©oms
[
j
],
k
);

271 
	mdœtyAtoms
[
j
] = 
Œue
;

281 
doPrİag©eNÜm®izedCNF
(
veùÜ
<
WCÏu£
*>& 
CNF
, 
Atom
* 
©omToS¶™
)

283 
	mm­
<,
	mveùÜ
<
	mboŞ
> > 
	msh¬edT”msM­
;

286 
	mveùÜ
<
	mboŞ
> 
shT”ms
(
isŞ©edT”ms
.
size
());

287 
	mi
=0;i<
	misŞ©edT”ms
.
size
();i++)

288 
	mshT”ms
[
i
] = (!
isŞ©edT”ms
[i]);

289 
	msh¬edT”msM­
.
š£¹
(
·œ
<,
veùÜ
<
boŞ
> >(
©omToS¶™
->
symbŞ
->
id
,
shT”ms
));

291 
	mveùÜ
<> 
	maùiveAtoms
;

292 
	maùiveAtoms
.
push_back
(
©omToS¶™
->
symbŞ
->
id
);

293 !
	maùiveAtoms
.
em±y
())

295 
	mid
 = 
aùiveAtoms
.
back
();

296 
	maùiveAtoms
.
pİ_back
();

297 
	mi
=0;i<
	mCNF
.
size
();i++)

299 
	mveùÜ
<
	mboŞ
> 
	mdœtyAtoms
;

300 
upd©eSh¬edT”ms
(
CNF
[
i
],
id
,
sh¬edT”msM­
,
dœtyAtoms
);

302 
	mj
=0;j<
	mCNF
[
i
]->
	m©oms
.
size
();j++)

304 if(
	mdœtyAtoms
[
j
])

305 
	maùiveAtoms
.
push_back
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

309 
groundCNF
(
CNF
,
sh¬edT”msM­
,
©omToS¶™
->
symbŞ
->
id
);

312 
boŞ
 
isGrounded
(
Atom
* 
©om
,
veùÜ
<boŞ> 
sh¬edT”ms
)

314 
	mi
=0;i<
	msh¬edT”ms
.
size
();i++)

316 if(
	msh¬edT”ms
[
i
] && 
	m©om
->
	m‹rms
[i]->
	mdomaš
.
size
() > 1)

317  
	mçl£
;

319  
	mŒue
;

322 
groundCÏu£
(
WCÏu£
* 
şau£
, 
©omInd
, 
veùÜ
<
boŞ
> 
sh¬edT”ms
,veùÜ<WCÏu£*>& 
ÃwCÏu£s
,
©omIdToRemove
)

324 
	mveùÜ
<
	mLvrT”m
*> 
	m‹rms
;

325 
	mi
=0;i<
	msh¬edT”ms
.
size
();i++)

327 if(
	msh¬edT”ms
[
i
])

328 
	m‹rms
.
push_back
(
şau£
->
©oms
[
©omInd
]->
‹rms
[
i
]);

330 
	mveùÜ
<veùÜ<> > 
	m³rmu‹dLi¡
;

331 
	mLvrP”mutiÚs
::
³rmu‹T”ms
(
‹rms
,
³rmu‹dLi¡
);

332 
	mi
=0;i<
	m³rmu‹dLi¡
.
size
();i++)

334 
WCÏu£
* 
	mnCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£
);

335 
	m™”
=0;

336 
	mj
=0;j<
	mnCÏu£
->
	m©oms
[
©omInd
]->
	m‹rms
.
size
();j++)

338 if(
	msh¬edT”ms
[
j
])

340 
	mnCÏu£
->
	m©oms
[
©omInd
]->
	m‹rms
[
j
]->
	mdomaš
.
ş—r
();

341 
	mnCÏu£
->
	m©oms
[
©omInd
]->
	m‹rms
[
j
]->
	mdomaš
.
push_back
(
³rmu‹dLi¡
[
i
].
©
(
™”
++));

344 if(
	mnCÏu£
->
	m©oms
[
©omInd
]->
	msymbŞ
->
	mid
 =ğ
©omIdToRemove
)

346 if(
ruËToAµly
 =ğ
AGB
)

349 
hash
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
nCÏu£
->
©oms
[
©omInd
]);

350 
boŞ
 
	mfound
 = (
hashCodesToS‘True
.
fšd
(
hash
è!ğhashCodesToS‘True.
’d
());

351 ifĞ(
	mfound
 && !
	mnCÏu£
->
	msign
[
©omInd
])

352 || (!
	mfound
 && 
	mnCÏu£
->
	msign
[
©omInd
]))

354 
	mnCÏu£
->
	m§tisf›d
 = 
Œue
;

356 
	mnCÏu£
->
»moveAtom
(
©omInd
);

357 if(
	mnCÏu£
->
	m§tisf›d
 ||‚CÏu£->
	m©oms
.
size
()!=0)

358 
ÃwCÏu£s
.
push_back
(
nCÏu£
);

360 
d–‘e
 
	mnCÏu£
;

362 if(
	mruËToAµly
 =ğ
IV
)

364 
hash
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
nCÏu£
->
©oms
[
©omInd
]);

365 
	mm­
<,>::
™”©Ü
 
™
 = 
isŞ©edHashCodeM­
.
fšd
(
hash
);

366 if(
	m™
!=
isŞ©edHashCodeM­
.
’d
())

368 
WCÏu£
* 
nCÏu£_cİy
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
nCÏu£
);

369 
LogDoubË
 
pwtChªge
(
™
->
£cÚd
,
çl£
);

370 
LogDoubË
 
nwtChªge
(
nCÏu£
->
©oms
[
©omInd
]->
g‘Numb”OfGroundšgs
(è- 
™
->
£cÚd
,
çl£
);

372 if(!
	mpwtChªge
.
	mis_z”o
)

374 
	mnCÏu£
->
	mweight
 = 
pwtChªge
*
nCÏu£
->
weight
;

375 if(!
	mnCÏu£
->
	msign
[
©omInd
])

376 
	mnCÏu£
->
	m§tisf›d
=
Œue
;

377 
	mnCÏu£
->
»moveAtom
(
©omInd
);

378 if(
	mnCÏu£
->
	m§tisf›d
 ||‚CÏu£->
	m©oms
.
size
()!=0)

379 
ÃwCÏu£s
.
push_back
(
nCÏu£
);

381 
d–‘e
 
	mnCÏu£
;

386 
d–‘e
 
	mnCÏu£
;

388 if(!
	mnwtChªge
.
	mis_z”o
)

390 
	mnCÏu£_cİy
->
	mweight
 = 
nwtChªge
*
nCÏu£_cİy
->
weight
;

391 if(
	mnCÏu£_cİy
->
	msign
[
©omInd
])

392 
	mnCÏu£_cİy
->
	m§tisf›d
 = 
Œue
;

393 
	mnCÏu£_cİy
->
»moveAtom
(
©omInd
);

394 if(
	mnCÏu£
->
	m§tisf›d
 ||‚CÏu£->
	m©oms
.
size
()!=0)

395 
ÃwCÏu£s
.
push_back
(
nCÏu£_cİy
);

397 
d–‘e
 
	mnCÏu£
;

401 
d–‘e
 
	mnCÏu£_cİy
;

407 
	mnCÏu£
->
»moveAtom
(
©omInd
);

408 
	mÃwCÏu£s
.
push_back
(
nCÏu£
);

414 
	mnCÏu£
->
	m©oms
[
©omInd
]->
	msymbŞ
->
	mid
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
nCÏu£
->
©oms
[atomInd]);

415 
	mÃwCÏu£s
.
push_back
(
nCÏu£
);

421 
groundCNF
(
veùÜ
<
WCÏu£
*>& 
CNF
, 
m­
<,veùÜ<
boŞ
> > 
sh¬edT”msM­
,
©omIdToRemove
)

423 
boŞ
 
	mchªged
=
çl£
;

426 
	mchªged
=
çl£
;

427 
	mi
=0;i<
	mCNF
.
size
();i++)

429 
	mj
=0;j<
	mCNF
[
i
]->
	m©oms
.
size
();j++)

431 
	mm­
<,
	mveùÜ
<
	mboŞ
> >::
™”©Ü
 
™
 = 
sh¬edT”msM­
.
fšd
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

432 if(
	m™
==
sh¬edT”msM­
.
’d
())

435 if(!
isGrounded
(
CNF
[
i
]->
©oms
[
j
],
™
->
£cÚd
))

438 
	mveùÜ
<
	mWCÏu£
*> 
	mÃwCÏu£s
;

439 
groundCÏu£
(
CNF
[
i
],
j
,
™
->
£cÚd
,
ÃwCÏu£s
,
©omIdToRemove
);

440 if(
	mÃwCÏu£s
.
size
()==0)

443 
	mchªged
 = 
Œue
;

444 
d–‘e
 
	mCNF
[
i
];

445 
	mCNF
[
i
] = 
ÃwCÏu£s
[0];

446 
	mjj
=1;jj<
	mÃwCÏu£s
.
size
();jj++)

447 
	mCNF
.
push_back
(
ÃwCÏu£s
[
jj
]);

450 if(
	mCNF
[
i
]->
	m©oms
[
j
]->
	msymbŞ
->
	mid
 =ğ
©omIdToRemove
)

452 
CNF
[
i
]->
»moveAtom
(
j
);

453 
	mj
--;

456 if(
	mchªged
)

459 if(!
	mchªged
)

464 
	mi
=0;i<
	mCNF
.
size
();i++)

466 
	mj
=0;j<
	mCNF
[
i
]->
	m©oms
.
size
();j++)

468 if(
	mCNF
[
i
]->
	m©oms
[
j
]->
	msymbŞ
->
	mid
 =ğ
©omIdToRemove
)

470 
CNF
[
i
]->
»moveAtom
(
j
);

471 
	mj
--;

475 
	mCNF
[
i
]->
	m©oms
[
j
]->
	msymbŞ
->
	mid
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
CNF
[i]->
©oms
[j]);

	@liftedinfer/common/includes/lvrpermutations.h

1 #iâdeà
__LVRPERMUTATIONS


2 
	#__LVRPERMUTATIONS


	)

3 
	~"lvrmÊ.h
"

4 
	sLvrP”mutiÚs


6 
³rmu‹T”ms
(
veùÜ
<
LvrT”m
*> 
‹rms
, veùÜ<veùÜ<> >& 
³rmu‹dDomašLi¡
)

8 if(
	m‹rms
.
size
()==0)

10 
	mm­
<,> 
	mdomašIndex
;

11 
	mnumb”OfGroundšgs
=1;

12 
	mi
=0;i<
	m‹rms
.
size
();i++)

15 
	mdomašIndex
.
š£¹
(
·œ
<,>(
i
,0));

16 
	mnumb”OfGroundšgs
 *ğ
‹rms
[
i
]->
domaš
.
size
();

18 
	m™”
 = 0;

21 
	mveùÜ
<> 
	mdomašV®ues
;

22 
	mi
=0;i<
	m‹rms
.
size
();i++)

25 
	mcu¼DomašIndex
 = 
domašIndex
[
i
];

26 
	mdomašV®ues
.
push_back
(
‹rms
[
i
]->
domaš
[
cu¼DomašIndex
]);

28 
	m³rmu‹dDomašLi¡
.
push_back
(
domašV®ues
);

30 
	mšd
=
‹rms
.
size
()-1;

31 
	mdomašIndex
[
šd
]++;

32 
	mdomašIndex
[
šd
] =ğ
‹rms
[šd]->
domaš
.
size
())

34 
domašIndex
[
šd
]=0;

35 if(
	mšd
!=0)

36 
domašIndex
[
šd
-1]++;

39 
	mšd
--;

41 
	m™”
++;

43 if(
	m™”
 >ğ
numb”OfGroundšgs
)

	@liftedinfer/common/includes/lvrptpsearchtree.h

1 #iâdeà
__LVRPTP_SEARCH_TREE


2 
	#__LVRPTP_SEARCH_TREE


	)

3 
	~"lvrmÊ.h
"

4 
	~"ş—nuputs.h
"

5 
	~"qu”yupd©”.h
"

7 
	eLvrPTPNodeTy³


9 
	mESPLITTER
,

10 
	mEPOWER
,

11 
	mEAND
,

12 
	mELEAF


15 
	sLvrPTPNode


17 
LvrPTPNodeTy³
 
	mty³
;

18 
Atom
* 
	m©om
;

19 
	mpow”FaùÜ
;

20 
	mveùÜ
<
	mLvrPTPNode
*> 
	mchd»n
;

21 
	m·»ÁB¿nchNo
;

22 
LogDoubË
 
	mdownV®ue
;

23 
	mveùÜ
<
	mLogDoubË
> 
	mb¿nchWeights
;

24 
LogDoubË
 
	mnodeV®ue
;

25 
	m£t
<>* 
	mdÚtC¬eQu”›s
;

26 
LvrPTPNode
(
LvrPTPNodeTy³
 
ty³_
):
ty³
Ñy³_),
downV®ue
(
LogDoubË
(1,
çl£
)),
dÚtC¬eQu”›s
(
NULL
)

29 ~
LvrPTPNode
()

31 if(
	mty³
==
ESPLITTER
)

32 
d–‘e
 
©om
;

33 if(
	mdÚtC¬eQu”›s
)

34 
d–‘e
 
	mdÚtC¬eQu”›s
;

37 
´št
()

39 
	mcout
<<"P¬’tB¿nchNo="<<
	m·»ÁB¿nchNo
<<
	m’dl
;

40 
	mcout
<<"Poš‹¸v®ue="<<
	mthis
<<
	m’dl
;

41 if(
	mty³
 =ğ
ESPLITTER
)

43 
©om
->
´št
(
çl£
);

44 
	mi
=0;i<
	m©om
->
	m‹rms
.
size
();i++)

45 
	mcout
<<"#"<<
	m©om
->
	m‹rms
[
i
]->
	mÜigDomaš
.
size
();

47 if(
	mty³
 =ğ
EPOWER
)

49 
cout
<<"Pow”Node, PF="<<
pow”FaùÜ
<<
’dl
;

51 if(
	mty³
==
EAND
)

53 
cout
<<"AND Node"<<
’dl
;

55 if(
	mty³
==
ELEAF
)

57 
cout
<<"Leaf‚ode ";

58 if(
	mdÚtC¬eQu”›s
 && dÚtC¬eQu”›s->
size
() > 0)

59 
	mcout
<<"#"<<
	mdÚtC¬eQu”›s
->
size
();

60 
	mcout
<<
	m’dl
;

62 
	mcout
<<"Children…ointers=";

63 
	mi
=0;i<
	mchd»n
.
size
();i++)

64 
	mcout
<<
	mchd»n
[
i
]<<" ";

65 
	mcout
<<"["<<
	mnodeV®ue
<<","<<
	mdownV®ue
<<"]"<<
	m’dl
;

66 
	mcout
<<
	m’dl
;

96 
LvrPTPNode
* 
ü—‹_Ãw_node
(
LvrPTPNodeTy³
 
ty³_
)

98 
LvrPTPNode
* 
	m‹mp
 = 
Ãw
 LvrPTPNode(
ty³_
);

99  
	m‹mp
;

103 
	sLvrPTPS—rchT»e


105 
LvrPTPS—rchT»e
();

106 ~
LvrPTPS—rchT»e
();

107 
ş—nT»e
();

108 
´štT»e
(
LvrPTPNode
* 
node
);

109 
LvrPTPNode
* 
ü—‹NewNode
(
LvrPTPNodeTy³
 
ty³
,LvrPTPNode* 
·»Á
,
·»Áb¿nchno
);

110 
£tRoÙ
(
LvrPTPNode
* 
roÙ_
);

111 
boŞ
 
isRoÙS‘
();

112 
LvrPTPNode
* 
g‘RoÙ
();

113 
g‘HashV®ues
(
Atom
* 
©om
,
£t
<>& 
hashes
);

114 
g‘HashV®uesNPAtom
(
Atom
* 
©om
,
veùÜ
<>& 
hashes
);

115 
downPrİag©iÚMAR
(
LvrPTPNode
* 
node
);

116 
upd©eQu”›s
(
LvrPTPNode
* 
node
);

117 
	m´iv©e
:

118 
LvrPTPNode
* 
roÙ
;

	@liftedinfer/common/includes/lvrptptreesampling.h

1 #iâdeà
__LVRPTPTREE_SAMPLING__


2 
	#__LVRPTPTREE_SAMPLING__


	)

3 
	~"±±»e.h
"

5 
	sLvrPTPT»eSam¶šg


7 
LvrPTPT»eSam¶šg
();

8 ~
LvrPTPT»eSam¶šg
();

9 
addT»eNode
();

10 
§m¶eT»e
();

11 
	mLPTPT»e
& 
g‘T»eRef
();

12 
ş—nT»e
();

13 
Œav”£T»e
(
id
);

14 
§m¶eT»e
(
LPTPNode
* 
node
,
veùÜ
<
m­
<,>* >& 
addedDecompM­pšgs
);

15 
addT»eNode
(
Atom
* 
©om
,
veùÜ
<
LogDoubË
> 
weights
,veùÜ<LogDoubË> 
bšCÛffs
,

16 
LogDoubË
 
nÜm
,
NodeTy³
 
nodeTy³
,
nodeId
, 
·»ÁId
, 
·»ÁB¿nchNo
,

17 
veùÜ
<
LogDoubË
>* 
b¿nchWeights
 = 
NULL
,LogDoubË 
nodeV®ue
 = LogDoubË(0,
çl£
));

18 
LPTPNode
* 
addT»eNode
(
NodeTy³
 
nodeTy³
,
nodeId
, 
·»ÁId
, 
·»ÁB¿nchNo
,
pow”FaùÜ
 = -1, 
LogDoubË
 
nodeV®ue
=LogDoubË(1,
çl£
));

19 
¡¬tNewSam¶šg
();

20 
LPTPNode
* 
g‘RoÙ
();

21 
´št
();

22 
	m´iv©e
:

23 
LPTPT»e
* 
±pT»e
;

	@liftedinfer/common/includes/lvrsingletonnormpropagation.h

1 #iâdeà
__LVRSINGLETON_NORM_PROPAGATION


2 
	#__LVRSINGLETON_NORM_PROPAGATION


	)

3 
	~"lvrmÊ.h
"

4 
	~"hash®gÜ™hm.h
"

6 
	sLvrSšgËtÚNÜmPrİag©iÚ


9 
´İag©eNÜm®izedCNF
(
veùÜ
<
WCÏu£
*>& 
CNF
, 
Atom
* 
©omToS¶™
,
sšgËtÚIndex
, 
numTrue
)

11 
	mnumF®£
 = 
©omToS¶™
->
g‘Numb”OfGroundšgs
(è- 
numTrue
;

12 if(
	mnumF®£
==0)

15 
i
=0;
	mi
<
	mCNF
.
size
();i++)

17 
	mj
=0;j<
	mCNF
[
i
]->
	m©oms
.
size
();j++)

19 if(
	mCNF
[
i
]->
	m©oms
[
j
]->
	msymbŞ
->
	mid
 =ğ
©omToS¶™
->
symbŞ
->
id
)

21 if(!
CNF
[
i
]->
sign
[
j
])

23 
CNF
[
i
]->
§tisf›d
=
Œue
;

25 
	mCNF
[
i
]->
»moveAtomW™hWeightUpd©iÚ
(
j
);

26 
	mj
--;

32 if(
	mnumTrue
==0)

35 
i
=0;
	mi
<
	mCNF
.
size
();i++)

37 
	mj
=0;j<
	mCNF
[
i
]->
	m©oms
.
size
();j++)

39 if(
	mCNF
[
i
]->
	m©oms
[
j
]->
	msymbŞ
->
	mid
 =ğ
©omToS¶™
->
symbŞ
->
id
)

41 if(
CNF
[
i
]->
sign
[
j
])

43 
CNF
[
i
]->
§tisf›d
=
Œue
;

45 
	mCNF
[
i
]->
»moveAtomW™hWeightUpd©iÚ
(
j
);

46 
	mj
--;

53 
	mveùÜ
<> 
	mtmp
;

54 
	mtmp
.
push_back
(
sšgËtÚIndex
);

55 
	mm­
<,
	mveùÜ
<> > 
	mdomašReduùiÚT”ms
;

56 
boŞ
 
	mchªged
 = 
çl£
;

57 
	mdomašReduùiÚT”ms
.
š£¹
(
·œ
<,
veùÜ
<> >(
©omToS¶™
->
symbŞ
->
id
,
tmp
));

60 
	mchªged
 = 
çl£
;

62 
	mm­
<,
	mveùÜ
<> >::
™”©Ü
 
™
=
domašReduùiÚT”ms
.
begš
();
	m™
!=domašReduùiÚT”ms.
’d
();it++)

64 
	mj
=0;j<
	mCNF
.
size
();j++)

66 
	mveùÜ
<> 
	mfoundIds
;

67 
	mveùÜ
<veùÜ<
	mLvrT”m
*> > 
	m‹rmsToCheck
;

68 
	mk
=0;k<
	mCNF
[
j
]->
	m©oms
.
size
();k++)

70 if(
	m™
->
	mfœ¡
 =ğ
CNF
[
j
]->
©oms
[
k
]->
symbŞ
->
id
)

73 
foundIds
.
push_back
(
k
);

74 
	mveùÜ
<
	mLvrT”m
*> 
	m‹rms
;

75 
	mm
=0;m<
	m™
->
	m£cÚd
.
size
();m++)

77 
	m‹rms
.
push_back
(
CNF
[
j
]->
©oms
[
k
]->
‹rms
[
™
->
£cÚd
.
©
(
m
)]);

79 
	m‹rmsToCheck
.
push_back
(
‹rms
);

82 
	mk
=0;k<
	mfoundIds
.
size
();k++)

84 
	mm
=0;m<
	mCNF
[
j
]->
	m©oms
.
size
();m++)

86 if(
	mm
==
foundIds
[
k
])

88 
	mjj
=0;jj<
	mCNF
[
j
]->
	m©oms
[
m
]->
	m‹rms
.
size
();jj++)

90 if(
fšd
(
‹rmsToCheck
[
k
].
begš
(),‹rmsToCheck[k].
’d
(),
CNF
[
j
]->
©oms
[
m
]->
‹rms
[
jj
])!=

91 
‹rmsToCheck
[
k
].
’d
())

94 
m­
<,
veùÜ
<> >::
™”©Ü
 
™1
 = 
domašReduùiÚT”ms
.
fšd
(
CNF
[
j
]->
©oms
[
m
]->
symbŞ
->
id
);

95 if(
	m™1
!=
domašReduùiÚT”ms
.
’d
())

97 if(
fšd
(
™1
->
£cÚd
.
begš
(),™1->£cÚd.
’d
(),
jj
)==it1->second.end())

99 
chªged
 = 
Œue
;

100 
	m™1
->
	m£cÚd
.
push_back
(
jj
);

105 
	mchªged
 = 
Œue
;

106 
	mveùÜ
<> 
tmp
(1);

107 
	mtmp
[0]=
jj
;

108 
	mdomašReduùiÚT”ms
.
š£¹
(
·œ
<,
veùÜ
<> >(
CNF
[
j
]->
©oms
[
m
]->
symbŞ
->
id
,
tmp
));

117 if(!
	mchªged
)

120 
	mveùÜ
<
	mWCÏu£
*> 
	mÃwCNF
;

121 
	mi
=0;i<
	mCNF
.
size
();i++)

123 if(
	mCNF
[
i
]->
isPrİos™iÚ®
())

126 
	mj
=0;j<
	mCNF
[
i
]->
	m©oms
.
size
();j++)

127 
	mCNF
[
i
]->
	m©oms
[
j
]->
	msymbŞ
->
	mid
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
CNF
[i]->
©oms
[j]);

128 
	mÃwCNF
.
push_back
(
CNF
[
i
]);

131 
	mveùÜ
<
	mWCÏu£
*> 
	moutCÏu£s
;

132 
¥l™CÏu£
(
CNF
[
i
],
©omToS¶™
->
symbŞ
->
id
,
domašReduùiÚT”ms
,
numTrue
,
numF®£
,
outCÏu£s
);

133 
	mj
=0;j<
	moutCÏu£s
.
size
();j++)

134 
	mÃwCNF
.
push_back
(
outCÏu£s
[
j
]);

136 
	mCNF
.
ş—r
();

137 
	mCNF
=
ÃwCNF
;

140 
¥l™CÏu£
(
WCÏu£
* 
şau£
,
©omToRemove
,
m­
<,
veùÜ
<> > 
domašReduûM­
,

141 
numTrue
,
numF®£
, 
veùÜ
<
WCÏu£
*>& 
outCÏu£s
)

143 
	moutCÏu£s
.
push_back
(
şau£
);

144 
boŞ
 
	mchªged
=
çl£
;

147 
	mchªged
=
çl£
;

148 
	mt
=0;t<
	moutCÏu£s
.
size
();t++)

150 
WCÏu£
* 
	mşau£1
 = 
outCÏu£s
[
t
];

151 if(
	mşau£1
->
isPrİos™iÚ®
())

153 
	mveùÜ
<> 
	mpos™iÚsToRemove
;

154 
	mveùÜ
<> 
	mÙh”pos™iÚs
;

155 
	mi
=0;i<
	mşau£1
->
	m©oms
.
size
();i++)

157 if(
	mşau£1
->
	m©oms
[
i
]->
	msymbŞ
->
	mid
==
©omToRemove
)

159 
pos™iÚsToRemove
.
push_back
(
i
);

162 
	mÙh”pos™iÚs
.
push_back
(
i
);

164 !
	mpos™iÚsToRemove
.
em±y
(è|| !
	mÙh”pos™iÚs
.empty())

166 
	mi
 = -1;

167 if(!
	mpos™iÚsToRemove
.
em±y
())

169 
	mi
=
pos™iÚsToRemove
.
back
();

170 
	mpos™iÚsToRemove
.
pİ_back
();

174 
	mi
=
Ùh”pos™iÚs
.
back
();

175 
	mÙh”pos™iÚs
.
pİ_back
();

177 if(
	mşau£1
->
	m©oms
[
i
]->
isCÚ¡ªt
())

181 
	mm­
<,
	mveùÜ
<> >::
™”©Ü
 
™
 = 
domašReduûM­
.
fšd
(
şau£1
->
©oms
[
i
]->
symbŞ
->
id
);

182 if(
	m™
==
domašReduûM­
.
’d
(è|| 
™
->
£cÚd
.
size
()==0)

185 
	mdomašReduûIndex
 = -1;

187 
	mj
=0;j<
	m™
->
	m£cÚd
.
size
();j++)

189 if(
	mşau£1
->
	m©oms
[
i
]->
	m‹rms
[
™
->
£cÚd
[
j
]]->
	mdomaš
.
size
(è!ğ
numTrue


190 && 
şau£1
->
©oms
[
i
]->
‹rms
[
™
->
£cÚd
[
j
]]->
domaš
.
size
(è!ğ
numF®£
)

192 
domašReduûIndex
=
™
->
£cÚd
[
j
];

196 if(
	mdomašReduûIndex
==-1)

198 if(
	mşau£1
->
	m©oms
[
i
]->
	m‹rms
[
domašReduûIndex
]->
	mdomaš
.
size
()!=(
numTrue
+
numF®£
))

204 
WCÏu£
* 
	mnCÏu£p
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£1
);

205 
WCÏu£
* 
	mnCÏu£n
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£1
);

206 
	mnCÏu£p
->
	m©oms
[
i
]->
	m‹rms
[
domašReduûIndex
]->
	mdomaš
.
	m”a£


207 (
	mnCÏu£p
->
	m©oms
[
i
]->
	m‹rms
[
domašReduûIndex
]->
	mdomaš
.
begš
()+
	mnumTrue
,

208 
	mnCÏu£p
->
	m©oms
[
i
]->
	m‹rms
[
domašReduûIndex
]->
	mdomaš
.
’d
());

209 
	mnCÏu£n
->
	m©oms
[
i
]->
	m‹rms
[
domašReduûIndex
]->
	mdomaš
.
”a£
(

210 
nCÏu£n
->
©oms
[
i
]->
‹rms
[
domašReduûIndex
]->
domaš
.
begš
(),

211 
nCÏu£n
->
©oms
[
i
]->
‹rms
[
domašReduûIndex
]->
domaš
.
begš
()+
numTrue
);

212 if(
	mşau£1
->
	m©oms
[
i
]->
	msymbŞ
->
	mid
 =ğ
©omToRemove
)

214 if(
şau£1
->
sign
[
i
])

215 
nCÏu£n
->
§tisf›d
=
Œue
;

217 
	mnCÏu£p
->
	m§tisf›d
=
Œue
;

218 
	mnCÏu£p
->
»moveAtomW™hWeightUpd©iÚ
(
i
);

219 
	mnCÏu£n
->
»moveAtomW™hWeightUpd©iÚ
(
i
);

221 
d–‘e
 
	mşau£1
;

222 
	moutCÏu£s
[
t
]=
nCÏu£p
;

223 
	moutCÏu£s
.
push_back
(
nCÏu£n
);

224 
	mchªged
=
Œue
;

228 if(!
	mchªged
)

232 
	mi
=0;i<
	moutCÏu£s
.
size
();i++)

234 
	mj
=0;j<
	moutCÏu£s
[
i
]->
	m©oms
.
size
();j++)

236 if(
	moutCÏu£s
[
i
]->
	m©oms
[
j
]->
	msymbŞ
->
	mid
 =ğ
©omToRemove
)

238 
outCÏu£s
[
i
]->
»moveAtomW™hWeightUpd©iÚ
(
j
);

239 
	mj
--;

244 
	moutCÏu£s
[
i
]->
	m©oms
[
j
]->
	msymbŞ
->
	mid
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
outCÏu£s
[i]->
©oms
[j]);

	@liftedinfer/common/includes/mathutils.h

1 #iâdeà
__LMATHUTILS


2 
	#__LMATHUTILS


	)

3 
	~<veùÜ
>

4 
usšg
 
Çme¥aû
 
	g¡d
;

5 
	~"logdoubË.h
"

7 
	#MAXCOEFFTABLESIZE
 50

	)

9 
	sLM©hUts


11 
LM©hUts
* 
In¡ªû
();

12 
LogDoubË
 
g‘CÛff
(
n
,
r
);

13 
§m¶e
(
domašSize
,
LogDoubË
& 
´obOfSam¶e
, & 
v®ue
);

14 
toBš¬y
(
num
,
veùÜ
<>& 
bšVeùÜ
,
numGroundšgs
);

15 
	m´iv©e
:

16 
veùÜ
<veùÜ<
LogDoubË
> > 
bš¬yCÛffM©rix
;

17 
	mveùÜ
<veùÜ<
	mLogDoubË
> > 
	mcStÜedDi¡ributiÚ
;

18 
LM©hUts
();

19 
cÚ¡ruùM©rix
();

20 
compu‹CumuÏtiveDi¡ributiÚ
(
domašSize
,
veùÜ
<
LogDoubË
>& 
cdf
);

21 
compu‹Di¡ributiÚTabË
();

24 
LM©hUts
* 
	mm_pIn¡ªû
;

	@liftedinfer/common/includes/normalizer.h

1 #iâdeà
__LNORMALIZER__


2 
	#__LNORMALIZER__


	)

3 
	~"lvrmÊ.h
"

4 
	sLNÜm®iz”


6 
	mLvrMLN
& 
	mmÊ
;

7 
LNÜm®iz”
(
LvrMLN
& 
mÊ_
):
mÊ
(mln_){}

8 
boŞ
 
checkEquiv®’cy
(
Atom
* 
©1
,Atom* 
©2
);

9 
nÜm®izeCÏu£s
(
veùÜ
<
WCÏu£
*>& 
şau£s
,
boŞ
 
weightsOnAtoms
=
çl£
,boŞ 
»£tIds
 = false);

10 
»moveNPS–fJošs
(
veùÜ
<
WCÏu£
*>& 
CNF
);

11 
nÜm®izeCÏu£sW™houtJošs
(
veùÜ
<
WCÏu£
*>& 
şau£s
,
boŞ
 
weightsOnAtoms
=
çl£
,boŞ 
»£tIds
 = false);

12 
boŞ
 
com·»CÏu£s
(
WCÏu£
* 
c1
, WCÏu£* 
c2
);

13 
boŞ
 
com·»CÏu£s
(
veùÜ
<
WCÏu£
*> 
c1
,veùÜ<WCÏu£*> 
c2
);

14 
	m´iv©e
:

15 
fšdNPS–fJošedAtomToGround
(
veùÜ
<
WCÏu£
*>& 
CNF
,
Atom
*& 
©om
,veùÜ<
boŞ
>& 
isŞ©edT”ms
);

16 
m”geId’tiÿlCÏu£s
(
veùÜ
<
WCÏu£
*>& 
CNF
);

17 
m”geId’tiÿlCÏu£sPTP
(
veùÜ
<
WCÏu£
*>& 
CNF
);

18 
cÚv”tToNÜm®FÜm
(
veùÜ
<
WCÏu£
*>& 
şau£s
);

19 
toNÜm®FÜm
(
P»diÿ‹SymbŞ
* 
symbŞ
,
veùÜ
<
WCÏu£
*>& 
şau£s
);

20 
»ÇmeP»diÿ‹s
(
veùÜ
<
WCÏu£
*>& 
CNF
,
boŞ
 
»£tIds
 = 
çl£
);

	@liftedinfer/common/includes/normpreservinggrounder.h

1 #iâdeà
__LNORMPRESERVING_GROUNDER


2 
	#__LNORMPRESERVING_GROUNDER


	)

4 
	~"lvrmÊ.h
"

5 
	~"hash®gÜ™hm.h
"

6 
	~"lv½”mutiÚs.h
"

7 
	~"ş—nuputs.h
"

8 
	~"¿ndomg’ut.h
"

10 
	sLvrNÜmP»£rvšgGround”


12 
´İag©eNÜm®izedCNF
(
veùÜ
<
WCÏu£
*>& 
CNF
, 
Atom
* 
©omToS¶™
,

13 
veùÜ
<
boŞ
> 
isŞ©edT”ms
)

15 
doPrİag©eNÜm®izedCNF
(
CNF
,
©omToS¶™
,
isŞ©edT”ms
);

18 
	m´iv©e
:

19 
š£¹OrUpd©e
Ğ
m­
<,
veùÜ
<
boŞ
> >& 
sh¬edT”msM­
, 
Atom
* 
©om
, 
šdexToS‘
)

21 
	mm­
<,
	mveùÜ
<
	mboŞ
> >::
™”©Ü
 
™
 = 
sh¬edT”msM­
.
fšd
(
©om
->
symbŞ
->
id
);

22 if(
	m™
==
sh¬edT”msM­
.
’d
())

24 
veùÜ
<
boŞ
> 
v®ue
(
©om
->
‹rms
.
size
());

25 
	mv®ue
[
šdexToS‘
] = 
Œue
;

26 
	msh¬edT”msM­
.
š£¹
(
·œ
<,
veùÜ
<
boŞ
> >(
©om
->
symbŞ
->
id
,
v®ue
));

30 
	msh¬edT”msM­
[
©om
->
symbŞ
->
id
].
©
(
šdexToS‘
èğ
Œue
;

34 
upd©eSh¬edT”ms
(
WCÏu£
* 
şau£
, 
©omId
, 
m­
<,
veùÜ
<
boŞ
> >& 
sh¬edT”msM­
,veùÜ<boŞ>& 
dœtyAtoms
)

36 
	mdœtyAtoms
.
»size
(
şau£
->
©oms
.
size
());

37 
	mveùÜ
<> 
	m©omInd
;

38 
	mveùÜ
<veùÜ <
	mLvrT”m
*> > 
	m‹rms
;

39 
	mj
=0;j<
	mşau£
->
	m©oms
.
size
();j++)

43 
boŞ
 
	m®lcÚ¡ªts
 = 
Œue
;

44 if(
	m©omId
 =ğ
şau£
->
©oms
[
j
]->
symbŞ
->
id
)

46 
veùÜ
<
LvrT”m
*> 
tmpT”ms
;

47 
	mk
=0;k<
	mşau£
->
	m©oms
[
j
]->
	m‹rms
.
size
();k++)

49 if(
	mşau£
->
	m©oms
[
j
]->
	m‹rms
[
k
]->
	mdomaš
.
size
() > 1)

51 
	m®lcÚ¡ªts
 = 
çl£
;

52 
	mtmpT”ms
.
push_back
(
şau£
->
©oms
[
j
]->
‹rms
[
k
]);

55 if(
	mtmpT”ms
.
size
() > 0)

56 
	m‹rms
.
push_back
(
tmpT”ms
);

58 if(!
	m®lcÚ¡ªts
)

59 
	m©omInd
.
push_back
(
j
);

62 if(
	m©omInd
.
size
() > 0)

64 
	mj
=0;j<
	mşau£
->
	m©oms
.
size
();j++)

66 
	mm­
<,
	mveùÜ
<
	mboŞ
> >::
™”©Ü
 
™
 = 
sh¬edT”msM­
.
fšd
(
şau£
->
©oms
[
j
]->
symbŞ
->
id
);

67 if(
	m™
==
sh¬edT”msM­
.
’d
())

69 
veùÜ
<
boŞ
> 
sh‹rms
(
şau£
->
©oms
[
j
]->
‹rms
.
size
());

70 
	msh¬edT”msM­
.
š£¹
(
·œ
<,
veùÜ
<
boŞ
> >(
şau£
->
©oms
[
j
]->
symbŞ
->
id
,
sh‹rms
));

71 
	m™
 = 
sh¬edT”msM­
.
fšd
(
şau£
->
©oms
[
j
]->
symbŞ
->
id
);

73 if(
fšd
(
©omInd
.
begš
(),©omInd.
’d
(),
j
)!=atomInd.end())

75 
	mk
=0;k<
	mşau£
->
	m©oms
[
j
]->
	m‹rms
.
size
();k++)

77 if(
	m™
->
	m£cÚd
[
k
])

79 
	mm
=0;m<
	m©omInd
.
size
();m++)

81 if(
fšd
(
‹rms
[
m
].
begš
(),‹rms[m].
’d
(),
şau£
->
©oms
[
j
]->‹rms[
k
])!=terms[m].end())

84 
š£¹OrUpd©e
(
sh¬edT”msM­
,
şau£
->
©oms
[
j
],
k
);

85 
	mdœtyAtoms
[
j
] = 
Œue
;

95 
doPrİag©eNÜm®izedCNF
(
veùÜ
<
WCÏu£
*>& 
CNF
, 
Atom
* 
©omToS¶™
,veùÜ<
boŞ
> 
isŞ©edT”ms
)

97 
	mm­
<,
	mveùÜ
<
	mboŞ
> > 
	msh¬edT”msM­
;

99 
	mveùÜ
<
	mboŞ
> 
shT”ms
(
isŞ©edT”ms
.
size
());

100 
	mi
=0;i<
	misŞ©edT”ms
.
size
();i++)

101 
	mshT”ms
[
i
] = (!
isŞ©edT”ms
[i]);

102 
	msh¬edT”msM­
.
š£¹
(
·œ
<,
veùÜ
<
boŞ
> >(
©omToS¶™
->
symbŞ
->
id
,
shT”ms
));

103 
	mveùÜ
<> 
	maùiveAtoms
;

104 
	maùiveAtoms
.
push_back
(
©omToS¶™
->
symbŞ
->
id
);

105 !
	maùiveAtoms
.
em±y
())

107 
	mid
 = 
aùiveAtoms
.
back
();

108 
	maùiveAtoms
.
pİ_back
();

109 
	mi
=0;i<
	mCNF
.
size
();i++)

111 
	mveùÜ
<
	mboŞ
> 
	mdœtyAtoms
;

112 
upd©eSh¬edT”ms
(
CNF
[
i
],
id
,
sh¬edT”msM­
,
dœtyAtoms
);

114 
	mj
=0;j<
	mCNF
[
i
]->
	m©oms
.
size
();j++)

116 if(
	mdœtyAtoms
[
j
])

117 
	maùiveAtoms
.
push_back
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

121 
groundCNF
(
CNF
,
sh¬edT”msM­
,
©omToS¶™
->
symbŞ
->
id
);

124 
boŞ
 
isGrounded
(
Atom
* 
©om
,
veùÜ
<boŞ> 
sh¬edT”ms
)

126 
	mi
=0;i<
	msh¬edT”ms
.
size
();i++)

128 if(
	msh¬edT”ms
[
i
] && 
	m©om
->
	m‹rms
[i]->
	mdomaš
.
size
() > 1)

129  
	mçl£
;

131  
	mŒue
;

134 
groundCÏu£
(
WCÏu£
* 
şau£
, 
©omInd
, 
veùÜ
<
boŞ
> 
sh¬edT”ms
,veùÜ<WCÏu£*>& 
ÃwCÏu£s
,
©omIdToRemove
)

136 
	mveùÜ
<
	mLvrT”m
*> 
	m‹rms
;

137 
	mi
=0;i<
	msh¬edT”ms
.
size
();i++)

139 if(
	msh¬edT”ms
[
i
])

140 
	m‹rms
.
push_back
(
şau£
->
©oms
[
©omInd
]->
‹rms
[
i
]);

142 
	mveùÜ
<veùÜ<> > 
	m³rmu‹dLi¡
;

143 
	mLvrP”mutiÚs
::
³rmu‹T”ms
(
‹rms
,
³rmu‹dLi¡
);

144 
	mi
=0;i<
	m³rmu‹dLi¡
.
size
();i++)

146 
WCÏu£
* 
	mnCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£
);

147 
	m™”
=0;

148 
	mj
=0;j<
	mnCÏu£
->
	m©oms
[
©omInd
]->
	m‹rms
.
size
();j++)

150 if(
	msh¬edT”ms
[
j
])

152 
	mnCÏu£
->
	m©oms
[
©omInd
]->
	m‹rms
[
j
]->
	mdomaš
.
ş—r
();

153 
	mnCÏu£
->
	m©oms
[
©omInd
]->
	m‹rms
[
j
]->
	mdomaš
.
push_back
(
³rmu‹dLi¡
[
i
].
©
(
™”
++));

157 
	mnCÏu£
->
	m©oms
[
©omInd
]->
	msymbŞ
->
	mid
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
nCÏu£
->
©oms
[atomInd]);

158 
	mÃwCÏu£s
.
push_back
(
nCÏu£
);

162 
groundCNF
(
veùÜ
<
WCÏu£
*>& 
CNF
, 
m­
<,veùÜ<
boŞ
> > 
sh¬edT”msM­
,
©omIdToRemove
)

164 
boŞ
 
	mchªged
=
çl£
;

167 
	mchªged
=
çl£
;

168 
	mi
=0;i<
	mCNF
.
size
();i++)

170 
	mj
=0;j<
	mCNF
[
i
]->
	m©oms
.
size
();j++)

172 
	mm­
<,
	mveùÜ
<
	mboŞ
> >::
™”©Ü
 
™
 = 
sh¬edT”msM­
.
fšd
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

173 if(
	m™
==
sh¬edT”msM­
.
’d
())

176 if(!
isGrounded
(
CNF
[
i
]->
©oms
[
j
],
™
->
£cÚd
))

179 
	mveùÜ
<
	mWCÏu£
*> 
	mÃwCÏu£s
;

180 
groundCÏu£
(
CNF
[
i
],
j
,
™
->
£cÚd
,
ÃwCÏu£s
,
©omIdToRemove
);

181 if(
	mÃwCÏu£s
.
size
()==0)

184 
	mchªged
 = 
Œue
;

185 
d–‘e
 
	mCNF
[
i
];

186 
	mCNF
[
i
] = 
ÃwCÏu£s
[0];

187 
	mjj
=1;jj<
	mÃwCÏu£s
.
size
();jj++)

188 
	mCNF
.
push_back
(
ÃwCÏu£s
[
jj
]);

192 if(
	mchªged
)

195 if(!
	mchªged
)

198 
	mi
=0;i<
	mCNF
.
size
();i++)

200 
	mj
=0;j<
	mCNF
[
i
]->
	m©oms
.
size
();j++)

202 
	mCNF
[
i
]->
	m©oms
[
j
]->
	msymbŞ
->
	mid
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
CNF
[i]->
©oms
[j]);

	@liftedinfer/common/includes/paramconstants.h

1 #iâdeà
__LPARAM_CONSTANTS


2 
	#__LPARAM_CONSTANTS


	)

3 
	#NEWPREDICATEPREFIX
 "NSM"

	)

4 
	#CLUSTERFILE
 "şu¡”.şs"

	)

5 
	#RESULTFILE
 "»suÉ.d©"

	)

6 
	#MAXTIMEOUTCLUSTERING
 60

	)

7 
	#PROPOSALNUMPARENTS
 2

	)

8 
	#SPLITCHUNKSIZE
 25

	)

9 
	#PRINTRESULTSINTERVAL
 25

	)

10 
	#CLUSTERINGWINDOWSIZE
 100

	)

12 
	#PROPOSALUPDATEINTERVAL
 50

	)

13 
	#MAXSTEPSINFER
 1000

	)

14 
	#MAXSTEPSWL
 20

	)

15 
	#MAXSECONDSWL
 120

	)

16 
	#MAXSECONDSINFER
 10000

	)

17 
	#BURNINSTEPS
 50

	)

18 
	#LEARNINGRATE
 0.001

	)

19 
	#SLEEPTIME
 5

	)

21 
	#CACHESIZE
 1024

	)

22 
	#MOSTRECENTSIZE
 50

	)

23 
	#MAXCNFSIZE
 256

	)

	@liftedinfer/common/includes/propositionalresolution.h

1 #iâdeà
PROPOSITIONAL_RESOLUTION__


2 
	#PROPOSITIONAL_RESOLUTION__


	)

3 
	~<¡dlib.h
>

4 
	~<time.h
>

5 
	~<®gÜ™hm
>

6 
	~<veùÜ
>

7 
	~<io¡»am
>

8 
	~<£t
>

9 
	~<m­
>

10 
usšg
 
Çme¥aû
 
	g¡d
;

12 
	~"lvrmÊ.h
"

13 
	sPrİos™iÚ®ResŞutiÚ


15 
doPrİos™iÚ®S¶™
(
veùÜ
<
WCÏu£
*> 
CNF
, 
Atom
* 
©om
,veùÜ<veùÜ<WCÏu£*> >& 
»sŞvedCNFLi¡
);

16 
doPrİos™iÚ®S¶™
(
veùÜ
<
WCÏu£
*> 
CNF
, 
Atom
* 
©om
,veùÜ<WCÏu£*>& 
posCÏu£s
);

17 
doPrİos™iÚ®S¶™S–fJošs
(
veùÜ
<
WCÏu£
*> 
CNF
, 
Atom
* 
©om
,veùÜ<veùÜ<WCÏu£*> >& 
»sŞvedCNFLi¡
);

	@liftedinfer/common/includes/ptptree.h

1 #iâdeà
__LPTPTREE__


2 
	#__LPTPTREE__


	)

3 
	~"lvrmÊ.h
"

4 
	~"ş—nuputs.h
"

6 
	eNodeTy³


8 
	mESPLIT
,

9 
	mEDECOMPOSER
,

10 
	mEDISJOINT


13 
	sLAssignm’t


15 
	mveùÜ
<
	mAtom
*> 
	m©oms
;

16 
	mveùÜ
<> 
	massignm’t
;

17 
	mveùÜ
<
	mLogDoubË
> 
	m´obab™›s
;

18 ~
LAssignm’t
()

22 
ş—nAssignm’ts
()

24 
ş—nup
(
©oms
);

25 
	massignm’t
.
ş—r
();

26 
	m´obab™›s
.
ş—r
();

29 
	sLPTPNode


31 
	mty³
;

32 
Atom
* 
	m©om
;

33 
	mpow”FaùÜ
;

34 
	mveùÜ
<
	mLogDoubË
> 
	mzV®ues
;

35 
	mveùÜ
<
	mLogDoubË
> 
	mbšCÛff
;

36 
LogDoubË
 
	mnÜm
;

37 
	mveùÜ
<
	mLPTPNode
*> 
	mchd»n
;

38 
	mid
;

39 
	m·»ÁId
;

40 
	m·»ÁB¿nchNo
;

41 
	massignm’t
;

42 
	mveùÜ
<
	mLogDoubË
> 
	mcdf
;

43 
LogDoubË
 
	mdownV®ue
;

44 
	mveùÜ
<
	mLogDoubË
> 
	mb¿nchWeights
;

45 
LogDoubË
 
	mnodeV®ue
;

47 
	mveùÜ
<
	mm­
<,> > 
	mdecompo£rM­pšgs
;

48 
	mveùÜ
<> 
	mdomašPow”FaùÜs
;

50 
LPTPNode
():
downV®ue
(
LogDoubË
(1,
çl£
))

53 ~
LPTPNode
()

55 if(
	mty³
==
ESPLIT
)

56 
d–‘e
 
©om
;

59 
LogDoubË
 
g‘Probab™y
(
šdex
)

61 if(
	mty³
==
ESPLIT
)

63  (
zV®ues
[
šdex
]*
bšCÛff
[šdex])/
nÜm
;

65  
LogDoubË
(0,
çl£
);

68 
cÚ¡ruùCDF
()

70 if(
	mty³
==
ESPLIT
)

72 
cdf
.
ş—r
();

73 
	mcdf
.
»size
(
zV®ues
.
size
());

74 
	mcdf
[0] = (
zV®ues
[0]*
bšCÛff
[0])/
nÜm
;

75 
	mi
=1;i<
	mzV®ues
.
size
()-1;i++)

77 
	mcdf
[
i
]=
cdf
[i-1] + (
zV®ues
[i]*
bšCÛff
[i])/
nÜm
;

79 
	mcdf
[
zV®ues
.
size
()-1]=
LogDoubË
(1,
çl£
);

85 
´št
()

87 
	mcout
<<"Id="<<
	mid
<<
	m’dl
;

88 
	mcout
<<"P¬’tId="<<
	m·»ÁId
<<
	m’dl
;

89 
	mcout
<<"P¬’tB¿nchNo="<<
	m·»ÁB¿nchNo
<<
	m’dl
;

91 if(
	mty³
 == 0)

93 
©om
->
´št
(
çl£
);

94 
	mkk
=0;kk<
	mzV®ues
.
size
();kk++)

95 
	mcout
<<
	mbšCÛff
[
kk
]*
	mzV®ues
[kk]<<" ";

96 
	mcout
<<
	m’dl
;

97 
	mcout
<<"NÜm="<<
	mnÜm
<<
	m’dl
;

99 if(
	mty³
 == 1)

101 
cout
<<"PF="<<
pow”FaùÜ
<<
’dl
;

105 
	mcout
<<"Decom°Node"<<
	m’dl
;

107 
	mcout
<<"Children=";

108 
	mi
=0;i<
	mchd»n
.
size
();i++)

109 
	mcout
<<
	mchd»n
[
i
]->
	mid
<<" ";

110 
	mcout
<<"["<<
	mnodeV®ue
<<","<<
	mdownV®ue
<<"]"<<
	m’dl
;

111 
	mcout
<<
	m’dl
<<"*************"<<endl;

114 
	sLPTPT»e


116 
	mveùÜ
<
	mLPTPNode
*> 
	mŒ“Nodes
;

117 
LAssignm’t
 
	m§m¶edAssignm’ts
;

118 ~
LPTPT»e
()

121 
ş—nT»e
()

123 
ş—nup
(
Œ“Nodes
);

124 
	m§m¶edAssignm’ts
.
ş—nAssignm’ts
();

126 
´štAssignm’ts
()

128 
	mj
=0;j<
	m§m¶edAssignm’ts
.
	m©oms
.
size
();j++)

130 
	m§m¶edAssignm’ts
.
	m©oms
[
j
]->
´št
(
çl£
);

131 
	mcout
<<"$$"<<
	m§m¶edAssignm’ts
.
	massignm’t
[
j
]<<
	m’dl
;

134 
makeCDF
()

136 
	mi
=0;i<
	mŒ“Nodes
.
size
();i++)

137 
	mŒ“Nodes
[
i
]->
cÚ¡ruùCDF
();

139 
´štT»e
()

141 
	mi
=0;i<
	mŒ“Nodes
.
size
();i++)

142 
	mŒ“Nodes
[
i
]->
´št
();

	@liftedinfer/common/includes/queryupdater.h

1 #iâdeà
__LVRQUERY_UPDATER


2 
	#__LVRQUERY_UPDATER


	)

3 
	~"lvrmÊ.h
"

4 
	~"lv¿tomhash‹m¶©e.h
"

5 
	~"lv½”mutiÚs.h
"

8 
	sLvrQu”yUpd©”


10 
LvrQu”yUpd©”
* 
In¡ªû
();

11 
ü—‹In¡ªû
(
veùÜ
<veùÜ<> > 
qu”yIÁR•
,veùÜ<
¡ršg
> 
qu”ySŒšgs
,

12 
¡ršg
 
»suÉf’ame
, 
veùÜ
<veùÜ<> >* 
evid’ûIÁR•
 = 
NULL
);

13 
upd©eQu”yV®ues
(
Atom
* 
©om
,
§m¶edTrueV®
);

14 
upd©eQu”yV®ues
(
Atom
* 
©om
,
veùÜ
<
boŞ
> 
isŞ©edT”ms
,veùÜ<> 
§m¶edTrueV®s
);

15 
upd©eQu”yV®uesLVGibbs
(
Atom
* 
©om
,
§m¶edTrueV®
);

16 
upd©eDÚtC¬e
();

17 
boŞ
 
isIn¡ªûC»©ed
();

18 
nÜm®ize
(
™”©iÚs
);

19 
wr™eToFe
(
numI‹¿tiÚs
);

20 
g‘Cu¼’tSam¶eV®ue
(
veùÜ
<> 
qu”yštR•
);

21 
upd©eAÎImpÜnûWeights
(
LogDoubË
 
cu¼’tI‹rWeight
);

22 
wr™eToFe
(
LogDoubË
 
tÙ®Weight
);

23 
boŞ
 
isNÜmIdInQu”y
(
id
)

25 if(
	mqu”yNÜmIds
.
fšd
(
id
)!=
qu”yNÜmIds
.
’d
())

26  
Œue
;

27  
	mçl£
;

29 
upd©eExaùQu”yWeights
(
£t
<> 
qu”yHashes
,
LogDoubË
 
v®ue
);

30 
	m´iv©e
:

31 
LvrAtomHashTem¶©e
<
¡ršg
>* 
qu”yHashTem¶©e
;

32 
	mLvrAtomHashTem¶©e
<
	mboŞ
>* 
	mlvrAtomHashUpd©eFÏgs
;

33 
LvrQu”yUpd©”
(
veùÜ
<veùÜ<> > 
qu”yIÁR•
,veùÜ<
¡ršg
> 
qu”ySŒšgs
,veùÜ<veùÜ<> >* 
evid’ûIÁR•
 = 
NULL
);

34 
LvrQu”yUpd©”
* 
	mm_pIn¡ªû
;

35 
	mveùÜ
<> 
	mcu¼’tProbab™›s
;

38 
	mLvrAtomHashTem¶©e
<>* 
	mlvrAtomHashTem¶©e
;

40 
	mLvrAtomHashTem¶©e
<
	mLogDoubË
*>* 
	mcumuÏtiveWeight
;

41 
	mLvrAtomHashTem¶©e
<>* 
	mcu¼’tSam¶edV®ue
;

43 
	mm­
<,
	mboŞ
> 
	mqu”yNÜmIds
;

44 
doUpd©eQu”yV®ues
(
Atom
* 
©om
,
§m¶edTrueV®
);

45 
doUpd©eQu”yV®ues
(
Atom
* 
©om
,
veùÜ
<
boŞ
> 
isŞ©edT”ms
,veùÜ<> 
§m¶edTrueV®s
);

	@liftedinfer/common/includes/randomgenutil.h

1 #iâdeà
__RANDOMGEN_UTIL


2 
	#__RANDOMGEN_UTIL


	)

3 
	sLvRªdomG’Ut


5 
LvRªdomG’Ut
* 
In¡ªû
();

6 
g‘RªdomPos™iÚ
(
maxSize
);

7 
g‘NÜmRªd
();

8 
	m´iv©e
:

9 
LvRªdomG’Ut
();

10 
LvRªdomG’Ut
* 
	mm_pIn¡ªû
;

	@liftedinfer/common/includes/rulesutil.h

1 #iâdeà
LRULESUTIL_H_


2 
	#LRULESUTIL_H_


	)

3 
	~"lvrmÊ.h
"

4 
	~"ş—nuputs.h
"

5 
	~"nÜm®iz”.h
"

6 
	~"lv½”mutiÚs.h
"

8 
	sLRuËsUt


10 
boŞ
 
compu‹IsŞ©edT”ms
(
Atom
* 
©om
, 
veùÜ
<
WCÏu£
*> 
şau£s
,veùÜ<boŞ>& 
isŞ©edT”ms
)

12 
	misŞ©edT”ms
.
ş—r
();

13 
	misŞ©edT”ms
.
»size
(
©om
->
‹rms
.
size
());

14 
	mçl£CÁ
 = 0;

15 
	mi
=0;i<
	misŞ©edT”ms
.
size
();i++)

18 if(
	m©om
->
	m‹rms
[
i
]->
	mdomaš
.
size
()==1)

20 
çl£CÁ
++;

21 
	misŞ©edT”ms
[
i
] = 
çl£
;

25 
	misŞ©edT”ms
[
i
] = 
Œue
;

28 if(
	mçl£CÁ
 =ğ
isŞ©edT”ms
.
size
())

29  
çl£
;

31 
	mi
=0;i<
	mşau£s
.
size
();i++)

33 
	mj
=0;j<
	mşau£s
[
i
]->
	m©oms
.
size
();j++)

35 if(
	mşau£s
[
i
]->
	m©oms
[
j
]->
	msymbŞ
->
	mid
 =ğ
©om
->
symbŞ
->
id
)

37 
k
=0;
	mk
<
	mşau£s
[
i
]->
	m©oms
[
j
]->
	m‹rms
.
size
();k++)

39 if(
	misŞ©edT”ms
[
k
])

41 if(
	mşau£s
[
i
]->
	m©oms
[
j
]->
	m‹rms
[
k
]->
	mdomaš
.
size
()>1)

43 
boŞ
 
	msh¬ed
 = 
checkOccu¼’û
(
şau£s
[
i
]->
©oms
[
j
]->
‹rms
[
k
],clauses[i],j);

44 if(
	msh¬ed
)

46 
	misŞ©edT”ms
[
k
]=
çl£
;

47 
	mçl£CÁ
++;

48 if(
	mçl£CÁ
 =ğ
isŞ©edT”ms
.
size
())

49  
çl£
;

57  
	mŒue
;

60 
boŞ
 
isBlocked
(
Atom
* 
©om
, 
sšgËtÚIndex
,
veùÜ
<
WCÏu£
*> 
şau£s
)

62 
	mi
=0;i<
	mşau£s
.
size
();i++)

64 
	mveùÜ
<
	mLvrT”m
*> 
	m‹rms
;

65 
	mveùÜ
<> 
	moccu»nûs
;

66 
	mj
=0;j<
	mşau£s
[
i
]->
	m©oms
.
size
();j++)

68 if(
	mşau£s
[
i
]->
	m©oms
[
j
]->
	msymbŞ
->
	mid
 =ğ
©om
->
symbŞ
->
id
)

70 
‹rms
.
push_back
(
şau£s
[
i
]->
©oms
[
j
]->‹rms[
sšgËtÚIndex
]);

71 
	moccu»nûs
.
push_back
(
j
);

74 if(
	m‹rms
.
size
()==0)

76 
	mj
=0;j<
	mşau£s
[
i
]->
	m©oms
.
size
();j++)

78 if(
	mşau£s
[
i
]->
	m©oms
[
j
]->
isCÚ¡ªt
())

80 if(
fšd
(
occu»nûs
.
begš
(),occu»nûs.
’d
(),
j
)!=occurences.end())

82 
	mfoundcouÁ
=0;

83 
	mk
=0;k<
	mşau£s
[
i
]->
	m©oms
[
j
]->
	m‹rms
.
size
();k++)

85 if(
	mşau£s
[
i
]->
	m©oms
[
j
]->
	m‹rms
[
k
]->
	mdomaš
.
size
()==1)

87 if(
fšd
(
‹rms
.
begš
(),‹rms.
’d
(),
şau£s
[
i
]->
©oms
[
j
]->‹rms[
k
])!=terms.end())

88 
foundcouÁ
++;

90 if(
	mfoundcouÁ
!=0 && 
foundcouÁ
!=
‹rms
.
size
())

91  
çl£
;

94  
	mŒue
;

97 
	m´iv©e
:

98 
boŞ
 
checkOccu¼’û
(
LvrT”m
* 
‹rm
, 
WCÏu£
* 
şau£
, 
exû±Index
)

100 
	mi
=0;i<
	mşau£
->
	m©oms
.
size
();i++)

102 if(
	mi
 =ğ
exû±Index
)

104 if(
	mşau£
->
	m©oms
[
i
]->
isCÚ¡ªt
())

106 
	mj
=0;j<
	mşau£
->
	m©oms
[
i
]->
	m‹rms
.
size
();j++)

108 if(
	mşau£
->
	m©oms
[
i
]->
	m‹rms
[
j
]->
	mdomaš
.
size
() != 1

109 && 
şau£
->
©oms
[
i
]->
‹rms
[
j
] =ğ
‹rm
)

111  
Œue
;

115  
	mçl£
;

	@liftedinfer/common/includes/samplingalgs.h

1 #iâdeà
__LSam¶šgAlgs


2 
	#__LSam¶šgAlgs


	)

3 
	~"logdoubË.h
"

4 
	~"´İo§l¡ruùu».h
"

6 
	~<veùÜ
>

7 
usšg
 
Çme¥aû
 
	g¡d
;

8 
	~"lv·¿ms.h
"

10 
	sLSam¶šgAlgs


12 
LSam¶šgAlgs
* 
In¡ªû
();

13 
§m¶e
(
domašSize
,
numV®uesToSam¶e
,
LogDoubË
& 
§m¶eWeight
,
veùÜ
<>& 
§m¶edV®ues
,

14 
ESam¶šgMode
 
§m¶šgMode
 = 
EUNIFORM
, 
LPrİo§lDi¡ributiÚEËm’t
* 
Íe
 = 
NULL
);

15 
	m´iv©e
:

16 
LSam¶šgAlgs
();

17 
LSam¶šgAlgs
* 
	mm_pIn¡ªû
;

	@liftedinfer/common/includes/stringconversionutils.h

1 #iâdeà
__LSTRINGCONVERSION_UTILS


2 
	#__LSTRINGCONVERSION_UTILS


	)

3 
	~<¡ršg
>

4 
	~<veùÜ
>

5 
	~<s¡»am
>

6 
usšg
 
Çme¥aû
 
	g¡d
;

7 
	sLSŒšgCÚv”siÚUts


9 
tok’ize
(cÚ¡ 
¡ršg
& 
¡r
,

10 
veùÜ
<
¡ršg
>& 
tok’s
,

11 cÚ¡ 
¡ršg
& 
d–im™”s
)

14 
	m¡ršg
::
size_ty³
 
Ï¡Pos
 = 
¡r
.
fšd_fœ¡_nÙ_of
(
d–im™”s
, 0);

16 
	m¡ršg
::
size_ty³
 
pos
 = 
¡r
.
fšd_fœ¡_of
(
d–im™”s
, 
Ï¡Pos
);

18 
	m¡ršg
::
Åos
 !ğ
pos
 || 
¡ršg
::Åo !ğ
Ï¡Pos
)

20 
¡ršg
 
sub¡ršg
 = 
¡r
.
sub¡r
(
Ï¡Pos
, 
pos
 -†astPos);

21 
	mtok’s
.
push_back
(
sub¡ršg
);

23 
	mÏ¡Pos
 = 
¡r
.
fšd_fœ¡_nÙ_of
(
d–im™”s
, 
pos
);

25 
	mpos
 = 
¡r
.
fšd_fœ¡_of
(
d–im™”s
, 
Ï¡Pos
);

29 
toIÁ
(
¡ršg
 
s
)

31 
¡ršg¡»am
 
cÚv”t
(
s
);

32 
	mi
;

33 
	mcÚv”t
 >> 
	mi
;

34  
	mi
;

36 
toDoubË
(
¡ršg
 
s
)

38 
¡ršg¡»am
 
cÚv”t
(
s
);

39 
	mi
;

40 
	mcÚv”t
 >> 
	mi
;

41  
	mi
;

43 
toIÁA¼
(
veùÜ
<
¡ršg
>& 
s
,veùÜ<>& 
štA¼
)

45 
	mi
=0;i<
	ms
.
size
();i++)

46 
	mštA¼
.
push_back
(
toIÁ
(
s
[
i
]));

48 
toDoubËA¼
(
veùÜ
<
¡ršg
>& 
s
,veùÜ<>& 
dA¼
)

50 
	mi
=0;i<
	ms
.
size
();i++)

51 
	mdA¼
.
push_back
(
toDoubË
(
s
[
i
]));

53 
¡ršg
 
toSŒšg
(
i
)

55 
¡ršg¡»am
 
	m¡
;

56 
	m¡
<<
	mi
;

57  
	m¡
.
¡r
();

	@liftedinfer/common/src/decomposer.cpp

1 
	~"decompo£r.h
"

2 
	~"ş—nuputs.h
"

4 
	gDecompo£r
::~
	$Decompo£r
()

6 
decompo£r_‹rms
.
	`ş—r
();

7 
´ediÿ‹_pos™iÚs
.
	`ş—r
();

8 
©omCouÁ”
.
	`ş—r
();

9 
	}
}

12 
Decompo£r
* 
	gLDecompo£r
::
ü—‹_Ãw_decompo£r
(
LvrT”m
* 
‹rm
,
veùÜ
<> 
©om_li¡
,veùÜ<> 
pos™iÚ_li¡
,veùÜ<> 
nÜm_©om_li¡
)

14 
	gveùÜ
<
	gLvrT”m
*> 
	gdecompo£r_‹rms
;

15 
	gm­
<,> 
	g´ediÿ‹_pos™iÚs
;

16 
	gm­
<,> 
	g©omCouÁ”
;

17 
	gm­
<,> 
	gnÜm_´ediÿ‹_pos™iÚs
;

18 
	gdecompo£r_‹rms
.
push_back
(
‹rm
);

19 
	gk
=0;k<
	g©om_li¡
.
size
();k++)

21 
	g´ediÿ‹_pos™iÚs
[
©om_li¡
[
k
]]=
pos™iÚ_li¡
[k];

22 
	gnÜm_´ediÿ‹_pos™iÚs
[
nÜm_©om_li¡
[
k
]] = 
pos™iÚ_li¡
[k];

23 
	g©omCouÁ”
[
©om_li¡
[
k
]]=1;

25 
Decompo£r
* 
	gd
 = 
Ãw
 Decompo£r(
decompo£r_‹rms
,
´ediÿ‹_pos™iÚs
,
©omCouÁ”
,
nÜm_´ediÿ‹_pos™iÚs
);

26  
	gd
;

29 
	gLDecompo£r
::
	$unify
(
Decompo£r
* 
d1
, Decompo£r* 
d2
)

31 
boŞ
 
found
=
çl£
;

32 
m­
<,>::
™”©Ü
 
™1
=
d1
->
´ediÿ‹_pos™iÚs
.
	`begš
();™1!=d1->´ediÿ‹_pos™iÚs.
	`’d
();it1++)

34 
m­
<,>::
™”©Ü
 
tmp
 = 
d2
->
´ediÿ‹_pos™iÚs
.
	`fšd
(
™1
->
fœ¡
);

35 if(
tmp
!=
d2
->
´ediÿ‹_pos™iÚs
.
	`’d
())

37 
found
=
Œue
;

39 if(
tmp
->
£cÚd
 !ğ
™1
->second)

43 if(
found
)

47 
	}
}

49 
Decompo£r
* 
	gLDecompo£r
::
	$m”ge
(
Decompo£r
* 
d1
, Decompo£r* 
d2
)

51 
veùÜ
<
LvrT”m
*> 
decompo£rT”ms
;

52 
m­
<,> 
´ediÿ‹_pos™iÚs
;

53 
m­
<,> 
©omCouÁ”
;

54 
m­
<,> 
nÜm_´ediÿ‹_pos™iÚs
;

55 
i
=0;i<
d1
->
decompo£r_‹rms
.
	`size
();i++)

57 
decompo£rT”ms
.
	`push_back
(
d1
->
decompo£r_‹rms
[
i
]);

59 
i
=0;i<
d2
->
decompo£r_‹rms
.
	`size
();i++)

61 
decompo£rT”ms
.
	`push_back
(
d2
->
decompo£r_‹rms
[
i
]);

63 
m­
<,>::
™”©Ü
 
™1
=
d1
->
´ediÿ‹_pos™iÚs
.
	`begš
();™1!=d1->´ediÿ‹_pos™iÚs.
	`’d
();it1++)

65 
´ediÿ‹_pos™iÚs
.
	`š£¹
(
·œ
<,>(
™1
->
fœ¡
,™1->
£cÚd
));

67 
m­
<,>::
™”©Ü
 
™1
=
d2
->
´ediÿ‹_pos™iÚs
.
	`begš
();™1!=d2->´ediÿ‹_pos™iÚs.
	`’d
();it1++)

69 
´ediÿ‹_pos™iÚs
.
	`š£¹
(
·œ
<,>(
™1
->
fœ¡
,™1->
£cÚd
));

71 
m­
<,>::
™”©Ü
 
™1
=
d1
->
©omCouÁ”
.
	`begš
();™1!=d1->©omCouÁ”.
	`’d
();it1++)

73 
©omCouÁ”
.
	`š£¹
(
·œ
<,>(
™1
->
fœ¡
,™1->
£cÚd
));

75 
m­
<,>::
™”©Ü
 
™1
=
d2
->
©omCouÁ”
.
	`begš
();™1!=d2->©omCouÁ”.
	`’d
();it1++)

77 
m­
<,>::
™”©Ü
 
tmp
 = 
©omCouÁ”
.
	`fšd
(
™1
->
fœ¡
);

78 if(
tmp
!=
©omCouÁ”
.
	`’d
())

80 
tmp
->
£cÚd
 = 
™1
->second+tmp->second;

83 
©omCouÁ”
.
	`š£¹
(
·œ
<,>(
™1
->
fœ¡
,™1->
£cÚd
));

85 
m­
<,>::
™”©Ü
 
™1
=
d1
->
nÜm_´ediÿ‹_pos™iÚs
.
	`begš
();™1!=d1->nÜm_´ediÿ‹_pos™iÚs.
	`’d
();it1++)

87 
nÜm_´ediÿ‹_pos™iÚs
.
	`š£¹
(
·œ
<,>(
™1
->
fœ¡
,™1->
£cÚd
));

89 
m­
<,>::
™”©Ü
 
™1
=
d2
->
nÜm_´ediÿ‹_pos™iÚs
.
	`begš
();™1!=d2->nÜm_´ediÿ‹_pos™iÚs.
	`’d
();it1++)

91 
nÜm_´ediÿ‹_pos™iÚs
.
	`š£¹
(
·œ
<,>(
™1
->
fœ¡
,™1->
£cÚd
));

94 
d1
->
d–‘iÚM¬k”
 = 
Œue
;

95 
d2
->
d–‘iÚM¬k”
 = 
Œue
;

96 
Decompo£r
* 
ÃwDecomp
 = 
Ãw
 
	`Decompo£r
(
decompo£rT”ms
,
´ediÿ‹_pos™iÚs
,
©omCouÁ”
,
nÜm_´ediÿ‹_pos™iÚs
);

97  
ÃwDecomp
;

98 
	}
}

101 
boŞ
 
	gLDecompo£r
::
­³nd_to_decompo£r
 (
veùÜ
<> 
©om_li¡
,veùÜ<
LvrT”m
*> 
‹rms
,veùÜ<veùÜ<> >
pos™iÚs
,

102 
veùÜ
<
Decompo£r
*>& 
decompo£r_li¡
,veùÜ<> 
nÜm_©om_li¡
)

104 
boŞ
 
	gunif›d
 = 
Œue
;

105 
	gveùÜ
<
	gDecompo£r
*> 
	gpÙ’tŸlDecompo£rs
;

107 
	gt1
=0;t1<
	gpos™iÚs
.
size
();t1++)

109 
	gveùÜ
<> 
	gpos™iÚ_li¡
 = 
pos™iÚs
[
t1
];

110 
LvrT”m
* 
	g‹rm
=
‹rms
[
t1
];

111 
	gpÙ’tŸlDecompo£rs
.
push_back
(
ü—‹_Ãw_decompo£r
(
‹rm
,
©om_li¡
,
pos™iÚ_li¡
,
nÜm_©om_li¡
));

113 if(
	gdecompo£r_li¡
.
size
()==0)

116 
decompo£r_li¡
 = 
pÙ’tŸlDecompo£rs
;

117  
	gunif›d
;

121 
	gveùÜ
<
	gDecompo£r
*> 
	gdecompo£r_add
;

122 
	gnÚUnif›dT”mCouÁ
 = 0;

123 
	gi
=0;i<
	gpÙ’tŸlDecompo£rs
.
size
();i++)

125 
	gnÙFoundCouÁ
=0;

126 
	gveùÜ
<> 
	gunif›dIndex
;

127 
	gnumNÚUnify
 = 0;

128 
	gj
=0;j<
	gdecompo£r_li¡
.
size
();j++)

131 
	g¡©us
 = 
unify
(
pÙ’tŸlDecompo£rs
[
i
],
decompo£r_li¡
[
j
]);

132 if(
	g¡©us
==0)

134 
numNÚUnify
++;

135 
	gdecompo£r_li¡
[
j
]->
	gd–‘iÚM¬k”
 = 
Œue
;

137 if(
	g¡©us
 == 1)

140 
unif›dIndex
.
push_back
(
j
);

143 
	gnÙFoundCouÁ
++;

145 if(
	gnumNÚUnify
 =ğ
decompo£r_li¡
.
size
())

148 
nÚUnif›dT”mCouÁ
++;

150 if(
	gnÙFoundCouÁ
 =ğ
decompo£r_li¡
.
size
())

153 
decompo£r_add
.
push_back
(
pÙ’tŸlDecompo£rs
[
i
]);

155 if(
	gunif›dIndex
.
size
() > 0)

158 
Decompo£r
* 
	g‹mpD
 = 
pÙ’tŸlDecompo£rs
[
i
];

159 
	gk
=0;k<
	gunif›dIndex
.
size
();k++)

161 
Decompo£r
* 
	gÃwD
 = 
m”ge
(
‹mpD
,
decompo£r_li¡
[
unif›dIndex
[
k
]]);

162 
	g‹mpD
 = 
ÃwD
;

165 
	gdecompo£r_add
.
push_back
(
‹mpD
);

169 if(
	gnÚUnif›dT”mCouÁ
 =ğ
pÙ’tŸlDecompo£rs
.
size
())

172 
unif›d
 = 
çl£
;

175 
	gi
=0;i<
	gdecompo£r_add
.
size
();i++)

177 
	gdecompo£r_li¡
.
push_back
(
decompo£r_add
[
i
]);

180 
	gi
=0;i<
	gdecompo£r_li¡
.
size
();i++)

182 if(
	gdecompo£r_li¡
.
size
() == 0)

184 if(
	gdecompo£r_li¡
[
i
]->
	gd–‘iÚM¬k”
)

186 
»moveI‹m
(
decompo£r_li¡
,
i
);

187 
	gi
--;

190  
	gunif›d
;

194 
	gLDecompo£r
::
»moveRowsFromDecompo£r
(
WCÏu£
* 
şau£
, 
veùÜ
<
Decompo£r
*>& 
decompo£r_li¡
)

197 
	gveùÜ
<> 
	growsToD–‘e
;

198 
	gj
=0;j<
	gşau£
->
	g©oms
.
size
();j++)

200 
	gk
=0;k<
	gdecompo£r_li¡
.
size
();k++)

202 if(
	gdecompo£r_li¡
[
k
]->
	g´ediÿ‹_pos™iÚs
.
couÁ
(
şau£
->
©oms
[
j
]->
symbŞ
->
id
)> 0)

205 
	growsToD–‘e
.
push_back
(
k
);

209 
	g»movedRows
=0;

210 
	gk
=0;k<
	growsToD–‘e
.
size
();k++)

212 if(
	gdecompo£r_li¡
.
em±y
())

214 
	gupd©edRow
=
rowsToD–‘e
[
k
]-
»movedRows
-1;

215 if(
	gupd©edRow
<0)

216 
	gupd©edRow
=0;

217 if(
	gupd©edRow
>
	gdecompo£r_li¡
.
size
()-1)

218 
	gupd©edRow
=
decompo£r_li¡
.
size
()-1;

219 
»moveI‹m
(
decompo£r_li¡
,
upd©edRow
);

220 
	g»movedRows
++;

225 
	gLDecompo£r
::
fšd_decompo£r
(
veùÜ
<
WCÏu£
*>& 
CNF
,veùÜ<
Decompo£r
*>& 
decompo£r_li¡
)

228 
	g£t
<> 
	gnÚUnif›dLi¡
;

230 
	gm­
<,>::
™”©Ü
 
™
;

232 
	gm­
<,> 
	g´ediÿ‹CouÁ”
;

233 
	gi
=0;i<
	gCNF
.
size
();i++)

235 if(
	gCNF
[
i
]->
	g©oms
.
size
()==0)

237 if(
	gCNF
[
i
]->
isPrİos™iÚ®
())

239 
	gveùÜ
<
	gLvrT”m
*> 
	g‹rms
;

240 
	gveùÜ
<veùÜ<> > 
	gpos™iÚs
;

241 
	gveùÜ
<> 
	g©om_li¡
;

242 
	gveùÜ
<> 
	gnÜm_©om_li¡
;

244 
	g£t
<> 
	gcom¶‘edAtoms
;

245 
	gk
=0;k<
	gCNF
[
i
]->
	g©oms
.
size
();k++)

247 
	gid
 = 
CNF
[
i
]->
©oms
[
k
]->
symbŞ
->
id
;

248 
	g©om_li¡
.
push_back
(
id
);

249 
	gnÜm_©om_li¡
.
push_back
(
CNF
[
i
]->
©oms
[
k
]->
symbŞ
->
nÜmP¬’tId
);

250 if(
	gcom¶‘edAtoms
.
couÁ
(
id
)==0)

252 
com¶‘edAtoms
.
š£¹
(
id
);

253 
	g´ediÿ‹CouÁ”
[
id
]++;

258 
boŞ
 
	gnÚunif›d
 = 
çl£
;

259 
	gk
=0;k<
	g©om_li¡
.
size
();k++)

261 if(
	gnÚUnif›dLi¡
.
couÁ
(
©om_li¡
[
k
]) != 0)

263 
nÚunif›d
 = 
Œue
;

267 if(!
	gnÚunif›d
)

268 
	gCNF
[
i
]->
fšd_decompo£r
(
‹rms
,
pos™iÚs
);

269 if(
	g‹rms
.
size
()==0)

271 
»moveRowsFromDecompo£r
(
CNF
[
i
],
decompo£r_li¡
);

273 
	gk
=0;k<
	g©om_li¡
.
size
();k++)

274 
	gnÚUnif›dLi¡
.
š£¹
(
©om_li¡
[
k
]);

277 
boŞ
 
	gunif›d
 = 
­³nd_to_decompo£r
(
©om_li¡
,
‹rms
,
pos™iÚs
,
decompo£r_li¡
,
nÜm_©om_li¡
);

278 if(!
	gunif›d
)

280 
»moveRowsFromDecompo£r
(
CNF
[
i
],
decompo£r_li¡
);

282 
	gk
=0;k<
	g©om_li¡
.
size
();k++)

283 
	gnÚUnif›dLi¡
.
š£¹
(
©om_li¡
[
k
]);

285 #ifdeà
__DEBUG_PRINT2__


286 
	gx
=0;x<
	gdecompo£r_li¡
.
size
();x++)

288 
	gcout
<<"[";

289 
	gy
=0;y<
	gdecompo£r_li¡
[
x
]->
	gdecompo£r_‹rms
.
size
();y++)

290 
	gcout
<<
	gdecompo£r_li¡
[
x
]->
	gdecompo£r_‹rms
[
y
]<<" ";

291 
	gcout
<<"]"<<
	g’dl
;

292 
	gcout
<<"{";

293 
	gm­
<,>::
™”©Ü
 
™1
=
decompo£r_li¡
[
x
]->
´ediÿ‹_pos™iÚs
.
begš
();
	g™1
!=decompo£r_li¡[x]->´ediÿ‹_pos™iÚs.
’d
();it1++)

295 
	gcout
<<
	g™1
->
	gfœ¡
<<"::"<<™1->
	g£cÚd
<<",";

297 
	gcout
<<"}"<<
	g’dl
;

298 
	gcout
<<"(";

299 
	gm­
<,>::
™”©Ü
 
™1
=
decompo£r_li¡
[
x
]->
©omCouÁ”
.
begš
();
	g™1
!=decompo£r_li¡[x]->©omCouÁ”.
’d
();it1++)

301 
	gcout
<<
	g™1
->
	gfœ¡
<<"::"<<™1->
	g£cÚd
<<",";

303 
	gcout
<<")"<<
	g’dl
;

305 
	gcout
<<"--------------------------------"<<
	g’dl
;

310 
	gx
=0;x<
	gdecompo£r_li¡
.
size
();x++)

312 if(
	gdecompo£r_li¡
.
size
()==0)

314 
boŞ
 
	gisDecompo£r
 = 
Œue
;

315 
	gm­
<,>::
™”©Ü
 
™1
=
decompo£r_li¡
[
x
]->
©omCouÁ”
.
begš
();
	g™1
!=decompo£r_li¡[x]->©omCouÁ”.
’d
();it1++)

317 if(
	g´ediÿ‹CouÁ”
[
™1
->
fœ¡
]!=™1->
£cÚd
)

319 
isDecompo£r
 = 
çl£
;

323 if(!
	gisDecompo£r
)

325 
»moveI‹m
(
decompo£r_li¡
,
x
);

326 
	gx
--;

331 
boŞ
 
	gLDecompo£r
::
decompo£CNF
(
veùÜ
<
WCÏu£
*>& 
CNF
,& 
pow”FaùÜ
)

333 
	gveùÜ
<
	gDecompo£r
*> 
	gdecompo£r_li¡
;

334 
fšd_decompo£r
(
CNF
,
decompo£r_li¡
);

336 if(
	gdecompo£r_li¡
.
size
()==0)

337  
çl£
;

341 
	gpow”FaùÜ
 = 1;

342 
	gi
=0;i<
	gdecompo£r_li¡
.
size
();i++)

344 
	gpow”FaùÜ
*=
decompo£r_li¡
[
i
]->
decompo£r_‹rms
[0]->
domaš
.
size
();

345 
	gj
=0;j<
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
.
size
();j++)

348 
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
[
j
]->
	gdomaš
.
”a£
(
decompo£r_li¡
[i]->
decompo£r_‹rms
[j]->
domaš
.
begš
(),decompo£r_li¡[i]->decompo£r_‹rms[j]->domaš.begš()+decompo£r_li¡[i]->decompo£r_‹rms[j]->domaš.
size
()-1);

353 
ş—nup
(
decompo£r_li¡
);

354  
	gŒue
;

	@liftedinfer/common/src/fileutils.cpp

2 
	~<f¡»am
>

3 
	~<veùÜ
>

4 
usšg
 
Çme¥aû
 
	g¡d
;

5 
	~<as£¹.h
>

6 
	~"feuts.h
"

7 
LFeUts
* 
	gLFeUts
::
m_pIn¡ªû
 = 
NULL
;

9 
LFeUts
* 
	gLFeUts
::
	$In¡ªû
()

11 
	`as£¹
(
m_pIn¡ªû
!=
NULL
);

12  
m_pIn¡ªû
;

13 
	}
}

15 
	gLFeUts
::
	$ü—‹OutFeIn¡ªû
(
¡ršg
 
outf’ame
)

17 
m_pIn¡ªû
 = 
Ãw
 
	`LFeUts
(
outf’ame
);

18 
	}
}

20 
	gLFeUts
::
	$LFeUts
(
¡ršg
 
outf’ame_
):
	$outf’ame
(
outf’ame_
)

23 
	}
}

25 
LFeUts
::
upd©eFe
(
veùÜ
<
LogDoubË
> 
qu”yV®ues
,veùÜ<
¡ršg
> 
qu”ySŒšgs
)

27 
of¡»am
 
out
(
outf’ame
.
c_¡r
());

28 
as£¹
(
qu”ySŒšgs
.
size
(è=ğ
qu”yV®ues
.size());

29 
	gi
=0;i<
	gqu”yV®ues
.
size
();i++)

32 
	gout
<<
	gqu”ySŒšgs
[
i
].
c_¡r
()<<" ";

33 
boŞ
 
	gšlog¥aû
=
çl£
;

34 
	gv®
 = 
qu”yV®ues
[
i
].
g‘PršbËV®ue
(
šlog¥aû
);

35 if(
	gšlog¥aû
)

36 
	gout
<<
	gv®
<<"(Log space)";

38 
	gout
<<
	gv®
;

39 
	gout
<<
	g’dl
;

42 
	gout
.
şo£
();

45 
	gLFeUts
::
upd©eFe
(
veùÜ
<> 
qu”yV®ues
,veùÜ<
¡ršg
> 
qu”ySŒšgs
)

47 
of¡»am
 
out
(
outf’ame
.
c_¡r
());

48 
as£¹
(
qu”ySŒšgs
.
size
(è=ğ
qu”yV®ues
.size());

49 
	gi
=0;i<
	gqu”yV®ues
.
size
();i++)

52 
	gout
<<
	gqu”ySŒšgs
[
i
].
c_¡r
()<<" "<<
	gqu”yV®ues
[i]<<
	g’dl
;

55 
	gout
.
şo£
();

	@liftedinfer/common/src/heuristics.cpp

1 
	~"heuri¡ics.h
"

2 
	~"ş—nuputs.h
"

3 
	~"qu”yupd©”.h
"

5 
Atom
* 
	gLHeuri¡ics
::
g‘AtomToS¶™
(
veùÜ
<
WCÏu£
*> 
CNF
,
boŞ
 
±³xaùm¬
)

8 
Atom
* 
	gmšDomašSšgËtÚ
 = 
NULL
;

9 
	gmšNumDomašsST
 = 100000;

10 
Atom
* 
	gmšDomašNÚSšgËtÚ
 = 
NULL
;

11 
	gmšNumDomašsNST
 = 100000;

12 
Atom
* 
	gmšDomašUCAtom
 = 
NULL
;

13 
	gmšNumDomašsUCAtom
 = 100000;

14 
	gmaxDeg»eSšgËtÚ
 = 0;

15 
	gmaxDeg»eNST
 = 0;

16 
	gmaxDeg»eUC
 = 0;

17 
	gmaxDeg»eCÚ¡ªt
 = 0;

18 
Atom
* 
	g©omMaxDeg»e_S
 = 
NULL
;

19 
Atom
* 
	g©omMaxDeg»e_NS
 = 
NULL
;

20 
Atom
* 
	g©omMaxDeg»e_UC
 = 
NULL
;

21 
Atom
* 
	g©omMaxDeg»e_CÚ¡
 = 
NULL
;

23 
	gm­
<,> 
	gdeg»e
;

24 
	gi
=0;i<
	gCNF
.
size
();i++)

26 
boŞ
 
	gcheckfÜ§tşau£
=
çl£
;

27 if(
	g±³xaùm¬
)

29 if(
	gCNF
[
i
]->
	g§tisf›d
)

31 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

33 
jj
=0;
	gjj
<
	gCNF
[
i
]->
	g©oms
.
size
();jj++)

35 if(
	gLvrQu”yUpd©”
::
In¡ªû
()->
isNÜmIdInQu”y
(
CNF
[
i
]->
©oms
[
jj
]->
symbŞ
->
nÜmP¬’tId
))

37 
checkfÜ§tşau£
=
Œue
;

45 if(!
	gCNF
[
i
]->
	g§tisf›d
 || 
	gcheckfÜ§tşau£
)

48 
	gj
=0;j<
	gCNF
[
i
]->
	g©oms
.
size
();j++)

50 
	gm­
<,>::
™”©Ü
 
™
 = 
deg»e
.
fšd
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

51 if(
	g™
!=
deg»e
.
’d
())

54 
™
->
£cÚd
++;

59 
	gdeg»e
.
š£¹
(
·œ
<,>(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
,1));

64 
	gi
=0;i<
	gCNF
.
size
();i++)

67 
boŞ
 
	gcheckfÜ§tşau£
=
çl£
;

68 if(
	g±³xaùm¬
)

70 if(
	gCNF
[
i
]->
	g§tisf›d
)

72 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

74 
jj
=0;
	gjj
<
	gCNF
[
i
]->
	g©oms
.
size
();jj++)

76 if(
	gLvrQu”yUpd©”
::
In¡ªû
()->
isNÜmIdInQu”y
(
CNF
[
i
]->
©oms
[
jj
]->
symbŞ
->
nÜmP¬’tId
))

78 
checkfÜ§tşau£
=
Œue
;

87 if(
	gCNF
[
i
]->
	g§tisf›d
 && !
	gcheckfÜ§tşau£
)

90 
	gk
=0;k<
	gCNF
[
i
]->
	g©oms
.
size
();k++)

93 
	gšdex
;

94 
	g©omDeg
 = 0;

95 
	gm­
<,>::
™”©Ü
 
™
 = 
deg»e
.
fšd
(
CNF
[
i
]->
©oms
[
k
]->
symbŞ
->
id
);

96 if(
	g™
!=
deg»e
.
’d
())

98 
©omDeg
 = 
™
->
£cÚd
;

100 if(
	gCNF
[
i
]->
	g©oms
[
k
]->
isSšgËtÚAtom
(
šdex
))

103 if(
	gCNF
[
i
]->
	g©oms
[
k
]->
	g‹rms
[
šdex
]->
	gdomaš
.
size
(è< 
	gmšNumDomašsST
)

105 
	gmšDomašSšgËtÚ
=
CNF
[
i
]->
©oms
[
k
];

106 
	gmšNumDomašsST
=
CNF
[
i
]->
©oms
[
k
]->
‹rms
[
šdex
]->
domaš
.
size
();

108 if(
	g©omDeg
 > 
	gmaxDeg»eSšgËtÚ
)

110 
	gmaxDeg»eSšgËtÚ
 = 
©omDeg
;

111 
	g©omMaxDeg»e_S
 = 
CNF
[
i
]->
©oms
[
k
];

114 if(
	gCNF
[
i
]->
	g©oms
[
k
]->
	g‹rms
.
size
()>1)

116 
	gtÙ®Size
=1;

117 
	gm
=0;m<
	gCNF
[
i
]->
	g©oms
[
k
]->
	g‹rms
.
size
();m++)

119 
	gtÙ®Size
*=
CNF
[
i
]->
©oms
[
k
]->
‹rms
[
m
]->
domaš
.
size
();

121 if(
	gtÙ®Size
 < 
	gmšNumDomašsNST
 )

123 
	gmšDomašNÚSšgËtÚ
=
CNF
[
i
]->
©oms
[
k
];

124 
	gmšNumDomašsNST
=
tÙ®Size
;

126 if(
	g©omDeg
 > 
	gmaxDeg»eNST
)

128 
	gmaxDeg»eNST
ğ
©omDeg
;

129 
	g©omMaxDeg»e_NS
 = 
CNF
[
i
]->
©oms
[
k
];

132 if(
	gCNF
[
i
]->
	g©oms
.
size
()==1)

135 if(
tÙ®Size
 < 
mšNumDomašsUCAtom
)

137 
mšNumDomašsUCAtom
 = 
tÙ®Size
;

138 
	gmšDomašUCAtom
 = 
CNF
[
i
]->
©oms
[
k
];

141 if(
	g©omDeg
 > 
	gmaxDeg»eUC
)

143 
	gmaxDeg»eUC
ğ
©omDeg
;

144 
	g©omMaxDeg»e_UC
 = 
CNF
[
i
]->
©oms
[
k
];

149 if(
	gCNF
[
i
]->
	g©oms
[
k
]->
isCÚ¡ªt
())

151 if(
	g©omDeg
 > 
	gmaxDeg»eCÚ¡ªt
)

153 
	gmaxDeg»eCÚ¡ªt
ğ
©omDeg
;

154 
	g©omMaxDeg»e_CÚ¡
 = 
CNF
[
i
]->
©oms
[
k
];

160 if(
	g©omMaxDeg»e_CÚ¡
)

161  
	g©omMaxDeg»e_CÚ¡
;

162 if(
	gmšDomašSšgËtÚ
)

163  
	gmšDomašSšgËtÚ
;

172  
	gmšDomašNÚSšgËtÚ
;

177 
Atom
* 
	gLHeuri¡ics
::
decompos™iÚ_lookah—d
(
veùÜ
<
WCÏu£
*> 
şau£s
)

179 
maxSize
 = 0;

180 
Atom
* 
	g©om
 = 
NULL
;

181 
	gm­
<,
	gAtom
*> 
	g´ediÿ‹s
;

183 
	gi
=0;i<
	gşau£s
.
size
();i++)

185 
	gj
=0;j<
	gşau£s
[
i
]->
	g©oms
.
size
();j++)

187 if(!
	gşau£s
[
i
]->
	g©oms
[
j
]->
isCÚ¡ªt
(è&& cÏu£s[i]->©oms[j]->
	gsymbŞ
->symbŞ.
fšd
(
NEWPREDICATEPREFIX
)==
¡ršg
::
Åos
)

188 
´ediÿ‹s
.
š£¹
(
·œ
<,
Atom
*>(
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
,clauses[i]->atoms[j]));

192 
	gm­
<,
	gAtom
*>::
™”©Ü
 
™
=
´ediÿ‹s
.
begš
();
	g™
!õ»diÿ‹s.
’d
();it++)

195 
	gveùÜ
<
	gWCÏu£
*> 
	gCNF
;

196 
	gLvrMLN
::
cİyAÎCÏu£s
(
şau£s
,
CNF
);

197 
	gi
=0;i<
	gCNF
.
size
();i++)

199 
	gj
=0;j<
	gCNF
[
i
]->
	g©oms
.
size
();j++)

201 if(
	gCNF
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	gid
==
™
->
fœ¡
)

204 
k
=0;
	gk
<
	gCNF
[
i
]->
	g©oms
[
j
]->
	g‹rms
.
size
();k++)

207 
	gCNF
[
i
]->
	g©oms
[
j
]->
	g‹rms
[
k
]->
	gdomaš
.
ş—r
();

208 
	gCNF
[
i
]->
	g©oms
[
j
]->
	g‹rms
[
k
]->
	gdomaš
.
push_back
(-1);

211 
	gCNF
[
i
]->
»moveAtom
(
j
);

212 
	gj
--;

217 
	gveùÜ
<veùÜ<
	gWCÏu£
*> > 
	gdecompo£dLi¡
;

218 
	gveùÜ
<
	gDecompo£r
*> 
	gdecomp
;

219 
	gdecompo£r
.
fšd_decompo£r
(
CNF
,
decomp
);

220 if(
	gdecomp
.
size
(è> 
	gmaxSize
)

222 
	gmaxSize
 = 
decomp
.
size
();

223 
	g©om
 = 
™
->
£cÚd
;

225 
ş—nup
(
CNF
);

227  
	g©om
;

231 
Atom
* 
	gLHeuri¡ics
::
g‘AtomToS¶™H2
(
veùÜ
<
WCÏu£
*> 
CNF
)

233 
Atom
* 
mšDomSšgËtÚ
 = 
NULL
;

234 
	gmšDomSšgËtÚSize
 = 
RAND_MAX
;

235 
Atom
* 
	gcÚ¡ªt
 = 
NULL
;

236 
Atom
* 
	gmšDomNÚSšgËtÚ
 = 
NULL
;

237 
	gmšDomNÚSšgËtÚSize
 = 
RAND_MAX
;

239 
	gi
=0;i<
	gCNF
.
size
();i++)

241 if(
	gCNF
[
i
]->
	g§tisf›d
)

243 
	gj
=0;j<
	gCNF
[
i
]->
	g©oms
.
size
();j++)

245 
	gsšgËtÚšd
;

246 if(
	gCNF
[
i
]->
	g©oms
[
j
]->
isSšgËtÚAtom
(
sšgËtÚšd
))

248 if(
	gCNF
[
i
]->
	g©oms
[
j
]->
g‘Numb”OfGroundšgs
(è< 
	gmšDomSšgËtÚSize
)

249 
	gmšDomSšgËtÚ
 = 
CNF
[
i
]->
©oms
[
j
];

251 if(
	gCNF
[
i
]->
	g©oms
[
j
]->
isCÚ¡ªt
())

253 
	gcÚ¡ªt
 = 
CNF
[
i
]->
©oms
[
j
];

257 if(
	gCNF
[
i
]->
	g©oms
[
j
]->
g‘Numb”OfGroundšgs
(è< 
	gmšDomNÚSšgËtÚSize
)

259 
	gmšDomNÚSšgËtÚ
 = 
CNF
[
i
]->
©oms
[
j
];

264 if(
	gmšDomSšgËtÚ
)

265  
	gmšDomSšgËtÚ
;

266 if(
	gcÚ¡ªt
)

267  
	gcÚ¡ªt
;

269  
	gmšDomNÚSšgËtÚ
;

272 
	gLHeuri¡ics
::
´İo§lCou¶šgScÜe
(
veùÜ
<
WCÏu£
*> 
ÜigCÏu£s
,
Atom
* 
a1
, Atom* 
a2
)

274 
	gtÙ®ScÜe
 = 0;

275 
	gi
=0;i<
	gÜigCÏu£s
.
size
();i++)

278 
	ga1Ind
=-1;

279 
	ga2Ind
=-1;

280 
	gj
=0;j<
	gÜigCÏu£s
[
i
]->
	g©oms
.
size
();j++)

282 if(
	gÜigCÏu£s
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	g·»ÁId
 =ğ
a1
->
symbŞ
->
·»ÁId
)

283 
a1Ind
 = 
j
;

284 if(
	gÜigCÏu£s
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	g·»ÁId
 =ğ
a2
->
symbŞ
->
·»ÁId
)

285 
a2Ind
 = 
j
;

287 if(
	ga1Ind
==-1 || 
a2Ind
 ==-1)

290 
WCÏu£
* 
	gtmpCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
ÜigCÏu£s
[
i
]);

292 
	gj
=0;j<
	ga1
->
	g‹rms
.
size
();j++)

294 if(
	ga1
->
	g‹rms
[
j
]->
	gdomaš
.
size
(è!ğ
tmpCÏu£
->
©oms
[
a1Ind
]->
‹rms
[j]->
domaš
.size())

296 
tmpCÏu£
->
©oms
[
a1Ind
]->
‹rms
[
j
]->
domaš
.
ş—r
();

297 
	gk
=0;k<
	ga1
->
	g‹rms
[
j
]->
	gdomaš
.
size
();k++)

298 
	gtmpCÏu£
->
	g©oms
[
a1Ind
]->
	g‹rms
[
j
]->
	gdomaš
.
push_back
(
a1
->
‹rms
[j]->
domaš
[
k
]);

302 
boŞ
 
	gmism©ch
 = 
çl£
;

304 
	gj
=0;j<
	ga2
->
	g‹rms
.
size
();j++)

306 if(
	gtmpCÏu£
->
	g©oms
[
a2Ind
]->
	g‹rms
[
j
]->
	gdomaš
.
size
() == 1)

308 if(
a2
->
‹rms
[
j
]->
domaš
[0]!=
tmpCÏu£
->
©oms
[
a2Ind
]->terms[j]->domain[0])

310 
mism©ch
 = 
Œue
;

318 if(!
šşudes
(
tmpCÏu£
->
©oms
[
a2Ind
]->
‹rms
[
j
]->
domaš
.
begš
(),tmpCÏu£->©oms[a2Ind]->‹rms[j]->domaš.
’d
(),

319 
a2
->
‹rms
[
j
]->
domaš
.
begš
(),a2->‹rms[j]->domaš.
’d
()))

321 
	gmism©ch
=
Œue
;

324 
	gtmpCÏu£
->
	g©oms
[
a2Ind
]->
	g‹rms
[
j
]->
	gdomaš
.
ş—r
();

325 
	gk
=0;k<
	ga2
->
	g‹rms
[
j
]->
	gdomaš
.
size
();k++)

326 
	gtmpCÏu£
->
	g©oms
[
a2Ind
]->
	g‹rms
[
j
]->
	gdomaš
.
push_back
(
a2
->
‹rms
[j]->
domaš
[
k
]);

329 if(
	gmism©ch
)

331 
	gtÙ®ScÜe
 +ğ
a1
->
g‘Numb”OfGroundšgs
()*
a2
->getNumberOfGroundings();

332 
d–‘e
 
	gtmpCÏu£
;

334  
	gtÙ®ScÜe
;

	@liftedinfer/common/src/logdouble.cpp

10 
	~"logdoubË.h
"

13 
	gLogDoubË
::
	$LogDoubË
() :

14 
	`v®ue
(0.0), 
	$is_z”o
(
Œue
) {

15 
	}
}

17 
	gLogDoubË
::
	$LogDoubË
(cÚ¡ 
d
, 
boŞ
 
log¥aû
) {

18 ià(
log¥aû
) {

19 
v®ue
 = 
d
;

20 
is_z”o
 = 
çl£
;

22 ià(
d
 <= 0) {

23 
v®ue
 = 0.0;

24 
is_z”o
 = 
Œue
;

26 
v®ue
 = 
	`log
(
d
);

27 
is_z”o
 = 
çl£
;

30 
	}
}

32 
	gLogDoubË
::
	$LogDoubË
(cÚ¡ 
LogDoubË
& 
dub
) :

33 
	`v®ue
(
dub
.
v®ue
), 
	$is_z”o
(
dub
.
is_z”o
) {

34 
	}
}

36 
	gLogDoubË
& LogDoubË::
İ”©Ü
=(cÚ¡ 
LogDoubË
& 
Ùh”
) {

37 
v®ue
 = 
Ùh”
.value;

38 
	gis_z”o
 = 
Ùh”
.
is_z”o
;

39  *
	gthis
;

42 
	gLogDoubË
::
	$£tV®ue
(
v®
) {

43 
v®ue
 = 
v®
;

44 if(
v®
!=0)

45 
is_z”o
 = 
çl£
;

46 
	}
}

48 
LogDoubË
 
	gLogDoubË
::
İ”©Ü
+(cÚ¡ LogDoubË& 
Ùh”
) const {

49 
LogDoubË
 
out
(
Ùh”
);

50 ià(
	gis_z”o
){

51  
	gout
;

53 ià(
	gout
.
	gis_z”o
){

54 
	gout
=*
this
;

55  
	gout
;

57 ià(
	gv®ue
 > 
	gout
.value) {

58 
	gout
.
	gv®ue
 = 
log
(1 + 
exp
(
out
.
v®ue
 - value)) + value;

60 
	gout
.
	gv®ue
 +ğ
log
(1 + 
exp
(
v®ue
 - 
out
.value));

62  
	gout
;

64 
	gLogDoubË
& LogDoubË::
İ”©Ü
+=(cÚ¡ 
LogDoubË
& 
Ùh”
) {

65 ià(
is_z”o
) {

66 *
this
 = 
Ùh”
;

67  *
	gthis
;

69 ià(
	gÙh”
.
	gis_z”o
)

70  *
	gthis
;

71 ià(
	gv®ue
 > 
	gÙh”
.value) {

72 
	gv®ue
 +ğ
log
(1 + 
exp
(
Ùh”
.
v®ue
 - value));

74 
	gv®ue
 = 
log
(1 + 
exp
(
v®ue
 - 
Ùh”
.value)) + other.value;

76  *
	gthis
;

78 
LogDoubË
 
	gLogDoubË
::
İ”©Ü
*(cÚ¡ LogDoubË& 
Ùh”
) const {

79 ià(
is_z”o
 || 
Ùh”
.is_zero)

81  
LogDoubË
();

83 
LogDoubË
 
out
(
Ùh”
);

84 
	gout
.
	gv®ue
 +ğ
v®ue
;

85  
	gout
;

87 
	gLogDoubË
& LogDoubË::
İ”©Ü
*=(cÚ¡ 
LogDoubË
& 
Ùh”
) {

88 ià(
is_z”o
 || 
Ùh”
.is_zero){

89 
v®ue
=0.0;

90 
	gis_z”o
=
Œue
;

91  *
	gthis
;

93 
	gv®ue
 +ğ
Ùh”
.
v®ue
;

94  *
	gthis
;

96 
boŞ
 
	gLogDoubË
::
İ”©Ü
 <(cÚ¡ 
LogDoubË
& 
Ùh”
) const {

97 ià(
Ùh”
.
is_z”o
)

98  
çl£
;

99 ià(
	gis_z”o
)

100  
	gŒue
;

101  
	gv®ue
 < 
	gÙh”
.value;

103 
boŞ
 
	gLogDoubË
::
İ”©Ü
 >(cÚ¡ 
LogDoubË
& 
Ùh”
) const {

104 ià(
Ùh”
.
is_z”o
)

105  
Œue
;

106 ià(
	gis_z”o
)

107  
	gçl£
;

108  
	gv®ue
 > 
	gÙh”
.value;

110 
LogDoubË
 
	gLogDoubË
::
İ”©Ü
/(cÚ¡ LogDoubË& 
Ùh”
) const {

111 ià(
is_z”o
 || 
Ùh”
.is_zero)

113  
LogDoubË
();

115 
LogDoubË
 
out
(
v®ue
);

116 
	gout
.
	gv®ue
 -ğ
Ùh”
.
v®ue
;

117  
	gout
;

120 
	gLogDoubË
::
	$LDPow”
(
LogDoubË
 
š
,
n
,LogDoubË& 
out
) {

121 ià(
n
==0)

125 if(
š
.
is_z”o
)

127 
out
.
is_z”o
 = 
Œue
;

130 
out
=
	`LogDoubË
(
š
.
v®ue
*
n
);

135 
	}
}

138 
LogDoubË
 
	gLogDoubË
::
	$FaùÜŸl
(
n
)

140 if(
n
==0)

141  
	`LogDoubË
(1.0,
çl£
);

142 
LogDoubË
 
	`çù
(
n
,
çl£
);

143 
i
=
n
-1;i>1;i--)

145 
LogDoubË
 
	`t
 (
i
,
çl£
);

146 
çù
*=
t
;

148  
çù
;

149 
	}
}

151 
LogDoubË
 
	gLogDoubË
::
	$BšomŸl
(
n
,
r
)

154 
LogDoubË
 
çùÜŸl
 = 
	`FaùÜŸl
(
n
)/(FaùÜŸlÒ-
r
)*Factorial(r));

155  
çùÜŸl
;

156 
	}
}

	@liftedinfer/common/src/lvrmln.cpp

1 
	~"lvrmÊ.h
"

2 
	~"ş—nuputs.h
"

3 
	~"nÜm®iz”.h
"

4 
	~"hash®gÜ™hm.h
"

7 
	~<s¡»am
>

8 
usšg
 
Çme¥aû
 
	g¡d
;

12 
	gAtom
::
	$´št
(
boŞ
 
v”bo£
)

14 if(
v”bo£
)

16 
cout
<<
symbŞ
->symbŞ.
	`c_¡r
()<<"["<< symbŞ->
id
<<","<<symbŞ->
·»ÁId
<<"{"<<symbŞ->
pweight
<<","<<symbŞ->
nweight
<<"}]"<<" (";

17 
j
=0;j<
‹rms
.
	`size
();j++){

18 if(()
‹rms
[
j
]->
domaš
.
	`size
()==1){

19 
cout
<<
‹rms
[
j
]->
domaš
[0];

22 
cout
<<
‹rms
[
j
]<<"[ #"<<‹rms[j]->
domaš
.
	`size
()<<" ]";

24 if(
j
!=
‹rms
.
	`size
()-1)

25 
cout
<<",";

27 
cout
<<")";

31 
cout
<<
symbŞ
->symbŞ.
	`c_¡r
()<<symbŞ->
id
<<"(";

32 
j
=0;j<
‹rms
.
	`size
();j++){

33 if(()
‹rms
[
j
]->
domaš
.
	`size
()==1){

34 
cout
<<
‹rms
[
j
]->
domaš
[0];

37 
cout
<<
‹rms
[
j
]<<"#"<<‹rms[j]->
domaš
.
	`size
();

44 if(
j
!=
‹rms
.
	`size
()-1)

45 
cout
<<",";

47 
cout
<<")";

51 
	}
}

54 
boŞ
 
	gAtom
::
	$isCÚ¡ªt
()

56 
boŞ
 
cÚ¡ªtDomaš
 = 
Œue
;

57 
i
=0;i<
‹rms
.
	`size
();i++)

59 if(
‹rms
[
i
]->
domaš
.
	`size
() > 1)

61 
cÚ¡ªtDomaš
 = 
çl£
;

65  
cÚ¡ªtDomaš
;

66 
	}
}

68 
boŞ
 
	gAtom
::
	$isSšgËtÚAtom
(& 
v¬ŸbËIndex
)

78 
v¬ŸbËIndex
 = -1;

79 
numV¬ŸbËs
 = 0;

80 
i
=0;i<
‹rms
.
	`size
();i++)

82 if(
‹rms
[
i
]->
domaš
.
	`size
() > 1)

85 
numV¬ŸbËs
++;

86 if(
numV¬ŸbËs
 > 1)

89 if(
v¬ŸbËIndex
 == -1)

90 
v¬ŸbËIndex
 = 
i
;

94 if(
numV¬ŸbËs
 == 1)

95  
Œue
;

97  
çl£
;

98 
	}
}

100 
	gAtom
::
	$g‘Numb”OfGroundšgs
()

102 
numb”OfGroundšgs
=1;

103 
i
=0;i<
‹rms
.
	`size
();i++)

105 
numb”OfGroundšgs
 *ğ
‹rms
[
i
]->
domaš
.
	`size
();

107  
numb”OfGroundšgs
;

108 
	}
}

111 
	gWCÏu£
::
fšdS–fJošs
(
m­
<,
veùÜ
<> >& 
£lfJošedAtoms
)

113 
	gi
=0;i<
	g©oms
.
size
();i++)

115 
	gid
 = 
©oms
[
i
]->
symbŞ
->
id
;

116 if(
	g£lfJošedAtoms
.
fšd
(
id
è=ğ
£lfJošedAtoms
.
’d
())

118 
veùÜ
<> 
‹mpPos
;

119 
	g‹mpPos
.
push_back
(
i
);

120 
	gj
=
i
+1;j<
	g©oms
.
size
();j++)

122 if(
	g©oms
[
i
]->
	gsymbŞ
->
	gid
 =ğ
©oms
[
j
]->
symbŞ
->
id
)

125 
‹mpPos
.
push_back
(
j
);

128 if(
	g‹mpPos
.
size
()>1)

131 
	g£lfJošedAtoms
.
š£¹
(
·œ
<,
veùÜ
<> >(
id
,
‹mpPos
));

137 
	gWCÏu£
::
fšd_decompo£r
(
veùÜ
<
LvrT”m
*>& 
‹rms
, veùÜ<veùÜ<> >& 
pos™iÚs
)

139 
	gm­
<,
	gveùÜ
<> > 
	g£lfJošedAtoms
;

140 
fšdS–fJošs
(
£lfJošedAtoms
);

141 
	g£t
<
	gLvrT”m
*> 
	gşau£_‹rms
;

143 
	gi
=0;i<
	g©oms
.
size
();i++){

145 if(
	g©oms
[
i
]->
isCÚ¡ªt
())

147 
	gj
=0;j<
	g©oms
[
i
]->
	g‹rms
.
size
();j++){

148 
	gşau£_‹rms
.
š£¹
(
©oms
[
i
]->
‹rms
[
j
]);

152 
	gveùÜ
<veùÜ<> > 
şau£_pos™iÚs
(
şau£_‹rms
.
size
());

153 
	gi
=0;i<
	g©oms
.
size
();i++){

154 if(
	g©oms
[
i
]->
isCÚ¡ªt
())

156 
	gj
=0;j<
	g©oms
[
i
]->
	g‹rms
.
size
();j++){

157 
	gk
=
di¡ªû
(
şau£_‹rms
.
begš
(),şau£_‹rms.
fšd
(
©oms
[
i
]->
‹rms
[
j
]));

158 
	gşau£_pos™iÚs
[
k
].
push_back
(
j
);

161 
	gk
=0;

162 
	g£t
<
	gLvrT”m
*>::
™”©Ü
 
i
=
şau£_‹rms
.
begš
();
	gi
!=şau£_‹rms.
’d
();i++){

164 if((*
	gi
)->
	gdomaš
.
size
() > 1)

167 ià(
	gşau£_pos™iÚs
[
k
].
size
()==
©oms
.size()){

169 
boŞ
 
unif›d
 = 
Œue
;

170 
	gm­
<,
	gveùÜ
<> >::
™”©Ü
 
™
 = 
£lfJošedAtoms
.
begš
();
	g™
!=£lfJošedAtoms.
’d
();it++)

174 
	gpos
 = 
şau£_pos™iÚs
[
k
].
©
(
™
->
£cÚd
[0]);

175 
	gm
=1;m<
	g™
->
	g£cÚd
.
size
();m++)

177 if(
	gşau£_pos™iÚs
[
k
].
©
(
m
)!=
pos
)

179 
unif›d
 = 
çl£
;

183 if(!
	gunif›d
)

186 if(
	gunif›d
)

188 
	g‹rms
.
push_back
(*
i
);

189 
	gpos™iÚs
.
push_back
(
şau£_pos™iÚs
[
k
]);

193 ++
	gk
;

199 
	gWCÏu£
::~
	$WCÏu£
()

202 
£t
<
LvrT”m
*> 
d–‘iÚRef
;

203 
i
=0;i<
©oms
.
	`size
();i++)

205 
j
=0;j<
©oms
[
i
]->
‹rms
.
	`size
();j++)

207 if(
d–‘iÚRef
.
	`couÁ
(
©oms
[
i
]->
‹rms
[
j
]) > 0)

209 
©oms
[
i
]->
‹rms
.
	`”a£
×toms[i]->‹rms.
	`begš
()+
j
);

210 
j
--;

214 
d–‘iÚRef
.
	`š£¹
(
©oms
[
i
]->
‹rms
[
j
]);

215 
	`»moveI‹m
(
©oms
[
i
]->
‹rms
,
j
);

216 
j
--;

221 
	`ş—nup
(
©oms
);

223 
sign
.
	`ş—r
();

224 
	}
}

226 
	gWCÏu£
::
	$g‘Numb”OfGroundedCÏu£s
()

228 
£t
<
LvrT”m
*> 
com¶‘edT”ms
;

229 
tÙ®Size
 = 1;

230 
j
=0;j<
©oms
.
	`size
();j++)

232 
k
=0;k<
©oms
[
j
]->
‹rms
.
	`size
();k++)

234 
com¶‘edT”ms
.
	`š£¹
(
©oms
[
j
]->
‹rms
[
k
]);

237 
£t
<
LvrT”m
*>::
™”©Ü
 
™
=
com¶‘edT”ms
.
	`begš
();™!=com¶‘edT”ms.
	`’d
();it++)

239 
tÙ®Size
 *ğ(*
™
)->
domaš
.
	`size
();

241  
tÙ®Size
;

242 
	}
}

244 
	gWCÏu£
::
	$»moveAtom
(
šdex
)

247 
i
=0;i<
©oms
[
šdex
]->
‹rms
.
	`size
();i++)

249 
boŞ
 
sh¬ed
 = 
çl£
;

250 
j
=0;j<
©oms
.
	`size
();j++)

252 if(
j
==
šdex
)

254 
k
=0;k<
©oms
[
j
]->
‹rms
.
	`size
();k++)

256 if(
©oms
[
šdex
]->
‹rms
[
i
] =ğ©oms[
j
]->‹rms[
k
])

258 
sh¬ed
 = 
Œue
;

262 if(
sh¬ed
)

265 if(!
sh¬ed
)

267 
	`»moveI‹m
(
©oms
[
šdex
]->
‹rms
,
i
);

268 
i
--;

271 
	`»moveI‹m
(
©oms
,
šdex
);

272 
sign
.
	`”a£
(sign.
	`begš
()+
šdex
);

273 
	}
}

275 
	gWCÏu£
::
	$»moveAtomW™hWeightUpd©iÚ
(
šdex
)

278 
i
=0;i<
©oms
[
šdex
]->
‹rms
.
	`size
();i++)

280 
boŞ
 
sh¬ed
 = 
çl£
;

281 
j
=0;j<
©oms
.
	`size
();j++)

283 if(
j
==
šdex
)

285 
k
=0;k<
©oms
[
j
]->
‹rms
.
	`size
();k++)

287 if(
©oms
[
šdex
]->
‹rms
[
i
] =ğ©oms[
j
]->‹rms[
k
])

289 
sh¬ed
 = 
Œue
;

293 if(
sh¬ed
)

296 if(!
sh¬ed
)

299 
weight
 = weight*
	`LogDoubË
(
©oms
[
šdex
]->
‹rms
[
i
]->
domaš
.
	`size
(),
çl£
);

300 
	`»moveI‹m
(
©oms
[
šdex
]->
‹rms
,
i
);

301 
i
--;

304 
	`»moveI‹m
(
©oms
,
šdex
);

305 
sign
.
	`”a£
(sign.
	`begš
()+
šdex
);

306 
	}
}

308 
boŞ
 
	gWCÏu£
::
	$isS–fJošedOnAtom
(
Atom
* 
©om
)

310 
couÁ
=0;

311 
i
=0;i<
©oms
.
	`size
();i++)

313 if(
©oms
[
i
]->
symbŞ
->
id
==
©om
->symbol->id)

314 
couÁ
++;

316 if(
couÁ
 > 1)

317  
Œue
;

319  
çl£
;

321 
	}
}

324 
	gAtom
::~
	$Atom
()

327 
d–‘e
 
symbŞ
;

328 
	}
}

330 
LvrT”m
* 
	gLvrMLN
::
	$ü—‹_Ãw_‹rm
(
LvrT”m
* 
‹rm
)

332 
ty³
 = 
‹rm
->type;

333 
veùÜ
<> 
domaš
;

334 
k
=0;k<
‹rm
->
domaš
.
	`size
();k++)

335 
domaš
.
	`push_back
(
‹rm
->domaš[
k
]);

336  
Ãw
 
	`LvrT”m
(
ty³
,
domaš
);

337 
	}
}

339 
Atom
* 
	gLvrMLN
::
	$ü—‹_Ãw_©om
(
Atom
* 
©om
)

341 
veùÜ
<
LvrT”m
*> 
‹rms
;

342 
i
=0;i<
©om
->
‹rms
.
	`size
();i++)

344 
LvrT”m
* 
ÃwT”m
 = 
	`ü—‹_Ãw_‹rm
(
©om
->
‹rms
[
i
]);

345 
ÃwT”m
->
ÜigDomašSize
 = 
©om
->
‹rms
[
i
]->origDomainSize;

346 
j
=0;j<
©om
->
‹rms
[
i
]->
ÜigDomaš
.
	`size
();j++)

347 
ÃwT”m
->
ÜigDomaš
.
	`push_back
(
©om
->
‹rms
[
i
]->ÜigDomaš[
j
]);

348 
‹rms
.
	`push_back
(
ÃwT”m
);

351 
Atom
* 
ÃwAtom
 = 
Ãw
 
	`Atom
(
	`ü—‹_Ãw_symbŞ
(
©om
->
symbŞ
),
‹rms
);

352  
ÃwAtom
;

354 
	}
}

356 
P»diÿ‹SymbŞ
* 
	gLvrMLN
::
	$ü—‹_Ãw_symbŞ
(
P»diÿ‹SymbŞ
* 
symbŞ
)

358 
veùÜ
<> 
v¬_ty³s
;

359 
i
=0;i<
symbŞ
->
v¬ŸbË_ty³s
.
	`size
();i++)

360 
v¬_ty³s
.
	`push_back
(
symbŞ
->
v¬ŸbË_ty³s
[
i
]);

361 
P»diÿ‹SymbŞ
* 
ÃwSymbŞ
 = 
Ãw
 
	`P»diÿ‹SymbŞ
(
symbŞ
->
id
,symbŞ->symbŞ,
v¬_ty³s
,

362 
symbŞ
->
pweight
,symbŞ->
nweight
,symbŞ->
nÜmP¬’tId
);

364 
ÃwSymbŞ
->
·»ÁId
 = 
symbŞ
->parentId;

365  
ÃwSymbŞ
;

366 
	}
}

368 
	gLvrMLN
::
cİyAÎCÏu£s
(
veùÜ
<
WCÏu£
*> 
ÜigCÏu£s
, veùÜ<WCÏu£*>& 
ÃwCÏu£s
)

370 
	gi
=0;i<
	gÜigCÏu£s
.
size
();i++)

372 
WCÏu£
* 
	gÃwCÏu£
 = 
ü—‹_Ãw_şau£
(
ÜigCÏu£s
[
i
]);

373 
	gÃwCÏu£s
.
push_back
(
ÃwCÏu£
);

377 
boŞ
 
	gWCÏu£
::
	$isPrİos™iÚ®
()

379 
i
=0;i<
©oms
.
	`size
();i++)

381 if(!
©oms
[
i
]->
	`isCÚ¡ªt
())

382  
çl£
;

384  
Œue
;

385 
	}
}

388 
	gLvrMLN
::~
	$LvrMLN
()

390 
	`ş—nup
(
symbŞs
);

391 
	`ş—nup
(
şau£s
);

393 
	`ş—nup
(
fÜmuÏs
);

394 
	}
}

396 
	gLvrMLN
::
	$´•roûssEvid’ûWMPTP
()

398 
LNÜm®iz”
 
	`Ê
(*
this
);

400 
Ê
.
	`nÜm®izeCÏu£s
(
şau£s
,
Œue
,true);

401 
veùÜ
<
WCÏu£
*> 
evid’û
;

402 
veùÜ
<> 
pos™iÚs
;

403 
i
=0;i<
şau£s
.
	`size
();i++)

407 if(
şau£s
[
i
]->
weight
.
is_z”o
 && cÏu£s[i]->
©oms
.
	`size
()==1)

409 
evid’û
.
	`push_back
(
şau£s
[
i
]);

410 
pos™iÚs
.
	`push_back
(
i
);

414 
i
=0;i<
şau£s
.
	`size
();i++)

416 if(
	`fšd
(
pos™iÚs
.
	`begš
(),pos™iÚs.
	`’d
(),
i
)!=positions.end())

418 
j
=0;j<
şau£s
[
i
]->
©oms
.
	`size
();j++)

420 
k
=0;k<
evid’û
.
	`size
();k++)

422 if(
evid’û
[
k
]->
©oms
[0]->
symbŞ
->
id
 =ğ
şau£s
[
i
]->©oms[
j
]->symbol->id)

425 if(
evid’û
[
k
]->
sign
[0] =ğ
şau£s
[
i
]->sign[
j
])

427 
şau£s
[
i
]->
§tisf›d
 = 
Œue
;

429 
şau£s
[
i
]->
	`»moveAtom
(
j
);

430 
j
--;

438 
i
=0;i<
pos™iÚs
.
	`size
();i++)

440 
	`»moveI‹m
(
şau£s
,
pos™iÚs
[
i
]-i);

444 
	`ş—nup
(
symbŞs
);

446 
£t
<> 
com¶‘edSymbIds
;

447 
maxId
 = 0;

448 
i
=0;i<
şau£s
.
	`size
();i++)

450 
j
=0;j<
şau£s
[
i
]->
©oms
.
	`size
();j++)

453 if(
com¶‘edSymbIds
.
	`couÁ
(
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
)==0)

456 
com¶‘edSymbIds
.
	`š£¹
(
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

457 
symbŞs
.
	`push_back
(
LvrMLN
::
	`ü—‹_Ãw_symbŞ
(
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
));

458 if(
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
 > 
maxId
)

459 
maxId
 = 
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
;

464 
max_´ediÿ‹_id
 = 
maxId
+1;

465 
	}
}

466 
	gLvrMLN
::
	$putWeightsOnCÏu£s
()

468 
i
=0;i<
fÜmuÏs
.
	`size
();i++)

472 
şau£s
[
i
]->
weight
 = 
fÜmuÏs
[i]->weight;

474 
	}
}

475 
WCÏu£
* 
	gLvrMLN
::
	$ü—‹_Ãw_şau£
(
WCÏu£
* 
şau£
) {

476 
WCÏu£
* 
Ãw_şau£
 = 
Ãw
 
	`WCÏu£
();

477 
Ãw_şau£
->
sign
 = 
şau£
->sign;

478 
Ãw_şau£
->
§tisf›d
 = 
şau£
->satisfied;

480 
Ãw_şau£
->
weight
 = 
şau£
->weight;

482 
Ãw_şau£
->
Üigš®CÏu£Index
 = 
şau£
->originalClauseIndex;

485 
veùÜ
<
LvrT”m
*> 
ÃwT”ms
;

486 
veùÜ
<
LvrT”m
*> 
ŞdT”ms
;

487 
size_t
 
i
 = 0; i < 
şau£
->
©oms
.
	`size
(); i++)

489 
size_t
 
j
 = 0; j < 
şau£
->
©oms
[
i
]->
‹rms
.
	`size
(); j++)

491 
‹rmPos™iÚ
=-1;

492 
m
=0;m<
ŞdT”ms
.
	`size
();m++)

494 if(
ŞdT”ms
[
m
]==
şau£
->
©oms
[
i
]->
‹rms
[
j
])

496 
‹rmPos™iÚ
 = 
m
;

499 if(
‹rmPos™iÚ
==-1)

501 
LvrT”m
* 
‹rm
 = 
Ãw
 
	`LvrT”m
();

502 
‹rm
->
ty³
 = 
şau£
->
©oms
[
i
]->
‹rms
[
j
]->type;

503 
‹rm
->
ÜigDomašSize
 = 
şau£
->
©oms
[
i
]->
‹rms
[
j
]->origDomainSize;

504 
k
=0;k<
şau£
->
©oms
[
i
]->
‹rms
[
j
]->
domaš
.
	`size
();k++)

505 
‹rm
->
domaš
.
	`push_back
(
şau£
->
©oms
[
i
]->
‹rms
[
j
]->domaš[
k
]);

506 
k
=0;k<
şau£
->
©oms
[
i
]->
‹rms
[
j
]->
ÜigDomaš
.
	`size
();k++)

507 
‹rm
->
ÜigDomaš
.
	`push_back
(
şau£
->
©oms
[
i
]->
‹rms
[
j
]->ÜigDomaš[
k
]);

508 
ÃwT”ms
.
	`push_back
(
‹rm
);

509 
ŞdT”ms
.
	`push_back
(
şau£
->
©oms
[
i
]->
‹rms
[
j
]);

513 
ÃwT”ms
.
	`push_back
ÒewT”ms[
‹rmPos™iÚ
]);

514 
ŞdT”ms
.
	`push_back
(
şau£
->
©oms
[
i
]->
‹rms
[
j
]);

518 
šd
=0;

519 
Ãw_şau£
->
©oms
 = 
veùÜ
<
Atom
*>(
şau£
->©oms.
	`size
());

520 
size_t
 
i
 = 0; i < 
Ãw_şau£
->
©oms
.
	`size
(); i++) {

521 
Ãw_şau£
->
©oms
[
i
] = 
Ãw
 
	`Atom
();

522 
Ãw_şau£
->
©oms
[
i
]->
symbŞ
 = 
	`ü—‹_Ãw_symbŞ
(
şau£
->atoms[i]->symbol);

523 
Ãw_şau£
->
©oms
[
i
]->
‹rms
 = 
veùÜ
<
LvrT”m
*>(
şau£
->©oms[i]->‹rms.
	`size
());

524 
size_t
 
j
 = 0; j < 
Ãw_şau£
->
©oms
[
i
]->
‹rms
.
	`size
(); j++) {

525 
Ãw_şau£
->
©oms
[
i
]->
‹rms
[
j
] = 
ÃwT”ms
[
šd
];

526 
šd
++;

529  
Ãw_şau£
;

530 
	}
}

532 
	gLvrMLN
::
´•roûssEvid’û
(
veùÜ
<veùÜ<> > 
evid’ûIÁR•
)

534 
m­
<,> 
	gevid’ûHashM­
;

535 
	gi
=0;i<
	gevid’ûIÁR•
.
size
();i++)

537 
	gevid’ûHashM­
.
š£¹
(
·œ
<,>(
LvrHashAlgÜ™hm
::
DJBHash
(
evid’ûIÁR•
[
i
]),1));

539 
doP»´oûssEvid’û
(
evid’ûHashM­
);

542 
	gLvrMLN
::
´•roûssEvid’û
(
veùÜ
<
Atom
*> 
evid’ûAtoms
)

544 
m­
<,> 
	gevid’ûHashM­
;

545 
	gi
=0;i<
	gevid’ûAtoms
.
size
();i++)

547 
	gkey
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
evid’ûAtoms
[
i
]);

548 
	gevid’ûHashM­
.
š£¹
(
·œ
<,>(
key
,1));

550 
doP»´oûssEvid’û
(
evid’ûHashM­
);

554 
	gLvrMLN
::
doP»´oûssEvid’û
(
m­
<,> 
evid’ûHashM­
)

556 
LNÜm®iz”
 
Ê
(*
this
);

557 
	gÊ
.
nÜm®izeCÏu£s
(
şau£s
);

558 
	gi
=0;i<
	gşau£s
.
size
();i++)

560 
	gveùÜ
<> 
	gşau£HashCodes
;

561 
	g»moved
=0;

562 
	gj
=0;j<
	gşau£s
[
i
]->
	g©oms
.
size
();j++)

564 if(!
	gşau£s
[
i
]->
	g©oms
[
j
]->
isCÚ¡ªt
())

566 
	gkey
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
şau£s
[
i
]->
©oms
[
j
]);

567 if(
	gevid’ûHashM­
.
fšd
(
key
)!=
evid’ûHashM­
.
’d
())

570 if(!
şau£s
[
i
]->
sign
[
j
])

571 
şau£s
[
i
]->
§tisf›d
 = 
Œue
;

572 
	gşau£s
[
i
]->
»moveAtom
(
j
);

573 
	gj
--;

576 if(
	gşau£s
[
i
]->
	g§tisf›d
)

580 
	gveùÜ
<> 
	g»moveInds
;

581 
	gj
=0;j<
	gşau£s
[
i
]->
	g©oms
.
size
();j++)

583 if(!
	gşau£s
[
i
]->
	g©oms
[
j
]->
isCÚ¡ªt
())

585 
	gk
=0;k<
	gşau£s
[
i
]->
	g©oms
.
size
();k++)

587 if(
	gk
==
j
 || !
şau£s
[
i
]->
©oms
[
k
]->
isCÚ¡ªt
())

589 if(
	gşau£s
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	gid
==
şau£s
[i]->
©oms
[
k
]->
symbŞ
->
id


590 && 
şau£s
[
i
]->
sign
[
j
]!=şau£s[i]->sign[
k
])

592 
şau£s
[
i
]->
§tisf›d
;

596 if(
	gşau£s
[
i
]->
	g§tisf›d
)

619 
	gi
=0;i<
	gşau£s
.
size
();i++)

622 
	gj
=0;j<
	gşau£s
[
i
]->
	g©oms
.
size
();j++)

623 
	gşau£s
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	g·»ÁId
 = 
şau£s
[i]->
©oms
[j]->
symbŞ
->
id
;

624 if(
	gşau£s
[
i
]->
	g©oms
.
size
()==0 && 
şau£s
[i]->
§tisf›d
 && cÏu£s[i]->
weight
.
is_z”o
)

626 
»moveI‹m
(
şau£s
,
i
);

627 
	gi
--;

	@liftedinfer/common/src/lvrptpsearchtree.cpp

1 
	~"lv½£¬chŒ“.h
"

2 
	~"m©huts.h
"

4 
	gLvrPTPS—rchT»e
::
	$LvrPTPS—rchT»e
():
	$roÙ
(
NULL
)

6 
	}
}

8 
LvrPTPS—rchT»e
::~
	$LvrPTPS—rchT»e
()

10 
	}
}

12 
LvrPTPS—rchT»e
::
	$ş—nT»e
()

15 
roÙ
=
NULL
;

16 
	}
}

18 
	gLvrPTPS—rchT»e
::
	$´štT»e
(
LvrPTPNode
* 
node
)

20 if(
node
==
NULL
)

22 
node
->
	`´št
();

23 
i
=0;i<
node
->
chd»n
.
	`size
();i++)

25 
	`´štT»e
(
node
->
chd»n
[
i
]);

27 
	}
}

29 
LvrPTPNode
* 
	gLvrPTPS—rchT»e
::
	$ü—‹NewNode
(
LvrPTPNodeTy³
 
ty³
,
LvrPTPNode
* 
·»Á
,
·»Áb¿nchno
)

31 
LvrPTPNode
* 
Ãwnode
 = LvrPTPNode::
	`ü—‹_Ãw_node
(
ty³
);

32 if(
·»Á
==
NULL
)

34 
roÙ
=
Ãwnode
;

38 
·»Á
->
chd»n
.
	`push_back
(
Ãwnode
);

40 
Ãwnode
->
·»ÁB¿nchNo
 = 
·»Áb¿nchno
;

41  
Ãwnode
;

42 
	}
}

44 
	gLvrPTPS—rchT»e
::
	$£tRoÙ
(
LvrPTPNode
* 
roÙ_
)

46 if(
roÙ
!=
NULL
)

47 
roÙ
 = 
roÙ_
;

48 
	}
}

49 
boŞ
 
	gLvrPTPS—rchT»e
::
	$isRoÙS‘
()

51 if(!
roÙ
)

52  
çl£
;

54  
Œue
;

55 
	}
}

56 
LvrPTPNode
* 
	gLvrPTPS—rchT»e
::
	$g‘RoÙ
()

58  
roÙ
;

59 
	}
}

61 
	gLvrPTPS—rchT»e
::
g‘HashV®ues
(
Atom
* 
©om
,
£t
<>& 
hashes
)

63 if(!
	gLvrQu”yUpd©”
::
In¡ªû
()->
isNÜmIdInQu”y
(
©om
->
symbŞ
->
nÜmP¬’tId
))

65 
Atom
* 
	gtmpAtom
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
©om
);

66 
	gi
=0;i<
	gtmpAtom
->
	g‹rms
.
size
();i++)

69 if(
	gtmpAtom
->
	g‹rms
[
i
]->
	gÜigDomaš
.
size
() > 0)

71 
	gtmpAtom
->
	g‹rms
[
i
]->
	gdomaš
.
ş—r
();

72 
	gtmpAtom
->
	g‹rms
[
i
]->
	gdomaš
 = 
tmpAtom
->
‹rms
[i]->
ÜigDomaš
;

75 if(
	gtmpAtom
->
isCÚ¡ªt
())

77 
	ghashes
.
š£¹
(
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
tmpAtom
));

78 
d–‘e
 
	gtmpAtom
;

81 
	gveùÜ
<veùÜ<> > 
	g³rmu‹dLi¡
;

82 
	gLvrP”mutiÚs
::
³rmu‹T”ms
(
tmpAtom
->
‹rms
,
³rmu‹dLi¡
);

83 
	gveùÜ
<> 
hv®ue
(
tmpAtom
->
‹rms
.
size
()+1);

84 
	ghv®ue
[0]=
tmpAtom
->
symbŞ
->
nÜmP¬’tId
;

85 
	gi
=0;i<
	g³rmu‹dLi¡
.
size
();i++)

87 
	gj
=0;j<
	g³rmu‹dLi¡
[
i
].
size
();j++)

89 
	ghv®ue
[
j
+1] = 
³rmu‹dLi¡
[
i
].
©
(j);

91 
	ghashes
.
š£¹
(
LvrHashAlgÜ™hm
::
DJBHash
(
hv®ue
));

93 
d–‘e
 
	gtmpAtom
;

96 
	gLvrPTPS—rchT»e
::
g‘HashV®uesNPAtom
(
Atom
* 
©om
,
veùÜ
<>& 
hashes
)

98 if(!
	gLvrQu”yUpd©”
::
In¡ªû
()->
isNÜmIdInQu”y
(
©om
->
symbŞ
->
nÜmP¬’tId
))

100 
Atom
* 
	gtmpAtom
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
©om
);

101 
	gi
=0;i<
	gtmpAtom
->
	g‹rms
.
size
();i++)

104 if(
	gtmpAtom
->
	g‹rms
[
i
]->
	gÜigDomaš
.
size
() > 0)

106 
	gtmpAtom
->
	g‹rms
[
i
]->
	gdomaš
.
ş—r
();

107 
	gtmpAtom
->
	g‹rms
[
i
]->
	gdomaš
 = 
tmpAtom
->
‹rms
[i]->
ÜigDomaš
;

110 if(
	gtmpAtom
->
isCÚ¡ªt
())

112 
	ghashes
.
push_back
(
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
tmpAtom
));

113 
d–‘e
 
	gtmpAtom
;

116 
	gveùÜ
<veùÜ<> > 
	g³rmu‹dLi¡
;

117 
	gLvrP”mutiÚs
::
³rmu‹T”ms
(
tmpAtom
->
‹rms
,
³rmu‹dLi¡
);

118 
	gveùÜ
<> 
hv®ue
(
tmpAtom
->
‹rms
.
size
()+1);

119 
	ghv®ue
[0]=
tmpAtom
->
symbŞ
->
nÜmP¬’tId
;

120 
	gi
=0;i<
	g³rmu‹dLi¡
.
size
();i++)

122 
	gj
=0;j<
	g³rmu‹dLi¡
[
i
].
size
();j++)

124 
	ghv®ue
[
j
+1] = 
³rmu‹dLi¡
[
i
].
©
(j);

126 
	ghashes
.
push_back
(
LvrHashAlgÜ™hm
::
DJBHash
(
hv®ue
));

128 
d–‘e
 
	gtmpAtom
;

132 
	gLvrPTPS—rchT»e
::
	$downPrİag©iÚMAR
(
LvrPTPNode
* 
node
)

134 if(
node
==
NULL
)

136 if(
node
->
ty³
 =ğ
ESPLITTER
)

139 
i
=0;i<
node
->
chd»n
.
	`size
();i++)

141 if(
node
->
chd»n
.
	`size
()-1 =ğnode->
©om
->
	`g‘Numb”OfGroundšgs
())

144 
LogDoubË
 
bš
;

145 
bš
 = 
LogDoubË
::
	`BšomŸl
(
node
->
chd»n
.
	`size
()-1,
i
);

146 
node
->
chd»n
[
i
]->
downV®ue
 =‚ode->downV®ue*node->
b¿nchWeights
[i]*
bš
;

151 
node
->
chd»n
[
i
]->
downV®ue
 =‚ode->downV®ue*node->
b¿nchWeights
[i];

153 
	`downPrİag©iÚMAR
(
node
->
chd»n
[
i
]);

156 if(
node
->
ty³
 =ğ
EPOWER
)

159 
i
=0;i<
node
->
chd»n
.
	`size
();i++)

161 
node
->
chd»n
[
i
]->
downV®ue
 = 
	`LogDoubË
(1,
çl£
);

162 
LogDoubË
::
	`LDPow”
(
node
->
chd»n
[
i
]->
nodeV®ue
,node->
pow”FaùÜ
-1,node->chd»n[i]->
downV®ue
);

163 
node
->
chd»n
[
i
]->
downV®ue
 =‚ode->children[i]->downValue*node->downValue;

164 
	`downPrİag©iÚMAR
(
node
->
chd»n
[
i
]);

167 if(
node
->
ty³
 =ğ
EAND
)

169 
i
=0;i<
node
->
chd»n
.
	`size
();i++)

171 
node
->
chd»n
[
i
]->
downV®ue
 = 
	`LogDoubË
(1,
çl£
);

172 
j
=0;j<
node
->
chd»n
.
	`size
();j++)

174 if(
i
==
j
)

176 
node
->
chd»n
[
i
]->
downV®ue
 =‚ode->chd»n[i]->downV®ue*node->chd»n[
j
]->
nodeV®ue
;

178 
node
->
chd»n
[
i
]->
downV®ue
 =‚ode->children[i]->downValue*node->downValue;

179 
	`downPrİag©iÚMAR
(
node
->
chd»n
[
i
]);

182 if(
node
->
ty³
 =ğ
ELEAF
)

184 if(
node
->
dÚtC¬eQu”›s
)

186 if(
node
->
dÚtC¬eQu”›s
->
	`size
() > 0)

188 
LogDoubË
 
dÚtÿ»v®
 = 
node
->
nodeV®ue
*node->
downV®ue
/
	`LogDoubË
(2,
çl£
);

189 
LvrQu”yUpd©”
::
	`In¡ªû
()->
	`upd©eExaùQu”yWeights
((*
node
->
dÚtC¬eQu”›s
),
dÚtÿ»v®
);

193 
	}
}

195 
	gLvrPTPS—rchT»e
::
	$upd©eQu”›s
(
LvrPTPNode
* 
node
)

197 if(
node
==
NULL
)

199 if(
node
->
ty³
 =ğ
ESPLITTER
)

201 if(
node
->
©om
->
	`g‘Numb”OfGroundšgs
()!òode->
chd»n
.
	`size
()-1)

204 
veùÜ
<> 
hashes
;

205 
	`g‘HashV®uesNPAtom
(
node
->
©om
,
hashes
);

206 if(
hashes
.
	`size
() > 0)

208 
numGoundšgs
 = 
node
->
©om
->
	`g‘Numb”OfGroundšgs
();

209 
i
=1;i<
node
->
chd»n
.
	`size
();i++)

212 
veùÜ
<> 
bšveùÜ
;

213 
LM©hUts
::
	`In¡ªû
()->
	`toBš¬y
(
i
,
bšveùÜ
,
numGoundšgs
);

214 
k
=0;k<
bšveùÜ
.
	`size
();k++)

217 if(
bšveùÜ
[
k
]==1)

219 
£t
<> 
tmphash
;

220 
tmphash
.
	`š£¹
(
hashes
[
k
]);

221 
LogDoubË
 
v®ue
 = 
node
->
chd»n
[
i
]->
nodeV®ue
*node->chd»n[i]->
downV®ue
;

222 
LvrQu”yUpd©”
::
	`In¡ªû
()->
	`upd©eExaùQu”yWeights
(
tmphash
,
v®ue
);

231 
£t
<> 
qu”yHashes
;

232 
	`g‘HashV®ues
(
node
->
©om
,
qu”yHashes
);

233 if(
qu”yHashes
.
	`size
() > 0)

236 
LogDoubË
 
	`combšedV®
(0,
çl£
);

238 
domašSize
 = 
node
->
chd»n
.
	`size
()-1;

239 
LogDoubË
 
	`lvnÜm
(
domašSize
,
çl£
);

240 
i
=1;i<
node
->
chd»n
.
	`size
();i++)

242 if(
node
->
chd»n
[
i
]->
nodeV®ue
.
is_z”o
 ||‚ode->chd»n[i]->
downV®ue
.is_zero)

244 
combšedV®
 +ğ(
node
->
chd»n
[
i
]->
nodeV®ue
*node->chd»n[i]->
downV®ue
)*
	`LogDoubË
(i,
çl£
)/
lvnÜm
;

246 
LvrQu”yUpd©”
::
	`In¡ªû
()->
	`upd©eExaùQu”yWeights
(
qu”yHashes
,
combšedV®
);

250 
j
=0;j<
node
->
chd»n
.
	`size
();j++)

252 
	`upd©eQu”›s
(
node
->
chd»n
[
j
]);

254 
	}
}

	@liftedinfer/common/src/lvrptptreesampling.cpp

1 
	~"lv½Œ“§m¶šg.h
"

2 
	~"¿ndomg’ut.h
"

3 
	~<as£¹.h
>

4 
	~"hash®gÜ™hm.h
"

6 
boŞ
 
	$com·»Chd»n
(
LPTPNode
* 
l1
, LPTPNode* 
l2
)

8 if(
l1
->
·»ÁB¿nchNo
 < 
l2
->parentBranchNo)

9  
Œue
;

11  
çl£
;

12 
	}
}

14 
	gLvrPTPT»eSam¶šg
::
	$LvrPTPT»eSam¶šg
()

16 
±pT»e
 = 
Ãw
 
	`LPTPT»e
();

17 
	}
}

19 
	gLvrPTPT»eSam¶šg
::~
	$LvrPTPT»eSam¶šg
()

21 
d–‘e
 
±pT»e
;

22 
	}
}

24 
	gLvrPTPT»eSam¶šg
::
addT»eNode
(
Atom
* 
©om
,
veùÜ
<
LogDoubË
> 
weights
,veùÜ<LogDoubË> 
bšCÛffs
,

25 
LogDoubË
 
nÜm
,
NodeTy³
 
nodeTy³
,
nodeId
, 
·»ÁId
,

26 
·»ÁB¿nchNo
,
veùÜ
<
LogDoubË
>* 
b¿nchWeights
,LogDoubË 
nodeV®ue
)

28 
as£¹
(
nodeTy³
 =ğ
ESPLIT
);

29 
Atom
* 
	gÃwAtom
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
©om
);

30 
LPTPNode
* 
	gnd
 = 
Ãw
 LPTPNode();

31 
	gnd
->
	g©om
 = 
ÃwAtom
;

32 
	gnd
->
	gzV®ues
 = 
weights
;

33 
	gnd
->
	gnÜm
 = 
nÜm
;

34 
	gnd
->
	gbšCÛff
 = 
bšCÛffs
;

35 
	gnd
->
	gty³
 = 
nodeTy³
;

36 
	gnd
->
	gid
 = 
nodeId
;

37 
	gnd
->
	g·»ÁId
 = 
·»ÁId
;

38 
	gnd
->
	g·»ÁB¿nchNo
 = 
·»ÁB¿nchNo
;

39 if(
	gb¿nchWeights
!=
NULL
)

40 
nd
->
b¿nchWeights
 = (*branchWeights);

41 
	g±pT»e
->
	gŒ“Nodes
.
push_back
(
nd
);

42 
	gnd
->
	gnodeV®ue
 = 
nodeV®ue
;

45 
LPTPNode
* 
	gLvrPTPT»eSam¶šg
::
	$addT»eNode
(
NodeTy³
 
nodeTy³
,
nodeId
, 
·»ÁId
, 
·»ÁB¿nchNo
,
pow”FaùÜ
,
LogDoubË
 
nodeV®ue
)

47 
LPTPNode
* 
nd
 = 
Ãw
 
	`LPTPNode
();

48 
nd
->
ty³
 = 
nodeTy³
;

49 
nd
->
id
 = 
nodeId
;

50 
nd
->
·»ÁId
 =…arentId;

51 
nd
->
·»ÁB¿nchNo
 =…arentBranchNo;

52 
nd
->
pow”FaùÜ
 =…owerFactor;

53 
nd
->
nodeV®ue
 =‚odeValue;

54 
±pT»e
->
Œ“Nodes
.
	`push_back
(
nd
);

55  
nd
;

56 
	}
}

58 
	gLvrPTPT»eSam¶šg
::
§m¶eT»e
(
LPTPNode
* 
node
,
veùÜ
<
m­
<,>* >& 
addedDecompM­pšgs
)

60 if(
	gnode
->
	gty³
 =ğ
ESPLIT
)

64 
ÃxtInd
 = -1;

66 if(
	gaddedDecompM­pšgs
.
size
()!=0)

68 
u
 = 
LvRªdomG’Ut
::
In¡ªû
()->
g‘NÜmRªd
();

69 
LogDoubË
 
lu
(
u
,
çl£
);

71 
	gšdex
 = 
low”_bound
(
node
->
cdf
.
begš
(),node->cdf.
’d
(),
lu
è- 
	gnode
->
	gcdf
.begin();

72 
	gdum
=0;

73 if(
	gdum
==1)

75 
šdex
=0;

77 
Atom
* 
	gÃwAtom
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
node
->
©om
);

78 
	gveùÜ
<> 
v®
(2);

79 
	gv®
[0] = 
ÃwAtom
->
symbŞ
->
nÜmP¬’tId
;

80 
	gi
=0;i<
	gaddedDecompM­pšgs
.
size
();i++)

82 
	gm­
<,>* 
	gdM­
 = 
addedDecompM­pšgs
[
i
];

84 
	gj
=0;j<
	gÃwAtom
->
	g‹rms
.
size
();j++)

86 
	gv®
[1]=
j
;

87 
	gkey
 = 
LvrHashAlgÜ™hm
::
DJBHashUS
(
v®
);

88 
	gm­
<,>::
™”©Ü
 
™1
 = (*
dM­
).
fšd
(
key
);

89 if(
	g™1
==(*
dM­
).
’d
())

91 if(
	g™1
->
	g£cÚd
 >ğ
ÃwAtom
->
‹rms
[
j
]->
ÜigDomaš
.
size
())

94 
	gÃwAtom
->
	g‹rms
[
j
]->
	gdomaš
.
ş—r
();

95 
	gÃwAtom
->
	g‹rms
[
j
]->
	gdomaš
.
push_back
(
ÃwAtom
->
‹rms
[j]->
ÜigDomaš
[
™1
->
£cÚd
]);

99 
	g±pT»e
->
	g§m¶edAssignm’ts
.
	g©oms
.
push_back
(
ÃwAtom
);

100 
	g±pT»e
->
	g§m¶edAssignm’ts
.
	gassignm’t
.
push_back
(
šdex
);

102 
	gÃxtInd
 = 
šdex
;

107 
	gu
 = 
LvRªdomG’Ut
::
In¡ªû
()->
g‘NÜmRªd
();

108 
LogDoubË
 
lu
(
u
,
çl£
);

109 
	gšdex
 = 
low”_bound
(
node
->
cdf
.
begš
(),node->cdf.
’d
(),
lu
è- 
	gnode
->
	gcdf
.begin();

110 
	g±pT»e
->
	g§m¶edAssignm’ts
.
	g©oms
.
push_back
(
LvrMLN
::
ü—‹_Ãw_©om
(
node
->
©om
));

111 
	g±pT»e
->
	g§m¶edAssignm’ts
.
	gassignm’t
.
push_back
(
šdex
);

113 
	gÃxtInd
 = 
šdex
;

116 if(
	gÃxtInd
 < 
	gnode
->
	gchd»n
.
size
())

117 
§m¶eT»e
(
node
->
chd»n
[
ÃxtInd
],
addedDecompM­pšgs
);

121 if(
	gnode
->
	gty³
 =ğ
EDECOMPOSER
)

123 if(
node
->
chd»n
.
size
()==0)

126 
	gi
=0;i<
	gnode
->
	gdomašPow”FaùÜs
.
size
();i++)

128 
	gpf
 = 
node
->
domašPow”FaùÜs
[
i
];

129 
	gj
=0;j<
	gpf
;j++)

132 
	gm­
<,>::
™”©Ü
 
™
 = 
node
->
decompo£rM­pšgs
[
i
].
begš
();

133 
	g™
!=
node
->
decompo£rM­pšgs
[
i
].
’d
();it++)

135 
	g™
->
	g£cÚd
 = 
j
;

138 if(
fšd
(
addedDecompM­pšgs
.
begš
(),addedDecompM­pšgs.
’d
(),&
node
->
decompo£rM­pšgs
[
i
])

139 =ğ
addedDecompM­pšgs
.
’d
())

140 
addedDecompM­pšgs
.
push_back
(&
node
->
decompo£rM­pšgs
[
i
]);

142 
	gjj
=0;jj<
	gnode
->
	gchd»n
.
size
();jj++)

143 
§m¶eT»e
(
node
->
chd»n
[
jj
],
addedDecompM­pšgs
);

147 if(
	gnode
->
	gty³
 =ğ
EDISJOINT
)

150 
i
=0;
	gi
<
	gnode
->
	gchd»n
.
size
();i++)

152 
§m¶eT»e
(
node
->
chd»n
[
i
],
addedDecompM­pšgs
);

158 
	gLPTPT»e
& 
	gLvrPTPT»eSam¶šg
::
	$g‘T»eRef
()

160  (*
±pT»e
);

161 
	}
}

163 
	gLvrPTPT»eSam¶šg
::
	$ş—nT»e
()

165 
±pT»e
->
	`ş—nT»e
();

166 
	}
}

168 
	gLvrPTPT»eSam¶šg
::
	$Œav”£T»e
(
id
)

171 
šdex
 = -1;

172 
i
=0;i<
±pT»e
->
Œ“Nodes
.
	`size
();i++)

174 if(
±pT»e
->
Œ“Nodes
[
i
]->
id
 == id)

176 
šdex
 = 
i
;

180 if(
šdex
!=-1)

183 
veùÜ
<
LPTPNode
*> 
chd»n
;

184 
i
=0;i<
±pT»e
->
Œ“Nodes
.
	`size
();i++)

186 if(
±pT»e
->
Œ“Nodes
[
i
]->
·»ÁId
 =ğ±pT»e->Œ“Nodes[
šdex
]->
id
)

188 
chd»n
.
	`push_back
(
±pT»e
->
Œ“Nodes
[
i
]);

192 
	`sÜt
(
chd»n
.
	`begš
(),chd»n.
	`’d
(),
com·»Chd»n
);

193 
±pT»e
->
Œ“Nodes
[
šdex
]->
chd»n
 = children;

194 
i
=0;i<
chd»n
.
	`size
();i++)

196 
	`Œav”£T»e
(
chd»n
[
i
]->
id
);

199 
	}
}

201 
LPTPNode
* 
	gLvrPTPT»eSam¶šg
::
	$g‘RoÙ
()

203 
i
=0;i<
±pT»e
->
Œ“Nodes
.
	`size
();i++)

205 if(
±pT»e
->
Œ“Nodes
[
i
]->
id
 == 0)

207  
±pT»e
->
Œ“Nodes
[
i
];

210  
NULL
;

211 
	}
}

213 
	gLvrPTPT»eSam¶šg
::
	$¡¬tNewSam¶šg
()

215 
	`Œav”£T»e
(0);

216 
LPTPNode
* 
roÙ
;

217 
roÙ
 = 
	`g‘RoÙ
();

218 if(
roÙ
==
NULL
)

220 
±pT»e
->
	`makeCDF
();

221 
±pT»e
->
§m¶edAssignm’ts
.
assignm’t
.
	`ş—r
();

222 
±pT»e
->
§m¶edAssignm’ts
.
©oms
.
	`ş—r
();

223 
veùÜ
<
m­
<,>* > 
addedDecompM­pšgs
;

224 
	`§m¶eT»e
(
roÙ
,
addedDecompM­pšgs
);

226 
	}
}

228 
	gLvrPTPT»eSam¶šg
::
	$´št
()

230 
±pT»e
->
	`´štT»e
();

231 
	}
}

	@liftedinfer/common/src/mathutils.cpp

1 
	~"m©huts.h
"

2 
	~"¿ndomg’ut.h
"

3 
	~<®gÜ™hm
>

4 
usšg
 
Çme¥aû
 
	g¡d
;

6 
LM©hUts
* 
	gLM©hUts
::
m_pIn¡ªû
 = 
NULL
;

8 
LM©hUts
* 
	gLM©hUts
::
	$In¡ªû
()

10 ià(!
m_pIn¡ªû
)

11 
m_pIn¡ªû
 = 
Ãw
 
LM©hUts
;

12  
m_pIn¡ªû
;

13 
	}
}

15 
	gLM©hUts
::
	$LM©hUts
()

17 
	`cÚ¡ruùM©rix
();

18 
	`compu‹Di¡ributiÚTabË
();

19 
	}
}

39 
	gLM©hUts
::
	$cÚ¡ruùM©rix
()

41 
bš¬yCÛffM©rix
.
	`»size
(
MAXCOEFFTABLESIZE
 + 1);

42 
n
=0;n<=
MAXCOEFFTABLESIZE
;n++)

44 
bš¬yCÛffM©rix
[
n
].
	`»size
(n+1);

45 
i
=0;i<=
n
;i++)

47 
bš¬yCÛffM©rix
[
n
].
	`©
(
i
èğ
LogDoubË
::
	`BšomŸl
(n,i);

50 
	}
}

52 
LogDoubË
 
	gLM©hUts
::
	$g‘CÛff
(
n
,
i
)

54 if(
i
 > 
n
)

55  
	`LogDoubË
(0,
çl£
);

56 if(
n
 > 
MAXCOEFFTABLESIZE
)

59  
LogDoubË
::
	`BšomŸl
(
n
,
i
);

62  
bš¬yCÛffM©rix
[
n
].
	`©
(
i
);

63 
	}
}

65 
	gLM©hUts
::
compu‹CumuÏtiveDi¡ributiÚ
(
domašSize
,
veùÜ
<
LogDoubË
>& 
cdf
)

67 
LogDoubË
 
nÜm_cÚ¡
(0,
çl£
);

68 
	gcdf
.
»size
(
domašSize
+1);

69 
	gveùÜ
<
	gLogDoubË
> 
´ob
(
domašSize
+1);

70 
	gj
=0;j<=
domašSize
;j++)

72 
	gcdf
[
j
] = 
g‘CÛff
(
domašSize
,j);

73 
	gnÜm_cÚ¡
 +ğ
cdf
[
j
];

75 
	gcdf
[0] = 
cdf
[0]/
nÜm_cÚ¡
;

76 
	gj
=1;j<
	gcdf
.
size
()-1;j++)

78 
	gcdf
[
j
] = 
cdf
[j]/
nÜm_cÚ¡
;

79 
	gcdf
[
j
] = 
cdf
[j-1] + cdf[j];

81 
	gcdf
[
cdf
.
size
()-1] = 
LogDoubË
(1,
çl£
);

85 
	gLM©hUts
::
	$compu‹Di¡ributiÚTabË
()

87 
cStÜedDi¡ributiÚ
.
	`»size
(
MAXCOEFFTABLESIZE
+1);

88 
i
=1;i<=
MAXCOEFFTABLESIZE
;i++)

90 
LogDoubË
 
cumuÏtiveDi¡
;

91 
LogDoubË
 
	`nÜm_cÚ¡
(0,
çl£
);

92 
	`compu‹CumuÏtiveDi¡ributiÚ
(
i
, 
cStÜedDi¡ributiÚ
[i]);

94 
	}
}

96 
	gLM©hUts
::
	$§m¶e
(
domašSize
,
LogDoubË
& 
´obOfSam¶e
, & 
v®ue
)

99 
veùÜ
<
LogDoubË
> 
cDi¡ributiÚ
;

100 if(
domašSize
 <ğ
MAXCOEFFTABLESIZE
)

103 
cDi¡ributiÚ
 = 
cStÜedDi¡ributiÚ
[
domašSize
];

108 
	`compu‹CumuÏtiveDi¡ributiÚ
(
domašSize
,
cDi¡ributiÚ
);

110 
u
 = 
LvRªdomG’Ut
::
	`In¡ªû
()->
	`g‘NÜmRªd
();

111 
LogDoubË
 
	`lu
(
u
,
çl£
);

112 
v®ue
 = 
	`low”_bound
(
cDi¡ributiÚ
.
	`begš
(),cDi¡ributiÚ.
	`’d
(),
lu
) - cDistribution.begin();

113 if(
v®ue
 == 0)

114 
´obOfSam¶e
 = 
cDi¡ributiÚ
[0];

116 
´obOfSam¶e
 = 
	`LogDoubË
(
	`exp
(
cDi¡ributiÚ
[
v®ue
].v®ue)-exp(cDi¡ributiÚ[v®ue-1].v®ue),
çl£
);

117 
	}
}

119 
	gLM©hUts
::
toBš¬y
(
num
,
veùÜ
<>& 
bšVeùÜ
,
numGroundšgs
)

121 
	gmask
 = 1;

122 
	g™”
=
numGroundšgs
-1;

123 
	gbšVeùÜ
.
»size
(
numGroundšgs
);

124 
	gnum
)

126 
	gx
 = 
num
 & 
mask
;

127 
	gbšVeùÜ
[
™”
--] = 
x
;

128 
	gnum
 = 
num
 >> 1;

	@liftedinfer/common/src/normalizer.cpp

1 
	~"nÜm®iz”.h
"

2 
	~"ş—nuputs.h
"

3 
	~"£tuts.h
"

4 
	~"lv½”mutiÚs.h
"

5 
	~"hash®gÜ™hm.h
"

6 
	~"ruËsut.h
"

7 
	~"nÜm´e£rvšgground”.h
"

8 
	~<as£¹.h
>

9 
usšg
 
Çme¥aû
 
	g¡d
;

11 
boŞ
 
	gLNÜm®iz”
::
	$checkEquiv®’cy
(
Atom
* 
©1
,Atom* 
©2
)

13 if(
©1
->
symbŞ
->symbŞ.
	`com·»
(
©2
->symbol->symbol)!=0)

14  
çl£
;

15 if(
©1
->
‹rms
.
	`size
(è!ğ
©2
->terms.size())

16  
çl£
;

18 
i
=0;i<
©1
->
‹rms
.
	`size
();i++)

20 if(
©1
->
‹rms
[
i
]->
domaš
.
	`size
()!=
©2
->terms[i]->domain.size())

21  
çl£
;

22 if(
©1
->
‹rms
[
i
]->
domaš
.
	`size
(è=ğ1 && 
©2
->terms[i]->domain.size() == 1)

24 if(
©1
->
‹rms
[
i
]->
domaš
[0]!=
©2
->terms[i]->domain[0])

25  
çl£
;

27 if(!
	`šşudes
(
©1
->
‹rms
[
i
]->
domaš
.
	`begš
(),©1->‹rms[i]->domaš.
	`’d
(),

28 
©2
->
‹rms
[
i
]->
domaš
.
	`begš
(),©2->‹rms[i]->domaš.
	`’d
()))

30  
çl£
;

34  
Œue
;

35 
	}
}

37 
	gLNÜm®iz”
::
m”geId’tiÿlCÏu£s
(
veùÜ
<
WCÏu£
*>& 
CNF
)

39 
i
=0;
	gi
<
	gCNF
.
size
();i++)

41 
	gm©chšgIndex
=-1;

42 
	gj
=
i
+1;j<
	gCNF
.
size
();j++)

44 if(
	gCNF
[
i
]->
	g©oms
.
size
()!=
CNF
[
j
]->
©oms
.size())

46 if((
	gCNF
[
i
]->
	g©oms
.
size
(è=ğ0 && 
CNF
[
j
]->
©oms
.size()==0) ||

47 
com·»CÏu£s
(
CNF
[
i
],CNF[
j
]))

49 
	gm©chšgIndex
 = 
j
;

53 if(
	gm©chšgIndex
!=-1)

56 if(
CNF
[
i
]->
§tisf›d
 =ğCNF[
m©chšgIndex
]->satisfied)

58 
LogDoubË
 
tmpWt
 = 
CNF
[
i
]->
weight
;

59 
	gv®
 = 
exp
(
tmpWt
.
v®ue
);

60 
LogDoubË
 
v®L
(
v®
,
Œue
);

61 
	gv®1
 = 
exp
Ğ
CNF
[
m©chšgIndex
]->
weight
.
v®ue
);

62 
LogDoubË
 
v®L1
(
v®1
,
Œue
);

65 
WCÏu£
* 
	g‹mp
=
CNF
[
i
];

66 
	gCNF
[
i
]=
CNF
[
m©chšgIndex
];

67 
	gCNF
[
m©chšgIndex
]=
‹mp
;

68 if(!
	gtmpWt
.
	gis_z”o
)

70 
	gCNF
[
m©chšgIndex
]->
	gweight
 = 
LogDoubË
(
v®
+
v®1
,
çl£
);

73 
»moveI‹m
(
CNF
,
i
);

74 
	gi
--;

80 
	gLNÜm®iz”
::
nÜm®izeCÏu£sW™houtJošs
(
veùÜ
<
WCÏu£
*>& 
şau£s
, 
boŞ
 
weightsOnAtoms
,boŞ 
»£tIds
)

82 
	gveùÜ
<
	gP»diÿ‹SymbŞ
*> 
	gcÚ¡DomašSymbŞs
;

83 
	gveùÜ
<
	gboŞ
> 
com¶‘edIds
(
mÊ
.
g‘MaxP»diÿ‹Id
());

84 
	gj
=0;j<
	gşau£s
.
size
();j++)

86 
	gk
=0;k<
	gşau£s
[
j
]->
	g©oms
.
size
();k++)

89 if(!
	gcom¶‘edIds
[
şau£s
[
j
]->
	g©oms
[
k
]->
	gsymbŞ
->
	gid
])

91 
	gcom¶‘edIds
[
şau£s
[
j
]->
	g©oms
[
k
]->
	gsymbŞ
->
	gid
] = 
Œue
;

92 
	gcÚ¡DomašSymbŞs
.
push_back
(
LvrMLN
::
ü—‹_Ãw_symbŞ
(
şau£s
[
j
]->
©oms
[
k
]->
symbŞ
));

99 
	gşau£CouÁ
;

100 
	gnÜmCÏu£CouÁ
;

101 
	gşau£CouÁ
=
şau£s
.
size
();

103 
	gveùÜ
<
	gP»diÿ‹SymbŞ
*>::
™”©Ü
 
™
=
cÚ¡DomašSymbŞs
.
begš
();
	g™
!=cÚ¡DomašSymbŞs.
’d
();it++)

105 
toNÜm®FÜm
(*
™
,
şau£s
);

107 
	gnÜmCÏu£CouÁ
=
şau£s
.
size
();

108 if(
	gşau£CouÁ
==
nÜmCÏu£CouÁ
)

111 
ş—nup
(
cÚ¡DomašSymbŞs
);

112 #ifdeà
__DEBUG_PRINT1__


113 
	gLvrMLN
::
´št
(
şau£s
,"NORM-STEP");

115 
»ÇmeP»diÿ‹s
(
şau£s
,
»£tIds
);

116 #ifdeà
__DEBUG_PRINT1__


117 
	gLvrMLN
::
´št
(
şau£s
,"RENAME-STEP");

119 if(
	gweightsOnAtoms
)

120 
m”geId’tiÿlCÏu£sPTP
(
şau£s
);

122 
m”geId’tiÿlCÏu£s
(
şau£s
);

123 #ifdeà
__DEBUG_PRINT1__


124 
	gLvrMLN
::
´št
(
şau£s
,"MERGE-STEP");

130 
	gLNÜm®iz”
::
nÜm®izeCÏu£s
(
veùÜ
<
WCÏu£
*>& 
şau£s
,
boŞ
 
weightsOnAtoms
,boŞ 
»£tIds
)

132 
cÚv”tToNÜm®FÜm
(
şau£s
);

133 #ifdeà
__DEBUG_PRINT1__


134 
	gLvrMLN
::
´št
(
şau£s
,"NORM-STEP");

136 
»ÇmeP»diÿ‹s
(
şau£s
,
»£tIds
);

137 #ifdeà
__DEBUG_PRINT1__


138 
	gLvrMLN
::
´št
(
şau£s
,"RENAME-STEP");

141 if(
	gweightsOnAtoms
)

142 
m”geId’tiÿlCÏu£sPTP
(
şau£s
);

144 
m”geId’tiÿlCÏu£s
(
şau£s
);

146 #ifdeà
__DEBUG_PRINT1__


147 
	gLvrMLN
::
´št
(
şau£s
,"MERGE-STEP");

151 
boŞ
 
	gLNÜm®iz”
::
	$com·»CÏu£s
(
WCÏu£
* 
c1
,WCÏu£* 
c2
)

153 
	`as£¹
(
c1
->
©oms
.
	`size
()==
c2
->atoms.size());

154 
boŞ
 
c1´İ
 = 
c1
->
	`isPrİos™iÚ®
();

155 
boŞ
 
c2´İ
 = 
c2
->
	`isPrİos™iÚ®
();

156 if(
c1´İ
!=
c2´İ
)

157  
çl£
;

158 if(!
c1´İ
)

160  
çl£
;

164 
veùÜ
<
boŞ
> 
	`found
(
c1
->
©oms
.
	`size
());

165 
i
=0;i<
c1
->
©oms
.
	`size
();i++)

167 
boŞ
 
equFound
=
çl£
;

168 
j
=0;j<
c2
->
©oms
.
	`size
();j++)

170 if(
found
[
j
])

172 if(
c1
->
sign
[
i
]==
c2
->sign[
j
] && 
	`checkEquiv®’cy
(c1->
©oms
[i],c2->atoms[j]))

174 
found
[
j
]=
Œue
;

175 
equFound
 = 
Œue
;

179 if(!
equFound
)

180  
çl£
;

183  
Œue
;

184 
	}
}

186 
	gLNÜm®iz”
::
m”geId’tiÿlCÏu£sPTP
(
veùÜ
<
WCÏu£
*>& 
CNF
)

188 
i
=0;
	gi
<
	gCNF
.
size
();i++)

190 
	gm©chšgIndex
=-1;

191 
	gj
=
i
+1;j<
	gCNF
.
size
();j++)

193 if(
	gCNF
[
i
]->
	g©oms
.
size
()!=
CNF
[
j
]->
©oms
.size())

195 if((
	gCNF
[
i
]->
	g©oms
.
size
(è=ğ0 && 
CNF
[
j
]->
©oms
.size()==0) ||

196 
com·»CÏu£s
(
CNF
[
i
],CNF[
j
]))

198 
	gm©chšgIndex
 = 
j
;

202 if(
	gm©chšgIndex
!=-1)

207 if(
CNF
[
i
]->
§tisf›d
 && CNF[
m©chšgIndex
]->satisfied)

210 
»moveI‹m
(
CNF
,
i
);

212 if(
	gCNF
[
i
]->
	g§tisf›d
 && !CNF[
m©chšgIndex
]->satisfied)

215 
»moveI‹m
(
CNF
,
i
);

217 if(!
	gCNF
[
i
]->
	g§tisf›d
 && CNF[
m©chšgIndex
]->satisfied)

220 
WCÏu£
* 
	g‹mp
=
CNF
[
i
];

221 
	gCNF
[
i
]=
CNF
[
m©chšgIndex
];

222 
	gCNF
[
m©chšgIndex
]=
‹mp
;

224 
»moveI‹m
(
CNF
,
i
);

229 
»moveI‹m
(
CNF
,
i
);

231 
	gi
--;

236 
boŞ
 
	gLNÜm®iz”
::
com·»CÏu£s
(
veùÜ
<
WCÏu£
*> 
c1
,veùÜ<WCÏu£*> 
c2
)

238 if(
	gc1
.
size
()!=
c2
.size())

239  
çl£
;

240 
	gi
=0;i<
	gc1
.
size
();i++)

242 
	gc1
[
i
]->
´št
();

243 
	gc2
[
i
]->
´št
();

244 if(
	gc1
[
i
]->
	g©oms
.
size
()!=
c2
[i]->
©oms
.size())

245  
çl£
;

246 
	gj
=0;j<
	gc1
[
i
]->
	g©oms
.
size
();j++)

248 if(
	gc1
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	gid
!=
c2
[i]->
©oms
[j]->
symbŞ
->
id
)

250  
çl£
;

252 if(
	gc1
[
i
]->
	g©oms
[
j
]->
	g‹rms
.
size
()!=
c2
[i]->
©oms
[j]->
‹rms
.size())

254  
çl£
;

256 
	gk
=0;k<
	gc1
[
i
]->
	g©oms
[
j
]->
	g‹rms
.
size
();k++)

258 if(
	gc1
[
i
]->
	g©oms
[
j
]->
	g‹rms
[
k
]->
	gdomaš
.
size
()!=
c2
[i]->
©oms
[j]->
‹rms
[k]->
domaš
.size())

259  
çl£
;

260 if(
	gc1
[
i
]->
	g©oms
[
j
]->
	g‹rms
[
k
]->
	gdomaš
.
size
()==1)

262 if(
c1
[
i
]->
©oms
[
j
]->
‹rms
[
k
]->
domaš
[0]!=
c2
[i]->atoms[j]->terms[k]->domain[0])

263  
çl£
;

268  
	gŒue
;

273 
	gLNÜm®iz”
::
»ÇmeP»diÿ‹s
(
veùÜ
<
WCÏu£
*>& 
CNF
,
boŞ
 
»£tIds
)

275 
	gcu¼_´ediÿ‹_id
=
mÊ
.
symbŞs
.
size
();

276 
	gveùÜ
<veùÜ<
	gAtom
*> > 
	gequivAtoms
;

277 if(
	g»£tIds
)

278 
	gcu¼_´ediÿ‹_id
 = 0;

279 
	gi
=0;i<
	gCNF
.
size
();i++)

281 
	g£t
<> 
	gcom¶‘edAtoms
;

282 
	gj
=0;j<
	gCNF
[
i
]->
	g©oms
.
size
();j++)

284 
boŞ
 
	gbuck‘Found
=
çl£
;

287 
	gk
=0;k<
	gequivAtoms
.
size
();k++)

289 
	gveùÜ
<
	gAtom
*> 
	g©omLi¡
=
equivAtoms
[
k
];

290 if(
	g©omLi¡
.
size
()>0)

292 if(
checkEquiv®’cy
(
©omLi¡
[0],
CNF
[
i
]->
©oms
[
j
]))

294 
	gequivAtoms
[
k
].
push_back
(
CNF
[
i
]->
©oms
[
j
]);

295 
	gbuck‘Found
=
Œue
;

301 if(!
	gbuck‘Found
)

304 
	gveùÜ
<
	gAtom
*> 
	gÃwV®ue
;

305 
	gÃwV®ue
.
push_back
(
CNF
[
i
]->
©oms
[
j
]);

306 
	gequivAtoms
.
push_back
(
ÃwV®ue
);

312 
	gk
=0;k<
	gequivAtoms
.
size
();k++)

315 
P»diÿ‹SymbŞ
* 
	gps
 = 
Ãw
 P»diÿ‹SymbŞ(
cu¼_´ediÿ‹_id
++,

316 (
equivAtoms
[
k
])[0]->
symbŞ
->symbŞ, (equivAtoms[k])[0]->symbŞ->
v¬ŸbË_ty³s
,

317 (
equivAtoms
[
k
])[0]->
symbŞ
->
pweight
,

318 (
equivAtoms
[
k
])[0]->
symbŞ
->
nweight
,ÓquivAtoms[k])[0]->symbŞ->
nÜmP¬’tId
);

320 if(!
	g»£tIds
)

321 
	gps
->
	g·»ÁId
 = (
equivAtoms
[
k
])[0]->
symbŞ
->
·»ÁId
;

323 
	gps
->
	g·»ÁId
 = 
ps
->
id
;

326 
	gm
=0;m<
	gequivAtoms
[
k
].
size
();m++)

328 
d–‘e
 (
equivAtoms
[
k
])[
m
]->
	gsymbŞ
;

329 (
	gequivAtoms
[
k
])[
m
]->
	gsymbŞ
=
LvrMLN
::
ü—‹_Ãw_symbŞ
(
ps
);

331 
d–‘e
 
	gps
;

334 
	gmÊ
.
£tMaxP»diÿ‹Id
(
cu¼_´ediÿ‹_id
);

340 
	gLNÜm®iz”
::
fšdNPS–fJošedAtomToGround
(
veùÜ
<
WCÏu£
*>& 
CNF
,
Atom
*& 
©om
,veùÜ<
boŞ
>& 
isŞ©edT”ms
)

342 
	g©om
 = 
NULL
;

344 
	gi
=0;i<
	gCNF
.
size
();i++)

347 
	gm­
<,
	gveùÜ
<> > 
	g£lfJošs
;

348 
	gj
=0;j<
	gCNF
[
i
]->
	g©oms
.
size
();j++)

350 
	gm­
<,
	gveùÜ
<> >::
™”©Ü
 
™
 = 
£lfJošs
.
fšd
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

351 if(
	g™
==
£lfJošs
.
’d
())

353 
veùÜ
<> 
tmp
(1);

354 
	gtmp
[0] = 
j
;

355 
	g£lfJošs
.
š£¹
(
·œ
<,
veùÜ
<> >(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
,
tmp
));

359 
	g™
->
	g£cÚd
.
push_back
(
j
);

362 
WCÏu£
* 
	gşau£
 = 
CNF
[
i
];

363 
	grmút
 = 0;

364 
	gm­
<,
	gveùÜ
<> >::
™”©Ü
 
™
 = 
£lfJošs
.
begš
();
	g™
!=£lfJošs.
’d
();it++)

366 if(
	g™
->
	g£cÚd
.
size
() <= 1)

368 
	gsšgËtÚIndex
;

369 
boŞ
 
	gsšgËtÚ
 = 
şau£
->
©oms
[
™
->
£cÚd
[0]-
rmút
]->
isSšgËtÚAtom
(
sšgËtÚIndex
);

371 if(
	gşau£
->
	g©oms
[
™
->
£cÚd
[0]-
	grmút
]->
isCÚ¡ªt
())

375 
	gtÙ®Size
 = 
™
->
£cÚd
.
size
();

376 
	gsignCÁ
 = 
şau£
->
sign
[
™
->
£cÚd
[0]]?0:1;

377 
	grmút1
 = 0;

378 
	gj
=1;j<
	g™
->
	g£cÚd
.
size
();j++)

380 
	gsignCÁ
 +ğ
şau£
->
sign
[
™
->
£cÚd
[
j
]-
rmút
]?0:1;

381 
	gşau£
->
»moveAtom
(
™
->
£cÚd
[
j
]-
rmút
);

382 
	grmút1
++;

385 if(
	gsignCÁ
!=
tÙ®Size
 && 
signCÁ
!=0)

387 
şau£
->
»moveAtom
(
™
->
£cÚd
[0]-
rmút
);

388 
	gşau£
->
	g§tisf›d
 = 
Œue
;

389 
	grmút
++;

391 
	grmút
 = 
rmút1
;

395 if(
	gsšgËtÚ
)

398 
boŞ
 
	gblocked
 = 
LRuËsUt
::
isBlocked
(
şau£
->
©oms
[
™
->
£cÚd
[0]],
sšgËtÚIndex
,
CNF
);

400 if(!
	gblocked
)

403 
	gisŞ©edT”ms
.
»size
(
şau£
->
©oms
[
™
->
£cÚd
[0]-
rmút
]->
‹rms
.
size
());

404 
	g©om
 = 
şau£
->
©oms
[
™
->
£cÚd
[0]-
rmút
];

412 
	gLRuËsUt
::
compu‹IsŞ©edT”ms
(
şau£
->
©oms
[
™
->
£cÚd
[0]-
rmút
],
CNF
,
isŞ©edT”ms
);

413 
	g©om
 = 
şau£
->
©oms
[
™
->
£cÚd
[0]-
rmút
];

421 
	gLNÜm®iz”
::
»moveNPS–fJošs
(
veùÜ
<
WCÏu£
*>& 
CNF
)

425 
Atom
* 
©om
=
NULL
;

426 
	gveùÜ
<
	gboŞ
> 
	gisŞ©edT”ms
;

427 
fšdNPS–fJošedAtomToGround
(
CNF
,
©om
,
isŞ©edT”ms
);

428 if(
	g©om
==
NULL
)

430 
	gLvrNÜmP»£rvšgGround”
::
´İag©eNÜm®izedCNF
(
CNF
,
©om
,
isŞ©edT”ms
);

432 
	gi
=0;i<
	gCNF
.
size
();i++)

434 
	gj
=0;j<
	gCNF
[
i
]->
	g©oms
.
size
();j++)

436 
	gCNF
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	gid
 = 
LvrHashAlgÜ™hm
::
cÚv”tToHash
(
CNF
[i]->
©oms
[j]);

444 
	gLNÜm®iz”
::
cÚv”tToNÜm®FÜm
(
veùÜ
<
WCÏu£
*>& 
şau£s
)

448 
boŞ
 
chªged
 = 
çl£
;

449 
	gi
=0;i<
	gşau£s
.
size
();i++)

451 
	gj
=0;j<
	gşau£s
[
i
]->
	g©oms
.
size
();j++)

453 
	gk
=0;k<
	gşau£s
.
size
();k++)

455 
	gm
=0;m<
	gşau£s
[
k
]->
	g©oms
.
size
();m++)

457 if(
	gk
==
i
 && 
j
==
m
)

459 if(
	gşau£s
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	gid
 !ğ
şau£s
[
k
]->
©oms
[
m
]->
symbŞ
->
id
)

461 if(
	gLvrHashAlgÜ™hm
::
cÚv”tToHash
(
şau£s
[
i
]->
©oms
[
j
]è=ğ
LvrHashAlgÜ™hm
::cÚv”tToHash(şau£s[
k
]->©oms[
m
]))

464 
	gveùÜ
<> 
	gcommÚEËms
;

465 
	g‹rmId
 = -1;

466 
	gt
=0;t<
	gşau£s
[
k
]->
	g©oms
[
m
]->
	g‹rms
.
size
();t++)

469 
	gveùÜ
<> 
commÚ
(
şau£s
[
k
]->
©oms
[
m
]->
‹rms
[
t
]->
domaš
.
size
());

470 
	gveùÜ
<>::
™”©Ü
 
™
 = 
£t_š‹r£ùiÚ
(
şau£s
[
i
]->
©oms
[
j
]->
‹rms
[
t
]->
domaš
.
begš
(),

471 
şau£s
[
i
]->
©oms
[
j
]->
‹rms
[
t
]->
domaš
.
’d
(),

472 
şau£s
[
k
]->
©oms
[
m
]->
‹rms
[
t
]->
domaš
.
begš
(),

473 
şau£s
[
k
]->
©oms
[
m
]->
‹rms
[
t
]->
domaš
.
’d
(),
commÚ
.
begš
());

474 
	gnumEËms
 = (
™
 - 
commÚ
.
begš
());

475 if(
	gnumEËms
==0)

477 if(
	gnumEËms
 =ğ
şau£s
[
k
]->
©oms
[
m
]->
‹rms
[
t
]->
domaš
.
size
()

478 && 
numEËms
 =ğ
şau£s
[
i
]->
©oms
[
j
]->
‹rms
[
t
]->
domaš
.
size
())

480 
	gcommÚ
.
”a£
(
™
,
commÚ
.
’d
());

481 
	gcommÚEËms
 = 
commÚ
;

482 
	g‹rmId
 = 
t
;

485 if(
	g‹rmId
==-1)

488 
	gveùÜ
<> 
	g»mašd”1
;

489 
	gveùÜ
<> 
	g»mašd”2
;

490 if(
	gcommÚEËms
.
size
()!=
şau£s
[
i
]->
©oms
[
j
]->
‹rms
[
‹rmId
]->
domaš
.size())

492 
veùÜ
<> 
»maššg1
(
şau£s
[
i
]->
©oms
[
j
]->
‹rms
[
‹rmId
]->
domaš
.
size
()-
commÚEËms
.size());

493 
£t_difã»nû
(
şau£s
[
i
]->
©oms
[
j
]->
‹rms
[
‹rmId
]->
domaš
.
begš
(),

494 
şau£s
[
i
]->
©oms
[
j
]->
‹rms
[
‹rmId
]->
domaš
.
’d
()

495 ,
commÚEËms
.
begš
(),commÚEËms.
’d
(),
»maššg1
.begin());

496 
	g»mašd”1
 = 
»maššg1
;

498 if(
	gcommÚEËms
.
size
()!=
şau£s
[
k
]->
©oms
[
m
]->
‹rms
[
‹rmId
]->
domaš
.size())

500 
veùÜ
<> 
»maššg2
(
şau£s
[
k
]->
©oms
[
m
]->
‹rms
[
‹rmId
]->
domaš
.
size
()-
commÚEËms
.size());

501 
£t_difã»nû
(
şau£s
[
k
]->
©oms
[
m
]->
‹rms
[
‹rmId
]->
domaš
.
begš
(),

502 
şau£s
[
k
]->
©oms
[
m
]->
‹rms
[
‹rmId
]->
domaš
.
’d
()

503 ,
commÚEËms
.
begš
(),commÚEËms.
’d
(),
»maššg2
.begin());

504 
	g»mašd”2
 = 
»maššg2
;

507 if(
	g»mašd”1
.
size
()>0)

509 
	gchªged
=
Œue
;

510 
	gşau£s
[
i
]->
	g©oms
[
j
]->
	g‹rms
[
‹rmId
]->
	gdomaš
.
ş—r
();

511 
	gşau£s
[
i
]->
	g©oms
[
j
]->
	g‹rms
[
‹rmId
]->
	gdomaš
 = 
»mašd”1
;

513 if(
	g»mašd”2
.
size
()>0)

515 
	gchªged
=
Œue
;

516 
	gşau£s
[
k
]->
	g©oms
[
m
]->
	g‹rms
[
‹rmId
]->
	gdomaš
.
ş—r
();

517 
	gşau£s
[
k
]->
	g©oms
[
m
]->
	g‹rms
[
‹rmId
]->
	gdomaš
 = 
»mašd”2
;

519 
boŞ
 
	gu£dcommÚvec
=
çl£
;

520 if(
	gcommÚEËms
.
size
()>0 && 
	g»mašd”1
.size() > 0)

522 
	gchªged
=
Œue
;

523 
WCÏu£
* 
	gc1
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£s
[
i
]);

524 
	gc1
->
	g©oms
[
j
]->
	g‹rms
[
‹rmId
]->
	gdomaš
.
ş—r
();

525 
	gc1
->
	g©oms
[
j
]->
	g‹rms
[
‹rmId
]->
	gdomaš
 = 
commÚEËms
;

526 
	gu£dcommÚvec
 = 
Œue
;

527 
	gşau£s
.
push_back
(
c1
);

529 if(
	gcommÚEËms
.
size
()>0 && 
	g»mašd”2
.size() > 0)

531 
	gchªged
=
Œue
;

532 
WCÏu£
* 
	gc2
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£s
[
k
]);

533 
	gc2
->
	g©oms
[
m
]->
	g‹rms
[
‹rmId
]->
	gdomaš
.
ş—r
();

534 if(!
	gu£dcommÚvec
)

535 
	gc2
->
	g©oms
[
m
]->
	g‹rms
[
‹rmId
]->
	gdomaš
 = 
commÚEËms
;

539 
	gc2
->
	g©oms
[
m
]->
	g‹rms
[
‹rmId
]->
	gdomaš
.
»size
(
commÚEËms
.
size
());

540 
	gjj
=0;jj<
	gcommÚEËms
.
size
();jj++)

542 
	gc2
->
	g©oms
[
m
]->
	g‹rms
[
‹rmId
]->
	gdomaš
[
jj
] = 
commÚEËms
[jj];

545 
	gşau£s
.
push_back
(
c2
);

551 if(!
	gchªged
)

556 
	gLNÜm®iz”
::
toNÜm®FÜm
(
P»diÿ‹SymbŞ
* 
symbŞ
,
veùÜ
<
WCÏu£
*>& 
şau£s
) {

558 
	gveùÜ
<
	gWCÏu£
*> 
	gÃw_şau£s
;

559 
	gveùÜ
<
	gWCÏu£
*> 
	gsymbŞ_şau£s
;

560 
	gveùÜ
<> 
	gsymbŞ_loc
;

561 
size_t
 
	gi
 = 0; i < 
	gşau£s
.
size
(); i++) {

562 
boŞ
 
	g»Ëvªt
 = 
çl£
;

563 
size_t
 
	gj
 = 0; j < 
	gşau£s
[
i
]->
	g©oms
.
size
(); j++) {

564 ià(
	gşau£s
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	gid
 =ğ
symbŞ
->
id
)

566 
symbŞ_şau£s
.
push_back
(
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£s
[
i
]));

567 
	gsymbŞ_loc
.
push_back
(
j
);

568 
	g»Ëvªt
 = 
Œue
;

572 ià(!
	g»Ëvªt
)

573 
	gÃw_şau£s
.
push_back
(
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£s
[
i
]));

575 
size_t
 
	gi
 = 0; i < 
	gsymbŞ
->
	gv¬ŸbË_ty³s
.
size
(); i++) {

576 
boŞ
 
	gchªged
 = 
Œue
;

577 
	gchªged
) {

578 
	gchªged
 = 
çl£
;

579 
size_t
 
	ga
 = 0;‡ < 
	gsymbŞ_şau£s
.
size
();‡++) {

580 ià(!
	gsymbŞ_şau£s
[
a
]->
v®id
()) ;

581 
size_t
 
	gb
 = 
a
 + 1; b < 
	gsymbŞ_şau£s
.
size
(); b++) {

582 ià(!
	gsymbŞ_şau£s
[
b
]->
v®id
()) ;

583 
	gj
 = 
symbŞ_loc
[
a
];

584 
	gk
 = 
symbŞ_loc
[
b
];

585 
	gveùÜ
<>& 
	gvec1
 =

586 
symbŞ_şau£s
[
a
]->
©oms
[
j
]->
‹rms
[
i
]->
domaš
;

587 
	gveùÜ
<>& 
	gvec2
 =

588 
symbŞ_şau£s
[
b
]->
©oms
[
k
]->
‹rms
[
i
]->
domaš
;

591 ià(
	gvec1
 =ğ
vec2
 || 
is_disjošt
(
vec1
, vec2)) {

594 
	gchªged
 = 
Œue
;

595 
WCÏu£
* 
	gşau£1
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
symbŞ_şau£s
[
a
]);

596 
WCÏu£
* 
	gşau£2
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
symbŞ_şau£s
[
b
]);

597 
do_£t_difã»nû
(
vec1
, 
vec2
,

598 
şau£1
->
©oms
[
j
]->
‹rms
[
i
]->
domaš
);

599 
do_£t_difã»nû
(
vec2
, 
vec1
,

600 
şau£2
->
©oms
[
k
]->
‹rms
[
i
]->
domaš
);

601 
do_£t_š‹r£ùiÚ
(
vec1
, 
vec2
, vec1);

602 
	gvec2
 = 
vec1
;

603 
	gsymbŞ_şau£s
.
push_back
(
şau£1
);

604 
	gsymbŞ_loc
.
push_back
(
j
);

605 
	gsymbŞ_şau£s
.
push_back
(
şau£2
);

606 
	gsymbŞ_loc
.
push_back
(
k
);

610 ià(
	gchªged
)

615 
	gi
 = 0; i < 
	gsymbŞ_şau£s
.
size
(); i++){

616 if(
	gsymbŞ_şau£s
[
i
]->
v®id
())

617 
	gÃw_şau£s
.
push_back
(
LvrMLN
::
ü—‹_Ãw_şau£
(
symbŞ_şau£s
[
i
]));

622 
ş—nup
(
şau£s
);

623 
ş—nup
(
symbŞ_şau£s
);

624 
	gşau£s
 = 
Ãw_şau£s
;

	@liftedinfer/common/src/propositionalresolution.cpp

1 
	~"´İos™iÚ®»sŞutiÚ.h
"

2 
	~"ş—nuputs.h
"

5 
	gPrİos™iÚ®ResŞutiÚ
::
doPrİos™iÚ®S¶™
(
veùÜ
<
WCÏu£
*> 
CNF
, 
Atom
* 
©om
,veùÜ<veùÜ<WCÏu£*> >& 
»sŞvedCNFLi¡
)

7 
	gveùÜ
<
	gWCÏu£
*> 
	gposCÏu£s
;

8 
	gveùÜ
<
	gWCÏu£
*> 
	gÃgCÏu£s
;

9 
	gLvrMLN
::
cİyAÎCÏu£s
(
CNF
,
posCÏu£s
);

10 
	gLvrMLN
::
cİyAÎCÏu£s
(
CNF
,
ÃgCÏu£s
);

11 
	g»sŞvedCNFLi¡
.
»size
(2);

12 
	gi
=0;i<
	gCNF
.
size
();i++)

14 
	gveùÜ
<> 
	gm©chšgIndexes
;

15 
	gj
=0;j<
	gCNF
[
i
]->
	g©oms
.
size
();j++)

17 if(
	gCNF
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	gid
 =ğ
©om
->
symbŞ
->
id
)

19 if(
m©chšgIndexes
.
size
()==0)

21 if(
CNF
[
i
]->
sign
[
j
])

24 
ÃgCÏu£s
[
i
]->
§tisf›d
 = 
Œue
;

28 
	gposCÏu£s
[
i
]->
	g§tisf›d
 = 
Œue
;

31 
	gm©chšgIndexes
.
push_back
(
j
);

34 if(
	gm©chšgIndexes
.
size
() > 1)

36 
	gcout
<<"E¼Ü"<<
	g’dl
;

38 
	g»movedCÁ
 = 0;

39 
	gj
=0;j<
	gm©chšgIndexes
.
size
();j++)

41 
	gÃgCÏu£s
[
i
]->
»moveAtom
(
m©chšgIndexes
[
j
]-
»movedCÁ
);

42 
	gposCÏu£s
[
i
]->
»moveAtom
(
m©chšgIndexes
[
j
]-
»movedCÁ
);

43 
	g»movedCÁ
++;

46 
	g»sŞvedCNFLi¡
[0] = 
ÃgCÏu£s
;

47 
	g»sŞvedCNFLi¡
[1] = 
posCÏu£s
;

50 
	gPrİos™iÚ®ResŞutiÚ
::
doPrİos™iÚ®S¶™
(
veùÜ
<
WCÏu£
*> 
CNF
, 
Atom
* 
©om
,veùÜ<WCÏu£*>& 
posCÏu£s
)

52 
	gLvrMLN
::
cİyAÎCÏu£s
(
CNF
,
posCÏu£s
);

53 
	gi
=0;i<
	gCNF
.
size
();i++)

55 
boŞ
 
	gfound
=
çl£
;

56 
	gj
=0;j<
	gCNF
[
i
]->
	g©oms
.
size
();j++)

58 if(
	gCNF
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	gid
 =ğ
©om
->
symbŞ
->
id
)

60 if(
CNF
[
i
]->
sign
[
j
])

63 
CNF
[
i
]->
§tisf›d
 = 
Œue
;

67 
	gposCÏu£s
[
i
]->
	g§tisf›d
 = 
Œue
;

69 
	gCNF
[
i
]->
»moveAtom
(
j
);

70 
	gposCÏu£s
[
i
]->
»moveAtom
(
j
);

71 
	gfound
=
Œue
;

75 if(!
	gfound
)

76 
	gposCÏu£s
.
push_back
(
LvrMLN
::
ü—‹_Ãw_şau£
(
CNF
[
i
]));

81 
	gPrİos™iÚ®ResŞutiÚ
::
doPrİos™iÚ®S¶™S–fJošs
(
veùÜ
<
WCÏu£
*> 
CNF
, 
Atom
* 
©om
,veùÜ<veùÜ<WCÏu£*> >& 
»sŞvedCNFLi¡
)

83 
	gveùÜ
<
	gWCÏu£
*> 
	gposCÏu£s
;

84 
	gveùÜ
<
	gWCÏu£
*> 
	gÃgCÏu£s
;

87 
	gLvrMLN
::
cİyAÎCÏu£s
(
CNF
,
posCÏu£s
);

88 
	gLvrMLN
::
cİyAÎCÏu£s
(
CNF
,
ÃgCÏu£s
);

89 
	g»sŞvedCNFLi¡
.
»size
(2);

90 
	gi
=0;i<
	gCNF
.
size
();i++)

93 
	gveùÜ
<> 
	gm©chšgIndexes
;

94 
	gsignCÁ
 = 0;

95 
	gj
=0;j<
	gCNF
[
i
]->
	g©oms
.
size
();j++)

97 if(
	gCNF
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	gid
 =ğ
©om
->
symbŞ
->
id
)

99 
m©chšgIndexes
.
push_back
(
j
);

100 if(!
	gCNF
[
i
]->
	gsign
[
j
])

101 
	gsignCÁ
++;

104 if(
	gm©chšgIndexes
.
size
()==0)

109 if(
	gsignCÁ
 == 0)

111 
ÃgCÏu£s
[
i
]->
§tisf›d
 = 
Œue
;

113 if(
	gsignCÁ
 =ğ
m©chšgIndexes
.
size
())

115 
posCÏu£s
[
i
]->
§tisf›d
 = 
Œue
;

119 
	gÃgCÏu£s
[
i
]->
	g§tisf›d
 = 
Œue
;

120 
	gposCÏu£s
[
i
]->
	g§tisf›d
 = 
Œue
;

122 
	g»movedCÁ
 = 0;

123 
	gj
=0;j<
	gm©chšgIndexes
.
size
();j++)

125 
	gÃgCÏu£s
[
i
]->
»moveAtom
(
m©chšgIndexes
[
j
]-
»movedCÁ
);

126 
	gposCÏu£s
[
i
]->
»moveAtom
(
m©chšgIndexes
[
j
]-
»movedCÁ
);

127 
	g»movedCÁ
++;

131 
	g»sŞvedCNFLi¡
[0] = 
ÃgCÏu£s
;

132 
	g»sŞvedCNFLi¡
[1] = 
posCÏu£s
;

	@liftedinfer/common/src/queryupdater.cpp

1 
	~"qu”yupd©”.h
"

2 
	~"¿ndomg’ut.h
"

3 
	~<as£¹.h
>

4 
	~"feuts.h
"

5 
LvrQu”yUpd©”
* 
	gLvrQu”yUpd©”
::
m_pIn¡ªû
 = 
NULL
;

7 
LvrQu”yUpd©”
* 
	gLvrQu”yUpd©”
::
	$In¡ªû
()

10 
	`as£¹
(
m_pIn¡ªû
!=
NULL
);

11  
m_pIn¡ªû
;

12 
	}
}

14 
	gLvrQu”yUpd©”
::
ü—‹In¡ªû
(
veùÜ
<veùÜ<> > 
qu”yIÁR•
,veùÜ<
¡ršg
> 
qu”ySŒšgs
, sŒšg 
»suÉf’ame
,

15 
veùÜ
<veùÜ<> >* 
evid’ûIÁR•
)

17 
	gm_pIn¡ªû
 = 
Ãw
 
LvrQu”yUpd©”
(
qu”yIÁR•
,
qu”ySŒšgs
,
evid’ûIÁR•
);

18 
	gLFeUts
::
ü—‹OutFeIn¡ªû
(
»suÉf’ame
);

21 
boŞ
 
	gLvrQu”yUpd©”
::
	$isIn¡ªûC»©ed
()

23 if(
m_pIn¡ªû
!=
NULL
)

24  
Œue
;

26  
çl£
;

27 
	}
}

29 
	gLvrQu”yUpd©”
::
LvrQu”yUpd©”
(
veùÜ
<veùÜ<> > 
qu”yIÁR•
,veùÜ<
¡ršg
> 
qu”ySŒšgs
,veùÜ<veùÜ<> >* 
evid’ûIÁR•
)

31 
	glvrAtomHashTem¶©e
 = 
Ãw
 
LvrAtomHashTem¶©e
<>();

32 
	glvrAtomHashUpd©eFÏgs
 = 
Ãw
 
LvrAtomHashTem¶©e
<
boŞ
>();

33 
	gqu”yHashTem¶©e
 = 
Ãw
 
LvrAtomHashTem¶©e
<
¡ršg
>();

34 
	gcu¼’tSam¶edV®ue
 = 
Ãw
 
LvrAtomHashTem¶©e
<>();

35 
	gcumuÏtiveWeight
 = 
Ãw
 
LvrAtomHashTem¶©e
<
LogDoubË
*>();

36 
	gi
=0;i<
	gqu”yIÁR•
.
size
();i++)

38 
LogDoubË
* 
	gld
 = 
Ãw
 LogDoubË(0,
çl£
);

39 
	gcumuÏtiveWeight
->
š£¹
(
qu”yIÁR•
[
i
],
ld
);

40 
	glvrAtomHashTem¶©e
->
š£¹
(
qu”yIÁR•
[
i
],0);

41 
	glvrAtomHashUpd©eFÏgs
->
š£¹
(
qu”yIÁR•
[
i
],
çl£
);

42 
	gcu¼’tSam¶edV®ue
->
š£¹
(
qu”yIÁR•
[
i
],0);

43 if(
	gqu”ySŒšgs
.
size
() > 0)

44 
	gqu”yHashTem¶©e
->
š£¹
(
qu”yIÁR•
[
i
],
qu”ySŒšgs
[i]);

45 
	gqu”yNÜmIds
.
š£¹
(
·œ
<,
boŞ
>(
qu”yIÁR•
[
i
].
©
(0),0));

47 if(
	gevid’ûIÁR•
)

49 
	gi
=0;i<
	gevid’ûIÁR•
->
size
();i++)

51 
	glvrAtomHashTem¶©e
->
d–‘eEÁry
((*
evid’ûIÁR•
)[
i
]);

52 
	glvrAtomHashUpd©eFÏgs
->
d–‘eEÁry
((*
evid’ûIÁR•
)[
i
]);

53 
	gcu¼’tSam¶edV®ue
->
d–‘eEÁry
((*
evid’ûIÁR•
)[
i
]);

56 
	gcu¼’tProbab™›s
.
»size
(
lvrAtomHashTem¶©e
->
size
());

59 
	gLvrQu”yUpd©”
::
	$upd©eQu”yV®ues
(
Atom
* 
©om
,
§m¶edTrueV®
)

61 if(!
	`isNÜmIdInQu”y
(
©om
->
symbŞ
->
nÜmP¬’tId
))

63 
Atom
* 
ÜigDomašAtom
 = 
NULL
;

64 
veùÜ
<
boŞ
> 
	`chªgedDomaš
(
©om
->
‹rms
.
	`size
());

65 
veùÜ
<
LvrT”m
*> 
‹rmsToP”mu‹
;

67 
i
=0;i<
©om
->
‹rms
.
	`size
();i++)

69 if(
©om
->
‹rms
[
i
]->
ÜigDomaš
.
	`size
(è>‡tom->‹rms[i]->
domaš
.size())

72 if(!
ÜigDomašAtom
)

73 
ÜigDomašAtom
 = 
LvrMLN
::
	`ü—‹_Ãw_©om
(
©om
);

74 
ÜigDomašAtom
->
‹rms
[
i
]->
domaš
.
	`ş—r
();

75 
ÜigDomašAtom
->
‹rms
[
i
]->
domaš
 = origDomašAtom->‹rms[i]->
ÜigDomaš
;

76 
‹rmsToP”mu‹
.
	`push_back
(
ÜigDomašAtom
->
‹rms
[
i
]);

77 
chªgedDomaš
[
i
] = 
Œue
;

80 if(
ÜigDomašAtom
 =ğ
NULL
)

82 
	`doUpd©eQu”yV®ues
(
©om
,
§m¶edTrueV®
);

85 
veùÜ
<veùÜ<> > 
³rmu‹dLi¡
;

86 
LvrP”mutiÚs
::
	`³rmu‹T”ms
(
‹rmsToP”mu‹
,
³rmu‹dLi¡
);

87 
i
=0;i<
³rmu‹dLi¡
.
	`size
();i++)

89 
™”
=0;

90 
j
=0;j<
chªgedDomaš
.
	`size
();j++)

92 if(!
chªgedDomaš
[
j
])

94 
ÜigDomašAtom
->
‹rms
[
j
]->
domaš
.
	`ş—r
();

95 
ÜigDomašAtom
->
‹rms
[
j
]->
domaš
.
	`push_back
(
³rmu‹dLi¡
[
i
].
	`©
(
™”
++));

97 
	`doUpd©eQu”yV®ues
(
ÜigDomašAtom
,
§m¶edTrueV®
);

99 
d–‘e
 
ÜigDomašAtom
;

100 
	}
}

102 
	gLvrQu”yUpd©”
::
upd©eQu”yV®ues
(
Atom
* 
©om
,
veùÜ
<
boŞ
> 
isŞ©edT”ms
,veùÜ<> 
§m¶edTrueV®s
)

104 if(!
isNÜmIdInQu”y
(
©om
->
symbŞ
->
nÜmP¬’tId
))

106 
Atom
* 
	gÜigDomašAtom
 = 
NULL
;

107 
	gveùÜ
<
	gboŞ
> 
chªgedDomaš
(
©om
->
‹rms
.
size
());

108 
	gveùÜ
<
	gLvrT”m
*> 
	g‹rmsToP”mu‹
;

110 
	gi
=0;i<
	g©om
->
	g‹rms
.
size
();i++)

112 if(
	gisŞ©edT”ms
[
i
])

114 if(
	g©om
->
	g‹rms
[
i
]->
	gÜigDomaš
.
size
(è>‡tom->‹rms[i]->
	gdomaš
.size())

117 if(!
	gÜigDomašAtom
)

118 
	gÜigDomašAtom
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
©om
);

119 
	gÜigDomašAtom
->
	g‹rms
[
i
]->
	gdomaš
.
ş—r
();

120 
	gÜigDomašAtom
->
	g‹rms
[
i
]->
	gdomaš
 = 
ÜigDomašAtom
->
‹rms
[i]->
ÜigDomaš
;

121 
	g‹rmsToP”mu‹
.
push_back
(
ÜigDomašAtom
->
‹rms
[
i
]);

122 
	gchªgedDomaš
[
i
] = 
Œue
;

125 if(
	gÜigDomašAtom
 =ğ
NULL
)

127 
doUpd©eQu”yV®ues
(
©om
,
isŞ©edT”ms
,
§m¶edTrueV®s
);

130 
	gveùÜ
<veùÜ<> > 
	g³rmu‹dLi¡
;

131 
	gLvrP”mutiÚs
::
³rmu‹T”ms
(
‹rmsToP”mu‹
,
³rmu‹dLi¡
);

132 
	gi
=0;i<
	g³rmu‹dLi¡
.
size
();i++)

134 
	g™”
=0;

135 
	gj
=0;j<
	gchªgedDomaš
.
size
();j++)

137 if(!
	gchªgedDomaš
[
j
])

139 
	gÜigDomašAtom
->
	g‹rms
[
j
]->
	gdomaš
.
ş—r
();

140 
	gÜigDomašAtom
->
	g‹rms
[
j
]->
	gdomaš
.
push_back
(
³rmu‹dLi¡
[
i
].
©
(
™”
++));

142 
doUpd©eQu”yV®ues
(
ÜigDomašAtom
,
isŞ©edT”ms
,
§m¶edTrueV®s
);

144 
d–‘e
 
	gÜigDomašAtom
;

147 
	gLvrQu”yUpd©”
::
	$doUpd©eQu”yV®ues
(
Atom
* 
©om
,
§m¶edTrueV®
)

152 if(
©om
->
	`isCÚ¡ªt
())

154 
veùÜ
<> 
	`štR•
(
©om
->
‹rms
.
	`size
()+1);

155 
štR•
[0] = 
©om
->
symbŞ
->
nÜmP¬’tId
;

156 
i
=0;i<
©om
->
‹rms
.
	`size
();i++)

157 
štR•
[
i
+1] = 
©om
->
‹rms
[i]->
domaš
[0];

158 
boŞ
 
v®ue
;

159 
boŞ
 
found
 = 
lvrAtomHashUpd©eFÏgs
->
	`g‘V®ue
(
štR•
,
v®ue
);

160 if(!
found
)

162 if(!
v®ue
)

164 
boŞ
 
assignm’t
 = 
çl£
;

165 if(
§m¶edTrueV®
!=0)

167 
assignm’t
 = 
Œue
;

168 
lvrAtomHashTem¶©e
->
	`šüem’tV®ue
(
©om
,
§m¶edTrueV®
);

171 
cu¼’tSam¶edV®ue
->
	`upd©e
(
©om
,
§m¶edTrueV®
);

172 
lvrAtomHashUpd©eFÏgs
->
	`upd©e
(
©om
,
Œue
);

177 
veùÜ
<veùÜ<> > 
³rmu‹dLi¡
;

178 
LvrP”mutiÚs
::
	`³rmu‹T”ms
(
©om
->
‹rms
,
³rmu‹dLi¡
);

180 
£t
<> 
šdexes
;

181 
šdexes
.
	`size
()!=
§m¶edTrueV®
)

183 
šd
 = 
LvRªdomG’Ut
::
	`In¡ªû
()->
	`g‘RªdomPos™iÚ
(
³rmu‹dLi¡
.
	`size
());

184 
šdexes
.
	`š£¹
(
šd
);

186 
i
=0;i<
³rmu‹dLi¡
.
	`size
();i++)

188 
veùÜ
<> 
	`štR•
(
³rmu‹dLi¡
[
i
].
	`size
()+1);

189 
štR•
[0] = 
©om
->
symbŞ
->
nÜmP¬’tId
;

190 
jj
=0;jj<
³rmu‹dLi¡
[
i
].
	`size
();jj++)

191 
štR•
[
jj
+1] = 
³rmu‹dLi¡
[
i
].
	`©
(jj);

192 
boŞ
 
v®ue
;

193 
boŞ
 
found
 = 
lvrAtomHashUpd©eFÏgs
->
	`g‘V®ue
(
štR•
,
v®ue
);

194 if(!
found
)

196 if(!
v®ue
)

199 
assignm’t
 = 0;

200 if(
šdexes
.
	`fšd
(
i
)!=šdexes.
	`’d
())

202 
lvrAtomHashTem¶©e
->
	`šüem’tV®ue
(
štR•
,1);

204 
assignm’t
 = 1;

207 
cu¼’tSam¶edV®ue
->
	`upd©e
(
štR•
,
assignm’t
);

208 
lvrAtomHashUpd©eFÏgs
->
	`upd©e
(
štR•
,
Œue
);

212 
	}
}

214 
	gLvrQu”yUpd©”
::
doUpd©eQu”yV®ues
(
Atom
* 
©om
,
veùÜ
<
boŞ
> 
isŞ©edT”ms
,veùÜ<> 
§m¶edTrueV®s
)

219 
	gveùÜ
<
	gLvrT”m
*> 
	g™”ms
;

220 
	gveùÜ
<
	gLvrT”m
*> 
	gn™”ms
;

221 
	gi
=0;i<
	g©om
->
	g‹rms
.
size
();i++)

223 if(!
	gisŞ©edT”ms
[
i
])

225 
	gn™”ms
.
push_back
(
©om
->
‹rms
[
i
]);

229 
	g™”ms
.
push_back
(
©om
->
‹rms
[
i
]);

232 
	gveùÜ
<veùÜ<> > 
	g³rmu‹dLi¡
;

233 
	gLvrP”mutiÚs
::
³rmu‹T”ms
(
n™”ms
,
³rmu‹dLi¡
);

234 
	gveùÜ
<veùÜ<> > 
	g³rmu‹dLi¡1
;

235 
	gLvrP”mutiÚs
::
³rmu‹T”ms
(
™”ms
,
³rmu‹dLi¡1
);

236 
	gveùÜ
<> 
groundšg
(
©om
->
‹rms
.
size
());

237 
	gi
=0;i<
	g³rmu‹dLi¡
.
size
();i++)

239 
	g™”
=0;

240 
	gjj
=0;jj<
	ggroundšg
.
size
();jj++)

242 if(!
	gisŞ©edT”ms
[
jj
])

243 
	ggroundšg
[
jj
] = 
³rmu‹dLi¡
[
i
].
©
(
™”
);

247 
	gveùÜ
<> 
	gšdexesToS‘True
;

248 
	gcouÁInd
 = 0;

249 
	gcouÁInd
!=
§m¶edTrueV®s
[
i
])

251 
šd
 = 
LvRªdomG’Ut
::
In¡ªû
()->
g‘RªdomPos™iÚ
(
³rmu‹dLi¡1
.
size
());

252 if(
fšd
(
šdexesToS‘True
.
begš
(),šdexesToS‘True.
’d
(),
šd
)==indexesToSetTrue.end())

255 
šdexesToS‘True
.
push_back
(
šd
);

256 
	gcouÁInd
++;

260 
	gkk
=0;kk<
	g³rmu‹dLi¡1
.
size
();kk++)

262 
	g™”
 = 0;

263 
	gjj
=0;jj<
	ggroundšg
.
size
();jj++)

265 if(
	gisŞ©edT”ms
[
jj
])

266 
	ggroundšg
[
jj
] = 
³rmu‹dLi¡1
[
kk
].
©
(
™”
);

268 
	gveùÜ
<> 
štR•
(
groundšg
.
size
()+1);

270 
	gštR•
[0]=
©om
->
symbŞ
->
nÜmP¬’tId
;

271 
	gjj
=0;jj<
	ggroundšg
.
size
();jj++)

272 
	gštR•
[
jj
+1] = 
groundšg
[jj];

273 
boŞ
 
	gv®ue
;

274 
boŞ
 
	gfound
 = 
lvrAtomHashUpd©eFÏgs
->
g‘V®ue
(
štR•
,
v®ue
);

275 if(!
	gfound
)

277 if(!
	gv®ue
)

280 
	gassignm’t
=0;

281 if(
fšd
(
šdexesToS‘True
.
begš
(),šdexesToS‘True.
’d
(),
kk
)!=indexesToSetTrue.end())

283 
lvrAtomHashTem¶©e
->
šüem’tV®ue
(
štR•
,1);

285 
	gassignm’t
 = 1;

287 
	gcu¼’tSam¶edV®ue
->
upd©e
(
štR•
,
assignm’t
);

288 
	glvrAtomHashUpd©eFÏgs
->
upd©e
(
štR•
,
Œue
);

303 
	gLvrQu”yUpd©”
::
	$upd©eQu”yV®uesLVGibbs
(
Atom
* 
©om
,
§m¶edTrueV®
)

305 if(!
	`isNÜmIdInQu”y
(
©om
->
symbŞ
->
nÜmP¬’tId
))

308 if(
©om
->
	`isCÚ¡ªt
())

310 
veùÜ
<> 
	`štR•
(
©om
->
‹rms
.
	`size
()+1);

311 
štR•
[0] = 
©om
->
symbŞ
->
nÜmP¬’tId
;

312 
i
=0;i<
©om
->
‹rms
.
	`size
();i++)

313 
štR•
[
i
+1] = 
©om
->
‹rms
[i]->
domaš
[0];

314 
boŞ
 
v®ue
;

315 
boŞ
 
found
 = 
lvrAtomHashUpd©eFÏgs
->
	`g‘V®ue
(
štR•
,
v®ue
);

316 if(!
found
)

318 if(!
v®ue
)

320 
boŞ
 
assignm’t
 = 
çl£
;

321 if(
§m¶edTrueV®
!=0)

323 
assignm’t
 = 
Œue
;

324 
lvrAtomHashTem¶©e
->
	`šüem’tV®ue
(
©om
,
§m¶edTrueV®
);

327 
cu¼’tSam¶edV®ue
->
	`upd©e
(
©om
,
§m¶edTrueV®
);

328 
lvrAtomHashUpd©eFÏgs
->
	`upd©e
(
©om
,
Œue
);

333 
veùÜ
<veùÜ<> > 
³rmu‹dLi¡
;

334 
LvrP”mutiÚs
::
	`³rmu‹T”ms
(
©om
->
‹rms
,
³rmu‹dLi¡
);

336 
£t
<> 
šdexes
;

337 
šdexes
.
	`size
()!=
§m¶edTrueV®
)

339 
šd
 = 
LvRªdomG’Ut
::
	`In¡ªû
()->
	`g‘RªdomPos™iÚ
(
³rmu‹dLi¡
.
	`size
());

340 
šdexes
.
	`š£¹
(
šd
);

342 
i
=0;i<
³rmu‹dLi¡
.
	`size
();i++)

344 
veùÜ
<> 
	`štR•
(
³rmu‹dLi¡
[
i
].
	`size
()+1);

345 
štR•
[0] = 
©om
->
symbŞ
->
nÜmP¬’tId
;

346 
jj
=0;jj<
³rmu‹dLi¡
[
i
].
	`size
();jj++)

347 
štR•
[
jj
+1] = 
³rmu‹dLi¡
[
i
].
	`©
(jj);

348 
boŞ
 
v®ue
;

349 
boŞ
 
found
 = 
lvrAtomHashUpd©eFÏgs
->
	`g‘V®ue
(
štR•
,
v®ue
);

350 if(!
found
)

352 if(!
v®ue
)

355 
assignm’t
 = 0;

356 if(
šdexes
.
	`fšd
(
i
)!=šdexes.
	`’d
())

358 
lvrAtomHashTem¶©e
->
	`šüem’tV®ue
(
štR•
,1);

360 
assignm’t
 = 1;

363 
cu¼’tSam¶edV®ue
->
	`upd©e
(
štR•
,
assignm’t
);

364 
lvrAtomHashUpd©eFÏgs
->
	`upd©e
(
štR•
,
Œue
);

368 
	}
}

371 
	gLvrQu”yUpd©”
::
	$upd©eDÚtC¬e
()

373 
veùÜ
<
boŞ
> 
v®ues
;

374 
veùÜ
<> 
keys
;

375 
lvrAtomHashUpd©eFÏgs
->
	`g‘AÎKeyV®uePaœs
(
keys
,
v®ues
);

376 
i
=0;i<
v®ues
.
	`size
();i++)

378 if(!
v®ues
[
i
])

380 
boŞ
 
assignm’t
 = 
çl£
;

381 
v
 = 
LvRªdomG’Ut
::
	`In¡ªû
()->
	`g‘NÜmRªd
();

382 if(
v
 > 0.5)

384 
assignm’t
 = 
Œue
;

385 
lvrAtomHashTem¶©e
->
	`šüem’tIÁV®ue
(
keys
[
i
]);

388 
cu¼’tSam¶edV®ue
->
	`£tV®ue
(
keys
[
i
],-1);

390 
lvrAtomHashUpd©eFÏgs
->
	`£tV®ue
(
keys
[
i
],
çl£
);

392 
	}
}

394 
	gLvrQu”yUpd©”
::
	$nÜm®ize
(
™”©iÚs
)

396 
veùÜ
<> 
mËCouÁs
 = 
lvrAtomHashTem¶©e
->
	`g‘AÎD©a
();

397 
i
=0;i<
mËCouÁs
.
	`size
();i++)

399 
cu¼’tProbab™›s
[
i
] = ()
mËCouÁs
[i]/()
™”©iÚs
;

401 
	}
}

403 
	gLvrQu”yUpd©”
::
	$wr™eToFe
(
numI‹¿tiÚs
)

405 
	`nÜm®ize
(
numI‹¿tiÚs
);

406 
veùÜ
<
¡ršg
> 
qu”ySŒšgs
 = 
qu”yHashTem¶©e
->
	`g‘AÎD©a
();

407 
LFeUts
::
	`In¡ªû
()->
	`upd©eFe
(
cu¼’tProbab™›s
,
qu”ySŒšgs
);

408 
	}
}

410 
	gLvrQu”yUpd©”
::
	$upd©eAÎImpÜnûWeights
(
LogDoubË
 
cu¼’tI‹rWeight
)

412 
veùÜ
<
LogDoubË
*> 
v®ues
;

413 
veùÜ
<> 
keys
;

414 
cumuÏtiveWeight
->
	`g‘AÎKeyV®uePaœs
(
keys
,
v®ues
);

415 
i
=0;i<
keys
.
	`size
();i++)

418 
§m¶eV®ue
;

419 
boŞ
 
found
 = 
cu¼’tSam¶edV®ue
->
	`g‘V®ue
(
keys
[
i
],
§m¶eV®ue
);

420 if(!
found
)

422 if(
§m¶eV®ue
 == 0)

424 if(
§m¶eV®ue
==1)

425 (*
v®ues
[
i
]èğ(*v®ues[i]è+ 
cu¼’tI‹rWeight
;

426 if(
§m¶eV®ue
 == -1)

427 (*
v®ues
[
i
]èğ(*v®ues[i]è+ 
cu¼’tI‹rWeight
/
	`LogDoubË
(2,
çl£
);

429 
	}
}

431 
	gLvrQu”yUpd©”
::
	$wr™eToFe
(
LogDoubË
 
tÙ®Weight
)

433 
veùÜ
<
LogDoubË
*> 
v®ues
;

434 
veùÜ
<> 
keys
;

435 
cumuÏtiveWeight
->
	`g‘AÎKeyV®uePaœs
(
keys
,
v®ues
);

436 
veùÜ
<
LogDoubË
> 
	`´obab™›s
(
v®ues
.
	`size
());

437 
i
=0;i<
v®ues
.
	`size
();i++)

439 
LogDoubË
 
p
 = (*
v®ues
[
i
])/
tÙ®Weight
;

445 
´obab™›s
[
i
] = 
p
;

448 
veùÜ
<
¡ršg
> 
qu”ySŒšgs
 = 
qu”yHashTem¶©e
->
	`g‘AÎD©a
();

449 
LFeUts
::
	`In¡ªû
()->
	`upd©eFe
(
´obab™›s
,
qu”ySŒšgs
);

450 
	}
}

452 
	gLvrQu”yUpd©”
::
g‘Cu¼’tSam¶eV®ue
(
veùÜ
<> 
qu”yštR•
)

455 
v®ue
;

456 
boŞ
 
	gfound
 = 
cu¼’tSam¶edV®ue
->
g‘V®ue
(
qu”yštR•
,
v®ue
);

457 if(!
	gfound
)

459 if(
	gv®ue
 < 0)

462 
	gr
=
LvRªdomG’Ut
::
In¡ªû
()->
g‘NÜmRªd
();

463 if(
	gr
 < 0.5)

464 
	gv®ue
 = 0;

466 
	gv®ue
 = 1;

468  
	gv®ue
;

471 
	gLvrQu”yUpd©”
::
upd©eExaùQu”yWeights
(
£t
<> 
qu”yHashes
,
LogDoubË
 
v®ue
)

473 if(
	gv®ue
.
	gis_z”o
)

475 
	g£t
<>::
™”©Ü
 
™
 = 
qu”yHashes
.
begš
();
	g™
!=qu”yHashes.
’d
();it++)

477 
LogDoubË
* 
	gld
 = 
Ãw
 LogDoubË(0,
çl£
);

478 
	gcumuÏtiveWeight
->
g‘V®ue
((*
™
),
ld
);

479 (*
	gld
è+ğ
v®ue
;

480 
	gcumuÏtiveWeight
->
£tV®ue
((*
™
),
ld
);

	@liftedinfer/common/src/randomgenutil.cpp

1 
	~"¿ndomg’ut.h
"

2 
	~<time.h
>

3 
	~<¡dlib.h
>

4 
LvRªdomG’Ut
* 
	gLvRªdomG’Ut
::
m_pIn¡ªû
 = 
NULL
;

6 
LvRªdomG’Ut
* 
	gLvRªdomG’Ut
::
	$In¡ªû
()

8 if(!
m_pIn¡ªû
)

10 
m_pIn¡ªû
 = 
Ãw
 
	`LvRªdomG’Ut
();

12  
m_pIn¡ªû
;

13 
	}
}

15 
	gLvRªdomG’Ut
::
	$LvRªdomG’Ut
()

17 
	`¤ªd
(
	`time
(
NULL
));

19 
	}
}

21 
	gLvRªdomG’Ut
::
	$g‘RªdomPos™iÚ
(
maxSize
)

23  
	`¿nd
()%
maxSize
;

24 
	}
}

26 
	gLvRªdomG’Ut
::
	$g‘NÜmRªd
()

28  ()
	`¿nd
()/()
RAND_MAX
;

29 
	}
}

	@liftedinfer/common/src/samplingalgs.cpp

1 
	~"§m¶šg®gs.h
"

2 
	~"m©huts.h
"

3 
	~"¿ndomg’ut.h
"

4 
	~<®gÜ™hm
>

5 
usšg
 
Çme¥aû
 
	g¡d
;

7 
LSam¶šgAlgs
* 
	gLSam¶šgAlgs
::
m_pIn¡ªû
 = 
NULL
;

9 
LSam¶šgAlgs
* 
	gLSam¶šgAlgs
::
	$In¡ªû
()

11 ià(!
m_pIn¡ªû
)

12 
m_pIn¡ªû
 = 
Ãw
 
LSam¶šgAlgs
;

13  
m_pIn¡ªû
;

14 
	}
}

16 
	gLSam¶šgAlgs
::
	$LSam¶šgAlgs
()

18 
	}
}

20 
LSam¶šgAlgs
::
§m¶e
(
domašSize
,
numV®uesToSam¶e
,
LogDoubË
& 
§m¶eWeight
,

21 
veùÜ
<>& 
§m¶edV®ues
,
ESam¶šgMode
 
§m¶šgMode
, 
LPrİo§lDi¡ributiÚEËm’t
* 
Íe
)

23 
	g§m¶šgMode
)

25 
	gEUNIFORM
:

27 
LogDoubË
 
bšCÛff
(1,
çl£
);

28 
	gi
=0;i<
	gnumV®uesToSam¶e
;i++)

30 
	g§m¶edV®ues
.
push_back
(
LvRªdomG’Ut
::
In¡ªû
()->
g‘RªdomPos™iÚ
(
domašSize
 + 1));

31 
LogDoubË
 
	gb
 = 
LM©hUts
::
In¡ªû
()->
g‘CÛff
(
domašSize
,
§m¶edV®ues
[
i
]);

32 
	gbšCÛff
 *ğ
b
;

34 
	gp
 = ()
numV®uesToSam¶e
/()(
domašSize
 + 1);

35 
	g§m¶eWeight
 = 
bšCÛff
/
LogDoubË
(
p
,
çl£
);

38 
	gEBINOMIAL
:

40 
LogDoubË
 
´ob
(1,
çl£
);

41 
LogDoubË
 
bšCÛff
(1,
çl£
);

42 
	gi
=0;i<
	gnumV®uesToSam¶e
;i++)

44 
LogDoubË
 
p
(1,
çl£
);

45 
	gv®
;

46 
	gLM©hUts
::
In¡ªû
()->
§m¶e
(
domašSize
,
p
,
v®
);

47 
	g´ob
 *ğ
p
;

48 if(
	gv®
<0)

49 
	gv®
 = 0;

50 
	g§m¶edV®ues
.
push_back
(
v®
);

51 
LogDoubË
 
	gb
 = 
LM©hUts
::
In¡ªû
()->
g‘CÛff
(
domašSize
,
§m¶edV®ues
[
i
]);

52 
	gbšCÛff
 *ğ
b
;

54 
	g§m¶eWeight
 = 
bšCÛff
/
´ob
;

59 if(
Íe
!=
NULL
)

61 
LogDoubË
 
bšCÛff
(1,
çl£
);

62 
LogDoubË
 
´ob
(1,
çl£
);

63 if(
	g§m¶šgMode
 =ğ
EINFORMED
)

64 
Íe
->
§m¶e
(
´ob
,
§m¶edV®ues
,
domašSize
);

66 
	gÍe
->
§m¶e
(
´ob
,
§m¶edV®ues
);

67 if(
	g§m¶edV®ues
.
size
(è< 
	gnumV®uesToSam¶e
)

69 
	gcu¼Size
 = 
§m¶edV®ues
.
size
();

71 
	gi
=0;i<
	gnumV®uesToSam¶e
 - 
	gcu¼Size
;i++)

73 
LogDoubË
 
p
(1,
çl£
);

74 
	gv®
;

75 
	gLM©hUts
::
In¡ªû
()->
§m¶e
(
domašSize
,
p
,
v®
);

76 
	g´ob
 *ğ
p
;

77 
	g§m¶edV®ues
.
push_back
(
v®
);

80 
	gi
=0;i<
	gnumV®uesToSam¶e
;i++)

82 
LogDoubË
 
	gb
 = 
LM©hUts
::
In¡ªû
()->
g‘CÛff
(
domašSize
,
§m¶edV®ues
[
i
]);

83 
	gbšCÛff
 *ğ
b
;

85 
	g§m¶eWeight
 = 
bšCÛff
/
´ob
;

90 
LogDoubË
 
bšCÛff
(1,
çl£
);

91 
	gi
=0;i<
	gnumV®uesToSam¶e
;i++)

93 
	g§m¶edV®ues
.
push_back
(
LvRªdomG’Ut
::
In¡ªû
()->
g‘RªdomPos™iÚ
(
domašSize
 + 1));

94 
LogDoubË
 
	gb
 = 
LM©hUts
::
In¡ªû
()->
g‘CÛff
(
domašSize
,
§m¶edV®ues
[
i
]);

95 
	gbšCÛff
 *ğ
b
;

97 
	gp
 = ()
numV®uesToSam¶e
/()(
domašSize
 + 1);

98 
	g§m¶eWeight
 = 
bšCÛff
/
LogDoubË
(
p
,
çl£
);

	@liftedinfer/common/src/setutils.h

20 #iâdeà
UTIL_HPP


21 
	#UTIL_HPP


	)

22 
	~<io¡»am
>

23 
	~<veùÜ
>

24 
	~<®gÜ™hm
>

27 
usšg
 
Çme¥aû
 
	g¡d
;

29 
	g‹m¶©e
<
ty³Çme
 
	g_CÏs¢ame
>

30 
do_£t_uniÚ
(cÚ¡ 
veùÜ
<
_CÏs¢ame
> &
a
, cÚ¡ veùÜ<_CÏs¢ame> &
b
, veùÜ<_CÏs¢ame> &
c_
)

32 
	gveùÜ
<
	g_CÏs¢ame
> 
	gc
;

33 
	gc
.
»size
(
a
.
size
()+
b
.size());

34 
ty³Çme
 
	gveùÜ
<
	g_CÏs¢ame
>::
™”©Ü
 
cu¼
,
	gÏ¡
;

35 
	gÏ¡
=
c
.
’d
();

36 
	gcu¼
=
£t_uniÚ
(
a
.
begš
(),a.
’d
(),
b
.begš(),b.’d(),
c
.begin());

37 
	gc
.
”a£
(
cu¼
,
Ï¡
);

38 
	gc_
=
c
;

41 
	g‹m¶©e
<
ty³Çme
 
	g_CÏs¢ame
,y³Çm
	g_Com·»
>

42 
do_£t_uniÚ
(cÚ¡ 
veùÜ
<
_CÏs¢ame
> &
a
, cÚ¡ veùÜ<_CÏs¢ame> &
b
, veùÜ<_CÏs¢ame> &
c_
,
_Com·»
 
comp
)

44 
	gveùÜ
<
	g_CÏs¢ame
> 
	gc
;

45 
	gc
.
»size
(
a
.
size
()+
b
.size());

46 
ty³Çme
 
	gveùÜ
<
	g_CÏs¢ame
>::
™”©Ü
 
cu¼
,
	gÏ¡
;

47 
	gÏ¡
=
c
.
’d
();

48 
	gcu¼
=
£t_uniÚ
(
a
.
begš
(),a.
’d
(),
b
.begš(),b.’d(),
c
.begš(),
comp
);

49 
	gc
.
”a£
(
cu¼
,
Ï¡
);

50 
	gc_
=
c
;

55 
	g‹m¶©e
<
ty³Çme
 
	g_CÏs¢ame
>

56 
boŞ
 
do_£t_šşusiÚ
(cÚ¡ 
veùÜ
<
_CÏs¢ame
> &
a
, cÚ¡ veùÜ<_CÏs¢ame> &
b
)

58  
šşudes
(
b
.
begš
(),b.
’d
(),
a
.begin(),a.end());

60 
	g‹m¶©e
<
ty³Çme
 
	g_CÏs¢ame
>

61 
boŞ
 
do_£t_šşusiÚ
(cÚ¡ 
_CÏs¢ame
 &
a_
, cÚ¡ 
veùÜ
<_CÏs¢ame> &
b
)

63 
	gveùÜ
<
	g_CÏs¢ame
> 
	ga
;

64 
	ga
.
push_back
(
a_
);

65  
šşudes
(
b
.
begš
(),b.
’d
(),
a
.begin(),a.end());

68 
	g‹m¶©e
<
ty³Çme
 
	g_CÏs¢ame
,y³Çm
	g_Com·»
>

69 
boŞ
 
do_£t_šşusiÚ
(cÚ¡ 
veùÜ
<
_CÏs¢ame
> &
a
, cÚ¡ veùÜ<_CÏs¢ame> &
b
, 
_Com·»
 
comp
)

71  
šşudes
(
b
.
begš
(),b.
’d
(),
a
.begš(),a.’d(),
comp
);

73 
	g‹m¶©e
<
ty³Çme
 
	g_CÏs¢ame
,y³Çm
	g_Com·»
>

74 
boŞ
 
do_£t_šşusiÚ
(cÚ¡ 
_CÏs¢ame
 &
a_
, cÚ¡ 
veùÜ
<_CÏs¢ame> &
b
,
_Com·»
 
comp
)

76 
	gveùÜ
<
	g_CÏs¢ame
> 
	ga
;

77 
	ga
.
push_back
(
a_
);

78  
šşudes
(
b
.
begš
(),b.
’d
(),
a
.begš(),a.’d(),
comp
);

81 
	g‹m¶©e
<
ty³Çme
 
	g_CÏs¢ame
>

82 
boŞ
 
do_£t_š‹r£ùiÚ
(cÚ¡ 
veùÜ
<
_CÏs¢ame
> &
a
, cÚ¡ veùÜ<_CÏs¢ame> &
b
, veùÜ<_CÏs¢ame> &
c_
)

84 
	gveùÜ
<
	g_CÏs¢ame
> 
	gc
;

85 
	gc
.
»size
(
a
.
size
());

86 
ty³Çme
 
	gveùÜ
<
	g_CÏs¢ame
>::
™”©Ü
 
cu¼
,
	gÏ¡
;

87 
	gÏ¡
=
c
.
’d
();

88 
	gcu¼
=
£t_š‹r£ùiÚ
(
a
.
begš
(),a.
’d
(),
b
.begš(),b.’d(),
c
.begin());

89 
	gc
.
”a£
(
cu¼
,
Ï¡
);

90 
	gc_
=
c
;

91  !
	gc_
.
em±y
();

94 
	g‹m¶©e
<
ty³Çme
 
	g_CÏs¢ame
,y³Çm
	g_Com·»
>

95 
boŞ
 
do_£t_š‹r£ùiÚ
(cÚ¡ 
veùÜ
<
_CÏs¢ame
> &
a
, cÚ¡ veùÜ<_CÏs¢ame> &
b
, veùÜ<_CÏs¢ame> &
c_
,
_Com·»
 
comp
)

97 
	gveùÜ
<
	g_CÏs¢ame
> 
	gc
;

98 
	gc
.
»size
(
a
.
size
());

99 
ty³Çme
 
	gveùÜ
<
	g_CÏs¢ame
>::
™”©Ü
 
cu¼
,
	gÏ¡
;

100 
	gÏ¡
=
c
.
’d
();

101 
	gcu¼
=
£t_š‹r£ùiÚ
(
a
.
begš
(),a.
’d
(),
b
.begš(),b.’d(),
c
.begš(),
comp
);

102 
	gc
.
”a£
(
cu¼
,
Ï¡
);

103 
	gc_
=
c
;

104  !
	gc_
.
em±y
();

107 
	g‹m¶©e
<
ty³Çme
 
	g_CÏs¢ame
>

108 
do_£t_difã»nû
(cÚ¡ 
veùÜ
<
_CÏs¢ame
> &
a
, cÚ¡ veùÜ<_CÏs¢ame> &
b
, veùÜ<_CÏs¢ame> &
c_
)

110 
	gveùÜ
<
	g_CÏs¢ame
> 
	gc
;

111 
	gc
.
»size
 (
a
.
size
());

112 
ty³Çme
 
	gveùÜ
<
	g_CÏs¢ame
>::
™”©Ü
 
cu¼
,
	gÏ¡
;

113 
	gÏ¡
=
c
.
’d
();

114 
	gcu¼
=
£t_difã»nû
(
a
.
begš
(),a.
’d
(),
b
.begš(),b.’d(),
c
.begin());

115 
	gc
.
”a£
(
cu¼
,
Ï¡
);

116 
	gc_
=
c
;

119 
	g‹m¶©e
<
ty³Çme
 
	g_CÏs¢ame
,y³Çm
	g_Com·»
>

120 
do_£t_difã»nû
(cÚ¡ 
veùÜ
<
_CÏs¢ame
> &
a
, cÚ¡ veùÜ<_CÏs¢ame> &
b
, veùÜ<_CÏs¢ame> &
c_
,
_Com·»
 
comp
)

122 
	gveùÜ
<
	g_CÏs¢ame
> 
	gc
;

123 
	gc
.
»size
(
a
.
size
());

124 
ty³Çme
 
	gveùÜ
<
	g_CÏs¢ame
>::
™”©Ü
 
cu¼
,
	gÏ¡
;

125 
	gÏ¡
=
c
.
’d
();

126 
	gcu¼
=
£t_difã»nû
(
a
.
begš
(),a.
’d
(),
b
.begš(),b.’d(),
c
.begš(),
comp
);

127 
	gc
.
”a£
(
cu¼
,
Ï¡
);

128 
	gc_
=
c
;

131 
boŞ
 
is_disjošt
(cÚ¡ 
veùÜ
<> &
a
, cÚ¡ veùÜ<> &
b
)

133 if(
	ga
.
em±y
(è|| 
	gb
.em±y()è 
	gŒue
;

134 
	gveùÜ
<> 
	gc
;

135 
do_£t_š‹r£ùiÚ
(
a
,
b
,
c
);

136  
	gc
.
em±y
();

	@liftedinfer/liftedblockedgibbs/includes/blockexactinference.h

1 #iâdeà
LBLOCK_INFERENCE_H_


2 
	#LBLOCK_INFERENCE_H_


	)

4 
	~<veùÜ
>

5 
	~<io¡»am
>

6 
	~<£t
>

7 
	~<m­
>

8 
usšg
 
Çme¥aû
 
	g¡d
;

9 
	~"lvrmÊ.h
"

10 
	~"decompo£r.h
"

11 
	~"¥l™‹r.h
"

12 
	~"logdoubË.h
"

13 
	~"heuri¡ics.h
"

14 
	~"nÜm®iz”.h
"

15 
	~"şu¡”ut.h
"

16 
	~"±±»e.h
"

17 
	~"lvºÜm´İag©iÚ.h
"

18 
	~"lvrsšgËtÚnÜm´İag©iÚ.h
"

19 
	~"lv½Œ“§m¶šg.h
"

21 
	sLBlockExaùInã»nû


23 
LBlockExaùInã»nû
(
LvrMLN
& 
mÊ
);

24 ~
LBlockExaùInã»nû
()

26 
d–‘e
 
	mdecompo£r
;

27 
d–‘e
 
	mheuri¡ics
;

28 
d–‘e
 
	mlvrPTPT»eSam¶šg
;

30 
LogDoubË
 
weigh‹dMod–CouÁ
(
veùÜ
<
WCÏu£
*>& 
CNF
,
·»ÁId
 = -1,
b¿nchNo
 = -1);

31 
doExaùInã»nûOnClu¡”
(
veùÜ
<
WCÏu£
*>& 
CNF
);

32 
doMockInã»nûOnClu¡”
(
veùÜ
<
WCÏu£
*>& 
CNF
,& 
lvpCo¡
,
»maššgCo¡
);

33 
	mLPTPT»e
& 
g‘PTPT»eRef
()

35  
	mlvrPTPT»eSam¶šg
->
g‘T»eRef
();

37 
	m´iv©e
:

38 
boŞ
 
decompo£CNF
(
veùÜ
<
WCÏu£
*>& 
CNF
,& 
pow”FaùÜ
,veùÜ<
m­
<,> >& 
decompo£rM­pšgs
,

39 
veùÜ
<>& 
domašPow”FaùÜs
);

40 
LogDoubË
 
CNFWeight
(
veùÜ
<
WCÏu£
*>& 
CNF
);

41 
	mLvrMLN
& 
	mmÊ
;

42 
LDecompo£r
* 
	mdecompo£r
;

43 
LHeuri¡ics
* 
	mheuri¡ics
;

44 
£³¿‹DisjoštCNF
(
veùÜ
<
WCÏu£
*> 
CNF
, veùÜ<veùÜ<WCÏu£*> >& 
disjoštCNFLi¡
);

45 
mockWeigh‹dMod–CouÁ
(
veùÜ
<
WCÏu£
*>& 
CNF
);

46 
	mid
;

47 
boŞ
 
	mnÚPŞyNodeFound
;

48 
boŞ
 
	mco¡Exûeded
;

49 
	mpCo¡
;

50 
	mba£lšeCo¡
;

51 
	m¡©us
;

52 
LvrSšgËtÚNÜmPrİag©iÚ
* 
	mlvrSšgËtÚNÜmPrİag©iÚ
;

53 
time_t
 
	m¡¬tTime
;

54 
LvrPTPT»eSam¶šg
* 
	mlvrPTPT»eSam¶šg
;

	@liftedinfer/liftedblockedgibbs/includes/clustercreator.h

1 #iâdeà
__LCLUSTER_CREATOR__


2 
	#__LCLUSTER_CREATOR__


	)

3 
	~"lvrmÊ.h
"

4 
	~"±p§m¶”.h
"

5 
	~"nÜm®iz”.h
"

6 
	~"mcmı¬ams.h
"

7 
	~"lv·¿ms.h
"

9 
	gLVRClu¡”
;

10 
	sLTu¶e


12 
	mveùÜ
<> 
	mşu¡”Indexes
;

13 
	mCF
;

15 
	sLClu¡”C»©Ü


17 
LClu¡”C»©Ü
(
LvrMLN
* 
mÊ_
)

20 
	mmÊ
 = 
Ãw
 
LvrMLN
();

21 
	mi
=0;i<
	mmÊ_
->
	mşau£s
.
size
();i++)

23 
	mmÊ
->
	mşau£s
.
push_back
(
LvrMLN
::
ü—‹_Ãw_şau£
(
mÊ_
->
şau£s
[
i
]));

25 
	mi
=0;i<
	mmÊ_
->
	msymbŞs
.
size
();i++)

27 
	mmÊ
->
	msymbŞs
.
push_back
(
LvrMLN
::
ü—‹_Ãw_symbŞ
(
mÊ_
->
symbŞs
[
i
]));

29 
	mmÊ
->
	mmaxDeg»e
 = 
mÊ_
->
maxDeg»e
;

30 
	mmÊ
->
	mmax_´ediÿ‹_id
 = 
mÊ_
->
max_´ediÿ‹_id
;

31 
	mşu¡”Lev–
 = -1;

32 
	mÜigš®NumP»diÿ‹s
 = -1;

33 
	mÍ
 = 
Ãw
 
LPTPSam¶”
(*
mÊ
);

36 ~
LClu¡”C»©Ü
()

38 
d–‘e
 
	mmÊ
;

39 
d–‘e
 
	mÍ
;

40 
ş—nup
(
LVRClu¡”Li¡
);

42 
¡¬tClu¡”šg
(
LvrP¬ams
* 
·¿ms
);

43 
¡¬tRªdomClu¡”šg
(
LvrP¬ams
* 
·¿ms
);

44 
	m´iv©e
:

45 
şu¡”Lev–
;

46 
	mÜigš®NumP»diÿ‹s
;

47 
	m™”©iÚs
;

48 
	mwšdowSize
;

49 
LPTPSam¶”
* 
	mÍ
;

50 
	mveùÜ
<
	mLVRClu¡”
*> 
	mLVRClu¡”Li¡
;

51 
LvrMLN
* 
	mmÊ
;

52 
boŞ
 
	mu£Evid’ûCachšg
;

53 
m”geClu¡”
(
şu¡”Id1
,
şu¡”Id2
);

54 
compu‹Clu¡”LiáedSh¬šgs
();

55 
g‘Clu¡”Index
(
LVRClu¡”
* 
şu¡”
);

56 
š™ŸlizeClu¡”s
();

57 
compu‹Clu¡”MB
();

59 
makeClu¡”Paœs
(
veùÜ
<
LTu¶e
*>& 
şu¡”Combš©iÚs
);

60 
addPTPEvid’û
(
şu¡”Index
,
veùÜ
<
WCÏu£
*>& 
ÃwCÏu£s
, 
boŞ
 
¡ÜeEvid’û
=
çl£
);

62 
compu‹Cou¶šgFaùÜ
(
şau£Index1
,
şau£Index2
);

63 
numCoOccu¼’ûs
(
Atom
* 
a1
,Atom* 
a2
);

64 
g‘AtomsM©chšgT”m
(
Atom
* 
©om
, 
‹rmIndex
, 
veùÜ
<Atom*>& 
m©chšgMLNAtoms
);

65 
groundClu¡”W™hMB
(
şu¡”Index
,
veùÜ
<
WCÏu£
*>& 
ÃwCÏu£s
);

	@liftedinfer/liftedblockedgibbs/includes/gibbsprocesshandler.h

1 #iâdeà
GIBBS_PROCESS_HANDLER_H


2 
	#GIBBS_PROCESS_HANDLER_H


	)

4 
	~<sys/ty³s.h
>

5 #iâdeà
_MSC_VER


6 
	~<uni¡d.h
>

7 
	~<c¡dio
>

9 
	~"şu¡”ü—tÜ.h
"

10 
	~"lbg§m¶”.h
"

11 
	~"lvrmÊ.h
"

12 
	~"lv·¿ms.h
"

13 
usšg
 
Çme¥aû
 
	g¡d
;

15 şas 
	cGibbsProûssHªdËr


17 
	mpublic
:

18 
	$GibbsProûssHªdËr
(
LvrMLN
& 
mÊ_
):
	$mÊ
(
mÊ_
)

20 
lSam¶”
 = 
Ãw
 
	`LBGSam¶”
(
mÊ
);

21 
lCC»©Ü
 = 
Ãw
 
	`LClu¡”C»©Ü
(&
mÊ
);

24 ~
	$GibbsProûssHªdËr
()

26 
d–‘e
 
lCC»©Ü
;

27 
d–‘e
 
lSam¶”
;

28 
	}
}

30 
	$¡¬tLBGFÜM¬
(
LvrP¬ams
* 
·¿ms
)

32 if(
·¿ms
->
İ”©iÚMode
 =ğ
ECLUSTERING
)

34 
cout
<<"S¹šg Liáed Blocked Gibb š clu¡”šg mode.."<<
’dl
;

35 if(
·¿ms
->
outClu¡”Fe
.
	`size
()==0)

36 
·¿ms
->
outClu¡”Fe
 = 
CLUSTERFILE
;

38 #iâdeà
_MSC_VER


39 
	`»move
(
·¿ms
->
outClu¡”Fe
.
	`c_¡r
());

41 if(
·¿ms
->
şu¡”šgMode
 =ğ
ERANDOM
)

42 
lCC»©Ü
->
	`¡¬tRªdomClu¡”šg
(
·¿ms
);

44 
lCC»©Ü
->
	`¡¬tClu¡”šg
(
·¿ms
);

46 if(
·¿ms
->
İ”©iÚMode
 =ğ
ESAMPLER
)

48 
cout
<<"S¹šg Liáed Blocked Gibb š sam¶šg mode.."<<
’dl
;

49 if(
·¿ms
->
šClu¡”Fe
.
	`size
()==0)

50 
·¿ms
->
šClu¡”Fe
 = 
CLUSTERFILE
;

51 
lSam¶”
->
	`¡¬tLVBGibbs
(
·¿ms
);

55 #iâdeà
_MSC_VER


56 
cout
<<"S¹šg Liáed Blocked Gibb š…¬®ËÈmode.."<<
’dl
;

57 
·¿ms
->
šClu¡”Fe
 = 
CLUSTERFILE
;

58 
·¿ms
->
outClu¡”Fe
 = 
CLUSTERFILE
;

59 
	`»move
(
CLUSTERFILE
);

60 
cout
<<"FÜkšg LBG Sam¶šg‡nd Clu¡”šg Proûs£s"<<
’dl
;

61 
pid_t
 
pID
 = 
	`fÜk
();

62 ià(
pID
 == 0)

65 if(
·¿ms
->
şu¡”šgMode
 =ğ
ERANDOM
)

66 
lCC»©Ü
->
	`¡¬tRªdomClu¡”šg
(
·¿ms
);

68 
lCC»©Ü
->
	`¡¬tClu¡”šg
(
·¿ms
);

70 
	`ex™
(0);

74 
lSam¶”
->
	`¡¬tLVBGibbs
(
·¿ms
);

78 
	}
}

81 
	$š™LBGFÜWeightL—ºšg
(
MCMCP¬ams
* 
·¿ms
)

83 
	}
}

85 
	$¡•LBGFÜWeightL—ºšg
(
LvrP¬ams
* 
·¿ms
)

88 
lSam¶”
->
	`¡¬tLVBGibbs
(
·¿ms
);

89 
	}
}

91 
	g´iv©e
:

92 
LClu¡”C»©Ü
* 
lCC»©Ü
;

93 
	gLvrMLN
& 
	gmÊ
;

94 
	gveùÜ
<
	gAtom
*> 
	gevid’ûAtoms
;

95 
	gveùÜ
<
	gAtom
*> 
	gqu”yAtoms
;

96 
LBGSam¶”
* 
	glSam¶”
;

	@liftedinfer/liftedblockedgibbs/includes/lbgsampler.h

1 #iâdeà
__LBGSAMPLER_H


2 
	#__LBGSAMPLER_H


	)

3 
	~"lvrmÊ.h
"

4 
	~"±p§m¶”.h
"

5 
	~"lv·¿ms.h
"

6 
	~"lvrşu¡”.h
"

8 
	sLBGSam¶”


10 
LBGSam¶”
(
LvrMLN
& 
mÊ_
):
mÊ
(mln_)

12 
şu¡”Lev–
 = -1;

13 
	mÜigš®NumP»diÿ‹s
 = -1;

14 
	mnumTimesSam¶ed
 = 0;

15 
	m™”©iÚsSšûLa¡M”ge
 = 0;

16 
	m™”©iÚsAüossC®ls
 = 0;

17 
	mÍ
 = 
Ãw
 
LPTPSam¶”
(
mÊ
);

19 ~
LBGSam¶”
()

21 
ş—nup
(
LVRClu¡”Li¡
);

22 
d–‘e
 
	mÍ
;

24 
¡¬tLVBGibbs
(
LvrP¬ams
* 
·¿ms
);

25 
	m´iv©e
:

26 
şu¡”Lev–
;

27 
	mÜigš®NumP»diÿ‹s
;

28 
	mnumTimesSam¶ed
;

29 
	mwšdowSize
;

30 
	m™”©iÚsSšûLa¡M”ge
;

32 
	m™”©iÚsAüossC®ls
;

33 
LPTPSam¶”
* 
	mÍ
;

34 
	mveùÜ
<
	mLVRClu¡”
*> 
	mLVRClu¡”Li¡
;

35 
	mLvrMLN
& 
	mmÊ
;

36 
boŞ
 
	mu£Evid’ûCachšg
;

37 
m”geClu¡”
(
şu¡”Id1
,
şu¡”Id2
);

38 
compu‹Clu¡”LiáedSh¬šgs
();

39 
g‘Clu¡”Index
(
LVRClu¡”
* 
şu¡”
);

40 
š™ŸlizeClu¡”s
();

41 
compu‹Clu¡”MB
();

42 
addPTPEvid’û
(
şu¡”Index
,
veùÜ
<
WCÏu£
*>& 
ÃwCÏu£s
, 
boŞ
 
¡ÜeEvid’û
=
çl£
);

43 
g‘AtomsM©chšgT”m
(
Atom
* 
©om
, 
‹rmIndex
, 
veùÜ
<Atom*>& 
m©chšgMLNAtoms
);

44 
groundClu¡”W™hMB
(
şu¡”Index
,
veùÜ
<
WCÏu£
*>& 
ÃwCÏu£s
);

	@liftedinfer/liftedblockedgibbs/includes/lvrcluster.h

1 #iâdeà
__LVRCLUSTER__H


2 
	#__LVRCLUSTER__H


	)

3 
	~"lvrmÊ.h
"

4 
	~"ş—nuputs.h
"

5 
	~<®gÜ™hm
>

6 
usšg
 
Çme¥aû
 
	g¡d
;

8 
	sLVAssignm’t


10 
	mveùÜ
<> 
	mgroundšg
;

11 
	mnTrueV®ues
;

12 
	mnF®£V®ues
;

13 
LVAssignm’t
(
Atom
* 
gAtom
, 
v®
)

15 
	mgroundšg
.
»size
(
gAtom
->
‹rms
.
size
());

16 
	mtÙSize
 = 1;

17 
	mi
=0;i<
	mgAtom
->
	m‹rms
.
size
();i++)

19 if(
	mgAtom
->
	m‹rms
[
i
]->
	mdomaš
.
size
() == 1)

20 
groundšg
[
i
] = 
gAtom
->
‹rms
[i]->
domaš
[0];

23 
	mgroundšg
[
i
] = 
gAtom
->
‹rms
[i]->
domaš
.
size
()*-1;

24 
	mtÙSize
 *ğ
gAtom
->
‹rms
[
i
]->
domaš
.
size
();

26 
	mnTrueV®ues
 = 
v®
;

27 
	mnF®£V®ues
 = 
tÙSize
 - 
nTrueV®ues
;

29 
´št
()

31 
	mcout
<<"[(";

32 
	mi
=0;i<
	mgroundšg
.
size
();i++)

34 
	mcout
<<
	mgroundšg
[
i
]<<",";

36 
	mcout
<<"è"<<
	mnTrueV®ues
<<"] ";

40 
	sLT”mSh¬e


42 
	mveùÜ
<
	mboŞ
> 
	msh¬ed
;

44 
	mveùÜ
<veùÜ<
	mAtom
*> > 
	msh¬edAtoms
;

45 
LT”mSh¬e
(
sz
)

47 
	msh¬ed
.
»size
(
sz
);

48 
	msh¬edAtoms
.
»size
(
sz
);

50 
´št
()

52 
	mi
=0;i<
	msh¬ed
.
size
();i++)

54 if(
	msh¬ed
[
i
])

56 
	mj
=0;j<
	msh¬edAtoms
[
i
].
size
();j++)

57 
	msh¬edAtoms
[
i
].
©
(
j
)->
´št
(
çl£
);

59 
	mcout
<<" :: ";

61 
	mcout
<<
	m’dl
;

63 ~
LT”mSh¬e
()

65 
	mi
=0;i<
	msh¬edAtoms
.
size
();i++)

67 
	msh¬edAtoms
[
i
].
ş—r
();

69 
	msh¬edAtoms
.
ş—r
();

73 
	sLVRClu¡”


75 
	mşu¡”Id
;

76 
	mveùÜ
<
	mAtom
*> 
	m–em’ts
;

77 
	mveùÜ
<
	mLVRClu¡”
*> 
	mMB
;

78 
	mveùÜ
<
	mLT”mSh¬e
*> 
	msh¬edT”ms
;

79 
	mLvrMLN
& 
	mmÊ
;

80 
	mveùÜ
<veùÜ<
	mLVAssignm’t
*> > 
	mlAssignm’ts
;

81 
	mveùÜ
<veùÜ<> > 
	msh¬edLiáedPos™iÚs
;

82 
	mveùÜ
<veùÜ<> > 
	msh¬edGroundedPos™iÚs
;

83 
	mveùÜ
<> 
	mtÙ®Trues
;

84 
	mnumSšgËtÚS¶™s
;

85 
	mnumGroundedAtoms
;

86 
	m­´oxPTPCo¡
;

87 
	mevid’ûReduùiÚCo¡
;

89 
LVRClu¡”
(
şu¡”Id_
,
LvrMLN
& 
mÊ_
):
şu¡”Id
(şu¡”Id_),
mÊ
(mln_){}

90 
	mLVRClu¡”
& 
	mİ”©Ü
=(cÚ¡ 
LVRClu¡”
& 
Ùh”
);

91 
LVRClu¡”
(cÚ¡ LVRClu¡”& 
Ùh”
);

92 
šClu¡”
(
Atom
* 
©om
);

93 
g‘Equiv®’tEËm’tIndex
(
Atom
* 
©om
);

94 
š™ŸlizeAssignm’ts
();

95 
ü—‹NewP»diÿ‹Id
(
–em’tId
,
Atom
* 
groundedAtom
);

96 
»ÇmeP»diÿ‹s
(
veùÜ
<
WCÏu£
*>& 
şau£s
);

97 ~
LVRClu¡”
()

99 
ş—nup
(
–em’ts
);

100 !
	mlAssignm’ts
.
em±y
())

102 
ş—nup
(
lAssignm’ts
.
back
());

103 
	mlAssignm’ts
.
pİ_back
();

105 
ş—nup
(
sh¬edT”ms
);

106 
	mMB
.
ş—r
();

108 
´št
()

110 
	mi
=0;i<
	m–em’ts
.
size
();i++)

111 
	m–em’ts
[
i
]->
´št
(
çl£
);

112 
	mcout
<<
	m’dl
;

114 
´štAssignm’t
()

116 
	mi
=0;i<
	mlAssignm’ts
.
size
();i++)

118 
	mj
=0;j<
	mlAssignm’ts
[
i
].
size
();j++)

120 
	mlAssignm’ts
[
i
].
©
(
j
)->
´št
();

122 
	mcout
<<
	m’dl
;

124 
	mcout
<<
	m’dl
;

126 
´štSh¬šgs
()

128 
	mi
=0;i<
	msh¬edT”ms
.
size
();i++)

130 
	mcout
<<
	m–em’ts
[
i
]->
	msymbŞ
->symbŞ.
c_¡r
()<<"(";

131 
	mj
=0;j<
	msh¬edT”ms
[
i
]->
	msh¬ed
.
size
();j++)

133 if(
	msh¬edT”ms
[
i
]->
	msh¬ed
[
j
])

135 
	mcout
<<"Shared,";

139 
	mcout
<<"UnShared,";

142 
	mcout
<<")";

144 
	mcout
<<
	m’dl
;

146 
addEËm’t
(
Atom
* 
©om
)

148 
	m–em’ts
.
push_back
(
LvrMLN
::
ü—‹_Ãw_©om
(
©om
));

151 
»moveEËm’ts
(
veùÜ
<
Atom
*> 
©oms
);

152 
Atom
* 
ü—‹GroundedAtom
(
–em’tIndex
,
veùÜ
<
boŞ
> 
sh¬edPos
, veùÜ<> 
groundšg
);

153 
WCÏu£
* 
groundClu¡”InCÏu£
(WCÏu£* 
şau£
, 
veùÜ
<veùÜ<> > 
groundšg
);

154 
LVRClu¡”
* 
şÚeClu¡”EËm’ts
();

155 
tÙ®S·û
()

158 
	msz
 = 0;

159 
	mi
=0;i<
	mlAssignm’ts
.
size
();i++)

160 
	msz
 +ğ
lAssignm’ts
[
i
].
size
();

161  
	msz
;

164 
boŞ
 
isInCÏu£
(
WCÏu£
* 
şau£
)

166 
	mi
=0;i<
	mşau£
->
	m©oms
.
size
();i++)

168 
	mšd
 = 
šClu¡”
(
şau£
->
©oms
[
i
]);

169 if(
	mšd
!=-1)

170  
Œue
;

172  
	mçl£
;

175 
groundSh¬edT”msInCNF
(
veùÜ
<
WCÏu£
*> &
şau£s
);

176 
»duûCNFByEvid’û
(
veùÜ
<
WCÏu£
*>& 
şau£s
);

177 
g‘NumTrueAssignm’ts
(
–em’tIndex
, 
Atom
* 
©om
,& 
nLVTrue
,& 
nLVF®£
);

178 
doReduûCNFByEvid’û
(
–em’tIndex
,
veùÜ
<
WCÏu£
*>& 
şau£s
,veùÜ<WCÏu£*>& 
groundedCÏu£s
);

179 
groundAÎSh¬edT”msInCNF
(
veùÜ
<
WCÏu£
*> 
şau£s
,veùÜ<WCÏu£*>& 
groundedCÏu£s
);

180 
boŞ
 
doExaùInã»nû
();

181 
·¹™iÚPos™iÚs
();

182 
»£tAÎAssignm’ts
();

183 
£tAÎDÚtC¬eAssignm’ts
();

184 
doReduûCÏu£W™hS–fJošsByEvid’û
(
–em’tIndex
,
WCÏu£
* 
şau£
,
veùÜ
<WCÏu£*>& 
groundedCÏu£s
);

185 
boŞ
 
isUniCÚ¡ªtClu¡”
()

187 if(
	m–em’ts
.
size
()==1 && 
–em’ts
[0]->
isCÚ¡ªt
())

188  
Œue
;

190  
	mçl£
;

	@liftedinfer/liftedblockedgibbs/includes/ptpsampler.h

1 #iâdeà
__PTPSAMPLER__


2 
	#__PTPSAMPLER__


	)

3 
	~"lvrmÊ.h
"

4 
	~"blockexaùšã»nû.h
"

5 
	~"lvrşu¡”.h
"

7 
	sLPTPSam¶”


9 
LPTPSam¶”
(
LvrMLN
& 
mÊ
);

10 ~
LPTPSam¶”
();

11 
runPTP
(
veùÜ
<
WCÏu£
*>& 
CNF
,
LVRClu¡”
* 
şu¡”
);

12 
runMockPTP
(
veùÜ
<
WCÏu£
*>& 
CNF
,
LVRClu¡”
* 
lvrClu¡”
,& 
lvpCo¡
,
»maššgCo¡
);

13 
£tBuºIn
(
boŞ
 
v®
)

15 
	mbuºIn
 = 
v®
;

17 
boŞ
 
g‘BuºIn
()

19  
	mbuºIn
;

21 
	m´iv©e
:

22 
LBlockExaùInã»nû
* 
ls
;

23 
boŞ
 
	mbuºIn
;

24 
	mveùÜ
<
	mAtom
*> 
	mqu”yAtoms
;

25 
	mveùÜ
<veùÜ<> > 
	mqu”yV®ues
;

26 
	mveùÜ
<veùÜ<> > 
	mcu¼’tSam¶eV®ues
;

28 
	mveùÜ
<veùÜ<> > 
	mqu”yUpd©edInI‹¿tiÚ
;

29 
doLightWeightSam¶šg
(
LVRClu¡”
* 
lvrClu¡”
,
veùÜ
<
WCÏu£
*> 
şau£s
);

	@liftedinfer/liftedblockedgibbs/src/blockexactinference.cpp

1 
	~"blockexaùšã»nû.h
"

2 
	~"ş—nuputs.h
"

3 
	~"´İos™iÚ®»sŞutiÚ.h
"

4 
	~"¿ndomg’ut.h
"

5 #iâdeà
_MSC_VER


6 
	~<uni¡d.h
>

9 
LogDoubË
 
	gLBlockExaùInã»nû
::
CNFWeight
(
veùÜ
<
WCÏu£
*>& 
CNF
)

11 
veùÜ
<
Atom
*> 
»movedAtoms
;

12 
	g£t
<> 
	gcom¶‘edIds
;

13 
LogDoubË
 
tÙ®Weight
(1,
çl£
);

14 
	gveùÜ
<
	gWCÏu£
*> 
	g»maššgCNF
;

15 
	gi
=0;i<
	gCNF
.
size
();i++)

17 if(
	gCNF
[
i
]->
	g§tisf›d
)

19 
	gj
=0;j<
	gCNF
[
i
]->
	g©oms
.
size
();j++)

21 if(
	gcom¶‘edIds
.
couÁ
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
) == 0)

23 
»movedAtoms
.
push_back
(
CNF
[
i
]->
©oms
[
j
]);

24 
	gcom¶‘edIds
.
š£¹
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

29 
	g£t
<
	gLvrT”m
*> 
	g‹rms
;

30 
	gkk
=0;kk<
	gCNF
[
i
]->
	g©oms
.
size
();kk++)

32 
	gmm
=0;mm<
	gCNF
[
i
]->
	g©oms
[
kk
]->
	g‹rms
.
size
();mm++)

34 
	g‹rms
.
š£¹
(
CNF
[
i
]->
©oms
[
kk
]->
‹rms
[
mm
]);

37 
	gsz
=1;

38 
	g£t
<
	gLvrT”m
*>::
™”©Ü
 
™
=
‹rms
.
begš
();
	g™
!ñ”ms.
’d
();it++)

40 
	gsz
 *ğ(*
™
)->
domaš
.
size
();

44 
LogDoubË
 
	gtmpL
 = 
CNF
[
i
]->
weight
*LogDoubË(
sz
,
çl£
);

45 
	gtmp
 = 
exp
(
tmpL
.
v®ue
);

46 
LogDoubË
 
ÃwWt
(
tmp
,
Œue
);

47 
	gtÙ®Weight
 *ğ
ÃwWt
;

52 
	g»maššgCNF
.
push_back
(
LvrMLN
::
ü—‹_Ãw_şau£
(
CNF
[
i
]));

56 
	gtÙ®DÚtÿ»
 = 0;

57 
	gveùÜ
<
	gAtom
*>::
™”©Ü
 
™
=
»movedAtoms
.
begš
();
	g™
!ôemovedAtoms.
’d
();it++)

60 
	gsz
 = 1;

61 
	gi
=0;i<(*
	g™
)->
	g‹rms
.
size
();i++)

63 
	gsz
 *ğ(*
™
)->
‹rms
[
i
]->
domaš
.
size
();

65 
	gtÙ®DÚtÿ»
 +ğ
sz
;

67 
LogDoubË
 
d
(
tÙ®DÚtÿ»
,
çl£
);

68 
LogDoubË
 
out
(1,
çl£
);

69 
LogDoubË
 
c
(2,
çl£
);

70 
	gLogDoubË
::
LDPow”
(
c
,
tÙ®DÚtÿ»
,
out
);

71 
LogDoubË
 
	gtV®
 = 
tÙ®Weight
*
out
;

72 
ş—nup
(
CNF
);

73 
	gCNF
 = 
»maššgCNF
;

75  
	gtV®
;

79 
boŞ
 
	gLBlockExaùInã»nû
::
decompo£CNF
(
veùÜ
<
WCÏu£
*>& 
CNF
,& 
pow”FaùÜ
,veùÜ<
m­
<,> >& 
decompo£rM­pšgs
,

80 
veùÜ
<>& 
domašPow”FaùÜs
)

82 
	gveùÜ
<
	gDecompo£r
*> 
	gdecompo£r_li¡
;

83 
	gdecompo£r
->
fšd_decompo£r
(
CNF
,
decompo£r_li¡
);

85 #ifdeà
__DEBUG_PRINT__


86 
	gcout
<<"Decomposer={ ";

87 
	gi
=0;i<
	gdecompo£r_li¡
.
size
();i++)

89 
	gdecompo£r_li¡
[
i
]->
´št
();

91 
	gcout
<<"}"<<
	g’dl
;

93 if(
	gdecompo£r_li¡
.
size
()==0)

94  
çl£
;

98 
	gpow”FaùÜ
 = 1;

99 
	gi
=0;i<
	gdecompo£r_li¡
.
size
();i++)

101 
	gpow”FaùÜ
*=
decompo£r_li¡
[
i
]->
decompo£r_‹rms
[0]->
domaš
.
size
();

102 
	gdomSize
 = 
decompo£r_li¡
[
i
]->
decompo£r_‹rms
[0]->
domaš
.
size
();

103 
	gdomašPow”FaùÜs
.
push_back
(
domSize
);

104 
	gj
=0;j<
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
.
size
();j++)

107 
	gveùÜ
<> 
	gÜigDomaš
;

108 
	gjj
=0;jj<
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
[
j
]->
	gdomaš
.
size
();jj++)

109 
	gÜigDomaš
.
push_back
(
decompo£r_li¡
[
i
]->
decompo£r_‹rms
[
j
]->
domaš
[
jj
]);

110 
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
[
j
]->
	gÜigDomaš
 = 
ÜigDomaš
;

113 
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
[
j
]->
	gdomaš
.
”a£
(
decompo£r_li¡
[i]->
decompo£r_‹rms
[j]->
domaš
.
begš
(),decompo£r_li¡[i]->decompo£r_‹rms[j]->domaš.begš()+decompo£r_li¡[i]->decompo£r_‹rms[j]->domaš.
size
()-1);

115 
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
[
j
]->
	gÜigDomašSize
 = 
domSize
;

117 
	gm­
<,> 
	gdecompM­pšg
;

118 
	gm­
<,>::
™”©Ü
 
™
=
decompo£r_li¡
[
i
]->
nÜm_´ediÿ‹_pos™iÚs
.
begš
();

119 
	g™
!=
decompo£r_li¡
[
i
]->
nÜm_´ediÿ‹_pos™iÚs
.
’d
();it++)

121 
	gveùÜ
<> 
v®s
(2);

122 
	gv®s
[0] = 
™
->
fœ¡
;v®s[1]=™->
£cÚd
;

123 
	ghash
 = 
LvrHashAlgÜ™hm
::
DJBHashUS
(
v®s
);

124 
	gdecompM­pšg
.
š£¹
(
·œ
<,>(
hash
,0));

126 
	gdecompo£rM­pšgs
.
push_back
(
decompM­pšg
);

130 
ş—nup
(
decompo£r_li¡
);

131  
	gŒue
;

134 
LogDoubË
 
	gLBlockExaùInã»nû
::
weigh‹dMod–CouÁ
(
veùÜ
<
WCÏu£
*>& 
CNF
,
·»ÁId
,
·»ÁB¿nchNo
)

136 if(
	gnÚPŞyNodeFound
)

138 
ş—nup
(
CNF
);

139  
LogDoubË
(0,
çl£
);

141 
	gcom¶‘edCouÁ
=0;

142 
	gi
=0;i<
	gCNF
.
size
();i++)

144 if(
	gCNF
[
i
]->
	g©oms
.
size
()==0 || 
CNF
[i]->
§tisf›d
)

146 
com¶‘edCouÁ
++;

149 if(
	gcom¶‘edCouÁ
 =ğ
CNF
.
size
())

151 
LogDoubË
 
weight
 = 
CNFWeight
(
CNF
);

152 
ş—nup
(
CNF
);

153  
	gweight
;

155 
	gveùÜ
<> 
	gpow”FaùÜs
;

156 
	gveùÜ
<
	gboŞ
> 
	gisDecompo£dCNF
;

157 
	gveùÜ
<veùÜ<
	gWCÏu£
*> > 
	gdecompo£dLi¡
;

158 
	gLClu¡”Ut
::
£³¿‹DisjoštCNF
(
CNF
,
decompo£dLi¡
);

160 
ş—nup
(
CNF
);

161 
LogDoubË
 
tÙ®V®
(1,
çl£
);

163 
boŞ
 
	gisP¬’tChªged
=
çl£
;

164 
	gchªgedP¬’t
;

165 if(
	gdecompo£dLi¡
.
size
() > 1)

167 
	glvrPTPT»eSam¶šg
->
addT»eNode
(
EDISJOINT
,
id
,
·»ÁId
,
·»ÁB¿nchNo
);

168 
	gid
++;

169 
	gisP¬’tChªged
 = 
Œue
;

170 
	gchªgedP¬’t
 = 
id
-1;

174 
	gt
=0;t<
	gdecompo£dLi¡
.
size
();t++)

176 if(
	gisP¬’tChªged
)

178 
	g·»ÁId
 = 
chªgedP¬’t
;

179 
	g·»ÁB¿nchNo
 = 
t
;

182 
	gpow”FaùÜ
;

183 
	gveùÜ
<
	gm­
<,> > 
	gdecompo£rM­pšgs
;

184 
	gveùÜ
<> 
	gdomašPow”FaùÜs
;

185 
boŞ
 
	gisDecompo£d
 = 
decompo£CNF
(
decompo£dLi¡
[
t
],
pow”FaùÜ
,
decompo£rM­pšgs
,
domašPow”FaùÜs
);

186 if(
	gisDecompo£d
)

188 
	gidToU£
 = 
id
++;

190 
LogDoubË
 
	gmút
 = 
weigh‹dMod–CouÁ
(
decompo£dLi¡
[
t
],
idToU£
,0);

191 
LogDoubË
 
	gv®
 = LogDoubË(1,
çl£
);

192 
	gLogDoubË
::
LDPow”
(
mút
,
pow”FaùÜ
,
v®
);

193 
	gtÙ®V®
 = 
tÙ®V®
*
v®
;

194 
LPTPNode
* 
	gnode
 = 
lvrPTPT»eSam¶šg
->
addT»eNode
(
EDECOMPOSER
,
idToU£
,
·»ÁId
,
·»ÁB¿nchNo
,
pow”FaùÜ
);

195 
	gnode
->
	gdecompo£rM­pšgs
 = 
decompo£rM­pšgs
;

196 
	gnode
->
	gdomašPow”FaùÜs
 = 
domašPow”FaùÜs
;

201 
	gveùÜ
<veùÜ<
	gWCÏu£
*> > 
	g‹mpCNFLi¡
;

202 
Atom
* 
	gtm·tom
 = 
heuri¡ics
->
g‘AtomToS¶™
(
decompo£dLi¡
[
t
]);

203 if(
	gtm·tom
==
NULL
)

205 
LogDoubË
 
wt1
 = 
CNFWeight
(
decompo£dLi¡
[
t
]);

206 
ş—nup
(
decompo£dLi¡
[
t
]);

207 
	gtÙ®V®
 *ğ
wt1
;

210 
Atom
* 
	g©om
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
tm·tom
);

211 
	gsšgËtÚIndex
;

212 
boŞ
 
	gsšgËtÚ
 = 
©om
->
isSšgËtÚAtom
(
sšgËtÚIndex
);

214 
boŞ
 
	g£lfJošed
 = 
çl£
;

215 
	gm
=0;m<
	gdecompo£dLi¡
[
t
].
size
();m++)

217 if(
	gdecompo£dLi¡
[
t
].
©
(
m
)->
isS–fJošedOnAtom
(
©om
))

219 
	g£lfJošed
 = 
Œue
;

223 if(
	g©om
->
isCÚ¡ªt
())

225 
	gidToU£
 = 
id
++;

227 if(!
	g£lfJošed
)

229 
	gPrİos™iÚ®ResŞutiÚ
::
doPrİos™iÚ®S¶™
(
decompo£dLi¡
[
t
],
©om
,
‹mpCNFLi¡
);

230 
LogDoubË
 
	gw1
 = 
weigh‹dMod–CouÁ
(
‹mpCNFLi¡
[0],
idToU£
,0);

231 
LogDoubË
 
	gw2
 = 
weigh‹dMod–CouÁ
(
‹mpCNFLi¡
[1],
idToU£
,1);

232 
	gtÙ®V®
 *ğ(
w1
+
w2
);

233 
	gveùÜ
<
	gLogDoubË
> 
	gwts
;

234 
	gwts
.
push_back
(
w1
);

235 
	gwts
.
push_back
(
w2
);

236 
LogDoubË
 
	gnÜm
 = 
w1
+
w2
;

237 
	gveùÜ
<
	gLogDoubË
> 
	gbšcÛfs
;

238 
	gbšcÛfs
.
push_back
(
LogDoubË
(1,
çl£
));

239 
	gbšcÛfs
.
push_back
(
LogDoubË
(1,
çl£
));

240 
	glvrPTPT»eSam¶šg
->
addT»eNode
(
©om
,
wts
,
bšcÛfs
,
nÜm
,
ESPLIT
,
idToU£
,
·»ÁId
,
·»ÁB¿nchNo
);

241 
d–‘e
 
	g©om
;

242 
	gpCo¡
 += 2;

243 
ş—nup
(
‹mpCNFLi¡
[0]);

244 
ş—nup
(
‹mpCNFLi¡
[1]);

245 
ş—nup
(
decompo£dLi¡
[
t
]);

250 
	gPrİos™iÚ®ResŞutiÚ
::
doPrİos™iÚ®S¶™S–fJošs
(
decompo£dLi¡
[
t
],
©om
,
‹mpCNFLi¡
);

251 
LogDoubË
 
	gw1
 = 
weigh‹dMod–CouÁ
(
‹mpCNFLi¡
[0],
idToU£
,0);

252 
LogDoubË
 
	gw2
 = 
weigh‹dMod–CouÁ
(
‹mpCNFLi¡
[1],
idToU£
,1);

253 
	gtÙ®V®
 *ğ(
w1
+
w2
);

254 
	gveùÜ
<
	gLogDoubË
> 
	gwts
;

255 
	gwts
.
push_back
(
w1
);

256 
	gwts
.
push_back
(
w2
);

257 
LogDoubË
 
	gnÜm
 = 
w1
+
w2
;

258 
	gveùÜ
<
	gLogDoubË
> 
	gbšcÛfs
;

259 
	gbšcÛfs
.
push_back
(
LogDoubË
(1,
çl£
));

260 
	gbšcÛfs
.
push_back
(
LogDoubË
(1,
çl£
));

261 
	glvrPTPT»eSam¶šg
->
addT»eNode
(
©om
,
wts
,
bšcÛfs
,
nÜm
,
ESPLIT
,
idToU£
,
·»ÁId
,
·»ÁB¿nchNo
);

263 
ş—nup
(
‹mpCNFLi¡
[0]);

264 
ş—nup
(
‹mpCNFLi¡
[1]);

265 
	g‹mpCNFLi¡
.
ş—r
();

266 
d–‘e
 
	g©om
;

267 
ş—nup
(
decompo£dLi¡
[
t
]);

268 
	gpCo¡
 += 2;

271 if(
	gsšgËtÚ
)

273 
	gidToU£
 = 
id
++;

274 
	gtÙ®Size
 = 
©om
->
g‘Numb”OfGroundšgs
();

275 
LogDoubË
 
	gv
;

276 
	gveùÜ
<
	gLogDoubË
> 
	gzv®s
;

277 
	gveùÜ
<
	gLogDoubË
> 
	gbšûoffs
;

278 
LogDoubË
 
	gnÜm
;

279 
	gi
=0;i<=
tÙ®Size
;i++)

281 
	gveùÜ
<
	gWCÏu£
*> 
	gşau£sCİy
;

282 
	gLvrMLN
::
cİyAÎCÏu£s
(
decompo£dLi¡
[
t
],
şau£sCİy
);

283 
	gLvrSšgËtÚNÜmPrİag©iÚ
::
´İag©eNÜm®izedCNF
(
şau£sCİy
,

284 
©om
,
sšgËtÚIndex
,
i
);

285 
LogDoubË
 
	gbšCÛff
 = LogDoubË::
BšomŸl
(
tÙ®Size
,
i
);

286 
LogDoubË
 
	gmút
 = 
weigh‹dMod–CouÁ
(
şau£sCİy
,
idToU£
,
i
);

287 if(
	gnÚPŞyNodeFound
)

289 
ş—nup
(
şau£sCİy
);

290 
d–‘e
 
	g©om
;

291 
ş—nupI‹ms
(
decompo£dLi¡
,
t
);

292  
LogDoubË
(0,
çl£
);

294 
ş—nup
(
şau£sCİy
);

295 
	gv
 = 
v
 + 
bšCÛff
*
mút
;

296 
	gzv®s
.
push_back
(
mút
);

297 
	gbšûoffs
.
push_back
(
bšCÛff
);

298 
	gnÜm
 = 
nÜm
 + 
bšCÛff
*
mút
;

301 
	gtÙ®V®
 *ğ
v
;

302 
	glvrPTPT»eSam¶šg
->
addT»eNode
(
©om
,
zv®s
,
bšûoffs
,
nÜm
,
ESPLIT
,
idToU£
,
·»ÁId
,
·»ÁB¿nchNo
);

303 
d–‘e
 
	g©om
;

304 
ş—nup
(
decompo£dLi¡
[
t
]);

308 
ş—nupI‹ms
(
decompo£dLi¡
,
t
);

309 
	gnÚPŞyNodeFound
 = 
Œue
;

310 
	g©om
->
´št
();

311 
d–‘e
 
	g©om
;

312  
LogDoubË
(0,
çl£
);

316  
	gtÙ®V®
;

320 
	gLBlockExaùInã»nû
::
mockWeigh‹dMod–CouÁ
(
veùÜ
<
WCÏu£
*>& 
CNF
)

322 #iâdeà
_MSC_VER


324 if(
g‘µid
()==1)

326 
cout
<<"PŞËd…¬’ˆha ex™ed.. h’û”mš©šg"<<
g‘µid
()<<
’dl
;

327 
ex™
(0);

331 
time_t
 
	gcurTime
;

332 
time
(&
curTime
);

333 if(
difáime
(
curTime
,
¡¬tTime
è> 
	gMAXTIMEOUTCLUSTERING
)

335 
	gcout
<<"Timeouˆlim™„—ched"<<
	g’dl
;

336 
ş—nup
(
CNF
);

337 
	g¡©us
 = -2;

340 
	gcom¶‘edCouÁ
=0;

341 
	gi
=0;i<
	gCNF
.
size
();i++)

343 if(
	gCNF
[
i
]->
	g©oms
.
size
()==0 || 
CNF
[i]->
§tisf›d
)

345 
com¶‘edCouÁ
++;

348 if(
	gcom¶‘edCouÁ
 =ğ
CNF
.
size
())

350 
ş—nup
(
CNF
);

353 
	gveùÜ
<> 
	gpow”FaùÜs
;

354 
	gveùÜ
<
	gboŞ
> 
	gisDecompo£dCNF
;

355 
	gveùÜ
<veùÜ<
	gWCÏu£
*> > 
	gdecompo£dLi¡
;

356 
	gLClu¡”Ut
::
£³¿‹DisjoštCNF
(
CNF
,
decompo£dLi¡
);

358 
ş—nup
(
CNF
);

359 
	gco¡
 = 1;

360 
	gt
=0;t<
	gdecompo£dLi¡
.
size
();t++)

362 
	gpow”FaùÜ
;

363 
	gveùÜ
<
	gm­
<,> > 
	gdecompo£rM­pšgs
;

364 
	gveùÜ
<> 
	gdomašPow”FaùÜs
;

365 
boŞ
 
	gisDecompo£d
 = 
decompo£CNF
(
decompo£dLi¡
[
t
],
pow”FaùÜ
,
decompo£rM­pšgs
,
domašPow”FaùÜs
);

366 if(
	gisDecompo£d
)

369 
	g»t
 = 
mockWeigh‹dMod–CouÁ
(
decompo£dLi¡
[
t
]);

370 if(
	g¡©us
!=0)

372 
ş—nupI‹ms
(
decompo£dLi¡
,
t
);

373  
	g»t
;

375 
	gco¡
 +ğ
»t
*1;

380 
	gveùÜ
<veùÜ<
	gWCÏu£
*> > 
	g‹mpCNFLi¡
;

381 
Atom
* 
	gtm·tom
 = 
heuri¡ics
->
g‘AtomToS¶™
(
decompo£dLi¡
[
t
]);

382 if(
	gtm·tom
==
NULL
)

384 
ş—nup
(
decompo£dLi¡
[
t
]);

387 
Atom
* 
	g©om
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
tm·tom
);

388 
	gsšgËtÚIndex
;

389 
boŞ
 
	gsšgËtÚ
 = 
©om
->
isSšgËtÚAtom
(
sšgËtÚIndex
);

391 
boŞ
 
	g£lfJošed
 = 
çl£
;

393 
	gm
=0;m<
	gdecompo£dLi¡
[
t
].
size
();m++)

395 if(
	gdecompo£dLi¡
[
t
].
©
(
m
)->
isS–fJošedOnAtom
(
©om
))

397 
	g£lfJošed
 = 
Œue
;

401 if(
	g©om
->
isCÚ¡ªt
())

403 if(!
	g£lfJošed
)

404 
	gPrİos™iÚ®ResŞutiÚ
::
doPrİos™iÚ®S¶™
(
decompo£dLi¡
[
t
],
©om
,
‹mpCNFLi¡
);

406 
	gPrİos™iÚ®ResŞutiÚ
::
doPrİos™iÚ®S¶™S–fJošs
(
decompo£dLi¡
[
t
],
©om
,
‹mpCNFLi¡
);

407 
	gr
 = 
LvRªdomG’Ut
::
In¡ªû
()->
g‘NÜmRªd
();

408 
	g»t
;

409 if(
	gr
<0.5)

411 
	g»t
 = 
mockWeigh‹dMod–CouÁ
(
‹mpCNFLi¡
[0]);

415 
	g»t
 = 
mockWeigh‹dMod–CouÁ
(
‹mpCNFLi¡
[1]);

418 
ş—nup
(
‹mpCNFLi¡
[0]);

419 
ş—nup
(
‹mpCNFLi¡
[1]);

420 
	g‹mpCNFLi¡
.
ş—r
();

421 
ş—nup
(
decompo£dLi¡
[
t
]);

422 
	gco¡
 +ğ
»t
*2;

423 if(
	g¡©us
!=0)

425 
d–‘e
 
©om
;

426 
ş—nupI‹ms
(
decompo£dLi¡
,
t
+1);

427  
	g»t
;

429 if(
	gco¡
 > 
	gba£lšeCo¡
)

431 
d–‘e
 
	g©om
;

432 
ş—nupI‹ms
(
decompo£dLi¡
,
t
+1);

433 
	g¡©us
 = -1;

436 
d–‘e
 
	g©om
;

438 if(
	gsšgËtÚ
)

440 
	gsz
 = 
©om
->
g‘Numb”OfGroundšgs
()+1;

441 
	gr
 = 
LvRªdomG’Ut
::
In¡ªû
()->
g‘RªdomPos™iÚ
(
sz
);

442 
	gLvrSšgËtÚNÜmPrİag©iÚ
::
´İag©eNÜm®izedCNF
(
decompo£dLi¡
[
t
],
©om
,
sšgËtÚIndex
,
r
);

443 
	g»t
 = 
mockWeigh‹dMod–CouÁ
(
decompo£dLi¡
[
t
]);

444 
	gco¡
 +ğ
»t
*
sz
;

445 if(
	g¡©us
!=0)

447 
d–‘e
 
©om
;

448 
ş—nupI‹ms
(
decompo£dLi¡
,
t
);

449  
	g»t
;

451 if(
	gco¡
 > 
	gba£lšeCo¡
)

453 
	g¡©us
 = -1;

454 
d–‘e
 
	g©om
;

455 
ş—nupI‹ms
(
decompo£dLi¡
,
t
);

458 
d–‘e
 
	g©om
;

459 
ş—nup
(
decompo£dLi¡
[
t
]);

463 
	g¡©us
 = -2;

464 
d–‘e
 
	g©om
;

465 
ş—nupI‹ms
(
decompo£dLi¡
,
t
);

470  
	gco¡
;

473 
	gLBlockExaùInã»nû
::
	$LBlockExaùInã»nû
(
LvrMLN
& 
mÊ_
): 
	$mÊ
(
mÊ_
)

475 
decompo£r
 = 
Ãw
 
	`LDecompo£r
(
mÊ
);

476 
heuri¡ics
 = 
Ãw
 
	`LHeuri¡ics
(*
decompo£r
,
mÊ
);

477 
lvrPTPT»eSam¶šg
 = 
Ãw
 
	`LvrPTPT»eSam¶šg
();

478 
nÚPŞyNodeFound
 = 
çl£
;

479 
	}
}

481 
	gLBlockExaùInã»nû
::
doExaùInã»nûOnClu¡”
(
veùÜ
<
WCÏu£
*>& 
CNF
)

483 
lvrPTPT»eSam¶šg
->
ş—nT»e
();

484 
	gid
 = 0;

486 
	gnÚPŞyNodeFound
 = 
çl£
;

487 
weigh‹dMod–CouÁ
(
CNF
,-1,-1);

488 if(
	gnÚPŞyNodeFound
)

492  
	glvrPTPT»eSam¶šg
->
¡¬tNewSam¶šg
();

495 
	gLBlockExaùInã»nû
::
doMockInã»nûOnClu¡”
(
veùÜ
<
WCÏu£
*>& 
CNF
,& 
lvpCo¡
,
»maššgCo¡
)

497 
	g¡©us
 = 0;

498 
time
(&
¡¬tTime
);

499 
	gba£lšeCo¡
 = 
»maššgCo¡
;

500 
	g»t
 = 
mockWeigh‹dMod–CouÁ
(
CNF
);

501 
	glvpCo¡
 = 
»t
;

502  
	g¡©us
;

	@liftedinfer/liftedblockedgibbs/src/clustercreator.cpp

1 
	~<time.h
>

2 
	~"şu¡”ü—tÜ.h
"

3 
	~"nÜm®iz”.h
"

4 
	~"¿ndomg’ut.h
"

5 
	~<f¡»am
>

6 
	~<s¡»am
>

7 
usšg
 
Çme¥aû
 
	g¡d
;

8 
	~<sys/ty³s.h
>

9 #iâdeà
_MSC_VER


10 
	~<uni¡d.h
>

13 
boŞ
 
	$sÜtFunc
 (
LTu¶e
* 
l1
,LTu¶e* 
l2
è{  (l1->
CF
 >†2->CF); 
	}
}

16 
	gLClu¡”C»©Ü
::
	$g‘Clu¡”Index
(
LVRClu¡”
* 
şu¡”
)

18 
i
=0;i<
LVRClu¡”Li¡
.
	`size
();i++)

20 if(
LVRClu¡”Li¡
[
i
]->
şu¡”Id
 =ğ
şu¡”
->clusterId)

22  
i
;

26 
	}
}

28 
	gLClu¡”C»©Ü
::
	$m”geClu¡”
(
şu¡”Ind1
,
şu¡”Ind2
)

30 
i
=0;i<
LVRClu¡”Li¡
[
şu¡”Ind2
]->
–em’ts
.
	`size
();i++)

31 
LVRClu¡”Li¡
[
şu¡”Ind1
]->
	`addEËm’t
(LVRClu¡”Li¡[
şu¡”Ind2
]->
–em’ts
[
i
]);

32 
LVRClu¡”Li¡
[
şu¡”Ind1
]->
	`š™ŸlizeAssignm’ts
();

33 
	`»moveI‹m
(
LVRClu¡”Li¡
,
şu¡”Ind2
);

34 
	}
}

36 
	gLClu¡”C»©Ü
::
g‘AtomsM©chšgT”m
(
Atom
* 
©om
, 
‹rmIndex
, 
veùÜ
<Atom*>& 
m©chšgMLNAtoms
)

38 
	g£t
<> 
	gcom¶‘edIds
;

39 
	gi
=0;i<
	gmÊ
->
	gşau£s
.
size
();i++)

41 
LvrT”m
* 
	g‹rmToM©ch
 = 
NULL
;

42 
	g©omInd
 = -1;

43 
	gj
=0;j<
	gmÊ
->
	gşau£s
[
i
]->
	g©oms
.
size
();j++)

45 if(
	gcom¶‘edIds
.
couÁ
(
mÊ
->
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
)>0)

47 if(
	gmÊ
->
	gşau£s
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	gid
 =ğ
©om
->
symbŞ
->
id
)

50 
‹rmToM©ch
 = 
mÊ
->
şau£s
[
i
]->
©oms
[
j
]->
‹rms
[
‹rmIndex
];

51 
	g©omInd
 = 
j
;

55 if(
	g‹rmToM©ch
 =ğ
NULL
)

57 
	gj
=0;j<
	gmÊ
->
	gşau£s
[
i
]->
	g©oms
.
size
();j++)

59 if(
	gj
==
©omInd
)

61 
	gk
=0;k<
	gmÊ
->
	gşau£s
[
i
]->
	g©oms
[
j
]->
	g‹rms
.
size
();k++)

63 if(
	gmÊ
->
	gşau£s
[
i
]->
	g©oms
[
j
]->
	g‹rms
[
k
] =ğ
‹rmToM©ch
 &&

64 
com¶‘edIds
.
couÁ
(
mÊ
->
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
)==0)

66 
com¶‘edIds
.
š£¹
(
mÊ
->
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

67 
	gm©chšgMLNAtoms
.
push_back
(
mÊ
->
şau£s
[
i
]->
©oms
[
j
]);

74 
	gLClu¡”C»©Ü
::
	$compu‹Clu¡”LiáedSh¬šgs
()

77 
i
=0;i<
LVRClu¡”Li¡
.
	`size
();i++)

79 
j
=0;j<
LVRClu¡”Li¡
[
i
]->
sh¬edT”ms
.
	`size
();j++)

81 
k
=0;k<
LVRClu¡”Li¡
[
i
]->
sh¬edT”ms
[
j
]->
sh¬ed
.
	`size
();k++)

83 if(
LVRClu¡”Li¡
[
i
]->
sh¬edT”ms
[
j
]->
sh¬ed
[
k
])

85 
veùÜ
<
Atom
*> 
m©chšgAtoms
;

86 
	`g‘AtomsM©chšgT”m
(
LVRClu¡”Li¡
[
i
]->
–em’ts
[
j
],
k
,
m©chšgAtoms
);

87 
LVRClu¡”Li¡
[
i
]->
sh¬edT”ms
[
j
]->
sh¬edAtoms
[
k
] = 
m©chšgAtoms
;

101 
	}
}

102 
	gLClu¡”C»©Ü
::
	$compu‹Clu¡”MB
()

104 
veùÜ
<veùÜ<> > 
	`şau£Indexes
(
LVRClu¡”Li¡
.
	`size
());

105 
i
=0;i<
LVRClu¡”Li¡
.
	`size
();i++)

107 
veùÜ
<> 
şau£Index
;

108 
j
=0;j<
mÊ
->
şau£s
.
	`size
();j++)

110 
k
=0;k<
mÊ
->
şau£s
[
j
]->
©oms
.
	`size
();k++)

112 
šd
 = 
LVRClu¡”Li¡
[
i
]->
	`šClu¡”
(
mÊ
->
şau£s
[
j
]->
©oms
[
k
]);

113 if(
šd
!=-1)

115 
şau£Index
.
	`push_back
(
j
);

120 
şau£Indexes
[
i
] = 
şau£Index
;

122 
i
=0;i<
şau£Indexes
.
	`size
();i++)

124 
LVRClu¡”Li¡
[
i
]->
MB
.
	`ş—r
();

125 
j
=0;j<
şau£Indexes
.
	`size
();j++)

127 if(
i
==
j
)

129 
veùÜ
<> 
	`commÚS‘
(
şau£Indexes
[
i
].
	`size
());

130 
k
=0;k<
commÚS‘
.
	`size
();k++)

131 
commÚS‘
[
k
] = -1;

132 
	`£t_š‹r£ùiÚ
(
şau£Indexes
[
i
].
	`begš
(),şau£Indexes[i].
	`’d
(),şau£Indexes[
j
].begš(),şau£Indexes[j].’d(),
commÚS‘
.begin());

133 
boŞ
 
em±yIÁ”£ù
 = 
Œue
;

134 
k
=0;k<
commÚS‘
.
	`size
();k++)

136 if(
commÚS‘
[
k
] != -1)

138 
em±yIÁ”£ù
 = 
çl£
;

142 if(!
em±yIÁ”£ù
)

144 
LVRClu¡”Li¡
[
i
]->
MB
.
	`push_back
(LVRClu¡”Li¡[
j
]);

154 
	`compu‹Clu¡”LiáedSh¬šgs
();

155 
	}
}

157 
	gLClu¡”C»©Ü
::
makeClu¡”Paœs
(
veùÜ
<
LTu¶e
*>& 
şu¡”Combš©iÚs
)

159 
veùÜ
<veùÜ<> > 
com¶‘edPaœs
;

161 
	gi
=0;i<
	gLVRClu¡”Li¡
.
size
();i++)

163 
	gšdex_i
 = 
g‘Clu¡”Index
(
LVRClu¡”Li¡
[
i
]);

165 
	gj
=0;j<
	gLVRClu¡”Li¡
[
i
]->
	gMB
.
size
();j++)

167 
	gšdex_j
 = 
g‘Clu¡”Index
(
LVRClu¡”Li¡
[
i
]->
MB
[
j
]);

168 
	gveùÜ
<> 
Å
(2);

169 
	gÅ
[0] = 
šdex_i
;

170 
	gÅ
[1] = 
šdex_j
;

171 
boŞ
 
	gcom¶‘ed
 = 
çl£
;

172 
	gjj
=0;jj<
	gcom¶‘edPaœs
.
size
();jj++)

174 if((
	gcom¶‘edPaœs
[
jj
].
©
(0è=ğ
Å
[0] && 
com¶‘edPaœs
[jj].at(1) ==‚p[1])

175 || (
com¶‘edPaœs
[
jj
].
©
(0è=ğ
Å
[1] && completedPairs[jj].at(1) ==‚p[0]))

177 
com¶‘ed
 = 
Œue
;

181 if(!
	gcom¶‘ed
)

184 
LTu¶e
* 
	gÉ
 = 
Ãw
 LTuple();

185 
	gÉ
->
	gşu¡”Indexes
 = 
Å
;

186 
	gşu¡”Combš©iÚs
.
push_back
(
É
);

187 
	gcom¶‘edPaœs
.
push_back
(
Å
);

192 
	gi
=0;i<
	gşu¡”Combš©iÚs
.
size
();i++)

194 
	gcf
 = 
compu‹Cou¶šgFaùÜ
(
şu¡”Combš©iÚs
[
i
]->
şu¡”Indexes
[0],clusterCombinations[i]->clusterIndexes[1]);

195 
	gşu¡”Combš©iÚs
[
i
]->
	gCF
 = 
cf
;

201 
	gLClu¡”C»©Ü
::
	$numCoOccu¼’ûs
(
Atom
* 
a1
,Atom* 
a2
)

203 
sz
 = 0;

204 
i
=0;i<
mÊ
->
şau£s
.
	`size
();i++)

206 if(
mÊ
->
şau£s
[
i
]->
	`isAtomInCÏu£
(
a1
) &&

207 
mÊ
->
şau£s
[
i
]->
	`isAtomInCÏu£
(
a2
))

208 
sz
 +ğ
mÊ
->
şau£s
[
i
]->
	`g‘Numb”OfGroundedCÏu£s
();

210  
sz
;

211 
	}
}

213 
	gLClu¡”C»©Ü
::
	$compu‹Cou¶šgFaùÜ
(
şu¡”Index1
,
şu¡”Index2
)

216 
cf
 = 0;

217 
i
=0;i<
LVRClu¡”Li¡
[
şu¡”Index1
]->
–em’ts
.
	`size
();i++)

219 
j
=0;j<
LVRClu¡”Li¡
[
şu¡”Index2
]->
–em’ts
.
	`size
();j++)

221 
cf
 +ğ
	`numCoOccu¼’ûs
(
LVRClu¡”Li¡
[
şu¡”Index1
]->
–em’ts
[
i
],

222 
LVRClu¡”Li¡
[
şu¡”Index2
]->
–em’ts
[
j
]);

225  
cf
;

226 
	}
}

229 
	gLClu¡”C»©Ü
::
	$¡¬tRªdomClu¡”šg
(
LvrP¬ams
* 
·¿ms
)

231 
Ëv–
 = 0;

232 
	`š™ŸlizeClu¡”s
();

233 
ba£lšePTPCo¡
 = 0;

234 
ba£lšeS·ûCo¡
 = 0;

235 if(
·¿ms
->
ba£lšeCo¡MuÉliÿtiveFaùÜ
 < 1)

236 
·¿ms
->
ba£lšeCo¡MuÉliÿtiveFaùÜ
 = 1.25;

237 
cout
<<"Clu¡”šg Proûss::S‘tšg ba£lše..†ev– "<<
Ëv–
<<
’dl
;

238 
i
=0;i<
LVRClu¡”Li¡
.
	`size
();i++)

240 
veùÜ
<
WCÏu£
*> 
ÃwCÏu£s
;

241 
	`addPTPEvid’û
(
i
,
ÃwCÏu£s
);

242 
lvpCo¡
;

243 if(
Í
->
	`runMockPTP
(
ÃwCÏu£s
,
LVRClu¡”Li¡
[
i
],
lvpCo¡
,
RAND_MAX
) < 0)

245 
cout
<<"Clu¡” C»©Ü::NÚ PŞy‚ode,”mš©cu¼’ˆşu¡”šg"<<
’dl
;

248 
ba£lšePTPCo¡
 +ğ()
lvpCo¡
*
·¿ms
->
ba£lšeCo¡MuÉliÿtiveFaùÜ
;

249 
ba£lšeS·ûCo¡
 +ğ
LVRClu¡”Li¡
[
i
]->
	`tÙ®S·û
();

250 
ÃwCÏu£s
.
	`ş—r
();

253 
be¡Cou¶šgFaùÜ
 = 0;

254 
™”
=0;

258 #iâdeà
_MSC_VER


259 if(
	`g‘µid
()==1)

261 
cout
<<"Clu¡”šg Proûss:: P¬’ˆ´oûs ha ex™ed, h’û”mš©šg"<<
’dl
;

262 
	`ex™
(0);

265 if(
·¿ms
->
İ”©iÚMode
 =ğ
EPARALLEL
)

266 
	`¦“p
(
SLEEPTIME
);

270 
veùÜ
<
LTu¶e
*> 
şu¡”Combš©iÚs
;

271 
	`makeClu¡”Paœs
(
şu¡”Combš©iÚs
);

272 if(
şu¡”Combš©iÚs
.
	`size
() == 0)

274 
veùÜ
<
LVRClu¡”
*> 
	`LVRClu¡”Li¡_Üig
(
LVRClu¡”Li¡
.
	`size
());

275 
šd
 = 
LvRªdomG’Ut
::
	`In¡ªû
()->
	`g‘RªdomPos™iÚ
(
şu¡”Combš©iÚs
.
	`size
());

277 
jj
=0;jj<
LVRClu¡”Li¡
.
	`size
();jj++)

279 
LVRClu¡”Li¡_Üig
[
jj
] = 
LVRClu¡”Li¡
[jj]->
	`şÚeClu¡”EËm’ts
();

282 
	`m”geClu¡”
(
şu¡”Combš©iÚs
[
šd
]->
şu¡”Indexes
.
	`©
(0),clusterCombinations[ind]->clusterIndexes.at(1));

283 
	`compu‹Clu¡”MB
();

284 
cu¼PTPCo¡
 = 0;

285 
cu¼S·ûCo¡
 = 0;

286 
cou¶šgFaùÜ
 = 0;

287 
boŞ
 
şu¡”šgNP
 = 
çl£
;

288 
boŞ
 
şu¡”Co¡Exûeded
 = 
çl£
;

290 
jj
=0;jj<
LVRClu¡”Li¡
.
	`size
();jj++)

292 
veùÜ
<
WCÏu£
*> 
ÃwCÏu£s
;

293 
	`addPTPEvid’û
(
jj
,
ÃwCÏu£s
);

294 if(
cu¼PTPCo¡
 > 
ba£lšePTPCo¡
)

296 
şu¡”Co¡Exûeded
 = 
Œue
;

297 
	`ş—nup
(
ÃwCÏu£s
);

300 
lvpCo¡
;

301 
»maššgCo¡
 = 
ba£lšePTPCo¡
-
cu¼PTPCo¡
;

302 
»tV®
 = 
Í
->
	`runMockPTP
(
ÃwCÏu£s
,
LVRClu¡”Li¡
[
jj
],
lvpCo¡
,
»maššgCo¡
);

304 if(
»tV®
 == -1)

306 
şu¡”šgNP
 = 
Œue
;

307 
ÃwCÏu£s
.
	`ş—r
();

310 if(
»tV®
 == -2)

312 
şu¡”Co¡Exûeded
 = 
Œue
;

313 
ÃwCÏu£s
.
	`ş—r
();

317 
cu¼PTPCo¡
 +ğ
lvpCo¡
;

318 
cu¼S·ûCo¡
 +ğ
LVRClu¡”Li¡
[
jj
]->
	`tÙ®S·û
();

319 
ÃwCÏu£s
.
	`ş—r
();

325 if(!
şu¡”šgNP
 && !
şu¡”Co¡Exûeded
 && 
cu¼S·ûCo¡
 <ğ
ba£lšeS·ûCo¡
)

327 
Ëv–
++;

328 
id1
 =
şu¡”Combš©iÚs
[
šd
]->
şu¡”Indexes
.
	`©
(0);

329 
id2
 = 
şu¡”Combš©iÚs
[
šd
]->
şu¡”Indexes
.
	`©
(1);

330 
of¡»am
 
outfe
;

331 
outfe
.
	`İ’
(
·¿ms
->
outClu¡”Fe
.
	`c_¡r
(),
ios
::
­p
);

332 
outfe
<<
Ëv–
<<" "<<
id1
<<" "<<
id2
<<
’dl
;

333 
outfe
.
	`şo£
();

334 
cout
<<"Clustering Process::merged ";

335 
LVRClu¡”Li¡_Üig
[
id1
]->
	`´št
();

336 
LVRClu¡”Li¡_Üig
[
id2
]->
	`´št
();

341 
mÊ
->
max_´ediÿ‹_id
 = 
Üigš®NumP»diÿ‹s
;

342 
	`ş—nup
(
LVRClu¡”Li¡
);

343 
LVRClu¡”Li¡
.
	`»size
(
LVRClu¡”Li¡_Üig
.
	`size
());

345 
i
=0;i<
LVRClu¡”Li¡_Üig
.
	`size
();i++)

347 
LVRClu¡”Li¡
[
i
] = 
Ãw
 
	`LVRClu¡”
(
LVRClu¡”Li¡_Üig
[i]->
şu¡”Id
,*
mÊ
);

348 
j
=0;j<
LVRClu¡”Li¡_Üig
[
i
]->
–em’ts
.
	`size
();j++)

349 
LVRClu¡”Li¡
[
i
]->
	`addEËm’t
(
LVRClu¡”Li¡_Üig
[i]->
–em’ts
[
j
]);

351 
i
=0;i<
LVRClu¡”Li¡
.
	`size
();i++)

352 
LVRClu¡”Li¡
[
i
]->
	`š™ŸlizeAssignm’ts
();

353 
	`compu‹Clu¡”MB
();

355 
	`ş—nup
(
şu¡”Combš©iÚs
);

356 
	`ş—nup
(
LVRClu¡”Li¡_Üig
);

358 
cout
<<"Clu¡”šg Proûss:: com¶‘ed„ªdom clu¡”šg, sbË†ev– = "<<
Ëv–
<<
’dl
;

359 
	}
}

361 
	gLClu¡”C»©Ü
::
	$¡¬tClu¡”šg
(
LvrP¬ams
* 
·¿ms
)

363 
Ëv–
 = 0;

364 
	`š™ŸlizeClu¡”s
();

365 
LogDoubË
 
PTPCo¡
;

366 
¥aûCo¡
 = 0;

367 
CF
 = 0;

368 
LNÜm®iz”
 
	`Ê
(*
mÊ
);

369 
ba£lšePTPCo¡
=0;

370 
ba£lšeS·ûCo¡
 = 0;

371 
cu¼PTPCo¡
 = 0;

372 
cu¼S·ûCo¡
 = 0;

373 
Üigš®NumP»diÿ‹s
 = 
mÊ
->
	`g‘MaxP»diÿ‹Id
();

375 if(
·¿ms
->
ba£lšeCo¡MuÉliÿtiveFaùÜ
 < 1)

376 
·¿ms
->
ba£lšeCo¡MuÉliÿtiveFaùÜ
 = 1.25;

378 
cout
<<"Clu¡”šg Proûss::S‘tšg ba£lše..†ev– "<<
Ëv–
<<
’dl
;

379 
i
=0;i<
LVRClu¡”Li¡
.
	`size
();i++)

381 
veùÜ
<
WCÏu£
*> 
ÃwCÏu£s
;

382 
	`addPTPEvid’û
(
i
,
ÃwCÏu£s
);

383 
lvpCo¡
;

384 if(
Í
->
	`runMockPTP
(
ÃwCÏu£s
,
LVRClu¡”Li¡
[
i
],
lvpCo¡
,
RAND_MAX
) < 0)

386 
cout
<<"Clu¡” C»©Ü::NÚ PŞy‚ode,”mš©cu¼’ˆşu¡”šg"<<
’dl
;

389 
cu¼PTPCo¡
 +ğ
lvpCo¡
;

390 
cu¼S·ûCo¡
 +ğ
LVRClu¡”Li¡
[
i
]->
	`tÙ®S·û
();

391 
ÃwCÏu£s
.
	`ş—r
();

395 
ba£lšePTPCo¡
 = ()
cu¼PTPCo¡
*
·¿ms
->
ba£lšeCo¡MuÉliÿtiveFaùÜ
;

396 
ba£lšeS·ûCo¡
 = 
cu¼S·ûCo¡
;

399 
boŞ
 
chªged
 = 
çl£
;

400 
mÊ
->
max_´ediÿ‹_id
 = 
Üigš®NumP»diÿ‹s
;

405 #iâdeà
_MSC_VER


406 if(
	`g‘µid
()==1)

408 
cout
<<"Clustering Process:: Parent hasƒxited, henceerminating";

409 
	`ex™
(0);

412 if(
·¿ms
->
İ”©iÚMode
 =ğ
EPARALLEL
)

413 
	`¦“p
(
SLEEPTIME
);

415 
Ëv–
++;

417 
cout
<<"Clu¡” C»©Ü::Clu¡”šg†ev– "<<
Ëv–
<<
’dl
;

418 
mÊ
->
max_´ediÿ‹_id
 = 
Üigš®NumP»diÿ‹s
;

419 
veùÜ
<
LTu¶e
*> 
şu¡”Combš©iÚs
;

420 
	`makeClu¡”Paœs
(
şu¡”Combš©iÚs
);

421 
chªged
 = 
çl£
;

422 if(
şu¡”Combš©iÚs
.
	`size
() == 0)

424 
	`sÜt
(
şu¡”Combš©iÚs
.
	`begš
(),şu¡”Combš©iÚs.
	`’d
(),
sÜtFunc
);

425 
i
=0;i<
şu¡”Combš©iÚs
.
	`size
();i++)

427 
veùÜ
<
LVRClu¡”
*> 
	`LVRClu¡”Li¡_Üig
(
LVRClu¡”Li¡
.
	`size
());

428 
jj
=0;jj<
LVRClu¡”Li¡
.
	`size
();jj++)

430 
LVRClu¡”Li¡_Üig
[
jj
] = 
LVRClu¡”Li¡
[jj]->
	`şÚeClu¡”EËm’ts
();

432 
	`m”geClu¡”
(
şu¡”Combš©iÚs
[
i
]->
şu¡”Indexes
.
	`©
(0),clusterCombinations[i]->clusterIndexes.at(1));

433 
	`compu‹Clu¡”MB
();

434 
LogDoubË
 
tÙ®PTPCo¡
;

435 
tÙ®S·û
 = 0;

436 
cou¶šgFaùÜ
 = 0;

437 
boŞ
 
şu¡”šgNP
 = 
çl£
;

438 
boŞ
 
şu¡”Co¡Exûeded
 = 
çl£
;

439 
cu¼PTPCo¡
 = 0;

440 
cu¼S·ûCo¡
 = 0;

441 
jj
=0;jj<
LVRClu¡”Li¡
.
	`size
();jj++)

443 
veùÜ
<
WCÏu£
*> 
ÃwCÏu£s
;

444 
	`addPTPEvid’û
(
jj
,
ÃwCÏu£s
);

445 if(
cu¼PTPCo¡
 > 
ba£lšePTPCo¡
)

447 
şu¡”Co¡Exûeded
 = 
Œue
;

448 
	`ş—nup
(
ÃwCÏu£s
);

451 
lvpCo¡
;

452 
»maššgCo¡
 = 
ba£lšePTPCo¡
-
cu¼PTPCo¡
;

453 
»tV®
 = 
Í
->
	`runMockPTP
(
ÃwCÏu£s
,
LVRClu¡”Li¡
[
jj
],
lvpCo¡
,
»maššgCo¡
);

454 if(
»tV®
 == -1)

456 
şu¡”šgNP
 = 
Œue
;

457 
ÃwCÏu£s
.
	`ş—r
();

460 if(
»tV®
 == -2)

462 
şu¡”Co¡Exûeded
 = 
Œue
;

463 
ÃwCÏu£s
.
	`ş—r
();

466 
cu¼PTPCo¡
 +ğ
lvpCo¡
;

467 
cu¼S·ûCo¡
 +ğ
LVRClu¡”Li¡
[
jj
]->
	`tÙ®S·û
();

468 
ÃwCÏu£s
.
	`ş—r
();

474 if(!
şu¡”šgNP
 && !
şu¡”Co¡Exûeded
 && 
cu¼S·ûCo¡
 <ğ
ba£lšeS·ûCo¡
)

476 
chªged
 = 
Œue
;

477 
id1
 =
şu¡”Combš©iÚs
[
i
]->
şu¡”Indexes
.
	`©
(0);

478 
id2
 = 
şu¡”Combš©iÚs
[
i
]->
şu¡”Indexes
.
	`©
(1);

479 
of¡»am
 
outfe
;

480 
outfe
.
	`İ’
(
·¿ms
->
outClu¡”Fe
.
	`c_¡r
(),
ios
::
­p
);

481 
outfe
<<
Ëv–
<<" "<<
id1
<<" "<<
id2
<<
’dl
;

482 
outfe
.
	`şo£
();

483 
cout
<<"Cluster Creator::merged ";

484 
LVRClu¡”Li¡_Üig
[
id1
]->
	`´št
();

485 
LVRClu¡”Li¡_Üig
[
id2
]->
	`´št
();

486 
	`ş—nup
(
LVRClu¡”Li¡_Üig
);

492 
mÊ
->
max_´ediÿ‹_id
 = 
Üigš®NumP»diÿ‹s
;

493 
	`ş—nup
(
LVRClu¡”Li¡
);

494 
LVRClu¡”Li¡
.
	`»size
(
LVRClu¡”Li¡_Üig
.
	`size
());

496 
i
=0;i<
LVRClu¡”Li¡_Üig
.
	`size
();i++)

498 
LVRClu¡”Li¡
[
i
] = 
Ãw
 
	`LVRClu¡”
(
LVRClu¡”Li¡_Üig
[i]->
şu¡”Id
,*
mÊ
);

499 
j
=0;j<
LVRClu¡”Li¡_Üig
[
i
]->
–em’ts
.
	`size
();j++)

500 
LVRClu¡”Li¡
[
i
]->
	`addEËm’t
(
LVRClu¡”Li¡_Üig
[i]->
–em’ts
[
j
]);

502 
i
=0;i<
LVRClu¡”Li¡
.
	`size
();i++)

503 
LVRClu¡”Li¡
[
i
]->
	`š™ŸlizeAssignm’ts
();

504 
	`compu‹Clu¡”MB
();

506 
	`ş—nup
(
LVRClu¡”Li¡_Üig
);

508 if(!
chªged
)

512 
cout
<<"Clu¡”šg Proûss::Clu¡”†ev– "<<
Ëv–
<<" i šãasibË,„ev”tšgØËv–"<<Ëv–-1<<
’dl
;

514 
cout
<<"Clu¡”šg Proûss::Clu¡”šg com¶‘e. SbË clu¡”šg„—ched."<<
’dl
;

517 
	`ş—nup
(
şu¡”Combš©iÚs
);

519 
	}
}

522 
	gLClu¡”C»©Ü
::
groundClu¡”W™hMB
(
şu¡”Index
,
veùÜ
<
WCÏu£
*>& 
ÃwCÏu£s
)

524 
	gLVRClu¡”Li¡
[
şu¡”Index
]->
groundAÎSh¬edT”msInCNF
(
mÊ
->
şau£s
,
ÃwCÏu£s
);

528 
	gi
=0;i<
	gLVRClu¡”Li¡
[
şu¡”Index
]->
	gMB
.
size
();i++)

530 
	gLVRClu¡”Li¡
[
şu¡”Index
]->
	gMB
[
i
]->
groundSh¬edT”msInCNF
(
ÃwCÏu£s
);

534 
	gLClu¡”C»©Ü
::
addPTPEvid’û
(
şu¡”Index
,
veùÜ
<
WCÏu£
*>& 
ÃwCÏu£s
,
boŞ
 
¡ÜeEvid’û
)

536 if(
	gLVRClu¡”Li¡
[
şu¡”Index
]->
doExaùInã»nû
())

538 
	gi
=0;i<
	gmÊ
->
	gşau£s
.
size
();i++)

540 if(
	gLVRClu¡”Li¡
[
şu¡”Index
]->
isInCÏu£
(
mÊ
->
şau£s
[
i
]))

542 
	gÃwCÏu£s
.
push_back
(
LvrMLN
::
ü—‹_Ãw_şau£
(
mÊ
->
şau£s
[
i
]));

548 
groundClu¡”W™hMB
(
şu¡”Index
,
ÃwCÏu£s
);

551 
	gLVRClu¡”Li¡
[
şu¡”Index
]->
	gevid’ûReduùiÚCo¡
 = 0;

552 
	gi
=0;i<
	gLVRClu¡”Li¡
[
şu¡”Index
]->
	gMB
.
size
();i++)

554 
	gLVRClu¡”Li¡
[
şu¡”Index
]->
	gMB
[
i
]->
»duûCNFByEvid’û
(
ÃwCÏu£s
);

555 
	gLVRClu¡”Li¡
[
şu¡”Index
]->
	gevid’ûReduùiÚCo¡
 +ğ
LVRClu¡”Li¡
[şu¡”Index]->
MB
[
i
]->
evid’ûReduùiÚCo¡
;

557 
	gLVRClu¡”Li¡
[
şu¡”Index
]->
»ÇmeP»diÿ‹s
(
ÃwCÏu£s
);

558 
	gi
=0;i<
	gÃwCÏu£s
.
size
();i++)

559 
	gÃwCÏu£s
[
i
]->
	g§tisf›d
=
çl£
;

562 
	gLClu¡”C»©Ü
::
	$š™ŸlizeClu¡”s
()

564 
	`ş—nup
(
LVRClu¡”Li¡
);

565 
şu¡”Id
 = 0;

566 
veùÜ
<
Atom
*> 
com¶‘edAtoms
;

568 
£t
<> 
com¶‘ed
;

570 
i
=0;i<
mÊ
->
şau£s
.
	`size
();i++)

572 if(
mÊ
->
şau£s
[
i
]->
§tisf›d
)

574 
j
=0;j<
mÊ
->
şau£s
[
i
]->
©oms
.
	`size
();j++)

576 if(
com¶‘ed
.
	`couÁ
(
mÊ
->
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
)>0)

580 
LVRClu¡”
* 
c
 = 
Ãw
 
	`LVRClu¡”
(
şu¡”Id
++,*
mÊ
);

581 
c
->
	`addEËm’t
(
mÊ
->
şau£s
[
i
]->
©oms
[
j
]);

582 
LVRClu¡”Li¡
.
	`push_back
(
c
);

583 
com¶‘ed
.
	`š£¹
(
mÊ
->
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

586 
i
=0;i<
LVRClu¡”Li¡
.
	`size
();i++)

588 
LVRClu¡”Li¡
[
i
]->
	`š™ŸlizeAssignm’ts
();

592 
	`compu‹Clu¡”MB
();

593 
	}
}

	@liftedinfer/liftedblockedgibbs/src/lbgsampler.cpp

1 
	~<time.h
>

2 
	~"lbg§m¶”.h
"

3 
	~"nÜm®iz”.h
"

4 
	~<f¡»am
>

5 
	~<s¡»am
>

6 
usšg
 
Çme¥aû
 
	g¡d
;

7 
	~"qu”yupd©”.h
"

8 
	~"¡ršgcÚv”siÚuts.h
"

11 
	gLBGSam¶”
::
	$g‘Clu¡”Index
(
LVRClu¡”
* 
şu¡”
)

13 
i
=0;i<
LVRClu¡”Li¡
.
	`size
();i++)

15 if(
LVRClu¡”Li¡
[
i
]->
şu¡”Id
 =ğ
şu¡”
->clusterId)

17  
i
;

21 
	}
}

23 
	gLBGSam¶”
::
	$m”geClu¡”
(
şu¡”Ind1
,
şu¡”Ind2
)

25 
i
=0;i<
LVRClu¡”Li¡
[
şu¡”Ind2
]->
–em’ts
.
	`size
();i++)

26 
LVRClu¡”Li¡
[
şu¡”Ind1
]->
	`addEËm’t
(LVRClu¡”Li¡[
şu¡”Ind2
]->
–em’ts
[
i
]);

27 
LVRClu¡”Li¡
[
şu¡”Ind1
]->
	`š™ŸlizeAssignm’ts
();

28 
	`»moveI‹m
(
LVRClu¡”Li¡
,
şu¡”Ind2
);

29 
	}
}

31 
	gLBGSam¶”
::
g‘AtomsM©chšgT”m
(
Atom
* 
©om
, 
‹rmIndex
, 
veùÜ
<Atom*>& 
m©chšgMLNAtoms
)

34 
	g£t
<> 
	gcom¶‘edIds
;

35 
	gi
=0;i<
	gmÊ
.
	gşau£s
.
size
();i++)

37 
LvrT”m
* 
	g‹rmToM©ch
 = 
NULL
;

38 
	g©omInd
 = -1;

39 
	gj
=0;j<
	gmÊ
.
	gşau£s
[
i
]->
	g©oms
.
size
();j++)

41 if(
	gcom¶‘edIds
.
couÁ
(
mÊ
.
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
)>0)

43 if(
	gmÊ
.
	gşau£s
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	gid
 =ğ
©om
->
symbŞ
->
id
)

46 
‹rmToM©ch
 = 
mÊ
.
şau£s
[
i
]->
©oms
[
j
]->
‹rms
[
‹rmIndex
];

47 
	g©omInd
 = 
j
;

51 if(
	g‹rmToM©ch
 =ğ
NULL
)

53 
	gj
=0;j<
	gmÊ
.
	gşau£s
[
i
]->
	g©oms
.
size
();j++)

55 if(
	gj
==
©omInd
)

57 
	gk
=0;k<
	gmÊ
.
	gşau£s
[
i
]->
	g©oms
[
j
]->
	g‹rms
.
size
();k++)

59 if(
	gmÊ
.
	gşau£s
[
i
]->
	g©oms
[
j
]->
	g‹rms
[
k
] =ğ
‹rmToM©ch
 &&

60 
com¶‘edIds
.
couÁ
(
mÊ
.
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
)==0)

62 
com¶‘edIds
.
š£¹
(
mÊ
.
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

63 
	gm©chšgMLNAtoms
.
push_back
(
mÊ
.
şau£s
[
i
]->
©oms
[
j
]);

70 
	gLBGSam¶”
::
	$compu‹Clu¡”LiáedSh¬šgs
()

73 
i
=0;i<
LVRClu¡”Li¡
.
	`size
();i++)

75 
j
=0;j<
LVRClu¡”Li¡
[
i
]->
sh¬edT”ms
.
	`size
();j++)

77 
k
=0;k<
LVRClu¡”Li¡
[
i
]->
sh¬edT”ms
[
j
]->
sh¬ed
.
	`size
();k++)

79 if(
LVRClu¡”Li¡
[
i
]->
sh¬edT”ms
[
j
]->
sh¬ed
[
k
])

81 
veùÜ
<
Atom
*> 
m©chšgAtoms
;

82 
	`g‘AtomsM©chšgT”m
(
LVRClu¡”Li¡
[
i
]->
–em’ts
[
j
],
k
,
m©chšgAtoms
);

83 
LVRClu¡”Li¡
[
i
]->
sh¬edT”ms
[
j
]->
sh¬edAtoms
[
k
] = 
m©chšgAtoms
;

88 
	}
}

90 
	gLBGSam¶”
::
	$compu‹Clu¡”MB
()

92 
veùÜ
<veùÜ<> > 
	`şau£Indexes
(
LVRClu¡”Li¡
.
	`size
());

93 
i
=0;i<
LVRClu¡”Li¡
.
	`size
();i++)

95 
veùÜ
<> 
şau£Index
;

96 
j
=0;j<
mÊ
.
şau£s
.
	`size
();j++)

98 
k
=0;k<
mÊ
.
şau£s
[
j
]->
©oms
.
	`size
();k++)

100 
šd
 = 
LVRClu¡”Li¡
[
i
]->
	`šClu¡”
(
mÊ
.
şau£s
[
j
]->
©oms
[
k
]);

101 if(
šd
!=-1)

103 
şau£Index
.
	`push_back
(
j
);

108 
şau£Indexes
[
i
] = 
şau£Index
;

110 
i
=0;i<
şau£Indexes
.
	`size
();i++)

112 
LVRClu¡”Li¡
[
i
]->
MB
.
	`ş—r
();

113 
j
=0;j<
şau£Indexes
.
	`size
();j++)

115 if(
i
==
j
)

117 
veùÜ
<> 
	`commÚS‘
(
şau£Indexes
[
i
].
	`size
());

118 
k
=0;k<
commÚS‘
.
	`size
();k++)

119 
commÚS‘
[
k
] = -1;

120 
	`£t_š‹r£ùiÚ
(
şau£Indexes
[
i
].
	`begš
(),şau£Indexes[i].
	`’d
(),şau£Indexes[
j
].begš(),şau£Indexes[j].’d(),
commÚS‘
.begin());

121 
boŞ
 
em±yIÁ”£ù
 = 
Œue
;

122 
k
=0;k<
commÚS‘
.
	`size
();k++)

124 if(
commÚS‘
[
k
] != -1)

126 
em±yIÁ”£ù
 = 
çl£
;

130 if(!
em±yIÁ”£ù
)

132 
LVRClu¡”Li¡
[
i
]->
MB
.
	`push_back
(LVRClu¡”Li¡[
j
]);

136 
	`compu‹Clu¡”LiáedSh¬šgs
();

137 
	}
}

139 
	gLBGSam¶”
::
	$¡¬tLVBGibbs
(
LvrP¬ams
* 
·¿ms
)

141 
™”©iÚsInCu¼C®l
 = 0;

143 if(
·¿ms
->
İ”©iÚMode
 =ğ
ESAMPLER
)

144 
wšdowSize
 = 
RAND_MAX
;

146 
wšdowSize
 = 
CLUSTERINGWINDOWSIZE
;

147 
boŞ
 
´štResuÉs
 = 
çl£
;

148 
time_t
 
¡¬t
,
’d
;

149 
	`time
 (&
¡¬t
);

151 
´štIÁ”v®
 = 
PRINTRESULTSINTERVAL
;

152 if(
·¿ms
->
maxS‹ps
 <= 0)

154 if(
·¿ms
->
isWeightL—ºšg
)

155 
·¿ms
->
maxS‹ps
 = 
MAXSTEPSWL
;

157 
·¿ms
->
maxS‹ps
 = 
MAXSTEPSINFER
;

159 if(
·¿ms
->
maxSecÚds
 <= 0)

161 if(
·¿ms
->
isWeightL—ºšg
)

162 
·¿ms
->
maxSecÚds
 = 
MAXSECONDSWL
;

164 
·¿ms
->
maxSecÚds
 = 
MAXSECONDSINFER
;

166 if(
·¿ms
->
buºMaxS‹ps
 <= 0)

167 
·¿ms
->
buºMaxS‹ps
 = 
BURNINSTEPS
;

168 
boŞ
 
şu¡”sR—d
 = 
çl£
;

171 if(
şu¡”Lev–
 < 0)

174 
	`š™ŸlizeClu¡”s
();

175 
şu¡”Lev–
 = 0;

176 
Üigš®NumP»diÿ‹s
 = 
mÊ
.
	`g‘MaxP»diÿ‹Id
();

177 
™”©iÚsSšûLa¡M”ge
 = 0;

181 
f¡»am
 
	`fe¡r
(
·¿ms
->
šClu¡”Fe
.
	`c_¡r
());

182 
veùÜ
<veùÜ<> > 
m”geIndexLi¡
;

183 
veùÜ
<> 
Ëv–s
;

184 
maxLev–
 = 0;

185 if(
fe¡r
 !ğ
NULL
)

187 
cout
<<"R—dšg cu¼’ˆşu¡” fğ"<<
·¿ms
->
šClu¡”Fe
.
	`c_¡r
()<<
’dl
;

188 
şu¡”sR—d
 = 
Œue
;

189 * 
buf
 = 
Ãw
 [1024];

190 
fe¡r
)

192 
fe¡r
.
	`g‘lše
(
buf
,1024);

193 
¡ršg
 
	`lše
(
buf
);

194 if(
lše
.
	`size
()==0)

196 
¡ršg
 
	`s
(
lše
);

197 
veùÜ
<
¡ršg
> 
v®s
;

198 
LSŒšgCÚv”siÚUts
::
	`tok’ize
(
s
,
v®s
," ");

199 
¡ršg¡»am
 
	`¡
(
v®s
[0]);

200 
Ëv–
;

201 
¡
 >> 
Ëv–
;

202 
Ëv–s
.
	`push_back
(
Ëv–
);

203 if(
Ëv–
 > 
maxLev–
)

205 
maxLev–
 = 
Ëv–
;

207 
veùÜ
<> 
m”geIndexes
;

208 
jj
=1;jj<
v®s
.
	`size
();jj++)

210 
lv
;

211 
¡ršg¡»am
 
	`ss
(
v®s
[
jj
]);

212 
ss
 >> 
lv
;

213 
m”geIndexes
.
	`push_back
(
lv
);

215 
m”geIndexLi¡
.
	`push_back
(
m”geIndexes
);

217 
fe¡r
.
	`şo£
();

218 
d–‘e
[] 
buf
;

220 if(
maxLev–
!=
şu¡”Lev–
)

224 
cout
<<"Clu¡”šg ha chªged,„e¡ruùuršg clu¡” g¿ph..."<<
’dl
;

225 
i
=0;i<
Ëv–s
.
	`size
();i++)

227 if(
Ëv–s
[
i
] > 
şu¡”Lev–
)

229 
	`m”geClu¡”
(
m”geIndexLi¡
[
i
].
	`©
(0),mergeIndexList[i].at(1));

230 
şu¡”Lev–
 = 
Ëv–s
[
i
];

233 
	`compu‹Clu¡”MB
();

234 
™”©iÚsSšûLa¡M”ge
 = 0;

235 
mÊ
.
max_´ediÿ‹_id
 = 
Üigš®NumP»diÿ‹s
;

238 
t
=0;t<
wšdowSize
;t++)

240 
time_t
 
t1
;

241 
cu¼I‹¿tiÚSize
;

242 if(
·¿ms
->
isWeightL—ºšg
)

243 
cu¼I‹¿tiÚSize
 = 
™”©iÚsAüossC®ls
;

245 
cu¼I‹¿tiÚSize
 = 
™”©iÚsSšûLa¡M”ge
;

246 if(
cu¼I‹¿tiÚSize
 + 1 > 
·¿ms
->
buºMaxS‹ps
)

249 if(
Í
->
	`g‘BuºIn
())

251 
cout
<<"Buº IÀcom¶‘e."<<
’dl
;

252 
Í
->
	`£tBuºIn
(
çl£
);

257 if(!
Í
->
	`g‘BuºIn
())

259 
cout
<<"Buºšg sam¶es..."<<
’dl
;

260 
Í
->
	`£tBuºIn
(
Œue
);

264 
i
=0;i<
LVRClu¡”Li¡
.
	`size
();i++)

266 
veùÜ
<
WCÏu£
*> 
ÃwCÏu£s
;

267 
	`addPTPEvid’û
(
i
,
ÃwCÏu£s
,
çl£
);

268 
lvpCo¡
;

269 if(
Í
->
	`runPTP
(
ÃwCÏu£s
,
LVRClu¡”Li¡
[
i
]) == -1)

271 
cout
<<"Liáed Gibb Sam¶”::E¼Ü,ŒyšgØ»š™Ÿlize!!"<<
’dl
;

272 
wšdowSize
 = 
RAND_MAX
;

273 
	`š™ŸlizeClu¡”s
();

276 
ÃwCÏu£s
.
	`ş—r
();

279 
™”©iÚsSšûLa¡M”ge
++;

280 
™”©iÚsAüossC®ls
++;

281 if(!
Í
->
	`g‘BuºIn
())

283 
™”©iÚsInCu¼C®l
++;

285 
numTimesSam¶ed
++;

286 
LvrQu”yUpd©”
::
	`In¡ªû
()->
	`upd©eDÚtC¬e
();

287 if(!
·¿ms
->
isWeightL—ºšg
)

289 if(
numTimesSam¶ed
%
´štIÁ”v®
 == 0)

291 
LvrQu”yUpd©”
::
	`In¡ªû
()->
	`wr™eToFe
(
numTimesSam¶ed
);

292 
cout
<<"LBG Sam¶šg Proûss::Sam¶šg from clu¡”†ev– "<<
şu¡”Lev–
<<",™”="<<
numTimesSam¶ed
<<
’dl
;

297 
	`time
 (&
’d
);

298 
dif
 = 
	`difáime
 (
’d
,
¡¬t
);

299 if(
™”©iÚsInCu¼C®l
 > 
·¿ms
->
maxS‹ps


300 || 
dif
 > 
·¿ms
->
maxSecÚds
)

302 if(!
·¿ms
->
isWeightL—ºšg
)

304 
LvrQu”yUpd©”
::
	`In¡ªû
()->
	`wr™eToFe
(
numTimesSam¶ed
);

305 
cout
<<"Sam¶šg Proûs ex™šg"<<
’dl
;

311 
	}
}

313 
	gLBGSam¶”
::
groundClu¡”W™hMB
(
şu¡”Index
,
veùÜ
<
WCÏu£
*>& 
ÃwCÏu£s
)

315 
	gLVRClu¡”Li¡
[
şu¡”Index
]->
groundAÎSh¬edT”msInCNF
(
mÊ
.
şau£s
,
ÃwCÏu£s
);

317 
	gi
=0;i<
	gLVRClu¡”Li¡
[
şu¡”Index
]->
	gMB
.
size
();i++)

319 
	gLVRClu¡”Li¡
[
şu¡”Index
]->
	gMB
[
i
]->
groundSh¬edT”msInCNF
(
ÃwCÏu£s
);

323 
	gLBGSam¶”
::
addPTPEvid’û
(
şu¡”Index
,
veùÜ
<
WCÏu£
*>& 
ÃwCÏu£s
,
boŞ
 
¡ÜeEvid’û
)

326 if(
	gLVRClu¡”Li¡
[
şu¡”Index
]->
doExaùInã»nû
())

328 
	gi
=0;i<
	gmÊ
.
	gşau£s
.
size
();i++)

330 if(
	gLVRClu¡”Li¡
[
şu¡”Index
]->
isInCÏu£
(
mÊ
.
şau£s
[
i
]))

332 
	gÃwCÏu£s
.
push_back
(
LvrMLN
::
ü—‹_Ãw_şau£
(
mÊ
.
şau£s
[
i
]));

338 
groundClu¡”W™hMB
(
şu¡”Index
,
ÃwCÏu£s
);

341 
	gLVRClu¡”Li¡
[
şu¡”Index
]->
	gevid’ûReduùiÚCo¡
 = 0;

342 
	gi
=0;i<
	gLVRClu¡”Li¡
[
şu¡”Index
]->
	gMB
.
size
();i++)

344 
	gLVRClu¡”Li¡
[
şu¡”Index
]->
	gMB
[
i
]->
»duûCNFByEvid’û
(
ÃwCÏu£s
);

345 
	gLVRClu¡”Li¡
[
şu¡”Index
]->
	gevid’ûReduùiÚCo¡
 +ğ
LVRClu¡”Li¡
[şu¡”Index]->
MB
[
i
]->
evid’ûReduùiÚCo¡
;

348 
	gLVRClu¡”Li¡
[
şu¡”Index
]->
»ÇmeP»diÿ‹s
(
ÃwCÏu£s
);

351 
	gLBGSam¶”
::
	$š™ŸlizeClu¡”s
()

353 
cout
<<"In™Ÿlizšghşu¡” g¿ph..."<<
’dl
;

354 
	`ş—nup
(
LVRClu¡”Li¡
);

355 
şu¡”Id
 = 0;

356 
veùÜ
<
Atom
*> 
com¶‘edAtoms
;

357 
£t
<> 
com¶‘ed
;

358 
i
=0;i<
mÊ
.
şau£s
.
	`size
();i++)

360 
j
=0;j<
mÊ
.
şau£s
[
i
]->
©oms
.
	`size
();j++)

362 if(
com¶‘ed
.
	`couÁ
(
mÊ
.
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
) > 0)

366 
LVRClu¡”
* 
c
 = 
Ãw
 
	`LVRClu¡”
(
şu¡”Id
++,
mÊ
);

367 
c
->
	`addEËm’t
(
mÊ
.
şau£s
[
i
]->
©oms
[
j
]);

368 
LVRClu¡”Li¡
.
	`push_back
(
c
);

369 
com¶‘ed
.
	`š£¹
(
mÊ
.
şau£s
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

372 
i
=0;i<
LVRClu¡”Li¡
.
	`size
();i++)

374 
LVRClu¡”Li¡
[
i
]->
	`š™ŸlizeAssignm’ts
();

376 
	`compu‹Clu¡”MB
();

377 
	}
}

	@liftedinfer/liftedblockedgibbs/src/lvrcluster.cpp

1 
	~"lvrşu¡”.h
"

2 
	~"şu¡”ut.h
"

3 
	~"decompo£r.h
"

4 
	~"¥l™‹r.h
"

5 
	~"nÜm®iz”.h
"

6 
	~"lv½”mutiÚs.h
"

7 
	~"hash®gÜ™hm.h
"

8 
	~"¿ndomg’ut.h
"

10 
	gLVRClu¡”
& LVRClu¡”::
İ”©Ü
=(cÚ¡ 
LVRClu¡”
& 
Ùh”
)

12 
şu¡”Id
 = 
Ùh”
.clusterId;

14 
ş—nup
(
–em’ts
);

15 
	gi
=0;i<
	gÙh”
.
	g–em’ts
.
size
();i++)

16 
addEËm’t
(
Ùh”
.
–em’ts
[
i
]);

17  *
	gthis
;

19 
LVRClu¡”
* 
	gLVRClu¡”
::
	$şÚeClu¡”EËm’ts
()

21 
LVRClu¡”
* 
şu¡”
 = 
Ãw
 
	`LVRClu¡”
(
şu¡”Id
,
mÊ
);

22 
i
=0;i<
–em’ts
.
	`size
();i++)

24 
şu¡”
->
–em’ts
.
	`push_back
(
LvrMLN
::
	`ü—‹_Ãw_©om
ÓËm’ts[
i
]));

26  
şu¡”
;

27 
	}
}

29 
	gLVRClu¡”
::
	$LVRClu¡”
(cÚ¡ 
LVRClu¡”
& 
Ùh”
):
	`şu¡”Id
(Ùh”.
şu¡”Id
),
	$mÊ
(
Ùh”
.
mÊ
)

31 
i
=0;i<
Ùh”
.
–em’ts
.
	`size
();i++)

32 
	`addEËm’t
(
Ùh”
.
–em’ts
[
i
]);

33 
	}
}

34 
	gLVRClu¡”
::
»moveEËm’ts
(
veùÜ
<
Atom
*> 
©oms
)

36 
i
=0;
	gi
<
	g©oms
.
size
();i++)

38 
	gšd
 = 
šClu¡”
(
©oms
[
i
]);

39 if(
	gšd
 != -1)

40 
»moveI‹m
(
–em’ts
,
šd
);

44 
	gMB
.
ş—r
();

45 
š™ŸlizeAssignm’ts
();

48 
	gLVRClu¡”
::
	$šClu¡”
(
Atom
* 
©om
)

50 
i
=0;i<
–em’ts
.
	`size
();i++)

52 if(
©om
->
symbŞ
->
id
 =ğ
–em’ts
[
i
]->symbol->id)

54  
i
;

57 
	}
}

59 
	gLVRClu¡”
::
	$g‘Equiv®’tEËm’tIndex
(
Atom
* 
©om
)

61 
i
=0;i<
–em’ts
.
	`size
();i++)

63 if(
©om
->
symbŞ
->
·»ÁId
 =ğ
–em’ts
[
i
]->symbŞ->
id
)

65  
i
;

69 
	}
}

71 
Atom
* 
	gLVRClu¡”
::
ü—‹GroundedAtom
(
–em’tIndex
,
veùÜ
<
boŞ
> 
sh¬edPos
, veùÜ<> 
groundšg
)

73 
Atom
* 
	g©om
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
–em’ts
[
–em’tIndex
]);

74 
	g™”
=0;

75 
	gi
=0;i<
	gsh¬edPos
.
size
();i++)

77 if(
	gsh¬edPos
[
i
])

80 
	g©om
->
	g‹rms
[
i
]->
	gdomaš
.
ş—r
();

81 
	g©om
->
	g‹rms
[
i
]->
	gdomaš
.
push_back
(
groundšg
[
™”
++]);

85  
	g©om
;

88 
	gLVRClu¡”
::
	$š™ŸlizeAssignm’ts
()

93 
veùÜ
<veùÜ<
boŞ
> > 
	`sh¬edPos
(
–em’ts
.
	`size
());

94 
i
=0;i<
sh¬edPos
.
	`size
();i++)

96 
sh¬edPos
[
i
].
	`»size
(
–em’ts
[i]->
‹rms
.
	`size
());

98 
i
=0;i<
mÊ
.
şau£s
.
	`size
();i++)

100 
veùÜ
<veùÜ<
LvrT”m
*> > 
	`‹rms
(
–em’ts
.
	`size
());

101 
j
=0;j<
mÊ
.
şau£s
[
i
]->
©oms
.
	`size
();j++)

103 
šd
 = 
	`šClu¡”
(
mÊ
.
şau£s
[
i
]->
©oms
[
j
]);

104 if(
šd
!=-1)

107 
k
=0;k<
mÊ
.
şau£s
[
i
]->
©oms
[
j
]->
‹rms
.
	`size
();k++)

109 
‹rms
[
šd
].
	`push_back
(
mÊ
.
şau£s
[
i
]->
©oms
[
j
]->‹rms[
k
]);

111 
k
=0;k<
mÊ
.
şau£s
[
i
]->
©oms
.
	`size
();k++)

113 if(
	`šClu¡”
(
mÊ
.
şau£s
[
i
]->
©oms
[
k
])!=-1)

115 
m
=0;m<
mÊ
.
şau£s
[
i
]->
©oms
[
k
]->
‹rms
.
	`size
();m++)

117 
m©chPos
 = -1;

118 
n
=0;n<
‹rms
[
šd
].
	`size
();n++)

120 if(
‹rms
[
šd
].
	`©
(
n
)->
domaš
.
	`size
()> 1 &&”ms[šd].©Òè=ğ
mÊ
.
şau£s
[
i
]->
©oms
[
k
]->‹rms[
m
])

122 
m©chPos
 = 
n
;

126 if(
m©chPos
!=-1)

130 
sh¬ePos™iÚ
 = 0;

131 
jj
=0;jj<
mÊ
.
şau£s
[
i
]->
©oms
.
	`size
();jj++)

133 if(
–em’ts
[
šd
]->
symbŞ
->
id
 !ğ
mÊ
.
şau£s
[
i
]->
©oms
[
jj
]->symbol->id)

135 
pos
 = -1;

136 
kk
=0;kk<
mÊ
.
şau£s
[
i
]->
©oms
[
jj
]->
‹rms
.
	`size
();kk++)

138 if(
mÊ
.
şau£s
[
i
]->
©oms
[
jj
]->
‹rms
[
kk
]==

139 
‹rms
[
šd
].
	`©
(
m©chPos
))

141 
pos
 = 
kk
;

145 if(
pos
!=-1)

147 
sh¬ePos™iÚ
 = 
pos
;

152 
sh¬edPos
[
šd
].
	`©
(
sh¬ePos™iÚ
èğ
Œue
;

161 
	`ş—nup
(
sh¬edT”ms
);

162 
sh¬edT”ms
.
	`»size
(
sh¬edPos
.
	`size
());

163 
i
=0;i<
sh¬edPos
.
	`size
();i++)

165 
sh¬edT”ms
[
i
] = 
Ãw
 
	`LT”mSh¬e
(
sh¬edPos
[i].
	`size
());

166 
sh¬edT”ms
[
i
]->
sh¬ed
 = 
sh¬edPos
[i];

171 !
lAssignm’ts
.
	`em±y
())

173 
	`ş—nup
(
lAssignm’ts
.
	`back
());

174 
lAssignm’ts
.
	`pİ_back
();

176 
lAssignm’ts
.
	`»size
(
–em’ts
.
	`size
());

177 
tÙ®Trues
.
	`ş—r
();

178 
tÙ®Trues
.
	`»size
(
–em’ts
.
	`size
());

180 
i
=0;i<
–em’ts
.
	`size
();i++)

182 
veùÜ
<
LvrT”m
*> 
sT”ms
;

183 
unsh¬edSize
 = 1;

184 
j
=0;j<
sh¬edPos
[
i
].
	`size
();j++)

186 if(
sh¬edPos
[
i
].
	`©
(
j
))

188 
sT”ms
.
	`push_back
(
–em’ts
[
i
]->
‹rms
[
j
]);

191 
unsh¬edSize
 *ğ
–em’ts
[
i
]->
‹rms
[
j
]->
domaš
.
	`size
();

194 if(
sT”ms
.
	`size
()>0)

196 
veùÜ
<veùÜ<> > 
groundšgs
;

197 
LvrP”mutiÚs
::
	`³rmu‹T”ms
(
sT”ms
,
groundšgs
);

198 
j
=0;j<
groundšgs
.
	`size
();j++)

200 
Atom
* 
tmpAtom
 = 
	`ü—‹GroundedAtom
(
i
,
sh¬edPos
[i],
groundšgs
[
j
]);

201 
v®
 = 
LvRªdomG’Ut
::
	`In¡ªû
()->
	`g‘RªdomPos™iÚ
(
unsh¬edSize
+1);

202 
LVAssignm’t
* 
lAssg
 = 
Ãw
 
	`LVAssignm’t
(
tmpAtom
,
v®
);

203 
lAssignm’ts
[
i
].
	`push_back
(
lAssg
);

204 
tÙ®Trues
[
i
] +ğ
v®
;

205 
d–‘e
 
tmpAtom
;

210 
v®
 = 
LvRªdomG’Ut
::
	`In¡ªû
()->
	`g‘RªdomPos™iÚ
(
unsh¬edSize
+1);

211 
LVAssignm’t
* 
lAssg
 = 
Ãw
 
	`LVAssignm’t
(
–em’ts
[
i
],
v®
);

212 
lAssignm’ts
[
i
].
	`push_back
(
lAssg
);

213 
tÙ®Trues
[
i
] +ğ
v®
;

216 
	`·¹™iÚPos™iÚs
();

217 
	}
}

219 
	gLVRClu¡”
::
groundSh¬edT”msInCNF
(
veùÜ
<
WCÏu£
*> &
şau£s
)

221 
i
=0;
	gi
<
	gşau£s
.
size
();i++)

224 
	gveùÜ
<
	gLvrT”m
*> 
	g‹rmsToGround
;

225 
	gveùÜ
<> 
	g©omPos
;

226 
	gveùÜ
<> 
	g‹rmPos
;

227 
	gj
=0;j<
	gşau£s
[
i
]->
	g©oms
.
size
();j++)

229 
	gšd
 = 
šClu¡”
(
şau£s
[
i
]->
©oms
[
j
]);

230 if(
	gšd
!=-1)

232 
m
=0;
	gm
<
	gşau£s
[
i
]->
	g©oms
.
size
();m++)

234 
	gšd
 = 
šClu¡”
(
şau£s
[
i
]->
©oms
[
m
]);

235 if(
	gšd
!=-1)

237 
	gk
=0;k<
	gşau£s
[
i
]->
	g©oms
[
j
]->
	g‹rms
.
size
();k++)

239 if(
	gşau£s
[
i
]->
	g©oms
[
j
]->
	g‹rms
[
k
]->
	gdomaš
.
size
()==1)

241 
	gk1
=0;k1<
	gşau£s
[
i
]->
	g©oms
[
m
]->
	g‹rms
.
size
();k1++)

243 if(
	gşau£s
[
i
]->
	g©oms
[
j
]->
	g‹rms
[
k
] =ğ
şau£s
[i]->
©oms
[
m
]->
‹rms
[
k1
])

246 if(
fšd
(
‹rmsToGround
.
begš
(),‹rmsToGround.
’d
(),
şau£s
[
i
]->
©oms
[
j
]->
‹rms
[
k
])

247 =ğ
‹rmsToGround
.
’d
())

249 
‹rmsToGround
.
push_back
(
şau£s
[
i
]->
©oms
[
j
]->
‹rms
[
k
]);

250 
	g‹rmPos
.
push_back
(
k
);

251 
	g©omPos
.
push_back
(
j
);

258 if(
	g‹rmsToGround
.
size
()!=0)

260 
WCÏu£
* 
şau£ToGround
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£s
[
i
]);

261 
	gveùÜ
<veùÜ<> > 
	g³rmu‹dDoms
;

262 
	gLvrP”mutiÚs
::
³rmu‹T”ms
(
‹rmsToGround
,
³rmu‹dDoms
);

263 
	gjj
=0;jj<
	g³rmu‹dDoms
.
size
();jj++)

265 
WCÏu£
* 
	gnCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£ToGround
);

266 
	gkk
=0;kk<
	g³rmu‹dDoms
[
jj
].
size
();kk++)

268 
	gnCÏu£
->
	g©oms
[
©omPos
[
kk
]]->
	g‹rms
[
‹rmPos
[kk]]->
	gdomaš
.
ş—r
();

269 
	gnCÏu£
->
	g©oms
[
©omPos
[
kk
]]->
	g‹rms
[
‹rmPos
[kk]]->
	gdomaš
.
push_back
(
³rmu‹dDoms
[
jj
].
©
(kk));

272 if(
	gjj
==0)

274 
d–‘e
 
şau£s
[
i
];

275 
	gşau£s
[
i
] = 
nCÏu£
;

280 
	gşau£s
.
push_back
(
nCÏu£
);

289 
boŞ
 
	gLVRClu¡”
::
	$doExaùInã»nû
()

291 
i
=0;i<
sh¬edT”ms
.
	`size
();i++)

293 
j
=0;j<
sh¬edT”ms
[
i
]->
sh¬ed
.
	`size
();j++)

295 if(
sh¬edT”ms
[
i
]->
sh¬ed
[
j
])

296  
çl£
;

299  
Œue
;

300 
	}
}

302 
	gLVRClu¡”
::
	$ü—‹NewP»diÿ‹Id
(
–em’tInd
,
Atom
* 
groundedAtom
)

304 
veùÜ
<> 
sh¬edT”mV®ues
;

306 
veùÜ
<> 
sh¬edDomašSizes
;

307 
i
=0;i<
sh¬edT”ms
[
–em’tInd
]->
sh¬ed
.
	`size
();i++)

309 if(
sh¬edT”ms
[
–em’tInd
]->
sh¬ed
[
i
])

311 
sh¬edDomašSizes
.
	`push_back
(
–em’ts
[
–em’tInd
]->
‹rms
[
i
]->
domaš
.
	`size
());

312 
sh¬edT”mV®ues
.
	`push_back
(
groundedAtom
->
‹rms
[
i
]->
domaš
[0]);

315 if(
sh¬edT”mV®ues
.
	`size
()==0)

317 
v®
 = 
sh¬edT”mV®ues
[sh¬edT”mV®ues.
	`size
()-1];

318 
j
=
sh¬edDomašSizes
.
	`size
()-2;j>=0;j--)

320 
k
=
j
+1;k<
sh¬edDomašSizes
.
	`size
();k++)

321 
v®
 +ğ
sh¬edT”mV®ues
[
j
]*
sh¬edDomašSizes
[
k
];

324  
v®
;

325 
	}
}

353 
	gLVRClu¡”
::
»ÇmeP»diÿ‹s
(
veùÜ
<
WCÏu£
*>& 
şau£s
)

355 
veùÜ
<
m­
<,> > 
idGroundšgM­
(
–em’ts
.
size
());

356 
	gveùÜ
<> 
cu¼Ids
(
–em’ts
.
size
());

358 
	gi
=0;i<
	gcu¼Ids
.
size
();i++)

360 
	gcu¼Ids
[
i
] = i*
şau£s
.
size
();

363 
	gmÊ
.
	gmax_´ediÿ‹_id
 = 0;

365 
	gi
=0;i<
	gşau£s
.
size
();i++)

367 
	gkk
=0;kk<
	gşau£s
[
i
]->
	g©oms
.
size
();kk++)

369 
	gšd
 = 
šClu¡”
(
şau£s
[
i
]->
©oms
[
kk
]);

370 if(
	gšd
!=-1)

372 
pId
 = 
ü—‹NewP»diÿ‹Id
(
šd
,
şau£s
[
i
]->
©oms
[
kk
]);

373 
	gm­
<,>::
™”©Ü
 
™
 = 
idGroundšgM­
[
šd
].
fšd
(
pId
);

374 if(
	g™
!=
idGroundšgM­
[
šd
].
’d
())

376 
şau£s
[
i
]->
©oms
[
kk
]->
symbŞ
->
id
 = 
™
->
£cÚd
;

380 
	gşau£s
[
i
]->
	g©oms
[
kk
]->
	gsymbŞ
->
	gid
 = 
cu¼Ids
[
šd
]++;

381 
	gidGroundšgM­
[
šd
].
š£¹
(
·œ
<,>(
pId
,
şau£s
[
i
]->
©oms
[
kk
]->
symbŞ
->
id
));

382 
	gmÊ
.
£tMaxP»diÿ‹Id
(
şau£s
[
i
]->
©oms
[
kk
]->
symbŞ
->
id
+1);

390 
	gLVRClu¡”
::
groundAÎSh¬edT”msInCNF
(
veùÜ
<
WCÏu£
*> 
şau£s
,veùÜ<WCÏu£*>& 
groundedCÏu£s
)

392 
	gi
=0;i<
	gşau£s
.
size
();i++)

394 
	gveùÜ
<
	gLvrT”m
*> 
	g‹rmsToGround
;

395 
	gveùÜ
<> 
	g©omPos
;

396 
	gveùÜ
<> 
	g‹rmPos
;

397 
boŞ
 
	gfound
 = 
çl£
;

398 
	gj
=0;j<
	gşau£s
[
i
]->
	g©oms
.
size
();j++)

400 
	gšd
 = 
šClu¡”
(
şau£s
[
i
]->
©oms
[
j
]);

401 if(
	gšd
!=-1)

403 
k
=0;
	gk
<
	gşau£s
[
i
]->
	g©oms
[
j
]->
	g‹rms
.
size
();k++)

405 if(
	gşau£s
[
i
]->
	g©oms
[
j
]->
	g‹rms
[
k
]->
	gdomaš
.
size
()==1)

407 if(!
	gsh¬edT”ms
[
šd
]->
	gsh¬ed
[
k
])

409 if(
fšd
(
‹rmsToGround
.
begš
(),‹rmsToGround.
’d
(),
şau£s
[
i
]->
©oms
[
j
]->
‹rms
[
k
])

410 =ğ
‹rmsToGround
.
’d
())

412 
‹rmsToGround
.
push_back
(
şau£s
[
i
]->
©oms
[
j
]->
‹rms
[
k
]);

413 
	g‹rmPos
.
push_back
(
k
);

414 
	g©omPos
.
push_back
(
j
);

417 
	gfound
=
Œue
;

420 if(!
	gfound
)

423 if(
	g‹rmsToGround
.
size
() == 0)

425 
WCÏu£
* 
nCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£s
[
i
]);

426 
	ggroundedCÏu£s
.
push_back
(
nCÏu£
);

429 
	gveùÜ
<veùÜ<> > 
	g³rmu‹dDoms
;

430 
	gLvrP”mutiÚs
::
³rmu‹T”ms
(
‹rmsToGround
,
³rmu‹dDoms
);

431 
	gjj
=0;jj<
	g³rmu‹dDoms
.
size
();jj++)

433 
WCÏu£
* 
	gnCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£s
[
i
]);

434 
	gkk
=0;kk<
	g³rmu‹dDoms
[
jj
].
size
();kk++)

436 
	gnCÏu£
->
	g©oms
[
©omPos
[
kk
]]->
	g‹rms
[
‹rmPos
[kk]]->
	gdomaš
.
ş—r
();

437 
	gnCÏu£
->
	g©oms
[
©omPos
[
kk
]]->
	g‹rms
[
‹rmPos
[kk]]->
	gdomaš
.
push_back
(
³rmu‹dDoms
[
jj
].
©
(kk));

439 
	ggroundedCÏu£s
.
push_back
(
nCÏu£
);

444 
	gLVRClu¡”
::
	$g‘NumTrueAssignm’ts
(
–em’tIndex
, 
Atom
* 
©om
,& 
nLVTrue
,& 
nLVF®£
)

446 
nLVTrue
 = 0;

447 
nLVF®£
 = 0;

456 if(
LvrHashAlgÜ™hm
::
	`cÚv”tToHash
(
©om
)==LvrHashAlgÜ™hm::cÚv”tToHash(
–em’ts
[
–em’tIndex
]))

458 
nLVTrue
 = 
tÙ®Trues
[
–em’tIndex
];

459 
nLVF®£
 = 
©om
->
	`g‘Numb”OfGroundšgs
(è- 
nLVTrue
;

463 
sz
 = 1;

464 
i
=0;i<
sh¬edT”ms
[
–em’tIndex
]->
sh¬ed
.
	`size
();i++)

467 if(
sh¬edT”ms
[
–em’tIndex
]->
sh¬ed
[
i
] && 
©om
->
‹rms
[i]->
domaš
.
	`size
() != 1)

469 
sz
 *ğ
©om
->
‹rms
[
i
]->
domaš
.
	`size
();

473 
m©ches
 = 0;

474 
™”©iÚút
=0;

475 
i
=0;i<
lAssignm’ts
[
–em’tIndex
].
	`size
();i++)

477 
boŞ
 
found
 = 
Œue
;

478 
™”©iÚút
++;

479 
j
=0;j<
lAssignm’ts
[
–em’tIndex
].
	`©
(
i
)->
groundšg
.
	`size
();j++)

481 if(
©om
->
‹rms
[
j
]->
domaš
.
	`size
() == 1)

483 if(
lAssignm’ts
[
–em’tIndex
].
	`©
(
i
)->
groundšg
[
j
] !ğ
©om
->
‹rms
[j]->
domaš
[0])

485 
found
 = 
çl£
;

490 if(
found
)

492 
m©ches
++;

493 
nLVTrue
 +ğ
lAssignm’ts
[
–em’tIndex
].
	`©
(
i
)->
nTrueV®ues
;

494 
nLVF®£
 +ğ
lAssignm’ts
[
–em’tIndex
].
	`©
(
i
)->
nF®£V®ues
;

496 if(
m©ches
 =ğ
sz
)

505 
	}
}

506 
	gLVRClu¡”
::
»duûCNFByEvid’û
(
veùÜ
<
WCÏu£
*>& 
şau£s
)

509 
evid’ûReduùiÚCo¡
 = 0;

510 
	gi
=0;i<
	g–em’ts
.
size
();i++)

512 
	gevid’ûReduùiÚCo¡
 +ğ
şau£s
.
size
();

513 
	gveùÜ
<
	gWCÏu£
*> 
	ggroundedCÏu£s
;

514 
doReduûCNFByEvid’û
(
i
,
şau£s
,
groundedCÏu£s
);

515 
	gşau£s
.
ş—r
();

516 
	gşau£s
 = 
groundedCÏu£s
;

523 
	gLVRClu¡”
::
doReduûCÏu£W™hS–fJošsByEvid’û
(
–em’tIndex
,
WCÏu£
* 
şau£
,
veùÜ
<WCÏu£*>& 
groundedCÏu£s
)

526 
	gveùÜ
<veùÜ<> > 
	ggroundšgs
;

527 
	gveùÜ
<veùÜ<> > 
	g©omIndexes
;

528 
	gveùÜ
<> 
	g§meSign
;

529 
	gveùÜ
<> 
	ggroundšgSizes
;

530 
	gj
=0;j<
	gşau£
->
	g©oms
.
size
();j++)

532 
	gšd
 = 
šClu¡”
(
şau£
->
©oms
[
j
]);

533 if(
	gšd
 =ğ
–em’tIndex
)

535 
mIndex
 = -1;

536 
	gk
=0;k<
	ggroundšgs
.
size
();k++)

538 
boŞ
 
	gfound
=
Œue
;

539 
	gm
=0;m<
	ggroundšgs
[
k
].
size
();m++)

541 if(
	ggroundšgs
[
k
].
©
(
m
è!ğ
şau£
->
©oms
[
j
]->
‹rms
[m]->
domaš
[0])

543 
found
 = 
çl£
;

547 if(
	gfound
)

549 
	gmIndex
 = 
k
;

553 if(
	gmIndex
==-1)

555 
veùÜ
<> 
tmpDom
;

556 
	gsz
 = 1;

557 
	gjj
=0;jj<
	gşau£
->
	g©oms
[
j
]->
	g‹rms
.
size
();jj++)

559 
	gsz
 *ğ
şau£
->
©oms
[
j
]->
‹rms
[
jj
]->
domaš
.
size
();

560 if(
	gşau£
->
	g©oms
[
j
]->
	g‹rms
[
jj
]->
	gdomaš
.
size
()>1)

562 
	gtmpDom
.
push_back
(
şau£
->
©oms
[
j
]->
‹rms
[
jj
]->
domaš
[0]);

564 
	ggroundšgSizes
.
push_back
(
sz
);

565 
	ggroundšgs
.
push_back
(
tmpDom
);

566 
	gveùÜ
<> 
	gtmpInd
;

567 
	gtmpInd
.
push_back
(
j
);

568 
	g©omIndexes
.
push_back
(
tmpInd
);

569 if(
	gşau£
->
	gsign
[
j
])

570 
	g§meSign
.
push_back
(-1);

572 
	g§meSign
.
push_back
(1);

576 
	g©omIndexes
[
mIndex
].
push_back
(
j
);

577 if(
	g§meSign
[
mIndex
]!=0)

579 if(
şau£
->
sign
[
j
] && 
§meSign
[
mIndex
]==1)

581 
§meSign
[
mIndex
]=0;

583 if(!
	gşau£
->
	gsign
[
j
] && 
	g§meSign
[
mIndex
]==-1)

585 
§meSign
[
mIndex
]=0;

591 
	gveùÜ
<> 
	gnLVTrueLi¡
;

592 
	gveùÜ
<> 
	gnLVF®£Li¡
;

593 
	gi
=0;i<
	g©omIndexes
.
size
();i++)

595 
	gnLVTrue
;

596 
	gnLVF®£
;

597 
g‘NumTrueAssignm’ts
(
–em’tIndex
,
şau£
->
©oms
[
©omIndexes
[
i
].
©
(0)],
nLVTrue
,
nLVF®£
);

598 
	gnLVTrueLi¡
.
push_back
(
nLVTrue
);

599 
	gnLVF®£Li¡
.
push_back
(
nLVF®£
);

601 
	gtÙ®S©isf›d
 = 0;

602 
	gtÙ®UnS©isf›d
 = 0;

603 
	gi
=0;i<
	gnLVTrueLi¡
.
size
();i++)

606 if(
	g§meSign
[
i
]==0)

609 
mFac
=1;

610 if(
	g©omIndexes
[
i
].
size
() > 1)

612 
	gmFac
 = 
groundšgSizes
[
i
]*
©omIndexes
[i].
size
()-1;

614 
	gtÙ®S©isf›d
 +ğ
nLVTrueLi¡
[
i
]* 
mFac
;

617 if(
	g§meSign
[
i
]==1)

619 
tÙ®S©isf›d
 +ğ
nLVTrueLi¡
[
i
];

620 
	gtÙ®UnS©isf›d
 +ğ
nLVF®£Li¡
[
i
];

623 if(
	g§meSign
[
i
]==-1)

625 
tÙ®S©isf›d
 +ğ
nLVF®£Li¡
[
i
];

626 
	gtÙ®UnS©isf›d
 +ğ
nLVTrueLi¡
[
i
];

629 
WCÏu£
* 
	g§tCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£
);

630 
WCÏu£
* 
	gun§tCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£
);

631 
	grmCÁ
 = 0;

632 
	gi
=0;i<
	g©omIndexes
.
size
();i++)

634 
	gj
=0;j<
	g©omIndexes
[
i
].
size
();j++)

636 
	g§tCÏu£
->
»moveAtom
(
©omIndexes
[
i
].
©
(
j
è- 
rmCÁ
);

637 
	gun§tCÏu£
->
»moveAtom
(
©omIndexes
[
i
].
©
(
j
è- 
rmCÁ
);

638 
	grmCÁ
++;

641 if(
	gtÙ®S©isf›d
 > 0)

643 
	g§tCÏu£
->
	g§tisf›d
 = 
Œue
;

644 
	g§tCÏu£
->
	gweight
 = 
§tCÏu£
->
weight
*
LogDoubË
(
tÙ®S©isf›d
,
çl£
);

645 
	ggroundedCÏu£s
.
push_back
(
§tCÏu£
);

649 
d–‘e
 
	g§tCÏu£
;

651 if(
	gtÙ®UnS©isf›d
 > 0)

653 
	gun§tCÏu£
->
	gweight
 = 
un§tCÏu£
->
weight
*
LogDoubË
(
tÙ®UnS©isf›d
,
çl£
);

654 
	ggroundedCÏu£s
.
push_back
(
un§tCÏu£
);

658 
d–‘e
 
	gun§tCÏu£
;

662 
	gLVRClu¡”
::
doReduûCNFByEvid’û
(
–em’tIndex
,
veùÜ
<
WCÏu£
*>& 
şau£s
,veùÜ<WCÏu£*>& 
groundedCÏu£s
)

664 
	gút
 = 0;

665 
	gi
=0;i<
	gşau£s
.
size
();i++)

667 
	g©omInd
 = -1;

668 
	gj
=0;j<
	gşau£s
[
i
]->
	g©oms
.
size
();j++)

670 
	gšd
 = 
šClu¡”
(
şau£s
[
i
]->
©oms
[
j
]);

671 if(
	gšd
==
–em’tIndex
)

673 
©omInd
 = 
j
;

677 if(
	g©omInd
 == -1)

681 
groundedCÏu£s
.
push_back
(
şau£s
[
i
]);

686 if(
	gşau£s
[
i
]->
isS–fJošedOnAtom
(
şau£s
[i]->
©oms
[
©omInd
]))

688 
doReduûCÏu£W™hS–fJošsByEvid’û
(
–em’tIndex
,
şau£s
[
i
],
groundedCÏu£s
);

689 
d–‘e
 
	gşau£s
[
i
];

693 
	gnLVTrue
;

694 
	gnLVF®£
;

695 
g‘NumTrueAssignm’ts
(
–em’tIndex
,
şau£s
[
i
]->
©oms
[
©omInd
],
nLVTrue
,
nLVF®£
);

696 if(
	gnLVTrue
!=0 && 
nLVF®£
!=0)

698 
şau£s
[
i
]->
weight
 = cÏu£s[i]->weight*
LogDoubË
(
nLVTrue
,
çl£
);

699 
boŞ
 
	gn§t
 = 
çl£
;

700 if(!
	gşau£s
[
i
]->
	gsign
[
©omInd
])

701 
	gşau£s
[
i
]->
	g§tisf›d
 = 
Œue
;

703 
	gn§t
 = 
Œue
;

704 
	gşau£s
[
i
]->
»moveAtom
(
©omInd
);

705 
WCÏu£
* 
	gnCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£s
[
i
]);

706 
	gnCÏu£
->
	gweight
 = 
nCÏu£
->
weight
*
LogDoubË
(
nLVF®£
,
çl£
);

707 
	gnCÏu£
->
	g§tisf›d
 = 
n§t
;

708 
	ggroundedCÏu£s
.
push_back
(
şau£s
[
i
]);

709 
	ggroundedCÏu£s
.
push_back
(
nCÏu£
);

714 if((
	gşau£s
[
i
]->
	gsign
[
©omInd
] && 
	gnLVTrue
==0) ||

715 (!
şau£s
[
i
]->
sign
[
©omInd
] && 
nLVF®£
==0))

716 
şau£s
[
i
]->
§tisf›d
 = 
Œue
;

717 
	gşau£s
[
i
]->
»moveAtomW™hWeightUpd©iÚ
(
©omInd
);

718 
	ggroundedCÏu£s
.
push_back
(
şau£s
[
i
]);

743 
	gşau£s
.
ş—r
();

747 
	gLVRClu¡”
::
	$·¹™iÚPos™iÚs
()

749 
sh¬edLiáedPos™iÚs
.
	`ş—r
();

750 
sh¬edGroundedPos™iÚs
.
	`ş—r
();

751 
sh¬edLiáedPos™iÚs
.
	`»size
(
–em’ts
.
	`size
());

752 
sh¬edGroundedPos™iÚs
.
	`»size
(
–em’ts
.
	`size
());

753 
i
=0;i<
–em’ts
.
	`size
();i++)

755 
j
=0;j<
sh¬edT”ms
[
i
]->
sh¬ed
.
	`size
();j++)

757 if(
sh¬edT”ms
[
i
]->
sh¬ed
[
j
])

758 
sh¬edGroundedPos™iÚs
[
i
].
	`push_back
(
j
);

760 
sh¬edLiáedPos™iÚs
[
i
].
	`push_back
(
j
);

763 
	}
}

765 
	gLVRClu¡”
::
	$»£tAÎAssignm’ts
()

767 
i
=0;i<
lAssignm’ts
.
	`size
();i++)

769 
j
=0;j<
lAssignm’ts
[
i
].
	`size
();j++)

771 
tÙ
 = 
lAssignm’ts
[
i
].
	`©
(
j
)->
nTrueV®ues
 +†Assignm’ts[i].©(j)->
nF®£V®ues
;

772 
lAssignm’ts
[
i
].
	`©
(
j
)->
nTrueV®ues
 = -1;

773 
lAssignm’ts
[
i
].
	`©
(
j
)->
nF®£V®ues
 = 
tÙ
;

775 
tÙ®Trues
[
i
] = 0;

777 
	}
}

779 
	gLVRClu¡”
::
	$£tAÎDÚtC¬eAssignm’ts
()

781 
i
=0;i<
lAssignm’ts
.
	`size
();i++)

783 
j
=0;j<
lAssignm’ts
[
i
].
	`size
();j++)

785 if(
lAssignm’ts
[
i
].
	`©
(
j
)->
nTrueV®ues
 == -1)

787 
v®
 = 
LvRªdomG’Ut
::
	`In¡ªû
()->
	`g‘RªdomPos™iÚ
(
lAssignm’ts
[
i
].
	`©
(
j
)->
nF®£V®ues
+1);

788 
lAssignm’ts
[
i
].
	`©
(
j
)->
nTrueV®ues
 = 
v®
;

789 
lAssignm’ts
[
i
].
	`©
(
j
)->
nF®£V®ues
 -ğ
v®
;

790 
tÙ®Trues
[
i
] +ğ
v®
;

794 
	}
}

	@liftedinfer/liftedblockedgibbs/src/ptpsampler.cpp

1 
	~"±p§m¶”.h
"

2 
	~<f¡»am
>

3 
usšg
 
Çme¥aû
 
	g¡d
;

4 
	~"lv½”mutiÚs.h
"

5 
	~"qu”yupd©”.h
"

8 
	gLPTPSam¶”
::
	$LPTPSam¶”
(
LvrMLN
& 
mÊ
)

10 
ls
ğ
Ãw
 
	`LBlockExaùInã»nû
(
mÊ
);

11 
	}
}

13 
	gLPTPSam¶”
::~
	$LPTPSam¶”
()

15 
d–‘e
 
ls
;

16 
	}
}

19 
	gLPTPSam¶”
::
runMockPTP
(
veùÜ
<
WCÏu£
*>& 
CNF
,
LVRClu¡”
* 
lvrClu¡”
,& 
lvpCo¡
,
»maššgCo¡
)

21  
	gls
->
doMockInã»nûOnClu¡”
(
CNF
,
lvpCo¡
,
»maššgCo¡
);

24 
	gLPTPSam¶”
::
runPTP
(
veùÜ
<
WCÏu£
*>& 
CNF
,
LVRClu¡”
* 
lvrClu¡”
)

26 if(
	glvrClu¡”
->
isUniCÚ¡ªtClu¡”
())

28 
doLightWeightSam¶šg
(
lvrClu¡”
,
CNF
);

31 
	g»t
 = 
ls
->
doExaùInã»nûOnClu¡”
(
CNF
);

32 ifĞ
	g»t
 <= 0)

33  
»t
;

34 
	glvrClu¡”
->
»£tAÎAssignm’ts
();

35 
	gi
=0;i<
	gls
->
g‘PTPT»eRef
().
	g§m¶edAssignm’ts
.
	g©oms
.
size
();i++)

37 
	gšd
 = 
lvrClu¡”
->
g‘Equiv®’tEËm’tIndex
(
ls
->
g‘PTPT»eRef
().
§m¶edAssignm’ts
.
©oms
[
i
]);

38 if(
	gšd
==-1)

40 
	gj
=0;j<
	glvrClu¡”
->
	glAssignm’ts
[
šd
].
size
();j++)

42 
boŞ
 
	gm©ch
 = 
Œue
;

43 
	gk
=0;k<
	glvrClu¡”
->
	gsh¬edGroundedPos™iÚs
[
šd
].
size
();k++)

45 if(
	gls
->
g‘PTPT»eRef
().
	g§m¶edAssignm’ts
.
	g©oms
[
i
]->
	g‹rms
[
lvrClu¡”
->
sh¬edGroundedPos™iÚs
[
šd
].
©
(
k
)]->
	gdomaš
[0] !=

46 
lvrClu¡”
->
lAssignm’ts
[
šd
].
©
(
j
)->
groundšg
[lvrClu¡”->
sh¬edGroundedPos™iÚs
[šd].©(
k
)])

48 
m©ch
 = 
çl£
;

52 if(
	gm©ch
)

54 if(
	glvrClu¡”
->
	glAssignm’ts
[
šd
].
©
(
j
)->
	gnTrueV®ues
 == -1)

56 
lvrClu¡”
->
lAssignm’ts
[
šd
].
©
(
j
)->
nTrueV®ues
 = 
ls
->
g‘PTPT»eRef
().
§m¶edAssignm’ts
.
assignm’t
[
i
];

57 
	glvrClu¡”
->
	glAssignm’ts
[
šd
].
©
(
j
)->
	gnF®£V®ues
 = 
lvrClu¡”
->
lAssignm’ts
[šd].©(j)->
nF®£V®ues


58 - 
ls
->
g‘PTPT»eRef
().
§m¶edAssignm’ts
.
assignm’t
[
i
];

62 
	glvrClu¡”
->
	glAssignm’ts
[
šd
].
©
(
j
)->
	gnTrueV®ues
 +ğ
ls
->
g‘PTPT»eRef
().
§m¶edAssignm’ts
.
assignm’t
[
i
];

63 
	glvrClu¡”
->
	glAssignm’ts
[
šd
].
©
(
j
)->
	gnF®£V®ues
 = 
lvrClu¡”
->
lAssignm’ts
[šd].©(j)->
nF®£V®ues


64 - 
ls
->
g‘PTPT»eRef
().
§m¶edAssignm’ts
.
assignm’t
[
i
];

66 
	glvrClu¡”
->
	gtÙ®Trues
[
šd
] +ğ
ls
->
g‘PTPT»eRef
().
§m¶edAssignm’ts
.
assignm’t
[
i
];

70 if(!
	gbuºIn
)

72 
	gLvrQu”yUpd©”
::
In¡ªû
()->
upd©eQu”yV®uesLVGibbs
(
ls
->
g‘PTPT»eRef
().
§m¶edAssignm’ts
.
©oms
[
i
],ls->g‘PTPT»eRef().§m¶edAssignm’ts.
assignm’t
[i]);

75 
	glvrClu¡”
->
£tAÎDÚtC¬eAssignm’ts
();

82 
	gLPTPSam¶”
::
doLightWeightSam¶šg
(
LVRClu¡”
* 
lvrClu¡”
, 
veùÜ
<
WCÏu£
*> 
şau£s
)

84 
	g©omId
 = 
lvrClu¡”
->
–em’ts
[0]->
symbŞ
->
id
;

85 
LogDoubË
 
posWt
(1,
çl£
);

86 
LogDoubË
 
ÃgWt
(1,
çl£
);

87 
boŞ
 
	gdÚtÿ»
=
Œue
;

88 
	gi
=0;i<
	gşau£s
.
size
();i++)

90 if(
	gşau£s
[
i
]->
	g§tisf›d
)

92 
	gtmp
 = 
exp
(
şau£s
[
i
]->
weight
.
v®ue
);

93 
	gposWt
 *ğ
LogDoubË
(
tmp
,
Œue
);

94 
	gÃgWt
 *ğ
LogDoubË
(
tmp
,
Œue
);

95 
d–‘e
 
	gşau£s
[
i
];

98 
boŞ
 
	gposSign
=
çl£
;

99 
boŞ
 
	gÃgSign
 = 
çl£
;

100 
	gj
=0;j<
	gşau£s
[
i
]->
	g©oms
.
size
();j++)

102 if(
	gşau£s
[
i
]->
	gsign
[
j
])

103 
	gÃgSign
 = 
Œue
;

105 
	gposSign
 = 
Œue
;

107 if(
	gÃgSign
 && 
	gposSign
)

109 
	gtmp
 = 
exp
(
şau£s
[
i
]->
weight
.
v®ue
);

110 
	gposWt
 *ğ
LogDoubË
(
tmp
,
Œue
);

111 
	gÃgWt
 *ğ
LogDoubË
(
tmp
,
Œue
);

112 
	gdÚtÿ»
 = 
çl£
;

115 if(
	gÃgSign
)

117 
	gtmp
 = 
exp
(
şau£s
[
i
]->
weight
.
v®ue
);

118 
	gÃgWt
 *ğ
LogDoubË
(
tmp
,
Œue
);

119 
	gdÚtÿ»
 = 
çl£
;

122 if(
	gposSign
)

124 
	gtmp
 = 
exp
(
şau£s
[
i
]->
weight
.
v®ue
);

125 
	gposWt
 *ğ
LogDoubË
(
tmp
,
Œue
);

126 
	gdÚtÿ»
 = 
çl£
;

128 
d–‘e
 
	gşau£s
[
i
];

130 
	gassignm’t
 = 0;

131 if(!
	gdÚtÿ»
)

133 
LogDoubË
 
	gposWt1
 = 
posWt
/ÕosWˆ+ 
ÃgWt
);

134 
LogDoubË
 
	gÃgWt1
 = 
ÃgWt
/(
posWt
 +‚egWt);

135 
	gr
 = 
LvRªdomG’Ut
::
In¡ªû
()->
g‘NÜmRªd
();

136 
LogDoubË
 
Ì
(
r
,
çl£
);

138 if(
	gÌ
 > 
	gÃgWt1
)

139 
	gassignm’t
 = 1;

143 
	gr
 = 
LvRªdomG’Ut
::
In¡ªû
()->
g‘NÜmRªd
();

145 if(
	gr
 > 0.5)

146 
	gassignm’t
 = 1;

148 
	glvrClu¡”
->
	glAssignm’ts
[0].
©
(0)->
	gnTrueV®ues
 = 
assignm’t
;

149 
	glvrClu¡”
->
	glAssignm’ts
[0].
©
(0)->
	gnF®£V®ues
 = 1 - 
assignm’t
;

150 if(!
	gbuºIn
)

152 
	gLvrQu”yUpd©”
::
In¡ªû
()->
upd©eQu”yV®uesLVGibbs
(
lvrClu¡”
->
–em’ts
[0],
assignm’t
);

155 
	gşau£s
.
ş—r
();

	@liftedinfer/liftedimportancesampling/includes/importancedistribution.h

1 #iâdeà
__LVRIMPORTANCE_DISTRIBUTION


2 
	#__LVRIMPORTANCE_DISTRIBUTION


	)

3 
	~<m­
>

4 
	~<veùÜ
>

5 
usšg
 
Çme¥aû
 
	g¡d
;

6 
	sLvrDi¡ributiÚEËm’t


8 
	mm­
<,
	mveùÜ
<> > 
	mdi¡ributiÚEËm’t
;

10 
	sLvrImpÜnûDi¡ributiÚ


12 
	mm­
<,m­<,
	mveùÜ
<
	mLvrDi¡ributiÚEËm’t
*> > 
	mdi¡ributiÚs
;

13 
LvrImpÜnûDi¡ributiÚ
(){}

14 ~
LvrImpÜnûDi¡ributiÚ
(){}

	@liftedinfer/liftedimportancesampling/includes/lisapproxinference.h

1 #iâdeà
LIS_APPROX_INFERENCE_H_


2 
	#LIS_APPROX_INFERENCE_H_


	)

4 
	~<veùÜ
>

5 
	~<io¡»am
>

6 
	~<£t
>

7 
	~<m­
>

8 
usšg
 
Çme¥aû
 
	g¡d
;

9 
	~"lvrmÊ.h
"

10 
	~"decompo£r.h
"

11 
	~"´İos™iÚ®»sŞutiÚ.h
"

12 
	~"logdoubË.h
"

13 
	~"ex‹nsiÚs.h
"

14 
	~"heuri¡ics.h
"

15 
	~"nÜm®iz”.h
"

16 
	~"şu¡”ut.h
"

17 
	~"´İo§l¡ruùu».h
"

18 
	~"lvºÜm´İag©iÚ.h
"

19 
	~"lvrsšgËtÚnÜm´İag©iÚ.h
"

20 
	~"lv·¿ms.h
"

22 
	sLISAµroxInã»nû


24 
£tSam¶šgMode
(
ESam¶šgMode
 
§m¶šgMode_
)

26 
	m§m¶šgMode
 = 
§m¶šgMode_
;

28 
£tPrİo§lDi¡ributiÚ
(
LPrİo§lDi¡ributiÚ
* 
di¡ributiÚ_
)

30 
	mdi¡ributiÚ
 = 
di¡ributiÚ_
;

32 
LISAµroxInã»nû
(
LvrMLN
& 
mÊ
);

33 ~
LISAµroxInã»nû
()

35 
d–‘e
 
	mdecompo£r
;

36 
d–‘e
 
	mheuri¡ics
;

37 
d–‘e
 
	mlvrNÜmPrİag©e
;

39 
LogDoubË
 
doLvAµroxP¬t™iÚInfÜmed
(
veùÜ
<
WCÏu£
*>& 
CNF
);

40 
LogDoubË
 
doLvAµroxP¬t™iÚInfÜmedV1
(
veùÜ
<
WCÏu£
*>& 
CNF
);

41 
LogDoubË
 
doLvAµroxP¬t™iÚBšomŸl
(
veùÜ
<
WCÏu£
*>& 
CNF
);

42 
e¡im©eAµroxM¬gš®s
(
LvrP¬ams
* 
·¿ms
, 
LPrİo§lDi¡ributiÚ
* 
di¡ributiÚ
 = 
NULL
);

43 
LogDoubË
 
e¡im©eP¬t™iÚFunùiÚ
(
LvrP¬ams
* 
·¿ms
,
LPrİo§lDi¡ributiÚ
* 
di¡ributiÚ
ğ
NULL
);

44 
Atom
* 
£ËùAtomToCÚd™iÚ
(
veùÜ
<
WCÏu£
*> 
şau£s
)

46  
	mheuri¡ics
->
g‘AtomToS¶™
(
şau£s
);

48 
boŞ
 
decompo£CNF
(
veùÜ
<
WCÏu£
*>& 
CNF
,& 
pow”FaùÜ
);

50 
	m´iv©e
:

51 
LvrMLN
& 
mÊ
;

52 
LDecompo£r
* 
	mdecompo£r
;

53 
LHeuri¡ics
* 
	mheuri¡ics
;

54 
LvrNÜmPrİag©iÚ
* 
	mlvrNÜmPrİag©e
;

55 
ESam¶šgMode
 
	m§m¶šgMode
;

57 
LPrİo§lDi¡ributiÚ
* 
	mdi¡ributiÚ
;

59 
£³¿‹DisjoštCNF
(
veùÜ
<
WCÏu£
*> 
CNF
, veùÜ<veùÜ<WCÏu£*> >& 
disjoštCNFLi¡
);

60 
LogDoubË
 
CNFWeight
(
veùÜ
<
WCÏu£
*>& 
CNF
);

	@liftedinfer/liftedimportancesampling/includes/proposalconstructor.h

1 #iâdeà
__LPROPOSAL_CONSTRUCTOR


2 
	#__LPROPOSAL_CONSTRUCTOR


	)

3 
	~"lvrmÊ.h
"

4 
	~"´İo§l¡ruùu».h
"

5 
	~"ş—nuputs.h
"

6 
	~"nÜm®iz”.h
"

7 
	~"şu¡”ut.h
"

8 
	~"fedump.h
"

9 
	~"±p£¬ch.h
"

10 
	~"heuri¡ics.h
"

11 
	~"ruËsut.h
"

12 
	~"li§µroxšã»nû.h
"

13 
	~"lvºÜm´İag©iÚ.h
"

14 
	~"lv·¿ms.h
"

17 
	sLPrİo§lCÚ¡ruùÜ


19 
LPrİo§lCÚ¡ruùÜ
(
LvrMLN
& 
mÊ_
);

20 ~
LPrİo§lCÚ¡ruùÜ
();

21 
g‘P¬’ts
(
veùÜ
<
WCÏu£
*> 
şau£s
,
Atom
* 
©om
, veùÜ<Atom*> 
pÙ’tŸlP¬’ts
,veùÜ<Atom*>& 
·»Ás
);

22 
cÚ¡ruùPrİo§l
(
veùÜ
<
WCÏu£
*>& 
şau£s
,veùÜ<
Atom
*>& 
pÙ’tŸlP¬’ts
);

23 
cÚ¡ruùPrİo§lV1
(
veùÜ
<
WCÏu£
*>& 
CNF
,veùÜ<
Atom
*>& 
pÙ’tŸlP¬’ts
);

24 
´št
(){}

25 
¡¬tCÚ¡ruùiÚ
(
LvrP¬ams
* 
·¿ms
);

26 
¡¬tMARInã»nû
(
LvrP¬ams
* 
·¿ms
);

27 
¡¬tP¬t™iÚFunùiÚ
(
LvrP¬ams
* 
·¿ms
);

28 
»adDi¡ributiÚFromDumpFe
();

29 
dumpDi¡ributiÚToDumpFe
();

30 
	m´iv©e
:

31 
LPrİo§lDi¡ributiÚ
* 
Íd
;

32 
	mLvrMLN
& 
	mmÊ
;

33 
LClu¡”Ut
* 
	mlc
;

34 
LISAµroxInã»nû
* 
	ml£¬ch
;

35 
LvrNÜmPrİag©iÚ
* 
	mÍg
;

36 
LvrSšgËtÚNÜmPrİag©iÚ
* 
	mlvrSšgËtÚNÜmPrİag©iÚ
;

	@liftedinfer/liftedimportancesampling/includes/proposalstructure.h

1 #iâdeà
__LPROPOSAL_STRUCTURE


2 
	#__LPROPOSAL_STRUCTURE


	)

3 
	~"lvrmÊ.h
"

4 
	~"lv¿tomhash‹m¶©e.h
"

5 
	~"lv·¿ms.h
"

7 
	sLPrİo§lTabË


9 
LogDoubË
 
	m§m¶edProbab™y
;

10 
	m§m¶edV®ue
;

11 
LPrİo§lTabË
(
·»ÁsSize
,
maxTruthV®ue_
);

12 
upd©eDi¡ributiÚ
(
Ë¬nšgR©e
);

13 
§m¶eDi¡ributiÚ
(
šdex
);

14 
´štDi¡ributiÚ
();

15 
g‘TabËSize
(
šdex
);

16 
LogDoubË
 
g‘Di¡ributiÚV®ue
(
šdex
,
numTrue
);

17 
LogDoubË
 
g‘NÜmCÚ¡ªt
(
šdex
);

18 
	m´iv©e
:

19 
veùÜ
<veùÜ<
LogDoubË
> > 
di¡ributiÚ
;

20 
	mveùÜ
<veùÜ<> > 
	mad­tiveMLECouÁ”
;

21 
	mveùÜ
<> 
	mtÙ®Sam¶esCŞËùed
;

22 
	mmaxTruthV®ue
;

23 
	mveùÜ
<
	mLogDoubË
> 
	mnÜmCÚ¡ªts
;

26 
	sLPrİo§lDi¡ributiÚEËm’t


28 
LPrİo§lDi¡ributiÚEËm’t
(
Atom
* 
©om_
,
veùÜ
<LPrİo§lDi¡ributiÚEËm’t*> 
·»Ás_
,

29 
veùÜ
<
boŞ
> 
isŞ©edT”ms_
,
id_
);

30 ~
LPrİo§lDi¡ributiÚEËm’t
();

31 
š™ŸlizePrİo§lTabËs
();

32 
§m¶e
(
LogDoubË
& 
´ob
,
veùÜ
<>& 
§m¶edV®ues
,
domašSize
 = -1);

33 
´št
();

34 
upd©ePrİo§ls
(
Ë¬nšgR©e
);

36 
Atom
* 
	m©om
;

37 
	mid
;

38 
	mveùÜ
<
	mLPrİo§lTabË
*> 
	m´İo§lTabËs
;

39 
	mveùÜ
<
	mboŞ
> 
	misŞ©edT”ms
;

41 
	mveùÜ
<
	mLPrİo§lDi¡ributiÚEËm’t
*> 
	m·»Ás
;

42 
	mnTrueV®ues
;

43 
LogDoubË
 
	m´obab™y
;

48 
	sLPrİo§lDi¡ributiÚ


50 
LPrİo§lDi¡ributiÚ
(
ESam¶šgMode
 
§m¶šgMode_
);

51 ~
LPrİo§lDi¡ributiÚ
();

52 
LPrİo§lDi¡ributiÚEËm’t
* 
š£¹EËm’t
(
Atom
* 
©om
, 
veùÜ
<Atom*> 
·»Ás
,veùÜ<
boŞ
> 
isŞ©edT”ms
);

53 
upd©eDi¡ributiÚs
(
Ë¬nšgR©e
);

54 
LPrİo§lDi¡ributiÚEËm’t
* 
fšdEËm’t
(
Atom
* 
©om
);

55 
dumpDi¡ributiÚToFe
();

56 
»adDi¡ributiÚFromDumpFe
();

57 
´št
();

58 
	m´iv©e
:

59 
couÁ”
;

60 
	mLvrAtomHashTem¶©e
<
	mLPrİo§lDi¡ributiÚEËm’t
*>* 
	mhashedDi¡ributiÚs
;

61 
ESam¶šgMode
 
	m§m¶šgMode
;

	@liftedinfer/liftedimportancesampling/src/lisapproxinference.cpp

1 
	~"li§µroxšã»nû.h
"

2 
	~"ş—nuputs.h
"

3 
	~"ruËsut.h
"

4 
	~<time.h
>

5 
	~"m©huts.h
"

6 
	~"§m¶šg®gs.h
"

7 
	~"qu”yupd©”.h
"

10 
LogDoubË
 
	gLISAµroxInã»nû
::
CNFWeight
(
veùÜ
<
WCÏu£
*>& 
CNF
)

19 
veùÜ
<
Atom
*> 
»movedAtoms
;

20 
	g£t
<> 
	gcom¶‘edIds
;

21 
LogDoubË
 
tÙ®Weight
(1,
çl£
);

22 
	gveùÜ
<
	gWCÏu£
*> 
	g»maššgCNF
;

23 
	gi
=0;i<
	gCNF
.
size
();i++)

25 if(
	gCNF
[
i
]->
	g§tisf›d
)

27 
	gj
=0;j<
	gCNF
[
i
]->
	g©oms
.
size
();j++)

29 if(
	gcom¶‘edIds
.
couÁ
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
) == 0)

31 
»movedAtoms
.
push_back
(
CNF
[
i
]->
©oms
[
j
]);

32 
	gcom¶‘edIds
.
š£¹
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

37 
	g£t
<
	gLvrT”m
*> 
	g‹rms
;

38 
	gkk
=0;kk<
	gCNF
[
i
]->
	g©oms
.
size
();kk++)

40 
	gmm
=0;mm<
	gCNF
[
i
]->
	g©oms
[
kk
]->
	g‹rms
.
size
();mm++)

42 
	g‹rms
.
š£¹
(
CNF
[
i
]->
©oms
[
kk
]->
‹rms
[
mm
]);

45 
	gsz
=1;

46 
	g£t
<
	gLvrT”m
*>::
™”©Ü
 
™
=
‹rms
.
begš
();
	g™
!ñ”ms.
’d
();it++)

48 
	gsz
 *ğ(*
™
)->
domaš
.
size
();

53 
LogDoubË
 
	gtmpL
 = 
CNF
[
i
]->
weight
*LogDoubË(
sz
,
çl£
);

54 
	gtmp
 = 
exp
(
tmpL
.
v®ue
);

55 
LogDoubË
 
ÃwWt
(
tmp
,
Œue
);

56 
	gtÙ®Weight
 *ğ
ÃwWt
;

61 
	g»maššgCNF
.
push_back
(
LvrMLN
::
ü—‹_Ãw_şau£
(
CNF
[
i
]));

65 
	gtÙ®DÚtÿ»
 = 0;

66 
	gveùÜ
<
	gAtom
*>::
™”©Ü
 
™
=
»movedAtoms
.
begš
();
	g™
!ôemovedAtoms.
’d
();it++)

69 
	gsz
 = 1;

70 
	gi
=0;i<(*
	g™
)->
	g‹rms
.
size
();i++)

72 
	gsz
 *ğ(*
™
)->
‹rms
[
i
]->
domaš
.
size
();

74 
	gtÙ®DÚtÿ»
 +ğ
sz
;

76 
LogDoubË
 
d
(
tÙ®DÚtÿ»
,
çl£
);

77 
LogDoubË
 
out
(1,
çl£
);

78 
LogDoubË
 
c
(2,
çl£
);

79 
	gLogDoubË
::
LDPow”
(
c
,
tÙ®DÚtÿ»
,
out
);

80 
LogDoubË
 
	gtV®
 = 
tÙ®Weight
*
out
;

81 
ş—nup
(
CNF
);

82 
	gCNF
 = 
»maššgCNF
;

84  
	gtV®
;

88 
boŞ
 
	gLISAµroxInã»nû
::
decompo£CNF
(
veùÜ
<
WCÏu£
*>& 
CNF
,& 
pow”FaùÜ
)

90 
	gveùÜ
<
	gDecompo£r
*> 
	gdecompo£r_li¡
;

91 
	gdecompo£r
->
fšd_decompo£r
(
CNF
,
decompo£r_li¡
);

93 #ifdeà
__DEBUG_PRINT__


94 
	gcout
<<"Decomposer={ ";

95 
	gi
=0;i<
	gdecompo£r_li¡
.
size
();i++)

97 
	gdecompo£r_li¡
[
i
]->
´št
();

99 
	gcout
<<"}"<<
	g’dl
;

101 if(
	gdecompo£r_li¡
.
size
()==0)

102  
çl£
;

106 
	gpow”FaùÜ
 = 1;

107 
	gi
=0;i<
	gdecompo£r_li¡
.
size
();i++)

109 
	gpow”FaùÜ
*=
decompo£r_li¡
[
i
]->
decompo£r_‹rms
[0]->
domaš
.
size
();

110 
	gdomSize
 = 
decompo£r_li¡
[
i
]->
decompo£r_‹rms
[0]->
domaš
.
size
();

111 
	gj
=0;j<
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
.
size
();j++)

135 
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
[
j
]->
	gÜigDomaš
.
ş—r
();

136 
	gjj
=0;jj<
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
[
j
]->
	gdomaš
.
size
();jj++)

137 
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
[
j
]->
	gÜigDomaš
.
push_back
(
decompo£r_li¡
[i]->
decompo£r_‹rms
[j]->
domaš
[
jj
]);

140 
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
[
j
]->
	gdomaš
.
”a£
(
decompo£r_li¡
[i]->
decompo£r_‹rms
[j]->
domaš
.
begš
(),decompo£r_li¡[i]->decompo£r_‹rms[j]->domaš.begš()+decompo£r_li¡[i]->decompo£r_‹rms[j]->domaš.
size
()-1);

142 
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
[
j
]->
	gÜigDomašSize
 = 
domSize
;

146 
ş—nup
(
decompo£r_li¡
);

147  
	gŒue
;

150 
LogDoubË
 
	gLISAµroxInã»nû
::
doLvAµroxP¬t™iÚInfÜmedV1
(
veùÜ
<
WCÏu£
*>& 
CNF
)

152 
LogDoubË
 
tÙ®V®
(1,
çl£
);

153 if(
	gCNF
.
size
()==0)

154  
tÙ®V®
;

155 
	gcom¶‘edCouÁ
=0;

156 
	gi
=0;i<
	gCNF
.
size
();i++)

158 if(
	gCNF
[
i
]->
	g©oms
.
size
()==0 || 
CNF
[i]->
§tisf›d
)

160 
com¶‘edCouÁ
++;

163 if(
	gcom¶‘edCouÁ
 =ğ
CNF
.
size
())

165 
LogDoubË
 
weight
 = 
CNFWeight
(
CNF
);

166 
ş—nup
(
CNF
);

167  
	gweight
;

170 
	gpow”FaùÜ
;

171 
boŞ
 
	gisDecompo£d
 = 
decompo£CNF
(
CNF
,
pow”FaùÜ
);

172 if(
	gisDecompo£d
)

174 
LogDoubË
 
	gmút
 = 
doLvAµroxP¬t™iÚInfÜmedV1
(
CNF
);

175 
LogDoubË
 
	gv®
 = LogDoubË(1,
çl£
);

176 
	gLogDoubË
::
LDPow”
(
mút
,
pow”FaùÜ
,
v®
);

177 
	gtÙ®V®
 = 
tÙ®V®
*
v®
;

178  
	gtÙ®V®
;

181 
Atom
* 
	gtmpAtom
 = 
heuri¡ics
->
g‘AtomToS¶™
(
CNF
);

182 if(
	gtmpAtom
==
NULL
)

184 
LogDoubË
 
wt1
 = 
CNFWeight
(
CNF
);

185 
ş—nup
(
CNF
);

186  
tÙ®V®
*
	gwt1
;

189 
Atom
* 
	g©om
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
tmpAtom
);

191 
LPrİo§lDi¡ributiÚEËm’t
* 
	gÍe
 = 
Íe
 = 
di¡ributiÚ
->
fšdEËm’t
(
©om
);

193 
	gveùÜ
<
	gboŞ
> 
	gisŞ©edT”ms
;

194 
boŞ
 
	gisIsŞ©ed
 = 
LRuËsUt
::
compu‹IsŞ©edT”ms
(
©om
,
CNF
,
isŞ©edT”ms
);

195 
	gbšCÛff
 = 1;

196 
LogDoubË
 
´obOfSam¶e
(1,
çl£
);

197 
LogDoubË
 
§m¶eWeight
(1,
çl£
);

198 
	gveùÜ
<> 
	g§m¶edV®ues
;

199 if(
	gisIsŞ©ed
)

201 
	gisŞ©edSize
=1;

202 
	gnÚisŞ©edSize
 = 1;

203 
	gjj
=0;jj<
	gisŞ©edT”ms
.
size
();jj++)

205 if(
	gisŞ©edT”ms
[
jj
])

207 
	gisŞ©edSize
 *ğ
©om
->
‹rms
[
jj
]->
domaš
.
size
();

211 
	gnÚisŞ©edSize
 *ğ
©om
->
‹rms
[
jj
]->
domaš
.
size
();

214 
	gLSam¶šgAlgs
::
In¡ªû
()->
§m¶e
(
isŞ©edSize
,
nÚisŞ©edSize
,
§m¶eWeight
,
§m¶edV®ues
,
§m¶šgMode
,
Íe
);

215 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

217 
LvrQu”yUpd©”
::
In¡ªû
()->
upd©eQu”yV®ues
(
©om
,
isŞ©edT”ms
,
§m¶edV®ues
);

222 
	gnumGroundšgs
 = 
©om
->
g‘Numb”OfGroundšgs
();

223 
	gLSam¶šgAlgs
::
In¡ªû
()->
§m¶e
(
numGroundšgs
,1,
§m¶eWeight
,
§m¶edV®ues
,
§m¶šgMode
,
Íe
);

224 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

226 
LvrQu”yUpd©”
::
In¡ªû
()->
upd©eQu”yV®ues
(
©om
,
§m¶edV®ues
[0]);

230 
	glvrNÜmPrİag©e
->
´İag©eNÜm®izedCNF
(
CNF
,
©om
,
isŞ©edT”ms
,
§m¶edV®ues
);

231 
LogDoubË
 
	gmút
 = 
doLvAµroxP¬t™iÚInfÜmedV1
(
CNF
);

232 
	gtÙ®V®
 *ğ
§m¶eWeight
*
mút
;

233 
d–‘e
 
	g©om
;

234 
ş—nup
(
CNF
);

235  
	gtÙ®V®
;

239 
LogDoubË
 
	gLISAµroxInã»nû
::
doLvAµroxP¬t™iÚInfÜmed
(
veùÜ
<
WCÏu£
*>& 
CNF1
)

241 
LogDoubË
 
tÙ®V®
(1,
çl£
);

242 if(
	gCNF1
.
size
()==0)

243  
tÙ®V®
;

244 
	gveùÜ
<veùÜ<
	gWCÏu£
*> > 
	gdCNFs
;

245 
	gLClu¡”Ut
::
£³¿‹DisjoštCNF
(
CNF1
,
dCNFs
);

246 
ş—nup
(
CNF1
);

247 
	gt
=0;t<
	gdCNFs
.
size
();t++)

249 
	gveùÜ
<
	gWCÏu£
*> 
	gCNF
 = 
dCNFs
[
t
];

250 
	gpow”FaùÜ
;

251 
boŞ
 
	gisDecompo£d
 = 
decompo£CNF
(
CNF
,
pow”FaùÜ
);

252 if(
	gisDecompo£d
)

254 
LogDoubË
 
	gmút
 = 
doLvAµroxP¬t™iÚInfÜmed
(
CNF
);

255 
LogDoubË
 
	gv®
 = LogDoubË(1,
çl£
);

256 
	gLogDoubË
::
LDPow”
(
mút
,
pow”FaùÜ
,
v®
);

257 
	gtÙ®V®
 = 
tÙ®V®
*
v®
;

260 
Atom
* 
	gtmpAtom
 = 
heuri¡ics
->
g‘AtomToS¶™
(
CNF
);

261 if(
	gtmpAtom
==
NULL
)

263 
LogDoubË
 
wt1
 = 
CNFWeight
(
CNF
);

264 
ş—nup
(
CNF
);

265 
	gtÙ®V®
 = 
tÙ®V®
*
wt1
;

269 
Atom
* 
	g©om
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
tmpAtom
);

270 
LPrİo§lDi¡ributiÚEËm’t
* 
	gÍe
 = 
Íe
 = 
di¡ributiÚ
->
fšdEËm’t
(
©om
);

273 
boŞ
 
	g£lfJošed
 = 
çl£
;

274 
	gm
=0;m<
	gCNF
.
size
();m++)

276 if(
	gCNF
.
©
(
m
)->
isS–fJošedOnAtom
(
©om
))

278 
	g£lfJošed
 = 
Œue
;

282 
	gsšgËtÚIndex
;

283 
boŞ
 
	gsšgËtÚ
 = 
©om
->
isSšgËtÚAtom
(
sšgËtÚIndex
);

284 
boŞ
 
	gnÚpŞy
 = 
çl£
;

285 if(!
	gsšgËtÚ
)

286 
	gnÚpŞy
 = 
Œue
;

287 if(
	g£lfJošed
)

290 
boŞ
 
	gblocked
 = 
LRuËsUt
::
isBlocked
(
©om
,
sšgËtÚIndex
,
CNF
);

291 if(!
	gblocked
)

292 
	gnÚpŞy
=
Œue
;

294 if(!
	gnÚpŞy
)

296 
LogDoubË
 
´obOfSam¶e
(1,
çl£
);

297 
LogDoubË
 
§m¶eWeight
(1,
çl£
);

298 
	gveùÜ
<> 
	g§m¶edV®ues
;

299 
	gdomSize
 = 
©om
->
‹rms
[
sšgËtÚIndex
]->
domaš
.
size
();

300 
	gLSam¶šgAlgs
::
In¡ªû
()->
§m¶e
(
domSize
,1,
§m¶eWeight
,
§m¶edV®ues
,
§m¶šgMode
,
Íe
);

301 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

303 
LvrQu”yUpd©”
::
In¡ªû
()->
upd©eQu”yV®ues
(
©om
,
§m¶edV®ues
[0]);

305 
	gLvrSšgËtÚNÜmPrİag©iÚ
::
´İag©eNÜm®izedCNF
(
CNF
,
©om
,
sšgËtÚIndex
,
§m¶edV®ues
[0]);

306 
LogDoubË
 
	gmút
 = 
doLvAµroxP¬t™iÚInfÜmed
(
CNF
);

307 
	gtÙ®V®
 *ğ
§m¶eWeight
*
mút
;

313 
	gveùÜ
<
	gboŞ
> 
	gisŞ©edT”ms
;

314 
boŞ
 
	gisIsŞ©ed
 = 
LRuËsUt
::
compu‹IsŞ©edT”ms
(
©om
,
CNF
,
isŞ©edT”ms
);

315 
	gbšCÛff
 = 1;

316 
LogDoubË
 
´obOfSam¶e
(1,
çl£
);

317 
LogDoubË
 
§m¶eWeight
(1,
çl£
);

318 
	gveùÜ
<> 
	g§m¶edV®ues
;

319 if(
	gisIsŞ©ed
)

321 
	gisŞ©edSize
=1;

322 
	gnÚisŞ©edSize
 = 1;

323 
	gjj
=0;jj<
	gisŞ©edT”ms
.
size
();jj++)

325 if(
	gisŞ©edT”ms
[
jj
])

327 
	gisŞ©edSize
 *ğ
©om
->
‹rms
[
jj
]->
domaš
.
size
();

331 
	gnÚisŞ©edSize
 *ğ
©om
->
‹rms
[
jj
]->
domaš
.
size
();

334 
	gLSam¶šgAlgs
::
In¡ªû
()->
§m¶e
(
isŞ©edSize
,
nÚisŞ©edSize
,
§m¶eWeight
,
§m¶edV®ues
,
§m¶šgMode
,
Íe
);

335 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

337 
LvrQu”yUpd©”
::
In¡ªû
()->
upd©eQu”yV®ues
(
©om
,
isŞ©edT”ms
,
§m¶edV®ues
);

342 
	gnumGroundšgs
 = 
©om
->
g‘Numb”OfGroundšgs
();

343 
	gLSam¶šgAlgs
::
In¡ªû
()->
§m¶e
(
numGroundšgs
,1,
§m¶eWeight
,
§m¶edV®ues
,
§m¶šgMode
,
Íe
);

344 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

346 
LvrQu”yUpd©”
::
In¡ªû
()->
upd©eQu”yV®ues
(
©om
,
§m¶edV®ues
[0]);

350 
	glvrNÜmPrİag©e
->
´İag©eNÜm®izedCNF
(
CNF
,
©om
,
isŞ©edT”ms
,
§m¶edV®ues
);

351 
LogDoubË
 
	gmút
 = 
doLvAµroxP¬t™iÚInfÜmed
(
CNF
);

352 
	gtÙ®V®
 *ğ
§m¶eWeight
*
mút
;

355 
d–‘e
 
	g©om
;

356 
ş—nup
(
CNF
);

358  
	gtÙ®V®
;

361 
LogDoubË
 
	gLISAµroxInã»nû
::
doLvAµroxP¬t™iÚBšomŸl
(
veùÜ
<
WCÏu£
*>& 
CNF1
)

363 
LogDoubË
 
tÙ®V®
(1,
çl£
);

364 if(
	gCNF1
.
size
()==0)

365  
tÙ®V®
;

366 
	gcom¶‘edCouÁ
=0;

367 
	gi
=0;i<
	gCNF1
.
size
();i++)

369 if(
	gCNF1
[
i
]->
	g©oms
.
size
()==0 || 
CNF1
[i]->
§tisf›d
)

371 
com¶‘edCouÁ
++;

374 if(
	gcom¶‘edCouÁ
 =ğ
CNF1
.
size
())

376 
LogDoubË
 
weight
 = 
CNFWeight
(
CNF1
);

377 
ş—nup
(
CNF1
);

378  
	gweight
;

380 
	gveùÜ
<veùÜ<
	gWCÏu£
*> > 
	gdCNFs
;

381 
	gLClu¡”Ut
::
£³¿‹DisjoštCNF
(
CNF1
,
dCNFs
);

382 
ş—nup
(
CNF1
);

383 
	gt
=0;t<
	gdCNFs
.
size
();t++)

385 
	gveùÜ
<
	gWCÏu£
*> 
	gCNF
 = 
dCNFs
[
t
];

386 
	gpow”FaùÜ
;

387 
boŞ
 
	gisDecompo£d
 = 
decompo£CNF
(
CNF
,
pow”FaùÜ
);

388 if(
	gisDecompo£d
)

390 
LogDoubË
 
	gmút
 = 
doLvAµroxP¬t™iÚBšomŸl
(
CNF
);

391 
LogDoubË
 
	gv®
 = LogDoubË(1,
çl£
);

392 
	gLogDoubË
::
LDPow”
(
mút
,
pow”FaùÜ
,
v®
);

393 
	gtÙ®V®
 = 
tÙ®V®
*
v®
;

396 
Atom
* 
	gtmpAtom
 = 
heuri¡ics
->
g‘AtomToS¶™
(
CNF
);

397 if(
	gtmpAtom
==
NULL
)

399 
LogDoubË
 
wt1
 = 
CNFWeight
(
CNF
);

400 
ş—nup
(
CNF
);

401 
tÙ®V®
*
	gwt1
;

405 
Atom
* 
	g©om
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
tmpAtom
);

406 
LogDoubË
 
´obOfSam¶e
(1,
çl£
);

407 
LogDoubË
 
§m¶eWeight
(1,
çl£
);

408 
	gnumGroundšgs
 = 
©om
->
g‘Numb”OfGroundšgs
();

410 
	gmaxDomašT”m
 = 0;

411 
	gmaxDomaš
 = -1;

412 
	gjj
=0;jj<
	g©om
->
	g‹rms
.
size
();jj++)

414 
	gup
 = 
©om
->
‹rms
[
jj
]->
domaš
.
size
();

415 if(
	gup
 > 
	gmaxDomaš
)

417 
	gmaxDomaš
 = 
©om
->
‹rms
[
jj
]->
domaš
.
size
();

418 
	gmaxDomašT”m
 = 
jj
;

421 
	gnumGroundšgs
 = 
©om
->
‹rms
[
maxDomašT”m
]->
domaš
.
size
();

422 
	gveùÜ
<> 
	g§m¶edV®ues
;

423 if(
	g§m¶šgMode
==
EBINOMIAL
)

425 
LSam¶šgAlgs
::
In¡ªû
()->
§m¶e
(
numGroundšgs
,1,
§m¶eWeight
,
§m¶edV®ues
,
EBINOMIAL
);

428 
	gLSam¶šgAlgs
::
In¡ªû
()->
§m¶e
(
numGroundšgs
,1,
§m¶eWeight
,
§m¶edV®ues
);

429 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

431 
LvrQu”yUpd©”
::
In¡ªû
()->
upd©eQu”yV®ues
(
©om
,
§m¶edV®ues
[0]);

433 
	gLvrSšgËtÚNÜmPrİag©iÚ
::
´İag©eNÜm®izedCNF
(
CNF
,
©om
,
maxDomašT”m
,
§m¶edV®ues
[0]);

434 
LogDoubË
 
	gmút
 = 
doLvAµroxP¬t™iÚBšomŸl
(
CNF
);

435 
	gtÙ®V®
 *ğ
§m¶eWeight
*
mút
;

436 
d–‘e
 
	g©om
;

437 
ş—nup
(
CNF
);

439  
	gtÙ®V®
;

442 
LogDoubË
 
	gLISAµroxInã»nû
::
	$e¡im©eP¬t™iÚFunùiÚ
(
LvrP¬ams
* 
·¿ms
,
LPrİo§lDi¡ributiÚ
* 
di¡ributiÚ
)

444 
cout
<<"Liáed ImpÜnû Sam¶šg fÜƒ¡im©šg Z..."<<
’dl
;

445 
time_t
 
¡¬t
;

446 
	`time
(&
¡¬t
);

447 
cout
<<"Tim="<<
	`ùime
(&
¡¬t
)<<
’dl
;

448 
LogDoubË
 
ZAµrox
;

449 
™”©iÚs
 = 0;

450 if(
di¡ributiÚ
)

451 
	`£tPrİo§lDi¡ributiÚ
(
di¡ributiÚ
);

452 
	`£tSam¶šgMode
(
·¿ms
->
§m¶šgMode
);

453 if(
·¿ms
->
Ë¬nšgR©e
 <=0 )

454 
·¿ms
->
Ë¬nšgR©e
 = 
LEARNINGRATE
;

455 if(
·¿ms
->
´İo§lUpd©eIÁ”v®
 <= 0)

456 
·¿ms
->
´İo§lUpd©eIÁ”v®
 = 
PROPOSALUPDATEINTERVAL
;

461 
veùÜ
<
WCÏu£
*> 
şau£s
;

462 
LvrMLN
::
	`cİyAÎCÏu£s
(
mÊ
.
şau£s
,clauses);

463 
LogDoubË
 
cu¼Z
;

465 if(
·¿ms
->
§m¶šgMode
 =ğ
EINFORMED
)

466 
cu¼Z
 = 
	`doLvAµroxP¬t™iÚInfÜmed
(
şau£s
);

467 if(
·¿ms
->
§m¶šgMode
 =ğ
EINFORMEDV1
)

468 
cu¼Z
 = 
	`doLvAµroxP¬t™iÚInfÜmedV1
(
şau£s
);

470 
cu¼Z
 = 
	`doLvAµroxP¬t™iÚBšomŸl
(
şau£s
);

472 
ZAµrox
 = ZAµrox*
	`LogDoubË
(
™”©iÚs
,
çl£
è+ 
cu¼Z
;

473 
™”©iÚs
++;

474 if(
·¿ms
->
§m¶šgMode
 =ğ
EINFORMED
 ||…¬ams->§m¶šgMod=ğ
EINFORMEDV1
)

476 if(
™”©iÚs
 % 
·¿ms
->
´İo§lUpd©eIÁ”v®
 == 0)

477 
di¡ributiÚ
->
	`upd©eDi¡ributiÚs
(
·¿ms
->
Ë¬nšgR©e
);

480 
ZAµrox
 = ZAµrox / 
	`LogDoubË
(
™”©iÚs
,
çl£
);

481 
time_t
 
cu¼
;

482 
	`time
(&
cu¼
);

483 
£cÚds
 = 
	`difáime
(
cu¼
,
¡¬t
);

484 if(
™”©iÚs
%
PRINTRESULTSINTERVAL
 == 0 ||

485 
£cÚds
 > 
·¿ms
->
maxSecÚds
 || 
™”©iÚs
 >ğ·¿ms->
maxS‹ps
)

487 
cout
<<"™”©iÚ="<<
™”©iÚs
<<", currZ : ";

488 
cu¼Z
.
	`´štV®ue
();

489 
cout
<<", ZApprox : ";

490 
ZAµrox
.
	`´štV®ue
();

491 
cout
<<
’dl
;

492 if(
£cÚds
 > 
·¿ms
->
maxSecÚds
 || 
™”©iÚs
 >ğ·¿ms->
maxS‹ps
)

493  
ZAµrox
;

496 
	}
}

498 
	gLISAµroxInã»nû
::
	$e¡im©eAµroxM¬gš®s
(
LvrP¬ams
* 
·¿ms
,
LPrİo§lDi¡ributiÚ
* 
di¡ributiÚ
)

500 
	`£tPrİo§lDi¡ributiÚ
(
di¡ributiÚ
);

501 
cout
<<"E¡im©šg M¬gš® usšg Liáed ImpÜnû Sam¶šg..."<<
’dl
;

502 
time_t
 
¡¬t
;

503 
	`time
(&
¡¬t
);

504 
cout
<<"Tim="<<
	`ùime
(&
¡¬t
)<<
’dl
;

505 
LogDoubË
 
ZAµrox
;

506 
™”©iÚs
 = 0;

507 
´štIÁ”v®
 = 
PRINTRESULTSINTERVAL
;

508 
	`£tSam¶šgMode
(
·¿ms
->
§m¶šgMode
);

509 
LogDoubË
 
tÙ®Weight
;

510 if(
·¿ms
->
Ë¬nšgR©e
 <=0 )

511 
·¿ms
->
Ë¬nšgR©e
 = 
LEARNINGRATE
;

512 if(
·¿ms
->
´İo§lUpd©eIÁ”v®
 <= 0)

513 
·¿ms
->
´İo§lUpd©eIÁ”v®
 = 
PROPOSALUPDATEINTERVAL
;

517 
veùÜ
<
WCÏu£
*> 
şau£s
;

518 
LvrMLN
::
	`cİyAÎCÏu£s
(
mÊ
.
şau£s
,clauses);

519 
LogDoubË
 
cu¼Wt
;

520 if(
·¿ms
->
§m¶šgMode
 =ğ
EINFORMED
)

521 
cu¼Wt
 = 
	`doLvAµroxP¬t™iÚInfÜmed
(
şau£s
);

522 if(
·¿ms
->
§m¶šgMode
 =ğ
EINFORMEDV1
)

523 
cu¼Wt
 = 
	`doLvAµroxP¬t™iÚInfÜmedV1
(
şau£s
);

525 
cu¼Wt
 = 
	`doLvAµroxP¬t™iÚBšomŸl
(
şau£s
);

526 
LvrQu”yUpd©”
::
	`In¡ªû
()->
	`upd©eDÚtC¬e
();

527 
şau£s
.
	`ş—r
();

529 
LvrQu”yUpd©”
::
	`In¡ªû
()->
	`upd©eAÎImpÜnûWeights
(
cu¼Wt
);

532 
tÙ®Weight
 +ğ
cu¼Wt
;

534 
™”©iÚs
++;

535 if(
·¿ms
->
§m¶šgMode
 =ğ
EINFORMED
 ||…¬ams->§m¶šgMod=ğ
EINFORMEDV1
)

537 if(
™”©iÚs
 % 
·¿ms
->
´İo§lUpd©eIÁ”v®
 == 0)

539 
di¡ributiÚ
->
	`upd©eDi¡ributiÚs
(
·¿ms
->
Ë¬nšgR©e
);

542 
time_t
 
cu¼
;

543 
	`time
(&
cu¼
);

544 
£cÚds
 = 
	`difáime
(
cu¼
,
¡¬t
);

545 if(
™”©iÚs
 % 
PRINTRESULTSINTERVAL
 == 0 ||

546 
£cÚds
 > 
·¿ms
->
maxSecÚds
 || 
™”©iÚs
 >ğ·¿ms->
maxS‹ps
)

548 
LvrQu”yUpd©”
::
	`In¡ªû
()->
	`wr™eToFe
(
tÙ®Weight
);

549 
cout
<<"™”©iÚ "<< 
™”©iÚs
<<
’dl
;

550 
cout
<<"Z-curr = ";

551 
cu¼Wt
.
	`´štV®ue
();

552 
cout
<<
’dl
;

553 
cout
<<"cumulative-Z = ";

554 
tÙ®Weight
.
	`´štV®ue
();

555 
cout
<<
’dl
;

556 if(
£cÚds
 > 
·¿ms
->
maxSecÚds
 || 
™”©iÚs
 >ğ·¿ms->
maxS‹ps
)

560 
	}
}

562 
	gLISAµroxInã»nû
::
	$LISAµroxInã»nû
(
LvrMLN
& 
mÊ_
): 
	$mÊ
(
mÊ_
)

564 
decompo£r
 = 
Ãw
 
	`LDecompo£r
(
mÊ
);

565 
heuri¡ics
 = 
Ãw
 
	`LHeuri¡ics
(*
decompo£r
,
mÊ
);

566 
lvrNÜmPrİag©e
 = 
Ãw
 
	`LvrNÜmPrİag©iÚ
(
mÊ
);

567 
	}
}

	@liftedinfer/liftedimportancesampling/src/proposalconstructor.cpp

1 
	~"´İo§lcÚ¡ruùÜ.h
"

2 
	~"heuri¡ics.h
"

3 
	~"lv¿tomhash‹m¶©e.h
"

6 
	gLPrİo§lCÚ¡ruùÜ
::
	$LPrİo§lCÚ¡ruùÜ
(
LvrMLN
& 
mÊ_
):
	$mÊ
(
mÊ_
)

8 
Íd
 = 
NULL
;

9 
lc
 = 
Ãw
 
	`LClu¡”Ut
();

11 
l£¬ch
 = 
Ãw
 
	`LISAµroxInã»nû
(
mÊ
);

12 
Íg
 = 
Ãw
 
	`LvrNÜmPrİag©iÚ
(
mÊ
);

13 
lvrSšgËtÚNÜmPrİag©iÚ
 = 
Ãw
 
	`LvrSšgËtÚNÜmPrİag©iÚ
();

14 
	}
}

16 
	gLPrİo§lCÚ¡ruùÜ
::~
	$LPrİo§lCÚ¡ruùÜ
()

18 if(
Íd
)

19 
d–‘e
 
Íd
;

20 
d–‘e
 
lc
;

21 
d–‘e
 
l£¬ch
;

22 
d–‘e
 
Íg
;

23 
d–‘e
 
lvrSšgËtÚNÜmPrİag©iÚ
;

24 
	}
}

26 
	gLPrİo§lCÚ¡ruùÜ
::
g‘P¬’ts
(
veùÜ
<
WCÏu£
*> 
şau£s
,
Atom
* 
©om
, veùÜ<Atom*> 
pÙ’tŸlP¬’ts
,veùÜ<Atom*>& 
·»Ás
)

29 
	gveùÜ
<> 
couÁs
(
pÙ’tŸlP¬’ts
.
size
());

59 
	gi
=0;i<
	gpÙ’tŸlP¬’ts
.
size
();i++)

61 
	gcouÁs
[
i
] = 
LHeuri¡ics
::
´İo§lCou¶šgScÜe
(
mÊ
.
şau£s
,
©om
,
pÙ’tŸlP¬’ts
[i]);

65 
	gveùÜ
<> 
šdex
(
couÁs
.
size
());

66 
	gi
=0;i<
	gšdex
.
size
();i++)

67 
	gšdex
[
i
] = i;

69 
	gi
=0;i<
	gcouÁs
.
size
();i++)

71 
	gj
=0;j<
	gcouÁs
.
size
()-
	gi
-1;j++)

73 if(
	gcouÁs
[
j
] < counts[j+1])

75 
	gtmp
=
couÁs
[
j
];

76 
	gcouÁs
[
j
]=
couÁs
[j+1];

77 
	gcouÁs
[
j
+1]=
tmp
;

78 
	gtmp
=
šdex
[
j
];

79 
	gšdex
[
j
]=
šdex
[j+1];

80 
	gšdex
[
j
+1]=
tmp
;

84 
	gmaxV®
 = 
PROPOSALNUMPARENTS
;

85 if(
	gcouÁs
.
size
(è< 
	gmaxV®
)

86 
	gmaxV®
 = 
couÁs
.
size
();

87 
	gi
=0;i<
	gmaxV®
;i++)

89 
	g·»Ás
.
push_back
(
pÙ’tŸlP¬’ts
[
šdex
[
i
]]);

93 
	gLPrİo§lCÚ¡ruùÜ
::
cÚ¡ruùPrİo§l
(
veùÜ
<
WCÏu£
*>& 
CNF1
,veùÜ<
Atom
*>& 
pÙ’tŸlP¬’ts
)

95 if(
	gCNF1
.
size
()==0)

97 
	gveùÜ
<veùÜ<
	gWCÏu£
*> > 
	gdCNFs
;

98 
	gLClu¡”Ut
::
£³¿‹DisjoštCNF
(
CNF1
,
dCNFs
);

99 
ş—nup
(
CNF1
);

100 
	gt
=0;t<
	gdCNFs
.
size
();t++)

102 
	gveùÜ
<
	gWCÏu£
*> 
	gCNF
 = 
dCNFs
[
t
];

104 
	gpow”FaùÜ
;

105 
boŞ
 
	gisDecompo£d
 = 
l£¬ch
->
decompo£CNF
(
CNF
,
pow”FaùÜ
);

106 if(
	gisDecompo£d
)

109 
cÚ¡ruùPrİo§l
(
CNF
,
pÙ’tŸlP¬’ts
);

113 
Atom
* 
	gtmpS–eùedAtom
 = 
l£¬ch
->
£ËùAtomToCÚd™iÚ
(
CNF
);

114 if(
	gtmpS–eùedAtom
 =ğ
NULL
)

116 
ş—nup
(
CNF
);

119 
Atom
* 
	g£ËùedAtom
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
tmpS–eùedAtom
);

120 
	gveùÜ
<
	gAtom
*> 
	g·»Ás
;

121 if(
	gpÙ’tŸlP¬’ts
.
size
() > 0)

123 
g‘P¬’ts
(
CNF
,
£ËùedAtom
,
pÙ’tŸlP¬’ts
,
·»Ás
);

126 
	gveùÜ
<
	gboŞ
> 
	gisŞ©edT”ms
;

127 
boŞ
 
	gisIsŞ©ed
 = 
LRuËsUt
::
compu‹IsŞ©edT”ms
(
£ËùedAtom
,
CNF
,
isŞ©edT”ms
);

128 
	gÍd
->
š£¹EËm’t
(
£ËùedAtom
,
·»Ás
,
isŞ©edT”ms
);

129 
	gpÙ’tŸlP¬’ts
.
push_back
(
£ËùedAtom
);

131 
	gi
=0;i<
	gCNF
.
size
();i++)

133 
	gj
=0;j<
	gCNF
[
i
]->
	g©oms
.
size
();j++)

135 if(
	gCNF
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	gid
 =ğ
£ËùedAtom
->
symbŞ
->
id
)

137 
CNF
[
i
]->
»moveAtom
(
j
);

138 
	gj
--;

142 
cÚ¡ruùPrİo§l
(
CNF
,
pÙ’tŸlP¬’ts
);

143 
ş—nup
(
CNF
);

232 
	gLPrİo§lCÚ¡ruùÜ
::
cÚ¡ruùPrİo§lV1
(
veùÜ
<
WCÏu£
*>& 
CNF
,veùÜ<
Atom
*>& 
pÙ’tŸlP¬’ts
)

234 if(
	gCNF
.
size
()==0)

236 
	gpow”FaùÜ
;

237 
boŞ
 
	gisDecompo£d
 = 
l£¬ch
->
decompo£CNF
(
CNF
,
pow”FaùÜ
);

238 if(
	gisDecompo£d
)

241 
cÚ¡ruùPrİo§lV1
(
CNF
,
pÙ’tŸlP¬’ts
);

244 
Atom
* 
	gtmpS–eùedAtom
 = 
l£¬ch
->
£ËùAtomToCÚd™iÚ
(
CNF
);

245 if(
	gtmpS–eùedAtom
 =ğ
NULL
)

247 
ş—nup
(
CNF
);

250 
Atom
* 
	g£ËùedAtom
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
tmpS–eùedAtom
);

251 
	gveùÜ
<
	gAtom
*> 
	g·»Ás
;

252 if(
	gpÙ’tŸlP¬’ts
.
size
() > 0)

254 
g‘P¬’ts
(
CNF
,
£ËùedAtom
,
pÙ’tŸlP¬’ts
,
·»Ás
);

257 
	gveùÜ
<
	gboŞ
> 
	gisŞ©edT”ms
;

258 
boŞ
 
	gisIsŞ©ed
 = 
LRuËsUt
::
compu‹IsŞ©edT”ms
(
£ËùedAtom
,
CNF
,
isŞ©edT”ms
);

259 
	gÍd
->
š£¹EËm’t
(
£ËùedAtom
,
·»Ás
,
isŞ©edT”ms
);

260 
	gpÙ’tŸlP¬’ts
.
push_back
(
£ËùedAtom
);

261 
	gÍg
->
´İag©eNÜm®izedCNF
(
CNF
,
£ËùedAtom
,
isŞ©edT”ms
);

262 
cÚ¡ruùPrİo§lV1
(
CNF
,
pÙ’tŸlP¬’ts
);

263 
ş—nup
(
CNF
);

266 
	gLPrİo§lCÚ¡ruùÜ
::
	$¡¬tCÚ¡ruùiÚ
(
LvrP¬ams
* 
·¿ms
)

268 
cout
<<"CÚ¡ruùšg…rİo§Èdi¡ributiÚ sŒuùu»..."<<
’dl
;

269 
veùÜ
<
Atom
*> 
pÙ’tŸlP¬’ts
;

270 
veùÜ
<
WCÏu£
*> 
nCÏu£s
;

271 
LvrMLN
::
	`cİyAÎCÏu£s
(
mÊ
.
şau£s
,
nCÏu£s
);

272 
Íd
 = 
Ãw
 
	`LPrİo§lDi¡ributiÚ
(
·¿ms
->
§m¶šgMode
);

273 if(
·¿ms
->
§m¶šgMode
 =ğ
EINFORMED
)

275 
	`cÚ¡ruùPrİo§l
(
nCÏu£s
,
pÙ’tŸlP¬’ts
);

279 
	`cÚ¡ruùPrİo§lV1
(
nCÏu£s
,
pÙ’tŸlP¬’ts
);

281 
	}
}

283 
	gLPrİo§lCÚ¡ruùÜ
::
	$¡¬tMARInã»nû
(
LvrP¬ams
* 
·¿ms
)

286 
´štIÁ”v®
 = 
PRINTRESULTSINTERVAL
;

287 if(
·¿ms
->
maxS‹ps
 <= 0)

289 if(
·¿ms
->
isWeightL—ºšg
)

290 
·¿ms
->
maxS‹ps
 = 
MAXSTEPSWL
;

292 
·¿ms
->
maxS‹ps
 = 
MAXSTEPSINFER
;

294 if(
·¿ms
->
maxSecÚds
 <= 0)

296 if(
·¿ms
->
isWeightL—ºšg
)

297 
·¿ms
->
maxSecÚds
 = 
MAXSECONDSWL
;

299 
·¿ms
->
maxSecÚds
 = 
MAXSECONDSINFER
;

301 if(
·¿ms
->
§m¶šgMode
 =ğ
EINFORMED
 ||…¬ams->§m¶šgMod=ğ
EINFORMEDV1
)

303 
	`¡¬tCÚ¡ruùiÚ
(
·¿ms
);

304 
l£¬ch
->
	`e¡im©eAµroxM¬gš®s
(
·¿ms
,
Íd
);

307 
l£¬ch
->
	`e¡im©eAµroxM¬gš®s
(
·¿ms
);

308 
	}
}

310 
	gLPrİo§lCÚ¡ruùÜ
::
	$¡¬tP¬t™iÚFunùiÚ
(
LvrP¬ams
* 
·¿ms
)

313 
´štIÁ”v®
 = 
PRINTRESULTSINTERVAL
;

314 if(
·¿ms
->
maxS‹ps
 <= 0)

316 
·¿ms
->
maxS‹ps
 = 
MAXSTEPSINFER
;

318 if(
·¿ms
->
maxSecÚds
 <= 0)

320 
·¿ms
->
maxSecÚds
 = 
MAXSECONDSINFER
;

322 if(
·¿ms
->
§m¶šgMode
 =ğ
EINFORMED
 ||…¬ams->§m¶šgMod=ğ
EINFORMEDV1
)

324 
	`¡¬tCÚ¡ruùiÚ
(
·¿ms
);

325 
l£¬ch
->
	`e¡im©eP¬t™iÚFunùiÚ
(
·¿ms
,
Íd
);

328 
l£¬ch
->
	`e¡im©eP¬t™iÚFunùiÚ
(
·¿ms
);

329 
	}
}

331 
	gLPrİo§lCÚ¡ruùÜ
::
	$»adDi¡ributiÚFromDumpFe
()

333 
Íd
->
	`»adDi¡ributiÚFromDumpFe
();

334 
	}
}

336 
	gLPrİo§lCÚ¡ruùÜ
::
	$dumpDi¡ributiÚToDumpFe
()

338 
Íd
->
	`dumpDi¡ributiÚToFe
();

339 
	}
}

	@liftedinfer/liftedimportancesampling/src/proposalstructure.cpp

1 
	~"´İo§l¡ruùu».h
"

2 
	~"fedump.h
"

3 
	~"ş—nuputs.h
"

4 
	~"¿ndomg’ut.h
"

6 
	gLPrİo§lTabË
::
	$LPrİo§lTabË
(
·»ÁsSize
,
maxTruthV®ue_
):
	`tÙ®Sam¶esCŞËùed
(0),
	$maxTruthV®ue
(
maxTruthV®ue_
)

8 
di¡ributiÚ
.
	`ş—r
();

9 
ad­tiveMLECouÁ”
.
	`ş—r
();

10 
tÙ®Sam¶esCŞËùed
.
	`ş—r
();

11 
nÜmCÚ¡ªts
.
	`ş—r
();

12 
di¡ributiÚ
.
	`»size
(
·»ÁsSize
);

13 
ad­tiveMLECouÁ”
.
	`»size
(
·»ÁsSize
);

14 
tÙ®Sam¶esCŞËùed
.
	`»size
(
·»ÁsSize
);

15 
nÜmCÚ¡ªts
.
	`»size
(
·»ÁsSize
);

16 
i
=0;i<
di¡ributiÚ
.
	`size
();i++)

18 
di¡ributiÚ
[
i
].
	`»size
(
maxTruthV®ue
+1);

19 
ad­tiveMLECouÁ”
[
i
].
	`»size
(
maxTruthV®ue
+1);

20 
j
=0;j<
di¡ributiÚ
[
i
].
	`size
();j++)

21 
di¡ributiÚ
[
i
].
	`©
(
j
èğ
	`LogDoubË
(1.0,
çl£
)/LogDoubË(
maxTruthV®ue
+1,false);

23 
nÜmCÚ¡ªts
[
i
] = 
di¡ributiÚ
[i].
	`©
(0è+ di¡ributiÚ[i].©(di¡ributiÚ[i].
	`size
()-1);

24 
LogDoubË
 
çùÜ
;

25 
j
=1;j<
di¡ributiÚ
[
i
].
	`size
()-1;j++)

26 
çùÜ
 = faùÜ + 
di¡ributiÚ
[
i
].
	`©
(
j
);

27 if(!
çùÜ
.
is_z”o
)

28 
çùÜ
 = faùÜ*
	`LogDoubË
(
maxTruthV®ue
,
çl£
);

30 
çùÜ
 = 
	`LogDoubË
(
maxTruthV®ue
,
çl£
);

31 
nÜmCÚ¡ªts
[
i
] =‚ÜmCÚ¡ªts[i] + 
çùÜ
;

33 
	}
}

34 
	gLPrİo§lTabË
::
	$upd©eDi¡ributiÚ
(
Ë¬nšgR©e
)

36 
i
=0;i<
di¡ributiÚ
.
	`size
();i++)

38 if(
tÙ®Sam¶esCŞËùed
[
i
] == 0)

40 
nÜm
 = 0;

41 
veùÜ
<> 
	`ÃwProbab™›s
(
di¡ributiÚ
[
i
].
	`size
());

42 
j
=0;j<
di¡ributiÚ
[
i
].
	`size
();j++)

44 
ÃwProbab™›s
[
j
] = ()
ad­tiveMLECouÁ”
[
i
].
	`©
(j)/()
tÙ®Sam¶esCŞËùed
[i];

47 
nÜm
 +ğ
ÃwProbab™›s
[
j
];

49 
ad­tiveMLECouÁ”
[
i
].
	`©
(
j
) = 0;

52 
LogDoubË
 
ÃwNÜm
;

53 
j
=0;j<
di¡ributiÚ
[
i
].
	`size
();j++)

55 
di¡ributiÚ
[
i
].
	`©
(
j
èğdi¡ributiÚ[i].©(jè+ 
	`LogDoubË
((
ÃwProbab™›s
[j]-
	`exp
(di¡ributiÚ[i].©(j).
v®ue
))*
Ë¬nšgR©e
,
çl£
);

56 
ÃwNÜm
 +ğ
di¡ributiÚ
[
i
].
	`©
(
j
);

58 
j
=0;j<
di¡ributiÚ
[
i
].
	`size
();j++)

60 
di¡ributiÚ
[
i
].
	`©
(
j
èğdi¡ributiÚ[i].©(j)/
ÃwNÜm
;

63 
nÜmCÚ¡ªts
[
i
] = 
di¡ributiÚ
[i].
	`©
(0è+ di¡ributiÚ[i].©(di¡ributiÚ[i].
	`size
()-1);

64 
LogDoubË
 
çùÜ
;

65 
j
=1;j<
di¡ributiÚ
[
i
].
	`size
()-1;j++)

66 
çùÜ
 = faùÜ + 
di¡ributiÚ
[
i
].
	`©
(
j
);

67 if(!
çùÜ
.
is_z”o
)

68 
çùÜ
 = faùÜ*
	`LogDoubË
(
maxTruthV®ue
,
çl£
);

70 
çùÜ
 = 
	`LogDoubË
(
maxTruthV®ue
,
çl£
);

72 
nÜmCÚ¡ªts
[
i
] =‚ÜmCÚ¡ªts[i] + 
çùÜ
;

75 
tÙ®Sam¶esCŞËùed
[
i
] = 0;

77 
	}
}

78 
	gLPrİo§lTabË
::
	$§m¶eDi¡ributiÚ
(
šdex
)

80 if(
šdex
 < 0 || index > 
di¡ributiÚ
.
	`size
())

84 
veùÜ
<
LogDoubË
> 
	`cdf
(
di¡ributiÚ
[
šdex
].
	`size
());

85 
cdf
[0] = 
di¡ributiÚ
[
šdex
].
	`©
(0);

86 
i
=1;i<
di¡ributiÚ
[
šdex
].
	`size
()-1;i++)

88 
cdf
[
i
] = cdf[i-1]+
di¡ributiÚ
[
šdex
].
	`©
(i);

90 
cdf
[cdf.
	`size
()-1] = 
	`LogDoubË
(1,
çl£
);

91 
u
 = 
LvRªdomG’Ut
::
	`In¡ªû
()->
	`g‘NÜmRªd
();

92 
LogDoubË
 
	`lu
(
u
,
çl£
);

93 
nTrues
 = 
	`low”_bound
(
cdf
.
	`begš
(),cdf.
	`’d
(),
lu
) - cdf.begin();

94 
§m¶edV®ue
 = 
nTrues
;

95 
§m¶edProbab™y
 = 
di¡ributiÚ
[
šdex
].
	`©
(
nTrues
);

97 
ad­tiveMLECouÁ”
[
šdex
].
	`©
(
nTrues
)++;

98 
tÙ®Sam¶esCŞËùed
[
šdex
]++;

99 
	}
}

101 
	gLPrİo§lTabË
::
	$´štDi¡ributiÚ
()

103 
i
=0;i<
di¡ributiÚ
.
	`size
();i++)

105 
cout
<<
i
<<"th distribution = ";

106 
j
=0;j<
di¡ributiÚ
[
i
].
	`size
();j++)

108 
cout
<<
di¡ributiÚ
[
i
].
	`©
(
j
)<<" ";

110 
cout
<<
’dl
;

112 
cout
<<
’dl
;

113 
	}
}

115 
	gLPrİo§lTabË
::
	$g‘TabËSize
(
šdex
)

117  
di¡ributiÚ
[
šdex
].
	`size
();

118 
	}
}

120 
LogDoubË
 
	gLPrİo§lTabË
::
	$g‘Di¡ributiÚV®ue
(
šdex
,
numTrue
)

122  
di¡ributiÚ
[
šdex
].
	`©
(
numTrue
);

123 
	}
}

125 
LogDoubË
 
	gLPrİo§lTabË
::
	$g‘NÜmCÚ¡ªt
(
šdex
)

127  
nÜmCÚ¡ªts
[
šdex
];

128 
	}
}

130 
	gLPrİo§lDi¡ributiÚEËm’t
::
LPrİo§lDi¡ributiÚEËm’t
(
Atom
* 
©om_
,
veùÜ
<LPrİo§lDi¡ributiÚEËm’t*> 
·»Ás_
,

131 
veùÜ
<
boŞ
> 
isŞ©edT”ms_
,
id_
):
·»Ás
(
·»Ás_
),
isŞ©edT”ms
(isŞ©edT”ms_),
id
(id_),
	$nTrueV®ues
(0)

133 
©om
 = 
LvrMLN
::
	`ü—‹_Ãw_©om
(
©om_
);

134 
	`š™ŸlizePrİo§lTabËs
();

135 
	}
}

137 
	gLPrİo§lDi¡ributiÚEËm’t
::~
	$LPrİo§lDi¡ributiÚEËm’t
()

139 
d–‘e
 
©om
;

140 
	`ş—nup
(
´İo§lTabËs
);

141 
·»Ás
.
	`ş—r
();

142 
	}
}

143 
	gLPrİo§lDi¡ributiÚEËm’t
::
	$š™ŸlizePrİo§lTabËs
()

145 
nÚisŞ©edSize
 = 1;

146 
isŞ©edSize
 = 1;

147 
tÙ®Size
 = 1;

148 
i
=0;i<
©om
->
‹rms
.
	`size
();i++)

150 if(!
isŞ©edT”ms
[
i
])

152 
nÚisŞ©edSize
 *ğ
©om
->
‹rms
[
i
]->
domaš
.
	`size
();

156 
isŞ©edSize
 *ğ
©om
->
‹rms
[
i
]->
domaš
.
	`size
();

158 
tÙ®Size
 *ğ
©om
->
‹rms
[
i
]->
domaš
.
	`size
();

160 
·»ÁsSize
 = 1;

161 
i
=0;i<
·»Ás
.
	`size
();i++)

163 
·»ÁsSize
 *ğ(
·»Ás
[
i
]->
©om
->
	`g‘Numb”OfGroundšgs
()+1);

165 if(
isŞ©edSize
==1)

168 
LPrİo§lTabË
* 
bË
 = 
Ãw
 
	`LPrİo§lTabË
(
·»ÁsSize
,
©om
->
	`g‘Numb”OfGroundšgs
());

169 
´İo§lTabËs
.
	`push_back
(
bË
);

174 
i
=0;i<
nÚisŞ©edSize
;i++)

176 
LPrİo§lTabË
* 
bË
 = 
Ãw
 
	`LPrİo§lTabË
(
·»ÁsSize
,
isŞ©edSize
);

177 
´İo§lTabËs
.
	`push_back
(
bË
);

181 
	}
}

183 
	gLPrİo§lDi¡ributiÚEËm’t
::
§m¶e
(
LogDoubË
& 
´ob
,
veùÜ
<>& 
§m¶edV®ues
, 
domašSize
)

186 
	g´ob
 = 
LogDoubË
(1,
çl£
);

187 
	g§m¶edV®ues
.
ş—r
();

188 
	g§m¶edV®ues
.
»size
(
´İo§lTabËs
.
size
());

190 
	gšdex
 = 0;

192 if(
	g·»Ás
.
size
()==0)

194 
šdex
=0;

198 
	gveùÜ
<> 
	g·»ÁV®ues
;

199 
	gveùÜ
<> 
	g·»ÁSizes
;

200 
	gi
=0;i<
	g·»Ás
.
size
();i++)

202 
	g·»ÁV®ues
.
push_back
(
·»Ás
[
i
]->
nTrueV®ues
);

203 
	g·»ÁSizes
.
push_back
(
·»Ás
[
i
]->
©om
->
g‘Numb”OfGroundšgs
());

207 
	gšdex
 = 
·»ÁV®ues
[·»ÁV®ues.
size
()-1];

208 
	gj
=
·»ÁSizes
.
size
()-2;j>=0;j--)

210 
	gk
=
j
+1;k<
	g·»ÁSizes
.
size
();k++)

211 
	gšdex
 +ğ
·»ÁV®ues
[
j
]*
·»ÁSizes
[
k
];

215 
	gtÙ®V®ue
 = 0;

216 
LogDoubË
 
´obToUpd©e
(1,
çl£
);

217 
	gi
=0;i<
	g´İo§lTabËs
.
size
();i++)

219 
	g´İo§lTabËs
[
i
]->
§m¶eDi¡ributiÚ
(
šdex
);

221 
	gbËSize
 = 
´İo§lTabËs
[
i
]->
g‘TabËSize
(
šdex
);

222 if(
	gdomašSize
+1 !ğ
bËSize
 && 
domašSize
 > 0)

224 if(
domašSize
+1 < 
bËSize
)

229 
£t
<> 
nums
;

230 
	gÆvTrue
 = 0;

231 
	gnums
.
size
()!=
´İo§lTabËs
[
i
]->
§m¶edV®ue
)

233 
·œ
<
£t
<>::
™”©Ü
,
boŞ
> 
»t
;

234 
	gr
 = 
LvRªdomG’Ut
::
In¡ªû
()->
g‘RªdomPos™iÚ
(
bËSize
);

235 
	g»t
 = 
nums
.
š£¹
(
r
);

236 if(
	g»t
.
	g£cÚd
)

238 if(
	gr
 < 
	gdomašSize
)

239 
	gÆvTrue
++;

243 
	gdiff
 = (
bËSize
 - 1è- 
domašSize
;

244 
LogDoubË
 
	gÅrob
 = 
´İo§lTabËs
[
i
]->
g‘Di¡ributiÚV®ue
(
šdex
,
ÆvTrue
è+ 
	g´İo§lTabËs
[i]->g‘Di¡ributiÚV®ue(šdex,ÆvTru+ 
diff
);

245 
LogDoubË
 
	gçùÜ
;

246 
	gjj
=
ÆvTrue
+1;jj<
	gÆvTrue
 + 
	gdiff
-1;jj++)

247 
	gçùÜ
 = 
çùÜ
 + 
´İo§lTabËs
[
i
]->
g‘Di¡ributiÚV®ue
(
šdex
,
jj
);

248 if(!
	gçùÜ
.
	gis_z”o
)

249 
	gçùÜ
 = 
çùÜ
*
LogDoubË
(
diff
,
çl£
);

251 
	gçùÜ
 = 
LogDoubË
(
diff
,
çl£
);

253 
LogDoubË
 
	gÅrob_nÜm
 = (
çùÜ
*
Årob
)/
´İo§lTabËs
[
i
]->
g‘NÜmCÚ¡ªt
(
šdex
);

254 
	g´ob
 *ğ
Årob_nÜm
;

255 
	g§m¶edV®ues
[
i
] = 
ÆvTrue
;

260 
	g´ob
 *ğ
´İo§lTabËs
[
i
]->
§m¶edProbab™y
;

261 
	g§m¶edV®ues
[
i
] = 
´İo§lTabËs
[i]->
§m¶edV®ue
;

263 
	g´obToUpd©e
 *ğ
´İo§lTabËs
[
i
]->
§m¶edProbab™y
;

264 
	gtÙ®V®ue
 +ğ
´İo§lTabËs
[
i
]->
§m¶edV®ue
;

267 
	gthis
->
	g´obab™y
 = 
´obToUpd©e
;

268 
	gthis
->
	gnTrueV®ues
 = 
tÙ®V®ue
;

271 
	gLPrİo§lDi¡ributiÚEËm’t
::
	$´št
()

273 
©om
->
	`´št
(
çl£
);

274 
cout
<<"[";

275 
i
=0;i<
·»Ás
.
	`size
();i++)

277 
·»Ás
[
i
]->
©om
->
	`´št
(
çl£
);

278 
cout
<<",";

280 
cout
<<"]"<<
’dl
;

281 
i
=0;i<
´İo§lTabËs
.
	`size
();i++)

283 
cout
<<"Prİo§ÈTabË "<<
i
<<
’dl
;

284 
´İo§lTabËs
[
i
]->
	`´štDi¡ributiÚ
();

286 
	}
}

288 
	gLPrİo§lDi¡ributiÚEËm’t
::
	$upd©ePrİo§ls
(
Ë¬nšgR©e
)

290 
i
=0;i<
´İo§lTabËs
.
	`size
();i++)

291 
´İo§lTabËs
[
i
]->
	`upd©eDi¡ributiÚ
(
Ë¬nšgR©e
);

292 
	}
}

296 
	gLPrİo§lDi¡ributiÚ
::
	$LPrİo§lDi¡ributiÚ
(
ESam¶šgMode
 
§m¶šgMode_
):
	`couÁ”
(0),
	$§m¶šgMode
(
§m¶šgMode_
)

298 
hashedDi¡ributiÚs
 = 
Ãw
 
LvrAtomHashTem¶©e
<
LPrİo§lDi¡ributiÚEËm’t
*>();

299 
	}
}

300 
	gLPrİo§lDi¡ributiÚ
::~
	$LPrİo§lDi¡ributiÚ
()

302 
d–‘e
 
hashedDi¡ributiÚs
;

303 
	}
}

304 
LPrİo§lDi¡ributiÚEËm’t
* 
	gLPrİo§lDi¡ributiÚ
::
š£¹EËm’t
(
Atom
* 
©om
, 
veùÜ
<Atom*> 
·»Ás
,veùÜ<
boŞ
> 
isŞ©edT”ms
)

308 
	gveùÜ
<
	gLPrİo§lDi¡ributiÚEËm’t
*> 
	glvP¬’ts
;

309 
	gi
=0;i<
	g·»Ás
.
size
();i++)

311 
LPrİo§lDi¡ributiÚEËm’t
* 
	g–em
 = 
hashedDi¡ributiÚs
->
g‘V®ue
(
·»Ás
[
i
]);

312 if(
	g–em
!=
NULL
)

313 
lvP¬’ts
.
push_back
(
–em
);

316 
LPrİo§lDi¡ributiÚEËm’t
* 
	gnEËm’t
 = 
Ãw
 LPrİo§lDi¡ributiÚEËm’t(
©om
,
lvP¬’ts
,
isŞ©edT”ms
,
hashedDi¡ributiÚs
->
size
());

317 if(
	g§m¶šgMode
==
EINFORMED
)

320 
hashedDi¡ributiÚs
->
š£¹
(
©om
->
symbŞ
->
·»ÁId
,
nEËm’t
);

325 
	ghashedDi¡ributiÚs
->
š£¹
(
©om
,
nEËm’t
);

327  
	gnEËm’t
;

330 
	gLPrİo§lDi¡ributiÚ
::
	$upd©eDi¡ributiÚs
(
Ë¬nšgR©e
)

332 
cout
<<"Upd©šg Di¡ributiÚs..."<<
’dl
;

333 
veùÜ
<
LPrİo§lDi¡ributiÚEËm’t
*> 
®lEËms
 = 
hashedDi¡ributiÚs
->
	`g‘AÎD©a
();

334 
veùÜ
<
LPrİo§lDi¡ributiÚEËm’t
*>::
™”©Ü
 
™
=
®lEËms
.
	`begš
();™!÷ÎEËms.
	`’d
();it++)

336 (*
™
)->
	`upd©ePrİo§ls
(
Ë¬nšgR©e
);

338 
	}
}

339 
	gLPrİo§lDi¡ributiÚ
::
	$´št
()

341 
cout
<<"Prİo§ÈSŒuùu»"<<
’dl
;

342 
veùÜ
<
LPrİo§lDi¡ributiÚEËm’t
*> 
®lEËms
 = 
hashedDi¡ributiÚs
->
	`g‘AÎD©a
();

343 
veùÜ
<
LPrİo§lDi¡ributiÚEËm’t
*>::
™”©Ü
 
™
=
®lEËms
.
	`begš
();™!÷ÎEËms.
	`’d
();it++)

345 (*
™
)->
	`´št
();

346 
cout
<<" ";

348 
cout
<<
’dl
;

349 
	}
}

351 
LPrİo§lDi¡ributiÚEËm’t
* 
	gLPrİo§lDi¡ributiÚ
::
	$fšdEËm’t
(
Atom
* 
©om
)

353 if(
§m¶šgMode
==
EINFORMED
)

355 
LPrİo§lDi¡ributiÚEËm’t
* 
di¡
;

356 
hashedDi¡ributiÚs
->
	`g‘V®ue
(
©om
->
symbŞ
->
·»ÁId
,
di¡
);

357  
di¡
;

361  
hashedDi¡ributiÚs
->
	`g‘V®ue
(
©om
);

363 
	}
}

365 
	gLPrİo§lDi¡ributiÚ
::
	$dumpDi¡ributiÚToFe
()

367 
veùÜ
<
LPrİo§lDi¡ributiÚEËm’t
*> 
®lEËms
 = 
hashedDi¡ributiÚs
->
	`g‘AÎD©a
();

368 
veùÜ
<> 
ids
;

369 
veùÜ
<
Atom
*> 
©oms
;

370 
veùÜ
<veùÜ<
Atom
*> > 
·»Ás
;

371 
veùÜ
<veùÜ<
boŞ
> > 
isŞ©edT”ms
;

372 
veùÜ
<
LPrİo§lDi¡ributiÚEËm’t
*>::
™”©Ü
 
™
=
®lEËms
.
	`begš
();™!÷ÎEËms.
	`’d
();it++)

374 
©oms
.
	`push_back
((*
™
)->
©om
);

375 
veùÜ
<
Atom
*> 
tmpP¬’ts
;

376 
veùÜ
<
boŞ
> 
tmpIST”ms
;

377 
i
=0;i<(*
™
)->
·»Ás
.
	`size
();i++)

378 
tmpP¬’ts
.
	`push_back
((*
™
)->
·»Ás
[
i
]->
©om
);

379 
i
=0;i<(*
™
)->
isŞ©edT”ms
.
	`size
();i++)

380 
tmpIST”ms
.
	`push_back
((*
™
)->
isŞ©edT”ms
[
i
]);

381 
·»Ás
.
	`push_back
(
tmpP¬’ts
);

382 
isŞ©edT”ms
.
	`push_back
(
tmpIST”ms
);

383 
ids
.
	`push_back
((*
™
)->
id
);

386 
LFeDump
::
	`dumpPrİo§lToFe
(
©oms
,
·»Ás
,
ids
);

387 
LFeDump
::
	`dumpPrİo§lITT”msFe
(
isŞ©edT”ms
);

388 
	}
}

391 
	gLPrİo§lDi¡ributiÚ
::
	$»adDi¡ributiÚFromDumpFe
()

393 
veùÜ
<
Atom
*> 
©oms
;

394 
veùÜ
<veùÜ<
Atom
*> > 
·»Ás
;

395 
veùÜ
<veùÜ<
boŞ
> > 
isŞ©edT”ms
;

396 
veùÜ
<> 
ids
;

397 
LFeDump
::
	`»adDum³dPrİo§lFe
(
©oms
,
·»Ás
,
ids
);

398 
LFeDump
::
	`»adDum³dPrİo§lIsŞ©edT”msFe
(
isŞ©edT”ms
);

400 
veùÜ
<
Atom
*> 
	`©oms_n
(
©oms
.
	`size
());

401 
veùÜ
<veùÜ<
Atom
*> > 
	`·»Ás_n
(
·»Ás
.
	`size
());

402 
veùÜ
<veùÜ<
boŞ
> > 
	`isŞ©edT”ms_n
(
isŞ©edT”ms
.
	`size
());

403 
i
=0;i<
ids
.
	`size
();i++)

405 
©oms_n
[
ids
[
i
]] = 
©oms
[i];

406 
·»Ás_n
[
ids
[
i
]]=
·»Ás
[i];

407 
isŞ©edT”ms_n
[
ids
[
i
]] = 
isŞ©edT”ms
[i];

409 
i
=0;i<
©oms_n
.
	`size
();i++)

411 
	`š£¹EËm’t
(
©oms_n
[
i
],
·»Ás_n
[i],
isŞ©edT”ms_n
[i]);

413 
	}
}

	@liftedinfer/liftedinfer.cpp

1 
	~<uni¡d.h
>

2 
	~<f¡»am
>

3 
	~<şim™s
>

4 
	~<sys/times.h
>

6 
	~"šãr.h
"

7 
	~"¬gum’ts.h
"

8 
	~"liáed®gscÚv”tÜ.h
"

9 
	~"feuts.h
"

10 
	~"·¿mcÚ¡ªts.h
"

11 
	~"qu”yupd©”.h
"

13 cÚ¡ * 
ZZ_TMP_FILE_POSTFIX
;

15 * 
	gaIÅutClu¡”Fe
 = 
NULL
;

16 * 
	gaOuutClu¡”Fe
 = 
NULL
;

19 
boŞ
 
	gaisU£DumpFes
 = 
çl£
;

21 
boŞ
 
	gaisLiáedGibbsW™hClu¡”
 = 
çl£
;

22 
boŞ
 
	gaisLiáedGibbs
 = 
çl£
;

23 
boŞ
 
	gaisClu¡”šg
 = 
çl£
;

24 
boŞ
 
	gaisRªdomizedClu¡”šg
 = 
çl£
;

25 
boŞ
 
	gaisSequ’tŸlClu¡”šg
 = 
çl£
;

27 
boŞ
 
	gaisWMPTPEZ
 = 
çl£
;

28 
boŞ
 
	gaisWMPTPAZ
 = 
çl£
;

30 
boŞ
 
	gaisLIS
 = 
çl£
;

32 
	gad­tiveL—ºšgR©e
 = -1;

33 
	g´İo§lUpd©eIÁ”v®
 = -1;

35 
	gaimd
 = 1;

36 
	gacmode
 = 0;

37 
	g±pÿcheSize
 = 0;

38 
	gabmf
 = -1;

42 
ARGS
 
	gARGS
::
Args
[] =

45 
ARGS
("i", ARGS::
Req
, 
ašMLNFes
,

50 
ARGS
("buºMaxS‹ps", ARGS::
O±
, 
amcmcBuºMaxS‹ps
,

53 
ARGS
("maxS‹ps", ARGS::
O±
, 
amcmcMaxS‹ps
,

56 
ARGS
("maxSecÚds", ARGS::
O±
, 
amcmcMaxSecÚds
,

62 
ARGS
("e", ARGS::
O±
, 
«vid’ûFes
,

66 
ARGS
("r", ARGS::
O±
, 
¬esuÉsFe
,

69 
ARGS
("q", ARGS::
O±
, 
aqu”yP»dsSŒ
,

74 
ARGS
("ic", ARGS::
O±
, 
aIÅutClu¡”Fe
,

78 
ARGS
("oc", ARGS::
O±
, 
aOuutClu¡”Fe
,

83 
ARGS
("lvgc", ARGS::
Tog
, 
aisLiáedGibbsW™hClu¡”
,

87 
ARGS
("lvg", ARGS::
Tog
, 
aisLiáedGibbs
,

91 
ARGS
("şs", ARGS::
Tog
, 
aisClu¡”šg
,

94 
ARGS
("cmode", ARGS::
O±
, 
acmode
,

97 
ARGS
("±³", ARGS::
Tog
, 
aisWMPTPEZ
,

103 
ARGS
("lis", ARGS::
Tog
, 
aisLIS
,

106 
ARGS
("imd", ARGS::
O±
, 
aimd
,

109 
ARGS
("Ì", ARGS::
O±
, 
ad­tiveL—ºšgR©e
,

112 
ARGS
("ui",ARGS::
O±
,
´İo§lUpd©eIÁ”v®
,

114 
ARGS
("ÿche",ARGS::
O±
,
±pÿcheSize
,"[0] cache sizeo be used with PTP Exact Inference"),

116 
ARGS
("bmf",ARGS::
O±
,
abmf
,"[1.25] baseline multiplicative factor for clustering;"

118 
ARGS
()

122 
	$´oûssIÅut
(
Domaš
* 
domaš
, 
MLN
* 
mÊ
, 
GroundP»diÿ‹HashA¼ay
& 
qu”›s
)

124 
¡ršg
 
šMLNFe
, 
wkMLNFe
, 
evid’ûFe
;

125 
SŒšgHashA¼ay
 
qu”yP»dNames
;

126 
SŒšgHashA¼ay
 
owP»dNames
;

127 
SŒšgHashA¼ay
 
cwP»dNames
;

128 
A¼ay
<
¡ršg
> 
cÚ¡FesA¼
;

129 
A¼ay
<
¡ršg
> 
evid’ûFesA¼
;

137 
	`exŒaùFeNames
(
ašMLNFes
, 
cÚ¡FesA¼
);

138 
	`as£¹
(
cÚ¡FesA¼
.
	`size
() >= 1);

139 
šMLNFe
.
	`­³nd
(
cÚ¡FesA¼
[0]);

140 
cÚ¡FesA¼
.
	`»moveI‹m
(0);

141 
	`exŒaùFeNames
(
«vid’ûFes
, 
evid’ûFesA¼
);

143 ià(
aqu”yP»dsSŒ
è
qu”yP»dsSŒ
.
	`­³nd
(aqueryPredsStr);

144 ià(
aqu”yFe
è
qu”yFe
.
	`­³nd
(aqueryFile);

146 ià(
qu”yP»dsSŒ
.
	`Ëngth
(è=ğ0 && 
qu”yFe
.length() == 0 &&

147 (
aisLiáedGibbs
 || 
aisLiáedGibbsW™hClu¡”
))

148 { 
cout
 << "NØqu”y…»diÿ‹ ¥ecif›d" << 
’dl
;  -1; }

152 ià(
qu”yP»dsSŒ
.
	`Ëngth
(è> 0 || 
qu”yFe
.length() > 0)

154 ià(!
	`exŒaùP»dNames
(
qu”yP»dsSŒ
, &
qu”yFe
, 
qu”yP»dNames
))  -1;

158 ià(
aO³nWÜldP»dsSŒ
)

160 ià(!
	`exŒaùP»dNames
(
	`¡ršg
(
aO³nWÜldP»dsSŒ
), 
NULL
, 
owP»dNames
))

162 
	`as£¹
(
owP»dNames
.
	`size
() > 0);

166 ià(
aClo£dWÜldP»dsSŒ
)

168 ià(!
	`exŒaùP»dNames
(
	`¡ršg
(
aClo£dWÜldP»dsSŒ
), 
NULL
, 
cwP»dNames
))

170 
	`as£¹
(
cwP»dNames
.
	`size
() > 0);

171 ià(!
	`checkQu”yP»dsNÙInClo£dWÜldP»ds
(
qu”yP»dNames
, 
cwP»dNames
))

177 
cout
 << "R—dšg fÜmuÏ ªdƒvid’û…»diÿ‹s..." << 
’dl
;

180 
¡ršg
::
size_ty³
 
b¦ash
 = 
šMLNFe
.
	`rfšd
("/");

181 
¡ršg
 
tmp
 = (
b¦ash
 =ğ¡ršg::
Åos
) ?

182 
šMLNFe
:šMLNFe.
	`sub¡r
(
b¦ash
+1,šMLNFe.
	`Ëngth
()-bslash-1);

183 
buf
[100];

184 
	`¥rštf
(
buf
, "%s%d%s", 
tmp
.
	`c_¡r
(), 
	`g‘pid
(), 
ZZ_TMP_FILE_POSTFIX
);

185 
wkMLNFe
 = 
buf
;

186 
	`cİyFeAndAµ’dDbFe
(
šMLNFe
, 
wkMLNFe
,

187 
evid’ûFesA¼
, 
cÚ¡FesA¼
);

190 
boŞ
 
addUn™CÏu£s
 = 
çl£
;

191 
boŞ
 
mu¡HaveWtOrFuÎStİ
 = 
Œue
;

192 
boŞ
 
w¬nAboutDupGndP»ds
 = 
Œue
;

193 
boŞ
 
æWtsOfFl³dCÏu£
 = 
Œue
;

194 
boŞ
 
®lP»dsExû±Qu”›sA»CW
 = 
çl£
;

196 
Domaš
* 
fÜCheckšgPlusTy³s
 = 
NULL
;

200 
cout
<<
wkMLNFe
.
	`c_¡r
()<<
’dl
;

201 ià(!
	`runYYP¬£r
(
mÊ
, 
domaš
, 
wkMLNFe
.
	`c_¡r
(), 
®lP»dsExû±Qu”›sA»CW
,

202 &
owP»dNames
, &
cwP»dNames
, &
qu”yP»dNames
, 
addUn™CÏu£s
,

203 
w¬nAboutDupGndP»ds
, 0, 
mu¡HaveWtOrFuÎStİ
,

204 
fÜCheckšgPlusTy³s
, 
Œue
, 
æWtsOfFl³dCÏu£
))

206 
	`uÆšk
(
wkMLNFe
.
	`c_¡r
());

208 
	`ex™
(-1);

211 
	`uÆšk
(
wkMLNFe
.
	`c_¡r
());

212 cÚ¡ 
FÜmuÏAndCÏu£sA¼ay
* 
fÿ
 = 
mÊ
->
	`g‘FÜmuÏAndCÏu£sA¼ay
();

213 
i
 = 0; i < 
fÿ
->
	`size
(); i++)

215 
IndexCÏu£HashA¼ay
* 
šdexCÏu£s
 = (*
fÿ
)[
i
]->indexClauses;

216 
j
 = 0; j < 
šdexCÏu£s
->
	`size
(); j++)

218 
idx
 = (*
šdexCÏu£s
)[
j
]->
šdex
;

219 
CÏu£
* 
c
 = (*
šdexCÏu£s
)[
j
]->
şau£
;

220 
cout
 << "idx " << 
idx
 << ": ";

221 
c
->
	`´štW™hWtAndSŒV¬
(
cout
, 
domaš
);

222 
cout
 << 
’dl
;

228 
A¼ay
<> 
®lP»dGndšgsA»Qu”›s
;

229 
A¼ay
<A¼ay<
P»diÿ‹
* >* >* 
qu”yFÜmuÏs
 = 
Ãw
 Array<Array<Predicate*> *>;

230 ià(
qu”yFe
.
	`Ëngth
() > 0)

232 
cout
 << "Reading query…redicateshat‡re specified in query file..."

233 << 
’dl
;

234 
boŞ
 
ok
 = 
	`ü—‹Qu”yFeP»ds
(
qu”yFe
, 
domaš
, domaš->
	`g‘DB
(),

235 &
qu”›s
, &
knownQu”›s
, 
qu”yFÜmuÏs
);

236 ià(!
ok
è{ 
cout
<<"FaedØü—‹ qu”y…»diÿ‹s."<<
’dl
; 
	`ex™
(-1); }

239 
®lP»dGndšgsA»Qu”›s
.
	`growToSize
(
domaš
->
	`g‘NumP»diÿ‹s
(), 
çl£
);

240 ià(
qu”yP»dsSŒ
.
	`Ëngth
() > 0)

244 
GroundP»diÿ‹HashA¼ay
 
uÃP»ds
;

245 
GroundP»diÿ‹HashA¼ay
 
kÃP»ds
;

246 
boŞ
 
ok
 = 
	`ü—‹ComLšeQu”yP»ds
(
qu”yP»dsSŒ
, 
domaš
,

247 
domaš
->
	`g‘DB
(), &
uÃP»ds
, &
kÃP»ds
,

248 &
®lP»dGndšgsA»Qu”›s
, 
qu”yFÜmuÏs
);

249 ià(!
ok
è{ 
cout
<<"FaedØü—‹ qu”y…»diÿ‹s."<<
’dl
; 
	`ex™
(-1); }

251 
qu”›s
 = 
uÃP»ds
;

254 
	}
}

256 
	$runLIS
(
LiáedAlgsCÚv”tÜ
* 
liáedAlgsCÚv”tÜ
,
boŞ
 
compu‹Z
 = 
Œue
)

259 
LvrP¬ams
* 
·¿ms
 = 
Ãw
 LvrParams;

260 
·¿ms
->
maxS‹ps
 = 
amcmcMaxS‹ps
;

261 
·¿ms
->
maxSecÚds
 = 
amcmcMaxSecÚds
;

262 
·¿ms
->
u£DumpFes
 = 
aisU£DumpFes
;

263 if(
¬esuÉsFe
)

264 
·¿ms
->
»suÉFe
 = 
¬esuÉsFe
;

266 
·¿ms
->
»suÉFe
 = 
RESULTFILE
;

267 if(
aimd
 == 0)

268 
·¿ms
->
§m¶šgMode
 = 
EINFORMED
;

269 if(
aimd
 == 1)

270 
·¿ms
->
§m¶šgMode
 = 
EBINOMIAL
;

272 
·¿ms
->
§m¶šgMode
 = 
EUNIFORM
;

273 
·¿ms
->
Ë¬nšgR©e
 = 
ad­tiveL—ºšgR©e
;

274 
·¿ms
->
´İo§lUpd©eIÁ”v®
 =…roposalUpdateInterval;

275 
·¿ms
->
isWeightL—ºšg
 = 
çl£
;

276 if(
compu‹Z
)

277 
liáedAlgsCÚv”tÜ
->
	`doLISAµroxZ
(
·¿ms
);

279 
liáedAlgsCÚv”tÜ
->
	`doLISAµroxM¬
(
·¿ms
);

280 
d–‘e
 
·¿ms
;

281 
	}
}

283 
	$runLBGibbs
(
LiáedAlgsCÚv”tÜ
* 
liáedAlgsCÚv”tÜ
)

285 
LvrP¬ams
* 
·¿ms
 = 
Ãw
 LvrParams;

287 
·¿ms
->
buºMaxS‹ps
 = 
amcmcBuºMaxS‹ps
;

288 
·¿ms
->
buºMšS‹ps
 = 
amcmcBuºMšS‹ps
;

289 
·¿ms
->
maxS‹ps
 = 
amcmcMaxS‹ps
;

290 
·¿ms
->
maxSecÚds
 = 
amcmcMaxSecÚds
;

291 
·¿ms
->
u£DumpFes
 = 
aisU£DumpFes
;

292 
·¿ms
->
ba£lšeCo¡MuÉliÿtiveFaùÜ
 = 
abmf
;

293 if(
¬esuÉsFe
)

294 
·¿ms
->
»suÉFe
 = 
¬esuÉsFe
;

296 
·¿ms
->
»suÉFe
 = 
RESULTFILE
;

297 if(
aIÅutClu¡”Fe
)

298 
·¿ms
->
šClu¡”Fe
 = 
aIÅutClu¡”Fe
;

300 
cout
<<"IÅuˆşu¡” fi nÙ s³cif›d..usšg deçuÉ "<<
CLUSTERFILE
<<
’dl
;

301 if(
aOuutClu¡”Fe
)

302 
·¿ms
->
outClu¡”Fe
 = 
aOuutClu¡”Fe
;

304 if(
aisLiáedGibbs
)

305 
·¿ms
->
İ”©iÚMode
 = 
ESAMPLER
;

306 if(
aisClu¡”šg
)

307 
·¿ms
->
İ”©iÚMode
 = 
ECLUSTERING
;

309 
·¿ms
->
İ”©iÚMode
 = 
EPARALLEL
;

311 if(
acmode
==0)

312 
·¿ms
->
şu¡”šgMode
 = 
ESEQUENTIAL
;

314 
·¿ms
->
şu¡”šgMode
 = 
ERANDOM
;

315 
·¿ms
->
isWeightL—ºšg
 = 
çl£
;

316 
liáedAlgsCÚv”tÜ
->
	`doLBGM¬
(
·¿ms
);

317 
d–‘e
 
·¿ms
;

319 
	}
}

320 
	$runPTP
(
LiáedAlgsCÚv”tÜ
* 
liáedAlgsCÚv”tÜ
)

323 
LvrP¬ams
* 
·¿ms
 = 
Ãw
 LvrParams;

324 
·¿ms
->
maxS‹ps
 = 
amcmcMaxS‹ps
;

325 
·¿ms
->
maxSecÚds
 = 
amcmcMaxSecÚds
;

326 if(
¬esuÉsFe
)

327 
·¿ms
->
»suÉFe
 = 
¬esuÉsFe
;

329 
·¿ms
->
»suÉFe
 = 
RESULTFILE
;

331 if(
aisWMPTPAZ
)

332 
liáedAlgsCÚv”tÜ
->
	`doWMPTPAµroxZ
(
·¿ms
);

335 
·¿ms
->
±pCacheSize
 = 
±pÿcheSize
;

336 
liáedAlgsCÚv”tÜ
->
	`doWMPTPExaùZ
(
·¿ms
);

338 
d–‘e
 
·¿ms
;

339 
	}
}

349 
	$maš
(
¬gc
, * 
¬gv
[])

352 
amcmcBuºMaxS‹ps
 = -1;

353 
amcmcBuºMšS‹ps
 = -1;

354 
amcmcMaxS‹ps
 = -1;

355 
amcmcMaxSecÚds
 = -1;

356 
ARGS
::
	`·r£
(
¬gc
, 
¬gv
, &
cout
);

357 
Tim”
 
tim”
;

358 
begSec
 = 
tim”
.
	`time
();

359 
A¼ay
<
P»diÿ‹
 *> 
qu”yP»ds
;

360 
A¼ay
<
TruthV®ue
> 
qu”yP»dV®ues
;

361 
GroundP»diÿ‹HashA¼ay
 
qu”›s
;

362 
Domaš
* 
domaš
 = 
Ãw
 Domain;

363 
MLN
* 
mÊ
 = 
Ãw
 
	`MLN
();

364 if(
	`´oûssIÅut
(
domaš
,
mÊ
,
qu”›s
)==-1)

366 
cout
<<"E¼Ü…roûssšg iÅut..ex™šg"<<
’dl
;

369 
LiáedAlgsCÚv”tÜ
* 
liáedAlgsCÚv”tÜ
 = 
Ãw
 
	`LiáedAlgsCÚv”tÜ
(
mÊ
,
domaš
,
qu”›s
);

370 if(
aisLIS
)

372 
boŞ
 
compu‹Z
=
Œue
;

374 if(
qu”›s
.
	`size
() > 0)

375 
compu‹Z
=
çl£
;

376 
	`runLIS
(
liáedAlgsCÚv”tÜ
,
compu‹Z
);

378 if(
aisLiáedGibbsW™hClu¡”
 || 
aisLiáedGibbs
 || 
aisClu¡”šg
)

380 
	`runLBGibbs
(
liáedAlgsCÚv”tÜ
);

382 if(
aisWMPTPEZ
 || 
aisWMPTPAZ
)

384 
	`runPTP
(
liáedAlgsCÚv”tÜ
);

388 if(
qu”›s
.
	`size
() == 0)

390 
cout
<<"NØ®gÜ™hm o¸qu”y i ¥ecif›dØbrun. RuÂšg LISØcompu‹‡µroxZ.."<<
’dl
;

391 
aisLIS
 = 
Œue
;

392 
	`runLIS
(
liáedAlgsCÚv”tÜ
);

396 
cout
<<"NØ®gÜ™hm i ¥ecif›dØbrun. RuÂšg Liáed Gibb Sam¶šgØcompu‹ M¬gš®s.."<<
’dl
;

397 
aisLiáedGibbsW™hClu¡”
=
Œue
;

398 
	`runLBGibbs
(
liáedAlgsCÚv”tÜ
);

401 ià(
domaš
è
d–‘e
 domain;

402 if(
mÊ
è
d–‘e
 mln;

403 
d–‘e
 
liáedAlgsCÚv”tÜ
;

404 
cout
 << "tÙ®imk’ = "; 
Tim”
::
	`´štTime
(cout, 
tim”
.
	`time
()-
begSec
);

405 
cout
 << 
’dl
;

407 
	}
}

	@liftedinfer/liftedweightedmodelcounting/includes/cache.h

1 #iâdeà
CACHE__


2 
	#CACHE__


	)

3 
	~"lvrmÊ.h
"

4 
	~"unif›r.h
"

6 
	sLCacheEÁry


8 
	mh™s
;

9 
	mveùÜ
<
	mWCÏu£
*> 
	mCNF
;

10 
LogDoubË
 
	mwCouÁ
;

11 
LCacheEÁry
(
veùÜ
<
WCÏu£
*> 
CNF_
,
LogDoubË
 
wCouÁ_
);

12 
boŞ
 
	md–‘eFÏg
;

13 ~
LCacheEÁry
();

16 
	sLCache


18 
boŞ
 
addToCache
(
veùÜ
<
WCÏu£
*> 
CNF
, 
LogDoubË
 
wCouÁ
);

19 
boŞ
 
fšdInCache
(
veùÜ
<
WCÏu£
*> 
CNF
, 
LogDoubË
& 
v®
);

20 
ş—nCache
(
numI‹msToRemove
);

21 
´štCache
();

22 
LCache
(
LvrMLN
& 
mÊ_
,
ÿcheSize_
 = 
CACHESIZE
);

23 ~
LCache
();

24 
	m´iv©e
:

25 
veùÜ
<veùÜ<
LCacheEÁry
*> > 
ÿcheIndex
;

26 
	mveùÜ
<
	mLCacheEÁry
*> 
	mÿcheEÁr›s
;

27 
	mveùÜ
<> 
	mmo¡ReûÁLi¡
;

28 
	mLvrMLN
& 
	mmÊ
;

29 
	mmo¡ReûÁCouÁ”
;

30 
	mÿcheSize
;

31 
	mcu¼’tIndex
;

32 
	msucûssfulH™s
;

33 
	mmis£s
;

34 
	mh™s
;

35 
	mm¬kS¹
;

36 
	mm¬kEnd
;

37 
	mnumEÁr›s
;

38 
LUnif›r
* 
	munif›r
;

39 
boŞ
 
isFuÎ
()

41  
	mnumEÁr›s
 =ğ
ÿcheEÁr›s
.
size
();

	@liftedinfer/liftedweightedmodelcounting/includes/extensions.h

1 #iâdeà
__LEXTENSIONS__


2 
	#__LEXTENSIONS__


	)

3 
	~"lvrmÊ.h
"

4 
	~"ÿche.h
"

6 
	sLEx‹nsiÚs


8 
LogDoubË
 
un™Prİag©iÚ
(
veùÜ
<
WCÏu£
*>& 
CNF
,
boŞ
 
±³xaùm¬
=
çl£
);

9 
boŞ
 
g‘FromCache
(
veùÜ
<
WCÏu£
*> 
CNF
, 
LogDoubË
& 
v®
);

10 
¡ÜeToCache
(
veùÜ
<
WCÏu£
*> 
CNF
, 
LogDoubË
& 
v®
);

11 
LEx‹nsiÚs
(
LvrMLN
& 
mÊ_
);

12 
£tCachšg
(
ÿcheSize
)

14 if(
	mÿcheSize
 > 0)

16 if(
	mÿcheSize
 > 
	mRAND_MAX
)

17 
	mÿcheSize
 = 
CACHESIZE
;

18 
	mÿche
 = 
Ãw
 
LCache
(
mÊ
,
ÿcheSize
);

21 ~
LEx‹nsiÚs
();

22 
	m´iv©e
:

23 
LCache
* 
ÿche
;

24 
	mLvrMLN
& 
	mmÊ
;

25 
LogDoubË
 
g‘Un™CÏu£WeightWMPTP
(
WCÏu£
* 
şau£
);

	@liftedinfer/liftedweightedmodelcounting/includes/ptpsearch.h

1 #iâdeà
LPTP_SEARCH_H_


2 
	#LPTP_SEARCH_H_


	)

4 
	~<veùÜ
>

5 
	~<io¡»am
>

6 
	~<£t
>

7 
	~<m­
>

8 
usšg
 
Çme¥aû
 
	g¡d
;

9 
	~"lvrmÊ.h
"

10 
	~"decompo£r.h
"

11 
	~"¥l™‹r.h
"

12 
	~"logdoubË.h
"

13 
	~"ex‹nsiÚs.h
"

14 
	~"heuri¡ics.h
"

15 
	~"nÜm®iz”.h
"

16 
	~"şu¡”ut.h
"

17 
	~"lv·¿ms.h
"

18 
	~"lv½Œ“§m¶šg.h
"

19 
	~"lv½£¬chŒ“.h
"

21 
	#SPLITCHUNKSIZE
 25

	)

22 
	sLPTPS—rch


24 
	mLvrMLN
& 
	mmÊ
;

25 
LS¶™‹r
* 
	m¥l™‹r
;

26 
LDecompo£r
* 
	mdecompo£r
;

27 
LEx‹nsiÚs
* 
	mex‹nsiÚs
;

28 
LHeuri¡ics
* 
	mheuri¡ics
;

29 
LNÜm®iz”
* 
	mnÜm®iz”
;

30 
time_t
 
	m¡¬‰ime
;

31 
boŞ
 
	mdoun™´İag©e
;

33 
LogDoubË
 
¡¬tAµroxWeigh‹dMod–CouÁšg
(
LvrP¬ams
* 
·¿ms
);

34 
LogDoubË
 
¡¬tExaùWeigh‹dMod–CouÁšg
(
LvrP¬ams
* 
·¿ms
);

35 
£³¿‹DisjoštCNF
(
veùÜ
<
WCÏu£
*> 
CNF
, veùÜ<veùÜ<WCÏu£*> >& 
disjoštCNFLi¡
);

36 
LPTPS—rch
(
LvrMLN
& 
mÊ
);

37 ~
LPTPS—rch
()

39 
d–‘e
 
	m¥l™‹r
;

40 
d–‘e
 
	mdecompo£r
;

41 
d–‘e
 
	mex‹nsiÚs
;

42 
d–‘e
 
	mheuri¡ics
;

43 
d–‘e
 
	mnÜm®iz”
;

44 
d–‘e
 
	mlvrPTPT»eSam¶šg
;

45 
d–‘e
 
	mlv½S—rchT»e
;

48 
	m´iv©e
:

49 
boŞ
 
decompo£CNF
(
veùÜ
<
WCÏu£
*>& 
CNF
,& 
pow”FaùÜ
);

50 
LogDoubË
 
CNFWeight
(
veùÜ
<
WCÏu£
*>& 
CNF
,
£t
<>* 
dÚtC¬eQu”›s
=
NULL
);

51 
CheckCNFS©isf›d
(
veùÜ
<
WCÏu£
*>& 
CNF
,& 
§tP”ûÁ
);

53 
LogDoubË
 
weigh‹dMod–CouÁ
(
veùÜ
<
WCÏu£
*>& 
CNF
,
LvrPTPNode
* 
·»Á
=
NULL
,
·»ÁB¿nchNo
=-1);

54 
LogDoubË
 
weigh‹dMod–CouÁAµrox
(
veùÜ
<
WCÏu£
*>& 
CNF
);

55 
	mid
;

56 
LvrPTPT»eSam¶šg
* 
	mlvrPTPT»eSam¶šg
;

57 
LvrPTPS—rchT»e
* 
	mlv½S—rchT»e
;

58 
CheckCNFS©isf›dW™hQu”›s
(
veùÜ
<
WCÏu£
*>& 
CNF
);

	@liftedinfer/liftedweightedmodelcounting/includes/resolver.h

1 #iâdeà
__LRESOLVER__


2 
	#__LRESOLVER__


	)

3 
	~"lvrmÊ.h
"

4 
	sLResŞv”


6 
g‘M©chšgT”ms
(
WCÏu£
* 
şau£
,
Atom
* 
©om
, 
veùÜ
<
LvrT”m
*>& 
‹rms
);

7 
³rmu‹
(
veùÜ
<
LvrT”m
*> 
‹rms
, veùÜ<veùÜ<> >& 
³rmu‹dDomašLi¡
);

8 
g‘Index
(
veùÜ
<veùÜ<> > 
®lGroundšgs
, 
Atom
* 
groundedAtom
);

9 
»sŞveGroundCÏu£
(
WCÏu£
* 
şau£
,
´ediÿ‹Id
, 
veùÜ
<> 
ŒuthVeùÜ
,

10 
veùÜ
<veùÜ<> > 
®lGroundšgs
, 
WCÏu£
& 
»sŞvedCÏu£
);

11 
doFuÎGroundšg
(
veùÜ
<
WCÏu£
*> 
CNF
,
Atom
* 
©om
,veùÜ<WCÏu£*>& 
groundCNF
,

12 
veùÜ
<veùÜ<> >& 
®lGroundšgs
,& 
numGroundšgs
);

13 
»duûDomašs
(
WCÏu£
* 
şau£
, 
Atom
* 
©om
, 
veùÜ
<> 
ŒuthV®ues
,

14 
veùÜ
<
WCÏu£
*>& 
domašModif›dCÏu£s
, 
sšgËtÚIndex
);

15 
»duûDomašsS–fJošs
(
WCÏu£
* 
şau£
, 
Atom
* 
©om
, 
veùÜ
<> 
ŒuthV®ues
,

16 
veùÜ
<
WCÏu£
*>& 
domašModif›dCÏu£s
, 
sšgËtÚIndex
);

	@liftedinfer/liftedweightedmodelcounting/includes/sampler.h

1 #iâdeà
__LSAMPLER__


2 
	#__LSAMPLER__


	)

3 
	~<veùÜ
>

4 
	~<io¡»am
>

5 
usšg
 
Çme¥aû
 
	g¡d
;

6 
	~"logdoubË.h
"

7 
	#DTABLESIZE
 100

	)

9 
	sLSam¶”


11 
doUnifÜmDi¡Sam¶šg
(
domašSize
, 
veùÜ
<
boŞ
> 
com¶‘edGroups
, 
com¶‘edCouÁ
,

12 
LogDoubË
& 
´obOfSam¶e
, & 
numTrue
, 
veùÜ
<>& 
ŒuthV®ue
);

13 
LSam¶”
();

14 ~
LSam¶”
();

15 
	m´iv©e
:

16 
veùÜ
<veùÜ<
LogDoubË
> > 
cStÜedDi¡ributiÚ
;

17 
compu‹CumuÏtiveDi¡ributiÚ
(
domašSize
,
veùÜ
<
LogDoubË
>& 
cdf
);

18 
compu‹Di¡ributiÚTabË
();

	@liftedinfer/liftedweightedmodelcounting/includes/splitter.h

1 #iâdeà
LSPLITTER_H_


2 
	#LSPLITTER_H_


	)

3 
	~<¡dlib.h
>

4 
	~<time.h
>

5 
	~<®gÜ™hm
>

6 
	~<veùÜ
>

7 
	~<io¡»am
>

8 
	~<£t
>

9 
	~<m­
>

10 
usšg
 
Çme¥aû
 
	g¡d
;

12 
	~"lvrmÊ.h
"

13 
	~"§m¶”.h
"

14 
	~"»sŞv”.h
"

16 
	sLS¶™‹r


18 
LSam¶”
* 
	m§m¶”
;

19 
LResŞv”
* 
	m»sŞv”
;

20 
LS¶™‹r
();

21 
boŞ
 
doAµroxS¶™
(
veùÜ
<
WCÏu£
*> 
CNF
,
Atom
* 
©om
, 
numGroundšgs
, veùÜ<boŞ> 
com¶‘edGroups
, 
com¶‘edCouÁ
,

22 
LogDoubË
& 
´obOfSam¶e
, & 
numTrue
, 
veùÜ
<veùÜ<
WCÏu£
*> >& 
»sŞvedLi¡
);

23 
doFuÎGroundšg
(
veùÜ
<
WCÏu£
*> 
CNF
,
Atom
* 
©om
,veùÜ<WCÏu£*>& 
groundCNF
,veùÜ<veùÜ<> >& 
®lGroundšgs
,& 
numGroundšgs
);

24 
doCom¶‘eS¶™InChunks
(
veùÜ
<
WCÏu£
*> 
groundCNF
,
©omId
, veùÜ<veùÜ<> > 
®lGroundšgs
, 
numGroundšgs
,

25 
veùÜ
<veùÜ<
WCÏu£
*> >& 
»sŞvedCNFLi¡
,
¡¬Šum
, 
chunkSize
,
boŞ
& 
dÚe
);

26 
doLiáedS¶™
(
veùÜ
<
WCÏu£
*> 
CNF
, 
Atom
* 
©om
, veùÜ<veùÜ<WCÏu£*> >& 
»sŞvedCNFLi¡
,
sšgËtÚIndex
);

27 
doLiáedS¶™S–fJošs
(
veùÜ
<
WCÏu£
*> 
CNF
, 
Atom
* 
©om
, veùÜ<veùÜ<WCÏu£*> >& 
»sŞvedCNFLi¡
,
sšgËtÚIndex
);

28 ~
LS¶™‹r
();

	@liftedinfer/liftedweightedmodelcounting/includes/unifier.h

1 #iâdeà
LUNIFIER__


2 
	#LUNIFIER__


	)

3 
	~"lvrmÊ.h
"

4 
	sLUnif›r


6 
boŞ
 
CNFUnify
(
veùÜ
<
WCÏu£
*> 
CNF1
, veùÜ<WCÏu£*> 
CNF2
);

7 
LUnif›r
(
LvrMLN
& 
mÊ_
):
mÊ
(mln_){}

8 
LvrMLN
& 
mÊ
;

9 
	m´iv©e
:

10 
g‘T”mR–©iÚs
(
WCÏu£
* 
şau£
,
veùÜ
<
LvrT”m
*>& 
‹rms
, veùÜ<veùÜ<> >& 
pos™iÚs
);

11 
boŞ
 
şau£Unify
(
WCÏu£
* 
c1
, WCÏu£* 
c2
,
m­
<,
veùÜ
<> >& 
Üigš®IdCÚ¡s
);

	@liftedinfer/liftedweightedmodelcounting/includes/wmconvertor.h

1 #iâdeà
__LWM_CONVERTOR__


2 
	#__LWM_CONVERTOR__


	)

3 
	~"lvrmÊ.h
"

8 
	sAtomLoÿtiÚ


10 
	mşau£Index
;

11 
	m©omIndex
;

12 
	m‹rmIndex
;

13 
AtomLoÿtiÚ
(
şau£Index_
,
©omIndex_
,
‹rmIndex_
):
şau£Index
(şau£Index_),
©omIndex
×tomIndex_),
‹rmIndex
(termIndex_){}

14 
boŞ
 
isEqu®
(
AtomLoÿtiÚ
* 
©
)

16 if(
	m©
->
	m©omIndex
 =ğ
©omIndex
 && 
©
->
şau£Index
 =ğşau£Index &&‡t->
‹rmIndex
 ==ermIndex)

17  
Œue
;

19  
	mçl£
;

25 
	sLWMCÚv”tÜ


27 
	mLvrMLN
& 
	mmÊ
;

28 
LWMCÚv”tÜ
(
LvrMLN
& 
mÊ_
):
mÊ
(mln_)

30 
cÚv”siÚFaùÜ
 = 
LogDoubË
(1,
çl£
);

32 
cÚv”tMLN
();

33 
upd©eMLN
(
fÜmuÏIndex
,
symbŞIndex
,
veùÜ
<
WCÏu£
*>& 
ÃwCÏu£¡oAdd
);

35 
	mveùÜ
<
	mWCÏu£
*> 
g’”©eAtomCombš©iÚs
(
šdex
,
¡¬tIndex
,
veùÜ
<veùÜ<
AtomLoÿtiÚ
*> >& 
loÿtiÚs
);

36 
g‘NewAtomT”ms
(
fÜmuÏIndex
,
veùÜ
<
LvrT”m
*>& 
‹rms
,veùÜ<veùÜ<
AtomLoÿtiÚ
*> >& 
loÿtiÚIndex
);

37 
­³ndNewP»diÿ‹1
(
veùÜ
<
LvrT”m
*> 
ÃwT”ms
, veùÜ<veùÜ<
AtomLoÿtiÚ
*> > 
‹rmLocs
,veùÜ<
WCÏu£
*>& 
şau£s
,
P»diÿ‹SymbŞ
* 
ps
);

38 
­³ndNewP»diÿ‹
(
veùÜ
<
LvrT”m
*> 
ÃwT”ms
, veùÜ<veùÜ<
AtomLoÿtiÚ
*> > 
‹rmLocs
,

39 
veùÜ
<veùÜ<
AtomLoÿtiÚ
*> > 
©omLocs
,veùÜ<
WCÏu£
*>& 
şau£s
,
P»diÿ‹SymbŞ
* 
ps
);

40 
toSymbŞIndex
(
´edId
);

43 
AtomLoÿtiÚ
* 
g‘M©chedLoÿtiÚ
(
veùÜ
<AtomLoÿtiÚ*> 
©omLocs
, veùÜ<AtomLoÿtiÚ*> 
‹rmLocs
,

44 
WCÏu£
* 
şau£
);

45 
LogDoubË
 
	mcÚv”siÚFaùÜ
;

	@liftedinfer/liftedweightedmodelcounting/src/cache.cpp

1 
	~"ÿche.h
"

2 
	~"ş—nuputs.h
"

4 
	gLCacheEÁry
::
LCacheEÁry
(
veùÜ
<
WCÏu£
*> 
CNF_
,
LogDoubË
 
wCouÁ_
):
wCouÁ
(wCouÁ_),
d–‘eFÏg
(
çl£
),
	$h™s
(0)

7 
LvrMLN
::
	`cİyAÎCÏu£s
(
CNF_
,
CNF
);

8 
	}
}

10 
	gLCacheEÁry
::~
	$LCacheEÁry
()

12 
	`ş—nup
(
CNF
);

13 
	}
}

16 
	gLCache
::
	$LCache
(
LvrMLN
& 
mÊ_
,
ÿcheSize_
):
	`mÊ
(mÊ_),
	`cu¼’tIndex
(0),
	`sucûssfulH™s
(0),
	`mis£s
(0),
	`h™s
(0),
	`numEÁr›s
(0),
	$mo¡ReûÁCouÁ”
(0)

18 
cout
<<"In™Ÿlizšg cachw™h sizğ"<<
ÿcheSize_
<<
’dl
;

19 
ÿcheEÁr›s
.
	`»size
(
ÿcheSize_
);

20 
i
=0;i<
ÿcheEÁr›s
.
	`size
();i++)

22 
ÿcheEÁr›s
[
i
] = 
NULL
;

24 
unif›r
 = 
Ãw
 
	`LUnif›r
(
mÊ
);

25 
mo¡ReûÁLi¡
.
	`»size
(
MOSTRECENTSIZE
);

26 
ÿcheIndex
.
	`»size
(
MAXCNFSIZE
);

27 
	}
}

28 
	gLCache
::~
	$LCache
()

30 
	`ş—nup
(
ÿcheEÁr›s
);

31 
ÿcheIndex
.
	`ş—r
();

32 
d–‘e
 
unif›r
;

33 
	}
}

35 
boŞ
 
	gLCache
::
addToCache
(
veùÜ
<
WCÏu£
*> 
CNF
, 
LogDoubË
 
wCouÁ
)

37 if(
	gCNF
.
size
(è> 
	gMAXCNFSIZE
 || CNF.size() == 0)

38  
çl£
;

39 if(!
isFuÎ
())

41 
	gi
=0;i<
	gÿcheEÁr›s
.
size
();i++)

43 if(
	gÿcheEÁr›s
[
i
] =ğ
NULL
)

45 
LCacheEÁry
* 
lc
 = 
Ãw
 LCacheEÁry(
CNF
,
wCouÁ
);

46 
	gÿcheEÁr›s
[
i
] = 
lc
;

47 
	gnumEÁr›s
++;

48 if(
	gmo¡ReûÁCouÁ”
 >ğ
MOSTRECENTSIZE
)

49 
mo¡ReûÁCouÁ”
 = 0;

50 
	gmo¡ReûÁLi¡
[
mo¡ReûÁCouÁ”
++] = 
i
;

51 if(
isFuÎ
())

53 
	gmis£s
 = 0;

54 
	gh™s
 = 0;

56 
	gÿcheIndex
[
CNF
.
size
()-1].
push_back
(
ÿcheEÁr›s
[
i
]);

62  
	gŒue
;

65 
boŞ
 
	gLCache
::
fšdInCache
(
veùÜ
<
WCÏu£
*> 
CNF
, 
LogDoubË
& 
v®
)

67 if(
	gCNF
.
size
(è> 
	gMAXCNFSIZE
 || CNF.size() == 0)

68  
çl£
;

70 
	gveùÜ
<
	gLCacheEÁry
*> 
	g‹mpCache
 = 
ÿcheIndex
[
CNF
.
size
() - 1];

72 
	gi
=0;i<
	g‹mpCache
.
size
();i++)

74 if(
	g‹mpCache
[
i
])

76 if(
	gunif›r
->
CNFUnify
(
‹mpCache
[
i
]->
CNF
,CNF))

78 
	gv®
 = 
‹mpCache
[
i
]->
wCouÁ
;

79 
	g‹mpCache
[
i
]->
	gh™s
++;

80 
	gsucûssfulH™s
++;

81 #ifdeà
__DEBUG_PRINT__


82 
	gcout
<<"CachH™ "<<
	gi
<<
	g’dl
;

83 
	gj
=0;j<
	g‹mpCache
[
i
]->
	gCNF
.
size
();j++)

85 if(
	g‹mpCache
[
i
]->
	gCNF
[
j
]->
	g§tisf›d
)

86 
	gcout
<<"Satisfied V ";

87 
	g‹mpCache
[
i
]->
	gCNF
[
j
]->
´št
();

89 
	gcout
<<"******************"<<
	g’dl
;

90 
	gj
=0;j<
	gCNF
.
size
();j++)

92 if(
	gCNF
[
j
]->
	g§tisf›d
)

93 
	gcout
<<"Satisfied V ";

94 
	gCNF
[
j
]->
´št
();

96 
	gcout
<<"suûsssfuÈh™ƒnd"<<
	g’dl
;

98 
	gh™s
++;

99  
	gŒue
;

103 
	gmis£s
++;

104 if(
isFuÎ
(è&& ()
	gmis£s
/()(mis£s+
	gh™s
) > 0.5)

106 
ş—nCache
(0);

107 
	gh™s
 = 0;

108 
	gmis£s
 = 0;

110  
	gçl£
;

113 
	gLCache
::
	$ş—nCache
(
numI‹msToRemove
)

116 
i
=0;i<
ÿcheEÁr›s
.
	`size
();i++)

118 if(
ÿcheEÁr›s
[
i
])

120 if(
ÿcheEÁr›s
[
i
]->
h™s
 == 0)

123 
šdex
 = 
ÿcheEÁr›s
[
i
]->
CNF
.
	`size
() - 1;

124 
j
=0;j<
ÿcheIndex
[
šdex
].
	`size
();j++)

126 if(
ÿcheEÁr›s
[
i
] =ğ
ÿcheIndex
[
šdex
].
	`©
(
j
))

128 
ÿcheIndex
[
šdex
].
	`©
(
j
èğ
NULL
;

132 
d–‘e
 
ÿcheEÁr›s
[
i
];

133 
ÿcheEÁr›s
[
i
]=
NULL
;

134 
numEÁr›s
--;

138 if(
numEÁr›s
 =ğ
ÿcheEÁr›s
.
	`size
())

141 
i
=0;i<
ÿcheEÁr›s
.
	`size
();i++)

143 
boŞ
 
found
 = 
çl£
;

144 
j
=0;j<
mo¡ReûÁLi¡
.
	`size
();j++)

146 if(
i
==
mo¡ReûÁLi¡
[
j
])

148 
found
 = 
Œue
;

152 if(!
found
)

155 
šdex
 = 
ÿcheEÁr›s
[
i
]->
CNF
.
	`size
() - 1;

156 
j
=0;j<
ÿcheIndex
[
šdex
].
	`size
();j++)

158 if(
ÿcheEÁr›s
[
i
] =ğ
ÿcheIndex
[
šdex
].
	`©
(
j
))

160 
ÿcheIndex
[
šdex
].
	`©
(
j
èğ
NULL
;

163 } 
d–‘e
 
ÿcheEÁr›s
[
i
];

164 
ÿcheEÁr›s
[
i
]=
NULL
;

165 
numEÁr›s
--;

169 #ifdeà
__DEBUG_PRINT__


170 
cout
<<"ÿchş—Ãd,‚um’Œ› Ëá="<<
numEÁr›s
<<
’dl
;

172 
	}
}

174 
	gLCache
::
	$´štCache
()

176 
i
=0;i<
ÿcheEÁr›s
.
	`size
();i++)

178 if(
ÿcheEÁr›s
[
i
])

180 
j
=0;j<
ÿcheEÁr›s
[
i
]->
CNF
.
	`size
();j++)

182 if(
ÿcheEÁr›s
[
i
]->
CNF
[
j
]->
§tisf›d
)

183 
cout
<<"Satisfied V ";

184 
ÿcheEÁr›s
[
i
]->
CNF
[
j
]->
	`´št
();

186 
cout
<<
ÿcheEÁr›s
[
i
]->
wCouÁ
<<
’dl
;

187 
cout
<<"*************"<<
’dl
;

191 
	}
}

	@liftedinfer/liftedweightedmodelcounting/src/extensions.cpp

1 
	~"ex‹nsiÚs.h
"

2 
	~"ş—nuputs.h
"

3 
	~"nÜm®iz”.h
"

4 
	~"qu”yupd©”.h
"

6 
	gLEx‹nsiÚs
::
	$LEx‹nsiÚs
(
LvrMLN
 &
mÊ_
):
	`mÊ
(mÊ_),
	$ÿche
(
NULL
)

8 
	}
}

10 
	gLEx‹nsiÚs
::~
	$LEx‹nsiÚs
()

12 if(
ÿche
)

13 
d–‘e
 
ÿche
;

14 
	}
}

17 
LogDoubË
 
	gLEx‹nsiÚs
::
	$g‘Un™CÏu£WeightWMPTP
(
WCÏu£
* 
şau£
)

19 
groundšgs
 = 1;

20 
i
=0;i<
şau£
->
©oms
[0]->
‹rms
.
	`size
();i++)

22 
groundšgs
 = groundšg * 
şau£
->
©oms
[0]->
‹rms
[
i
]->
domaš
.
	`size
();

24 
LogDoubË
 
	`v®
(1,
çl£
);

25 if(
şau£
->
sign
[0])

26 
LogDoubË
::
	`LDPow”
(
şau£
->
©oms
[0]->
symbŞ
->
nweight
,
groundšgs
,
v®
);

28 
LogDoubË
::
	`LDPow”
(
şau£
->
©oms
[0]->
symbŞ
->
pweight
,
groundšgs
,
v®
);

29  
v®
;

30 
	}
}

33 
LogDoubË
 
	gLEx‹nsiÚs
::
un™Prİag©iÚ
(
veùÜ
<
WCÏu£
*>& 
CNF
,
boŞ
 
±³xaùm¬
)

35 
LogDoubË
 
v®
(1,
çl£
);

39 
	gveùÜ
<> 
	gun™P»diÿ‹Ids
;

40 
	gveùÜ
<
	gboŞ
> 
	gun™P»diÿ‹IdSign
;

41 
	gi
=0;i<
	gCNF
.
size
();i++)

43 if(
	gCNF
[
i
]->
	g©oms
.
size
()==1 && !
CNF
[i]->
§tisf›d
)

45 if(
±³xaùm¬
)

48 if(
LvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

50 if(
LvrQu”yUpd©”
::
In¡ªû
()->
isNÜmIdInQu”y
(
CNF
[
i
]->
©oms
[0]->
symbŞ
->
nÜmP¬’tId
))

54 
	gm©chšgId
 = -1;

55 
	gj
=0;j<
	gun™P»diÿ‹Ids
.
size
();j++)

57 if(
	gun™P»diÿ‹Ids
[
j
]==
CNF
[
i
]->
©oms
[0]->
symbŞ
->
id
)

59 
m©chšgId
=
j
;

63 if(
	gm©chšgId
 != -1)

66 if(
CNF
[
i
]->
sign
[0] =ğ
un™P»diÿ‹IdSign
[
m©chšgId
])

68 
»moveI‹m
(
CNF
,
i
);

69 
	gi
--;

74  
LogDoubË
(0,
çl£
);

80 
	gCNF
[
i
]->
	g§tisf›d
 = 
Œue
;

82 
	gv®
=
v®
*
g‘Un™CÏu£WeightWMPTP
(
CNF
[
i
]);

83 
	gun™P»diÿ‹Ids
.
push_back
(
CNF
[
i
]->
©oms
[0]->
symbŞ
->
id
);

84 
	gun™P»diÿ‹IdSign
.
push_back
(
CNF
[
i
]->
sign
[0]);

86 
	gCNF
[
i
]->
»moveAtom
(0);

87 
	gi
--;

91 
boŞ
 
	gisCNFChªged
 = 
çl£
;

92 
	gi
=0;i<
	gun™P»diÿ‹Ids
.
size
();i++)

95 
	gj
=0;j<
	gCNF
.
size
();j++)

97 
	gk
=0;k<
	gCNF
[
j
]->
	g©oms
.
size
();k++)

99 if(
	gCNF
[
j
]->
	g©oms
[
k
]->
	gsymbŞ
->
	gid
 =ğ
un™P»diÿ‹Ids
[
i
])

101 if(
CNF
[
j
]->
sign
[
k
] !ğ
un™P»diÿ‹IdSign
[
i
])

104 
CNF
[
j
]->
»moveAtom
(
k
);

105 
	gisCNFChªged
 = 
Œue
;

106 
	gk
--;

108 if(
	gCNF
[
j
]->
	g©oms
.
size
()==0 && !
CNF
[j]->
§tisf›d
)

109  
LogDoubË
(0,
çl£
);

114 
	gCNF
[
j
]->
	g§tisf›d
 = 
Œue
;

116 
	gCNF
[
j
]->
»moveAtom
(
k
);

117 
	gk
--;

123 if(!
	gisCNFChªged
)

126  
	gv®
;

130 
boŞ
 
	gLEx‹nsiÚs
::
g‘FromCache
(
veùÜ
<
WCÏu£
*> 
CNF
, 
LogDoubË
& 
v®
)

132 if(
	gÿche
)

134 
	gveùÜ
<
	gWCÏu£
*> 
	gşau£s
;

135 
	gmÊ
.
cİyAÎCÏu£s
(
CNF
,
şau£s
);

136 
boŞ
 
	g»t
 = 
ÿche
->
fšdInCache
(
şau£s
,
v®
);

137 
ş—nup
(
şau£s
);

138  
	g»t
;

141  
	gçl£
;

144 
	gLEx‹nsiÚs
::
¡ÜeToCache
(
veùÜ
<
WCÏu£
*> 
CNF
, 
LogDoubË
& 
v®
)

146 if(
	gÿche
)

147 
	gÿche
->
addToCache
(
CNF
,
v®
);

	@liftedinfer/liftedweightedmodelcounting/src/ptpsearch.cpp

1 
	~"±p£¬ch.h
"

2 
	~"ş—nuputs.h
"

3 
	~"´İos™iÚ®»sŞutiÚ.h
"

4 
	~"ruËsut.h
"

5 
	~"qu”yupd©”.h
"

6 
	~"lvrsšgËtÚnÜm´İag©iÚ.h
"

10 
	gLPTPS—rch
::
CheckCNFS©isf›d
(
veùÜ
<
WCÏu£
*>& 
CNF
, & 
§tP”ûÁ
)

12 
	g§tisf›dcouÁ
 = 0;

13 
	gi
=0;i<
	gCNF
.
size
();i++)

15 if(
	gCNF
[
i
]->
	g§tisf›d
)

16 
	g§tisf›dcouÁ
++;

17 if(
	gCNF
[
i
]->
	g©oms
.
size
()==0)

22 if(
	g§tisf›dcouÁ
 =ğ
CNF
.
size
())

24 
§tP”ûÁ
 = 1;

29 
	g§tP”ûÁ
 = 
§tisf›dcouÁ
/()
CNF
.
size
();

35 
LogDoubË
 
	gLPTPS—rch
::
CNFWeight
(
veùÜ
<
WCÏu£
*>& 
CNF
,
£t
<>* 
dÚtC¬eQu”›s
)

38 
	g£t
<> 
	gcom¶‘edAtomIds
;

39 
	gm­
<,
	gLogDoubË
> 
	gweights
;

40 
	gm­
<,> 
	gnumGroundšgs
;

41 
	gi
=0;i<
	gmÊ
.
	gsymbŞs
.
size
();i++)

43 
	gnumGroundšgs
[
mÊ
.
symbŞs
[
i
]->
	g·»ÁId
]=0;

44 
	gweights
[
mÊ
.
symbŞs
[
i
]->
	g·»ÁId
] = mÊ.symbŞs[i]->
pweight
+mÊ.symbŞs[i]->
nweight
;

46 
	gi
=0;i<
	gCNF
.
size
();i++)

48 
	gj
=0;j<
	gCNF
[
i
]->
	g©oms
.
size
();j++)

50 if(
	gcom¶‘edAtomIds
.
couÁ
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
) == 0)

52 
com¶‘edAtomIds
.
š£¹
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
id
);

53 if(
	gdÚtC¬eQu”›s
)

56 
	glv½S—rchT»e
->
g‘HashV®ues
(
CNF
[
i
]->
©oms
[
j
],(*
dÚtC¬eQu”›s
));

64 
	gtÙ®Size
=1;

65 
	gk
=0;k<
	gCNF
[
i
]->
	g©oms
[
j
]->
	g‹rms
.
size
();k++)

67 
	gtÙ®Size
 *ğ
CNF
[
i
]->
©oms
[
j
]->
‹rms
[
k
]->
domaš
.
size
();

69 
	gm­
<,>::
™”©Ü
 
™
 = 
numGroundšgs
.
fšd
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
·»ÁId
);

70 if(
	g™
!=
numGroundšgs
.
’d
())

72 
™
->
£cÚd
 +ğ
tÙ®Size
;

76 
LogDoubË
 
	gtÙ®Weight
=LogDoubË(1,
çl£
);

77 
	gm­
<,>::
™”©Ü
 
™
 = 
numGroundšgs
.
begš
();
	g™
!òumGroundšgs.
’d
();it++)

79 if(
	g™
->
	g£cÚd
 != 0)

81 
m­
<,
LogDoubË
>::
™”©Ü
 
™1
 = 
weights
.
fšd
(
™
->
fœ¡
);

82 
LogDoubË
 
	g©omWt
=LogDoubË(1,
çl£
);

83 
	gLogDoubË
::
LDPow”
(
™1
->
£cÚd
,
™
->£cÚd,
©omWt
);

84 
	gtÙ®Weight
 *ğ
©omWt
;

88 if(
	gtÙ®Weight
.
	gis_z”o
)

89  
LogDoubË
(1,
çl£
);

91  
	gtÙ®Weight
;

95 
	gLPTPS—rch
::
CheckCNFS©isf›dW™hQu”›s
(
veùÜ
<
WCÏu£
*>& 
CNF
)

97 
§tisf›dcouÁ
 = 0;

98 
	gqu”yCouÁ
 = 0;

99 
	gi
=0;i<
	gCNF
.
size
();i++)

101 if(
	gCNF
[
i
]->
	g§tisf›d
)

102 
	g§tisf›dcouÁ
++;

103 if(
	gCNF
[
i
]->
	g©oms
.
size
()==0)

108 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

110 
j
=0;
	gj
<
	gCNF
[
i
]->
	g©oms
.
size
();j++)

112 if(
	gLvrQu”yUpd©”
::
In¡ªû
()->
isNÜmIdInQu”y
(
CNF
[
i
]->
©oms
[
j
]->
symbŞ
->
nÜmP¬’tId
))

113 
qu”yCouÁ
++;

117 if(
	g§tisf›dcouÁ
 =ğ
CNF
.
size
())

120 if(
qu”yCouÁ
!=0)

133 
boŞ
 
	gLPTPS—rch
::
decompo£CNF
(
veùÜ
<
WCÏu£
*>& 
CNF
,& 
pow”FaùÜ
)

135 
	gveùÜ
<
	gDecompo£r
*> 
	gdecompo£r_li¡
;

136 
	gdecompo£r
->
fšd_decompo£r
(
CNF
,
decompo£r_li¡
);

138 #ifdeà
__DEBUG_PRINT__


139 
	gcout
<<"Decomposer={ ";

140 
	gi
=0;i<
	gdecompo£r_li¡
.
size
();i++)

142 
	gdecompo£r_li¡
[
i
]->
´št
();

144 
	gcout
<<"}"<<
	g’dl
;

146 if(
	gdecompo£r_li¡
.
size
()==0)

147  
çl£
;

151 
	gpow”FaùÜ
 = 1;

152 
	gi
=0;i<
	gdecompo£r_li¡
.
size
();i++)

154 
	gpow”FaùÜ
*=
decompo£r_li¡
[
i
]->
decompo£r_‹rms
[0]->
domaš
.
size
();

155 
	gj
=0;j<
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
.
size
();j++)

158 
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
[
j
]->
	gÜigDomaš
.
ş—r
();

159 
	gjj
=0;jj<
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
[
j
]->
	gdomaš
.
size
();jj++)

160 
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
[
j
]->
	gÜigDomaš
.
push_back
(
decompo£r_li¡
[i]->
decompo£r_‹rms
[j]->
domaš
[
jj
]);

162 
	gdecompo£r_li¡
[
i
]->
	gdecompo£r_‹rms
[
j
]->
	gdomaš
.
”a£
(
decompo£r_li¡
[i]->
decompo£r_‹rms
[j]->
domaš
.
begš
(),decompo£r_li¡[i]->decompo£r_‹rms[j]->domaš.begš()+decompo£r_li¡[i]->decompo£r_‹rms[j]->domaš.
size
()-1);

167 
ş—nup
(
decompo£r_li¡
);

168  
	gŒue
;

171 
LogDoubË
 
	gLPTPS—rch
::
weigh‹dMod–CouÁ
(
veùÜ
<
WCÏu£
*>& 
CNF
,
LvrPTPNode
* 
·»Á
,
·»ÁB¿nchNo
)

173 
	g§tP”ûÁ1
 = 0;

174 
	gúfStus
=
CheckCNFS©isf›d
(
CNF
,
§tP”ûÁ1
);

175 ifĞ
	gúfStus
==0)

177 if(
LvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

178 
lv½S—rchT»e
->
ü—‹NewNode
(
ELEAF
,
·»Á
,
·»ÁB¿nchNo
);

179 
ş—nup
(
CNF
);

180  
LogDoubË
(0,
çl£
);

182 
	gveùÜ
<> 
	gpow”FaùÜs
;

183 
	gveùÜ
<
	gboŞ
> 
	gisDecompo£dCNF
;

184 
	gveùÜ
<veùÜ<
	gWCÏu£
*> > 
	gdecompo£dLi¡
;

185 
	gLClu¡”Ut
::
£³¿‹DisjoštCNF
(
CNF
,
decompo£dLi¡
);

187 
ş—nup
(
CNF
);

188 
LogDoubË
 
tÙ®V®
(1,
çl£
);

189 
LvrPTPNode
* 
	gdjnode
 = 
NULL
;

190 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

191 
djnode
 = 
lv½S—rchT»e
->
ü—‹NewNode
(
EAND
,
·»Á
,
·»ÁB¿nchNo
);

193 
	gt
=0;t<
	gdecompo£dLi¡
.
size
();t++)

195 
	gdum
=1;

196 
boŞ
 
	gisDecompo£d
=
çl£
;

197 
	gpow”FaùÜ
;

198 
	gisDecompo£d
 = 
decompo£CNF
(
decompo£dLi¡
[
t
],
pow”FaùÜ
);

199 if(
	gisDecompo£d
)

201 #ifdeà
__DEBUG_PRINT__


202 
	gLvrMLN
::
´št
(
decompo£dLi¡
[
t
],"DECOMPOSED");

205 
LvrPTPNode
* 
	gdecompNode
 = 
NULL
;

206 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

208 
decompNode
 = 
lv½S—rchT»e
->
ü—‹NewNode
(
EPOWER
,
djnode
,
t
);

209 
	gdecompNode
->
	gpow”FaùÜ
 = 
pow”FaùÜ
;

211 
LogDoubË
 
	gmút
 = 
weigh‹dMod–CouÁ
(
decompo£dLi¡
[
t
],
decompNode
,0);

212 
LogDoubË
 
	gv®
 = LogDoubË(1,
çl£
);

213 
	gLogDoubË
::
LDPow”
(
mút
,
pow”FaùÜ
,
v®
);

214 
	gtÙ®V®
 = 
tÙ®V®
*
v®
;

215 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

216 
decompNode
->
nodeV®ue
 = 
v®
;

224 #ifdeà
__DEBUG_PRINT1__


225 
	gLvrMLN
::
´št
(
decompo£dLi¡
[
t
],"NORMALIZED");

227 if(
	gdoun™´İag©e
)

229 
LogDoubË
 
	gun™PrİV®
;

230 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

231 
un™PrİV®
 = 
ex‹nsiÚs
->
un™Prİag©iÚ
(
decompo£dLi¡
[
t
],
Œue
);

233 
	gun™PrİV®
 = 
ex‹nsiÚs
->
un™Prİag©iÚ
(
decompo£dLi¡
[
t
]);

234 if(
	gun™PrİV®
.
	gis_z”o
)

236 
ş—nupI‹ms
(
decompo£dLi¡
,
t
);

237 #ifdeà
__DEBUG_PRINT__


238 
	gcout
<<"***********Un™PROP***********"<<
	g’dl
;

239 
	gcout
<<"{}"<<
	g’dl
;

240 
	gcout
<<"************UNITPrİ***************"<<
	g’dl
;

242 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

243 
lv½S—rchT»e
->
ü—‹NewNode
(
ELEAF
,
djnode
,
t
);

244  
	gun™PrİV®
;

248 
	gtÙ®V®
 = 
tÙ®V®
*
un™PrİV®
;

252 #ifdeà
__DEBUG_PRINT__


253 
	gLvrMLN
::
´št
(
decompo£dLi¡
[
t
],"UNITPROP");

255 
	g§tP”ûÁ
 = 0;

256 
	g¡©us
=
CheckCNFS©isf›d
(
decompo£dLi¡
[
t
],
§tP”ûÁ
);

258 
LogDoubË
 
	gwt
 = LogDouble();

259 if(
	g¡©us
 == 1)

261 if(
LvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

263 
£t
<>* 
dÚtÿ»qu”›s
 = 
Ãw
 set<>();

265 
LogDoubË
 
	gwt
 = 
CNFWeight
(
decompo£dLi¡
[
t
],
dÚtÿ»qu”›s
);

266 
LvrPTPNode
* 
	gËaf
 = 
lv½S—rchT»e
->
ü—‹NewNode
(
ELEAF
,
djnode
,
t
);

267 
	gËaf
->
	gdÚtC¬eQu”›s
 = 
dÚtÿ»qu”›s
;

268 
	gËaf
->
	gnodeV®ue
 = 
wt
;

269 
	gtÙ®V®
 = 
tÙ®V®
 * 
wt
;

273 
	gtÙ®V®
 = 
tÙ®V®
 * 
CNFWeight
(
decompo£dLi¡
[
t
]);

275 
ş—nup
(
decompo£dLi¡
[
t
]);

280 
	gveùÜ
<veùÜ<
	gWCÏu£
*> > 
	g‹mpCNFLi¡
;

281 
Atom
* 
	g©om
 = 
heuri¡ics
->
g‘AtomToS¶™
(
decompo£dLi¡
[
t
]);

282 #ifdeà
__DEBUG_PRINT__


283 
	gcout
<<"Splitting on Atom ";

284 
	g©om
->
´št
();

285 
	gcout
<<
	g’dl
;

287 
boŞ
 
	gÿched
 = 
çl£
;

288 if(
	g§tP”ûÁ1
 < 0.75)

290 
	gÿched
 = 
ex‹nsiÚs
->
g‘FromCache
(
decompo£dLi¡
[
t
],
wt
);

292 if(!
	gÿched
)

295 
boŞ
 
	g£lfJošed
 = 
çl£
;

296 
	gm
=0;m<
	gdecompo£dLi¡
[
t
].
size
();m++)

298 if(
	gdecompo£dLi¡
[
t
].
©
(
m
)->
isS–fJošedOnAtom
(
©om
))

300 
	g£lfJošed
 = 
Œue
;

304 
	gveùÜ
<
	gLogDoubË
> 
	gb¿nchWeights
;

305 if(
	g©om
->
isCÚ¡ªt
())

307 
	gidToU£
 = 
id
++;

309 if(!
	g£lfJošed
)

310 
	gPrİos™iÚ®ResŞutiÚ
::
doPrİos™iÚ®S¶™
(
decompo£dLi¡
[
t
],
©om
,
‹mpCNFLi¡
);

312 
	gPrİos™iÚ®ResŞutiÚ
::
doPrİos™iÚ®S¶™S–fJošs
(
decompo£dLi¡
[
t
],
©om
,
‹mpCNFLi¡
);

313 
LogDoubË
 
	gsymPosWt
 = 
©om
->
symbŞ
->
pweight
;

314 
LogDoubË
 
	gsymNegWt
 = 
©om
->
symbŞ
->
nweight
;

315 
LvrPTPNode
* 
	g¥l™Node
 = 
NULL
;

316 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

318 
¥l™Node
 = 
lv½S—rchT»e
->
ü—‹NewNode
(
ESPLITTER
,
djnode
,
t
);

319 
	g¥l™Node
->
	g©om
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
©om
);

321 
LogDoubË
 
	gw1
 = 
symNegWt
*
weigh‹dMod–CouÁ
(
‹mpCNFLi¡
[0],
¥l™Node
,0);

322 
LogDoubË
 
	gw2
 = 
symPosWt
*
weigh‹dMod–CouÁ
(
‹mpCNFLi¡
[1],
¥l™Node
,1);

324 
	gwt
 +ğ
w1
 + 
w2
;

325 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

327 
¥l™Node
->
b¿nchWeights
.
push_back
(
symNegWt
);

328 
	g¥l™Node
->
	gb¿nchWeights
.
push_back
(
symPosWt
);

329 
	g¥l™Node
->
	gnodeV®ue
 = 
w1
+
w2
;

331 
ş—nup
(
‹mpCNFLi¡
[0]);

332 
ş—nup
(
‹mpCNFLi¡
[1]);

333 
	g‹mpCNFLi¡
.
ş—r
();

338 
	gsšgËtÚIndex
;

339 
boŞ
 
	gsšgËtÚ
 = 
©om
->
isSšgËtÚAtom
(
sšgËtÚIndex
);

340 
boŞ
 
	gnÚpŞy
 = 
çl£
;

341 if(!
	gsšgËtÚ
)

342 
	gnÚpŞy
 = 
Œue
;

343 if(
	g£lfJošed
)

346 
boŞ
 
	gblocked
 = 
LRuËsUt
::
isBlocked
(
©om
,
sšgËtÚIndex
,
decompo£dLi¡
[
t
]);

347 if(!
	gblocked
)

348 
	gnÚpŞy
=
Œue
;

351 if(!
	gnÚpŞy
)

388 
Atom
* 
	gtmpAtom
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
©om
);

389 
LogDoubË
 
	gnÜm
;

390 
LogDoubË
 
	gsymPosWt
 = 
©om
->
symbŞ
->
pweight
;

391 
LogDoubË
 
	gsymNegWt
 = 
©om
->
symbŞ
->
nweight
;

392 
	gdomSize
 = 
©om
->
‹rms
[
sšgËtÚIndex
]->
domaš
.
size
();

394 
LvrPTPNode
* 
	g¥l™Node
 = 
NULL
;

395 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

397 
¥l™Node
 = 
lv½S—rchT»e
->
ü—‹NewNode
(
ESPLITTER
,
djnode
,
t
);

398 
	g¥l™Node
->
	g©om
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
©om
);

399 
	gb¿nchWeights
.
ş—r
();

400 
	gb¿nchWeights
.
»size
(
domSize
+1);

403 
	gjj
=0;jj<=
domSize
;jj++)

405 
LogDoubË
 
	gpos
 = LogDoubË(1,
çl£
);

406 
LogDoubË
 
	gÃg
 = LogDoubË(1,
çl£
);

407 
	gLogDoubË
::
LDPow”
(
symPosWt
,
jj
,
pos
);

408 
	gLogDoubË
::
LDPow”
(
symNegWt
,
domSize
-
jj
,
Ãg
);

409 
LogDoubË
 
	gbšCÛff
 = LogDoubË::
BšomŸl
(
domSize
,
jj
);

410 
	gveùÜ
<
	gWCÏu£
*> 
	glvCÏu£sCİy
;

411 
	gLvrMLN
::
cİyAÎCÏu£s
(
decompo£dLi¡
[
t
],
lvCÏu£sCİy
);

412 
	gLvrSšgËtÚNÜmPrİag©iÚ
::
´İag©eNÜm®izedCNF
(
lvCÏu£sCİy
,
tmpAtom
,
sšgËtÚIndex
,
jj
);

413 
LogDoubË
 
	gmút
 = 
weigh‹dMod–CouÁ
(
lvCÏu£sCİy
,
¥l™Node
,
jj
);

414 
ş—nup
(
lvCÏu£sCİy
);

415 
	gwt
+=
bšCÛff
*
pos
*
Ãg
*
mút
;

416 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

417 
b¿nchWeights
[
jj
] = 
pos
*
Ãg
;

418 
	gnÜm
 +ğ
bšCÛff
*
pos
*
Ãg
*
mút
;

420 
d–‘e
 
	gtmpAtom
;

422 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

424 
¥l™Node
->
nodeV®ue
 = 
nÜm
;

425 
	g¥l™Node
->
	gb¿nchWeights
 = 
b¿nchWeights
;

431 
	gcout
<<"NÚ…ŞynomŸÈ¥l™tšg‡tomƒncouÁ”ed...mayak¨lÚgimtØcompu‹"<<
	g’dl
;

432 
	gveùÜ
<
	gWCÏu£
*> 
	ggroundCNF
;

433 
	gveùÜ
<veùÜ<> > 
	g®lGroundšgs
;

434 
	gnumGroundšgs
;

435 
	g¥l™‹r
->
doFuÎGroundšg
(
decompo£dLi¡
[
t
],
©om
,
groundCNF
,
®lGroundšgs
,
numGroundšgs
);

477 
	gveùÜ
<veùÜ<
	gWCÏu£
*> > 
	g»sŞvedCNFLi¡
;

478 
boŞ
 
	gdÚe
 = 
çl£
;

479 
LogDoubË
 
	gsymPosWt
 = 
©om
->
symbŞ
->
pweight
;

480 
LogDoubË
 
	gsymNegWt
 = 
©om
->
symbŞ
->
nweight
;

481 
	g©omId
 = 
©om
->
symbŞ
->
id
;

482 
	g¥l™‹r
->
doCom¶‘eS¶™InChunks
(
groundCNF
,
©omId
, 
®lGroundšgs
, 
numGroundšgs
,

483 
»sŞvedCNFLi¡
,0, 
pow
(2.0,
numGroundšgs
),
dÚe
);

484 
LvrPTPNode
* 
	g¥l™Node
 = 
NULL
;

485 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

487 
¥l™Node
 = 
lv½S—rchT»e
->
ü—‹NewNode
(
ESPLITTER
,
djnode
,
t
);

488 
	g¥l™Node
->
	g©om
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
©om
);

489 
	gb¿nchWeights
.
ş—r
();

490 
	gb¿nchWeights
.
»size
(
»sŞvedCNFLi¡
.
size
());

492 
LogDoubË
 
	gnÜm
;

493 
	gjj
=0;jj<
	g»sŞvedCNFLi¡
.
size
();jj++)

496 
	gn
 = 
jj
;

497 
	gcouÁ
=0;

498 
	gn
)

500 
	gcouÁ
++;

501 
	gn
 &ğ(
n
-1);

504 
LogDoubË
 
	gpos
 = LogDoubË(1,
çl£
);

505 
LogDoubË
 
	gÃg
 = LogDoubË(1,
çl£
);

506 
	gLogDoubË
::
LDPow”
(
symPosWt
,
couÁ
,
pos
);

507 
	gLogDoubË
::
LDPow”
(
symNegWt
,
numGroundšgs
-
couÁ
,
Ãg
);

508 
	gnÜm®iz”
->
nÜm®izeCÏu£s
(
»sŞvedCNFLi¡
[
jj
],
Œue
,
çl£
);

509 
LogDoubË
 
	gmút
 = 
weigh‹dMod–CouÁ
(
»sŞvedCNFLi¡
[
jj
],
¥l™Node
,jj);

510 
	gwt
=
wt
+
pos
*
Ãg
*
mút
;

511 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

512 
b¿nchWeights
[
jj
] = 
pos
*
Ãg
;

513 
	gnÜm
 +ğ
pos
*
Ãg
*
mút
;

516 !
	g»sŞvedCNFLi¡
.
em±y
())

518 
ş—nup
(
»sŞvedCNFLi¡
.
back
());

519 
	g»sŞvedCNFLi¡
.
pİ_back
();

521 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

523 
¥l™Node
->
nodeV®ue
 = 
nÜm
;

524 
	g¥l™Node
->
	gb¿nchWeights
 = 
b¿nchWeights
;

526 
ş—nup
(
groundCNF
);

530 if(
	g§tP”ûÁ
 < 0.75)

531 
	gex‹nsiÚs
->
¡ÜeToCache
(
decompo£dLi¡
[
t
],
wt
);

533 #ifdeà
__DEBUG_PRINT__


534 
	gcout
<<"Wt="<<
	gwt
<<
	g’dl
;

536 
ş—nup
(
decompo£dLi¡
[
t
]);

537 if(
	gwt
.
	gis_z”o
)

539 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

540 
lv½S—rchT»e
->
ü—‹NewNode
(
ELEAF
,
djnode
,
t
);

541 
ş—nupI‹ms
(
decompo£dLi¡
,
t
+1);

542  
	gwt
;

544 
	gtÙ®V®
 = 
tÙ®V®
*
wt
;

547 if(
	gLvrQu”yUpd©”
::
isIn¡ªûC»©ed
())

548 
djnode
->
nodeV®ue
 = 
tÙ®V®
;

549  
	gtÙ®V®
;

820 
LogDoubË
 
	gLPTPS—rch
::
weigh‹dMod–CouÁAµrox
(
veùÜ
<
WCÏu£
*>& 
CNF
)

822 
§tP”ûÁ1
 = 0;

823 
	gúfStus
=
CheckCNFS©isf›d
(
CNF
,
§tP”ûÁ1
);

824 ifĞ
	gúfStus
==0)

826 
ş—nup
(
CNF
);

827  
LogDoubË
(0,
çl£
);

830 
	gveùÜ
<> 
	gpow”FaùÜs
;

831 
	gveùÜ
<
	gboŞ
> 
	gisDecompo£dCNF
;

832 
	gveùÜ
<veùÜ<
	gWCÏu£
*> > 
	gdecompo£dLi¡
;

833 
	gLClu¡”Ut
::
£³¿‹DisjoštCNF
(
CNF
,
decompo£dLi¡
);

835 
ş—nup
(
CNF
);

836 
LogDoubË
 
tÙ®V®
(1,
çl£
);

837 
	gt
=0;t<
	gdecompo£dLi¡
.
size
();t++)

839 
	gpow”FaùÜ
;

840 
boŞ
 
	gisDecompo£d
 = 
decompo£CNF
(
decompo£dLi¡
[
t
],
pow”FaùÜ
);

841 if(
	gisDecompo£d
)

843 #ifdeà
__DEBUG_PRINT__


844 
	gLvrMLN
::
´št
(
decompo£dLi¡
[
t
],"DECOMPOSED");

848 
LogDoubË
 
	gmút
 = 
weigh‹dMod–CouÁAµrox
(
decompo£dLi¡
[
t
]);

849 
LogDoubË
 
	gv®
 = LogDoubË(1,
çl£
);

850 
	gLogDoubË
::
LDPow”
(
mút
,
pow”FaùÜ
,
v®
);

851 
	gtÙ®V®
 = 
tÙ®V®
*
v®
;

857 #ifdeà
__DEBUG_PRINT__


858 
	gLvrMLN
::
´št
(
decompo£dLi¡
[
t
],"NORMALIZED");

860 
LogDoubË
 
	gun™PrİV®
 = 
ex‹nsiÚs
->
un™Prİag©iÚ
(
decompo£dLi¡
[
t
]);

861 if(
	gun™PrİV®
.
	gis_z”o
)

863 
ş—nupI‹ms
(
decompo£dLi¡
,
t
);

864 #ifdeà
__DEBUG_PRINT__


865 
	gcout
<<"***********Un™PROP***********"<<
	g’dl
;

866 
	gcout
<<"{}"<<
	g’dl
;

867 
	gcout
<<"************UNITPrİ***************"<<
	g’dl
;

869  
	gun™PrİV®
;

873 
	gtÙ®V®
 = 
tÙ®V®
*
un™PrİV®
;

875 #ifdeà
__DEBUG_PRINT__


876 
	gLvrMLN
::
´št
(
decompo£dLi¡
[
t
],"UNITPROP");

878 
	g§tP”ûÁ
 = 0;

879 
	g¡©us
=
CheckCNFS©isf›d
(
decompo£dLi¡
[
t
],
§tP”ûÁ
);

880 
LogDoubË
 
	gwt
 = LogDouble();

882 if(
	g¡©us
 == 1)

884 
tÙ®V®
 =Ù®V® * 
CNFWeight
(
decompo£dLi¡
[
t
]);

885 
ş—nup
(
decompo£dLi¡
[
t
]);

888 ifĞ
	g¡©us
==0)

890 
ş—nup
(
decompo£dLi¡
[
t
]);

891  
LogDoubË
(0,
çl£
);

894 
	gveùÜ
<veùÜ<
	gWCÏu£
*> > 
	g‹mpCNFLi¡
;

895 
Atom
* 
	g©om
 = 
heuri¡ics
->
g‘AtomToS¶™
(
decompo£dLi¡
[
t
]);

896 #ifdeà
__DEBUG_PRINT__


897 
	gcout
<<"Splitting on Atom ";

898 
	g©om
->
´št
();

899 
	gcout
<<")"<<
	g’dl
;

902 #ifdeà
__DEBUG_PRINT__


903 
	gLvrMLN
::
´št
(
decompo£dLi¡
[
t
],"SPLIT-INPUT");

907 
	gcom¶‘edCouÁ
 = 0;

908 
	gveùÜ
<> 
	g»duùiÚFaùÜ
;

909 
	gnumGroundšgs
 = 
©om
->
g‘Numb”OfGroundšgs
();

910 
	gveùÜ
<
	gboŞ
> 
com¶‘edGroups
(
numGroundšgs
 + 1);

913 
	gnumTrue
;

914 
LogDoubË
 
	g´obOfSam¶e
;

916 
	g¥l™‹r
->
doAµroxS¶™
(
decompo£dLi¡
[
t
], 
©om
, 
numGroundšgs
, 
com¶‘edGroups
, 
com¶‘edCouÁ
, 
´obOfSam¶e
, 
numTrue
, 
‹mpCNFLi¡
);

918 
	gnumF®£
 = 
numGroundšgs
 - 
numTrue
;

920 
LogDoubË
 
	gpos
 = LogDoubË(1,
çl£
);

921 
LogDoubË
 
	gÃg
 = LogDoubË(1,
çl£
);

922 
	gLogDoubË
::
LDPow”
(
©om
->
symbŞ
->
pweight
,
numTrue
,
pos
);

923 
	gLogDoubË
::
LDPow”
(
©om
->
symbŞ
->
nweight
,
numF®£
,
Ãg
);

924 
LogDoubË
 
	gbšCÛff
 = LogDoubË::
BšomŸl
(
numTrue
+
numF®£
,numTrue);

925 
	gnÜm®iz”
->
nÜm®izeCÏu£s
(
‹mpCNFLi¡
.
back
(),
Œue
,
çl£
);

926 
LogDoubË
 
	gmút
 = 
weigh‹dMod–CouÁAµrox
(
‹mpCNFLi¡
.
back
());

927 
ş—nup
(
‹mpCNFLi¡
.
back
());

928 
	g‹mpCNFLi¡
.
pİ_back
();

929 if(
	gmút
.
	gis_z”o
)

932 
	gcom¶‘edGroups
[
numTrue
] = 
Œue
;

933 
	gcom¶‘edCouÁ
++;

934 if(
	gcom¶‘edCouÁ
 =ğ
com¶‘edGroups
.
size
())

936 
wt
 = 0;

942 
	gwt
+=
bšCÛff
*
pos
*
Ãg
*
mút
/
´obOfSam¶e
;

945 #ifdeà
__DEBUG_PRINT__


946 
	gcout
<<"Wt="<<
	gwt
<<
	g’dl
;

948 
ş—nup
(
decompo£dLi¡
[
t
]);

949 if(
	gwt
.
	gis_z”o
)

951 
ş—nupI‹ms
(
decompo£dLi¡
,
t
+1);

952  
	gwt
;

954 
	gtÙ®V®
 = 
tÙ®V®
*
wt
;

957  
	gtÙ®V®
;

961 
LogDoubË
 
	gLPTPS—rch
::
	$¡¬tAµroxWeigh‹dMod–CouÁšg
(
LvrP¬ams
* 
·¿ms
)

964 
cout
<<"S¹šg Liáed Weigh‹d Mod– CouÁšg..."<<
’dl
;

965 
time_t
 
¡¬t
;

966 
	`time
(&
¡¬t
);

967 
cout
<<"Tim="<<
	`ùime
(&
¡¬t
)<<
’dl
;

968 
LogDoubË
 
ZAµrox
;

969 
™”©iÚs
 = 0;

970 if(
·¿ms
->
maxS‹ps
 <= 0)

971 
·¿ms
->
maxS‹ps
 = 
MAXSTEPSINFER
;

972 if(
·¿ms
->
maxSecÚds
 <= 0)

973 
·¿ms
->
maxSecÚds
 = 
MAXSECONDSINFER
;

978 
veùÜ
<
WCÏu£
*> 
şau£s
;

979 
LvrMLN
::
	`cİyAÎCÏu£s
(
mÊ
.
şau£s
,clauses);

980 
LogDoubË
 
cu¼Z
 = 
	`weigh‹dMod–CouÁAµrox
(
şau£s
)*
mÊ
.
cÚv”siÚFaùÜ
;

982 
ZAµrox
 = ZAµrox*
	`LogDoubË
(
™”©iÚs
,
çl£
è+ 
cu¼Z
;

983 
™”©iÚs
++;

985 
ZAµrox
 = ZAµrox / 
	`LogDoubË
(
™”©iÚs
,
çl£
);

987 
cout
<<"™”©iÚ="<<
™”©iÚs
<<", currZ : ";

988 
cu¼Z
.
	`´štV®ue
();

989 
cout
<<", ZApprox : ";

990 
ZAµrox
.
	`´štV®ue
();

991 
cout
<<
’dl
;

992 if(
™”©iÚs
 >ğ
·¿ms
->
maxS‹ps
)

993  
ZAµrox
;

994 
time_t
 
cu¼Time
;

995 
	`time
(&
cu¼Time
);

996 if(
	`difáime
(
cu¼Time
,
¡¬t
è> 
·¿ms
->
maxSecÚds
)

1000 
	}
}

1002 
LogDoubË
 
	gLPTPS—rch
::
	$¡¬tExaùWeigh‹dMod–CouÁšg
(
LvrP¬ams
* 
·¿ms
)

1004 
doun™´İag©e
 = 
Œue
;

1005 
cout
<<"S¹šg Exaù Liáed Mod– CouÁšg"<<
’dl
;

1006 
id
 = 0;

1007 
nÜm®iz”
->
	`nÜm®izeCÏu£s
(
mÊ
.
şau£s
,
Œue
,
çl£
);

1009 
veùÜ
<
WCÏu£
*> 
şau£s
;

1010 
LvrMLN
::
	`cİyAÎCÏu£s
(
mÊ
.
şau£s
,clauses);

1011 if(!
LvrQu”yUpd©”
::
	`isIn¡ªûC»©ed
())

1012 
ex‹nsiÚs
->
	`£tCachšg
(
·¿ms
->
±pCacheSize
);

1016 
doun™´İag©e
 = 
çl£
;

1018 
veùÜ
<
WCÏu£
*> 
şau£sToCÚsid”
;

1019 
veùÜ
<veùÜ<
WCÏu£
*> > 
tmpCÏu£s
;

1020 
LClu¡”Ut
::
	`£³¿‹DisjoštCNF
(
mÊ
.
şau£s
,
tmpCÏu£s
);

1021 
i
=0;i<
tmpCÏu£s
.
	`size
();i++)

1023 
boŞ
 
qu”yInCÏu£s
=
çl£
;

1024 
j
=0;j<
tmpCÏu£s
[
i
].
	`size
();j++)

1026 
k
=0;k<
tmpCÏu£s
[
i
].
	`©
(
j
)->
©oms
.
	`size
();k++)

1028 if(
LvrQu”yUpd©”
::
	`In¡ªû
()->
	`isNÜmIdInQu”y
(
tmpCÏu£s
[
i
].
	`©
(
j
)->
©oms
[
k
]->
symbŞ
->
nÜmP¬’tId
))

1030 
qu”yInCÏu£s
=
Œue
;

1034 if(
qu”yInCÏu£s
)

1037 if(
qu”yInCÏu£s
)

1039 
j
=0;j<
tmpCÏu£s
[
i
].
	`size
();j++)

1041 
şau£sToCÚsid”
.
	`push_back
(
tmpCÏu£s
[
i
].
	`©
(
j
));

1045 
	`ş—nup
(
şau£s
);

1046 
şau£s
=
şau£sToCÚsid”
;

1049 
LogDoubË
 
wt1
 = 
	`weigh‹dMod–CouÁ
(
şau£s
);

1052 
LogDoubË
 
wt
 = 
wt1
*
mÊ
.
cÚv”siÚFaùÜ
;

1054 if(
LvrQu”yUpd©”
::
	`isIn¡ªûC»©ed
())

1056 
lv½S—rchT»e
->
	`downPrİag©iÚMAR
Öv½S—rchT»e->
	`g‘RoÙ
());

1059 
lv½S—rchT»e
->
	`upd©eQu”›s
Öv½S—rchT»e->
	`g‘RoÙ
());

1060 
LvrQu”yUpd©”
::
	`In¡ªû
()->
	`wr™eToFe
(
wt1
);

1062  
wt
;

1063 
	}
}

1065 
	gLPTPS—rch
::
	$LPTPS—rch
(
LvrMLN
& 
mÊ_
): 
	$mÊ
(
mÊ_
)

1067 
¥l™‹r
 = 
Ãw
 
	`LS¶™‹r
();

1068 
decompo£r
 = 
Ãw
 
	`LDecompo£r
(
mÊ
);

1069 
ex‹nsiÚs
 = 
Ãw
 
	`LEx‹nsiÚs
(
mÊ
);

1070 
heuri¡ics
 = 
Ãw
 
	`LHeuri¡ics
(*
decompo£r
,
mÊ
);

1071 
nÜm®iz”
 = 
Ãw
 
	`LNÜm®iz”
(
mÊ
);

1072 
lvrPTPT»eSam¶šg
 = 
Ãw
 
	`LvrPTPT»eSam¶šg
();

1073 
lv½S—rchT»e
 = 
Ãw
 
	`LvrPTPS—rchT»e
();

1074 
	}
}

	@liftedinfer/liftedweightedmodelcounting/src/resolver.cpp

1 
	~"»sŞv”.h
"

3 
	gLResŞv”
::
g‘M©chšgT”ms
(
WCÏu£
* 
şau£
,
Atom
* 
©om
, 
veùÜ
<
LvrT”m
*>& 
‹rms
)

5 
	gi
=0;i<
	gşau£
->
	g©oms
.
size
();i++)

7 if(
	gşau£
->
	g©oms
[
i
]->
	gsymbŞ
->
	gid
==
©om
->
symbŞ
->
id
)

10 
j
=0;
	gj
<
	gşau£
->
	g©oms
[
i
]->
	g‹rms
.
size
();j++)

12 
boŞ
 
	gfound
=
çl£
;

13 
	gk
=0;k<
	g‹rms
.
size
();k++)

15 if(
	g‹rms
[
k
]==
şau£
->
©oms
[
i
]->
‹rms
[
j
])

17 
found
=
Œue
;

21 if(!
	gfound
)

22 
	g‹rms
.
push_back
(
şau£
->
©oms
[
i
]->
‹rms
[
j
]);

28 
	gLResŞv”
::
³rmu‹
(
veùÜ
<
LvrT”m
*> 
‹rms
, veùÜ<veùÜ<> >& 
³rmu‹dDomašLi¡
)

30 
	gm­
<,> 
	gdomašIndex
;

31 
	gnumb”OfGroundšgs
=1;

32 
	gi
=0;i<
	g‹rms
.
size
();i++)

35 
	gdomašIndex
.
š£¹
(
·œ
<,>(
i
,0));

36 
	gnumb”OfGroundšgs
 *ğ
‹rms
[
i
]->
domaš
.
size
();

40 
	g™”
 = 0;

43 
	gveùÜ
<> 
	gdomašV®ues
;

44 
	gi
=0;i<
	g‹rms
.
size
();i++)

47 
	gcu¼DomašIndex
 = 
domašIndex
[
i
];

48 
	gdomašV®ues
.
push_back
(
‹rms
[
i
]->
domaš
[
cu¼DomašIndex
]);

50 
	g³rmu‹dDomašLi¡
.
push_back
(
domašV®ues
);

52 
	gšd
=
‹rms
.
size
()-1;

53 
	gdomašIndex
[
šd
]++;

54 
	gdomašIndex
[
šd
] =ğ
‹rms
[šd]->
domaš
.
size
())

56 
domašIndex
[
šd
]=0;

57 if(
	gšd
!=0)

58 
domašIndex
[
šd
-1]++;

61 
	gšd
--;

63 
	g™”
++;

65 if(
	g™”
 >ğ
numb”OfGroundšgs
)

70 
	gLResŞv”
::
g‘Index
(
veùÜ
<veùÜ<> > 
®lGroundšgs
, 
Atom
* 
groundedAtom
)

72 
	gi
=0;i<
	g®lGroundšgs
.
size
();i++)

74 
boŞ
 
	gfound
=
Œue
;

75 
	gj
=0;j<(
	g®lGroundšgs
[
i
]).
size
();j++)

77 if((
	g®lGroundšgs
[
i
])[
j
]!=
groundedAtom
->
‹rms
[j]->
domaš
[0])

79 
found
=
çl£
;

83 if(
	gfound
)

84  
	gi
;

89 
	gLResŞv”
::
»sŞveGroundCÏu£
(
WCÏu£
* 
şau£
,
´ediÿ‹Id
, 
veùÜ
<> 
ŒuthVeùÜ
, veùÜ<veùÜ<> > 
®lGroundšgs
, WCÏu£& 
»sŞvedCÏu£
)

91 
	gsizeReduùiÚ
=0;

92 
	gk
=0;k<
	gşau£
->
	g©oms
.
size
();k++)

94 
	gÃwCÏu£Index
=
k
-
sizeReduùiÚ
;

95 if(
	g´ediÿ‹Id
==
»sŞvedCÏu£
.
©oms
[
ÃwCÏu£Index
]->
symbŞ
->
id
)

98 
šdex
=
g‘Index
(
®lGroundšgs
,
»sŞvedCÏu£
.
©oms
[
ÃwCÏu£Index
]);

100 if((
	gŒuthVeùÜ
[
šdex
] =ğ1 && !
»sŞvedCÏu£
.
sign
[
ÃwCÏu£Index
] )||(
ŒuthVeùÜ
[index] == 0 &&„esolvedClause.sign[newClauseIndex]))

101 
»sŞvedCÏu£
.
§tisf›d
=
Œue
;

102 
	g»sŞvedCÏu£
.
»moveAtom
(
k
-
sizeReduùiÚ
);

103 
	gsizeReduùiÚ
++;

109 
	gLResŞv”
::
doFuÎGroundšg
(
veùÜ
<
WCÏu£
*> 
CNF
,
Atom
* 
©om
,veùÜ<WCÏu£*>& 
groundCNF
,veùÜ<veùÜ<> >& 
®lGroundšgs
,& 
numGroundšgs
)

111 
	gi
=0;i<
	gCNF
.
size
();i++)

113 
	gveùÜ
<
	gLvrT”m
*> 
	gm©chšgT”ms
;

114 
g‘M©chšgT”ms
(
CNF
[
i
],
©om
,
m©chšgT”ms
);

115 if(
	gm©chšgT”ms
.
size
()==0)

117 
WCÏu£
* 
ÃwCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
CNF
[
i
]);

118 
	ggroundCNF
.
push_back
(
ÃwCÏu£
);

121 
	gveùÜ
<veùÜ<> > 
	g³rmu‹dDomašLi¡
;

122 
³rmu‹
(
m©chšgT”ms
,
³rmu‹dDomašLi¡
);

123 
	gj
=0;j<
	g³rmu‹dDomašLi¡
.
size
();j++)

125 
	gveùÜ
<> 
	g³rmu‹dDomaš
=
³rmu‹dDomašLi¡
[
j
];

126 
WCÏu£
* 
	gÃwCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
CNF
[
i
]);

127 
	gk
=0;k<
	gm©chšgT”ms
.
size
();k++)

129 
	gm
=0;m<
	gCNF
[
i
]->
	g©oms
.
size
();m++)

131 
	gn
=0;n<
	gCNF
[
i
]->
	g©oms
[
m
]->
	g‹rms
.
size
();n++)

134 if(
	gCNF
[
i
]->
	g©oms
[
m
]->
	g‹rms
[
n
]->
	gdomaš
.
size
()==0)

136 if(
	gCNF
[
i
]->
	g©oms
[
m
]->
	g‹rms
[
n
]==
m©chšgT”ms
[
k
])

139 
ÃwCÏu£
->
©oms
[
m
]->
‹rms
[
n
]->
domaš
.
ş—r
();

140 
	gÃwCÏu£
->
	g©oms
[
m
]->
	g‹rms
[
n
]->
	gdomaš
.
push_back
(
³rmu‹dDomaš
[
k
]);

146 
	ggroundCNF
.
push_back
(
ÃwCÏu£
);

149 
	gnumGroundšgs
=1;

150 
	gi
=0;i<
	g©om
->
	g‹rms
.
size
();i++)

152 
	gnumGroundšgs
 *ğ
©om
->
‹rms
[
i
]->
domaš
.
size
();

155 
³rmu‹
(
©om
->
‹rms
,
®lGroundšgs
);

159 
boŞ
 
	$isSšgËtÚSh¬ed
(
WCÏu£
* 
şau£
, 
Atom
* 
©om
, 
sšgËtÚIndex
)

161 
i
=0;i<
şau£
->
©oms
.
	`size
();i++)

163 if(
şau£
->
©oms
[
i
]->
symbŞ
->
id
 =ğ
©om
->symbol->id)

165 
j
=0;j<
şau£
->
©oms
[
i
]->
‹rms
.
	`size
();j++)

167 if(
şau£
->
©oms
[
i
]->
‹rms
[
j
]->
domaš
.
	`size
()==1)

169 if(
şau£
->
©oms
[
i
]->
‹rms
[
j
] =ğ
©om
->‹rms[
sšgËtÚIndex
])

170  
Œue
;

173  
çl£
;

174 
	}
}

176 
	gLResŞv”
::
»duûDomašs
(
WCÏu£
* 
şau£
, 
Atom
* 
©om
, 
veùÜ
<> 
ŒuthV®ues
, veùÜ<WCÏu£*>& 
domašModif›dCÏu£s
, 
sšgËtÚIndex
)

178 
	gnumTrue
=0;

179 
	gnumF®£
=0;

180 
	gi
=0;i<
	gŒuthV®ues
.
size
();i++)

182 if(
	gŒuthV®ues
[
i
]==1)

183 
numTrue
++;

185 
	gnumF®£
++;

187 if(
	gnumTrue
==0 || 
numF®£
==0)

189 
WCÏu£
* 
nCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£
);

191 
	grmút
=0;

192 
	gi
=0;i<
	gnCÏu£
->
	g©oms
.
size
();i++)

194 if(
	gnCÏu£
->
	g©oms
[
i
]->
	gsymbŞ
->
	gid
 =ğ
©om
->
symbŞ
->
id
)

196 if(
nCÏu£
->
sign
[
i
] && 
numTrue
 == 0)

197 
nCÏu£
->
§tisf›d
=
Œue
;

198 if(!
	gnCÏu£
->
	gsign
[
i
] && 
	gnumF®£
==0)

199 
nCÏu£
->
§tisf›d
=
Œue
;

200 
	gnCÏu£
->
»moveAtom
(
i
);

201 
	gi
--;

204 
	gdomašModif›dCÏu£s
.
push_back
(
nCÏu£
);

207 
boŞ
 
	gchªged
=
çl£
;

208 
	gdomašModif›dCÏu£s
.
push_back
(
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£
));

211 
	gchªged
=
çl£
;

213 
	gi
=0;i<
	gdomašModif›dCÏu£s
.
size
();i++)

215 
	gj
=0;j<
	gdomašModif›dCÏu£s
[
i
]->
	g©oms
.
size
();j++)

217 if(
	gdomašModif›dCÏu£s
[
i
]->
	g©oms
[
j
]->
	gsymbŞ
->
	gid
 =ğ
©om
->
symbŞ
->
id
)

220 
WCÏu£
* 
nCÏu£p
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
domašModif›dCÏu£s
[
i
]);

221 
WCÏu£
* 
	gnCÏu£n
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
domašModif›dCÏu£s
[
i
]);

222 
	gnCÏu£p
->
	g©oms
[
j
]->
	g‹rms
[
sšgËtÚIndex
]->
	gdomaš
.
”a£
(

223 
nCÏu£p
->
©oms
[
j
]->
‹rms
[
sšgËtÚIndex
]->
domaš
.
begš
()+
numTrue
,

224 
nCÏu£p
->
©oms
[
j
]->
‹rms
[
sšgËtÚIndex
]->
domaš
.
’d
());

225 
	gnCÏu£n
->
	g©oms
[
j
]->
	g‹rms
[
sšgËtÚIndex
]->
	gdomaš
.
”a£
(

226 
nCÏu£n
->
©oms
[
j
]->
‹rms
[
sšgËtÚIndex
]->
domaš
.
begš
(),

227 
nCÏu£n
->
©oms
[
j
]->
‹rms
[
sšgËtÚIndex
]->
domaš
.
begš
()+
numTrue
);

228 if(
	gdomašModif›dCÏu£s
[
i
]->
	gsign
[
j
])

229 
	gnCÏu£n
->
	g§tisf›d
=
Œue
;

231 
	gnCÏu£p
->
	g§tisf›d
=
Œue
;

232 
	gnCÏu£p
->
»moveAtom
(
j
);

233 
	gnCÏu£n
->
»moveAtom
(
j
);

234 
d–‘e
 
	gdomašModif›dCÏu£s
[
i
];

235 
	gdomašModif›dCÏu£s
[
i
] = 
nCÏu£p
;

236 
	gdomašModif›dCÏu£s
.
push_back
(
nCÏu£n
);

237 
	gchªged
=
Œue
;

241 if(!
	gchªged
)

248 
	gLResŞv”
::
»duûDomašsS–fJošs
(
WCÏu£
* 
şau£
, 
Atom
* 
©om
, 
veùÜ
<> 
ŒuthV®ues
, veùÜ<WCÏu£*>& 
domašModif›dCÏu£s
, 
sšgËtÚIndex
)

250 
	gveùÜ
<> 
	gm©chšgIds
;

251 
boŞ
 
	gposSignFound
 = 
çl£
;

252 
boŞ
 
	gÃgSignFound
 = 
çl£
;

253 
	gi
=0;i<
	gşau£
->
	g©oms
.
size
();i++)

255 if(
	gşau£
->
	g©oms
[
i
]->
	gsymbŞ
->
	gid
==
©om
->
symbŞ
->
id
)

257 
m©chšgIds
.
push_back
(
i
);

258 if(
	gşau£
->
	gsign
[
i
])

259 
	gÃgSignFound
 = 
Œue
;

261 
	gposSignFound
 = 
Œue
;

264 if(
	gm©chšgIds
.
size
()==0)

267 
WCÏu£
* 
nCÏu£
ğ
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£
);

268 
	gdomašModif›dCÏu£s
.
push_back
(
nCÏu£
);

272 
	gnumOÃ
=0;

273 
	gnumZ”o
=0;

275 
	gi
=0;i<
	gŒuthV®ues
.
size
();i++)

277 if(
	gŒuthV®ues
[
i
]==1)

279 
numOÃ
++;

283 
	gnumZ”o
++;

286 if((
	gnumOÃ
 =ğ0 && 
ÃgSignFound
) ||

287 (
numZ”o
 =ğ0 && 
posSignFound
))

290 
WCÏu£
* 
nCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£
);

291 
	gi
=0;i<
	gm©chšgIds
.
size
();i++)

293 
	gnCÏu£
->
»moveAtom
(
m©chšgIds
[
i
]-i);

295 
	gnCÏu£
->
	g§tisf›d
=
Œue
;

296 
	gdomašModif›dCÏu£s
.
push_back
(
nCÏu£
);

299 
	grmCÁ
 = 0;

300 
WCÏu£
* 
	g»maššgCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
şau£
);

301 
	gveùÜ
<
	gWCÏu£
*> 
	g§tCÏu£s
;

302 
	gi
=0;i<
	gm©chšgIds
.
size
();i++)

304 
	gšd
 = 
m©chšgIds
[
i
]-
rmCÁ
;

305 if(!
	g»maššgCÏu£
->
	gsign
[
šd
])

307 if(
	gnumOÃ
 > 0)

309 
WCÏu£
* 
	gposCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
»maššgCÏu£
);

311 
	gposCÏu£
->
	g©oms
[
šd
]->
	g‹rms
[
sšgËtÚIndex
]->
	gdomaš
.
”a£
(
posCÏu£
->
©oms
[šd]->
‹rms
[sšgËtÚIndex]->
domaš
.
begš
()

312 + 
numOÃ
,
posCÏu£
->
©oms
[
šd
]->
‹rms
[
sšgËtÚIndex
]->
domaš
.
’d
());

313 
	gposCÏu£
->
	g§tisf›d
 = 
Œue
;

314 
	gposCÏu£
->
»moveAtom
(
šd
);

315 
	g§tCÏu£s
.
push_back
(
posCÏu£
);

318 
	g»maššgCÏu£
->
	g©oms
[
šd
]->
	g‹rms
[
sšgËtÚIndex
]->
	gdomaš
.
”a£
(
»maššgCÏu£
->
©oms
[šd]->
‹rms
[sšgËtÚIndex]->
domaš
.
begš
(),

319 
»maššgCÏu£
->
©oms
[
šd
]->
‹rms
[
sšgËtÚIndex
]->
domaš
.
begš
()+
numOÃ
);

320 
	g»maššgCÏu£
->
»moveAtom
(
šd
);

321 
	grmCÁ
++;

323 if(
	g»maššgCÏu£
->
	gsign
[
šd
])

325 if(
	gnumZ”o
 > 0)

327 
WCÏu£
* 
	gposCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
»maššgCÏu£
);

331 
	gposCÏu£
->
	g©oms
[
šd
]->
	g‹rms
[
sšgËtÚIndex
]->
	gdomaš
.
”a£
(
posCÏu£
->
©oms
[šd]->
‹rms
[sšgËtÚIndex]->
domaš
.
begš
()

332 ,
posCÏu£
->
©oms
[
šd
]->
‹rms
[
sšgËtÚIndex
]->
domaš
.
’d
(è- 
numZ”o
);

333 
	gposCÏu£
->
	g§tisf›d
 = 
Œue
;

334 
	gposCÏu£
->
»moveAtom
(
šd
);

335 
	g§tCÏu£s
.
push_back
(
posCÏu£
);

340 
	g»maššgCÏu£
->
	g©oms
[
šd
]->
	g‹rms
[
sšgËtÚIndex
]->
	gdomaš
.
”a£
(
»maššgCÏu£
->
©oms
[šd]->
‹rms
[sšgËtÚIndex]->
domaš
.
’d
()-
numZ”o
,

341 
»maššgCÏu£
->
©oms
[
šd
]->
‹rms
[
sšgËtÚIndex
]->
domaš
.
’d
());

342 
	g»maššgCÏu£
->
»moveAtom
(
šd
);

343 
	grmCÁ
++;

346 
	gt
=0;t<
	g§tCÏu£s
.
size
();t++)

348 
	gi
=0;i<
	g§tCÏu£s
[
t
]->
	g©oms
.
size
();i++)

350 if(
	g§tCÏu£s
[
t
]->
	g©oms
[
i
]->
	gsymbŞ
->
	gid
 =ğ
©om
->
symbŞ
->
id
)

352 
§tCÏu£s
[
t
]->
»moveAtom
(
i
);

353 
	gi
--;

356 
	gdomašModif›dCÏu£s
.
push_back
(
§tCÏu£s
[
t
]);

358 
	gdomašModif›dCÏu£s
.
push_back
(
»maššgCÏu£
);

	@liftedinfer/liftedweightedmodelcounting/src/sampler.cpp

1 
	~"§m¶”.h
"

2 
	~"¿ndomg’ut.h
"

3 
	~<®gÜ™hm
>

4 
usšg
 
Çme¥aû
 
	g¡d
;

6 
	gLSam¶”
::
	$LSam¶”
()

9 
	`compu‹Di¡ributiÚTabË
();

10 
	}
}

12 
	gLSam¶”
::~
	$LSam¶”
()

14 
cStÜedDi¡ributiÚ
.
	`ş—r
();

15 
	}
}

18 
	gLSam¶”
::
compu‹CumuÏtiveDi¡ributiÚ
(
domašSize
,
veùÜ
<
LogDoubË
>& 
cdf
)

20 
LogDoubË
 
nÜm_cÚ¡
(0,
çl£
);

21 
	gcdf
.
»size
(
domašSize
+1);

22 
	gveùÜ
<
	gLogDoubË
> 
´ob
(
domašSize
+1);

23 
	gj
=0;j<=
domašSize
;j++)

25 
	gcdf
[
j
] = 
LogDoubË
::
BšomŸl
(
domašSize
,j);

26 
	gnÜm_cÚ¡
 +ğ
cdf
[
j
];

28 
	gcdf
[0] = 
cdf
[0]/
nÜm_cÚ¡
;

29 
	gj
=1;j<
	gcdf
.
size
()-1;j++)

31 
	gcdf
[
j
] = 
cdf
[j]/
nÜm_cÚ¡
;

32 
	gcdf
[
j
] = 
cdf
[j-1] + cdf[j];

34 
	gcdf
[
cdf
.
size
()-1] = 
LogDoubË
(1,
çl£
);

38 
	gLSam¶”
::
	$compu‹Di¡ributiÚTabË
()

40 
cStÜedDi¡ributiÚ
.
	`»size
(
DTABLESIZE
+1);

41 
i
=1;i<=
DTABLESIZE
;i++)

43 
LogDoubË
 
cumuÏtiveDi¡
;

44 
LogDoubË
 
	`nÜm_cÚ¡
(0,
çl£
);

45 
	`compu‹CumuÏtiveDi¡ributiÚ
(
i
, 
cStÜedDi¡ributiÚ
[i]);

47 #ifdeà
__DEBUG_PRINT1__


48 
i
=0;i<
cStÜedDi¡ributiÚ
.
	`size
();i++)

50 
j
=0;j<
cStÜedDi¡ributiÚ
[
i
].
	`size
();j++)

51 
cout
<<
cStÜedDi¡ributiÚ
[
i
].
	`©
(
j
)<<" ";

52 
cout
<<
’dl
;

55 
	}
}

58 
	gLSam¶”
::
doUnifÜmDi¡Sam¶šg
(
domašSize
, 
veùÜ
<
boŞ
> 
com¶‘edGroups
, 
com¶‘edCouÁ
,

59 
LogDoubË
& 
´obOfSam¶e
, & 
numTrue
, 
veùÜ
<>& 
ŒuthV®ue
)

61 
	gveùÜ
<
	gLogDoubË
> 
	gcDi¡ributiÚ
;

62 if(
	gdomašSize
 <ğ
DTABLESIZE
)

65 
cDi¡ributiÚ
 = 
cStÜedDi¡ributiÚ
[
domašSize
];

70 
compu‹CumuÏtiveDi¡ributiÚ
(
domašSize
,
cDi¡ributiÚ
);

73 
	ggroupNumb”
 = 0;

75 if(
	gcom¶‘edCouÁ
 > 0)

77 
LogDoubË
 
	gÃw_nÜm
;

78 
	gveùÜ
<
	gLogDoubË
> 
	gÃw_di¡ributiÚ
;

79 
	gveùÜ
<> 
	gnumOÃs
;

80 
	gt
=0;t<
	gcom¶‘edGroups
.
size
();t++)

82 if(!
	gcom¶‘edGroups
[
t
])

84 
LogDoubË
 
	gpV®
;

85 if(
	gt
==0)

86 
pV®
 = 
cDi¡ributiÚ
[0];

88 
	gpV®
 = 
LogDoubË
(
exp
(
cDi¡ributiÚ
[
t
].
v®ue
è-ƒxp(cDi¡ributiÚ[t-1].v®ue),
çl£
);

89 
	gÃw_di¡ributiÚ
.
push_back
(
pV®
);

90 
	gnumOÃs
.
push_back
(
t
);

91 
	gÃw_nÜm
 +ğ
pV®
;

94 
	gÃw_di¡ributiÚ
[0] = 
Ãw_di¡ributiÚ
[0]/
Ãw_nÜm
;

95 
	gt
=1;t<
	gÃw_di¡ributiÚ
.
size
()-1;t++)

97 
	gÃw_di¡ributiÚ
[
t
] = 
Ãw_di¡ributiÚ
[t]/
Ãw_nÜm
;

98 
	gÃw_di¡ributiÚ
[
t
] = 
Ãw_di¡ributiÚ
[t] +‚ew_distribution[t-1];

100 
	gÃw_di¡ributiÚ
[
Ãw_di¡ributiÚ
.
size
()-1] = 
LogDoubË
(1,
çl£
);

101 
	gu
 = 
LvRªdomG’Ut
::
In¡ªû
()->
g‘NÜmRªd
();

102 
LogDoubË
 
lu
(
u
,
çl£
);

103 
	gšdex
 = 
low”_bound
(
Ãw_di¡ributiÚ
.
begš
(),Ãw_di¡ributiÚ.
’d
(),
lu
è- 
	gÃw_di¡ributiÚ
.begin();

104 
	ggroupNumb”
 = 
numOÃs
[
šdex
];

105 if(
	gšdex
 == 0)

106 
´obOfSam¶e
 = 
Ãw_di¡ributiÚ
[0];

108 
	g´obOfSam¶e
 = 
LogDoubË
(
exp
(
Ãw_di¡ributiÚ
[
šdex
].
v®ue
)-expÒew_di¡ributiÚ[šdex-1].v®ue),
çl£
);

113 
	gu
 = 
LvRªdomG’Ut
::
In¡ªû
()->
g‘NÜmRªd
();

114 
LogDoubË
 
lu
(
u
,
çl£
);

115 
	ggroupNumb”
 = 
low”_bound
(
cDi¡ributiÚ
.
begš
(),cDi¡ributiÚ.
’d
(),
lu
è- 
	gcDi¡ributiÚ
.begin();

116 if(
	ggroupNumb”
 == 0)

117 
´obOfSam¶e
 = 
cDi¡ributiÚ
[0];

119 
	g´obOfSam¶e
 = 
LogDoubË
(
exp
(
cDi¡ributiÚ
[
groupNumb”
].
v®ue
)-exp(cDi¡ributiÚ[groupNumb”-1].v®ue),
çl£
);

121 #ifdeà
__DEBUG_PRINT__


122 
	gcout
<<"Probab™y oàgrou°ğ"<<
	g´obOfSam¶e
<<
	g’dl
;

125 
	gŒuthV®ue
.
»size
(
domašSize
);

127 
	gÚeCouÁ
=0;

128 
	gÚeCouÁ
 !ğ
groupNumb”
)

130 
pos™iÚOÃs
 = 
LvRªdomG’Ut
::
In¡ªû
()->
g‘RªdomPos™iÚ
(
domašSize
);

131 if(
	gŒuthV®ue
[
pos™iÚOÃs
]!=1)

133 
ŒuthV®ue
[
pos™iÚOÃs
]=1;

134 
	gÚeCouÁ
++;

137 
	gnumTrue
=
groupNumb”
;

138 #ifdeà
__DEBUG_PRINT__


139 
	gcout
<<"Generated Truth Vector = [";

140 
	gi
=0;i<
	gŒuthV®ue
.
size
();i++)

141 
	gcout
<<
	gŒuthV®ue
[
i
]<<" ";

142 
	gcout
<<"]"<<
	g’dl
;

	@liftedinfer/liftedweightedmodelcounting/src/splitter.cpp

1 
	~"¥l™‹r.h
"

2 
	~"ş—nuputs.h
"

4 
	gLS¶™‹r
::
	$LS¶™‹r
()

6 
§m¶”
 = 
Ãw
 
	`LSam¶”
();

7 
»sŞv”
 = 
Ãw
 
	`LResŞv”
();

8 
	}
}

10 
	gLS¶™‹r
::~
	$LS¶™‹r
()

12 
d–‘e
 
§m¶”
;

13 
d–‘e
 
»sŞv”
;

14 
	}
}

16 
	gLS¶™‹r
::
doFuÎGroundšg
(
veùÜ
<
WCÏu£
*> 
CNF
,
Atom
* 
©om
,veùÜ<WCÏu£*>& 
groundCNF
,

17 
veùÜ
<veùÜ<> >& 
®lGroundšgs
,& 
numGroundšgs
)

19 
	g»sŞv”
->
doFuÎGroundšg
(
CNF
,
©om
,
groundCNF
,
®lGroundšgs
,
numGroundšgs
);

22 
	gLS¶™‹r
::
doCom¶‘eS¶™InChunks
(
veùÜ
<
WCÏu£
*> 
groundCNF
,
©omId
, veùÜ<veùÜ<> > 
®lGroundšgs
, 
numGroundšgs
,

23 
veùÜ
<veùÜ<
WCÏu£
*> >& 
»sŞvedCNFLi¡
,
¡¬Šum
, 
chunkSize
,
boŞ
& 
dÚe
)

26 
	gveùÜ
<> 
bšVeùÜ
(
numGroundšgs
);

27 
	gi
=0;i<
	gnumGroundšgs
;i++)

29 
	gbšVeùÜ
[
i
] = 0;

31 
	gmask
 = 1;

32 
	g™”
=
numGroundšgs
-1;

33 
	g¡¬Šum
)

35 
	gx
 = 
¡¬Šum
 & 
mask
;

36 
	gbšVeùÜ
[
™”
--] = 
x
;

37 
	g¡¬Šum
 = 
¡¬Šum
 >> 1;

40 
	g™”
 = 0;

44 
	gveùÜ
<
	gWCÏu£
*> 
	g»sŞvedCNF
;

45 
	gi
=0;i<
	ggroundCNF
.
size
();i++)

47 
WCÏu£
* 
	g»sŞvedCÏu£
=
LvrMLN
::
ü—‹_Ãw_şau£
(
groundCNF
[
i
]);

48 
	g»sŞv”
->
»sŞveGroundCÏu£
(
groundCNF
[
i
],
©omId
,
bšVeùÜ
,
®lGroundšgs
,*
»sŞvedCÏu£
);

49 
	g»sŞvedCNF
.
push_back
(
»sŞvedCÏu£
);

51 
	g»sŞvedCNFLi¡
.
push_back
(
»sŞvedCNF
);

52 
	gšd
 = 
bšVeùÜ
.
size
()-1;

53 
	gbšVeùÜ
[
šd
]++;

54 
	gbšVeùÜ
[
šd
] == 2)

56 
bšVeùÜ
[
šd
]=0;

57 if((
	gšd
-1) >= 0)

58 
bšVeùÜ
[
šd
-1]++;

61 
	gdÚe
=
Œue
;

64 
	gšd
--;

66 
	g™”
++;

68 if(
	g™”
 =ğ
chunkSize
)

71 if(
	gdÚe
)

77 
	gLS¶™‹r
::
doLiáedS¶™
(
veùÜ
<
WCÏu£
*> 
CNF
, 
Atom
* 
©om
, veùÜ<veùÜ<WCÏu£*> >& 
»sŞvedCNFLi¡
,
sšgËtÚIndex
)

79 
	gnumb”OfGroundšgs
=1;

80 
	gi
=0;i<
	g©om
->
	g‹rms
.
size
();i++)

82 
	gnumb”OfGroundšgs
 *ğ
©om
->
‹rms
[
i
]->
domaš
.
size
();

84 
	gveùÜ
<> 
ŒuthV®ues
(
numb”OfGroundšgs
);

85 
	gi
=0;i<
	gnumb”OfGroundšgs
;i++)

87 
	gŒuthV®ues
[
i
] = 0;

89 
	g»sŞvedCNFLi¡
.
»size
(
numb”OfGroundšgs
+1);

90 
	gt
=0;t<=
numb”OfGroundšgs
;t++)

92 
	gm
=0;m<
	gt
;m++)

93 
	gŒuthV®ues
[
m
]=1;

94 
	gveùÜ
<
	gWCÏu£
*> 
	g»duûdDomašCNF
;

95 
	gi
=0;i<
	gCNF
.
size
();i++)

97 
	gveùÜ
<
	gWCÏu£
*> 
	gÃwCÏu£s
;

98 
	g»sŞv”
->
»duûDomašs
(
CNF
[
i
],
©om
,
ŒuthV®ues
,
ÃwCÏu£s
,
sšgËtÚIndex
);

99 
	gk
=0;k<
	gÃwCÏu£s
.
size
();k++)

100 
	g»duûdDomašCNF
.
push_back
(
ÃwCÏu£s
[
k
]);

102 
	g»sŞvedCNFLi¡
[
t
] = 
»duûdDomašCNF
;

108 
boŞ
 
	gLS¶™‹r
::
doAµroxS¶™
(
veùÜ
<
WCÏu£
*> 
CNF
,
Atom
* 
©om
, 
numGroundšgs
, veùÜ<boŞ> 
com¶‘edGroups
, 
com¶‘edCouÁ
,

109 
LogDoubË
& 
´obOfSam¶e
, & 
numTrue
, 
veùÜ
<veùÜ<
WCÏu£
*> >& 
»sŞvedLi¡
)

111 
	gsšgËtÚIndex
;

112 
boŞ
 
	gsšgËtÚ
 = 
©om
->
isSšgËtÚAtom
(
sšgËtÚIndex
);

113 
	gveùÜ
<> 
	gŒuthV®ues
;

114 
	g§m¶”
->
doUnifÜmDi¡Sam¶šg
(
numGroundšgs
, 
com¶‘edGroups
, 
com¶‘edCouÁ
, 
´obOfSam¶e
, 
numTrue
, 
ŒuthV®ues
);

115 if(!
	gsšgËtÚ
)

118 
	gveùÜ
<
	gWCÏu£
*> 
	ggroundCNF
;

119 
	gveùÜ
<veùÜ<> > 
	g®lGroundšgs
;

120 
	gnumGroundšgs
;

121 
doFuÎGroundšg
(
CNF
,
©om
,
groundCNF
,
®lGroundšgs
,
numGroundšgs
);

122 
	gveùÜ
<
	gWCÏu£
*> 
	g»sŞvedCNF
;

123 
	gi
=0;i<
	ggroundCNF
.
size
();i++)

125 
WCÏu£
* 
	g»sŞvedCÏu£
=
LvrMLN
::
ü—‹_Ãw_şau£
(
groundCNF
[
i
]);

126 
	g»sŞv”
->
»sŞveGroundCÏu£
(
groundCNF
[
i
],
©om
->
symbŞ
->
id
,
ŒuthV®ues
,
®lGroundšgs
,*
»sŞvedCÏu£
);

127 
	g»sŞvedCNF
.
push_back
(
»sŞvedCÏu£
);

129 
	g»sŞvedLi¡
.
push_back
(
»sŞvedCNF
);

130 
ş—nup
(
groundCNF
);

135 
boŞ
 
	g£lfJošed
 = 
çl£
;

136 
	gi
=0;i<
	gCNF
.
size
();i++)

138 if(
	gCNF
[
i
]->
isS–fJošedOnAtom
(
©om
))

140 
	g£lfJošed
 = 
Œue
;

145 if(!
	g£lfJošed
)

148 
	gveùÜ
<
	gWCÏu£
*> 
	g»duûdDomašCNF
;

149 
	gi
=0;i<
	gCNF
.
size
();i++)

151 
	gveùÜ
<
	gWCÏu£
*> 
	gÃwCÏu£s
;

152 
	g»sŞv”
->
»duûDomašs
(
CNF
[
i
],
©om
,
ŒuthV®ues
,
ÃwCÏu£s
,
sšgËtÚIndex
);

153 
	gk
=0;k<
	gÃwCÏu£s
.
size
();k++)

154 
	g»duûdDomašCNF
.
push_back
(
ÃwCÏu£s
[
k
]);

156 
	g»sŞvedLi¡
.
push_back
(
»duûdDomašCNF
);

161 
	gveùÜ
<
	gWCÏu£
*> 
	ggroundCNF
;

162 
	gveùÜ
<veùÜ<> > 
	g®lGroundšgs
;

163 
	gnumGroundšgs
;

164 
doFuÎGroundšg
(
CNF
,
©om
,
groundCNF
,
®lGroundšgs
,
numGroundšgs
);

165 
	gveùÜ
<
	gWCÏu£
*> 
	g»sŞvedCNF
;

166 
	gi
=0;i<
	ggroundCNF
.
size
();i++)

168 
WCÏu£
* 
	g»sŞvedCÏu£
=
LvrMLN
::
ü—‹_Ãw_şau£
(
groundCNF
[
i
]);

169 
	g»sŞv”
->
»sŞveGroundCÏu£
(
groundCNF
[
i
],
©om
->
symbŞ
->
id
,
ŒuthV®ues
,
®lGroundšgs
,*
»sŞvedCÏu£
);

170 
	g»sŞvedCNF
.
push_back
(
»sŞvedCÏu£
);

172 
	g»sŞvedLi¡
.
push_back
(
»sŞvedCNF
);

173 
ş—nup
(
groundCNF
);

176  
	gçl£
;

179 
	gLS¶™‹r
::
doLiáedS¶™S–fJošs
(
veùÜ
<
WCÏu£
*> 
CNF
, 
Atom
* 
©om
, veùÜ<veùÜ<WCÏu£*> >& 
»sŞvedCNFLi¡
,
sšgËtÚIndex
)

181 
	gnumb”OfGroundšgs
=1;

182 
	gi
=0;i<
	g©om
->
	g‹rms
.
size
();i++)

184 
	gnumb”OfGroundšgs
 *ğ
©om
->
‹rms
[
i
]->
domaš
.
size
();

186 
	gveùÜ
<> 
ŒuthV®ues
(
numb”OfGroundšgs
);

187 
	gi
=0;i<
	gnumb”OfGroundšgs
;i++)

189 
	gŒuthV®ues
[
i
] = 0;

191 
	g»sŞvedCNFLi¡
.
»size
(
numb”OfGroundšgs
+1);

192 
	gt
=0;t<=
numb”OfGroundšgs
;t++)

194 
	gm
=0;m<
	gt
;m++)

195 
	gŒuthV®ues
[
m
]=1;

196 
	gveùÜ
<
	gWCÏu£
*> 
	g»duûdDomašCNF
;

197 
	gi
=0;i<
	gCNF
.
size
();i++)

199 
	gveùÜ
<
	gWCÏu£
*> 
	gÃwCÏu£s
;

200 
	g»sŞv”
->
»duûDomašsS–fJošs
(
CNF
[
i
],
©om
,
ŒuthV®ues
,
ÃwCÏu£s
,
sšgËtÚIndex
);

201 
	gk
=0;k<
	gÃwCÏu£s
.
size
();k++)

202 
	g»duûdDomašCNF
.
push_back
(
ÃwCÏu£s
[
k
]);

204 
	g»sŞvedCNFLi¡
[
t
] = 
»duûdDomašCNF
;

	@liftedinfer/liftedweightedmodelcounting/src/unifier.cpp

1 
	~"unif›r.h
"

2 
	~<®gÜ™hm
>

3 
usšg
 
Çme¥aû
 
	g¡d
;

4 
	~"ş—nuputs.h
"

6 
boŞ
 
	$com·»Func
(
Atom
* 
a1
, Atom* 
a2
)

8  
a1
->
symbŞ
->symbŞ.
	`com·»
(
a2
->symbol->symbol)<0;

9 
	}
}

12 
	gLUnif›r
::
g‘T”mR–©iÚs
(
WCÏu£
* 
şau£
,
veùÜ
<
LvrT”m
*>& 
şau£_‹rms
, veùÜ<veùÜ<> >& 
şau£_pos™iÚs
)

15 
	gi
=0;i<
	gşau£
->
	g©oms
.
size
();i++){

16 if(
	gşau£
->
	g©oms
[
i
]->
isCÚ¡ªt
())

18 
	gj
=0;j<
	gşau£
->
	g©oms
[
i
]->
	g‹rms
.
size
();j++){

19 
boŞ
 
	gfound
 = 
çl£
;

20 
	gk
=0;k<
	gşau£_‹rms
.
size
();k++)

22 if(
	gşau£_‹rms
[
k
]==
şau£
->
©oms
[
i
]->
‹rms
[
j
])

24 
found
=
Œue
;

29 if(!
	gfound
)

30 
	gşau£_‹rms
.
push_back
(
şau£
->
©oms
[
i
]->
‹rms
[
j
]);

33 
	gşau£_pos™iÚs
.
»size
(
şau£_‹rms
.
size
());

34 
	gi
=0;i<
	gşau£
->
	g©oms
.
size
();i++){

35 
	gj
=0;j<
	gşau£
->
	g©oms
[
i
]->
	g‹rms
.
size
();j++){

36 
	gm©chšgIndex
 = -1;

37 
	gk
=0;k<
	gşau£_‹rms
.
size
();k++)

39 if(
	gşau£_‹rms
[
k
]==
şau£
->
©oms
[
i
]->
‹rms
[
j
])

41 
m©chšgIndex
 = 
k
;

45 if(
	gm©chšgIndex
!=-1)

46 
şau£_pos™iÚs
[
m©chšgIndex
].
push_back
(
j
);

51 
boŞ
 
	gLUnif›r
::
şau£Unify
(
WCÏu£
* 
c1
, WCÏu£* 
c2
,
m­
<,
veùÜ
<> >& 
Üigš®IdCÚ¡s
)

53 if(
	gc1
->
	g©oms
.
size
(è!ğ
c2
->
©oms
.size(è|| 
c1
->
§tisf›d
 != c2->satisfied)

54  
çl£
;

57 
sÜt
(
c1
->
©oms
.
begš
(),c1->©oms.
’d
(),
com·»Func
);

59 
sÜt
(
c2
->
©oms
.
begš
(),c2->©oms.
’d
(),
com·»Func
);

61 
	gi
=0;i<
	gc1
->
	g©oms
.
size
();i++)

63 if(
	gc1
->
	gsign
[
i
]!=
c2
->
sign
[i] || 
c1
->
©oms
[i]->
symbŞ
->symbŞ.
com·»
(c2->atoms[i]->symbol->symbol)!=0)

64  
çl£
;

66 if(
	gc1
->
	g©oms
[
i
]->
	g‹rms
.
size
()!=
c2
->
©oms
[i]->
‹rms
.size())

67  
çl£
;

70 
	gj
=0;j<
	gc1
->
	g©oms
[
i
]->
	g‹rms
.
size
();j++)

72 if(
	gc1
->
	g©oms
[
i
]->
	g‹rms
[
j
]->
	gdomaš
.
size
(è!ğ
c2
->
©oms
[i]->
‹rms
[j]->
domaš
.size())

73  
çl£
;

76 if(
	gc1
->
	g©oms
[
i
]->
	g‹rms
[
j
]->
	gdomaš
.
size
() == 1)

78 if(
c1
->
©oms
[
i
]->
‹rms
[
j
]->
domaš
[0]!=
c2
->atoms[i]->terms[j]->domain[0])

81 if(
Üigš®IdCÚ¡s
.
fšd
(
c1
->
©oms
[
i
]->
symbŞ
->
·»ÁId
)!=Üigš®IdCÚ¡s.
’d
())

83 if(
Üigš®IdCÚ¡s
[
c1
->
©oms
[
i
]->
symbŞ
->
·»ÁId
].
©
(
j
)==-1)

85 
Üigš®IdCÚ¡s
[
c1
->
©oms
[
i
]->
symbŞ
->
·»ÁId
].
©
(
j
èğ
c2
->©oms[i]->
‹rms
[j]->
domaš
[0];

87 if(
	gÜigš®IdCÚ¡s
[
c1
->
©oms
[
i
]->
	gsymbŞ
->
	g·»ÁId
].
©
(
j
)!=
c2
->©oms[i]->
‹rms
[j]->
domaš
[0])

88  
çl£
;

96 
	gveùÜ
<
	gLvrT”m
*> 
	g‹rms1
;

97 
	gveùÜ
<
	gLvrT”m
*> 
	g‹rms2
;

98 
	gveùÜ
<veùÜ<> > 
	gpos1
;

99 
	gveùÜ
<veùÜ<> > 
	gpos2
;

100 
g‘T”mR–©iÚs
(
c1
,
‹rms1
,
pos1
);

101 
g‘T”mR–©iÚs
(
c2
,
‹rms2
,
pos2
);

102 if(
	g‹rms1
.
size
()!=
‹rms2
.size())

103  
çl£
;

104 
	gsize
 = 
‹rms1
.
size
();

105 
	gi
=0;i<
	gsize
;i++)

107 if(
	g‹rms1
[
i
]->
	gdomaš
.
size
()!=
‹rms2
[i]->
domaš
.size())

108  
çl£
;

115 if(
	gpos1
[
i
].
size
()!=
pos2
[i].size())

116  
çl£
;

119 
	gj
=0;j<
	gpos1
.
size
();j++)

121 if(
	gpos1
[
j
]!=
pos2
[j])

122  
çl£
;

127  
	gŒue
;

130 
boŞ
 
	gLUnif›r
::
CNFUnify
(
veùÜ
<
WCÏu£
*> 
CNF1
, veùÜ<WCÏu£*> 
CNF2
)

132 
	gveùÜ
<
	gboŞ
> 
com¶‘edIndex
(
CNF2
.
size
());

134 
	gm­
<,
	gveùÜ
<> > 
	gÜigš®IdCÚ¡s
;

135 
	gmaxDeg»e
 = 
mÊ
.
g‘MaxDeg»e
();

136 
	gi
=0;i<
	gmÊ
.
	gsymbŞs
.
size
();i++)

138 
	gveùÜ
<> 
‹mp
(
maxDeg»e
);

139 
	gj
=0;j<
	g‹mp
.
size
();j++)

140 
	g‹mp
[
j
] = -1;

141 
	gÜigš®IdCÚ¡s
[
mÊ
.
symbŞs
[
i
]->
	g·»ÁId
] = 
‹mp
;

144 
	gi
=0;i<
	gCNF1
.
size
();i++)

146 
boŞ
 
	gunif›d
 = 
çl£
;

147 
	gj
=0;j<
	gCNF2
.
size
();j++)

149 if(
	gcom¶‘edIndex
[
j
])

151 if(
şau£Unify
(
CNF1
[
i
],
CNF2
[
j
],
Üigš®IdCÚ¡s
))

153 
	gcom¶‘edIndex
[
j
]=
Œue
;

154 
	gunif›d
 = 
Œue
;

158 if(!
	gunif›d
)

159  
	gçl£
;

162  
	gŒue
;

	@liftedinfer/liftedweightedmodelcounting/src/wmconvertor.cpp

1 
	~"wmcÚv”tÜ.h
"

2 
	~<s¡»am
>

3 
usšg
 
Çme¥aû
 
	g¡d
;

6 
AtomLoÿtiÚ
* 
	gLWMCÚv”tÜ
::
g‘M©chedLoÿtiÚ
(
veùÜ
<AtomLoÿtiÚ*> 
©omLocs
, veùÜ<AtomLoÿtiÚ*> 
‹rmLocs
,

7 
WCÏu£
* 
şau£
)

9 
	gn
=0;n<
	g‹rmLocs
.
size
();n++)

11 
	g™”
 =0;

12 
	gk
=0;k<
	gşau£
->
	g©oms
.
size
();k++)

14 
	gm
=0;m<
	gşau£
->
	g©oms
[
k
]->
	g‹rms
.
size
();m++)

16 if(
	g‹rmLocs
.
©
(
n
)->
isEqu®
(
©omLocs
.©(
™”
++)))

19  (
Ãw
 
AtomLoÿtiÚ
(-1,
k
,
m
));

24  
	gNULL
;

26 
	gLWMCÚv”tÜ
::
­³ndNewP»diÿ‹
(
veùÜ
<
LvrT”m
*> 
ÃwT”ms
, veùÜ<veùÜ<
AtomLoÿtiÚ
*> > 
‹rmLocs
,

27 
veùÜ
<veùÜ<
AtomLoÿtiÚ
*> > 
©omLocs
,veùÜ<
WCÏu£
*>& 
şau£s
,
P»diÿ‹SymbŞ
* 
ps
)

29 
	gi
=0;i<
	gşau£s
.
size
();i++)

31 
	gveùÜ
<
	gLvrT”m
*> 
ÃwSymbŞT”ms
(
ÃwT”ms
.
size
());

33 
	gj
=0;j<
	g‹rmLocs
.
size
();j++)

58 
AtomLoÿtiÚ
* 
	gm©ch
 = 
g‘M©chedLoÿtiÚ
(
©omLocs
[
i
],
‹rmLocs
[
j
],
şau£s
[i]);

59 if(
	gm©ch
 =ğ
NULL
)

62 
ÃwSymbŞT”ms
[
j
] = 
LvrMLN
::
ü—‹_Ãw_‹rm
(
ÃwT”ms
[j]);

66 
	gÃwSymbŞT”ms
[
j
] = 
şau£s
[
i
]->
©oms
[
m©ch
->
©omIndex
]->
‹rms
[m©ch->
‹rmIndex
];

71 
Atom
* 
	gÃwSymAtom
 = 
Ãw
 Atom(
LvrMLN
::
ü—‹_Ãw_symbŞ
(
ps
),
ÃwSymbŞT”ms
);

72 
	gşau£s
[
i
]->
	g©oms
.
push_back
(
ÃwSymAtom
);

73 
	gşau£s
[
i
]->
	gsign
.
push_back
(
çl£
);

78 
	gLWMCÚv”tÜ
::
­³ndNewP»diÿ‹1
(
veùÜ
<
LvrT”m
*> 
ÃwT”ms
, veùÜ<veùÜ<
AtomLoÿtiÚ
*> > 
‹rmLocs
,veùÜ<
WCÏu£
*>& 
şau£s
,
P»diÿ‹SymbŞ
* 
ps
)

80 
	gi
=0;i<
	gşau£s
.
size
();i++)

82 
	gveùÜ
<
	gLvrT”m
*> 
ÃwSymbŞT”ms
(
ÃwT”ms
.
size
());

84 
	gj
=0;j<
	g‹rmLocs
.
size
();j++)

87 
AtomLoÿtiÚ
* 
	gfoundLoÿtiÚ
 = 
NULL
;

88 
	gk
=0;k<
	g‹rmLocs
[
j
].
size
();k++)

91 
	gm
=0;m<
	gşau£s
[
i
]->
	g©oms
.
size
();m++)

93 
	gn
=0;n<
	gşau£s
[
i
]->
	g©oms
[
m
]->
	g‹rms
.
size
();n++)

95 
AtomLoÿtiÚ
 
ÃwLoÿtiÚ
(
i
,
m
,
n
);

96 if(
	g‹rmLocs
[
j
].
©
(
k
)->
isEqu®
(&
ÃwLoÿtiÚ
))

99 
	gfoundLoÿtiÚ
 = 
‹rmLocs
[
j
].
©
(
k
);

103 if(
	gfoundLoÿtiÚ
!=
NULL
)

107 if(
	gfoundLoÿtiÚ
 =ğ
NULL
)

110 
ÃwSymbŞT”ms
[
j
] = 
LvrMLN
::
ü—‹_Ãw_‹rm
(
ÃwT”ms
[j]);

115 
	gÃwSymbŞT”ms
[
j
] = 
şau£s
[
i
]->
©oms
[
foundLoÿtiÚ
->
©omIndex
]->
‹rms
[foundLoÿtiÚ->
‹rmIndex
];

118 
Atom
* 
	gÃwSymAtom
 = 
Ãw
 Atom(
LvrMLN
::
ü—‹_Ãw_symbŞ
(
ps
),
ÃwSymbŞT”ms
);

119 
	gşau£s
[
i
]->
	g©oms
.
push_back
(
ÃwSymAtom
);

120 
	gşau£s
[
i
]->
	gsign
.
push_back
(
Œue
);

126 
	gLWMCÚv”tÜ
::
g‘NewAtomT”ms
(
fÜmuÏIndex
, 
veùÜ
<
LvrT”m
*>& 
‹rms
,veùÜ<veùÜ<
AtomLoÿtiÚ
*> >& 
loÿtiÚIndex
)

128 
	g¡¬t
 = 
mÊ
.
fÜmuÏs
[
fÜmuÏIndex
]->
MLNCÏu£S¹Index
;

129 
	g’d
 = 
mÊ
.
fÜmuÏs
[
fÜmuÏIndex
]->
MLNCÏu£EndIndex
;

130 
	gi
=
¡¬t
;i<
	g’d
;i++)

132 
	g»lLoÿtiÚ
 = 
i
 - 
¡¬t
;

133 
	gveùÜ
<
	gLvrT”m
*> 
	gcom¶‘edT”ms
;

134 
	gcu¼Index
 = 
loÿtiÚIndex
.
size
();

135 
	gj
=0;j<
	gmÊ
.
	gşau£s
[
i
]->
	g©oms
.
size
();j++)

137 
	gk
=0;k<
	gmÊ
.
	gşau£s
[
i
]->
	g©oms
[
j
]->
	g‹rms
.
size
();k++)

139 
LvrT”m
* 
	g‹rm
 = 
mÊ
.
şau£s
[
i
]->
©oms
[
j
]->
‹rms
[
k
];

140 
boŞ
 
	gfound
 =
çl£
;

141 
	gm
=0;m<
	gcom¶‘edT”ms
.
size
();m++)

143 if(
	gcom¶‘edT”ms
[
m
]==
‹rm
)

145 
found
=
Œue
;

147 
	gloÿtiÚIndex
[
cu¼Index
+
m
].
push_back
(
Ãw
 
AtomLoÿtiÚ
(
»lLoÿtiÚ
,
j
,
k
));

151 if(!
	gfound
)

153 
	gcom¶‘edT”ms
.
push_back
(
‹rm
);

155 
AtomLoÿtiÚ
* 
	g©Loc
 = 
Ãw
 AtomLoÿtiÚ(
»lLoÿtiÚ
,
j
,
k
);

156 
	gveùÜ
<
	gAtomLoÿtiÚ
*> 
	g‹mpLoc
;

157 
	g‹mpLoc
.
push_back
(
©Loc
);

158 
	gloÿtiÚIndex
.
push_back
(
‹mpLoc
);

162 
	gk
=0;k<
	gcom¶‘edT”ms
.
size
();k++)

163 
	g‹rms
.
push_back
(
com¶‘edT”ms
[
k
]);

168 
	gveùÜ
<
	gWCÏu£
*> 
	gLWMCÚv”tÜ
::
g’”©eAtomCombš©iÚs
(
šdex
,
¡¬tIndex
,
veùÜ
<veùÜ<
AtomLoÿtiÚ
*> >& 
loÿtiÚs
)

170 if(
	gšdex
 =ğ
¡¬tIndex
)

172 
veùÜ
<
WCÏu£
*> 
tmpCÏu£s
;

173 
	gi
=0;i<
	gmÊ
.
	gşau£s
[
šdex
]->
	g©oms
.
size
();i++)

175 
Atom
* 
	gÃwAtom
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
mÊ
.
şau£s
[
šdex
]->
©oms
[
i
]);

176 
	gveùÜ
<
	gAtomLoÿtiÚ
*> 
	gaLocVec
;

177 
	gk
=0;k<
	gÃwAtom
->
	g‹rms
.
size
();k++)

179 
AtomLoÿtiÚ
* 
	gaLoc
 = 
Ãw
 AtomLoÿtiÚ(
šdex
-
¡¬tIndex
,
i
,
k
);

180 
	gaLocVec
.
push_back
(
aLoc
);

182 
	gloÿtiÚs
.
push_back
(
aLocVec
);

183 
WCÏu£
* 
	gÃwCÏu£
 = 
Ãw
 WClause();

184 
	gÃwCÏu£
->
	g©oms
.
push_back
(
ÃwAtom
);

185 
	gÃwCÏu£
->
	gsign
.
push_back
(!(
mÊ
.
şau£s
[
šdex
]->
sign
[
i
]));

186 
	gÃwCÏu£
->
	g§tisf›d
 = 
mÊ
.
şau£s
[
šdex
]->
§tisf›d
;

187 
	gtmpCÏu£s
.
push_back
(
ÃwCÏu£
);

189  
	gtmpCÏu£s
;

192 
	gveùÜ
<
	gWCÏu£
*> 
	g®lCombCÏu£s
 = 
g’”©eAtomCombš©iÚs
(
šdex
-1,
¡¬tIndex
,
loÿtiÚs
);

193 
	gveùÜ
<
	gWCÏu£
*> 
	gaugm’‹dCÏu£s
;

195 
	gi
=0;i<
	gmÊ
.
	gşau£s
[
šdex
]->
	g©oms
.
size
();i++)

197 
	gj
=0;j<
	g®lCombCÏu£s
.
size
();j++)

199 
WCÏu£
* 
	gÃwCÏu£
 = 
LvrMLN
::
ü—‹_Ãw_şau£
(
®lCombCÏu£s
[
j
]);

201 
	gveùÜ
<
	gAtomLoÿtiÚ
*> 
	gÃwLocVec
;

202 
	gk
=0;k<
	gloÿtiÚs
[
j
].
size
();k++)

203 
	gÃwLocVec
.
push_back
(
loÿtiÚs
[
j
].
©
(
k
));

205 
Atom
* 
	gnAtom
 = 
LvrMLN
::
ü—‹_Ãw_©om
(
mÊ
.
şau£s
[
šdex
]->
©oms
[
i
]);

206 
boŞ
 
	gsign
 = !(
mÊ
.
şau£s
[
šdex
]->
sign
[
i
]);

207 
	gÃwCÏu£
->
	g©oms
.
push_back
(
nAtom
);

208 
	gÃwCÏu£
->
	gsign
.
push_back
(
sign
);

209 
	gaugm’‹dCÏu£s
.
push_back
(
ÃwCÏu£
);

212 
	gk
=0;k<
	gnAtom
->
	g‹rms
.
size
();k++)

214 
AtomLoÿtiÚ
* 
	gaLoc
 = 
Ãw
 AtomLoÿtiÚ(
šdex
-
¡¬tIndex
,
i
,
k
);

215 
	gÃwLocVec
.
push_back
(
aLoc
);

217 
	gloÿtiÚs
.
push_back
(
ÃwLocVec
);

220 
	gloÿtiÚs
.
”a£
(
loÿtiÚs
.
begš
(),loÿtiÚs.begš()+
®lCombCÏu£s
.
size
());

221  
	gaugm’‹dCÏu£s
;

223 
	gLWMCÚv”tÜ
::
	$toSymbŞIndex
(
´edId
)

225 
i
=0;i<
mÊ
.
symbŞs
.
	`size
();i++)

227 if(
mÊ
.
symbŞs
[
i
]->
id
 =ğ
´edId
)

228  
i
;

231 
	}
}

233 
	gLWMCÚv”tÜ
::
upd©eMLN
(
fÜmuÏIndex
,
symId
,
veùÜ
<
WCÏu£
*>& 
ÃwCÏu£¡oAdd
)

235 
	gveùÜ
<
	gLvrT”m
*> 
	gÃwAtomT”ms
;

236 
	gveùÜ
<veùÜ<
	gAtomLoÿtiÚ
*> > 
	gÃwAtomT”mLocs
;

238 
g‘NewAtomT”ms
(
fÜmuÏIndex
,
ÃwAtomT”ms
,
ÃwAtomT”mLocs
);

239 
	gÃwAtomSize
 = 1;

240 
	gi
=0;i<
	gÃwAtomT”ms
.
size
();i++)

241 
	gÃwAtomSize
 *ğ
ÃwAtomT”ms
[
i
]->
domaš
.
size
();

242 
	gv
 = 
exp
(
mÊ
.
şau£s
[
fÜmuÏIndex
]->
weight
.
v®ue
);

243 
	gv1
 = 
ÃwAtomSize
*
v
;

244 
	gcÚv”siÚFaùÜ
 *ğ
LogDoubË
(
v1
,
Œue
);

245 
	gveùÜ
<veùÜ<
	gAtomLoÿtiÚ
*> > 
	g©omLocs
;

246 
	gfÜmuÏEndIndex
 = 
mÊ
.
fÜmuÏs
[
fÜmuÏIndex
]->
MLNCÏu£EndIndex
-1;

247 
	gfÜmuÏS¹Index
 = 
mÊ
.
fÜmuÏs
[
fÜmuÏIndex
]->
MLNCÏu£S¹Index
;

249 
	gveùÜ
<
	gWCÏu£
*> 
	g‹mpCÏu£s
 = 
g’”©eAtomCombš©iÚs
(
fÜmuÏEndIndex
,
fÜmuÏS¹Index
,
©omLocs
);

250 
	gsymbŞIndex
 = 
toSymbŞIndex
(
symId
);

251 
­³ndNewP»diÿ‹
(
ÃwAtomT”ms
, 
ÃwAtomT”mLocs
, 
©omLocs
,
‹mpCÏu£s
,
mÊ
.
symbŞs
[
symbŞIndex
]);

254 
	gveùÜ
<
	gWCÏu£
*> 
‹mpCÏu£s1
(
fÜmuÏEndIndex
-
fÜmuÏS¹Index
+1);

255 
	g™”
 = 0;

256 
	gi
=
fÜmuÏS¹Index
;i<=
fÜmuÏEndIndex
;i++)

258 
	g‹mpCÏu£s1
[
™”
++]=
LvrMLN
::
ü—‹_Ãw_şau£
(
mÊ
.
şau£s
[
i
]);

260 
­³ndNewP»diÿ‹1
(
ÃwAtomT”ms
, 
ÃwAtomT”mLocs
,
‹mpCÏu£s1
,
mÊ
.
symbŞs
[
symbŞIndex
]);

262 
	gi
=0;i<
	g‹mpCÏu£s
.
size
();i++)

264 
	gÃwCÏu£¡oAdd
.
push_back
(
‹mpCÏu£s
[
i
]);

267 
	gi
=0;i<
	g‹mpCÏu£s1
.
size
();i++)

269 
	gÃwCÏu£¡oAdd
.
push_back
(
‹mpCÏu£s1
[
i
]);

274 
	gLWMCÚv”tÜ
::
	$cÚv”tMLN
()

276 
mÊ
.
	`´•roûssEvid’ûWMPTP
();

277 
Üigš®MLNSize
 = 
mÊ
.
şau£s
.
	`size
();

278 
veùÜ
<
WCÏu£
*> 
ÃwCÏu£¡oAdd
;

279 
mÊ
.
fÜmuÏs
.
	`ş—r
();

280 
i
=0;i<
mÊ
.
şau£s
.
	`size
();i++)

282 
FÜmuÏ
* 
f
 = 
Ãw
 
	`FÜmuÏ
(
i
,i+1,
mÊ
.
şau£s
[i]->
weight
);

283 
mÊ
.
fÜmuÏs
.
	`push_back
(
f
);

285 
i
=0;i<
mÊ
.
şau£s
.
	`size
();i++)

287 
£t
<
LvrT”m
*> 
‹rms
;

290 
v
 = 
	`exp
(
mÊ
.
şau£s
[
i
]->
weight
.
v®ue
);

291 
v1
 = 
	`exp
(-1*
v
);

292 
LogDoubË
 
wt
 = 
	`LogDoubË
(
v1
,
çl£
);

293 
k
=0;k<
mÊ
.
şau£s
[
i
]->
©oms
.
	`size
();k++)

295 
m
=0;m<
mÊ
.
şau£s
[
i
]->
©oms
[
k
]->
‹rms
.
	`size
();m++)

297 
‹rms
.
	`š£¹
(
mÊ
.
şau£s
[
i
]->
©oms
[
k
]->‹rms[
m
]);

302 
cu¼_num_symbŞs
 = 
mÊ
.
	`g‘MaxP»diÿ‹Id
();

303 
veùÜ
<> 
	`v¬_ty³
(
‹rms
.
	`size
());

304 
m
=0;m<
v¬_ty³
.
	`size
();m++)

305 
v¬_ty³
[
m
]=0;

307 
¡ršg
 
	`ÃwSŒšg
(
NEWPREDICATEPREFIX
);

308 
¡ršg¡»am
 
wtSŒ
;

309 
wtSŒ
<<
cu¼_num_symbŞs
;

310 
ÃwSŒšg
.
	`­³nd
(
wtSŒ
.
	`¡r
());

311 
P»diÿ‹SymbŞ
* 
p
 = 
Ãw
 
	`P»diÿ‹SymbŞ
(
cu¼_num_symbŞs
, 
ÃwSŒšg
, 
v¬_ty³
,
	`LogDoubË
(1,
çl£
),
wt
,
mÊ
.
	`g‘MaxNÜmId
());

313 
mÊ
.
symbŞs
.
	`push_back
(
p
);

314 
mÊ
.
	`£tMaxP»diÿ‹Id
(mÊ.
	`g‘MaxP»diÿ‹Id
()+1);

315 
	`upd©eMLN
(
i
,
cu¼_num_symbŞs
,
ÃwCÏu£¡oAdd
);

318 
mÊ
.
şau£s
.
	`ş—r
();

319 
mÊ
.
fÜmuÏs
.
	`ş—r
();

321 
mÊ
.
şau£s
 = 
ÃwCÏu£¡oAdd
;

322 
jj
=0;jj<
mÊ
.
şau£s
.
	`size
();jj++)

324 if(
mÊ
.
şau£s
[
jj
]->
§tisf›d
)

326 
kk
=0;kk<
mÊ
.
şau£s
[
jj
]->
©oms
.
	`size
();kk++)

328 if(
mÊ
.
şau£s
[
jj
]->
©oms
[
kk
]->
symbŞ
->symbŞ.
	`fšd
(
NEWPREDICATEPREFIX
)!=
¡ršg
::
Åos
)

330 
mÊ
.
şau£s
[
jj
]->
	`»moveAtom
(
kk
);

336 #ifdeà
__DEBUG_PRINT__


337 
cout
<<"*************WMCONVERTOR Ouut****************"<<
’dl
;

338 
i
=0;i<
mÊ
.
şau£s
.
	`size
();i++)

339 
mÊ
.
şau£s
[
i
]->
	`´št
();

340 
cout
<<"********************************************"<<
’dl
;

342 
mÊ
.
cÚv”siÚFaùÜ
 = conversionFactor;

343 
	}
}

	@liftedinfer/tests/parser.cpp

1 
	~"·r£r.h
"

2 
	~<f¡»am
>

3 
	~<io¡»am
>

4 
	~<®gÜ™hm
>

5 
	~<s¡»am
>

6 
usšg
 
Çme¥aû
 
	g¡d
;

7 
	~"ş—nuputs.h
"

8 
	~"¡ršgcÚv”siÚuts.h
"

10 
	gLMP¬£r
::~
	$LMP¬£r
()

12 
	`ş—nup
(
domašLi¡
);

13 
´ediÿ‹DomašM­
.
	`ş—r
();

14 
	}
}

16 
boŞ
 
	gLMP¬£r
::
	$isT”mCÚ¡ªt
(
¡ršg
 
‹rm
)

19 if((
‹rm
[0] >= 65 &&erm[0] <= 90)|| (term[0] >= 48 &&erm[0] <= 57))

20  
Œue
;

22  
çl£
;

23 
	}
}

25 
LvrT”m
* 
	gLMP¬£r
::
	$ü—‹_Ãw_‹rm
(
domašSize
)

28 
veùÜ
<> 
	`iDomaš
(
domašSize
);

29 
k
=0;k<
domašSize
;k++)

30 
iDomaš
[
k
] = k;

32 
LvrT”m
* 
‹rm
 = 
Ãw
 
	`LvrT”m
(0,
iDomaš
);

33  
‹rm
;

34 
	}
}

37 
¡ršg
 
	gLMP¬£r
::
	$cÚv”t_©om_to_¡ršg
(
Atom
* 
©om
)

46  
	`¡ršg
(" ");

47 
	}
}

49 
WCÏu£
* 
	gLMP¬£r
::
ü—‹_Ãw_şau£
(
veùÜ
<> 
´ediÿ‹SymbŞIndex
,veùÜ<
boŞ
> 
sign
,

50 
veùÜ
<veùÜ<
LvrT”m
*> > 
iT”msLi¡
)

52 
	gnumAtoms
 = 
´ediÿ‹SymbŞIndex
.
size
();

53 
WCÏu£
* 
	gşau£
 = 
Ãw
 WClause();

54 
	gşau£
->
	g©oms
 = 
veùÜ
<
Atom
*>(
numAtoms
);

55 
	gşau£
->
	g§tisf›d
 =
çl£
;

56 
	gşau£
->
	gsign
 = 
sign
;

57 
	gi
=0;i<
	gnumAtoms
;i++)

59 
P»diÿ‹SymbŞ
* 
	gsymbŞ
 = 
LvrMLN
::
ü—‹_Ãw_symbŞ
(
mÊ
.
symbŞs
[
´ediÿ‹SymbŞIndex
[
i
]]);

60 
	gveùÜ
<
	gLvrT”m
*> 
	g‹rms
 = 
iT”msLi¡
[
i
];

61 
Atom
* 
	g©om
 = 
Ãw
 Atom(
symbŞ
,
‹rms
);

62 
	gşau£
->
	g©oms
[
i
]ğ
©om
;

64  
	gşau£
;

68 
	gLMP¬£r
::
	$·r£CNFSŒšg
(
¡ršg
 
fÜmuÏ
,
f¡»am
& 
fe¡r
)

71 * 
buf
 = 
Ãw
 [1024];

72 
size_t
 
pos
;

75 
pos
 = 
fÜmuÏ
.
	`fšd
(
WEIGHTSEPARATOR
);

76 if(
pos
!=
¡ršg
::
Åos
)

80 
fe¡r
.
	`g‘lše
(
buf
,1024);

81 
¡ršg
 
	`s
(
buf
);

82 
s
.
	`”a£
Ğ
	`»move
(s.
	`begš
(), s.
	`’d
(), ' '), s.end() );

83 
fÜmuÏ
.
	`­³nd
(
s
);

86 
d–‘e
[] 
buf
;

88 
¡ršg
 
weight
 = 
fÜmuÏ
.
	`sub¡r
(
pos
+2);

89 
¡ršg¡»am
 
	`cÚv”t
(
weight
);

90 
wt
;

91 
cÚv”t
 >> 
wt
;

92 
fÜmuÏ
 = fÜmuÏ.
	`sub¡r
(0,
pos
);

94 
veùÜ
<
¡ršg
> 
şau£SŒšgs
;

95 
LSŒšgCÚv”siÚUts
::
	`tok’ize
(
fÜmuÏ
,
şau£SŒšgs
,
ANDOPERATOR
);

96 
veùÜ
<
WCÏu£
*> 
CNF
;

97 
i
=0;i<
şau£SŒšgs
.
	`size
();i++)

100 if(
şau£SŒšgs
[
i
].
	`fšd
(
LEFTPRNTH
)==0)

103 
şau£SŒšgs
[
i
] = cÏu£SŒšgs[i].
	`sub¡r
(1,şau£SŒšgs[i].
	`size
()-2);

106 
veùÜ
<
¡ršg
> 
©omSŒšgs
;

107 
LSŒšgCÚv”siÚUts
::
	`tok’ize
(
şau£SŒšgs
[
i
],
©omSŒšgs
,
OROPERATOR
);

108 
veùÜ
<veùÜ<
¡ršg
> > 
	`sT”msLi¡
(
©omSŒšgs
.
	`size
());

110 
veùÜ
<
boŞ
> 
	`sign
(
©omSŒšgs
.
	`size
());

112 
veùÜ
<> 
	`´ediÿ‹SymbŞIndex
(
©omSŒšgs
.
	`size
());

114 
j
=0;j<
©omSŒšgs
.
	`size
();j++)

117 
¡¬os
=
©omSŒšgs
[
j
].
	`fšd
(
LEFTPRNTH
);

118 
¡ršg
 
´ediÿ‹Name
 = 
©omSŒšgs
[
j
].
	`sub¡r
(0,
¡¬os
);

119 if(
´ediÿ‹Name
.
	`fšd
(
NOTOPERATOR
)==0)

122 
´ediÿ‹Name
 =…»diÿ‹Name.
	`sub¡r
(1,´ediÿ‹Name.
	`size
());

123 
sign
[
j
]=
Œue
;

125 
k
=0;k<
mÊ
.
symbŞs
.
	`size
();k++)

128 if(
mÊ
.
symbŞs
[
k
]->
symbŞ
.
	`com·»
(
´ediÿ‹Name
)==0)

130 
´ediÿ‹SymbŞIndex
[
j
] = 
k
;

135 
’dpos
=
©omSŒšgs
[
j
].
	`fšd
(
RIGHTPRNTH
);

136 
¡ršg
 
‹rmsSŒšg
 = 
©omSŒšgs
[
j
].
	`sub¡r
(
¡¬os
+1,
’dpos
-startpos-1);

137 
veùÜ
<
¡ršg
> 
‹rms
;

138 
LSŒšgCÚv”siÚUts
::
	`tok’ize
(
‹rmsSŒšg
,
‹rms
,
COMMASEPARATOR
);

139 
sT”msLi¡
[
j
]=
‹rms
;

141 if(
‹rms
.
	`size
()!=
mÊ
.
symbŞs
[
´ediÿ‹SymbŞIndex
[
j
]]->
v¬ŸbË_ty³s
.size())

143 
cout
<<"E¼Ü! Numb”/domaš oà‹rm šh´ediÿ‹ d–ÿ¿tiÚ dÛ nÙ m©ch iÀfÜmuÏ::"<<
´ediÿ‹Name
.
	`c_¡r
()<<
’dl
;

144 
	`ex™
(-1);

148 
veùÜ
<veùÜ<
LvrT”m
*> > 
	`iT”msLi¡
(
©omSŒšgs
.
	`size
());

149 
j
=0;j<
©omSŒšgs
.
	`size
();j++)

152 
veùÜ
<
LvrT”m
*> 
	`iT”ms
(
sT”msLi¡
[
j
].
	`size
());

153 
k
=0;k<
sT”msLi¡
[
j
].
	`size
();k++)

155 
domašIndex
 = 
´ediÿ‹DomašM­
[
´ediÿ‹SymbŞIndex
[
j
]].
	`©
(
k
);

157 if(
	`isT”mCÚ¡ªt
(
sT”msLi¡
[
j
].
	`©
(
k
)))

160 
id
=-1;

161 
m
=0;m<
domašLi¡
[
domašIndex
]->
v®ues
.
	`size
();m++)

163 if(
domašLi¡
[
domašIndex
]->
v®ues
[
m
].
	`com·»
(
sT”msLi¡
[
j
].
	`©
(
k
))==0)

165 
id
=
m
;

169 if(
id
==-1)

171 
cout
<<"CÚ¡ªˆdÛ nÙ m©ch…»diÿ‹' domaš::"<<
domašLi¡
[
domašIndex
]->
Çme
<<
’dl
;

172 
	`ex™
(-1);

174 
iT”ms
[
k
] = 
Ãw
 
	`LvrT”m
(0,
id
);

178 
domašSize
 = 
domašLi¡
[
domašIndex
]->
v®ues
.
	`size
();

179 
boŞ
 
isExi¡šgT”m
 = 
çl£
;

180 
©omIndex
=-1;

181 
‹rmIndex
=-1;

183 
m
=0;m<
j
;m++)

185 
n
=0;n<
sT”msLi¡
[
m
].
	`size
();n++)

187 if((
sT”msLi¡
[
m
])[
n
].
	`com·»
((sT”msLi¡[
j
])[
k
])==0)

190 
©omSymbŞIndex1
 = 
´ediÿ‹SymbŞIndex
[
m
];

191 
©omId1
 = 
mÊ
.
symbŞs
[
©omSymbŞIndex1
]->
id
;

192 
domašLi¡Index1
 = 
´ediÿ‹DomašM­
[
©omId1
].
	`©
(
n
);

194 
©omSymbŞIndex2
 = 
´ediÿ‹SymbŞIndex
[
j
];

195 
©omId2
 = 
mÊ
.
symbŞs
[
©omSymbŞIndex2
]->
id
;

196 
domašLi¡Index2
 = 
´ediÿ‹DomašM­
[
©omId2
].
	`©
(
k
);

197 if(
domašLi¡
[
domašLi¡Index1
]->
Çme
.
	`com·»
(domašLi¡[
domašLi¡Index2
]->name)!=0)

199 
cout
<<"E¼Ü! v¬ŸbË dØnÙ m©chy³ ::"<<
©omSŒšgs
[
j
]<<"("<<
domašLi¡
[
domašLi¡Index1
]->
Çme
<<", "<<domašLi¡[
domašLi¡Index2
]->Çme<<")"<<
’dl
;

200 
	`ex™
(-1);

203 
isExi¡šgT”m
 = 
Œue
;

204 
©omIndex
 = 
m
;

205 
‹rmIndex
 = 
n
;

209 if(
isExi¡šgT”m
)

212 if(
isExi¡šgT”m
)

215 
iT”ms
[
k
] = (
iT”msLi¡
[
©omIndex
])[
‹rmIndex
];

220 
iT”ms
[
k
] = 
	`ü—‹_Ãw_‹rm
(
domašSize
);

224 
iT”msLi¡
[
j
] = 
iT”ms
;

226 
WCÏu£
* 
ÃwCÏu£
 = 
	`ü—‹_Ãw_şau£
(
´ediÿ‹SymbŞIndex
,
sign
,
iT”msLi¡
);

227 
ÃwCÏu£
->
weight
 = 
	`LogDoubË
(
wt
,
çl£
);

228 
CNF
.
	`push_back
(
ÃwCÏu£
);

231 
fÜmuÏS¹Index
 = 
mÊ
.
şau£s
.
	`size
();

233 
i
=0;i<
CNF
.
	`size
();i++)

235 
mÊ
.
şau£s
.
	`push_back
(
CNF
[
i
]);

237 
fÜmuÏEndIndex
 = 
mÊ
.
şau£s
.
	`size
();

238 
mÊ
.
fÜmuÏs
.
	`push_back
(
Ãw
 
	`FÜmuÏ
(
fÜmuÏS¹Index
,
fÜmuÏEndIndex
,
	`LogDoubË
(
wt
,
çl£
)));

239 
	}
}

241 
	gLMP¬£r
::
	$·r£DomašSŒšg
(
¡ršg
 
lše
,
f¡»am
& 
fe¡r
)

243 
size_t
 
pos
ğ
lše
.
	`fšd
(
EQUALSTO
);

244 if(
pos
!=
¡ršg
::
Åos
)

247 
¡ršg
 
domašSŒšg
;

248 
¡ršg
 
domašName
 = 
lše
.
	`sub¡r
(0,
pos
);

249 
size_t
 
¡¬os
 = 
lše
.
	`fšd
(
LEFTFLOWER
);

250 
size_t
 
’dpos
 = 
lše
.
	`fšd
(
RIGHTFLOWER
);

251 if(
¡¬os
!=
¡ršg
::
Åos
 && 
’dpos
!=string::npos)

253 
domašSŒšg
.
	`­³nd
(
lše
.
	`sub¡r
(
¡¬os
+1,
’dpos
-startpos-1));

255 if(
¡¬os
!=
¡ršg
::
Åos
)

257 
domašSŒšg
.
	`­³nd
(
lše
.
	`sub¡r
(
¡¬os
+1));

258 
boŞ
 
dÚe
 =
çl£
;

259 * 
buf
 = 
Ãw
 [1024];

260 !
dÚe
)

262 
fe¡r
.
	`g‘lše
(
buf
,1024);

263 
¡ršg
 
	`ÃxtLše
(
buf
);

264 
ÃxtLše
.
	`”a£
Ğ
	`»move
ÒextLše.
	`begš
(),‚extLše.
	`’d
(), ' '),‚extLine.end() );

265 
size_t
 
’dpos
 = 
ÃxtLše
.
	`fšd
("}");

266 if(
’dpos
!=
¡ršg
::
Åos
)

268 
domašSŒšg
.
	`­³nd
(
ÃxtLše
.
	`sub¡r
(0,
’dpos
));

269 
dÚe
 =
Œue
;

273 
domašSŒšg
.
	`­³nd
(
ÃxtLše
);

276 
d–‘e
 [] 
buf
;

278 
veùÜ
<
¡ršg
> 
domašV®ues
;

279 
LSŒšgCÚv”siÚUts
::
	`tok’ize
(
domašSŒšg
,
domašV®ues
,
COMMASEPARATOR
);

280 
PDomaš
* 
domaš
=
Ãw
 
	`PDomaš
(
domašName
,
domašV®ues
);

281 
domašLi¡
.
	`push_back
(
domaš
);

283 
	}
}

285 
	gLMP¬£r
::
	$·r£P»diÿ‹SŒšg
(
¡ršg
 
lše
)

287 
size_t
 
pos
;

288 
¡¬os
 = 
lše
.
	`fšd
(
LEFTPRNTH
);

289 
’dpos
 = 
lše
.
	`fšd
(
RIGHTPRNTH
);

290 
¡ršg
 
symbŞName
 = 
lše
.
	`sub¡r
(0,
¡¬os
);

291 
symbŞName
 = symbŞName.
	`sub¡r
(0, symbŞName.
	`fšd
(
LEFTPRNTH
));

292 
¡ršg
 
symbŞT”ms
 = 
lše
.
	`sub¡r
(
¡¬os
+1,
’dpos
-startpos-1);

293 
veùÜ
<
¡ršg
> 
‹rmNames
;

296 
LSŒšgCÚv”siÚUts
::
	`tok’ize
(
symbŞT”ms
,
‹rmNames
,
COMMASEPARATOR
);

298 
veùÜ
<> 
	`v¬_ty³s
(
‹rmNames
.
	`size
());

299 
m
=0;m<
v¬_ty³s
.
	`size
();m++)

300 
v¬_ty³s
[
m
] = 0;

301 
P»diÿ‹SymbŞ
* 
p
 = 
Ãw
 
	`P»diÿ‹SymbŞ
(
´ediÿ‹Id
,
symbŞName
,
v¬_ty³s
,
	`LogDoubË
(1,
çl£
),LogDouble(1,false),predicateId);

303 
mÊ
.
symbŞs
.
	`push_back
(
p
);

307 
veùÜ
<> 
domašIndex
;

308 
i
=0;i<
‹rmNames
.
	`size
();i++)

310 
m©chšgIndex
 = -1;

311 
j
=0;j<
domašLi¡
.
	`size
();j++)

313 if(
‹rmNames
[
i
].
	`com·»
(
domašLi¡
[
j
]->
Çme
)==0)

315 
m©chšgIndex
 = 
j
;

319 if(
m©chšgIndex
 == -1)

321 
cout
<<"E¼Ü! PDomaš dÛ nÙƒxi¡ fÜ…»diÿ‹::"<<
symbŞName
.
	`c_¡r
()<<
’dl
;

322 
	`ex™
(-1);

324 
domašIndex
.
	`push_back
(
m©chšgIndex
);

326 
´ediÿ‹DomašM­
.
	`š£¹
(
·œ
<,
veùÜ
<> >(
´ediÿ‹Id
,
domašIndex
));

328 
´ediÿ‹Id
++;

329 
	}
}

331 
	gLMP¬£r
::
	$·r£IÅutMLNFe
(
¡ršg
 
f’ame
)

333 
f¡»am
 
	`fe¡r
(
f’ame
.
	`c_¡r
());

334 if(
fe¡r
 =ğ
NULL
)

336 
cout
<<"E¼Ü„—dšg LvrMLN Fe"<<
’dl
;

337 
	`ex™
(-1);

339 * 
buf
 = 
Ãw
 [1024];

340 
út
=0;

341 
P¬sšgS‹
 
¡©e
;

342 
size_t
 
pos
;

343 
fe¡r
)

345 
fe¡r
.
	`g‘lše
(
buf
,1024);

346 
¡ršg
 
	`lše
(
buf
);

347 
lše
.
	`”a£
Ğ
	`»move
Öše.
	`begš
(),†še.
	`’d
(), ' '),†ine.end() );

348 if(
lše
.
	`size
()==0)

350 
PDomaš
* 
domaš
;

351 if(
lše
.
	`fšd
(
DOMAINSTART
)!=
¡ršg
::
Åos
)

354 
¡©e
 = 
Domašs
;

357 if(
lše
.
	`fšd
(
PREDICATESTART
)!=
¡ršg
::
Åos
)

360 
¡©e
 = 
P»diÿ‹s
;

363 if(
lše
.
	`fšd
(
FORMULASTART
)!=
¡ršg
::
Åos
)

365 
¡©e
 = 
FÜmuÏs
;

369 
¡©e
)

371 
Domašs
:

373 
	`·r£DomašSŒšg
(
lše
,
fe¡r
);

376 
P»diÿ‹s
:

378 
	`·r£P»diÿ‹SŒšg
(
lše
);

381 
FÜmuÏs
:

384 
	`·r£CNFSŒšg
(
lše
,
fe¡r
);

393 
d–‘e
[] 
buf
;

394 
fe¡r
.
	`şo£
();

395 #ifdeà
__DEBUG_PRINT__


396 
cout
<<"*************P¬£¸Ouut****************"<<
’dl
;

397 
i
=0;i<
mÊ
.
şau£s
.
	`size
();i++)

398 
mÊ
.
şau£s
[
i
]->
	`´št
();

399 
i
=0;i<
mÊ
.
fÜmuÏs
.
	`size
();i++)

400 
cout
<<"["<<
mÊ
.
fÜmuÏs
[
i
]->
MLNCÏu£S¹Index
<<","<<mÊ.fÜmuÏs[i]->
MLNCÏu£EndIndex
<<"] "<<mÊ.fÜmuÏs[i]->
weight
<<
’dl
;

401 
cout
<<"********************************************"<<
’dl
;

403 
	}
}

405 
boŞ
 
	gLMP¬£r
::
checkT”msV®id™y
(
´ediÿ‹Id
,
veùÜ
<
¡ršg
> 
‹rms
, veùÜ<>& 
m©chedIndexLi¡
)

407 if(
	g‹rms
.
size
()!=
´ediÿ‹DomašM­
[
´ediÿ‹Id
].size())

408  
çl£
;

409 
	gi
=0;i<
	g´ediÿ‹DomašM­
[
´ediÿ‹Id
].
size
();i++)

411 if(!
isT”mCÚ¡ªt
(
‹rms
[
i
]))

413 
	gcout
<<"E¼Ü! shouldƒÁ” cÚ¡ªt š DB fe::"<<
	g‹rms
[
i
].
c_¡r
()<<
	g’dl
;

414 
ex™
(-1);

416 
	gdomašIndex
 = 
´ediÿ‹DomašM­
[
´ediÿ‹Id
].
©
(
i
);

417 
boŞ
 
	gfound
=
çl£
;

418 
	gj
=0;j<
	gdomašLi¡
[
domašIndex
]->
	gv®ues
.
size
();j++)

420 if(
	gdomašLi¡
[
domašIndex
]->
	gv®ues
[
j
].
com·»
(
‹rms
[
i
])==0)

422 
found
 =
Œue
;

423 
	gm©chedIndexLi¡
.
push_back
(
j
);

426 if(!
	gfound
)

427  
	gçl£
;

429  
	gŒue
;

433 
	gLMP¬£r
::
	$·r£DB
(
¡ršg
 
f’ame
)

435 
if¡»am
 
	`fe¡r
(
f’ame
.
	`c_¡r
());

436 if(
fe¡r
 =ğ
NULL
)

438 
cout
<<"E¼Ü„—dšg DB Fe"<<
’dl
;

441 * 
buf
 = 
Ãw
 [1024];

442 
út
=0;

443 
size_t
 
pos
;

444 
fe¡r
)

446 
fe¡r
.
	`g‘lše
(
buf
,1024);

447 
¡ršg
 
	`lše
(
buf
);

448 if(
lše
.
	`size
()==0)

450 
pos
 = 
lše
.
	`fšd
(
LEFTPRNTH
);

451 
boŞ
 
sign
 =
çl£
;

452 
¡¬t
 = 0;

453 
size_t
 
posS
 = 
lše
.
	`fšd
(
NOTOPERATOR
);

454 if(
posS
!=
¡ršg
::
Åos
)

456 
sign
=
Œue
;

457 
¡¬t
 = 
posS
+1;

459 
¡ršg
 
´ediÿ‹Name
 = 
lše
.
	`sub¡r
(
¡¬t
,
pos
-start);

461 
id
 = -1;

462 
šdex
 = -1;

463 
i
=0;i<
mÊ
.
symbŞs
.
	`size
();i++)

465 if(
mÊ
.
symbŞs
[
i
]->
symbŞ
.
	`com·»
(
´ediÿ‹Name
)==0)

467 
id
 = 
mÊ
.
symbŞs
[
i
]->id;

468 
šdex
 = 
i
;

472 if(
id
==-1)

474 
cout
<<"E¼Ü! P»diÿ‹ iÀDB fnÙ found::"<<
´ediÿ‹Name
<<
’dl
;

475 
	`ex™
(-1);

477 
’dpos
 = 
lše
.
	`fšd
(
RIGHTPRNTH
);

478 
veùÜ
<
¡ršg
> 
‹rms
;

479 
LSŒšgCÚv”siÚUts
::
	`tok’ize
(
lše
.
	`sub¡r
(
pos
+1,
’dpos
-pos-1),
‹rms
,
COMMASEPARATOR
);

480 if(
‹rms
.
	`size
(è> 
mÊ
.
symbŞs
[
šdex
]->
v¬ŸbË_ty³s
.size())

482 
cout
<<"E¼Ü! WrÚg”m š P»diÿ‹ iÀDB fe::"<<
´ediÿ‹Name
<<
’dl
;

483 
	`ex™
(-1);

485 
veùÜ
<> 
m©chedIndexLi¡
;

487 if(!
	`checkT”msV®id™y
(
id
,
‹rms
,
m©chedIndexLi¡
))

489 
cout
<<"E¼Ü! WrÚg v®uoà‹rm iÀP»diÿ‹ iÀDB fe::"<<
´ediÿ‹Name
<<
’dl
;

490 
	`ex™
(-1);

492 
veùÜ
<
LvrT”m
*> 
	`‹rmLi¡
(
m©chedIndexLi¡
.
	`size
());

493 
i
=0;i<
m©chedIndexLi¡
.
	`size
();i++)

495 
LvrT”m
* 
‹rm
 = 
Ãw
 
	`LvrT”m
(0,
m©chedIndexLi¡
[
i
]);

496 
‹rmLi¡
[
i
]=
‹rm
;

498 
Atom
* 
©om
 = 
Ãw
 
	`Atom
(
LvrMLN
::
	`ü—‹_Ãw_symbŞ
(
mÊ
.
symbŞs
[
id
]),
‹rmLi¡
);

499 
WCÏu£
* 
ÃwCÏu£
 = 
Ãw
 
	`WCÏu£
();

500 
ÃwCÏu£
->
©oms
.
	`push_back
(
©om
);

501 
ÃwCÏu£
->
§tisf›d
 = 
çl£
;

502 
ÃwCÏu£
->
sign
.
	`push_back
(sign);

503 
ÃwCÏu£
->
weight
 = 
	`LogDoubË
(0,
çl£
);

505 
fÜmuÏS¹Index
 = 
mÊ
.
şau£s
.
	`size
();

506 
mÊ
.
şau£s
.
	`push_back
(
ÃwCÏu£
);

507 
fÜmuÏEndIndex
 = 
mÊ
.
şau£s
.
	`size
();

509 
mÊ
.
fÜmuÏs
.
	`push_back
(
Ãw
 
	`FÜmuÏ
(
fÜmuÏS¹Index
,
fÜmuÏEndIndex
,
	`LogDoubË
(0,
çl£
)));

511 
d–‘e
[] 
buf
;

512 
fe¡r
.
	`şo£
();

513 
	}
}

	@liftedinfer/tests/parser.h

1 #iâdeà
__LMPARSER


2 
	#__LMPARSER


	)

3 
	~"lvrmÊ.h
"

5 
	#DOMAINSTART
 "#domašs"

	)

6 
	#PREDICATESTART
 "#´ediÿ‹s"

	)

7 
	#FORMULASTART
 "#fÜmuÏs"

	)

8 
	#LEFTPRNTH
 "("

	)

9 
	#RIGHTPRNTH
 ")"

	)

10 
	#NOTOPERATOR
 "!"

	)

11 
	#ANDOPERATOR
 "^"

	)

12 
	#OROPERATOR
 "|"

	)

13 
	#LEFTFLOWER
 "{"

	)

14 
	#RIGHTFLOWER
 "}"

	)

15 
	#WEIGHTSEPARATOR
 "::"

	)

16 
	#COMMASEPARATOR
 ","

	)

17 
	#EQUALSTO
 "="

	)

22 
	eP¬sšgS‹


24 
	mDomašs
,

25 
	mP»diÿ‹s
,

26 
	mFÜmuÏs


28 
	sPDomaš


30 
¡ršg
 
	mÇme
;

31 
	mveùÜ
<
	m¡ršg
> 
	mv®ues
;

32 
PDomaš
(
¡ršg
 
Çme_
,
veùÜ
<¡ršg> 
v®ues_
):
Çme
Òame_),
v®ues
(values_){}

35 
	sLMP¬£r


37 
	mLvrMLN
& 
	mmÊ
;

38 
	m´ediÿ‹Id
;

40 
	mveùÜ
<
	mPDomaš
*> 
	mdomašLi¡
;

42 
	mm­
<,
	mveùÜ
<> > 
	m´ediÿ‹DomašM­
;

43 
·r£IÅutMLNFe
(
¡ršg
 
f’ame
);

44 
¡ršg
 
cÚv”t_©om_to_¡ršg
(
Atom
* 
©om
);

45 
LvrT”m
* 
ü—‹_Ãw_‹rm
(
domašSize
);

46 
WCÏu£
* 
ü—‹_Ãw_şau£
(
veùÜ
<> 
´ediÿ‹SymbŞIndex
,veùÜ<
boŞ
> 
sign
,

47 
veùÜ
<veùÜ<
LvrT”m
*> > 
iT”msLi¡
);

48 
·r£CNFSŒšg
(
¡ršg
 
fÜmuÏ
,
f¡»am
& 
fe¡r
);

49 
·r£P»diÿ‹SŒšg
(
¡ršg
 
lše
);

50 
·r£DomašSŒšg
(
¡ršg
 
lše
,
f¡»am
& 
fe¡r
);

51 
·r£DB
(
¡ršg
 
f’ame
);

52 
g‘AtomDomašIndex
(
´ediÿ‹Id
,
veùÜ
<>& 
domašIndex
);

53 
boŞ
 
checkT”msV®id™y
(
´ediÿ‹Id
,
veùÜ
<
¡ršg
> 
‹rms
, veùÜ<>& 
m©chedIndexLi¡
);

54 
boŞ
 
isT”mCÚ¡ªt
(
¡ršg
 
‹rm
);

55 
LMP¬£r
(
LvrMLN
& 
mÊ_
):
mÊ
(mÊ_),
´ediÿ‹Id
(0){}

56 ~
LMP¬£r
();

	@liftedinfer/tests/runtestsmain.cpp

1 
	~"‹¡mod–couÁ.h
"

2 
	~"¬gum’ts.h
"

3 
	~"‹¡fÜmuÏšãr.h
"

4 
	~<s¡»am
>

5 
usšg
 
Çme¥aû
 
	g¡d
;

6 
ARGS
 
	gARGS
::
Args
[] =

9 
ARGS
()

13 
	$maš
(
¬gc
, * 
¬gv
[])

15 if(
¬gc
 != 3)

17 
cout
<<"U§ge::./ruÆiáedšã¹e¡ autÙe¡fŞd”Óndšg w™h sÏshènumb”oáe¡s,ƒ.g.ruÆiáedšã¹e¡ ../exd©a/autÙe¡mÊfes/ 5"<<
’dl
;

20 
¡ršg
 
	`s
(
¬gv
[1]);

21 
¡ršg
 
	`s1
(
¬gv
[2]);

22 
¡ršg¡»am
 
	`¡
(
s1
);

23 
num‹¡s
;

24 
¡
>>
num‹¡s
;

25 
cout
<<"RuÂšg "<<
num‹¡s
<<"e¡s..."<<
’dl
;

26 
Te¡Mod–CouÁ
 
tm
;

27 
tm
.
	`runAÎWMCTe¡s
();

28 
Te¡FÜmuÏInãr
 
	`ti
(
s
,
num‹¡s
);

29 
ti
.
	`runFÜmuÏInã»nûTe¡s
();

31 
	}
}

	@liftedinfer/tests/testformulainfer.cpp

1 
	~"‹¡fÜmuÏšãr.h
"

2 
	~"blockexaùšã»nû.h
"

3 
	~"·r£r.h
"

4 
	~"±p£¬ch.h
"

5 
	~"wmcÚv”tÜ.h
"

6 
	~"¡ršgcÚv”siÚuts.h
"

7 
	~<s¡»am
>

8 
	~<f¡»am
>

9 
usšg
 
Çme¥aû
 
	g¡d
;

12 
boŞ
 
	gTe¡FÜmuÏInãr
::
g‘NextTruthAssignm’t
(
veùÜ
<>& 
ŒuthV®ues
)

14 
šd
 = 
ŒuthV®ues
.
size
()-1;

15 
	gŒuthV®ues
[
šd
]++;

16 
	gŒuthV®ues
[
šd
] == 2)

18 
ŒuthV®ues
[
šd
]=0;

19 if((
	gšd
-1) >= 0)

20 
ŒuthV®ues
[
šd
-1]++;

23  
	gŒue
;

25 
	gšd
--;

27  
	gçl£
;

30 
boŞ
 
	gTe¡FÜmuÏInãr
::
isEvid’ûS©
(
veùÜ
<> 
ŒuthV®ue
,veùÜ<> 
evid’û
)

32 
boŞ
 
	gevid’ûS©
 = 
Œue
;

33 
	gj
=0;j<
	gevid’û
.
size
();j++)

35 if(
	gŒuthV®ue
[
evid’û
[
j
]]==0)

37 
evid’ûS©
 = 
çl£
;

41  
	gevid’ûS©
;

45 
LogDoubË
 
	gTe¡FÜmuÏInãr
::
	$mªu®E¡im©e
(
id
,
boŞ
 
w™hEvid’û
,boŞ 
l™”®Weights
)

47 
veùÜ
<veùÜ<veùÜ<> > > 
ŒueIndexes
;

48 
veùÜ
<> 
evid’ûIndexes
;

49 
veùÜ
<> 
weights
;

50 
size
;

51 
	`»adGroundTruth
(
id
,
ŒueIndexes
,
evid’ûIndexes
,
weights
,
size
);

52 
veùÜ
<> 
evid’û
;

53 if(
w™hEvid’û
)

55 
evid’û
 = 
evid’ûIndexes
;

57 
n
=
size
;

58 
boŞ
 
dÚe
 =
çl£
;

59 
veùÜ
<> 
ŒuthV®ues
;

60 
i
=0;i<
n
;i++)

62 
ŒuthV®ues
.
	`push_back
(0);

64 
LogDoubË
 
wt
 =
	`LogDoubË
();

65 !
dÚe
)

67 
LogDoubË
 
	`tÙ
(1,
çl£
);

68 
i
=0;i<
ŒueIndexes
.
	`size
();i++)

70 
út
 = 0;

71 
j
=0;j<
ŒueIndexes
[
i
].
	`size
();j++)

73 
boŞ
 
ŒueGºd
=
çl£
;

74 
k
=0;k<
ŒueIndexes
[
i
].
	`©
(
j
).
	`size
();k++)

76 if(
ŒueIndexes
[
i
].
	`©
(
j
).©(
k
) < 0)

78 if(
ŒuthV®ues
[-1*
ŒueIndexes
[
i
].
	`©
(
j
).©(
k
)-1] == 0)

80 
ŒueGºd
=
Œue
;

86 if(
ŒuthV®ues
[
ŒueIndexes
[
i
].
	`©
(
j
).©(
k
)-1] == 1)

88 
ŒueGºd
=
Œue
;

93 if(
ŒueGºd
)

94 
út
++;

96 if(!
l™”®Weights
)

98 
cÛff
 = 
út
*
weights
[
i
];

99 
tÙ
 *ğ
	`LogDoubË
(
cÛff
,
Œue
);

103 
v
=
	`pow
(
weights
[
i
],()(
ŒueIndexes
[i].
	`size
(è- 
út
));

104 
tÙ
 *ğ
	`LogDoubË
(
v
,
çl£
);

107 if(
	`isEvid’ûS©
(
ŒuthV®ues
,
evid’û
))

108 
wt
 = wˆ+ 
tÙ
;

109 if(
	`g‘NextTruthAssignm’t
(
ŒuthV®ues
))

112  
wt
;

113 
	}
}

115 
	gTe¡FÜmuÏInãr
::
	$doMLNTe¡ExpWeigh‹d
(
šdex
,
¡ršg
 
mÊfe
,¡ršg 
dbfe
,
boŞ
 
w™hEvid’û
)

117 
mÊ
.
	`ş—rD©a
();

118 
LBlockExaùInã»nû
 
	`lb
(
mÊ
);

119 
LMP¬£r
 
	`p
(
mÊ
);

120 
p
.
	`·r£IÅutMLNFe
(
mÊfe
);

121 if(
w™hEvid’û
)

123 
ÜigSize
=
mÊ
.
şau£s
.
	`size
();

124 
p
.
	`·r£DB
(
dbfe
);

125 
ÃwSize
=
mÊ
.
şau£s
.
	`size
();

126 
veùÜ
<
Atom
*> 
evAtoms
;

127 if(
ÜigSize
!=
ÃwSize
)

129 
i
=
ÜigSize
;i<
ÃwSize
;i++)

130 
evAtoms
.
	`push_back
(
mÊ
.
şau£s
[
i
]->
©oms
[0]);

131 
mÊ
.
	`´•roûssEvid’û
(
evAtoms
);

135 
cout
<<"NØevid’û fe(.dbèfound fÜe¡ mÊ"<<
šdex
<<
’dl
;

139 
LogDoubË
 
mV®
;

140 
LogDoubË
 
pV®
;

141 
mV®
=
lb
.
	`weigh‹dMod–CouÁ
(
mÊ
.
şau£s
);

142 
pV®
 = 
	`mªu®E¡im©e
(
šdex
,
w™hEvid’û
);

143 if(!
w™hEvid’û
)

145 
cout
<<"LGB Exaù inã»nû(fÜmuÏ weightsè‹¡mÊ"<<
šdex
<<"ÒØevid’û)="<<
mV®
<<
’dl
;

146 
cout
<<"Mªu®ly compu‹d v®u‹¡mÊ"<<
šdex
<<"ÒØevid’û)="<<
pV®
<<
’dl
;

150 
cout
<<"LGB Exaù inã»nû(fÜmuÏ weightsè‹¡mÊ"<<
šdex
<<"Ñe¡db"<<šdex<<"ƒvid’û)="<<
mV®
<<
’dl
;

151 
cout
<<"Mªu®ly compu‹d v®u‹¡mÊ"<<
šdex
<<"Ñe¡db"<<šdex<<"ƒvid’û)="<<
pV®
<<
’dl
;

153 
	}
}

155 
	gTe¡FÜmuÏInãr
::
	$doMLNTe¡PTPWeigh‹d
(
šdex
,
¡ršg
 
mÊfe
,¡ršg 
dbfe
,
boŞ
 
w™hEvid’û
)

157 
mÊ
.
	`ş—rD©a
();

158 
LPTPS—rch
 
ls
 =
	`LPTPS—rch
(
mÊ
);

159 
LMP¬£r
 
p
 = 
	`LMP¬£r
(
mÊ
);

160 
p
.
	`·r£IÅutMLNFe
(
mÊfe
);

161 if(
w™hEvid’û
)

163 
ÜigSize
=
mÊ
.
şau£s
.
	`size
();

164 
p
.
	`·r£DB
(
dbfe
);

165 
ÃwSize
=
mÊ
.
şau£s
.
	`size
();

166 
veùÜ
<
Atom
*> 
evAtoms
;

167 if(
ÜigSize
==
ÃwSize
)

169 
cout
<<"NØevid’û fe(.dbèfound fÜe¡ mÊ"<<
šdex
<<
’dl
;

173 
LWMCÚv”tÜ
 
lc
 = 
	`LWMCÚv”tÜ
(
mÊ
);

174 
lc
.
	`cÚv”tMLN
();

175 
LogDoubË
 
mV®
;

176 
LogDoubË
 
pV®
;

177 
LvrP¬ams
* 
·¿ms
 = 
Ãw
 LvrParams;

178 
·¿ms
->
±pCacheSize
 = 0;

179 
mV®
=
ls
.
	`¡¬tExaùWeigh‹dMod–CouÁšg
(
·¿ms
);

180 
d–‘e
 
·¿ms
;

181 
pV®
 = 
	`mªu®E¡im©e
(
šdex
,
w™hEvid’û
);

182 if(!
w™hEvid’û
)

184 
cout
<<"PTP Exaù inã»nû(L™”® weight LWMCè‹¡mÊ"<<
šdex
<<"ÒØevid’û)="<<
mV®
<<
’dl
;

185 
cout
<<"Mªu®ly compu‹d v®u‹¡mÊ"<<
šdex
<<"ÒØevid’û)="<<
pV®
<<
’dl
;

189 
cout
<<"PTP Exaù inã»nû(L™”® weight LWMCè‹¡mÊ"<<
šdex
<<"Ñe¡db"<<šdex<<"ƒvid’û)="<<
mV®
<<
’dl
;

190 
cout
<<"Mªu®ly compu‹d v®u‹¡mÊ"<<
šdex
<<"Ñe¡db"<<šdex<<"ƒvid’û)="<<
pV®
<<
’dl
;

192 
	}
}

194 
	gTe¡FÜmuÏInãr
::
»adGroundTruth
(
id
,
veùÜ
<veùÜ<veùÜ<> > >& 
ŒueIndexes
, veùÜ<>& 
evid’ûIndexes
,

195 
veùÜ
<>& 
weights
,& 
size
)

197 
¡ršg
 
f’ame
(
‹¡fŞd”
);

199 
	gf’ame
.
­³nd
("groundtruth");

200 
¡ršg
 
	g¡
 = 
LSŒšgCÚv”siÚUts
::
toSŒšg
(
id
);

201 
	gf’ame
.
­³nd
(
¡
);

202 
	gf’ame
.
­³nd
(".txt");

203 
if¡»am
 
fe¡r
(
f’ame
.
c_¡r
());

204 if(
	gfe¡r
 =ğ
NULL
)

206 
cout
<<"E¼Ü„—dšg Ground Truth Fe"<<
’dl
;

207 
ex™
(-1);

209 * 
	gbuf
 = 
Ãw
 [1024];

212 
	gfe¡r
.
g‘lše
(
buf
,1024);

213 
¡ršg
 
lše
(
buf
);

214 
	gsize
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
lše
);

219 
	gfe¡r
.
g‘lše
(
buf
,1024);

220 
¡ršg
 
lše
(
buf
);

222 if(
	glše
.
fšd
("NOEVIDENCE")==
¡ršg
::
Åos
)

225 
veùÜ
<
¡ršg
> 
evs
;

226 
	gLSŒšgCÚv”siÚUts
::
tok’ize
(
lše
,
evs
," ");

227 
	gLSŒšgCÚv”siÚUts
::
toIÁA¼
(
evs
,
evid’ûIndexes
);

231 
	gnumCÏu£s
;

233 
	gfe¡r
.
g‘lše
(
buf
,1024);

234 
¡ršg
 
lše
(
buf
);

235 
	gveùÜ
<
	g¡ršg
> 
	gevs
;

236 
	gLSŒšgCÚv”siÚUts
::
tok’ize
(
lše
,
evs
," ");

237 
	gnumCÏu£s
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
evs
[0]);

238 
	gevs
.
”a£
(
evs
.
begš
());

239 
	gLSŒšgCÚv”siÚUts
::
toDoubËA¼
(
evs
,
weights
);

241 
	gŒueIndexes
.
»size
(
numCÏu£s
);

242 
	gŒueIndexI‹r
=0;

243 
	gt
=0;t<
	gnumCÏu£s
;t++)

245 
	gfe¡r
.
g‘lše
(
buf
,1024);

246 
¡ršg
 
lše
(
buf
);

247 
	ggSize
 = 
LSŒšgCÚv”siÚUts
::
toIÁ
(
lše
);

248 
	gŒueIndexes
[
t
].
»size
(
gSize
);

249 
	gi
=0;i<
	ggSize
;i++)

251 
	gfe¡r
.
g‘lše
(
buf
,1024);

252 
¡ršg
 
lše
(
buf
);

253 
	gveùÜ
<
	g¡ršg
> 
	gšds
;

254 
	gLSŒšgCÚv”siÚUts
::
tok’ize
(
lše
,
šds
," ");

255 
	gLSŒšgCÚv”siÚUts
::
toIÁA¼
(
šds
,
ŒueIndexes
[
t
].
©
(
i
));

258 
	gfe¡r
.
şo£
();

261 
	gTe¡FÜmuÏInãr
::
	$runFÜmuÏInã»nûTe¡s
()

264 
cout
<<"***********Exaù Inã»nûÖ™”® weightsèPTP Te¡s*************"<<
’dl
;

265 
i
=1;i<=
num‹¡s
;i++)

267 
¡ršg
 
	`mÊFe
(
‹¡fŞd”
);

268 
¡ršg
 
	`dbFe
(
‹¡fŞd”
);

269 
veùÜ
<> 
evid’û
;

270 
id
=
i
;

271 
¡ršg¡»am
 
¡
;

272 
¡
<<
id
;

273 
mÊFe
.
	`­³nd
("testmln");

274 
mÊFe
.
	`­³nd
(
¡
.
	`¡r
());

275 
mÊFe
.
	`­³nd
(".txt");

276 
dbFe
.
	`­³nd
("testdb");

277 
dbFe
.
	`­³nd
(
¡
.
	`¡r
());

278 
dbFe
.
	`­³nd
(".txt");

279 
	`doMLNTe¡PTPWeigh‹d
(
i
,
mÊFe
,
dbFe
);

280 
	`doMLNTe¡PTPWeigh‹d
(
i
,
mÊFe
,
dbFe
,
Œue
);

283 
cout
<<"***********Exaù Inã»nû(şau£ weightsèLBG Te¡s*************"<<
’dl
;

284 
i
=1;i<=
num‹¡s
;i++)

286 
¡ršg
 
	`mÊFe
(
‹¡fŞd”
);

287 
¡ršg
 
	`dbFe
(
‹¡fŞd”
);

288 
veùÜ
<> 
evid’û
;

289 
¡ršg
 
¡
=
LSŒšgCÚv”siÚUts
::
	`toSŒšg
(
i
);

290 
mÊFe
.
	`­³nd
("testmln");

291 
mÊFe
.
	`­³nd
(
¡
);

292 
mÊFe
.
	`­³nd
(".txt");

293 
dbFe
.
	`­³nd
("testdb");

294 
dbFe
.
	`­³nd
(
¡
);

295 
dbFe
.
	`­³nd
(".txt");

296 
	`doMLNTe¡ExpWeigh‹d
(
i
,
mÊFe
,
dbFe
);

297 
	`doMLNTe¡ExpWeigh‹d
(
i
,
mÊFe
,
dbFe
,
Œue
);

300 
	}
}

	@liftedinfer/tests/testformulainfer.h

1 #iâdeà
TESTFORMULAINFER__


2 
	#TESTFORMULAINFER__


	)

3 
	~<veùÜ
>

4 
	~<io¡»am
>

5 
	~<£t
>

6 
	~<m­
>

7 
usšg
 
Çme¥aû
 
	g¡d
;

8 
	~"lvrmÊ.h
"

9 
	#NUMTESTS
 6

	)

10 
	sTe¡FÜmuÏInãr


12 
LvrMLN
 
	mmÊ
;

13 
	mnum‹¡s
;

14 
¡ršg
 
	m‹¡fŞd”
;

15 
Te¡FÜmuÏInãr
(
¡ršg
 
‹¡fŞd”_
 = "..\\autÙe¡mÊfes\\",
num‹¡s_
 = 
NUMTESTS
):
num‹¡s
(numtests_),

16 
‹¡fŞd”
(
‹¡fŞd”_
){}

17 
runFÜmuÏInã»nûTe¡s
();

18 ~
Te¡FÜmuÏInãr
(){}

19 
	m´iv©e
:

20 
doMLNTe¡ExpWeigh‹d
(
šdex
,
¡ršg
 
mÊfe
,¡ršg 
dbfe
,
boŞ
 
w™hEvid’û
=
çl£
);

21 
»adGroundTruth
(
id
,
veùÜ
<veùÜ<veùÜ<> > >& 
ŒueIndexes
, veùÜ<>& 
evid’ûIndexes
,

22 
veùÜ
<>& 
weights
,& 
size
);

23 
LogDoubË
 
mªu®E¡im©e
(
id
, 
boŞ
 
w™hEvid’û
=
çl£
,boŞ 
l™”®Weights
=false);

24 
boŞ
 
g‘NextTruthAssignm’t
(
veùÜ
<>& 
ŒuthV®ues
);

25 
boŞ
 
isEvid’ûS©
(
veùÜ
<> 
ŒuthV®ue
,veùÜ<> 
evid’û
);

26 
doMLNTe¡PTPWeigh‹d
(
šdex
,
¡ršg
 
mÊfe
,¡ršg 
dbfe
,
boŞ
 
w™hEvid’û
=
çl£
);

	@liftedinfer/tests/testmodelcount.cpp

1 
	~"‹¡mod–couÁ.h
"

2 
	~"±p£¬ch.h
"

3 
	~"wmcÚv”tÜ.h
"

4 
	~"ş—nuputs.h
"

5 
	~"·r£r.h
"

6 
	~"blockexaùšã»nû.h
"

8 
	~<s¡»am
>

9 
usšg
 
Çme¥aû
 
	g¡d
;

11 
boŞ
 
	gTe¡Mod–CouÁ
::
g‘NextTruthAssignm’t
(
veùÜ
<>& 
ŒuthV®ues
)

13 
šd
 = 
ŒuthV®ues
.
size
()-1;

14 
	gŒuthV®ues
[
šd
]++;

15 
	gŒuthV®ues
[
šd
] == 2)

17 
ŒuthV®ues
[
šd
]=0;

18 if((
	gšd
-1) >= 0)

19 
ŒuthV®ues
[
šd
-1]++;

22  
	gŒue
;

24 
	gšd
--;

26  
	gçl£
;

29 
	gTe¡Mod–CouÁ
::
	$mªu®lyTe¡Mod–CouÁ
(
n
)

31 
boŞ
 
dÚe
 =
çl£
;

32 
§tút
=0;

33 
veùÜ
<> 
ŒuthV®ues
;

34 
i
=0;i<
n
;i++)

36 
ŒuthV®ues
.
	`push_back
(0);

38 
LogDoubË
 
wt
 =
	`LogDoubË
();

39 
wt1
=0;

40 
cout
<<"Enum”©šg‡Î combš©iÚs..."<<
’dl
;

41 !
dÚe
)

64 
§tút
++;

65 
LogDoubË
 
t
ğ
	`LogDoubË
(1,
çl£
);

68 
LogDoubË
::
	`LDPow”
(
	`LogDoubË
(0.1,
çl£
),6,
t
);

74 
wt
+=
t
;

81 
	`g‘NextTruthAssignm’t
(
ŒuthV®ues
);

85 
cout
<<"Mªu®ly compu‹d Weigh‹d Mod– CouÁ="<<
wt
<<
’dl
;

87 
cout
<<"S© CouÁ="<<
§tút
<<
’dl
;

88 
	}
}

90 
LogDoubË
 
	gTe¡Mod–CouÁ
::
	$mªu®lyTe¡Mod–CouÁ2
()

92 
n
=12;

93 
boŞ
 
dÚe
 =
çl£
;

94 
§tút
=0;

95 
veùÜ
<> 
ŒuthV®ues
;

96 
i
=0;i<
n
;i++)

98 
ŒuthV®ues
.
	`push_back
(0);

100 
LogDoubË
 
wt
 =
	`LogDoubË
();

101 
wt1
=0;

103 !
dÚe
)

105 if((
ŒuthV®ues
[0]||truthValues[4])&&(truthValues[1]||truthValues[5])&&(truthValues[2]||truthValues[6])&&(truthValues[3]||truthValues[7])

106 &&(
ŒuthV®ues
[0]||truthValues[8])&&(truthValues[0]||truthValues[9])&&(truthValues[1]||truthValues[8])&&(truthValues[1]||truthValues[9])

107 && (
ŒuthV®ues
[2]||truthValues[10])&&(truthValues[2]||truthValues[11])&&(truthValues[3]||truthValues[10])&&(truthValues[3]||truthValues[11]))

109 
§tút
++;

110 
LogDoubË
 
t
ğ
	`LogDoubË
(1,
çl£
);

111 
LogDoubË
::
	`LDPow”
(
	`LogDoubË
(0.1,
çl£
),
n
,
t
);

112 
wt
+=
t
;

114 if(
	`g‘NextTruthAssignm’t
(
ŒuthV®ues
))

120  
wt
;

121 
	}
}

123 
LogDoubË
 
	gTe¡Mod–CouÁ
::
	$mªu®lyTe¡Mod–CouÁ3
()

125 
n
=8;

126 
boŞ
 
dÚe
 =
çl£
;

127 
§tút
=0;

128 
veùÜ
<> 
ŒuthV®ues
;

129 
i
=0;i<
n
;i++)

131 
ŒuthV®ues
.
	`push_back
(0);

133 
LogDoubË
 
wt
 =
	`LogDoubË
();

134 
wt1
=0;

136 !
dÚe
)

138 if((
ŒuthV®ues
[0]||truthValues[4])&&(truthValues[1]||truthValues[5])

139 &&(
ŒuthV®ues
[2]||truthValues[6])&&(truthValues[3]||truthValues[7]))

141 
§tút
++;

142 
LogDoubË
 
t
ğ
	`LogDoubË
(1,
çl£
);

143 
LogDoubË
::
	`LDPow”
(
	`LogDoubË
(0.1,
çl£
),
n
,
t
);

144 
wt
+=
t
;

146 if(
	`g‘NextTruthAssignm’t
(
ŒuthV®ues
))

152  
wt
;

153 
	}
}

155 
LogDoubË
 
	gTe¡Mod–CouÁ
::
	$mªu®lyTe¡Mod–CouÁ5
()

157 
n
=12;

158 
boŞ
 
dÚe
 =
çl£
;

159 
§tút
=0;

160 
veùÜ
<> 
ŒuthV®ues
;

161 
i
=0;i<
n
;i++)

163 
ŒuthV®ues
.
	`push_back
(0);

165 
LogDoubË
 
wt
 =
	`LogDoubË
();

166 
wt1
=0;

168 !
dÚe
)

170 if((
ŒuthV®ues
[0])&&(truthValues[1])&&(truthValues[2])&&(truthValues[3])

171 &&(
ŒuthV®ues
[0]||truthValues[4]||truthValues[8])&&(truthValues[0]||truthValues[4]||truthValues[9])

172 &&(
ŒuthV®ues
[0]||truthValues[4]||truthValues[10])&&(truthValues[0]||truthValues[4]||truthValues[11])

173 &&(
ŒuthV®ues
[0]||truthValues[5]||truthValues[8])&&(truthValues[0]||truthValues[5]||truthValues[9])

174 &&(
ŒuthV®ues
[0]||truthValues[5]||truthValues[10])&&(truthValues[0]||truthValues[5]||truthValues[11])

175 &&(
ŒuthV®ues
[1]||truthValues[4]||truthValues[8])&&(truthValues[1]||truthValues[4]||truthValues[9])

176 &&(
ŒuthV®ues
[1]||truthValues[4]||truthValues[10])&&(truthValues[1]||truthValues[4]||truthValues[11])

177 &&(
ŒuthV®ues
[1]||truthValues[5]||truthValues[8])&&(truthValues[1]||truthValues[5]||truthValues[9])

178 &&(
ŒuthV®ues
[1]||truthValues[5]||truthValues[10])&&(truthValues[1]||truthValues[5]||truthValues[11])

179 &&(
ŒuthV®ues
[2]||truthValues[6]||truthValues[8])&&(truthValues[2]||truthValues[6]||truthValues[9])

180 &&(
ŒuthV®ues
[2]||truthValues[6]||truthValues[10])&&(truthValues[2]||truthValues[6]||truthValues[11])

181 &&(
ŒuthV®ues
[2]||truthValues[7]||truthValues[8])&&(truthValues[2]||truthValues[7]||truthValues[9])

182 &&(
ŒuthV®ues
[2]||truthValues[7]||truthValues[10])&&(truthValues[2]||truthValues[7]||truthValues[11])

183 &&(
ŒuthV®ues
[3]||truthValues[6]||truthValues[8])&&(truthValues[3]||truthValues[6]||truthValues[9])

184 &&(
ŒuthV®ues
[3]||truthValues[6]||truthValues[10])&&(truthValues[3]||truthValues[6]||truthValues[11])

185 &&(
ŒuthV®ues
[3]||truthValues[7]||truthValues[8])&&(truthValues[3]||truthValues[7]||truthValues[9])

186 &&(
ŒuthV®ues
[3]||truthValues[7]||truthValues[10])&&(truthValues[3]||truthValues[7]||truthValues[11]))

190 
§tút
++;

191 
LogDoubË
 
t
ğ
	`LogDoubË
(1,
çl£
);

192 
LogDoubË
::
	`LDPow”
(
	`LogDoubË
(0.1,
çl£
),
n
,
t
);

193 
wt
+=
t
;

195 if(
	`g‘NextTruthAssignm’t
(
ŒuthV®ues
))

201  
wt
;

202 
	}
}

204 
LogDoubË
 
	gTe¡Mod–CouÁ
::
	$mªu®lyTe¡Mod–CouÁ6
()

206 
n
=10;

207 
boŞ
 
dÚe
 =
çl£
;

208 
§tút
=0;

209 
veùÜ
<> 
ŒuthV®ues
;

210 
i
=0;i<
n
;i++)

212 
ŒuthV®ues
.
	`push_back
(0);

214 
LogDoubË
 
wt
 =
	`LogDoubË
();

215 
wt1
=0;

217 !
dÚe
)

219 if((
ŒuthV®ues
[0]||truthValues[2])&&(truthValues[0]||truthValues[3])

220 &&(
ŒuthV®ues
[1]||truthValues[4])&&(truthValues[1]||truthValues[5])

221 &&(
ŒuthV®ues
[2]||truthValues[6])&&(truthValues[2]||truthValues[7])

222 &&(
ŒuthV®ues
[4]||truthValues[6])&&(truthValues[4]||truthValues[7])

223 &&(
ŒuthV®ues
[3]||truthValues[8])&&(truthValues[3]||truthValues[9])

224 &&(
ŒuthV®ues
[5]||truthValues[8])&&(truthValues[5]||truthValues[9]))

228 
§tút
++;

229 
LogDoubË
 
t
ğ
	`LogDoubË
(1,
çl£
);

230 
LogDoubË
::
	`LDPow”
(
	`LogDoubË
(0.1,
çl£
),
n
,
t
);

231 
wt
+=
t
;

233 if(
	`g‘NextTruthAssignm’t
(
ŒuthV®ues
))

239  
wt
;

240 
	}
}

242 
LogDoubË
 
	gTe¡Mod–CouÁ
::
	$mªu®lyTe¡Mod–CouÁ8
()

244 
n
=8;

245 
boŞ
 
dÚe
 =
çl£
;

246 
§tút
=0;

247 
veùÜ
<> 
ŒuthV®ues
;

248 
i
=0;i<
n
;i++)

250 
ŒuthV®ues
.
	`push_back
(0);

252 
LogDoubË
 
wt
 =
	`LogDoubË
();

253 
wt1
=0;

255 !
dÚe
)

257 if((
ŒuthV®ues
[0]||truthValues[4])&&(truthValues[0]||truthValues[5])

258 &&(
ŒuthV®ues
[2]||truthValues[4])&&(truthValues[2]||truthValues[5])

259 &&(
ŒuthV®ues
[1]||truthValues[6])&&(truthValues[1]||truthValues[7])

260 &&(
ŒuthV®ues
[3]||truthValues[6])&&(truthValues[3]||truthValues[7]))

263 
§tút
++;

264 
LogDoubË
 
t
ğ
	`LogDoubË
(1,
çl£
);

265 
LogDoubË
::
	`LDPow”
(
	`LogDoubË
(0.1,
çl£
),
n
,
t
);

266 
wt
+=
t
;

268 if(
	`g‘NextTruthAssignm’t
(
ŒuthV®ues
))

274  
wt
;

275 
	}
}

278 
LogDoubË
 
	gTe¡Mod–CouÁ
::
	$mªu®lyTe¡Mod–CouÁ9
()

280 
n
=8;

281 
boŞ
 
dÚe
 =
çl£
;

282 
§tút
=0;

283 
veùÜ
<> 
ŒuthV®ues
;

284 
i
=0;i<
n
;i++)

286 
ŒuthV®ues
.
	`push_back
(0);

288 
LogDoubË
 
wt
 =
	`LogDoubË
();

289 
wt1
=0;

291 !
dÚe
)

293 if((
ŒuthV®ues
[0]||truthValues[4])&&(truthValues[0]||truthValues[5])

294 &&(
ŒuthV®ues
[2]||truthValues[4])&&(truthValues[2]||truthValues[5])

295 &&(
ŒuthV®ues
[1]||truthValues[6])&&(truthValues[1]||truthValues[7])

296 &&(
ŒuthV®ues
[3]||truthValues[6])&&(truthValues[3]||truthValues[7])

297 &&
ŒuthV®ues
[2]&&truthValues[3])

299 
§tút
++;

300 
LogDoubË
 
t
ğ
	`LogDoubË
(1,
çl£
);

301 
LogDoubË
::
	`LDPow”
(
	`LogDoubË
(0.1,
çl£
),
n
,
t
);

302 
wt
+=
t
;

304 if(
	`g‘NextTruthAssignm’t
(
ŒuthV®ues
))

310  
wt
;

311 
	}
}

348 
LogDoubË
 
	gTe¡Mod–CouÁ
::
	$mªu®lyTe¡Mod–CouÁ10
()

350 
n
=4;

351 
boŞ
 
dÚe
 =
çl£
;

352 
§tút
=0;

353 
veùÜ
<> 
ŒuthV®ues
;

354 
i
=0;i<
n
;i++)

356 
ŒuthV®ues
.
	`push_back
(0);

358 
LogDoubË
 
wt
 =
	`LogDoubË
();

359 
wt1
=0;

361 !
dÚe
)

363 if(
ŒuthV®ues
[0]&&(truthValues[0]||truthValues[1])&&truthValues[1]&&(truthValues[1]||truthValues[2])

364 &&
ŒuthV®ues
[2]&&(truthValues[2]||truthValues[3])&&truthValues[3])

366 
§tút
++;

367 
LogDoubË
 
t
ğ
	`LogDoubË
(1,
çl£
);

368 
LogDoubË
::
	`LDPow”
(
	`LogDoubË
(0.1,
çl£
),
n
,
t
);

369 
wt
+=
t
;

371 if(
	`g‘NextTruthAssignm’t
(
ŒuthV®ues
))

377  
wt
;

378 
	}
}

380 
LogDoubË
 
	gTe¡Mod–CouÁ
::
	$mªu®lyTe¡Mod–CouÁ11
()

382 
n
=6;

383 
boŞ
 
dÚe
 =
çl£
;

384 
§tút
=0;

385 
veùÜ
<> 
ŒuthV®ues
;

386 
i
=0;i<
n
;i++)

388 
ŒuthV®ues
.
	`push_back
(0);

390 
LogDoubË
 
wt
 =
	`LogDoubË
();

391 
wt1
=0;

393 !
dÚe
)

395 if((!
ŒuthV®ues
[0]||truthValues[1])&&(!truthValues[1]||truthValues[0])&&(!truthValues[0]||truthValues[2])

396 &&(!
ŒuthV®ues
[0]||truthValues[4])&&(!truthValues[1]||truthValues[3])&&(!truthValues[1]||truthValues[5])

397 &&(!
ŒuthV®ues
[0]||!truthValues[3]||truthValues[1])&&(!truthValues[1]||!truthValues[4]||truthValues[0]))

399 
§tút
++;

400 
LogDoubË
 
t
ğ
	`LogDoubË
(1,
çl£
);

401 
LogDoubË
::
	`LDPow”
(
	`LogDoubË
(0.1,
çl£
),
n
,
t
);

402 
wt
+=
t
;

404 if(
	`g‘NextTruthAssignm’t
(
ŒuthV®ues
))

410  
wt
;

411 
	}
}

414 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN1
(
LvrMLN
& 
mÊ
)

416 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

417 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

418 
symbŞs
[0] = "R";

419 
symbŞs
[1] = "S";

420 
symbŞs
[2] = "T";

421 
veùÜ
<> 
	`v¬_ty³s
(2);

422 
v¬_ty³s
[0] = var_types[1] = 0;

423 
i
 = 0; i < 3; i++) {

424 
mÊ
.
symbŞs
[
i
] = 
Ãw
 
	`P»diÿ‹SymbŞ
(i, symbŞs[i], 
v¬_ty³s
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

427 
veùÜ
<
LvrT”m
*> 
	`‹rms
(10);

428 
veùÜ
<> 
	`domaš
(10);

429 
i
 = 0; i < 10; i++)

430 
domaš
[
i
] = i;

431 
size_t
 
i
 = 0; i < 10; i++) {

432 
‹rms
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš
);

435 
mÊ
.
şau£s
 = 
veùÜ
<
WCÏu£
*>(4);

437 
mÊ
.
şau£s
[0] = 
Ãw
 
	`WCÏu£
();

438 
mÊ
.
şau£s
[0]->
©oms
 = 
veùÜ
<
Atom
*>(3);

439 
mÊ
.
şau£s
[0]->
sign
 = 
veùÜ
<
boŞ
>(3);

440 
mÊ
.
şau£s
[0]->
§tisf›d
=
çl£
;

442 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

443 
my‹rms
[0] = 
‹rms
[0];

444 
my‹rms
[1] = 
‹rms
[1];

445 
mÊ
.
şau£s
[0]->
©oms
[0] = 
Ãw
 
	`Atom
(mÊ.
symbŞs
[0], 
my‹rms
);

448 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

449 
my‹rms
[0] = 
‹rms
[2];

450 
my‹rms
[1] = 
‹rms
[1];

451 
mÊ
.
şau£s
[0]->
©oms
[1] = 
Ãw
 
	`Atom
(mÊ.
symbŞs
[1], 
my‹rms
);

454 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

455 
my‹rms
[0] = 
‹rms
[3];

456 
my‹rms
[1] = 
‹rms
[1];

457 
mÊ
.
şau£s
[0]->
©oms
[2] = 
Ãw
 
	`Atom
(mÊ.
symbŞs
[2], 
my‹rms
);

462 
mÊ
.
şau£s
[1] = 
Ãw
 
	`WCÏu£
();

463 
mÊ
.
şau£s
[1]->
©oms
 = 
veùÜ
<
Atom
*>(2);

464 
mÊ
.
şau£s
[1]->
sign
 = 
veùÜ
<
boŞ
>(2);

465 
mÊ
.
şau£s
[1]->
§tisf›d
=
çl£
;

467 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

468 
my‹rms
[0] = 
‹rms
[4];

469 
my‹rms
[1] = 
‹rms
[5];

470 
mÊ
.
şau£s
[1]->
©oms
[0] = 
Ãw
 
	`Atom
(mÊ.
symbŞs
[0], 
my‹rms
);

473 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

474 
my‹rms
[0] = 
‹rms
[5];

475 
my‹rms
[1] = 
‹rms
[6];

476 
mÊ
.
şau£s
[1]->
©oms
[1] = 
Ãw
 
	`Atom
(mÊ.
symbŞs
[1], 
my‹rms
);

481 
mÊ
.
şau£s
[2] = 
Ãw
 
	`WCÏu£
();

482 
mÊ
.
şau£s
[2]->
©oms
 = 
veùÜ
<
Atom
*>(2);

483 
mÊ
.
şau£s
[2]->
sign
 = 
veùÜ
<
boŞ
>(2);

484 
mÊ
.
şau£s
[2]->
§tisf›d
=
çl£
;

486 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

487 
my‹rms
[0] = 
‹rms
[7];

488 
my‹rms
[1] = 
‹rms
[8];

489 
mÊ
.
şau£s
[2]->
©oms
[0] = 
Ãw
 
	`Atom
(mÊ.
symbŞs
[0], 
my‹rms
);

492 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

493 
my‹rms
[0] = 
‹rms
[9];

494 
my‹rms
[1] = 
‹rms
[8];

495 
mÊ
.
şau£s
[2]->
©oms
[1] = 
Ãw
 
	`Atom
(mÊ.
symbŞs
[2], 
my‹rms
);

500 
mÊ
.
şau£s
[3] = 
Ãw
 
	`WCÏu£
();

501 
mÊ
.
şau£s
[3]->
©oms
 = 
veùÜ
<
Atom
*>(1);

502 
mÊ
.
şau£s
[3]->
sign
 = 
veùÜ
<
boŞ
>(1);

503 
mÊ
.
şau£s
[3]->
§tisf›d
=
çl£
;

504 
veùÜ
<
LvrT”m
*> 
	`my‹rms1
(2);

505 
my‹rms1
[0] = 
Ãw
 
	`LvrT”m
(0, 1);

506 
my‹rms1
[1] = 
Ãw
 
	`LvrT”m
(0, 2);

507 
mÊ
.
şau£s
[3]->
©oms
[0] = 
Ãw
 
	`Atom
(mÊ.
symbŞs
[0], 
my‹rms1
);

509 
	}
}

512 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN2
(
LvrMLN
& 
mÊ
)

514 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

515 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

516 
symbŞs
[0] = "R";

517 
symbŞs
[1] = "S";

518 
symbŞs
[2] = "T";

519 
veùÜ
<> 
	`v¬_ty³s
(2);

520 
v¬_ty³s
[0] = var_types[1] = 0;

521 
i
 = 0; i < 3; i++) {

522 
mÊ
.
symbŞs
[
i
] = 
Ãw
 
	`P»diÿ‹SymbŞ
(i, symbŞs[i], 
v¬_ty³s
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

524 
mÊ
.
şau£s
.
	`ş—r
();

525 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(5);

526 
veùÜ
<> 
	`domaš1
(2);

527 
i
 = 0; i < 2; i++)

528 
domaš1
[
i
] = i;

529 
size_t
 
i
 = 0; i < 5; i++) {

530 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

534 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

535 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

536 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

537 
şau£
->
§tisf›d
 = 
çl£
;

539 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

540 
my‹rms
[0] = 
‹rms1
[0];

541 
my‹rms
[1] = 
‹rms1
[1];

543 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

546 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

548 
my‹rms
[0] = 
‹rms1
[0];

549 
my‹rms
[1] = 
‹rms1
[1];

552 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

554 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

558 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

559 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

560 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

561 
şau£
->
§tisf›d
 = 
çl£
;

563 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

564 
my‹rms
[0] = 
‹rms1
[2];

565 
my‹rms
[1] = 
‹rms1
[3];

568 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

571 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

572 
my‹rms
[0] = 
‹rms1
[2];

574 
my‹rms
[1] = 
‹rms1
[4];

576 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

578 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

581 
	}
}

584 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN3
(
LvrMLN
& 
mÊ
)

586 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

587 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

588 
symbŞs
[0] = "R";

589 
symbŞs
[1] = "S";

590 
symbŞs
[2] = "T";

591 
veùÜ
<> 
	`v¬_ty³s
(2);

592 
v¬_ty³s
[0] = var_types[1] = 0;

593 
i
 = 0; i < 3; i++) {

594 
mÊ
.
symbŞs
[
i
] = 
Ãw
 
	`P»diÿ‹SymbŞ
(i, symbŞs[i], 
v¬_ty³s
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

596 
mÊ
.
şau£s
.
	`ş—r
();

597 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(5);

598 
veùÜ
<> 
	`domaš1
(2);

599 
i
 = 0; i < 2; i++)

600 
domaš1
[
i
] = i;

601 
size_t
 
i
 = 0; i < 5; i++) {

602 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

606 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

607 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

608 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

609 
şau£
->
§tisf›d
 = 
çl£
;

611 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

612 
my‹rms
[0] = 
‹rms1
[0];

613 
my‹rms
[1] = 
‹rms1
[1];

615 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

618 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

620 
my‹rms
[0] = 
‹rms1
[0];

621 
my‹rms
[1] = 
‹rms1
[1];

624 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

626 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

629 
	}
}

632 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN4
(
LvrMLN
& 
mÊ
)

634 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

635 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

636 
symbŞs
[0] = "R";

637 
symbŞs
[1] = "S";

638 
symbŞs
[2] = "T";

639 
veùÜ
<> 
	`v¬_ty³s
(2);

640 
v¬_ty³s
[0] = var_types[1] = 0;

641 
i
 = 0; i < 3; i++) {

642 
mÊ
.
symbŞs
[
i
] = 
Ãw
 
	`P»diÿ‹SymbŞ
(i, symbŞs[i], 
v¬_ty³s
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

644 
mÊ
.
şau£s
.
	`ş—r
();

645 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(5);

646 
veùÜ
<> 
	`domaš1
(2);

647 
i
 = 0; i < 2; i++)

648 
domaš1
[
i
] = i;

649 
size_t
 
i
 = 0; i < 5; i++) {

650 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

654 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

655 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

656 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

657 
şau£
->
§tisf›d
 = 
çl£
;

659 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

660 
my‹rms
[0] = 
Ãw
 
	`LvrT”m
(0,1);

661 
my‹rms
[1] = 
Ãw
 
	`LvrT”m
(0,0);

663 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

665 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

668 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

669 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

670 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

671 
şau£
->
§tisf›d
 = 
çl£
;

673 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

674 
my‹rms
[0] = 
Ãw
 
	`LvrT”m
(0,1);

675 
my‹rms
[1] = 
Ãw
 
	`LvrT”m
(0,1);

678 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

680 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

683 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

684 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

685 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

686 
şau£
->
§tisf›d
 = 
çl£
;

688 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

689 
my‹rms
[0] = 
Ãw
 
	`LvrT”m
(0,1);

690 
my‹rms
[1] = 
‹rms1
[0];

693 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

695 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

698 
	}
}

701 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN5
(
LvrMLN
& 
mÊ
)

703 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

704 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

705 
symbŞs
[0] = "R";

706 
symbŞs
[1] = "S";

707 
symbŞs
[2] = "T";

708 
veùÜ
<> 
	`v¬_ty³s
(2);

709 
v¬_ty³s
[0] = var_types[1] = 0;

710 
i
 = 0; i < 3; i++) {

711 
mÊ
.
symbŞs
[
i
] = 
Ãw
 
	`P»diÿ‹SymbŞ
(i, symbŞs[i], 
v¬_ty³s
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

713 
mÊ
.
şau£s
.
	`ş—r
();

714 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(10);

715 
veùÜ
<> 
	`domaš1
(2);

716 
i
 = 0; i < 2; i++)

717 
domaš1
[
i
] = i;

718 
size_t
 
i
 = 0; i < 10; i++) {

719 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

722 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

723 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(3);

724 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(3);

725 
şau£
->
§tisf›d
 = 
çl£
;

727 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

728 
my‹rms
[0] = 
‹rms1
[2];

729 
my‹rms
[1] = 
‹rms1
[3];

732 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

735 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

736 
my‹rms
[0] = 
‹rms1
[3];

737 
my‹rms
[1] = 
‹rms1
[4];

740 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

744 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

745 
my‹rms
[0] = 
‹rms1
[5];

746 
my‹rms
[1] = 
‹rms1
[6];

749 
şau£
->
©oms
[2] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

752 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

756 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

757 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

758 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

759 
şau£
->
§tisf›d
 = 
çl£
;

761 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

762 
my‹rms
[0] = 
‹rms1
[0];

763 
my‹rms
[1] = 
‹rms1
[1];

765 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

767 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

769 
	}
}

771 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN6
(
LvrMLN
& 
mÊ
)

773 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

775 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

776 
symbŞs
[0] = "R";

777 
symbŞs
[1] = "S";

778 
symbŞs
[2] = "T";

779 
veùÜ
<> 
	`v¬_ty³1
(1);

780 
v¬_ty³1
[0] = 0;

781 
veùÜ
<> 
	`v¬_ty³2
(2);

782 
v¬_ty³2
[0] = var_type2[1] = 0;

784 
mÊ
.
symbŞs
[0] = 
Ãw
 
	`P»diÿ‹SymbŞ
(0, symbŞs[0], 
v¬_ty³1
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

785 
mÊ
.
symbŞs
[1] = 
Ãw
 
	`P»diÿ‹SymbŞ
(1, symbŞs[1], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

786 
mÊ
.
symbŞs
[2] = 
Ãw
 
	`P»diÿ‹SymbŞ
(2, symbŞs[2], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

788 
mÊ
.
şau£s
.
	`ş—r
();

789 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(10);

790 
veùÜ
<> 
	`domaš1
(2);

791 
i
 = 0; i < 2; i++)

792 
domaš1
[
i
] = i;

793 
size_t
 
i
 = 0; i < 10; i++) {

794 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

797 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

798 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

799 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

800 
şau£
->
§tisf›d
 = 
çl£
;

802 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(1);

803 
my‹rms
[0] = 
‹rms1
[0];

806 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

809 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

810 
my‹rms
[0] = 
‹rms1
[0];

811 
my‹rms
[1] = 
‹rms1
[1];

814 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

824 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

828 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

829 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

830 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

831 
şau£
->
§tisf›d
 = 
çl£
;

833 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

834 
my‹rms
[0] = 
‹rms1
[3];

835 
my‹rms
[1] = 
‹rms1
[4];

837 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

841 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

842 
my‹rms
[0] = 
‹rms1
[4];

843 
my‹rms
[1] = 
‹rms1
[5];

845 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

848 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

851 
	}
}

854 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN7
(
LvrMLN
& 
mÊ
)

856 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

857 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

858 
symbŞs
[0] = "R";

859 
symbŞs
[1] = "S";

860 
symbŞs
[2] = "T";

861 
veùÜ
<> 
	`v¬_ty³s
(2);

862 
v¬_ty³s
[0] = var_types[1] = 0;

863 
i
 = 0; i < 3; i++) {

864 
mÊ
.
symbŞs
[
i
] = 
Ãw
 
	`P»diÿ‹SymbŞ
(i, symbŞs[i], 
v¬_ty³s
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

866 
mÊ
.
şau£s
.
	`ş—r
();

867 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(10);

868 
veùÜ
<> 
	`domaš1
(10);

869 
i
 = 0; i < 10; i++)

870 
domaš1
[
i
] = i;

871 
size_t
 
i
 = 0; i < 10; i++) {

872 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

875 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

876 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

877 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

878 
şau£
->
§tisf›d
 = 
çl£
;

880 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

881 
my‹rms
[0] = 
Ãw
 
	`LvrT”m
(0,0);

882 
my‹rms
[1] = 
‹rms1
[0];

885 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

887 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

891 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

892 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

893 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

894 
şau£
->
§tisf›d
 = 
çl£
;

896 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

897 
my‹rms
[0] = 
‹rms1
[1];

898 
my‹rms
[1] = 
‹rms1
[2];

901 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

903 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

906 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

907 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

908 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

909 
şau£
->
§tisf›d
 = 
çl£
;

911 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

912 
my‹rms
[0] = 
Ãw
 
	`LvrT”m
(0,1);

913 
my‹rms
[1] = 
‹rms1
[3];

916 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

918 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

921 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

922 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

923 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

924 
şau£
->
§tisf›d
 = 
çl£
;

926 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

927 
my‹rms
[0] = 
‹rms1
[4];

928 
my‹rms
[1] = 
‹rms1
[5];

931 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

936 
	}
}

938 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN8
(
LvrMLN
& 
mÊ
)

940 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

941 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

942 
symbŞs
[0] = "R";

943 
symbŞs
[1] = "S";

944 
symbŞs
[2] = "T";

945 
veùÜ
<> 
	`v¬_ty³s
(2);

946 
v¬_ty³s
[0] = var_types[1] = 0;

947 
i
 = 0; i < 3; i++) {

948 
mÊ
.
symbŞs
[
i
] = 
Ãw
 
	`P»diÿ‹SymbŞ
(i, symbŞs[i], 
v¬_ty³s
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

950 
mÊ
.
şau£s
.
	`ş—r
();

951 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(10);

952 
veùÜ
<> 
	`domaš1
(2);

953 
i
 = 0; i < 2; i++)

954 
domaš1
[
i
] = i;

955 
size_t
 
i
 = 0; i < 10; i++) {

956 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

960 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

961 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

962 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

963 
şau£
->
§tisf›d
 = 
çl£
;

965 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

966 
my‹rms
[0] = 
‹rms1
[3];

967 
my‹rms
[1] = 
‹rms1
[4];

969 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

972 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

973 
my‹rms
[0] = 
‹rms1
[4];

974 
my‹rms
[1] = 
‹rms1
[5];

976 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

979 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

982 
	}
}

984 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN9
(
LvrMLN
& 
mÊ
)

986 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

987 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

988 
symbŞs
[0] = "R";

989 
symbŞs
[1] = "S";

990 
symbŞs
[2] = "T";

991 
veùÜ
<> 
	`v¬_ty³s
(2);

992 
v¬_ty³s
[0] = var_types[1] = 0;

993 
i
 = 0; i < 3; i++) {

994 
mÊ
.
symbŞs
[
i
] = 
Ãw
 
	`P»diÿ‹SymbŞ
(i, symbŞs[i], 
v¬_ty³s
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

996 
mÊ
.
şau£s
.
	`ş—r
();

997 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(10);

998 
veùÜ
<> 
	`domaš1
(2);

999 
i
 = 0; i < 2; i++)

1000 
domaš1
[
i
] = i;

1001 
size_t
 
i
 = 0; i < 10; i++) {

1002 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

1006 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1007 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

1008 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

1009 
şau£
->
§tisf›d
 = 
Œue
;

1011 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1012 
my‹rms
[0] = 
Ãw
 
	`LvrT”m
(0,0);

1013 
my‹rms
[1] = 
‹rms1
[0];

1015 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

1018 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1022 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1023 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

1024 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

1025 
şau£
->
§tisf›d
 = 
çl£
;

1027 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1028 
my‹rms
[0] = 
Ãw
 
	`LvrT”m
(0,1);

1029 
my‹rms
[1] = 
‹rms1
[1];

1031 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

1034 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1038 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1039 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

1040 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

1041 
şau£
->
§tisf›d
 = 
çl£
;

1043 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1044 
my‹rms
[0] = 
‹rms1
[2];

1045 
my‹rms
[1] = 
‹rms1
[3];

1047 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

1050 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1051 
my‹rms
[0] = 
‹rms1
[3];

1052 
my‹rms
[1] = 
‹rms1
[4];

1054 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

1056 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1059 
	}
}

1061 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN10
(
LvrMLN
& 
mÊ
)

1063 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

1064 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

1065 
symbŞs
[0] = "R";

1066 
symbŞs
[1] = "S";

1067 
symbŞs
[2] = "T";

1068 
veùÜ
<> 
	`v¬_ty³s
(2);

1069 
v¬_ty³s
[0] = var_types[1] = 0;

1070 
i
 = 0; i < 3; i++) {

1071 
mÊ
.
symbŞs
[
i
] = 
Ãw
 
	`P»diÿ‹SymbŞ
(i, symbŞs[i], 
v¬_ty³s
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

1073 
mÊ
.
şau£s
.
	`ş—r
();

1074 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(10);

1075 
veùÜ
<> 
	`domaš1
(2);

1076 
i
 = 0; i < 2; i++)

1077 
domaš1
[
i
] = i;

1078 
size_t
 
i
 = 0; i < 10; i++) {

1079 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

1083 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1084 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

1085 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

1086 
şau£
->
§tisf›d
 = 
çl£
;

1088 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1089 
my‹rms
[0] = 
‹rms1
[0];

1090 
my‹rms
[1] = 
‹rms1
[1];

1092 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

1096 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1097 
my‹rms
[0] = 
‹rms1
[0];

1098 
my‹rms
[1] = 
‹rms1
[2];

1100 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

1103 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1105 
	}
}

1107 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN11
(
LvrMLN
& 
mÊ
)

1109 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

1110 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

1111 
symbŞs
[0] = "R";

1112 
symbŞs
[1] = "S";

1113 
symbŞs
[2] = "T";

1114 
veùÜ
<> 
	`v¬_ty³1
(1);

1115 
v¬_ty³1
[0] = 0;

1116 
veùÜ
<> 
	`v¬_ty³2
(2);

1117 
v¬_ty³2
[0] = var_type2[1] = 0;

1119 
mÊ
.
symbŞs
[0] = 
Ãw
 
	`P»diÿ‹SymbŞ
(0, symbŞs[0], 
v¬_ty³1
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

1120 
mÊ
.
symbŞs
[1] = 
Ãw
 
	`P»diÿ‹SymbŞ
(1, symbŞs[1], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

1121 
mÊ
.
symbŞs
[2] = 
Ãw
 
	`P»diÿ‹SymbŞ
(2, symbŞs[2], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

1122 
mÊ
.
şau£s
.
	`ş—r
();

1123 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(10);

1124 
veùÜ
<> 
	`domaš1
(2);

1125 
i
 = 0; i < 2; i++)

1126 
domaš1
[
i
] = i;

1127 
size_t
 
i
 = 0; i < 10; i++) {

1128 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

1132 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1133 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(3);

1134 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(3);

1135 
şau£
->
§tisf›d
 = 
çl£
;

1137 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(1);

1138 
my‹rms
[0] = 
‹rms1
[0];

1140 
şau£
->
sign
[0]=
Œue
;

1141 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

1145 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1146 
my‹rms
[0] = 
‹rms1
[0];

1147 
my‹rms
[1] = 
‹rms1
[1];

1149 
şau£
->
sign
[1]=
Œue
;

1150 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

1155 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(1);

1156 
my‹rms
[0] = 
‹rms1
[1];

1158 
şau£
->
©oms
[2] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

1161 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1166 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1167 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

1168 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

1169 
şau£
->
§tisf›d
 = 
çl£
;

1171 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(1);

1172 
my‹rms
[0] = 
‹rms1
[3];

1174 
şau£
->
sign
[0]=
Œue
;

1175 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

1179 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(1);

1180 
my‹rms
[0] = 
‹rms1
[4];

1182 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

1184 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1188 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1189 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

1190 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

1191 
şau£
->
§tisf›d
 = 
çl£
;

1193 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(1);

1194 
my‹rms
[0] = 
‹rms1
[5];

1196 
şau£
->
sign
[0]=
Œue
;

1197 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

1201 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1202 
my‹rms
[0] = 
‹rms1
[6];

1203 
my‹rms
[1] = 
‹rms1
[5];

1205 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

1207 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1210 
	}
}

1212 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN12
(
LvrMLN
& 
mÊ
)

1214 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(5);

1215 
veùÜ
<
¡ršg
> 
	`symbŞs
(5);

1216 
symbŞs
[0] = "R";

1217 
symbŞs
[1] = "S";

1218 
symbŞs
[2] = "T";

1219 
symbŞs
[3] = "P";

1220 
symbŞs
[4] = "Q";

1221 
veùÜ
<> 
	`v¬_ty³1
(1);

1222 
v¬_ty³1
[0] = 0;

1223 
veùÜ
<> 
	`v¬_ty³2
(2);

1224 
v¬_ty³2
[0] = var_type2[1] = 0;

1225 
mÊ
.
symbŞs
[0] = 
Ãw
 
	`P»diÿ‹SymbŞ
(0, symbŞs[0], 
v¬_ty³1
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

1226 
mÊ
.
symbŞs
[1] = 
Ãw
 
	`P»diÿ‹SymbŞ
(1, symbŞs[1], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

1227 
mÊ
.
symbŞs
[2] = 
Ãw
 
	`P»diÿ‹SymbŞ
(2, symbŞs[2], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

1228 
mÊ
.
symbŞs
[3] = 
Ãw
 
	`P»diÿ‹SymbŞ
(3, symbŞs[3], 
v¬_ty³1
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

1229 
mÊ
.
symbŞs
[4] = 
Ãw
 
	`P»diÿ‹SymbŞ
(4, symbŞs[4], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

1231 
mÊ
.
şau£s
.
	`ş—r
();

1232 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(20);

1233 
veùÜ
<> 
	`domaš1
(10);

1234 
i
 = 0; i < 10; i++)

1235 
domaš1
[
i
] = i;

1236 
size_t
 
i
 = 0; i < 20; i++) {

1237 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

1241 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1242 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(3);

1243 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(3);

1244 
şau£
->
§tisf›d
 = 
çl£
;

1246 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(1);

1247 
my‹rms
[0] = 
‹rms1
[0];

1248 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

1251 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1252 
my‹rms
[0] = 
‹rms1
[0];

1253 
my‹rms
[1] = 
‹rms1
[1];

1254 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

1257 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1258 
my‹rms
[0] = 
‹rms1
[2];

1259 
my‹rms
[1] = 
‹rms1
[1];

1260 
şau£
->
©oms
[2] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

1263 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1267 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1268 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

1269 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

1270 
şau£
->
§tisf›d
 = 
çl£
;

1272 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1273 
my‹rms
[0] = 
‹rms1
[3];

1274 
my‹rms
[1] = 
‹rms1
[4];

1275 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

1278 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(1);

1279 
my‹rms
[0] = 
‹rms1
[3];

1280 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[3], 
my‹rms
);

1283 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1286 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1287 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

1288 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

1289 
şau£
->
§tisf›d
 = 
çl£
;

1291 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(1);

1292 
my‹rms
[0] = 
‹rms1
[5];

1293 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[3], 
my‹rms
);

1296 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1297 
my‹rms
[0] = 
‹rms1
[6];

1298 
my‹rms
[1] = 
‹rms1
[5];

1299 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[4], 
my‹rms
);

1301 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1305 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1306 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

1307 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

1308 
şau£
->
§tisf›d
 = 
çl£
;

1310 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(1);

1311 
my‹rms
[0] = 
‹rms1
[7];

1312 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

1315 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1316 
my‹rms
[0] = 
‹rms1
[8];

1317 
my‹rms
[1] = 
‹rms1
[7];

1318 
şau£
->
sign
[1]=
Œue
;

1319 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[4], 
my‹rms
);

1321 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1324 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1325 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(3);

1326 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(3);

1327 
şau£
->
§tisf›d
 = 
çl£
;

1329 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1330 
my‹rms
[0] = 
‹rms1
[9];

1331 
my‹rms
[1] = 
‹rms1
[10];

1332 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

1335 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1336 
my‹rms
[0] = 
‹rms1
[10];

1337 
my‹rms
[1] = 
‹rms1
[11];

1338 
şau£
->
sign
[1]=
Œue
;

1339 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[4], 
my‹rms
);

1342 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(1);

1343 
my‹rms
[0] = 
‹rms1
[11];

1344 
şau£
->
©oms
[2] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

1347 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1351 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1352 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

1353 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

1354 
şau£
->
§tisf›d
 = 
çl£
;

1356 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(1);

1357 
my‹rms
[0] = 
‹rms1
[12];

1358 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[3], 
my‹rms
);

1361 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1362 
my‹rms
[0] = 
‹rms1
[13];

1363 
my‹rms
[1] = 
‹rms1
[12];

1364 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

1366 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1369 
	}
}

1372 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN13
(
LvrMLN
& 
mÊ
)

1374 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(7);

1375 
veùÜ
<
¡ršg
> 
	`symbŞs
(7);

1376 
symbŞs
[0] = "R";

1377 
symbŞs
[1] = "S";

1378 
symbŞs
[2] = "T";

1379 
symbŞs
[3] = "P";

1380 
symbŞs
[4] = "Q";

1381 
symbŞs
[5] = "U";

1382 
symbŞs
[6] = "V";

1383 
veùÜ
<> 
	`v¬_ty³s
(2);

1384 
v¬_ty³s
[0] = var_types[1] = 0;

1385 
i
 = 0; i < 7; i++) {

1386 
mÊ
.
symbŞs
[
i
] = 
Ãw
 
	`P»diÿ‹SymbŞ
(i, symbŞs[i], 
v¬_ty³s
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

1388 
mÊ
.
şau£s
.
	`ş—r
();

1389 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(30);

1390 
veùÜ
<> 
	`domaš1
(2);

1391 
i
 = 0; i < 2; i++)

1392 
domaš1
[
i
] = i;

1393 
size_t
 
i
 = 0; i < 30; i++) {

1394 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

1398 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1399 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

1400 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

1401 
şau£
->
§tisf›d
 = 
çl£
;

1403 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1404 
my‹rms
[0] = 
‹rms1
[0];

1405 
my‹rms
[1] = 
‹rms1
[1];

1407 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

1411 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1412 
my‹rms
[0] = 
‹rms1
[2];

1413 
my‹rms
[1] = 
‹rms1
[1];

1415 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

1417 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1422 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1423 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

1424 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

1425 
şau£
->
§tisf›d
 = 
çl£
;

1427 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1428 
my‹rms
[0] = 
‹rms1
[3];

1429 
my‹rms
[1] = 
‹rms1
[4];

1431 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

1434 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1435 
my‹rms
[0] = 
‹rms1
[5];

1436 
my‹rms
[1] = 
‹rms1
[4];

1438 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

1441 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1445 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1446 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

1447 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

1448 
şau£
->
§tisf›d
 = 
çl£
;

1450 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1451 
my‹rms
[0] = 
‹rms1
[6];

1452 
my‹rms
[1] = 
‹rms1
[7];

1454 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[5], 
my‹rms
);

1456 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1459 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1460 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

1461 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

1462 
şau£
->
§tisf›d
 = 
çl£
;

1464 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1465 
my‹rms
[0] = 
‹rms1
[8];

1466 
my‹rms
[1] = 
‹rms1
[9];

1468 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[5], 
my‹rms
);

1470 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1473 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1474 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

1475 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

1476 
şau£
->
§tisf›d
 = 
çl£
;

1478 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1479 
my‹rms
[0] = 
‹rms1
[10];

1480 
my‹rms
[1] = 
‹rms1
[11];

1482 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[6], 
my‹rms
);

1484 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1487 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1488 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

1489 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

1490 
şau£
->
§tisf›d
 = 
çl£
;

1492 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1493 
my‹rms
[0] = 
‹rms1
[12];

1494 
my‹rms
[1] = 
‹rms1
[13];

1496 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[6], 
my‹rms
);

1498 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1501 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1502 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

1503 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

1504 
şau£
->
§tisf›d
 = 
çl£
;

1506 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1507 
my‹rms
[0] = 
‹rms1
[14];

1508 
my‹rms
[1] = 
‹rms1
[15];

1510 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[3], 
my‹rms
);

1512 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1515 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1516 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

1517 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

1518 
şau£
->
§tisf›d
 = 
çl£
;

1520 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1521 
my‹rms
[0] = 
‹rms1
[15];

1522 
my‹rms
[1] = 
‹rms1
[16];

1524 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[4], 
my‹rms
);

1526 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1529 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1530 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

1531 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

1532 
şau£
->
§tisf›d
 = 
çl£
;

1534 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1535 
my‹rms
[0] = 
‹rms1
[17];

1536 
my‹rms
[1] = 
‹rms1
[18];

1538 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

1541 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1542 
my‹rms
[0] = 
‹rms1
[18];

1543 
my‹rms
[1] = 
‹rms1
[19];

1545 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[3], 
my‹rms
);

1548 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1552 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1553 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

1554 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

1555 
şau£
->
§tisf›d
 = 
Œue
;

1557 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1558 
my‹rms
[0] = 
‹rms1
[20];

1559 
my‹rms
[1] = 
‹rms1
[21];

1561 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

1564 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1565 
my‹rms
[0] = 
‹rms1
[21];

1566 
my‹rms
[1] = 
‹rms1
[22];

1568 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[4], 
my‹rms
);

1571 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1575 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1576 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

1577 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

1578 
şau£
->
§tisf›d
 = 
Œue
;

1580 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1581 
my‹rms
[0] = 
‹rms1
[23];

1582 
my‹rms
[1] = 
‹rms1
[24];

1584 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

1586 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1589 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1590 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

1591 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

1592 
şau£
->
§tisf›d
 = 
Œue
;

1594 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1595 
my‹rms
[0] = 
‹rms1
[25];

1596 
my‹rms
[1] = 
‹rms1
[26];

1598 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

1600 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1603 
	}
}

1604 
	gTe¡Mod–CouÁ
::
	$ü—‹MLNFromId
(
‹¡Id
)

1606 
	`ü—‹MLNs
(
‹¡Id
);

1607 if(
mÊ
.
şau£s
.
	`size
()==0)

1609 
veùÜ
<
WCÏu£
*> 
‹mpCÏu£s
;

1610 
i
=0;i<
mÊ
.
şau£s
.
	`size
();i++)

1612 
WCÏu£
* 
nCÏu£
 = 
LvrMLN
::
	`ü—‹_Ãw_şau£
(
mÊ
.
şau£s
[
i
]);

1613 
‹mpCÏu£s
.
	`push_back
(
nCÏu£
);

1615 
mÊ
.
şau£s
.
	`ş—r
();

1616 
mÊ
.
şau£s
=
‹mpCÏu£s
;

1617 
i
=0;i<
mÊ
.
şau£s
.
	`size
();i++)

1619 
mÊ
.
şau£s
[
i
]->
	`´št
();

1621 
	}
}

1622 
	gTe¡Mod–CouÁ
::
	$doWMCTe¡s
(
‹¡Id
)

1640 
mÊ
.
	`ş—rD©a
();

1641 
	`ü—‹MLNFromId
(
‹¡Id
);

1642 if(
mÊ
.
şau£s
.
	`size
()==0)

1645 
LPTPS—rch
 
ls
 =
	`LPTPS—rch
(
mÊ
);

1646 
LNÜm®iz”
 
	`Ê
(
mÊ
);

1647 
Ê
.
	`nÜm®izeCÏu£s
(
mÊ
.
şau£s
,
Œue
,
çl£
);

1648 
LvrP¬ams
* 
·¿ms
 = 
Ãw
 LvrParams;

1649 
·¿ms
->
±pCacheSize
 = 0;

1650 
cout
<<"PTP V®ue="<<
ls
.
	`¡¬tExaùWeigh‹dMod–CouÁšg
(
·¿ms
)<<
’dl
;

1651 
d–‘e
 
·¿ms
;

1652 
	`mªu®lyTe¡WC
(
‹¡Id
);

1653 
	`ş—nup
(
mÊ
.
şau£s
);

1654 
	}
}

1656 
	gTe¡Mod–CouÁ
::
	$ü—‹MLNs
(
‹¡Id
)

1658 
‹¡Id
)

1664 
	`ü—‹Te¡MLN2
(
mÊ
);

1667 
	`ü—‹Te¡MLN3
(
mÊ
);

1673 
	`ü—‹Te¡MLN5
(
mÊ
);

1676 
	`ü—‹Te¡MLN6
(
mÊ
);

1682 
	`ü—‹Te¡MLN8
(
mÊ
);

1685 
	`ü—‹Te¡MLN9
(
mÊ
);

1688 
	`ü—‹Te¡MLN10
(
mÊ
);

1691 
	`ü—‹Te¡MLN11
(
mÊ
);

1709 
	`ü—‹Te¡MLN17
(
mÊ
);

1726 
	}
}

1728 
	gTe¡Mod–CouÁ
::
	$mªu®lyTe¡WC
(
‹¡Id
)

1730 
‹¡Id
)

1736 
cout
<<"Mªu® V®ue="<< 
	`mªu®lyTe¡Mod–CouÁ2
()<<
’dl
;

1739 
cout
<<"Mªu® V®ue="<< 
	`mªu®lyTe¡Mod–CouÁ3
()<<
’dl
;

1745 
cout
<<"Mªu® V®ue="<< 
	`mªu®lyTe¡Mod–CouÁ5
()<<
’dl
;

1748 
cout
<<"Mªu® V®ue="<< 
	`mªu®lyTe¡Mod–CouÁ6
()<<
’dl
;

1754 
cout
<<"Mªu® V®ue="<< 
	`mªu®lyTe¡Mod–CouÁ8
()<<
’dl
;

1757 
cout
<<"Mªu® V®ue="<< 
	`mªu®lyTe¡Mod–CouÁ9
()<<
’dl
;

1760 
cout
<<"Mªu® V®ue="<< 
	`mªu®lyTe¡Mod–CouÁ10
()<<
’dl
;

1763 
cout
<<"Mªu® V®ue="<< 
	`mªu®lyTe¡Mod–CouÁ11
()<<
’dl
;

1781 
cout
<<"Mªu® V®ue="<< 
	`mªu®lyTe¡Mod–CouÁ17
()<<
’dl
;

1799 
	}
}

1800 
	gTe¡Mod–CouÁ
::
	$runAÎWMCTe¡s
()

1802 
cout
<<"*******************Exaù Weigh‹d Mod– CouÁšg(PTPè‹¡s************************"<<
’dl
;

1803 
i
=1;i<=21;i++)

1805 
cout
<<"***********WMCTEST"<<
i
<<"********"<<
’dl
;

1806 
	`doWMCTe¡s
(
i
);

1807 
cout
<<"***************************"<<
’dl
;

1809 
	}
}

1811 
LogDoubË
 
	gTe¡Mod–CouÁ
::
	$mªu®lyTe¡Mod–CouÁxx
()

1813 
n
=10;

1814 
boŞ
 
dÚe
 =
çl£
;

1815 
§tút
=0;

1816 
veùÜ
<> 
ŒuthV®ues
;

1817 
i
=0;i<
n
;i++)

1819 
ŒuthV®ues
.
	`push_back
(0);

1821 
LogDoubË
 
wt
 =
	`LogDoubË
();

1822 
wt1
=0;

1824 !
dÚe
)

1826 if((
ŒuthV®ues
[0]||truthValues[2]||!truthValues[6])&&(truthValues[0]||truthValues[2]||!truthValues[7])&&

1827 (
ŒuthV®ues
[0]||truthValues[3]||!truthValues[6])&&(truthValues[0]||truthValues[3]||!truthValues[7])&&

1828 (
ŒuthV®ues
[1]||truthValues[4]||!truthValues[8])&&(truthValues[1]||truthValues[4]||!truthValues[9])&&

1829 (
ŒuthV®ues
[1]||truthValues[5]||!truthValues[8])&&(truthValues[1]||truthValues[5]||!truthValues[9])&&

1830 (
ŒuthV®ues
[0]||truthValues[6])&&(truthValues[0]||truthValues[7])&&(truthValues[1]||truthValues[8])&&(truthValues[1]||truthValues[9])&&

1831 (
ŒuthV®ues
[2]||truthValues[6])&&(truthValues[3]||truthValues[7])&&(truthValues[4]||truthValues[8])&&(truthValues[5]||truthValues[9]))

1833 
§tút
++;

1834 
LogDoubË
 
t
ğ
	`LogDoubË
(1,
çl£
);

1835 if(
ŒuthV®ues
[6]==0)

1836 
t
ñ*
	`LogDoubË
(0.5,
çl£
);

1837 if(
ŒuthV®ues
[7]==0)

1838 
t
ñ*
	`LogDoubË
(0.5,
çl£
);

1839 if(
ŒuthV®ues
[8]==0)

1840 
t
ñ*
	`LogDoubË
(0.5,
çl£
);

1841 if(
ŒuthV®ues
[9]==0)

1842 
t
ñ*
	`LogDoubË
(0.5,
çl£
);

1844 
wt
+=
t
;

1846 if(
	`g‘NextTruthAssignm’t
(
ŒuthV®ues
))

1852  
wt
;

1853 
	}
}

1857 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡FÜmuÏ
(
LvrMLN
& 
mÊ
)

1860 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

1861 
symbŞs
[0] = "R";

1862 
symbŞs
[1] = "S";

1863 
symbŞs
[2] = "T";

1864 
veùÜ
<> 
	`v¬_ty³1
(1);

1865 
v¬_ty³1
[0] = 0;

1866 
veùÜ
<> 
	`v¬_ty³2
(2);

1867 
v¬_ty³2
[0] = var_type2[1] = 0;

1869 
mÊ
.
symbŞs
.
	`push_back
Ğ
Ãw
 
	`P»diÿ‹SymbŞ
(0, symbŞs[0], 
v¬_ty³1
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false)));

1870 
mÊ
.
symbŞs
.
	`push_back
(
Ãw
 
	`P»diÿ‹SymbŞ
(1, symbŞs[1], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false)));

1871 
mÊ
.
symbŞs
.
	`push_back
(
Ãw
 
	`P»diÿ‹SymbŞ
(2, symbŞs[2], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false)));

1872 
mÊ
.
şau£s
.
	`ş—r
();

1873 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(10);

1874 
veùÜ
<> 
	`domaš1
(2);

1875 
i
 = 0; i < 2; i++)

1876 
domaš1
[
i
] = i;

1877 
size_t
 
i
 = 0; i < 10; i++) {

1878 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

1882 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1883 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

1884 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

1885 
şau£
->
§tisf›d
 = 
çl£
;

1887 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(1);

1888 
my‹rms
[0] = 
‹rms1
[0];

1890 
şau£
->
sign
[0]=
Œue
;

1891 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

1895 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1896 
my‹rms
[0] = 
‹rms1
[0];

1897 
my‹rms
[1] = 
‹rms1
[1];

1899 
şau£
->
sign
[1]=
Œue
;

1900 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

1902 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1907 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1908 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

1909 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

1910 
şau£
->
§tisf›d
 = 
çl£
;

1912 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(1);

1913 
my‹rms
[0] = 
‹rms1
[3];

1915 
şau£
->
sign
[0]=
Œue
;

1916 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

1919 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1920 
my‹rms
[0] = 
‹rms1
[3];

1921 
my‹rms
[1] = 
‹rms1
[4];

1922 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

1925 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

1951 
mÊ
.
fÜmuÏs
.
	`push_back
(
Ãw
 
	`FÜmuÏ
(0,2,
	`LogDoubË
(0.5,
çl£
)));

1954 
	}
}

1956 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN15
(
LvrMLN
& 
mÊ
)

1958 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(5);

1960 
veùÜ
<
¡ršg
> 
	`symbŞs
(5);

1961 
symbŞs
[0] = "R";

1962 
symbŞs
[1] = "S";

1963 
symbŞs
[2] = "T";

1964 
symbŞs
[3] = "P";

1965 
symbŞs
[4] = "Q";

1967 
veùÜ
<> 
	`v¬_ty³1
(1);

1968 
v¬_ty³1
[0] = 0;

1969 
veùÜ
<> 
	`v¬_ty³2
(2);

1970 
v¬_ty³2
[0] = var_type2[1] = 0;

1972 
mÊ
.
symbŞs
[0] = 
Ãw
 
	`P»diÿ‹SymbŞ
(0, symbŞs[0], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

1973 
mÊ
.
symbŞs
[1] = 
Ãw
 
	`P»diÿ‹SymbŞ
(1, symbŞs[1], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

1974 
mÊ
.
symbŞs
[2] = 
Ãw
 
	`P»diÿ‹SymbŞ
(2, symbŞs[2], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

1975 
mÊ
.
symbŞs
[3] = 
Ãw
 
	`P»diÿ‹SymbŞ
(3, symbŞs[3], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

1976 
mÊ
.
symbŞs
[4] = 
Ãw
 
	`P»diÿ‹SymbŞ
(4, symbŞs[4], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

1978 
mÊ
.
şau£s
.
	`ş—r
();

1979 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(25);

1980 
veùÜ
<> 
	`domaš1
(2);

1981 
i
 = 0; i < 2; i++)

1982 
domaš1
[
i
] = i;

1983 
size_t
 
i
 = 0; i < 25; i++) {

1984 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

1987 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

1988 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(3);

1989 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(3);

1990 
şau£
->
§tisf›d
 = 
çl£
;

1992 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

1993 
my‹rms
[0] = 
‹rms1
[0];

1994 
my‹rms
[1] = 
‹rms1
[1];

1996 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

1999 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2000 
my‹rms
[0] = 
‹rms1
[1];

2001 
my‹rms
[1] = 
‹rms1
[2];

2004 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

2007 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2008 
my‹rms
[0] = 
‹rms1
[0];

2009 
my‹rms
[1] = 
‹rms1
[3];

2011 
şau£
->
©oms
[2] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

2014 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2018 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2019 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

2020 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

2021 
şau£
->
§tisf›d
 = 
çl£
;

2023 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2024 
my‹rms
[0] = 
‹rms1
[4];

2025 
my‹rms
[1] = 
‹rms1
[5];

2027 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[3], 
my‹rms
);

2030 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2031 
my‹rms
[0] = 
‹rms1
[5];

2032 
my‹rms
[1] = 
‹rms1
[6];

2035 
şau£
->
sign
[1]=
Œue
;

2036 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

2039 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2043 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2044 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(3);

2045 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(3);

2046 
şau£
->
§tisf›d
 = 
çl£
;

2048 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2049 
my‹rms
[0] = 
‹rms1
[7];

2050 
my‹rms
[1] = 
‹rms1
[8];

2052 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

2055 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2056 
my‹rms
[0] = 
‹rms1
[7];

2057 
my‹rms
[1] = 
‹rms1
[9];

2061 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[4], 
my‹rms
);

2064 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2065 
my‹rms
[0] = 
‹rms1
[7];

2066 
my‹rms
[1] = 
‹rms1
[10];

2068 
şau£
->
sign
[2]=
Œue
;

2069 
şau£
->
©oms
[2] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[3], 
my‹rms
);

2072 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2076 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2077 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

2078 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

2079 
şau£
->
§tisf›d
 = 
çl£
;

2081 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2082 
my‹rms
[0] = 
‹rms1
[11];

2083 
my‹rms
[1] = 
‹rms1
[12];

2086 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[3], 
my‹rms
);

2089 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2093 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2094 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

2095 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

2096 
şau£
->
§tisf›d
 = 
çl£
;

2098 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2099 
my‹rms
[0] = 
‹rms1
[13];

2100 
my‹rms
[1] = 
‹rms1
[14];

2102 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[4], 
my‹rms
);

2105 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2109 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2110 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

2111 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

2112 
şau£
->
§tisf›d
 = 
çl£
;

2114 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2115 
my‹rms
[0] = 
‹rms1
[15];

2116 
my‹rms
[1] = 
‹rms1
[16];

2118 
şau£
->
sign
[0]=
Œue
;

2119 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

2122 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2123 
my‹rms
[0] = 
‹rms1
[15];

2124 
my‹rms
[1] = 
‹rms1
[17];

2125 
şau£
->
sign
[1]=
Œue
;

2127 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[4], 
my‹rms
);

2130 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2134 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2135 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

2136 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

2137 
şau£
->
§tisf›d
 = 
çl£
;

2139 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2140 
my‹rms
[0] = 
‹rms1
[18];

2141 
my‹rms
[1] = 
‹rms1
[19];

2143 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

2145 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2150 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2151 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

2152 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

2153 
şau£
->
§tisf›d
 = 
çl£
;

2155 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2156 
my‹rms
[0] = 
‹rms1
[3];

2157 
my‹rms
[1] = 
‹rms1
[4];

2159 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

2163 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2164 
my‹rms
[0] = 
‹rms1
[4];

2165 
my‹rms
[1] = 
‹rms1
[5];

2167 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

2170 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2173 
	}
}

2176 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN16
(
LvrMLN
& 
mÊ
)

2178 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(5);

2180 
veùÜ
<
¡ršg
> 
	`symbŞs
(5);

2181 
symbŞs
[0] = "R";

2182 
symbŞs
[1] = "S";

2183 
symbŞs
[2] = "T";

2184 
symbŞs
[3] = "P";

2185 
symbŞs
[4] = "Q";

2187 
veùÜ
<> 
	`v¬_ty³1
(1);

2188 
v¬_ty³1
[0] = 0;

2189 
veùÜ
<> 
	`v¬_ty³2
(2);

2190 
v¬_ty³2
[0] = var_type2[1] = 0;

2192 
mÊ
.
symbŞs
[0] = 
Ãw
 
	`P»diÿ‹SymbŞ
(0, symbŞs[0], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

2193 
mÊ
.
symbŞs
[1] = 
Ãw
 
	`P»diÿ‹SymbŞ
(1, symbŞs[1], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

2194 
mÊ
.
symbŞs
[2] = 
Ãw
 
	`P»diÿ‹SymbŞ
(2, symbŞs[2], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

2195 
mÊ
.
symbŞs
[3] = 
Ãw
 
	`P»diÿ‹SymbŞ
(3, symbŞs[3], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

2196 
mÊ
.
symbŞs
[4] = 
Ãw
 
	`P»diÿ‹SymbŞ
(4, symbŞs[4], 
v¬_ty³2
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

2198 
mÊ
.
şau£s
.
	`ş—r
();

2199 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(25);

2200 
veùÜ
<> 
	`domaš1
(2);

2201 
i
 = 0; i < 2; i++)

2202 
domaš1
[
i
] = i;

2203 
size_t
 
i
 = 0; i < 25; i++) {

2204 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

2207 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2208 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(3);

2209 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(3);

2210 
şau£
->
§tisf›d
 = 
çl£
;

2212 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2213 
my‹rms
[0] = 
‹rms1
[0];

2214 
my‹rms
[1] = 
‹rms1
[1];

2216 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

2219 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2220 
my‹rms
[0] = 
‹rms1
[1];

2221 
my‹rms
[1] = 
‹rms1
[2];

2224 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

2227 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2228 
my‹rms
[0] = 
‹rms1
[1];

2229 
my‹rms
[1] = 
‹rms1
[3];

2231 
şau£
->
©oms
[2] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

2234 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2236 
	}
}

2238 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN17
(
LvrMLN
& 
mÊ
)

2240 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

2241 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

2242 
symbŞs
[0] = "R";

2243 
symbŞs
[1] = "S";

2244 
symbŞs
[2] = "T";

2245 
veùÜ
<> 
	`v¬_ty³s
(2);

2246 
v¬_ty³s
[0] = var_types[1] = 0;

2247 
i
 = 0; i < 3; i++) {

2248 
mÊ
.
symbŞs
[
i
] = 
Ãw
 
	`P»diÿ‹SymbŞ
(i, symbŞs[i], 
v¬_ty³s
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

2250 
mÊ
.
şau£s
.
	`ş—r
();

2251 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(10);

2252 
veùÜ
<> 
	`domaš1
(2);

2253 
i
 = 0; i < 2; i++)

2254 
domaš1
[
i
] = i;

2255 
size_t
 
i
 = 0; i < 10; i++) {

2256 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

2260 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2261 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(3);

2262 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(3);

2263 
şau£
->
§tisf›d
 = 
çl£
;

2265 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2266 
my‹rms
[0] = 
‹rms1
[0];

2267 
my‹rms
[1] = 
‹rms1
[1];

2269 
şau£
->
sign
[0]=
Œue
;

2270 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

2274 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2275 
my‹rms
[0] = 
‹rms1
[1];

2276 
my‹rms
[1] = 
‹rms1
[2];

2278 
şau£
->
sign
[1]=
Œue
;

2279 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

2283 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2284 
my‹rms
[0] = 
‹rms1
[0];

2285 
my‹rms
[1] = 
‹rms1
[2];

2287 
şau£
->
©oms
[2] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

2291 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2293 
	}
}

2295 
LogDoubË
 
	gTe¡Mod–CouÁ
::
	$mªu®lyTe¡Mod–CouÁ17
()

2297 
n
=4;

2298 
boŞ
 
dÚe
 =
çl£
;

2299 
§tút
=0;

2300 
veùÜ
<> 
ŒuthV®ues
;

2301 
i
=0;i<
n
;i++)

2303 
ŒuthV®ues
.
	`push_back
(0);

2305 
LogDoubË
 
wt
 =
	`LogDoubË
();

2306 
wt1
=0;

2308 !
dÚe
)

2310 if((!
ŒuthV®ues
[0] || !truthValues[0] ||ruthValues[0])&&

2311 (!
ŒuthV®ues
[0] || !truthValues[1] ||ruthValues[1])&&

2312 (!
ŒuthV®ues
[1] || !truthValues[2] ||ruthValues[0])&&

2313 (!
ŒuthV®ues
[1] || !truthValues[3] ||ruthValues[1])&&

2314 (!
ŒuthV®ues
[2] || !truthValues[0] ||ruthValues[2])&&

2315 (!
ŒuthV®ues
[2] || !truthValues[1] ||ruthValues[3])&&

2316 (!
ŒuthV®ues
[3] || !truthValues[2] ||ruthValues[2])&&

2317 (!
ŒuthV®ues
[3] || !truthValues[3] ||ruthValues[3]))

2319 
§tút
++;

2320 
LogDoubË
 
t
ğ
	`LogDoubË
(1,
çl£
);

2321 
LogDoubË
::
	`LDPow”
(
	`LogDoubË
(0.1,
çl£
),
n
,
t
);

2322 
wt
+=
t
;

2324 if(
	`g‘NextTruthAssignm’t
(
ŒuthV®ues
))

2330  
wt
;

2331 
	}
}

2333 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN18
(
LvrMLN
& 
mÊ
)

2335 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

2336 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

2337 
symbŞs
[0] = "R";

2338 
symbŞs
[1] = "S";

2339 
symbŞs
[2] = "T";

2340 
veùÜ
<> 
	`v¬_ty³s
(2);

2341 
v¬_ty³s
[0] = var_types[1] = 0;

2342 
i
 = 0; i < 3; i++) {

2343 
mÊ
.
symbŞs
[
i
] = 
Ãw
 
	`P»diÿ‹SymbŞ
(i, symbŞs[i], 
v¬_ty³s
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

2345 
mÊ
.
şau£s
.
	`ş—r
();

2346 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(10);

2347 
veùÜ
<> 
	`domaš1
(2);

2348 
i
 = 0; i < 2; i++)

2349 
domaš1
[
i
] = i;

2350 
size_t
 
i
 = 0; i < 10; i++) {

2351 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

2355 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2356 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(4);

2357 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(4);

2358 
şau£
->
§tisf›d
 = 
çl£
;

2360 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2361 
my‹rms
[0] = 
‹rms1
[0];

2362 
my‹rms
[1] = 
‹rms1
[1];

2364 
şau£
->
sign
[0]=
Œue
;

2365 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

2369 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2370 
my‹rms
[0] = 
‹rms1
[0];

2371 
my‹rms
[1] = 
‹rms1
[2];

2373 
şau£
->
sign
[1]=
Œue
;

2374 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

2378 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2379 
my‹rms
[0] = 
‹rms1
[0];

2380 
my‹rms
[1] = 
‹rms1
[3];

2382 
şau£
->
©oms
[2] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

2388 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2389 
my‹rms
[0] = 
‹rms1
[4];

2390 
my‹rms
[1] = 
‹rms1
[0];

2392 
şau£
->
©oms
[3] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

2395 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2400 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2401 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(3);

2402 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(3);

2403 
şau£
->
§tisf›d
 = 
çl£
;

2405 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2406 
my‹rms
[0] = 
‹rms1
[5];

2407 
my‹rms
[1] = 
‹rms1
[6];

2409 
şau£
->
sign
[0]=
Œue
;

2410 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

2414 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2415 
my‹rms
[0] = 
‹rms1
[7];

2416 
my‹rms
[1] = 
‹rms1
[6];

2418 
şau£
->
sign
[1]=
Œue
;

2419 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

2422 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2423 
my‹rms
[0] = 
‹rms1
[6];

2424 
my‹rms
[1] = 
‹rms1
[8];

2426 
şau£
->
sign
[1]=
Œue
;

2427 
şau£
->
©oms
[2] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

2430 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2433 
	}
}

2435 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN19
(
LvrMLN
& 
mÊ
)

2437 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

2438 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

2439 
symbŞs
[0] = "R";

2440 
symbŞs
[1] = "S";

2441 
symbŞs
[2] = "T";

2442 
veùÜ
<> 
	`v¬_ty³s
(2);

2443 
v¬_ty³s
[0] = var_types[1] = 0;

2444 
veùÜ
<> 
	`v¬_ty³s1
(2);

2445 
v¬_ty³s1
[0] = 0;

2446 
mÊ
.
symbŞs
[0] = 
Ãw
 
	`P»diÿ‹SymbŞ
(0, symbŞs[0], 
v¬_ty³s1
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

2447 
i
 = 1; i < 3; i++) {

2448 
mÊ
.
symbŞs
[
i
] = 
Ãw
 
	`P»diÿ‹SymbŞ
(i, symbŞs[i], 
v¬_ty³s
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

2450 
mÊ
.
şau£s
.
	`ş—r
();

2451 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(10);

2452 
veùÜ
<> 
	`domaš1
(2);

2453 
i
 = 0; i < 2; i++)

2454 
domaš1
[
i
] = i;

2455 
size_t
 
i
 = 0; i < 10; i++) {

2456 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

2460 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2461 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

2462 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

2463 
şau£
->
§tisf›d
 = 
çl£
;

2475 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2476 
my‹rms
[0] = 
‹rms1
[0];

2478 
my‹rms
[1] = 
‹rms1
[1];

2481 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

2485 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2486 
my‹rms
[0] = 
‹rms1
[1];

2487 
my‹rms
[1] = 
‹rms1
[2];

2489 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

2492 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2495 
	}
}

2497 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN20
(
LvrMLN
& 
mÊ
)

2499 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

2500 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

2501 
symbŞs
[0] = "R";

2502 
symbŞs
[1] = "S";

2503 
symbŞs
[2] = "T";

2504 
veùÜ
<> 
	`v¬_ty³s
(2);

2505 
v¬_ty³s
[0] = var_types[1] = 0;

2506 
veùÜ
<> 
	`v¬_ty³s1
(2);

2507 
v¬_ty³s1
[0] = 0;

2508 
mÊ
.
symbŞs
[0] = 
Ãw
 
	`P»diÿ‹SymbŞ
(0, symbŞs[0], 
v¬_ty³s1
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

2509 
i
 = 1; i < 3; i++) {

2510 
mÊ
.
symbŞs
[
i
] = 
Ãw
 
	`P»diÿ‹SymbŞ
(i, symbŞs[i], 
v¬_ty³s
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

2512 
mÊ
.
şau£s
.
	`ş—r
();

2513 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(10);

2514 
veùÜ
<> 
	`domaš1
(2);

2515 
i
 = 0; i < 2; i++)

2516 
domaš1
[
i
] = i;

2517 
size_t
 
i
 = 0; i < 10; i++) {

2518 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

2522 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2523 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(2);

2524 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(2);

2525 
şau£
->
§tisf›d
 = 
çl£
;

2537 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2538 
my‹rms
[0] = 
‹rms1
[0];

2540 
my‹rms
[1] = 
‹rms1
[1];

2543 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

2547 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2548 
my‹rms
[0] = 
‹rms1
[2];

2549 
my‹rms
[1] = 
‹rms1
[0];

2551 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

2554 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2557 
	}
}

2559 
	gTe¡Mod–CouÁ
::
	$ü—‹Te¡MLN21
(
LvrMLN
& 
mÊ
)

2561 
mÊ
.
symbŞs
 = 
veùÜ
<
P»diÿ‹SymbŞ
*>(3);

2562 
veùÜ
<
¡ršg
> 
	`symbŞs
(3);

2563 
symbŞs
[0] = "R";

2564 
symbŞs
[1] = "S";

2565 
symbŞs
[2] = "T";

2566 
veùÜ
<> 
	`v¬_ty³s
(2);

2567 
v¬_ty³s
[0] = var_types[1] = 0;

2568 
veùÜ
<> 
	`v¬_ty³s1
(2);

2569 
i
 = 0; i < 3; i++) {

2570 
mÊ
.
symbŞs
[
i
] = 
Ãw
 
	`P»diÿ‹SymbŞ
(i, symbŞs[i], 
v¬_ty³s
,
	`LogDoubË
(0.1,
çl£
),LogDouble(0.1,false));

2572 
mÊ
.
şau£s
.
	`ş—r
();

2573 
veùÜ
<
LvrT”m
*> 
	`‹rms1
(10);

2574 
veùÜ
<> 
	`domaš1
(3);

2575 
i
 = 0; i < 3; i++)

2576 
domaš1
[
i
] = i;

2577 
size_t
 
i
 = 0; i < 10; i++) {

2578 
‹rms1
[
i
] = 
Ãw
 
	`LvrT”m
(0, 
domaš1
);

2582 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2583 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(3);

2584 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(3);

2585 
şau£
->
§tisf›d
 = 
çl£
;

2587 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2588 
my‹rms
[0] = 
‹rms1
[0];

2589 
my‹rms
[1] = 
‹rms1
[1];

2590 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[0], 
my‹rms
);

2594 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2595 
my‹rms
[0] = 
‹rms1
[0];

2597 
my‹rms
[1] = 
‹rms1
[2];

2600 
şau£
->
©oms
[1] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

2604 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2605 
my‹rms
[0] = 
‹rms1
[1];

2606 
my‹rms
[1] = 
‹rms1
[2];

2608 
şau£
->
©oms
[2] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

2611 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2614 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2615 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

2616 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

2617 
şau£
->
§tisf›d
 = 
çl£
;

2619 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2620 
my‹rms
[0] = 
Ãw
 
	`LvrT”m
(0,0);

2621 
my‹rms
[1] = 
Ãw
 
	`LvrT”m
(0,0);

2622 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[1], 
my‹rms
);

2624 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2627 
WCÏu£
* 
şau£
 = 
Ãw
 
	`WCÏu£
();

2628 
şau£
->
©oms
 = 
veùÜ
<
Atom
*>(1);

2629 
şau£
->
sign
 = 
veùÜ
<
boŞ
>(1);

2630 
şau£
->
§tisf›d
 = 
çl£
;

2632 
veùÜ
<
LvrT”m
*> 
	`my‹rms
(2);

2633 
my‹rms
[0] = 
Ãw
 
	`LvrT”m
(0,1);

2634 
my‹rms
[1] = 
Ãw
 
	`LvrT”m
(0,0);

2635 
şau£
->
©oms
[0] = 
Ãw
 
	`Atom
(
mÊ
.
symbŞs
[2], 
my‹rms
);

2637 
mÊ
.
şau£s
.
	`push_back
(
şau£
);

2639 
	}
}

	@liftedinfer/tests/testmodelcount.h

1 #iâdeà
TESTMODELCOUNT__


2 
	#TESTMODELCOUNT__


	)

3 
	~<veùÜ
>

4 
	~<io¡»am
>

5 
	~<£t
>

6 
	~<m­
>

7 
usšg
 
Çme¥aû
 
	g¡d
;

8 
	~"lvrmÊ.h
"

9 
	#NUMAUTOTESTFILES
 6

	)

10 
	sTe¡Mod–CouÁ


12 
LvrMLN
 
	mmÊ
;

13 
Te¡Mod–CouÁ
(){}

14 
runAÎWMCTe¡s
();

15 
ü—‹MLNFromId
(
‹¡Id
);

16 ~
Te¡Mod–CouÁ
(){}

17 
	m´iv©e
:

18 
ü—‹Te¡MLN1
(
LvrMLN
& 
mÊ
);

19 
ü—‹Te¡MLN2
(
LvrMLN
& 
mÊ
);

20 
ü—‹Te¡MLN3
(
LvrMLN
& 
mÊ
);

21 
ü—‹Te¡MLN4
(
LvrMLN
& 
mÊ
);

22 
ü—‹Te¡MLN5
(
LvrMLN
& 
mÊ
);

23 
ü—‹Te¡MLN6
(
LvrMLN
& 
mÊ
);

24 
ü—‹Te¡MLN7
(
LvrMLN
& 
mÊ
);

25 
ü—‹Te¡MLN8
(
LvrMLN
& 
mÊ
);

26 
ü—‹Te¡MLN9
(
LvrMLN
& 
mÊ
);

27 
ü—‹Te¡MLN10
(
LvrMLN
& 
mÊ
);

28 
ü—‹Te¡MLN11
(
LvrMLN
& 
mÊ
);

29 
ü—‹Te¡MLN12
(
LvrMLN
& 
mÊ
);

30 
ü—‹Te¡MLN13
(
LvrMLN
& 
mÊ
);

31 
ü—‹Te¡MLN15
(
LvrMLN
& 
mÊ
);

32 
ü—‹Te¡MLN16
(
LvrMLN
& 
mÊ
);

33 
ü—‹Te¡MLN17
(
LvrMLN
& 
mÊ
);

34 
ü—‹Te¡MLN18
(
LvrMLN
& 
mÊ
);

35 
ü—‹Te¡MLN19
(
LvrMLN
& 
mÊ
);

36 
ü—‹Te¡MLN20
(
LvrMLN
& 
mÊ
);

37 
ü—‹Te¡MLN21
(
LvrMLN
& 
mÊ
);

38 
LogDoubË
 
mªu®lyTe¡Mod–CouÁ2
();

39 
LogDoubË
 
mªu®lyTe¡Mod–CouÁ3
();

40 
LogDoubË
 
mªu®lyTe¡Mod–CouÁ5
();

41 
LogDoubË
 
mªu®lyTe¡Mod–CouÁ6
();

42 
LogDoubË
 
mªu®lyTe¡Mod–CouÁ8
();

43 
LogDoubË
 
mªu®lyTe¡Mod–CouÁ9
();

44 
LogDoubË
 
mªu®lyTe¡Mod–CouÁ10
();

45 
LogDoubË
 
mªu®lyTe¡Mod–CouÁ11
();

46 
LogDoubË
 
mªu®lyTe¡Mod–CouÁ17
();

48 
LogDoubË
 
mªu®lyTe¡Mod–CouÁxx
();

49 
ü—‹Te¡FÜmuÏ
(
LvrMLN
& 
mÊ
);

50 
mªu®lyTe¡Mod–CouÁ
(
n
);

51 
runMLNTe¡
(
¡ršg
 
fŞd”
,
id
);

52 
boŞ
 
g‘NextTruthAssignm’t
(
veùÜ
<>& 
ŒuthV®ues
);

53 
ü—‹MLNs
(
‹¡Id
);

54 
doWMCTe¡s
(
‹¡Id
);

55 
mªu®lyTe¡WC
(
‹¡Id
);

	@logic/Polynomial.cpp

67 
	~"PŞynomŸl.h
"

69 
	~<c¡dio
>

70 
	~<iomª
>

71 
	~<m©h.h
>

73 
	~"com¶ex.h
"

75 
	#DOUBLE_ZERO_THRESHOLD
 0.000000001

	)

76 
	#NOOPT
 -1

	)

77 
	gPBIGVALUE
 = 1010101;

79 
boŞ
 
	g¶dbg
 = 
çl£
;

81 
boŞ
 
	$DoubËEqu®
(cÚ¡ & 
d1
, cÚ¡ & 
d2
, cÚ¡ & 
th»shŞd
) {

82 ià(
	`çbs
(
d1
 - 
d2
è< 
th»shŞd
) {

83  
Œue
;

85  
çl£
;

86 
	}
}

90 
	gPŞyNomŸl
::
O±imize2
(
A¼ay
<>* 
v¬s
, * 
İtV®ue
)

92 
	gv¬s
->
ş—r
();

93 ià(1 =ğ
numV¬_
)

95 
a
 = 0, 
	gb
 = 0;

96 
	gi
 = 0; i < 
	g™ems_
.
size
(); ++i) {

97 
	gm­
<, >::
cÚ¡_™”©Ü
 
c™”
 = 
™ems_
[
i
].
begš
();

98 ià(
DoubËEqu®
(
c™”
->
£cÚd
, 2.0, 
DOUBLE_ZERO_THRESHOLD
)) {

99 
	ga
 = 
cÛf_
[
i
];

102 ià(
DoubËEqu®
(
c™”
->
£cÚd
, 1.0, 
DOUBLE_ZERO_THRESHOLD
)) {

103 
	gb
 = 
cÛf_
[
i
];

108 ià(
çbs
(
a
è< 
	gDOUBLE_ZERO_THRESHOLD
) {

109 
	gcout
 << "Thquad¿tiø‹rm i em±y" << 
	g’dl
;

110 
ex™
(0);

113 
	gv¬s
->
­³nd
(-
b
/(2*
a
));

114 *
	gİtV®ue
 = 
Compu‹PlV®ue
(*
v¬s
);

119 
	ga
 = 0, 
	gb
 = 0, 
	gc
 = 0, 
	gd
 = 0, 
	ge
 = 0;

121 
	gi
 = 0; i < 
	g™ems_
.
size
(); ++i) {

122 
	gm­
<, >::
cÚ¡_™”©Ü
 
c™”
 = 
™ems_
[
i
].
begš
();

123 ià(
	gc™”
->
	gfœ¡
 =ğ0 && 
DoubËEqu®
(
c™”
->
£cÚd
, 2.0, 
DOUBLE_ZERO_THRESHOLD
))

125 
	ga
 = 
cÛf_
[
i
];

127 ià(
	gc™”
->
	gfœ¡
 =ğ1 && 
DoubËEqu®
(
c™”
->
£cÚd
, 2.0, 
DOUBLE_ZERO_THRESHOLD
))

129 
	gb
 = 
cÛf_
[
i
];

131 ià(
	gc™”
->
	gfœ¡
 =ğ0 && 
DoubËEqu®
(
c™”
->
£cÚd
, 1.0, 
DOUBLE_ZERO_THRESHOLD
è&& 
	g™ems_
[
i
].
size
() == 2)

133 
c
 = 
cÛf_
[
i
];

135 ià(
	gc™”
->
	gfœ¡
 =ğ0 && 
DoubËEqu®
(
c™”
->
£cÚd
, 1.0, 
DOUBLE_ZERO_THRESHOLD
è&& 
	g™ems_
[
i
].
size
() == 1)

137 
d
 = 
cÛf_
[
i
];

139 ià(
	gc™”
->
	gfœ¡
 =ğ1 && 
DoubËEqu®
(
c™”
->
£cÚd
, 1.0, 
DOUBLE_ZERO_THRESHOLD
è&& 
	g™ems_
[
i
].
size
() == 1)

141 
e
 = 
cÛf_
[
i
];

143 ià(
	gc™”
->
	gfœ¡
 =ğ1 && 
DoubËEqu®
(
c™”
->
£cÚd
, 1.0, 
DOUBLE_ZERO_THRESHOLD
è&& 
	g™ems_
[
i
].
size
() > 1)

145 
	gcout
 << "shouldn'ˆbh”e," << 
	g’dl
;

149 
	gv¬s
->
ş—r
();

150 
	gd–
 = 4 * 
a
 * 
b
 - 
c
 * c;

153 ià(
çbs
(
d–
è< 
	gDOUBLE_ZERO_THRESHOLD
) {

154 ià(
çbs
(
a
)> 
	gDOUBLE_ZERO_THRESHOLD
) {

155 
	gv¬s
->
­³nd
(-
d
 / 2 * 
a
);

156 
	gv¬s
->
­³nd
(0.0);

157 } ià(
çbs
(
a
)> 
	gDOUBLE_ZERO_THRESHOLD
) {

158 
	gv¬s
->
­³nd
(0.0);

159 
	gv¬s
->
­³nd
(-
e
 / 2 * 
b
);

162 
PrštTo
(
cout
); 
	gcout
 << 
	g’dl
;

163 
	gcout
 << "d– = 0,‚Øİtimums2" << 
	g’dl
;

164 
ex™
(0);

166 *
	gİtV®ue
 = 
Compu‹PlV®ue
(*
v¬s
);

167  
	gNOOPT
;

170 
	gv¬s
->
­³nd
((
e
 * 
c
-2 * 
b
 * 
d
)/
d–
);

171 
	gv¬s
->
­³nd
((
d
 * 
c
-2 * 
a
 * 
e
)/
d–
);

172 *
	gİtV®ue
 = 
Compu‹PlV®ue
(*
v¬s
);

178 
DoubËRªge
 
	gPŞyNomŸl
::
	$SŞvePŞy2
(
a
, 
b
, 
c
, 
d
)

180 
DoubËRªge
 
r
;

181 ià(
c
 == 0)

183 ià(
b
 == 0)

185 if(
a
 - 
d
 >= 0)

187 
r
.
low
 = - 
PBIGVALUE
;

188 
r
.
high
 = 
PBIGVALUE
;

189 
r
.
iTy³
 = 0;

193 
r
.
iTy³
 = 3;

198 ià(
b
 > 0)

200 
r
.
low
 = 
d
/
b
;

201 
r
.
high
 = 
PBIGVALUE
;

202 
r
.
iTy³
 = 0;

206 
r
.
high
 = 
d
/
b
;

207 
r
.
low
 = -
PBIGVALUE
;

208 
r
.
iTy³
 = 0;

211  
r
;

214 
za
 = 
a
/
c
;

215 
zb
 = 
b
/
c
;

216 
zd
 = 
d
/
c
;

217 
d–
 = 
zd
 - 
za
 + 
zb
 * zb/4;

219 ià(
d–
 < 0) {

220 
r
.
iTy³
 = 3;

221 } ià(
d–
 == 0) {

222 
r
.
low
 =„.
high
 = -
zb
/2;

223 
r
.
iTy³
 = 2;

225 
r
.
low
 = -
zb
/2 - 
	`sq¹
(
d–
);

226 
r
.
high
 = -
zb
/2 + 
	`sq¹
(
d–
);

227 ià(
c
 > 0) {

228 
r
.
iTy³
 = 1;

230 
r
.
iTy³
 = 0;

233  
r
;

234 
	}
}

236 
DoubËRªge
 
	gPŞyNomŸl
::
	$SŞvePŞy2
(
d
)

238 
DoubËRªge
 
r
;

239 ià(!
	`NÜm®izeGaussŸn
())

241 
cout
 << "unsŞvabË" << 
’dl
;

242 
r
.
low
 = 1;

243 
r
.
high
 = 0;

244 
r
.
iTy³
 = 3;

245  
r
;

248  
	`SŞvePŞy2
(
g·¿_
.
a
, g·¿_.
b
, g·¿_.
c
, 
d
);

249 
	}
}

251 
	gPŞyNomŸl
::
	$PŞyNomŸl
()

253 
numV¬_
 = 0;

254 
cÚ¡V®ue_
 = 0;

255 
numI‹ms_
 = 0;

256 
	}
}

258 
	gPŞyNomŸl
::
	$PŞyNomŸl
(cÚ¡ 
PŞyNomŸl
& 
¶
)

260 
numV¬_
 = 
¶
.numVar_;

261 
v¬_
 = 
¶
.var_;

262 
cÛf_
 = 
¶
.coef_;

263 
numI‹ms_
 = 
¶
.numItems_;

264 
¡rI‹ms_
 = 
¶
.strItems_;

265 
™ems_
 = 
¶
.items_;

266 
cÚ¡V®ue_
 = 
¶
.constValue_;

267 
v¬V®ue_
 = 
¶
.varValue_;

269 
v¬£¬ch_
.
	`ş—r
();

271 cÚ¡ 
m­
<
¡ršg
, >& 
v¬£¬ch
 = 
¶
.
v¬£¬ch_
;

272 
m­
<
¡ršg
, >::
cÚ¡_™”©Ü
 
™”
 = 
v¬£¬ch
.
	`begš
();

273 ;
™”
 !ğ
v¬£¬ch
.
	`’d
(); ++iter) {

274 
v¬£¬ch_
.
	`š£¹
(
m­
<
¡ršg
, >::
	`v®ue_ty³
(
™”
->
fœ¡
, i‹r->
£cÚd
));

276 
	}
}

278 
	gPŞyNomŸl
::
	$PŞyNomŸl
(
PŞyNomŸl
& 
¶
)

280 
numV¬_
 = 
¶
.numVar_;

281 
v¬_
 = 
¶
.var_;

282 
cÛf_
 = 
¶
.coef_;

283 
numI‹ms_
 = 
¶
.numItems_;

284 
¡rI‹ms_
 = 
¶
.strItems_;

285 
™ems_
 = 
¶
.items_;

286 
cÚ¡V®ue_
 = 
¶
.constValue_;

287 
v¬V®ue_
 = 
¶
.varValue_;

289 
v¬£¬ch_
.
	`ş—r
();

291 cÚ¡ 
m­
<
¡ršg
, >& 
v¬£¬ch
 = 
¶
.
v¬£¬ch_
;

292 
m­
<
¡ršg
, >::
cÚ¡_™”©Ü
 
™”
 = 
v¬£¬ch
.
	`begš
();

293 ;
™”
 !ğ
v¬£¬ch
.
	`’d
(); ++iter)

295 
v¬£¬ch_
.
	`š£¹
(
m­
<
¡ršg
, >::
	`v®ue_ty³
(
™”
->
fœ¡
, i‹r->
£cÚd
));

297 
	}
}

299 
	gPŞyNomŸl
::
	$Quad¿ticO±imiz©iÚ
()

301 ià(!
	`NÜm®izeGaussŸn
())

303 
cout
 << "unsŞvabË" << 
’dl
;

304  
PBIGVALUE
;

307  -
g·¿_
.
b
 / (2 * g·¿_.
c
);

308 
	}
}

310 
	gPŞyNomŸl
::
	$Cİy
(
PŞyNomŸl
& 
¶
)

312 
numV¬_
 = 
¶
.numVar_;

313 
v¬_
 = 
¶
.var_;

314 
cÛf_
 = 
¶
.coef_;

315 
numI‹ms_
 = 
¶
.numItems_;

316 
¡rI‹ms_
 = 
¶
.strItems_;

317 
™ems_
 = 
¶
.items_;

318 
cÚ¡V®ue_
 = 
¶
.constValue_;

319 
v¬V®ue_
 = 
¶
.varValue_;

321 
v¬£¬ch_
.
	`ş—r
();

323 cÚ¡ 
m­
<
¡ršg
, >& 
v¬£¬ch
 = 
¶
.
v¬£¬ch_
;

324 
m­
<
¡ršg
, >::
cÚ¡_™”©Ü
 
™”
 = 
v¬£¬ch
.
	`begš
();

325 ;
™”
 !ğ
v¬£¬ch
.
	`’d
(); ++iter)

327 
v¬£¬ch_
.
	`š£¹
(
m­
<
¡ršg
, >::
	`v®ue_ty³
(
™”
->
fœ¡
, i‹r->
£cÚd
));

329 
	}
}

332 
	gPŞyNomŸl
::
	$Cİy
(cÚ¡ 
PŞyNomŸl
& 
¶
)

334 
numV¬_
 = 
¶
.numVar_;

335 
v¬_
 = 
¶
.var_;

336 
cÛf_
 = 
¶
.coef_;

337 
numI‹ms_
 = 
¶
.numItems_;

338 
¡rI‹ms_
 = 
¶
.strItems_;

339 
™ems_
 = 
¶
.items_;

340 
cÚ¡V®ue_
 = 
¶
.constValue_;

341 
v¬V®ue_
 = 
¶
.varValue_;

343 
v¬£¬ch_
.
	`ş—r
();

345 cÚ¡ 
m­
<
¡ršg
, >& 
v¬£¬ch
 = 
¶
.
v¬£¬ch_
;

346 
m­
<
¡ršg
, >::
cÚ¡_™”©Ü
 
™”
 = 
v¬£¬ch
.
	`begš
();

347 ;
™”
 !ğ
v¬£¬ch
.
	`’d
(); ++iter)

349 
v¬£¬ch_
.
	`š£¹
(
m­
<
¡ršg
, >::
	`v®ue_ty³
(
™”
->
fœ¡
, i‹r->
£cÚd
));

351 
	}
}

353 
	gPŞyNomŸl
::
İ”©Ü
=(
PŞyNomŸl
& 
¶
)

355 
Cİy
(
¶
);

358 
	gPŞyNomŸl
::
İ”©Ü
=(cÚ¡ 
PŞyNomŸl
& 
¶
)

360 
Cİy
(
¶
);

363 
	gPŞyNomŸl
::~
	$PŞyNomŸl
()

366 
	}
}

368 
PŞyNomŸl
::
	$CË¬
()

370 
numV¬_
 = 0;

371 
cÚ¡V®ue_
 = 0;

372 
v¬_
.
	`ş—r
();

373 
v¬£¬ch_
.
	`ş—r
();

374 
cÛf_
.
	`ş—r
();

375 
v¬V®ue_
.
	`ş—r
();

376 
™ems_
.
	`ş—r
();

377 
¡rI‹ms_
.
	`ş—r
();

378 
numI‹ms_
 = 0;

379 
	}
}

381 
	gPŞyNomŸl
::
	$Compu‹I‹m
(
™emIdx
)

383 
v
 = 
cÛf_
[
™emIdx
];

384 
m­
<, >::
cÚ¡_™”©Ü
 
c™”
;

385 
c™”
 = 
™ems_
[
™emIdx
].
	`begš
(); c™” !=™ems_[™emIdx].
	`’d
(); ++citer)

387 
v
 = v * 
	`pow
(
v¬V®ue_
[
c™”
->
fœ¡
], (c™”->
£cÚd
));

389  
v
;

390 
	}
}

392 
	gPŞyNomŸl
::
	$ReduûToOÃV¬
(
v¬Idx
)

394 ià(
¶dbg
)

396 
cout
 << "EÁ”šg ReduûToOÃV¬" << 
’dl
;

399 
	`as£¹
(0<ğ
v¬Idx
 && v¬Idx < 
v¬_
.
	`size
());

401 
m­
<, > 
Ãw_Üd”_cÛf
;

402 
Ãw_cÚ¡_v®ue
 = 
cÚ¡V®ue_
;

405 
i
 = 0; i < 
™ems_
.
	`size
(); ++i)

407 
V¬CÚt
& 
vc
 = 
™ems_
[
i
];

409 
V¬CÚt
::
cÚ¡_™”©Ü
 
c™
 = 
vc
.
	`fšd
(
v¬Idx
);

410 iàĞ
c™
 =ğ
vc
.
	`’d
())

412 
Ãw_cÚ¡_v®ue
 +ğ
	`Compu‹I‹m
(
i
);

415 
cÛf
 = 
cÛf_
[
i
];

416 
Üd”
 = 
c™
->
£cÚd
;

417 
m­
<, >::
cÚ¡_™”©Ü
 
c™”
;

418 
c™”
 = 
vc
.
	`begš
(); c™” !ğvc.
	`’d
(); ++citer)

420 ià(
c™”
->
fœ¡
 !ğ
v¬Idx
)

422 
cÛf
 *ğ
	`pow
(
v¬V®ue_
[
c™”
->
fœ¡
], c™”->
£cÚd
);

425 
Ãw_Üd”_cÛf
[
Üd”
] +ğ
cÛf
;

430 
cÚ¡V®ue_
 = 
Ãw_cÚ¡_v®ue
;

431 
numV¬_
 = 1;

432 
v
 = 
v¬V®ue_
[
v¬Idx
];

433 
v¬V®ue_
.
	`ş—r
();

434 
v¬V®ue_
.
	`­³nd
(
v
);

435 
¡ršg
 
¡r
 = 
v¬_
[
v¬Idx
];

436 
v¬_
.
	`ş—r
();

437 
v¬_
.
	`­³nd
(
¡r
);

438 
v¬£¬ch_
.
	`ş—r
();

439 
v¬£¬ch_
[
¡r
] = 0;

441 
numI‹ms_
 = 
Ãw_Üd”_cÛf
.
	`size
();

442 
™ems_
.
	`ş—r
();

443 
¡rI‹ms_
.
	`ş—r
();

444 
cÛf_
.
	`ş—r
();

445 
m­
<, >::
cÚ¡_™”©Ü
 
c™
 = 
Ãw_Üd”_cÛf
.
	`begš
();

446 ; 
c™
 !ğ
Ãw_Üd”_cÛf
.
	`’d
(); ++cit) {

447 
cÛf_
.
	`­³nd
(
c™
->
£cÚd
);

448 
V¬CÚt
 
™em
;

449 
™em
[0] = 
c™
->
fœ¡
;

450 
™ems_
.
	`­³nd
(
™em
);

451 
¡rI‹ms_
.
	`­³nd
(
	`G’”©eI‹mSŒšg
(
™em
));

454 ià(
¶dbg
)

456 
cout
 << "L—všg ReduûToOÃV¬" << 
’dl
;

458 
	}
}

523 
	gPŞyNomŸl
::
ReduûToOÃV¬
(cÚ¡ 
A¼ay
<>& 
v¬s
, 
v¬Idx
)

525 
S‘V¬V®ue
(
v¬s
);

526 
ReduûToOÃV¬
(
v¬Idx
);

529 
	gPŞyNomŸl
::
Compu‹PlV®ue
(cÚ¡ 
A¼ay
<>& 
v¬s
)

531 
as£¹
(
v¬s
.
size
(è=ğ
numV¬_
);

533 
	gA¼ay
<> 
	gv¬V®ueBak_
;

535 
	gv¬V®ueBak_
.
cİyFrom
(
v¬V®ue_
);

537 
	gv¬V®ue_
.
cİyFrom
(
v¬s
);

539 
	g¶V®ue
 = 
Compu‹PlV®ue
();

541 
	gv¬V®ue_
.
cİyFrom
(
v¬V®ueBak_
);

543  
	g¶V®ue
;

546 
	gPŞyNomŸl
::
	$Compu‹PlV®ue
()

548 
¶V®ue
 = 0;

549 
¶V®ue
 = 
cÚ¡V®ue_
;

550 
i
 = 0; i < 
™ems_
.
	`size
(); i++)

552 
¶V®ue
 +ğ
	`Compu‹I‹m
(
i
);

554  
¶V®ue
;

555 
	}
}

558 
	gPŞyNomŸl
::
	$G‘Highe¡Ord”
(
v¬InIdx
) {

560 
highe¡
 = 0;

561 
size
 = 
™ems_
.
	`size
();

562 
i
 = 0; i < 
size
; i++)

564 
V¬CÚt
::
cÚ¡_™”©Ü
 
c™”
;

565 
c™”
 = 
™ems_
[
i
].
	`begš
(); c™” !ğ™ems_[i].
	`’d
(); ++citer)

567 if(
c™”
->
fœ¡
 =ğ
v¬InIdx
)

569 ià(
c™”
->
£cÚd
 > 
highe¡
)

571 
highe¡
 = 
c™”
->
£cÚd
;

576  
highe¡
;

577 
	}
}

579 
	gPŞyNomŸl
::
	$NÜm®ize
()

581 ià(
¶dbg
)

583 
cout
 << "EÁ”šg NÜm®ize" << 
’dl
;

586 
m­
<
¡ršg
, > 
tmpCÚt
;

587 
m­
<
¡ršg
, >::
cÚ¡_™”©Ü
 
c™”
;

588 
i
 = 0; i < 
numI‹ms_
; i++)

590 ià((
c™”
 = 
tmpCÚt
.
	`fšd
(
¡rI‹ms_
[
i
])è!ğtmpCÚt.
	`’d
())

592 
cÛf_
[
c™”
->
£cÚd
] +ğcÛf_[
i
];

593 
¡rI‹ms_
.
	`»moveI‹m
(
i
);

594 
™ems_
.
	`»moveI‹m
(
i
);

595 
cÛf_
.
	`»moveI‹m
(
i
);

596 
numI‹ms_
 --;

597 
i
--;

599 
tmpCÚt
.
	`š£¹
(
m­
<
¡ršg
, >::
	`v®ue_ty³
(
¡rI‹ms_
[
i
], i));

602 ià(
¶dbg
)

604 
cout
 << "L—všg NÜm®ize" << 
’dl
;

606 
	}
}

608 
boŞ
 
	gPŞyNomŸl
::
	$NÜm®izeGaussŸn
()

611 ià(!
	`IsQuad¿tic
())

613  
çl£
;

616 
	`NÜm®ize
();

618 ià(
numI‹ms_
 > 2)

620  
çl£
;

623 ià(
numI‹ms_
 == 1)

625 
V¬CÚt
& 
vc
 = 
™ems_
[0];

626 
V¬CÚt
::
cÚ¡_™”©Ü
 
c™”
 = 
vc
.
	`begš
();

627 ià(
c™”
->
£cÚd
 != 2)

629  
çl£
;

632 
g·¿_
.
a
 = 
cÚ¡V®ue_
;

633 
g·¿_
.
b
 = 0;

634 
g·¿_
.
c
 = 
cÛf_
[0];

635 
	`as£¹
(
g·¿_
.
c
 != 0);

639 
g·¿_
.
a
 = 
cÚ¡V®ue_
;

640 
i
 = 0; i < 
numI‹ms_
; i++)

642 
V¬CÚt
& 
vc
 = 
™ems_
[
i
];

643 
	`as£¹
(
vc
.
	`size
() == 1);

645 
V¬CÚt
::
cÚ¡_™”©Ü
 
c™”
 = 
vc
.
	`begš
();

647 ià(
c™”
->
£cÚd
 == 1)

649 
g·¿_
.
b
 = 
cÛf_
[
i
];

653 
g·¿_
.
c
 = 
cÛf_
[
i
];

658  
Œue
;

659 
	}
}

662 
¡ršg
 
	gPŞyNomŸl
::
	$G’”©eI‹mSŒšg
(cÚ¡ 
V¬CÚt
& 
vc
)

664 
¡ršg
 
¡r
;

665 
V¬CÚt
::
cÚ¡_™”©Ü
 
c™”
;

666 
c™”
 = 
vc
.
	`begš
(); c™” !ğvc.
	`’d
(); ++citer) {

667 
a
[100];

668 
	`¥rštf
(
a
, "(%d,%f)", 
c™”
->
fœ¡
, c™”->
£cÚd
);

669 
¡r
 +ğ
	`¡ršg
(
a
);

671  
¡r
;

672 
	}
}

676 
	gPŞyNomŸl
::
	$R—dFrom
(
i¡»am
& 
is
)

678 
	`CË¬
();

679 
¡ršg
 
¡r
;

680 
	`g‘lše
(
is
, 
¡r
, '/');

681 
cÚ¡V®ue_
 = 
	`©of
(
¡r
.
	`c_¡r
());

682 
	`g‘lše
(
is
, 
¡r
, '/');

683 
¡ršg¡»am
 
	`ss
(
¡r
);

684 
¡ršg
 
¡rV¬
;

685 
i
 = 0;

686 
	`g‘lše
(
ss
, 
¡rV¬
, ';'))

688 
	`as£¹
(
v¬£¬ch_
.
	`fšd
(
¡rV¬
è=ğv¬£¬ch_.
	`’d
());

689 
v¬_
.
	`­³nd
(
¡rV¬
);

690 
v¬£¬ch_
.
	`š£¹
(
m­
<
¡ršg
, >::
	`v®ue_ty³
(
¡rV¬
, 
i
));

691 
i
++;

694 
i
 = 0;

695 
m­
<
¡ršg
, > 
¡ºgI‹ms
;

696 
	`g‘lše
(
is
, 
¡r
, '/'))

698 
V¬CÚt
 
vc
;

699 
v¬Idx
;

700 
v¬Ord”
;

701 
¡ršg¡»am
 
	`as
(
¡r
);

702 
¡ršg
 
¡rTmp
;

703 
	`g‘lše
(
as
, 
¡rTmp
, ',');

705 
cÛf
 = 
	`©of
(
¡rTmp
.
	`c_¡r
());

707 
	`g‘lše
(
as
, 
¡rTmp
, '('))

709 
	`g‘lše
(
as
, 
¡rTmp
, ',');

710 
v¬Idx
 = 
	`©oi
(
¡rTmp
.
	`c_¡r
());

711 
	`g‘lše
(
as
, 
¡rTmp
, ')');

712 
v¬Ord”
 = 
	`©of
(
¡rTmp
.
	`c_¡r
());

713 
vc
.
	`š£¹
(
m­
<,>::
	`v®ue_ty³
(
v¬Idx
, 
v¬Ord”
));

716 
¡ršg
 
¡rI‹m
 = 
	`G’”©eI‹mSŒšg
(
vc
);

717 
m­
<
¡ršg
, >::
cÚ¡_™”©Ü
 
c™”
 = 
¡ºgI‹ms
.
	`fšd
(
¡rI‹m
);

718 ià(
c™”
 !ğ
¡ºgI‹ms
.
	`’d
())

720 
™emIdx
 = 
c™”
->
£cÚd
;

721 
cÛf_
[
™emIdx
] +ğ
cÛf
;

725 
¡rI‹ms_
.
	`­³nd
(
¡rI‹m
);

726 
¡ºgI‹ms
.
	`š£¹
(
m­
<
¡ršg
, >::
	`v®ue_ty³
(
¡rI‹m
, 
i
++));

728 
cÛf_
.
	`­³nd
(
cÛf
);

729 
™ems_
.
	`­³nd
(
vc
);

732 
numV¬_
 = 
v¬_
.
	`size
();

733 
v¬V®ue_
.
	`growToSize
(
numV¬_
, 0);

734 
numI‹ms_
 = 
¡rI‹ms_
.
	`size
();

735 
	}
}

737 
	gPŞyNomŸl
::
	$PrštV¬s
(
o¡»am
& 
os
) const

739 
i
 = 0; i < 
numV¬_
; i++) {

740 
os
 << 
v¬_
[
i
] << ":" << 
v¬V®ue_
[i] << "\t";

742 
os
 << 
’dl
;

743 
	}
}

745 
	gPŞyNomŸl
::
	$PrštTo
(
o¡»am
& 
os
) const

747 
os
.
	`£tf
(
ios
::
fixed
, ios::
æßtf›ld
);

748 
os
.
	`£tf
(
ios
::
showpošt
);

750 
os
 << 
	`£»cisiÚ
(20è<< 
cÚ¡V®ue_
 << '/';

751 
i
 = 0; i < 
v¬_
.
	`size
(); i++) {

752 
os
 << 
v¬_
[
i
] << ';';

754 
os
 << '/';

755 
i
 = 0; i < 
™ems_
.
	`size
(); i++) {

756 
os
 << 
	`£»cisiÚ
(20è<<
cÛf_
[
i
] << ',';

757 
m­
<,>::
cÚ¡_™”©Ü
 
c™”
;

758 
c™”
 = 
™ems_
[
i
].
	`begš
(); c™” !ğ™ems_[i].
	`’d
(); ++citer) {

759 
os
 << '(' << 
c™”
->
fœ¡
 << ',' << 
	`£»cisiÚ
(20è<<c™”->
£cÚd
 << ')' ;

761 
os
 << '/';

763 
	}
}

766 
boŞ
 
	gPŞyNomŸl
::
	$IsQuad¿tic
()

768 ià(
numV¬_
 != 1)

770  
çl£
;

773 
highÜd”
 = -1;

774 
i
 = 0; i < 
™ems_
.
	`size
(); i++)

776 
V¬CÚt
& 
vc
 = 
™ems_
[
i
];

777 
m­
<, >::
cÚ¡_™”©Ü
 
c™”
 = 
vc
.
	`begš
();

778 ià(
c™”
->
£cÚd
 > 
highÜd”
)

780 
highÜd”
 = 
c™”
->
£cÚd
;

784 ià(
highÜd”
 != 2)

786  
çl£
;

789  
Œue
;

790 
	}
}

792 
	gPŞyNomŸl
::
	$PrštCÛf
(
o¡»am
& 
os
, 
cÛf
) const

794 ià(
cÛf
 < 0)

796 
os
 << 
	`£»cisiÚ
(20è<<
cÛf
;

798 
os
 << "+"<< 
	`£»cisiÚ
(20)<< 
cÛf
;

800 
	}
}

803 
	gPŞyNomŸl
::
	$MuÉlyCÚ¡
(
cÛf
)

805 
cÚ¡V®ue_
 *ğ
cÛf
;

806 
i
 = 0; i < 
numI‹ms_
; i++)

808 
cÛf_
[
i
] *ğ
cÛf
;

810 
	}
}

813 
	gPŞyNomŸl
::
	$AddPl
(cÚ¡ 
PŞyNomŸl
& 
¶
)

815 ià(
¶dbg
)

817 
cout
 << "EÁ”šg AddPl" << 
’dl
;

819 ià(
numV¬_
 =ğ0 && 
¶
.numVar_ > 0)

821 
numV¬_
 = 
¶
.numVar_;

822 
cÚ¡V®ue_
 +ğ
¶
.constValue_;

823 
v¬_
.
	`cİyFrom
(
¶
.var_);

824 
™ems_
.
	`cİyFrom
(
¶
.items_);

825 
cÛf_
.
	`cİyFrom
(
¶
.coef_);

826 
v¬V®ue_
.
	`cİyFrom
(
¶
.varValue_);

827 
¡rI‹ms_
.
	`cİyFrom
(
¶
.strItems_);

828 
m­
<
¡ršg
,>::
cÚ¡_™”©Ü
 
c™”
 = 
¶
.
v¬£¬ch_
.
	`begš
();

829 ;
c™”
!ğ
¶
.
v¬£¬ch_
.
	`’d
(); ++citer)

831 
v¬£¬ch_
.
	`š£¹
(
m­
<
¡ršg
,>::
	`v®ue_ty³
(
c™”
->
fœ¡
, c™”->
£cÚd
));

833 } ià(
¶
.
numV¬_
 == 0) {

834 
cÚ¡V®ue_
 +ğ
¶
.constValue_;

835 } ià(
numV¬_
 > 0 && 
¶
.numVar_> 0) {

836 
cÚ¡V®ue_
 +ğ
¶
.constValue_;

837 
m­
<
¡ršg
, > 
™emCÚt
;

838 
i
 = 0; i < 
¡rI‹ms_
.
	`size
(); i++) {

839 
™emCÚt
.
	`š£¹
(
m­
<
¡ršg
, >::
	`v®ue_ty³
(
¡rI‹ms_
[
i
],i));

841 
m­
<
¡ršg
,>::
cÚ¡_™”©Ü
 
c™”
;

842 
i
 = 0; i < 
¶
.
¡rI‹ms_
.
	`size
(); i++)

844 ià((
c™”
 = 
™emCÚt
.
	`fšd
(
¶
.
¡rI‹ms_
[
i
])è!ğ™emCÚt.
	`’d
())

846 
cÛf_
[
c™”
->
£cÚd
] +ğ
¶
.cÛf_[
i
];

848 
™ems_
.
	`­³nd
(
¶
.™ems_[
i
]);

849 
¡rI‹ms_
.
	`­³nd
(
¶
.¡rI‹ms_[
i
]);

850 
cÛf_
.
	`­³nd
(
¶
.cÛf_[
i
]);

853 
numI‹ms_
 = 
™ems_
.
	`size
();

855 ià(
¶dbg
)

857 
cout
 << "L—všg AddPl" << 
’dl
;

859 
	}
}

860 
	gPŞyNomŸl
::
	$G‘GaussŸnP¬a
(* 
miu
, * 
¡dev
)

862 ià(
numV¬_
 == 1)

864 
a
 = 0, 
b
 = 0;

865 
i
 = 0; i < 
™ems_
.
	`size
(); i++)

867 
m­
<, >::
cÚ¡_™”©Ü
 
c™”
 = 
™ems_
[
i
].
	`begš
();

868 ià(
c™”
->
£cÚd
 == 2) {

869 
a
 = 
cÛf_
[
i
];

871 ià(
c™”
->
£cÚd
 == 1) {

872 
b
 = 
cÛf_
[
i
];

875 
	`as£¹
(
a
 < 0);

876 *
miu
 = -
b
/(2.0 * 
a
);

877 *
¡dev
 = 
	`sq¹
(-1.0/(2.0 * 
a
));

879 
cout
 << "ÿÀnÙ hªdË muÉiv¬Ÿ‹ GaussŸÀnow" << 
’dl
;

880 
	`ex™
(0);

882 
	}
}

884 
PŞyNomŸl
 
	gPŞyNomŸl
::
	$G‘G¿d›Á
(
v¬InIdx
)

886 
PŞyNomŸl
 
g¿d›Á
;

887 
g¿d›Á
.
	`Cİy
(*
this
);

889 
g¿d›Á
.
	`ReduûToOÃV¬
(
v¬V®ue_
, 
v¬InIdx
);

891 
g¿d›Á
.
cÚ¡V®ue_
 = 0;

893 if(0 =ğ
numI‹ms_
)

895 
g¿d›Á
.
	`CË¬
();

896  
g¿d›Á
;

899 
i
 = 0; i < 
g¿d›Á
.
numI‹ms_
; i++)

903 
m­
<,>::
™”©Ü
 
™
 = 
g¿d›Á
.
™ems_
[
i
].
	`begš
();

904 if(
™
->
£cÚd
 == 1)

906 
cÛf
 = 
g¿d›Á
.
cÛf_
[
i
];

907 
g¿d›Á
.
™ems_
.
	`»moveI‹m
(
i
);

908 
g¿d›Á
.
cÛf_
.
	`»moveI‹m
(
i
);

909 
g¿d›Á
.
¡rI‹ms_
.
	`»moveI‹m
(
i
);

910 
g¿d›Á
.
numI‹ms_
 --;

911 
i
--;

912 
g¿d›Á
.
cÚ¡V®ue_
 +ğ
cÛf
;

914 
g¿d›Á
.
cÛf_
[
i
] *ğ
™
->
£cÚd
;

915 
™
->
£cÚd
 = it->second - 1;

916 
g¿d›Á
.
¡rI‹ms_
[
i
] = g¿d›Á.
	`G’”©eI‹mSŒšg
(g¿d›Á.
™ems_
[i]);

919  
g¿d›Á
;

920 
	}
}

921 
	gA¼ay
<> 
	gPŞyNomŸl
::
	$G‘G¿d›Á
()

923 
A¼ay
<> 
v¬
;

925 
i
 = 0; i < 
numV¬_
; i++) {

926 
v¬
.
	`­³nd
(
	`G‘G¿d›Á
(
i
).
	`Compu‹PlV®ue
());

928  
v¬
;

929 
	}
}

945 
	gA¼ay
<
	gCom¶ex
> 
	$sŞvePŞyEq3
(
a
, 
b
, 
c
)

947 
A¼ay
<
Com¶ex
> 
roÙ
;

948 
Com¶ex
 
w1
,
w2
;

950 
w1
.
	`S‘
(-0.5,
	`sq¹
(3.0) / 2);

951 
w2
.
	`S‘
(-0.5,-
	`sq¹
(3.0) / 2);

953 
p
 = 
b
-(1.0/3è* 
a
 *‡;

954 
q
 = 2.0 / 27.0 * 
a
 *‡ *‡ -‡ * 
b
 / 3.0 + 
c
;

956 
d–
 = 
q
 * q / 4.0 + 
p
 *… *… / 27.0;

959 ià(
d–
 < 0)

962 
Com¶ex
 
	`cD–
(
d–
, 0.0);

963 
A¼ay
<
Com¶ex
> 
¬
 = 
cD–
.
	`RoÙ
(2);

966 
Com¶ex
 
zz1
 = 
¬
[0] - 
q
 / 2;

967 
Com¶ex
 
zz2
 = 
¬
[0] * (-1.0è- 
q
/2;

970 
¬
.
	`ş—r
();

971 
¬
 = 
zz1
.
	`RoÙ
(3);

972 
Com¶ex
 
z1
 = 
¬
[0];

974 
¬
.
	`ş—r
();

975 
¬
 = 
zz2
.
	`RoÙ
(3);

976 
Com¶ex
 
z2
 = 
¬
[2];

978 
Com¶ex
 
y1
 = 
z1
 + 
z2
;

979 
Com¶ex
 
y2
 = 
w1
 * 
z1
 + 
w2
 * 
z2
;

980 
Com¶ex
 
y3
 = 
w2
 * 
z1
 + 
w1
 * 
z2
;

982 
Com¶ex
 
x1
 = 
y1
 - 
a
 / 3;

983 
Com¶ex
 
x2
 = 
y2
 - 
a
 / 3;

984 
Com¶ex
 
x3
 = 
y3
 - 
a
 / 3;

986 
roÙ
.
	`­³nd
(
x1
);

987 
roÙ
.
	`­³nd
(
x2
);

988 
roÙ
.
	`­³nd
(
x3
);

990 
sq¹D–
 = 
	`sq¹
(
d–
);

991 
v1
 = 
q
 * (-0.5è+ 
sq¹D–
;

992 
v2
 = 
q
 * (-0.5è- 
sq¹D–
;

994 
z1
;

995 ià(
v1
 >= 0)

997 
z1
 = 
	`pow
(
v1
, 1.0 / 3.0);

1001 
z1
 = - 
	`pow
(-
v1
, 1.0 / 3.0);

1004 
z2
 = 
	`pow
(
q
 * (-0.5è- 
sq¹D–
, 1.0 / 3.0);

1005 ià(
v2
 >= 0)

1007 
z2
 = 
	`pow
(
v2
, 1.0 / 3.0);

1011 
z2
 = - 
	`pow
(-
v2
, 1.0 / 3.0);

1014 
Com¶ex
 
y1
; y1.
	`S‘
(
z1
 + 
z2
, 0);

1015 
Com¶ex
 
y2
 = 
w1
 * 
z1
 + 
w2
 * 
z2
;

1016 
Com¶ex
 
y3
 = 
w2
 * 
z1
 + 
w1
 * 
z2
;

1018 
roÙ
.
	`­³nd
(
y1
 - 
a
 / 3);

1019 
roÙ
.
	`­³nd
(
y2
 - 
a
 / 3);

1020 
roÙ
.
	`­³nd
(
y3
 - 
a
 / 3);

1023  
roÙ
;

1024 
	}
}

	@logic/Polynomial.h

67 #iâdeà
POLYNOMIAL_H_JAN_6_2007


68 
	#POLYNOMIAL_H_JAN_6_2007


	)

70 
	~<io¡»am
>

71 
	~<m­
>

72 
	~<¡ršg
>

73 
	~<s¡»am
>

74 
	~"¬¿y.h
"

76 
usšg
 
Çme¥aû
 
	g¡d
;

78 
	gm­
<, > 
	tV¬CÚt
;

80 
	sDoubËRªge


82 
DoubËRªge
()

84 
	mlow
 = 0;

85 
	mhigh
 = 0;

86 
	miTy³
 = 0;

88 
	mlow
;

89 
	mhigh
;

92 
	miTy³
;

95 
	g‹m¶©e
 <
ty³Çme
 
	gTy³
>

96 
boŞ
 
A¼ayCom·»
(
A¼ay
<
Ty³
> cÚ¡ & 
a1
, A¼ay<Ty³> cÚ¡ & 
a2
);

98 şas 
	cPŞyNomŸl


100 
	mpublic
:

101 
PŞyNomŸl
();

102 
PŞyNomŸl
(cÚ¡ PŞyNomŸl& 
¶
);

103 
PŞyNomŸl
(PŞyNomŸl& 
¶
);

104 ~
PŞyNomŸl
();

106 
CË¬
();

109 
Cİy
(
PŞyNomŸl
& 
¶
);

110 
Cİy
(cÚ¡ 
PŞyNomŸl
& 
¶
);

113 
	mİ”©Ü
=(
PŞyNomŸl
& 
¶
);

114 
	mİ”©Ü
=(cÚ¡ 
PŞyNomŸl
& 
¶
);

117 
Compu‹PlV®ue
(cÚ¡ 
A¼ay
<>& 
v¬s
);

118 
Compu‹PlV®ue
();

121 
PŞyNomŸl
 
G‘G¿d›Á
(
v¬InIdx
);

123 
	mA¼ay
<> 
G‘G¿d›Á
();

126 
NÜm®ize
();

128 
boŞ
 
NÜm®izeGaussŸn
();

131 
R—dFrom
(
i¡»am
& 
is
);

132 
	$PrštV¬s
(
o¡»am
& 
os
) const;

133 
	$PrštTo
(
o¡»am
& 
os
) const;

134 
	$PrštCÛf
(
o¡»am
& 
os
, 
cÛf
) const;

137 
	`MuÉlyCÚ¡
(
cÛf
);

140 
	`G‘GaussŸnP¬a
(* 
miu
, * 
¡dev
);

141 
	`AddPl
(cÚ¡ 
PŞyNomŸl
& 
¶
);

144 
	`G‘Highe¡Ord”
(
v¬InIdx
);

147 
boŞ
 
	$AddV¬
(cÚ¡ 
¡ršg
& 
v¬
)

149 ià(
v¬£¬ch_
.
	`fšd
(
v¬
è!ğv¬£¬ch_.
	`’d
())

151  
çl£
;

153 
v¬£¬ch_
[
v¬
] = 
numV¬_
;

154 
numV¬_
++;

155 
v¬_
.
	`­³nd
(
v¬
);

156 
v¬V®ue_
.
	`­³nd
(0.0);

157  
Œue
;

160 
boŞ
 
	$AddI‹m
(cÚ¡ 
V¬CÚt
& 
™em
, 
cÛf
)

162 
V¬CÚt
::
cÚ¡_™”©Ü
 
c™
 = 
™em
.
	`begš
();

163 ; 
c™
 !ğ
™em
.
	`’d
(); ++cit)

165 
v¬_id
 = 
c™
->
fœ¡
;

166 ià(
v¬_id
 >ğ
numV¬_
è 
çl£
;

168 
numI‹ms_
 ++;

169 
cÛf_
.
	`­³nd
(
cÛf
);

170 
™ems_
.
	`­³nd
(
™em
);

171 
¡rI‹ms_
.
	`­³nd
(
	`G’”©eI‹mSŒšg
(
™em
));

172 
	`NÜm®ize
();

173  
Œue
;

174 
	}
}

176 
S‘V¬Name
(cÚ¡ 
A¼ay
<
¡ršg
>& 
v¬Name
)

178 
as£¹
(
v¬Name
.
size
()=ğ
numV¬_
);

179 
	gv¬_
.
ş—r
();

180 
	gv¬_
.
­³nd
(
v¬Name
);

182 
	gv¬£¬ch_
.
ş—r
();

183 
	gi
 = 0; i < 
	gv¬_
.
size
(); ++i)

185 
	gv¬£¬ch_
[
v¬_
[
i
]] = i;

190 
S‘V¬V®ue
(cÚ¡ 
A¼ay
<>& 
v¬V®ue
)

192 
as£¹
(
v¬V®ue
.
size
()=ğ
numV¬_
);

193 
	gv¬V®ue_
.
ş—r
();

194 
	gv¬V®ue_
.
­³nd
(
v¬V®ue
);

197 
	$S‘CÚ¡ªtV®ue
(
v®
)

199 
cÚ¡V®ue_
 = 
v®
;

200 
	}
}

202 
	$G‘CÚ¡ªtV®ue
()

204  
cÚ¡V®ue_
;

205 
	}
}

209 
ReduûToOÃV¬
(cÚ¡ 
A¼ay
<>& 
v¬s
, 
v¬Idx
);

211 
ReduûToOÃV¬
(
v¬Idx
);

214 
¡ršg
 
G’”©eI‹mSŒšg
(cÚ¡ 
V¬CÚt
& 
vc
);

217 
DoubËRªge
 
SŞvePŞy2
(
d
);

218 
DoubËRªge
 
SŞvePŞy2
(
a
, 
b
, 
c
, 
d
);

221 
Quad¿ticO±imiz©iÚ
();

223 cÚ¡ 
	gA¼ay
<>& 
	$G‘V¬V®ue
(ècÚ¡ { 
v¬V®ue_
;
	}
}

224 
	$G‘V¬V®ue
(
v¬Idx
è{ 
v¬V®ue_
[v¬Idx];
	}
}

225 
	$CË¬V¬V®ue
(è{
v¬V®ue_
.
	`ş—r
();
	}
}

226 
	$Aµ’dV¬V®ue
(
v®ue
è{
v¬V®ue_
.
	`­³nd
(v®ue);
	}
}

227 cÚ¡ 
	$G‘V¬Num
(ècÚ¡ { 
numV¬_
;
	}
}

229 cÚ¡ 
	g¡ršg
& 
	$G‘V¬At
(
v¬Idx
ècÚ¡ { 
v¬_
[v¬Idx];
	}
}

231 
	$G‘V¬Idx
(
¡ršg
& 
v¬
) const

233 
m­
<
¡ršg
, >::
cÚ¡_™”©Ü
 
c™”
 = 
v¬£¬ch_
.
	`fšd
(
v¬
);

234 ià(
c™”
 !ğ
v¬£¬ch_
.
	`’d
())

235  
c™”
->
£cÚd
;

237 
	}
}

239 cÚ¡ & 
	$G‘CÛf
(
v¬Idx
ècÚ¡ {  
cÛf_
[v¬Idx];
	}
}

240 cÚ¡ 
	gA¼ay
<
	g¡ršg
> & 
	$G‘V¬
(ècÚ¡ { 
v¬_
;
	}
}

241 cÚ¡ 
	gm­
<
	g¡ršg
, >& 
	$G‘V¬S—rch
(ècÚ¡{  
v¬£¬ch_
;
	}
}

244 
Compu‹I‹m
(
™emIdx
);

245 
boŞ
 
IsQuad¿tic
();

246 
O±imize2
(
A¼ay
<>* 
v¬s
, * 
İtV®ue
);

250 
	sQuad¿ticPŞyP¬a


252 
	ga
;

253 
	gb
;

254 
	gc
;

257 
	gA¼ay
<> 
	gv¬V®ue_
;

259 
	gpublic
:

261 
numV¬_
;

262 
	gnumI‹ms_
;

263 
	gcÚ¡V®ue_
;

264 
Quad¿ticPŞyP¬a
 
	gg·¿_
;

265 
	gA¼ay
<
	g¡ršg
> 
	g¡rI‹ms_
;

266 
	gA¼ay
<> 
	gcÛf_
;

267 
	gA¼ay
<
	gV¬CÚt
> 
	g™ems_
;

268 
	gA¼ay
<
	g¡ršg
> 
	gv¬_
;

269 
	gm­
<
	g¡ršg
, > 
	gv¬£¬ch_
;

	@logic/clause.cpp

67 
	~"şau£.h
"

68 
	~"mrf.h
"

69 
	~"v¬ŸbË.h
"

70 
	~"su³rşau£.h
"

72 
CÏu£Sam¶”
* 
	gCÏu£
::
şau£Sam¶”_
 = 
NULL
;

73 
	gCÏu£
::
fixedSizeB_
 = -1;

74 
	gAuxCÏu£D©a
::
fixedSizeB_
 = -1;

81 
šlše
 
boŞ
 
isR•»£Á©iveP¬tŸlTu¶e
(
A¼ay
<>* cÚ¡ & 
cÚ¡ªts
,

82 & 
im¶ic™Index
,

83 
A¼ay
<
V¬ŸbË
*>* cÚ¡ & 
eqV¬s
,

84 
v¬Id
)

86 
IÁHashA¼ay
 * 
	g£’CÚ¡ªts
 = 
Ãw
 IntHashArray();

87 
V¬ŸbË
 *
	gv¬
 = (*
eqV¬s
)[-
v¬Id
];

88 
	gi
 = 0; i < 
	gcÚ¡ªts
->
size
(); i++)

90 
	gcÚ¡ªtId
 = (*
cÚ¡ªts
)[
i
];

91 if(((*
	geqV¬s
)[
i
] =ğ
v¬
è&& (
cÚ¡ªtId
 >= 0) &&

92 
v¬
->
isIm¶ic™
(
cÚ¡ªtId
))

93 
£’CÚ¡ªts
->
­³nd
(
cÚ¡ªtId
);

98 
boŞ
 
	g»´e£Á©ive
 = (
im¶ic™Index
 <ğ
£’CÚ¡ªts
->
size
());

99 
d–‘e
 
	g£’CÚ¡ªts
;

100  
	g»´e£Á©ive
;

103 
	g‹m¶©e
 <
ty³Çme
 
	gTy³
>

104 
šlše
 
	gA¼ay
<
	gTy³
>* 
g‘CªÚiÿlA¼ay
(
A¼ay
<
Ty³
>* cÚ¡ & 
¬r
,

105 
A¼ay
<> * cÚ¡ & 
v¬IdToCªÚiÿlV¬Id
)

107 
	gA¼ay
<
	gTy³
> * 
	gÿnÚiÿlA¼
 = 
Ãw
 
A¼ay
<
Ty³
>();

108 
	gÿnÚiÿlV¬Id
;

109 
Ty³
 
	gv®
;

110 
	gv¬Id
 = 0; v¬Id < 
	g¬r
->
size
(); varId++)

112 
	gv®
 = (*
¬r
)[
v¬Id
];

113 
	gÿnÚiÿlV¬Id
 = (*
v¬IdToCªÚiÿlV¬Id
)[
v¬Id
];

114 ià(
	gÿnÚiÿlV¬Id
 < 0)

116 ià(
	gÿnÚiÿlA¼
->
size
(è< 
	gÿnÚiÿlV¬Id
 + 1)

117 
	gÿnÚiÿlA¼
->
growToSize
(
ÿnÚiÿlV¬Id
 + 1);

118 (*
	gÿnÚiÿlA¼
)[
ÿnÚiÿlV¬Id
] = 
v®
;

120  
	gÿnÚiÿlA¼
;

125 
boŞ
 
	gCÏu£
::
ü—‹AndAddUnknownCÏu£
(

126 
A¼ay
<
GroundCÏu£
*>* cÚ¡& 
unknownGndCÏu£s
,

127 
A¼ay
<
CÏu£
*>* cÚ¡& 
unknownCÏu£s
,

128 * cÚ¡ & 
numUnknownCÏu£s
,

129 cÚ¡ 
AddGroundCÏu£SŒuù
* cÚ¡ & 
agcs
,

130 cÚ¡ 
D©aba£
* cÚ¡ & 
db
)

132 
P»diÿ‹S‘
 
	g´edS‘
;

133 
	gP»diÿ‹S‘
::
™”©Ü
 
™”
;

135 
CÏu£
* 
	gşau£
 = 
NULL
;

136 
	gi
 = 0; i < 
	g´ediÿ‹s_
->
size
(); i++)

138 
P»diÿ‹
* 
	g´ediÿ‹
 = (*
´ediÿ‹s_
)[
i
];

139 
as£¹
(
´ediÿ‹
->
isGrounded
());

140 ià(
	gdb
->
g‘V®ue
(
´ediÿ‹
è=ğ
UNKNOWN
)

142 iàĞ(
™”
=
´edS‘
.
fšd
(
´ediÿ‹
)è!ğ´edS‘.
’d
() )

145 ià((*
™”
)->
g‘S’£
(è!ğ
´ediÿ‹
->getSense())

147 ià(
şau£
è
d–‘e
 clause;

148  
	gŒue
;

154 
	g´edS‘
.
š£¹
(
´ediÿ‹
);

156 ià(
	gşau£
 =ğ
NULL
è
şau£
 = 
Ãw
 
CÏu£
();

157 
P»diÿ‹
* 
	g´ed
 = 
Ãw
 P»diÿ‹(*
´ediÿ‹
, 
şau£
);

158 
	gşau£
->
­³ndP»diÿ‹
(
´ed
);

162 ià(
	gşau£
)

164 ià(
	gnumUnknownCÏu£s
) (*numUnknownClauses)++;

166 
	gşau£
->
£tWt
(
wt_
);

167 
	gşau£
->
ÿnÚiÿlizeW™houtV¬ŸbËs
();

169 ià(
	gagcs
)

171 ià(
	gşau£debug
 >= 2)

173 
cout
 << "Appending unknown clauseo MRF ";

174 
	gşau£
->
´št
(
cout
, 
db
->
g‘Domaš
());

175 
	gcout
 << 
	g’dl
;

177 
	gMRF
::
addUnknownGndCÏu£
(
agcs
, 
this
, 
şau£
, 
isH¬dCÏu£_
, 
db
);

181 ià(
	gunknownGndCÏu£s
)

183 ià(
	gşau£debug
 >= 2)

185 
cout
 << "Appending unknown ground clause ";

186 
	gşau£
->
´št
(
cout
, 
db
->
g‘Domaš
());

187 
	gcout
 << 
	g’dl
;

189 
	gunknownGndCÏu£s
->
­³nd
(
Ãw
 
GroundCÏu£
(
şau£
, 
agcs
->
gndP»ds
));

190 ià(
	gisH¬dCÏu£_
è
	gunknownGndCÏu£s
->
Ï¡I‹m
()->
£tWtToH¬dWt
();

192 ià(
	gunknownCÏu£s
)

194 ià(
	gşau£debug
 >= 2)

196 
cout
 << "Appending unknown clause ";

197 
	gşau£
->
´št
(
cout
, 
db
->
g‘Domaš
());

198 
	gcout
 << 
	g’dl
;

200 
	gunknownCÏu£s
->
­³nd
(
şau£
);

201 ià(
	gisH¬dCÏu£_
è
	gşau£
->
£tIsH¬dCÏu£
(
Œue
);

203 ià(
	gunknownCÏu£s
 =ğ
NULL
è
d–‘e
 
şau£
;

205  
	gçl£
;

208 
	$addP»diÿ‹ToHash
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
,

209 
P»diÿ‹HashA¼ay
* cÚ¡ & 
´edHashA¼ay
)

211 
numP»ds
 = 
c
->
	`g‘NumP»diÿ‹s
();

213 
i
 = 0; i < 
numP»ds
; i++)

215 
P»diÿ‹
* 
´ed
 = 
Ãw
 
	`P»diÿ‹
(*(
c
->
	`g‘P»diÿ‹
(
i
)));

216 
šdex
 = 
´edHashA¼ay
->
	`fšd
(
´ed
);

217 if(
šdex
 < 0 )

219 
šdex
 = 
´edHashA¼ay
->
	`­³nd
(
´ed
) + 1;

223 
d–‘e
 
´ed
;

224 
šdex
++;

227 
	}
}

241 
boŞ
 
	gCÏu£
::
ü—‹AndAddAùiveCÏu£
(

242 
A¼ay
<
GroundCÏu£
 *> * cÚ¡ & 
aùiveGroundCÏu£s
,

243 
GroundP»diÿ‹HashA¼ay
* cÚ¡& 
£’GndP»ds
,

244 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

245 
boŞ
 cÚ¡ & 
g‘S©isf›d
)

247 
boŞ
 
	gaccumuÏ‹CÏu£s
 = 
aùiveGroundCÏu£s
;

248 
P»diÿ‹
 *
	gı»d
;

249 
P»diÿ‹S‘
 
	g´edS‘
;

250 
	gP»diÿ‹S‘
::
™”©Ü
 
™”
;

252 
GroundCÏu£
 *
	ggroundCÏu£
;

254 
CÏu£
* 
	gşau£
 = 
NULL
;

255 
boŞ
 
	gisEm±y
 = 
Œue
;

256 
	gi
 = 0; i < 
	g´ediÿ‹s_
->
size
(); i++)

258 
P»diÿ‹
* 
	g´ediÿ‹
 = (*
´ediÿ‹s_
)[
i
];

259 
as£¹
(
´ediÿ‹
);

260 
as£¹
(
´ediÿ‹
->
isGrounded
());

261 iàĞ(
	g™”
 = 
´edS‘
.
fšd
(
´ediÿ‹
)è!ğ´edS‘.
’d
() )

265 ià(
wt_
 >ğ0 && !
g‘S©isf›d
 &&

266 (*
™”
)->
g‘S’£
(è!ğ
´ediÿ‹
->getSense())

268 ià(
şau£
è
d–‘e
 clause;

269  
	gçl£
;

276 
	g´edS‘
.
š£¹
(
´ediÿ‹
);

278 
boŞ
 
	gisEvid’û
 = 
db
->
g‘Evid’ûStus
(
´ediÿ‹
);

280 ià(
	gşau£debug
 >= 2)

282 
cout
 << "isEvid’û " << 
isEvid’û
 << 
’dl
;

283 
	g´ediÿ‹
->
´štW™hSŒV¬
(
cout
, 
db
->
g‘Domaš
());

284 
	gcout
 << 
	g’dl
;

286 ià(!
	gisEvid’û
)

287 
	gisEm±y
 = 
çl£
;

290 ià(
	gwt_
 < 0 && 
	gisEvid’û
 && !
	gg‘S©isf›d
 &&

291 
	gdb
->
§meTruthV®ueAndS’£
(
db
->
g‘V®ue
(
´ediÿ‹
),

292 
´ediÿ‹
->
g‘S’£
()))

294 ià(
	gşau£
è
d–‘e
 clause;

295  
	gçl£
;

299 ià(
	gaccumuÏ‹CÏu£s
 && !
	gisEvid’û
)

301 ià(!
	gşau£
èşau£ = 
Ãw
 
CÏu£
();

303 
	gı»d
 = 
Ãw
 
P»diÿ‹
(*
´ediÿ‹
, 
şau£
);

304 
as£¹
(
ı»d
);

305 ià(
	gşau£debug
 >= 2)

307 
cout
 << "Appending…red ";

308 
	g´ediÿ‹
->
´štW™hSŒV¬
(
cout
, 
db
->
g‘Domaš
());

309 
	gcout
 << "o clause ";

310 
	gşau£
->
´št
(
cout
, 
db
->
g‘Domaš
());

311 
	gcout
 << 
	g’dl
;

313 
	gşau£
->
­³ndP»diÿ‹
(
ı»d
);

314 ià(
	gşau£debug
 >ğ2è
cout
 << "Aµ’ded…»dØşau£" << 
’dl
;

320 ià(
	gisEm±y
)

322 ià(
	gşau£debug
 >ğ2è
cout
 << "CÏu£ i em±y" << 
’dl
;

323 
as£¹
(!
şau£
);

324  
	gçl£
;

330 ià(
	gaccumuÏ‹CÏu£s
)

332 
as£¹
(
şau£
);

333 ià(
	gşau£debug
 >ğ2è
cout
 << "CªÚiÿlizšg cÏu£" << 
’dl
;

334 
	gşau£
->
ÿnÚiÿlizeW™houtV¬ŸbËs
();

336 
	ggroundCÏu£
 = 
Ãw
 
GroundCÏu£
(
şau£
, 
£’GndP»ds
);

337 ià(
	gisH¬dCÏu£_
)

338 
	ggroundCÏu£
->
£tWtToH¬dWt
();

339 ià(
	gşau£debug
 >ğ2è
cout
 << "Aµ’dšg ground cÏu£Øaùiv£t" << 
’dl
;

340 
	gaùiveGroundCÏu£s
->
­³ndUnique
(
groundCÏu£
);

341 
d–‘e
 
	gşau£
;

343  
	gŒue
;

348 
	gCÏu£
::
g‘CÚ¡ªtTu¶es
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

349 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

350 
A¼ay
<>* cÚ¡ & 
mÊCÏu£T”mIds
,

351 cÚ¡ 
CÏu£
* cÚ¡ & 
v¬CÏu£
,

352 
P»diÿ‹T”mToV¬ŸbË
 * cÚ¡ & 
±”mToV¬
,

353 
CÏu£ToSu³rCÏu£M­
* cÚ¡ & 
şau£ToSu³rCÏu£
,

354 
boŞ
 
u£Im¶ic™
)

356 
boŞ
 
	gignÜeAùiveP»ds
 = 
Œue
;

357 
	gnumTrueGndšgs
 = 0;

361 
	gA¼ay
<> *
	gcÚ¡ªts
 = 
Ãw
 
A¼ay
<>(*
mÊCÏu£T”mIds
);

366 
	gcout
<<"***************************************************************"<<
	g’dl
;

367 
	gcout
<<"CamtØ´oûs thşau£ : "<<
	g’dl
;

368 
´št
(
cout
, 
domaš
);

369 
	gcout
<<
	g’dl
;

371 
ü—‹V¬IdToV¬sGroundedTy³
(
domaš
);

373 
	gA¼ay
<
	gP»diÿ‹
*>* 
	gÜigCÏu£L™s
 = 
Ãw
 
A¼ay
<
P»diÿ‹
*>(*
´ediÿ‹s_
);

377 
	gA¼ay
<A¼ay<
	gP»diÿ‹
*>* > 
	g·¹GroundedCÏu£s
;

382 
	gP»diÿ‹T”mToV¬ŸbË
::
™”©Ü
 
™r
;

383 
P»diÿ‹T”m
 *
	g±”m
;

384 
P»diÿ‹
 *
	g´ed
;

385 cÚ¡ 
T”m
 *
	g‹rm
;

386 
	gA¼ay
<
	gV¬ŸbË
 *> *
	geqV¬s
 = 
Ãw
 
A¼ay
<
V¬ŸbË
 *>();

387 
	geqV¬s
->
growToSize
(
mÊCÏu£T”mIds
->
size
());

390 
	gi
 = 0; i < 
	geqV¬s
->
size
(); i++)

391 (*
	geqV¬s
)[
i
] = 
NULL
;

393 ià(
	gu£Im¶ic™
)

395 
	g´edno
 = 0;…»dnØ< 
	gv¬CÏu£
->
g‘NumP»diÿ‹s
();…redno++)

397 
	g´ed
 = 
v¬CÏu£
->
g‘P»diÿ‹
(
´edno
);

398 
	g´edId
 = 
´ed
->
g‘Id
();

399 
	g‹rmno
 = 0;”mnØ< 
	g´ed
->
g‘NumT”ms
();ermno++)

401 
	g‹rm
 = 
´ed
->
g‘T”m
(
‹rmno
);

402 
as£¹
(!
‹rm
->
isCÚ¡ªt
());

403 
	g‹rmId
 = 
‹rm
->
g‘Id
();

404 
	g±”m
 = 
Ãw
 
P»diÿ‹T”m
(
´edId
, 
‹rmno
);

405 
	g™r
 = 
±”mToV¬
->
fšd
(
±”m
);

406 
as£¹
(
™r
 !ğ
±”mToV¬
->
’d
());

407 
as£¹
(-
‹rmId
 < 
eqV¬s
->
size
());

408 (*
	geqV¬s
)[-
‹rmId
] = 
™r
->
£cÚd
;

409 
d–‘e
 
	g±”m
;

414 ià(
	gu£Inv”£Index
)

417 
sÜtL™”®sByNeg©iÚAndAr™y
(*
ÜigCÏu£L™s
, 
ignÜeAùiveP»ds
, 
db
);

418 
groundIndexabËL™”®s
(
domaš
, 
db
, *
ÜigCÏu£L™s
, 
·¹GroundedCÏu£s
,

419 
ignÜeAùiveP»ds
);

429 
sÜtL™”®sByTrueDivTÙ®Groundšgs
(*
ÜigCÏu£L™s
, 
domaš
, 
db
);

431 
	gA¼ay
<
	gP»diÿ‹
*>* 
	gşau£L™sCİy
 = 
Ãw
 
A¼ay
<
P»diÿ‹
*>;

432 
	gşau£L™sCİy
->
growToSize
(
ÜigCÏu£L™s
->
size
());

433 
	gi
 = 0; i < 
	gÜigCÏu£L™s
->
size
(); i++)

434 (*
	gşau£L™sCİy
)[
i
] = 
Ãw
 
P»diÿ‹
(*(*
ÜigCÏu£L™s
)[i]);

435 
	g·¹GroundedCÏu£s
.
­³nd
(
şau£L™sCİy
);

441 ià(
	gşau£debug
)

443 
	gcout
 << "P¬tŸÎy grounded cÏu£ tØbcom¶‘ed: " << 
	g’dl
;

444 
	gpgcIdx
 = 0;…gcIdx < 
	g·¹GroundedCÏu£s
.
size
();…gcIdx++)

446 
	gcout
 << "\t";

447 
	gi
 = 0; i < 
	g·¹GroundedCÏu£s
[
pgcIdx
]->
size
(); i++)

449 (*
	g·¹GroundedCÏu£s
[
pgcIdx
])[
i
]->
´štW™hSŒV¬
(
cout
, 
domaš
);

450 
	gcout
 << " ";

452 
	gcout
 << 
	g’dl
;

456 
boŞ
 
	gsk
;

460 
	gpgcIdx
 = 0;…gcIdx < 
	g·¹GroundedCÏu£s
.
size
();…gcIdx++)

463 
	gcÚ¡ªts
->
cİyFrom
(*
mÊCÏu£T”mIds
);

465 
	gsk
 = 
çl£
;

467 
	gA¼ay
<
	gP»diÿ‹
*> 
	gşau£L™s
 = *(
·¹GroundedCÏu£s
[
pgcIdx
]);

468 
as£¹
(
şau£L™s
.
size
(è=ğ
ÜigCÏu£L™s
->size());

470 
	gA¼ay
<>* 
	gÜigV¬Ids
 = 
Ãw
 
A¼ay
<>;

472 
	gi
 = 0; i < 
	gşau£L™s
.
size
(); i++)

474 
as£¹
(
şau£L™s
[
i
]->
g‘NumT”ms
() ==

475 (*
ÜigCÏu£L™s
)[
i
]->
g‘NumT”ms
());

477 
	gj
 = 0; j < (*
	gÜigCÏu£L™s
)[
i
]->
g‘NumT”ms
(); j++)

479 cÚ¡ 
T”m
* 
	gŞdT”m
 = (*
ÜigCÏu£L™s
)[
i
]->
g‘T”m
(
j
);

480 cÚ¡ 
T”m
* 
	gÃwT”m
 = 
şau£L™s
[
i
]->
g‘T”m
(
j
);

482 ià(
	gŞdT”m
->
g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

484 
v¬Id
 = 
ŞdT”m
->
g‘Id
();

485 
	gÜigV¬Ids
->
­³nd
(
v¬Id
);

486 ià(
	gÃwT”m
->
g‘Ty³
(è=ğ
T”m
::
CONSTANT
)

488 
cÚ¡Id
 = 
ÃwT”m
->
g‘Id
();

489 
as£¹
(
cÚ¡Id
 >= 0);

490 
	gA¼ay
<
	gT”m
*>& 
	gv¬s
 = (*
v¬IdToV¬sGroundedTy³_
)[-
v¬Id
]->
v¬s
;

491 
as£¹
(
cÚ¡ªts
->
size
(è>ğ(-
v¬Id
+1));

493 ià(
	gu£Im¶ic™
)

495 
	gim¶ic™Index
 =

496 (*
eqV¬s
)[-
v¬Id
]->
g‘Im¶ic™Index
(
cÚ¡Id
);

497 ià(
	gim¶ic™Index
 < 0)

499 (*
	gcÚ¡ªts
)[-
v¬Id
] = 
cÚ¡Id
;

503 ià(
isR•»£Á©iveP¬tŸlTu¶e
(
cÚ¡ªts
, 
im¶ic™Index
,

504 
eqV¬s
, 
v¬Id
))

506 (*
	gcÚ¡ªts
)[-
v¬Id
] = 
cÚ¡Id
;

510 
	gsk
 = 
Œue
;

516 (*
	gcÚ¡ªts
)[-
v¬Id
] = 
cÚ¡Id
;

519 
	gk
 = 0; k < 
	gv¬s
.
size
(); k++èv¬s[
k
]->
£tId
(
cÚ¡Id
);

524 
d–‘e
 
	gşau£L™s
[
i
];

525 
	gşau£L™s
[
i
] = (*
ÜigCÏu£L™s
)[i];

528 ià(!
	gsk
)

532 
	gA¼ay
<
	gL™IdxV¬IdsGndšgs
*> 
	givgA¼
;

533 
ü—‹AÎL™IdxV¬sGndšgs
(
şau£L™s
, 
ivgA¼
, 
domaš
, 
Œue
);

534 
	givgA¼Idx
 = 0;

535 
boŞ
 
	glookAtNextL™
 = 
çl£
;

538 
	givgA¼Idx
 >= 0)

541 
L™IdxV¬IdsGndšgs
* 
ivg
 = 
ivgA¼
[
ivgA¼Idx
];

542 
P»diÿ‹
* 
	gl™
 = (*
ÜigCÏu£L™s
)[
ivg
->
l™Idx
];

544 
	gA¼ay
<>& 
	gv¬Ids
 = 
ivg
->
v¬Ids
;

545 
	gA¼aysAcûssÜ
<>& 
	gv¬Gndšgs
 = 
ivg
->
v¬Gndšgs
;

546 
	gboŞ
& 
	gl™Un£’
 = 
ivg
->
l™Un£’
;

547 
boŞ
 
	ghasComb
;

549 ià(
	gşau£debug
)

551 
	gcout
 << "Looking‡t†it: ";

552 
	gl™
->
´štW™hSŒV¬
(
cout
, 
domaš
);

553 
	gcout
 << 
	g’dl
;

556 
boŞ
 
	ggÙoNextComb
 = 
çl£
;

558 (
	ghasComb
 = 
v¬Gndšgs
.
hasNextCombš©iÚ
()è|| 
l™Un£’
)

561 ià(
l™Un£’
èl™Un£’ = 
çl£
;

563 ià(
	ghasComb
)

566 
	gv
 = 0; v < 
	gv¬Ids
.
size
(); v++)

568 (*
	gcÚ¡ªts
)[-
v¬Ids
[
v
]] = varIds[v];

571 
	gcÚ¡Id
;

572 
	gv
 = 0;

574 
	ggÙoNextComb
 = 
çl£
;

575 
	gv¬Gndšgs
.
ÃxtI‹mInCombš©iÚ
(
cÚ¡Id
))

577 
	gv¬Id
 = 
v¬Ids
[
v
];

578 
	gA¼ay
<
	gT”m
*>& 
	gv¬s
 = (*
v¬IdToV¬sGroundedTy³_
)[-
v¬Id
]->
v¬s
;

581 
as£¹
(
cÚ¡ªts
->
size
(è>ğ(-
v¬Id
+1));

583 ià(
	gu£Im¶ic™
)

585 
	gim¶ic™Index
 =

586 (*
eqV¬s
)[-
v¬Id
]->
g‘Im¶ic™Index
(
cÚ¡Id
);

587 ià(
	gim¶ic™Index
 < 0)

589 (*
	gcÚ¡ªts
)[-
v¬Id
] = 
cÚ¡Id
;

598 ià(
isR•»£Á©iveP¬tŸlTu¶e
(
cÚ¡ªts
, 
im¶ic™Index
,

599 
eqV¬s
, 
v¬Id
))

601 (*
	gcÚ¡ªts
)[-
v¬Id
] = 
cÚ¡Id
;

605 
	ggÙoNextComb
 = 
Œue
;

611 (*
	gcÚ¡ªts
)[-
v¬Id
] = 
cÚ¡Id
;

613 
	gv
++;

614 
	gi
 = 0; i < 
	gv¬s
.
size
(); i++èv¬s[
i
]->
£tId
(
cÚ¡Id
);

618 
as£¹
(
v¬Ids
.
size
(è=ğ
v
);

623 ià(
	gşau£debug
)

625 
	gcout
 << "Clause is‚ow: ";

626 
´štW™hWtAndSŒV¬
(
cout
, 
domaš
);

627 
	gcout
 << 
	g’dl
;

630 ià(
	ggÙoNextComb
)

633 ià(
l™”®OrSub£qu’tL™”®sA»True
(
l™
, 
ivg
->
sub£qGndL™s
, 
db
))

635 ià(
	gşau£debug
)

636 
	gcout
 << "CÏu£ s©isf›d" << 
	g’dl
;

639 
	gnumComb
 = 1;

640 
	gi
 = 
ivgA¼Idx
 + 1; i < 
	givgA¼
.
size
(); i++)

642 
	gnumV¬
 = 
ivgA¼
[
i
]->
v¬Gndšgs
.
g‘NumA¼ays
();

643 
	gj
 = 0; j < 
	gnumV¬
; j++)

644 
	gnumComb
 *ğ
ivgA¼
[
i
]->
v¬Gndšgs
.
g‘A¼ay
(
j
)->
size
();

646 
	gnumTrueGndšgs
 +ğ
numComb
;

651 ià(
	givgA¼Idx
 + 1 < 
	givgA¼
.
size
())

653 ià(
	gşau£debug
è
	gcout
 << "MovšgØÃxˆl™”®" << 
	g’dl
;

654 
	glookAtNextL™
 = 
Œue
;

655 
	givgA¼Idx
++;

664 ià(
	gçl£
)

666 ++
	gnumTrueGndšgs
;

671 
addCÚ¡ªtTu¶e
(
domaš
, 
db
, 
v¬CÏu£
, 
cÚ¡ªts
, 
eqV¬s
,

672 
şau£ToSu³rCÏu£
, 
u£Im¶ic™
);

679 ià(
	glookAtNextL™
è{†ookAtNextL™ = 
çl£
; }

683 
	gv¬Gndšgs
.
»£t
();

684 
	gl™Un£’
 = 
Œue
;

685 
	givgA¼Idx
--;

687 
	gv
 = 0; v < 
	gv¬Ids
.
size
(); v++)

689 (*
	gcÚ¡ªts
)[-
v¬Ids
[
v
]] = varIds[v];

693 
d–‘eAÎL™IdxV¬sGndšgs
(
ivgA¼
);

697 
	gi
 = 0; i < 
	gÜigV¬Ids
->
size
(); i++)

699 
	gv¬Id
 = (*
ÜigV¬Ids
)[
i
];

700 
as£¹
(
v¬Id
 < 0);

701 
	gA¼ay
<
	gT”m
*>& 
	gv¬s
 = (*
v¬IdToV¬sGroundedTy³_
)[-
v¬Id
]->
v¬s
;

702 
	gj
 = 0; j < 
	gv¬s
.
size
(); j++èv¬s[
j
]->
£tId
(
v¬Id
);

703 (*
	gv¬IdToV¬sGroundedTy³_
)[-
v¬Id
]->
	gisGrounded
 = 
çl£
;

706 
d–‘e
 
	gÜigV¬Ids
;

707 
d–‘e
 
	g·¹GroundedCÏu£s
[
pgcIdx
];

709 
d–‘e
 
	gÜigCÏu£L™s
;

710 
d–‘e
 
	gcÚ¡ªts
;

711  
	gnumTrueGndšgs
;

716 
šlše
 
	gCÏu£
::
addCÚ¡ªtTu¶e
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

717 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

718 cÚ¡ 
CÏu£
 * cÚ¡ & 
v¬CÏu£
,

719 
A¼ay
<> * cÚ¡ & 
cÚ¡ªts
,

720 
A¼ay
<
V¬ŸbË
 *> * cÚ¡ & 
eqV¬s
,

721 
CÏu£ToSu³rCÏu£M­
* cÚ¡ & 
şau£ToSu³rCÏu£
,

722 
boŞ
 
u£Im¶ic™
)

725 
P»diÿ‹S‘
 
	g´edS‘
;

727 
	gP»diÿ‹S‘
::
™”©Ü
 
™”
;

728 
P»diÿ‹
 *
	g´ediÿ‹
;

730 
CÏu£
 *
	gşau£
 = 
Ãw
 Clause();

734 
	gi
 = 0; i < 
	g´ediÿ‹s_
->
size
(); i++)

736 
	g´ediÿ‹
 = (*
´ediÿ‹s_
)[
i
];

737 
as£¹
(
´ediÿ‹
->
isGrounded
());

761 ià(
	gdb
->
g‘V®ue
(
´ediÿ‹
è=ğ
UNKNOWN
)

763 
şau£
->
­³ndP»diÿ‹
(
v¬CÏu£
->
g‘P»diÿ‹
(
i
));

767 
Su³rCÏu£
 *
	gsu³rCÏu£
;

768 
	gCÏu£ToSu³rCÏu£M­
::
™”©Ü
 
™r
;

769 
CÏu£
 *
	gkeyCÏu£
;

770 
	gA¼ay
<> * 
	gv¬IdToCªÚiÿlV¬Id
;

771 
	gA¼ay
<> * 
	gÿnÚiÿlCÚ¡ªts
;

772 
	gA¼ay
<
	gV¬ŸbË
 *> * 
	gÿnÚiÿlEqV¬s
;

775 
boŞ
 
	gu£CT
 = 
çl£
;

776 
IÁA¼ayHashA¼ay
 *
	gÃqCÚ¡¿šts
 = 
NULL
;

779 ià(
	gşau£
->
g‘NumP»diÿ‹s
() == 0)

781 
d–‘e
 
şau£
;

785 
	g™r
 = 
şau£ToSu³rCÏu£
->
fšd
(
şau£
);

786 ià(
	g™r
 =ğ
şau£ToSu³rCÏu£
->
’d
())

790 
keyCÏu£
 = 
Ãw
 
CÏu£
(*
şau£
);

791 
	gkeyCÏu£
->
£tWt
(
this
->
g‘Wt
());

792 
	gkeyCÏu£
->
£tUt
(
this
->
g‘Ut
());

793 
	gkeyCÏu£
->
£tAùiÚ
(
this
->
isAùiÚFaùÜ
());

796 
	gv¬CÁ
 = 
cÚ¡ªts
->
size
();

797 
	gv¬IdToCªÚiÿlV¬Id
 = 
Ãw
 
A¼ay
<>(
v¬CÁ
, -1);

798 
	gkeyCÏu£
->
ÿnÚiÿlize
(
v¬IdToCªÚiÿlV¬Id
);

799 
	gÿnÚiÿlEqV¬s
 = 
g‘CªÚiÿlA¼ay
(
eqV¬s
, 
v¬IdToCªÚiÿlV¬Id
);

801 
	gsu³rCÏu£
 = 
Ãw
 
Su³rCÏu£
(
keyCÏu£
, 
ÃqCÚ¡¿šts
,

802 
v¬IdToCªÚiÿlV¬Id
, 
u£CT
, 
wt_
);

804 (*
	gşau£ToSu³rCÏu£
)[
şau£
] = 
su³rCÏu£
;

805 
d–‘e
 
	gÿnÚiÿlEqV¬s
;

810 
	gsu³rCÏu£
 = 
™r
->
£cÚd
;

814 
	gv¬CÁ
 = 
cÚ¡ªts
->
size
();

815 
	gv¬IdToCªÚiÿlV¬Id
 = 
su³rCÏu£
->
g‘V¬IdToCªÚiÿlV¬Id
();

816 
	gv¬IdToCªÚiÿlV¬Id
->
growToSize
(
v¬CÁ
,-1);

819 
	gşau£
->
»moveAÎP»diÿ‹s
();

820 
d–‘e
 
	gşau£
;

823 
	gv¬IdToCªÚiÿlV¬Id
 = 
su³rCÏu£
->
g‘V¬IdToCªÚiÿlV¬Id
();

824 
	gÿnÚiÿlCÚ¡ªts
 = 
g‘CªÚiÿlA¼ay
(
cÚ¡ªts
, 
v¬IdToCªÚiÿlV¬Id
);

826 
	gsu³rCÏu£
->
addNewCÚ¡ªtsAndInüem’tCouÁ
(
ÿnÚiÿlCÚ¡ªts
,1);

829 
d–‘e
 
	gÿnÚiÿlCÚ¡ªts
;

836 
	gA¼ay
<> * 
	gCÏu£
::
	$upd©eToV¬CÏu£
()

838 
A¼ay
<> * 
‹rmIds
 = 
Ãw
 Array<>();

840 
‹rmIds
->
	`­³nd
(0);

842 cÚ¡ 
P»diÿ‹
 *
´ed
;

845 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

847 
´ed
 = (*
´ediÿ‹s_
)[
i
];

848 
j
 = 0; j < 
´ed
->
	`g‘NumT”ms
(); j++)

850 cÚ¡ 
T”m
* 
t
 = 
´ed
->
	`g‘T”m
(
j
);

851 ià(
t
->
	`g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

853 
id
 = 
t
->
	`g‘Id
();

854 
	`as£¹
(
id
 < 0);

855 
‹rmIds
->
	`growToSize
(-
id
+1);

856 (*
‹rmIds
)[-
id
] = id;

863 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

865 
´ed
 = (*
´ediÿ‹s_
)[
i
];

866 
j
 = 0; j < 
´ed
->
	`g‘NumT”ms
(); j++)

868 
T”m
* 
t
 = (T”m *è
´ed
->
	`g‘T”m
(
j
);

870 ià(
t
->
	`g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

872 
cÚ¡ªtId
 = 
t
->
	`g‘Id
();

873 
	`as£¹
(
cÚ¡ªtId
 >= 0);

874 
‹rmIds
->
	`­³nd
(
cÚ¡ªtId
);

877 
v¬Id
 = 
‹rmIds
->
	`size
()-1;

878 
t
->
	`£tId
(-
v¬Id
);

881  
‹rmIds
;

882 
	}
}

	@logic/clause.h

67 #iâdeà
CLAUSE_H_JUN_26_2005


68 
	#CLAUSE_H_JUN_26_2005


	)

70 
	~<ext/hash_£t
>

71 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

72 
	~<o¡»am
>

73 
	~<s¡»am
>

74 
usšg
 
Çme¥aû
 
	g¡d
;

75 
	~<şim™s
>

76 
	~"domaš.h
"

77 
	~"hash¡ršg.h
"

78 
	~"hashli¡.h
"

79 
	~"¬¿y§cûssÜ.h
"

80 
	~"pow”£t.h
"

81 
	~"muÉd¬¿y.h
"

82 
	~"hashšt.h
"

83 
	~"d©aba£.h
"

84 
	~"´ediÿ‹.h
"

85 
	~"ground´ediÿ‹.h
"

86 
	~"şau£§m¶”.h
"

87 
	~"şau£h–³r.h
"

89 cÚ¡ 
boŞ
 
	gu£Inv”£Index
 = 
Œue
;

91 cÚ¡ 
	gşau£debug
 = 0;

96 
şass
 
	gHashCÏu£
;

97 
şass
 
	gEqu®CÏu£
;

98 
	gHashA¼ay
<
	tCÏu£
*, 
	tHashCÏu£
, 
	tEqu®CÏu£
> 
	tCÏu£HashA¼ay
;

100 
şass
 
	gSu³rCÏu£
;

101 
şass
 
	gP»diÿ‹T”m
;

102 
şass
 
	gV¬ŸbË
;

103 
şass
 
	gHashP»diÿ‹T”m
;

104 
şass
 
	gEqu®P»diÿ‹T”m
;

106 
	ghash_m­
<
	tCÏu£
*, 
	tSu³rCÏu£
*, 
	tHashCÏu£
, 
	tEqu®CÏu£
>

107 
	tCÏu£ToSu³rCÏu£M­
;

109 
	ghash_m­
<
	tP»diÿ‹T”m
*, 
	tV¬ŸbË
*, 
	tHashP»diÿ‹T”m
,

110 
	tEqu®P»diÿ‹T”m
> 
	tP»diÿ‹T”mToV¬ŸbË
;

113 
şass
 
	gAddGroundCÏu£SŒuù
;

117 şas 
	cCÏu£


119 
ä›nd
 
şass
 
	mCÏu£Sam¶”
;

121 
	mpublic
:

122 
	$CÏu£
()

123 : 
	`wt_
(0), 
	`´ediÿ‹s_
(
Ãw
 
A¼ay
<
P»diÿ‹
*>), 
	`štA¼R•_
(
NULL
),

124 
	`hashCode_
(0), 
	`dœty_
(
Œue
), 
	`isH¬dCÏu£_
(
çl£
), 
	`locked_
(false),

125 
	`v¬IdToV¬sGroundedTy³_
(
NULL
), 
	`auxCÏu£D©a_
(NULL), 
	`¡©icWt_
(
çl£
),

126 
	`aùiÚ_
(
çl£
), 
	$ut_
(0.0) {}

128 
	$CÏu£
(cÚ¡ & 
wt
)

129 : 
	`wt_
(
wt
), 
	`´ediÿ‹s_
(
Ãw
 
A¼ay
<
P»diÿ‹
*>), 
	`štA¼R•_
(
NULL
),

130 
	`hashCode_
(0), 
	`dœty_
(
Œue
), 
	`isH¬dCÏu£_
(
çl£
), 
	`locked_
(false),

131 
	`v¬IdToV¬sGroundedTy³_
(
NULL
), 
	`auxCÏu£D©a_
(NULL), 
	`¡©icWt_
(
çl£
),

132 
	`aùiÚ_
(
çl£
), 
	$ut_
(0.0è{
	}
}

135 
	$CÏu£
(cÚ¡ 
CÏu£
& 
c
)

137 
wt_
 = 
c
.wt_;

138 
locked_
 = 
c
.locked_;

139 
´ediÿ‹s_
 = 
Ãw
 
A¼ay
<
P»diÿ‹
*>;

140 
A¼ay
<
P»diÿ‹
*>* 
ı»diÿ‹s
 = 
c
.
´ediÿ‹s_
;

141 
i
 = 0; i < 
ı»diÿ‹s
->
	`size
(); i++)

143 
P»diÿ‹
* 
p
 = (*
ı»diÿ‹s
)[
i
];

144 
´ediÿ‹s_
->
	`­³nd
(
Ãw
 
	`P»diÿ‹
(*
p
, 
this
));

146 
dœty_
 = 
c
.dirty_;

148 ià(!
dœty_
è{ 
	`as£¹
(
	`noDœtyP»diÿ‹s
()); }

150 ià(
c
.
štA¼R•_
èštA¼R•_ = 
Ãw
 
A¼ay
<>(*(c.intArrRep_));

151 
štA¼R•_
 = 
NULL
;

153 
hashCode_
 = 
c
.hashCode_;

155 
isH¬dCÏu£_
 = 
c
.isHardClause_;

157 
¡©icWt_
 = 
c
.staticWt_;

159 
aùiÚ_
 = 
c
.action_;

161 
ut_
 = 
c
.util_;

163 ià(
c
.
v¬IdToV¬sGroundedTy³_
)

165 
v¬IdToV¬sGroundedTy³_
 = 
Ãw
 
A¼ay
<
V¬sGroundedTy³
*>;

166 
i
 = 0; i < 
c
.
v¬IdToV¬sGroundedTy³_
->
	`size
(); i++)

168 
V¬sGroundedTy³
* 
vgt
 = (*(
c
.
v¬IdToV¬sGroundedTy³_
))[
i
];

169 
v¬IdToV¬sGroundedTy³_
->
	`­³nd
(
Ãw
 
	`V¬sGroundedTy³
(*
vgt
));

173 
v¬IdToV¬sGroundedTy³_
 = 
NULL
;

175 ià(
c
.
auxCÏu£D©a_
)

177 
auxCÏu£D©a_
 = 
Ãw
 
	`AuxCÏu£D©a
(
c
.auxCÏu£D©a_->
gaš
,

178 
c
.
auxCÏu£D©a_
->
İ
,

179 
c
.
auxCÏu£D©a_
->
»movedCÏu£Idx
,

180 
c
.
auxCÏu£D©a_
->
hasB“nEx·nded
,

181 
c
.
auxCÏu£D©a_
->
Ï¡S‹pEx·nded
,

182 
c
.
auxCÏu£D©a_
->
Ï¡S‹pOv”MšWeight
);

183 ià(
c
.
auxCÏu£D©a_
->
cÚ¡T”mPŒs
è
	`ŒackCÚ¡ªts
();

184 ià(
c
.
auxCÏu£D©a_
->
ÿche
)

186 
A¼ay
<A¼ay<A¼ay<
CacheCouÁ
*>*>*>* 
ÿche
, * 
Ùh”Cache
;

187 
ÿche
 = 
Ãw
 
A¼ay
<A¼ay<A¼ay<
CacheCouÁ
*>*>*>;

188 
Ùh”Cache
 = 
c
.
auxCÏu£D©a_
->
ÿche
;

190 
ÿche
->
	`growToSize
(
Ùh”Cache
->
	`size
(),
NULL
);

192 
i
 = 0; i < 
Ùh”Cache
->
	`size
(); i++)

194 (*
ÿche
)[
i
] = 
Ãw
 
A¼ay
<A¼ay<
CacheCouÁ
*>*>;

195 (*
ÿche
)[
i
]->
	`growToSize
((*
Ùh”Cache
)[i]->
	`size
(), 
NULL
);

196 
j
 = 0; j < (*
Ùh”Cache
)[
i
]->
	`size
(); j++)

198 
A¼ay
<
CacheCouÁ
*>* 
ccA¼
 = (*(*
Ùh”Cache
)[
i
])[
j
];

199 ià(
ccA¼
 =ğ
NULL
) ;

200 (*(*
ÿche
)[
i
])[
j
] = 
Ãw
 
A¼ay
<
CacheCouÁ
*>;

201 (*(*
ÿche
)[
i
])[
j
]->
	`growToSize
(
ccA¼
->
	`size
());

202 
k
 = 0; k < 
ccA¼
->
	`size
(); k++)

204 (*(*(*
ÿche
)[
i
])[
j
])[
k
] = 
Ãw
 
	`CacheCouÁ
((*
ccA¼
)[k]->
g
,

205 (*
ccA¼
)[
k
]->
c
,

206 (*
ccA¼
)[
k
]->
út
);

210 
auxCÏu£D©a_
->
ÿche
 = cache;

213 
auxCÏu£D©a_
->
´evCÏu£SŒ
 = 
c
.auxClauseData_->prevClauseStr;

214 
auxCÏu£D©a_
->
addedP»dSŒ
 = 
c
.auxClauseData_->addedPredStr;

215 
auxCÏu£D©a_
->
»movedP»dIdx
 = 
c
.auxClauseData_->removedPredIdx;

218 
auxCÏu£D©a_
 = 
NULL
;

219 
	}
}

222 ~
	$CÏu£
()

224 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

225 
	`d–‘e
 (*
´ediÿ‹s_
)[
i
];

226 
d–‘e
 
´ediÿ‹s_
;

227 ià(
štA¼R•_
è
d–‘e
 intArrRep_;

228 ià(
v¬IdToV¬sGroundedTy³_
è
	`d–‘eV¬IdToV¬sGroundedTy³
();

229 ià(
auxCÏu£D©a_
è
d–‘e
‡uxClauseData_;

230 
	}
}

234 
	$sizeMB
() const

236 
sizeMB
 = (
fixedSizeB_
 + 
štA¼R•_
->
	`size
()*() +

237 
´ediÿ‹s_
->
	`size
()*(
P»diÿ‹
*)) /1000000.0;

238 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

239 
sizeMB
 +ğ(*
´ediÿ‹s_
)[
i
]->
	`sizeMB
();

240 ià(
auxCÏu£D©a_
 !ğ
NULL
è
sizeMB
 +ğauxCÏu£D©a_->
	`sizeMB
();

241  
sizeMB
;

242 
	}
}

245 
	$compu‹FixedSizeB
()

247 
fixedSizeB_
 = (
CÏu£
è+ (
A¼ay
<
P»diÿ‹
*>) +

248 (
A¼ay
<>);

250 
	}
}

253 
	$com´ess
()

255 
´ediÿ‹s_
->
	`com´ess
();

256 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++è(*´ediÿ‹s_)[i]->
	`com´ess
();

257 ià(
štA¼R•_
èštA¼R•_->
	`com´ess
();

258 ià(
v¬IdToV¬sGroundedTy³_
èv¬IdToV¬sGroundedTy³_->
	`com´ess
();

259 ià(
auxCÏu£D©a_
èauxCÏu£D©a_->
	`com´ess
();

260 
	}
}

263 
boŞ
 
	$§me
(
CÏu£
* cÚ¡ & 
c
)

265 ià(
this
 =ğ
c
è 
Œue
;

266 cÚ¡ 
A¼ay
<>* 
cA¼
 = 
c
->
	`g‘IÁA¼R•
();

267 cÚ¡ 
A¼ay
<>* 
myA¼
 = 
	`g‘IÁA¼R•
();

268 ià(
myA¼
->
	`size
(è!ğ
cA¼
->size()è 
çl£
;

270 cÚ¡ * 
cI‹ms
 = 
c
->
	`g‘IÁA¼R•
()->
	`g‘I‹ms
();

271 cÚ¡ * 
myI‹ms
 = 
	`g‘IÁA¼R•
()->
	`g‘I‹ms
();

272  (
	`memcmp
(
myI‹ms
, 
cI‹ms
, 
myA¼
->
	`size
()*())==0);

273 
	}
}

275 
size_t
 
	$hashCode
()

277 ià(
dœty_
è
	`compu‹AndStÜeIÁA¼R•
();

278  
hashCode_
;

279 
	}
}

282 
	$g‘NumP»diÿ‹s
(ècÚ¡ {  
´ediÿ‹s_
->
	`size
(); 
	}
}

284 
	$g‘Wt
(ècÚ¡ {  
wt_
; 
	}
}

286 cÚ¡ * 
	$g‘WtPŒ
(ècÚ¡ {  &
wt_
; 
	}
}

289 
	$£tWt
(cÚ¡ & 
wt
è{ ià(!
locked_
è
wt_
 = wt; 
	}
}

290 
	$addWt
(cÚ¡ & 
wt
è{ ià(!
locked_
è
wt_
 +ğwt; 
	}
}

292 
	$g‘Ut
(ècÚ¡ {  
ut_
; 
	}
}

295 
	$£tUt
(cÚ¡ & 
ut
è{ 
ut_
 = ut; 
	}
}

296 
	$addUt
(cÚ¡ & 
ut
è{ 
ut_
 +ğut; 
	}
}

298 
	$£tDœty
(è{ 
dœty_
 = 
Œue
; 
	}
}

299 
boŞ
 
	$isDœty
(ècÚ¡ {  
dœty_
; 
	}
}

302 
P»diÿ‹
* 
	$g‘P»diÿ‹
(cÚ¡ & 
idx
ècÚ¡ {  (*
´ediÿ‹s_
)[idx]; 
	}
}

305 cÚ¡ 
	gA¼ay
<
	gP»diÿ‹
*>* 
	$g‘P»diÿ‹s
(ècÚ¡ {  
´ediÿ‹s_
; 
	}
}

308 
boŞ
 
	$cÚšsP»diÿ‹
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
) const

310 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

311 ià((*
´ediÿ‹s_
)[
i
]->
	`§me
((
P»diÿ‹
*)
´ed
)è 
Œue
;

312  
çl£
;

313 
	}
}

316 
	$g‘NumV¬ŸbËs
() const

318 
hash_£t
<> 
št£t
;

319 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

320 
j
 = 0; j < (*
´ediÿ‹s_
)[
i
]->
	`g‘NumT”ms
(); j++)

322 ià((*
´ediÿ‹s_
)[
i
]->
	`g‘T”m
(
j
)->
	`g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

323 
št£t
.
	`š£¹
((*
´ediÿ‹s_
)[
i
]->
	`g‘T”m
(
j
)->
	`g‘Id
());

325  
št£t
.
	`size
();

326 
	}
}

329 
	$g‘NumV¬ŸbËsAssumeCªÚiÿlized
() const

331 
mšV¬Id
 = 0;

332 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

333 
j
 = 0; j < (*
´ediÿ‹s_
)[
i
]->
	`g‘NumT”ms
(); j++)

335 ià((*
´ediÿ‹s_
)[
i
]->
	`g‘T”m
(
j
)->
	`g‘Ty³
(è=ğ
T”m
::
VARIABLE
 &&

336 (*
´ediÿ‹s_
)[
i
]->
	`g‘T”m
(
j
)->
	`g‘Id
(è< 
mšV¬Id
)

337 
mšV¬Id
 = (*
´ediÿ‹s_
)[
i
]->
	`g‘T”m
(
j
)->
	`g‘Id
();

340  -
mšV¬Id
;

341 
	}
}

344 
boŞ
 
	$isH¬dCÏu£
(ècÚ¡ {  
isH¬dCÏu£_
; 
	}
}

345 
	$£tIsH¬dCÏu£
(cÚ¡ 
boŞ
& 
b
è{ 
isH¬dCÏu£_
 = b; 
	}
}

347 
boŞ
 
	$isSticWt
(ècÚ¡ {  
¡©icWt_
; 
	}
}

348 
	$£tSticWt
(cÚ¡ 
boŞ
& 
b
è{ 
¡©icWt_
 = b; 
	}
}

350 
boŞ
 
	$isAùiÚ
(ècÚ¡ {  
aùiÚ_
; 
	}
}

351 
	$£tAùiÚ
(cÚ¡ 
boŞ
& 
b
è{ 
aùiÚ_
 = b; 
	}
}

353 
boŞ
 
	$isLocked
(ècÚ¡ {  
locked_
; 
	}
}

354 
	$lock
(è{ 
locked_
 = 
Œue
; 
	}
}

355 
	$uÆock
(è{ 
locked_
 = 
çl£
; 
	}
}

359 
	$­³ndP»diÿ‹
(
P»diÿ‹
* cÚ¡& 
p
è{
´ediÿ‹s_
->
	`­³nd
Õ);
	`£tDœty
();
	}
}

367 
P»diÿ‹
* 
	$»moveP»diÿ‹
(cÚ¡ & 
i
)

369 ià(0 <ğ
i
 && i < 
´ediÿ‹s_
->
	`size
())

370 { 
	`£tDœty
();  
´ediÿ‹s_
->
	`»moveI‹mFa¡DisÜd”
(
i
); }

371  
NULL
;

372 
	}
}

378 
boŞ
 
	$hasRedundªtP»diÿ‹s
()

380 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

382 
P»diÿ‹
* 

 = (*
´ediÿ‹s_
)[
i
];

383 
j
 = 
i
+1; j < 
´ediÿ‹s_
->
	`size
(); j++)

385 
P»diÿ‹
* 
jp
 = (*
´ediÿ‹s_
)[
j
];

386 ià(
jp
->
	`§me
(

è&& jp->
	`g‘S’£
(è=ğ->g‘S’£()è 
Œue
;

389  
çl£
;

390 
	}
}

394 
boŞ
 
	$»moveRedundªtP»diÿ‹s
()

396 
boŞ
 
chªged
 = 
çl£
;

397 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

399 
P»diÿ‹
* 

 = (*
´ediÿ‹s_
)[
i
];

400 
j
 = 
i
+1; j < 
´ediÿ‹s_
->
	`size
(); j++)

402 
P»diÿ‹
* 
jp
 = (*
´ediÿ‹s_
)[
j
];

403 ià(
jp
->
	`§me
(

è&& jp->
	`g‘S’£
() == ip->getSense())

405 
´ediÿ‹s_
->
	`»moveI‹mFa¡DisÜd”
(
j
);

406 
chªged
 = 
Œue
;

407 
j
--;

411  
chªged
;

412 
	}
}

415 
	$»moveRedundªtP»diÿ‹sAndCªÚiÿlize
()

416 { ià(
	`»moveRedundªtP»diÿ‹s
()è
	`ÿnÚiÿlize
(); 
	}
}

421 
ÿnÚiÿlize
(
A¼ay
<> * cÚ¡ & 
ŞdV¬IdToNewV¬Id
=
NULL
)

424 
A¼ay
<
V¬sGroundedTy³
*>* 
vgtA¼
 = 
Ãw
 Array<VarsGroundedType*>;

425 
ü—‹V¬IdToV¬sGroundedTy³
(
vgtA¼
);

427 
sÜtP»diÿ‹sByIdAndS’£AndT”ms
(0, 
´ediÿ‹s_
->
size
()-1, 
vgtA¼
);

429 
IÁHashA¼ay
 
	gv¬Aµ—rOrd”
;

430 
g‘V¬Ord”
(
v¬Aµ—rOrd”
);

432 
	gÃwV¬Id
 = 0;

433 
	gi
 = 0; i < 
	gv¬Aµ—rOrd”
.
size
(); i++)

435 
	gv¬Id
 = 
v¬Aµ—rOrd”
[
i
];

436 ++
	gÃwV¬Id
;

437 
	gA¼ay
<
	gT”m
*>& 
	gv¬s
 = (*
vgtA¼
)[
v¬Id
]->
v¬s
;

438 
	gj
 = 0; j < 
	gv¬s
.
size
(); j++èv¬s[
j
]->
£tId
(-
ÃwV¬Id
);

440 if(
	gŞdV¬IdToNewV¬Id
)

442 (*
	gŞdV¬IdToNewV¬Id
)[
v¬Id
] = 
ÃwV¬Id
;

446 if(
	gŞdV¬IdToNewV¬Id
)

447 (*
	gŞdV¬IdToNewV¬Id
)[0] = 0;

448 
as£¹
(
ÃwV¬Id
 =ğ
v¬Aµ—rOrd”
.
size
());

450 
	gi
 = 0, 
	gj
 = 0;

451 
	gi
 < 
	g´ediÿ‹s_
->
size
())

453 ++
	gj
 < 
	g´ediÿ‹s_
->
size
()

454 && (*
	g´ediÿ‹s_
)[
i
]->
g‘Id
(è=ğ(*
´ediÿ‹s_
)[
j
]->getId()

455 && (*
´ediÿ‹s_
)[
i
]->
g‘S’£
(è=ğ(*´ediÿ‹s_)[
j
]->getSense());

456 ià(
	gi
 < 
	gj
-1è
sÜtP»diÿ‹sByT”ms
(
i
, 
j
-1);

457 
	gi
 = 
j
;

460 
d–‘eV¬IdToV¬sGroundedTy³
(
vgtA¼
);

461 
£tDœty
();

465 
boŞ
 
moveT”msFromUn£’ToS“n
(
A¼ay
<
T”m
*>* cÚ¡ & 
‹rms
,

466 
P»diÿ‹HashA¼ay
& 
un£’P»ds
,

467 
A¼ay
<
P»diÿ‹
*>& 
£’P»ds
)

469 
	gj
 = 0; j < 
	g‹rms
->
size
(); j++)

471 
boŞ
 
	g·rIsP»d
;

472 
P»diÿ‹
* 
	g·»Á
 = (P»diÿ‹*è(*
‹rms
)[
j
]->
g‘P¬’t
(
·rIsP»d
);

473 
as£¹
(
·rIsP»d
);

474 
	ga
;

475 ià((
	ga
=
un£’P»ds
.
fšd
(
·»Á
)) >= 0)

477 
P»diÿ‹
* 
·r
 = 
un£’P»ds
.
»moveI‹mFa¡DisÜd”
(
a
);

478 ià(
	gun£’P»ds
.
em±y
()è 
	gŒue
;

479 
as£¹
(
·r
 =ğ
·»Á
);

480 
	g£’P»ds
.
­³nd
(
·r
);

483  
	gçl£
;

488 
boŞ
 
	$checkP»dsA»CÚÃùed
()

490 ià(
´ediÿ‹s_
->
	`size
(è<ğ1è 
Œue
;

491 
A¼ay
<A¼ay<
T”m
*>*>* 
v¬IdToT”ms
 = 
Ãw
 Array<Array<Term*>*>;

492 
hash_m­
<,
A¼ay
<
T”m
*>*>* 
cÚ¡IdToT”ms
=
Ãw
 hash_map<,Array<Term*>*>;

493 
	`ü—‹V¬CÚ¡IdToT”ms
(
v¬IdToT”ms
, 
cÚ¡IdToT”ms
);

494 
P»diÿ‹HashA¼ay
 
un£’P»ds
;

495 
A¼ay
<
P»diÿ‹
*> 
£’P»ds
;

496 
hash_£t
<> 
£’Ids
;

498 
£’P»ds
.
	`­³nd
((*
´ediÿ‹s_
)[0]);

499 
i
 = 1; i < 
´ediÿ‹s_
->
	`size
(); i++)

500 
un£’P»ds
.
	`­³nd
((*
´ediÿ‹s_
)[
i
]);

502 !
£’P»ds
.
	`em±y
())

504 
P»diÿ‹
* 
curP»d
 = 
£’P»ds
.
	`»moveLa¡I‹m
();

505 
i
 = 0; i < 
curP»d
->
	`g‘NumT”ms
(); i++)

507 cÚ¡ 
T”m
* 
t
 = 
curP»d
->
	`g‘T”m
(
i
);

508 
id
 = 
t
->
	`g‘Id
();

509 ià(
£’Ids
.
	`fšd
(
id
è!ğ£’Ids.
	`’d
()) ;

510 
£’Ids
.
	`š£¹
(
id
);

512 ià(
t
->
	`g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

514 
A¼ay
<
T”m
*>* 
‹rms
 = (*
v¬IdToT”ms
)[-
id
];

515 
j
 = 0; j < 
‹rms
->
	`size
(); j++)

517 
boŞ
 
·rIsP»d
;

518 
P»diÿ‹
* 
·»Á
 = (P»diÿ‹*è(*
‹rms
)[
j
]->
	`g‘P¬’t
(
·rIsP»d
);

519 
	`as£¹
(
·rIsP»d
);

520 
a
;

521 ià((
a
=
un£’P»ds
.
	`fšd
(
·»Á
)) >= 0)

523 
P»diÿ‹
* 
·r
 = 
un£’P»ds
.
	`»moveI‹mFa¡DisÜd”
(
a
);

524 ià(
un£’P»ds
.
	`em±y
())

526 
	`d–‘eV¬CÚ¡IdToT”ms
(
v¬IdToT”ms
, 
cÚ¡IdToT”ms
);

527  
Œue
;

529 
£’P»ds
.
	`­³nd
(
·r
);

538 ià(
t
->
	`g‘Ty³
(è=ğ
T”m
::
CONSTANT
)

540 
A¼ay
<
T”m
*>* 
‹rms
 = (*
cÚ¡IdToT”ms
)[
id
];

541 
j
 = 0; j < 
‹rms
->
	`size
(); j++)

543 
boŞ
 
·rIsP»d
;

544 
P»diÿ‹
* 
·»Á
 = (P»diÿ‹*è(*
‹rms
)[
j
]->
	`g‘P¬’t
(
·rIsP»d
);

545 
	`as£¹
(
·rIsP»d
);

546 
a
;

547 ià((
a
=
un£’P»ds
.
	`fšd
(
·»Á
)) >= 0)

549 
P»diÿ‹
* 
·r
 = 
un£’P»ds
.
	`»moveI‹mFa¡DisÜd”
(
a
);

550 ià(
un£’P»ds
.
	`em±y
())

552 
	`d–‘eV¬CÚ¡IdToT”ms
(
v¬IdToT”ms
, 
cÚ¡IdToT”ms
);

553  
Œue
;

555 
£’P»ds
.
	`­³nd
(
·r
);

565 
	`as£¹
(!
un£’P»ds
.
	`em±y
());

566 
	`d–‘eV¬CÚ¡IdToT”ms
(
v¬IdToT”ms
, 
cÚ¡IdToT”ms
);

567  
çl£
;

568 
	}
}

571 
	$ÿnÚiÿlizeW™houtV¬ŸbËs
()

573 
	`sÜtP»diÿ‹sByIdAndS’£AndT”ms
(0, 
´ediÿ‹s_
->
	`size
()-1, 
NULL
);

574 
i
 = 0, 
j
 = 0;

575 
i
 < 
´ediÿ‹s_
->
	`size
())

577 ++
j
 < 
´ediÿ‹s_
->
	`size
()

578 && (*
´ediÿ‹s_
)[
i
]->
	`g‘Id
(è=ğ(*´ediÿ‹s_)[
j
]->getId()

579 && (*
´ediÿ‹s_
)[
i
]->
	`g‘S’£
(è=ğ(*´ediÿ‹s_)[
j
]->getSense());

580 ià(
i
 < 
j
-1è
	`sÜtP»diÿ‹sByT”ms
(i, j-1);

581 
i
 = 
j
;

583 
	`£tDœty
();

584 
	}
}

587 
AuxCÏu£D©a
* 
	$g‘AuxCÏu£D©a
(ècÚ¡ {  
auxCÏu£D©a_
; 
	}
}

590 
	$£tAuxCÏu£D©a
(
AuxCÏu£D©a
* cÚ¡& 
acd
 )

592 ià(
auxCÏu£D©a_
 =ğ
acd
) ;

593 ià(
auxCÏu£D©a_
è
d–‘e
‡uxClauseData_;

594 
auxCÏu£D©a_
 = 
acd
;

595 
	}
}

598 
	$ÃwAuxCÏu£D©a
()

599 {ià(
auxCÏu£D©a_
è
d–‘e
‡uxCÏu£D©a_;‡uxCÏu£D©a_=
Ãw
 
AuxCÏu£D©a
;
	}
}

602 
	$£tCÏu£Sam¶”
(
CÏu£Sam¶”
* cÚ¡ & 
cs
)

603 { ià(
şau£Sam¶”_
è
d–‘e
 cÏu£Sam¶”_; cÏu£Sam¶”_ = 
cs
; 
	}
}

606 cÚ¡ 
CÏu£Sam¶”
* 
	$g‘CÏu£Sam¶”
(è{  
şau£Sam¶”_
; 
	}
}

609 
boŞ
 
	$cÚšsCÚ¡ªts
() const

611  (
auxCÏu£D©a_
 &&‡uxCÏu£D©a_->
cÚ¡T”mPŒs
 &&

612 
auxCÏu£D©a_
->
cÚ¡T”mPŒs
->
	`size
() > 0);

613 
	}
}

617 
	$ŒackCÚ¡ªts
()

619 ià(
auxCÏu£D©a_
 =ğ
NULL
èauxCÏu£D©a_ = 
Ãw
 
AuxCÏu£D©a
;

620 
A¼ay
<
T”m
*>*& 
cÚ¡T”mPŒs
 = 
auxCÏu£D©a_
->constTermPtrs;

621 ià(
cÚ¡T”mPŒs
ècÚ¡T”mPŒs->
	`ş—r
();

622 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

624 
P»diÿ‹
* 
p
 = (*
´ediÿ‹s_
)[
i
];

625 
j
 = 0; j < 
p
->
	`g‘NumT”ms
(); j++)

627 cÚ¡ 
T”m
* 
t
 = 
p
->
	`g‘T”m
(
j
);

628 ià(
t
->
	`g‘Ty³
(è=ğ
T”m
::
CONSTANT
)

630 ià(
cÚ¡T”mPŒs
 =ğ
NULL
ècÚ¡T”mPŒ ğ
Ãw
 
A¼ay
<
T”m
*>;

631 
cÚ¡T”mPŒs
->
	`­³nd
((
T”m
*)
t
);

635 
	}
}

639 
	$ÃwCache
(cÚ¡ & 
numDomašs
, cÚ¡ & 
numP»ds
)

641 
	`as£¹
(
auxCÏu£D©a_
);

642 
auxCÏu£D©a_
->
	`d–‘eCache
();

643 
auxCÏu£D©a_
->
ÿche
 = 
Ãw
 
A¼ay
<A¼ay<A¼ay<
CacheCouÁ
*>*>*>;

644 
auxCÏu£D©a_
->
ÿche
->
	`growToSize
(
numDomašs
, 
NULL
);

645 
i
 = 0; i < 
numDomašs
; i++)

647 (*
auxCÏu£D©a_
->
ÿche
)[
i
] = 
Ãw
 
A¼ay
<A¼ay<
CacheCouÁ
*>*>;

648 (*
auxCÏu£D©a_
->
ÿche
)[
i
]->
	`growToSize
(
numP»ds
, 
NULL
);

650 
	}
}

653 
	$Œª¦©eCÚ¡ªts
(cÚ¡ 
Domaš
* cÚ¡ & 
Üig
, cÚ¡ Domaš* cÚ¡& 
Âew
)

655 ià(
auxCÏu£D©a_
 =ğ
NULL
 ||‡uxCÏu£D©a_->
cÚ¡T”mPŒs
 == NULL) ;

657 
A¼ay
<
T”m
*>* 
cÚ¡T”mPŒs
 = 
auxCÏu£D©a_
->constTermPtrs;

658 
i
 = 0; i < 
cÚ¡T”mPŒs
->
	`size
(); i++)

660 
T”m
* 
t
 = (*
cÚ¡T”mPŒs
)[
i
];

661 
ÃwId
 = 
Âew
->
	`g‘CÚ¡ªtId
(
Üig
->
	`g‘CÚ¡ªtName
(
t
->
	`g‘Id
()));

662 
t
->
	`£tId
(
ÃwId
);

663 ià(
ÃwId
 < 0)

665 
cout
 << "ERROR: in Clause::translateConstants(). Failedoranslate "

666 <<
Üig
->
	`g‘CÚ¡ªtName
(
t
->
	`g‘Id
())<<" from one domaino‡nother."

667 << "Checkh©hcÚ¡ªˆexi¡ š‡Î domašs." << 
’dl
;

668 
	`ex™
(-1);

671 
	}
}

676 
	gA¼ay
<A¼ay<>*>* 
	$g‘Ty³IdToV¬IdsM­AndSm®Ë¡V¬Id
(& 
sm®Ë¡V¬Id
)

678 
sm®Ë¡V¬Id
 = 0;

679 
hash_£t
<> 
štS‘
;

680 
A¼ay
<A¼ay<>*>* 
¬r
 = 
Ãw
 Array<Array<>*>;

681 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

683 
P»diÿ‹
* 
´ed
 = (*
´ediÿ‹s_
)[
i
];

684 
j
 = 0; j < 
´ed
->
	`g‘NumT”ms
(); j++)

686 cÚ¡ 
T”m
* 
t
 = 
´ed
->
	`g‘T”m
(
j
);

687 ià(
t
->
	`g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

689 
v¬Id
 = 
t
->
	`g‘Id
();

690 ià(
štS‘
.
	`fšd
(
v¬Id
è!ğštS‘.
	`’d
()) ;

691 
štS‘
.
	`š£¹
(
v¬Id
);

693 
ty³Id
 = 
´ed
->
	`g‘T”mTy³AsIÁ
(
j
);

694 ià(
ty³Id
 >ğ
¬r
->
	`size
()è¬r->
	`growToSize
Ñy³Id+1, 
NULL
);

695 ià((*
¬r
)[
ty³Id
] =ğ
NULL
è(*¬r)[ty³Id] = 
Ãw
 
A¼ay
<>;

696 (*
¬r
)[
ty³Id
]->
	`­³nd
(
v¬Id
);

698 ià(
v¬Id
 < 
sm®Ë¡V¬Id
) smallestVarId = varId;

702  
¬r
;

703 
	}
}

706 
sÜtByL’
(
A¼ay
<
CÏu£
*>& 
ÿ
è{ sÜtByL’(ÿ, 0, ca.
size
()-1); }

709 
¡ršg
 
	$g‘OpAsSŒšg
(cÚ¡ & 
İ
)

711 ià(
İ
 =ğ
OP_ADD
)  "OP_ADD";

712 ià(
İ
 =ğ
OP_REPLACE_ADDPRED
)  "OP_REPLACE_ADDPRED";

713 ià(
İ
 =ğ
OP_REPLACE_REMPRED
)  "OP_REPLACE_REMPRED";

714 ià(
İ
 =ğ
OP_REMOVE
)  "OP_REMOVE";

715 ià(
İ
 =ğ
OP_REPLACE
)  "OP_REPLACE";

716 ià(
İ
 =ğ
OP_NONE
)  "OP_NONE";

718 
	}
}

721 
	go¡»am
& 
	$´št
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡& 
domaš
,

722 cÚ¡ 
boŞ
& 
w™hWt
, cÚ¡ boŞ& 
asIÁ
,

723 cÚ¡ 
boŞ
& 
w™hSŒV¬
) const

725 ià(
w™hWt
è
out
 << 
wt_
 << " ";

727 
A¼ay
<
P»diÿ‹
*> 
eqP»ds
;

728 
A¼ay
<
P»diÿ‹
*> 
š‹º®P»ds
;

729 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

731 ià((*
´ediÿ‹s_
)[
i
]->
	`isEqu®P»d
())

732 
eqP»ds
.
	`­³nd
((*
´ediÿ‹s_
)[
i
]);

734 ià((*
´ediÿ‹s_
)[
i
]->
	`isIÁ”ÇlP»d
())

735 
š‹º®P»ds
.
	`­³nd
((*
´ediÿ‹s_
)[
i
]);

738 ià(
asIÁ
è(*
´ediÿ‹s_
)[
i
]->
	`´štAsIÁ
(
out
);

739 ià(
w™hSŒV¬
è(*
´ediÿ‹s_
)[
i
]->
	`´štW™hSŒV¬
(
out
, 
domaš
);

740 (*
´ediÿ‹s_
)[
i
]->
	`´št
(
out
,
domaš
);

741 ià(
i
 < 
´ediÿ‹s_
->
	`size
()-1 || !
eqP»ds
.
	`em±y
() ||

742 !
š‹º®P»ds
.
	`em±y
()è
out
 << " v ";

746 
i
 = 0; i < 
eqP»ds
.
	`size
(); i++)

748 ià(
asIÁ
è
eqP»ds
[
i
]->
	`´štAsIÁ
(
out
);

749 ià(
w™hSŒV¬
è
eqP»ds
[
i
]->
	`´štW™hSŒV¬
(
out
,
domaš
);

750 
eqP»ds
[
i
]->
	`´št
(
out
,
domaš
);

751 
out
 << ((
i
 !ğ
eqP»ds
.
	`size
()-1 || !
š‹º®P»ds
.
	`em±y
())?" v ":"");

754 
i
 = 0; i < 
š‹º®P»ds
.
	`size
(); i++)

756 ià(
asIÁ
è
š‹º®P»ds
[
i
]->
	`´štAsIÁ
(
out
);

757 ià(
w™hSŒV¬
è
š‹º®P»ds
[
i
]->
	`´štW™hSŒV¬
(
out
,
domaš
);

758 
š‹º®P»ds
[
i
]->
	`´št
(
out
,
domaš
);

759 
out
 << ((
i
!=
š‹º®P»ds
.
	`size
()-1)?" v ":"");

762  
out
;

763 
	}
}

766 
	go¡»am
& 
	$´štAsIÁ
(
o¡»am
& 
out
) const

767 {  
	`´št
(
out
, 
NULL
, 
Œue
,rue, 
çl£
); 
	}
}

769 
	go¡»am
& 
	$´štW™houtWt
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

770 {  
	`´št
(
out
, 
domaš
, 
çl£
, f®£, f®£); 
	}
}

772 
	go¡»am
&

773 
	$´štW™houtWtW™hSŒV¬
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

774 {  
	`´št
(
out
, 
domaš
, 
çl£
, f®£, 
Œue
); 
	}
}

776 
	go¡»am
& 
	$´štW™hWtAndSŒV¬
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡& 
domaš
) const

777 {  
	`´št
(
out
, 
domaš
, 
Œue
, 
çl£
,rue); 
	}
}

779 
	go¡»am
& 
	$´št
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡& 
domaš
) const

780 {  
	`´št
(
out
, 
domaš
, 
Œue
, 
çl£
, f®£); 
	}
}

782 
	go¡»am
& 
	$´štW™houtWtW™hSŒV¬AndP”iod
(
o¡»am
& 
out
,

783 cÚ¡ 
Domaš
* cÚ¡& 
domaš
) const

785 
	`´štW™houtWtW™hSŒV¬
(
out
, 
domaš
);

786 ià(
isH¬dCÏu£_
è
out
 << ".";

787  
out
;

788 
	}
}

791 
	g´iv©e
:

792 
com·»P»diÿ‹sByIdAndS’£AndT”ms
(

793 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
l
,

794 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
r
,

795 cÚ¡ 
A¼ay
<
V¬sGroundedTy³
*>* cÚ¡ & 
vgtA¼
)

797 ià(
	gl
->
g‘Id
(è< 
	gr
->getId())  -1;

798 ià(
	gl
->
g‘Id
(è> 
	gr
->getId())  1;

799 ià(
	gl
->
g‘S’£
(è&& !(
	gr
->getSense()))  -1;

800 ià(!(
	gl
->
g‘S’£
()è&& 
	gr
->getSense())  1;

801 
as£¹
(
l
->
g‘NumT”ms
(è=ğ
r
->getNumTerms());

802 
	gi
 = 0; i < 
	gl
->
g‘NumT”ms
(); i++)

804 
	glid
 = 
l
->
g‘T”m
(
i
)->
g‘Id
();

805 
	grid
 = 
r
->
g‘T”m
(
i
)->
g‘Id
();

806 ià(
	gvgtA¼
 && 
	glid
 < 0 && 
	grid
 < 0)

808 
boŞ
 
	glbound
 = (*
vgtA¼
)[-
lid
]->
v¬s
.
size
() > 1;

809 
boŞ
 
	grbound
 = (*
vgtA¼
)[-
rid
]->
v¬s
.
size
() > 1;

810 ià(
	glbound
 && !
	grbound
)  -1;

811 ià(!
	glbound
 && 
	grbound
)  1;

813 ià(
	glid
 > 
	grid
)  -1;

814 ià(
	glid
 < 
	grid
)  1;

820 
sÜtP»diÿ‹sByIdAndS’£AndT”ms
(cÚ¡ & 
l
, cÚ¡ & 
r
,

821 cÚ¡ 
A¼ay
<
V¬sGroundedTy³
*>* cÚ¡ & 
vgtA¼
)

823 ià(
	gl
 >ğ
r
) ;

824 
P»diÿ‹
* 
	gtmp
 = (*
´ediÿ‹s_
)[
l
];

825 (*
	g´ediÿ‹s_
)[
l
] = (*
´ediÿ‹s_
)[Ö+
r
)/2];

826 (*
	g´ediÿ‹s_
)[(
l
+
r
)/2] = 
tmp
;

828 
	gÏ¡
 = 
l
;

829 
	gi
 = 
l
+1; i <ğ
r
; i++)

830 ià(
com·»P»diÿ‹sByIdAndS’£AndT”ms
((*
´ediÿ‹s_
)[
i
],

831 (*
´ediÿ‹s_
)[
l
], 
vgtA¼
) < 0)

833 ++
	gÏ¡
;

834 
	gtmp
 = (*
´ediÿ‹s_
)[
Ï¡
];

835 (*
	g´ediÿ‹s_
)[
Ï¡
] = (*
´ediÿ‹s_
)[
i
];

836 (*
	g´ediÿ‹s_
)[
i
] = 
tmp
;

839 
	gtmp
 = (*
´ediÿ‹s_
)[
l
];

840 (*
	g´ediÿ‹s_
)[
l
] = (*
´ediÿ‹s_
)[
Ï¡
];

841 (*
	g´ediÿ‹s_
)[
Ï¡
] = 
tmp
;

842 
sÜtP»diÿ‹sByIdAndS’£AndT”ms
(
l
, 
Ï¡
-1, 
vgtA¼
);

843 
sÜtP»diÿ‹sByIdAndS’£AndT”ms
(
Ï¡
+1, 
r
, 
vgtA¼
);

848 
	$com·»P»diÿ‹sByT”ms
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
l
,

849 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
r
)

851 
	`as£¹
(
l
->
	`g‘Id
(è=ğ
r
->getId());

852 
	`as£¹
(
l
->
	`g‘S’£
(è=ğ
r
->getSense());

853 
i
 = 0; i < 
l
->
	`g‘NumT”ms
(); i++)

855 cÚ¡ 
T”m
* 
lT”m
 =
l
->
	`g‘T”m
(
i
);

856 cÚ¡ 
T”m
* 
rT”m
 =
r
->
	`g‘T”m
(
i
);

857 
lT”mTy³
 = 
lT”m
->
	`g‘Ty³
();

858 
rT”mTy³
 = 
rT”m
->
	`g‘Ty³
();

859 ià(
lT”mTy³
 =ğ
T”m
::
VARIABLE
 && 
rT”mTy³
 == Term::VARIABLE)

861 ià(
lT”m
->
	`g‘Id
(è> 
rT”m
->getId())  -1;

862 ià(
lT”m
->
	`g‘Id
(è< 
rT”m
->getId())  1;

865 ià(
lT”mTy³
 =ğ
T”m
::
CONSTANT
 && 
rT”mTy³
 == Term::CONSTANT)

867 ià(
lT”m
->
	`g‘Id
(è< 
rT”m
->getId())  -1;

868 ià(
lT”m
->
	`g‘Id
(è> 
rT”m
->getId())  1;

871 ià(
lT”mTy³
 =ğ
T”m
::
VARIABLE
 && 
rT”mTy³
 =ğT”m::
CONSTANT
)

874 ià(
lT”mTy³
 =ğ
T”m
::
CONSTANT
 && 
rT”mTy³
 =ğT”m::
VARIABLE
)

878 
	`as£¹
(
çl£
);

882 
	}
}

886 
	$sÜtP»diÿ‹sByT”ms
(cÚ¡ & 
l
, cÚ¡ & 
r
)

888 ià(
l
 >ğ
r
) ;

889 
P»diÿ‹
* 
tmp
 = (*
´ediÿ‹s_
)[
l
];

890 (*
´ediÿ‹s_
)[
l
] = (*´ediÿ‹s_)[Ö+
r
)/2];

891 (*
´ediÿ‹s_
)[(
l
+
r
)/2] = 
tmp
;

893 
Ï¡
 = 
l
;

894 
i
 = 
l
+1; i <ğ
r
; i++)

895 ià(
	`com·»P»diÿ‹sByT”ms
((*
´ediÿ‹s_
)[
i
],(*´ediÿ‹s_)[
l
]) < 0)

897 ++
Ï¡
;

898 
tmp
 = (*
´ediÿ‹s_
)[
Ï¡
];

899 (*
´ediÿ‹s_
)[
Ï¡
] = (*´ediÿ‹s_)[
i
];

900 (*
´ediÿ‹s_
)[
i
] = 
tmp
;

903 
tmp
 = (*
´ediÿ‹s_
)[
l
];

904 (*
´ediÿ‹s_
)[
l
] = (*´ediÿ‹s_)[
Ï¡
];

905 (*
´ediÿ‹s_
)[
Ï¡
] = 
tmp
;

906 
	`sÜtP»diÿ‹sByT”ms
(
l
, 
Ï¡
-1);

907 
	`sÜtP»diÿ‹sByT”ms
(
Ï¡
+1, 
r
);

908 
	}
}

911 
boŞ
 
	$noDœtyP»diÿ‹s
() const

913 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

914 ià((*
´ediÿ‹s_
)[
i
]->
	`isDœty
()è 
çl£
;

915  
Œue
;

916 
	}
}

918 cÚ¡ 
	gA¼ay
<>* 
	$g‘IÁA¼R•
()

919 { ià(
dœty_
è
	`compu‹AndStÜeIÁA¼R•
();  
štA¼R•_
; 
	}
}

922 
	$compu‹AndStÜeIÁA¼R•
()

924 
dœty_
 = 
çl£
;

925 ià(
štA¼R•_
 =ğ
NULL
èštA¼R•_ = 
Ãw
 
A¼ay
<>;

926 
štA¼R•_
->
	`ş—r
();

928 
numP»d
 = 
´ediÿ‹s_
->
	`size
();

929 
i
 = 0; i < 
numP»d
; i++)

931 ià((*
´ediÿ‹s_
)[
i
]->
	`g‘S’£
()è
štA¼R•_
->
	`­³nd
(1);

932 
štA¼R•_
->
	`­³nd
(0);

933 (*
´ediÿ‹s_
)[
i
]->
	`­³ndIÁA¼R•
(*
štA¼R•_
);

935 
hashCode_
 = 
Hash
::
	`hash
(*
štA¼R•_
);

936 
	}
}

940 
	gpublic
:

941 
	$addUnknownCÏu£s
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

942 cÚ¡ 
D©aba£
* cÚ¡& 
db
, cÚ¡ & 
gndP»dIdx
,

943 cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
groundP»d
,

944 cÚ¡ 
AddGroundCÏu£SŒuù
* cÚ¡ & 
agcs
)

948 ià(
şau£debug
 >= 2)

950 
cout
 << "IÀCÏu£::addUnknownCÏu£s()" << 
’dl
;

953 
	`ü—‹V¬IdToV¬sGroundedTy³
(
domaš
);

957 ià(
gndP»dIdx
 >ğ0è
	`groundP»dV¬s
(gndP»dIdx, 
groundP»d
);

959 
	`couÁNumTrueGroundšgs
(
domaš
, 
db
, 
Œue
, 
çl£
, 
gndP»dIdx
, 
groundP»d
,

960 
NULL
, NULL, NULL, NULL, 
agcs
, NULL, NULL, NULL,

961 
Œue
, 
çl£
);

963 
	`»¡ÜeV¬s
();

964 
	`d–‘eV¬IdToV¬sGroundedTy³
();

965 
	}
}

968 
g‘UnknownCÏu£s
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

969 cÚ¡ 
D©aba£
* cÚ¡& 
db
, cÚ¡ & 
gndP»dIdx
,

970 cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
groundP»d
,

971 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
gndP»d
,

972 
A¼ay
<
GroundCÏu£
*>* cÚ¡& 
unknownGndCÏu£s
,

973 
A¼ay
<
CÏu£
*>* cÚ¡& 
unknownCÏu£s
)

975 
ü—‹V¬IdToV¬sGroundedTy³
(
domaš
);

976 ià(
	ggndP»dIdx
 >= 0)

978 ià(
groundP»d
è
groundP»dV¬s
(
gndP»dIdx
, groundPred);

979 { 
as£¹
(
gndP»d
); 
groundP»dV¬s
(
gndP»dIdx
, (
P»diÿ‹
*)gndPred);}

981 
couÁNumTrueGroundšgs
(
domaš
, 
db
, 
Œue
, 
çl£
, 
gndP»dIdx
, 
groundP»d
,

982 
gndP»d
, 
unknownGndCÏu£s
, 
unknownCÏu£s
, 
NULL
,

983 
NULL
, NULL, NULL, NULL, 
Œue
, 
çl£
);

984 
»¡ÜeV¬s
();

985 
d–‘eV¬IdToV¬sGroundedTy³
();

989 
boŞ
 
	$isS©isfŸbË
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
, cÚ¡ 
D©aba£
* cÚ¡& 
db
,

990 cÚ¡ 
boŞ
& 
hasUnknownP»ds
)

992 
	`ü—‹V¬IdToV¬sGroundedTy³
(
domaš
);

994 
i
 = 
	`couÁNumTrueGroundšgs
(
domaš
, 
db
, 
hasUnknownP»ds
 ,
Œue
,

995 -1, 
NULL
, NULL, NULL, NULL, NULL, NULL,

996 
NULL
, NULL, NULL, 
Œue
, 
çl£
);

997 
	`»¡ÜeV¬s
();

998 
	`d–‘eV¬IdToV¬sGroundedTy³
();

999  (
i
 > 0);

1000 
	}
}

1004 
	$g‘NumGroundšgs
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

1006 
	`ü—‹V¬IdToV¬sGroundedTy³
(
domaš
);

1007 
n
 = 
	`couÁNumGroundšgs
();

1008 
	`d–‘eV¬IdToV¬sGroundedTy³
();

1009  
n
;

1010 
	}
}

1013 
	$g‘NumTrueGroundšgs
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1014 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

1015 cÚ¡ 
boŞ
& 
hasUnknownP»ds
)

1017 
	`ü—‹V¬IdToV¬sGroundedTy³
(
domaš
);

1018 
n
 = 
	`couÁNumTrueGroundšgs
(
domaš
, 
db
, 
hasUnknownP»ds
, 
çl£
,

1019 -1, 
NULL
, NULL, NULL, NULL, NULL, NULL,

1020 
NULL
, NULL, NULL, 
Œue
, 
çl£
);

1021 
	`»¡ÜeV¬s
();

1022 
	`d–‘eV¬IdToV¬sGroundedTy³
();

1023  
n
;

1024 
	}
}

1027 
	$g‘NumTrueUnknownGroundšgs
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1028 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

1029 cÚ¡ 
boŞ
& 
hasUnknownP»ds
,

1030 & 
numTrue
, & 
numUnknown
)

1032 
	`ü—‹V¬IdToV¬sGroundedTy³
(
domaš
);

1033 
numTrue
 = 
	`couÁNumTrueGroundšgs
(
domaš
, 
db
, 
hasUnknownP»ds
, 
çl£
,

1034 -1, 
NULL
, NULL, NULL, NULL, &
numUnknown
,

1035 
NULL
, NULL, NULL, NULL, 
Œue
, 
çl£
);

1036 
	`»¡ÜeV¬s
();

1037 
	`d–‘eV¬IdToV¬sGroundedTy³
();

1038 
	}
}

1041 
	$g‘NumUnknownGroundšgs
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1042 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

1043 cÚ¡ 
boŞ
& 
hasUnknownP»ds
)

1045 
numTrue
, 
numUnknown
;

1046 
	`g‘NumTrueUnknownGroundšgs
(
domaš
, 
db
, 
hasUnknownP»ds
,
numTrue
,
numUnknown
);

1047  
numUnknown
;

1048 
	}
}

1050 
	$g‘NumTrueF®£UnknownGroundšgs
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1051 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

1052 cÚ¡ 
boŞ
& 
hasUnknownP»ds
,

1053 & 
numTrue
, & 
numF®£
,

1054 & 
numUnknown
)

1056 
	`g‘NumTrueUnknownGroundšgs
(
domaš
, 
db
, 
hasUnknownP»ds
,
numTrue
,
numUnknown
);

1057 
numF®£
 = 
	`g‘NumGroundšgs
(
domaš
è- 
numTrue
 - 
numUnknown
;

1058 
	`as£¹
(
numTrue
 >= 0);

1059 
	`as£¹
(
numUnknown
 >= 0);

1060 
	`as£¹
(
numF®£
 >= 0);

1061 
	}
}

1067 
couÁDiffNumTrueGroundšgs
(
P»diÿ‹
* cÚ¡ & 
gndP»d
,

1068 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1069 
D©aba£
* cÚ¡ & 
db
,

1070 cÚ¡ 
boŞ
& 
hasUnknownP»ds
,

1071 cÚ¡ 
boŞ
& 
§m¶eCÏu£s
,

1072 cÚ¡ & 
combo
,

1073 
A¼ay
<
CÏu£
*>* cÚ¡ & 
t›dCÏu£s
)

1075 
as£¹
(
gndP»d
->
isGrounded
());

1078 
	gA¼ay
<> 
	ggndP»dIndexes
;

1080 
	gi
 = 0; i < 
	g´ediÿ‹s_
->
size
(); i++)

1082 ià((*
	g´ediÿ‹s_
)[
i
]->
ÿnBeGroundedAs
(
gndP»d
)è
	ggndP»dIndexes
.
­³nd
(i);

1086 
ü—‹V¬IdToV¬sGroundedTy³
(
domaš
);

1088 
TruthV®ue
 
	gaùu®
 = 
db
->
g‘V®ue
(
gndP»d
);

1089 
as£¹
(
aùu®
 =ğ
TRUE
 ||‡ùu® =ğ
FALSE
);

1090 
TruthV®ue
 
	gİp
 = (
aùu®
 =ğ
TRUE
è? 
FALSE
 : TRUE;

1091 
boŞ
 
	gæ³d
 = 
çl£
;

1094 
	gnumTrueGndAùu®
 =

1095 
couÁNumTrueGroundšgsFÜAÎComb
(
gndP»dIndexes
, 
gndP»d
, 
aùu®
, 
æ³d
,

1096 
domaš
, 
hasUnknownP»ds
, 
§m¶eCÏu£s
,

1097 
t›dCÏu£s
);

1101 
	gnumTrueGndOµ
 = 0.0;

1103 
	gblockIdx
 = 
domaš
->
g‘Block
(
gndP»d
);

1104 ià(
	gblockIdx
 >= 0)

1108 
as£¹
(
combo
 < 
domaš
->
g‘BlockSize
(
blockIdx
));

1110 cÚ¡ 
P»diÿ‹
* 
	gŞdTrueP»d
 = 
domaš
->
g‘TrueP»dInBlock
(
blockIdx
);

1112 
	gŞdTrueOÃ
 = 0;

1113 ià(
	gŞdTrueP»d
)

1114 
	gŞdTrueOÃ
 = 
domaš
->
g‘IndexOfP»dInBlock
(
ŞdTrueP»d
, 
blockIdx
);

1116 
as£¹
(
ŞdTrueOÃ
 > -1);

1118 
	gÃwTrueOÃ
 = (
ŞdTrueOÃ
 <ğ
combo
) ? combo + 1 : combo;

1120 cÚ¡ 
P»diÿ‹
* 
	gÃwTrueP»d
 =

1121 
domaš
->
g‘P»dInBlock
(
ÃwTrueOÃ
, 
blockIdx
);

1123 
boŞ
 
	gisOldTrue
 =

1124 
ŞdTrueP»d
 ? 
gndP»d
->
§me
((
P»diÿ‹
*)ŞdTrueP»dè: 
çl£
;

1125 
boŞ
 
	gisNewTrue
 = 
gndP»d
->
§me
((
P»diÿ‹
*)
ÃwTrueP»d
);

1126 
TruthV®ue
 
	gÃwTV
 =

1127 ((!
isOldTrue
 && 
isNewTrue
è|| (isOldTru&& !isNewTrue)è? 
İp
 : 
aùu®
;

1129 ià(
	gŞdTrueP»d
è
as£¹
(
db
->
g‘V®ue
(
ŞdTrueP»d
è=ğ
TRUE
);

1130 
as£¹
(
db
->
g‘V®ue
(
ÃwTrueP»d
è=ğ
FALSE
);

1132 ià(
	gŞdTrueP»d
è
	gdb
->
£tV®ue
(
ŞdTrueP»d
, 
FALSE
);

1133 
	gdb
->
£tV®ue
(
ÃwTrueP»d
, 
TRUE
);

1135 
	gnumTrueGndOµ
 +=

1136 
couÁNumTrueGroundšgsFÜAÎComb
(
gndP»dIndexes
, 
gndP»d
, 
ÃwTV
,

1137 
ÃwTV
 !ğ
aùu®
, 
domaš
,

1138 
hasUnknownP»ds
, 
§m¶eCÏu£s
,

1139 
t›dCÏu£s
);

1150 ià(
	gŞdTrueP»d
è
	gdb
->
£tV®ue
(
ŞdTrueP»d
, 
TRUE
);

1151 
	gdb
->
£tV®ue
(
ÃwTrueP»d
, 
FALSE
);

1153 
d–‘e
 
	gÃwTrueP»d
;

1158 
	gæ³d
 = 
Œue
;

1161 
	gdb
->
£tV®ue
(
gndP»d
, 
İp
);

1163 
	gnumTrueGndOµ
 +=

1164 
couÁNumTrueGroundšgsFÜAÎComb
(
gndP»dIndexes
, 
gndP»d
, 
İp
, 
æ³d
,

1165 
domaš
, 
hasUnknownP»ds
, 
§m¶eCÏu£s
,

1166 
t›dCÏu£s
);

1168 
	gdb
->
£tV®ue
(
gndP»d
, 
aùu®
);

1172 
d–‘eV¬IdToV¬sGroundedTy³
();

1173  
	gnumTrueGndOµ
 - 
	gnumTrueGndAùu®
;

1177 
	g´iv©e
:

1178 
addV¬Id
(
T”m
* cÚ¡ & 
t
, cÚ¡ & 
ty³Id
,

1179 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1180 
A¼ay
<
V¬sGroundedTy³
*>*& 
vgtA¼
)

1182 
	gid
 = -(
t
->
g‘Id
());

1183 
as£¹
(
id
 > 0);

1184 ià(
	gid
 >ğ
vgtA¼
->
size
()èvgtA¼->
growToSize
(
id
+1,
NULL
);

1185 
	gV¬sGroundedTy³
*& 
	gvgt
 = (*
vgtA¼
)[
id
];

1186 ià(
	gvgt
 =ğ
NULL
)

1188 
vgt
 = 
Ãw
 
V¬sGroundedTy³
;

1190 
	gvgt
->
	gty³Id
 = 
ty³Id
;

1191 
as£¹
(
vgt
->
ty³Id
 >= 0);

1192 
	gvgt
->
	gnumGndšgs
 = 
domaš
->
g‘NumCÚ¡ªtsByTy³
(
vgt
->
ty³Id
);

1193 
as£¹
(
vgt
->
numGndšgs
 > 0);

1195 
as£¹
(
ty³Id
 =ğ
vgt
->typeId);

1196 
	gvgt
->
	gv¬s
.
­³nd
(
t
);

1199 
ü—‹V¬IdToV¬sGroundedTy³
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1200 
A¼ay
<
V¬sGroundedTy³
*>*& 
vgtA¼
) const

1203 
	gi
 = 0; i < 
	g´ediÿ‹s_
->
size
(); i++)

1205 
P»diÿ‹
* 
	gp
 = (*
´ediÿ‹s_
)[
i
];

1207 
	gj
 = 0; j < 
	gp
->
g‘NumT”ms
(); j++)

1209 
T”m
* 
	gt
 = (T”m*è
p
->
g‘T”m
(
j
);

1210 ià(
	gt
->
g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

1211 
addV¬Id
(
t
, 
p
->
g‘T”mTy³AsIÁ
(
j
), 
domaš
, 
vgtA¼
);

1213 ià(
	gt
->
g‘Ty³
(è=ğ
T”m
::
FUNCTION
)

1215 
cout
 << "Clause::createVarIdToVarsGroundedType()‚otƒxpecting‡ "

1216 << "FUNCTION”m" << 
’dl
;

1217 
ex™
(-1);

1224 
	$ü—‹V¬IdToV¬sGroundedTy³
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

1226 
	`d–‘eV¬IdToV¬sGroundedTy³
();

1227 
v¬IdToV¬sGroundedTy³_
 = 
Ãw
 
A¼ay
<
V¬sGroundedTy³
*>;

1228 
	`ü—‹V¬IdToV¬sGroundedTy³
(
domaš
, 
v¬IdToV¬sGroundedTy³_
);

1229 
	}
}

1232 
d–‘eV¬IdToV¬sGroundedTy³
(
A¼ay
<
V¬sGroundedTy³
*>*& 
vgtA¼
)

1234 
	gi
 = 0; i < 
	gvgtA¼
->
size
(); i++)

1235 ià((*
	gvgtA¼
)[
i
]è
d–‘e
 (*
vgtA¼
)[i];

1236 
d–‘e
 
	gvgtA¼
;

1237 
	gvgtA¼
 = 
NULL
;

1241 
	$d–‘eV¬IdToV¬sGroundedTy³
()

1243 ià(
v¬IdToV¬sGroundedTy³_
)

1244 
	`d–‘eV¬IdToV¬sGroundedTy³
(
v¬IdToV¬sGroundedTy³_
);

1245 
	}
}

1248 
	$g‘V¬Ord”
(
IÁHashA¼ay
& 
v¬Aµ—rOrd”
) const

1250 
v¬Aµ—rOrd”
.
	`ş—r
();

1251 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

1253 cÚ¡ 
P»diÿ‹
* 
p
 = (*
´ediÿ‹s_
)[
i
];

1254 
j
 = 0; j < 
p
->
	`g‘NumT”ms
(); j++)

1256 cÚ¡ 
T”m
* 
t
 = 
p
->
	`g‘T”m
(
j
);

1257 ià(
t
->
	`g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

1259 
id
 = -(
t
->
	`g‘Id
());

1260 
	`as£¹
(
id
 > 0);

1261 
v¬Aµ—rOrd”
.
	`­³nd
(
id
);

1265 
	}
}

1268 
ü—‹V¬IdToV¬sGroundedTy³
(
A¼ay
<
V¬sGroundedTy³
*>*& 
vgtA¼
)

1271 
	gi
 = 0; i < 
	g´ediÿ‹s_
->
size
(); i++)

1273 
P»diÿ‹
* 
	gp
 = (*
´ediÿ‹s_
)[
i
];

1275 
	gj
 = 0; j < 
	gp
->
g‘NumT”ms
(); j++)

1277 
T”m
* 
	gt
 = (T”m*è
p
->
g‘T”m
(
j
);

1278 ià(
	gt
->
g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

1281 
as£¹
(
t
->
g‘Id
()<0);

1282 
	gid
 = -(
t
->
g‘Id
());

1283 ià(
	gid
 >ğ
vgtA¼
->
size
()èvgtA¼->
growToSize
(
id
+1,
NULL
);

1284 
	gV¬sGroundedTy³
*& 
	gvgt
 = (*
vgtA¼
)[
id
];

1285 ià(
	gvgt
 =ğ
NULL
è
vgt
 = 
Ãw
 
V¬sGroundedTy³
;

1286 
	gvgt
->
	gv¬s
.
­³nd
(
t
);

1288 
as£¹
(
t
->
g‘Ty³
(è!ğ
T”m
::
FUNCTION
);

1294 
ü—‹V¬CÚ¡IdToT”ms
(
A¼ay
<A¼ay<
T”m
*>*>*& 
v¬IdToT”ms
,

1295 
hash_m­
<,
A¼ay
<
T”m
*>*>*& 
cÚ¡IdToT”ms
)

1297 
	gi
 = 0; i < 
	g´ediÿ‹s_
->
size
(); i++)

1299 
P»diÿ‹
* 
	gp
 = (*
´ediÿ‹s_
)[
i
];

1300 
	gj
 = 0; j < 
	gp
->
g‘NumT”ms
(); j++)

1302 
T”m
* 
	gt
 = (T”m*è
p
->
g‘T”m
(
j
);

1303 ià(
	gt
->
g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

1305 ià(
v¬IdToT”ms
 =ğ
NULL
) ;

1306 
	gid
 = -(
t
->
g‘Id
());

1307 ià(
	gid
 >ğ
v¬IdToT”ms
->
size
()èv¬IdToT”ms->
growToSize
(
id
+1,
NULL
);

1308 
	gA¼ay
<
	gT”m
*>*& 
	g‹rmA¼
 = (*
v¬IdToT”ms
)[
id
];

1309 ià(
	g‹rmA¼
 =ğ
NULL
è
‹rmA¼
 = 
Ãw
 
A¼ay
<
T”m
*>;

1310 
	g‹rmA¼
->
­³nd
(
t
);

1313 ià(
	gt
->
g‘Ty³
(è=ğ
T”m
::
CONSTANT
)

1315 ià(
cÚ¡IdToT”ms
 =ğ
NULL
) ;

1316 
	gid
 = 
t
->
g‘Id
();

1317 
	gA¼ay
<
	gT”m
*>* 
	g‹rmA¼
;

1318 
	ghash_m­
<,
	gA¼ay
<
	gT”m
*>*>::
™”©Ü
 
™
 = 
cÚ¡IdToT”ms
->
fšd
(
id
);

1319 ià(
	g™
 =ğ
cÚ¡IdToT”ms
->
’d
())

1321 
‹rmA¼
 = 
Ãw
 
A¼ay
<
T”m
*>;

1322 (*
	gcÚ¡IdToT”ms
)[
id
] = 
‹rmA¼
;

1325 
	g‹rmA¼
 = (*
™
).
£cÚd
;

1326 
	g‹rmA¼
->
­³nd
(
t
);

1329 ià(
	gt
->
g‘Ty³
(è=ğ
T”m
::
FUNCTION
)

1331 
cout
 << "Clause::createVarIdToTerms()‚otƒxpecting‡ "

1332 << "FUNCTION”m" << 
’dl
;

1333 
ex™
(-1);

1340 
d–‘eV¬CÚ¡IdToT”ms
(
A¼ay
<A¼ay<
T”m
*>*>*& 
v¬IdToT”ms
,

1341 
hash_m­
<,
A¼ay
<
T”m
*>*>*& 
cÚ¡IdToT”ms
)

1343 ià(
	gv¬IdToT”ms
)

1345 
	gi
 = 0; i < 
	gv¬IdToT”ms
->
size
(); i++)

1346 ià((*
	gv¬IdToT”ms
)[
i
]è
d–‘e
 (*
v¬IdToT”ms
)[i];

1347 
d–‘e
 
	gv¬IdToT”ms
;

1348 
	gv¬IdToT”ms
 = 
NULL
;

1350 ià(
	gcÚ¡IdToT”ms
)

1352 
	ghash_m­
<,
	gA¼ay
<
	gT”m
*>*>::
™”©Ü
 
™
 = 
cÚ¡IdToT”ms
->
begš
();

1353 ; 
	g™
 !ğ
cÚ¡IdToT”ms
->
’d
(); it++è
d–‘e
 (*
™
).
	g£cÚd
;

1354 
d–‘e
 
	gcÚ¡IdToT”ms
;

1355 
	gcÚ¡IdToT”ms
 = 
NULL
;

1366 
groundP»dV¬s
(cÚ¡ & 
´edIdx
, 
P»diÿ‹
* cÚ¡& 
gndP»d
,

1367 
A¼ay
<
V¬sGroundedTy³
*>*& 
vgtA¼
) const

1369 
as£¹
((*
´ediÿ‹s_
)[
´edIdx
]->
ÿnBeGroundedAs
(
gndP»d
));

1370 
as£¹
(
´edIdx
 < 
´ediÿ‹s_
->
size
());

1371 
as£¹
(
gndP»d
->
isGrounded
());

1373 cÚ¡ 
P»diÿ‹
* 
	g´ed
 = (*
´ediÿ‹s_
)[
´edIdx
];

1374 
	gi
 = 0; i < 
	g´ed
->
g‘NumT”ms
(); i++)

1376 cÚ¡ 
T”m
* 
	gt
 = 
´ed
->
g‘T”m
(
i
);

1377 ià(
	gt
->
g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

1379 
cÚ¡Id
 = 
gndP»d
->
g‘T”m
(
i
)->
g‘Id
();

1380 
V¬sGroundedTy³
* 
	gvgt
 = (*
vgtA¼
)[-
t
->
g‘Id
()];

1381 
	gA¼ay
<
	gT”m
*>& 
	gv¬s
 = 
vgt
->
v¬s
;

1382 
	gj
 = 0; j < 
	gv¬s
.
size
(); j++èv¬s[
j
]->
£tId
(
cÚ¡Id
);

1383 
	gvgt
->
	gisGrounded
 = 
Œue
;

1385 
as£¹
(
t
->
g‘Ty³
(è!ğ
T”m
::
FUNCTION
);

1396 
	$groundP»dV¬s
(cÚ¡ & 
´edIdx
,

1397 cÚ¡ 
GroundP»diÿ‹
* cÚ¡& 
gndP»d
) const

1399 
	`as£¹
(
v¬IdToV¬sGroundedTy³_
);

1400 
	`as£¹
((*
´ediÿ‹s_
)[
´edIdx
]->
	`ÿnBeGroundedAs
(
gndP»d
));

1401 
	`as£¹
(
´edIdx
 < 
´ediÿ‹s_
->
	`size
());

1403 cÚ¡ 
P»diÿ‹
* 
´ed
 = (*
´ediÿ‹s_
)[
´edIdx
];

1404 
i
 = 0; i < 
´ed
->
	`g‘NumT”ms
(); i++)

1406 cÚ¡ 
T”m
* 
t
 = 
´ed
->
	`g‘T”m
(
i
);

1407 ià(
t
->
	`g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

1409 
cÚ¡Id
 = 
gndP»d
->
	`g‘T”mId
(
i
);

1410 
V¬sGroundedTy³
* 
vgt
 = (*
v¬IdToV¬sGroundedTy³_
)[-
t
->
	`g‘Id
()];

1411 
A¼ay
<
T”m
*>& 
v¬s
 = 
vgt
->vars;

1412 
j
 = 0; j < 
v¬s
.
	`size
(); j++èv¬s[j]->
	`£tId
(
cÚ¡Id
);

1413 
vgt
->
isGrounded
 = 
Œue
;

1415 
	`as£¹
(
t
->
	`g‘Ty³
(è!ğ
T”m
::
FUNCTION
);

1417 
	}
}

1426 
	$groundP»dV¬s
(cÚ¡ & 
´edIdx
, 
P»diÿ‹
* cÚ¡& 
gndP»d
)

1428 
	`as£¹
(
v¬IdToV¬sGroundedTy³_
);

1429 
	`groundP»dV¬s
(
´edIdx
, 
gndP»d
, 
v¬IdToV¬sGroundedTy³_
);

1430 
	}
}

1434 
»¡ÜeV¬s
(
A¼ay
<
V¬sGroundedTy³
*>* cÚ¡ & 
vgtA¼
)

1436 
	gi
 = 1; i < 
	gvgtA¼
->
size
(); i++)

1438 ià((*
	gvgtA¼
)[
i
] =ğ
NULL
) ;

1439 
	gA¼ay
<
	gT”m
*>& 
	gv¬s
 = (*
vgtA¼
)[
i
]->
v¬s
;

1440 
	gj
 = 0; j < 
	gv¬s
.
size
(); j++èv¬s[
j
]->
£tId
(-
i
);

1441 (*
	gvgtA¼
)[
i
]->
	gisGrounded
 = 
çl£
;

1447 
	$»¡ÜeV¬s
()

1449 
	`as£¹
(
v¬IdToV¬sGroundedTy³_
);

1450 
	`»¡ÜeV¬s
(
v¬IdToV¬sGroundedTy³_
);

1451 
	}
}

1463 
	$addV¬IdAndGndšgs
(cÚ¡ & 
v¬Id
, cÚ¡ & 
v¬Ty³
,

1464 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1465 
L™IdxV¬IdsGndšgs
* cÚ¡ & 
ivg
)

1467 
ivg
->
v¬Ids
.
	`­³nd
(
v¬Id
);

1468 cÚ¡ 
A¼ay
<>* 
cÚ¡ªts
 = 
domaš
->
	`g‘CÚ¡ªtsByTy³
(
v¬Ty³
);

1469 
ivg
->
v¬Gndšgs
.
	`­³ndA¼ay
(
cÚ¡ªts
);

1470 
	}
}

1484 
L™IdxV¬IdsGndšgs
* 
	$ü—‹L™IdxV¬IdsGndšgs
(
P»diÿ‹
* cÚ¡ & 
l™
,

1485 cÚ¡ & 
l™Idx
,

1486 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

1488 
L™IdxV¬IdsGndšgs
* 
ivg
 = 
Ãw
 LitIdxVarIdsGndings;

1489 
ivg
->
l™Idx
 =†itIdx;

1490 
i
 = 0; i < 
l™
->
	`g‘NumT”ms
(); i++)

1492 cÚ¡ 
T”m
* 
t
 = 
l™
->
	`g‘T”m
(
i
);

1493 
‹rmTy³
 = 
t
->
	`g‘Ty³
();

1494 ià(
‹rmTy³
 =ğ
T”m
::
VARIABLE
)

1496 
v¬Id
 = 
t
->
	`g‘Id
();

1497 ià(!
ivg
->
v¬Ids
.
	`cÚšs
(
v¬Id
))

1498 
	`addV¬IdAndGndšgs
(
v¬Id
, 
l™
->
	`g‘T”mTy³AsIÁ
(
i
), 
domaš
, 
ivg
);

1500 
	`as£¹
(
t
->
	`g‘Ty³
(è!ğ
T”m
::
FUNCTION
);

1501 
	`as£¹
(
ivg
->
v¬Ids
.
	`size
(è=ğivg->
v¬Gndšgs
.
	`g‘NumA¼ays
());

1503 
ivg
->
l™Un£’
 = 
Œue
;

1504  
ivg
;

1505 
	}
}

1518 
ü—‹AÎL™IdxV¬sGndšgs
(
A¼ay
<
P»diÿ‹
*>& 
şau£L™s
,

1519 
A¼ay
<
L™IdxV¬IdsGndšgs
*>& 
ivgA¼
,

1520 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1521 cÚ¡ 
boŞ
& 
£tGroundedCÏu£sToNuÎ
) const

1523 
as£¹
(
v¬IdToV¬sGroundedTy³_
);

1526 
	gi
 = 0; i < (è
	gşau£L™s
.
size
(); i++)

1529 ià(
	gşau£L™s
[
i
] =ğ
NULL
) ;

1531 ià(
	gşau£debug
 >= 2)

1533 
cout
 << "createAllLitIdxVarsGndings†it before: ";

1534 
	gşau£L™s
[
i
]->
´štW™hSŒV¬
(
cout
, 
domaš
);

1535 
	gcout
 << 
	g’dl
;

1538 
	givgA¼
.
­³nd
(
ü—‹L™IdxV¬IdsGndšgs
(
şau£L™s
[
i
], i, 
domaš
));

1541 
	gA¼aysAcûssÜ
<>& 
	gv¬Gndšgs
 = 
ivgA¼
.
Ï¡I‹m
()->
v¬Gndšgs
;

1542 
	gA¼ay
<>& 
	gv¬Ids
 = 
ivgA¼
.
Ï¡I‹m
()->
v¬Ids
;

1543 
	gj
 = 0; j < 
	gv¬Ids
.
size
(); j++)

1546 
	gcÚ¡Id
 = 
v¬Gndšgs
.
g‘A¼ay
(
j
)->
™em
(0);

1549 
	gA¼ay
<
	gT”m
*>& 
	gv¬s
 = (*
v¬IdToV¬sGroundedTy³_
)[-
v¬Ids
[
j
]]->
v¬s
;

1550 
	gk
 = 0; k < 
	gv¬s
.
size
(); k++èv¬s[
k
]->
£tId
(
cÚ¡Id
);

1554 
	gA¼ay
<
	gP»diÿ‹
*>& 
	gsub£qGndL™s
 = 
ivgA¼
.
Ï¡I‹m
()->
sub£qGndL™s
;

1556 
	gj
 = 
i
 + 1; j < 
	gşau£L™s
.
size
(); j++)

1558 
P»diÿ‹
* 
	gsub£qL™
 = 
şau£L™s
[
j
];

1559 ià(
	gsub£qL™
 =ğ
NULL
) ;

1560 ià(
	gsub£qL™
->
isGrounded
())

1562 
	gsub£qGndL™s
.
­³nd
(
sub£qL™
);

1563 ià(
	g£tGroundedCÏu£sToNuÎ
è
	gşau£L™s
[
j
] = 
NULL
;

1567 ià(
	gşau£debug
 >= 2)

1569 
cout
 << "createAllLitIdxVarsGndings†it‡fter: ";

1570 
	gşau£L™s
[
i
]->
´štW™hSŒV¬
(
cout
, 
domaš
);

1571 
	gcout
 << 
	g’dl
;

1578 
d–‘eAÎL™IdxV¬sGndšgs
(
A¼ay
<
L™IdxV¬IdsGndšgs
*>& 
ivgA¼
)

1580 
	gi
 = 0; i < 
	givgA¼
.
size
(); i++)

1583 
d–‘e
 
	givgA¼
[
i
];

1588 
quicksÜtL™”®s
(
·œ
<,
P»diÿ‹
*> 
™ems
[],

1589 cÚ¡ & 
l
, cÚ¡ & 
r
)

1591 ià(
	gl
 >ğ
r
) ;

1592 
	g·œ
<,
	gP»diÿ‹
*> 
	gtmp
 = 
™ems
[
l
];

1593 
	g™ems
[
l
] = 
™ems
[Ö+
r
)/2];

1594 
	g™ems
[(
l
+
r
)/2] = 
tmp
;

1596 
	gÏ¡
 = 
l
;

1597 
	gi
 = 
l
+1; i <ğ
r
; i++)

1598 ià(
	g™ems
[
i
].
	gfœ¡
 > i‹ms[
l
].first)

1600 ++
	gÏ¡
;

1601 
	gtmp
 = 
™ems
[
Ï¡
];

1602 
	g™ems
[
Ï¡
] = 
™ems
[
i
];

1603 
	g™ems
[
i
] = 
tmp
;

1606 
	gtmp
 = 
™ems
[
l
];

1607 
	g™ems
[
l
] = 
™ems
[
Ï¡
];

1608 
	g™ems
[
Ï¡
] = 
tmp
;

1609 
quicksÜtL™”®s
(
™ems
, 
l
, 
Ï¡
-1);

1610 
quicksÜtL™”®s
(
™ems
, 
Ï¡
+1, 
r
);

1615 
sÜtL™”®sByTrueDivTÙ®Groundšgs
(
A¼ay
<
P»diÿ‹
*>& 
şau£L™s
,

1616 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1617 cÚ¡ 
D©aba£
* cÚ¡ & 
db
) const

1619 
as£¹
(
´ediÿ‹s_
->
size
(è=ğ
şau£L™s
.size());

1621 
	gA¼ay
<
	g·œ
<, 
	gP»diÿ‹
*> > 
	g¬r
;

1622 
	gi
 = 0; i < 
	gşau£L™s
.
size
(); i++)

1624 
P»diÿ‹
* 
	gl™
 = 
şau£L™s
[
i
];

1627 ià(
	gl™
->
isGrounded
())

1629 
	g¬r
.
­³nd
(
·œ
<,
P»diÿ‹
*>(
DBL_MAX
, 
l™
));

1634 
	gnumTrue
 = (
l™
->
g‘S’£
())? 
db
->
g‘NumTrueGndP»ds
Ö™->
g‘Id
())

1635 :
db
->
g‘NumF®£GndP»ds
(
l™
->
g‘Id
());

1636 
	gnumTÙ®
 = 
l™
->
g‘NumGroundšgsIfAÎV¬Diff
(
domaš
);

1639 
	gnumGnd
 = 1;

1641 
	gA¼ay
<> 
	gv¬Ids
;

1642 
	gv¬Ids
.
growToSize
(
l™
->
g‘NumT”ms
(),1);

1643 
	gi
 = 0; i < 
	gl™
->
g‘NumT”ms
(); i++)

1645 cÚ¡ 
T”m
* 
	gt
 = 
l™
->
g‘T”m
(
i
);

1646 ià(
	gt
->
g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

1648 
tid
 = 
t
->
g‘Id
();

1649 ià(!
	gv¬Ids
.
cÚšs
(
tid
))

1651 
	gv¬Ids
.
­³nd
(
tid
);

1652 
	gnumGnd
 *ğ
domaš
->
g‘NumCÚ¡ªtsByTy³
(
l™
->
g‘T”mTy³AsIÁ
(
i
));

1655 
as£¹
(
t
->
g‘Ty³
(è!ğ
T”m
::
FUNCTION
);

1658 
	g¬r
.
­³nd
(
·œ
<,
P»diÿ‹
*>(
numTrue
/
numTÙ®
/
numGnd
, 
l™
));

1661 
quicksÜtL™”®s
((
·œ
<,
P»diÿ‹
*>*è
¬r
.
g‘I‹ms
(),0,¬r.
size
()-1);

1662 
as£¹
(
¬r
.
size
(è=ğ
şau£L™s
.size());

1663 
	gi
 = 0; i < 
	g¬r
.
size
(); i++è
	gşau£L™s
[
i
] = 
¬r
[i].
£cÚd
;

1667 
boŞ
 
l™”®OrSub£qu’tL™”®sA»True
(
P»diÿ‹
* cÚ¡ & 
l™
,

1668 cÚ¡ 
A¼ay
<
P»diÿ‹
*>& 
sub£qL™s
,

1669 cÚ¡ 
D©aba£
* cÚ¡ & 
db
)

1671 
TruthV®ue
 
	gtv
 = 
db
->
g‘V®ue
(
l™
);

1672 
	gl™
->
£tTruthV®ue
(
tv
);

1673 ià(
	gdb
->
§meTruthV®ueAndS’£
(
tv
, 
l™
->
g‘S’£
())è 
	gŒue
;

1674 
	gi
 = 0; i < 
	gsub£qL™s
.
size
(); i++)

1676 
	gtv
 = 
db
->
g‘V®ue
(
sub£qL™s
[
i
]);

1677 
	gsub£qL™s
[
i
]->
£tTruthV®ue
(
tv
);

1678 ià(
	gdb
->
§meTruthV®ueAndS’£
(
tv
,
sub£qL™s
[
i
]->
g‘S’£
())è 
	gŒue
;

1680  
	gçl£
;

1684 
boŞ
 
	$hasTwoL™”®sW™hOµS’£
(cÚ¡ 
D©aba£
* cÚ¡ & 
db
) const

1686 
P»diÿ‹S‘
 
´edS‘
;

1687 
P»diÿ‹S‘
::
™”©Ü
 
™”
;

1689 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

1691 
P»diÿ‹
* 
´ediÿ‹
 = (*
´ediÿ‹s_
)[
i
];

1692 
	`as£¹
(
´ediÿ‹
->
	`isGrounded
());

1693 ià(
db
->
	`g‘V®ue
(
´ediÿ‹
è=ğ
UNKNOWN
)

1695 iàĞ(
™”
 = 
´edS‘
.
	`fšd
(
´ediÿ‹
)è!ğ´edS‘.
	`’d
() )

1698 ià((*
™”
)->
	`g‘S’£
(è!ğ
´ediÿ‹
->g‘S’£()è 
Œue
;

1701 
´edS‘
.
	`š£¹
(
´ediÿ‹
);

1705  
çl£
;

1706 
	}
}

1711 
boŞ
 
ü—‹AndAddUnknownCÏu£
(
A¼ay
<
GroundCÏu£
*>* cÚ¡& 
unknownGndCÏu£s
,

1712 
A¼ay
<
CÏu£
*>* cÚ¡& 
unknownCÏu£s
,

1713 * cÚ¡ & 
numUnknownCÏu£s
,

1714 cÚ¡ 
AddGroundCÏu£SŒuù
* cÚ¡ & 
agcs
,

1715 cÚ¡ 
D©aba£
* cÚ¡ & 
db
);

1717 
boŞ
 
groundP»diÿ‹s
(cÚ¡ 
A¼ay
<>* cÚ¡ & 
£t
,

1718 cÚ¡ 
A¼ay
<>& 
gndP»dIndexes
,

1719 
P»diÿ‹
* cÚ¡ & 
gndP»d
,

1720 cÚ¡ 
TruthV®ue
& 
gndP»dTV
,

1721 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

1722 
boŞ
& 
§meTruthV®ueAndS’£
,

1723 
boŞ
& 
gndP»dPosHaveSameS’£
)

1725 
	g§meTruthV®ueAndS’£
 = 
çl£
;

1726 
	ggndP»dPosHaveSameS’£
 = 
Œue
;

1727 
boŞ
 
	g´evS’£
 = 
çl£
;

1728 
	gi
 = 0; i < 
	g£t
->
size
(); i++)

1730 
	ggndP»dIdx
 = 
gndP»dIndexes
[(*
£t
)[
i
]];

1731 
P»diÿ‹
* 
	g´ed
 = (*
´ediÿ‹s_
)[
gndP»dIdx
];

1733 ià(!
	g´ed
->
ÿnBeGroundedAs
(
gndP»d
)è 
	gçl£
;

1734 
groundP»dV¬s
(
gndP»dIdx
, 
gndP»d
);

1735 ià(
	gdb
->
§meTruthV®ueAndS’£
(
gndP»dTV
, 
´ed
->
g‘S’£
()))

1736 
	g§meTruthV®ueAndS’£
 = 
Œue
;

1737 ià(
	gi
 == 0)

1738 
´evS’£
 = 
´ed
->
g‘S’£
();

1740 ià(
	g´evS’£
 !ğ
´ed
->
g‘S’£
())

1741 
gndP»dPosHaveSameS’£
 = 
çl£
;

1743  
	gŒue
;

1748 
	$couÁNumGroundšgs
()

1750 
n
 = 1;

1751 
i
 = 1; i < 
v¬IdToV¬sGroundedTy³_
->
	`size
(); i++)

1753 ià(!((*
v¬IdToV¬sGroundedTy³_
)[
i
]->
isGrounded
))

1754 
n
 *ğ(*
v¬IdToV¬sGroundedTy³_
)[
i
]->
numGndšgs
;

1756  
n
;

1757 
	}
}

1760 
addCouÁToCombš©iÚ
(
boŞ
 
šComb
[], cÚ¡ & 
šCombSize
,

1761 cÚ¡ 
A¼ay
<>* cÚ¡ & 
£t
,

1762 
MuÉDA¼ay
<>& 
gndedP»dPosA¼
,

1763 cÚ¡ & 
couÁ
)

1765 
mem£t
(
šComb
, 
çl£
, 
šCombSize
*(
boŞ
));

1766 
	gi
 = 0; i < 
	g£t
->
size
(); i++è
	gšComb
[(*
£t
)[
i
]] = 
Œue
;

1767 
	gA¼ay
<> 
muÉDA¼Indexes
(
šCombSize
);

1768 
	gi
 = 0; i < 
	gšCombSize
; i++)

1770 ià(
	gšComb
[
i
]è
	gmuÉDA¼Indexes
.
­³nd
(1);

1771 
	gmuÉDA¼Indexes
.
­³nd
(0);

1773 
	ggndedP»dPosA¼
.
addI‹m
(&
muÉDA¼Indexes
, 
couÁ
);

1774  
	ggndedP»dPosA¼
.
g‘I‹m
(&
muÉDA¼Indexes
);

1778 
mšusR•—‹dCouÁs
(
boŞ
 
šComb
[], cÚ¡ & 
šCombSize
,

1779 cÚ¡ 
A¼ay
<>& 
šCombIndexes
,

1780 cÚ¡ 
A¼ay
<>* cÚ¡ & 
£t
,

1781 cÚ¡ 
A¼ay
<>* cÚ¡ & 
çl£S‘
,

1782 
MuÉDA¼ay
<>& 
gndedP»dPosA¼
,

1783 cÚ¡ & 
couÁ
)

1785 
mem£t
(
šComb
, 
çl£
, 
šCombSize
*(
boŞ
));

1786 
	gi
 = 0; i < 
	g£t
->
size
(); i++è
	gšComb
[(*
£t
)[
i
]] = 
Œue
;

1788 
	gi
 = 0; i < 
	gçl£S‘
->
size
(); i++)

1790 
	gidx
 = 
šCombIndexes
[(*
çl£S‘
)[
i
]];

1791 
as£¹
(
šComb
[
idx
] =ğ
Œue
);

1792 
	gšComb
[
idx
] = 
çl£
;

1795 
	gA¼ay
<> 
muÉDA¼Indexes
(
šCombSize
);

1796 
	gi
 = 0; i < 
	gšCombSize
; i++)

1798 ià(
	gšComb
[
i
]è
	gmuÉDA¼Indexes
.
­³nd
(1);

1799 
	gmuÉDA¼Indexes
.
­³nd
(0);

1803 
	ggndedP»dPosA¼
.
addI‹m
(&
muÉDA¼Indexes
, -
couÁ
);

1808 
g‘BªÃdP»ds
(
A¼ay
<
P»diÿ‹
*>& 
bªÃdP»ds
,

1809 cÚ¡ & 
gndP»dIdx
,

1810 cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
groundP»d
,

1811 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
gndP»d
) const

1813 
as£¹
(
gndP»dIdx
 < 
´ediÿ‹s_
->
size
());

1814 
	gi
 = 0; i < 
	ggndP»dIdx
; i++)

1816 iàĞ(
	ggroundP»d
 && (*
	g´ediÿ‹s_
)[
i
]->
ÿnBeGroundedAs
(
groundP»d
)) ||

1817 (
	ggndP»d
 && (*
	g´ediÿ‹s_
)[
i
]->
ÿnBeGroundedAs
((
P»diÿ‹
*)
gndP»d
)))

1818 
	gbªÃdP»ds
.
­³nd
((*
´ediÿ‹s_
)[
i
]);

1824 
ü—‹BªÃdP»ds
(
A¼ay
<
P»diÿ‹
*>& 
şau£L™s
,

1825 
A¼ay
<
L™IdxV¬IdsGndšgs
*>& 
ivgA¼
,

1826 
A¼ay
<
P»diÿ‹
*>& 
bªÃdP»ds
)

1828 ià(
	gbªÃdP»ds
.
size
() == 0) ;

1830 
	ga
;

1831 
	gi
 = 0; i < 
	givgA¼
.
size
(); i++)

1833 
L™IdxV¬IdsGndšgs
* 
	givg
 = 
ivgA¼
[
i
];

1834 
	ga
 = 
bªÃdP»ds
.
fšd
(
şau£L™s
[
ivg
->
l™Idx
]);

1835 ià(
	ga
 >ğ0è
ivg
->
bªÃdP»ds
.
­³nd
(bªÃdP»ds[
a
]);

1836 
	gj
 = 0; j < 
	givg
->
	gsub£qGndL™s
.
size
(); j++)

1838 
	ga
 = 
bªÃdP»ds
.
fšd
(
ivg
->
sub£qGndL™s
[
j
]);

1839 ià(
	ga
 >ğ0è
ivg
->
bªÃdP»ds
.
­³nd
(bªÃdP»ds[
a
]);

1846 
boŞ
 
bªÃdP»dsA»GndedAsGndP»d
(

1847 cÚ¡ 
A¼ay
<
P»diÿ‹
*>& 
bªÃdP»ds
,

1848 cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
groundP»d
,

1849 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
gndP»d
)

1851 
	gi
 = 0; i < 
	gbªÃdP»ds
.
size
(); i++)

1853 iàĞ(
	ggroundP»d
 && 
	gbªÃdP»ds
[
i
]->
§me
(
groundP»d
)) ||

1854 (
	ggndP»d
 && 
	gbªÃdP»ds
[
i
]->
§me
((
P»diÿ‹
*)
gndP»d
)) )

1855  
	gŒue
;

1857  
	gçl£
;

1861 
boŞ
 
	$cÚšsGndP»dBefÜeIdx
(cÚ¡ & 
gndP»dIdx
,

1862 cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
groundP»d
,

1863 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
gndP»d
)

1865 
	`as£¹
(
gndP»dIdx
 < 
´ediÿ‹s_
->
	`size
());

1867 ià(
gndP»dIdx
 < 0è 
çl£
;

1869 ià(
groundP»d
)

1871 
i
 = 0; i < 
gndP»dIdx
; i++)

1872 ià((*
´ediÿ‹s_
)[
i
]->
	`§me
(
groundP»d
)è 
Œue
;

1876 
	`as£¹
(
gndP»d
);

1877 
i
 = 0; i < 
gndP»dIdx
; i++)

1878 ià((*
´ediÿ‹s_
)[
i
]->
	`§me
((
P»diÿ‹
*)
gndP»d
)è 
Œue
;

1880  
çl£
;

1881 
	}
}

1900 
couÁNumTrueGroundšgs
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1901 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

1902 cÚ¡ 
boŞ
& 
hasUnknownP»ds
,

1903 cÚ¡ 
boŞ
& 
checkS©OÆy
,

1905 cÚ¡ & 
gndP»dIdx
,

1906 cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
groundP»d
,

1907 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
gndP»d
,

1908 
A¼ay
<
GroundCÏu£
*>* cÚ¡ & 
unknownGndCÏu£s
,

1909 
A¼ay
<
CÏu£
*>* cÚ¡ & 
unknownCÏu£s
,

1910 * cÚ¡ & 
numUnknownCÏu£s
,

1912 cÚ¡ 
AddGroundCÏu£SŒuù
* cÚ¡ & 
agcs
,

1914 
A¼ay
<
GroundCÏu£
 *> * cÚ¡ & 
aùiveGroundCÏu£s
,

1915 * cÚ¡ & 
aùiveCÏu£CÁ
,

1916 
GroundP»diÿ‹HashA¼ay
* cÚ¡& 
£’GndP»ds
,

1917 
boŞ
 cÚ¡ & 
ignÜeAùiveP»ds
,

1918 
boŞ
 cÚ¡ & 
g‘S©isf›d
)

1922 
as£¹
(
unknownGndCÏu£s
 =ğ
NULL
 || 
unknownCÏu£s
 == NULL);

1923 
as£¹
(
groundP»d
 =ğ
NULL
 || 
gndP»d
 == NULL);

1926 ià(
	gaùiveGroundCÏu£s
)

1928 
as£¹
(
unknownGndCÏu£s
 =ğ
NULL
 && 
unknownCÏu£s
 == NULL &&

1929 
agcs
 =ğ
NULL
);

1931 ià(
	gunknownGndCÏu£s
 || 
	gunknownCÏu£s
 || 
	gagcs
)

1933 
as£¹
(
aùiveGroundCÏu£s
 =ğ
NULL
);

1936 
boŞ
 
	gg‘AùiveCÏu£s
 = (
aùiveGroundCÏu£s
 || 
aùiveCÏu£CÁ
);

1939 ià(
	gaùiveCÏu£CÁ
) *activeClauseCnt = 0;

1940 ià(
	gnumUnknownCÏu£s
) *numUnknownClauses = 0;

1942 
boŞ
 
	gfšdUnknownCÏu£s
 = (
unknownGndCÏu£s
 || 
unknownCÏu£s
 ||

1943 
numUnknownCÏu£s
 || 
agcs
);

1945 
	gA¼ay
<
	gP»diÿ‹
*> 
	gbªÃdP»ds
;

1946 ià(
	gfšdUnknownCÏu£s
)

1947 
g‘BªÃdP»ds
(
bªÃdP»ds
, 
gndP»dIdx
, 
groundP»d
, 
gndP»d
);

1949 
	gnumTrueGndšgs
 = 0;

1953 
	gA¼ay
<
	gP»diÿ‹
*>* 
	gÜigCÏu£L™s
 = 
Ãw
 
A¼ay
<
P»diÿ‹
*>(*
´ediÿ‹s_
);

1957 
	gA¼ay
<A¼ay<
	gP»diÿ‹
*>* > 
	g·¹GroundedCÏu£s
;

1959 ià((
	gfšdUnknownCÏu£s
 || 
	gg‘AùiveCÏu£s
è&& 
	gu£Inv”£Index
)

1961 
boŞ
 
	gÃwIgnÜeAùiveP»ds
 = 
ignÜeAùiveP»ds
;

1963 ià(
	gwt_
 < 0è
	gÃwIgnÜeAùiveP»ds
 = 
Œue
;

1966 
sÜtL™”®sByNeg©iÚAndAr™y
(*
ÜigCÏu£L™s
, 
ÃwIgnÜeAùiveP»ds
, 
db
);

1967 
groundIndexabËL™”®s
(
domaš
, 
db
, *
ÜigCÏu£L™s
, 
·¹GroundedCÏu£s
,

1968 
ignÜeAùiveP»ds
);

1978 
sÜtL™”®sByTrueDivTÙ®Groundšgs
(*
ÜigCÏu£L™s
, 
domaš
, 
db
);

1980 
	gA¼ay
<
	gP»diÿ‹
*>* 
	gşau£L™sCİy
 = 
Ãw
 
A¼ay
<
P»diÿ‹
*>;

1981 
	gşau£L™sCİy
->
growToSize
(
ÜigCÏu£L™s
->
size
());

1982 
	gi
 = 0; i < 
	gÜigCÏu£L™s
->
size
(); i++)

1983 (*
	gşau£L™sCİy
)[
i
] = 
Ãw
 
P»diÿ‹
(*(*
ÜigCÏu£L™s
)[i]);

1984 
	g·¹GroundedCÏu£s
.
­³nd
(
şau£L™sCİy
);

1990 ià(
	gşau£debug
 >= 2)

1992 
cout
 << "P¬tŸÎy grounded cÏu£ tØbcom¶‘ed: " << 
’dl
;

1993 
	gpgcIdx
 = 0;…gcIdx < 
	g·¹GroundedCÏu£s
.
size
();…gcIdx++)

1995 
	gcout
 << "\t";

1996 
	gi
 = 0; i < 
	g·¹GroundedCÏu£s
[
pgcIdx
]->
size
(); i++)

1998 (*
	g·¹GroundedCÏu£s
[
pgcIdx
])[
i
]->
´štW™hSŒV¬
(
cout
, 
domaš
);

1999 
	gcout
 << " ";

2001 
	gcout
 << 
	g’dl
;

2005 
boŞ
 
	g¡lAùiv©šg
 = 
Œue
;

2009 
	gpgcIdx
 = 0;…gcIdx < 
	g·¹GroundedCÏu£s
.
size
();…gcIdx++)

2012 
	gA¼ay
<
	gP»diÿ‹
*> 
	gşau£L™s
 = *(
·¹GroundedCÏu£s
[
pgcIdx
]);

2013 
as£¹
(
şau£L™s
.
size
(è=ğ
ÜigCÏu£L™s
->size());

2015 
	gA¼ay
<>* 
	gÜigV¬Ids
 = 
Ãw
 
A¼ay
<>;

2017 
	gi
 = 0; i < 
	gşau£L™s
.
size
(); i++)

2019 
as£¹
(
şau£L™s
[
i
]->
g‘NumT”ms
() ==

2020 (*
ÜigCÏu£L™s
)[
i
]->
g‘NumT”ms
());

2022 
	gj
 = 0; j < (*
	gÜigCÏu£L™s
)[
i
]->
g‘NumT”ms
(); j++)

2024 cÚ¡ 
T”m
* 
	gŞdT”m
 = (*
ÜigCÏu£L™s
)[
i
]->
g‘T”m
(
j
);

2025 cÚ¡ 
T”m
* 
	gÃwT”m
 = 
şau£L™s
[
i
]->
g‘T”m
(
j
);

2026 ià(
	gŞdT”m
->
g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

2028 
v¬Id
 = 
ŞdT”m
->
g‘Id
();

2029 
	gÜigV¬Ids
->
­³nd
(
v¬Id
);

2030 ià(
	gÃwT”m
->
g‘Ty³
(è=ğ
T”m
::
CONSTANT
)

2032 
cÚ¡Id
 = 
ÃwT”m
->
g‘Id
();

2033 
as£¹
(
cÚ¡Id
 >= 0);

2034 
	gA¼ay
<
	gT”m
*>& 
	gv¬s
 = (*
v¬IdToV¬sGroundedTy³_
)[-
v¬Id
]->
v¬s
;

2035 
	gk
 = 0; k < 
	gv¬s
.
size
(); k++èv¬s[
k
]->
£tId
(
cÚ¡Id
);

2040 
d–‘e
 
	gşau£L™s
[
i
];

2041 
	gşau£L™s
[
i
] = (*
ÜigCÏu£L™s
)[i];

2046 
	gA¼ay
<
	gL™IdxV¬IdsGndšgs
*> 
	givgA¼
;

2047 
ü—‹AÎL™IdxV¬sGndšgs
(
şau£L™s
, 
ivgA¼
, 
domaš
, 
Œue
);

2048 ià(
	gfšdUnknownCÏu£s
)

2049 
ü—‹BªÃdP»ds
(
şau£L™s
, 
ivgA¼
, 
bªÃdP»ds
);

2050 
	givgA¼Idx
 = 0;

2051 
boŞ
 
	glookAtNextL™
 = 
çl£
;

2054 
	givgA¼Idx
 >ğ0 && 
¡lAùiv©šg
)

2057 
L™IdxV¬IdsGndšgs
* 
ivg
 = 
ivgA¼
[
ivgA¼Idx
];

2059 
P»diÿ‹
* 
	gl™
 = (*
ÜigCÏu£L™s
)[
ivg
->
l™Idx
];

2060 
	gA¼ay
<>& 
	gv¬Ids
 = 
ivg
->
v¬Ids
;

2061 
	gA¼aysAcûssÜ
<>& 
	gv¬Gndšgs
 = 
ivg
->
v¬Gndšgs
;

2062 
	gboŞ
& 
	gl™Un£’
 = 
ivg
->
l™Un£’
;

2063 
boŞ
 
	ghasComb
;

2065 ià(
	gşau£debug
 >= 2)

2067 
cout
 << "Looking‡t†it: ";

2068 
	gl™
->
´štW™hSŒV¬
(
cout
, 
domaš
);

2069 
	gcout
 << 
	g’dl
;

2073 (
	ghasComb
 = 
v¬Gndšgs
.
hasNextCombš©iÚ
()è|| 
l™Un£’
)

2076 ià(
l™Un£’
èl™Un£’ = 
çl£
;

2078 ià(
	ghasComb
)

2081 
	gcÚ¡Id
;

2082 
	gv
 = 0;

2084 
	gv¬Gndšgs
.
ÃxtI‹mInCombš©iÚ
(
cÚ¡Id
))

2086 
	gA¼ay
<
	gT”m
*>& 
	gv¬s
 =

2087 (*
v¬IdToV¬sGroundedTy³_
)[-
v¬Ids
[
v
++]]->
v¬s
;

2088 
	gi
 = 0; i < 
	gv¬s
.
size
(); i++èv¬s[
i
]->
£tId
(
cÚ¡Id
);

2092 ià(
	gşau£debug
 >= 2)

2094 
cout
 << "Clause is‚ow: ";

2095 
´štW™hWtAndSŒV¬
(
cout
, 
domaš
);

2096 
	gcout
 << 
	g’dl
;

2100 ià(
	gg‘AùiveCÏu£s
)

2104 #ifdeà
_SC_AVPHYS_PAGES


2105 ià(
syscÚf
(
_SC_AVPHYS_PAGES
) < 100)

2107 
	g¡lAùiv©šg
 = 
çl£
;

2108 
	gcout
 << "Stİ³d‡ùiv©šg" << 
	g’dl
;

2111 ià(!
	g¡lAùiv©šg
) ;

2116 
boŞ
 
	g´oûed
 = 
Œue
;

2117 ià(
	gwt_
 >ğ0 && !
g‘S©isf›d
)

2118 
´oûed
 = 
isUn§tisf›dGiv’AùiveP»ds
(
l™
, 
ivg
->
sub£qGndL™s
,

2119 
db
, 
ignÜeAùiveP»ds
);

2121 ià(
	gşau£debug
 >= 2)

2123 
cout
 << "…roûed " << 
´oûed
 << 
’dl
;

2126 ià(
	g´oûed
)

2129 ià(
	givgA¼Idx
 + 1 < 
	givgA¼
.
size
())

2131 
	glookAtNextL™
 = 
Œue
;

2132 
	givgA¼Idx
++;

2139 ià(
	gwt_
 < 0 && !
	gg‘S©isf›d
 &&

2140 !
isS©isf›dGiv’AùiveP»ds
(
db
, 
ignÜeAùiveP»ds
))

2142 ià(
	gşau£debug
 >ğ2è
cout
 << "cÚtšušg..." << 
’dl
;

2152 
boŞ
 
	gaùive
;

2153 
boŞ
 
	gaccumuÏ‹CÏu£s
 = 
aùiveGroundCÏu£s
;

2154 ià(!
	gaccumuÏ‹CÏu£s
)

2155 
	gaùive
 = 
isAùive
(
db
);

2157 
	gaùive
 = 
ü—‹AndAddAùiveCÏu£
(
aùiveGroundCÏu£s
,

2158 
£’GndP»ds
, 
db
,

2159 
g‘S©isf›d
);

2161 ià(
	gşau£debug
 >ğ2è
cout
 << "Aùiv" << 
aùive
 << 
’dl
;

2162 ià(
	gaùive
è(*
	gaùiveCÏu£CÁ
)++;

2170 ià(
l™”®OrSub£qu’tL™”®sA»True
(
l™
, 
ivg
->
sub£qGndL™s
, 
db
))

2172 ià(
	gşau£debug
 >= 2)

2173 
cout
 << "CÏu£ s©isf›d" << 
’dl
;

2175 ià(
	gcheckS©OÆy
)  1;

2177 
	gnumComb
 = 1;

2178 
	gi
 = 
ivgA¼Idx
 + 1; i < 
	givgA¼
.
size
(); i++)

2180 
	gnumV¬
 = 
ivgA¼
[
i
]->
v¬Gndšgs
.
g‘NumA¼ays
();

2181 
	gj
 = 0; j < 
	gnumV¬
; j++)

2182 
	gnumComb
 *ğ
ivgA¼
[
i
]->
v¬Gndšgs
.
g‘A¼ay
(
j
)->
size
();

2184 
	gnumTrueGndšgs
 +ğ
numComb
;

2187 ià(
	gfšdUnknownCÏu£s
 &&

2188 
bªÃdP»dsA»GndedAsGndP»d
(
ivg
->
bªÃdP»ds
, 
groundP»d
,

2189 
gndP»d
))

2191 ià(
	gşau£debug
 >= 2)

2192 
cout
 << "BªÃd…»d ¬grounded‡ ground…»d" << 
’dl
;

2198 ià(
	givgA¼Idx
 + 1 < 
	givgA¼
.
size
())

2200 ià(
	gşau£debug
 >ğ2è
cout
 << "MovšgØÃxˆl™”®" << 
’dl
;

2201 
	glookAtNextL™
 = 
Œue
;

2202 
	givgA¼Idx
++;

2208 
boŞ
 
	gtwoL™W™hOµS’£
 = 
çl£
;

2210 ià(
	ghasUnknownP»ds
)

2212 ià(
hasTwoL™”®sW™hOµS’£
(
db
))

2214 
	gtwoL™W™hOµS’£
 = 
Œue
;

2215 ++
	gnumTrueGndšgs
;

2216 ià(
	gcheckS©OÆy
)  1;

2220 ià(!
	gtwoL™W™hOµS’£
 && 
	gfšdUnknownCÏu£s
)

2222 
as£¹
(!
cÚšsGndP»dBefÜeIdx
(
gndP»dIdx
, 
groundP»d
,

2223 
gndP»d
));

2226 
ü—‹AndAddUnknownCÏu£
(
unknownGndCÏu£s
, 
unknownCÏu£s
,

2227 
numUnknownCÏu£s
, 
agcs
, 
db
);

2234 ià(!
	g¡lAùiv©šg
) ;

2238 ià(
	glookAtNextL™
è{†ookAtNextL™ = 
çl£
; }

2240 { 
	gv¬Gndšgs
.
»£t
(); 
	gl™Un£’
 = 
Œue
; 
	givgA¼Idx
--; }

2245 
	gi
 = 0; i < 
	gÜigV¬Ids
->
size
(); i++)

2247 
	gv¬Id
 = (*
ÜigV¬Ids
)[
i
];

2248 
as£¹
(
v¬Id
 < 0);

2249 
	gA¼ay
<
	gT”m
*>& 
	gv¬s
 = (*
v¬IdToV¬sGroundedTy³_
)[-
v¬Id
]->
v¬s
;

2250 
	gj
 = 0; j < 
	gv¬s
.
size
(); j++èv¬s[
j
]->
£tId
(
v¬Id
);

2251 (*
	gv¬IdToV¬sGroundedTy³_
)[-
v¬Id
]->
	gisGrounded
 = 
çl£
;

2253 
d–‘e
 
	gÜigV¬Ids
;

2255 
d–‘eAÎL™IdxV¬sGndšgs
(
ivgA¼
);

2256 
d–‘e
 
	g·¹GroundedCÏu£s
[
pgcIdx
];

2258 
d–‘e
 
	gÜigCÏu£L™s
;

2260 ià(
	gg‘AùiveCÏu£s
)

2262 ià(
	g¡lAùiv©šg
)  1;

2265  
	gnumTrueGndšgs
;

2269 
couÁNumTrueGroundšgsFÜAÎComb
(cÚ¡ 
A¼ay
<>& 
gndP»dIndexes
,

2270 
P»diÿ‹
* cÚ¡ & 
gndP»d
,

2271 cÚ¡ 
TruthV®ue
& 
gndP»dTV
,

2272 cÚ¡ 
boŞ
& 
gndP»dFl³d
,

2273 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

2274 cÚ¡ 
boŞ
& 
hasUnknownP»ds
,

2275 cÚ¡ 
boŞ
& 
§m¶eCÏu£s
,

2276 
A¼ay
<
CÏu£
*>* cÚ¡ & 
t›dCÏu£s
)

2278 
as£¹
(
v¬IdToV¬sGroundedTy³_
);

2279 cÚ¡ 
D©aba£
* 
	gdb
 = 
domaš
->
g‘DB
();

2280 
	gcouÁ
 = 0;

2281 
	gšCombSize
 = 
gndP»dIndexes
.
size
();

2282 
boŞ
* 
	gšComb
 = 
Ãw
 boŞ[
šCombSize
];

2289 
	gA¼ay
<> 
	gdim
;

2290 
	gi
 = 0; i < 
	ggndP»dIndexes
.
size
(); i++è
	gdim
.
­³nd
(2);

2293 
	gMuÉDA¼ay
<> 
gndedP»dPosA¼
(&
dim
);

2294 cÚ¡ 
	gA¼ay
<>* 
	gÚeDA¼ay
 = 
gndedP»dPosA¼
.
g‘1DA¼ay
();

2295 * 
	gÚeDA¼ayI‹ms
 = (*è
ÚeDA¼ay
->
g‘I‹ms
();

2296 
mem£t
(
ÚeDA¼ayI‹ms
, 0, 
ÚeDA¼ay
->
size
()*());

2300 
Pow”S‘
* 
	gps
 = Pow”S‘::
g‘Pow”S‘
();

2302 
	gps
->
´•¬eAcûss
(
gndP»dIndexes
.
size
(), 
çl£
);

2304 cÚ¡ 
	gA¼ay
<>* 
	g£t
;

2305 
	gps
->
g‘NextS‘
(
£t
))

2308 
boŞ
 
	g§meTruthV®ueAndS’£
;

2309 
boŞ
 
	ggndP»dPosSameS’£
;

2310 
boŞ
 
	gv®id
 = 
groundP»diÿ‹s
(
£t
, 
gndP»dIndexes
, 
gndP»d
, 
gndP»dTV
, 
db
,

2311 
§meTruthV®ueAndS’£
,
gndP»dPosSameS’£
);

2319 ià(!
	gv®id
 || !
	ggndP»dPosSameS’£
è{ 
»¡ÜeV¬s
(); ; }

2322 
	gút
, 
	gnumGndšgs
 = 
couÁNumGroundšgs
();

2323 ià(
	gt›dCÏu£s
)

2325 
	gi
 = 0; i < 
	gt›dCÏu£s
->
size
(); i++)

2327 
	ggndšgs
 = (*
t›dCÏu£s
)[
i
]->
g‘NumGroundšgs
(
domaš
);

2328 
	gút
 +ğ
gndšgs
;

2329 
	gnumGndšgs
 +ğ
gndšgs
;

2334 ià(
	g§meTruthV®ueAndS’£
)

2335 
	gút
 = 
numGndšgs
;

2338 
	g§mp
; 
	gÅ
;

2339 
boŞ
 
	gtoSam¶eCÏu£s
 = (
§m¶eCÏu£s
 && (
Å
=
´ediÿ‹s_
->
size
()) > 1 &&

2340 (
§mp
 = 
şau£Sam¶”_
->
compu‹NumSam¶es
(
Å
))

2341 < 
numGndšgs
);

2345 ià(
	gtoSam¶eCÏu£s
)

2347 
P»diÿ‹
* 
	gæ³dGndP»d
 = (
gndP»dFl³d
è? 
gndP»d
 : 
NULL
;

2348 
	gút
 = 
şau£Sam¶”_
->
e¡im©eNumTrueGroundšgs
(
this
, 
æ³dGndP»d
,

2349 
domaš
, 
§mp
);

2350 ià(
	gút
 > 
	gnumGndšgs
èúˆğ
numGndšgs
;

2351 ià(
	gút
 < 0) cnt = 0;

2354 
	gút
 = 
couÁNumTrueGroundšgs
(
domaš
, 
db
, 
hasUnknownP»ds
, 
çl£
,

2355 -1, 
NULL
, NULL, NULL, NULL, NULL, NULL,

2356 
NULL
, NULL, NULL, 
Œue
, 
çl£
);

2360 
	gútDueToThisComb


2361 ğ
addCouÁToCombš©iÚ
(
šComb
,
šCombSize
,
£t
,
gndedP»dPosA¼
,
út
);

2362 
	gcouÁ
 +ğ
útDueToThisComb
;

2368 
	gA¼ay
<> 
	gšCombIndexes
;

2369 
	gi
 = 0; i < 
	g£t
->
size
(); i++è
	gšCombIndexes
.
­³nd
((*
£t
)[
i
]);

2372 
Pow”S‘In¡ªûV¬s
 
	gpsIn¡V¬s
;

2373 
	gps
->
´•¬eAcûss
(
šCombIndexes
.
size
(), 
psIn¡V¬s
);

2374 cÚ¡ 
	gA¼ay
<>* 
	gçl£S‘
;

2375 
	gps
->
g‘NextS‘
(
çl£S‘
, 
psIn¡V¬s
))

2378 ià(
	gçl£S‘
->
size
(è=ğ
£t
->size()) ;

2379 
mšusR•—‹dCouÁs
(
šComb
, 
šCombSize
, 
šCombIndexes
, 
£t
, 
çl£S‘
,

2380 
gndedP»dPosA¼
, 
útDueToThisComb
);

2382 
»¡ÜeV¬s
();

2384 
	gd–‘e
 [] 
	gšComb
;

2385  
	gcouÁ
;

2390 
boŞ
 
ü—‹AndAddAùiveCÏu£
(

2391 
A¼ay
<
GroundCÏu£
 *> * cÚ¡ & 
aùiveGroundCÏu£s
,

2392 
GroundP»diÿ‹HashA¼ay
* cÚ¡& 
£’GndP»ds
,

2393 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

2394 
boŞ
 cÚ¡ & 
g‘S©isf›d
);

2396 
boŞ
 
	$isAùive
(cÚ¡ 
D©aba£
* cÚ¡ & 
db
)

2398 
P»diÿ‹S‘
 
´edS‘
;

2399 
P»diÿ‹S‘
::
™”©Ü
 
™”
;

2400 
boŞ
 
isEm±y
 = 
Œue
;

2402 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

2404 
P»diÿ‹
* 
´ediÿ‹
 = (*
´ediÿ‹s_
)[
i
];

2405 
	`as£¹
(
´ediÿ‹
);

2406 
	`as£¹
(
´ediÿ‹
->
	`isGrounded
());

2407 iàĞ(
™”
=
´edS‘
.
	`fšd
(
´ediÿ‹
)è!ğ´edS‘.
	`’d
() )

2410 ià(
wt_
 >ğ0 && (*
™”
)->
	`g‘S’£
(è!ğ
´ediÿ‹
->getSense())

2411  
çl£
;

2415 
´edS‘
.
	`š£¹
(
´ediÿ‹
);

2417 
boŞ
 
isEvid’û
 = 
db
->
	`g‘Evid’ûStus
(
´ediÿ‹
);

2418 ià(!
isEvid’û
)

2419 
isEm±y
 = 
çl£
;

2421  !
isEm±y
;

2422 
	}
}

2425 
boŞ
 
isUn§tisf›dGiv’AùiveP»ds
(
P»diÿ‹
* cÚ¡ & 
l™
,

2426 cÚ¡ 
A¼ay
<
P»diÿ‹
*>& 
sub£qL™s
,

2427 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

2428 
boŞ
 cÚ¡ & 
ignÜeAùiveP»ds
)

2434 ià(
	gdb
->
g‘D—ùiv©edStus
(
l™
)è 
	gçl£
;

2435 
boŞ
 
	gaùive
 = 
çl£
;

2436 ià(!
	gignÜeAùiveP»ds
)

2437 
	gaùive
 = 
db
->
g‘AùiveStus
(
l™
);

2439 
TruthV®ue
 
	gtv
 = 
db
->
g‘V®ue
(
l™
);

2440 
	gl™
->
£tTruthV®ue
(
tv
);

2442 ià(!
	gaùive
 && 
	gdb
->
§meTruthV®ueAndS’£
(
tv
, 
l™
->
g‘S’£
()))

2443  
	gçl£
;

2445 
	gi
 = 0; i < 
	gsub£qL™s
.
size
(); i++)

2450 ià(!
	gignÜeAùiveP»ds
)

2451 
	gaùive
 = 
db
->
g‘AùiveStus
(
sub£qL™s
[
i
]);

2453 
	gtv
 = 
db
->
g‘V®ue
(
sub£qL™s
[
i
]);

2454 
	gsub£qL™s
[
i
]->
£tTruthV®ue
(
tv
);

2456 ià(!
	gaùive
 && 
	gdb
->
§meTruthV®ueAndS’£
(
tv
,
sub£qL™s
[
i
]->
g‘S’£
()))

2457  
	gçl£
;

2459  
	gŒue
;

2464 
boŞ
 
	$isS©isf›dGiv’AùiveP»ds
(cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

2465 
boŞ
 cÚ¡ & 
ignÜeAùiveP»ds
)

2467 
boŞ
 
isS©isf›d
 = 
çl£
;

2468 
i
 = 0; i < 
´ediÿ‹s_
->
	`size
(); i++)

2470 
P»diÿ‹
* 
l™
 = 
	`g‘P»diÿ‹
(
i
);

2471 
	`as£¹
(
l™
->
	`isGrounded
());

2474 ià(
db
->
	`g‘D—ùiv©edStus
(
l™
)è 
çl£
;

2475 
boŞ
 
aùive
 = 
çl£
;

2476 
boŞ
 
evid’û
 = 
çl£
;

2477 ià(!
ignÜeAùiveP»ds
)

2478 
aùive
 = 
db
->
	`g‘AùiveStus
(
l™
);

2480 
TruthV®ue
 
tv
 = 
db
->
	`g‘V®ue
(
l™
);

2481 
l™
->
	`£tTruthV®ue
(
tv
);

2484 
evid’û
 = 
db
->
	`g‘Evid’ûStus
(
l™
);

2490 ià(
evid’û
 && 
db
->
	`§meTruthV®ueAndS’£
(
tv
, 
l™
->
	`g‘S’£
()))

2491  
çl£
;

2494 ià(
aùive
 || 
db
->
	`§meTruthV®ueAndS’£
(
tv
, 
l™
->
	`g‘S’£
()))

2495 
isS©isf›d
 = 
Œue
;

2497  
isS©isf›d
;

2498 
	}
}

2511 
sÜtL™”®sByNeg©iÚAndAr™y
(
A¼ay
<
P»diÿ‹
*>& 
şau£L™s
,

2512 cÚ¡ 
boŞ
& 
ignÜeAùiveP»ds
,

2513 cÚ¡ 
D©aba£
* cÚ¡ & 
db
) const

2515 
as£¹
(
´ediÿ‹s_
->
size
(è=ğ
şau£L™s
.size());

2517 
	gA¼ay
<
	g·œ
<, 
	gP»diÿ‹
*> > 
	g¬r
;

2518 
	gi
 = 0; i < 
	gşau£L™s
.
size
(); i++)

2520 
P»diÿ‹
* 
	gl™
 = 
şau£L™s
[
i
];

2521 
boŞ
 
	gisIndexabË
 = 
l™
->
isIndexabË
(
wt_
 >= 0);

2524 ià(
	gisIndexabË
)

2527 ià(
	gdb
->
isClo£dWÜld
(
l™
->
g‘Id
()))

2530 ià(
	gl™
->
g‘S’£
())

2531 
	g¬r
.
­³nd
(
·œ
<, 
P»diÿ‹
*>(5 +

2532 (1.0 / ()
l™
->
g‘NumT”ms
()),†it));

2534 
	g¬r
.
­³nd
(
·œ
<, 
P»diÿ‹
*>(7 +

2535 (1.0 / ()
l™
->
g‘NumT”ms
()),†it));

2538 ià(!
	gignÜeAùiveP»ds
)

2541 ià(
	gl™
->
g‘S’£
())

2542 
	g¬r
.
­³nd
(
·œ
<, 
P»diÿ‹
*>(1 +

2543 (1.0 / ()
l™
->
g‘NumT”ms
()),†it));

2545 
	g¬r
.
­³nd
(
·œ
<, 
P»diÿ‹
*>(3 +

2546 (1.0 / ()
l™
->
g‘NumT”ms
()),†it));

2549 
	g¬r
.
­³nd
(
·œ
<, 
P»diÿ‹
*>(-()
l™
->
g‘NumT”ms
(),†it));

2552 
	g¬r
.
­³nd
(
·œ
<, 
P»diÿ‹
*>(-()
l™
->
g‘NumT”ms
(),†it));

2555 
quicksÜtL™”®s
((
·œ
<,
P»diÿ‹
*>*è
¬r
.
g‘I‹ms
(),0,¬r.
size
()-1);

2556 
as£¹
(
¬r
.
size
(è=ğ
şau£L™s
.size());

2557 
	gi
 = 0; i < 
	g¬r
.
size
(); i++)

2559 
	gşau£L™s
[
i
] = 
¬r
[i].
£cÚd
;

2578 
groundIndexabËL™”®s
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

2579 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

2580 
A¼ay
<
P»diÿ‹
*>& 
şau£L™s
,

2581 
A¼ay
<A¼ay<
P»diÿ‹
*>* >& 
»suÉšgCÏu£s
,

2582 
boŞ
 cÚ¡ & 
ignÜeAùiveP»ds
)

2584 ià(
	gşau£debug
 >= 1)

2586 
cout
 << "Grounding indexable†iterals for ";

2587 
	gi
 = 0; i < 
	gşau£L™s
.
size
(); i++)

2589 
	gşau£L™s
[
i
]->
´štW™hSŒV¬
(
cout
, 
domaš
);

2590 
	gcout
 << " ";

2592 
	gcout
 << 
	g’dl
;

2594 
as£¹
(
şau£L™s
.
size
() > 0);

2595 
boŞ
 
	gposCÏu£
 = (
wt_
 >ğ0è? 
Œue
 : 
çl£
;

2598 
	gA¼ay
<
	gP»diÿ‹
*>* 
	gşau£L™sCİy
 = 
Ãw
 
A¼ay
<
P»diÿ‹
*>;

2599 
	gşau£L™sCİy
->
growToSize
(
şau£L™s
.
size
());

2600 
	gi
 = 0; i < 
	gşau£L™s
.
size
(); i++)

2601 (*
	gşau£L™sCİy
)[
i
] = 
Ãw
 
P»diÿ‹
(*
şau£L™s
[i]);

2602 
	g»suÉšgCÏu£s
.
­³nd
(
şau£L™sCİy
);

2604 
	gl™Idx
 = 0;†™Idx < 
	gşau£L™s
.
size
();†itIdx++)

2607 ià(
	gşau£L™s
[
l™Idx
]->
isIndexabË
(
posCÏu£
) &&

2608 (!
	gignÜeAùiveP»ds
||
	gdb
->
isClo£dWÜld
(
şau£L™s
[
l™Idx
]->
g‘Id
())))

2610 ià(
	gşau£debug
 >= 1)

2611 
cout
 << "Lookšg‡ˆl™”® " << 
l™Idx
 << 
’dl
;

2615 
	gA¼ay
<A¼ay<
	gP»diÿ‹
*>* > 
	gtmpCÏu£s
;

2616 ià(
	gşau£debug
 >= 1)

2618 
cout
 << "ResuÉšg cÏu£ sizbefÜe: " << 
»suÉšgCÏu£s
.
size
()

2619 << 
’dl
;

2622 
	gpgcIdx
 = 0;…gcIdx < 
	g»suÉšgCÏu£s
.
size
();…gcIdx++)

2624 ià(
	gşau£debug
 >= 2)

2626 
cout
 << "ResuÉšg cÏu£ befÜ" << 
pgcIdx
 << ": ";

2627 
	gi
 = 0; i < 
	g»suÉšgCÏu£s
[
pgcIdx
]->
size
(); i++)

2629 (*
	g»suÉšgCÏu£s
[
pgcIdx
])[
i
]->
´štW™hSŒV¬
(
cout
, 
domaš
);

2630 
	gcout
 << " ";

2632 
	gcout
 << 
	g’dl
;

2635 
	gA¼ay
<
	gP»diÿ‹
 *>* 
	gšdexedGndšgs
 = 
Ãw
 
A¼ay
<
P»diÿ‹
 *>;

2638 
boŞ
 
	gŒueGndšgs
 = !(
şau£L™s
[
l™Idx
]->
g‘S’£
());

2642 ià(
	gwt_
 < 0 && !((
	gD©aba£
 *)
	gdb
)->

2643 
isClo£dWÜld
((*
»suÉšgCÏu£s
[
pgcIdx
])[
l™Idx
]->
g‘Id
()))

2644 
	gŒueGndšgs
 = 
şau£L™s
[
l™Idx
]->
g‘S’£
();

2646 ((
	gD©aba£
 *)
	gdb
)->
g‘IndexedGndšgs
(
šdexedGndšgs
,

2647 (*
»suÉšgCÏu£s
[
pgcIdx
])[
l™Idx
],

2648 
ignÜeAùiveP»ds
, 
ŒueGndšgs
);

2649 ià(
	gşau£debug
 >= 2)

2651 
cout
 << "šdexedGndšgs: " << 
’dl
;

2652 
	gi
 = 0; i < 
	gšdexedGndšgs
->
size
(); i ++)

2654 
	gcout
 << "\t";

2655 (*
	gšdexedGndšgs
)[
i
]->
´štW™hSŒV¬
(
cout
, 
domaš
);

2656 
	gcout
 << 
	g’dl
;

2661 
	gŞdTmpSize
 = 
tmpCÏu£s
.
size
();

2662 
	gtmpCÏu£s
.
growToSize
(
ŞdTmpSize
 + 
šdexedGndšgs
->
size
());

2663 ià(
	gşau£debug
 >= 2)

2665 
cout
 << "tmpCÏu£ sizŞd: " << 
ŞdTmpSize
 << "‚ew: "

2666 << 
tmpCÏu£s
.
size
(è<< 
’dl
;

2669 
	gi
 = 0; i < 
	gšdexedGndšgs
->
size
(); i++)

2674 
	gtmpCÏu£s
[
ŞdTmpSize
 + 
i
] =

2675 
Ãw
 
A¼ay
<
P»diÿ‹
*>(
»suÉšgCÏu£s
[
pgcIdx
]->
size
());

2676 
	gtmpCÏu£s
[
ŞdTmpSize
 + 
i
]->

2677 
growToSize
(
»suÉšgCÏu£s
[
pgcIdx
]->
size
());

2678 ià(
	gşau£debug
 >= 2)

2679 
cout
 << "Tm°şau£ befÜ" << 
ŞdTmpSize
 + 
i
 << ": ";

2680 
	g´edNo
 = 0;…»dNØ< 
	gtmpCÏu£s
[
ŞdTmpSize
 + 
i
]->
size
();

2681 
	g´edNo
++)

2683 (*
	gtmpCÏu£s
[
ŞdTmpSize
 + 
i
])[
´edNo
] =

2684 
Ãw
 
P»diÿ‹
(*((*
»suÉšgCÏu£s
[
pgcIdx
])[
´edNo
]));

2685 ià(
	gşau£debug
 >= 2)

2687 (*
tmpCÏu£s
[
ŞdTmpSize
 + 
i
])[
´edNo
]->

2688 
´štW™hSŒV¬
(
cout
, 
domaš
);

2689 
	gcout
 << " ";

2692 ià(
	gşau£debug
 >ğ2è
cout
 << 
’dl
;

2695 
	gj
 = 0;

2696 
	gj
 < (*
	g»suÉšgCÏu£s
[
pgcIdx
])[
l™Idx
]->
g‘NumT”ms
(); j++)

2698 cÚ¡ 
T”m
* 
	g‹rm
 =

2699 (*
»suÉšgCÏu£s
[
pgcIdx
])[
l™Idx
]->
g‘T”m
(
j
);

2701 ià(
	g‹rm
->
g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

2703 
v¬Id
 = 
‹rm
->
g‘Id
();

2704 
	gcÚ¡Id
 = (*
šdexedGndšgs
)[
i
]->
g‘T”m
(
j
)->
g‘Id
();

2705 
as£¹
(
cÚ¡Id
 >= 0);

2707 
	gk
 = 
l™Idx
; k < 
	gtmpCÏu£s
[
ŞdTmpSize
 + 
i
]->
size
();

2708 
	gk
++)

2710 
P»diÿ‹
* 
	g´ed
 = (*
tmpCÏu£s
[
ŞdTmpSize
 + 
i
])[
k
];

2711 
	gl
 = 0;† < 
	g´ed
->
g‘NumT”ms
();†++)

2714 ià(
	g´ed
->
g‘T”m
(
l
)->
g‘Id
(è=ğ
v¬Id
)

2715 
´ed
->
£tT”mToCÚ¡ªt
(
l
, 
cÚ¡Id
);

2721 
d–‘e
 (*
šdexedGndšgs
)[
i
];

2722 ià(
	gşau£debug
 >= 2)

2724 
cout
 << "Tm°şau£‡á” " << 
ŞdTmpSize
 + 
i
 << ": ";

2725 
	gd
 = 0; d < 
	gtmpCÏu£s
[
ŞdTmpSize
 + 
i
]->
size
(); d++)

2727 (*
	gtmpCÏu£s
[
ŞdTmpSize
 + 
i
])[
d
]->
´štW™hSŒV¬
(
cout
, 
domaš
);

2728 
	gcout
 << " ";

2730 
	gcout
 << 
	g’dl
;

2733 
d–‘e
 
	gšdexedGndšgs
;

2737 
	gpgcIdx
 = 0;…gcIdx < 
	g»suÉšgCÏu£s
.
size
();…gcIdx++)

2739 
	gi
 = 0; i < 
	g»suÉšgCÏu£s
[
pgcIdx
]->
size
(); i++)

2740 
d–‘e
 (*
»suÉšgCÏu£s
[
pgcIdx
])[
i
];

2741 
d–‘e
 
	g»suÉšgCÏu£s
[
pgcIdx
];

2744 ià(
	gşau£debug
 >= 1)

2746 
cout
 << "tmpCÏu£ size: " << 
tmpCÏu£s
.
size
(è<< 
’dl
;

2750 ià(
	gtmpCÏu£s
.
size
(è> 
	g»suÉšgCÏu£s
.size())

2752 
	g»suÉšgCÏu£s
.
growToSize
(
tmpCÏu£s
.
size
());

2754 ià(
	g»suÉšgCÏu£s
.
size
(è> 
	gtmpCÏu£s
.size())

2756 
	g»suÉšgCÏu£s
.
shrškToSize
(
tmpCÏu£s
.
size
());

2759 
	gi
 = 0; i < 
	gtmpCÏu£s
.
size
(); i++)

2761 
	g»suÉšgCÏu£s
[
i
] = 
tmpCÏu£s
[i];

2764 ià(
	gşau£debug
 >= 1)

2766 
cout
 << "ResuÉšg cÏu£ sizaá”: " << 
»suÉšgCÏu£s
.
size
()

2767 << 
’dl
;

2777 ià(
	gşau£debug
 >= 2)

2779 
cout
 << "ResuÉšg cÏu£ »tuºed from groundšg indexabËs: " << 
’dl
;

2780 
	gpgcIdx
 = 0;…gcIdx < 
	g»suÉšgCÏu£s
.
size
();…gcIdx++)

2782 
	gcout
 << "\t";

2783 
	gi
 = 0; i < 
	g»suÉšgCÏu£s
[
pgcIdx
]->
size
(); i++)

2785 (*
	g»suÉšgCÏu£s
[
pgcIdx
])[
i
]->
´štW™hSŒV¬
(
cout
, 
domaš
);

2786 
	gcout
 << " ";

2788 
	gcout
 << 
	g’dl
;

2802 
boŞ
 
g‘AùiveCÏu£sAndCÁ
(
P»diÿ‹
* cÚ¡ & 
gndP»d
,

2803 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

2804 
A¼ay
<
GroundCÏu£
 *>* cÚ¡ & 
aùiveGroundCÏu£s
,

2805 & 
aùiveCÏu£CÁ
,

2806 
GroundP»diÿ‹HashA¼ay
* cÚ¡& 
£’GndP»ds
,

2807 
boŞ
 cÚ¡ & 
ignÜeAùiveP»ds
,

2808 
boŞ
 cÚ¡ & 
g‘S©isf›d
)

2812 
ü—‹V¬IdToV¬sGroundedTy³
(
domaš
);

2813 
	g¡lAùiv©šg
 = 1;

2814 ià(
	ggndP»d
 =ğ
NULL
)

2816 
¡lAùiv©šg
 = 
couÁNumTrueGroundšgs
(
domaš
, domaš->
g‘DB
(), 
çl£
,

2817 
çl£
, -1, 
NULL
, NULL, NULL, NULL,

2818 
NULL
, NULL, 
aùiveGroundCÏu£s
,

2819 &
aùiveCÏu£CÁ
, 
£’GndP»ds
,

2820 
ignÜeAùiveP»ds
, 
g‘S©isf›d
);

2821 
»¡ÜeV¬s
();

2825 
as£¹
(
gndP»d
->
isGrounded
());

2828 
	gA¼ay
<> 
	ggndP»dIndexes
;

2829 
	gi
 = 0; i < 
	g´ediÿ‹s_
->
size
(); i++)

2830 ià((*
	g´ediÿ‹s_
)[
i
]->
ÿnBeGroundedAs
(
gndP»d
))

2831 
	ggndP»dIndexes
.
­³nd
(
i
);

2833 cÚ¡ 
D©aba£
* 
	gdb
 = 
domaš
->
g‘DB
();

2834 
	gA¼ay
<> 
	guÇryS‘
;

2835 
	guÇryS‘
.
­³nd
(-1);

2837 
	gaùiveCÏu£CÁ
 = 0;

2838 
	gi
 = 0; i < 
	ggndP»dIndexes
.
size
(); i++)

2841 
boŞ
 
	g§meTruthV®ueAndS’£
;

2842 
boŞ
 
	ggndP»dPosSameS’£
;

2843 
	guÇryS‘
[0] = 
i
;

2846 
groundP»diÿ‹s
(&
uÇryS‘
, 
gndP»dIndexes
, 
gndP»d
,

2847 
db
->
g‘V®ue
(
gndP»d
), db, 
§meTruthV®ueAndS’£
,

2848 
gndP»dPosSameS’£
);

2849 
	gút
;

2850 
	g¡lAùiv©šg
 = 
couÁNumTrueGroundšgs
(
domaš
, domaš->
g‘DB
(), 
çl£
,

2851 
çl£
, -1, 
NULL
, NULL, NULL,

2852 
NULL
, NULL, NULL,

2853 
aùiveGroundCÏu£s
, & 
út
,

2854 
£’GndP»ds
, 
ignÜeAùiveP»ds
,

2855 
g‘S©isf›d
);

2856 
	gaùiveCÏu£CÁ
 +ğ
út
;

2857 
»¡ÜeV¬s
();

2861 
as£¹
(!
aùiveGroundCÏu£s
 ||

2862 
aùiveGroundCÏu£s
->
size
(è=ğ
aùiveCÏu£CÁ
);

2863  (
	g¡lAùiv©šg
 == 1);

2867 
	gpublic
:

2884 
boŞ
 
g‘AùiveCÏu£s
(
P»diÿ‹
* cÚ¡ & 
gndP»d
,

2885 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

2886 
A¼ay
<
GroundCÏu£
 *>* cÚ¡ & 
aùiveGroundCÏu£s
,

2887 
GroundP»diÿ‹HashA¼ay
 * cÚ¡ & 
£’GndP»ds
,

2888 
boŞ
 cÚ¡ & 
ignÜeAùiveP»ds
)

2890 
	gút
 = 0;

2891 
boŞ
 
	gg‘S©isf›d
 = 
çl£
;

2892  
g‘AùiveCÏu£sAndCÁ
(
gndP»d
, 
domaš
, 
aùiveGroundCÏu£s
, 
út
,

2893 
£’GndP»ds
, 
ignÜeAùiveP»ds
, 
g‘S©isf›d
);

2900 
	$g‘AùiveCÏu£CÁ
(
P»diÿ‹
* cÚ¡ & 
gndP»d
,

2901 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

2902 
boŞ
 cÚ¡ & 
ignÜeAùiveP»ds
)

2904 
út
 = 0;

2905 
A¼ay
<
GroundCÏu£
 *> *
aùiveGroundCÏu£s
 = 
NULL
;

2906 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
£’GndP»ds
 = 
NULL
;

2907 
boŞ
 
g‘S©isf›d
 = 
çl£
;

2908 
	`g‘AùiveCÏu£sAndCÁ
(
gndP»d
, 
domaš
, 
aùiveGroundCÏu£s
, 
út
,

2909 
£’GndP»ds
, 
ignÜeAùiveP»ds
, 
g‘S©isf›d
);

2911  
út
;

2912 
	}
}

2915 
	g´iv©e
:

2917 
sÜtByL’
(
A¼ay
<
CÏu£
*>& 
şau£s
, cÚ¡ & 
l
, cÚ¡ & 
r
)

2919 
CÏu£
** 
	g™ems
 = (CÏu£**è
şau£s
.
g‘I‹ms
();

2920 ià(
	gl
 >ğ
r
) ;

2921 
CÏu£
* 
	gtmp
 = 
™ems
[
l
];

2922 
	g™ems
[
l
] = 
™ems
[Ö+
r
)/2];

2923 
	g™ems
[(
l
+
r
)/2] = 
tmp
;

2925 
	gÏ¡
 = 
l
;

2926 
	gi
 = 
l
+1; i <ğ
r
; i++)

2927 ià(
	g™ems
[
i
]->
g‘NumP»diÿ‹s
(è< i‹ms[
l
]->getNumPredicates())

2929 ++
	gÏ¡
;

2930 
CÏu£
* 
	gtmp
 = 
™ems
[
Ï¡
];

2931 
	g™ems
[
Ï¡
] = 
™ems
[
i
];

2932 
	g™ems
[
i
] = 
tmp
;

2935 
	gtmp
 = 
™ems
[
l
];

2936 
	g™ems
[
l
] = 
™ems
[
Ï¡
];

2937 
	g™ems
[
Ï¡
] = 
tmp
;

2938 
sÜtByL’
(
şau£s
, 
l
, 
Ï¡
-1);

2939 
sÜtByL’
(
şau£s
, 
Ï¡
+1, 
r
);

2943 
	gpublic
:

2945 
g‘CÚ¡ªtTu¶es
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

2946 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

2947 
A¼ay
<>* cÚ¡ & 
mÊCÏu£T”mIds
,

2948 cÚ¡ 
CÏu£
* cÚ¡ & 
v¬CÏu£
,

2949 
P»diÿ‹T”mToV¬ŸbË
 * cÚ¡ & 
±”mToV¬
,

2950 
CÏu£ToSu³rCÏu£M­
* cÚ¡ & 
şau£ToSu³rCÏu£
,

2951 
boŞ
 
u£Im¶ic™
);

2953 
addCÚ¡ªtTu¶e
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

2954 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

2955 cÚ¡ 
CÏu£
 * cÚ¡ & 
ÜigCÏu£L™s
,

2956 
A¼ay
<> * cÚ¡ & 
cÚ¡ªts
,

2957 
A¼ay
<
V¬ŸbË
 *> * cÚ¡ & 
eqV¬s
,

2958 
CÏu£ToSu³rCÏu£M­
* cÚ¡ & 
şau£ToSu³rCÏu£
,

2959 
boŞ
 
u£Im¶ic™
);

2961 
	gA¼ay
<>* 
upd©eToV¬CÏu£
();

2963 
	$»moveAÎP»diÿ‹s
(è{ 
	`£tDœty
(); 
´ediÿ‹s_
->
	`ş—r
();
	}
}

2965 
boŞ
 
	$isAùiÚFaùÜ
()

2967 ià(
´ediÿ‹s_
->
	`size
() != 1)

2968  
çl£
;

2969 ià(
aùiÚ_
)

2970  
Œue
;

2971  
çl£
;

2972 
	}
}

2974 
	$æ
()

2976 ià(!
	`isAùiÚFaùÜ
())

2978 
cout
 << "ERROR: Thi i¢'ˆª‡ùiÚ faùÜ." << 
’dl
;

2979 
cout
 << 
´ediÿ‹s_
->
	`size
(è<< "\t" << 
isH¬dCÏu£_
 << 
’dl
;

2980 
	`ex™
(1);

2982 (*
´ediÿ‹s_
)[0]->
	`šv”tS’£
();

2983 
	}
}

2987 
	g´iv©e
:

2988 
wt_
;

2989 
	gA¼ay
<
	gP»diÿ‹
*>* 
	g´ediÿ‹s_
;

2990 
	gA¼ay
<>* 
	gštA¼R•_
;

2991 
size_t
 
	ghashCode_
;

2992 
boŞ
 
	gdœty_
;

2993 
boŞ
 
	gisH¬dCÏu£_
;

2994 
boŞ
 
	glocked_
;

2998 
	gA¼ay
<
	gV¬sGroundedTy³
*>* 
	gv¬IdToV¬sGroundedTy³_
 ;

3000 
AuxCÏu£D©a
* 
	gauxCÏu£D©a_
;

3001 
boŞ
 
	g¡©icWt_
;

3002 
CÏu£Sam¶”
* 
	gşau£Sam¶”_
;

3003 
	gfixedSizeB_
;

3004 
boŞ
 
	gaùiÚ_
;

3005 
	gut_
;

3011 şas 
	cHashCÏu£


3013 
	mpublic
:

3014 
size_t
 
	$İ”©Ü
()(
CÏu£
* cÚ¡ & 
c
ècÚ¡ {  c->
	`hashCode
(); }

3015 
	}
};

3018 şas 
	cEqu®CÏu£


3020 
	mpublic
:

3021 
boŞ
 
	$İ”©Ü
()(
CÏu£
* cÚ¡ & 
c1
, CÏu£* cÚ¡ & 
c2
) const

3022 {  
c1
->
	`§me
(
c2
); }

3023 
	}
};

3026 şas 
	cEqu®CÏu£Op


3028 
	mpublic
:

3030 
boŞ
 
	$İ”©Ü
()(
CÏu£
* cÚ¡ & 
c1
, CÏu£* cÚ¡ & 
c2
) const

3032 
AuxCÏu£D©a
* 
acd1
 = 
c1
->
	`g‘AuxCÏu£D©a
();

3033 
AuxCÏu£D©a
* 
acd2
 = 
c2
->
	`g‘AuxCÏu£D©a
();

3034 ià(
acd1
->
İ
 !ğ
acd2
->İè 
çl£
;

3035 ià(
acd1
->
İ
 =ğ
OP_ADD
è 
c1
->
	`§me
(
c2
);

3036 ià(
acd1
->
İ
 =ğ
OP_REMOVE
)

3037  
acd1
->
»movedCÏu£Idx
 =ğ
acd2
->removedClauseIdx;

3039  
acd1
->
»movedCÏu£Idx
 =ğ
acd2
->»movedCÏu£Idx && 
c1
->
	`§me
(
c2
);

3041 
	}
};

3046 
	ghash_£t
<
	tCÏu£
*, 
	tHashCÏu£
, 
	tEqu®CÏu£
> 
	tCÏu£S‘
;

3047 
	ghash_£t
<
	tCÏu£
*, 
	tHashCÏu£
, 
	tEqu®CÏu£Op
> 
	tCÏu£OpS‘
;

3048 
	ghash_m­
<
	tCÏu£
*, 
	tA¼ay
<CÏu£*>*, 
	tHashCÏu£
, 
	tEqu®CÏu£
>

3049 
	tCÏu£ToCÏu£sM­
;

3051 
	gHashLi¡
<
	tCÏu£
*, 
	tHashCÏu£
, 
	tEqu®CÏu£
> 
	tCÏu£HashLi¡
;

3053 
	gHashA¼ay
<
	tCÏu£
*, 
	tHashCÏu£
, 
	tEqu®CÏu£Op
> 
	tCÏu£OpHashA¼ay
;

	@logic/clausefactory.h

66 #iâdeà
CLAUSEFACTORY_H_NOV_10_2005


67 
	#CLAUSEFACTORY_H_NOV_10_2005


	)

69 
	~<şim™s
>

70 
	~"şau£.h
"

71 
	~"domaš.h
"

74 şas 
	cCÏu£FaùÜy


76 
	mpublic
:

77 
	$CÏu£FaùÜy
(è: 
	`maxNumV¬s_
(
INT_MAX
), 
	`maxNumP»diÿ‹s_
(INT_MAX),

78 
	$domaš_
(
NULL
) {}

79 
	$CÏu£FaùÜy
(cÚ¡ & 
maxNumV¬s
, cÚ¡ & 
maxNumP»diÿ‹s
,

80 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

81 : 
	`maxNumV¬s_
(
maxNumV¬s
), 
	`maxNumP»diÿ‹s_
(
maxNumP»diÿ‹s
),

82 
	$domaš_
(
domaš
è{
	}
}

83 ~
	$CÏu£FaùÜy
(è{
	}
}

88 
addP»diÿ‹ToCÏu£
(cÚ¡ 
A¼ay
<
P»diÿ‹
*>& 
´eds
,

89 
CÏu£
* cÚ¡ & 
şau£
,

90 cÚ¡ & 
İ
, cÚ¡ & 
»moveCÏu£Idx
,

91 cÚ¡ 
boŞ
& 
şau£HasB“nCªÚiÿlized
,

92 
CÏu£OpHashA¼ay
& 
ÃwCÏu£s
,

93 cÚ¡ 
boŞ
& 
addTrueP»dOÆy
)

95 ià(!
	gşau£HasB“nCªÚiÿlized
è
	gşau£
->
ÿnÚiÿlize
();

97 
	gsm®Ë¡V¬Id
;

98 
	gA¼ay
<A¼ay<>*>* 
	gty³IdToV¬Ids


99 ğ
şau£
->
g‘Ty³IdToV¬IdsM­AndSm®Ë¡V¬Id
(
sm®Ë¡V¬Id
);

101 
	gi
 = 0; i < 
	g´eds
.
size
(); i++)

103 
boŞ
 
	gŒueP»dOÆy
 =

104 (
´eds
[
i
]->
isEqu®P»d
(è||…»ds[i]->
isIÁ”ÇlP»d
()è? 
Œue
 : 
addTrueP»dOÆy
;

106 
addP»diÿ‹ToCÏu£
(
´eds
[
i
], 
şau£
, 
İ
, 
»moveCÏu£Idx
, 
ÃwCÏu£s
,

107 
ty³IdToV¬Ids
, 
sm®Ë¡V¬Id
, 
ŒueP»dOÆy
, 
NULL
);

110 
	gty³IdToV¬Ids
->
d–‘eI‹msAndCË¬
();

111 
d–‘e
 
	gty³IdToV¬Ids
;

116 
	$addP»diÿ‹ToCÏu£
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

117 
CÏu£
* cÚ¡ & 
şau£
,

118 cÚ¡ & 
İ
, cÚ¡ & 
»moveCÏu£Idx
,

119 cÚ¡ 
boŞ
& 
şau£HasB“nCªÚiÿlized
,

120 
CÏu£OpHashA¼ay
& 
ÃwCÏu£s
,

121 cÚ¡ 
boŞ
& 
addTrueP»dOÆy
)

123 
A¼ay
<
P»diÿ‹
*> 
¬r
;

124 
¬r
.
	`­³nd
((
P»diÿ‹
*)
´ed
);

125 
boŞ
 
ŒueP»dOÆy
 =

126 (
´ed
->
	`isEqu®P»d
(è||…»d->
	`isIÁ”ÇlP»d
()è? 
Œue
 : 
addTrueP»dOÆy
;

128 
	`addP»diÿ‹ToCÏu£
(
¬r
, 
şau£
, 
İ
, 
»moveCÏu£Idx
,

129 
şau£HasB“nCªÚiÿlized
, 
ÃwCÏu£s
, 
ŒueP»dOÆy
);

130 
	}
}

134 
	$»moveP»diÿ‹FromCÏu£
(cÚ¡ & 
´edIdx
,

135 cÚ¡ 
CÏu£
* cÚ¡ & 
şau£
,

136 cÚ¡ & 
İ
, cÚ¡ & 
»moveCÏu£Idx
,

137 
CÏu£OpHashA¼ay
& 
ÃwCÏu£s
)

139 ià(
şau£
->
	`g‘NumP»diÿ‹s
() == 1) ;

140 
CÏu£
* 
ÃwCÏu£
 = 
Ãw
 
	`CÏu£
(*
şau£
);

141 
P»diÿ‹
* 
p
 = 
ÃwCÏu£
->
	`»moveP»diÿ‹
(
´edIdx
);

142 ià(
p
 =ğ
NULL
) ;

144 
¡ršg
 
´evCÏu£SŒ
, 
addP»dSŒ
;

145 ià(
domaš_
)

147 
o¡ršg¡»am
 
oss1
, 
oss2
;

148 
şau£
->
	`´štW™houtWtW™hSŒV¬
(
oss1
, 
domaš_
); 
´evCÏu£SŒ
=oss1.
	`¡r
();

149 
p
->
	`´štW™hSŒV¬
(
oss2
, 
domaš_
); 
addP»dSŒ
 = oss2.
	`¡r
();

152 
d–‘e
 
p
;

153 
ÃwCÏu£
->
	`ÿnÚiÿlize
();

155 ià(
ÃwCÏu£
->
	`g‘NumV¬ŸbËsAssumeCªÚiÿlized
(è> 
maxNumV¬s_
 ||

156 
ÃwCÏu£
->
	`g‘NumP»diÿ‹s
(è> 
maxNumP»diÿ‹s_
)

157 { 
d–‘e
 
ÃwCÏu£
; ; }

158 ià(!
ÃwCÏu£
->
	`checkP»dsA»CÚÃùed
()è{ 
d–‘e
‚ewClause; ; }

159 ià(!
	`v®idCÏu£
(
ÃwCÏu£
)è{ 
d–‘e
‚ewClause; ; }

161 
ÃwCÏu£
->
	`£tAuxCÏu£D©a
(
Ãw
 
	`AuxCÏu£D©a
(0, 
İ
, 
»moveCÏu£Idx
,

162 
´evCÏu£SŒ
, 
addP»dSŒ
,

163 
´edIdx
));

164 ià(((
CÏu£
*)
şau£
)->
	`cÚšsCÚ¡ªts
()è
ÃwCÏu£
->
	`ŒackCÚ¡ªts
();

165 ià(
ÃwCÏu£s
.
	`­³nd
(
ÃwCÏu£
è< 0è{ 
d–‘e
‚ewClause; ; }

166 
ÃwCÏu£
->
	`com´ess
();

167 
	}
}

171 
	$»moveP»diÿ‹FromCÏu£
(cÚ¡ 
CÏu£
* cÚ¡ & 
şau£
,

172 cÚ¡ & 
İ
, cÚ¡ & 
»moveCÏu£Idx
,

173 
CÏu£OpHashA¼ay
& 
ÃwCÏu£s
)

175 
i
 = 0; i < 
şau£
->
	`g‘NumP»diÿ‹s
(); i++)

176 
	`»moveP»diÿ‹FromCÏu£
(
i
, 
şau£
, 
İ
, 
»moveCÏu£Idx
, 
ÃwCÏu£s
);

177 
	}
}

180 
	$æS’£sInCÏu£
(cÚ¡ 
CÏu£
* cÚ¡ & 
şau£
, cÚ¡ & 
İ
,

181 cÚ¡ & 
»moveCÏu£Idx
,

182 
CÏu£OpHashA¼ay
& 
ÃwCÏu£s
,

183 cÚ¡ 
boŞ
& 
ÿnÚiÿlizeNewCÏu£s
)

185 
A¼ay
<A¼ay<
boŞ
>*> 
ÃwedA¼ays
;

187 
A¼aysAcûssÜ
<
boŞ
> 
acc
;

188 
i
 = 0; i < 
şau£
->
	`g‘NumP»diÿ‹s
(); i++)

190 
A¼ay
<
boŞ
>* 
bA¼
 = 
Ãw
 Array<bool>(2);

191 
bA¼
->
	`­³nd
(
çl£
); bA¼->­³nd(
Œue
);

192 
ÃwedA¼ays
.
	`­³nd
(
bA¼
);

193 
acc
.
	`­³ndA¼ay
(
bA¼
);

196 
A¼ay
<
boŞ
> 
bA¼
;

197 
acc
.
	`g‘NextCombš©iÚ
(
bA¼
))

199 
	`as£¹
(
bA¼
.
	`size
(è=ğ
şau£
->
	`g‘NumP»diÿ‹s
());

200 
CÏu£
* 
ÃwCÏu£
 = 
Ãw
 
	`CÏu£
(*
şau£
);

201 
i
 = 0; i < 
bA¼
.
	`size
(); i++)

203 
P»diÿ‹
* 
´ed
 = (P»diÿ‹*è
ÃwCÏu£
->
	`g‘P»diÿ‹
(
i
);

204 
´ed
->
	`£tS’£
(
bA¼
[
i
]);

207 
numV¬sInNewCÏu£
;

208 ià(
ÿnÚiÿlizeNewCÏu£s
)

210 
ÃwCÏu£
->
	`ÿnÚiÿlize
();

211 
numV¬sInNewCÏu£
 = 
ÃwCÏu£
->
	`g‘NumV¬ŸbËsAssumeCªÚiÿlized
();

214 
numV¬sInNewCÏu£
 = 
ÃwCÏu£
->
	`g‘NumV¬ŸbËs
();

216 ià(
numV¬sInNewCÏu£
 > 
maxNumV¬s_
 ||

217 
ÃwCÏu£
->
	`g‘NumP»diÿ‹s
(è> 
maxNumP»diÿ‹s_
)

218 { 
d–‘e
 
ÃwCÏu£
; ; }

219 ià(!
	`v®idCÏu£
(
ÃwCÏu£
)è{ 
d–‘e
‚ewClause; ; }

221 
¡ršg
 
´evCÏu£SŒ
;

222 ià(
domaš_
)

224 
o¡ršg¡»am
 
oss
;

225 
şau£
->
	`´štW™houtWtW™hSŒV¬
(
oss
, 
domaš_
);

226 
´evCÏu£SŒ
 = 
oss
.
	`¡r
();

230 
ÃwCÏu£
->
	`£tAuxCÏu£D©a
(
Ãw
 
	`AuxCÏu£D©a
(0, 
İ
, 
»moveCÏu£Idx
,

231 
´evCÏu£SŒ
, "", -1));

232 ià(((
CÏu£
*)
şau£
)->
	`cÚšsCÚ¡ªts
()è
ÃwCÏu£
->
	`ŒackCÚ¡ªts
();

233 ià(
ÃwCÏu£s
.
	`­³nd
(
ÃwCÏu£
è< 0è{ 
d–‘e
‚ewClause; ; }

234 
ÃwCÏu£
->
	`com´ess
();

237 
i
 = 0; i < 
ÃwedA¼ays
.
	`size
(); i++è
d–‘e
‚ewedArrays[i];

238 
	}
}

242 
CÏu£
* 
	$ü—‹Un™CÏu£
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ediÿ‹
,

243 cÚ¡ 
boŞ
& 
®lowEqu®P»d
)

245 ià(!
®lowEqu®P»d
 &&

246 (
´ediÿ‹
->
	`isEqu®P»d
(è||…»diÿ‹->
	`isIÁ”ÇlP»d
()))

247  
NULL
;

248 
CÏu£
* 
şau£
 = 
Ãw
 
	`CÏu£
();

249 
P»diÿ‹
* 
´ed
 = 
Ãw
 
	`P»diÿ‹
(*
´ediÿ‹
);

250 
´ed
->
	`£tS’£
(
Œue
);

251 
´ed
->
	`£tP¬’t
(
şau£
);

252 
şau£
->
	`­³ndP»diÿ‹
(
´ed
);

253 
şau£
->
	`ÿnÚiÿlize
();

254  
şau£
;

255 
	}
}

259 
ü—‹Un™CÏu£s
(
A¼ay
<
CÏu£
*>& 
un™CÏu£s
,

260 
A¼ay
<
P»diÿ‹
*>& 
´eds
,

261 cÚ¡ 
boŞ
& 
®lowEqu®P»d
)

263 
	gi
 = 0; i < 
	g´eds
.
size
(); i++)

265 
CÏu£
* 
	guşau£
 = 
ü—‹Un™CÏu£
(
´eds
[
i
], 
®lowEqu®P»d
);

266 ià(
	guşau£
è
	gun™CÏu£s
.
­³nd
(
uşau£
);

272 
	$ü—‹Un™CÏu£sW™hDiffCombOfV¬
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

273 cÚ¡ & 
İ
,

274 cÚ¡ & 
»moveCÏu£Idx
,

275 
CÏu£OpHashA¼ay
& 
ÃwCÏu£s
)

277 
CÏu£
* 
un™CÏu£
 = 
	`ü—‹Un™CÏu£
(
´ed
, 
Œue
);

279 
A¼ay
<
P»diÿ‹
*> 
ÃwP»ds
;

280 
sm®Ë¡V¬Id
;

281 
A¼ay
<A¼ay<>*>* 
ty³IdToV¬Ids


282 ğ
un™CÏu£
->
	`g‘Ty³IdToV¬IdsM­AndSm®Ë¡V¬Id
(
sm®Ë¡V¬Id
);

283 
CÏu£OpHashA¼ay
 
unu£d
;

284 
	`addP»diÿ‹ToCÏu£
(
´ed
, 
un™CÏu£
, 
OP_ADD
, -1, 
unu£d
, 
ty³IdToV¬Ids
,

285 
sm®Ë¡V¬Id
, 
Œue
, &
ÃwP»ds
);

286 
ty³IdToV¬Ids
->
	`d–‘eI‹msAndCË¬
();

287 
d–‘e
 
ty³IdToV¬Ids
;

288 
d–‘e
 
un™CÏu£
;

290 
i
 = 0; i < 
ÃwP»ds
.
	`size
(); i++)

292 
CÏu£
* 
uşau£
 = 
	`ü—‹Un™CÏu£
(
ÃwP»ds
[
i
], 
Œue
);

293 
d–‘e
 
ÃwP»ds
[
i
];

294 ià(
uşau£
 =ğ
NULL
) ;

295 ià(
uşau£
->
	`g‘NumV¬ŸbËsAssumeCªÚiÿlized
(è> 
maxNumV¬s_
 ||

296 
uşau£
->
	`g‘NumP»diÿ‹s
(è> 
maxNumP»diÿ‹s_
)

297 { 
d–‘e
 
uşau£
; ; }

299 
uşau£
->
	`£tAuxCÏu£D©a
(
Ãw
 
	`AuxCÏu£D©a
(0, 
İ
, 
»moveCÏu£Idx
));

300 
uşau£
->
	`ŒackCÚ¡ªts
();

301 ià(
ÃwCÏu£s
.
	`­³nd
(
uşau£
è< 0è{ 
d–‘e
 uclause; ;}

302 
uşau£
->
	`com´ess
();

305 
	}
}

308 
ü—‹Un™CÏu£sW™hDiffCombOfV¬
(cÚ¡ 
A¼ay
<
P»diÿ‹
*>& 
´eds
,

309 cÚ¡ & 
İ
,

310 cÚ¡ & 
»moveCÏu£Idx
,

311 
CÏu£OpHashA¼ay
& 
ÃwCÏu£s
)

313 
	gi
 = 0; i < 
	g´eds
.
size
(); i++)

314 
ü—‹Un™CÏu£sW™hDiffCombOfV¬
(
´eds
[
i
], 
İ
, 
»moveCÏu£Idx
,

315 
ÃwCÏu£s
);

320 
boŞ
 
	$v®idCÏu£
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
)

322 ià(
	`hasEqu®P»dW™hF»eV¬
(
c
)è 
çl£
;

323 ià(
	`hasRedundªtEqu®P»ds
(
c
)è 
çl£
;

324 ià(
c
->
	`g‘NumP»diÿ‹s
(è> 
maxNumP»diÿ‹s_
è 
çl£
;

330  
Œue
;

331 
	}
}

334 
	g´iv©e
:

337 
P»diÿ‹
* 
ü—‹P»diÿ‹
(cÚ¡ P»diÿ‹* cÚ¡ 
´ed
,

338 cÚ¡ 
A¼ay
<>& 
‹rmIds
)

340 
P»diÿ‹
* 
	gÃwP»d
 = 
Ãw
 P»diÿ‹(*
´ed
);

341 
as£¹
(
ÃwP»d
->
g‘NumT”ms
(è=ğ
‹rmIds
.
size
());

342 
	gi
 = 0; i < 
	g‹rmIds
.
size
(); i++)

343 ((
	gT”m
*è
	gÃwP»d
->
g‘T”m
(
i
))->
£tId
(
‹rmIds
[i]);

344 
	gÃwP»d
->
£tS’£
(
Œue
);

345  
	gÃwP»d
;

349 
boŞ
 
®lNewV¬s
(cÚ¡ 
A¼ay
<>& 
‹rmIds
, cÚ¡ & 
sm®Ë¡V¬Id
)

351 
	gi
 = 0; i < 
	g‹rmIds
.
size
(); i++)

352 ià(
	g‹rmIds
[
i
] >ğ
sm®Ë¡V¬Id
è 
çl£
;

353  
	gŒue
;

357 
addP»diÿ‹ToCÏu£
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

358 cÚ¡ 
CÏu£
* cÚ¡ & 
şau£
,

359 cÚ¡ & 
İ
, cÚ¡ & 
»moveCÏu£Idx
,

360 
CÏu£OpHashA¼ay
& 
ÃwCÏu£s
,

361 cÚ¡ 
A¼ay
<A¼ay<>*>* cÚ¡ & 
ty³IdToV¬Ids
,

362 cÚ¡ & 
sm®Ë¡V¬Id
,

363 cÚ¡ 
boŞ
& 
addTrueP»dOÆy
,

364 
A¼ay
<
P»diÿ‹
*>* cÚ¡ 
»tuºNewP»dOÆy
)

366 
	gA¼ay
<A¼ay<>*> 
	gÃwedA¼ays
;

368 
	gÃwV¬Id
 = 
sm®Ë¡V¬Id
;

369 
	gA¼ay
<>* 
	gštA¼
;

370 
	gA¼aysAcûssÜ
<> 
	gacc
;

371 
	gi
 = 0; i < 
	g´ed
->
g‘NumT”ms
(); i++)

373 ià(
	g´ed
->
g‘T”m
(
i
)->
g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

375 
ty³Id
 = 
´ed
->
g‘T”mTy³AsIÁ
(
i
);

376 ià(
	gty³Id
 < 
	gty³IdToV¬Ids
->
size
(è&& (*ty³IdToV¬Ids)[
ty³Id
])

377 
	gštA¼
 = 
Ãw
 
A¼ay
<>Ğ*((*
ty³IdToV¬Ids
)[
ty³Id
]) );

379 
	gštA¼
 = 
Ãw
 
A¼ay
<>;

380 
	gÃwedA¼ays
.
­³nd
(
štA¼
);

381 
	gštA¼
->
­³nd
(--
ÃwV¬Id
);

382 
	gacc
.
­³ndA¼ay
(
štA¼
);

386 
as£¹
(
´ed
->
g‘T”m
(
i
)->
g‘Ty³
(è=ğ
T”m
::
CONSTANT
);

387 
	gštA¼
 = 
Ãw
 
A¼ay
<>;

388 
	gÃwedA¼ays
.
­³nd
(
štA¼
);

389 
	gštA¼
->
­³nd
(
´ed
->
g‘T”m
(
i
)->
g‘Id
());

390 
	gacc
.
­³ndA¼ay
(
štA¼
);

394 
	gnumComb
 = 
acc
.
numCombš©iÚs
();

395 
	gcomb
 = 0;

396 
	gA¼ay
<> 
	g‹rmIds
;

397 
	gacc
.
g‘NextCombš©iÚ
(
‹rmIds
))

400 ià(
	g´ed
->
isEqu®P»d
(è&& 
	g‹rmIds
[0] <ğ
‹rmIds
[1]) ;

403 ià(++
	gcomb
==
numComb
è{
as£¹
(
®lNewV¬s
(
‹rmIds
,
sm®Ë¡V¬Id
));;}

405 
P»diÿ‹
* 
	gÃwP»d
 = 
ü—‹P»diÿ‹
(
´ed
, 
‹rmIds
);

406 ià(
	g»tuºNewP»dOÆy
è{„‘uºNewP»dOÆy->
­³nd
(
ÃwP»d
); ; }

408 
P»diÿ‹
* 
	gâewP»d
 = 
Ãw
 P»diÿ‹(*
ÃwP»d
);

411 ià(
	gşau£
->
cÚšsP»diÿ‹
(
ÃwP»d
))

412 { 
d–‘e
 
	gÃwP»d
; d–‘
	gâewP»d
; ; }

413 
CÏu£
* 
	gÃwCÏu£
 = 
Ãw
 CÏu£(*
şau£
);

414 
	gÃwCÏu£
->
­³ndP»diÿ‹
(
ÃwP»d
);

415 
	gÃwP»d
->
£tP¬’t
(
ÃwCÏu£
);

416 
	gÃwCÏu£
->
ÿnÚiÿlize
();

418 ià(
	gÃwCÏu£
->
g‘NumV¬ŸbËsAssumeCªÚiÿlized
(è> 
	gmaxNumV¬s_
 ||

419 
	gÃwCÏu£
->
g‘NumP»diÿ‹s
(è> 
	gmaxNumP»diÿ‹s_
)

420 { 
d–‘e
 
	gÃwCÏu£
; d–‘
	gâewP»d
; ; }

422 ià(!
v®idCÏu£
(
ÃwCÏu£
)è{ 
d–‘e
 
	gÃwCÏu£
;d–‘
	gâewP»d
;;}

424 
¡ršg
 
	g´evCÏu£SŒ
, 
	gaddP»dSŒ
;

425 ià(
	gdomaš_
)

427 
o¡ršg¡»am
 
	goss1
, 
	goss2
;

428 
	gşau£
->
´štW™houtWtW™hSŒV¬
(
oss1
, 
domaš_
);

429 
	g´evCÏu£SŒ
 = 
oss1
.
¡r
();

430 
	g´ed
->
´štW™hSŒV¬
(
oss2
, 
domaš_
);

431 
	gaddP»dSŒ
 = 
oss2
.
¡r
();

435 
	gÃwCÏu£
->
£tAuxCÏu£D©a
(
Ãw
 
AuxCÏu£D©a
(0, 
İ
, 
»moveCÏu£Idx
,

436 
´evCÏu£SŒ
, 
addP»dSŒ
,

438 ià(((
	gCÏu£
*)
	gşau£
)->
cÚšsCÚ¡ªts
()è
	gÃwCÏu£
->
ŒackCÚ¡ªts
();

439 ià(
	gÃwCÏu£s
.
­³nd
(
ÃwCÏu£
è< 0è{ 
d–‘e
 
	gÃwCÏu£
; }

440 { 
	gÃwCÏu£
->
com´ess
(); }

442 ià(
	gaddTrueP»dOÆy
è{ 
d–‘e
 
	gâewP»d
; ; }

445 
	gâewP»d
->
£tS’£
(
çl£
);

446 
	gÃwCÏu£
 = 
Ãw
 
CÏu£
(*
şau£
);

447 
	gÃwCÏu£
->
­³ndP»diÿ‹
(
âewP»d
);

448 
	gâewP»d
->
£tP¬’t
(
ÃwCÏu£
);

449 
	gÃwCÏu£
->
ÿnÚiÿlize
();

451 
	gÃwCÏu£
->
£tAuxCÏu£D©a
(
Ãw
 
AuxCÏu£D©a
(0, 
İ
, 
»moveCÏu£Idx
,

452 
´evCÏu£SŒ
, 
addP»dSŒ
,

454 ià(((
	gCÏu£
*)
	gşau£
)->
cÚšsCÚ¡ªts
()è
	gÃwCÏu£
->
ŒackCÚ¡ªts
();

455 ià(
	gÃwCÏu£s
.
­³nd
(
ÃwCÏu£
è< 0è{ 
d–‘e
 
	gÃwCÏu£
; }

456 { 
	gÃwCÏu£
->
com´ess
(); }

459 
	gÃwedA¼ays
.
d–‘eI‹msAndCË¬
();

463 
	g´iv©e
:

504 
boŞ
 
	$hasEqu®P»dW™hF»eV¬
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
)

506 
i
 = 0; i < 
c
->
	`g‘NumP»diÿ‹s
(); i++)

508 cÚ¡ 
P»diÿ‹
* 
p
 = 
c
->
	`g‘P»diÿ‹
(
i
);

509 ià(
p
->
	`isEqu®P»d
())

511 
j
 = 0; j < 
p
->
	`g‘NumT”ms
(); j++)

513 
tid
 = 
p
->
	`g‘T”m
(
j
)->
	`g‘Id
();

514 
boŞ
 
bound
 = 
çl£
;

515 
k
 = 0; k < 
c
->
	`g‘NumP»diÿ‹s
(); k++)

517 ià(
i
 =ğ
k
) ;

518 cÚ¡ 
P»diÿ‹
* 
µ
 = 
c
->
	`g‘P»diÿ‹
(
k
);

519 
l
 = 0;† < 
µ
->
	`g‘NumT”ms
();†++)

520 ià(
µ
->
	`g‘T”m
(
l
)->
	`g‘Id
(è=ğ
tid
è{ 
bound
 = 
Œue
; ; }

521 ià(
bound
) ;

523 ià(!
bound
è 
Œue
;

527  
çl£
;

528 
	}
}

533 
boŞ
 
	$hasRedundªtEqu®P»ds
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
)

535 
i
 = 0; i < 
c
->
	`g‘NumP»diÿ‹s
(); i++)

537 cÚ¡ 
P»diÿ‹
* 
p
 = 
c
->
	`g‘P»diÿ‹
(
i
);

538 ià(
p
->
	`isEqu®P»d
())

540 
j
 = 
i
+1; j < 
c
->
	`g‘NumP»diÿ‹s
(); j++)

542 cÚ¡ 
P»diÿ‹
* 
µ
 = 
c
->
	`g‘P»diÿ‹
(
j
);

543 ià(
p
->
	`g‘Id
(è=ğ
µ
->getId() &&

544 
p
->
	`g‘T”m
(0)->
	`g‘Id
(è=ğ
µ
->getTerm(1)->getId() &&

545 
p
->
	`g‘T”m
(1)->
	`g‘Id
(è=ğ
µ
->g‘T”m(0)->g‘Id()è 
Œue
;

549  
çl£
;

550 
	}
}

560 
boŞ
 
	$hasSameP»dW™hF»eV¬SameV¬WrÚgOrd”V¬
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
)

562 
i
 = 0; i < 
c
->
	`g‘NumP»diÿ‹s
(); i++)

564 cÚ¡ 
P»diÿ‹
* 
p
 = 
c
->
	`g‘P»diÿ‹
(
i
);

565 cÚ¡ * 
´edName
 = 
domaš_
->
	`g‘P»diÿ‹Name
(
p
->
	`g‘Id
());

566 ià(
	`¡ºcmp
(
´edName
, "same", 4) == 0)

568 ià(
p
->
	`g‘T”m
(0)->
	`g‘Id
(è>ğp->g‘T”m(1)->g‘Id()è 
Œue
;

570 
j
 = 0; j < 
p
->
	`g‘NumT”ms
(); j++)

572 
tid
 = 
p
->
	`g‘T”m
(
j
)->
	`g‘Id
();

573 
boŞ
 
bound
 = 
çl£
;

574 
k
 = 0; k < 
c
->
	`g‘NumP»diÿ‹s
(); k++)

576 ià(
i
 =ğ
k
) ;

577 cÚ¡ 
P»diÿ‹
* 
µ
 = 
c
->
	`g‘P»diÿ‹
(
k
);

578 
l
 = 0;† < 
µ
->
	`g‘NumT”ms
();†++)

579 ià(
µ
->
	`g‘T”m
(
l
)->
	`g‘Id
(è=ğ
tid
è{ 
bound
 = 
Œue
; ; }

580 ià(
bound
) ;

582 ià(!
bound
è 
Œue
;

586  
çl£
;

587 
	}
}

594 
boŞ
 
	$hasRedundªtSameP»ds
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
)

596 
i
 = 0; i < 
c
->
	`g‘NumP»diÿ‹s
(); i++)

598 cÚ¡ 
P»diÿ‹
* 
p
 = 
c
->
	`g‘P»diÿ‹
(
i
);

599 ià(
p
->
	`isEqu®P»d
())

601 
j
 = 
i
+1; j < 
c
->
	`g‘NumP»diÿ‹s
(); j++)

603 cÚ¡ 
P»diÿ‹
* 
µ
 = 
c
->
	`g‘P»diÿ‹
(
j
);

604 ià(
p
->
	`g‘Id
(è=ğ
µ
->getId())

606 ià(
p
->
	`g‘T”m
(0)->
	`g‘Id
(è=ğ
µ
->getTerm(1)->getId() &&

607 
p
->
	`g‘T”m
(1)->
	`g‘Id
(è=ğ
µ
->g‘T”m(0)->g‘Id()è 
Œue
;

611 cÚ¡ * 
´edName
 = 
domaš_
->
	`g‘P»diÿ‹Name
(
µ
->
	`g‘Id
());

612 ià(
	`¡ºcmp
(
´edName
, "same", 4) == 0)

614 iàĞ(
p
->
	`g‘T”m
(0)->
	`g‘Id
(è=ğ
µ
->getTerm(0)->getId() &&

615 
p
->
	`g‘T”m
(1)->
	`g‘Id
(è=ğ
µ
->getTerm(1)->getId()) ||

616 (
p
->
	`g‘T”m
(0)->
	`g‘Id
(è=ğ
µ
->getTerm(1)->getId() &&

617 
p
->
	`g‘T”m
(1)->
	`g‘Id
(è=ğ
µ
->getTerm(0)->getId()) )

618  
Œue
;

625 cÚ¡ * 
´edName
 = 
domaš_
->
	`g‘P»diÿ‹Name
(
p
->
	`g‘Id
());

626 ià(
	`¡ºcmp
(
´edName
, "same", 4) == 0)

628 
j
 = 
i
+1; j < 
c
->
	`g‘NumP»diÿ‹s
(); j++)

630 cÚ¡ 
P»diÿ‹
* 
µ
 = 
c
->
	`g‘P»diÿ‹
(
j
);

631 ià(
p
->
	`g‘Id
(è=ğ
µ
->getId())

633 ià(
p
->
	`g‘T”m
(0)->
	`g‘Id
(è=ğ
µ
->getTerm(1)->getId() &&

634 
p
->
	`g‘T”m
(1)->
	`g‘Id
(è=ğ
µ
->g‘T”m(0)->g‘Id()) 
Œue
;

637 ià(
µ
->
	`isEqu®P»d
())

639 iàĞ(
p
->
	`g‘T”m
(0)->
	`g‘Id
(è=ğ
µ
->getTerm(0)->getId() &&

640 
p
->
	`g‘T”m
(1)->
	`g‘Id
(è=ğ
µ
->getTerm(1)->getId()) ||

641 (
p
->
	`g‘T”m
(0)->
	`g‘Id
(è=ğ
µ
->getTerm(1)->getId() &&

642 
p
->
	`g‘T”m
(1)->
	`g‘Id
(è=ğ
µ
->getTerm(0)->getId()) )

643  
Œue
;

649  
çl£
;

650 
	}
}

653 
	g´iv©e
:

654 
maxNumV¬s_
;

655 
	gmaxNumP»diÿ‹s_
;

656 cÚ¡ 
Domaš
* 
	gdomaš_
;

	@logic/clausehelper.h

66 #iâdeà
CLAUSEHELPER_H_JUN_26_2005


67 
	#CLAUSEHELPER_H_JUN_26_2005


	)

69 
	sV¬sGroundedTy³


71 
V¬sGroundedTy³
(è: 
isGrounded
(
çl£
), 
ty³Id
(-1), 
numGndšgs
(-1) {}

72 
V¬sGroundedTy³
(cÚ¡ V¬sGroundedTy³& 
vgt
)

74 
	mv¬s
.
cİyFrom
(
vgt
.
v¬s
);

75 
	misGrounded
 = 
vgt
.
isGrounded
;

76 
	mty³Id
 = 
vgt
.
ty³Id
;

77 
	mnumGndšgs
 = 
vgt
.
numGndšgs
;

80 
	mA¼ay
<
	mT”m
*> 
	mv¬s
;

81 
boŞ
 
	misGrounded
;

82 
	mty³Id
;

83 
	mnumGndšgs
;

87 
	sL™IdxV¬IdsGndšgs


89 
	ml™Idx
;

90 
	mA¼ay
<> 
	mv¬Ids
;

91 
	mA¼aysAcûssÜ
<> 
	mv¬Gndšgs
;

92 
	mA¼ay
<
	mP»diÿ‹
*> 
	msub£qGndL™s
;

93 
boŞ
 
	ml™Un£’
;

94 
	mA¼ay
<
	mP»diÿ‹
*> 
	mbªÃdP»ds
;

98 
	ghash_£t
<
	t¡ršg
, 
	tHashSŒšg
, 
	tEqu®SŒšg
> 
	tFÜmuÏSŒšgS‘
;

101 
	sCacheCouÁ


103 
CacheCouÁ
(cÚ¡ & 
gg
, cÚ¡ & 
cc
, cÚ¡ & 
cút
) :

104 
g
(
gg
), 
c
(
cc
), 
út
(
cút
) {}

105 ~
CacheCouÁ
() {}

106 
	mg
;

107 
	mc
;

108 
	mút
;

113 ’um { 
	mOP_NONE
 = 0, 
	mOP_ADD
 = 1, 
	mOP_REMOVE
 = 2, 
	mOP_REPLACE
 = 3,

114 
	mOP_REPLACE_ADDPRED
 = 4, 
	mOP_REPLACE_REMPRED
 = 5 };

119 
	sAuxCÏu£D©a


121 
AuxCÏu£D©a
(è: 
gaš
(0), 
cÚ¡T”mPŒs
(
NULL
), 
İ
(
OP_NONE
),

122 
»movedCÏu£Idx
(-1), 
ÿche
(
NULL
), 
»movedP»dIdx
(-1),

123 
hasB“nEx·nded
(
çl£
), 
Ï¡S‹pEx·nded
(-1),

124 
Ï¡S‹pOv”MšWeight
(-1) {}

126 
AuxCÏu£D©a
(cÚ¡ & 
ggaš
, cÚ¡ & 
oİ
,

127 cÚ¡ & 
¼emovedCÏu£Idx
)

128 : 
gaš
(
ggaš
), 
cÚ¡T”mPŒs
(
NULL
), 
İ
(
oİ
),

129 
»movedCÏu£Idx
(
¼emovedCÏu£Idx
), 
ÿche
(
NULL
), 
»movedP»dIdx
(-1),

130 
hasB“nEx·nded
(
çl£
), 
Ï¡S‹pEx·nded
(-1),

131 
Ï¡S‹pOv”MšWeight
(-1) {}

133 
AuxCÏu£D©a
(cÚ¡ & 
ggaš
, cÚ¡ & 
oİ
,

134 cÚ¡ & 
¼emovedCÏu£Idx
,

135 cÚ¡ 
boŞ
& 
hhasB“nEx·nded
,

136 cÚ¡ & 
Îa¡S‹pEx·nded
,

137 cÚ¡ & 
Îa¡S‹pOv”MšWeight
)

138 : 
gaš
(
ggaš
), 
cÚ¡T”mPŒs
(
NULL
), 
İ
(
oİ
),

139 
»movedCÏu£Idx
(
¼emovedCÏu£Idx
), 
ÿche
(
NULL
), 
»movedP»dIdx
(-1),

140 
hasB“nEx·nded
(
hhasB“nEx·nded
), 
Ï¡S‹pEx·nded
(
Îa¡S‹pEx·nded
),

141 
Ï¡S‹pOv”MšWeight
(
Îa¡S‹pOv”MšWeight
) {}

143 
AuxCÏu£D©a
(cÚ¡ & 
ggaš
, cÚ¡ & 
oİ
,

144 cÚ¡ & 
¼emovedCÏu£Idx
, cÚ¡ 
¡ršg
& 
´evCÏu£
,

145 cÚ¡ 
¡ršg
& 
addedP»d
, cÚ¡ & 
»mP»dIdx
)

146 : 
gaš
(
ggaš
), 
cÚ¡T”mPŒs
(
NULL
), 
İ
(
oİ
),

147 
»movedCÏu£Idx
(
¼emovedCÏu£Idx
), 
ÿche
(
NULL
),

148 
´evCÏu£SŒ
(
´evCÏu£
), 
addedP»dSŒ
(
addedP»d
),

149 
»movedP»dIdx
(
»mP»dIdx
),

150 
hasB“nEx·nded
(
çl£
), 
Ï¡S‹pEx·nded
(-1),

151 
Ï¡S‹pOv”MšWeight
(-1) {}

153 ~
AuxCÏu£D©a
()

155 ià(
	mcÚ¡T”mPŒs
è
d–‘e
 constTermPtrs;

156 ià(
	mÿche
è
d–‘eCache
();

160 
d–‘eCache
()

162 ià(
	mÿche
)

164 
	mi
 = 0; i < 
	mÿche
->
size
(); i++)

166 
	mA¼ay
<A¼ay<
	mCacheCouÁ
*>*>* 
	m¯cc
 = (*
ÿche
)[
i
];

167 
	mj
 = 0; j < 
	m¯cc
->
size
(); j++)

169 
	mA¼ay
<
	mCacheCouÁ
*>* 
	mccA¼
 = (*
¯cc
)[
j
];

170 ià(
	mccA¼
 =ğ
NULL
) ;

171 
	mccA¼
->
d–‘eI‹msAndCË¬
();

173 
	m¯cc
->
d–‘eI‹msAndCË¬
();

175 
	mÿche
->
d–‘eI‹msAndCË¬
();

176 
d–‘e
 
	mÿche
;

177 
	mÿche
 = 
NULL
;

182 
com´ess
()

184 ià(
	mcÚ¡T”mPŒs
ècÚ¡T”mPŒs->
com´ess
();

185 ià(
	mÿche
)

187 
	mi
 = 0; i < 
	mÿche
->
size
(); i++)

189 
	mA¼ay
<A¼ay<
	mCacheCouÁ
*>*>* 
	m¯cc
 = (*
ÿche
)[
i
];

190 
	mj
 = 0; j < 
	m¯cc
->
size
(); j++)

192 
	mA¼ay
<
	mCacheCouÁ
*>* 
	mccA¼
 = (*
¯cc
)[
j
];

193 ià(
	mccA¼
 =ğ
NULL
) ;

194 
	mccA¼
->
com´ess
();

196 
	m¯cc
->
com´ess
();

198 
	mÿche
->
com´ess
();

204 
sizeMB
() const

206 
	msz
 = 
fixedSizeB_
;

207 ià(
	mÿche
)

209 
	mi
 = 0; i < 
	mÿche
->
size
(); i++)

210 
	mj
 = 0; j < (*
	mÿche
)[
i
]->
size
(); j++)

212 if((*(*
	mÿche
)[
i
])[
j
] =ğ
NULL
) ;

213 
	msz
 +ğ(*(*
ÿche
)[
i
])[
j
]->
size
(è* ((
CacheCouÁ
) +

214 (
CacheCouÁ
*));

217 ià(
	mcÚ¡T”mPŒs
è
	msz
 +ğ
cÚ¡T”mPŒs
->
size
(è* (
T”m
*);

218  
	msz
/1000000.0;

222 
compu‹FixedSizeB
(è{ 
	mfixedSizeB_
 = (
AuxCÏu£D©a
); }

225 
»£t
()

227 
	mgaš
 = 0;

228 ià(
	mcÚ¡T”mPŒs
ècÚ¡T”mPŒs->
ş—r
();

229 
	mİ
 = 
OP_NONE
;

230 
	m»movedCÏu£Idx
 = -1;

231 
d–‘eCache
(); 
	mÿche
 = 
NULL
;

232 
	m´evCÏu£SŒ
 = "";

233 
	maddedP»dSŒ
 = "";

234 
	m»movedP»dIdx
 = -1;

237 
	mgaš
;

238 
	mA¼ay
<
	mT”m
*>* 
	mcÚ¡T”mPŒs
;

239 
	mİ
;

240 
	m»movedCÏu£Idx
;

243 
	mA¼ay
<A¼ay<A¼ay<
	mCacheCouÁ
*>*>*>* 
	mÿche
;

245 
¡ršg
 
	m´evCÏu£SŒ
;

246 
¡ršg
 
	maddedP»dSŒ
;

247 
	m»movedP»dIdx
;

250 
boŞ
 
	mhasB“nEx·nded
;

251 
	mÏ¡S‹pEx·nded
;

252 
	mÏ¡S‹pOv”MšWeight
;

254 
	mfixedSizeB_
;

	@logic/clausesampler.cpp

66 
	~"şau£§m¶”.h
"

67 
	~"şau£.h
"

70 
	gCÏu£Sam¶”
::
	$e¡im©eNumTrueGroundšgs
(
CÏu£
* cÚ¡& 
şau£
,

71 cÚ¡ 
P»diÿ‹
*cÚ¡& 
æ³dGndP»d
,

72 cÚ¡ 
Domaš
* cÚ¡& 
domaš
,

73 
numSam¶es
)

75 
A¼ay
<
V¬sGroundedTy³
*>* 
vgtA¼
 = 
Ãw
 Array<VarsGroundedType*>;

76 
şau£
->
	`ü—‹V¬IdToV¬sGroundedTy³
(
domaš
, 
vgtA¼
);

78 
D©aba£
* 
db
 = 
domaš
->
	`g‘DB
();

79 
TrueF®£GroundšgsStÜe
* 
tfGndšgsStÜe


80 ğ
domaš
->
	`g‘TrueF®£GroundšgsStÜe
();

82 
numP»ds
 = 
şau£
->
	`g‘NumP»diÿ‹s
();

83 
	`as£¹
(
numP»ds
 > 1);

84 ià(
numSam¶es
 <ğ0ènumSam¶e ğ
	`compu‹NumSam¶es
(
numP»ds
);

87 
A¼ay
<> 
	`cÜrProbLim™
(
numP»ds
);

88 
sumTrueGnds
;

89 
A¼ay
<> 
numTrueGndsP”Pos
;

90 
	`g‘ProbInfo
(
şau£
, 
domaš
->
	`g‘DB
(), 
æ³dGndP»d
, 
vgtA¼
, 
tfGndšgsStÜe
,

91 
cÜrProbLim™
, 
sumTrueGnds
, 
numTrueGndsP”Pos
);

93 
e¡X
 = 0, 
x
 = 0, 
x2
 = 0, 
tmp
, 
ave
, 
¡ddev
, 
§mpN“ded
;

94 
i
, 
numj
;

95 
A¼ay
<>* 
§mp
;

96 
A¼ay
<A¼ay<>*> 
§m¶es
;

97 
A¼ay
<> 
§m¶eWt
;

99 
s
 = 0;

100 ià(
sumTrueGnds
 > 0)

102 ; 
s
 < 
numSam¶es
; s++)

104 
i
 = 
	`choo£P»dPos
(
cÜrProbLim™
);

105 ià(
i
 < 0) ;

106 
§mp
 = 
	`choo£Sam¶e
(
şau£
, 
vgtA¼
, 
domaš
, 
i
, 
æ³dGndP»d
);

107 
numj
 = 
	`‹¡Sam¶eMemb”sh
(
şau£
, 
vgtA¼
, 
db
, *
§mp
, 
sumTrueGnds
);

109 
	`as£¹
(
numj
 > 0);

110 
tmp
 = 
sumTrueGnds
 / ()
numj
;

111 
e¡X
 +ğ
tmp
;

112 
x
 +ğ
tmp
;

113 
x2
 +ğ
tmp
*tmp;

114 
d–‘e
 
§mp
;

116 ià(
s
 > 0 && s % 
NUM_SAMPLES_TEST_CONV
 == 0)

118 
ave
 = 
x
/(
s
+1);

119 
¡ddev
 = 
	`sq¹
(
x2
/(
s
+1è- 
ave
*ave);

120 
§mpN“ded
 = 
	`g‘NumSam¶esN“ded
(
¡ddev
, 1.0-
d–_
, 
•sÚ_
*
ave
);

121 ià(
s
+1 > 
§mpN“ded
) { s++; ; }

122 
x
 = 0;

123 
x2
 = 0;

128 
şau£
->
	`d–‘eV¬IdToV¬sGroundedTy³
(
vgtA¼
);

130 ià(
sumTrueGnds
 == 0)  0;

131  
e¡X
/
s
;

132 
	}
}

136 
	gCÏu£Sam¶”
::
g‘NumGroundšgW™hEachP»dGrounded
(cÚ¡ 
CÏu£
* cÚ¡ & 
şau£
,

137 
A¼ay
<>& 
gndšgsW™hP»dGnded
,

138 cÚ¡ 
A¼ay
<
V¬sGroundedTy³
*>& 
vgtA¼
)

140 
	gtÙ®NumGndšgs
 = 1;

141 
	gi
 = 1; i < 
	gvgtA¼
.
size
(); i++)

143 ià(
	gvgtA¼
[
i
] =ğ
NULL
) ;

144 
	gtÙ®NumGndšgs
 *ğ
vgtA¼
[
i
]->
numGndšgs
;

148 
	gA¼ay
<
	gboŞ
> 
	gv¬S“n
; v¬S“n.
growToSize
(
vgtA¼
.
size
(),
çl£
);

149 
	gi
 = 0; i < 
	gşau£
->
g‘NumP»diÿ‹s
(); i++)

151 
	gnumGndšgs
 = 1;

152 
mem£t
((*)
v¬S“n
.
g‘I‹ms
(), 
çl£
, v¬S“n.
size
()*(
boŞ
));

153 
P»diÿ‹
* 
	g´ed
 = 
şau£
->
g‘P»diÿ‹
(
i
);

154 
	gj
 = 0; j < 
	g´ed
->
g‘NumT”ms
(); j++)

156 cÚ¡ 
T”m
* 
	gt
 = 
´ed
->
g‘T”m
(
j
);

157 
	gv¬Id
 = -(
t
->
g‘Id
());

158 ià(
	gv¬Id
 > 0)

160 ià(!
	gv¬S“n
[
v¬Id
])

162 
	gv¬S“n
[
v¬Id
] = 
Œue
;

163 
	gnumGndšgs
 *ğ
vgtA¼
[
v¬Id
]->
numGndšgs
;

167 
	ggndšgsW™hP»dGnded
.
­³nd
(
tÙ®NumGndšgs
/
numGndšgs
);

172 
	gCÏu£Sam¶”
::
g‘ProbInfo
(cÚ¡ 
CÏu£
* cÚ¡ & 
şau£
,

173 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

174 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
æ³dGndP»d
,

175 cÚ¡ 
A¼ay
<
V¬sGroundedTy³
*>* cÚ¡ & 
vgtA¼
,

176 
TrueF®£GroundšgsStÜe
* cÚ¡& 
tfGndšgsStÜe
,

177 
A¼ay
<>& 
cÜrProbLim™
,& 
sumTrueGnds
,

178 
A¼ay
<>& 
numTrueGndsP”Pos
)

180 
P»diÿ‹
* 
	g´ed
;

181 
	gnumGndšgs
;

182 
	gsi
;

183 
	gsumTrueGnds
 = 0;

184 
	gA¼ay
<> 
	ggndšgsW™hP»dGnded
;

185 
g‘NumGroundšgW™hEachP»dGrounded
(
şau£
, 
gndšgsW™hP»dGnded
, *
vgtA¼
);

187 
	gi
 = 0; i < 
	gşau£
->
g‘NumP»diÿ‹s
(); i++)

189 
	g´ed
 = (
P»diÿ‹
*è
şau£
->
g‘P»diÿ‹
(
i
);

190 
	gnumGndšgs
 = 
tfGndšgsStÜe
->
g‘NumTrueL™”®Groundšgs
(
´ed
,

191 
æ³dGndP»d
);

192 
	gsi
 = 
numGndšgs
 * 
gndšgsW™hP»dGnded
[
i
];

193 
	gnumTrueGndsP”Pos
.
­³nd
(
si
);

194 
	gsumTrueGnds
 +ğ
si
;

197 
	gp
 = 0;

198 
	gi
 = 0; i < 
	gşau£
->
g‘NumP»diÿ‹s
(); i++)

200 ià(
	gsumTrueGnds
 > 0)

202 
	gp
 +ğ
numTrueGndsP”Pos
[
i
]/
sumTrueGnds
;

203 
	gcÜrProbLim™
.
­³nd
(
p
);

206 
	gcÜrProbLim™
.
­³nd
(0.0);

211 
	gA¼ay
<>* 
	gCÏu£Sam¶”
::
choo£Sam¶e
(cÚ¡ 
CÏu£
* cÚ¡ & 
şau£
,

212 cÚ¡ 
A¼ay
<
V¬sGroundedTy³
*>* cÚ¡ & 
vgtA¼
,

213 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

214 cÚ¡ & 
´edPos
,

215 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
æ³dGndP»d
)

217 cÚ¡ 
P»diÿ‹
* 
	g´ed
 = 
şau£
->
g‘P»diÿ‹
(
´edPos
);

218 
TrueF®£GroundšgsStÜe
* 
	gtfGndšgsStÜe


219 ğ
domaš
->
g‘TrueF®£GroundšgsStÜe
();

220 
P»diÿ‹
* 
	g¹S’£P»d


221 ğ
tfGndšgsStÜe
->
g‘RªdomTrueL™”®Groundšg
(
´ed
, 
æ³dGndP»d
);

223 ià(!
	g¹S’£P»d
)

225 
	gcout
 << "ERROR: in ClauseSampler::chooseSample,‚o grounding found for ";

226 
	g´ed
->
´štAsIÁ
(
cout
); 
	gcout
 << 
	g’dl
;

227 
ex™
(-1);

231 
	gA¼ay
<>* 
	g§mp
 = 
Ãw
 
A¼ay
<>;

232 
	g§mp
->
growToSize
(
vgtA¼
->
size
(), -1);

235 
	gi
 = 0; i < 
	g´ed
->
g‘NumT”ms
(); i++)

237 
	gcÚ¡Id
 = 
¹S’£P»d
->
g‘T”m
(
i
)->
g‘Id
(); 
as£¹
(
cÚ¡Id
 >= 0);

238 
	gv¬Id
 = 
´ed
->
g‘T”m
(
i
)->
g‘Id
();

239 ià(
	gv¬Id
 < 0è(*
	g§mp
)[-
v¬Id
] = 
cÚ¡Id
;

240 
as£¹
(
cÚ¡Id
 =ğ
v¬Id
);

243 
	gi
 = 1; i < 
	gvgtA¼
->
size
(); i++)

246 ià((*
	gvgtA¼
)[
i
] =ğ
NULL
 || (*
§mp
)[i] >= 0) ;

247 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡ªts


248 ğ
domaš
->
g‘CÚ¡ªtsByTy³
((*
vgtA¼
)[
i
]->
ty³Id
);

249 
as£¹
(
cÚ¡ªts
->
size
() > 0);

250 
	gidx
 = 
¿ndom_
.
¿ndomOÃOf
(
cÚ¡ªts
->
size
());

251 (*
	g§mp
)[
i
] = (*
cÚ¡ªts
)[
idx
];

255 
d–‘e
 
	g¹S’£P»d
;

256  
	g§mp
;

260 
	gCÏu£Sam¶”
::
groundCÏu£
(cÚ¡ 
A¼ay
<
V¬sGroundedTy³
*>& 
vgtA¼
,

261 cÚ¡ 
A¼ay
<>& 
§mp
)

263 
as£¹
(
§mp
.
size
(è=ğ
vgtA¼
.size());

264 
	gi
 = 1; i < 
	gvgtA¼
.
size
(); i++)

266 ià(
	gvgtA¼
[
i
] =ğ
NULL
) ;

267 
	gA¼ay
<
	gT”m
*>& 
	gv¬s
 = 
vgtA¼
[
i
]->
v¬s
;

268 
	gj
 = 0 ; j < 
	gv¬s
.
size
(); j++èv¬s[
j
]->
£tId
(
§mp
[
i
]);

273 
	gCÏu£Sam¶”
::
‹¡Sam¶eMemb”sh
(
CÏu£
* cÚ¡ & 
şau£
,

274 
A¼ay
<
V¬sGroundedTy³
*>* cÚ¡& 
vgtA¼
,

275 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

276 cÚ¡ 
A¼ay
<>& 
§mp
,

277 cÚ¡ & 
sumTrueGnds
)

279 
groundCÏu£
(*
vgtA¼
, 
§mp
);

280 
	gnumj
 = 0;

281 
	gi
 = 0; i < 
	gşau£
->
g‘NumP»diÿ‹s
(); i++)

283 
TruthV®ue
 
	gtv
 = 
db
->
g‘V®ue
(
şau£
->
g‘P»diÿ‹
(
i
));

284 
boŞ
 
	g£n£
 = 
şau£
->
g‘P»diÿ‹
(
i
)->
g‘S’£
();

285 ià(
	gD©aba£
::
§meTruthV®ueAndS’£
(
tv
,
£n£
)è
	gnumj
++;

287 
	gşau£
->
»¡ÜeV¬s
(
vgtA¼
);

288  
	gnumj
;

	@logic/clausesampler.h

66 #iâdeà
CLAUSESAMPLER_H_NOV_16_2005


67 
	#CLAUSESAMPLER_H_NOV_16_2005


	)

69 
	~<cm©h
>

70 
	~"d©aba£.h
"

71 
	~"Œueçl£groundšgs¡Üe.h
"

74 #iâdeà
ex¶


75 
	#ex¶
 
exp


	)

76 
	#logl
 
log


	)

80 cÚ¡ 
	gNUM_SAMPLES_TEST_CONV
 = 200;

82 
şass
 
	gCÏu£
;

83 
şass
 
	gV¬sGroundedTy³
;

86 şas 
	cCÏu£Sam¶”


88 
	mpublic
:

89 
	$CÏu£Sam¶”
(cÚ¡ & 
d–
, cÚ¡ & 
•sÚ
,

90 cÚ¡ & 
mšSam¶es
, cÚ¡ & 
maxSam¶es
)

91 : 
	`d–_
(
d–
), 
	`•sÚ_
(
•sÚ
), 
	`mšSam¶es_
(
mšSam¶es
),

92 
	$maxSam¶es_
(
maxSam¶es
è{ 
¿ndom_
.
	`š™
(-1); }

94 ~
	$CÏu£Sam¶”
(è{
	}
}

96 
	$£tEpsÚ
(cÚ¡ & 
•sÚ
è{ 
•sÚ_
 =ƒpsÚ; 
	}
}

97 
	$g‘EpsÚ
(ècÚ¡ {  
•sÚ_
; 
	}
}

99 
	$£tD–
(cÚ¡ & 
d–
è{ 
d–_
 = d–; 
	}
}

100 
	$g‘D–
(ècÚ¡ {  
d–_
; 
	}
}

102 
	$£tMšSam¶es
(cÚ¡ & 
mš
è{ 
mšSam¶es_
 = mš; 
	}
}

103 
	$g‘MšSam¶es
(ècÚ¡ {  
mšSam¶es_
; 
	}
}

105 
	$£tMaxSam¶es
(cÚ¡ & 
max
è{ 
maxSam¶es_
 = max; 
	}
}

106 
	$g‘MaxSam¶es
(ècÚ¡ {  
maxSam¶es_
; 
	}
}

109 
	$compu‹NumSam¶es
(cÚ¡ & 
numP»ds
) const

111 
	`as£¹
(
numP»ds
 > 1);

112 
n
 = 9/2.0 * (
numP»ds
-1è* 1/(
•sÚ_
*•sÚ_è* 
	`logl
(2.0/
d–_
);

113 ià(
mšSam¶es_
 >ğ0 && 
n
 < minSamples_)‚ = minSamples_;

114 ià(
maxSam¶es_
 >ğ0 && 
n
 > maxSamples_)‚ = maxSamples_;

115  
n
;

116 
	}
}

119 
e¡im©eNumTrueGroundšgs
(
CÏu£
* cÚ¡& 
şau£
,

120 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
æ³dGndP»d
,

121 cÚ¡ 
Domaš
* cÚ¡& 
domaš
,

122 
numSam¶es
=-1);

124 
	g´iv©e
:

125 
g‘NumGroundšgW™hEachP»dGrounded
(cÚ¡ 
CÏu£
* cÚ¡ & 
şau£
,

126 
A¼ay
<>& 
gndšgsW™hP»dGnded
,

127 cÚ¡ 
A¼ay
<
V¬sGroundedTy³
*>& 
vgtA¼
);

129 
g‘ProbInfo
(cÚ¡ 
CÏu£
* cÚ¡ & 
şau£
, cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

130 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
æ³dGndP»d
,

131 cÚ¡ 
A¼ay
<
V¬sGroundedTy³
*>* cÚ¡ & 
vgtA¼
,

132 
TrueF®£GroundšgsStÜe
* cÚ¡ & 
tfGndšgsStÜe
,

133 
A¼ay
<>& 
cÜrProbLim™
, & 
sumTrueGnds
,

134 
A¼ay
<>& 
numTrueGndsP”Pos
);

137 
choo£P»dPos
(cÚ¡ 
A¼ay
<>& 
cÜrProbLim™
)

139 
	gr
 = 
¿ndom_
.
¿ndom
();

140 
	g´edPos
 = 0;…»dPo < 
	gcÜrProbLim™
.
size
();…redPos++)

141 ià(
	gr
 < 
	gcÜrProbLim™
[
´edPos
]è 
	g´edPos
;

146 
	gA¼ay
<>* 
choo£Sam¶e
(cÚ¡ 
CÏu£
* cÚ¡ & 
şau£
,

147 cÚ¡ 
A¼ay
<
V¬sGroundedTy³
*>* cÚ¡ & 
vgtA¼
,

148 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
, cÚ¡ & 
´edPos
,

149 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
æ³dGndP»d
);

152 
groundCÏu£
(cÚ¡ 
A¼ay
<
V¬sGroundedTy³
*>& 
vgtA¼
,

153 cÚ¡ 
A¼ay
<>& 
§mp
);

156 
‹¡Sam¶eMemb”sh
(
CÏu£
* cÚ¡ & 
şau£
,

157 
A¼ay
<
V¬sGroundedTy³
*>* cÚ¡ & 
vgtA¼
,

158 cÚ¡ 
D©aba£
* cÚ¡ & 
db
,

159 cÚ¡ 
A¼ay
<>& 
§mp
,

160 cÚ¡ & 
sumTrueGnds
);

163 
	$g‘NumSam¶esN“ded
(cÚ¡ & 
sigma
, cÚ¡ & 
gamma
,

164 cÚ¡ & 
•sÚ
)

166 
p
 = (
gamma
+1)/2.0;

169 
a
[] = {-3.969683028665376e+01, 2.209460984245205e+02,

172 
b
[] = {-5.447609879822406e+01, 1.615858368580409e+02,

176 
c
[] = {-7.784894002430293e-03, -3.223964580411365e-01,

180 
d
[] = {7.784695709041462e-03, 3.224671290700398e-01,

184 
¶ow
 = 0.02425;

185 
phigh
 = 1 - 
¶ow
;

186 
švNÜm
;

188 ià(
p
 < 
¶ow
)

190 
q
 = 
	`sq¹
(-2*
	`log
(
p
));

191 
švNÜm
 = (((((
c
[0]*
q
+c[1])*q+c[2])*q+c[3])*q+c[4])*q+c[5]) /

192 ((((
d
[0]*
q
+d[1])*q+d[2])*q+d[3])*q+1);

195 ià(
phigh
 < 
p
)

197 
q
 = 
	`sq¹
(-2*
	`log
(1-
p
));

198 
švNÜm
 = -(((((
c
[0]*
q
+c[1])*q+c[2])*q+c[3])*q+c[4])*q+c[5]) /

199 ((((
d
[0]*
q
+d[1])*q+d[2])*q+d[3])*q+1);

203 
q
 = 
p
 - 0.5;

204 
r
 = 
q
*q;

205 
švNÜm
 = (((((
a
[0]*
r
+a[1])*r+a[2])*r+a[3])*r+a[4])*r+a[5])*
q
 /

206 (((((
b
[0]*
r
+b[1])*r+b[2])*r+b[3])*r+b[4])*r+1);

209 
v®
 = 
švNÜm
 * 
sigma
 / 
•sÚ
;

210  
v®
*val;

211 
	}
}

215 
	g´iv©e
:

216 
d–_
;

217 
	g•sÚ_
;

219 
	gmšSam¶es_
;

220 
	gmaxSam¶es_
;

222 
Rªdom
 
	g¿ndom_
;

	@logic/database.h

67 #iâdeà
DATABASE_H_JUN_28_2005


68 
	#DATABASE_H_JUN_28_2005


	)

70 
	~<£t
>

71 
	~"hash.h
"

72 
	~"ground´eds.h
"

73 
	~"domaš.h
"

74 
	~"¬¿y§cûssÜ.h
"

75 
	~"ground´ediÿ‹.h
"

79 
	g·œ
<, > 
	tMuÉAndTy³
;

81 cÚ¡ 
	gdbdebug
 = 0;

85 
	eIndexTy³
 { 
	mT_INDEX
 = 0, 
	mF_INDEX
 = 1, 
	mA_INDEX
 = 2, 
	mINDEX_TYPE_COUNT
 = 3 };

87 
	sNumTrueF®£


89 
NumTrueF®£
(): 
numTrue
(0), 
numF®£
(0) {}

90 
	mnumTrue
;

91 
	mnumF®£
;

96 şas 
	cHashLÚgLÚg


98 
	mpublic
:

99 
size_t
 
	$İ”©Ü
()(cÚ¡ 
ld
) const

101  (
size_t
)
ld
;

103 
	}
};

106 şas 
	cEqu®LÚgLÚg


108 
	mpublic
:

109 
boŞ
 
	$İ”©Ü
()(cÚ¡ 
ld1
, cÚ¡ 
ld2
)

111 {  
ld1
 =ğ
ld2
; }

112 
	}
};

116 
	ghash_£t
<, 
	tHashLÚgLÚg
, 
	tEqu®LÚgLÚg
>

117 
	tLÚgLÚgHashS‘
;

119 
	ghash_m­
<
	t·œ
<, >, 
	t£t
<>,

120 
	tIÁPaœHash
>

121 
	tLÚgLÚgHashM­
;

123 
	ghash_m­
<, , 
	tHashLÚgLÚg
, 
	tEqu®LÚgLÚg
>

124 
	tLÚgLÚgToDoubËM­
;

126 şas 
	cD©aba£


128 
	mpublic
:

131 
D©aba£
(
Domaš
* cÚ¡ & 
d
, cÚ¡ 
A¼ay
<
boŞ
>& 
şo£dWÜld
,

132 cÚ¡ 
boŞ
 &
¡ÜeGndP»ds
è: 
	$domaš_
(
d
)

134 
ÏzyFÏg_
 = 
çl£
;

135 
³rfÜmšgInã»nû_
 = 
çl£
;

136 
	`as£¹
(
şo£dWÜld
.
	`size
(è=ğ
domaš_
->
	`g‘NumP»diÿ‹s
());

137 
numFOP»ds
 = 
domaš_
->
	`g‘NumP»diÿ‹s
();

139 
numTy³s
 = 
domaš_
->
	`g‘NumTy³s
();

140 
fœ¡CÚ¡IdByTy³_
.
	`growToSize
(
numTy³s
);

141 
i
 = 0; i < 
numTy³s
; i++)

143 
	`as£¹
(
domaš_
->
	`isTy³
(
i
));

144 cÚ¡ 
A¼ay
<>* 
cÚ¡Ids
 = 
domaš_
->
	`g‘CÚ¡ªtsByTy³W™hExt
(
i
);

145 ià(
cÚ¡Ids
->
	`em±y
()è
fœ¡CÚ¡IdByTy³_
[
i
] = ()0;

146 
fœ¡CÚ¡IdByTy³_
[
i
] = (*
cÚ¡Ids
)[0];

147 
d–‘e
 
cÚ¡Ids
;

150 
şo£dWÜld_
.
	`growToSize
(
numFOP»ds
);

151 
	`memıy
((*)
şo£dWÜld_
.
	`g‘I‹ms
(), 
şo£dWÜld
.getItems(),

152 
şo£dWÜld
.
	`size
()*(
boŞ
));

154 
‹rmMuÉByP»d_
.
	`growToSize
(
numFOP»ds
, 
NULL
);

156 
ŒueP»dIdxS‘_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashS‘
>(
numFOP»ds
);

157 
çl£P»dIdxS‘_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashS‘
>(
numFOP»ds
);

158 
numb”OfGroundšgs_
.
	`growToSize
(
numFOP»ds
);

159 
ŒueP»dIdxS‘_
->
	`growToSize
(
numFOP»ds
);

160 
çl£P»dIdxS‘_
->
	`growToSize
(
numFOP»ds
);

163 
ŒueEvIndex_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashM­
>(
numFOP»ds
);

164 
ŒueEvIndex_
->
	`growToSize
(
numFOP»ds
);

165 
çl£EvIndex_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashM­
>(
numFOP»ds
);

166 
çl£EvIndex_
->
	`growToSize
(
numFOP»ds
);

167 
aùiveIndex_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashM­
>(
numFOP»ds
);

168 
aùiveIndex_
->
	`growToSize
(
numFOP»ds
);

170 
i
 = 0; i < 
numFOP»ds
; i++)

174 cÚ¡ 
P»diÿ‹Tem¶©e
* 
t
 = 
domaš_
->
	`g‘P»diÿ‹Tem¶©e
(
i
);

175 ià(
t
->
	`isEqu®P»dW™hTy³
()) ;

178 cÚ¡ 
A¼ay
<>* 
‹rmTy³s
 = 
domaš_
->
	`g‘P»diÿ‹T”mTy³sAsIÁ
(
i
);

179 
A¼ay
<
MuÉAndTy³
>* 
m©A¼
 = 
Ãw
 Array<MultAndType>;

180 
numT”mTy³s
 = 
‹rmTy³s
->
	`size
();

181 
m©A¼
->
	`growToSize
(
numT”mTy³s
);

182 
curMuÉ
 = 1;

183 
j
 = 
numT”mTy³s
-1; j >= 0; j--)

185 
ty³Id
 = (*
‹rmTy³s
)[
j
];

186 (*
m©A¼
)[
j
] = 
	`MuÉAndTy³
(
curMuÉ
,
ty³Id
);

187 
curMuÉ
 *ğ
domaš_
->
	`g‘NumCÚ¡ªtsByTy³W™hExt
(
ty³Id
);

189 
‹rmMuÉByP»d_
[
i
] = 
m©A¼
;

191 
numGnd
 = 1;

192 
j
 = 0; j < 
t
->
	`g‘NumT”ms
(); j++)

194 
numCÚ¡ByTy³
 =

195 
domaš_
->
	`g‘NumCÚ¡ªtsByTy³
(
t
->
	`g‘T”mTy³AsIÁ
(
j
));

196 
numGnd
 *ğ
numCÚ¡ByTy³
;

198 
numb”OfGroundšgs_
[
i
] = 
numGnd
;

201 
´edIdToNumTF_
 = 
Ãw
 
A¼ay
<
NumTrueF®£
>(
numFOP»ds
);

202 
´edIdToNumTF_
->
	`growToSize
(
numFOP»ds
);

204 
aùiveP»dIdxS‘_
 = 
NULL
;

205 
evid’ûP»dIdxS‘_
 = 
NULL
;

206 
d—ùiv©edP»dIdxS‘_
 = 
NULL
;

210 
	$D©aba£
(cÚ¡ 
D©aba£
& 
db
)

212 
domaš_
 = 
db
.domain_;

213 
şo£dWÜld_
.
	`growToSize
(
db
.şo£dWÜld_.
	`size
());

214 
	`memıy
((*)
şo£dWÜld_
.
	`g‘I‹ms
(), 
db
.closedWorld_.getItems(),

215 
db
.
şo£dWÜld_
.
	`size
()*(
boŞ
));

217 
ÏzyFÏg_
 = 
db
.lazyFlag_;

218 
³rfÜmšgInã»nû_
 = 
db
.performingInference_;

219 
fœ¡CÚ¡IdByTy³_
 = 
db
.firstConstIdByType_;

220 
numb”OfGroundšgs_
 = 
db
.numberOfGroundings_;

222 
İpEqGndP»ds_
 = 
db
.oppEqGndPreds_;

224 
‹rmMuÉByP»d_
.
	`growToSize
(
db
.‹rmMuÉByP»d_.
	`size
(), 
NULL
);

225 
i
 = 0; i < 
db
.
‹rmMuÉByP»d_
.
	`size
(); i++)

227 ià(
db
.
‹rmMuÉByP»d_
[
i
])

229 
A¼ay
<
MuÉAndTy³
>* 
m©A¼
 = 
Ãw
 Array<MultAndType>;

230 
m©A¼
->
	`growToSize
(
db
.
‹rmMuÉByP»d_
[
i
]->
	`size
());

231 
j
 = 0; j < 
db
.
‹rmMuÉByP»d_
[
i
]->
	`size
(); j++)

233 
MuÉAndTy³
 
m©
;

234 
m©
.
fœ¡
 = (*
db
.
‹rmMuÉByP»d_
[
i
])[
j
].first;

235 
m©
.
£cÚd
 = (*
db
.
‹rmMuÉByP»d_
[
i
])[
j
].second;

236 (*
m©A¼
)[
j
] = 
m©
;

238 
‹rmMuÉByP»d_
[
i
] = 
m©A¼
;

242 ià(
db
.
ŒueEvIndex_
)

244 
ŒueEvIndex_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashM­
>(
db
.ŒueEvIndex_->
	`size
());

245 
ŒueEvIndex_
->
	`growToSize
(
db
.ŒueEvIndex_->
	`size
());

246 
i
 = 0; i < 
db
.
ŒueEvIndex_
->
	`size
(); i++)

248 (*
ŒueEvIndex_
)[
i
] = (*
db
.trueEvIndex_)[i];

252 ià(
db
.
çl£EvIndex_
)

254 
çl£EvIndex_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashM­
>(
db
.çl£EvIndex_->
	`size
());

255 
çl£EvIndex_
->
	`growToSize
(
db
.çl£EvIndex_->
	`size
());

256 
i
 = 0; i < 
db
.
çl£EvIndex_
->
	`size
(); i++)

258 (*
çl£EvIndex_
)[
i
] = (*
db
.falseEvIndex_)[i];

262 ià(
db
.
aùiveIndex_
)

264 
aùiveIndex_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashM­
>(
db
.aùiveIndex_->
	`size
());

265 
aùiveIndex_
->
	`growToSize
(
db
.aùiveIndex_->
	`size
());

266 
i
 = 0; i < 
db
.
aùiveIndex_
->
	`size
(); i++)

268 (*
aùiveIndex_
)[
i
] = (*
db
.activeIndex_)[i];

272 ià(
db
.
´edIdToNumTF_
)

274 
´edIdToNumTF_
 = 
Ãw
 
A¼ay
<
NumTrueF®£
>(
db
.´edIdToNumTF_->
	`size
());

275 
´edIdToNumTF_
->
	`growToSize
(
db
.´edIdToNumTF_->
	`size
());

276 
i
 = 0; i < 
db
.
´edIdToNumTF_
->
	`size
(); i++)

278 (*
´edIdToNumTF_
)[
i
] = (*
db
.predIdToNumTF_)[i];

282 ià(
db
.
ŒueP»dIdxS‘_
)

284 
ŒueP»dIdxS‘_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashS‘
>(
db
.ŒueP»dIdxS‘_->
	`size
());

285 
ŒueP»dIdxS‘_
->
	`growToSize
(
db
.ŒueP»dIdxS‘_->
	`size
());

286 
i
 = 0; i < 
db
.
ŒueP»dIdxS‘_
->
	`size
(); i++)

288 (*
ŒueP»dIdxS‘_
)[
i
] = (*
db
.truePredIdxSet_)[i];

292 ià(
db
.
çl£P»dIdxS‘_
)

294 
çl£P»dIdxS‘_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashS‘
>();

295 
çl£P»dIdxS‘_
->
	`growToSize
(
db
.çl£P»dIdxS‘_->
	`size
());

296 
i
 = 0; i < 
db
.
çl£P»dIdxS‘_
->
	`size
(); i++)

297 (*
çl£P»dIdxS‘_
)[
i
] = (*
db
.falsePredIdxSet_)[i];

300 ià(
db
.
aùiveP»dIdxS‘_
)

302 
aùiveP»dIdxS‘_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashS‘
>();

303 
aùiveP»dIdxS‘_
->
	`growToSize
(
db
.aùiveP»dIdxS‘_->
	`size
());

304 
i
 = 0; i < 
db
.
aùiveP»dIdxS‘_
->
	`size
(); i++)

305 (*
aùiveP»dIdxS‘_
)[
i
] = (*
db
.activePredIdxSet_)[i];

308 ià(
db
.
evid’ûP»dIdxS‘_
)

310 
evid’ûP»dIdxS‘_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashS‘
>();

311 
evid’ûP»dIdxS‘_
->
	`growToSize
(
db
.evid’ûP»dIdxS‘_->
	`size
());

312 
i
 = 0; i < 
db
.
evid’ûP»dIdxS‘_
->
	`size
(); i++)

313 (*
evid’ûP»dIdxS‘_
)[
i
] = (*
db
.evidencePredIdxSet_)[i];

316 ià(
db
.
d—ùiv©edP»dIdxS‘_
)

318 
d—ùiv©edP»dIdxS‘_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashS‘
>();

319 
d—ùiv©edP»dIdxS‘_
->
	`growToSize
(
db
.d—ùiv©edP»dIdxS‘_->
	`size
());

320 
i
 = 0; i < 
db
.
d—ùiv©edP»dIdxS‘_
->
	`size
(); i++)

321 (*
d—ùiv©edP»dIdxS‘_
)[
i
] = (*
db
.deactivatedPredIdxSet_)[i];

323 
	}
}

325 ~
	$D©aba£
()

327 
i
 = 0; i < 
‹rmMuÉByP»d_
.
	`size
(); i++)

328 ià(
‹rmMuÉByP»d_
[
i
]è
d–‘e
ermMultByPred_[i];

329 
‹rmMuÉByP»d_
.
	`ş—rAndCom´ess
();

331 
i
 = 0; i < 
ŒueP»dIdxS‘_
->
	`size
(); i++)

332 (*
ŒueP»dIdxS‘_
)[
i
].
	`ş—r
();

333 
d–‘e
 
ŒueP»dIdxS‘_
;

335 
i
 = 0; i < 
çl£P»dIdxS‘_
->
	`size
(); i++)

336 (*
çl£P»dIdxS‘_
)[
i
].
	`ş—r
();

337 
d–‘e
 
çl£P»dIdxS‘_
;

339 ià(
ÏzyFÏg_
)

341 
i
 = 0; i < 
aùiveP»dIdxS‘_
->
	`size
(); i++)

342 (*
aùiveP»dIdxS‘_
)[
i
].
	`ş—r
();

343 
d–‘e
 
aùiveP»dIdxS‘_
;

345 
i
 = 0; i < 
evid’ûP»dIdxS‘_
->
	`size
(); i++)

346 (*
evid’ûP»dIdxS‘_
)[
i
].
	`ş—r
();

347 
d–‘e
 
evid’ûP»dIdxS‘_
;

349 
i
 = 0; i < 
d—ùiv©edP»dIdxS‘_
->
	`size
(); i++)

350 (*
d—ùiv©edP»dIdxS‘_
)[
i
].
	`ş—r
();

351 
d–‘e
 
d—ùiv©edP»dIdxS‘_
;

354 ià(
´edIdToNumTF_
è{ 
d–‘e
…»dIdToNumTF_;…»dIdToNumTF_ = 
NULL
; }

356 
i
 = 0; i < 
ŒueEvIndex_
->
	`size
(); i++)

357 (*
ŒueEvIndex_
)[
i
].
	`ş—r
();

358 
d–‘e
 
ŒueEvIndex_
;

360 
i
 = 0; i < 
çl£EvIndex_
->
	`size
(); i++)

361 (*
çl£EvIndex_
)[
i
].
	`ş—r
();

362 
d–‘e
 
çl£EvIndex_
;

364 
i
 = 0; i < 
aùiveIndex_
->
	`size
(); i++)

365 (*
aùiveIndex_
)[
i
].
	`ş—r
();

366 
d–‘e
 
aùiveIndex_
;

368 
	}
}

370 
	$com´ess
()

372 
i
 = 0; i < 
‹rmMuÉByP»d_
.
	`size
(); i++)

373 ià(
‹rmMuÉByP»d_
[
i
]è‹rmMuÉByP»d_[i]->
	`com´ess
();

374 
‹rmMuÉByP»d_
.
	`com´ess
();

376 
fœ¡CÚ¡IdByTy³_
.
	`com´ess
();

377 
	}
}

379 
	$´štInfo
()

381 
cout
 << "GNDINGS " << 
’dl
;

382 
i
 = 0; i < 
numb”OfGroundšgs_
.
	`size
(); i++)

383 
cout
 << 
i
 << ": " << 
numb”OfGroundšgs_
[i] << 
’dl
;

385 
cout
 << "TRUE " << 
ŒueP»dIdxS‘_
->
	`size
(è<< 
’dl
;

386 
i
 = 0; i < 
ŒueP»dIdxS‘_
->
	`size
(); i++)

388 
LÚgLÚgHashS‘
 
hs
 = (*
ŒueP»dIdxS‘_
)[
i
];

389 
cout
 << 
i
 << ": " << 
hs
.
	`size
(è<< 
’dl
;

391 
cout
 << "FALSE " << 
çl£P»dIdxS‘_
->
	`size
(è<< 
’dl
;

392 
i
 = 0; i < 
çl£P»dIdxS‘_
->
	`size
(); i++)

394 
LÚgLÚgHashS‘
 
hs
 = (*
çl£P»dIdxS‘_
)[
i
];

395 
cout
 << 
i
 << ": " << 
hs
.
	`size
(è<< 
’dl
;

397 
cout
 << "ACTIVE " << 
aùiveP»dIdxS‘_
->
	`size
(è<< 
’dl
;

398 
cout
 << "EVIDENCE " << 
evid’ûP»dIdxS‘_
->
	`size
(è<< 
’dl
;

399 
cout
 << "DEACTIVE " << 
d—ùiv©edP»dIdxS‘_
->
	`size
(è<< 
’dl
;

400 
	}
}

403 
	$£tLazyFÏg
()

405 
	`£tLazyFÏg
(
Œue
);

406 
	}
}

408 
	$£tLazyFÏg
(cÚ¡ 
boŞ
& 
lf
)

411 ià((
lf
 && 
ÏzyFÏg_
) || (!lf && !lazyFlag_)) ;

414 ià(
aùiveP»dIdxS‘_
)

416 
i
 = 0; i < 
aùiveP»dIdxS‘_
->
	`size
(); i++)

417 (*
aùiveP»dIdxS‘_
)[
i
].
	`ş—r
();

418 
d–‘e
 
aùiveP»dIdxS‘_
;

419 
aùiveP»dIdxS‘_
 = 
NULL
;

421 ià(
evid’ûP»dIdxS‘_
)

423 
i
 = 0; i < 
evid’ûP»dIdxS‘_
->
	`size
(); i++)

424 (*
evid’ûP»dIdxS‘_
)[
i
].
	`ş—r
();

425 
d–‘e
 
evid’ûP»dIdxS‘_
;

426 
evid’ûP»dIdxS‘_
 = 
NULL
;

428 ià(
d—ùiv©edP»dIdxS‘_
)

430 
i
 = 0; i < 
d—ùiv©edP»dIdxS‘_
->
	`size
(); i++)

431 (*
d—ùiv©edP»dIdxS‘_
)[
i
].
	`ş—r
();

432 
d–‘e
 
d—ùiv©edP»dIdxS‘_
;

433 
d—ùiv©edP»dIdxS‘_
 = 
NULL
;

435 ià(
lf
)

437 
ÏzyFÏg_
 = 
Œue
;

438 
numFOP»ds
 = 
domaš_
->
	`g‘NumP»diÿ‹s
();

440 
aùiveP»dIdxS‘_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashS‘
>(
numFOP»ds
);

441 
evid’ûP»dIdxS‘_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashS‘
>(
numFOP»ds
);

442 
d—ùiv©edP»dIdxS‘_
 = 
Ãw
 
A¼ay
<
LÚgLÚgHashS‘
>(
numFOP»ds
);

443 
aùiveP»dIdxS‘_
->
	`growToSize
(
numFOP»ds
);

444 
evid’ûP»dIdxS‘_
->
	`growToSize
(
numFOP»ds
);

445 
d—ùiv©edP»dIdxS‘_
->
	`growToSize
(
numFOP»ds
);

447 ià(!
lf
)

449 
ÏzyFÏg_
 = 
çl£
;

451 
	}
}

454 
boŞ
 
	$£tP”fÜmšgInã»nû
(
boŞ
 
pi
)

456 
boŞ
 
´evious
 = 
³rfÜmšgInã»nû_
;

457 
³rfÜmšgInã»nû_
 = 
pi
;

458  
´evious
;

459 
	}
}

461 cÚ¡ 
Domaš
* 
	$g‘Domaš
(ècÚ¡ {  
domaš_
; 
	}
}

463 
boŞ
 
	$§meTruthV®ueAndS’£
(cÚ¡ 
TruthV®ue
& 
tv
, cÚ¡ 
boŞ
& 
£n£
)

464 {  (
tv
==
TRUE
 && 
£n£
è|| (tv==
FALSE
 && !£n£); 
	}
}

469 
TruthV®ue
 
	$g‘V®ue
(cÚ¡ 
P»diÿ‹
* cÚ¡& 
´ed
) const

471 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::g‘V®ue" << 
’dl
;

472 
	`as£¹
(((
P»diÿ‹
*)
´ed
)->
	`isGrounded
());

473 
P»diÿ‹
* 
µ»d
 = (P»diÿ‹*è
´ed
;

474 
´edId
 = 
´ed
->
	`g‘Id
();

477 ià(
´ed
->
	`isEqu®P»dW™hTy³
())

481 
TruthV®ue
 
aùu®


482 ğ(
´ed
->
	`g‘T”m
(0)->
	`g‘Id
()=õ»d->g‘T”m(1)->g‘Id()è? 
TRUE
 : 
FALSE
;

485 
i
 = 0; i < 
İpEqGndP»ds_
.
	`size
(); i++)

486 ià(
µ»d
->
	`§me
(
İpEqGndP»ds_
[
i
]))

488 ià(
aùu®
 =ğ
TRUE
)

490 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšg FALSE" << 
’dl
;

491  
FALSE
;

493 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšg TRUE" << 
’dl
;

494  
TRUE
;

497 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšg " << 
aùu®
 << 
’dl
;

498  
aùu®
;

501 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

502  
	`g‘V®ue
(
idx
, 
´edId
);

503 
	}
}

509 
TruthV®ue
 
	$g‘V®ue
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡& 
´ed
) const

511 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::g‘V®ue" << 
’dl
;

512 
´edId
 = 
´ed
->
	`g‘Id
();

514 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

515  
	`g‘V®ue
(
idx
, 
´edId
);

516 
	}
}

521 
boŞ
 
	$g‘AùiveStus
(cÚ¡ 
P»diÿ‹
* cÚ¡& 
´ed
) const

523 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::g‘AùiveStus" << 
’dl
;

524 ià(
´ed
->
	`isEqu®P»dW™hTy³
()è 
çl£
;

525 
	`as£¹
(
ÏzyFÏg_
);

526 
	`as£¹
(((
P»diÿ‹
*)
´ed
)->
	`isGrounded
());

528 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

529  
	`g‘AùiveStus
(
idx
, 
´ed
->
	`g‘Id
());

530 
	}
}

536 
boŞ
 
	$g‘AùiveStus
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡& 
´ed
) const

538 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::g‘AùiveStus" << 
’dl
;

539 
	`as£¹
(
ÏzyFÏg_
);

541 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

542  
	`g‘AùiveStus
(
idx
, 
´ed
->
	`g‘Id
());

543 
	}
}

549 
boŞ
 
	$g‘D—ùiv©edStus
(cÚ¡ 
P»diÿ‹
* cÚ¡& 
´ed
) const

551 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::g‘D—ùiv©edStus" << 
’dl
;

552 ià(
´ed
->
	`isEqu®P»dW™hTy³
()è 
çl£
;

553 
	`as£¹
(
ÏzyFÏg_
);

554 
	`as£¹
(((
P»diÿ‹
*)
´ed
)->
	`isGrounded
());

556 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

557  
	`g‘D—ùiv©edStus
(
idx
, 
´ed
->
	`g‘Id
());

558 
	}
}

564 
boŞ
 
	$g‘D—ùiv©edStus
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡& 
´ed
) const

566 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::g‘D—ùiv©edStus" << 
’dl
;

567 
	`as£¹
(
ÏzyFÏg_
);

569 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

570  
	`g‘D—ùiv©edStus
(
idx
, 
´ed
->
	`g‘Id
());

571 
	}
}

576 
boŞ
 
	$g‘Evid’ûStus
(cÚ¡ 
P»diÿ‹
* cÚ¡& 
´ed
) const

578 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::g‘Evid’ûStus" << 
’dl
;

579 ià(
´ed
->
	`isEqu®P»dW™hTy³
()è 
Œue
;

580 
	`as£¹
(
ÏzyFÏg_
);

581 
	`as£¹
(((
P»diÿ‹
*)
´ed
)->
	`isGrounded
());

583 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

584  
	`g‘Evid’ûStus
(
idx
, 
´ed
->
	`g‘Id
());

585 
	}
}

591 
boŞ
 
	$g‘Evid’ûStus
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡& 
´ed
) const

593 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::g‘Evid’ûStus" << 
’dl
;

594 
	`as£¹
(
ÏzyFÏg_
);

596 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

597  
	`g‘Evid’ûStus
(
idx
, 
´ed
->
	`g‘Id
());

598 
	}
}

600 
¡ršg
 
	$g‘V®ueAsSŒšg
(cÚ¡ 
P»diÿ‹
* cÚ¡& 
´ed
) const

602 
TruthV®ue
 
tv
 = 
	`g‘V®ue
(
´ed
);

603 ià(
tv
 =ğ
TRUE
)  "TRUE";

604 ià(
tv
 =ğ
FALSE
)  "FALSE";

605 ià(
tv
 =ğ
UNKNOWN
)  "UNKNOWN";

606 
	`as£¹
(
çl£
);

608 
	}
}

621 
TruthV®ue
 
	$£tV®ue
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
, cÚ¡ 
TruthV®ue
& 
tv
)

622 {  
	`£tV®ueH–³r
(
´ed
, 
çl£
, 
tv
); 
	}
}

634 
TruthV®ue
 
	$£tV®ue
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ed
, cÚ¡ 
TruthV®ue
& 
tv
)

636  
	`£tV®ueH–³r
(
´ed
, 
çl£
, 
tv
);

637 
	}
}

645 
TruthV®ue
 
	$æV®ue
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
)

646 {  
	`£tV®ueH–³r
(
´ed
, 
Œue
, 
UNKNOWN
); 
	}
}

654 
TruthV®ue
 
	$æV®ue
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ed
)

655 {  
	`£tV®ueH–³r
(
´ed
, 
Œue
, 
UNKNOWN
); 
	}
}

663 
boŞ
 
	$£tAùiveStus
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
, cÚ¡ 
boŞ
& 
as
)

665 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::£tAùiveStus" << 
’dl
;

666 ià(
´ed
->
	`isEqu®P»dW™hTy³
())

668 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšg f®£" << 
’dl
;

669  
çl£
;

672 ià(
as
è
	`as£¹
(!
	`g‘Evid’ûStus
(
´ed
));

674 
	`as£¹
(
ÏzyFÏg_
);

675 
	`as£¹
(((
P»diÿ‹
*)
´ed
)->
	`isGrounded
());

677 
´edId
 = 
´ed
->
	`g‘Id
();

678 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

679  
	`£tAùiveStus
(
idx
, 
´edId
, 
as
, 
´ed
, 
NULL
);

680 
	}
}

688 
boŞ
 
	$£tAùiveStus
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ed
, cÚ¡ 
boŞ
& 
as
)

690 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::£tAùiveStus" << 
’dl
;

692 ià(
as
è
	`as£¹
(!
	`g‘Evid’ûStus
(
´ed
));

693 
	`as£¹
(
ÏzyFÏg_
);

695 
´edId
 = 
´ed
->
	`g‘Id
();

696 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

697  
	`£tAùiveStus
(
idx
, 
´edId
, 
as
, 
NULL
, 
´ed
);

698 
	}
}

700 
	$»£tAùiveStus
()

702 
	`as£¹
(
ÏzyFÏg_
);

703 
i
 = 0; i < 
aùiveP»dIdxS‘_
->
	`size
(); i++)

704 (*
aùiveP»dIdxS‘_
)[
i
].
	`ş—r
();

705 
	}
}

713 
boŞ
 
	$£tD—ùiv©edStus
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
, cÚ¡ 
boŞ
& 
das
)

715 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::£tD—ùiv©edStus" << 
’dl
;

716 ià(
´ed
->
	`isEqu®P»dW™hTy³
())

718 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšg f®£" << 
’dl
;

719  
çl£
;

722 ià(
das
è
	`as£¹
(!
	`g‘Evid’ûStus
(
´ed
));

724 
	`as£¹
(
ÏzyFÏg_
);

725 
	`as£¹
(((
P»diÿ‹
*)
´ed
)->
	`isGrounded
());

727 
´edId
 = 
´ed
->
	`g‘Id
();

728 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

729  
	`£tD—ùiv©edStus
(
idx
, 
´edId
, 
das
);

730 
	}
}

738 
boŞ
 
	$£tD—ùiv©edStus
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ed
,

739 cÚ¡ 
boŞ
& 
das
)

741 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::£tD—ùiv©edStus" << 
’dl
;

743 ià(
das
è
	`as£¹
(!
	`g‘Evid’ûStus
(
´ed
));

744 
	`as£¹
(
ÏzyFÏg_
);

746 
´edId
 = 
´ed
->
	`g‘Id
();

747 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

748  
	`£tD—ùiv©edStus
(
idx
, 
´edId
, 
das
);

749 
	}
}

751 
	$»£tD—ùiv©edStus
()

753 
	`as£¹
(
ÏzyFÏg_
);

754 
i
 = 0; i < 
d—ùiv©edP»dIdxS‘_
->
	`size
(); i++)

755 (*
d—ùiv©edP»dIdxS‘_
)[
i
].
	`ş—r
();

756 
	}
}

764 
boŞ
 
	$£tEvid’ûStus
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
, cÚ¡ 
boŞ
& 
es
)

766 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::£tEvid’ûStus" << 
’dl
;

767 ià(
´ed
->
	`isEqu®P»dW™hTy³
())

769 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšgrue" << 
’dl
;

770  
Œue
;

773 ià(
es
è
	`as£¹
(!
	`g‘AùiveStus
(
´ed
));

775 
	`as£¹
(
ÏzyFÏg_
);

776 
	`as£¹
(((
P»diÿ‹
*)
´ed
)->
	`isGrounded
());

778 
´edId
 = 
´ed
->
	`g‘Id
();

779 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

780  
	`£tEvid’ûStus
(
idx
, 
´edId
, 
es
);

781 
	}
}

789 
boŞ
 
	$£tEvid’ûStus
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ed
, cÚ¡ 
boŞ
& 
es
)

791 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::£tEvid’ûStus" << 
’dl
;

793 ià(
es
è
	`as£¹
(!
	`g‘AùiveStus
(
´ed
));

794 
	`as£¹
(
ÏzyFÏg_
);

796 
´edId
 = 
´ed
->
	`g‘Id
();

797 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

798  
	`£tEvid’ûStus
(
idx
, 
´edId
, 
es
);

799 
	}
}

801 
£tV®uesToUnknown
(cÚ¡ 
A¼ay
<
P»diÿ‹
*>* cÚ¡ & 
gndP»ds
,

802 
A¼ay
<
TruthV®ue
>* cÚ¡ & 
´evV®ues
)

804 ià(
	g´evV®ues
è´evV®ues->
ş—r
();

805 
	gi
 = 0; i < 
	ggndP»ds
->
size
(); i++)

807 
TruthV®ue
 
	g´ev
 = 
£tV®ue
((*
gndP»ds
)[
i
], 
UNKNOWN
);

808 ià(
	g´evV®ues
è´evV®ues->
­³nd
(
´ev
);

812 
£tV®uesToUnknown
(cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
gndP»ds
,

813 
A¼ay
<
TruthV®ue
>* cÚ¡ & 
´evV®ues
)

815 ià(
	g´evV®ues
è´evV®ues->
ş—r
();

816 
	gi
 = 0; i < 
	ggndP»ds
->
size
(); i++)

818 
TruthV®ue
 
	g´ev
 = 
£tV®ue
((*
gndP»ds
)[
i
], 
UNKNOWN
);

819 ià(
	g´evV®ues
è´evV®ues->
­³nd
(
´ev
);

824 
£tV®uesToGiv’V®ues
(cÚ¡ 
A¼ay
<
P»diÿ‹
*>* cÚ¡ & 
gndP»ds
,

825 cÚ¡ 
A¼ay
<
TruthV®ue
>* cÚ¡ & 
v®ues
)

827 
as£¹
(
v®ues
);

828 
as£¹
(
v®ues
->
size
(è=ğ
gndP»ds
->size());

829 
	gi
 = 0; i < 
	ggndP»ds
->
size
(); i++)

830 
£tV®ue
((*
gndP»ds
)[
i
], (*
v®ues
)[i]);

833 
£tV®uesToGiv’V®ues
(cÚ¡ 
GroundP»diÿ‹HashA¼ay
* cÚ¡ & 
gndP»ds
,

834 cÚ¡ 
A¼ay
<
TruthV®ue
>* cÚ¡ & 
v®ues
)

836 
as£¹
(
v®ues
);

837 
as£¹
(
v®ues
->
size
(è=ğ
gndP»ds
->size());

838 
	gi
 = 0; i < 
	ggndP»ds
->
size
(); i++)

839 
£tV®ue
((*
gndP»ds
)[
i
], (*
v®ues
)[i]);

844 
®‹rTruthV®ue
(cÚ¡ 
A¼ay
<
P»diÿ‹
*>* cÚ¡ & 
gndP»ds
,

845 cÚ¡ 
TruthV®ue
& 
tobeAÉ”edV®
,

846 cÚ¡ 
TruthV®ue
& 
ÃwV®
,

847 
A¼ay
<
TruthV®ue
>* cÚ¡ & 
gndP»dV®ues
)

849 
	gi
 = 0; i < 
	ggndP»ds
->
size
(); i++)

851 
TruthV®ue
 
	gv®
 = 
g‘V®ue
((*
gndP»ds
)[
i
]);

852 
	ggndP»dV®ues
->
­³nd
(
v®
);

853 ià(
	gv®
 =ğ
tobeAÉ”edV®
)

855 
£tV®ue
((*
gndP»ds
)[
i
], 
ÃwV®
);

863 
	$addEvid’ûGroundP»diÿ‹
(
P»diÿ‹
* cÚ¡ & 
´ed
)

865 ià(
dbdebug
 >= 1)

866 
cout
 << "C®lšg d©aba£::addEvid’ûGroundP»diÿ‹" << 
’dl
;

867 
	`£tV®ue
(
´ed
,…»d->
	`g‘TruthV®ue
());

868 ià(
´ed
->
	`g‘R—lV®ue
(è> 
num”ic_lim™s
<>::
	`mš
())

870 
	`£tR—lV®ue
(
´ed
,…»d->
	`g‘R—lV®ue
());

873 ià(!
şo£dWÜld_
[
´ed
->
	`g‘Id
()])

877 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

879 ià(
´ed
->
	`g‘TruthV®ue
(è=ğ
TRUE
)

880 
	`addToInv”‹dIndex
(
´ed
, 
idx
, 
T_INDEX
);

883 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšg" << 
’dl
;

884 
	}
}

895 
	$addP»dToEvid’ûIndex
(
P»diÿ‹
* cÚ¡& 
´ed
, cÚ¡ 
boŞ
& 
£n£
)

897 
TruthV®ue
 
tv
 = 
	`g‘V®ue
(
´ed
);

898 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

900 ià(
£n£
 && 
tv
 =ğ
FALSE
)

901 
	`addToInv”‹dIndex
(
´ed
, 
idx
, 
F_INDEX
);

903 ià(!
£n£
 && 
tv
 =ğ
TRUE
)

904 
	`addToInv”‹dIndex
(
´ed
, 
idx
, 
T_INDEX
);

905 
	}
}

912 
	$£tR—lV®ue
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
, cÚ¡ & 
rv
)

914 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

915  
	`£tR—lV®ue
(
idx
, 
rv
);

916 
	}
}

923 
	$£tR—lV®ue
(cÚ¡ & 
idx
, cÚ¡ & 
rv
)

925 
»®V®ues_
[
idx
] = 
rv
;

926 
	}
}

928 
	$g‘R—lV®ue
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
)

930 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

931  
»®V®ues_
[
idx
];

932 
	}
}

934 
	$g‘NumGroundšgs
(cÚ¡ & 
´edId
) const

937 cÚ¡ 
P»diÿ‹Tem¶©e
* 
t
 = 
domaš_
->
	`g‘P»diÿ‹Tem¶©e
(
´edId
);

938 ià(
t
->
	`isEqu®P»dW™hTy³
())

940 
nc
 = 
domaš_
->
	`g‘NumCÚ¡ªtsByTy³
(
t
->
	`g‘T”mTy³AsIÁ
(0));

941  
nc
*nc;

944  
numb”OfGroundšgs_
[
´edId
];

945 
	}
}

947 
	$g‘NumEvid’ûGndP»ds
(cÚ¡ & 
´edId
) const

950 cÚ¡ 
P»diÿ‹Tem¶©e
* 
t
 = 
domaš_
->
	`g‘P»diÿ‹Tem¶©e
(
´edId
);

951 ià(
t
->
	`isEqu®P»dW™hTy³
())

953 
nc
 = 
domaš_
->
	`g‘NumCÚ¡ªtsByTy³
(
t
->
	`g‘T”mTy³AsIÁ
(0));

954  
nc
*nc;

958 ià(
şo£dWÜld_
[
´edId
])

960  
numb”OfGroundšgs_
[
´edId
];

962  (*
evid’ûP»dIdxS‘_
)[
´edId
].
	`size
();

963 
	}
}

965 
	$g‘NumTrueGndP»ds
(cÚ¡ & 
´edId
) const

968 cÚ¡ 
P»diÿ‹Tem¶©e
* 
t
 = 
domaš_
->
	`g‘P»diÿ‹Tem¶©e
(
´edId
);

969 ià(
t
->
	`isEqu®P»dW™hTy³
())

971 
nc
 = 
domaš_
->
	`g‘NumCÚ¡ªtsByTy³
(
t
->
	`g‘T”mTy³AsIÁ
(0));

972 
mšus
 = 0;

973 
i
 = 0; i < 
İpEqGndP»ds_
.
	`size
(); i++)

975 
P»diÿ‹
* 
´ed
 = 
İpEqGndP»ds_
[
i
];

976 ià(
´ed
->
	`g‘Id
(è=ğ
´edId
 &&

977 
´ed
->
	`g‘T”m
(0)->
	`g‘Id
() ==…red->getTerm(1)->getId())

978 
mšus
++;

981  
nc
-
mšus
;

984  (*
´edIdToNumTF_
)[
´edId
].
numTrue
;

985 
	}
}

988 
	$g‘NumF®£GndP»ds
(cÚ¡ & 
´edId
) const

991 cÚ¡ 
P»diÿ‹Tem¶©e
* 
t
 = 
domaš_
->
	`g‘P»diÿ‹Tem¶©e
(
´edId
);

992 ià(
t
->
	`isEqu®P»dW™hTy³
())

994 
nc
 = 
domaš_
->
	`g‘NumCÚ¡ªtsByTy³
(
t
->
	`g‘T”mTy³AsIÁ
(0));

995 
mšus
 = 0;

996 
i
 = 0; i < 
İpEqGndP»ds_
.
	`size
(); i++)

998 
P»diÿ‹
* 
´ed
 = 
İpEqGndP»ds_
[
i
];

999 ià(
´ed
->
	`g‘Id
(è=ğ
´edId
 &&

1000 
´ed
->
	`g‘T”m
(0)->
	`g‘Id
() !=…red->getTerm(1)->getId())

1001 
mšus
++;

1004  
nc
*Òc-1)-
mšus
;

1007 ià(
şo£dWÜld_
[
´edId
])

1008  
numb”OfGroundšgs_
[
´edId
]-(*
´edIdToNumTF_
)[´edId].
numTrue
;

1010  (*
´edIdToNumTF_
)[
´edId
].
numF®£
;

1011 
	}
}

1014 
	$g‘NumUnknownGndP»ds
(cÚ¡ & 
´edId
) const

1017 cÚ¡ 
P»diÿ‹Tem¶©e
* 
t
 = 
domaš_
->
	`g‘P»diÿ‹Tem¶©e
(
´edId
);

1018 ià(
t
->
	`isEqu®P»dW™hTy³
())  0;

1021 ià(
şo£dWÜld_
[
´edId
])  0;

1023  
numb”OfGroundšgs_
[
´edId
] -(*
´edIdToNumTF_
)[´edId].
numTrue


1024 -(*
´edIdToNumTF_
)[
´edId
].
numF®£
;

1025 
	}
}

1028 
	$g‘NumP»dIds
() const

1030  
´edIdToNumTF_
->
	`size
();

1031 
	}
}

1033 
boŞ
 
	$isClo£dWÜld
(cÚ¡ & 
´edId
ècÚ¡ {  
şo£dWÜld_
[´edId]; 
	}
}

1034 
	$£tClo£dWÜld
(cÚ¡ & 
´edId
, cÚ¡ 
boŞ
& 
b
)

1035 { 
şo£dWÜld_
[
´edId
] = 
b
; 
	}
}

1036 cÚ¡ 
	gA¼ay
<
	gboŞ
>& 
	$g‘Clo£dWÜld
(ècÚ¡ {  
şo£dWÜld_
; 
	}
}

1039 
	gA¼ay
<
	gLÚgLÚgHashS‘
>* 
	$g‘TrueP»dIdxS‘
(ècÚ¡ { 
ŒueP»dIdxS‘_
;
	}
}

1040 
	gA¼ay
<
	gLÚgLÚgHashS‘
>* 
	$g‘F®£P»dIdxS‘
(ècÚ¡ { 
çl£P»dIdxS‘_
;
	}
}

1047 
g‘TrueGndšgs
(
´edId
, 
A¼ay
<
P»diÿ‹
*>* cÚ¡ & 
šdexedGndšgs
)

1050 
	gLÚgLÚgHashS‘
::
cÚ¡_™”©Ü
 
™
 = (*
ŒueP»dIdxS‘_
)[
´edId
].
begš
();

1051 ; 
	g™
 !ğ(*
ŒueP»dIdxS‘_
)[
´edId
].
’d
(); it++)

1053 
P»diÿ‹
* 
	gp
 =

1054 
g‘P»dFromIdx
((*
™
), 
domaš_
->
g‘P»diÿ‹Tem¶©e
(
´edId
));

1055 
	gšdexedGndšgs
->
­³nd
(
p
);

1072 
g‘IndexedGndšgs
(
A¼ay
<
P»diÿ‹
*>* cÚ¡ & 
šdexedGndšgs
,

1073 
P»diÿ‹
* cÚ¡ & 
´ed
,

1074 
boŞ
 cÚ¡ & 
ignÜeAùiveP»ds
,

1075 
boŞ
 cÚ¡ & 
ŒueGndšgs
)

1077 
	g´edId
 = 
´ed
->
g‘Id
();

1081 ià(
	g´ed
->
isGrounded
())

1085 
TruthV®ue
 
	gtv
 = 
g‘V®ue
(
´ed
);

1086 ià((
	gŒueGndšgs
 && 
	gtv
 =ğ
TRUE
) ||

1087 (!
ŒueGndšgs
 && 
tv
 =ğ
FALSE
) ||

1088 (!
ignÜeAùiveP»ds
 && 
g‘AùiveStus
(
´ed
)))

1090 
P»diÿ‹
* 
p
 = 
Ãw
 P»diÿ‹(*
´ed
);

1091 
	gšdexedGndšgs
->
­³nd
(
p
);

1098 ià(!
	g´ed
->
cÚšsCÚ¡ªts
())

1101 ià(
	gŒueGndšgs
)

1104 
	gLÚgLÚgHashS‘
::
cÚ¡_™”©Ü
 
™
 = (*
ŒueP»dIdxS‘_
)[
´edId
].
begš
();

1105 ; 
	g™
 !ğ(*
ŒueP»dIdxS‘_
)[
´edId
].
’d
(); it++)

1107 
P»diÿ‹
* 
	gp
 = 
g‘P»dFromIdx
((*
™
), 
´ed
->
g‘Tem¶©e
());

1108 ià(
	g´ed
->
ÿnBeGroundedAs
(
p
))

1109 
	gšdexedGndšgs
->
­³nd
(
p
);

1114 ià(
	gşo£dWÜld_
[
´edId
])

1118 
	gA¼ay
<
	gP»diÿ‹
*> 
	g´edA¼
;

1119 
	gP»diÿ‹
::
ü—‹AÎGroundšgs
(
´edId
, 
domaš_
, 
´edA¼
);

1120 
	gnumP»ds
 = 
´edA¼
.
size
();

1121 
	gi
 = 0; i < 
	gnumP»ds
; i++)

1123 
P»diÿ‹
* 
	gÃwP»d
 = 
´edA¼
[
i
];

1125 
	gLÚgLÚgHashS‘
::
cÚ¡_™”©Ü
 
™
;

1126 ià((
	g™
 = (*
ŒueP»dIdxS‘_
)[
´edId
].
fšd
(
i
)) !=

1127 (*
ŒueP»dIdxS‘_
)[
´edId
].
’d
())

1128 
d–‘e
 
ÃwP»d
;

1129 ià(
	g´ed
->
ÿnBeGroundedAs
(
ÃwP»d
))

1130 
	gšdexedGndšgs
->
­³nd
(
ÃwP»d
);

1135 
	gLÚgLÚgHashS‘
::
cÚ¡_™”©Ü
 
™
 =

1136 (*
çl£P»dIdxS‘_
)[
´edId
].
begš
();

1137 ; 
	g™
 !ğ(*
çl£P»dIdxS‘_
)[
´edId
].
’d
(); it++)

1139 
P»diÿ‹
* 
	gp
 = 
g‘P»dFromIdx
((*
™
), 
´ed
->
g‘Tem¶©e
());

1140 ià(
	g´ed
->
ÿnBeGroundedAs
(
p
))

1141 
	gšdexedGndšgs
->
­³nd
(
p
);

1146 ià(!
	gignÜeAùiveP»ds
)

1149 
	gLÚgLÚgHashS‘
::
cÚ¡_™”©Ü
 
a™
 =

1150 (*
aùiveP»dIdxS‘_
)[
´edId
].
begš
();

1151 ; 
	ga™
 !ğ(*
aùiveP»dIdxS‘_
)[
´edId
].
’d
();‡it++)

1153 
P»diÿ‹
* 
	gp
 = 
g‘P»dFromIdx
((*
a™
), 
´ed
->
g‘Tem¶©e
());

1154 
	gšdexedGndšgs
->
­³nd
(
p
);

1161 
as£¹
(
´edId
 < 
ŒueEvIndex_
->
size
());

1162 
as£¹
(
´edId
 < 
çl£EvIndex_
->
size
());

1164 
	g£t
<> 
	gŒueOrF®£IÁ”£ùiÚ
;

1165 
	g£t
<> 
	gaùiveIÁ”£ùiÚ
;

1166 
boŞ
 
	gš™Ÿl
 = 
Œue
;

1168 
	g‹rm
 = 0;”m < 
	g´ed
->
g‘NumT”ms
();erm++)

1170 
	gcÚ¡ªtId
 = 
´ed
->
g‘T”m
(
‹rm
)->
g‘Id
();

1173 ià(
	gcÚ¡ªtId
 < 0) ;

1174 
	g·œ
<, > 
¶aûAndCÚ¡ªt
(
‹rm
, 
cÚ¡ªtId
);

1177 ià(
	gš™Ÿl
)

1179 ià(
	gŒueGndšgs
)

1180 
	gŒueOrF®£IÁ”£ùiÚ
 = ((*
ŒueEvIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
];

1182 
	gŒueOrF®£IÁ”£ùiÚ
 =

1183 ((*
çl£EvIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
];

1187 
	g£t
<> 
	gtmpTrueOrF®£IÁ”£ùiÚ
;

1188 ià(
	gŒueGndšgs
)

1189 
£t_š‹r£ùiÚ
(
ŒueOrF®£IÁ”£ùiÚ
.
begš
(),

1190 
ŒueOrF®£IÁ”£ùiÚ
.
’d
(),

1191 ((*
ŒueEvIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
begš
(),

1192 ((*
ŒueEvIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
’d
(),

1193 
š£¹”
(
tmpTrueOrF®£IÁ”£ùiÚ
,

1194 
tmpTrueOrF®£IÁ”£ùiÚ
.
begš
()));

1196 
£t_š‹r£ùiÚ
(
ŒueOrF®£IÁ”£ùiÚ
.
begš
(),

1197 
ŒueOrF®£IÁ”£ùiÚ
.
’d
(),

1198 ((*
çl£EvIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
begš
(),

1199 ((*
çl£EvIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
’d
(),

1200 
š£¹”
(
tmpTrueOrF®£IÁ”£ùiÚ
,

1201 
tmpTrueOrF®£IÁ”£ùiÚ
.
begš
()));

1202 
	gŒueOrF®£IÁ”£ùiÚ
 = 
tmpTrueOrF®£IÁ”£ùiÚ
;

1214 ià(!
	gignÜeAùiveP»ds
)

1216 ià(
	gš™Ÿl
)

1217 
	gaùiveIÁ”£ùiÚ
 = ((*
aùiveIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
];

1220 
	g£t
<> 
	gtmpAùiveIÁ”£ùiÚ
;

1221 
£t_š‹r£ùiÚ
(
aùiveIÁ”£ùiÚ
.
begš
(),

1222 
aùiveIÁ”£ùiÚ
.
’d
(),

1223 ((*
aùiveIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
begš
(),

1224 ((*
aùiveIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
’d
(),

1225 
š£¹”
(
tmpAùiveIÁ”£ùiÚ
,

1226 
tmpAùiveIÁ”£ùiÚ
.
begš
()));

1227 
	gaùiveIÁ”£ùiÚ
 = 
tmpAùiveIÁ”£ùiÚ
;

1230 
	gš™Ÿl
 = 
çl£
;

1237 
	g£t
<>::
cÚ¡_™”©Ü
 
™
 =

1238 
ŒueOrF®£IÁ”£ùiÚ
.
begš
();

1239 ; 
	g™
 !ğ
ŒueOrF®£IÁ”£ùiÚ
.
’d
(); it++)

1242 
P»diÿ‹
* 
	gp
 = 
g‘P»dFromIdx
((*
™
), 
´ed
->
g‘Tem¶©e
());

1243 
	gšdexedGndšgs
->
­³nd
(
p
);

1246 ià(!
	gignÜeAùiveP»ds
)

1248 
	g™
 = 
aùiveIÁ”£ùiÚ
.
begš
();

1249 ; 
	g™
 !ğ
aùiveIÁ”£ùiÚ
.
’d
(); it++)

1251 
P»diÿ‹
* 
	gp
 = 
g‘P»dFromIdx
((*
™
), 
´ed
->
g‘Tem¶©e
());

1252 
	gšdexedGndšgs
->
­³nd
(
p
);

1265 
chªgeCÚ¡ªtsToNewIds
(
hash_m­
<,>& 
ŞdToNewCÚ¡Ids
)

1277 
	gnumTy³s
 = 
domaš_
->
g‘NumTy³s
();

1278 
	gA¼ay
<> 
	gÃwfœ¡CÚ¡IdByTy³
;

1279 
	gÃwfœ¡CÚ¡IdByTy³
.
growToSize
(
numTy³s
);

1280 
	gi
 = 0; i < 
	gnumTy³s
; i++)

1282 
as£¹
(
domaš_
->
isTy³
(
i
));

1283 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡Ids
 = 
domaš_
->
g‘CÚ¡ªtsByTy³W™hExt
(
i
);

1288 ià(
	gcÚ¡Ids
->
em±y
()è
	gÃwfœ¡CÚ¡IdByTy³
[
i
] = ()0;

1289 
	gÃwfœ¡CÚ¡IdByTy³
[
i
] = (*
cÚ¡Ids
)[0];

1293 
	gnumFOP»ds
 = 
domaš_
->
g‘NumP»diÿ‹s
();

1294 
	gA¼ay
<A¼ay<
	gMuÉAndTy³
>*> 
	gÃw‹rmMuÉByP»d
;

1295 
	gÃw‹rmMuÉByP»d
.
growToSize
(
numFOP»ds
, 
NULL
);

1296 
	gi
 = 0; i < 
	gnumFOP»ds
; i++)

1299 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	gt
 = 
domaš_
->
g‘P»diÿ‹Tem¶©e
(
i
);

1300 ià(
	gt
->
isEqu®P»dW™hTy³
()) ;

1302 cÚ¡ 
	gA¼ay
<>* 
	g‹rmTy³s
 = 
domaš_
->
g‘P»diÿ‹T”mTy³sAsIÁ
(
i
);

1303 
	gA¼ay
<
	gMuÉAndTy³
>* 
	gm©A¼
 = 
Ãw
 
A¼ay
<
MuÉAndTy³
>;

1304 
	gnumT”mTy³s
 = 
‹rmTy³s
->
size
();

1305 
	gm©A¼
->
growToSize
(
numT”mTy³s
);

1306 
	gcurMuÉ
 = 1;

1308 
	gj
 = 
numT”mTy³s
 - 1; j >= 0; j--)

1310 
	gty³Id
 = (*
‹rmTy³s
)[
j
];

1311 (*
	gm©A¼
)[
j
] = 
MuÉAndTy³
(
curMuÉ
, 
ty³Id
);

1313 
	gcurMuÉ
 *ğ
domaš_
->
g‘NumCÚ¡ªtsByTy³W™hExt
(
ty³Id
);

1317 
	gÃw‹rmMuÉByP»d
[
i
] = 
m©A¼
;

1322 
chªgeCÚ¡ªtsToNewIds
(
ŒueP»dIdxS‘_
, 
ŞdToNewCÚ¡Ids
,

1323 
Ãwfœ¡CÚ¡IdByTy³
, 
Ãw‹rmMuÉByP»d
);

1325 
chªgeCÚ¡ªtsToNewIds
(
çl£P»dIdxS‘_
, 
ŞdToNewCÚ¡Ids
,

1326 
Ãwfœ¡CÚ¡IdByTy³
, 
Ãw‹rmMuÉByP»d
);

1328 
chªgeCÚ¡ªtsToNewIds
(
aùiveP»dIdxS‘_
, 
ŞdToNewCÚ¡Ids
,

1329 
Ãwfœ¡CÚ¡IdByTy³
, 
Ãw‹rmMuÉByP»d
);

1331 
chªgeCÚ¡ªtsToNewIds
(
evid’ûP»dIdxS‘_
, 
ŞdToNewCÚ¡Ids
,

1332 
Ãwfœ¡CÚ¡IdByTy³
, 
Ãw‹rmMuÉByP»d
);

1334 
chªgeCÚ¡ªtsToNewIds
(
d—ùiv©edP»dIdxS‘_
, 
ŞdToNewCÚ¡Ids
,

1335 
Ãwfœ¡CÚ¡IdByTy³
, 
Ãw‹rmMuÉByP»d
);

1337 
chªgeCÚ¡ªtsToNewIds
(
ŒueEvIndex_
, 
ŞdToNewCÚ¡Ids
,

1338 
Ãwfœ¡CÚ¡IdByTy³
, 
Ãw‹rmMuÉByP»d
);

1353 
chªgeCÚ¡ªtsToNewIds
(
çl£EvIndex_
, 
ŞdToNewCÚ¡Ids
,

1354 
Ãwfœ¡CÚ¡IdByTy³
, 
Ãw‹rmMuÉByP»d
);

1356 
chªgeCÚ¡ªtsToNewIds
(
aùiveIndex_
, 
ŞdToNewCÚ¡Ids
,

1357 
Ãwfœ¡CÚ¡IdByTy³
, 
Ãw‹rmMuÉByP»d
);

1362 
	gfœ¡CÚ¡IdByTy³_
 = 
Ãwfœ¡CÚ¡IdByTy³
;

1364 
	gi
 = 0; i < 
	gnumFOP»ds
; i++)

1366 
d–‘e
 
	g‹rmMuÉByP»d_
[
i
];

1368 
	g‹rmMuÉByP»d_
 = 
Ãw‹rmMuÉByP»d
;

1373 
	g´iv©e
:

1384 cÚ¡ 
P»diÿ‹HashA¼ay
* 
	$g‘GndP»ds
(cÚ¡ & 
´edId
,

1385 cÚ¡ 
boŞ
& 
ŒuthV®ue
,

1386 cÚ¡ 
boŞ
& 
w™hEvid’û
) const

1388 
P»diÿ‹HashA¼ay
* 
´eds
 = 
Ãw
 
	`P»diÿ‹HashA¼ay
();

1389 
LÚgLÚgHashS‘
 
´edIdxS‘
;

1391 ià(
ŒuthV®ue
è
´edIdxS‘
 = (*
ŒueP»dIdxS‘_
)[
´edId
];

1392 
´edIdxS‘
 = (*
çl£P»dIdxS‘_
)[
´edId
];

1394 
LÚgLÚgHashS‘
::
cÚ¡_™”©Ü
 
™
 = 
´edIdxS‘
.
	`begš
();

1395 ; 
™
 !ğ
´edIdxS‘
.
	`’d
(); it++)

1398 ià(
w™hEvid’û
 ||

1399 (*
evid’ûP»dIdxS‘_
)[
´edId
].
	`fšd
(*
™
) ==

1400 (*
evid’ûP»dIdxS‘_
)[
´edId
].
	`’d
())

1402 
P»diÿ‹
* 
p
 = 
	`g‘P»dFromIdx
((*
™
),

1403 
domaš_
->
	`g‘P»diÿ‹Tem¶©e
(
´edId
));

1404 
´eds
->
	`­³nd
(
p
);

1407  
´eds
;

1408 
	}
}

1423 
g‘IdxOfGndP»dV®ues
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

1424 cÚ¡ 
A¼ay
<> & 
cu¼fœ¡CÚ¡IdByTy³
,

1425 cÚ¡ 
A¼ay
<A¼ay<
MuÉAndTy³
>*> & 
cu¼‹rmMuÉByP»d
) const

1429 
	gnumT”ms
 = 
´ed
->
g‘NumT”ms
();

1430 
	gA¼ay
<
	gMuÉAndTy³
>* 
	gmuÉAndTy³s
 = 
cu¼‹rmMuÉByP»d
[
´ed
->
g‘Id
()];

1431 
	gidx
 = 0;

1432 
	gi
 = 0; i < 
	gnumT”ms
; i++)

1434 
	gcÚ¡Id
 = 
´ed
->
g‘T”m
(
i
)->
g‘Id
();

1435 
as£¹
(
cÚ¡Id
 >= 0);

1437 
	gcÚ¡Idx
 =

1438 
domaš_
->
g‘CÚ¡ªtIndexInTy³
(
cÚ¡Id
, (*
muÉAndTy³s
)[
i
].
£cÚd
);

1440 
as£¹
(
cÚ¡Idx
 >= 0);

1442 
	gidx
 +ğ(*
muÉAndTy³s
)[
i
].
fœ¡


1443 * (
cÚ¡Id
 - 
cu¼fœ¡CÚ¡IdByTy³
[(*
muÉAndTy³s
)[
i
].
£cÚd
]);

1445  
	gidx
;

1449 
	$g‘IdxOfGndP»dV®ues
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
) const

1451  
	`g‘IdxOfGndP»dV®ues
(
´ed
, 
fœ¡CÚ¡IdByTy³_
, 
‹rmMuÉByP»d_
);

1452 
	}
}

1467 
g‘IdxOfGndP»dV®ues
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ed
,

1468 cÚ¡ 
A¼ay
<> & 
cu¼fœ¡CÚ¡IdByTy³
,

1469 cÚ¡ 
A¼ay
<A¼ay<
MuÉAndTy³
>*> & 
cu¼‹rmMuÉByP»d
) const

1471 
	gnumT”ms
 = 
´ed
->
g‘NumT”ms
();

1472 
	gA¼ay
<
	gMuÉAndTy³
>* 
	gmuÉAndTy³s
 = 
cu¼‹rmMuÉByP»d
[
´ed
->
g‘Id
()];

1473 
	gidx
 = 0;

1474 
	gi
 = 0; i < 
	gnumT”ms
; i++)

1476 
	gcÚ¡Id
 = 
´ed
->
g‘T”mId
(
i
);

1477 
as£¹
(
cÚ¡Id
 >= 0);

1479 
	gidx
 +ğ(*
muÉAndTy³s
)[
i
].
fœ¡


1480 * (
cÚ¡Id
 - 
cu¼fœ¡CÚ¡IdByTy³
[(*
muÉAndTy³s
)[
i
].
£cÚd
]);

1482  
	gidx
;

1486 
	$g‘IdxOfGndP»dV®ues
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ed
)

1489  
	`g‘IdxOfGndP»dV®ues
(
´ed
, 
fœ¡CÚ¡IdByTy³_
, 
‹rmMuÉByP»d_
);

1490 
	}
}

1500 
P»diÿ‹
* 
g‘P»dFromIdx
(
idx
,

1501 cÚ¡ 
P»diÿ‹Tem¶©e
* cÚ¡ & 
´edTem¶©e
,

1502 cÚ¡ 
A¼ay
<> & 
cu¼fœ¡CÚ¡IdByTy³
,

1503 cÚ¡ 
A¼ay
<A¼ay<
MuÉAndTy³
>*> & 
cu¼‹rmMuÉByP»d
) const

1505 
P»diÿ‹
* 
	gp
 = 
Ãw
 P»diÿ‹(
´edTem¶©e
);

1509 
	gA¼ay
<
	gMuÉAndTy³
>* 
	gmuÉAndTy³s
 = 
cu¼‹rmMuÉByP»d
[
p
->
g‘Id
()];

1536 
	gi
 = 0 ; i < 
	g´edTem¶©e
->
g‘NumT”ms
(); i++)

1538 
	gcÚ¡Id
 = (
idx
 / (*
muÉAndTy³s
)[
i
].
fœ¡
è+ 
cu¼fœ¡CÚ¡IdByTy³
[(*muÉAndTy³s)[i].
£cÚd
];

1539 
	gidx
 = 
idx
 % (*
muÉAndTy³s
)[
i
].
fœ¡
;

1540 
	gp
->
£tT”mToCÚ¡ªt
(
i
, 
cÚ¡Id
);

1565  
	gp
;

1568 
P»diÿ‹
* 
	$g‘P»dFromIdx
(
idx
,

1569 cÚ¡ 
P»diÿ‹Tem¶©e
* cÚ¡ & 
´edTem¶©e
) const

1571  
	`g‘P»dFromIdx
(
idx
, 
´edTem¶©e
, 
fœ¡CÚ¡IdByTy³_
,

1572 
‹rmMuÉByP»d_
);

1573 
	}
}

1576 
P»diÿ‹
* 
g‘P»dFromIdx
(
idx
,

1577 cÚ¡ 
P»diÿ‹Tem¶©e
* cÚ¡ & 
´edTem¶©e
, 
hash_m­
<,> & 
ŞdToNewCÚ¡Ids
) const

1579  
g‘P»dFromIdx
(
idx
, 
´edTem¶©e
, 
ŞdToNewCÚ¡Ids
, 
fœ¡CÚ¡IdByTy³_
,

1580 
‹rmMuÉByP»d_
);

1584 
P»diÿ‹
* 
g‘P»dFromIdx
(
idx
,

1585 cÚ¡ 
P»diÿ‹Tem¶©e
* cÚ¡ & 
´edTem¶©e
, 
hash_m­
<,> & 
ŞdToNewCÚ¡Ids
,

1586 cÚ¡ 
A¼ay
<> & 
cu¼fœ¡CÚ¡IdByTy³
,

1587 cÚ¡ 
A¼ay
<A¼ay<
MuÉAndTy³
>*> & 
cu¼‹rmMuÉByP»d
) const

1589 
P»diÿ‹
* 
	gp
 = 
Ãw
 P»diÿ‹(
´edTem¶©e
);

1590 
	gA¼ay
<
	gMuÉAndTy³
>* 
	gmuÉAndTy³s
 = 
cu¼‹rmMuÉByP»d
[
p
->
g‘Id
()];

1600 
	gi
 = 0 ; i < 
	g´edTem¶©e
->
g‘NumT”ms
(); i++)

1602 
	gcÚ¡Id
 = (
idx
 / (*
muÉAndTy³s
)[
i
].
fœ¡
è+ 
cu¼fœ¡CÚ¡IdByTy³
[(*muÉAndTy³s)[i].
£cÚd
];

1603 
	gidx
 = 
idx
 % (*
muÉAndTy³s
)[
i
].
fœ¡
;

1604 
	gp
->
£tT”mToCÚ¡ªt
(
i
, 
ŞdToNewCÚ¡Ids
[
cÚ¡Id
]);

1606  
	gp
;

1616 
chªgeCÚ¡ªtsToNewIds
(
A¼ay
<
LÚgLÚgHashS‘
 >* 
´edIdxS‘s
,

1617 
hash_m­
<,>& 
ŞdToNewCÚ¡Ids
,

1618 cÚ¡ 
A¼ay
<> & 
cu¼fœ¡CÚ¡IdByTy³
,

1619 cÚ¡ 
A¼ay
<A¼ay<
MuÉAndTy³
>*> & 
cu¼‹rmMuÉByP»d
)

1622 
	gi
 = 0; i < 
	g´edIdxS‘s
->
size
(); i++)

1624 
LÚgLÚgHashS‘
 
	gÃwHashS‘
;

1625 
	gLÚgLÚgHashS‘
& 
	g´edIdxS‘
 = (*
´edIdxS‘s
)[
i
];

1626 
	gLÚgLÚgHashS‘
::
cÚ¡_™”©Ü
 
™
 = 
´edIdxS‘
.
begš
();

1628 ; 
	g™
 !ğ
´edIdxS‘
.
’d
(); it++)

1635 
P»diÿ‹
* 
	gp
 = 
g‘P»dFromIdx
((*
™
), 
domaš_
->
g‘P»diÿ‹Tem¶©e
(
i
), 
ŞdToNewCÚ¡Ids
);

1653 
	gd
 = 
g‘IdxOfGndP»dV®ues
(
p
, 
cu¼fœ¡CÚ¡IdByTy³
,

1654 
cu¼‹rmMuÉByP»d
);

1655 
	gÃwHashS‘
.
š£¹
(
d
);

1656 
d–‘e
 
	gp
;

1658 
as£¹
(
´edIdxS‘
.
size
(è=ğ
ÃwHashS‘
.size());

1659 (*
	g´edIdxS‘s
)[
i
] = 
ÃwHashS‘
;

1670 
chªgeCÚ¡ªtsToNewIds
(
A¼ay
<
LÚgLÚgHashM­
>* 
´edIdxM­s
,

1671 
hash_m­
<,>& 
ŞdToNewCÚ¡Ids
,

1672 cÚ¡ 
A¼ay
<> & 
cu¼fœ¡CÚ¡IdByTy³
,

1673 cÚ¡ 
A¼ay
<A¼ay<
MuÉAndTy³
>*> & 
cu¼‹rmMuÉByP»d
)

1675 
	gi
 = 0; i < 
	g´edIdxM­s
->
size
(); i++)

1677 
LÚgLÚgHashM­
 
	gÃwHashM­
;

1678 
	gLÚgLÚgHashM­
& 
	g´edIdxM­
 = (*
´edIdxM­s
)[
i
];

1679 
	gLÚgLÚgHashM­
::
™”©Ü
 
™
 = 
´edIdxM­
.
begš
();

1680 ; 
	g™
 !ğ
´edIdxM­
.
’d
(); it++)

1682 
	g£t
<> 
	gÃwS‘
;

1684 
	g£t
<> 
	ggndšgs
 = (*
™
).
£cÚd
;

1685 
	g£t
<>::
cÚ¡_™”©Ü
 
£t™
 = 
gndšgs
.
begš
();

1687 ; 
	g£t™
 !ğ
gndšgs
.
’d
(); setit++)

1689 
P»diÿ‹
* 
	gp
 = 
g‘P»dFromIdx
((*
£t™
),

1690 
domaš_
->
g‘P»diÿ‹Tem¶©e
(
i
), 
ŞdToNewCÚ¡Ids
);

1703 
	gd
 = 
g‘IdxOfGndP»dV®ues
(
p
, 
cu¼fœ¡CÚ¡IdByTy³
,

1704 
cu¼‹rmMuÉByP»d
);

1705 
d–‘e
 
	gp
;

1706 
	gÃwS‘
.
š£¹
(
d
);

1710 
	g·œ
<, > 
	g¶aûAndCÚ¡ªt
 = (*
™
).
fœ¡
;

1711 
	g·œ
<, >

1712 
ÃwPÏûAndCÚ¡ªt
(
¶aûAndCÚ¡ªt
.
fœ¡
,

1713 
ŞdToNewCÚ¡Ids
[
¶aûAndCÚ¡ªt
.
£cÚd
]);

1714 
	gÃwHashM­
[
ÃwPÏûAndCÚ¡ªt
] = 
ÃwS‘
;

1716 
as£¹
(
´edIdxM­
.
size
(è=ğ
ÃwHashM­
.size());

1717 (*
	g´edIdxM­s
)[
i
] = 
ÃwHashM­
;

1728 
TruthV®ue
 
	$g‘V®ue
(cÚ¡ & 
idx
, cÚ¡ & 
´edId
) const

1730 
LÚgLÚgHashS‘
::
cÚ¡_™”©Ü
 
™
 = (*
ŒueP»dIdxS‘_
)[
´edId
].
	`fšd
(
idx
);

1731 ià(
™
 !ğ(*
ŒueP»dIdxS‘_
)[
´edId
].
	`’d
())

1733 ià(
dbdebug
 >ğ1è
cout
 << "»tuºšg TRUE" << 
’dl
;

1734  
TRUE
;

1737 ià(!
şo£dWÜld_
[
´edId
] && !
³rfÜmšgInã»nû_
)

1739 if((*
çl£P»dIdxS‘_
)[
´edId
].
	`fšd
(
idx
) !=

1740 (*
çl£P»dIdxS‘_
)[
´edId
].
	`’d
())

1742 ià(
dbdebug
 >ğ1è
cout
 << "»tuºšg FALSE" << 
’dl
;

1743  
FALSE
;

1747 ià(
dbdebug
 >ğ1è
cout
 << "»tuºšg UNKNOWN" << 
’dl
;

1748  
UNKNOWN
;

1751 ià(
dbdebug
 >ğ1è
cout
 << "»tuºšg FALSE" << 
’dl
;

1752  
FALSE
;

1753 
	}
}

1761 
boŞ
 
	$g‘AùiveStus
(cÚ¡ & 
idx
, cÚ¡ & 
´edId
) const

1764 ià(
	`g‘Evid’ûStus
(
idx
, 
´edId
))

1766 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšg f®£(1)" << 
’dl
;

1767  
çl£
;

1770 ià((*
aùiveP»dIdxS‘_
)[
´edId
].
	`fšd
(
idx
) !=

1771 (*
aùiveP»dIdxS‘_
)[
´edId
].
	`’d
())

1773 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšgrue" << 
’dl
;

1774  
Œue
;

1776 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšg f®£(2)" << 
’dl
;

1777  
çl£
;

1778 
	}
}

1786 
boŞ
 
	$g‘D—ùiv©edStus
(cÚ¡ & 
idx
, cÚ¡ & 
´edId
) const

1789 ià(
	`g‘Evid’ûStus
(
idx
, 
´edId
))

1791 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšg f®£(1)" << 
’dl
;

1792  
çl£
;

1795 ià((*
d—ùiv©edP»dIdxS‘_
)[
´edId
].
	`fšd
(
idx
) !=

1796 (*
d—ùiv©edP»dIdxS‘_
)[
´edId
].
	`’d
())

1798 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšgrue" << 
’dl
;

1799  
Œue
;

1801 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšg f®£(2)" << 
’dl
;

1802  
çl£
;

1803 
	}
}

1811 
boŞ
 
	$g‘Evid’ûStus
(cÚ¡ & 
idx
, cÚ¡ & 
´edId
) const

1814 ià(
şo£dWÜld_
[
´edId
])

1816 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšgrue(1)" << 
’dl
;

1817  
Œue
;

1819 ià((*
evid’ûP»dIdxS‘_
)[
´edId
].
	`fšd
(
idx
) !=

1820 (*
evid’ûP»dIdxS‘_
)[
´edId
].
	`’d
())

1822 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšgrue(2)" << 
’dl
;

1823  
Œue
;

1825 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšg f®£" << 
’dl
;

1826  
çl£
;

1827 
	}
}

1838 
TruthV®ue
 
	$£tV®ueH–³r
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
, cÚ¡ 
boŞ
& 
æ
,

1839 cÚ¡ 
TruthV®ue
& 
‰v
)

1841 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::£tV®ueH–³r" << 
’dl
;

1842 
P»diÿ‹
* 
µ»d
 = (P»diÿ‹ *)
´ed
;

1843 
	`as£¹
(
µ»d
->
	`isGrounded
());

1846 ià(
´ed
->
	`isEqu®P»dW™hTy³
())

1850 
TruthV®ue
 
aùu®


1851 ğ(
´ed
->
	`g‘T”m
(0)->
	`g‘Id
() ==…red->getTerm(1)->getId()) ?

1852 
TRUE
 : 
FALSE
;

1853 
TruthV®ue
 
İpos™e
 = (
aùu®
==
TRUE
è? 
FALSE
 : TRUE;

1856 
i
 = 0; i < 
İpEqGndP»ds_
.
	`size
(); i++)

1857 ià(
µ»d
->
	`§me
(
İpEqGndP»ds_
[
i
]))

1859 ià(
æ
 || 
‰v
 =ğ
aùu®
)

1861 
P»diÿ‹
* 
´
 = 
İpEqGndP»ds_
[
i
];

1862 
İpEqGndP»ds_
.
	`»moveI‹mFa¡DisÜd”
(
i
);

1863 
d–‘e
 
´
;

1865 ià(
dbdebug
 >ğ1è
cout
 << "»tuºšg " << 
İpos™e
 << 
’dl
;

1866  
İpos™e
;

1869 ià(
æ
 || 
‰v
 =ğ
İpos™e
è
İpEqGndP»ds_
.
	`­³nd
(
Ãw
 
	`P»diÿ‹
(*
´ed
));

1870 ià(
dbdebug
 >ğ1è
cout
 << "»tuºšg " << 
aùu®
 << 
’dl
;

1871  
aùu®
;

1874 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

1875 
´edId
 = 
´ed
->
	`g‘Id
();

1876  
	`£tV®ueH–³r
(
idx
, 
´edId
, 
æ
, 
‰v
, 
´ed
, 
NULL
);

1877 
	}
}

1889 
TruthV®ue
 
	$£tV®ueH–³r
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ed
,

1890 cÚ¡ 
boŞ
& 
æ
, cÚ¡ 
TruthV®ue
& 
‰v
)

1892 ià(
dbdebug
 >ğ1è
cout
 << "C®lšg d©aba£::£tV®ueH–³r" << 
’dl
;

1893 
idx
 = 
	`g‘IdxOfGndP»dV®ues
(
´ed
);

1894 
´edId
 = 
´ed
->
	`g‘Id
();

1895  
	`£tV®ueH–³r
(
idx
, 
´edId
, 
æ
, 
‰v
, 
NULL
, 
´ed
);

1896 
	}
}

1913 
TruthV®ue
 
	$£tV®ueH–³r
(cÚ¡ & 
idx
, cÚ¡ & 
´edId
,

1914 cÚ¡ 
boŞ
& 
æ
, cÚ¡ 
TruthV®ue
& 
‰v
,

1915 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

1916 cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
gndP»d
)

1918 
	`as£¹
((
´ed
 && !
gndP»d
) || (!pred && gndPred));

1919 
TruthV®ue
 
Şdtv
 = 
	`g‘V®ue
(
idx
, 
´edId
);

1921 
TruthV®ue
 
tv
 = 
‰v
;

1923 ià(
æ
)

1925 
	`as£¹
(
Şdtv
 =ğ
TRUE
 || oldtv =ğ
FALSE
);

1926 ià(
Şdtv
 =ğ
FALSE
è
tv
 = 
TRUE
;

1927 
tv
 = 
FALSE
;

1930 ià(
Şdtv
 !ğ
tv
)

1932 ià(
şo£dWÜld_
[
´edId
])

1934 ià(
Şdtv
 =ğ
TRUE
)

1936 
	`as£¹
(
tv
 =ğ
FALSE
);

1937 (*
´edIdToNumTF_
)[
´edId
].
numTrue
--;

1938 (*
ŒueP»dIdxS‘_
)[
´edId
].
	`”a£
(
idx
);

1942 
	`as£¹
(
Şdtv
 =ğ
FALSE
 && 
tv
 =ğ
TRUE
);

1943 (*
´edIdToNumTF_
)[
´edId
].
numTrue
++;

1944 (*
ŒueP»dIdxS‘_
)[
´edId
].
	`š£¹
(
idx
);

1949 ià(
Şdtv
 =ğ
UNKNOWN
)

1951 ià(
tv
 =ğ
TRUE
)

1953 (*
´edIdToNumTF_
)[
´edId
].
numTrue
++;

1954 (*
ŒueP»dIdxS‘_
)[
´edId
].
	`š£¹
(
idx
);

1958 (*
´edIdToNumTF_
)[
´edId
].
numF®£
++;

1959 ià(!
³rfÜmšgInã»nû_
è(*
çl£P»dIdxS‘_
)[
´edId
].
	`š£¹
(
idx
);

1963 ià(
Şdtv
 =ğ
TRUE
)

1965 (*
´edIdToNumTF_
)[
´edId
].
numTrue
--;

1966 (*
ŒueP»dIdxS‘_
)[
´edId
].
	`”a£
(
idx
);

1967 ià(
tv
 =ğ
FALSE
)

1969 (*
´edIdToNumTF_
)[
´edId
].
numF®£
++;

1970 ià(!
³rfÜmšgInã»nû_
è(*
çl£P»dIdxS‘_
)[
´edId
].
	`š£¹
(
idx
);

1975 
	`as£¹
(
Şdtv
 =ğ
FALSE
);

1976 (*
´edIdToNumTF_
)[
´edId
].
numF®£
--;

1977 ià(!
³rfÜmšgInã»nû_
è(*
çl£P»dIdxS‘_
)[
´edId
].
	`”a£
(
idx
);

1978 ià(
tv
 =ğ
TRUE
)

1980 (*
´edIdToNumTF_
)[
´edId
].
numTrue
++;

1981 (*
ŒueP»dIdxS‘_
)[
´edId
].
	`š£¹
(
idx
);

1986 ià(
dbdebug
 >ğ1è
cout
 << "»tuºšg " << 
Şdtv
 << 
’dl
;

1987  
Şdtv
;

1988 
	}
}

2000 
boŞ
 
	$£tAùiveStus
(cÚ¡ & 
idx
, cÚ¡ & 
´edId
,

2001 cÚ¡ 
boŞ
& 
as
, cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

2002 cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
gndP»d
)

2004 
	`as£¹
((
´ed
 && !
gndP»d
) || (!pred && gndPred));

2005 
boŞ
 
Şdas
 = 
	`g‘AùiveStus
(
idx
, 
´edId
);

2006 ià(
Şdas
 !ğ
as
)

2008 ià(
as
)

2010 (*
aùiveP»dIdxS‘_
)[
´edId
].
	`š£¹
(
idx
);

2014 (*
aùiveP»dIdxS‘_
)[
´edId
].
	`”a£
(
idx
);

2018 ià(
ÏzyFÏg_
)

2020 ià(
as
)

2022 ià(
´ed
è
	`addToInv”‹dIndex
Õ»d, 
idx
, 
A_INDEX
);

2023 ià(
gndP»d
è
	`addToInv”‹dIndex
(gndP»d, 
idx
, 
A_INDEX
);

2027 ià(
´ed
è
	`»moveFromInv”‹dIndex
Õ»d, 
idx
, 
A_INDEX
);

2028 ià(
gndP»d
è
	`»moveFromInv”‹dIndex
(gndP»d, 
idx
, 
A_INDEX
);

2032 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšg " << 
Şdas
 << 
’dl
;

2033  
Şdas
;

2034 
	}
}

2042 
boŞ
 
	$£tD—ùiv©edStus
(cÚ¡ & 
idx
, cÚ¡ & 
´edId
,

2043 cÚ¡ 
boŞ
& 
das
)

2045 
boŞ
 
Şddas
 = 
	`g‘D—ùiv©edStus
(
idx
, 
´edId
);

2046 ià(
Şddas
 !ğ
das
)

2048 ià(
das
)

2050 (*
d—ùiv©edP»dIdxS‘_
)[
´edId
].
	`š£¹
(
idx
);

2054 (*
d—ùiv©edP»dIdxS‘_
)[
´edId
].
	`”a£
(
idx
);

2057 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšg " << 
Şddas
 << 
’dl
;

2058  
Şddas
;

2059 
	}
}

2067 
boŞ
 
	$£tEvid’ûStus
(cÚ¡ & 
idx
, cÚ¡ & 
´edId
, cÚ¡ 
boŞ
& 
es
)

2069 
boŞ
 
Şdes
 = 
	`g‘Evid’ûStus
(
idx
, 
´edId
);

2070 ià(
Şdes
 !ğ
es
)

2072 ià(
es
)

2074 (*
evid’ûP»dIdxS‘_
)[
´edId
].
	`š£¹
(
idx
);

2078 (*
evid’ûP»dIdxS‘_
)[
´edId
].
	`”a£
(
idx
);

2081 ià(
dbdebug
 >ğ1è
cout
 << "R‘uºšg " << 
Şdes
 << 
’dl
;

2082  
Şdes
;

2083 
	}
}

2088 
	$addToInv”‹dIndex
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

2089 cÚ¡ & 
´edIdx
, 
IndexTy³
 
idxTy³
)

2092 
	`as£¹
(((
P»diÿ‹
*)
´ed
)->
	`isGrounded
());

2093 
´edId
 = 
´ed
->
	`g‘Id
();

2094 
	`as£¹
(
´edId
 < 
ŒueEvIndex_
->
	`size
());

2095 
‹rm
 = 0;”m < 
´ed
->
	`g‘NumT”ms
();erm++)

2097 
cÚ¡ªtId
 = 
´ed
->
	`g‘T”m
(
‹rm
)->
	`g‘Id
();

2098 
	`as£¹
(
cÚ¡ªtId
 >= 0);

2100 
·œ
<, > 
	`¶aûAndCÚ¡ªt
(
‹rm
, 
cÚ¡ªtId
);

2101 
·œ
<
£t
<>::
™”©Ü
, 
boŞ
> 
´evEËm’t
;

2103 ià(
idxTy³
 =ğ
T_INDEX
)

2105 
´evEËm’t
 =

2106 ((*
ŒueEvIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
	`š£¹
(
´edIdx
);

2109 ià(!
´evEËm’t
.
£cÚd
)

2110 
	`as£¹
(
´edIdx
 =ğ*(
´evEËm’t
.
fœ¡
));

2113 ià(
idxTy³
 =ğ
F_INDEX
)

2115 
´evEËm’t
 =

2116 ((*
çl£EvIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
	`š£¹
(
´edIdx
);

2119 ià(!
´evEËm’t
.
£cÚd
)

2120 
	`as£¹
(
´edIdx
 =ğ*(
´evEËm’t
.
fœ¡
));

2123 ià(
idxTy³
 =ğ
A_INDEX
)

2125 
´evEËm’t
 =

2126 ((*
aùiveIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
	`š£¹
(
´edIdx
);

2129 ià(!
´evEËm’t
.
£cÚd
)

2130 
	`as£¹
(
´edIdx
 =ğ*(
´evEËm’t
.
fœ¡
));

2133 
	}
}

2138 
	$addToInv”‹dIndex
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ed
,

2139 cÚ¡ & 
´edIdx
, 
IndexTy³
 
idxTy³
)

2141 
´edId
 = 
´ed
->
	`g‘Id
();

2142 
	`as£¹
(
´edId
 < 
ŒueEvIndex_
->
	`size
());

2143 
‹rm
 = 0;”m < 
´ed
->
	`g‘NumT”ms
();erm++)

2145 
cÚ¡ªtId
 = 
´ed
->
	`g‘T”mId
(
‹rm
);

2146 
	`as£¹
(
cÚ¡ªtId
 >= 0);

2148 
·œ
<, > 
	`¶aûAndCÚ¡ªt
(
‹rm
, 
cÚ¡ªtId
);

2149 
·œ
<
£t
<>::
™”©Ü
, 
boŞ
> 
´evEËm’t
;

2151 ià(
idxTy³
 =ğ
T_INDEX
)

2153 
´evEËm’t
 =

2154 ((*
ŒueEvIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
	`š£¹
(
´edIdx
);

2157 ià(!
´evEËm’t
.
£cÚd
)

2158 
	`as£¹
(
´edIdx
 =ğ*(
´evEËm’t
.
fœ¡
));

2161 ià(
idxTy³
 =ğ
F_INDEX
)

2163 
´evEËm’t
 =

2164 ((*
çl£EvIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
	`š£¹
(
´edIdx
);

2167 ià(!
´evEËm’t
.
£cÚd
)

2168 
	`as£¹
(
´edIdx
 =ğ*(
´evEËm’t
.
fœ¡
));

2171 ià(
idxTy³
 =ğ
A_INDEX
)

2173 
´evEËm’t
 =

2174 ((*
aùiveIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
	`š£¹
(
´edIdx
);

2177 ià(!
´evEËm’t
.
£cÚd
)

2178 
	`as£¹
(
´edIdx
 =ğ*(
´evEËm’t
.
fœ¡
));

2181 
	}
}

2186 
	$»moveFromInv”‹dIndex
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

2187 cÚ¡ & 
´edIdx
,

2188 
IndexTy³
 
idxTy³
)

2191 
	`as£¹
(((
P»diÿ‹
*)
´ed
)->
	`isGrounded
());

2192 
´edId
 = 
´ed
->
	`g‘Id
();

2193 
	`as£¹
(
´edId
 < 
ŒueEvIndex_
->
	`size
());

2194 
‹rm
 = 0;”m < 
´ed
->
	`g‘NumT”ms
();erm++)

2196 
cÚ¡ªtId
 = 
´ed
->
	`g‘T”m
(
‹rm
)->
	`g‘Id
();

2197 
	`as£¹
(
cÚ¡ªtId
 >= 0);

2199 
·œ
<, > 
	`¶aûAndCÚ¡ªt
(
‹rm
, 
cÚ¡ªtId
);

2200 
·œ
<
£t
<>::
™”©Ü
, 
boŞ
> 
´evEËm’t
;

2201 
numE¿£d
 = 0;

2203 ià(
idxTy³
 =ğ
T_INDEX
)

2205 
numE¿£d
 = ((*
ŒueEvIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
	`”a£
(
´edIdx
);

2206 
	`as£¹
(
numE¿£d
 <= 1);

2209 ià(
idxTy³
 =ğ
F_INDEX
)

2211 
numE¿£d
 = ((*
çl£EvIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
	`”a£
(
´edIdx
);

2212 
	`as£¹
(
numE¿£d
 <= 1);

2215 ià(
idxTy³
 =ğ
A_INDEX
)

2217 
numE¿£d
 =

2218 ((*
aùiveIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
	`”a£
(
´edIdx
);

2219 
	`as£¹
(
numE¿£d
 <= 1);

2222 
	}
}

2227 
	$»moveFromInv”‹dIndex
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ed
,

2228 cÚ¡ & 
´edIdx
,

2229 
IndexTy³
 
idxTy³
)

2231 
´edId
 = 
´ed
->
	`g‘Id
();

2232 
	`as£¹
(
´edId
 < 
ŒueEvIndex_
->
	`size
());

2233 
‹rm
 = 0;”m < 
´ed
->
	`g‘NumT”ms
();erm++)

2235 
cÚ¡ªtId
 = 
´ed
->
	`g‘T”mId
(
‹rm
);

2236 
	`as£¹
(
cÚ¡ªtId
 >= 0);

2238 
·œ
<, > 
	`¶aûAndCÚ¡ªt
(
‹rm
, 
cÚ¡ªtId
);

2239 
·œ
<
£t
<>::
™”©Ü
, 
boŞ
> 
´evEËm’t
;

2240 
numE¿£d
 = 0;

2242 ià(
idxTy³
 =ğ
T_INDEX
)

2244 
numE¿£d
 = ((*
ŒueEvIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
	`”a£
(
´edIdx
);

2245 
	`as£¹
(
numE¿£d
 <= 1);

2248 ià(
idxTy³
 =ğ
F_INDEX
)

2250 
numE¿£d
 = ((*
çl£EvIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
	`”a£
(
´edIdx
);

2251 
	`as£¹
(
numE¿£d
 <= 1);

2254 ià(
idxTy³
 =ğ
A_INDEX
)

2256 
numE¿£d
 =

2257 ((*
aùiveIndex_
)[
´edId
])[
¶aûAndCÚ¡ªt
].
	`”a£
(
´edIdx
);

2258 
	`as£¹
(
numE¿£d
 <= 1);

2261 
	}
}

2263 
	g´iv©e
:

2264 cÚ¡ 
Domaš
* 
domaš_
;

2267 
	gA¼ay
<
	gboŞ
> 
	gşo£dWÜld_
;

2270 
boŞ
 
	gÏzyFÏg_
;

2274 
boŞ
 
	g³rfÜmšgInã»nû_
;

2277 
	gA¼ay
<> 
	gfœ¡CÚ¡IdByTy³_
;

2285 
	gA¼ay
<A¼ay<
	gMuÉAndTy³
>*> 
	g‹rmMuÉByP»d_
;

2289 
	gA¼ay
<
	gNumTrueF®£
>* 
	g´edIdToNumTF_
;

2296 
	gA¼ay
<
	gP»diÿ‹
*> 
	gİpEqGndP»ds_
;

2301 
	gA¼ay
<
	gLÚgLÚgHashM­
>* 
	gŒueEvIndex_
;

2306 
	gA¼ay
<
	gLÚgLÚgHashM­
>* 
	gçl£EvIndex_
;

2311 
	gA¼ay
<
	gLÚgLÚgHashM­
>* 
	gaùiveIndex_
;

2314 
	gA¼ay
<
	gLÚgLÚgHashS‘
>* 
	gŒueP»dIdxS‘_
;

2317 
	gA¼ay
<
	gLÚgLÚgHashS‘
>* 
	gçl£P»dIdxS‘_
;

2320 
	gA¼ay
<
	gLÚgLÚgHashS‘
>* 
	gaùiveP»dIdxS‘_
;

2323 
	gA¼ay
<
	gLÚgLÚgHashS‘
>* 
	gevid’ûP»dIdxS‘_
;

2326 
	gA¼ay
<
	gLÚgLÚgHashS‘
>* 
	gd—ùiv©edP»dIdxS‘_
;

2329 
	gA¼ay
<> 
	gnumb”OfGroundšgs_
;

2332 
LÚgLÚgToDoubËM­
 
	g»®V®ues_
;

	@logic/domain.cpp

67 
	~"şau£.h
"

68 
	~"domaš.h
"

69 
	~"d©aba£.h
"

70 
	~"mÊ.h
"

71 
	~"Œueçl£groundšgs¡Üe.h
"

73 cÚ¡ * 
	gDomaš
::
PROPOSITIONAL_TYPE
 = "AlchemyPropositionalType";

74 cÚ¡ * 
	gDomaš
::
PROPOSITIONAL_CONSTANT
 = "AlchemyPropositionalConstant";

76 
	gDomaš
::~
	$Domaš
()

78 ià(
ty³Du®M­_
è
d–‘e
ypeDualMap_;

79 ià(
cÚ¡Du®M­_
è
d–‘e
 constDualMap_;

81 ià(
¡rToP»dTem¶©eM­_
)

85 
SŒToP»dTem¶©eM­
::
™”©Ü
 
™
 = 
¡rToP»dTem¶©eM­_
->
	`begš
();

86 ; 
™
 !ğ
¡rToP»dTem¶©eM­_
->
	`’d
(); it++)

87 
	`d–‘e
 (*
™
).
£cÚd
;

88 
d–‘e
 
¡rToP»dTem¶©eM­_
;

90 ià(
´edDu®M­_
è
d–‘e
…redDualMap_;

92 ià(
¡rToFuncTem¶©eM­_
)

96 
SŒToFuncTem¶©eM­
::
™”©Ü
 
™2
 = 
¡rToFuncTem¶©eM­_
->
	`begš
();

97 ; 
™2
 !ğ
¡rToFuncTem¶©eM­_
->
	`’d
(); it2++)

98 
	`d–‘e
 (*
™2
).
£cÚd
;

99 
d–‘e
 
¡rToFuncTem¶©eM­_
;

101 ià(
funcDu®M­_
è
d–‘e
 funcDualMap_;

103 ià(
equ®P»dTem¶©e_
è
d–‘e
ƒqualPredTemplate_;

105 ià(
em±yP»dTem¶©e_
è
d–‘e
ƒmptyPredTemplate_;

107 ià(
em±yFuncUÇryTem¶©e_
è
d–‘e
ƒmptyFuncUnaryTemplate_;

109 ià(
em±yFuncBš¬yTem¶©e_
è
d–‘e
ƒmptyFuncBinaryTemplate_;

111 ià(
cÚ¡ªtsByTy³_
)

113 
i
 = 0; i < 
cÚ¡ªtsByTy³_
->
	`size
(); i++)

114 
	`d–‘e
 (*
cÚ¡ªtsByTy³_
)[
i
];

115 
d–‘e
 
cÚ¡ªtsByTy³_
;

118 ià(
ex‹º®CÚ¡ªtsByTy³_
)

120 
i
 = 0; i < 
ex‹º®CÚ¡ªtsByTy³_
->
	`size
(); i++)

121 
	`d–‘e
 (*
ex‹º®CÚ¡ªtsByTy³_
)[
i
];

122 
d–‘e
 
ex‹º®CÚ¡ªtsByTy³_
;

125 ià(
´edBlocks_
)

127 
i
 = 0; i < 
´edBlocks_
->
	`size
(); i++)

128 
	`d–‘e
 (*
´edBlocks_
)[
i
];

129 
d–‘e
 
´edBlocks_
;

132 ià(
ŒueP»dsInBlock_
)

134 
i
 = 0; i < 
ŒueP»dsInBlock_
->
	`size
(); i++)

135 
	`d–‘e
 (*
ŒueP»dsInBlock_
)[
i
];

136 
d–‘e
 
ŒueP»dsInBlock_
;

139 ià(
blockSizes_
è
d–‘e
 blockSizes_;

141 ià(
blockEvid’û_
è
d–‘e
 blockEvidence_;

143 ià(
db_
è
d–‘e
 db_;

145 ià(
ŒueF®£GroundšgsStÜe_
è
d–‘e
rueFalseGroundingsStore_;

147 ià(
funcS‘_
)

149 
FunùiÚS‘
::
™”©Ü
 
f™
;

150 !
funcS‘_
->
	`em±y
())

152 
f™
 = 
funcS‘_
->
	`begš
();

153 
funcS‘_
->
	`”a£
(
f™
);

154 
d–‘e
 *
f™
;

156 
d–‘e
 
funcS‘_
;

161 ià(
numNÚEvidAtomsP”P»d_
è
d–‘e
‚umNonEvidAtomsPerPred_;

162 ià(
numTrueNÚEvidGndšgsP”CÏu£_
è
d–‘e
‚umTrueNonEvidGndingsPerClause_;

163 ià(
numF®£NÚEvidGndšgsP”CÏu£_
è
d–‘e
‚umFalseNonEvidGndingsPerClause_;

164 
	}
}

167 
	gDomaš
::
	$d–‘eDB
(è{ ià(
db_
è
d–‘e
 db_; db_ = 
NULL
; 
	}
}

170 
	gDomaš
::
	$ÃwTrueF®£GroundšgsStÜe
()

171 { 
ŒueF®£GroundšgsStÜe_
 = 
Ãw
 
	`TrueF®£GroundšgsStÜe
(
this
); 
	}
}

174 
	gDomaš
::
	$com´ess
()

176 
ty³Du®M­_
->
	`com´ess
();

177 
cÚ¡Du®M­_
->
	`com´ess
();

178 
´edDu®M­_
->
	`com´ess
();

179 
funcDu®M­_
->
	`com´ess
();

180 
cÚ¡ªtsByTy³_
->
	`com´ess
();

181 
i
 = 0; i < 
cÚ¡ªtsByTy³_
->
	`size
(); i++)

182 (*
cÚ¡ªtsByTy³_
)[
i
]->
	`com´ess
();

183 
ex‹º®CÚ¡ªtsByTy³_
->
	`com´ess
();

184 
i
 = 0; i < 
ex‹º®CÚ¡ªtsByTy³_
->
	`size
(); i++)

185 (*
ex‹º®CÚ¡ªtsByTy³_
)[
i
]->
	`com´ess
();

186 
db_
->
	`com´ess
();

187 
	}
}

194 
	gDomaš
::
upd©eP”OldToNewIds
(
MLN
* cÚ¡ & 
mÊ
,

195 
hash_m­
<,> & 
ŞdToNewCÚ¡Ids
)

198 cÚ¡ 
CÏu£HashA¼ay
* 
	gşau£s
 = 
mÊ
->
g‘CÏu£s
();

200 
	gi
 = 0; i < 
	gşau£s
->
size
(); i++)

202 
CÏu£
* 
	gc
 = (*
şau£s
)[
i
];

203 
	gi
 = 0; i < 
	gc
->
g‘NumP»diÿ‹s
(); i++)

204 
chªgeP»dT”msToNewIds
(
c
->
g‘P»diÿ‹
(
i
), 
ŞdToNewCÚ¡Ids
);

207 cÚ¡ 
	gA¼ay
<
	gCÏu£
*>* 
	ghşau£s
 = 
mÊ
->
g‘HybridCÏu£s
();

208 
	gi
 = 0; i < 
	ghşau£s
->
size
(); i++)

210 
CÏu£
* 
	gc
 = (*
hşau£s
)[
i
];

211 
	gi
 = 0; i < 
	gc
->
g‘NumP»diÿ‹s
(); i++)

212 
chªgeP»dT”msToNewIds
(
c
->
g‘P»diÿ‹
(
i
), 
ŞdToNewCÚ¡Ids
);

216 
	gi
 = 0; i < 
	g´edBlocks_
->
size
(); i++)

218 
chªgeP»dT”msToNewIds
((*
´edBlocks_
)[
i
], 
ŞdToNewCÚ¡Ids
);

220 
	gi
 = 0; i < 
	gŒueP»dsInBlock_
->
size
(); i++)

222 
chªgeP»dT”msToNewIds
((*
ŒueP»dsInBlock_
)[
i
], 
ŞdToNewCÚ¡Ids
);

226 ià(
	gdb_
)

228 
	gdb_
->
chªgeCÚ¡ªtsToNewIds
(
ŞdToNewCÚ¡Ids
);

233 
	gDomaš
::
»Üd”CÚ¡ªts
(
MLN
* cÚ¡ & 
mÊ
,

234 
hash_m­
<, 
P»diÿ‹HashA¼ay
*>& 
´edIdToP»dsM­
)

236 
	ghash_m­
<,> 
	gŞdToNewCÚ¡Ids
;

238 
CÚ¡Du®M­
* 
	gÃwCÚ¡Du®M­
 = 
Ãw
 ConstDualMap;

239 
	gA¼ay
<A¼ay<>*>* 
	gÃwCÚ¡ªtsByTy³
 = 
Ãw
 
A¼ay
<Array<>*>;

240 
	gA¼ay
<A¼ay<>*>* 
	gÃwEx‹º®CÚ¡ªtsByTy³
 = 
Ãw
 
A¼ay
<Array<>*>;

242 
	g´evNewCÚ¡Id
 = -1;

243 
boŞ
 
	gcÚ¡Chªged
 = 
çl£
;

244 
	gi
 = 0; i < 
	gcÚ¡ªtsByTy³_
->
size
(); i++)

246 
	gÃwCÚ¡ªtsByTy³
->
­³nd
(
Ãw
 
A¼ay
<>);

247 
	gA¼ay
<>* 
	gcÚ¡Ids
 = (*
cÚ¡ªtsByTy³_
)[
i
];

248 
	gj
 = 0; j < 
	gcÚ¡Ids
->
size
(); j++)

250 
	gcÚ¡Id
 = (*
cÚ¡Ids
)[
j
];

251 cÚ¡ * 
	gcÚ¡Name
 = 
g‘CÚ¡ªtName
(
cÚ¡Id
);

252 
	gÃwCÚ¡Id
 = 
ÃwCÚ¡Du®M­
->
š£¹
(
cÚ¡Name
, 
i
);

253 
	g´evNewCÚ¡Id
 = 
ÃwCÚ¡Id
;

254 (*
	gÃwCÚ¡ªtsByTy³
)[
i
]->
­³nd
(
ÃwCÚ¡Id
);

255 
	gŞdToNewCÚ¡Ids
[
cÚ¡Id
] = 
ÃwCÚ¡Id
;

256 ià(
	gcÚ¡Id
 !ğ
ÃwCÚ¡Id
è
cÚ¡Chªged
 = 
Œue
;

259 
	gi
 = 0; i < 
	gex‹º®CÚ¡ªtsByTy³_
->
size
(); i++)

261 
	gÃwEx‹º®CÚ¡ªtsByTy³
->
­³nd
(
Ãw
 
A¼ay
<>);

262 
	gA¼ay
<>* 
	gcÚ¡Ids
 = (*
ex‹º®CÚ¡ªtsByTy³_
)[
i
];

263 
	gj
 = 0; j < 
	gcÚ¡Ids
->
size
(); j++)

265 
	gcÚ¡Id
 = (*
cÚ¡Ids
)[
j
];

266 cÚ¡ * 
	gcÚ¡Name
 = 
g‘CÚ¡ªtName
(
cÚ¡Id
);

267 
	gÃwCÚ¡Id
 = 
ÃwCÚ¡Du®M­
->
š£¹
(
cÚ¡Name
, 
i
);

268 
	g´evNewCÚ¡Id
 = 
ÃwCÚ¡Id
;

269 (*
	gÃwEx‹º®CÚ¡ªtsByTy³
)[
i
]->
­³nd
(
ÃwCÚ¡Id
);

270 
	gŞdToNewCÚ¡Ids
[
cÚ¡Id
] = 
ÃwCÚ¡Id
;

271 ià(
	gcÚ¡Id
 !ğ
ÃwCÚ¡Id
è
cÚ¡Chªged
 = 
Œue
;

275 ià(!
	gcÚ¡Chªged
)

277 
d–‘e
 
	gÃwCÚ¡Du®M­
;

278 
	gi
 = 0; i < 
	gÃwCÚ¡ªtsByTy³
->
size
(); i++)

279 
d–‘e
 (*
ÃwCÚ¡ªtsByTy³
)[
i
];

280 
d–‘e
 
	gÃwCÚ¡ªtsByTy³
;

281 
	gi
 = 0; i < 
	gÃwEx‹º®CÚ¡ªtsByTy³
->
size
(); i++)

282 
d–‘e
 (*
ÃwEx‹º®CÚ¡ªtsByTy³
)[
i
];

283 
d–‘e
 
	gÃwEx‹º®CÚ¡ªtsByTy³
;

287 
d–‘e
 
	gcÚ¡Du®M­_
;

288 
	gi
 = 0; i < 
	gcÚ¡ªtsByTy³_
->
size
(); i++)

289 
d–‘e
 (*
cÚ¡ªtsByTy³_
)[
i
];

290 
d–‘e
 
	gcÚ¡ªtsByTy³_
;

291 
	gi
 = 0; i < 
	gex‹º®CÚ¡ªtsByTy³_
->
size
(); i++)

292 
d–‘e
 (*
ex‹º®CÚ¡ªtsByTy³_
)[
i
];

293 
d–‘e
 
	gex‹º®CÚ¡ªtsByTy³_
;

295 
	gcÚ¡Du®M­_
 = 
ÃwCÚ¡Du®M­
;

296 
	gcÚ¡ªtsByTy³_
 = 
ÃwCÚ¡ªtsByTy³
;

297 
	gex‹º®CÚ¡ªtsByTy³_
 = 
ÃwEx‹º®CÚ¡ªtsByTy³
;

299 
	gcÚ¡ªtsByTy³_
->
com´ess
();

300 
	gi
 = 0; i < 
	gcÚ¡ªtsByTy³_
->
size
(); i++)

301 (*
	gcÚ¡ªtsByTy³_
)[
i
]->
com´ess
();

302 
	gex‹º®CÚ¡ªtsByTy³_
->
com´ess
();

303 
	gi
 = 0; i < 
	gex‹º®CÚ¡ªtsByTy³_
->
size
(); i++)

304 (*
	gex‹º®CÚ¡ªtsByTy³_
)[
i
]->
com´ess
();

305 
	gcÚ¡Du®M­_
->
com´ess
();

308 
upd©eP”OldToNewIds
(
mÊ
, 
ŞdToNewCÚ¡Ids
);

311 
	ghash_m­
<, 
	gP»diÿ‹HashA¼ay
*>::
™”©Ü
 
m™
 = 
´edIdToP»dsM­
.
begš
();

312 ; 
	gm™
 !ğ
´edIdToP»dsM­
.
’d
(); mit++)

314 
P»diÿ‹HashA¼ay
* 
	gpha
 = (*
m™
).
£cÚd
;

315 
	gi
 = 0; i < 
	gpha
->
size
(); i++ )

316 
chªgeP»dT”msToNewIds
((*
pha
)[
i
], 
ŞdToNewCÚ¡Ids
);

321 
	gmÊ
->
»hashCÏu£s
();

324 
	gDomaš
::
	$´štGroundP»dsAndTruthV®s
()

326 
‹rmId
, 
v¬IdCÁ
 = 0;

327 
¡ršg
 
´ed
 = "SameAuthor";

328 
¡ršg
 
´edName
 = 
´ed
;

329 cÚ¡ 
P»diÿ‹Tem¶©e
* 
±em¶©e
;

330 
±em¶©e
 = 
	`g‘P»diÿ‹Tem¶©e
(
´edName
.
	`c_¡r
());

331 
P»diÿ‹
 
	`µ»d
(
±em¶©e
);

332 
i
 = 0; i < 
±em¶©e
->
	`g‘NumT”ms
(); i++)

333 
µ»d
.
	`­³ndT”m
(
Ãw
 
	`T”m
(--
v¬IdCÁ
, (*)&µ»d, 
Œue
));

334 
A¼ay
<
V¬sTy³Id
*>* 
vtiA¼
;

335 
vtiA¼
 = 
NULL
;

336 
µ»d
.
	`ü—‹V¬sTy³IdA¼
(
vtiA¼
);

337 
A¼aysAcûssÜ
<> 
acc
;

338 
i
 = 1; i < 
vtiA¼
->
	`size
(); i++)

340 cÚ¡ 
A¼ay
<>* 
cÚs
 =

341 
	`g‘CÚ¡ªtsByTy³
((*
vtiA¼
)[
i
]->
ty³Id
);

342 
acc
.
	`­³ndA¼ay
(
cÚs
);

346 
A¼ay
<> 
cÚ¡Ids
;

347 
acc
.
	`g‘NextCombš©iÚ
(
cÚ¡Ids
))

349 
	`as£¹
(
cÚ¡Ids
.
	`size
(è=ğ
vtiA¼
->size()-1);

350 
j
 = 0; j < 
cÚ¡Ids
.
	`size
(); j++)

352 
A¼ay
<
T”m
*>& 
‹rms
 = (*
vtiA¼
)[
j
+1]->
v¬s
;

353 
k
 = 0; k < 
‹rms
.
	`size
(); k++)

354 
‹rms
[
k
]->
	`£tId
(
cÚ¡Ids
[
j
]);

358 
	`as£¹
(!
db_
->
	`isClo£dWÜld
(
µ»d
.
	`g‘Id
()));

359 
cout
<<"constIds‡rray : ";

360 
	`´štA¼ay
(
cÚ¡Ids
,
cout
);

361 
cout
<<
’dl
;

362 
TruthV®ue
 
tv
 = 
db_
->
	`g‘V®ue
(&
µ»d
);

363 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
(&
µ»d
);

364 
cout
<<"processing SameAuthor ground…redicate : " ;

366 
gndP»d
->
	`´št
(
cout
,
this
);

367 
cout
<<" withruth value : ";

368 if(
tv
 =ğ
TRUE
è
cout
<<"Œue"<<
’dl
;

369 if(
tv
 =ğ
FALSE
è
cout
<<"çl£"<<
’dl
;

370 if(
tv
 =ğ
UNKNOWN
è
cout
<<"unknown"<<
’dl
;

374 
	}
}

377 
	gDomaš
::
	$»Üd”CÚ¡ªts
(
MLN
* cÚ¡ & 
mÊ
)

379 
hash_m­
<,> 
ŞdToNewCÚ¡Ids
;

381 
CÚ¡Du®M­
* 
ÃwCÚ¡Du®M­
 = 
Ãw
 ConstDualMap;

382 
A¼ay
<A¼ay<>*>* 
ÃwCÚ¡ªtsByTy³
 = 
Ãw
 Array<Array<>*>;

383 
A¼ay
<A¼ay<>*>* 
ÃwEx‹º®CÚ¡ªtsByTy³
 = 
Ãw
 Array<Array<>*>;

385 
´evNewCÚ¡Id
 = -1;

386 
boŞ
 
cÚ¡Chªged
 = 
çl£
;

387 
	`as£¹
(
cÚ¡ªtsByTy³_
->
	`size
(è=ğ
ex‹º®CÚ¡ªtsByTy³_
->size());

389 
i
 = 0; i < 
cÚ¡ªtsByTy³_
->
	`size
(); i++)

391 
ÃwCÚ¡ªtsByTy³
->
	`­³nd
(
Ãw
 
A¼ay
<>);

392 
A¼ay
<>* 
cÚ¡Ids
 = (*
cÚ¡ªtsByTy³_
)[
i
];

395 
j
 = 0; j < 
cÚ¡Ids
->
	`size
(); j++)

397 
cÚ¡Id
 = (*
cÚ¡Ids
)[
j
];

398 cÚ¡ * 
cÚ¡Name
 = 
	`g‘CÚ¡ªtName
(
cÚ¡Id
);

399 
ÃwCÚ¡Id
 = 
ÃwCÚ¡Du®M­
->
	`š£¹
(
cÚ¡Name
, 
i
);

403 
´evNewCÚ¡Id
 = 
ÃwCÚ¡Id
;

404 (*
ÃwCÚ¡ªtsByTy³
)[
i
]->
	`­³nd
(
ÃwCÚ¡Id
);

405 
ŞdToNewCÚ¡Ids
[
cÚ¡Id
] = 
ÃwCÚ¡Id
;

406 ià(
cÚ¡Id
 !ğ
ÃwCÚ¡Id
è
cÚ¡Chªged
 = 
Œue
;

408 
ÃwEx‹º®CÚ¡ªtsByTy³
->
	`­³nd
(
Ãw
 
A¼ay
<>);

409 
A¼ay
<>* 
extCÚ¡Ids
 = (*
ex‹º®CÚ¡ªtsByTy³_
)[
i
];

411 
j
 = 0; j < 
extCÚ¡Ids
->
	`size
(); j++)

413 
cÚ¡Id
 = (*
extCÚ¡Ids
)[
j
];

414 cÚ¡ * 
cÚ¡Name
 = 
	`g‘CÚ¡ªtName
(
cÚ¡Id
);

415 
ÃwCÚ¡Id
 = 
ÃwCÚ¡Du®M­
->
	`š£¹
(
cÚ¡Name
, 
i
);

416 
´evNewCÚ¡Id
 = 
ÃwCÚ¡Id
;

420 (*
ÃwEx‹º®CÚ¡ªtsByTy³
)[
i
]->
	`­³nd
(
ÃwCÚ¡Id
);

421 
ŞdToNewCÚ¡Ids
[
cÚ¡Id
] = 
ÃwCÚ¡Id
;

422 ià(
cÚ¡Id
 !ğ
ÃwCÚ¡Id
è
cÚ¡Chªged
 = 
Œue
;

426 ià(!
cÚ¡Chªged
)

428 
d–‘e
 
ÃwCÚ¡Du®M­
;

429 
i
 = 0; i < 
ÃwCÚ¡ªtsByTy³
->
	`size
(); i++)

430 
	`d–‘e
 (*
ÃwCÚ¡ªtsByTy³
)[
i
];

431 
d–‘e
 
ÃwCÚ¡ªtsByTy³
;

432 
i
 = 0; i < 
ÃwEx‹º®CÚ¡ªtsByTy³
->
	`size
(); i++)

433 
	`d–‘e
 (*
ÃwEx‹º®CÚ¡ªtsByTy³
)[
i
];

434 
d–‘e
 
ÃwEx‹º®CÚ¡ªtsByTy³
;

438 
d–‘e
 
cÚ¡Du®M­_
;

439 
i
 = 0; i < 
cÚ¡ªtsByTy³_
->
	`size
(); i++)

440 
	`d–‘e
 (*
cÚ¡ªtsByTy³_
)[
i
];

441 
d–‘e
 
cÚ¡ªtsByTy³_
;

442 
i
 = 0; i < 
ex‹º®CÚ¡ªtsByTy³_
->
	`size
(); i++)

443 
	`d–‘e
 (*
ex‹º®CÚ¡ªtsByTy³_
)[
i
];

444 
d–‘e
 
ex‹º®CÚ¡ªtsByTy³_
;

446 
cÚ¡Du®M­_
 = 
ÃwCÚ¡Du®M­
;

447 
cÚ¡ªtsByTy³_
 = 
ÃwCÚ¡ªtsByTy³
;

448 
ex‹º®CÚ¡ªtsByTy³_
 = 
ÃwEx‹º®CÚ¡ªtsByTy³
;

450 
cÚ¡ªtsByTy³_
->
	`com´ess
();

451 
i
 = 0; i < 
cÚ¡ªtsByTy³_
->
	`size
(); i++)

452 (*
cÚ¡ªtsByTy³_
)[
i
]->
	`com´ess
();

453 
ex‹º®CÚ¡ªtsByTy³_
->
	`com´ess
();

454 
i
 = 0; i < 
ex‹º®CÚ¡ªtsByTy³_
->
	`size
(); i++)

455 (*
ex‹º®CÚ¡ªtsByTy³_
)[
i
]->
	`com´ess
();

456 
cÚ¡Du®M­_
->
	`com´ess
();

459 
	`upd©eP”OldToNewIds
(
mÊ
, 
ŞdToNewCÚ¡Ids
);

465 
mÊ
->
	`»hashCÏu£s
();

466 
	}
}

470 
	gDomaš
::
»Üd”CÚ¡ªts
(
CÚ¡Du®M­
* cÚ¡ & 
m­
,

471 
A¼ay
<A¼ay<>*>* cÚ¡ & 
cbt
,

472 
A¼ay
<A¼ay<>*>* cÚ¡ & 
ecbt
,

473 
MLN
* cÚ¡ & 
mÊ
)

478 
	ghash_m­
<,> 
	gŞdToNewCÚ¡Ids
;

481 
	gi
 = 0; i < 
	gex‹º®CÚ¡ªtsByTy³_
->
size
(); i++)

482 
d–‘e
 (*
ex‹º®CÚ¡ªtsByTy³_
)[
i
];

483 
d–‘e
 
	gex‹º®CÚ¡ªtsByTy³_
;

484 
	gex‹º®CÚ¡ªtsByTy³_
 = 
Ãw
 
A¼ay
<Array<>*>;

485 
	gi
 = 0; i < 
	gcbt
->
size
(); i++)

486 
	gex‹º®CÚ¡ªtsByTy³_
->
­³nd
(
Ãw
 
A¼ay
<>);

488 
	gnumCÚ¡ªts
 = 
m­
->
g‘NumIÁ
();

489 
	gi
 = 0; i < 
	gnumCÚ¡ªts
; i++)

491 cÚ¡ * 
	gÇme
 = 
m­
->
g‘SŒ
(
i
);

493 ià(
isCÚ¡ªt
(
Çme
))

497 
	gŞdToNewCÚ¡Ids
[
cÚ¡Du®M­_
->
g‘IÁ
(
Çme
)] = 
i
;

539 
	gmi
 = 
m­
->
g‘IÁ
(
Çme
);

540 
	gA¼ay
<>* 
	gšts
 = 
m­
->
g‘IÁ2
(
mi
);

541 
	gi
 = 0; i < 
	gšts
->
size
(); i++)

542 (*
	gex‹º®CÚ¡ªtsByTy³_
)[(*
šts
)[
i
]]->
­³nd
(
mi
);

547 
	gi
 = 0; i < 
	gcÚ¡ªtsByTy³_
->
size
(); i++)

549 
	gj
 = 0; j < (*
	gcÚ¡ªtsByTy³_
)[
i
]->
size
(); j++)

551 
	gŞdId
 = (*(*
cÚ¡ªtsByTy³_
)[
i
])[
j
];

552 
as£¹
(
ŞdToNewCÚ¡Ids
.
fšd
(
ŞdId
è!ğŞdToNewCÚ¡Ids.
’d
());

553 (*(*
	gcÚ¡ªtsByTy³_
)[
i
])[
j
] = 
ŞdToNewCÚ¡Ids
[
ŞdId
];

555 (*
	gcÚ¡ªtsByTy³_
)[
i
]->
quicksÜt
();

559 
d–‘e
 
	gcÚ¡Du®M­_
;

560 
	gcÚ¡Du®M­_
 = 
m­
;

562 
upd©eP”OldToNewIds
(
mÊ
, 
ŞdToNewCÚ¡Ids
);

566 
	gmÊ
->
»hashCÏu£s
();

570 
	gDomaš
::
chªgeP»dT”msToNewIds
(
P»diÿ‹
* cÚ¡ & 
p
,

571 
hash_m­
<,>& 
ŞdToNewCÚ¡Ids
)

574 ià(
	gp
)

576 
	gj
 = 0; j < 
	gp
->
g‘NumT”ms
(); j++)

578 
T”m
* 
	gt
 = (T”m*è
p
->
g‘T”m
(
j
);

579 ià(
	gt
->
g‘Ty³
(è=ğ
T”m
::
CONSTANT
)

581 
ŞdId
 = 
t
->
g‘Id
();

582 
as£¹
(
ŞdToNewCÚ¡Ids
.
fšd
(
ŞdId
è!ğŞdToNewCÚ¡Ids.
’d
());

583 
	gt
->
£tId
(
ŞdToNewCÚ¡Ids
[
ŞdId
]);

591 
P»diÿ‹
* 
	gDomaš
::
	$ü—‹P»diÿ‹
(cÚ¡ & 
´edId
,

592 cÚ¡ 
boŞ
& 
šşudeEqu®P»ds
) const

594 cÚ¡ 
P»diÿ‹Tem¶©e
* 
±
 = 
	`g‘P»diÿ‹Tem¶©e
(
´edId
);

595 ià(!
šşudeEqu®P»ds
 && 
±
->
	`isEqu®P»diÿ‹Tem¶©e
()è 
NULL
;

596 
P»diÿ‹
* 
´ed
 = 
Ãw
 
	`P»diÿ‹
(
±
);

597 
´ed
->
	`£tS’£
(
Œue
);

598 
j
 = 0; j < 
±
->
	`g‘NumT”ms
(); j++)

599 
´ed
->
	`­³ndT”m
(
Ãw
 
	`T”m
(-(
j
+1), (*í»d, 
Œue
));

600  
´ed
;

601 
	}
}

605 
	gDomaš
::
ü—‹P»diÿ‹s
(
A¼ay
<
P»diÿ‹
*>* cÚ¡ & 
´eds
,

606 cÚ¡ 
boŞ
& 
šşudeEqu®P»ds
) const

608 
	gi
 = 0; i < 
g‘NumP»diÿ‹s
(); i++)

610 
P»diÿ‹
* 
	gp
 = 
ü—‹P»diÿ‹
(
i
, 
šşudeEqu®P»ds
);

611 ià(
	gp
è
	g´eds
->
­³nd
(
p
);

617 
	gDomaš
::
ü—‹P»diÿ‹s
(
A¼ay
<
P»diÿ‹
*>* cÚ¡ & 
´eds
,

618 cÚ¡ 
A¼ay
<
¡ršg
>* cÚ¡ & 
´edNames
)

620 
	gi
 = 0; i < 
	g´edNames
->
size
(); i++)

622 
	g´edId
 = 
g‘P»diÿ‹Id
((*
´edNames
)[
i
].
c_¡r
());

623 
P»diÿ‹
* 
	gp
 = 
ü—‹P»diÿ‹
(
´edId
, 
Œue
);

624 ià(
	gp
è
	g´eds
->
­³nd
(
p
);

628 
	gDomaš
::
	$g‘NumNÚEvid’ûAtoms
() const

630 
numAtoms
 = 0;

631 
i
 = 0; i < 
	`g‘NumP»diÿ‹s
(); i++)

633 
numAtoms
 +ğ(*
numNÚEvidAtomsP”P»d_
)[
i
];

635  
numAtoms
;

636 
	}
}

641 
P»diÿ‹
* 
	gDomaš
::
	$g‘NÚEvid’ûAtom
(cÚ¡ & 
šdex
) const

643 
´edId
 = -1;

644 
numAtomsP”P»d
;

645 
numAtoms
 = 0;

646 
i
 = 0; i < 
	`g‘NumP»diÿ‹s
(); i++)

648 
numAtomsP”P»d
 = (*
numNÚEvidAtomsP”P»d_
)[
i
];

649 ià(
numAtoms
 + 
numAtomsP”P»d
 >ğ
šdex
 + 1)

651 
´edId
 = 
i
;

654 
numAtoms
 +ğ
numAtomsP”P»d
;

656 
	`as£¹
(
´edId
 >= 0);

659 
P»diÿ‹
* 
´ed
 = 
	`ü—‹P»diÿ‹
(
´edId
, 
çl£
);

661 
boŞ
 
foundNE
 = 
çl£
;

662 !
foundNE
)

664 
i
 = 0; i < 
´ed
->
	`g‘NumT”ms
(); i++)

666 
‹rmTy³
 = 
´ed
->
	`g‘T”mTy³AsIÁ
(
i
);

667 cÚ¡ 
A¼ay
<>* 
cÚ¡ªtsByTy³
 = 
	`g‘CÚ¡ªtsByTy³
(
‹rmTy³
);

668 
cÚ¡Idx
 = 
	`¿ndom
(è% 
cÚ¡ªtsByTy³
->
	`size
();

669 
´ed
->
	`£tT”mToCÚ¡ªt
(
i
, (*
cÚ¡ªtsByTy³
)[
cÚ¡Idx
]);

671 
	`as£¹
(
´ed
->
	`isGrounded
());

672 ià(!
db_
->
	`g‘Evid’ûStus
(
´ed
)è
foundNE
 = 
Œue
;

674  
´ed
;

675 
	}
}

677 
	gDomaš
::
	$addP»dBlock
(
P»diÿ‹
* cÚ¡ & 
´edBlock
) const

679 
idx
 = 
´edBlocks_
->
	`­³nd
(
´edBlock
);

681 
A¼ay
<
P»diÿ‹
*> 
´edA¼
;

682 
´edBlock
->
	`ü—‹AÎGroundšgs
(
this
, 
´edA¼
);

683 
blockSizes_
->
	`­³nd
(
´edA¼
.
	`size
());

684 
´edA¼
.
	`d–‘eI‹msAndCË¬
();

687 
P»diÿ‹
* 
gndP»d
 = 
NULL
;

688 
ŒueP»dsInBlock_
->
	`­³nd
(
gndP»d
);

689 
blockEvid’û_
->
	`­³nd
(
çl£
);

690  
idx
;

691 
	}
}

700 
	gDomaš
::
	$g‘Block
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
) const

702 
	`as£¹
(((
P»diÿ‹
*)
´ed
)->
	`isGrounded
());

703 
i
 = 0; i < 
´edBlocks_
->
	`size
(); i++)

705 ià((*
´edBlocks_
)[
i
]->
	`ÿnBeGroundedAs
((
P»diÿ‹
*)
´ed
))

706  
i
;

709 
	}
}

718 
	gDomaš
::
	$g‘Block
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ed
) const

720 
i
 = 0; i < 
´edBlocks_
->
	`size
(); i++)

722 ià((*
´edBlocks_
)[
i
]->
	`ÿnBeGroundedAs
(
´ed
))

723  
i
;

726 
	}
}

728 
	gDomaš
::
	$g‘NumP»dBlocks
() const

730  
´edBlocks_
->
	`size
();

731 
	}
}

733 cÚ¡ 
	gA¼ay
<
	gP»diÿ‹
*>* 
	gDomaš
::
	$g‘P»dBlocks
() const

735  
´edBlocks_
;

736 
	}
}

738 cÚ¡ 
P»diÿ‹
* 
	gDomaš
::
	$g‘P»dBlock
(cÚ¡ & 
šdex
) const

740  (*
´edBlocks_
)[
šdex
];

741 
	}
}

743 cÚ¡ 
	gA¼ay
<
	gboŞ
>* 
	gDomaš
::
	$g‘BlockEvid’ûA¼ay
() const

745  
blockEvid’û_
;

746 
	}
}

748 cÚ¡ 
boŞ
 
	gDomaš
::
	$g‘BlockEvid’û
(cÚ¡ & 
šdex
) const

750  (*
blockEvid’û_
)[
šdex
];

751 
	}
}

753 
	gDomaš
::
	$£tBlockEvid’û
(cÚ¡ & 
šdex
, cÚ¡ 
boŞ
& 
v®ue
) const

755 (*
blockEvid’û_
)[
šdex
] = 
v®ue
;

756 
	}
}

761 
	gDomaš
::
	$compu‹NumNÚEvidAtoms
()

763 ià(
numNÚEvidAtomsP”P»d_
è
d–‘e
‚umNonEvidAtomsPerPred_;

764 
numNÚEvidAtomsP”P»d_
 = 
Ãw
 
A¼ay
<>(
	`g‘NumP»diÿ‹s
());

765 
numNÚEvidAtomsP”P»d_
->
	`growToSize
(
	`g‘NumP»diÿ‹s
());

766 
i
 = 0; i < 
	`g‘NumP»diÿ‹s
(); i++)

768 (*
numNÚEvidAtomsP”P»d_
)[
i
] =

769 (
db_
->
	`g‘NumGroundšgs
(
i
è- db_->
	`g‘NumEvid’ûGndP»ds
(i));

771 
	}
}

	@logic/domain.h

67 #iâdeà
DOMAIN_H_JUN_21_2005


68 
	#DOMAIN_H_JUN_21_2005


	)

70 
	~<ext/hash_£t
>

71 
	~"equ®¡r.h
"

72 
	~"du®m­.h
"

73 
	~"cÚ¡du®m­.h
"

74 
	~"´ediÿ‹‹m¶©e.h
"

75 
	~"funùiÚ‹m¶©e.h
"

76 
	~"´ediÿ‹.h
"

77 
	~"funùiÚ.h
"

79 
şass
 
	gCÏu£
;

80 
şass
 
	gD©aba£
;

81 
şass
 
	gTrueF®£GroundšgsStÜe
;

82 
şass
 
	gMLN
;

85 
	ghash_m­
<cÚ¡ *, cÚ¡ 
	tP»diÿ‹Tem¶©e
*, 
	thash
<const *>,

86 
	tEqu®SŒ
> 
	tSŒToP»dTem¶©eM­
;

88 
	ghash_m­
<cÚ¡ *, cÚ¡ 
	tFunùiÚTem¶©e
*, 
	thash
<const *>,

89 
	tEqu®SŒ
> 
	tSŒToFuncTem¶©eM­
;

92 şas 
	cDomaš


94 
	mpublic
:

96 cÚ¡ * 
PROPOSITIONAL_TYPE
;

99 cÚ¡ * 
	mPROPOSITIONAL_CONSTANT
;

101 
	mpublic
:

102 
	$Domaš
(è: 
	`ty³Du®M­_
(
Ãw
 
Du®M­
), 
	`cÚ¡Du®M­_
Òew 
CÚ¡Du®M­
),

103 
	`´edDu®M­_
(
Ãw
 
Du®M­
), 
	`funcDu®M­_
(new DualMap),

104 
	`¡rToP»dTem¶©eM­_
(
Ãw
 
SŒToP»dTem¶©eM­
),

105 
	`¡rToFuncTem¶©eM­_
(
Ãw
 
SŒToFuncTem¶©eM­
),

106 
	`cÚ¡ªtsByTy³_
(
Ãw
 
A¼ay
<Array<>*>),

107 
	`ex‹º®CÚ¡ªtsByTy³_
(
Ãw
 
A¼ay
<A¼ay<>*>), 
	`db_
(
NULL
),

108 
	`ŒueF®£GroundšgsStÜe_
(
NULL
), 
	`funcS‘_
(
Ãw
 
FunùiÚS‘
),

109 
	`´edBlocks_
(
Ãw
 
A¼ay
<
P»diÿ‹
*>),

110 
	`ŒueP»dsInBlock_
(
Ãw
 
A¼ay
<
P»diÿ‹
*>),

111 
	`blockSizes_
(
Ãw
 
A¼ay
<>),

112 
	`blockEvid’û_
(
Ãw
 
A¼ay
<
boŞ
>),

114 
	`numNÚEvidAtomsP”P»d_
(
Ãw
 
A¼ay
<>),

115 
	`numTrueNÚEvidGndšgsP”CÏu£_
(
Ãw
 
A¼ay
<>),

116 
	`numF®£NÚEvidGndšgsP”CÏu£_
(
Ãw
 
A¼ay
<>)

118 
equ®P»dTem¶©e_
 = 
Ãw
 
	`P»diÿ‹Tem¶©e
();

119 
equ®P»dTem¶©e_
->
	`£tName
(
P»diÿ‹Tem¶©e
::
EQUAL_NAME
);

120 
em±yP»dTem¶©e_
 = 
Ãw
 
	`P»diÿ‹Tem¶©e
();

121 
em±yP»dTem¶©e_
->
	`£tName
(
P»diÿ‹Tem¶©e
::
EMPTY_NAME
);

122 
em±yFuncUÇryTem¶©e_
 = 
Ãw
 
	`FunùiÚTem¶©e
();

123 
em±yFuncUÇryTem¶©e_
->
	`£tName
(
FunùiÚTem¶©e
::
EMPTY_FTEMPLATE_NAME
);

124 
em±yFuncBš¬yTem¶©e_
 = 
Ãw
 
	`FunùiÚTem¶©e
();

125 
em±yFuncBš¬yTem¶©e_
->
	`£tName
(
FunùiÚTem¶©e
::
EMPTY_FTEMPLATE_NAME
);

127 
ty³Id
 = 
	`addTy³
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

128 ià(
ty³Id
 != 0)

130 
cout
 << "ERROR iÀdomaš.h:y³Id oàEQUAL…»diÿ‹ i nÙ 0." << 
’dl
;

131 
	`ex™
(-1);

133 
equ®P»dTem¶©e_
->
	`­³ndT”mTy³
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
,

134 
çl£
, 
this
);

135 
equ®P»dTem¶©e_
->
	`­³ndT”mTy³
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
,

136 
çl£
, 
this
);

137 
em±yP»dTem¶©e_
->
	`­³ndT”mTy³
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
,

138 
çl£
, 
this
);

139 
em±yP»dTem¶©e_
->
	`­³ndT”mTy³
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
,

140 
çl£
, 
this
);

141 
em±yFuncUÇryTem¶©e_
->
	`­³ndT”mTy³
(
FunùiÚTem¶©e
::
ANY_TYPE_NAME
,

142 
çl£
, 
this
);

143 
em±yFuncBš¬yTem¶©e_
->
	`­³ndT”mTy³
(
FunùiÚTem¶©e
::
ANY_TYPE_NAME
,

144 
çl£
, 
this
);

145 
em±yFuncBš¬yTem¶©e_
->
	`­³ndT”mTy³
(
FunùiÚTem¶©e
::
ANY_TYPE_NAME
,

146 
çl£
, 
this
);

150 ~
	`Domaš
();

153 
	$»¶aûTy³Du®M­
(
Du®M­
* cÚ¡ & 
m­
)

155 ià(
ty³Du®M­_
è
d–‘e
ypeDualMap_;

156 
ty³Du®M­_
 = 
m­
;

157 
	}
}

159 
	$£tTy³Du®M­
(
Du®M­
* cÚ¡ & 
m­
è{ 
ty³Du®M­_
 = m­; 
	}
}

162 cÚ¡ 
Du®M­
* 
	$g‘Ty³Du®M­
(ècÚ¡ {  
ty³Du®M­_
; 
	}
}

165 
	$»¶aûSŒToP»dTem¶©eM­AndP»dDu®M­
(
SŒToP»dTem¶©eM­
* cÚ¡& 
m
,

166 
Du®M­
* cÚ¡ & 
´edDu®M­
)

168 ià(
¡rToP»dTem¶©eM­_
)

170 
SŒToP»dTem¶©eM­
::
™”©Ü
 
™
 = 
¡rToP»dTem¶©eM­_
->
	`begš
();

171 ; 
™
 !ğ
¡rToP»dTem¶©eM­_
->
	`’d
(); it++)

172 
	`d–‘e
 (*
™
).
£cÚd
;

173 
d–‘e
 
¡rToP»dTem¶©eM­_
;

175 ià(
´edDu®M­_
è
d–‘e
…redDualMap_;

176 
¡rToP»dTem¶©eM­_
 = 
m
;

177 
´edDu®M­_
 = 
´edDu®M­
;

178 
	}
}

181 
	$£tSŒToP»dTem¶©eM­AndP»dDu®M­
(
SŒToP»dTem¶©eM­
* cÚ¡ & 
m­
,

182 
Du®M­
* cÚ¡ & 
´edDu®M­
)

183 { 
¡rToP»dTem¶©eM­_
 = 
m­
; 
´edDu®M­_
 = 
´edDu®M­
; 
	}
}

186 cÚ¡ 
SŒToP»dTem¶©eM­
* 
	$g‘SŒToP»dTem¶©eM­
() const

187 {  
¡rToP»dTem¶©eM­_
; 
	}
}

190 cÚ¡ 
Du®M­
* 
	$g‘P»dDu®M­
(ècÚ¡ {  
´edDu®M­_
; 
	}
}

193 
	$»¶aûSŒToFuncTem¶©eM­AndFuncDu®M­
(
SŒToFuncTem¶©eM­
* cÚ¡& 
m
,

194 
Du®M­
* cÚ¡ & 
funcDu®M­
)

196 ià(
¡rToFuncTem¶©eM­_
)

198 
SŒToFuncTem¶©eM­
::
™”©Ü
 
™2
 = 
¡rToFuncTem¶©eM­_
->
	`begš
();

199 ; 
™2
 !ğ
¡rToFuncTem¶©eM­_
->
	`’d
(); it2++)

200 
	`d–‘e
 (*
™2
).
£cÚd
;

201 
d–‘e
 
¡rToFuncTem¶©eM­_
;

203 ià(
funcDu®M­_
è
d–‘e
 funcDualMap_;

204 
¡rToFuncTem¶©eM­_
 = 
m
;

205 
funcDu®M­_
 = 
funcDu®M­
;

206 
	}
}

209 
	$£tSŒToFuncTem¶©eM­AndFuncDu®M­
(
SŒToFuncTem¶©eM­
* cÚ¡& 
m
,

210 
Du®M­
* cÚ¡ & 
funcDu®M­
)

211 { 
¡rToFuncTem¶©eM­_
 = 
m
; 
funcDu®M­_
 = 
funcDu®M­
; 
	}
}

214 cÚ¡ 
SŒToFuncTem¶©eM­
* 
	$g‘SŒToFuncTem¶©eM­
() const

215 {  
¡rToFuncTem¶©eM­_
; 
	}
}

218 cÚ¡ 
Du®M­
* 
	$g‘FuncDu®M­
(ècÚ¡ {  
funcDu®M­_
; 
	}
}

221 
	$»¶aûEqu®P»dTem¶©e
(
P»diÿ‹Tem¶©e
* cÚ¡ & 
t
)

223 ià(
equ®P»dTem¶©e_
è
d–‘e
ƒqualPredTemplate_;

224 
equ®P»dTem¶©e_
 = 
t
;

225 
	}
}

227 
	$£tEqu®P»dTem¶©e
(
P»diÿ‹Tem¶©e
* cÚ¡ & 
t
)

228 { 
equ®P»dTem¶©e_
 = 
t
; 
	}
}

231 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	$g‘Equ®P»dTem¶©e
() const

232 {  
equ®P»dTem¶©e_
; 
	}
}

234 
	$»¶aûEm±yP»dTem¶©e
(
P»diÿ‹Tem¶©e
* cÚ¡ & 
t
)

236 ià(
em±yP»dTem¶©e_
è
d–‘e
ƒmptyPredTemplate_;

237 
em±yP»dTem¶©e_
 = 
t
;

238 
	}
}

240 
	$£tEm±yP»dTem¶©e
(
P»diÿ‹Tem¶©e
* cÚ¡ & 
t
)

241 { 
em±yP»dTem¶©e_
 = 
t
; 
	}
}

244 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	$g‘Em±yP»dTem¶©e
() const

245 {  
em±yP»dTem¶©e_
; 
	}
}

247 
	$»¶aûEm±yFuncUÇryTem¶©e
(
FunùiÚTem¶©e
* cÚ¡ & 
t
)

249 ià(
em±yFuncUÇryTem¶©e_
è
d–‘e
ƒmptyFuncUnaryTemplate_;

250 
em±yFuncUÇryTem¶©e_
 = 
t
;

251 
	}
}

253 
	$»¶aûEm±yFuncBš¬yTem¶©e
(
FunùiÚTem¶©e
* cÚ¡ & 
t
)

255 ià(
em±yFuncBš¬yTem¶©e_
è
d–‘e
ƒmptyFuncBinaryTemplate_;

256 
em±yFuncBš¬yTem¶©e_
 = 
t
;

257 
	}
}

259 
	$£tEm±yFuncUÇryTem¶©e
(
FunùiÚTem¶©e
* cÚ¡ & 
t
)

260 { 
em±yFuncUÇryTem¶©e_
 = 
t
; 
	}
}

262 
	$£tEm±yFuncBš¬yTem¶©e
(
FunùiÚTem¶©e
* cÚ¡ & 
t
)

263 { 
em±yFuncBš¬yTem¶©e_
 = 
t
; 
	}
}

266 cÚ¡ 
FunùiÚTem¶©e
* 
	$g‘Em±yFuncUÇryTem¶©e
() const

267 {  
em±yFuncUÇryTem¶©e_
; 
	}
}

269 cÚ¡ 
FunùiÚTem¶©e
* 
	$g‘Em±yFuncBš¬yTem¶©e
() const

270 {  
em±yFuncBš¬yTem¶©e_
; 
	}
}

272 
	$£tCÚ¡Du®M­
(
CÚ¡Du®M­
* cÚ¡ & 
m­
è{ 
cÚ¡Du®M­_
 = m­; 
	}
}

274 cÚ¡ 
CÚ¡Du®M­
* 
	$g‘CÚ¡Du®M­
(ècÚ¡ {  
cÚ¡Du®M­_
; 
	}
}

276 
£tCÚ¡ªtsByTy³
(
A¼ay
<A¼ay<>*>* cÚ¡ & 
cbt
)

277 { 
	gcÚ¡ªtsByTy³_
 = 
cbt
; }

280 cÚ¡ 
	gA¼ay
<A¼ay<>*>* 
	$g‘CÚ¡ªtsByTy³
() const

281 {  
cÚ¡ªtsByTy³_
; 
	}
}

283 cÚ¡ 
	gA¼ay
<A¼ay<>*>* 
	$g‘Ex‹º®CÚ¡ªtsByTy³
() const

284 {  
ex‹º®CÚ¡ªtsByTy³_
; 
	}
}

286 
	$»¶aûFuncS‘
(
FunùiÚS‘
* cÚ¡ & 
funcS‘
)

288 ià(
funcS‘_
)

290 
FunùiÚS‘
::
™”©Ü
 
f™
;

291 !
funcS‘_
->
	`em±y
())

293 
f™
 = 
funcS‘_
->
	`begš
();

294 
funcS‘_
->
	`”a£
(
f™
);

295 
d–‘e
 *
f™
;

297 
d–‘e
 
funcS‘_
;

299 
funcS‘_
 = 
funcS‘
;

300 
	}
}

303 
	$£tFuncS‘
(
FunùiÚS‘
* cÚ¡ & 
funcS‘
è{ 
funcS‘_
 = funcS‘; 
	}
}

306 cÚ¡ 
FunùiÚS‘
* 
	$g‘FuncS‘
(ècÚ¡ {  
funcS‘_
; 
	}
}

308 
d–‘eDB
();

309 
D©aba£
* 
	$g‘DB
(ècÚ¡ {  
db_
; 
	}
}

310 
	$£tDB
(
D©aba£
* cÚ¡ & 
db
è{ 
db_
 = db; 
	}
}

312 
ÃwTrueF®£GroundšgsStÜe
();

313 
TrueF®£GroundšgsStÜe
* 
	$g‘TrueF®£GroundšgsStÜe
() const

314 {  
ŒueF®£GroundšgsStÜe_
; 
	}
}

315 
	$£tTrueF®£GroundšgsStÜe
(
TrueF®£GroundšgsStÜe
* cÚ¡ & 
tfgs
)

316 { 
ŒueF®£GroundšgsStÜe_
 = 
tfgs
; 
	}
}

319 
com´ess
();

322 
upd©eP”OldToNewIds
(
MLN
* cÚ¡ & 
mÊ
,

323 
hash_m­
<,> & 
ŞdToNewCÚ¡Ids
);

326 
»Üd”CÚ¡ªts
(
MLN
* cÚ¡ & 
mÊ
,

327 
hash_m­
<, 
P»diÿ‹HashA¼ay
*>& 
´edIdToP»dsM­
);

329 
´štGroundP»dsAndTruthV®s
();

332 
»Üd”CÚ¡ªts
(
MLN
* cÚ¡ & 
mÊ
);

335 
»Üd”CÚ¡ªts
(
CÚ¡Du®M­
* cÚ¡ & 
m­
,

336 
A¼ay
<A¼ay<>*>* cÚ¡ & 
cbt
,

337 
A¼ay
<A¼ay<>*>* cÚ¡ & 
ecbt
, 
MLN
* cÚ¡ & 
mÊ
);

341 
P»diÿ‹
* 
	$ü—‹P»diÿ‹
(cÚ¡ & 
´edId
,

342 cÚ¡ 
boŞ
& 
šşudeEqu®P»ds
) const;

345 
	`ü—‹P»diÿ‹s
(
A¼ay
<
P»diÿ‹
*>* cÚ¡ & 
´eds
,

346 cÚ¡ 
boŞ
& 
šşudeEqu®P»ds
) const;

348 
	`ü—‹P»diÿ‹s
(
A¼ay
<
P»diÿ‹
*>* cÚ¡ & 
´eds
,

349 cÚ¡ 
A¼ay
<
¡ršg
>* cÚ¡ & 
´edNames
);

356 
	$addTy³
(cÚ¡ * cÚ¡& 
Çme
)

358 
ty³Id
 = 
ty³Du®M­_
->
	`š£¹
(
Çme
);

359 ià(
ty³Id
 < 0)  -1;

361 ià(
ty³Id
 !ğ
cÚ¡ªtsByTy³_
->
	`size
())

363 
cout
 << "E¼Ü: IÀDomaš::addTy³(). Ex³ùedy³Id " << 
ty³Id


364 << "Øbequ®Ø" << 
cÚ¡ªtsByTy³_
->
	`size
(è<< 
’dl
;

365 
	`ex™
(-1);

368 
cÚ¡ªtsByTy³_
->
	`­³nd
(
Ãw
 
A¼ay
<>);

369 
ex‹º®CÚ¡ªtsByTy³_
->
	`­³nd
(
Ãw
 
A¼ay
<>);

370  
ty³Id
;

371 
	}
}

374 
	$g‘NumTy³s
(ècÚ¡ {  
ty³Du®M­_
->
	`g‘NumIÁ
(); 
	}
}

378 cÚ¡ 
	gA¼ay
<cÚ¡ *>* 
	$g‘Ty³Names
() const

379 {  
ty³Du®M­_
->
	`g‘IÁToSŒA¼
(); 
	}
}

384 
	$g‘Ty³Id
(cÚ¡ * cÚ¡ & 
Çme
) const

385 {  
ty³Du®M­_
->
	`g‘IÁ
(
Çme
); 
	}
}

389 cÚ¡ * 
	$g‘Ty³Name
(cÚ¡ 
ty³Id
) const

390 {  
ty³Du®M­_
->
	`g‘SŒ
(
ty³Id
); 
	}
}

392 
boŞ
 
	$isTy³
(cÚ¡ * cÚ¡ & 
Çme
ècÚ¡ {  (
	`g‘Ty³Id
Òameè>ğ0); 
	}
}

393 
boŞ
 
	$isTy³
(cÚ¡ & 
id
ècÚ¡ {  (
	`g‘Ty³Name
(idè!ğ
NULL
); 
	}
}

398 cÚ¡ 
	gA¼ay
<>* 
	$g‘CÚ¡ªtsByTy³
(cÚ¡ & 
ty³Id
) const

400  (*
cÚ¡ªtsByTy³_
)[
ty³Id
];

401 
	}
}

404 cÚ¡ 
	gA¼ay
<>* 
	$g‘Ex‹º®CÚ¡ªtsByTy³
(cÚ¡ & 
ty³Id
) const

406  (*
ex‹º®CÚ¡ªtsByTy³_
)[
ty³Id
];

407 
	}
}

410 cÚ¡ 
	gA¼ay
<>* 
	$g‘CÚ¡ªtsByTy³
(cÚ¡ * cÚ¡ & 
ty³Name
) const

412 
ty³Id
 = 
	`g‘Ty³Id
(
ty³Name
);

413 ià(
ty³Id
 < 0è 
NULL
;

414  
	`g‘CÚ¡ªtsByTy³
(
ty³Id
);

415 
	}
}

418 cÚ¡ 
	gA¼ay
<>* 
	$g‘CÚ¡ªtsByTy³W™hExt
(cÚ¡ & 
ty³Id
) const

420 
A¼ay
<>* 
cbt
 = (*
cÚ¡ªtsByTy³_
)[
ty³Id
];

421 
A¼ay
<>* 
»tA¼
 = 
Ãw
 Array<>;

422 
i
 = 0; i < 
cbt
->
	`size
(); i++)

423 
»tA¼
->
	`­³nd
((*
cbt
)[
i
]);

424 
A¼ay
<>* 
ecbt
 = (*
ex‹º®CÚ¡ªtsByTy³_
)[
ty³Id
];

425 
i
 = 0; i < 
ecbt
->
	`size
(); i++)

426 
»tA¼
->
	`­³nd
((*
ecbt
)[
i
]);

427 
»tA¼
->
	`quicksÜt
();

428  
»tA¼
;

429 
	}
}

432 cÚ¡ 
	gA¼ay
<>* 
	$g‘CÚ¡ªtsByTy³W™hExt
(cÚ¡ * cÚ¡ & 
ty³Name
) const

434 
ty³Id
 = 
	`g‘Ty³Id
(
ty³Name
);

435 ià(
ty³Id
 < 0è 
NULL
;

436  
	`g‘CÚ¡ªtsByTy³W™hExt
(
ty³Id
);

437 
	}
}

441 
	$g‘CÚ¡ªtIndexInTy³
(cÚ¡ & 
cÚ¡Id
, cÚ¡ & 
ty³Id
) const

446 
»suÉ
 = -1;

447 cÚ¡ 
A¼ay
<>* 
cÚ¡A¼ay
 = 
	`g‘CÚ¡ªtsByTy³W™hExt
(
ty³Id
);

448 
i
 = 0; i < 
cÚ¡A¼ay
->
	`size
(); i++)

449 ià(
cÚ¡Id
 =ğ(*
cÚ¡A¼ay
)[
i
])

451 
»suÉ
 = 
i
;

454 
d–‘e
 
cÚ¡A¼ay
;

455  
»suÉ
;

456 
	}
}

467 
	$g‘NumCÚ¡ªtsByTy³
(cÚ¡ & 
ty³Id
) const

469 ià(!(*
cÚ¡ªtsByTy³_
)[
ty³Id
])  0;

470  (*
cÚ¡ªtsByTy³_
)[
ty³Id
]->
	`size
();

471 
	}
}

482 
	$g‘NumCÚ¡ªtsByTy³
(cÚ¡ * cÚ¡ & 
ty³Name
) const

484 
ty³Id
 = 
	`g‘Ty³Id
(
ty³Name
);

485 ià(
ty³Id
 < 0)  0;

486  
	`g‘NumCÚ¡ªtsByTy³
(
ty³Id
);

487 
	}
}

497 
	$g‘NumCÚ¡ªtsByTy³W™hExt
(cÚ¡ & 
ty³Id
) const

499  ((*
cÚ¡ªtsByTy³_
)[
ty³Id
])->
	`size
() +

500 ((*
ex‹º®CÚ¡ªtsByTy³_
)[
ty³Id
])->
	`size
();

501 
	}
}

512 
	$g‘NumCÚ¡ªtsByTy³W™hExt
(cÚ¡ * cÚ¡ & 
ty³Name
) const

514 
ty³Id
 = 
	`g‘Ty³Id
(
ty³Name
);

515 ià(
ty³Id
 < 0)  0;

516  
	`g‘NumCÚ¡ªtsByTy³W™hExt
(
ty³Id
);

517 
	}
}

525 
	$addCÚ¡ªt
(cÚ¡ * cÚ¡ & 
cÚ¡Name
, cÚ¡ * cÚ¡ & 
ty³Name
)

527  
	`addCÚ¡ªt
(
cÚ¡Name
, 
ty³Name
, 
çl£
);

528 
	}
}

537 
	$addEx‹º®CÚ¡ªt
(cÚ¡ * cÚ¡ & 
cÚ¡Name
,

538 cÚ¡ * cÚ¡ & 
ty³Name
)

540  
	`addCÚ¡ªt
(
cÚ¡Name
, 
ty³Name
, 
Œue
);

541 
	}
}

546 
	$addCÚ¡ªt
(cÚ¡ * cÚ¡ & 
cÚ¡Name
, cÚ¡ * cÚ¡ & 
ty³Name
,

547 cÚ¡ 
boŞ
& 
ex‹º®
)

549 
ty³Id
 = 
ty³Du®M­_
->
	`g‘IÁ
(
ty³Name
);

550 ià(
ty³Id
 < 0)

552 
cout
 << "W¬nšg: faedØadd cÚ¡ªˆ" << 
cÚ¡Name


553 << " beÿu£ it ty³ oà" << 
ty³Name
 << " dÛ¢'ˆexi¡" << 
’dl
;

554  
ty³Id
;

558 
cÚ¡Id
 = 
	`g‘CÚ¡ªtId
(
cÚ¡Name
);

559 ià(
cÚ¡Id
 >= 0)

561 
boŞ
 
ÃwTy³
 = 
Œue
;

562 
A¼ay
<cÚ¡ *>* 
´evTy³s
 = 
	`g‘CÚ¡ªtTy³Names
(
cÚ¡Id
);

563 
i
 = 0; i < 
´evTy³s
->
	`size
(); i++)

565 ià(
	`¡rcmp
((*
´evTy³s
)[
i
], 
ty³Name
) == 0)

568 
ÃwTy³
 = 
çl£
;

573 ià(!
ÃwTy³
)

580 
cÚ¡Id
 = 
cÚ¡Du®M­_
->
	`š£¹
(
cÚ¡Name
, 
ty³Id
);

581 ià(
cÚ¡Id
 < 0)

583 
cout
 << "W¬nšg: faedØadd cÚ¡ªˆ" << 
cÚ¡Name
 << " ofype "

584 << 
ty³Name
 << 
’dl
;

585  
cÚ¡Id
;

589 ià(
ex‹º®
)

591 (*
ex‹º®CÚ¡ªtsByTy³_
)[
ty³Id
]->
	`­³nd
(
cÚ¡Id
);

595 (*
cÚ¡ªtsByTy³_
)[
ty³Id
]->
	`­³nd
(
cÚ¡Id
);

597  
cÚ¡Id
;

598 
	}
}

678 cÚ¡ * 
	$g‘CÚ¡ªtName
(cÚ¡ & 
id
) const

680  
cÚ¡Du®M­_
->
	`g‘SŒ
(
id
);

681 
	}
}

686 
	$g‘CÚ¡ªtId
(cÚ¡ * cÚ¡ & 
Çme
) const

688  
cÚ¡Du®M­_
->
	`g‘IÁ
(
Çme
);

689 
	}
}

692 
boŞ
 
	$isCÚ¡ªt
(cÚ¡ * cÚ¡ & 
Çme
) const

693 {  (
	`g‘CÚ¡ªtId
(
Çme
è>ğ0); 
	}
}

694 
boŞ
 
	$isCÚ¡ªt
(cÚ¡ & 
id
ècÚ¡ {  (
	`g‘CÚ¡ªtName
(idè!ğ
NULL
); 
	}
}

697 
	gA¼ay
<>* 
	$g‘CÚ¡ªtTy³Ids
(cÚ¡ * cÚ¡ & 
cÚ¡Name
) const

699  
cÚ¡Du®M­_
->
	`g‘IÁ2
(
cÚ¡Name
);

700 
	}
}

703 
	gA¼ay
<>* 
	$g‘CÚ¡ªtTy³Ids
(cÚ¡ & 
cÚ¡Id
) const

705  
cÚ¡Du®M­_
->
	`g‘IÁ2
(
cÚ¡Id
);

706 
	}
}

711 
	gA¼ay
<cÚ¡ *>* 
	$g‘CÚ¡ªtTy³Names
(cÚ¡ & 
cÚ¡Id
) const

713 
A¼ay
<>* 
ty³Ids
 = 
	`g‘CÚ¡ªtTy³Ids
(
cÚ¡Id
);

714 ià(
ty³Ids
 =ğ
NULL
)  NULL;

717 
A¼ay
<cÚ¡ *>* 
ty³Names
 = 
Ãw
 Array<const *>;

718 
i
 = 0; i < 
ty³Ids
->
	`size
(); i++)

719 
ty³Names
->
	`­³nd
(
	`g‘Ty³Name
((*
ty³Ids
)[
i
]));

720  
ty³Names
;

722 
	}
}

734 
	$addP»diÿ‹Tem¶©e
(cÚ¡ 
P»diÿ‹Tem¶©e
* cÚ¡ & 
´edTem¶©e
)

736 
´edId
 = 
´edDu®M­_
->
	`š£¹
(
´edTem¶©e
->
	`g‘Name
());

737 ià(
´edId
 < 0)

739 
cout
 << "Warning: failedo‡dd…redicateemplate "

740 << 
´edTem¶©e
->
	`g‘Name
(è<< 
’dl
;

741  
´edId
;

744 cÚ¡ * 
´edName
 = 
´edDu®M­_
->
	`g‘SŒ
(
´edId
);

746 (*
¡rToP»dTem¶©eM­_
)[
´edName
] = 
´edTem¶©e
;

747  
´edId
;

748 
	}
}

751 
	$g‘NumP»diÿ‹s
(ècÚ¡ {  
´edDu®M­_
->
	`g‘NumIÁ
(); 
	}
}

755 cÚ¡ 
	gA¼ay
<cÚ¡ *>* 
	$g‘P»diÿ‹Names
() const

756 {  
´edDu®M­_
->
	`g‘IÁToSŒA¼
(); 
	}
}

759 
g‘NÚEqu®P»diÿ‹Names
(
A¼ay
<
¡ršg
>& 
´edNames
) const

761 
	gi
 = 0; i < 
g‘NumP»diÿ‹s
(); i++)

763 ià(
g‘P»diÿ‹Tem¶©e
(
i
)->
isEqu®P»diÿ‹Tem¶©e
()) ;

764 ià(
g‘P»diÿ‹Tem¶©e
(
i
)->
isIÁ”ÇlP»diÿ‹Tem¶©e
()) ;

765 ià(
g‘P»diÿ‹Tem¶©e
(
i
)->
isP»diÿ‹Tem¶©eFromFunùiÚ
()) ;

766 
	g´edNames
.
­³nd
(
g‘P»diÿ‹Name
(
i
));

773 
	$g‘P»diÿ‹Id
(cÚ¡ * cÚ¡ & 
Çme
) const

774 {  
´edDu®M­_
->
	`g‘IÁ
(
Çme
); 
	}
}

778 cÚ¡ * 
	$g‘P»diÿ‹Name
(cÚ¡ & 
id
) const

779 {  
´edDu®M­_
->
	`g‘SŒ
(
id
); 
	}
}

785 cÚ¡ 
	gA¼ay
<>* 
	$g‘P»diÿ‹T”mTy³sAsIÁ
(cÚ¡ * cÚ¡ & 
Çme
) const

787 
SŒToP»dTem¶©eM­
::
™”©Ü
 
™
;

788 ià((
™
=
¡rToP»dTem¶©eM­_
->
	`fšd
(
Çme
)è=ğ¡rToP»dTem¶©eM­_->
	`’d
())

789  
NULL
;

790  (*
™
).
£cÚd
->
	`g‘T”mTy³sAsIÁ
();

791 
	}
}

797 cÚ¡ 
	gA¼ay
<>* 
	$g‘P»diÿ‹T”mTy³sAsIÁ
(cÚ¡ & 
id
) const

798 {  
	`g‘P»diÿ‹T”mTy³sAsIÁ
(
	`g‘P»diÿ‹Name
(
id
)); 
	}
}

805 cÚ¡ 
	gA¼ay
<cÚ¡ *>* 
	$g‘P»diÿ‹T”mTy³sAsSŒ
(cÚ¡ * cÚ¡& 
Çme
)

808 
SŒToP»dTem¶©eM­
::
™”©Ü
 
™
;

809 ià((
™
=
¡rToP»dTem¶©eM­_
->
	`fšd
(
Çme
)è=ğ¡rToP»dTem¶©eM­_->
	`’d
())

810  
NULL
;

811  (*
™
).
£cÚd
->
	`g‘T”mTy³sAsSŒ
();

812 
	}
}

818 cÚ¡ 
	gA¼ay
<cÚ¡ *>* 
	$g‘P»diÿ‹T”mTy³sAsSŒ
(cÚ¡ & 
id
)

819 {  
	`g‘P»diÿ‹T”mTy³sAsSŒ
(
	`g‘P»diÿ‹Name
(
id
)); 
	}
}

826 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	$g‘P»diÿ‹Tem¶©e
(cÚ¡ * cÚ¡ & 
Çme
) const

828 
SŒToP»dTem¶©eM­
::
™”©Ü
 
™
;

829 ià((
™
=
¡rToP»dTem¶©eM­_
->
	`fšd
(
Çme
)è=ğ¡rToP»dTem¶©eM­_->
	`’d
())

830  
NULL
;

831  (*
™
).
£cÚd
;

832 
	}
}

837 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	$g‘P»diÿ‹Tem¶©e
(cÚ¡ & 
id
) const

839 cÚ¡ * 
´edName
 = ((
Domaš
*)
this
)->
	`g‘P»diÿ‹Name
(
id
);

840  
	`g‘P»diÿ‹Tem¶©e
(
´edName
);

841 
	}
}

848 cÚ¡ 
	$g‘Highe¡P»diÿ‹Ar™y
() const

850 
highe¡Ar™y
 = 1;

851 
¬™y
;

852 
i
 = 0; i < 
	`g‘NumP»diÿ‹s
(); i++)

854 
¬™y
 = 
	`g‘P»diÿ‹Tem¶©e
(
i
)->
	`g‘NumT”ms
();

855 ià(
¬™y
 > 
highe¡Ar™y
) highestArity =‡rity;

858  
highe¡Ar™y
;

859 
	}
}

861 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	$g‘Equ®P»diÿ‹Tem¶©e
() const

862 {  
equ®P»dTem¶©e_
; 
	}
}

864 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	$g‘Em±yP»diÿ‹Tem¶©e
() const

865 {  
em±yP»dTem¶©e_
; 
	}
}

867 cÚ¡ 
FunùiÚTem¶©e
* 
	$g‘Em±yFunùiÚUÇryTem¶©e
() const

868 {  
em±yFuncUÇryTem¶©e_
; 
	}
}

870 cÚ¡ 
FunùiÚTem¶©e
* 
	$g‘Em±yFunùiÚBš¬yTem¶©e
() const

871 {  
em±yFuncBš¬yTem¶©e_
; 
	}
}

873 
boŞ
 
	$isP»diÿ‹
(cÚ¡ * cÚ¡ & 
Çme
) const

875  (
	`g‘P»diÿ‹Id
(
Çme
)>=0 ||

876 
	`¡rcmp
(
Çme
, 
P»diÿ‹Tem¶©e
::
GT_NAME
) == 0 ||

877 
	`¡rcmp
(
Çme
, 
P»diÿ‹Tem¶©e
::
LT_NAME
) == 0 ||

878 
	`¡rcmp
(
Çme
, 
P»diÿ‹Tem¶©e
::
GTEQ_NAME
) == 0 ||

879 
	`¡rcmp
(
Çme
, 
P»diÿ‹Tem¶©e
::
LTEQ_NAME
) == 0 ||

880 
	`¡rcmp
(
Çme
, 
P»diÿ‹Tem¶©e
::
SUBSTR_NAME
) == 0);

882 
	}
}

884 
boŞ
 
	$isP»diÿ‹
(cÚ¡ & 
id
ècÚ¡ { (
	`g‘P»diÿ‹Name
(idè!ğ
NULL
);
	}
}

894 
	$addFunùiÚTem¶©e
(cÚ¡ 
FunùiÚTem¶©e
* cÚ¡ & 
funcTem¶©e
)

896 
funcId
 = 
funcDu®M­_
->
	`š£¹
(
funcTem¶©e
->
	`g‘Name
());

897 ià(
funcId
 < 0)

899 
cout
 << "Warning: failedo‡dd functionemplate "

900 << 
funcTem¶©e
->
	`g‘Name
(è<< 
’dl
;

901  
funcId
;

904 cÚ¡ * 
funcName
 = 
funcDu®M­_
->
	`g‘SŒ
(
funcId
);

906 (*
¡rToFuncTem¶©eM­_
)[
funcName
] = 
funcTem¶©e
;

907  
funcId
;

908 
	}
}

911 
	$g‘NumFunùiÚs
(ècÚ¡ {  
funcDu®M­_
->
	`g‘NumIÁ
(); 
	}
}

915 cÚ¡ 
	gA¼ay
<cÚ¡ *>* 
	$g‘FunùiÚNames
() const

916 {  
funcDu®M­_
->
	`g‘IÁToSŒA¼
(); 
	}
}

920 
	$g‘FunùiÚId
(cÚ¡ * cÚ¡ & 
Çme
) const

921 {  
funcDu®M­_
->
	`g‘IÁ
(
Çme
); 
	}
}

924 cÚ¡ * 
	$g‘FunùiÚName
(cÚ¡ & 
id
) const

925 {  
funcDu®M­_
->
	`g‘SŒ
(
id
); 
	}
}

931 cÚ¡ 
	gA¼ay
<>* 
	$g‘FunùiÚT”mTy³sAsIÁ
(cÚ¡ * cÚ¡ & 
Çme
) const

933 
SŒToFuncTem¶©eM­
::
™”©Ü
 
™
;

934 ià((
™
=
¡rToFuncTem¶©eM­_
->
	`fšd
(
Çme
)è=ğ¡rToFuncTem¶©eM­_->
	`’d
())

935  
NULL
;

936  (*
™
).
£cÚd
->
	`g‘T”mTy³sAsIÁ
();

937 
	}
}

944 cÚ¡ 
	gA¼ay
<cÚ¡ *>* 
	$g‘FunùiÚT”mTy³sAsSŒ
(cÚ¡ * cÚ¡ & 
Çme
)

947 
SŒToFuncTem¶©eM­
::
™”©Ü
 
™
;

948 ià((
™
=
¡rToFuncTem¶©eM­_
->
	`fšd
(
Çme
)è=ğ¡rToFuncTem¶©eM­_->
	`’d
())

949  
NULL
;

950  (*
™
).
£cÚd
->
	`g‘T”mTy³sAsSŒ
();

951 
	}
}

957 cÚ¡ 
FunùiÚTem¶©e
* 
	$g‘FunùiÚTem¶©e
(cÚ¡ * cÚ¡ & 
Çme
) const

959 
SŒToFuncTem¶©eM­
::
™”©Ü
 
™
;

960 ià((
™
=
¡rToFuncTem¶©eM­_
->
	`fšd
(
Çme
)è=ğ¡rToFuncTem¶©eM­_->
	`’d
())

961  
NULL
;

962  (*
™
).
£cÚd
;

963 
	}
}

968 cÚ¡ 
FunùiÚTem¶©e
* 
	$g‘FunùiÚTem¶©e
(cÚ¡ & 
id
) const

970 cÚ¡ * 
funcName
 = ((
Domaš
*)
this
)->
	`g‘FunùiÚName
(
id
);

971  
	`g‘FunùiÚTem¶©e
(
funcName
);

972 
	}
}

975 
boŞ
 
	$isFunùiÚ
(cÚ¡ * cÚ¡ & 
Çme
) const

977  (
	`g‘FunùiÚId
(
Çme
)>=0 ||

978 
	`¡rcmp
(
Çme
, 
FunùiÚTem¶©e
::
SUCC_NAME
) == 0 ||

979 
	`¡rcmp
(
Çme
, 
FunùiÚTem¶©e
::
PLUS_NAME
) == 0 ||

980 
	`¡rcmp
(
Çme
, 
FunùiÚTem¶©e
::
MINUS_NAME
) == 0 ||

981 
	`¡rcmp
(
Çme
, 
FunùiÚTem¶©e
::
TIMES_NAME
) == 0 ||

982 
	`¡rcmp
(
Çme
, 
FunùiÚTem¶©e
::
DIVIDEDBY_NAME
) == 0 ||

983 
	`¡rcmp
(
Çme
, 
FunùiÚTem¶©e
::
MOD_NAME
) == 0 ||

984 
	`¡rcmp
(
Çme
, 
FunùiÚTem¶©e
::
CONCAT_NAME
) == 0);

985 
	}
}

987 
boŞ
 
	$isFunùiÚ
(cÚ¡ & 
id
ècÚ¡ {  (
	`g‘FunùiÚName
(idè!ğ
NULL
); 
	}
}

991 cÚ¡ 
FunùiÚS‘
* 
	$g‘FunùiÚM­pšgs
(ècÚ¡ {  
funcS‘_
; 
	}
}

996 
boŞ
 
	$addFunùiÚM­pšg
(
FunùiÚ
* 
f
)

998 
	`as£¹
(
f
->
	`g‘R‘CÚ¡Id
() >= 0);

999 ià(
funcS‘_
->
	`fšd
(
f
è=ğfuncS‘_->
	`’d
())

1001 
funcS‘_
->
	`š£¹
(
f
);

1002  
Œue
;

1004  
çl£
;

1005 
	}
}

1008 
	$g‘FunùiÚR‘CÚ¡Id
(
FunùiÚ
* cÚ¡ & 
f
) const

1010 
FunùiÚS‘
::
™”©Ü
 
™
;

1011 ià((
™
 = 
funcS‘_
->
	`fšd
(
f
)è=ğfuncS‘_->
	`’d
())  -1;

1012  (*
™
)->
	`g‘R‘CÚ¡Id
();

1013 
	}
}

1016 
	$´štP»diÿ‹Tem¶©es
(
o¡»am
& 
out
) const

1018 
SŒToP»dTem¶©eM­
::
™”©Ü
 
™
 = 
¡rToP»dTem¶©eM­_
->
	`begš
();

1019 ; 
™
 !ğ
¡rToP»dTem¶©eM­_
->
	`’d
(); it++)

1024 ià(!(*
™
).
£cÚd
->
	`isEqu®P»diÿ‹Tem¶©e
() &&

1025 !(*
™
).
£cÚd
->
	`isIÁ”ÇlP»diÿ‹Tem¶©e
())

1026 
out
 << *((*
™
).
£cÚd
è<< 
’dl
;

1028 
	}
}

1035 
	$´štFunùiÚTem¶©es
(
o¡»am
& 
out
) const

1037 
SŒToFuncTem¶©eM­
::
™”©Ü
 
™
 = 
¡rToFuncTem¶©eM­_
->
	`begš
();

1038 ; 
™
 !ğ
¡rToFuncTem¶©eM­_
->
	`’d
(); it++)

1040 ià(!(*
™
).
£cÚd
->
	`isIÁ”ÇlFunùiÚTem¶©e
())

1041 
out
 << *((*
™
).
£cÚd
è<< 
’dl
;

1043 
	}
}

1045 
	$g‘NumNÚEvid’ûAtoms
() const;

1047 
P»diÿ‹
* 
	$g‘NÚEvid’ûAtom
(cÚ¡ & 
šdex
) const;

1049 
	$addP»dBlock
(
P»diÿ‹
* cÚ¡ & 
´edBlock
) const;

1051 
	$g‘Block
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
) const;

1053 
	$g‘Block
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ed
) const;

1055 
	$g‘NumP»dBlocks
() const;

1057 cÚ¡ 
A¼ay
<
P»diÿ‹
*>* 
	$g‘P»dBlocks
() const;

1059 cÚ¡ 
P»diÿ‹
* 
	$g‘P»dBlock
(cÚ¡ & 
šdex
) const;

1066 cÚ¡ 
P»diÿ‹
* 
	$g‘TrueP»dInBlock
(cÚ¡ & 
šdex
) const

1068 
	`as£¹
(
šdex
 <ğ
ŒueP»dsInBlock_
->
	`size
());

1069  (*
ŒueP»dsInBlock_
)[
šdex
];

1070 
	}
}

1079 
	$£tTrueP»dInBlock
(cÚ¡ & 
šdex
, 
P»diÿ‹
* cÚ¡ & 
´ed
) const

1081 
	`as£¹
(
šdex
 <ğ
ŒueP»dsInBlock_
->
	`size
());

1082 ià((*
ŒueP»dsInBlock_
)[
šdex
]è
	`d–‘e
 (*truePredsInBlock_)[index];

1083 (*
ŒueP»dsInBlock_
)[
šdex
] = 
´ed
;

1084 
	}
}

1086 cÚ¡ 
	$g‘BlockSize
(cÚ¡ & 
šdex
) const

1088  (*
blockSizes_
)[
šdex
];

1089 
	}
}

1091 cÚ¡ 
	gA¼ay
<
	gboŞ
>* 
	$g‘BlockEvid’ûA¼ay
() const;

1093 cÚ¡ 
boŞ
 
	$g‘BlockEvid’û
(cÚ¡ & 
šdex
) const;

1095 
	$£tBlockEvid’û
(cÚ¡ & 
šdex
, cÚ¡ 
boŞ
& 
v®ue
) const;

1103 cÚ¡ 
P»diÿ‹
* 
	$g‘RªdomP»dInBlock
(cÚ¡ & 
šdex
) const

1105 cÚ¡ 
cho£n
 = 
	`¿ndom
(è% 
	`g‘BlockSize
(
šdex
);

1106  
	`g‘P»dInBlock
(
cho£n
, 
šdex
);

1107 
	}
}

1116 cÚ¡ 
P»diÿ‹
* 
	$g‘P»dInBlock
(cÚ¡ & 
groundšg
, cÚ¡ & 
šdex
) const

1118 
P»diÿ‹
* 
´ed
 = (P»diÿ‹*)
	`g‘P»dBlock
(
šdex
);

1119 
	`as£¹
(
groundšg
 <ğ
	`g‘BlockSize
(
šdex
));

1120 
A¼ay
<
P»diÿ‹
*> 
´edA¼
;

1121 
´ed
->
	`g‘GroundšgNumb”
(
this
, 
´edA¼
, 
groundšg
);

1122 
	`as£¹
(
´edA¼
.
	`size
() == 1);

1123 cÚ¡ 
P»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`P»diÿ‹
(*
´edA¼
[0]);

1124 
´edA¼
.
	`d–‘eI‹msAndCË¬
();

1125  
gndP»d
;

1126 
	}
}

1136 cÚ¡ 
	$g‘IndexOfP»dInBlock
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

1137 cÚ¡ & 
blockIdx
) const

1139 
	`as£¹
(((
P»diÿ‹
*)
´ed
)->
	`isGrounded
());

1141 
i
 = 0; i < 
	`g‘BlockSize
(
blockIdx
); i++)

1143 cÚ¡ 
P»diÿ‹
* 
´edInBlock
 = 
	`g‘P»dInBlock
(
i
, 
blockIdx
);

1144 ià(((
P»diÿ‹
*)
´ed
)->
	`§me
((P»diÿ‹*)
´edInBlock
))

1146 
d–‘e
 
´edInBlock
;

1147  
i
;

1149 
d–‘e
 
´edInBlock
;

1152 
	}
}

1157 
compu‹NumNÚEvidAtoms
();

1159 
£tNumTrueNÚEvidGndšgsP”CÏu£
(
A¼ay
<>*

1160 
numTrueNÚEvidGndšgsP”CÏu£
)

1162 
	gnumTrueNÚEvidGndšgsP”CÏu£_
 = 
numTrueNÚEvidGndšgsP”CÏu£
;

1165 
£tNumF®£NÚEvidGndšgsP”CÏu£
(
A¼ay
<>*

1166 
numF®£NÚEvidGndšgsP”CÏu£
)

1168 
	gnumF®£NÚEvidGndšgsP”CÏu£_
 = 
numF®£NÚEvidGndšgsP”CÏu£
;

1171 
	$£tNumTrueNÚEvidGndšgs
(cÚ¡ & 
şau£Idx
, cÚ¡ & 
couÁ
)

1173 ià(
numTrueNÚEvidGndšgsP”CÏu£_
->
	`size
(è<ğ
şau£Idx
)

1174 
numTrueNÚEvidGndšgsP”CÏu£_
->
	`growToSize
(
şau£Idx
 + 1);

1175 (*
numTrueNÚEvidGndšgsP”CÏu£_
)[
şau£Idx
] = 
couÁ
;

1176 
	}
}

1178 
	$£tNumF®£NÚEvidGndšgs
(cÚ¡ & 
şau£Idx
, cÚ¡ & 
couÁ
)

1180 ià(
numF®£NÚEvidGndšgsP”CÏu£_
->
	`size
(è<ğ
şau£Idx
)

1181 
numF®£NÚEvidGndšgsP”CÏu£_
->
	`growToSize
(
şau£Idx
 + 1);

1182 (*
numF®£NÚEvidGndšgsP”CÏu£_
)[
şau£Idx
] = 
couÁ
;

1183 
	}
}

1185 cÚ¡ 
	$g‘NumTrueNÚEvidGroundšgs
(cÚ¡ & 
şau£Idx
) const

1187  (*
numTrueNÚEvidGndšgsP”CÏu£_
)[
şau£Idx
];

1188 
	}
}

1190 cÚ¡ 
	$g‘NumF®£NÚEvidGroundšgs
(cÚ¡ & 
şau£Idx
) const

1192  (*
numF®£NÚEvidGndšgsP”CÏu£_
)[
şau£Idx
];

1193 
	}
}

1195 cÚ¡ 
	$g‘NumNÚEvidGroundšgs
(cÚ¡ & 
şau£Idx
) const

1197  ((*
numTrueNÚEvidGndšgsP”CÏu£_
)[
şau£Idx
] +

1198 (*
numF®£NÚEvidGndšgsP”CÏu£_
)[
şau£Idx
]);

1199 
	}
}

1203 
P»diÿ‹
 * 
g‘P»diÿ‹
(
A¼ay
<> * cÚ¡ & 
cÚ¡ªts
, 
´edId
)

1205 
T”m
 *
	g‹rm
;

1206 cÚ¡ 
P»diÿ‹Tem¶©e
 *
	g±
 = 
g‘P»diÿ‹Tem¶©e
(
´edId
);

1207 
P»diÿ‹
 *
	g´ed
 = 
Ãw
 P»diÿ‹(
±
);

1208 
	gi
 = 0; i < 
	gcÚ¡ªts
->
size
(); i++)

1210 
	g‹rm
 = 
Ãw
 
T”m
((*
cÚ¡ªts
)[
i
]);

1211 
	g´ed
->
­³ndT”m
(
‹rm
);

1213  
	g´ed
;

1218 
P»diÿ‹
 * 
	$g‘P»diÿ‹
(cÚ¡ & 
´edId
)

1220 cÚ¡ 
P»diÿ‹Tem¶©e
 *
±
 = 
	`g‘P»diÿ‹Tem¶©e
(
´edId
);

1221 
P»diÿ‹
 *
´ed
 = 
Ãw
 
	`P»diÿ‹
(
±
);

1222  
´ed
;

1223 
	}
}

1225 
	g´iv©e
:

1227 
chªgeP»dT”msToNewIds
(
P»diÿ‹
* cÚ¡ & 
p
,

1228 
hash_m­
<,>& 
ŞdToNewCÚ¡Ids
);

1231 
	g´iv©e
:

1232 
Du®M­
* 
ty³Du®M­_
;

1233 
CÚ¡Du®M­
* 
	gcÚ¡Du®M­_
;

1234 
Du®M­
* 
	g´edDu®M­_
;

1235 
Du®M­
* 
	gfuncDu®M­_
;

1237 
SŒToP»dTem¶©eM­
* 
	g¡rToP»dTem¶©eM­_
;

1239 
SŒToFuncTem¶©eM­
* 
	g¡rToFuncTem¶©eM­_
;

1242 
P»diÿ‹Tem¶©e
* 
	gequ®P»dTem¶©e_
;

1245 
P»diÿ‹Tem¶©e
* 
	gem±yP»dTem¶©e_
;

1248 
FunùiÚTem¶©e
* 
	gem±yFuncUÇryTem¶©e_
;

1251 
FunùiÚTem¶©e
* 
	gem±yFuncBš¬yTem¶©e_
;

1254 
	gA¼ay
<A¼ay<>*>* 
	gcÚ¡ªtsByTy³_
;

1256 
	gA¼ay
<A¼ay<>*>* 
	gex‹º®CÚ¡ªtsByTy³_
;

1257 
D©aba£
* 
	gdb_
;

1258 
TrueF®£GroundšgsStÜe
* 
	gŒueF®£GroundšgsStÜe_
;

1259 
FunùiÚS‘
* 
	gfuncS‘_
;

1262 
	gA¼ay
<
	gP»diÿ‹
*>* 
	g´edBlocks_
;

1264 
	gA¼ay
<
	gP»diÿ‹
*>* 
	gŒueP»dsInBlock_
;

1267 
	gA¼ay
<>* 
	gŒueGroundšgsInBlock_
;

1269 
	gA¼ay
<>* 
	gblockSizes_
;

1271 
	gA¼ay
<
	gboŞ
>* 
	gblockEvid’û_
;

1275 
	gA¼ay
<>* 
	gnumNÚEvidAtomsP”P»d_
;

1279 
	gA¼ay
<>* 
	gnumTrueNÚEvidGndšgsP”CÏu£_
;

1280 
	gA¼ay
<>* 
	gnumF®£NÚEvidGndšgsP”CÏu£_
;

	@logic/function.cpp

66 
	~"funùiÚ.h
"

67 
	~"domaš.h
"

70 
	gFunùiÚ
::
	$£tDœty
(è{
dœty_
=
Œue
; ià(
·»Á_
!=
NULL
è·»Á_->
	`£tDœty
();
	}
}

73 
	go¡»am
&

74 
	gFunùiÚ
::
	$´štW™hR‘CÚ¡Name
(
o¡»am
& 
out
,cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

76 
	`´št
(
out
, 
domaš
);

77 
out
 << "=";

78 ià(
»tCÚ¡Id_
 >= 0)

79 
out
 << 
domaš
->
	`g‘CÚ¡ªtName
(
»tCÚ¡Id_
);

81 
out
 << "?";

82  
out
;

83 
	}
}

	@logic/function.h

66 #iâdeà
FUNCTION_H_JUN_26_2005


67 
	#FUNCTION_H_JUN_26_2005


	)

69 
	~<ext/hash_£t
>

70 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

71 
	~"funùiÚ‹m¶©e.h
"

72 
	~"hash.h
"

73 
	~"‹rm.h
"

77 şas 
	cFunùiÚ


79 
	mpublic
:

81 
	$FunùiÚ
(cÚ¡ 
FunùiÚTem¶©e
* cÚ¡ & 
á
)

82 : 
	`‹m¶©e_
(
á
), 
	`‹rms_
(
Ãw
 
A¼ay
<
T”m
*>), 
	`»tCÚ¡Id_
(-1),

83 
	`štA¼R•_
(
NULL
), 
	`hashCode_
(0), 
	`dœty_
(
Œue
), 
	$·»Á_
(
NULL
) {}

86 
	$FunùiÚ
(cÚ¡ 
FunùiÚTem¶©e
* cÚ¡ & 
á
, 
T”m
* cÚ¡ & 
·»Á
)

87 : 
	`‹m¶©e_
(
á
), 
	`‹rms_
(
Ãw
 
A¼ay
<
T”m
*>), 
	`»tCÚ¡Id_
(-1),

88 
	`štA¼R•_
(
NULL
), 
	`hashCode_
(0), 
	`dœty_
(
Œue
), 
	$·»Á_
(
NULL
è{
	}
}

91 
	$FunùiÚ
(cÚ¡ 
FunùiÚ
& 
f
è{ 
·»Á_
 = 
NULL
; 
	`cİy
(f); 
	}
}

92 
	$FunùiÚ
(cÚ¡ 
FunùiÚ
& 
f
, 
T”m
* cÚ¡ & 
·»Á
è{ 
·»Á_
õ¬’t; 
	`cİy
(f); 
	}
}

95 ~
	$FunùiÚ
()

97 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

98 
	`d–‘e
 (*
‹rms_
)[
i
];

99 
d–‘e
 
‹rms_
;

100 ià(
štA¼R•_
è
d–‘e
 intArrRep_;

101 
	}
}

105 
	$­³ndT”m
(
T”m
* cÚ¡ & 
‹rm
)

107 ià(
‹m¶©e_
->
	`g‘NumT”ms
(è=ğ
‹rms_
->
	`size
())

109 
cout
 << "Error: In Function::appendTerm. Triedo‡dd moreermshan "

110 << "thdeş¬ed‚um oà" << 
‹m¶©e_
->
	`g‘NumT”ms
(è<< 
’dl
;

111 
	`ex™
(-1);

113 
‹rms_
->
	`­³nd
(
‹rm
);

114 
	`£tDœty
();

115 
	}
}

122 
T”m
* 
	$»moveLa¡T”m
()

124 
T”m
* 
‹rm
 = 
‹rms_
->
	`»moveLa¡I‹m
();

125 
‹rms_
->
	`com´ess
();

126 
	`£tDœty
();

127  
‹rm
;

128 
	}
}

130 
	$g‘NumT”ms
(ècÚ¡ {  
‹rms_
->
	`size
(); 
	}
}

132 cÚ¡ 
T”m
* 
	$g‘T”m
(cÚ¡ & 
idx
ècÚ¡ {  (*
‹rms_
)[idx]; 
	}
}

134 
	$£tTem¶©e
(
FunùiÚTem¶©e
* cÚ¡ & 
t
è{ 
‹m¶©e_
 =; 
	}
}

136 cÚ¡ 
FunùiÚTem¶©e
* 
	$g‘Tem¶©e
(ècÚ¡ {  
‹m¶©e_
; 
	}
}

139 cÚ¡ * 
	$g‘Name
(ècÚ¡ {  
‹m¶©e_
->
	`g‘Name
(); 
	}
}

141 
	$g‘Id
(ècÚ¡ {  
‹m¶©e_
->
	`g‘Id
(); 
	}
}

145 
	$£tR‘CÚ¡Id
(cÚ¡ & 
cÚ¡Id
è{ 
»tCÚ¡Id_
 = cÚ¡Id; 
	`£tDœty
();
	}
}

146 
	$g‘R‘CÚ¡Id
(ècÚ¡ {  
»tCÚ¡Id_
; 
	}
}

148 
£tDœty
();

149 
boŞ
 
	$isDœty
(ècÚ¡ {  
dœty_
; 
	}
}

151 
	$£tP¬’t
(
T”m
* cÚ¡ 
·»Á
è{ 
·»Á_
 =…¬’t; 
	`£tDœty
(); 
	}
}

152 
T”m
* 
	$g‘P¬’t
(ècÚ¡ {  
·»Á_
; 
	}
}

158 cÚ¡ * 
	$g‘T”mTy³AsSŒ
(cÚ¡ & 
idx
) const

160 ià(
idx
 >ğ
‹m¶©e_
->
	`g‘NumT”ms
()è 
NULL
;

161  
‹m¶©e_
->
	`g‘T”mTy³AsSŒ
(
idx
);

162 
	}
}

165 
	$g‘T”mTy³AsIÁ
(cÚ¡ & 
idx
) const

167 ià(
idx
 >ğ
‹m¶©e_
->
	`g‘NumT”ms
())  -1;

168  
‹m¶©e_
->
	`g‘T”mTy³AsIÁ
(
idx
);

169 
	}
}

172 
	$g‘R‘Ty³Id
(ècÚ¡ {  
‹m¶©e_
->
	`g‘R‘Ty³Id
(); 
	}
}

175 cÚ¡ * 
	$g‘R‘Ty³Name
(ècÚ¡ {  
‹m¶©e_
->
	`g‘R‘Ty³Name
(); 
	}
}

177 
boŞ
 
	$§me
(cÚ¡ 
FunùiÚ
* cÚ¡ & 
f
) const

179 ià(
this
 =ğ
f
è 
Œue
;

182 ià(
‹m¶©e_
->
	`g‘Id
(è!ğ
f
->g‘Id()è 
çl£
;

183 
numT”ms
 = 
‹rms_
->
	`size
();

184 ià(
numT”ms
 !ğ
f
->
	`g‘NumT”ms
()è 
çl£
;

185 
i
 = 0; i < 
numT”ms
; i++)

186 ià((*
‹rms_
)[
i
]->
	`g‘Id
(è!ğ
f
->
	`g‘T”m
(i)->g‘Id()è 
çl£
;

187  
Œue
;

188 
	}
}

192 
­³ndIÁA¼R•
(
A¼ay
<>& 
»p
)

194 ià(
	gdœty_
è
compu‹AndStÜeIÁA¼R•
();

195 
	g»p
.
­³nd
(*
štA¼R•_
);

199 
size_t
 
	$hashCode
()

201 ià(
dœty_
è
	`compu‹AndStÜeIÁA¼R•
();

202  
hashCode_
;

203 
	}
}

206 
boŞ
 
	$§me
(
FunùiÚ
* cÚ¡ & 
f
)

208 ià(
this
==
f
è 
Œue
;

209 cÚ¡ 
A¼ay
<>* 
fA¼
 = 
f
->
	`g‘IÁA¼R•
();

210 cÚ¡ 
A¼ay
<>* 
myA¼
 = 
	`g‘IÁA¼R•
();

211 ià(
myA¼
->
	`size
(è!ğ
fA¼
->size()è 
çl£
;

212 cÚ¡ * 
fI‹ms
 = 
f
->
	`g‘IÁA¼R•
()->
	`g‘I‹ms
();

213 cÚ¡ * 
myI‹ms
 = 
	`g‘IÁA¼R•
()->
	`g‘I‹ms
();

214  (
	`memcmp
(
myI‹ms
, 
fI‹ms
, 
myA¼
->
	`size
()*())==0);

215 
	}
}

218 
	go¡»am
& 
	$´štAsIÁ
(
o¡»am
& 
out
) const

220 
out
 << 
‹m¶©e_
->
	`g‘Id
() << "(";

221 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

223 (*
‹rms_
)[
i
]->
	`´štAsIÁ
(
out
);

224 
out
 << ((
i
!=
‹rms_
->
	`size
()-1)?",":")");

226  
out
;

227 
	}
}

230 
	go¡»am
& 
	$´štAsIÁW™hR‘CÚ¡Id
(
o¡»am
& 
out
) const

232 
	`´štAsIÁ
(
out
);

233 
out
 << "=" << 
»tCÚ¡Id_
 << 
’dl
;

234  
out
;

235 
	}
}

238 
	go¡»am
& 
	$´št
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

240 
out
 << 
‹m¶©e_
->
	`g‘Name
() << "(";

241 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

243 (*
‹rms_
)[
i
]->
	`´št
(
out
, 
domaš
);

244 
out
 << ((
i
!=
‹rms_
->
	`size
()-1)?",":")");

246  
out
;

247 
	}
}

250 
	go¡»am
&

251 
	$´štW™hR‘CÚ¡Name
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const;

254 
´iv©e
:

255 
	$cİy
(cÚ¡ 
FunùiÚ
& 
f
)

257 
‹m¶©e_
 = 
f
.template_;

259 
‹rms_
 = 
Ãw
 
A¼ay
<
T”m
*>;

260 
A¼ay
<
T”m
*>* 
á”ms
 = 
f
.
‹rms_
;

261 
i
 = 0; i < 
á”ms
->
	`size
(); i++)

263 
T”m
* 
t
 = (*
á”ms
)[
i
];

264 
‹rms_
->
	`­³nd
(
Ãw
 
	`T”m
(*
t
, (*)
this
, 
çl£
));

266 
dœty_
 = 
f
.dirty_;

268 ià(!
dœty_
è{ 
	`as£¹
(
	`noDœtyT”ms
()); }

270 
»tCÚ¡Id_
 = 
f
.retConstId_;

272 ià(
f
.
štA¼R•_
èštA¼R•_ = 
Ãw
 
A¼ay
<>(*(f.intArrRep_));

273 
štA¼R•_
 = 
NULL
;

275 
hashCode_
 = 
f
.hashCode_;

277 ià(
·»Á_
è·»Á_->
	`£tDœty
();

278 
	}
}

281 
boŞ
 
	$noDœtyT”ms
()

283 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

284 ià((*
‹rms_
)[
i
]->
	`isDœty
()è 
çl£
;

285  
Œue
;

286 
	}
}

289 cÚ¡ 
	gA¼ay
<>* 
	$g‘IÁA¼R•
()

290 { ià(
dœty_
è
	`compu‹AndStÜeIÁA¼R•
();  
štA¼R•_
; 
	}
}

293 
	$compu‹AndStÜeIÁA¼R•
()

296 
dœty_
 = 
çl£
;

297 ià(
štA¼R•_
 =ğ
NULL
èštA¼R•_ = 
Ãw
 
A¼ay
<>;

298 
štA¼R•_
->
	`ş—r
();

299 
štA¼R•_
->
	`­³nd
(
‹m¶©e_
->
	`g‘Id
());

301 
numT”ms
 = 
‹rms_
->
	`size
();

302 
i
 = 0; i < 
numT”ms
; i++)

303 (*
‹rms_
)[
i
]->
	`­³ndIÁA¼R•
(*
štA¼R•_
);

305 
štA¼R•_
->
	`com´ess
();

306 
hashCode_
 = 
Hash
::
	`hash
(*
štA¼R•_
);

307 
	}
}

310 
	g´iv©e
:

311 cÚ¡ 
FunùiÚTem¶©e
* 
‹m¶©e_
;

312 
	gA¼ay
<
	gT”m
*>* 
	g‹rms_
;

313 
	g»tCÚ¡Id_
;

314 
	gA¼ay
<>* 
	gštA¼R•_
;

315 
size_t
 
	ghashCode_
;

316 
boŞ
 
	gdœty_
;

317 
T”m
* 
	g·»Á_
;

320 
šlše


321 
	go¡»am
& 
	gİ”©Ü
<<(o¡»am& 
	gout
, cÚ¡ 
	gFunùiÚ
& 
	gf
è{ f.
´štAsIÁ
(
out
);}

326 şas 
	cHashFunùiÚ


328 
	mpublic
:

329 
size_t
 
	$İ”©Ü
()(
FunùiÚ
* cÚ¡ & 
f
ècÚ¡ {  f->
	`hashCode
(); }

330 
	}
};

333 şas 
	cEqu®FunùiÚ


335 
	mpublic
:

336 
boŞ
 
	$İ”©Ü
()(cÚ¡ 
FunùiÚ
* cÚ¡ & 
f1
, cÚ¡ FunùiÚ* cÚ¡ & 
f2
) const

337 {  
f1
->
	`§me
(
f2
); }

338 
	}
};

343 
	ghash_£t
<
	tFunùiÚ
*, 
	tHashFunùiÚ
, 
	tEqu®FunùiÚ
> 
	tFunùiÚS‘
;

	@logic/functiontemplate.cpp

66 
	~"funùiÚ‹m¶©e.h
"

67 
	~"domaš.h
"

69 cÚ¡ * 
	gFunùiÚTem¶©e
::
EMPTY_FTEMPLATE_NAME
 = "SK_EMPTY_FTEMPLATE";

72 
	gFunùiÚTem¶©e
::
	$£tR‘Ty³Id
(cÚ¡ & 
id
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

74 cÚ¡ * 
Çme
 = 
domaš
->
	`g‘Ty³Name
(
id
);

75 ià(
Çme
==
NULL
)

77 
cout
 << "E¼Ü: IÀFunùiÚTem¶©e::addR‘Ty³Id(). Ty³Id " << 
id


78 << " dÛ nÙƒxi¡." << 
’dl
;

79 
	`ex™
(-1);

82 
»tTy³Id_
 = 
id
;

83 
d–‘e
 [] 
»tTy³Name_
;

84 
»tTy³Name_
 = 
Ãw
 [
	`¡¾’
(
Çme
)+1];

85 
	`¡rıy
(
»tTy³Name_
,
Çme
);

86 
	}
}

91 
	gFunùiÚTem¶©e
::
	$£tR‘Ty³Name
(cÚ¡ * cÚ¡ & 
Çme
,

92 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

94 
id
 = 
domaš
->
	`g‘Ty³Id
(
Çme
);

95 ià(
id
 < 0)

97 
cout
 << "E¼Ü: IÀFunùiÚTem¶©e::£tR‘Ty³Name(). Ty³ " << 
Çme


98 << " ha nÙ b“Àdeş¬ed." << 
’dl
;

99 
	`ex™
(-1);

102 
»tTy³Id_
 = 
id
;

103 
d–‘e
 [] 
»tTy³Name_
;

104 
»tTy³Name_
 = 
Ãw
 [
	`¡¾’
(
Çme
)+1];

105 
	`¡rıy
(
»tTy³Name_
,
Çme
);

106 
	}
}

	@logic/functiontemplate.h

66 #iâdeà
FUNCTIONTEMPLATE_JUN_22_2005


67 
	#FUNCTIONTEMPLATE_JUN_22_2005


	)

69 
	~"´ediÿ‹‹m¶©e.h
"

71 şas 
	cFunùiÚTem¶©e
 : 
public
 
P»diÿ‹Tem¶©e


73 
public
:

74 cÚ¡ * 
EMPTY_FTEMPLATE_NAME
;

75 
	mpublic
:

76 
	$FunùiÚTem¶©e
(è: 
	`P»diÿ‹Tem¶©e
(), 
	`»tTy³Id_
(-1),
	$»tTy³Name_
(
NULL
) {}

77 
vœtu®
 ~
	$FunùiÚTem¶©e
(è{ 
d–‘e
 [] 
»tTy³Name_
; 
	}
}

81 
£tR‘Ty³Id
(cÚ¡ & 
id
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
);

85 
£tR‘Ty³Name
(cÚ¡ * cÚ¡ & 
Çme
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
);

88 
	$g‘R‘Ty³Id
(ècÚ¡ {  
»tTy³Id_
; 
	}
}

91 cÚ¡ * 
	$g‘R‘Ty³Name
(ècÚ¡ {  
»tTy³Name_
; 
	}
}

94 
¡ršg
 
ü—‹IÁ”ÇlFuncTy³Name
(cÚ¡ * cÚ¡ & 
funcName
,

95 cÚ¡ 
A¼ay
<
¡ršg
>& 
ty³Names
)

97 
¡ršg
 
	gáName
;

98 
	gáName
.
­³nd
(
funcName
);

99 
	gi
 = 0; i < 
	gty³Names
.
size
(); i++)

101 
	gáName
.
­³nd
("_").­³nd(
ty³Names
[
i
]);

103  
	gáName
;

106 
boŞ
 
	$isIÁ”ÇlFunùiÚTem¶©eName
(cÚ¡ * 
funcName
)

108  (
	`¡ºcmp
(
funcName
, 
SUCC_NAME
, 
	`¡¾’
(SUCC_NAME)) == 0 ||

109 
	`¡ºcmp
(
funcName
, 
PLUS_NAME
, 
	`¡¾’
(PLUS_NAME)) == 0 ||

110 
	`¡ºcmp
(
funcName
, 
MINUS_NAME
, 
	`¡¾’
(MINUS_NAME)) == 0 ||

111 
	`¡ºcmp
(
funcName
, 
TIMES_NAME
, 
	`¡¾’
(TIMES_NAME)) == 0 ||

112 
	`¡ºcmp
(
funcName
, 
DIVIDEDBY_NAME
, 
	`¡¾’
(DIVIDEDBY_NAME)) == 0 ||

113 
	`¡ºcmp
(
funcName
, 
MOD_NAME
, 
	`¡¾’
(MOD_NAME)) == 0 ||

114 
	`¡ºcmp
(
funcName
, 
CONCAT_NAME
, 
	`¡¾’
(CONCAT_NAME)) == 0);

115 
	}
}

117 
boŞ
 
	$isIÁ”ÇlFunùiÚUÇryTem¶©eName
(cÚ¡ * 
funcName
)

119  (
	`¡ºcmp
(
funcName
, 
SUCC_NAME
, 
	`¡¾’
(SUCC_NAME)) == 0);

120 
	}
}

123 
boŞ
 
	$isIÁ”ÇlFunùiÚTem¶©e
() const

125  (
	`¡ºcmp
(
Çme_
, 
SUCC_NAME
, 
	`¡¾’
(SUCC_NAME)) == 0 ||

126 
	`¡ºcmp
(
Çme_
, 
PLUS_NAME
, 
	`¡¾’
(PLUS_NAME)) == 0 ||

127 
	`¡ºcmp
(
Çme_
, 
MINUS_NAME
, 
	`¡¾’
(MINUS_NAME)) == 0 ||

128 
	`¡ºcmp
(
Çme_
, 
TIMES_NAME
, 
	`¡¾’
(TIMES_NAME)) == 0 ||

129 
	`¡ºcmp
(
Çme_
, 
DIVIDEDBY_NAME
, 
	`¡¾’
(DIVIDEDBY_NAME)) == 0 ||

130 
	`¡ºcmp
(
Çme_
, 
MOD_NAME
, 
	`¡¾’
(MOD_NAME)) == 0 ||

131 
	`¡ºcmp
(
Çme_
, 
CONCAT_NAME
, 
	`¡¾’
(CONCAT_NAME)) == 0);

132 
	}
}

134 
	go¡»am
& 
	$´št
(
o¡»am
& 
out
) const

136 
out
 << 
»tTy³Name_
 << " ";

137 
out
 << 
Çme_
 << "(";

138 
i
 = 0; i < 
‹rmTy³sAsSŒ_
->
	`size
(); i++)

140 
out
 << (*
‹rmTy³sAsSŒ_
)[
i
];

141 
out
 << ((
i
!=
‹rmTy³sAsSŒ_
->
	`size
()-1)?",":")");

143  
out
;

144 
	}
}

147 
	go¡»am
& 
	$´štW™hSŒV¬
(
o¡»am
& 
out
) const

149 
out
 << 
»tTy³Name_
 << " ";

150 
out
 << 
Çme_
 << "(";

151 
i
 = 0; i < 
‹rmTy³sAsSŒ_
->
	`size
(); i++)

153 
out
 << "a" << 
i
+1;

154 
out
 << ((
i
!=
‹rmTy³sAsSŒ_
->
	`size
()-1)?",":")");

156  
out
;

157 
	}
}

160 
	g´iv©e
:

161 
»tTy³Id_
;

162 * 
	g»tTy³Name_
;

	@logic/groundpreds.h

66 #iâdeà
GROUNDPREDS_H_JUN_28_2005


67 
	#GROUNDPREDS_H_JUN_28_2005


	)

69 
	~"´ediÿ‹.h
"

72 şas 
	cGroundP»ds


74 
	mpublic
:

75 
	$GroundP»ds
(è: 
	`ŒueGndP»ds_
(
Ãw
 
P»diÿ‹HashA¼ay
),

76 
	`çl£GndP»ds_
(
Ãw
 
P»diÿ‹HashA¼ay
),

77 
	$unknownGndP»ds_
(
Ãw
 
P»diÿ‹HashA¼ay
) {}

79 ~
	$GroundP»ds
()

81 
i
=0; i<
ŒueGndP»ds_
->
	`size
();i++è
	`d–‘e
 (*trueGndPreds_)[i];

82 
i
=0; i<
çl£GndP»ds_
->
	`size
();i++è
	`d–‘e
 (*falseGndPreds_)[i];

83 
i
=0; i<
unknownGndP»ds_
->
	`size
();i++è
	`d–‘e
 (*unknownGndPreds_)[i];

84 
d–‘e
 
ŒueGndP»ds_
;

85 
d–‘e
 
çl£GndP»ds_
;

86 
d–‘e
 
unknownGndP»ds_
;

87 
	}
}

90 
boŞ
 
	$cÚšs
(
P»diÿ‹
* cÚ¡ & 
p
)

92  (
ŒueGndP»ds_
->
	`cÚšs
(
p
è|| 
çl£GndP»ds_
->contains(p) ||

93 
unknownGndP»ds_
->
	`cÚšs
(
p
));

94 
	}
}

98 
	$­³ndTrueGndP»d
(
P»diÿ‹
* cÚ¡ & 
p
)

99 { 
p
->
	`£tTruthV®ue
(
TRUE
); 
ŒueGndP»ds_
->
	`­³nd
Õ); 
	}
}

102 
	$­³ndF®£GndP»d
(
P»diÿ‹
* cÚ¡ & 
p
)

103 { 
p
->
	`£tTruthV®ue
(
FALSE
); 
çl£GndP»ds_
->
	`­³nd
Õ);
	}
}

106 
	$­³ndUnknownGndP»d
(
P»diÿ‹
* cÚ¡ & 
p
)

107 { 
p
->
	`£tTruthV®ue
(
UNKNOWN
); 
unknownGndP»ds_
->
	`­³nd
Õ); 
	}
}

111 cÚ¡ 
P»diÿ‹HashA¼ay
* 
	$g‘TrueGndP»ds
(ècÚ¡ {  
ŒueGndP»ds_
; 
	}
}

112 cÚ¡ 
P»diÿ‹HashA¼ay
* 
	$g‘F®£GndP»ds
(ècÚ¡ {  
çl£GndP»ds_
; 
	}
}

113 cÚ¡ 
P»diÿ‹HashA¼ay
* 
	$g‘UnknownGndP»ds
() const

114 { 
unknownGndP»ds_
; 
	}
}

117 
	$g‘NumTrueGndP»ds
(ècÚ¡ {  
ŒueGndP»ds_
->
	`size
(); 
	}
}

118 
	$g‘NumF®£GndP»ds
(ècÚ¡ {  
çl£GndP»ds_
->
	`size
(); 
	}
}

119 
	$g‘NumUnknownGndP»ds
(ècÚ¡ {  
unknownGndP»ds_
->
	`size
(); 
	}
}

123 
	$chªgeGndP»dTruthV®ue
(
P»diÿ‹
* cÚ¡ & 
´ed
,

124 cÚ¡ 
TruthV®ue
& 
ŞdV®ue
,

125 cÚ¡ 
TruthV®ue
& 
ÃwV®ue
)

127 
P»diÿ‹
* 
µ»d
 = (P»diÿ‹*è
´ed
;

128 
P»diÿ‹
* 
p
 = 
NULL
;

132 ià(
ŞdV®ue
==
TRUE
)

133 
p
 = 
ŒueGndP»ds_
->
	`»moveIÅutI‹mFa¡DisÜd”
(
µ»d
);

135 ià(
ŞdV®ue
==
FALSE
)

136 
p
 = 
çl£GndP»ds_
->
	`»moveIÅutI‹mFa¡DisÜd”
(
µ»d
);

138 ià(
ŞdV®ue
==
UNKNOWN
)

139 
p
 = 
unknownGndP»ds_
->
	`»moveIÅutI‹mFa¡DisÜd”
(
µ»d
);

141 
	`as£¹
(
p
);

142 ià(
ÃwV®ue
 =ğ
TRUE
è
ŒueGndP»ds_
->
	`­³nd
(
p
);

143 ià(
ÃwV®ue
 =ğ
FALSE
è
çl£GndP»ds_
->
	`­³nd
(
p
);

144 ià(
ÃwV®ue
 =ğ
UNKNOWN
è
unknownGndP»ds_
->
	`­³nd
(
p
);

145 
	`as£¹
(
çl£
);

146 
	}
}

149 
	$com´ess
()

151 
ŒueGndP»ds_
->
	`com´ess
();

152 
çl£GndP»ds_
->
	`com´ess
();

153 
unknownGndP»ds_
->
	`com´ess
();

154 
	}
}

157 
	g´iv©e
:

158 
P»diÿ‹HashA¼ay
* 
ŒueGndP»ds_
;

159 
P»diÿ‹HashA¼ay
* 
	gçl£GndP»ds_
;

160 
P»diÿ‹HashA¼ay
* 
	gunknownGndP»ds_
;

	@logic/hvariablestate.h

67 #iâdeà
HVARIABLESTATE_H_


68 
	#HVARIABLESTATE_H_


	)

70 
	~"mrf.h
"

71 
	~"tim”.h
"

72 
	~"PŞynomŸl.h
"

73 
	~"lbfg¥.h
"

74 
	~"logsigmoid.h
"

75 
	~"logich–³r.h
"

76 
	~<£t
>

79 
	#UNSOLVABLE
 1010101

	)

82 
	#FLIPDIS
 1010102

	)

84 
	#CANNOTSATCURRENT
 -1000000

	)

86 cÚ¡ 
boŞ
 
	ghvsdebug
 = 
çl£
;

88 cÚ¡ 
	gSMALLVALUE
 = 0.0000000000001;

90 
	gABSBIG
 = 1111111111;

92 
	#MIN
(
x
,
y
è(x<y)?x:
	)
y

93 
	#MAX
(
x
,
y
è(x>y)?x:
	)
y

95 
	eUNSATTYPE


97 
	mUNSAT_DIS0
,

98 
	mUNSAT_DIS1
,

99 
	mUNSAT_UNKNOWN


102 
usšg
 
Çme¥aû
 
	g¡d
;

125 şas 
	cHV¬ŸbËS‹


127 
	mpublic
:

147 
HV¬ŸbËS‹
(
GroundP»diÿ‹HashA¼ay
* cÚ¡& 
unknownQu”›s
,

148 
GroundP»diÿ‹HashA¼ay
* cÚ¡& 
knownQu”›s
,

149 
A¼ay
<
TruthV®ue
>* cÚ¡ & 
knownQu”yV®ues
,

150 cÚ¡ 
A¼ay
<>* cÚ¡ & 
®lP»dGndšgsA»Qu”›s
,

151 cÚ¡ 
boŞ
& 
m¬kH¬dGndCÏu£s
,

152 cÚ¡ 
boŞ
& 
ŒackP¬’tCÏu£Wts
, cÚ¡ 
MLN
* cÚ¡ & 
mÊ
,

153 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

154 cÚ¡ 
boŞ
& 
Ïzy
)

156 
	m¡lAùiv©šg_
 = 
Œue
;

157 
	mb»akH¬dCÏu£s_
 = 
çl£
;

159 
	mšã»nûMode_
 = 
MODE_MWS
;

160 
Tim”
 
	mtim”
;

161 
	m¡¬tTime
 = 
tim”
.
time
();

163 ià(
	mhvsdebug
)

164 
	mcout
 << "äom hybrid vs" << 
	m’dl
;

166 
	mthis
->
	mmÊ_
 = (
MLN
*)
mÊ
;

167 
	mthis
->
	mdomaš_
 = (
Domaš
*)
domaš
;

168 
	mthis
->
	mÏzy_
 = 
Ïzy
;

171 
	mbIn™FromEvi_
 = 
çl£
;

172 
	mba£NumAtoms_
 = 0;

173 
	maùiveAtoms_
 = 0;

174 
	mnumF®£CÏu£s_
 = 0;

175 
	mco¡OfF®£CÏu£s_
 = 0.0;

176 
	mweightSumDis_
 = 0.0;

177 
	mweightSumCÚt_
 = 0.0;

178 
	mco¡OfTÙ®F®£CÚ¡¿šts_
 = 0.0;

179 
	mtÙ®F®£CÚ¡¿štNum_
 = 0;

180 
	mco¡HybridF®£CÚ¡¿št_
 = 0.0;

181 
	mhybridF®£CÚ¡¿štNum_
 = 0;

182 
	mlowCo¡_
 = 
LDBL_MAX
;

183 
	mlowBad_
 = 
INT_MAX
;

184 
	mlowCo¡AÎ_
 = 
LDBL_MAX
;

185 
	mlowBadAÎ_
 = 
INT_MAX
;

186 
	mlowCo¡Hybrid_
 = 
LDBL_MAX
;

187 
	mlowBadHybrid_
 = 
INT_MAX
;

189 
	mhybridCÏu£Num_
 = 0;

190 
	mhybridFÜmuÏNum_
 = 0;

193 
	mgndCÏu£s_
 = 
Ãw
 
GroundCÏu£HashA¼ay
;

194 
	mgndP»ds_
 = 
Ãw
 
A¼ay
<
GroundP»diÿ‹
*>;

195 
	mbMaxOÆy_
 = 
çl£
;

198 
£tH¬dCÏu£Weight
();

201 ià(
	mÏzy_
)

204 
	mdomaš_
->
compu‹NumNÚEvidAtoms
();

205 
	mnumNÚEvAtoms_
 = 
domaš_
->
g‘NumNÚEvid’ûAtoms
();

207 
	mdomaš_
->
g‘DB
()->
£tP”fÜmšgInã»nû
(
Œue
);

208 
	mşau£Lim™_
 = 
INT_MAX
;

209 
	mnoAµrox_
 = 
çl£
;

210 
	mhaveD—ùiv©ed_
 = 
çl£
;

216 
š™BlocksRªdom
();

218 
boŞ
 
	mignÜeAùiveP»ds
 = 
Œue
;

219 
	mcout
 << "G‘tšg in™ŸÈaùiv©om ... " << 
	m’dl
;

220 
g‘AùiveCÏu£s
(
ÃwCÏu£s_
, 
ignÜeAùiveP»ds
);

221 
	mcout
 << "dÚe." << 
	m’dl
;

222 
	mdeçuÉCÁ
 = 
ÃwCÏu£s_
.
size
();

223 
	mdeçuÉCo¡
 = 0;

225 
	mi
 = 0; i < 
	mdeçuÉCÁ
; i++)

227 ià(
	mÃwCÏu£s_
[
i
]->
isH¬dCÏu£
())

228 
	mdeçuÉCo¡
 +ğ
h¬dWt_
;

230 
	mdeçuÉCo¡
 +ğ
abs
(
ÃwCÏu£s_
[
i
]->
g‘Wt
());

234 
	mi
 = 0; i < 
	mgndP»dHashA¼ay_
.
size
(); i++)

235 
	mgndP»dHashA¼ay_
[
i
]->
»moveGndCÏu£s
();

238 
	mi
 = 0; i < 
	mÃwCÏu£s_
.
size
(); i++)

239 
d–‘e
 
	mÃwCÏu£s_
[
i
];

240 
	mÃwCÏu£s_
.
ş—r
();

242 
	mba£NumAtoms_
 = 
gndP»dHashA¼ay_
.
size
();

243 
	mcout
 << "Numb” oàBa£©om ğ" << 
	mba£NumAtoms_
 << 
	m’dl
;

244 
	mcout
 << "DeçuÉ => Co¡\t" << "******\t" << " CÏu£ CÁ\t" << 
	m’dl
;

245 
	mcout
 << " " << 
	mdeçuÉCo¡
 << "\t" << "******\t" << 
	mdeçuÉCÁ


246 << "\t" << 
	m’dl
 <<ƒndl;

249 
	mi
 = 0; i < 
	mba£NumAtoms_
; i++)

251 
	mdomaš_
->
g‘DB
()->
£tAùiveStus
(
gndP»dHashA¼ay_
[
i
], 
Œue
);

252 
	maùiveAtoms_
++;

256 
	mignÜeAùiveP»ds
 = 
çl£
;

257 
	mcout
 << "Getting initial‡ctive clauses ... ";

258 
g‘AùiveCÏu£s
(
ÃwCÏu£s_
, 
ignÜeAùiveP»ds
);

259 
	mcout
 << "dÚe." << 
	m’dl
;

264 
	muÃP»ds_
 = 
unknownQu”›s
;

265 
	mkÃP»ds_
 = 
knownQu”›s
;

266 
	mkÃP»dV®ues_
 = 
knownQu”yV®ues
;

268 
	msize
 = 0;

269 ià(
	munknownQu”›s
è
	msize
 +ğ
unknownQu”›s
->
size
();

270 ià(
	mknownQu”›s
è
	msize
 +ğ
knownQu”›s
->
size
();

271 
GroundP»diÿ‹HashA¼ay
* 
	mqu”›s
 = 
Ãw
 GroundP»diÿ‹HashA¼ay(
size
);

272 ià(
	munknownQu”›s
è
	mqu”›s
->
­³nd
(
unknownQu”›s
);

273 ià(
	mknownQu”›s
è
	mqu”›s
->
­³nd
(
knownQu”›s
);

274 
	mmrf_
 = 
Ãw
 
MRF
(
qu”›s
, 
®lP»dGndšgsA»Qu”›s
, 
domaš_
,

275 
domaš_
->
g‘DB
(), 
mÊ_
, 
m¬kH¬dGndCÏu£s
,

276 
ŒackP¬’tCÏu£Wts
, -1);

279 
	mmrf_
->
d–‘eGndP»dsGndCÏu£S‘s
();

282 
d–‘e
 
	mqu”›s
;

285 
	mÃwCÏu£s_
 = *(
A¼ay
<
GroundCÏu£
*>*)
mrf_
->
g‘GndCÏu£s
();

288 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
	mgndP»ds
 = 
mrf_
->
g‘GndP»ds
();

289 
	mi
 = 0; i < 
	mgndP»ds
->
size
(); i++)

290 
	mgndP»dHashA¼ay_
.
­³nd
((*
gndP»ds
)[
i
]);

293 
	mba£NumAtoms_
 = 
gndP»dHashA¼ay_
.
size
();

301 
boŞ
 
	mš™Ÿl
 = 
Œue
;

302 
addNewCÏu£s
(
š™Ÿl
);

304 
	mcout
 << "[VS] ";

305 
	mTim”
::
´štTime
(
cout
,
tim”
.
time
()-
¡¬tTime
);

306 
	mcout
 << 
	m’dl
;

307 
	mcout
 << ">>> DONE: In™ŸÈnum. oàşau£s: " << 
g‘NumCÏu£s
(è<< 
	m’dl
;

314 ~
	$HV¬ŸbËS‹
()

316 ià(
Ïzy_
)

318 ià(
gndCÏu£s_
)

319 
i
 = 0; i < 
gndCÏu£s_
->
	`size
(); i++)

320 
	`d–‘e
 (*
gndCÏu£s_
)[
i
];

322 
i
 = 0; i < 
gndP»dHashA¼ay_
.
	`size
(); i++)

324 
gndP»dHashA¼ay_
[
i
]->
	`»moveGndCÏu£s
();

325 
d–‘e
 
gndP»dHashA¼ay_
[
i
];

331 ià(
mrf_
)

333 
d–‘e
 
mrf_
;

334 
mrf_
 = 
NULL
;

337 
i
 = 0; i < 
cÚtsŞv”s_
.
	`size
(); i++)

338 
d–‘e
 
cÚtsŞv”s_
[
i
];

340 
	}
}

349 
	$addNewCÏu£s
(
boŞ
 
š™Ÿl
)

351 ià(
š™Ÿl
è
	`addNewCÏu£s
(
ADD_CLAUSE_INITIAL
, 
ÃwCÏu£s_
);

352 
	`addNewCÏu£s
(
ADD_CLAUSE_REGULAR
, 
ÃwCÏu£s_
);

353 
	}
}

358 
	$š™
()

360 ià(
hvsdebug
)

362 
cout
 << "’‹ršg in™" << 
’dl
;

363 
cout
 << "disü‘şau£‚umb”: " << 
	`g‘NumCÏu£s
()

364 << ", hybrid cÏu£‚umb”: " << 
hybridCÏu£Num_
 << 
’dl
;

367 
i
 = 0; i < 
	`g‘NumCÏu£s
(); i++)

369 
numTrueL™s_
[
i
] = 0;

370 
çl£CÏu£_
[
i
] = 0;

371 
wh”eF®£_
[
i
] = 0;

374 
tÙ®F®£CÚ¡¿štNum_
 = 0;

375 
co¡OfTÙ®F®£CÚ¡¿šts_
 = 0.0;

376 
numF®£CÏu£s_
 = 0;

377 
co¡OfF®£CÏu£s_
 = 0.0;

378 
hybridF®£CÚ¡¿štNum_
 = 0;

379 
co¡HybridF®£CÚ¡¿št_
 = 0.0;

381 
weightSumCÚt_
 = 0.0;

382 
weightSumDis_
 = 0.0;

385 
	`š™MakeB»akCo¡W©ch
();

386 
	`š™MakeB»akCo¡W©chCÚt
();

387 ià(
hvsdebug
)

388 
cout
 << "Ëavšg in™" << 
’dl
;

389 
	}
}

391 
	$š™LowS‹
()

393 
lowCo¡_
 = 
LDBL_MAX
;

394 
lowBad_
 = 
INT_MAX
;

395 
lowCo¡AÎ_
 = 
LDBL_MAX
;

396 
lowBadAÎ_
 = 
INT_MAX
;

397 
lowCo¡Hybrid_
 = 
LDBL_MAX
;

398 
lowBadHybrid_
 = 
INT_MAX
;

399 
	}
}

404 
	$»š™
()

406 
şau£_
.
	`ş—rAndCom´ess
();

407 
şau£Co¡_
.
	`ş—rAndCom´ess
();

408 
çl£CÏu£_
.
	`ş—rAndCom´ess
();

409 
wh”eF®£_
.
	`ş—rAndCom´ess
();

410 
numTrueL™s_
.
	`ş—rAndCom´ess
();

411 
w©ch1_
.
	`ş—rAndCom´ess
();

412 
w©ch2_
.
	`ş—rAndCom´ess
();

413 
isS©isf›d_
.
	`ş—rAndCom´ess
();

414 
d—dCÏu£_
.
	`ş—rAndCom´ess
();

415 
th»shŞd_
.
	`ş—rAndCom´ess
();

417 
i
 = 0; i < 
gndCÏu£s_
->
	`size
(); i++)

418 
ÃwCÏu£s_
.
	`­³nd
((*
gndCÏu£s_
)[
i
]);

420 
gndCÏu£s_
->
	`ş—rAndCom´ess
();

421 
gndP»ds_
->
	`ş—rAndCom´ess
();

422 
i
 = 0; i < 
occu»nû_
.
	`size
(); i++)

423 
occu»nû_
[
i
].
	`ş—rAndCom´ess
();

424 
occu»nû_
.
	`ş—rAndCom´ess
();

427 
boŞ
 
š™Ÿl
 = 
Œue
;

428 
	`addNewCÏu£s
(
š™Ÿl
);

429 
ba£NumAtoms_
 = 
gndP»dHashA¼ay_
.
	`size
();

430 
	`š™
();

431 
	}
}

434 
	$£tIn™FromEvi
(
boŞ
 
bIn™FromEvi
)

436 
bIn™FromEvi_
 = 
bIn™FromEvi
;

437 
	}
}

445 
	$š™Rªdom
()

448 ià(!
bIn™FromEvi_
)

451 
i
 = 1; i <ğ
ba£NumAtoms_
; i++)

453 ià(
hvsdebug
è
cout
 << "Atom " << 
i
 << "‚Ù iÀblock" << 
’dl
;

454 
	`£tV®ueOfAtom
(
i
, 
	`¿ndom
(è% 2, 
çl£
, -1);

458 
	`š™CÚtšuousV¬ŸbËRªdom
();

460 ià(
hvsdebug
)

462 
cout
 << "Rªdomly in™Ÿlizšg dis&cÚˆv¬ŸbË to:" << 
’dl
;

463 
i
 = 0; i < 
ba£NumAtoms_
; i++)

465 
	`´štDisAtom
(
i
+1, 
cout
);

468 
i
 = 0; i < 
cÚtAtomNum_
; i++)

470 
	`´štCÚtAtom
(
i
+1, 
cout
);

477 
i
 = 1; i <ğ
ba£NumAtoms_
; i++)

479 ià(
hvsdebug
è
cout
 << "Atom " << 
i
 << "‚Ù iÀblock" << 
’dl
;

480 
	`£tV®ueOfAtom
(
i
, 
	`¿ndom
(è% 2, 
çl£
, -1);

483 
cÚtAtoms_
.
	`cİyFrom
(
cÚtAtomsEvi_
);

487 
	`š™
();

488 
	}
}

493 
	$š™BlocksRªdom
()

495 ià(
hvsdebug
)

497 
cout
 << "In™Ÿlizšg block ¿ndomly" << 
’dl
;

498 
cout
 << "Num. oàblocks: " << 
domaš_
->
	`g‘NumP»dBlocks
(è<< 
’dl
;

501 
i
 = 0; i < 
domaš_
->
	`g‘NumP»dBlocks
(); i++)

503 
ŒueFixedAtom
 = 
	`g‘TrueFixedAtomInBlock
(
i
);

505 ià(
ŒueFixedAtom
 >= 0)

507 ià(
hvsdebug
)

509 
cout
 << "Trufixed‡tom " << 
ŒueFixedAtom
 << " in block "

510 << 
i
 << 
’dl
;

512 
	`£tOth”sInBlockToF®£
(
ŒueFixedAtom
, 
i
);

517 ià(
domaš_
->
	`g‘BlockEvid’û
(
i
))

519 ià(
hvsdebug
è
cout
 << "Blockƒvid’û iÀblock " << 
i
 << 
’dl
;

521 
	`£tOth”sInBlockToF®£
(-1, 
i
);

526 
boŞ
 
ok
 = 
çl£
;

527 !
ok
)

529 cÚ¡ 
P»diÿ‹
* 
´ed
 = 
domaš_
->
	`g‘RªdomP»dInBlock
(
i
);

530 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
((
P»diÿ‹
*)
´ed
);

531 
©omIdx
 = 
gndP»dHashA¼ay_
.
	`fšd
(
gndP»d
);

532 
d–‘e
 
´ed
;

534 
	`as£¹
(
Ïzy_
 || 
©omIdx
 >= 0);

536 ià(
©omIdx
 == -1)

538 
©omIdx
 = 
gndP»dHashA¼ay_
.
	`­³nd
(
gndP»d
);

539 
boŞ
 
š™Ÿl
 = 
çl£
;

540 
	`addNewCÏu£s
(
š™Ÿl
);

541 
ok
 = 
Œue
;

546 
d–‘e
 
gndP»d
;

547 ià(
fixedAtom_
[
©omIdx
 + 1] == 0)

549 ià(
hvsdebug
è
cout
 << "Atom " << 
©omIdx
 + 1

550 << " cho£Àš block " << 
i
 << 
’dl
;

551 
ok
 = 
Œue
;

555 ià(
hvsdebug
è
cout
 << "Atom " << 
©omIdx
 + 1

556 << " i fixedØ" << 
fixedAtom_
[
©omIdx
 + 1]

557 << 
’dl
;

562 
boŞ
 
aùiv©e
 = 
çl£
;

563 
	`£tV®ueOfAtom
(
©omIdx
 + 1, 
Œue
, 
aùiv©e
, 
i
);

564 
	`£tOth”sInBlockToF®£
(
©omIdx
, 
i
);

567 ià(
hvsdebug
è
cout
 << "DÚš™Ÿlizšg block ¿ndomly" << 
’dl
;

568 
	}
}

574 
	$»£tMakeB»akCo¡W©ch
()

577 
i
 = 0; i < 
	`g‘NumCÏu£s
(); i++è
numTrueL™s_
[i] = 0;

578 
hybridF®£CÚ¡¿štNum_
 = 0;

579 
co¡HybridF®£CÚ¡¿št_
 = 0;

580 
tÙ®F®£CÚ¡¿štNum_
 = 0;

581 
co¡OfTÙ®F®£CÚ¡¿šts_
 = 0;

582 
numF®£CÏu£s_
 = 0;

583 
co¡OfF®£CÏu£s_
 = 0.0;

584 
weightSumCÚt_
 = 0;

585 
weightSumDis_
 = 0;

586 
lowCo¡_
 = 
LDBL_MAX
;

587 
lowBad_
 = 
INT_MAX
;

589 
	`as£¹
(
makeCo¡_
.
	`size
(è=ğ
b»akCo¡_
.size());

591 
i
 = 0; i < 
makeCo¡_
.
	`size
(); i++)

593 
makeCo¡_
[
i
] = 
b»akCo¡_
[i] = 0.0;

595 
	}
}

602 
	$š™MakeB»akCo¡W©ch
()

604 
	`»£tMakeB»akCo¡W©ch
();

605 
	`š™MakeB»akCo¡W©ch
(0);

606 
	}
}

608 
	$´štDisAtom
(
©omIdx
, 
o¡»am
& 
os
)

610 
os
 << "<"; (*
gndP»ds_
)[
©omIdx
 - 1]->
	`´št
(os, 
domaš_
); o << "," << 
©om_
[atomIdx] <<">";

611 
	}
}

614 
	$´štDisCÏu£
(
i
, 
o¡»am
& 
os
)

616 
GroundCÏu£
* 
pC
 = 
	`g‘GndCÏu£
(
i
);

617 ià(
pC
->
	`isH¬dCÏu£
())

619 
os
 << "H " ;

623 
os
 << 
şau£Co¡_
[
i
] << " ";

625 
pC
->
	`´štW™houtWtW™hSŒV¬
(
os
, 
domaš_
, &
gndP»dHashA¼ay_
);

626 
os
 << " Atoms‡re: ";

627 
j
 = 0;j < 
şau£_
[
i
].
	`size
(); j++)

629 
´edIdx
 = 
	`abs
(
şau£_
[
i
][
j
]);

630 
	`´štDisAtom
(
´edIdx
, 
os
);

631 
os
 << ", ";

633 
os
 << 
’dl
;

634 
	}
}

643 
	$š™MakeB»akCo¡W©ch
(cÚ¡ & 
¡¬tCÏu£
)

645 ià(
hvsdebug
)

647 
cout
 << "’‹ršg iÁiMakeB»akCo¡W©ch(št)" << 
’dl
;

649 
theTrueL™
 = -1;

651 
i
 = 
¡¬tCÏu£
; i < 
	`g‘NumCÏu£s
(); i++)

654 ià(
d—dCÏu£_
[
i
] || 
isS©isf›d_
[i]) ;

656 
ŒueL™1
 = 0;

657 
ŒueL™2
 = 0;

658 
co¡
 = 
şau£Co¡_
[
i
];

659 
numTrueL™s_
[
i
] = 0;

660 
j
 = 0; j < 
	`g‘CÏu£Size
(
i
); j++)

662 ià(
	`isTrueL™”®
(
şau£_
[
i
][
j
]))

664 
numTrueL™s_
[
i
]++;

665 
theTrueL™
 = 
	`abs
(
şau£_
[
i
][
j
]);

666 ià(!
ŒueL™1
èŒueL™1 = 
theTrueL™
;

667 ià(
ŒueL™1
 && !
ŒueL™2
èŒueL™2 = 
theTrueL™
;

670 ià(
numTrueL™s_
[
i
] > 0)

672 
weightSumDis_
 +ğ
şau£Co¡_
[
i
];

677 ià((
numTrueL™s_
[
i
] =ğ0 && 
co¡
 >= 0) ||

678 (
numTrueL™s_
[
i
] > 0 && 
co¡
 < 0))

680 
wh”eF®£_
[
i
] = 
numF®£CÏu£s_
;

681 
çl£CÏu£_
[
numF®£CÏu£s_
] = 
i
;

682 
numF®£CÏu£s_
++;

683 
tÙ®F®£CÚ¡¿štNum_
++;

684 
co¡OfF®£CÏu£s_
 +ğ
	`abs
(
co¡
);

685 
co¡OfTÙ®F®£CÚ¡¿šts_
 +ğ
	`abs
(
co¡
);

686 ià(
highe¡Co¡_
 =ğ
	`abs
(
co¡
)è{
eqHighe¡_
 = 
Œue
; 
numHighe¡_
++;}

689 ià(
numTrueL™s_
[
i
] == 0)

691 
j
 = 0; j < 
	`g‘CÏu£Size
(
i
); j++)

693 
makeCo¡_
[
	`abs
(
şau£_
[
i
][
j
])] +ğ
co¡
;

698 ià(
numTrueL™s_
[
i
] == 1)

701 
makeCo¡_
[
theTrueL™
] -ğ
co¡
;

702 
w©ch1_
[
i
] = 
theTrueL™
;

704 ià(
numTrueL™s_
[
i
] > 1)

706 
w©ch1_
[
i
] = 
ŒueL™1
;

707 
w©ch2_
[
i
] = 
ŒueL™2
;

711 ià(
numTrueL™s_
[
i
] =ğ1 && 
co¡
 >= 0)

713 
b»akCo¡_
[
theTrueL™
] +ğ
co¡
;

714 
w©ch1_
[
i
] = 
theTrueL™
;

717 ià(
co¡
 >= 0)

719 
w©ch1_
[
i
] = 
ŒueL™1
;

720 
w©ch2_
[
i
] = 
ŒueL™2
;

723 ià(
numTrueL™s_
[
i
] =ğ0 && 
co¡
 < 0)

725 
j
 = 0; j < 
	`g‘CÏu£Size
(
i
); j++)

726 
b»akCo¡_
[
	`abs
(
şau£_
[
i
][
j
])] -ğ
co¡
;

731 ià(
hvsdebug
)

733 
cout
 << "Ëavšg iÁiMakeB»akCo¡W©ch(št)" << 
’dl
;

735 
	}
}

737 
	$g‘NumAtoms
(è{  
gndP»ds_
->
	`size
(); 
	}
}

739 
	$g‘NumCÏu£s
(è{  
gndCÏu£s_
->
	`size
(); 
	}
}

741 
	$g‘NumD—dCÏu£s
()

743 
couÁ
 = 0;

744 
i
 = 0; i < 
d—dCÏu£_
.
	`size
(); i++)

745 ià(
d—dCÏu£_
[
i
]è
couÁ
++;

746  
couÁ
;

747 
	}
}

754 
	$g‘IndexOfAtomInRªdomF®£CÏu£
()

756 ià(
numF®£CÏu£s_
 =ğ0è 
NOVALUE
;

757 
şau£Idx
 = 
çl£CÏu£_
[
	`¿ndom
()%
numF®£CÏu£s_
];

759 ià(
şau£Co¡_
[
şau£Idx
] >= 0)

762 
Œue
)

764 
i
 = 
	`¿ndom
()%
	`g‘CÏu£Size
(
şau£Idx
);

765 ià(!
fixedAtom_
[
	`abs
(
şau£_
[
şau£Idx
][
i
])])

766  
	`abs
(
şau£_
[
şau£Idx
][
i
]);

771  
	`g‘RªdomTrueL™InCÏu£
(
şau£Idx
);

772 
	}
}

778 
	$g‘RªdomF®£CÏu£Index
()

780 ià(
numF®£CÏu£s_
 =ğ0è 
NOVALUE
;

781  
çl£CÏu£_
[
	`¿ndom
()%
numF®£CÏu£s_
];

782 
	}
}

788 
	$g‘Co¡OfF®£CÏu£s
()

790  
co¡OfF®£CÏu£s_
;

791 
	}
}

797 
	$g‘NumF®£CÏu£s
()

799  
numF®£CÏu£s_
;

800 
	}
}

808 
boŞ
 
	$g‘V®ueOfAtom
(cÚ¡ & 
©omIdx
)

810  
©om_
[
©omIdx
];

811 
	}
}

819 
boŞ
 
	$g‘V®ueOfLowAtom
(cÚ¡ & 
©omIdx
)

821  
lowAtom_
[
©omIdx
];

822 
	}
}

834 
	$£tV®ueOfAtom
(cÚ¡ & 
©omIdx
, cÚ¡ 
boŞ
& 
v®ue
,

835 cÚ¡ 
boŞ
& 
aùiv©e
, cÚ¡ & 
blockIdx
)

838 ià(
©om_
[
©omIdx
] =ğ
v®ue
) ;

839 ià(
hvsdebug
è
cout
 << "S‘tšg v®uoà©om " << 
©omIdx


840 << "Ø" << 
v®ue
 << 
’dl
;

842 
GroundP»diÿ‹
* 
p
 = 
gndP»dHashA¼ay_
[
©omIdx
 - 1];

843 ià(
v®ue
)

844 
domaš_
->
	`g‘DB
()->
	`£tV®ue
(
p
, 
TRUE
);

846 
domaš_
->
	`g‘DB
()->
	`£tV®ue
(
p
, 
FALSE
);

849 ià(
aùiv©e
 && 
Ïzy_
 && !
	`isAùive
(
©omIdx
))

851 
boŞ
 
ignÜeAùiveP»ds
 = 
çl£
;

852 
boŞ
 
groundOÆy
 = 
çl£
;

853 
	`aùiv©eAtom
(
©omIdx
, 
ignÜeAùiveP»ds
, 
groundOÆy
);

855 
©om_
[
©omIdx
] = 
v®ue
;

858 ià(
blockIdx
 > -1 && 
v®ue
)

860 
P»diÿ‹
* 
´ed
 = 
p
->
	`ü—‹Equiv®’tP»diÿ‹
(
domaš_
);

861 
domaš_
->
	`£tTrueP»dInBlock
(
blockIdx
, 
´ed
);

862 ià(
hvsdebug
)

864 
cout
 << "S‘ru´ed iÀblock " << 
blockIdx
 << "o ";

865 
´ed
->
	`´štW™hSŒV¬
(
cout
, 
domaš_
);

866 
cout
 << 
’dl
;

869 
	}
}

874 
	gA¼ay
<>& 
	$g‘NegOccu»nûA¼ay
(cÚ¡ & 
©omIdx
)

876 
l™Idx
 = 2*
©omIdx
;

877  
	`g‘Occu»nûA¼ay
(
l™Idx
);

878 
	}
}

883 
	gA¼ay
<>& 
	$g‘PosOccu»nûA¼ay
(cÚ¡ & 
©omIdx
)

885 
l™Idx
 = 2*
©omIdx
 - 1;

886  
	`g‘Occu»nûA¼ay
(
l™Idx
);

887 
	}
}

895 
	$æAtom
(cÚ¡ & 
toFl
, cÚ¡ & 
blockIdx
)

897 
boŞ
 
toFlV®ue
 = 
	`g‘V®ueOfAtom
(
toFl
);

898 
şau£Idx
;

899 
sign
;

900 
İpSign
;

901 
l™Idx
;

902 ià(
toFlV®ue
)

903 
sign
 = 1;

905 
sign
 = 0;

906 
İpSign
 = 
sign
 ^ 1;

908 
	`æAtomV®ue
(
toFl
, 
blockIdx
);

911 
l™Idx
 = 2*
toFl
 - 
sign
;

912 
A¼ay
<>& 
posOccA¼ay
 = 
	`g‘Occu»nûA¼ay
(
l™Idx
);

913 
i
 = 0; i < 
posOccA¼ay
.
	`size
(); i++)

915 
şau£Idx
 = 
posOccA¼ay
[
i
];

917 ià(
d—dCÏu£_
[
şau£Idx
] || 
isS©isf›d_
[clauseIdx]) ;

920 
numTrueL™s
 = 
	`deüem’tNumTrueL™s
(
şau£Idx
);

921 
co¡
 = 
	`g‘CÏu£Co¡
(
şau£Idx
);

922 
w©ch1
 = 
	`g‘W©ch1
(
şau£Idx
);

923 
w©ch2
 = 
	`g‘W©ch2
(
şau£Idx
);

927 ià(
numTrueL™s
 == 0)

929 
weightSumDis_
 -ğ
şau£Co¡_
[
şau£Idx
];

931 ià(
co¡
 >= 0)

934 
	`addF®£CÏu£
(
şau£Idx
);

936 
	`addB»akCo¡
(
toFl
, -
co¡
);

938 
	`addMakeCo¡ToAtomsInCÏu£
(
şau£Idx
, 
co¡
);

943 
	`as£¹
(
co¡
 < 0);

945 
	`»moveF®£CÏu£
(
şau£Idx
);

947 
	`addB»akCo¡ToAtomsInCÏu£
(
şau£Idx
, -
co¡
);

949 
	`addMakeCo¡
(
toFl
, 
co¡
);

954 ià(
numTrueL™s
 == 1)

956 ià(
w©ch1
 =ğ
toFl
)

958 
	`as£¹
(
w©ch1
 !ğ
w©ch2
);

959 
	`£tW©ch1
(
şau£Idx
, 
w©ch2
);

960 
w©ch1
 = 
	`g‘W©ch1
(
şau£Idx
);

964 ià(
co¡
 >= 0)

966 
	`addB»akCo¡
(
w©ch1
, 
co¡
);

971 
	`as£¹
(
co¡
 < 0);

972 
	`addMakeCo¡
(
w©ch1
, -
co¡
);

980 ià(
w©ch1
 =ğ
toFl
)

983 
diffTrueL™
 = 
	`g‘TrueL™”®Oth”Thª
(
şau£Idx
, 
w©ch1
, 
w©ch2
);

984 
	`£tW©ch1
(
şau£Idx
, 
diffTrueL™
);

987 ià(
w©ch2
 =ğ
toFl
)

990 
diffTrueL™
 = 
	`g‘TrueL™”®Oth”Thª
(
şau£Idx
, 
w©ch1
, 
w©ch2
);

991 
	`£tW©ch2
(
şau£Idx
, 
diffTrueL™
);

997 
l™Idx
 = 2*
toFl
 - 
İpSign
;

998 
A¼ay
<>& 
ÃgOccA¼ay
 = 
	`g‘Occu»nûA¼ay
(
l™Idx
);

999 
i
 = 0; i < 
ÃgOccA¼ay
.
	`size
(); i++)

1001 
şau£Idx
 = 
ÃgOccA¼ay
[
i
];

1003 ià(
d—dCÏu£_
[
şau£Idx
] || 
isS©isf›d_
[clauseIdx]) ;

1006 
numTrueL™s
 = 
	`šüem’tNumTrueL™s
(
şau£Idx
);

1007 
co¡
 = 
	`g‘CÏu£Co¡
(
şau£Idx
);

1008 
w©ch1
 = 
	`g‘W©ch1
(
şau£Idx
);

1012 ià(
numTrueL™s
 == 1)

1014 
weightSumDis_
 +ğ
şau£Co¡_
[
şau£Idx
];

1016 ià(
co¡
 >= 0)

1019 
	`»moveF®£CÏu£
(
şau£Idx
);

1021 
	`addB»akCo¡
(
toFl
, 
co¡
);

1023 
	`addMakeCo¡ToAtomsInCÏu£
(
şau£Idx
, -
co¡
);

1028 
	`as£¹
(
co¡
 < 0);

1030 
	`addF®£CÏu£
(
şau£Idx
);

1032 
	`addB»akCo¡ToAtomsInCÏu£
(
şau£Idx
, 
co¡
);

1034 
	`addMakeCo¡
(
toFl
, -
co¡
);

1037 
	`£tW©ch1
(
şau£Idx
, 
toFl
);

1042 ià(
numTrueL™s
 == 2)

1044 ià(
co¡
 >= 0)

1048 
	`addB»akCo¡
(
w©ch1
, -
co¡
);

1053 
	`as£¹
(
co¡
 < 0);

1055 
	`addMakeCo¡
(
w©ch1
, 
co¡
);

1059 
	`£tW©ch2
(
şau£Idx
, 
toFl
);

1062 
	}
}

1071 
	$æAtomV®ue
(cÚ¡ & 
©omIdx
, cÚ¡ & 
blockIdx
)

1073 
boŞ
 
İpos™e
 = !
©om_
[
©omIdx
];

1074 
boŞ
 
aùiv©e
 = 
Œue
;

1075 
	`£tV®ueOfAtom
(
©omIdx
, 
İpos™e
, 
aùiv©e
, 
blockIdx
);

1076 
	}
}

1089 
	$g‘Im´ovem’tByFlpšg
(cÚ¡ & 
©omIdx
)

1091 ià(!
b»akH¬dCÏu£s_
 && 
b»akCo¡_
[
©omIdx
] >ğ
h¬dWt_
)

1092  -
LDBL_MAX
;

1093 
im´ovem’t
 = 
makeCo¡_
[
©omIdx
] - 
b»akCo¡_
[atomIdx];

1094  
im´ovem’t
;

1095 
	}
}

1102 
	$£tAùive
(cÚ¡ & 
©omIdx
)

1104 ià(
Ïzy_
)

1106 
P»diÿ‹
* 
p
 =

1107 
gndP»dHashA¼ay_
[
©omIdx
 - 1]->
	`ü—‹Equiv®’tP»diÿ‹
(
domaš_
);

1108 
domaš_
->
	`g‘DB
()->
	`£tAùiveStus
(
p
, 
Œue
);

1109 
aùiveAtoms_
++;

1110 
d–‘e
 
p
;

1112 
	}
}

1124 
boŞ
 
	$aùiv©eAtom
(cÚ¡ & 
©omIdx
, cÚ¡ 
boŞ
& 
ignÜeAùiveP»ds
,

1125 cÚ¡ 
boŞ
& 
groundOÆy
)

1136 ià(
Ïzy_
 && !
	`isAùive
(
©omIdx
))

1138 ià(
hvsdebug
)

1140 
cout
 << "\tActivating ";

1141 
gndP»dHashA¼ay_
[
©omIdx
-1]->
	`´št
(
cout
,
domaš_
);

1142 
cout
 << " " <<

1143 
domaš_
->
	`g‘DB
()->
	`g‘AùiveStus
(
gndP»dHashA¼ay_
[
©omIdx
-1]è<< 
’dl
;

1147 
boŞ
 
ÃedToFlBack
 = 
çl£
;

1148 ià(!
©om_
[
©omIdx
])

1150 
boŞ
 
aùiv©e
 = 
çl£
;

1151 
	`£tV®ueOfAtom
(
©omIdx
, 
Œue
, 
aùiv©e
, -1);

1152 
	`upd©eMakeB»akCo¡Aá”Fl
(
©omIdx
);

1153 
ÃedToFlBack
 = 
Œue
;

1157 
P»diÿ‹
* 
p
 =

1158 
gndP»dHashA¼ay_
[
©omIdx
 - 1]->
	`ü—‹Equiv®’tP»diÿ‹
(
domaš_
);

1160 
boŞ
 
isFixed
 = 
çl£
;

1161 
A¼ay
<
GroundCÏu£
*> 
un§tCÏu£s
;

1162 
A¼ay
<
GroundCÏu£
*> 
d—dCÏu£s
;

1163 
A¼ay
<
GroundCÏu£
*> 
toAddCÏu£s
;

1166 
	`g‘AùiveCÏu£s
(
p
, 
un§tCÏu£s
, 
Œue
, 
ignÜeAùiveP»ds
);

1169 ià(
u£Th»shŞd_
)

1172 
ni
 = 0;‚˜< 
un§tCÏu£s
.
	`size
();‚i++)

1174 
GroundCÏu£
* 
c
 = 
un§tCÏu£s
[
ni
];

1175 ià(
c
->
	`g‘Wt
() < 0)

1179 
th»shŞd
 = 
RAND_MAX
*(1 - 
	`exp
(
c
->
	`g‘Wt
()));

1180 ià(
	`¿ndom
(è<ğ
th»shŞd
)

1183 
isFixed
 = 
Œue
;

1187 ià(
d—dCÏu£s
.
	`size
() > 0)

1188 
	`addNewCÏu£s
(
ADD_CLAUSE_DEAD
, 
d—dCÏu£s
);

1190 
A¼ay
<
GroundCÏu£
*> 
fixedCÏu£s
;

1191 
fixedCÏu£s
.
	`­³nd
(
c
);

1192 
	`addNewCÏu£s
(
ADD_CLAUSE_SAT
, 
fixedCÏu£s
);

1195 
pi
 = 0;…˜< 
c
->
	`g‘NumGroundP»diÿ‹s
();…i++)

1197 
l™
 = 
c
->
	`g‘GroundP»diÿ‹Index
(
pi
);

1198 
	`fixAtom
(
	`abs
(
l™
), (lit < 0));

1207 
d—dCÏu£s
.
	`­³nd
(
c
);

1210 ià(
c
->
	`g‘NumGroundP»diÿ‹s
() == 1)

1212 
th»shŞd
 = 
RAND_MAX
*(1 - 
	`exp
(-
c
->
	`g‘Wt
()));

1213 ià(
	`¿ndom
(è<ğ
th»shŞd
)

1216 
isFixed
 = 
Œue
;

1220 ià(
d—dCÏu£s
.
	`size
() > 0)

1221 
	`addNewCÏu£s
(
ADD_CLAUSE_DEAD
, 
d—dCÏu£s
);

1223 
A¼ay
<
GroundCÏu£
*> 
fixedCÏu£s
;

1224 
fixedCÏu£s
.
	`­³nd
(
c
);

1225 
	`addNewCÏu£s
(
ADD_CLAUSE_SAT
, 
fixedCÏu£s
);

1228 
l™
 = 
c
->
	`g‘GroundP»diÿ‹Index
(0);

1229 
	`fixAtom
(
	`abs
(
l™
), (lit > 0));

1237 
d—dCÏu£s
.
	`­³nd
(
c
);

1240 
toAddCÏu£s
.
	`­³nd
(
c
);

1245 ià(!
isFixed
)

1247 ià(
d—dCÏu£s
.
	`size
() > 0)

1248 
	`addNewCÏu£s
(
ADD_CLAUSE_DEAD
, 
d—dCÏu£s
);

1250 ià(
u£Th»shŞd_
)

1251 
	`addNewCÏu£s
(
ADD_CLAUSE_REGULAR
, 
toAddCÏu£s
);

1253 
	`addNewCÏu£s
(
ADD_CLAUSE_REGULAR
, 
un§tCÏu£s
);

1257 ià(
ÃedToFlBack
)

1259 
boŞ
 
aùiv©e
 = 
çl£
;

1260 
	`£tV®ueOfAtom
(
©omIdx
, 
çl£
, 
aùiv©e
, -1);

1261 
	`upd©eMakeB»akCo¡Aá”Fl
(
©omIdx
);

1264 ià(!
groundOÆy
)

1267 
domaš_
->
	`g‘DB
()->
	`£tAùiveStus
(
p
, 
Œue
);

1268 
aùiveAtoms_
++;

1272 
d–‘e
 
p
;

1273 
un§tCÏu£s
.
	`ş—r
();

1274 
d—dCÏu£s
.
	`ş—r
();

1275 
toAddCÏu£s
.
	`ş—r
();

1277  !
isFixed
;

1279  
Œue
;

1280 
	}
}

1285 
	$£tInã»nûMode
(
mode
)

1287 ià(
mode
 =ğ
šã»nûMode_
) ;

1288 
šã»nûMode_
 = 
mode
;

1289 ià(
šã»nûMode_
 =ğ
MODE_MWS
)

1291 
i
 = 0; i < 
gndCÏu£s_
->
	`size
(); i++)

1293 ià((*
gndCÏu£s_
)[
i
]->
	`isH¬dCÏu£
())

1294 
şau£Co¡_
[
i
] = 
h¬dWt_
;

1296 
şau£Co¡_
[
i
] = (*
gndCÏu£s_
)[i]->
	`g‘Wt
();

1298 
	`š™MakeB»akCo¡W©ch
();

1302 ià(
šã»nûMode_
 =ğ
MODE_HARD
è
	`–imš©eSoáCÏu£s
();

1303 ià(
šã»nûMode_
 =ğ
MODE_SAMPLESAT
è
	`makeUn™Co¡s
();

1305 
	}
}

1310 
boŞ
 
	$isFixedAtom
(
©omIdx
)

1312  
fixedAtom_
[
©omIdx
];

1313 
	}
}

1315 
boŞ
 
	$isS©isf›dCÏu£
(cÚ¡ & 
şau£Idx
)

1317  
isS©isf›d_
[
şau£Idx
];

1318 
	}
}

1320 
	$£tS©isf›dCÏu£
(cÚ¡ & 
şau£Idx
)

1322 
isS©isf›d_
[
şau£Idx
] = 
Œue
;

1323 
	}
}

1326 
	$upd©eP»vS©isf›d
()

1328 
´evS©isf›dCÏu£_
.
	`ş—rAndCom´ess
();

1329 
´evS©isf›dCÏu£_
.
	`growToSize
(
şau£_
.
	`size
(),
çl£
);

1330 
i
 = 0; i < 
şau£_
.
	`size
(); i++)

1332 
co¡
 = 
şau£Co¡_
[
i
];

1333 
boŞ
 
isTrue
 = 
çl£
;

1334 
j
 = 0; j < 
	`g‘CÏu£Size
(
i
); j++)

1336 ià(
	`isTrueL™”®
(
şau£_
[
i
][
j
]))

1338 
isTrue
 = 
Œue
;

1342 
´evS©isf›dCÏu£_
[
i
] = ((
isTrue
 && 
co¡
>0) || (!isTrue && cost<0));

1344 
	}
}

1349 
	$un™Prİag©iÚ
()

1354 
i
 = 0; i < 
	`g‘NumCÏu£s
(); i++)

1358 ià(
	`isD—dCÏu£
(
i
è|| 
	`isS©isf›dCÏu£
(iè|| 
	`g‘CÏu£Co¡
(i) >= 0)

1362 
A¼ay
<> 
©oms
 = 
	`g‘AtomsInCÏu£
(
i
);

1363 
j
 = 0; j < 
©oms
.
	`size
(); j++)

1365 
l™
 = 
©oms
[
j
];

1366 
boŞ
 
v®ue
 = (
l™
 < 0)? 
Œue
 : 
çl£
;

1367 
	`fixAtom
(
	`abs
(
l™
), 
v®ue
);

1374 
boŞ
 
dÚe
 = 
çl£
;

1376 !
dÚe
)

1378 ià(
hvsdebug
è
cout
 << 
’dl
 <<ƒndl;

1379 
dÚe
 = 
Œue
;

1383 
ci
 = 0; c˜< 
	`g‘NumCÏu£s
(); ci++)

1386 ià(
	`isD—dCÏu£
(
ci
è|| 
	`isS©isf›dCÏu£
(ciè|| 
	`g‘CÏu£Co¡
(ci) <= 0)

1390 
numNÚfixedAtoms
 = 0;

1391 
nÚfixedAtom
 = 0;

1393 
boŞ
 
isS©
 = 
çl£
;

1394 
li
 = 0;†˜< 
	`g‘CÏu£Size
(
ci
);†i++)

1396 
l™
 = 
	`g‘AtomInCÏu£
(
li
,
ci
);

1397 
fixedV®ue
 = 
fixedAtom_
[
	`abs
(
l™
)];

1399 ià(
fixedV®ue
==0)

1401 
numNÚfixedAtoms
++;

1402 
nÚfixedAtom
 = 
l™
;

1406 ià((
fixedV®ue
 =ğ1 && 
l™
 > 0) || (fixedValue == -1 &&†it < 0))

1408 
isS©
 = 
Œue
;

1413 ià(
isS©
è
	`£tS©isf›dCÏu£
(
ci
);

1414 ià(
numNÚfixedAtoms
 == 1)

1416 
	`fixAtom
(
	`abs
(
nÚfixedAtom
), (nÚfixedAtom > 0è? 
Œue
 : 
çl£
);

1417 
dÚe
 = 
çl£
;

1422 
	`§veLowS‹
();

1423 ià(
hvsdebug
è
cout
 << ">>> [vs.un™´İag©iÚ] DONE" << 
’dl
;

1424 
	}
}

1432 
addNewCÏu£s
(
addTy³
, 
A¼ay
<
GroundCÏu£
*> & 
şau£s
)

1434 ià(
	ghvsdebug
)

1435 
	gcout
 << "Addšg " << 
	gşau£s
.
size
(è<< "‚ew cÏu£s.." << 
	g’dl
;

1438 ià(!
	gu£Th»shŞd_
 &&

1439 (
	gaddTy³
 =ğ
ADD_CLAUSE_DEAD
 || 
addTy³
 =ğ
ADD_CLAUSE_SAT
))

1441 
cout
 << ">>> [ERR]‡dd_d—d/§ˆbuˆu£Th»shŞd_ i çl£" << 
’dl
;

1442 
ex™
(0);

1446 
	gŞdNumCÏu£s
 = 
g‘NumCÏu£s
();

1447 
	gŞdNumAtoms
 = 
g‘NumAtoms
();

1450 
	gi
 = 0; i < 
	gşau£s
.
size
(); i++)

1452 
	ggndCÏu£s_
->
­³nd
(
şau£s
[
i
]);

1453 
	gşau£s
[
i
]->
­³ndToGndP»ds
(&
gndP»dHashA¼ay_
);

1456 
	ggndP»ds_
->
growToSize
(
gndP»dHashA¼ay_
.
size
());

1458 
	gnumAtoms
 = 
g‘NumAtoms
();

1459 
	gnumCÏu£s
 = 
g‘NumCÏu£s
();

1461 ià(
	gnumAtoms
 =ğ
ŞdNumAtoms
 && 
numCÏu£s
 =ğ
ŞdNumCÏu£s
) ;

1463 ià(
	ghvsdebug
è
	gcout
 << "CÏu£s: " << 
	gnumCÏu£s
 << 
	g’dl
;

1465 
	g©om_
.
growToSize
(
numAtoms
 + 1, 
çl£
);

1466 
	g©omsLa¡_
.
growToSize
(
numAtoms
 + 1, 
çl£
);

1468 
	gmakeCo¡_
.
growToSize
(
numAtoms
 + 1, 0.0);

1469 
	gb»akCo¡_
.
growToSize
(
numAtoms
 + 1, 0.0);

1470 
	glowAtom_
.
growToSize
(
numAtoms
 + 1, 
çl£
);

1471 
	gfixedAtom_
.
growToSize
(
numAtoms
 + 1, 0);

1474 
	gi
 = 
ŞdNumAtoms
; i < 
	ggndP»dHashA¼ay_
.
size
(); i++)

1476 (*
	ggndP»ds_
)[
i
] = 
gndP»dHashA¼ay_
[i];

1478 ià(
	ghvsdebug
)

1480 
	gcout
 << "New…»d " << 
	gi
 + 1 << ": ";

1481 (*
	ggndP»ds_
)[
i
]->
´št
(
cout
, 
domaš_
);

1482 
	gcout
 << 
	g’dl
;

1485 
	glowAtom_
[
i
 + 1] = 
©om_
[i + 1] =

1486 (
domaš_
->
g‘DB
()->
g‘V®ue
((*
gndP»ds_
)[
i
]è=ğ
TRUE
è? 
Œue
 : 
çl£
;

1488 
	gşau£s
.
ş—r
();

1490 
	gşau£_
.
growToSize
(
numCÏu£s
);

1491 
	gşau£Co¡_
.
growToSize
(
numCÏu£s
);

1492 
	gçl£CÏu£_
.
growToSize
(
numCÏu£s
);

1493 
	gwh”eF®£_
.
growToSize
(
numCÏu£s
);

1494 
	gnumTrueL™s_
.
growToSize
(
numCÏu£s
);

1495 
	gçl£CÏu£Low_
.
growToSize
(
numCÏu£s
);

1496 
	gw©ch1_
.
growToSize
(
numCÏu£s
);

1497 
	gw©ch2_
.
growToSize
(
numCÏu£s
);

1498 
	gisS©isf›d_
.
growToSize
(
numCÏu£s
, 
çl£
);

1499 
	gd—dCÏu£_
.
growToSize
(
numCÏu£s
, 
çl£
);

1500 
	gth»shŞd_
.
growToSize
(
numCÏu£s
, 
çl£
);

1502 
	goccu»nû_
.
growToSize
(2*
numAtoms
 + 1);

1504 
	gi
 = 
ŞdNumCÏu£s
; i < 
	gnumCÏu£s
; i++)

1506 
GroundCÏu£
* 
	ggndCÏu£
 = (*
gndCÏu£s_
)[
i
];

1508 ià(
	ghvsdebug
)

1510 
	gcout
 << "New cÏu£ " << 
	gi
 << ": ";

1511 
	ggndCÏu£
->
´št
(
cout
, 
domaš_
, &
gndP»dHashA¼ay_
);

1512 
	gcout
 << 
	g’dl
;

1516 ià(
	ggndCÏu£
->
isH¬dCÏu£
()è
	gth»shŞd_
[
i
] = 
RAND_MAX
;

1519 
	gw
 = 
gndCÏu£
->
g‘Wt
();

1520 
	gth»shŞd_
[
i
] = 
RAND_MAX
*(1 - 
exp
(-
abs
(
w
)));

1521 ià(
	ghvsdebug
)

1523 
	gcout
 << "Weight: " << 
	gw
 << 
	g’dl
;

1526 ià(
	ghvsdebug
)

1527 
	gcout
 << "Th»shŞd: " << 
	gth»shŞd_
[
i
] << 
	g’dl
;

1529 
	gnumGndP»ds
 = 
gndCÏu£
->
g‘NumGroundP»diÿ‹s
();

1530 
	gşau£_
[
i
].
growToSize
(
numGndP»ds
);

1531 
	gj
 = 0; j < 
	gnumGndP»ds
; j++)

1533 
	gl™
 = 
gndCÏu£
->
g‘GroundP»diÿ‹Index
(
j
);

1534 
	gşau£_
[
i
][
j
] = 
l™
;

1535 
	gl™Idx
 = 2*
abs
(
l™
) - (lit > 0);

1536 
	goccu»nû_
[
l™Idx
].
­³nd
(
i
);

1540 ià(
	gšã»nûMode_
==
MODE_SAMPLESAT
)

1542 ià(
gndCÏu£
->
g‘Wt
()>0è
şau£Co¡_
[
i
] = 1;

1543 
	gşau£Co¡_
[
i
] = -1;

1545 ià(
	ggndCÏu£
->
isH¬dCÏu£
())

1546 
	gşau£Co¡_
[
i
] = 
h¬dWt_
;

1548 
	gşau£Co¡_
[
i
] = 
gndCÏu£
->
g‘Wt
();

1551 ià(
	gšã»nûMode_
 =ğ
MODE_HARD
 && !
gndCÏu£
->
isH¬dCÏu£
())

1554 
d—dCÏu£_
[
i
] = 
Œue
;

1558 ià(
	gaddTy³
 =ğ
ADD_CLAUSE_DEAD
)

1561 
i
 = 
ŞdNumCÏu£s
; 
	gi
 < 
	gnumCÏu£s
; i++)

1563 
	gd—dCÏu£_
[
i
] = 
Œue
;

1566 ià(
	gaddTy³
 =ğ
ADD_CLAUSE_SAT
)

1569 
i
 = 
ŞdNumCÏu£s
; 
	gi
 < 
	gnumCÏu£s
; i++)

1571 
	gisS©isf›d_
[
i
]=
Œue
;

1574 ià(
	gaddTy³
 =ğ
ADD_CLAUSE_REGULAR
)

1576 ià(
u£Th»shŞd_
)

1577 
klCÏu£s
(
ŞdNumCÏu£s
);

1579 
š™MakeB»akCo¡W©ch
(
ŞdNumCÏu£s
);

1582 ià(
	ghvsdebug
)

1583 
	gcout
 << "DÚaddšg‚ew cÏu£s.." << 
	g’dl
;

1592 
	$upd©eS©isf›dCÏu£s
(cÚ¡ & 
toFix
)

1595 
boŞ
 
toFlV®ue
 = 
	`g‘V®ueOfAtom
(
toFix
);

1597 
şau£Idx
;

1598 
sign
;

1599 
l™Idx
;

1600 ià(
toFlV®ue
)

1601 
sign
 = 1;

1603 
sign
 = 0;

1606 
l™Idx
 = 2*
toFix
 - 
sign
;

1607 
A¼ay
<>& 
posOccA¼ay
 = 
	`g‘Occu»nûA¼ay
(
l™Idx
);

1608 
i
 = 0; i < 
posOccA¼ay
.
	`size
(); i++)

1610 
şau£Idx
 = 
posOccA¼ay
[
i
];

1613 ià(
d—dCÏu£_
[
şau£Idx
] || 
isS©isf›d_
[clauseIdx]) ;

1615 ià(
	`g‘CÏu£Co¡
(
şau£Idx
) < 0)

1617 
cout
 << "ERR: iÀMC-SAT,‡ùivÃg-wˆşau£ (" << 
şau£Idx


1618 << "èi §ˆby fixed "<<
’dl
;

1619 
	`ex™
(0);

1621 
isS©isf›d_
[
şau£Idx
] = 
Œue
;

1623 
	}
}

1630 
	$upd©eMakeB»akCo¡Aá”Fl
(cÚ¡ & 
toFl
)

1633 
boŞ
 
toFlV®ue
 = !
	`g‘V®ueOfAtom
(
toFl
);

1635 
şau£Idx
;

1636 
sign
;

1637 
İpSign
;

1638 
l™Idx
;

1639 ià(
toFlV®ue
)

1640 
sign
 = 1;

1642 
sign
 = 0;

1643 
İpSign
 = 
sign
 ^ 1;

1646 
l™Idx
 = 2*
toFl
 - 
sign
;

1647 
A¼ay
<>& 
posOccA¼ay
 = 
	`g‘Occu»nûA¼ay
(
l™Idx
);

1649 
i
 = 0; i < 
posOccA¼ay
.
	`size
(); i++)

1651 
şau£Idx
 = 
posOccA¼ay
[
i
];

1653 ià(
d—dCÏu£_
[
şau£Idx
] || 
isS©isf›d_
[clauseIdx]) ;

1656 
numTrueL™s
 = 
	`deüem’tNumTrueL™s
(
şau£Idx
);

1657 
co¡
 = 
	`g‘CÏu£Co¡
(
şau£Idx
);

1658 
w©ch1
 = 
	`g‘W©ch1
(
şau£Idx
);

1659 
w©ch2
 = 
	`g‘W©ch2
(
şau£Idx
);

1663 ià(
numTrueL™s
 == 0)

1666 ià(
co¡
 >= 0)

1669 
	`addF®£CÏu£
(
şau£Idx
);

1671 
	`addB»akCo¡
(
toFl
, -
co¡
);

1673 
	`addMakeCo¡ToAtomsInCÏu£
(
şau£Idx
, 
co¡
);

1678 
	`as£¹
(
co¡
 < 0);

1680 
	`»moveF®£CÏu£
(
şau£Idx
);

1682 
	`addB»akCo¡ToAtomsInCÏu£
(
şau£Idx
, -
co¡
);

1684 
	`addMakeCo¡
(
toFl
, 
co¡
);

1689 ià(
numTrueL™s
 == 1)

1691 ià(
w©ch1
 =ğ
toFl
)

1693 
	`as£¹
(
w©ch1
 !ğ
w©ch2
);

1694 
	`£tW©ch1
(
şau£Idx
, 
w©ch2
);

1695 
w©ch1
 = 
	`g‘W©ch1
(
şau£Idx
);

1698 ià(
co¡
 >= 0)

1700 
	`addB»akCo¡
(
w©ch1
, 
co¡
);

1705 
	`as£¹
(
co¡
 < 0);

1706 
	`addMakeCo¡
(
w©ch1
, -
co¡
);

1715 ià(
w©ch1
 =ğ
toFl
)

1718 
diffTrueL™
 = 
	`g‘TrueL™”®Oth”Thª
(
şau£Idx
, 
w©ch1
, 
w©ch2
);

1719 
	`£tW©ch1
(
şau£Idx
, 
diffTrueL™
);

1722 ià(
w©ch2
 =ğ
toFl
)

1725 
diffTrueL™
 = 
	`g‘TrueL™”®Oth”Thª
(
şau£Idx
, 
w©ch1
, 
w©ch2
);

1726 
	`£tW©ch2
(
şau£Idx
, 
diffTrueL™
);

1732 
l™Idx
 = 2*
toFl
 - 
İpSign
;

1733 
A¼ay
<>& 
ÃgOccA¼ay
 = 
	`g‘Occu»nûA¼ay
(
l™Idx
);

1734 
i
 = 0; i < 
ÃgOccA¼ay
.
	`size
(); i++)

1736 
şau£Idx
 = 
ÃgOccA¼ay
[
i
];

1738 ià(
d—dCÏu£_
[
şau£Idx
] || 
isS©isf›d_
[clauseIdx]) ;

1741 
numTrueL™s
 = 
	`šüem’tNumTrueL™s
(
şau£Idx
);

1742 
co¡
 = 
	`g‘CÏu£Co¡
(
şau£Idx
);

1743 
w©ch1
 = 
	`g‘W©ch1
(
şau£Idx
);

1747 ià(
numTrueL™s
 == 1)

1750 ià(
co¡
 >= 0)

1753 
	`»moveF®£CÏu£
(
şau£Idx
);

1755 
	`addB»akCo¡
(
toFl
, 
co¡
);

1757 
	`addMakeCo¡ToAtomsInCÏu£
(
şau£Idx
, -
co¡
);

1762 
	`as£¹
(
co¡
 < 0);

1764 
	`addF®£CÏu£
(
şau£Idx
);

1766 
	`addB»akCo¡ToAtomsInCÏu£
(
şau£Idx
, 
co¡
);

1768 
	`addMakeCo¡
(
toFl
, -
co¡
);

1771 
	`£tW©ch1
(
şau£Idx
, 
toFl
);

1775 ià(
numTrueL™s
 == 2)

1777 ià(
co¡
 >= 0)

1781 
	`addB»akCo¡
(
w©ch1
, -
co¡
);

1786 
	`as£¹
(
co¡
 < 0);

1788 
	`addMakeCo¡
(
w©ch1
, 
co¡
);

1791 
	`£tW©ch2
(
şau£Idx
, 
toFl
);

1794 
	}
}

1802 
boŞ
 
	$isAùive
(cÚ¡ & 
©omIdx
)

1804  
domaš_
->
	`g‘DB
()->
	`g‘AùiveStus
(
gndP»dHashA¼ay_
[
©omIdx
-1]);

1805 
	}
}

1813 
boŞ
 
	$isAùive
(cÚ¡ 
P»diÿ‹
* 
´ed
)

1815  
domaš_
->
	`g‘DB
()->
	`g‘AùiveStus
(
´ed
);

1816 
	}
}

1821 
	gA¼ay
<>& 
	$g‘Occu»nûA¼ay
(cÚ¡ & 
idx
)

1823  
occu»nû_
[
idx
];

1824 
	}
}

1830 
	$šüem’tNumTrueL™s
(cÚ¡ & 
şau£Idx
)

1832  ++
numTrueL™s_
[
şau£Idx
];

1833 
	}
}

1838 
	$deüem’tNumTrueL™s
(cÚ¡ & 
şau£Idx
)

1840  --
numTrueL™s_
[
şau£Idx
];

1841 
	}
}

1846 
	$g‘NumTrueL™s
(cÚ¡ & 
şau£Idx
)

1848  
numTrueL™s_
[
şau£Idx
];

1849 
	}
}

1854 
	$g‘CÏu£Co¡
(cÚ¡ & 
şau£Idx
)

1856  
şau£Co¡_
[
şau£Idx
];

1857 
	}
}

1862 
	gA¼ay
<>& 
	$g‘AtomsInCÏu£
(cÚ¡ & 
şau£Idx
)

1864  
şau£_
[
şau£Idx
];

1865 
	}
}

1895 
	$addB»akCo¡
(cÚ¡ & 
©omIdx
, cÚ¡ & 
co¡
)

1897 
b»akCo¡_
[
©omIdx
] +ğ
co¡
;

1898 
	}
}

1903 
	$subŒaùB»akCo¡
(cÚ¡ & 
©omIdx
, cÚ¡ & 
co¡
)

1905 
b»akCo¡_
[
©omIdx
] -ğ
co¡
;

1906 
	}
}

1914 
	$addB»akCo¡ToAtomsInCÏu£
(cÚ¡ & 
şau£Idx
,

1915 cÚ¡ & 
co¡
)

1917 
size
 = 
	`g‘CÏu£Size
(
şau£Idx
);

1918 
i
 = 0; i < 
size
; i++)

1920 
l™
 = 
şau£_
[
şau£Idx
][
i
];

1921 
b»akCo¡_
[
	`abs
(
l™
)] +ğ
co¡
;

1923 
	}
}

1931 
	$subŒaùB»akCo¡FromAtomsInCÏu£
(cÚ¡ & 
şau£Idx
,

1932 cÚ¡ & 
co¡
)

1934 
size
 = 
	`g‘CÏu£Size
(
şau£Idx
);

1935 
i
 = 0; i < 
size
; i++)

1937 
l™
 = 
şau£_
[
şau£Idx
][
i
];

1938 
b»akCo¡_
[
	`abs
(
l™
)] -ğ
co¡
;

1940 
	}
}

1948 
	$addMakeCo¡
(cÚ¡ & 
©omIdx
, cÚ¡ & 
co¡
)

1950 
makeCo¡_
[
©omIdx
] +ğ
co¡
;

1951 
	}
}

1959 
	$subŒaùMakeCo¡
(cÚ¡ & 
©omIdx
, cÚ¡ & 
co¡
)

1961 
makeCo¡_
[
©omIdx
] -ğ
co¡
;

1962 
	}
}

1970 
	$addMakeCo¡ToAtomsInCÏu£
(cÚ¡ & 
şau£Idx
,

1971 cÚ¡ & 
co¡
)

1973 
size
 = 
	`g‘CÏu£Size
(
şau£Idx
);

1974 
i
 = 0; i < 
size
; i++)

1976 
l™
 = 
şau£_
[
şau£Idx
][
i
];

1977 
makeCo¡_
[
	`abs
(
l™
)] +ğ
co¡
;

1979 
	}
}

1987 
	$subŒaùMakeCo¡FromAtomsInCÏu£
(cÚ¡ & 
şau£Idx
,

1988 cÚ¡ & 
co¡
)

1990 
size
 = 
	`g‘CÏu£Size
(
şau£Idx
);

1991 
i
 = 0; i < 
size
; i++)

1993 
l™
 = 
şau£_
[
şau£Idx
][
i
];

1994 
makeCo¡_
[
	`abs
(
l™
)] -ğ
co¡
;

1996 
	}
}

2007 cÚ¡ 
	$g‘TrueL™”®Oth”Thª
(cÚ¡ & 
şau£Idx
,

2008 cÚ¡ & 
©omIdx1
,

2009 cÚ¡ & 
©omIdx2
)

2011 
size
 = 
	`g‘CÏu£Size
(
şau£Idx
);

2012 
i
 = 0; i < 
size
; i++)

2014 
l™
 = 
şau£_
[
şau£Idx
][
i
];

2015 
v
 = 
	`abs
(
l™
);

2016 ià(
	`isTrueL™”®
(
l™
è&& 
v
 !ğ
©omIdx1
 && v !ğ
©omIdx2
)

2017  
v
;

2020 
	`as£¹
(
çl£
);

2022 
	}
}

2027 cÚ¡ 
boŞ
 
	$isTrueL™”®
(cÚ¡ & 
l™”®
)

2029  ((
l™”®
 > 0è=ğ
©om_
[
	`abs
(literal)]);

2030 
	}
}

2035 cÚ¡ 
	$g‘AtomInCÏu£
(cÚ¡ & 
©omIdxInCÏu£
, cÚ¡ & 
şau£Idx
)

2037  
şau£_
[
şau£Idx
][
©omIdxInCÏu£
];

2038 
	}
}

2043 cÚ¡ 
	$g‘RªdomAtomInCÏu£
(cÚ¡ & 
şau£Idx
)

2045  
şau£_
[
şau£Idx
][
	`¿ndom
()%
	`g‘CÏu£Size
(clauseIdx)];

2046 
	}
}

2054 cÚ¡ 
	$g‘RªdomTrueL™InCÏu£
(cÚ¡ & 
şau£Idx
)

2056 
	`as£¹
(
numTrueL™s_
[
şau£Idx
] > 0);

2057 
ŒueL™
 = 
	`¿ndom
()%
numTrueL™s_
[
şau£Idx
];

2058 
whichTrueL™
 = 0;

2059 
i
 = 0; i < 
	`g‘CÏu£Size
(
şau£Idx
); i++)

2061 
l™
 = 
şau£_
[
şau£Idx
][
i
];

2062 
©m
 = 
	`abs
(
l™
);

2064 ià(
	`isTrueL™”®
(
l™
))

2065 ià(
ŒueL™
 =ğ
whichTrueL™
++)

2066  
©m
;

2069 
	`as£¹
(
çl£
);

2071 
	}
}

2073 cÚ¡ 
	$g‘MaxCÏu£Weight
()

2075 
maxWeight
 = 0.0;

2076 
i
 = 0; i < 
	`g‘NumCÏu£s
(); i++)

2078 
weight
 = 
	`abs
(
şau£Co¡_
[
i
]);

2079 ià(
weight
 > 
maxWeight
) maxWeight = weight;

2081  
maxWeight
;

2082 
	}
}

2084 cÚ¡ 
	$g‘MakeCo¡
(cÚ¡ & 
©omIdx
)

2086  
makeCo¡_
[
©omIdx
];

2087 
	}
}

2089 cÚ¡ 
	$g‘B»akCo¡
(cÚ¡ & 
©omIdx
)

2091  
b»akCo¡_
[
©omIdx
];

2092 
	}
}

2094 cÚ¡ 
	$g‘CÏu£Size
(cÚ¡ & 
şau£Idx
)

2096  
şau£_
[
şau£Idx
].
	`size
();

2097 
	}
}

2099 cÚ¡ 
	$g‘W©ch1
(cÚ¡ & 
şau£Idx
)

2101  
w©ch1_
[
şau£Idx
];

2102 
	}
}

2104 
	$£tW©ch1
(cÚ¡ & 
şau£Idx
, cÚ¡ & 
©omIdx
)

2106 
w©ch1_
[
şau£Idx
] = 
©omIdx
;

2107 
	}
}

2109 cÚ¡ 
	$g‘W©ch2
(cÚ¡ & 
şau£Idx
)

2111  
w©ch2_
[
şau£Idx
];

2112 
	}
}

2114 
	$£tW©ch2
(cÚ¡ & 
şau£Idx
, cÚ¡ & 
©omIdx
)

2116 
w©ch2_
[
şau£Idx
] = 
©omIdx
;

2117 
	}
}

2123 cÚ¡ 
	$g‘BlockIndex
(cÚ¡ & 
©omIdx
)

2125 cÚ¡ 
GroundP»diÿ‹
* 
gndP»d
 = (*
gndP»ds_
)[
©omIdx
];

2126  
domaš_
->
	`g‘Block
(
gndP»d
);

2127 
	}
}

2133 cÚ¡ 
	$g‘LowCo¡
()

2135  
lowCo¡_
;

2136 
	}
}

2141 cÚ¡ 
	$g‘LowBad
()

2143  
lowBad_
;

2144 
	}
}

2170 
	$§veLowS‹
()

2172 ià(
hvsdebug
è
cout
 << "Savšg†ow s‹: " << 
’dl
;

2173 
i
 = 1; i <ğ
	`g‘NumAtoms
(); i++)

2175 
lowAtom_
[
i
] = 
©om_
[i];

2176 ià(
hvsdebug
è
cout
 << 
lowAtom_
[
i
] << 
’dl
;

2178 
lowCo¡_
 = 
co¡OfF®£CÏu£s_
;

2179 
lowBad_
 = 
numF®£CÏu£s_
;

2180 ià(
lowBad_
 > 0)

2182 
i
 = 0; i < 
numF®£CÏu£s_
; i++)

2184 
çl£CÏu£Low_
[
i
] = 
çl£CÏu£_
[i];

2187 
	}
}

2192 
	$g‘TrueFixedAtomInBlock
(cÚ¡ & 
blockIdx
)

2194 cÚ¡ 
P»diÿ‹
* 
ŒueP»d
 = 
domaš_
->
	`g‘TrueP»dInBlock
(
blockIdx
);

2195 ià(
ŒueP»d
)

2197 ià(
hvsdebug
)

2199 
cout
 << "Tru´ed iÀblock " << 
blockIdx
 << ": ";

2200 
ŒueP»d
->
	`´štW™hSŒV¬
(
cout
, 
domaš_
);

2201 
cout
 << 
’dl
;

2204 
GroundP»diÿ‹
* 
ŒueGndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
((
P»diÿ‹
*)
ŒueP»d
);

2206 
©omIdx
 = 
gndP»dHashA¼ay_
.
	`fšd
(
ŒueGndP»d
);

2207 
d–‘e
 
ŒueGndP»d
;

2208 ià(
©omIdx
 > -1 && 
fixedAtom_
[atomIdx + 1] > 0)

2209  
©omIdx
;

2212 
	}
}

2213 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
	$g‘GndP»dHashA¼ayPŒ
() const

2215  &
gndP»dHashA¼ay_
;

2216 
	}
}

2218 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
	$g‘UÃP»ds
() const

2220  
uÃP»ds_
;

2221 
	}
}

2223 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
	$g‘KÃP»ds
() const

2225  
kÃP»ds_
;

2226 
	}
}

2228 cÚ¡ 
	gA¼ay
<
	gTruthV®ue
>* 
	$g‘KÃP»dV®ues
() const

2230  
kÃP»dV®ues_
;

2231 
	}
}

2236 
	$£tGndCÏu£sWtsToSumOfP¬’tWts
()

2238 
i
 = 0; i < 
gndCÏu£s_
->
	`size
(); i++)

2240 
GroundCÏu£
* 
gndCÏu£
 = (*
gndCÏu£s_
)[
i
];

2241 
gndCÏu£
->
	`£tWtToSumOfP¬’tWts
(
mÊ_
);

2242 ià(
gndCÏu£
->
	`isH¬dCÏu£
())

2243 
şau£Co¡_
[
i
] = 
h¬dWt_
;

2245 
şau£Co¡_
[
i
] = 
gndCÏu£
->
	`g‘Wt
();

2247 ià(
hvsdebug
è
cout
 << "S‘tšg co¡ oàşau£ " << 
i
 << "o "

2248 << 
şau£Co¡_
[
i
] << 
’dl
;

2251 ià(
gndCÏu£
->
	`isH¬dCÏu£
()è
th»shŞd_
[
i
] = 
RAND_MAX
;

2254 
w
 = 
gndCÏu£
->
	`g‘Wt
();

2255 
th»shŞd_
[
i
] = 
RAND_MAX
*(1 - 
	`exp
(-
	`abs
(
w
)));

2256 ià(
hvsdebug
)

2258 
cout
 << "Weight: " << 
w
 << 
’dl
;

2261 ià(
hvsdebug
)

2262 
cout
 << "Th»shŞd: " << 
th»shŞd_
[
i
] << 
’dl
;

2264 
	}
}

2276 
g‘NumCÏu£Gndšgs
(
A¼ay
<>* cÚ¡ & 
numGndšgs
, 
boŞ
 
tv
)

2287 
	gA¼ay
<> 
ÏzyF®£Gndšgs
(
numGndšgs
->
size
(), 0);

2288 
	gA¼ay
<> 
ÏzyTrueGndšgs
(
numGndšgs
->
size
(), 0);

2290 
IÁBoŞPaœIŒ
 
	g™r
;

2291 
IÁBoŞPaœ
 *
	gşau£F»qu’c›s
;

2294 
	gşau£CÁ
 = 
numGndšgs
->
size
();

2295 
as£¹
(
şau£CÁ
 =ğ
mÊ_
->
g‘NumCÏu£s
());

2296 
	gşau£no
 = 0; cÏu£nØ< 
	gşau£CÁ
; clauseno++)

2297 
as£¹
 ((*
numGndšgs
)[
şau£no
] >= 0);

2299 
	gi
 = 0; i < 
	ggndCÏu£s_
->
size
(); i++)

2301 
GroundCÏu£
 *
	ggndCÏu£
 = (*
gndCÏu£s_
)[
i
];

2302 
	g§tL™út
 = 0;

2303 
	gj
 = 0; j < 
	ggndCÏu£
->
g‘NumGroundP»diÿ‹s
(); j++)

2305 
	gl™
 = 
gndCÏu£
->
g‘GroundP»diÿ‹Index
(
j
);

2306 ià(
isTrueL™”®
(
l™
)è
	g§tL™út
++;

2309 
	gşau£F»qu’c›s
 = 
gndCÏu£
->
g‘CÏu£F»qu’c›s
();

2310 
	g™r
 = 
şau£F»qu’c›s
->
begš
();

2311 
	g™r
 !ğ
şau£F»qu’c›s
->
’d
(); itr++)

2313 
	gşau£no
 = 
™r
->
fœ¡
;

2314 
	gäequ’cy
 = 
™r
->
£cÚd
.
fœ¡
;

2315 
boŞ
 
	gšv”tWt
 = 
™r
->
£cÚd
.second;

2317 ià(
	gšv”tWt
)

2320 ià(
	gtv
 && 
	g§tL™út
 > 0)

2323 ià(
	gÏzy_
è
	gÏzyF®£Gndšgs
[
şau£no
] +ğ
äequ’cy
;

2327 ià(!
	gtv
 && 
	g§tL™út
 == 0)

2330 ià(
Ïzy_
è
ÏzyTrueGndšgs
[
şau£no
] +ğ
äequ’cy
;

2337 ià(
	gtv
 && 
	g§tL™út
 == 0)

2340 ià(
Ïzy_
è
ÏzyF®£Gndšgs
[
şau£no
] +ğ
äequ’cy
;

2344 ià(!
	gtv
 && 
	g§tL™út
 > 0)

2347 ià(
	gÏzy_
è
	gÏzyTrueGndšgs
[
şau£no
] +ğ
äequ’cy
;

2351 (*
	gnumGndšgs
)[
şau£no
] +ğ
äequ’cy
;

2358 ià(
	gÏzy_
)

2360 
	gc
 = 0; c < 
	gmÊ_
->
g‘NumCÏu£s
(); c++)

2362 cÚ¡ 
CÏu£
* 
	gşau£
 = 
mÊ_
->
g‘CÏu£
(
c
);

2364 ià(
	gtv
 && 
	gşau£
->
g‘Wt
() >= 0)

2366 
tÙ®Gndšgs
 = 
domaš_
->
g‘NumNÚEvidGroundšgs
(
c
);

2367 
as£¹
(
tÙ®Gndšgs
 >ğ(*
numGndšgs
)[
c
] + 
ÏzyF®£Gndšgs
[c]);

2368 
	g»maššgTrueGndšgs
 = 
tÙ®Gndšgs
 - 
ÏzyF®£Gndšgs
[
c
] -

2369 (*
numGndšgs
)[
c
];

2370 (*
	gnumGndšgs
)[
c
] +ğ
»maššgTrueGndšgs
;

2373 ià(!
	gtv
 && 
	gşau£
->
g‘Wt
() < 0)

2375 
	gtÙ®Gndšgs
 = 
domaš_
->
g‘NumNÚEvidGroundšgs
(
c
);

2376 
as£¹
(
tÙ®Gndšgs
 >ğ(*
numGndšgs
)[
c
] + 
ÏzyTrueGndšgs
[c]);

2377 
	g»maššgF®£Gndšgs
 = 
tÙ®Gndšgs
 - 
ÏzyTrueGndšgs
[
c
] -

2378 (*
numGndšgs
)[
c
];

2379 (*
	gnumGndšgs
)[
c
] +ğ
»maššgF®£Gndšgs
;

2393 
	$£tOth”sInBlockToF®£
(cÚ¡ & 
©omIdx
, cÚ¡ & 
blockIdx
)

2395 ià(
hvsdebug
)

2397 
cout
 << "S‘‡Î iÀblock " << 
blockIdx
 << "o falseƒxcept "

2398 << 
©omIdx
 << 
’dl
;

2400 
blockSize
 = 
domaš_
->
	`g‘BlockSize
(
blockIdx
);

2401 
i
 = 0; i < 
blockSize
; i++)

2403 cÚ¡ 
P»diÿ‹
* 
´ed
 = 
domaš_
->
	`g‘P»dInBlock
(
i
, 
blockIdx
);

2404 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
((
P»diÿ‹
*)
´ed
);

2405 
idx
 = 
gndP»dHashA¼ay_
.
	`fšd
(
gndP»d
);

2407 ià(
hvsdebug
)

2409 
cout
 << "Gnd…red in block ";

2410 
gndP»d
->
	`´št
(
cout
, 
domaš_
);

2411 
cout
 << " (idx " << 
idx
 << ")" << 
’dl
;

2414 
d–‘e
 
gndP»d
;

2415 
d–‘e
 
´ed
;

2418 ià(
idx
 >= 0)

2421 ià(
idx
 !ğ
©omIdx
 && 
fixedAtom_
[idx + 1] == 0)

2423 ià(
hvsdebug
)

2424 
cout
 << "S‘ " << 
idx
 + 1 << "Øçl£" << 
’dl
;

2426 
boŞ
 
aùiv©e
 = 
Œue
;

2427 
	`£tV®ueOfAtom
(
idx
 + 1, 
çl£
, 
aùiv©e
, -1);

2431 
	}
}

2441 
	$fixAtom
(cÚ¡ & 
©omIdx
, cÚ¡ 
boŞ
& 
v®ue
)

2443 
	`as£¹
(
©omIdx
 > 0);

2444 ià(
hvsdebug
)

2446 
cout
 << "Fixing ";

2447 (*
gndP»ds_
)[
©omIdx
 - 1]->
	`´št
(
cout
, 
domaš_
);

2448 
cout
 << "Ø" << 
v®ue
 << 
’dl
;

2452 ià(!
u£Th»shŞd_
)

2454 
cout
 << ">>> [ERR] u£Th»shŞd_ i çl£" << 
’dl
;

2455 
	`ex™
(0);

2459 ià((
fixedAtom_
[
©omIdx
] =ğ1 && 
v®ue
 =ğ
çl£
) ||

2460 (
fixedAtom_
[
©omIdx
] =ğ-1 && 
v®ue
 =ğ
Œue
))

2462 
cout
 << "CÚŒadiùiÚ: Tr›dØfix‡tom " << 
©omIdx
 <<

2463 "ØŒuªd f®£ ...ƒx™šg." << 
’dl
;

2464 
	`ex™
(0);

2468 ià(
fixedAtom_
[
©omIdx
] != 0) ;

2470 
fixedAtom_
[
©omIdx
] = (
v®ue
) ? 1 : -1;

2471 ià(
©om_
[
©omIdx
] !ğ
v®ue
)

2473 
boŞ
 
aùiv©e
 = 
çl£
;

2474 
blockIdx
 = 
	`g‘BlockIndex
(
©omIdx
 - 1);

2475 
	`£tV®ueOfAtom
(
©omIdx
, 
v®ue
, 
aùiv©e
, 
blockIdx
);

2476 
	`upd©eMakeB»akCo¡Aá”Fl
(
©omIdx
);

2480 
	`upd©eS©isf›dCÏu£s
(
©omIdx
);

2483 ià(
v®ue
)

2485 
blockIdx
 = 
	`g‘BlockIndex
(
©omIdx
 - 1);

2486 ià(
blockIdx
 > -1)

2488 
blockSize
 = 
domaš_
->
	`g‘BlockSize
(
blockIdx
);

2489 
i
 = 0; i < 
blockSize
; i++)

2491 cÚ¡ 
P»diÿ‹
* 
´ed
 = 
domaš_
->
	`g‘P»dInBlock
(
i
, 
blockIdx
);

2492 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
((
P»diÿ‹
*)
´ed
);

2493 
idx
 = 
gndP»dHashA¼ay_
.
	`fšd
(
gndP»d
);

2494 
d–‘e
 
gndP»d
;

2495 
d–‘e
 
´ed
;

2498 ià(
idx
 >= 0)

2501 ià(
idx
 !ğ(
©omIdx
 - 1))

2504 ià(
fixedAtom_
[
idx
 + 1] == 1)

2506 
cout
 << "CÚŒadiùiÚ: Tr›dØfix‡tom " << 
idx
 + 1 <<

2507 "ØŒuªd f®£ ...ƒx™šg." << 
’dl
;

2508 
	`ex™
(0);

2511 ià(
fixedAtom_
[
idx
 + 1] == -1) ;

2512 ià(
hvsdebug
)

2514 
cout
 << "Fixing ";

2515 (*
gndP»ds_
)[
idx
]->
	`´št
(
cout
, 
domaš_
);

2516 
cout
 << "Ø0" << 
’dl
;

2518 
fixedAtom_
[
idx
 + 1] = -1;

2519 ià(
©om_
[
idx
 + 1] !ğ
çl£
)

2521 
boŞ
 
aùiv©e
 = 
çl£
;

2522 
	`£tV®ueOfAtom
(
idx
 + 1, 
v®ue
, 
aùiv©e
, 
blockIdx
);

2523 
	`upd©eMakeB»akCo¡Aá”Fl
(
idx
 + 1);

2526 
	`upd©eS©isf›dCÏu£s
(
idx
 + 1);

2535 ià(
Ïzy_
 && !
	`isAùive
(
©omIdx
è&& 
v®ue
)

2539 
P»diÿ‹
* 
p
 =

2540 
gndP»dHashA¼ay_
[
©omIdx
 - 1]->
	`ü—‹Equiv®’tP»diÿ‹
(
domaš_
);

2542 
boŞ
 
ignÜeAùiveP»ds
 = 
çl£
;

2543 
A¼ay
<
GroundCÏu£
*> 
un§tCÏu£s
;

2544 
	`g‘AùiveCÏu£s
(
p
, 
un§tCÏu£s
, 
Œue
, 
ignÜeAùiveP»ds
);

2548 
	`addNewCÏu£s
(
ADD_CLAUSE_REGULAR
, 
un§tCÏu£s
);

2551 
domaš_
->
	`g‘DB
()->
	`£tAùiveStus
(
p
, 
Œue
);

2552 
aùiveAtoms_
++;

2554 
d–‘e
 
p
;

2556 
	}
}

2569 
	gA¼ay
<>* 
	$sim¶ifyCÏu£FromFixedAtoms
(cÚ¡ & 
şau£Idx
)

2571 
A¼ay
<>* 
»tuºA¼ay
 = 
Ãw
 Array<>;

2573 ià(
isS©isf›d_
[
şau£Idx
]è 
»tuºA¼ay
;

2577 
boŞ
 
isGood
 = (
şau£Co¡_
[
şau£Idx
] >ğ0è? 
çl£
 : 
Œue
;

2579 
boŞ
 
®lF®£Atoms
 = (
şau£Co¡_
[
şau£Idx
] >ğ0è? 
Œue
 : 
çl£
;

2581 
i
 = 0; i < 
	`g‘CÏu£Size
(
şau£Idx
); i++)

2583 
l™
 = 
şau£_
[
şau£Idx
][
i
];

2584 
fixedV®ue
 = 
fixedAtom_
[
	`abs
(
l™
)];

2586 ià(
şau£Co¡_
[
şau£Idx
] >= 0)

2588 ià((
fixedV®ue
 =ğ1 && 
l™
 > 0) ||

2589 (
fixedV®ue
 =ğ-1 && 
l™
 < 0))

2591 
isGood
 = 
Œue
;

2592 
®lF®£Atoms
 = 
çl£
;

2593 
»tuºA¼ay
->
	`ş—r
();

2596 ià(
fixedV®ue
 == 0)

2598 
®lF®£Atoms
 = 
çl£
;

2599 
»tuºA¼ay
->
	`­³nd
(
l™
);

2604 
	`as£¹
(
şau£Co¡_
[
şau£Idx
] < 0);

2605 ià((
fixedV®ue
 =ğ1 && 
l™
 > 0) ||

2606 (
fixedV®ue
 =ğ-1 && 
l™
 < 0))

2608 
cout
 << "CÚŒadiùiÚ: Tr›dØfix‡tom " << 
	`abs
(
l™
) <<

2609 "ØŒuš‡‚eg©ivşau£ ...ƒx™šg." << 
’dl
;

2610 
	`ex™
(0);

2614 
»tuºA¼ay
->
	`­³nd
(
l™
);

2616 ià(
fixedV®ue
 =ğ0è
isGood
 = 
çl£
;

2620 ià(
®lF®£Atoms
)

2622 
cout
 << "CÚŒadiùiÚ: AÎ‡tom š cÏu£ " << 
şau£Idx
 <<

2623 " fixedØçl£ ...ƒx™šg." << 
’dl
;

2624 
	`ex™
(0);

2626 ià(
isGood
è
isS©isf›d_
[
şau£Idx
] = 
Œue
;

2627  
»tuºA¼ay
;

2628 
	}
}

2636 cÚ¡ 
boŞ
 
	$isD—dCÏu£
(cÚ¡ & 
şau£Idx
)

2638  
d—dCÏu£_
[
şau£Idx
];

2639 
	}
}

2644 
	$–imš©eSoáCÏu£s
()

2646 
boŞ
 
©L—¡OÃD—d
 = 
çl£
;

2647 
i
 = 0; i < 
	`g‘NumCÏu£s
(); i++)

2649 ià(!(*
gndCÏu£s_
)[
i
]->
	`isH¬dCÏu£
())

2651 
©L—¡OÃD—d
 = 
Œue
;

2652 
d—dCÏu£_
[
i
] = 
Œue
;

2655 ià(
©L—¡OÃD—d
è
	`š™MakeB»akCo¡W©ch
();

2656 
	`š™MakeB»akCo¡W©chCÚt
();

2657 
	}
}

2659 
	$upd©eNumTrueL™s
()

2661 
i
 = 0;˜< 
	`g‘NumCÏu£s
(); i++)

2663 
numTrueL™s_
[
i
] = 0;

2664 
j
 = 0; j < 
	`g‘CÏu£Size
(
i
); j++)

2666 ià(
	`isTrueL™”®
(
şau£_
[
i
][
j
]))

2668 
numTrueL™s_
[
i
]++;

2672 
	}
}

2681 
	$klCÏu£s
(cÚ¡ & 
¡¬tCÏu£
)

2684 ià(
šã»nûMode_
 !ğ
MODE_HARD
)

2686 
i
 = 
¡¬tCÏu£
; i < 
	`g‘NumCÏu£s
(); i++)

2688 
GroundCÏu£
* 
şau£
 = (*
gndCÏu£s_
)[
i
];

2689 ià((
	`şau£GoodInP»vious
(
i
)) &&

2690 (
şau£
->
	`isH¬dCÏu£
(è|| 
	`¿ndom
(è<ğ
th»shŞd_
[
i
]))

2692 ià(
hvsdebug
)

2694 
cout
 << "K“pšg cÏu£ "<< 
i
 << " ";

2695 
şau£
->
	`´št
(
cout
, 
domaš_
, &
gndP»dHashA¼ay_
);

2696 
cout
 << 
’dl
;

2698 
d—dCÏu£_
[
i
] = 
çl£
;

2702 
d—dCÏu£_
[
i
] = 
Œue
;

2707 
	`š™MakeB»akCo¡W©ch
(
¡¬tCÏu£
);

2708 
	}
}

2719 cÚ¡ 
boŞ
 
	$şau£GoodInP»vious
(cÚ¡ & 
şau£Idx
)

2722  (
şau£Idx
 >ğ
´evS©isf›dCÏu£_
.
	`size
() ||

2723 
´evS©isf›dCÏu£_
[
şau£Idx
]);

2724 
	}
}

2729 
	$»£tD—dCÏu£s
()

2731 
i
 = 0; i < 
d—dCÏu£_
.
	`size
(); i++)

2732 
d—dCÏu£_
[
i
] = 
çl£
;

2733 
	`š™MakeB»akCo¡W©ch
();

2734 
	`š™MakeB»akCo¡W©chCÚt
();

2735 
	}
}

2740 
	$»£tFixedAtoms
()

2742 
i
 = 0; i < 
fixedAtom_
.
	`size
(); i++)

2743 
fixedAtom_
[
i
] = 0;

2744 
i
 = 0; i < 
isS©isf›d_
.
	`size
(); i++)

2745 
isS©isf›d_
[
i
] = 
çl£
;

2746 
	}
}

2748 
	$£tLazy
(cÚ¡ 
boŞ
& 
l
è{ 
Ïzy_
 =†; 
	}
}

2749 cÚ¡ 
boŞ
 
	$g‘Lazy
(è{  
Ïzy_
; 
	}
}

2751 
	$£tU£Th»shŞd
(cÚ¡ 
boŞ
& 
t
è{ 
u£Th»shŞd_
 =;
	}
}

2752 cÚ¡ 
boŞ
 
	$g‘U£Th»shŞd
(è{  
u£Th»shŞd_
; 
	}
}

2754 
	$g‘H¬dWt
(è{  
h¬dWt_
; 
	}
}

2756 cÚ¡ 
Domaš
* 
	$g‘Domaš
(è{  
domaš_
; 
	}
}

2758 cÚ¡ 
MLN
* 
	$g‘MLN
(è{  
mÊ_
; 
	}
}

2765 
	$´štLowS‹
(
o¡»am
& 
out
)

2767 
i
 = 0; i < 
	`g‘NumAtoms
(); i++)

2769 (*
gndP»ds_
)[
i
]->
	`´št
(
out
, 
domaš_
);

2770 
out
 << " " << 
lowAtom_
[
i
 + 1] << 
’dl
;

2772 
	}
}

2781 
	$´štGndP»d
(cÚ¡ & 
´edIndex
, 
o¡»am
& 
out
)

2783 (*
gndP»ds_
)[
´edIndex
]->
	`´št
(
out
, 
domaš_
);

2784 
	}
}

2792 
	$g‘IndexOfGroundP»diÿ‹
(
GroundP»diÿ‹
* cÚ¡ & 
gndP»d
)

2794  
gndP»dHashA¼ay_
.
	`fšd
(
gndP»d
);

2795 
	}
}

2807 
	$£tAsEvid’û
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ediÿ‹
,

2808 cÚ¡ 
boŞ
& 
ŒueEvid’û
)

2810 ià(
hvsdebug
)

2812 
cout
 << "Settingoƒvidence " ;

2813 
´ediÿ‹
->
	`´št
(
cout
, 
domaš_
);

2814 
cout
 << 
’dl
;

2816 
D©aba£
* 
db
 = 
domaš_
->
	`g‘DB
();

2817 
©omIdx
 = 
gndP»dHashA¼ay_
.
	`fšd
((
GroundP»diÿ‹
*)
´ediÿ‹
);

2819 ià(
©omIdx
 <= 0)

2822 ià(
db
->
	`g‘V®ue
(
´ediÿ‹
è=ğ
ŒueEvid’û
)

2826 ià(
ŒueEvid’û
)

2827 
db
->
	`£tV®ue
(
´ediÿ‹
, 
TRUE
);

2829 
db
->
	`£tV®ue
(
´ediÿ‹
, 
FALSE
);

2833 
A¼ay
<> 
gndCÏu£Indexes
;

2834 
d–‘ed
;

2835 
gndCÏu£Indexes
 = 
	`g‘NegOccu»nûA¼ay
(
©omIdx
 + 1);

2836 
gndCÏu£Indexes
.
	`bubbËSÜt
();

2839 
d–‘ed
 = 0;

2840 
i
 = 0; i < 
gndCÏu£Indexes
.
	`size
(); i++)

2845 ià(!
ŒueEvid’û
 ||

2846 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]]->
	`g‘NumGroundP»diÿ‹s
() == 1)

2848 ià(
hvsdebug
)

2849 
cout
 << "D–‘šg ground cÏu£ " << 
gndCÏu£Indexes
[
i
] << 
’dl
;

2852 
	`d–‘e
 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
] - 
d–‘ed
];

2853 
gndCÏu£s_
->
	`»moveI‹m
(
gndCÏu£Indexes
[
i
] - 
d–‘ed
);

2854 
d–‘ed
++;

2858 ià(
hvsdebug
)

2860 
cout
 << "Removšg gnd…»d " << -(
©omIdx
 + 1)

2861 << " from ground cÏu£ " << 
gndCÏu£Indexes
[
i
] << 
’dl
;

2863 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]]->
	`»moveGndP»d
(-(
©omIdx
 + 1));

2867 
gndCÏu£Indexes
 = 
	`g‘PosOccu»nûA¼ay
(
©omIdx
 + 1);

2868 
gndCÏu£Indexes
.
	`bubbËSÜt
();

2871 
d–‘ed
 = 0;

2872 
i
 = 0; i < 
gndCÏu£Indexes
.
	`size
(); i++)

2877 ià(
ŒueEvid’û
 ||

2878 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]]->
	`g‘NumGroundP»diÿ‹s
() == 1)

2880 ià(
hvsdebug
)

2881 
cout
 << "D–‘šg ground cÏu£ " << 
gndCÏu£Indexes
[
i
] << 
’dl
;

2884 
	`d–‘e
 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
] - 
d–‘ed
];

2885 
gndCÏu£s_
->
	`»moveI‹m
(
gndCÏu£Indexes
[
i
] - 
d–‘ed
);

2886 
d–‘ed
++;

2890 ià(
hvsdebug
)

2892 
cout
 << "Removšg gnd…»d " << -(
©omIdx
 + 1)

2893 << " from ground cÏu£ " << 
gndCÏu£Indexes
[
i
] << 
’dl
;

2895 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]]->
	`»moveGndP»d
(
©omIdx
 + 1);

2899 
gndP»dHashA¼ay_
.
	`»moveI‹mFa¡DisÜd”
(
©omIdx
);

2900 
gndP»dHashA¼ay_
.
	`com´ess
();

2901 
gndP»ds_
->
	`»moveI‹mFa¡DisÜd”
(
©omIdx
);

2902 
gndP»ds_
->
	`com´ess
();

2906 
ŞdIdx
 = 
gndP»dHashA¼ay_
.
	`size
();

2907 
	`»¶aûAtomIndexInAÎCÏu£s
(
ŞdIdx
, 
©omIdx
);

2909 
	}
}

2919 
	$£tAsQu”y
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ediÿ‹
)

2921 ià(
hvsdebug
)

2923 
cout
 << "Settingo query " ;

2924 
´ediÿ‹
->
	`´št
(
cout
, 
domaš_
);

2925 
cout
 << 
’dl
;

2927 
D©aba£
* 
db
 = 
domaš_
->
	`g‘DB
();

2929 ià(
gndP»dHashA¼ay_
.
	`cÚšs
((
GroundP»diÿ‹
*)
´ediÿ‹
))

2935 
gndP»dHashA¼ay_
.
	`­³nd
((
GroundP»diÿ‹
*)
´ediÿ‹
);

2936 
P»diÿ‹
* 
p
 = 
´ediÿ‹
->
	`ü—‹Equiv®’tP»diÿ‹
(
domaš_
);

2937 
db
->
	`£tEvid’ûStus
(
p
, 
çl£
);

2938 
boŞ
 
ignÜeAùiveP»ds
 = 
Œue
;

2939 
	`g‘AùiveCÏu£s
(
p
, 
ÃwCÏu£s_
, 
Œue
, 
ignÜeAùiveP»ds
);

2941 
	}
}

2951 
GroundP»diÿ‹
* 
	$g‘GndP»d
(cÚ¡ & 
šdex
)

2953  (*
gndP»ds_
)[
šdex
];

2954 
	}
}

2962 
GroundCÏu£
* 
	$g‘GndCÏu£
(cÚ¡ & 
šdex
)

2964  (*
gndCÏu£s_
)[
šdex
];

2965 
	}
}

2970 
	$§veLowS‹ToGndP»ds
()

2973 
i
 = 0; i < 
	`g‘NumAtoms
(); i++)

2974 (*
gndP»ds_
)[
i
]->
	`£tTruthV®ue
(
lowAtom_
[i + 1]);

2976 
	}
}

2981 
	$§veLowS‹ToDB
()

2983 
i
 = 0; i < 
	`g‘NumAtoms
(); i++)

2985 
GroundP»diÿ‹
* 
p
 = 
gndP»dHashA¼ay_
[
i
];

2986 
boŞ
 
v®ue
 = 
lowAtom_
[
i
 + 1];

2987 ià(
v®ue
)

2989 
domaš_
->
	`g‘DB
()->
	`£tV®ue
(
p
, 
TRUE
);

2993 
domaš_
->
	`g‘DB
()->
	`£tV®ue
(
p
, 
FALSE
);

2996 
	}
}

3004 cÚ¡ 
	$g‘GndP»dIndex
(
GroundP»diÿ‹
* cÚ¡& 
gndP»d
)

3006  
gndP»ds_
->
	`fšd
(
gndP»d
);

3007 
	}
}

3026 
g‘AùiveCÏu£s
(
P»diÿ‹
 *
šputP»d
,

3027 
A¼ay
<
GroundCÏu£
*>& 
aùiveCÏu£s
,

3028 
boŞ
 cÚ¡ & 
aùive
,

3029 
boŞ
 cÚ¡ & 
ignÜeAùiveP»ds
)

3031 
Tim”
 
	gtim”
;

3032 
	gcu¼Time
;

3034 
CÏu£
 *
	gfşau£
;

3035 
GroundCÏu£
* 
	gÃwCÏu£
;

3036 
	gşau£CÁ
;

3037 
GroundCÏu£HashA¼ay
 
	gşau£HashA¼ay
;

3039 
	gA¼ay
<
	gGroundCÏu£
*>* 
	gÃwCÏu£s
 = 
Ãw
 
A¼ay
<
GroundCÏu£
*>;

3041 cÚ¡ 
	gA¼ay
<
	gIndexCÏu£
*>* 
	gšdexCÏu£s
 = 
NULL
;

3044 ià(
	gšputP»d
 =ğ
NULL
)

3046 
şau£CÁ
 = 
mÊ_
->
g‘NumCÏu£s
();

3051 ià(
	gdomaš_
->
g‘DB
()->
g‘D—ùiv©edStus
(
šputP»d
)) ;

3052 
	g´edId
 = 
šputP»d
->
g‘Id
();

3053 
	gšdexCÏu£s
 = 
mÊ_
->
g‘CÏu£sCÚššgP»d
(
´edId
);

3054 
	gşau£CÁ
 = 
šdexCÏu£s
->
size
();

3058 
	gşau£no
 = 0;

3060 
	gşau£no
 < 
	gşau£CÁ
)

3062 ià(
	gšputP»d
)

3063 
	gfşau£
 = (
CÏu£
 *è(*
šdexCÏu£s
)[
şau£no
]->
şau£
;

3065 
	gfşau£
 = (
CÏu£
 *è
mÊ_
->
g‘CÏu£
(
şau£no
);

3067 ià(
	ghvsdebug
)

3069 
	gcout
 << "Getting‡ctive clauses for FO clause: ";

3070 
	gfşau£
->
´št
(
cout
, 
domaš_
);

3071 
	gcout
 << 
	g’dl
;

3074 
	gcu¼Time
 = 
tim”
.
time
();

3076 cÚ¡ * 
	g·»ÁWtPŒ
 = 
NULL
;

3077 ià(!
	gfşau£
->
isH¬dCÏu£
()è
	g·»ÁWtPŒ
 = 
fşau£
->
g‘WtPŒ
();

3078 cÚ¡ 
	gşau£Id
 = 
mÊ_
->
fšdCÏu£Idx
(
fşau£
);

3079 
	gÃwCÏu£s
->
ş—r
();

3081 ià(
	g¡lAùiv©šg_
)

3082 
	g¡lAùiv©šg_
 = 
fşau£
->
g‘AùiveCÏu£s
(
šputP»d
, 
domaš_
,

3083 
ÃwCÏu£s
,

3084 &
gndP»dHashA¼ay_
,

3085 
ignÜeAùiveP»ds
);

3087 
	gi
 = 0; i < 
	gÃwCÏu£s
->
size
(); i++)

3089 
	gwt
 = 
fşau£
->
g‘Wt
();

3090 
	gÃwCÏu£
 = (*
ÃwCÏu£s
)[
i
];

3093 ià(
	ggndCÏu£s_
->
fšd
(
ÃwCÏu£
) >= 0)

3095 
d–‘e
 
ÃwCÏu£
;

3099 
boŞ
 
	gšv”tWt
 = 
çl£
;

3101 ià(!
	gfşau£
->
isH¬dCÏu£
() &&

3102 
	gÃwCÏu£
->
g‘NumGroundP»diÿ‹s
() == 1 &&

3103 !
ÃwCÏu£
->
g‘GroundP»diÿ‹S’£
(0))

3105 
ÃwCÏu£
->
£tGroundP»diÿ‹S’£
(0, 
Œue
);

3106 
	gÃwCÏu£
->
£tWt
(-
ÃwCÏu£
->
g‘Wt
());

3107 
	gwt
 = -
wt
;

3108 
	gšv”tWt
 = 
Œue
;

3109 
	gaddToIndex
 = 
gndCÏu£s_
->
fšd
(
ÃwCÏu£
);

3110 ià(
	gaddToIndex
 >= 0)

3112 (*
gndCÏu£s_
)[
addToIndex
]->
addWt
(
wt
);

3113 ià(
	g·»ÁWtPŒ
)

3114 (*
	ggndCÏu£s_
)[
addToIndex
]->
šüem’tCÏu£F»qu’cy
(
şau£Id
, 1,

3115 
šv”tWt
);

3116 
d–‘e
 
	gÃwCÏu£
;

3121 
	gpos
 = 
şau£HashA¼ay
.
fšd
(
ÃwCÏu£
);

3123 ià(
	gpos
 >= 0)

3127 ià(
şau£HashA¼ay
[
pos
]->
g‘CÏu£F»qu’cy
(
şau£Id
) > 0)

3129 
d–‘e
 
ÃwCÏu£
;

3132 ià(
	ghvsdebug
)

3134 
	gcout
 << "Addšg weighˆ" << 
	gwt
 << "o clause ";

3135 
	gşau£HashA¼ay
[
pos
]->
´št
(
cout
, 
domaš_
, &
gndP»dHashA¼ay_
);

3136 
	gcout
 << 
	g’dl
;

3138 
	gşau£HashA¼ay
[
pos
]->
addWt
(
wt
);

3139 ià(
	g·»ÁWtPŒ
)

3140 
	gşau£HashA¼ay
[
pos
]->
šüem’tCÏu£F»qu’cy
(
şau£Id
, 1,

3141 
šv”tWt
);

3142 
d–‘e
 
	gÃwCÏu£
;

3147 
	gÃwCÏu£
->
£tWt
(
wt
);

3148 ià(
	g·»ÁWtPŒ
)

3149 
	gÃwCÏu£
->
šüem’tCÏu£F»qu’cy
(
şau£Id
, 1, 
šv”tWt
);

3151 ià(
	ghvsdebug
)

3153 
	gcout
 << "Appending clause ";

3154 
	gÃwCÏu£
->
´št
(
cout
, 
domaš_
, &
gndP»dHashA¼ay_
);

3155 
	gcout
 << 
	g’dl
;

3157 
	gşau£HashA¼ay
.
­³nd
(
ÃwCÏu£
);

3159 
	gşau£no
++;

3163 
	gi
 = 0; i < 
	gşau£HashA¼ay
.
size
(); i++)

3165 
	gÃwCÏu£
 = 
şau£HashA¼ay
[
i
];

3166 
	gaùiveCÏu£s
.
­³nd
(
ÃwCÏu£
);

3169 
	gÃwCÏu£s
->
ş—r
();

3170 
d–‘e
 
	gÃwCÏu£s
;

3172 
	gşau£HashA¼ay
.
ş—r
();

3182 
g‘AùiveCÏu£s
(
A¼ay
<
GroundCÏu£
*> &
®lCÏu£s
,

3183 
boŞ
 cÚ¡ & 
ignÜeAùiveP»ds
)

3185 
g‘AùiveCÏu£s
(
NULL
, 
®lCÏu£s
, 
Œue
, 
ignÜeAùiveP»ds
);

3188 
	$g‘NumAùiveAtoms
()

3190  
aùiveAtoms_
;

3191 
	}
}

3196 
	sHybridCÚ¡¿št


3198 
	gcÚtCÏu£Idx_
;

3199 
	gvTh»shŞd_
;

3200 
boŞ
 
	gbS©isf›dLa¡_
;

3201 
	gunS©Ty³_
;

3202 
HybridCÚ¡¿št
()

3204 
	gcÚtCÏu£Idx_
 = -1;

3205 
	gvTh»shŞd_
 = 0;

3206 
	gbS©isf›dLa¡_
 = 
çl£
;

3207 
	gunS©Ty³_
 = -1;

3211 
	$´štHybridCÚ¡¿št
(
i
, 
o¡»am
& 
os
)

3213 
os
 << "InfÜm©iÚ fÜ hybrid cÚ¡¿šˆ" << 
i


3214 << ":h»shŞd -- " << 
hybridCÚ¡¿šts_
[
i
].
vTh»shŞd_


3215 << ". weigh‹d v®u-- " << 
	`HybridCÏu£V®ue
(
i
) << ". ";

3216 
os
 << "PŞynomŸl: "; 
hybridPls_
[
i
].
	`PrštTo
(os); o << 
’dl
;

3217 
os
 << "Discrete variable values: " ;

3218 
j
 = 0; j < 
hybridDisCÏu£_
[
i
].
	`size
(); ++j)

3220 
´edIdx
 = 
	`abs
(
hybridDisCÏu£_
[
i
][
j
]);

3221 
os
 << "<";(*
gndP»ds_
)[
´edIdx
 - 1]->
	`´št
(os, 
domaš_
);

3222 
os
 << ": " << 
©om_
[
´edIdx
]<< ">, ";

3224 
os
 << 
’dl
;

3225 
os
 << "Continuous variable values:";

3226 
j
 = 0; j < 
hybridCÚtCÏu£_
[
i
].
	`size
(); j++)

3228 
cÚtV¬Idx
 = 
hybridCÚtCÏu£_
[
i
][
j
];

3229 
m­
<,
¡ršg
>::
cÚ¡_™”©Ü
 
c™”
 =

3230 
gndP»dRev”£CÚt_
.
	`fšd
(
cÚtV¬Idx
);

3231 
os
 << 
c™”
->
£cÚd
 << ": " << 
cÚtAtoms_
[
cÚtV¬Idx
] << "; ";

3233 
os
 << 
’dl
;

3234 
	}
}

3236 
	$Wr™eGndP»dIdxM­
(cÚ¡ * 
gnd_´ed_m­_fe
) {

3237 iàĞ
NULL
 !ğ
gnd_´ed_m­_fe
 )

3239 
cout
 << "Saving ground…redicate variables into file: "

3240 << 
gnd_´ed_m­_fe
 << 
’dl
;

3241 
of¡»am
 
	`os
(
gnd_´ed_m­_fe
);

3243 
i
 = 0; i < 
	`g‘NumAtoms
(); ++i) {

3244 (*
gndP»ds_
)[
i
]->
	`´št
(
os
, 
domaš_
); o << " " << i + 1<< 
’dl
;

3247 
i
 = 0; i < 
	`g‘NumCÚtAtoms
(); ++i) {

3248 
os
 << 
gndP»dRev”£CÚt_
[
i
 + 1] << " " << i + 
	`g‘NumAtoms
(è+ 1 << 
’dl
;

3250 
os
.
	`şo£
();

3252 
	}
}

3255 
	$š™MakeB»akCo¡W©chCÚt
()

3257 ià(
hvsdebug
)

3259 
cout
 << "’‹ršg in™MakeB»akCo¡W©chCÚt" << 
’dl
;

3262 
weightSumCÚt_
 = 0.0;

3263 
i
 = 0; i < 
hybridCÏu£Num_
; ++i)

3265 ià(0 =ğ
hybridWts_
[
i
])

3267 
hybridCÏu£V®ue_
[
i
] = 0;

3268 
hybridCÚ¡¿šts_
[
i
].
bS©isf›dLa¡_
 = 
Œue
;

3269 
hybridCÚ¡¿šts_
[
i
].
vTh»shŞd_
 = 0;

3273 
boŞ
 
dis
 = 
çl£
;

3274 
cÚt
 = 0.0;

3275 
hybridCÏu£V®ue_
[
i
] = 
	`HybridCÏu£V®ue
(i, 
dis
, 
cÚt
);

3276 
hybridCÏu£DisV®ue_
[
i
] = 
dis
;

3277 
weightSumCÚt_
 +ğ
hybridCÏu£V®ue_
[
i
];

3279 ià(
hvsdebug
)

3281 
cout
 << "şau£ " << 
i
 << " v®ue:" << 
hybridCÏu£V®ue_
[i]

3282 << 
’dl
;

3284 ià(
	`isS©isf›d
(
hybridCÚ¡¿šts_
[
i
], 
hybridCÏu£V®ue_
[i]))

3286 
hybridCÚ¡¿šts_
[
i
].
bS©isf›dLa¡_
 = 
Œue
;

3290 
hybridCÚ¡¿šts_
[
i
].
bS©isf›dLa¡_
 = 
çl£
;

3291 
hybridF®£CÏu£_
[
hybridF®£CÚ¡¿štNum_
] = 
i
;

3292 
hybridWh”eF®£_
[
i
] = 
hybridF®£CÚ¡¿štNum_
;

3293 
hybridF®£CÚ¡¿štNum_
 ++;

3294 
tÙ®F®£CÚ¡¿štNum_
++;

3295 
co¡OfTÙ®F®£CÚ¡¿šts_
 +ğ
	`çbs
(
hybridCÏu£Co¡_
[
i
]);

3296 
co¡HybridF®£CÚ¡¿št_
 +ğ
	`çbs
(
hybridCÏu£Co¡_
[
i
]);

3298 ià(
dis
 == 0)

3300 
hybridCÚ¡¿šts_
[
i
].
unS©Ty³_
 = 
UNSAT_DIS0
;

3304 
hybridCÚ¡¿šts_
[
i
].
unS©Ty³_
 = 
UNSAT_DIS1
;

3309 ià(
hvsdebug
)

3311 
cout
 << "Ëavšg in™MakeB»akCo¡W©chCÚt" << 
’dl
;

3313 
	}
}

3315 
	$g‘NumCÚtAtoms
(è{  
cÚtAtoms_
.
	`size
(è- 1;
	}
}

3323 
	$g‘IndexOfRªdomAtom
()

3325 
	`as£¹
(
tÙ®AtomNum_
 > 0);

3326 ià(
Ïzy_
)

3328 
P»diÿ‹
* 
´ed
 = 
domaš_
->
	`g‘NÚEvid’ûAtom
(
	`¿ndom
(è% 
numNÚEvAtoms_
);

3329 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
(
´ed
);

3330 
d–‘e
 
´ed
;

3332 
idx
 = 
gndP»dHashA¼ay_
.
	`fšd
(
gndP»d
);

3334 ià(
idx
 >= 0)

3336 
d–‘e
 
gndP»d
;

3337  
idx
 + 1;

3342 ià(
hvsdebug
)

3344 
cout
 << "Adding„andomly ";

3345 
gndP»d
->
	`´št
(
cout
, 
domaš_
);

3346 
cout
 << "Øth¡©e" << 
’dl
;

3348 
gndP»dHashA¼ay_
.
	`­³nd
(
gndP»d
);

3349 
boŞ
 
š™Ÿl
 = 
çl£
;

3350 
	`addNewCÏu£s
(
š™Ÿl
);

3352  
gndP»dHashA¼ay_
.
	`size
();

3358 
disü‘eNumAtoms
 = 
	`g‘NumAtoms
();

3359 
idx
 = 
	`¿ndom
()%
tÙ®AtomNum_
;

3360 ià(
idx
 < 
disü‘eNumAtoms
)

3361  (
idx
 + 1);

3363  -(
idx
 - 
disü‘eNumAtoms
 + 1);

3365 
	}
}

3372 
	$g‘RªdomToFixCÏu£Idx
()

3374 
idx
 = 
	`¿ndom
(è% (
numF®£CÏu£s_
 + 
hybridCÏu£Num_
);

3376 ià(
idx
 < 
numF®£CÏu£s_
)

3377  
çl£CÏu£_
[
idx
];

3378  -(
idx
 - 
numF®£CÏu£s_
);

3379 
	}
}

3381 
	$g‘Co¡OfTÙ®F®£CÚ¡¿šts
()

3383  
co¡OfTÙ®F®£CÚ¡¿šts_
;

3384 
	}
}

3386 
	$g‘Co¡OfAÎCÏu£s
(& 
disco¡
, & 
hybridco¡
)

3388 
disco¡
 = 
weightSumDis_
;

3389 
hybridco¡
 = 
weightSumCÚt_
;

3390  
weightSumDis_
 + 
weightSumCÚt_
;

3391 
	}
}

3393 
	$Upd©eHybridCÏu£WeightSumByCÚtAtom
(cÚ¡ & 
©omIdx
, cÚ¡ & 
©omV®ue
)

3395 
cÚtAtoms_
[
©omIdx
] = 
©omV®ue
;

3396 
i
 = 0; i < 
hybridCÚtOccu¼’û_
[
©omIdx
].
	`size
(); i++)

3398 
cÚtCÏu£Idx
 = 
hybridCÚtOccu¼’û_
[
©omIdx
][
i
];

3399 
vOld
 = 
hybridCÏu£V®ue_
[
cÚtCÏu£Idx
];

3400 
hybridCÏu£V®ue_
[
cÚtCÏu£Idx
] = 
	`HybridCÏu£V®ue
(contClauseIdx);

3401 
weightSumCÚt_
 = weightSumCÚt_ - 
vOld
 + 
hybridCÏu£V®ue_
[
cÚtCÏu£Idx
];

3403 
	}
}

3405 
	$Upd©eHybridCÏu£WeightSumByDisAtom
(cÚ¡ & 
©omIdx
, 
boŞ
 
©omV®ue
)

3407 
	`£tV®ueOfAtom
(
©omIdx
, 
©omV®ue
, 
çl£
, -1);

3408 
i
 = 0; i < 
hybridDisOccu¼’û_
[
©omIdx
].
	`size
(); i++)

3410 
cÚtCÏu£Idx
 = 
hybridDisOccu¼’û_
[
©omIdx
][
i
];

3411 
vOld
 = 
hybridCÏu£V®ue_
[
cÚtCÏu£Idx
];

3412 
cÚt
;

3413 
boŞ
 
dis
;

3414 
hybridCÏu£V®ue_
[
cÚtCÏu£Idx
] =

3415 
	`HybridCÏu£V®ue
(
cÚtCÏu£Idx
,
dis
,
cÚt
);

3416 
hybridCÏu£DisV®ue_
[
cÚtCÏu£Idx
] = 
dis
;

3417 
weightSumCÚt_
 = weightSumCÚt_ - 
vOld
 + 
hybridCÏu£V®ue_
[
cÚtCÏu£Idx
];

3419 
	}
}

3423 
	$Upd©eHybridCÏu£InfoByCÚtAtom
(cÚ¡ & 
©omIdx
, cÚ¡ & 
©omV®ue
)

3425 
cÚtAtoms_
[
©omIdx
] = 
©omV®ue
;

3426 
i
 = 0; i < 
hybridCÚtOccu¼’û_
[
©omIdx
].
	`size
(); i++)

3428 
	`Upd©eHybridCÏu£
(
hybridCÚtOccu¼’û_
[
©omIdx
][
i
]);

3430 
	}
}

3432 
	$Upd©eHybridCÏu£InfoByDisAtom
(cÚ¡ & 
©omIdx
, cÚ¡ 
boŞ
& 
©omV®ue
)

3434 
	`£tV®ueOfAtom
(
©omIdx
, 
©omV®ue
, 
çl£
, -1);

3436 
i
 = 0; i < 
hybridDisOccu¼’û_
[
©omIdx
].
	`size
(); i++)

3438 
	`Upd©eHybridCÏu£
(
hybridDisOccu¼’û_
[
©omIdx
][
i
]);

3440 
	}
}

3450 
	$Upd©eHybridCÏu£
(cÚ¡ & 
cÚtCÏu£Idx
)

3452 
cÚt
;

3453 
boŞ
 
dis
;

3454 
vOld
 = 
hybridCÏu£V®ue_
[
cÚtCÏu£Idx
];

3455 
hybridCÏu£V®ue_
[
cÚtCÏu£Idx
] =

3456 
	`HybridCÏu£V®ue
(
cÚtCÏu£Idx
, 
dis
, 
cÚt
);

3457 
hybridCÏu£DisV®ue_
[
cÚtCÏu£Idx
] = 
dis
;

3458 
weightSumCÚt_
 =

3459 
weightSumCÚt_
 - 
vOld
 + 
hybridCÏu£V®ue_
[
cÚtCÏu£Idx
];

3462 
boŞ
 
bS©La¡
 = 
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
bS©isf›dLa¡_
;

3463 
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
bS©isf›dLa¡_
 =

3464 
	`isS©isf›d
(
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
],

3465 
hybridCÏu£V®ue_
[
cÚtCÏu£Idx
]);

3467 ià(!
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
bS©isf›dLa¡_
)

3469 ià(
dis
 =ğ0 && 
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
vTh»shŞd_
 > 0)

3471 
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
unS©Ty³_
 = 
UNSAT_DIS0
;

3473 if(
dis
 == 1)

3475 
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
unS©Ty³_
 = 
UNSAT_DIS1
;

3479 if(
bS©La¡
 && !
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
bS©isf›dLa¡_
)

3482 
	`addF®£HybridCÚ¡¿št
(
cÚtCÏu£Idx
);

3485 ià(!
bS©La¡
 && 
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
bS©isf›dLa¡_
)

3487 
	`»moveF®£HybridCÚ¡¿št
(
cÚtCÏu£Idx
);

3489 
	}
}

3492 
	$g‘Im´ovem’tRªdomMoveCÚt
(cÚ¡ & 
©omIdx
, cÚ¡ & 
©omV®ue
)

3494 
im´ovem’t
 = 0;

3495 
A¼ay
<>& 
occCÚt
 = 
	`g‘CÚtCÚtOccu»nûA¼ay
(
©omIdx
);

3496 
©omV¬Org
 = 
cÚtAtoms_
[
©omIdx
];

3497 
cÚtAtoms_
[
©omIdx
] = 
©omV®ue
;

3498 
i
 = 0;˜< 
occCÚt
.
	`size
(); i++)

3500 
şau£Idx
 = 
occCÚt
[
i
];

3501 ià(
hybridWts_
[
şau£Idx
] =ğ0 || 
hybridCÏu£DisV®ue_
[şau£Idx] =ğ
çl£
) {

3504 
cÚt
;

3505 
boŞ
 
dis
;

3506 
vCur
 = 
	`HybridCÏu£V®ue
(
şau£Idx
,
dis
,
cÚt
);

3507 
vOld
 = 
hybridCÏu£V®ue_
[
şau£Idx
];

3508 
im´ovem’t
 +ğ
vCur
 - 
vOld
;

3510 
cÚtAtoms_
[
©omIdx
] = 
©omV¬Org
;

3511  
im´ovem’t
;

3512 
	}
}

3514 
	$g‘Im´ovem’tInWeightSumByFlpšg
(cÚ¡ & 
©omIdx
)

3516 
im´ovem’t
 = 0;

3518 
boŞ
 
toFlV®ue
 = 
	`g‘V®ueOfAtom
(
©omIdx
);

3519 
sign
;

3520 
İpSign
;

3521 
l™Idx
;

3522 ià(
toFlV®ue
)

3523 
sign
 = 1;

3525 
sign
 = 0;

3526 
İpSign
 = 
sign
 ^ 1;

3531 
l™Idx
 = 2*
©omIdx
 - 
sign
;

3532 
A¼ay
<>& 
posOccA¼ay
 = 
	`g‘Occu»nûA¼ay
(
l™Idx
);

3534 
l™Idx
 = 2*
©omIdx
 - 
İpSign
;

3535 
A¼ay
<>& 
ÃgOccA¼ay
 = 
	`g‘Occu»nûA¼ay
(
l™Idx
);

3538 
i
 = 0; i < 
posOccA¼ay
.
	`size
(); i++)

3540 
şau£Idx
 = 
posOccA¼ay
[
i
];

3541 
numTrueL™sOrg
 = 
	`g‘NumTrueL™s
(
şau£Idx
);

3542 ià(
numTrueL™sOrg
 == 1)

3544 
im´ovem’t
 -ğ
şau£Co¡_
[
şau£Idx
];

3548 
i
 = 0; i < 
ÃgOccA¼ay
.
	`size
(); i++)

3550 
şau£Idx
 = 
ÃgOccA¼ay
[
i
];

3551 
numTrueL™sOrg
 = 
	`g‘NumTrueL™s
(
şau£Idx
);

3552 ià(
numTrueL™sOrg
 == 0)

3554 
im´ovem’t
 +ğ
şau£Co¡_
[
şau£Idx
];

3558 
	`£tV®ueOfAtom
(
©omIdx
, !
toFlV®ue
, 
çl£
, -1);

3559 
A¼ay
<>& 
occCÚt
 = 
	`g‘CÚtDisOccu»nûA¼ay
(
©omIdx
);

3560 
i
 = 0; i < 
occCÚt
.
	`size
(); i++)

3562 
şau£Idx
 = 
occCÚt
[
i
];

3563 ià(
hybridWts_
[
şau£Idx
] == 0)

3568 
vOrg
 = 
hybridCÏu£V®ue_
[
şau£Idx
];

3569 
cÚt
;

3570 
boŞ
 
dis
;

3571 
vCur
 = 
	`HybridCÏu£V®ue
(
şau£Idx
,
dis
,
cÚt
);

3572 
im´ovem’t
 +ğ
vCur
 - 
vOrg
;

3574 
	`£tV®ueOfAtom
(
©omIdx
, 
toFlV®ue
, 
çl£
, -1);

3575  
im´ovem’t
;

3577 
	}
}

3585 
	$SŞveCÚ¡¿štAndRªdomSam¶e
(cÚ¡ & 
cÚtCÏu£Idx
,

3586 cÚ¡ & 
šIdx
)

3588 
dis
 = 
	`HybridCÏu£DisP¬tV®ue
(
cÚtCÏu£Idx
);

3590 ià(
	`çbs
(
dis
) < 0.0001 &&

3591 
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
vTh»shŞd_
 > 0)

3594  
FLIPDIS
;

3597 ià(
	`çbs
(
dis
) < 0.0001 &&

3598 
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
vTh»shŞd_
 <= 0)

3604 
DoubËRªge
 
r
 = 
	`SŞveHybridCÚ¡¿štToCÚtV¬
(
cÚtCÏu£Idx
, 
šIdx
);

3605 ià(
r
.
iTy³
 == 3)

3607  
UNSOLVABLE
;

3609 
d
 = 
	`¿ndomSam¶eRªge
(
r
);

3611  
d
;

3613 
	}
}

3624 
	$g‘Im´ovem’tByFlpšgDisHMCS
(cÚ¡ & 
©omIdx
)

3626 ià(
hvsdebug
) {

3627 
cout
 << "EÁ”šg HV¬ŸbËS‹::g‘Im´ovem’tByFlpšgDisHMCS" << 
’dl
;

3629 
	`as£¹
(
©omIdx
 > 0);

3631 
im´ovem’tDis
 = 
makeCo¡_
[
©omIdx
] - 
b»akCo¡_
[atomIdx];

3632 
im´ovem’tHybrid
 = 
	`g‘DisIm´oveInHybridByFlpšgMCSAT
(
©omIdx
);

3633 ià(
hvsdebug
)

3635 
cout
 << "L—všg HV¬ŸbËS‹::g‘Im´ovem’tByFlpšgDisHMCS" << 
’dl
;

3637  
im´ovem’tDis
 + 
im´ovem’tHybrid
;

3638 
	}
}

3644 
	$g‘DisIm´oveInHybridByFlpšgMCSAT
(cÚ¡ & 
©omIdx
)

3646 ià(
hvsdebug
)

3648 
cout
 << "EÁ”šg HV¬ŸbËS‹::g‘DisIm´oveInHybridByFlpšgMCSAT" << 
’dl
;

3650 
im´ovem’t
 = 0;

3651 
©om_
[
©omIdx
] = !atom_[atomIdx];

3652 
i
 = 0; i < 
hybridDisOccu¼’û_
[
©omIdx
].
	`size
(); i++)

3654 
cÚtCÏu£Idx
 = 
hybridDisOccu¼’û_
[
©omIdx
][
i
];

3655 ià(0 =ğ
hybridWts_
[
cÚtCÏu£Idx
]) ;

3656 
cÚtCÏu£V®ue
 = 
	`HybridCÏu£V®ue
(
cÚtCÏu£Idx
);

3657 
HybridCÚ¡¿št
& 
c¡
 = 
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
];

3658 ià(!
	`isS©isf›d
(
c¡
, 
cÚtCÏu£V®ue
è&& c¡.
bS©isf›dLa¡_
)

3663 
im´ovem’t
 =

3664 
im´ovem’t
 - 
	`çbs
(
hybridCÏu£Co¡_
[
cÚtCÏu£Idx
]);

3666 ià(
	`isS©isf›d
(
c¡
, 
cÚtCÏu£V®ue
è&& !c¡.
bS©isf›dLa¡_
)

3670 
im´ovem’t
 =

3671 
im´ovem’t
 + 
	`çbs
(
hybridCÏu£Co¡_
[
cÚtCÏu£Idx
]);

3674 
©om_
[
©omIdx
] = !atom_[atomIdx];

3675 ià(
hvsdebug
)

3677 
cout
 << "Leaving HVariableState::getDisImproveInHybridByFlippingMCSAT"

3678 << 
’dl
;

3680  
im´ovem’t
;

3681 
	}
}

3687 
	$SŞveHybridCÚ¡¿štToCÚtV¬Sam¶e
(
cÚtCÏu£Idx
, 
šIdx
,

3688 
maxI‹r
 = 100)

3690 
PŞyNomŸl
 
¶
 = 
hybridPls_
[
cÚtCÏu£Idx
];

3691 
pickAtomIdx
 = 
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
][
šIdx
];

3692 ià(
¶
.
	`G‘Highe¡Ord”
(
šIdx
) <= 2.0)

3696  
	`SŞveCÚ¡¿štAndRªdomSam¶e
(
cÚtCÏu£Idx
, 
šIdx
);

3701 
PŞyNomŸl
 
¶OÃV¬
 = 
¶
;

3702 
¶OÃV¬
.
	`ReduûToOÃV¬
(
šIdx
);

3703 ià(
hybridCÏu£Co¡_
[
cÚtCÏu£Idx
] > 0)

3705 
¶OÃV¬
.
	`MuÉlyCÚ¡
(-1.0);

3708 
LBFGSP
 
	`lbfg¥
(-1,-1,1);

3709 
low
, 
high
;

3710 
low
 = 
cÚtAtomRªge_
[
pickAtomIdx
-1].low;

3711 
high
 = 
cÚtAtomRªge_
[
pickAtomIdx
-1].high;

3712 
lbfg¥
.
	`£tLow”Bounds
(&
low
);

3713 
lbfg¥
.
	`£tUµ”Bounds
(&
high
);

3715 
lbfg¥
.
	`¡¬tLBFGS
(
¶OÃV¬
);

3716 
¶V®ue
 = 
¶OÃV¬
.
	`Compu‹PlV®ue
();

3717 ià(
hybridCÏu£Co¡_
[
cÚtCÏu£Idx
] > 0)

3719 
¶V®ue
 *= -1.0;

3722 
boŞ
 
dis
 = 
	`HybridCÏu£DisP¬tV®ue
(
cÚtCÏu£Idx
);

3724 
™”
 = 0;

3725 !
	`isS©isf›d
(
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
],

3726 
hybridCÏu£Co¡_
[
cÚtCÏu£Idx
] * 
¶V®ue
 *

3727 (
dis
)))

3729 
lbfg¥
.
	`´oûedOÃS‹p
(
¶OÃV¬
);

3730 ++
™”
;

3731 ià(
™”
 > 
maxI‹r
) ;

3734 ià(
™”
 <ğ
maxI‹r
)

3737  
¶OÃV¬
.
v¬V®ue_
[0];

3741  
UNSOLVABLE
;

3744 
	}
}

3750 
	$G‘Im´ovem’tBySŞvšgHybridCÚ¡¿štToCÚtV¬
(const &

3751 
cÚtCÏu£Idx
,

3752 cÚ¡ & 
šIdx
,

3754 
cÚt_v¬_v®
)

3757 
cÚt_v¬_v®
 = 
	`SŞveHybridCÚ¡¿štToCÚtV¬Sam¶e
(
cÚtCÏu£Idx
, 
šIdx
);

3758 
im´ovem’t
 = 0;

3759 ià(
cÚt_v¬_v®
 =ğ
UNSOLVABLE
)

3761  
CANNOTSATCURRENT
;

3765 
©omIdx
 = 
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
][
šIdx
];

3766 
Şd_v®
 = 
cÚtAtoms_
[
©omIdx
];

3767 
cÚtAtoms_
[
©omIdx
] = 
cÚt_v¬_v®
;

3768 
i
 = 0; i < 
hybridCÚtOccu¼’û_
[
©omIdx
].
	`size
(); i++)

3770 
hCÏu£
 = 
hybridCÚtOccu¼’û_
[
©omIdx
][
i
];

3771 
hşau£_v®
 = 
	`HybridCÏu£V®ue
(
hCÏu£
);

3774 ià(!
	`isS©isf›d
(
hybridCÚ¡¿šts_
[
hCÏu£
], 
hşau£_v®
) &&

3775 
hybridCÚ¡¿šts_
[
hCÏu£
].
bS©isf›dLa¡_
)

3778 
im´ovem’t
 = im´ovem’ˆ- 
	`çbs
(
hybridCÏu£Co¡_
[
hCÏu£
]);

3780 ià(
	`isS©isf›d
(
hybridCÚ¡¿šts_
[
hCÏu£
], 
hşau£_v®
) &&

3781 !
hybridCÚ¡¿šts_
[
hCÏu£
].
bS©isf›dLa¡_
)

3784 
im´ovem’t
 = im´ovem’ˆ+ 
	`çbs
(
hybridCÏu£Co¡_
[
hCÏu£
]);

3788 
cÚtAtoms_
[
©omIdx
] = 
Şd_v®
;

3789  
im´ovem’t
;

3790 
	}
}

3792 
boŞ
 
	$isCÚ¡¿štSŞvabËByCÚt
(cÚ¡ & 
cÚtCÏu£Idx
)

3794 
dis
 = 
	`HybridCÏu£DisP¬tV®ue
(
cÚtCÏu£Idx
);

3799 ià(
	`çbs
(
dis
è< 
SMALLVALUE
 &&

3800 
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
vTh»shŞd_
 > 0)

3802  
çl£
;

3805 ià(
	`çbs
(
dis
è< 
SMALLVALUE
 &&

3806 
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
vTh»shŞd_
 < 0)

3808  
Œue
;

3816 
İtV®ue
;

3817 
m­
<,>::
cÚ¡_™”©Ü
 
c™”
;

3818 ià((
c™”
 = 
cÚtO±imum_
.
	`fšd
(
cÚtCÏu£Idx
)è!ğcÚtO±imum_.
	`’d
())

3820 
İtV®ue
 = 
c™”
->
£cÚd
;

3824 
PŞyNomŸl
& 
¶
 = 
hybridPls_
[
cÚtCÏu£Idx
];

3825 
A¼ay
<> 
¬
;

3826 
»t
 = 
¶
.
	`O±imize2
(&
¬
, &
İtV®ue
);

3827 ià(
»t
 == 0)

3829 
cÚtO±imum_
.
	`š£¹
(
m­
<,>::
	`v®ue_ty³
(
cÚtCÏu£Idx
, 
İtV®ue
));

3830 
cÚtO±imumAssignm’t_
.
	`š£¹
(
m­
<,
A¼ay
<> >::
	`v®ue_ty³
(
cÚtCÏu£Idx
, 
¬
));

3834 
¶
.
	`PrštTo
(
cout
);

3835 
cÚtO±imum_
.
	`š£¹
(
m­
<,>::
	`v®ue_ty³
(
cÚtCÏu£Idx
, 
İtV®ue
));

3836 
cÚtO±imumAssignm’t_
.
	`š£¹
(
m­
<,
A¼ay
<> >::
	`v®ue_ty³
(
cÚtCÏu£Idx
, 
¬
));

3840 ià(
	`çbs
(
dis
) == 1 &&

3841 
İtV®ue
 * 
hybridWts_
[
cÚtCÏu£Idx
] >=

3842 
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
vTh»shŞd_
)

3844  
Œue
;

3846 ià(
	`çbs
(
dis
) == 1 &&

3847 
İtV®ue
 * 
hybridWts_
[
cÚtCÏu£Idx
] <

3848 
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
vTh»shŞd_
)

3850  
çl£
;

3852  
Œue
;

3853 
	}
}

3858 
	$g‘RªdomF®£CÏu£IndexHMCS
()

3860 ià(
tÙ®F®£CÚ¡¿štNum_
 =ğ0è 
NOVALUE
;

3862 
idx
 = 
	`¿ndom
(è% 
tÙ®F®£CÚ¡¿štNum_
;

3864 ià(
idx
 < 
numF®£CÏu£s_
)

3866  
çl£CÏu£_
[
idx
] + 1;

3870  -(
hybridF®£CÏu£_
[
idx
 - 
numF®£CÏu£s_
] + 1);

3872 
	}
}

3875 
	$G‘Im´ovem’tByMovšgCÚtV¬
(cÚ¡ & 
©omIdx
, & 
vCÚtAtomFl³d
)

3877 
vLa¡CÚt
 = 
cÚtAtoms_
[
©omIdx
];

3878 
¡dev
 = 
´İo§lStdev_
[
©omIdx
];

3879 
vCÚtAtomFl³d
 = 
ExtRªdom
::
	`gaussRªdom
(
vLa¡CÚt
, 
¡dev
);

3881 
im´ovem’t
 = 0;

3883 
vOldCÚtAtomV®ue
 = 
cÚtAtoms_
[
©omIdx
];

3884 
cÚtAtoms_
[
©omIdx
] = 
vCÚtAtomFl³d
;

3886 
i
 = 0; i < 
hybridCÚtOccu¼’û_
[
©omIdx
].
	`size
(); i++)

3888 
cÚtCÏu£Idx
 = 
hybridCÚtOccu¼’û_
[
©omIdx
][
i
];

3889 
cÚt
;

3890 
boŞ
 
dis
;

3891 
vCÚtCÏu£
 =

3892 
	`HybridCÏu£V®ue
(
hybridCÚtOccu¼’û_
[
©omIdx
][
i
],
dis
,
cÚt
);

3895 ià(!
	`isS©isf›d
(
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
], 
vCÚtCÏu£
) &&

3896 
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
bS©isf›dLa¡_
)

3899 
im´ovem’t
 =

3900 
im´ovem’t
 - 
	`çbs
(
hybridCÏu£Co¡_
[
cÚtCÏu£Idx
]);

3902 ià(
	`isS©isf›d
(
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
],

3903 
vCÚtCÏu£
) &&

3904 !
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
bS©isf›dLa¡_
)

3907 
im´ovem’t
 =

3908 
im´ovem’t
 + 
	`çbs
(
hybridCÏu£Co¡_
[
cÚtCÏu£Idx
]);

3913 
cÚtAtoms_
[
©omIdx
] = 
vOldCÚtAtomV®ue
;

3914  
im´ovem’t
;

3915 
	}
}

3919 
	$addF®£HybridCÚ¡¿št
(cÚ¡ & 
cÚtCÏu£Idx
)

3921 
hybridF®£CÏu£_
[
hybridF®£CÚ¡¿štNum_
] = 
cÚtCÏu£Idx
;

3922 
hybridWh”eF®£_
[
cÚtCÏu£Idx
] = 
hybridF®£CÚ¡¿štNum_
;

3923 
hybridF®£CÚ¡¿štNum_
++;

3924 
tÙ®F®£CÚ¡¿štNum_
++;

3925 
co¡OfTÙ®F®£CÚ¡¿šts_
 +ğ
	`çbs
(
hybridCÏu£Co¡_
[
cÚtCÏu£Idx
]);

3926 
co¡HybridF®£CÚ¡¿št_
 +ğ
	`çbs
(
hybridCÏu£Co¡_
[
cÚtCÏu£Idx
]);

3927 
	}
}

3929 
	$»moveF®£HybridCÚ¡¿št
(cÚ¡ & 
cÚtCÏu£Idx
)

3931 
hybridF®£CÚ¡¿štNum_
--;

3932 
tÙ®F®£CÚ¡¿štNum_
--;

3933 
hybridF®£CÏu£_
[
hybridWh”eF®£_
[
cÚtCÏu£Idx
]] = hybridF®£CÏu£_[
hybridF®£CÚ¡¿štNum_
];

3934 
hybridWh”eF®£_
[
hybridF®£CÏu£_
[
hybridF®£CÚ¡¿štNum_
]] = hybridWh”eF®£_[
cÚtCÏu£Idx
];

3935 
co¡OfTÙ®F®£CÚ¡¿šts_
 -ğ
	`çbs
(
hybridCÏu£Co¡_
[
cÚtCÏu£Idx
]);

3936 
co¡HybridF®£CÚ¡¿št_
 -ğ
	`çbs
(
hybridCÏu£Co¡_
[
cÚtCÏu£Idx
]);

3937 
	}
}

3940 
	$Upd©eHybridCÚ¡¿štTh
()

3942 
i
 = 0; i < 
hybridCÏu£Num_
; i++)

3944 
hybridCÚ¡¿šts_
[
i
].
vTh»shŞd_
 =

3945 
hybridCÏu£V®ue_
[
i
] +

3946 
	`log
(((
	`¿ndom
()è+ 0.1)/(
RAND_MAX
));

3948 
	}
}

3950 
	$addF®£CÏu£
(cÚ¡ & 
şau£Idx
)

3952 
çl£CÏu£_
[
numF®£CÏu£s_
] = 
şau£Idx
;

3953 
wh”eF®£_
[
şau£Idx
] = 
numF®£CÏu£s_
;

3954 
numF®£CÏu£s_
++;

3955 
tÙ®F®£CÚ¡¿štNum_
++;

3956 
co¡OfF®£CÏu£s_
 +ğ
	`çbs
(
şau£Co¡_
[
şau£Idx
]);

3957 
co¡OfTÙ®F®£CÚ¡¿šts_
 +ğ
	`çbs
(
şau£Co¡_
[
şau£Idx
]);

3958 
	}
}

3963 
	$»moveF®£CÏu£
(cÚ¡ & 
şau£Idx
)

3965 
numF®£CÏu£s_
--;

3966 
tÙ®F®£CÚ¡¿štNum_
--;

3967 
çl£CÏu£_
[
wh”eF®£_
[
şau£Idx
]] = f®£CÏu£_[
numF®£CÏu£s_
];

3968 
wh”eF®£_
[
çl£CÏu£_
[
numF®£CÏu£s_
]] = wh”eF®£_[
şau£Idx
];

3969 
co¡OfF®£CÏu£s_
 -ğ
	`abs
(
şau£Co¡_
[
şau£Idx
]);

3970 
co¡OfTÙ®F®£CÚ¡¿šts_
 -ğ
	`abs
(
şau£Co¡_
[
şau£Idx
]);

3971 
	}
}

3977 
	$makeUn™Co¡s
()

3979 
i
 = 0; i < 
şau£Co¡_
.
	`size
(); i++)

3982 ià(
şau£Co¡_
[
i
] > 0) clauseCost_[i] = 1.0;

3984 
	`as£¹
(
şau£Co¡_
[
i
] < 0);

3985 
şau£Co¡_
[
i
] = -1.0;

3989 
i
 = 0; i < 
hybridCÏu£Co¡_
.
	`size
(); i++)

3991 ià(
hybridCÏu£Co¡_
[
i
] > 0) hybridClauseCost_[i] = 1.0;

3994 
	`as£¹
(
hybridCÏu£Co¡_
[
i
] < 0);

3995 
hybridCÏu£Co¡_
[
i
] = -1.0;

3998 
	}
}

4006 
	$İtimizeIndividu®NumT”m
()

4009 
i
 = 0; i < 
hybridCÏu£Num_
; i++)

4011 
PŞyNomŸl
 
¶
 = 
hybridPls_
[
i
];

4012 
v¬Num
 = 
¶
.
	`G‘V¬Num
();

4013 
LBFGSP
 
	`lbfg¥
(-1,-1,
v¬Num
);

4014 * 
uµ”
 = 
Ãw
 [
v¬Num
];

4015 * 
low”
 = 
Ãw
 [
v¬Num
];

4016 
k
 = 0; k < 
v¬Num
; k++)

4018 
uµ”
[
k
] = 
cÚtAtomRªge_
[
hybridCÚtCÏu£_
[
i
][k]-1].
high
;

4019 
low”
[
k
] = 
cÚtAtomRªge_
[
hybridCÚtCÏu£_
[
i
][k]-1].
low
;

4021 
lbfg¥
.
	`£tUµ”Bounds
(
uµ”
);

4022 
lbfg¥
.
	`£tLow”Bounds
(
low”
);

4029 ià(
hybridCÏu£Co¡_
[
i
] > 0)

4031 
¶
.
	`MuÉlyCÚ¡
(-1.0);

4034 
™”
;

4035 
boŞ
 
b”rÜ
;

4036 
f
 = 
lbfg¥
.
	`mšimize
(
™”
, 
b”rÜ
, 
¶
);

4038 
lbfgsCache_
[
i
].
	`cİyFrom
(
¶
.
	`G‘V¬V®ue
());

4039 if(
hybridCÏu£Co¡_
[
i
] > 0è
f
 *= -1.0;

4040 
hmwsCÚtO±im®_
[
i
] = 
f
;

4041 ià((
f
 > 0 && 
hybridCÏu£Co¡_
[
i
] > 0) ||

4042 (
hybridCÏu£Co¡_
[
i
] < 0 && 
f
 < 0))

4044 
hmwsDisO±im®_
[
i
] = 
Œue
;

4046 ià((
f
 > 0 && 
hybridCÏu£Co¡_
[
i
] < 0) ||

4047 (
hybridCÏu£Co¡_
[
i
] > 0 && 
f
 < 0))

4049 
hmwsDisO±im®_
[
i
] = 
çl£
;

4052 
d–‘e
[] 
uµ”
;

4053 
d–‘e
[] 
low”
;

4055 
	}
}

4066 
ReduûCÏu£AndO±imize
(cÚ¡ 
A¼ay
<>& 
cÚtV¬Idx
,

4067 
A¼ay
<>& 
assign
)

4069 ià(
	ghvsdebug
) {

4070 
	gcout
 << "EÁ”šg ReduûCÏu£AndO±imiz...." << 
	g’dl
;

4072 
	g£t
<> 
	gocc
;

4073 
	gi
 = 0; i < 
	gcÚtV¬Idx
.
size
(); i++)

4075 
	gA¼ay
<>& 
	g¬
 = 
g‘CÚtCÚtOccu»nûA¼ay
(
cÚtV¬Idx
[
i
]);

4076 
	gj
 = 0; j < 
	g¬
.
size
(); j++)

4078 ià(
	gocc
.
fšd
(
¬
[
j
]è=ğ
occ
.
’d
())

4080 
occ
.
š£¹
(
¬
[
j
]);

4085 
PŞyNomŸl
 
	g¶
;

4086 
	gÜgSum
 = 0;

4087 
	g£t
<>::
™”©Ü
 
™
 = 
occ
.
begš
(); 
	g™
 !ğocc.
’d
(); ++it)

4089 
	gcÚtCÏu£Idx
 = *
™
;

4090 ià(
	ghybridCÏu£DisV®ue_
[
cÚtCÏu£Idx
] =ğ
çl£
) {

4093 
PŞyNomŸl
 
	g¶tmp
 = 
hybridPls_
[
cÚtCÏu£Idx
];

4094 
	g¶tmp
.
MuÉlyCÚ¡
(
hybridWts_
[
cÚtCÏu£Idx
]);

4095 
	g¶
.
AddPl
(
¶tmp
);

4096 
	gÜgSum
 +ğ
hybridCÏu£V®ue_
[
cÚtCÏu£Idx
];

4099 ià(
	g¶
.
G‘V¬Num
() == 0)

4101 
cout
 << "NØhybrid„uË i aùiv©ed ..." << 
’dl
;

4102  
	gNOVALUE
;

4106 
	g¶
.
MuÉlyCÚ¡
(-1.0);

4107 
LBFGSP
 
lbfg¥
(-1, -1, 
¶
.
G‘V¬Num
());

4108 * 
	guµ”
 = 
Ãw
 [
¶
.
G‘V¬Num
()];

4109 * 
	glow”
 = 
Ãw
 [
¶
.
G‘V¬Num
()];

4110 
	gk
 = 0; k < 
	g¶
.
G‘V¬Num
(); ++k)

4112 
	guµ”
[
k
] = 10000;

4113 
	glow”
[
k
] = -10000;

4116 
	glbfg¥
.
£tUµ”Bounds
(
uµ”
);

4117 
	glbfg¥
.
£tLow”Bounds
(
low”
);

4119 
	g™”
;

4120 
boŞ
 
	gb”rÜ
;

4121 
	gf
 = 
lbfg¥
.
mšimize
(
™”
, 
b”rÜ
, 
¶
);

4122 
	gd–‘e
[] 
	guµ”
;

4123 
	gd–‘e
[] 
	glow”
;

4125 
	gassign
.
ş—r
();

4126 
	gassign
.
cİyFrom
(
¶
.
G‘V¬V®ue
());

4128 ià(
	ghvsdebug
) {

4129 
	gcout
 << "L—všg ReduûCÏu£AndO±imiz...." << 
	g’dl
;

4132  
	gf
*(-1.0è- 
	gÜgSum
;

4137 
	$ReduûCÏu£AndO±imize
(cÚ¡ & 
cÚtV¬Idx
, * 
assign
)

4139 ià(
hvsdebug
) {

4140 
cout
 << "EÁ”šg ReduûCÏu£AndO±imiz...." << 
’dl
;

4142 
£t
<> 
occ
;

4143 
A¼ay
<>& 
¬
 = 
	`g‘CÚtCÚtOccu»nûA¼ay
(
cÚtV¬Idx
);

4144 
j
 = 0; j < 
¬
.
	`size
(); ++j)

4146 ià(
occ
.
	`fšd
(
¬
[
j
]è=ğocc.
	`’d
())

4148 
occ
.
	`š£¹
(
¬
[
j
]);

4152 
PŞyNomŸl
 
¶
;

4153 
ÜgSum
 = 0;

4154 
£t
<>::
™”©Ü
 
™
 = 
occ
.
	`begš
(); iˆ!ğocc.
	`’d
(); ++it)

4156 
cÚtCÏu£Idx
 = *
™
;

4157 ià(
hybridCÏu£DisV®ue_
[
cÚtCÏu£Idx
] =ğ
çl£
 || 
hybridWts_
[contClauseIdx] == 0) {

4160 
curInIdx
 = -1;

4161 
A¼ay
<> 
v¬_v®ue
;

4162 
i
 = 0; i < 
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
].
	`size
(); ++i) {

4163 
cÚt_v¬_idx
 = 
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
][
i
];

4164 
v¬_v®ue
.
	`­³nd
(
cÚtAtoms_
[
cÚt_v¬_idx
]);

4165 ià(
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
][
i
] =ğ
cÚtV¬Idx
) {

4166 
curInIdx
 = 
i
;

4170 ià(
curInIdx
 == -1) {

4171  
NOVALUE
;

4174 
PŞyNomŸl
 
¶tmp
 = 
hybridPls_
[
cÚtCÏu£Idx
];

4175 
¶tmp
.
	`MuÉlyCÚ¡
(
hybridWts_
[
cÚtCÏu£Idx
]);

4176 
¶tmp
.
	`ReduûToOÃV¬
(
v¬_v®ue
, 
curInIdx
);

4178 
¶
.
	`AddPl
(
¶tmp
);

4179 
ÜgSum
 +ğ
hybridCÏu£V®ue_
[
cÚtCÏu£Idx
];

4182 ià(
¶
.
	`G‘V¬Num
() != 1) {

4184  
NOVALUE
;

4187 
¶
.
	`MuÉlyCÚ¡
(-1.0);

4188 
LBFGSP
 
	`lbfg¥
(-1, -1, 1);

4189 
uµ”
 = 10000000;

4190 
low”
 = -10000000;

4192 
lbfg¥
.
	`£tUµ”Bounds
(&
uµ”
);

4193 
lbfg¥
.
	`£tLow”Bounds
(&
low”
);

4195 
™”
;

4196 
boŞ
 
b”rÜ
;

4197 
f
 = 
lbfg¥
.
	`mšimize
(
™”
, 
b”rÜ
, 
¶
);

4199 *
assign
 = 
¶
.
	`G‘V¬V®ue
(0);

4200 ià(
hvsdebug
) {

4201 
cout
 << "L—všg ReduûCÏu£AndO±imiz...." << 
’dl
;

4204  
f
*(-1.0è- 
ÜgSum
;

4205 
	}
}

4207 
	$O±imizeHybridCÏu£ToCÚtV¬
(
şau£_idx
, 
cÚt_v¬_šIdx
) {

4209 
PŞyNomŸl
 
¶
 = 
hybridPls_
[
şau£_idx
];

4210 
A¼ay
<> 
v¬_v®ue
;

4211 
i
 = 0; i < 
hybridCÚtCÏu£_
[
şau£_idx
].
	`size
(); ++i) {

4212 
cÚt_v¬_idx
 = 
hybridCÚtCÏu£_
[
şau£_idx
][
i
];

4213 
v¬_v®ue
.
	`­³nd
(
cÚtAtoms_
[
cÚt_v¬_idx
]);

4215 
¶
.
	`S‘V¬V®ue
(
v¬_v®ue
);

4216 
¶
.
	`ReduûToOÃV¬
(
cÚt_v¬_šIdx
);

4217 
LBFGSP
 
	`lbfg¥
(-1,-1, 
¶
.
	`G‘V¬Num
());

4218 * 
uµ”
 = 
Ãw
 [
¶
.
	`G‘V¬Num
()];

4219 * 
low”
 = 
Ãw
 [
¶
.
	`G‘V¬Num
()];

4220 
k
 = 0; k < 
¶
.
	`G‘V¬Num
(); k++)

4222 
uµ”
[
k
] = 10000;

4223 
low”
[
k
] = -10000;

4225 
lbfg¥
.
	`£tUµ”Bounds
(
uµ”
);

4226 
lbfg¥
.
	`£tLow”Bounds
(
low”
);

4228 
™”
;

4229 
boŞ
 
b”rÜ
;

4230 
lbfg¥
.
	`mšimize
(
™”
, 
b”rÜ
, 
¶
);

4232 
d–‘e
[] 
uµ”
;

4233 
d–‘e
[] 
low”
;

4234  
¶
.
v¬V®ue_
[0];

4235 
	}
}

4237 
	$g‘Im´ovem’tByFlpšgDisHMWS
(cÚ¡ & 
©omIdx
)

4239 
	`as£¹
(
©omIdx
 > 0);

4240 
im´ovem’tDis
 = 
makeCo¡_
[
©omIdx
] - 
b»akCo¡_
[atomIdx];

4241 
im´ovem’tCÚt
 = 
	`g‘DisIm´oveInHybridByFlpšgHMWS
(
©omIdx
);

4242  
im´ovem’tDis
 + 
im´ovem’tCÚt
;

4243 
	}
}

4247 
	$g‘DisIm´oveInHybridByFlpšgHMWS
(cÚ¡ & 
©omIdx
)

4249 
im´ovem’t
 = 0;

4250 
i
 = 0; i < 
hybridDisOccu¼’û_
[
©omIdx
].
	`size
(); i++)

4252 
cÚtCÏu£Idx
 = 
hybridDisOccu¼’û_
[
©omIdx
][
i
];

4253 ià(
hybridWts_
[
cÚtCÏu£Idx
] == 0) ;

4254 
hybridCÏu£V®ueBefÜeFl
 = 
	`HybridCÏu£V®ue
(
cÚtCÏu£Idx
);

4255 
©om_
[
©omIdx
] = !atom_[atomIdx];

4256 
hybridCÏu£V®ueAá”Fl
 = 
	`HybridCÏu£V®ue
(
cÚtCÏu£Idx
);

4257 
im´ovem’t
 +ğ
hybridCÏu£V®ueAá”Fl
 - 
hybridCÏu£V®ueBefÜeFl
;

4258 
©om_
[
©omIdx
] = !atom_[atomIdx];

4260  
im´ovem’t
;

4261 
	}
}

4263 
	$g‘RªdomF®£CÏu£IndexHMWS
()

4265 
tÙ®F®£CÏu£Num
 = 
numF®£CÏu£s_
 + 
hybridCÏu£Num_
;

4266 
idx
 = 
	`¿ndom
(è% 
tÙ®F®£CÏu£Num
;

4268 ià(
idx
 < 
numF®£CÏu£s_
)

4270  
çl£CÏu£_
[
idx
] + 1;

4274  -(
idx
 - 
numF®£CÏu£s_
 + 1);

4276 
	}
}

4279 
	$g‘CÚtV¬V®ueByRªdomMove
(cÚ¡ & 
©omIdx
)

4281 
vLa¡CÚt
 = 
cÚtAtoms_
[
©omIdx
];

4282 
¡dev
 = 
´İo§lStdev_
[
©omIdx
];

4283 
vCÚtAtomFl³d
 = 
ExtRªdom
::
	`gaussRªdom
(
vLa¡CÚt
, 
¡dev
);

4284  
vCÚtAtomFl³d
;

4285 
	}
}

4288 
	gA¼ay
<>& 
	$g‘CÚtDisOccu»nûA¼ay
(cÚ¡ & 
idx
)

4290  
hybridDisOccu¼’û_
[
idx
];

4291 
	}
}

4294 
	gA¼ay
<>& 
	$g‘CÚtCÚtOccu»nûA¼ay
(cÚ¡ & 
idx
)

4296  
hybridCÚtOccu¼’û_
[
idx
];

4297 
	}
}

4303 cÚ¡ 
	$g‘MaxCÏu£WeightTÙ®
()

4305 
maxWeight
 = 0.0;

4306 
i
 = 0; i < 
	`g‘NumCÏu£s
(); i++)

4308 
weight
 = 
	`abs
(
şau£Co¡_
[
i
]);

4309 ià(
weight
 > 
maxWeight
) maxWeight = weight;

4312 
i
 = 0; i < 
hybridCÏu£Num_
; i++)

4314 
weight
 = 
	`abs
(
hybridCÏu£Co¡_
[
i
]);

4315 ià(
weight
 > 
maxWeight
) maxWeight = weight;

4317  
maxWeight
;

4318 
	}
}

4323 cÚ¡ 
	$g‘LowCo¡AÎ
()

4325  
lowCo¡AÎ_
;

4326 
	}
}

4331 cÚ¡ 
	$g‘LowBadAÎ
()

4333  
lowBadAÎ_
;

4334 
	}
}

4337 cÚ¡ 
	$g‘LowCo¡CÚt
()

4339  
lowCo¡Hybrid_
;

4340 
	}
}

4345 cÚ¡ 
	$g‘LowBadCÚt
()

4347  
lowBadHybrid_
;

4348 
	}
}

4350 
	$´štF®£CÏu£s
(
o¡»am
& 
os
)

4352 
os
 << "di çl£ cÏu£s:" << 
’dl
;

4353 
i
 = 0; i < 
numF®£CÏu£s_
; i++)

4355 
fcIdx
 = 
çl£CÏu£_
[
i
];

4356 
GroundCÏu£
* 
pC
 = 
	`g‘GndCÏu£
(
fcIdx
);

4357 
os
 << "şau£ " << 
fcIdx
 << ":";
pC
->
	`´štW™hWtAndSŒV¬
(os, 
domaš_
, &
gndP»dHashA¼ay_
);

4358 
os
 << " ";

4359 
j
 = 0; j < 
şau£_
[
fcIdx
].
	`size
(); j++)

4361 
´edIdx
 = 
	`abs
(
şau£_
[
fcIdx
][
j
]);

4362 (*
gndP»ds_
)[
´edIdx
-1]->
	`´št
(
os
, 
domaš_
);

4363 
os
 << ": " << 
©om_
[
´edIdx
] <<"; ";

4365 
os
 << 
’dl
;

4367 
os
 << "cÚˆçl£ cÏu£s:" << 
’dl
;

4368 
i
 = 0;˜< 
hybridF®£CÚ¡¿štNum_
; i++)

4370 
fcIdx
 = 
hybridF®£CÏu£_
[
i
];

4371 
	`´štHybridCÚ¡¿št
(
fcIdx
, 
os
);

4372 
os
 << 
’dl
;

4375 
	}
}

4380 
	$§veLowToCu¼’tAÎ
()

4382 
	`§veLowToCu¼’tDis
();

4383 
	`§veLowToCu¼’tCÚt
();

4384 
co¡OfTÙ®F®£CÚ¡¿šts_
 = 
lowCo¡AÎ_
;

4385 
tÙ®F®£CÚ¡¿štNum_
 = 
lowBadAÎ_
;

4386 
	}
}

4388 
	$§veLowToCu¼’tDis
()

4390 
©om_
.
	`cİyFrom
(
lowAtom_
);

4391 
co¡OfF®£CÏu£s_
ğ
lowCo¡_
;

4392 
numF®£CÏu£s_
 = 
lowBad_
;

4393 
çl£CÏu£_
.
	`cİyFrom
(
çl£CÏu£Low_
);

4394 
	}
}

4396 
	$§veLowToCu¼’tCÚt
()

4398 
cÚtAtomsBackup_
.
	`cİyFrom
(
cÚtAtoms_
);

4399 
cÚtAtoms_
.
	`cİyFrom
(
cÚtAtomsLow_
);

4400 
co¡HybridF®£CÚ¡¿št_
 = 
lowCo¡Hybrid_
;

4401 
hybridF®£CÚ¡¿štNum_
 = 
lowBadHybrid_
;

4402 
hybridF®£CÏu£_
.
	`cİyFrom
(
hybridF®£CÏu£Low_
);

4403 
	}
}

4406 
	$§veLowS‹AÎ
()

4408 
	`§veLowS‹
();

4409 
	`§veLowS‹CÚt
();

4411 
lowCo¡AÎ_
 = 
co¡OfTÙ®F®£CÚ¡¿šts_
 ;

4412 
lowBadAÎ_
 = 
tÙ®F®£CÚ¡¿štNum_
 ;

4413 
	}
}

4415 
	$§veLowS‹CÚt
()

4417 
i
 = 1; i <ğ
cÚtAtomNum_
; i++)

4419 
cÚtAtomsLow_
[
i
] = 
cÚtAtoms_
[i];

4420 ià(
hvsdebug
è
cout
 << 
cÚtAtomsLow_
[
i
] << 
’dl
;

4422 
lowCo¡Hybrid_
 = 
co¡HybridF®£CÚ¡¿št_
;

4423 
lowBadHybrid_
 = 
hybridF®£CÚ¡¿štNum_
;

4424 
hybridF®£CÏu£Low_
.
	`cİyFrom
(
hybridF®£CÏu£_
);

4425 
	}
}

4430 
	$§veCu¼’tAsLa¡Assignm’t
()

4432 
©omsLa¡_
.
	`cİyFrom
(
©om_
);

4433 
cÚtAtomsLa¡_
.
	`cİyFrom
(
cÚtAtoms_
);

4434 
	}
}

4436 
	$§veLa¡AsCu¼’tAssignm’t
()

4438 
©om_
.
	`cİyFrom
(
©omsLa¡_
);

4439 
cÚtAtoms_
.
	`cİyFrom
(
cÚtAtomsLa¡_
);

4440 
	}
}

4441 
	$upd©eCo¡
()

4443 
hybridF®£CÚ¡¿štNum_
 = 0;

4444 
co¡HybridF®£CÚ¡¿št_
 = 0;

4445 
tÙ®F®£CÚ¡¿štNum_
 = 0;

4446 
co¡OfTÙ®F®£CÚ¡¿šts_
 = 0;

4447 
numF®£CÏu£s_
 = 0;

4448 
co¡OfF®£CÏu£s_
 = 0;

4449 
weightSumCÚt_
 = 0;

4450 
weightSumDis_
 = 0;

4451 
	`š™MakeB»akCo¡W©ch
();

4452 
	`š™MakeB»akCo¡W©chCÚt
();

4453 
	}
}

4458 
g‘CÚtCÏu£Gndšgs
(
A¼ay
<>* cÚ¡ & 
numGndšgs
)

4460 
as£¹
(
numGndšgs
->
size
(è=ğ
hybridFÜmuÏNum_
);

4462 
	gi
 = 0; i < 
	ghybridFÜmuÏNum_
; i++)

4465 
	gA¼ay
<>& 
	g¬
 = 
hybridFÜmuÏGndCÏu£Idx_
[
i
];

4466 
	gv
 = 0;

4467 
	gj
 = 0; j < 
	g¬
.
size
(); j++)

4469 
	gv
 +ğ
hybridCÏu£V®ue_
[
¬
[
j
]];

4472 (*
	gnumGndšgs
)[
i
] +ğ
v
;

4476 
g‘CÚtCÏu£GndšgsW™hUnknown
(
numGndšgs
[], 
cÚtCÏu£CÁ
,

4477 cÚ¡ 
A¼ay
<
boŞ
>* cÚ¡& 
unknownP»d
)

4479 
as£¹
(
unknownP»d
->
size
(è=ğ
g‘NumAtoms
());

4480 
as£¹
(
cÚtCÏu£CÁ
 =ğ
g‘NumCÚtFÜmuÏs
());

4482 
	gşau£no
 = 0; cÏu£nØ< 
	gcÚtCÏu£CÁ
; clauseno++)

4483 
	gnumGndšgs
[
şau£no
] = 0;

4484 
	gi
 = 0; i < 
	gcÚtCÏu£CÁ
; i++)

4486 
	gA¼ay
<>& 
	g¬
 = 
hybridFÜmuÏGndCÏu£Idx_
[
i
];

4487 
	gj
 = 0;j < 
	g¬
.
size
(); j++)

4489 
	gcÚtCÏu£Idx
 = 
¬
[
j
];

4490 
	gA¼ay
<>& 
	gcÚtDis
 = 
hybridDisCÏu£_
[
cÚtCÏu£Idx
];

4491 
boŞ
 
	gbUnknown
 = 
çl£
;

4492 
	g§tL™út
 = 0;

4493 
	gk
 = 0; k < 
	gcÚtDis
.
size
(); k++)

4495 
	gl™
 = 
cÚtDis
[
k
];

4496 ià((*
	gunknownP»d
)[
abs
(
l™
) - 1])

4498 
	gbUnknown
 = 
Œue
;

4501 ià(
isTrueL™”®
(
l™
)è
	g§tL™út
++;

4503 ià(
	ghybridCÚjunùiÚDisjunùiÚ_
[
cÚtCÏu£Idx
])

4505 ià(
	gbUnknown
)

4507 
	gcout
 << "unknown, shouldn'ˆbh”e" << 
	g’dl
;

4510 ià(
	g§tL™út
 < 
	gcÚtDis
.
size
())

4512 
	gnumGndšgs
[
i
] += 0;

4516 
	gnumGndšgs
[
i
] +ğ
HybridCÏu£V®ueNÚWt
(
cÚtCÏu£Idx
);

4521 ià(
	g§tL™út
 > 0)

4523 
	gnumGndšgs
[
i
] +ğ
HybridCÏu£V®ueNÚWt
(
cÚtCÏu£Idx
);

4525 ià(
	gbUnknown
)

4527 
	gcout
 << "unknown, shouldn'ˆbh”e" << 
	g’dl
;

4532 
	gnumGndšgs
[
i
] += 0;

4550 
g‘NumCÏu£GndšgsW™hUnknown
(
numGndšgs
[], 
şau£CÁ
,

4551 
boŞ
 
tv
,

4552 cÚ¡ 
A¼ay
<
boŞ
>* cÚ¡& 
unknownP»d
)

4555 
as£¹
(
unknownP»d
->
size
(è=ğ
g‘NumAtoms
());

4556 
IÁBoŞPaœIŒ
 
	g™r
;

4557 
IÁBoŞPaœ
 *
	gşau£F»qu’c›s
;

4559 
	gşau£no
 = 0; cÏu£nØ< 
	gşau£CÁ
; clauseno++)

4560 
	gnumGndšgs
[
şau£no
] = 0;

4562 
	gi
 = 0; i < 
	ggndCÏu£s_
->
size
(); i++)

4564 
GroundCÏu£
 *
	ggndCÏu£
 = (*
gndCÏu£s_
)[
i
];

4565 
	g§tL™út
 = 0;

4566 
boŞ
 
	gunknown
 = 
çl£
;

4567 
	gj
 = 0; j < 
	ggndCÏu£
->
g‘NumGroundP»diÿ‹s
(); j++)

4569 
	gl™
 = 
gndCÏu£
->
g‘GroundP»diÿ‹Index
(
j
);

4570 ià((*
	gunknownP»d
)[
abs
(
l™
) - 1])

4572 
	gunknown
 = 
Œue
;

4575 ià(
isTrueL™”®
(
l™
)è
	g§tL™út
++;

4578 
	gşau£F»qu’c›s
 = 
gndCÏu£
->
g‘CÏu£F»qu’c›s
();

4579 
	g™r
 = 
şau£F»qu’c›s
->
begš
();

4580 
	g™r
 !ğ
şau£F»qu’c›s
->
’d
(); itr++)

4582 
	gşau£no
 = 
™r
->
fœ¡
;

4583 
	gäequ’cy
 = 
™r
->
£cÚd
.
fœ¡
;

4584 
boŞ
 
	gšv”tWt
 = 
™r
->
£cÚd
.second;

4586 ià(
	gšv”tWt
)

4589 ià(
	gtv
 && (
	g§tL™út
 > 0 || 
	gunknown
))

4592 ià(!
	gtv
 && 
	g§tL™út
 == 0)

4598 ià(
	gtv
 && 
	g§tL™út
 == 0)

4601 ià(!
	gtv
 && (
	g§tL™út
 > 0 || 
	gunknown
))

4604 
	gnumGndšgs
[
şau£no
] +ğ
äequ’cy
;

4611 
	$´štLowS‹CÚt
(
o¡»am
& 
os
)

4613 
i
 = 0; i < 
cÚtAtomNum_
; i++)

4615 
m­
<,
¡ršg
>::
cÚ¡_™”©Ü
 
c™”
 = 
gndP»dRev”£CÚt_
.
	`fšd
(
i
+1);

4616 
os
 << 
c™”
->
£cÚd
 << " " <<
cÚtAtoms_
[
i
+1] << 
’dl
;

4618 
	}
}

4620 
	$´štLowS‹AÎ
(
o¡»am
& 
os
)

4622 
	`´štLowS‹
(
os
);

4623 
	`´štLowS‹CÚt
(
os
);

4624 
	}
}

4626 cÚ¡ 
	$£tB»akH¬dCÏu£s
(cÚ¡ 
boŞ
& 
b»akH¬dCÏu£s
)

4628 
b»akH¬dCÏu£s_
 = 
b»akH¬dCÏu£s
;

4629 
	}
}

4639 
»cÜdAtomMakeDisCÏu£F®£
(
şau£Idx
, 
A¼ay
<>* 
»cÜd
)

4641 
RecÜdAtomMakeCÏu£F®£
(
hybridDisCÏu£_
[
şau£Idx
], 
©om_
,

4642 
hybridCÚjunùiÚDisjunùiÚ_
[
şau£Idx
], 
»cÜd
);

4648 
»cÜdAtomMakeDisCÏu£True
(
şau£Idx
, 
A¼ay
<>* 
»cÜd
)

4650 
RecÜdAtomMakeCÏu£True
(
hybridDisCÏu£_
[
şau£Idx
], 
©om_
,

4651 
hybridCÚjunùiÚDisjunùiÚ_
[
şau£Idx
], 
»cÜd
);

4654 
	$HybridCÏu£V®ueNÚWt
(
cÚtCÏu£Idx
)

4656  
	`HybridCÏu£CÚtP¬tV®ue
(
cÚtCÏu£Idx
) *

4657 (
	`HybridCÏu£DisP¬tV®ue
(
cÚtCÏu£Idx
));

4658 
	}
}

4660 
	$HybridCÏu£V®ue
(
cÚtCÏu£Idx
, 
boŞ
& 
dis
, & 
cÚt
)

4662 
dis
 = 
	`HybridCÏu£DisP¬tV®ue
(
cÚtCÏu£Idx
);

4663 
cÚt
 = 
	`HybridCÏu£CÚtP¬tV®ue
(
cÚtCÏu£Idx
);

4664 ià(0 =ğ
dis
)

4667  
hybridWts_
[
cÚtCÏu£Idx
] * (
dis
è* 
cÚt
;

4668 
	}
}

4670 
	$HybridCÏu£V®ue
(
cÚtCÏu£Idx
)

4672 
boŞ
 
dis
 = 0;

4673 
cÚt
 = 0;

4674  
	`HybridCÏu£V®ue
(
cÚtCÏu£Idx
, 
dis
, 
cÚt
);

4675 
	}
}

4677 
	$HybridCÏu£CÚtP¬tV®ue
(
cÚtCÏu£Idx
)

4679 
PŞyNomŸl
& 
¶
 = 
	`G‘HybridCÏu£PŞynomŸl
(
cÚtCÏu£Idx
);

4680 
	`as£¹
(
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
].
	`size
(è=ğ
¶
.
	`G‘V¬Num
());

4681 
A¼ay
<> 
cÚt_v¬_v®ues
;

4682 
i
 = 0; i < 
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
].
	`size
(); i++)

4684 
cÚt_v¬_v®ues
.
	`­³nd
(
cÚtAtoms_
[
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
][
i
]]);

4686  
¶
.
	`Compu‹PlV®ue
(
cÚt_v¬_v®ues
);

4687 
	}
}

4689 
boŞ
 
	$HybridCÏu£DisP¬tV®ue
(
cÚtCÏu£Idx
)

4691 
A¼ay
<>& 
cÚtDisCÏu£
 = 
hybridDisCÏu£_
[
cÚtCÏu£Idx
];

4692 
boŞ
 
bCÏu£
;

4693 ià(
hybridCÚjunùiÚDisjunùiÚ_
[
cÚtCÏu£Idx
])

4695 
bCÏu£
 = 
Œue
;

4696 
i
 = 0; i < 
cÚtDisCÏu£
.
	`size
(); i++)

4698 
boŞ
 
b
 = (
©om_
[
	`abs
(
cÚtDisCÏu£
[
i
])] == (contDisClause[i] > 0));

4699 ià(!
b
)

4701 
bCÏu£
 = 
çl£
;

4708 
bCÏu£
 = 
çl£
;

4709 
i
 = 0; i < 
cÚtDisCÏu£
.
	`size
(); i++)

4711 
boŞ
 
b
 = (
©om_
[
	`abs
(
cÚtDisCÏu£
[
i
])] == (contDisClause[i] > 0));

4712 ià(
b
)

4714 
bCÏu£
 = 
Œue
;

4720  
bCÏu£
;

4721 
	}
}

4723 
	gPŞyNomŸl
& 
	$G‘HybridCÏu£PŞynomŸl
(
cÚtCÏu£Idx
)

4725  
hybridPls_
[
cÚtCÏu£Idx
];

4726 
	}
}

4730 
boŞ
 
	$isS©isf›d
(
iCÚtCÏu£Idx
)

4732  
	`isS©isf›d
(
hybridCÚ¡¿šts_
[
iCÚtCÏu£Idx
]);

4733 
	}
}

4741 
boŞ
 
	$isS©isf›d
(cÚ¡ 
HybridCÚ¡¿št
& 
c¡
, 
v®ue
)

4743 
	`as£¹
(
hybridWts_
[
c¡
.
cÚtCÏu£Idx_
] != 0);

4744 ià(
v®ue
 >ğ
c¡
.
vTh»shŞd_
)

4746  
Œue
;

4748  
çl£
;

4749 
	}
}

4752 
boŞ
 
	$CheckIfLBFGSCacheS©isf›d
(
cÚtCÏu£Idx
)

4756 
PŞyNomŸl
 
¶
 = 
hybridPls_
[
cÚtCÏu£Idx
];

4757 
¶
.
	`S‘V¬V®ue
(
lbfgsCache_
[
cÚtCÏu£Idx
]);

4758 
¶V®ue
 = 
¶
.
	`Compu‹PlV®ue
();

4759 
boŞ
 
dis
 = 
	`HybridCÏu£DisP¬tV®ue
(
cÚtCÏu£Idx
);

4760  
	`isS©isf›d
(
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
],

4761 
¶V®ue
 * (
dis
));

4762 
	}
}

4765 
boŞ
 
	$isS©isf›d
(cÚ¡ 
HybridCÚ¡¿št
& 
c¡
)

4768 
cÚt
;

4769 
boŞ
 
dis
;

4770 
cu¼’tV®ue
 = 
	`HybridCÏu£V®ue
(
c¡
.
cÚtCÏu£Idx_
,
dis
, 
cÚt
);

4771  
	`isS©isf›d
(
c¡
, 
cu¼’tV®ue
);

4772 
	}
}

4774 
LßdDisP¬tAtoms
(cÚ¡ 
¡ršg
 & 
¡r
, 
A¼ay
<>& 
¬Dis
,

4775 
m­
<
¡ršg
, >& 
gndP»dCÚt
, cÚ¡ & 
şau£Idx
)

4779 
¡ršg¡»am
 
s
(
¡r
);

4780 
¡ršg
 
	g¡rP»d
;

4781 
g‘lše
(
s
, 
¡rP»d
, ';'))

4783 
boŞ
 
	gbF®£
 = 
çl£
;

4784 ià(
	g¡rP»d
[0] == '!')

4786 
¡rP»d
 = sŒP»d.
sub¡r
(1, sŒP»d.
Ëngth
() - 1);

4787 
	gbF®£
 = 
Œue
;

4790 
	gm­
<
	g¡ršg
, >::
cÚ¡_™”©Ü
 
c™”
;

4791 
	gc™”
 = 
gndP»dCÚt
.
fšd
(
¡rP»d
);

4794 ià(
	gc™”
 =ğ
gndP»dCÚt
.
’d
())

4796 
cout
 << "un£’ di ´ediÿ‹:" <<
¡rP»d
 << 
’dl
;

4799 
as£¹
(
c™”
 !ğ
gndP»dCÚt
.
’d
());

4801 ià(
	gbF®£
)

4803 
	g¬Dis
.
­³nd
(-1*
c™”
->
£cÚd
);

4807 
	g¬Dis
.
­³nd
(
c™”
->
£cÚd
);

4809 
	ghybridDisOccu¼’û_
[
c™”
->
£cÚd
].
­³nd
(
şau£Idx
);

4813 
LßdCÚtP¬tAtoms
(cÚ¡ 
¡ršg
 & 
¡r
, 
A¼ay
<>& 
¬Dis
)

4815 
¡ršg¡»am
 
s
(
¡r
);

4816 
¡ršg
 
	g¡rP»d
;

4817 
g‘lše
(
s
, 
¡rP»d
, ';'))

4819 
	gcÚtAtomNum
 = 
gndP»dCÚt_
.
size
();

4820 
	gm­
<
	g¡ršg
, >::
cÚ¡_™”©Ü
 
c™”
;

4821 ià((
	gc™”
 = 
gndP»dCÚt_
.
fšd
(
¡rP»d
)è!ğgndP»dCÚt_.
’d
())

4823 
¬Dis
.
­³nd
(
c™”
->
£cÚd
);

4827 
	ggndP»dCÚt_
.
š£¹
(
m­
<
¡ršg
,>::
v®ue_ty³
(
¡rP»d
,

4828 
cÚtAtomNum
+1));

4829 
	ggndP»dRev”£CÚt_
.
š£¹
(
m­
<,
¡ršg
>::
v®ue_ty³
(
cÚtAtomNum
+1,

4830 
¡rP»d
));

4831 
	g¬Dis
.
­³nd
(
cÚtAtomNum
+1);

4836 
	$´štCÚtAtom
(
cÚAtomIdx
, 
o¡»am
& 
os
)

4838 
m­
<, 
¡ršg
>::
cÚ¡_™”©Ü
 
c™”
;

4839 
c™”
 = 
gndP»dRev”£CÚt_
.
	`fšd
(
cÚAtomIdx
);

4840 
os
 << 
c™”
->
£cÚd
 << ": " << 
cÚtAtoms_
[c™”->
fœ¡
] << "; ";

4841 
	}
}

4843 
	$´štCÚtAtoms
(
o¡»am
& 
os
)

4845 
m­
<, 
¡ršg
>::
cÚ¡_™”©Ü
 
c™”
;

4846 
c™”
 = 
gndP»dRev”£CÚt_
.
	`begš
();

4847 
c™”
 !ğ
gndP»dRev”£CÚt_
.
	`’d
(); ++citer)

4849 
os
 << 
c™”
->
£cÚd
 << ": " << 
cÚtAtoms_
[c™”->
fœ¡
] << "; ";

4851 
	}
}

4853 
	$PrštDisAtoms
(
o¡»am
& 
os
)

4855 
i
 = 0; i < 
	`g‘NumAtoms
(); i++)

4857 (*
gndP»ds_
)[
i
]->
	`´št
(
os
, 
domaš_
);

4858 
os
 << ": " << 
©om_
[
i
+1] <<"; ";

4860 
	}
}

4862 
	$PrštCÚtP¬tMLN
(
o¡»am
& 
os
)

4864 
i
 = 0;˜< 
hybridCÏu£Num_
; i++)

4866 
os
 << 
hybridCÚjunùiÚDisjunùiÚ_
[
i
] << '|' << 
hybridWts_
[i] << '|';

4867 
j
 = 0; j < 
hybridDisCÏu£_
[
i
].
	`size
(); j++)

4869 (*
gndP»ds_
)[
	`abs
(
hybridDisCÏu£_
[
i
][
j
])-1]->
	`´št
(
os
, 
domaš_
);

4870 
os
 << ';';

4872 
os
 << '|';

4873 
j
 = 0; j < 
hybridCÚtCÏu£_
[
i
].
	`size
(); j++)

4875 
os
 << 
gndP»dRev”£CÚt_
[
hybridCÚtCÏu£_
[
i
][
j
]] <<';';

4877 
os
 << '|';

4878 
hybridPls_
[
i
].
	`PrštTo
(
os
);

4879 
os
 << 
’dl
;

4881 
	}
}

4883 
	$´štCÚtOccu¼’û
(
o¡»am
& 
os
)

4885 
os
 << "Di occur,‡toms: " << 
hybridDisOccu¼’û_
.
	`size
(è- 1 << 
’dl
;

4886 
i
 = 1; i < 
hybridDisOccu¼’û_
.
	`size
(); i++)

4888 
os
 << "©om " << 
i
 << " occur © " << 
hybridDisOccu¼’û_
[i].
	`size
()

4890 
j
 = 0; j < 
hybridDisOccu¼’û_
[
i
].
	`size
(); j++)

4891 
os
 << 
hybridDisOccu¼’û_
[
i
][
j
] << " ";

4892 
os
 << 
’dl
;

4895 
os
 << "CÚˆoccur,‡toms: " << 
hybridCÚtOccu¼’û_
.
	`size
(è- 1 << 
’dl
;

4896 
i
 = 1; i < 
hybridCÚtOccu¼’û_
.
	`size
(); i++)

4898 
os
 << "©om " << 
i
 << " occur © " << 
hybridCÚtOccu¼’û_
[i].
	`size
()

4900 
j
 = 0; j < 
hybridCÚtOccu¼’û_
[
i
].
	`size
(); j++)

4901 
os
 << 
hybridCÚtOccu¼’û_
[
i
][
j
] << " ";

4902 
os
 << 
’dl
;

4904 
	}
}

4906 
	$budCÚtOccu¼’û
()

4908 
i
 = 0; i < 
hybridCÚtCÏu£_
.
	`size
(); i++)

4910 
j
 = 0; j < 
hybridCÚtCÏu£_
[
i
].
	`size
(); j++)

4912 
hybridCÚtOccu¼’û_
[
hybridCÚtCÏu£_
[
i
][
j
]].
	`­³nd
(i);

4915 
	}
}

4917 
	$£tDisV¬V®ueFromEvi
()

4919 
i
 = 0; i < 
	`g‘NumAtoms
(); i++)

4921 
©om_
[
i
+1] = 
©omEvi_
[i+1];

4923 
	}
}

4925 
	$£tCÚtV¬V®ueFromEvi
()

4927 
i
 = 0; i < 
cÚtAtomNum_
; i++)

4929 
cÚtAtoms_
[
i
+1] = 
cÚtAtomsEvi_
[i+1];

4931 
	}
}

4933 
	$LßdDisEviV®uesFromR¡
(cÚ¡ * 
szDisEvi
)

4935 
i
 = 1; i < 
©omEvi_
.
	`size
(); i++)

4937 
©omEvi_
[
i
] = 
çl£
;

4939 
m­
<
¡ršg
, > 
gndP»dCÚt
;

4940 
i
 = 0; i < 
gndP»ds_
->
	`size
(); i++)

4942 
¡ršg
 
¡r
 = (*
gndP»ds_
)[
i
]->
	`g‘P»diÿ‹SŒ
(
domaš_
);

4943 
gndP»dCÚt
.
	`š£¹
(
m­
<
¡ršg
, >::
	`v®ue_ty³
(
¡r
, 
i
+1));

4945 
if¡»am
 
	`is
(
szDisEvi
);

4946 
¡ršg
 
¡rLše
;

4947 
	`g‘lše
(
is
, 
¡rLše
))

4949 
¡ršg¡»am
 
	`ss
(
¡rLše
);

4950 
¡ršg
 
¡¹mp
;

4951 
	`g‘lše
(
ss
,
¡¹mp
, ' ');

4954 
m­
<
¡ršg
, >::
cÚ¡_™”©Ü
 
c™”
;

4955 
c™”
 = 
gndP»dCÚt
.
	`fšd
(
¡¹mp
);

4956 ià(
c™”
 =ğ
gndP»dCÚt
.
	`’d
())

4958 
cout
 << "di ev˜f”rÜ,‚Ú-exi¡’ˆqu”y gndšgs" << 
’dl
;

4959 
cout
 << 
¡¹mp
 << 
’dl
;

4960 
	`ex™
(1);

4962 
©omIdx
 = 
c™”
->
£cÚd
;

4965 
	`g‘lše
(
ss
, 
¡¹mp
);

4966 
b
 = 
	`©oi
(
¡¹mp
.
	`c_¡r
());

4967 ià(
b
==1)

4969 
©omEvi_
[
©omIdx
] = 
Œue
;

4973 
©omEvi_
[
©omIdx
] = 
çl£
;

4976 
	}
}

4978 
	$LßdDisEviV®ues
(cÚ¡ * 
szDisEvi
)

4980 
i
 = 1; i < 
©omEvi_
.
	`size
(); i++)

4982 
©omEvi_
[
i
] = 
çl£
;

4984 
m­
<
¡ršg
, > 
gndP»dCÚt
;

4985 
i
 = 0; i < 
gndP»ds_
->
	`size
(); i++)

4987 
¡ršg
 
¡r
 = (*
gndP»ds_
)[
i
]->
	`g‘P»diÿ‹SŒ
(
domaš_
);

4988 
gndP»dCÚt
.
	`š£¹
(
m­
<
¡ršg
, >::
	`v®ue_ty³
(
¡r
, 
i
+1));

4990 
if¡»am
 
	`is
(
szDisEvi
);

4991 
¡ršg
 
¡rLše
;

4992 
	`g‘lše
(
is
, 
¡rLše
))

4999 
m­
<
¡ršg
, >::
cÚ¡_™”©Ü
 
c™”
;

5000 
c™”
 = 
gndP»dCÚt
.
	`fšd
(
¡rLše
);

5001 ià(
c™”
 =ğ
gndP»dCÚt
.
	`’d
())

5003 
cout
 << "di ev˜f”rÜ,‚Ú-exi¡’ˆqu”y gndšgs" << 
’dl
;

5004 
cout
 << 
¡rLše
 << 
’dl
;

5005 
	`ex™
(1);

5007 
©omIdx
 = 
c™”
->
£cÚd
;

5008 
©omEvi_
[
©omIdx
] = 
Œue
;

5021 
	}
}

5023 
	$lßdDisEviV®ues
()

5025 
i
 = 1; i < 
©omEvi_
.
	`size
(); i++)

5026 
©omEvi_
[
i
] = 
çl£
;

5028 
m­
<
¡ršg
, > 
gndP»dCÚt
;

5029 
i
 = 0; i < 
gndP»ds_
->
	`size
(); i++)

5031 
TruthV®ue
 
tv
 = 
domaš_
->
	`g‘DB
()->
	`g‘V®ue
((*
gndP»ds_
)[
i
]);

5032 ià(
tv
 =ğ
TRUE
è
©omEvi_
[
i
+1] = 
Œue
;

5034 
	}
}

5038 
	$LßdCÚtEviV®ues
(
¡ršg
 
szCÚtEvi
)

5040 
m­
<
¡ršg
, >::
cÚ¡_™”©Ü
 
c™”
;

5041 
¡ršg
 
¡rLše
;

5042 
if¡»am
 
	`is
(
szCÚtEvi
.
	`c_¡r
());

5044 
	`g‘lše
(
is
, 
¡rLše
))

5046 
¡ršg¡»am
 
	`ss
(
¡rLše
);

5047 
¡ršg
 
¡rTmp
;

5048 
	`g‘lše
(
ss
, 
¡rTmp
, ' ');

5049 
c™”
 = 
gndP»dCÚt_
.
	`fšd
(
¡rTmp
);

5050 ià(
c™”
 =ğ
gndP»dCÚt_
.
	`’d
())

5052 
	`g‘lše
(
ss
, 
¡rTmp
);

5053 
cÚtAtomsEvi_
[
c™”
->
£cÚd
] = 
	`©of
(
¡rTmp
.
	`c_¡r
());

5055 
	}
}

5058 
	$LßdCÚtMLN
()

5060 
¡ršg
 
¡rLše
;

5062 
i
 = 0; i < 
gndP»ds_
->
	`size
(); i++)

5064 
¡ršg
 
¡r
 = (*
gndP»ds_
)[
i
]->
	`g‘P»diÿ‹SŒ
(
domaš_
);

5065 
gndP»dDis_
.
	`š£¹
(
m­
<
¡ršg
, >::
	`v®ue_ty³
(
¡r
, 
i
+1));

5068 
hybridDisOccu¼’û_
.
	`growToSize
(
	`g‘NumAtoms
() + 1);

5070 
numHCÏu£s
 = 
mÊ_
->
	`g‘NumHybridCÏu£s
();

5071 
i
 = 0; i < 
numHCÏu£s
; i++)

5073 cÚ¡ 
CÏu£
* 
şau£
 = 
mÊ_
->
	`g‘HybridCÏu£
(
i
);

5074 
P»diÿ‹
* 
´ed1
 = 
şau£
->
	`g‘P»diÿ‹
(0);

5075 
P»diÿ‹
* 
´ed2
 = (P»diÿ‹*)
mÊ_
->
	`g‘Num”icP»d
(
i
);

5076 
m—n
 = 
mÊ_
->
	`g‘Num”icM—n
(
i
);

5078 
A¼ay
<
P»diÿ‹
*> 
´edA¼1
;

5079 
´ed1
->
	`ü—‹AÎGroundšgs
(
domaš_
, 
´edA¼1
);

5080 
A¼ay
<
P»diÿ‹
*> 
´edA¼2
;

5081 
´ed2
->
	`ü—‹AÎGroundšgs
(
domaš_
, 
´edA¼2
);

5082 
	`as£¹
(
´edA¼1
.
	`size
(è=ğ
´edA¼2
.size());

5083 
numP»ds
 = 
´edA¼1
.
	`size
();

5084 
j
 = 0; j < 
numP»ds
; j++)

5086 
P»diÿ‹
* 
ÃwP»d1
 = 
´edA¼1
[
j
];

5087 
P»diÿ‹
* 
ÃwP»d2
 = 
´edA¼2
[
j
];

5088 
¡d
::
o¡ršg¡»am
 
wt
;

5089 
wt
 << 
şau£
->
	`g‘Wt
();

5090 
¡d
::
o¡ršg¡»am
 
p1
;

5091 
ÃwP»d1
->
	`´štW™hSŒV¬
(
p1
, 
domaš_
);

5092 
¡d
::
o¡ršg¡»am
 
p2
;

5093 
ÃwP»d2
->
	`´štW™hSŒV¬
(
p2
, 
domaš_
);

5094 
¡d
::
o¡ršg¡»am
 
c
;

5095 
c
 << (-
	`pow
(
m—n
,2.0));

5096 
¡d
::
o¡ršg¡»am
 
m—n2
;

5097 
m—n2
 << 2.0*
m—n
;

5099 
¡rLše
 = "0|1|";

5100 
¡rLše
.
	`­³nd
(
wt
.
	`¡r
());

5101 
¡rLše
.
	`­³nd
("|");

5102 
¡rLše
.
	`­³nd
(
p1
.
	`¡r
());

5103 
¡rLše
.
	`­³nd
(";|");

5104 
¡rLše
.
	`­³nd
(
p2
.
	`¡r
());

5105 
¡rLše
.
	`­³nd
(";|");

5106 
¡rLše
.
	`­³nd
(
c
.
	`¡r
());

5107 
¡rLše
.
	`­³nd
(";/");

5108 
¡rLše
.
	`­³nd
(
p2
.
	`¡r
());

5109 
¡rLše
.
	`­³nd
(";/-1.0,(0,2)/");

5110 
¡rLše
.
	`­³nd
(
m—n2
.
	`¡r
());

5111 
¡rLše
.
	`­³nd
(",(0,1)/");

5113 
¡ršg¡»am
 
	`ss
(
¡rLše
);

5114 
¡ršg
 
¡r
;

5115 
	`g‘lše
(
ss
, 
¡r
, '|');

5116 
hybridGndCÏu£ToFÜmuÏM­_
.
	`­³nd
(
	`©oi
(
¡r
.
	`c_¡r
()));

5117 
	`g‘lše
(
ss
, 
¡r
, '|');

5118 ià(
¡r
 == "1")

5120 
hybridCÚjunùiÚDisjunùiÚ_
.
	`­³nd
(
Œue
);

5122 
hybridCÚjunùiÚDisjunùiÚ_
.
	`­³nd
(
çl£
);

5124 
	`g‘lše
(
ss
, 
¡r
, '|');

5125 
hybridWts_
.
	`­³nd
(
	`©of
(
¡r
.
	`c_¡r
()));

5126 
hybridCÏu£Co¡_
.
	`­³nd
(
	`©of
(
¡r
.
	`c_¡r
()));

5128 
A¼ay
<> 
¬Dis
;

5129 
	`g‘lše
(
ss
, 
¡r
, '|');

5130 
	`LßdDisP¬tAtoms
(
¡r
, 
¬Dis
, 
gndP»dDis_
, 
hybridCÏu£Num_
);

5131 
hybridDisCÏu£_
.
	`­³nd
(
¬Dis
);

5132 
¬Dis
.
	`ş—r
();

5133 
	`g‘lše
(
ss
, 
¡r
, '|');

5134 
	`LßdCÚtP¬tAtoms
(
¡r
, 
¬Dis
);

5135 
hybridCÚtCÏu£_
.
	`­³nd
(
¬Dis
);

5137 
	`g‘lše
(
ss
, 
¡r
, '|');

5138 
PŞyNomŸl
 
¶
;

5139 
i¡ršg¡»am
 
	`iss
(
¡r
);

5140 
¶
.
	`R—dFrom
(
iss
);

5141 
hybridPls_
.
	`­³nd
(
¶
);

5144 
HybridCÚ¡¿št
 
c¡
;

5145 
c¡
.
cÚtCÏu£Idx_
 = 
hybridCÏu£Num_
;

5148 
c¡
.
vTh»shŞd_
 = -
BigV®ue
;

5149 
c¡
.
bS©isf›dLa¡_
 = 
Œue
;

5150 
c¡
.
unS©Ty³_
 = 
UNKNOWN
;

5151 
hybridCÚ¡¿šts_
.
	`­³nd
(
c¡
);

5152 
hybridCÏu£Num_
++;

5154 
d–‘e
 
ÃwP»d1
;

5155 
d–‘e
 
ÃwP»d2
;

5159 
cÚtAtomNum_
 = 
gndP»dCÚt_
.
	`size
();

5160 
cÚtAtomRªge_
.
	`growToSize
(
cÚtAtomNum_
);

5161 
´İo§lStdev_
.
	`growToSize
(
cÚtAtomNum_
 + 1,0);

5162 
cÚtAtoms_
.
	`growToSize
(
cÚtAtomNum_
 + 1, 0);

5163 
cÚtAtomsLa¡_
.
	`growToSize
(
cÚtAtomNum_
 + 1, 0);

5164 
cÚtAtomsEvi_
.
	`growToSize
(
cÚtAtomNum_
 + 1, 
NOVALUE
);

5165 
hybridCÚtOccu¼’û_
.
	`growToSize
(
cÚtAtomNum_
 + 1);

5167 
	`budCÚtOccu¼’û
();

5168 
£t
<> 
cÚtFÜmuÏS‘
;

5169 
i
 = 0; i < 
hybridGndCÏu£ToFÜmuÏM­_
.
	`size
(); i++)

5171 
cÚtFÜmuÏS‘
.
	`š£¹
(
hybridGndCÏu£ToFÜmuÏM­_
[
i
]);

5174 
hybridFÜmuÏNum_
 = 
cÚtFÜmuÏS‘
.
	`size
();

5175 
hybridFÜmuÏGndCÏu£Idx_
.
	`growToSize
(
hybridFÜmuÏNum_
);

5177 
i
 = 0; i < 
hybridGndCÏu£ToFÜmuÏM­_
.
	`size
(); i++)

5179 
hybridFÜmuÏGndCÏu£Idx_
[
hybridGndCÏu£ToFÜmuÏM­_
[
i
]].
	`­³nd
(i);

5183 
hybridF®£CÏu£_
.
	`growToSize
(
hybridCÏu£Num_
);

5184 
hybridWh”eF®£_
.
	`growToSize
(
hybridCÏu£Num_
);

5185 
lbfgsCache_
.
	`growToSize
(
hybridCÏu£Num_
);

5186 
hmwsCÚtO±im®_
.
	`growToSize
(
hybridCÏu£Num_
);

5187 
hmwsDisO±im®_
.
	`growToSize
(
hybridCÏu£Num_
);

5188 
cÚtAtomsLow_
.
	`growToSize
(
cÚtAtomNum_
 + 1, 0);

5189 
hybridCÏu£V®ue_
.
	`growToSize
(
hybridCÏu£Num_
, 0);

5190 
hybridCÏu£DisV®ue_
.
	`growToSize
(
hybridCÏu£Num_
, 
çl£
);

5191 
tÙ®AtomNum_
 = 
cÚtAtomNum_
 + 
	`g‘NumAtoms
();

5192 
numF®£CÏu£s_
 = 0;

5193 
	`š™Rªge
();

5195 ià(
hvsdebug
)

5197 
cout
 << "cÚˆ©om‚umb”: " << 
cÚtAtomNum_
 << 
’dl
;

5198 
	`´štCÚtOccu¼’û
(
cout
);

5200 
	}
}

5306 
	$g‘NumCÚtFÜmuÏs
()

5308  
hybridFÜmuÏNum_
;

5309 
	}
}

5313 
	$š™Rªge
()

5315 if(
cÚtAtomRªge_
.
	`size
(è< 
cÚtAtomNum_
)

5317 
cÚtAtomRªge_
.
	`growToSize
(
cÚtAtomNum_
);

5319 ià(
cÚtAtomRªge_
.
	`size
(è> 
cÚtAtomNum_
)

5321 
cÚtAtomRªge_
.
	`shrškToSize
(
cÚtAtomNum_
);

5323 
i
 = 0; i < 
cÚtAtomRªge_
.
	`size
(); i++)

5325 
cÚtAtomRªge_
[
i
].
low
 = 0;

5326 
cÚtAtomRªge_
[
i
].
high
 = 2;

5327 
cÚtAtomRªge_
[
i
].
iTy³
 = 0;

5329 
	}
}

5331 
	$¿ndomSam¶eRªge
(cÚ¡ 
DoubËRªge
& 
r
)

5334 ià(
r
.
iTy³
 == 0)

5336  (
	`¿ndom
())*(
r
.
high
-r.
low
)/(
RAND_MAX
) +„.low;

5338 ià(
r
.
iTy³
 == 1)

5341 
ËáR
,
rightR
;

5342 ià(
r
.
low
 < -
ABSBIG
 &&„.
high
 < ABSBIG)

5345 
DoubËRªge
 
¹
;

5346 
¹
.
iTy³
 = 0;

5347 
¹
.
high
 = 
ABSBIG
;

5348 
¹
.
low
 = 
	`max
(
r
.
high
, -
ABSBIG
);

5350  
	`¿ndomSam¶eRªge
(
¹
);

5353 ià(
r
.
low
 < -
ABSBIG
 &&„.
high
 > ABSBIG)

5357 ià(
r
.
low
 > -
ABSBIG
 &&„.
high
 > ABSBIG)

5359 
DoubËRªge
 
¹
;

5360 
¹
.
iTy³
 = 0;

5361 
¹
.
low
 = -
ABSBIG
;

5362 
¹
.
high
 = 
	`MIN
(
r
.
low
, 
ABSBIG
);

5364  
	`¿ndomSam¶eRªge
(
¹
);

5367 ià(
r
.
low
 > -
ABSBIG
 &&„.
high
 < ABSBIG)

5369 
ËáR
 = 
r
.
low
 + 
ABSBIG
;

5370 
rightR
 = 
ABSBIG
 - 
r
.
high
;

5371 
rs
 = (
	`¿ndom
())/ (
RAND_MAX
);

5373 ià(
rs
 < 
ËáR
 /ÖeáR + 
rightR
))

5375  -
ABSBIG
 + (
ËáR
 + 
rightR
)*
rs
;

5379 
rs
 =„ - 
ËáR
 /ÖeáR + 
rightR
);

5380  
r
.
high
 + 
rs
* (
ËáR
 + 
rightR
);

5385 
	}
}

5388 
	$compu‹MaxV®ue
(
PŞyNomŸl
& 
¶
,
cÚtCÏu£Idx
, 
i
)

5390 ià(
cÚtCÏu£Idx
 >ğ
hybridCÏu£Num_
)

5392 
cout
 << "CÚˆşau£ Exûed, " << 
cÚtCÏu£Idx
 << ", " << 
i
 << 
’dl
;

5395 if(
i
 >ğ
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
].
	`size
())

5396 
cout
 << "CÚˆAtom Exûed, " << 
cÚtCÏu£Idx
 << ", " << 
i
 << 
’dl
;

5399 
©omIdx
 = 
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
][
i
];

5400 
m1
, 
m2
;

5402 ià(
i
 < 
¶
.
	`G‘V¬Num
() -1 )

5404 (
¶
.
	`G‘V¬V®ue
())[
i
] = 
cÚtAtomRªge_
[
©omIdx
].
low
;

5405 
m1
 = 
	`compu‹MaxV®ue
(
¶
, 
cÚtCÏu£Idx
, 
i
+1);

5407 (
¶
.
	`G‘V¬V®ue
())[
i
] = 
cÚtAtomRªge_
[
©omIdx
].
high
;

5408 
m2
 = 
	`compu‹MaxV®ue
(
¶
, 
cÚtCÏu£Idx
,
i
+1);

5412 ià(
i
 =ğ
¶
.
	`G‘V¬Num
() - 1)

5414 (
¶
.
	`G‘V¬V®ue
())[
i
] = 
cÚtAtomRªge_
[
©omIdx
].
low
;

5415 
m1
 = 
¶
.
	`Compu‹PlV®ue
();

5417 (
¶
.
	`G‘V¬V®ue
())[
i
] = 
cÚtAtomRªge_
[
©omIdx
].
high
;

5418 
m2
 = 
¶
.
	`Compu‹PlV®ue
();

5421 ià(
m1
 > 
m2
)

5423  
m1
;

5426  
m2
;

5427 
	}
}

5429 
	$£tPrİo§lStdev
(cÚ¡ * 
szStdev
)

5431 
if¡»am
 
	`is
(
szStdev
);

5432 ià(!
is
.
	`good
())

5439 
¡ršg
 
¡rLše
;

5440 
i
 = 0;

5441 
	`g‘lše
(
is
, 
¡rLše
è&& 
i
 < 
	`g‘NumCÚtAtoms
())

5443 
¡ršg¡»am
 
	`ss
(
¡rLše
);

5444 
ss
 >> 
cÚtAtomRªge_
[
i
].
low
 >> cÚtAtomRªge_[i].
high
 >> 
´İo§lStdev_
[i+1];

5446 
i
++;

5449 iàĞ
i
 !ğ
cÚtAtomNum_
)

5452 
cout
 << 
i
 << "\t" << 
cÚtAtomNum_
 << 
’dl
;

5453 
j
 = 0; j < 
cÚtAtomNum_
; j++)

5455 
	`´štCÚtAtom
(
j
 + 1,
cout
);couˆ<< 
’dl
;

5461 
j
 = 0;j < 
hybridCÏu£Num_
; j++)

5463 
v¬Num
 = 
hybridPls_
[
j
].
	`G‘V¬Num
();

5464 
LBFGSP
* 
lbfg¥
 = 
Ãw
 
	`LBFGSP
(-1,-1,
v¬Num
);

5465 * 
uµ”
 = 
Ãw
 [
v¬Num
];

5466 * 
low”
 = 
Ãw
 [
v¬Num
];

5467 
k
 = 0; k < 
hybridCÚtCÏu£_
[
j
].
	`size
(); k++)

5469 
uµ”
[
k
] = 
cÚtAtomRªge_
[
hybridCÚtCÏu£_
[
j
][k]-1].
high
;

5470 
low”
[
k
] = 
cÚtAtomRªge_
[
hybridCÚtCÏu£_
[
j
][k]-1].
low
;

5472 
lbfg¥
->
	`£tUµ”Bounds
(
uµ”
);

5473 
lbfg¥
->
	`£tLow”Bounds
(
low”
);

5474 
PŞyNomŸl
 
¶
 = 
hybridPls_
[
j
];

5476 ià(
hybridCÏu£Co¡_
[
j
] > 0)

5478 
¶
.
	`MuÉlyCÚ¡
(-1.0);

5481 
lbfg¥
->
	`¡¬tLBFGS
(
¶
);

5482 
lbfgsCache_
[
j
].
	`cİyFrom
(
¶
.
	`G‘V¬V®ue
());

5483 
cÚtsŞv”s_
.
	`­³nd
(
lbfg¥
);

5484 
d–‘e
[] 
uµ”
;

5485 
d–‘e
[] 
low”
;

5487 
	}
}

5489 
	$´oûedOÃS‹pAndCache
(
cÚtCÏu£Idx
, 
PŞyNomŸl
& 
¶
)

5491 ià(
hvsdebug
)

5493 
cout
 << "begš…roûedOÃS‹pAndCache" << 
’dl
;

5496 
LBFGSP
* 
lbfg¥
 = 
cÚtsŞv”s_
[
cÚtCÏu£Idx
];

5497 
¶
.
	`S‘V¬V®ue
(
lbfgsCache_
[
cÚtCÏu£Idx
]);

5498 
lbfg¥
->
	`´oûedOÃS‹p
(
¶
);

5500 
lbfgsCache_
[
cÚtCÏu£Idx
].
	`cİyFrom
(
¶
.
	`G‘V¬V®ue
());

5502 ià(
hvsdebug
)

5504 
cout
 << "’d…roûedOÃS‹pAndCache" << 
’dl
;

5506 
	}
}

5508 
boŞ
 
	$SŞveCÚtByLBFGS
(
cÚtCÏu£Idx
, 
maxI‹r
)

5512 
PŞyNomŸl
 
¶
 = 
hybridPls_
[
cÚtCÏu£Idx
];

5513 
¶
.
	`MuÉlyCÚ¡
(-1.0);

5514 
boŞ
 
bS©
 = 
çl£
;

5515 
i
 = 0; i < 
maxI‹r
; i++)

5517 
	`´oûedOÃS‹pAndCache
(
cÚtCÏu£Idx
, 
¶
);

5518 
¶V®ue
 = 
¶
.
	`Compu‹PlV®ue
();

5519 
cout
 << "¡• " << 
i
 << ",…ŞynomŸÈv®u" << 
¶V®ue
 << 
’dl
;

5520 if(
	`isS©isf›d
(
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
], -1*
¶V®ue
))

5522 
bS©
 = 
Œue
;

5526  
bS©
;

5527 
	}
}

5529 
	$š™CÚtšuousV¬ŸbËRªdom
()

5531 ià(
hvsdebug
)

5532 
cout
 << "’‹ršg in™ cÚtšuou ¿ndom" << 
’dl
;

5534 
	`as£¹
(
cÚtAtomNum_
 =ğ
cÚtAtomRªge_
.
	`size
());

5536 
i
 = 0; i < 
cÚtAtomNum_
; i++)

5538 
cÚtAtoms_
[
i
+1] = 
cÚtAtomRªge_
[i].
low
 +

5539 (
cÚtAtomRªge_
[
i
].
high
 - cÚtAtomRªge_[i].
low
) *

5540 (
	`¿ndom
()è/ (
RAND_MAX
);

5543 ià(
hvsdebug
)

5544 
cout
 << "Ëavšg in™ cÚtšuou ¿ndom" << 
’dl
;

5545 
	}
}

5548 
	g´iv©e
:

5558 
DoubËRªge
 
	$SŞveHybridCÚ¡¿štToCÚtV¬
(cÚ¡ & 
cÚtCÏu£Idx
, cÚ¡ & 
šIdx
)

5561 
PŞyNomŸl
 
¶
 = 
hybridPls_
[
cÚtCÏu£Idx
];

5562 
¶
.
	`MuÉlyCÚ¡
(
hybridWts_
[
cÚtCÏu£Idx
]);

5563 
d
 = 
hybridCÚ¡¿šts_
[
cÚtCÏu£Idx
].
vTh»shŞd_
;

5565 
A¼ay
<> 
cu¼’tV¬s
;

5566 
i
;

5567  
i
 = 0; i < 
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
].
	`size
(); ++i)

5569 
cu¼’tV¬s
.
	`­³nd
(
cÚtAtoms_
[
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
][
i
]]);

5572 
	`as£¹
(
šIdx
 >ğ0 && inIdx < 
hybridCÚtCÏu£_
[
cÚtCÏu£Idx
].
	`size
());

5573 
¶
.
	`ReduûToOÃV¬
(
cu¼’tV¬s
, 
šIdx
);

5574 
DoubËRªge
 
r
 = 
¶
.
	`SŞvePŞy2
(
d
);

5575  
r
;

5576 
	}
}

5587 
	$£tH¬dCÏu£Weight
()

5590 
sumSoáWts
 = 0.0;

5592 
şau£CÁ
 = 
mÊ_
->
	`g‘NumCÏu£s
();

5594 
i
 = 0; i < 
şau£CÁ
; i++)

5596 
CÏu£
* 
fşau£
 = (CÏu£ *è
mÊ_
->
	`g‘CÏu£
(
i
);

5598 ià(
fşau£
->
	`isH¬dCÏu£
()) ;

5600 
wt
 = 
	`abs
(
fşau£
->
	`g‘Wt
());

5601 
numGndšgs
 = 
fşau£
->
	`g‘NumGroundšgs
(
domaš_
);

5602 
sumSoáWts
 +ğ
wt
*
numGndšgs
;

5605 
	`as£¹
(
sumSoáWts
 >= 0);

5607 
h¬dWt_
 = 
sumSoáWts
 + 10.0;

5608 
cout
 << "S‘ h¬d weighˆtØ" << 
h¬dWt_
 << 
’dl
;

5609 
	}
}

5618 
	$»¶aûAtomIndexInAÎCÏu£s
(cÚ¡ & 
ŞdIdx
, cÚ¡ & 
ÃwIdx
)

5620 
A¼ay
<> 
gndCÏu£Indexes
;

5622 
gndCÏu£Indexes
 = 
	`g‘NegOccu»nûA¼ay
(
ŞdIdx
 + 1);

5623 
i
 = 0; i < 
gndCÏu£Indexes
.
	`size
(); i++)

5626 ià((*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]])

5627 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]]->
	`chªgeGndP»dIndex
(-(
ŞdIdx
 + 1),

5628 -(
ÃwIdx
 + 1));

5631 
gndCÏu£Indexes
 = 
	`g‘PosOccu»nûA¼ay
(
ŞdIdx
 + 1);

5632 
i
 = 0; i < 
gndCÏu£Indexes
.
	`size
(); i++)

5635 ià((*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]])

5636 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]]->
	`chªgeGndP»dIndex
(
ŞdIdx
 + 1,

5637 
ÃwIdx
 + 1);

5639 
	}
}

5641 
	gpublic
:

5644 cÚ¡ 
MODE_MWS
 = 0;

5645 cÚ¡ 
	gMODE_HARD
 = 1;

5646 cÚ¡ 
	gMODE_SAMPLESAT
 = 2;

5648 cÚ¡ 
	gADD_CLAUSE_INITIAL
 = 0;

5649 cÚ¡ 
	gADD_CLAUSE_REGULAR
 = 1;

5650 cÚ¡ 
	gADD_CLAUSE_DEAD
 = 2;

5651 cÚ¡ 
	gADD_CLAUSE_SAT
 = 3;

5656 
	gA¼ay
<
	gGroundP»diÿ‹
*>* 
	ggndP»ds_
;

5659 
GroundCÏu£HashA¼ay
* 
	ggndCÏu£s_
;

5663 
GroundP»diÿ‹HashA¼ay
* 
	guÃP»ds_
;

5666 
GroundP»diÿ‹HashA¼ay
* 
	gkÃP»ds_
;

5668 
	gA¼ay
<
	gTruthV®ue
>* 
	gkÃP»dV®ues_
;

5670 
	gA¼ay
<
	gGroundCÏu£
*> 
	gÃwCÏu£s_
;

5672 
	gA¼ay
<
	gGroundP»diÿ‹
*> 
	gÃwP»ds_
;

5675 
GroundP»diÿ‹HashA¼ay
 
	ggndP»dHashA¼ay_
;

5678 
	gA¼ay
<A¼ay<> > 
	gşau£_
;

5680 
	gA¼ay
<> 
	gşau£Co¡_
;

5682 
	ghighe¡Co¡_
;

5684 
boŞ
 
	geqHighe¡_
;

5686 
	gnumHighe¡_
;

5688 
	gA¼ay
<> 
	gçl£CÏu£_
;

5689 
	gA¼ay
<> 
	gçl£CÏu£Low_
;

5691 
	gA¼ay
<> 
	gwh”eF®£_
;

5693 
	gA¼ay
<> 
	gnumTrueL™s_
;

5695 
	gA¼ay
<> 
	gw©ch1_
;

5697 
	gA¼ay
<> 
	gw©ch2_
;

5700 
	gA¼ay
<
	gboŞ
> 
	gisS©isf›d_
;

5702 
	gA¼ay
<
	gboŞ
> 
	gd—dCÏu£_
;

5704 
boŞ
 
	gu£Th»shŞd_
;

5706 
	gA¼ay
<> 
	gth»shŞd_
;

5710 
	gA¼ay
<A¼ay<> > 
	goccu»nû_
;

5713 
	gA¼ay
<> 
	gmakeCo¡_
;

5715 
	gA¼ay
<> 
	gb»akCo¡_
;

5718 
	gA¼ay
<> 
	gfixedAtom_
;

5720 
	gA¼ay
<
	gboŞ
> 
	glowAtom_
;

5722 
	glowCo¡_
;

5725 
	gA¼ay
<
	gboŞ
> 
	g©om_
;

5731 
boŞ
 
	gbIn™FromEvi_
;

5734 
	gA¼ay
<
	gboŞ
> 
	g©omEvi_
;

5735 
	gA¼ay
<
	gboŞ
> 
	g©omsLa¡_
;

5738 
	gA¼ay
<
	gLBFGSP
*> 
	gcÚtsŞv”s_
;

5739 
	gA¼ay
<
	gHybridCÚ¡¿št
> 
	ghybridCÚ¡¿šts_
;

5740 
	gA¼ay
<
	gPŞyNomŸl
> 
	ghybridPls_
;

5741 
	gA¼ay
<> 
	ghybridWts_
;

5742 
	gm­
<, > 
	gcÚtO±imum_
;

5743 
	gm­
<, 
	gA¼ay
<> > 
	gcÚtO±imumAssignm’t_
;

5745 
	gA¼ay
<> 
	gcÚtAtomsLa¡_
;

5746 
	gA¼ay
<> 
	gcÚtAtoms_
;

5747 
	gA¼ay
<> 
	gcÚtAtomsBackup_
;

5748 
	gA¼ay
<> 
	gcÚtAtomsEvi_
;

5749 
	gA¼ay
<> 
	gcÚtAtomsLow_
;

5751 
	glowCo¡Hybrid_
;

5752 
	glowBadHybrid_
;

5755 
	gA¼ay
<A¼ay<> > 
	ghybridDisCÏu£_
;

5756 
	gA¼ay
<A¼ay<> > 
	ghybridCÚtCÏu£_
;

5758 
	gA¼ay
<A¼ay<> > 
	ghybridDisOccu¼’û_
;

5759 
	gA¼ay
<A¼ay<> > 
	ghybridCÚtOccu¼’û_
;

5760 
	gA¼ay
<
	gDoubËRªge
> 
	gcÚtAtomRªge_
;

5761 
	gA¼ay
<
	gboŞ
> 
	ghybridCÚjunùiÚDisjunùiÚ_
;

5762 
	gA¼ay
<> 
	ghybridCÏu£Co¡_
;

5763 
	gA¼ay
<> 
	ghybridGndCÏu£ToFÜmuÏM­_
;

5764 
	gA¼ay
<A¼ay<> > 
	ghybridFÜmuÏGndCÏu£Idx_
;

5766 
	ghybridFÜmuÏNum_
;

5767 
	ghybridCÏu£Num_
;

5768 
	gcÚtAtomNum_
;

5769 
	gtÙ®AtomNum_
;

5770 
	gtÙ®F®£CÚ¡¿štNum_
;

5771 
	ghybridF®£CÚ¡¿štNum_
;

5773 
	gA¼ay
<> 
	ghybridF®£CÏu£_
;

5774 
	gA¼ay
<> 
	ghybridF®£CÏu£Low_
;

5776 
	gA¼ay
<> 
	ghybridWh”eF®£_
;

5778 
	gA¼ay
<> 
	ghybridCÏu£V®ue_
;

5779 
	gA¼ay
<
	gboŞ
> 
	ghybridCÏu£DisV®ue_
;

5781 
	gm­
<
	g¡ršg
 ,> 
	ggndP»dCÚt_
;

5782 
	gm­
<, 
	g¡ršg
> 
	ggndP»dRev”£CÚt_
;

5784 
	gco¡OfTÙ®F®£CÚ¡¿šts_
;

5785 
	glowBadAÎ_
;

5786 
	glowCo¡AÎ_
;

5787 
	gco¡HybridF®£CÚ¡¿št_
;

5788 
boŞ
 
	gbMaxOÆy_
;

5790 
	gA¼ay
<> 
	g´İo§lStdev_
;

5791 
	gm­
<
	g¡ršg
,> 
	ggndP»dDis_
;

5793 
	gweightSumDis_
;

5794 
	gweightSumCÚt_
;

5796 
	gA¼ay
<A¼ay<> > 
	glbfgsCache_
;

5797 
	gA¼ay
<> 
	ghmwsCÚtO±im®_
;

5798 
	gA¼ay
<
	gboŞ
> 
	ghmwsDisO±im®_
;

5800 
¡ršg
 
	g¡rHybridDis_
;

5802 
	g´iv©e
:

5804 
boŞ
 
Ïzy_
;

5807 
	gh¬dWt_
;

5811 
MLN
* 
	gmÊ_
;

5812 
Domaš
* 
	gdomaš_
;

5816 
	gba£NumAtoms_
;

5818 
boŞ
 
	gnoAµrox_
;

5820 
boŞ
 
	ghaveD—ùiv©ed_
;

5822 
	gmemLim™_
;

5824 
	gşau£Lim™_
;

5829 
MRF
* 
	gmrf_
;

5840 
	glowBad_
;

5843 
	gnumF®£CÏu£s_
;

5845 
	gco¡OfF®£CÏu£s_
;

5848 
	gaùiveAtoms_
;

5851 
	gA¼ay
<
	gboŞ
> 
	g´evS©isf›dCÏu£_
;

5854 
	gnumNÚEvAtoms_
;

5858 
	gšã»nûMode_
;

5863 
boŞ
 
	g¡lAùiv©šg_
;

5866 
boŞ
 
	gb»akH¬dCÏu£s_
;

	@logic/logichelper.cpp

1 
	~<as£¹.h
>

2 
	~<m©h.h
>

4 
	~"logich–³r.h
"

15 
G‘CÏu£RªdomSŞutiÚ
(
şau£_size
, 
boŞ
 
§tisf›d
, boŞ 
cÚjunùiÚ_disjunùiÚ
, 
A¼ay
<boŞ>* 
sŞutiÚ
)

17 
	gsŞutiÚ
->
ş—r
();

18 ià(
	g§tisf›d
 && 
	gcÚjunùiÚ_disjunùiÚ
)

20 
	gsŞutiÚ
->
growToSize
(
şau£_size
, 
Œue
);

22 if(!
	g§tisf›d
 && !
	gcÚjunùiÚ_disjunùiÚ
)

24 
	gsŞutiÚ
->
growToSize
(
şau£_size
, 
çl£
);

28 
boŞ
 
	ggood_sŞutiÚ
 = 
çl£
;

29 !
	ggood_sŞutiÚ
)

31 
	gsŞutiÚ
->
ş—r
();

32 
	gi
 = 0; i < 
	gşau£_size
; i++)

34 
boŞ
 
	gb
 = 
¿ndom
()%2;

35 ià(((
	gb
 && 
	g§tisf›d
) || (!b && !satisfied)))

37 
	ggood_sŞutiÚ
 = 
Œue
;

39 
	gsŞutiÚ
->
­³nd
(
b
);

45 
RecÜdAtomMakeCÏu£F®£
(cÚ¡ 
A¼ay
<>& 
şau£
, cÚ¡ A¼ay<
boŞ
>& 
©oms
, boŞ 
cÚj_disj
, A¼ay<>* 
»cÜd
) {

46 
as£¹
(
»cÜd
);

47 ià(
	gcÚj_disj
) {

49 
	gi
 = 0; i < 
	gşau£
.
size
(); ++i) {

50 ià(
	g©oms
[
abs
(
şau£
[
i
])] != (clause[i] > 0))

53 
	g»cÜd
->
­³nd
(
abs
(
şau£
[
¿ndom
(è% cÏu£.
size
()]));

55 
	gi
 = 0; i < 
	gşau£
.
size
(); ++i) {

56 if(
	g©oms
[
abs
(
şau£
[
i
])] == (clause[i] > 0)) {

57 
»cÜd
->
­³nd
(
abs
(
şau£
[
i
]));

63 
RecÜdAtomMakeCÏu£True
(cÚ¡ 
A¼ay
<>& 
şau£
, cÚ¡ A¼ay<
boŞ
>& 
©oms
, boŞ 
cÚj_disj
, A¼ay<>* 
»cÜd
) {

64 
as£¹
(
»cÜd
);

65 ià(!
	gcÚj_disj
) {

67 
	gi
 = 0; i < 
	gşau£
.
size
(); ++i) {

68 ià(
	g©oms
[
abs
(
şau£
[
i
])] == (clause[i] > 0))

71 
	g»cÜd
->
­³nd
(
abs
(
şau£
[
¿ndom
(è% cÏu£.
size
()]));

73 
	gi
 = 0; i < 
	gşau£
.
size
(); ++i) {

74 if(
	g©oms
[
abs
(
şau£
[
i
])] != (clause[i] > 0)) {

75 
»cÜd
->
­³nd
(
abs
(
şau£
[
i
]));

	@logic/logichelper.h

1 #iâdeà
LOGIC_HELPER_H_NOV_7_2008


2 
	#LOGIC_HELPER_H_NOV_7_2008


	)

5 
	~"¬¿y.h
"

11 
G‘CÏu£RªdomSŞutiÚ
(
şau£_size
, 
boŞ
 
§tisf›d
, boŞ 
cÚjunùiÚ_disjunùiÚ
, 
A¼ay
<boŞ>* 
sŞutiÚ
);

13 
RecÜdAtomMakeCÏu£F®£
(cÚ¡ 
A¼ay
<>& 
şau£
, cÚ¡ A¼ay<
boŞ
>& 
©oms
, boŞ 
cÚj_disj
, A¼ay<>* 
»cÜd
);

14 
RecÜdAtomMakeCÏu£True
(cÚ¡ 
A¼ay
<>& 
şau£
, cÚ¡ A¼ay<
boŞ
>& 
©oms
, boŞ 
cÚj_disj
, A¼ay<>* 
»cÜd
);

	@logic/logsigmoid.h

1 #iâdeà
LOG_SIGMOID_DEC_2007


2 
	#LOG_SIGMOID_DEC_2007


	)

6 şas 
	cLogSigMoid


8 
	mpublic
:

9 
	$LogSigMoid
()

11 
¡riùÃss_
 = 0;

12 
th»shŞd_
 = 0;

15 
	$LogSigMoid
(
¡riùÃss
, 
th»shŞd
): 
	`¡riùÃss_
(¡riùÃss), 
	$th»shŞd_
(
th»shŞd
)

16 {
	}
}

18 
	$funcV®ue
(
x
)

20  -
	`log
(1+
	`exp
(
¡riùÃss_
*(
th»shŞd_
-
x
)));

21 
	}
}

23 
	$fœ¡D”iv©ive
(
x
)

27  
¡riùÃss_
*
	`exp
(¡riùÃss_*(
th»shŞd_
-
x
))/(1+exp(strictness_*(threshold_-x)));

28 
	}
}

30 
	$sŞveCÚ¡¿št
(
th
)

32 ià(
th
 >=0 )  
NOSOL
;

34 
roÙ
 = 
th»shŞd_
 - 
	`log
(
	`exp
(-1*
th
è- 1)/
¡riùÃss_
;

36  
roÙ
;

37 
	}
}

38 
	gpublic
:

39 
¡riùÃss_
;

40 
	gth»shŞd_
;

	@logic/mln.h

67 #iâdeà
MLN_H_JUN_26_2005


68 
	#MLN_H_JUN_26_2005


	)

70 
	~<cæßt
>

71 
	~<ext/hash_m­
>

72 
	~<ext/hash_£t
>

73 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

74 
	~"şau£.h
"

75 
	~"equ®¡r.h
"

76 
	~"mÊh–³r.h
"

79 şas 
	cMLN


81 
	mpublic
:

82 
	$MLN
(è: 
	`şau£s_
(
Ãw
 
CÏu£HashA¼ay
),
	`şau£Infos_
Òew 
A¼ay
<
MLNCÏu£Info
*>),

83 
	`fÜmAndCÏu£sA¼ay_
(
Ãw
 
FÜmuÏAndCÏu£sA¼ay
),

84 
	`´edIdToCÏu£sM­_
(
Ãw
 
A¼ay
<A¼ay<
IndexCÏu£
*>*>),

85 
	`ex‹º®CÏu£_
(
Ãw
 
A¼ay
<
boŞ
>), 
	`hybridCÏu£s_
Òew A¼ay<
CÏu£
*>),

86 
	`hybridFÜmuÏSŒšgs_
(
Ãw
 
A¼ay
<
¡ršg
>),

87 
	`num”icP»ds_
(
Ãw
 
A¼ay
<
P»diÿ‹
*>),

88 
	`num”icM—ns_
(
Ãw
 
A¼ay
<>){}

90 ~
	$MLN
()

92 ià(
şau£s_
)

94 
şau£s_
->
	`d–‘eI‹msAndCË¬
();

95 
d–‘e
 
şau£s_
;

98 ià(
şau£Infos_
)

100 
şau£Infos_
->
	`d–‘eI‹msAndCË¬
();

101 
d–‘e
 
şau£Infos_
;

104 ià(
fÜmAndCÏu£sA¼ay_
)

106 
fÜmAndCÏu£sA¼ay_
->
	`d–‘eI‹msAndCË¬
();

107 
d–‘e
 
fÜmAndCÏu£sA¼ay_
;

110 ià(
´edIdToCÏu£sM­_
)

112 
i
 = 0; i < 
´edIdToCÏu£sM­_
->
	`size
(); i++)

113 ià((*
´edIdToCÏu£sM­_
)[
i
])

115 (*
´edIdToCÏu£sM­_
)[
i
]->
	`d–‘eI‹msAndCË¬
();

116 
	`d–‘e
 (*
´edIdToCÏu£sM­_
)[
i
];

118 
d–‘e
 
´edIdToCÏu£sM­_
;

121 ià(
ex‹º®CÏu£_
è
d–‘e
ƒxternalClause_;

123 ià(
hybridCÏu£s_
)

125 
hybridCÏu£s_
->
	`d–‘eI‹msAndCË¬
();

126 
d–‘e
 
hybridCÏu£s_
;

129 ià(
hybridFÜmuÏSŒšgs_
è
d–‘e
 hybridFormulaStrings_;

131 ià(
num”icP»ds_
)

133 
num”icP»ds_
->
	`d–‘eI‹msAndCË¬
();

134 
d–‘e
 
num”icP»ds_
;

137 ià(
num”icM—ns_
è
d–‘e
‚umericMeans_;

138 
	}
}

140 
	$g‘NumCÏu£s
(ècÚ¡ {  
şau£s_
->
	`size
(); 
	}
}

142 
	$g‘NumHybridCÏu£s
(ècÚ¡ {  
hybridCÏu£s_
->
	`size
(); 
	}
}

144 
	$g‘NumH¬dCÏu£s
() const

146 
numH¬dCÏu£s
 = 0;

147 
i
 = 0; i < 
şau£s_
->
	`size
(); i++)

149 ià((*
şau£s_
)[
i
]->
	`isH¬dCÏu£
()è
numH¬dCÏu£s
++;

151  
numH¬dCÏu£s
;

152 
	}
}

155 
boŞ
 
	$cÚšsCÏu£
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
) const

156 {  
şau£s_
->
	`cÚšs
((
CÏu£
*)
c
); 
	}
}

162 
boŞ
 
	$­³ndEx‹º®CÏu£
(cÚ¡ 
¡ršg
& 
fÜmuÏSŒšg
, cÚ¡ 
boŞ
& 
hasExi¡
,

163 
CÏu£
* cÚ¡& 
c
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

164 cÚ¡ 
boŞ
& 
t›dCÏu£s
,

165 cÚ¡ 
boŞ
& 
hasWeightFuÎStİ
,

166 cÚ¡ 
boŞ
& 
isCÚjunùiÚ
)

168 
idx
;

169 
boŞ
 
­p
 = 
	`­³ndCÏu£
(
fÜmuÏSŒšg
, 
hasExi¡
, 
c
, c->
	`g‘Wt
(),

170 
c
->
	`isH¬dCÏu£
(), 
idx
, 
t›dCÏu£s
,

171 
hasWeightFuÎStİ
, 
isCÚjunùiÚ
, 0.0);

172 ià(
­p
)

174 
	`£tFÜmuÏNumP»ds
(
fÜmuÏSŒšg
, 
c
->
	`g‘NumP»diÿ‹s
());

175 
	`£tFÜmuÏIsH¬d
(
fÜmuÏSŒšg
, 
c
->
	`isH¬dCÏu£
());

176 
	`£tFÜmuÏPriÜM—n
(
fÜmuÏSŒšg
, 
c
->
	`g‘Wt
());

177 (*
ex‹º®CÏu£_
)[
idx
] = 
Œue
;

179  
­p
;

180 
	}
}

189 
boŞ
 
	$­³ndCÏu£
(cÚ¡ 
¡ršg
& 
fÜmuÏSŒšg
, cÚ¡ 
boŞ
& 
hasExi¡
,

190 
CÏu£
* cÚ¡& 
c
, cÚ¡ & 
wt
,

191 cÚ¡ 
boŞ
& 
isH¬dCÏu£
, & 
»tCÏu£Idx
,

192 cÚ¡ 
boŞ
& 
t›dCÏu£s
, cÚ¡ boŞ& 
hasWeightFuÎStİ
,

193 cÚ¡ 
boŞ
& 
cÚjunùiÚ
, cÚ¡ & 
ut
)

196 
	`as£¹
(
c
);

197 ià(!
t›dCÏu£s
è
c
->
	`ÿnÚiÿlize
();

198 
boŞ
 
isAµ’ded
;

199 
CÏu£
* 
şau£
;

201 ià((
»tCÏu£Idx
 = 
şau£s_
->
	`fšd
(
c
)) >= 0)

203 
şau£
 = (*
şau£s_
)[
»tCÏu£Idx
];

204 
d–‘e
 
c
;

205 
isAµ’ded
 = 
çl£
;

210 
»tCÏu£Idx
 = 
şau£s_
->
	`­³nd
(
c
);

211 
şau£
 = 
c
;

212 
isAµ’ded
 = 
Œue
;

213 
şau£
->
	`£tWt
(0);

214 
ex‹º®CÏu£_
->
	`­³nd
(
çl£
);

216 
şau£
->
	`addWt
(
wt
);

217 
şau£
->
	`addUt
(
ut
);

218 ià(
ut
 !ğ0.0è
şau£
->
	`£tAùiÚ
(
Œue
);

219 ià(
isH¬dCÏu£
è
şau£
->
	`£tIsH¬dCÏu£
(isHardClause);

220 ià(
hasWeightFuÎStİ
è
şau£
->
	`£tSticWt
(hasWeightFullStop);

223 
FÜmuÏAndCÏu£s
* 
çc
 = 
Ãw
 
	`FÜmuÏAndCÏu£s
(
fÜmuÏSŒšg
,

224 
fÜmAndCÏu£sA¼ay_
->
	`size
(),

225 
hasExi¡
, 
t›dCÏu£s
,

226 
cÚjunùiÚ
);

227 
fidx
;

229 iàĞ(
fidx
 = 
fÜmAndCÏu£sA¼ay_
->
	`fšd
(
çc
)) < 0 )

231 
fidx
 = 
fÜmAndCÏu£sA¼ay_
->
	`­³nd
(
çc
);

232 
	`as£¹
(
çc
->
šdex
 =ğ
fidx
);

236 
d–‘e
 
çc
;

237 
çc
 = (*
fÜmAndCÏu£sA¼ay_
)[
fidx
];

238 
	`as£¹
(
çc
->
šdex
 =ğ
fidx
);

240 
IndexCÏu£
* 
ic
 = 
Ãw
 
	`IndexCÏu£
(
çc
->
šdexCÏu£s
->
	`size
(), 
şau£
);

241 
cidx
 = 
çc
->
šdexCÏu£s
->
	`­³nd
(
ic
);

242 ià(
cidx
 < 0è{ 
d–‘e
 
ic
; iøğ
NULL
; }

243 
	`as£¹
(
ic
->
šdex
 =ğ
cidx
);

245 ià(
isAµ’ded
)

248 
	`­³ndCÏu£Info
(
şau£
, 
»tCÏu£Idx
, &(
çc
->
šdex
), &(
ic
->index));

251 ià(
cidx
 >= 0)

255 
	`upd©eCÏu£Info
(
»tCÏu£Idx
, &(
çc
->
šdex
), &(
ic
->index));

258 
	`as£¹
(
şau£s_
->
	`size
(è=ğ
şau£Infos_
->size());

259  
isAµ’ded
;

260 
	}
}

266 
boŞ
 
	$­³ndHybridCÏu£
(cÚ¡ 
¡ršg
& 
fÜmuÏSŒšg
, 
CÏu£
* cÚ¡& 
c
,

267 cÚ¡ & 
wt
, & 
»tCÏu£Idx
,

268 
P»diÿ‹
* cÚ¡& 
´ed
, cÚ¡ & 
m—n
)

270 
	`as£¹
(
c
);

271 
c
->
	`ÿnÚiÿlize
();

272 
boŞ
 
isAµ’ded
;

273 
CÏu£
* 
şau£
;

275 ià((
»tCÏu£Idx
 = 
hybridCÏu£s_
->
	`fšd
(
c
)) >= 0 &&

276 
	`¡rcmp
(
fÜmuÏSŒšg
.
	`c_¡r
(),

277 (*
hybridFÜmuÏSŒšgs_
)[
»tCÏu£Idx
].
	`c_¡r
()) == 0)

279 
şau£
 = (*
hybridCÏu£s_
)[
»tCÏu£Idx
];

280 
d–‘e
 
c
;

281 
isAµ’ded
 = 
çl£
;

286 
»tCÏu£Idx
 = 
hybridCÏu£s_
->
	`­³nd
(
c
);

287 
hybridFÜmuÏSŒšgs_
->
	`­³nd
(
fÜmuÏSŒšg
);

290 
num”icP»ds_
->
	`­³nd
(
´ed
);

291 
num”icM—ns_
->
	`­³nd
(
m—n
);

292 
şau£
 = 
c
;

293 
isAµ’ded
 = 
Œue
;

294 
şau£
->
	`£tWt
(0);

296 
şau£
->
	`addWt
(
wt
);

298  
isAµ’ded
;

299 
	}
}

303 
CÏu£
* 
	$»moveCÏu£
(cÚ¡ & 
»mIdx
)

306 
CÏu£
* 
r
 = 
şau£s_
->
	`»moveI‹mFa¡DisÜd”
(
»mIdx
);

307 
MLNCÏu£Info
* 
ci
 = 
şau£Infos_
->
	`»moveI‹mFa¡DisÜd”
(
»mIdx
);

308 
	`as£¹
(
ci
->
šdex
 =ğ
»mIdx
);

310 
ex‹º®CÏu£_
->
	`»moveI‹mFa¡DisÜd”
(
»mIdx
);

312 ià(
şau£Infos_
->
	`size
(è!ğ
»mIdx
)

316 (*
şau£Infos_
)[
»mIdx
]->
šdex
 =„emIdx;

320 
A¼ay
<
P»dIdCÏu£Index
*>& 
piciA¼
 = 
ci
->
´edIdsCÏu£Indexes
;

321 
i
 = 0; i < 
piciA¼
.
	`size
(); i++)

323 
´edId
 = 
piciA¼
[
i
]->predId;

324 
»mIdx
 = *(
piciA¼
[
i
]->
şau£Index
);

326 
A¼ay
<
IndexCÏu£
*>* 
šdexesCÏu£s
 = (*
´edIdToCÏu£sM­_
)[
´edId
];

327 
IndexCÏu£
* 
ic
 = 
šdexesCÏu£s
->
	`»moveI‹mFa¡DisÜd”
(
»mIdx
);

328 
	`as£¹
(
ic
->
šdex
 =ğ
»mIdx
 && ic->
şau£
 =ğ
r
);

329 
d–‘e
 
ic
;

332 ià(
šdexesCÏu£s
->
	`size
(è!ğ
»mIdx
)

336 (*
šdexesCÏu£s
)[
»mIdx
]->
šdex
 =„emIdx;

339 ià(
šdexesCÏu£s
->
	`em±y
())

341 
d–‘e
 
šdexesCÏu£s
;

342 (*
´edIdToCÏu£sM­_
)[
´edId
] = 
NULL
;

347 
A¼ay
<
FÜmuÏCÏu£Indexes
*>& 
fciA¼
 = 
ci
->
fÜmuÏCÏu£Indexes
;

348 
i
 = 0; i < 
fciA¼
.
	`size
(); i++)

350 
fidx
 = *(
fciA¼
[
i
]->
fÜmuÏIndex
);

351 
»mIdx
 = *(
fciA¼
[
i
]->
şau£Index
);

352 
FÜmuÏAndCÏu£s
* 
çc
 = (*
fÜmAndCÏu£sA¼ay_
)[
fidx
];

353 
IndexCÏu£HashA¼ay
* 
šdexCÏu£s
 = 
çc
->indexClauses;

354 
IndexCÏu£
* 
ic
 = 
šdexCÏu£s
->
	`»moveI‹mFa¡DisÜd”
(
»mIdx
);

355 
	`as£¹
(
ic
->
šdex
 =ğ
»mIdx
);

356 
d–‘e
 
ic
;

357 ià(
šdexCÏu£s
->
	`size
(è!ğ
»mIdx
)

358 (*
šdexCÏu£s
)[
»mIdx
]->
šdex
 =„emIdx;

360 ià(
šdexCÏu£s
->
	`em±y
())

362 
çc
 = 
fÜmAndCÏu£sA¼ay_
->
	`»moveI‹mFa¡DisÜd”
(
fidx
);

363 
	`as£¹
(
çc
->
šdex
 =ğ
fidx
);

364 
d–‘e
 
çc
;

365 ià(
fÜmAndCÏu£sA¼ay_
->
	`size
(è!ğ
fidx
)

366 (*
fÜmAndCÏu£sA¼ay_
)[
fidx
]->
šdex
 = fidx;

370 
d–‘e
 
ci
;

371 
	`as£¹
(
şau£s_
->
	`size
(è=ğ
şau£Infos_
->size());

372  
r
;

373 
	}
}

377 
CÏu£
* 
	$»moveCÏu£
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
)

379 
idx
 = 
	`fšdCÏu£Idx
(
c
);

380 ià(
idx
 < 0è 
NULL
;

381  
	`»moveCÏu£
(
idx
);

382 
	}
}

385 
»moveAÎCÏu£s
(
A¼ay
<
CÏu£
*>* cÚ¡ & 
şau£s
)

387 !
	gşau£s_
->
em±y
())

389 
CÏu£
* 
	gc
 = 
»moveCÏu£
(0);

390 ià(
	gşau£s
èşau£s->
­³nd
(
c
);

391 
d–‘e
 
	gc
;

401 
	$»hashCÏu£s
()

403 
CÏu£HashA¼ay
* 
Ãwha
 = 
Ãw
 ClauseHashArray;

404 
i
 = 0; i < 
şau£s_
->
	`size
(); i++)

406 
a
 = 
Ãwha
->
	`­³nd
((*
şau£s_
)[
i
]);

407 
	`as£¹
(
a
 >= 0);‡ = 0;

409 
d–‘e
 
şau£s_
;

410 
şau£s_
 = 
Ãwha
;

413 
i
 = 0; i < 
fÜmAndCÏu£sA¼ay_
->
	`size
(); i++)

415 
FÜmuÏAndCÏu£s
* 
çc
 = (*
fÜmAndCÏu£sA¼ay_
)[
i
];

416 
IndexCÏu£HashA¼ay
* 
ÃwA¼
 = 
Ãw
 IndexClauseHashArray;

417 
IndexCÏu£HashA¼ay
* 
curA¼
 = 
çc
->
šdexCÏu£s
;

418 
j
 = 0; j < 
curA¼
->
	`size
(); j++)

420 
a
 = 
ÃwA¼
->
	`­³nd
((*
curA¼
)[
j
]);

421 
	`as£¹
((*
curA¼
)[
j
]->
šdex
 =ğ
a
);‡ = 0;

423 
curA¼
->
	`ş—r
();

424 
d–‘e
 
curA¼
;

425 
çc
->
šdexCÏu£s
 = 
ÃwA¼
;

427 
	}
}

433 
	$g‘MaxAbsSoáWt
()

436 
maxSoáWt
 = 0;

437 
i
 = 0; i < 
şau£s_
->
	`size
(); i++)

439 
CÏu£
* 
c
 = (*
şau£s_
)[
i
];

440 ià(!
c
->
	`isH¬dCÏu£
(è&& !
	`isExi¡UniqueCÏu£
(c))

442 
abWt
 = 
	`çbs
(
c
->
	`g‘Wt
());

443 ià(
abWt
 > 
maxSoáWt
) maxSoftWt =‡bWt;

446  
maxSoáWt
;

447 
	}
}

451 
	$fšdCÏu£Idx
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
) const

452 {  
şau£s_
->
	`fšd
((
CÏu£
*)
c
); 
	}
}

455 cÚ¡ 
CÏu£
* 
	$fšdCÏu£
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
) const

457 
cout
 << "m1" << 
’dl
;

458 
i
 = 
	`fšdCÏu£Idx
(
c
);

459 
cout
 << "m2" << 
’dl
;

460 ià(
i
 < 0è 
NULL
;

461 
cout
 << "m3" << 
’dl
;

462  (*
şau£s_
)[
i
];

463 
	}
}

468 cÚ¡ 
CÏu£
* 
	$g‘CÏu£
(cÚ¡ & 
i
) const

470 ià(
i
 < 0 || i >ğ
şau£s_
->
	`size
()è 
NULL
;

471  (*
şau£s_
)[
i
];

472 
	}
}

476 cÚ¡ 
CÏu£
* 
	$g‘HybridCÏu£
(cÚ¡ & 
i
) const

478 ià(
i
 < 0 || i >ğ
hybridCÏu£s_
->
	`size
()è 
NULL
;

479  (*
hybridCÏu£s_
)[
i
];

480 
	}
}

482 cÚ¡ 
P»diÿ‹
* 
	$g‘Num”icP»d
(cÚ¡ & 
i
) const

484 ià(
i
 < 0 || i >ğ
num”icP»ds_
->
	`size
()è 
NULL
;

485  (*
num”icP»ds_
)[
i
];

486 
	}
}

488 cÚ¡ 
	$g‘Num”icM—n
(cÚ¡ & 
i
) const

490  (*
num”icM—ns_
)[
i
];

491 
	}
}

493 
	$g‘HybridCÏu£V¬Ÿnû
(cÚ¡ & 
i
,

494 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

496 
sum
 = 0.0;

497 
m—n
 = (*
num”icM—ns_
)[
i
];

499 
P»diÿ‹
* 
´ed
 = (*
num”icP»ds_
)[
i
];

500 
A¼ay
<
P»diÿ‹
*> 
´edA¼
;

501 
´ed
->
	`ü—‹AÎGroundšgs
(
domaš
, 
´edA¼
);

503 
numP»ds
 = 
´edA¼
.
	`size
();

504 
i
 = 0; i < 
numP»ds
; i++)

506 
P»diÿ‹
* 
ÃwP»d
 = 
´edA¼
[
i
];

507 
rv
 = 
domaš
->
	`g‘DB
()->
	`g‘R—lV®ue
(
ÃwP»d
);

508 
sum
 +ğ
	`pow
((
rv
 - 
m—n
),2.0);

509 
d–‘e
 
ÃwP»d
;

511 
v¬Ÿnû
 = (
sum
 / (()
numP»ds
));

512  
v¬Ÿnû
;

513 
	}
}

515 
boŞ
 
	$isEx‹º®CÏu£
(cÚ¡ & 
i
) const

517 
	`as£¹
(0 <ğ
i
 && i < 
şau£s_
->
	`size
());

518  (*
ex‹º®CÏu£_
)[
i
];

519 
	}
}

521 
boŞ
 
	$isEx‹º®CÏu£
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
) const

523 
i
 = 
	`fšdCÏu£Idx
(
c
);

524 
	`as£¹
(
i
 >= 0);

525  
	`isEx‹º®CÏu£
(
i
);

526 
	}
}

530 
boŞ
 
	$isExi¡CÏu£
(cÚ¡ & 
i
) const

532 
	`as£¹
(0 <ğ
i
 && i < 
şau£s_
->
	`size
());

533 
A¼ay
<
FÜmuÏCÏu£Indexes
*>& 
fciA¼


534 ğ(*
şau£Infos_
)[
i
]->
fÜmuÏCÏu£Indexes
;

535 
i
 = 0; i < 
fciA¼
.
	`size
(); i++)

536 ià((*
fÜmAndCÏu£sA¼ay_
)[*(
fciA¼
[
i
]->
fÜmuÏIndex
)]->
hasExi¡
)

537  
Œue
;

538  
çl£
;

539 
	}
}

544 
boŞ
 
	$isExi¡CÏu£
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
) const

546 
i
 = 
	`fšdCÏu£Idx
(
c
);

547 
	`as£¹
(
i
 >= 0);

548  
	`isExi¡CÏu£
(
i
);

549 
	}
}

554 
boŞ
 
	$isExi¡UniqueCÏu£
(cÚ¡ & 
i
) const

556 
	`as£¹
(0 <ğ
i
 && i < 
şau£s_
->
	`size
());

557 
A¼ay
<
FÜmuÏCÏu£Indexes
*>& 
fciA¼


558 ğ(*
şau£Infos_
)[
i
]->
fÜmuÏCÏu£Indexes
;

559 
i
 = 0; i < 
fciA¼
.
	`size
(); i++)

560 ià((*
fÜmAndCÏu£sA¼ay_
)[*(
fciA¼
[
i
]->
fÜmuÏIndex
)]->
isExi¡Unique
)

561  
Œue
;

562  
çl£
;

563 
	}
}

568 
boŞ
 
	$isExi¡UniqueCÏu£
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
) const

570 
i
 = 
	`fšdCÏu£Idx
(
c
);

571 
	`as£¹
(
i
 >= 0);

572  
	`isExi¡UniqueCÏu£
(
i
);

573 
	}
}

578 
boŞ
 
	$şau£InNÚExi¡AndNÚExi¡UniqueFÜmuÏCNF
(cÚ¡ & 
i
) const

580 
	`as£¹
(0 <ğ
i
 && i < 
şau£s_
->
	`size
());

581 
A¼ay
<
FÜmuÏCÏu£Indexes
*>& 
fciA¼


582 ğ(*
şau£Infos_
)[
i
]->
fÜmuÏCÏu£Indexes
;

583 
i
 = 0; i < 
fciA¼
.
	`size
(); i++)

585 
FÜmuÏAndCÏu£s
*
âc
=(*
fÜmAndCÏu£sA¼ay_
)[*(
fciA¼
[
i
]->
fÜmuÏIndex
)];

586 ià(!
âc
->
hasExi¡
 && !âc->
isExi¡Unique
è 
Œue
;

588  
çl£
;

589 
	}
}

594 
boŞ
 
	$şau£InNÚExi¡AndNÚExi¡UniqueFÜmuÏCNF
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
)

597 
i
 = 
	`fšdCÏu£Idx
(
c
);

598 
	`as£¹
(
i
 >= 0);

599  
	`şau£InNÚExi¡AndNÚExi¡UniqueFÜmuÏCNF
(
i
);

600 
	}
}

604 cÚ¡ 
CÏu£HashA¼ay
* 
	$g‘CÏu£s
(ècÚ¡ {  
şau£s_
; 
	}
}

607 cÚ¡ 
	gA¼ay
<
	gCÏu£
*>* 
	$g‘HybridCÏu£s
(ècÚ¡ {  
hybridCÏu£s_
; 
	}
}

609 
	$g‘SoáCÏu£Size
()

611 
şau£Num
 = 
şau£s_
->
	`size
();

612 
i
 = 0; i < 
şau£Num
; i++)

614 
CÏu£
* 
şau£
 = (*
şau£s_
)[
i
];

615 ià(
şau£
->
	`isH¬dCÏu£
())

617 
şau£Num
 --;

620  
şau£Num
;

621 
	}
}

623 
g‘CÏu£s
(
A¼ay
<
CÏu£
*>* cÚ¡ & 
şau£s
) const

624 { 
	gi
 = 0; i < 
	gşau£s_
->
size
();i++è
	gşau£s
->
­³nd
((*
şau£s_
)[
i
]); }

626 
	$£tCÏu£s
(
CÏu£HashA¼ay
* cÚ¡ & 
şau£s
)

627 { 
şau£s_
 = 
şau£s
; 
	}
}

629 
	$»¶aûCÏu£s
(
CÏu£HashA¼ay
* cÚ¡ & 
şau£s
)

631 ià(
şau£s_
)

633 
şau£s_
->
	`d–‘eI‹msAndCË¬
();

634 
d–‘e
 
şau£s_
;

636 
şau£s_
 = 
şau£s
;

637 
	}
}

639 cÚ¡ 
MLNCÏu£Info
* 
	$g‘MLNCÏu£Info
(cÚ¡ & 
i
) const

641 ià(
i
 < 0 || i >ğ
şau£Infos_
->
	`size
()è 
NULL
;

642  (*
şau£Infos_
)[
i
];

643 
	}
}

646 * 
	$g‘MLNCÏu£InfoIndexPŒ
(cÚ¡ & 
i
) const

648 
	`as£¹
(0 <ğ
i
 && i < 
şau£Infos_
->
	`size
());

649  &((*
şau£Infos_
)[
i
]->
šdex
);

650 
	}
}

652 cÚ¡ 
	gA¼ay
<
	gMLNCÏu£Info
*>* 
	$g‘MLNCÏu£Infos
() const

653 {  
şau£Infos_
; 
	}
}

655 
£tMLNCÏu£Infos
(
A¼ay
<
MLNCÏu£Info
*>* cÚ¡ & 
şau£Infos
)

656 { 
	gşau£Infos_
 = 
şau£Infos
; }

658 
»¶aûMLNCÏu£Infos
(
A¼ay
<
MLNCÏu£Info
*>* cÚ¡ & 
şau£Infos
)

660 ià(
	gşau£Infos_
)

662 
	gşau£Infos_
->
d–‘eI‹msAndCË¬
();

663 
d–‘e
 
	gşau£Infos_
;

665 
	gşau£Infos_
 = 
şau£Infos
;

670 cÚ¡ 
	gA¼ay
<A¼ay<
	gIndexCÏu£
*>*>* 
	$g‘P»dIdToCÏu£sM­
() const

671 {  
´edIdToCÏu£sM­_
; 
	}
}

673 
£tP»dIdToCÏu£sM­
(
A¼ay
<A¼ay<
IndexCÏu£
*>*>* cÚ¡ & 
´edIdToCÏu£sM­
)

674 { 
	g´edIdToCÏu£sM­_
 = 
´edIdToCÏu£sM­
; }

676 
»¶aûP»dIdToCÏu£sM­
(
A¼ay
<A¼ay<
IndexCÏu£
*>*>* cÚ¡ & 
´edIdToCÏu£sM­
)

678 ià(
	g´edIdToCÏu£sM­_
)

680 
	gi
 = 0; i < 
	g´edIdToCÏu£sM­_
->
size
(); i++)

681 ià((*
	g´edIdToCÏu£sM­_
)[
i
])

683 (*
	g´edIdToCÏu£sM­_
)[
i
]->
d–‘eI‹msAndCË¬
();

684 
d–‘e
 (*
´edIdToCÏu£sM­_
)[
i
];

687 
d–‘e
 
	g´edIdToCÏu£sM­_
;

690 
	g´edIdToCÏu£sM­_
 = 
´edIdToCÏu£sM­
;

693 cÚ¡ 
FÜmuÏAndCÏu£sA¼ay
* 
	$g‘FÜmuÏAndCÏu£sA¼ay
() const

694 {  
fÜmAndCÏu£sA¼ay_
; 
	}
}

696 
	$£tFÜmuÏAndCÏu£sA¼ay
(
FÜmuÏAndCÏu£sA¼ay
* cÚ¡ & 
fÜmAndCÏu£sA¼ay
)

697 { 
fÜmAndCÏu£sA¼ay_
 = 
fÜmAndCÏu£sA¼ay
; 
	}
}

699 
	$»¶aûFÜmuÏAndCÏu£sA¼ay
(
FÜmuÏAndCÏu£sA¼ay
* cÚ¡ & 
fÜmAndCÏu£sA¼ay
)

701 ià(
fÜmAndCÏu£sA¼ay_
)

703 
fÜmAndCÏu£sA¼ay_
->
	`d–‘eI‹msAndCË¬
();

704 
d–‘e
 
fÜmAndCÏu£sA¼ay_
;

706 
fÜmAndCÏu£sA¼ay_
 = 
fÜmAndCÏu£sA¼ay
;

707 
	}
}

709 cÚ¡ 
	gA¼ay
<
	gboŞ
>* 
	$g‘Ex‹º®CÏu£
() const

710 {  
ex‹º®CÏu£_
; 
	}
}

712 
£tEx‹º®CÏu£
(
A¼ay
<
boŞ
>* cÚ¡ & 
ex‹º®CÏu£
)

714 
	gex‹º®CÏu£_
 = 
ex‹º®CÏu£
;

717 
»¶aûEx‹º®CÏu£
(
A¼ay
<
boŞ
>* cÚ¡ & 
ex‹º®CÏu£
)

719 ià(
	gex‹º®CÏu£_
)

721 
d–‘e
 
	gex‹º®CÏu£_
;

723 
	gex‹º®CÏu£_
 = 
ex‹º®CÏu£
;

727 
	$£tCÏu£InfoPriÜM—nsToCÏu£Wts
()

729 
	`as£¹
(
şau£s_
->
	`size
(è=ğ
şau£Infos_
->size());

730 
i
 = 0; i < 
şau£Infos_
->
	`size
(); i++)

731 (*
şau£Infos_
)[
i
]->
´iÜM—n
 = (*
şau£s_
)[i]->
	`g‘Wt
();

732 
	}
}

735 
g‘CÏu£Wts
(
A¼ay
<>& 
wts
) const

737 
	gwts
.
ş—r
();

738 
	gi
 = 0; i < 
	gşau£s_
->
size
(); i++)

739 
	gwts
.
­³nd
((*
şau£s_
)[
i
]->
g‘Wt
());

743 
£tCÏu£Wts
(
A¼ay
<>& 
wts
)

745 
as£¹
 (
wts
.
size
(è=ğ
şau£s_
->size());

746 
	gi
 = 0; i < 
	gşau£s_
->
size
(); i++)

747 (*
	gşau£s_
)[
i
]->
£tWt
(
wts
[i]);

751 cÚ¡ 
IndexCÏu£HashA¼ay
*

752 
	$g‘CÏu£sOfFÜmuÏ
(cÚ¡ 
¡ršg
& 
fÜmuÏSŒ
) const

754 
FÜmuÏAndCÏu£s
 
	`tmp
(
fÜmuÏSŒ
, 0, 
çl£
, false, false);

755 
i
 = 
fÜmAndCÏu£sA¼ay_
->
	`fšd
(&
tmp
);

756 ià(
i
 < 0è 
NULL
;

757 
FÜmuÏAndCÏu£s
* 
âc
 = (*
fÜmAndCÏu£sA¼ay_
)[
i
];

758  
âc
->
šdexCÏu£s
;

759 
	}
}

764 
boŞ
 
	$£tFÜmuÏNumP»ds
(cÚ¡ 
¡ršg
& 
fÜmuÏSŒ
, cÚ¡ & 
numP»ds
)

766 
FÜmuÏAndCÏu£s
 
	`tmp
(
fÜmuÏSŒ
, 0, 
çl£
, false, false);

767 
i
 = 
fÜmAndCÏu£sA¼ay_
->
	`fšd
(&
tmp
);

768 ià(
i
 < 0è 
çl£
;

769 
FÜmuÏAndCÏu£s
* 
âc
 = (*
fÜmAndCÏu£sA¼ay_
)[
i
];

770 
âc
->
numP»ds
 =‚umPreds;

771  
Œue
;

772 
	}
}

777 
boŞ
 
	$£tFÜmuÏIsH¬d
(cÚ¡ 
¡ršg
& 
fÜmuÏSŒ
, cÚ¡ 
boŞ
& 
isH¬d
)

779 
FÜmuÏAndCÏu£s
 
	`tmp
(
fÜmuÏSŒ
, 0, 
çl£
, false, false);

780 
i
 = 
fÜmAndCÏu£sA¼ay_
->
	`fšd
(&
tmp
);

781 ià(
i
 < 0è 
çl£
;

782 
FÜmuÏAndCÏu£s
* 
âc
 = (*
fÜmAndCÏu£sA¼ay_
)[
i
];

783 
âc
->
isH¬d
 = isHard;

784  
Œue
;

785 
	}
}

790 
boŞ
 
	$£tFÜmuÏPriÜM—n
(cÚ¡ 
¡ršg
& 
fÜmuÏSŒ
, cÚ¡ & 
´iÜM—n
)

792 
FÜmuÏAndCÏu£s
 
	`tmp
(
fÜmuÏSŒ
, 0, 
çl£
, false, false);

793 
i
 = 
fÜmAndCÏu£sA¼ay_
->
	`fšd
(&
tmp
);

794 ià(
i
 < 0è 
çl£
;

795 
FÜmuÏAndCÏu£s
* 
âc
 = (*
fÜmAndCÏu£sA¼ay_
)[
i
];

796 
âc
->
´iÜM—n
 =…riorMean;

797  
Œue
;

798 
	}
}

802 
boŞ
 
	$£tFÜmuÏWt
(cÚ¡ 
¡ršg
& 
fÜmuÏSŒ
, cÚ¡ & 
wt
)

804 
FÜmuÏAndCÏu£s
 
	`tmp
(
fÜmuÏSŒ
, 0, 
çl£
, false, false);

805 
i
 = 
fÜmAndCÏu£sA¼ay_
->
	`fšd
(&
tmp
);

806 ià(
i
 < 0è 
çl£
;

807 
FÜmuÏAndCÏu£s
* 
âc
 = (*
fÜmAndCÏu£sA¼ay_
)[
i
];

808 
âc
->
wt
 = wt;

809  
Œue
;

810 
	}
}

815 
boŞ
 
	$£tFÜmuÏIsExi¡Unique
(cÚ¡ 
¡ršg
& 
fÜmuÏSŒ
,

816 cÚ¡ 
boŞ
& 
isExi¡Unique
)

818 
FÜmuÏAndCÏu£s
 
	`tmp
(
fÜmuÏSŒ
, 0, 
çl£
, false, false);

819 
i
 = 
fÜmAndCÏu£sA¼ay_
->
	`fšd
(&
tmp
);

820 ià(
i
 < 0è 
çl£
;

821 
FÜmuÏAndCÏu£s
* 
âc
 = (*
fÜmAndCÏu£sA¼ay_
)[
i
];

822 
âc
->
isExi¡Unique
 = isExistUnique;

823  
Œue
;

824 
	}
}

828 
	$g‘FÜmuÏWt
(cÚ¡ 
¡ršg
& 
fÜmuÏSŒ
)

830 
FÜmuÏAndCÏu£s
 
	`tmp
(
fÜmuÏSŒ
, 0, 
çl£
, false, false);

831 
i
 = 
fÜmAndCÏu£sA¼ay_
->
	`fšd
(&
tmp
);

832 
FÜmuÏAndCÏu£s
* 
âc
 = (*
fÜmAndCÏu£sA¼ay_
)[
i
];

833  
âc
->
wt
;

834 
	}
}

837 cÚ¡ 
	gA¼ay
<
	gIndexCÏu£
*>* 
	$g‘CÏu£sCÚššgP»d
(cÚ¡ & 
´edId
) const

839 ià(
´edId
 < 
´edIdToCÏu£sM­_
->
	`size
())

840  (*
´edIdToCÏu£sM­_
)[
´edId
];

841  
NULL
;

842 
	}
}

852 cÚ¡ 
¡ršg
 
	$g‘P¬’tFÜmuÏ
(cÚ¡ & 
şau£Idx
, cÚ¡ & 
fÜmuÏIdx
) const

854 
FÜmuÏCÏu£Indexes
* 
fcIdxs
 =

855 (*
şau£Infos_
)[
şau£Idx
]->
fÜmuÏCÏu£Indexes
[
fÜmuÏIdx
];

856  (*
fÜmAndCÏu£sA¼ay_
)[*
fcIdxs
->
fÜmuÏIndex
]->
fÜmuÏ
;

857 
	}
}

867 cÚ¡ 
¡ršg
 
	$g‘P¬’tFÜmuÏ
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
, cÚ¡ & 
fÜmuÏIdx
) const

869 
i
 = 
	`fšdCÏu£Idx
(
c
);

870 ià(
i
 < 0è 
NULL
;

871  
	`g‘P¬’tFÜmuÏ
(
i
, 
fÜmuÏIdx
);

872 
	}
}

875 
	$com´ess
()

877 
şau£s_
->
	`com´ess
();

878 
i
 = 0; i < 
şau£Infos_
->
	`size
(); i++)

879 (*
şau£Infos_
)[
i
]->
	`com´ess
();

880 
şau£Infos_
->
	`com´ess
();

881 
i
 = 0; i < 
fÜmAndCÏu£sA¼ay_
->
	`size
(); i++)

882 (*
fÜmAndCÏu£sA¼ay_
)[
i
]->
šdexCÏu£s
->
	`com´ess
();

883 
fÜmAndCÏu£sA¼ay_
->
	`com´ess
();

884 
i
 = 0; i < 
´edIdToCÏu£sM­_
->
	`size
(); i++)

885 ià((*
´edIdToCÏu£sM­_
)[
i
]è(*´edIdToCÏu£sM­_)[i]->
	`com´ess
();

886 
´edIdToCÏu£sM­_
->
	`com´ess
();

887 
	}
}

891 
	$´štMLN
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

893 
ou»c
 = 6;

894 
out
.
	`´ecisiÚ
(
ou»c
);

895 
out
.
	`£tf
(
ios_ba£
::
Ëá
, ios_ba£::
adju¡f›ld
);

897 cÚ¡ 
FÜmuÏAndCÏu£sA¼ay
* 
âcA¼
 = 
fÜmAndCÏu£sA¼ay_
;

899 
A¼ay
<> 
âcA¼Idxs
;

900 
i
 = 0; i < 
âcA¼
->
	`size
(); i++)

901 ià(!(*
âcA¼
)[
i
]->
hasExi¡
 && !(*âcA¼)[i]->
isExi¡Unique
)

902 
âcA¼Idxs
.
	`­³nd
(
i
);

904 
i
 = 0; i < 
âcA¼
->
	`size
(); i++)

905 ià((*
âcA¼
)[
i
]->
isExi¡Unique
)

906 
âcA¼Idxs
.
	`­³nd
(
i
);

908 
i
 = 0; i < 
âcA¼
->
	`size
(); i++)

909 ià((*
âcA¼
)[
i
]->
hasExi¡
)

910 
âcA¼Idxs
.
	`­³nd
(
i
);

913 
ii
 = 0; i˜< 
âcA¼Idxs
.
	`size
(); ii++)

915 
i
 = 
âcA¼Idxs
[
ii
];

916 
tÙ®Wt
 = 0;

917 
IndexCÏu£HashA¼ay
* 
šdexCÏu£s
 = (*
âcA¼
)[
i
]->indexClauses;

918 
j
 = 0; j < 
šdexCÏu£s
->
	`size
(); j++)

920 
CÏu£
* 
c
 = (*
šdexCÏu£s
)[
j
]->
şau£
;

921 
tÙ®Wt
 +ğ
c
->
	`g‘Wt
()/
	`g‘NumP¬’tFÜmuÏs
(c);

924 
out
.
	`width
(0); ouˆ<< "// "; out.width(
ou»c
);

925 ià((*
âcA¼
)[
i
]->
isH¬d
)

926 
out
 << (*
âcA¼
)[
i
]->
fÜmuÏ
 << 
’dl
;

929 ià((*
âcA¼
)[
i
]->
isCÚjunùiÚ
è
tÙ®Wt
 = -totalWt;

930 
out
 << 
tÙ®Wt
 << " " << (*
âcA¼
)[
i
]->
fÜmuÏ
 << 
’dl
;

933 ià((*
âcA¼
)[
i
]->
hasExi¡
 || (*âcA¼)[i]->
isExi¡Unique
)

935 ià((*
âcA¼
)[
i
]->
isH¬d
)

936 
out
 << (*
âcA¼
)[
i
]->
fÜmuÏ
 << "." << 
’dl
;

938 
out
 << 
tÙ®Wt
 << " " << (*
âcA¼
)[
i
]->
fÜmuÏ
 <<
’dl
;

942 ià((*
âcA¼
)[
i
]->
t›dCÏu£s
)

944 
out
.
	`width
(
ou»c
);

945 ià((*
âcA¼
)[
i
]->
isH¬d
)

946 
out
 << (*
âcA¼
)[
i
]->
fÜmuÏ
 << "." << 
’dl
;

948 
out
 << 
tÙ®Wt
 << " " << (*
âcA¼
)[
i
]->
fÜmuÏ
 << 
’dl
;

954 
j
 = 0; j < 
šdexCÏu£s
->
	`size
(); j++)

956 
CÏu£
* 
c
 = (*
šdexCÏu£s
)[
j
]->
şau£
;

957 ià((*
âcA¼
)[
i
]->
isH¬d
)

959 
c
->
	`´štW™houtWtW™hSŒV¬
(
out
, 
domaš
);

960 
out
 << ".";

964 
out
.
	`width
(
ou»c
);

965 
out
 << 
c
->
	`g‘Wt
()/
	`g‘NumP¬’tFÜmuÏs
(c) << " ";

966 
c
->
	`´štW™houtWtW™hSŒV¬
(
out
, 
domaš
);

968 
out
 << 
’dl
;

972 
out
 << 
’dl
;

975 
i
 = 0; i < 
hybridCÏu£s_
->
	`size
(); i++)

977 
CÏu£
* 
c
 = (*
hybridCÏu£s_
)[
i
];

980 
out
.
	`width
(0); ouˆ<< "// "; out.width(
ou»c
);

981 ià(!
c
->
	`isH¬dCÏu£
()è
out
 << c->
	`g‘Wt
() << " ";

982 
out
 << (*
hybridFÜmuÏSŒšgs_
)[
i
];

983 
out
 << 
’dl
;

985 
out
.
	`width
(
ou»c
);

986 ià(!
c
->
	`isH¬dCÏu£
()è
out
 << c->
	`g‘Wt
() << " ";

987 
c
->
	`´štW™houtWtW™hSŒV¬
(
out
, 
domaš
);

988 
out
 << " * (";

989 (*
num”icP»ds_
)[
i
]->
	`´štW™hSŒV¬
(
out
, 
domaš
);

990 
out
 << " = " << (*
num”icM—ns_
)[
i
] << ")";

991 ià(
c
->
	`isH¬dCÏu£
()è
out
 << ".";

992 
out
 << 
’dl
;

994 
	}
}

999 
	$´štMLNNÚExi¡FÜmuÏs
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

1001 
ou»c
 = 6;

1002 
out
.
	`´ecisiÚ
(
ou»c
);

1003 
out
.
	`£tf
(
ios_ba£
::
Ëá
, ios_ba£::
adju¡f›ld
);

1006 cÚ¡ 
FÜmuÏAndCÏu£sA¼ay
* 
âcA¼
 = 
fÜmAndCÏu£sA¼ay_
;

1007 
i
 = 0; i < 
âcA¼
->
	`size
(); i++)

1009 ià((*
âcA¼
)[
i
]->
hasExi¡
 || (*âcA¼)[i]->
isExi¡Unique
) ;

1011 
tÙ®Wt
 = 0;

1012 
IndexCÏu£HashA¼ay
* 
šdexCÏu£s
 = (*
âcA¼
)[
i
]->indexClauses;

1013 
j
 = 0; j < 
šdexCÏu£s
->
	`size
(); j++)

1015 
CÏu£
* 
c
 = (*
šdexCÏu£s
)[
j
]->
şau£
;

1017 
tÙ®Wt


1018 +ğ
c
->
	`g‘Wt
()/
	`g‘NumNÚExi¡NÚExi¡UniqueP¬’tFÜmuÏs
(c);

1021 
out
.
	`width
(0); ouˆ<< "// "; out.width(
ou»c
);

1022 ià((*
âcA¼
)[
i
]->
isH¬d
)

1023 
out
 << (*
âcA¼
)[
i
]->
fÜmuÏ
 << 
’dl
;

1026 ià((*
âcA¼
)[
i
]->
isCÚjunùiÚ
è
tÙ®Wt
 = -totalWt;

1027 
out
 << 
tÙ®Wt
 << " " << (*
âcA¼
)[
i
]->
fÜmuÏ
 << 
’dl
;

1030 ià((*
âcA¼
)[
i
]->
t›dCÏu£s
)

1032 
out
.
	`width
(
ou»c
);

1033 ià((*
âcA¼
)[
i
]->
isH¬d
)

1034 
out
 << (*
âcA¼
)[
i
]->
fÜmuÏ
 << "." << 
’dl
;

1036 
out
 << 
tÙ®Wt
 << " " << (*
âcA¼
)[
i
]->
fÜmuÏ
 << 
’dl
;

1042 
j
 = 0; j < 
šdexCÏu£s
->
	`size
(); j++)

1044 
CÏu£
* 
c
 = (*
šdexCÏu£s
)[
j
]->
şau£
;

1045 
out
.
	`width
(
ou»c
);

1047 ià(!(*
âcA¼
)[
i
]->
isH¬d
)

1049 
out
 << 
c
->
	`g‘Wt
()/
	`g‘NumNÚExi¡NÚExi¡UniqueP¬’tFÜmuÏs
(c)

1052 
c
->
	`´štW™houtWtW™hSŒV¬
(
out
, 
domaš
);

1053 ià((*
âcA¼
)[
i
]->
isH¬d
è
out
 << ".";

1054 
out
 << 
’dl
;

1057 
out
 << 
’dl
;

1059 
	}
}

1064 
	$´štMLNCÏu£sFÜmuÏs
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1065 cÚ¡ 
boŞ
& 
šşudeIdx
)

1067 
idx
 = 0;

1068 * 
¡¬tIdx
 = (
šşudeIdx
è? &
idx
 : 
NULL
;

1069 
boŞ
 
šşudeExi¡CÏu£s
 = 
çl£
;

1070 
boŞ
 
divideWtAmÚgExi¡FÜmuÏs
 = 
Œue
;

1071 
boŞ
 
sÜtByL’
 = 
Œue
;

1072 
	`´štCÏu£sW™hWeights
(
out
, 
domaš
, 
¡¬tIdx
, 
šşudeExi¡CÏu£s
,

1073 
sÜtByL’
, 
divideWtAmÚgExi¡FÜmuÏs
);

1074 
	`´štExi¡OrExi¡UniqueFÜmuÏsW™hWeights
(
out
, 
¡¬tIdx
);

1075 
	}
}

1080 
	$´štCÏu£sW™hWeights
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1081 * cÚ¡ & 
¡¬tIdx
 = 
NULL
,

1082 cÚ¡ 
boŞ
& 
šşudeExi¡CÏu£s
=
Œue
,

1083 cÚ¡ 
boŞ
& 
sÜtByL’
=
çl£
,

1084 cÚ¡ 
boŞ
& 
divWtAmÚgExi¡FÜmuÏs
=
çl£
) const

1086 
A¼ay
<
CÏu£
*> 
ÿ
;

1087 
i
 = 0; i < 
şau£s_
->
	`size
(); i++)

1089 iàĞ!
šşudeExi¡CÏu£s
 &&

1090 !
	`şau£InNÚExi¡AndNÚExi¡UniqueFÜmuÏCNF
(
i
) ) ;

1091 
ÿ
.
	`­³nd
((*
şau£s_
)[
i
]);

1094 ià(
sÜtByL’
è
CÏu£
::
	`sÜtByL’
(
ÿ
);

1095 
CÏu£HashA¼ay
 
cha
;

1096 
i
 = 0; i < 
ÿ
.
	`size
(); i++è
cha
.
	`­³nd
(ca[i]);

1098 
	`´štCÏu£sW™hWeights
(
out
, 
domaš
, &
cha
,
¡¬tIdx
,
divWtAmÚgExi¡FÜmuÏs
);

1099 
	}
}

1102 
	$´štCÏu£PriÜM—ns
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

1104 
out
.
	`£tf
(
ios_ba£
::
Ëá
, ios_ba£::
adju¡f›ld
);

1105 
out
.
	`´ecisiÚ
(6);

1106 
	`as£¹
(
şau£Infos_
->
	`size
(è=ğ
şau£s_
->size());

1107 
i
 = 0; i < 
şau£s_
->
	`size
(); i++)

1109 
out
 << 
i
 << ": "; out.
	`width
(14);

1110 
out
 << (*
şau£Infos_
)[
i
]->
´iÜM—n
; out.
	`width
(0); out << " ";

1111 (*
şau£s_
)[
i
]->
	`´štW™houtWtW™hSŒV¬
(
out
, 
domaš
);

1112 
out
 << 
’dl
;

1114 
out
.
	`width
(0);

1115 
	}
}

1118 
	$´štFÜmuÏPriÜM—ns
(
o¡»am
& 
out
)

1120 
out
.
	`£tf
(
ios_ba£
::
Ëá
, ios_ba£::
adju¡f›ld
);

1121 
out
.
	`´ecisiÚ
(6);

1122 
i
 = 0; i < 
fÜmAndCÏu£sA¼ay_
->
	`size
(); i++)

1124 
FÜmuÏAndCÏu£s
* 
âc
 = (*
fÜmAndCÏu£sA¼ay_
)[
i
];

1125 
out
 << 
i
 << ": "; out.
	`width
(14);

1126 
out
 << 
âc
->
´iÜM—n
; out.
	`width
(0);

1127 
out
 << " " << 
âc
->
fÜmuÏ
 << 
’dl
;

1129 
out
.
	`width
(0);

1130 
	}
}

1133 
	g´iv©e
:

1134 
	$­³ndCÏu£Info
(cÚ¡ 
CÏu£
* cÚ¡ & 
şau£
, cÚ¡ & 
şau£Idx
,

1135 * cÚ¡& 
fÜmuÏIdx
, * cÚ¡& 
şau£IdxFÜFÜmuÏ
)

1137 
	`as£¹
(
şau£Infos_
->
	`size
(è=ğ
şau£Idx
);

1139 
MLNCÏu£Info
* 
ci
 = 
Ãw
 
	`MLNCÏu£Info
(
şau£Infos_
->
	`size
());

1140 
şau£Infos_
->
	`­³nd
(
ci
);

1143 
A¼ay
<
P»dIdCÏu£Index
*>& 
piciA¼
 = 
ci
->
´edIdsCÏu£Indexes
;

1144 
hash_£t
<> 
£’P»dIds
;

1145 cÚ¡ 
A¼ay
<
P»diÿ‹
*>* 
´eds
 = 
şau£
->
	`g‘P»diÿ‹s
();

1146 
i
 = 0; i < 
´eds
->
	`size
(); i++)

1148 
´edId
 = (*
´eds
)[
i
]->
	`g‘Id
();

1150 ià(
£’P»dIds
.
	`fšd
(
´edId
è!ğ£’P»dIds.
	`’d
()) ;

1151 
£’P»dIds
.
	`š£¹
(
´edId
);

1153 ià(
´edId
 >ğ
´edIdToCÏu£sM­_
->
	`size
())

1154 
´edIdToCÏu£sM­_
->
	`growToSize
(
´edId
+1, 
NULL
);

1155 
A¼ay
<
IndexCÏu£
*>*& 
icA¼
 = (*
´edIdToCÏu£sM­_
)[
´edId
];

1156 ià(
icA¼
 =ğ
NULL
èicA¼ = 
Ãw
 
A¼ay
<
IndexCÏu£
*>;

1157 
IndexCÏu£
* 
ic
 = 
Ãw
 
	`IndexCÏu£
(
icA¼
->
	`size
(), (
CÏu£
*)
şau£
);

1158 
icA¼
->
	`­³nd
(
ic
);

1160 
piciA¼
.
	`­³nd
(
Ãw
 
	`P»dIdCÏu£Index
(
´edId
, &(
ic
->
šdex
)));

1163 
	`upd©eCÏu£Info
(
şau£Idx
, 
fÜmuÏIdx
, 
şau£IdxFÜFÜmuÏ
);

1164 
	}
}

1167 
	$upd©eCÏu£Info
(cÚ¡ & 
şau£Idx
, * cÚ¡ & 
fÜmuÏIdx
,

1168 * cÚ¡ & 
şau£IdxFÜFÜmuÏ
)

1170 
MLNCÏu£Info
* 
şau£Info
 = (*
şau£Infos_
)[
şau£Idx
];

1172 
	`as£¹
(*
şau£IdxFÜFÜmuÏ
 >= 0);

1173 
A¼ay
<
FÜmuÏCÏu£Indexes
*>& 
fciA¼
 = 
şau£Info
->
fÜmuÏCÏu£Indexes
;

1175 
fciA¼
.
	`­³nd
(
Ãw
 
	`FÜmuÏCÏu£Indexes
(
fÜmuÏIdx
, 
şau£IdxFÜFÜmuÏ
));

1176 
	}
}

1180 
	$g‘NumP¬’tFÜmuÏs
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
) const

1182 
i
 = 
	`fšdCÏu£Idx
(
c
);

1183 ià(
i
 < 0)  -1;

1184  (*
şau£Infos_
)[
i
]->
fÜmuÏCÏu£Indexes
.
	`size
();

1185 
	}
}

1188 
	$g‘NumNÚExi¡NÚExi¡UniqueP¬’tFÜmuÏs
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
) const

1190 
i
 = 
	`fšdCÏu£Idx
(
c
);

1191 ià(
i
 < 0)  -1;

1192 
A¼ay
<
FÜmuÏCÏu£Indexes
*>& 
fciA¼


1193 ğ(*
şau£Infos_
)[
i
]->
fÜmuÏCÏu£Indexes
;

1194 
n
 = 0;

1195 
i
 = 0; i < 
fciA¼
.
	`size
(); i++)

1197 
fidx
 = *(
fciA¼
[
i
]->
fÜmuÏIndex
);

1198 
FÜmuÏAndCÏu£s
* 
âc
 = (*
fÜmAndCÏu£sA¼ay_
)[
fidx
];

1199 ià(!
âc
->
hasExi¡
 && !âc->
isExi¡Unique
è
n
++;

1201  
n
;

1202 
	}
}

1205 
	$g‘NumExi¡OrExi¡UniqueP¬’tFÜmuÏs
(cÚ¡ 
CÏu£
* cÚ¡ & 
c
) const

1207 
i
 = 
	`fšdCÏu£Idx
(
c
);

1208 ià(
i
 < 0)  -1;

1209 
A¼ay
<
FÜmuÏCÏu£Indexes
*>& 
fciA¼


1210 ğ(*
şau£Infos_
)[
i
]->
fÜmuÏCÏu£Indexes
;

1211 
n
 = 0;

1212 
i
 = 0; i < 
fciA¼
.
	`size
(); i++)

1214 
fidx
 = *(
fciA¼
[
i
]->
fÜmuÏIndex
);

1215 
FÜmuÏAndCÏu£s
* 
âc
 = (*
fÜmAndCÏu£sA¼ay_
)[
fidx
];

1216 ià(
âc
->
hasExi¡
 || fnc->
isExi¡Unique
è
n
++;

1218  
n
;

1219 
	}
}

1222 
	$´štCÏu£sW™hWeights
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1223 cÚ¡ 
CÏu£HashA¼ay
* cÚ¡ & 
şau£s
,

1224 * cÚ¡ & 
¡¬tIdx
,

1225 cÚ¡ 
boŞ
& 
divideW™hAmÚgExi¡FÜmuÏs
) const

1227 
out
.
	`£tf
(
ios_ba£
::
Ëá
, ios_ba£::
adju¡f›ld
);

1228 
i
;

1229 
i
 = 0; i < 
şau£s
->
	`size
(); i++)

1231 ià(
¡¬tIdx
è{ 
out
 << (*(¡¬tIdx))++ << ": "; out.
	`width
(14); }

1232 { 
out
.
	`width
(10); }

1234 
wt
 = (*
şau£s
)[
i
]->
	`g‘Wt
();

1235 ià(
divideW™hAmÚgExi¡FÜmuÏs
)

1236 
wt
 /ğ1+
	`g‘NumExi¡OrExi¡UniqueP¬’tFÜmuÏs
((*
şau£s
)[
i
]);

1238 
out
 << 
wt
; out.
	`width
(0); out << " ";

1239 (*
şau£s
)[
i
]->
	`´štW™houtWtW™hSŒV¬
(
out
, 
domaš
);

1240 
out
 << 
’dl
;

1242 
out
.
	`width
(0);

1243 
	}
}

1246 
	$´štExi¡OrExi¡UniqueFÜmuÏsW™hWeights
(
o¡»am
& 
out
,

1247 * cÚ¡ & 
¡¬tIdx
=
NULL
)

1249 
i
;

1250 
i
 = 0; i < 
fÜmAndCÏu£sA¼ay_
->
	`size
(); i++)

1252 ià(!(*
fÜmAndCÏu£sA¼ay_
)[
i
]->
hasExi¡
 &&

1253 !(*
fÜmAndCÏu£sA¼ay_
)[
i
]->
isExi¡Unique
) ;

1254 
tÙ®Wt
 = 0;

1255 
IndexCÏu£HashA¼ay
* 
šdexCÏu£s


1256 ğ(*
fÜmAndCÏu£sA¼ay_
)[
i
]->
šdexCÏu£s
;

1257 
j
 = 0; j < 
šdexCÏu£s
->
	`size
(); j++)

1259 
CÏu£
* 
c
 = (*
šdexCÏu£s
)[
j
]->
şau£
;

1260 
tÙ®Wt
 +ğ
c
->
	`g‘Wt
()/
	`g‘NumP¬’tFÜmuÏs
(c);

1263 ià(
¡¬tIdx
è{ 
out
 << (*(¡¬tIdx))++ << ": "; out.
	`width
(14); }

1264 { 
out
.
	`width
(10); }

1265 
out
 << 
tÙ®Wt
; out.
	`width
(0); out << " "

1266 << (*
fÜmAndCÏu£sA¼ay_
)[
i
]->
fÜmuÏ
 <<
’dl
;

1268 
	}
}

1271 
	g´iv©e
:

1272 
CÏu£HashA¼ay
* 
şau£s_
;

1273 
	gA¼ay
<
	gMLNCÏu£Info
*>* 
	gşau£Infos_
;

1274 
FÜmuÏAndCÏu£sA¼ay
* 
	gfÜmAndCÏu£sA¼ay_
;

1280 
	gA¼ay
<A¼ay<
	gIndexCÏu£
*>*>* 
	g´edIdToCÏu£sM­_
;

1285 
	gA¼ay
<
	gboŞ
>* 
	gex‹º®CÏu£_
;

1287 
	gA¼ay
<
	gCÏu£
*>* 
	ghybridCÏu£s_
;

1288 
	gA¼ay
<
	g¡ršg
>* 
	ghybridFÜmuÏSŒšgs_
;

1289 
	gA¼ay
<
	gP»diÿ‹
*>* 
	gnum”icP»ds_
;

1290 
	gA¼ay
<>* 
	gnum”icM—ns_
;

	@logic/mlnhelper.h

67 #iâdeà
MLNHELPER_H_NOV_4_2005


68 
	#MLNHELPER_H_NOV_4_2005


	)

74 
	sIndexCÏu£


76 
IndexCÏu£
(cÚ¡ & 
išdex
, 
CÏu£
* cÚ¡ & 
cşau£
)

77 : 
šdex
(
išdex
), 
şau£
(
cşau£
) {}

78 ~
IndexCÏu£
() {}

79 
	mšdex
;

80 
CÏu£
* 
	mşau£
;

83 şas 
	cHashIndexCÏu£


85 
	mpublic
:

86 
size_t
 
	$İ”©Ü
()(
IndexCÏu£
* cÚ¡& 
ic
) const

87 {  
ic
->
şau£
->
	`hashCode
(); }

88 
	}
};

90 şas 
	cEqu®IndexCÏu£


92 
	mpublic
:

93 
boŞ
 
	$İ”©Ü
()(
IndexCÏu£
* cÚ¡ & 
ic1
, IndexCÏu£* cÚ¡ & 
ic2
) const

94 {  
ic1
->
şau£
->
	`§me
(
ic2
->clause); }

95 
	}
};

97 
	gHashA¼ay
<
	tIndexCÏu£
*, 
	tHashIndexCÏu£
, 
	tEqu®IndexCÏu£
>

98 
	tIndexCÏu£HashA¼ay
;

106 
	sP»dIdCÏu£Index


108 
P»dIdCÏu£Index
(cÚ¡ & 
µ»dId
, * cÚ¡ & 
cşau£Index
)

109 : 
´edId
(
µ»dId
), 
şau£Index
(
cşau£Index
) {}

110 ~
P»dIdCÏu£Index
() {}

111 
	m´edId
;

112 * 
	mşau£Index
;

117 
	sFÜmuÏCÏu£Indexes


119 
FÜmuÏCÏu£Indexes
(* cÚ¡ & 
ffÜmuÏIndex
, * cÚ¡ & 
cşau£Index
)

120 : 
fÜmuÏIndex
(
ffÜmuÏIndex
), 
şau£Index
(
cşau£Index
) {}

121 ~
FÜmuÏCÏu£Indexes
() {}

122 * 
	mfÜmuÏIndex
;

123 * 
	mşau£Index
;

131 
	sMLNCÏu£Info


133 
MLNCÏu£Info
(cÚ¡ & 
išdex
, cÚ¡ & 
µriÜM—n
)

134 : 
šdex
(
išdex
), 
´iÜM—n
(
µriÜM—n
) {}

135 
MLNCÏu£Info
(cÚ¡ & 
išdex
è: 
šdex
(išdex), 
´iÜM—n
(0) {}

137 ~
MLNCÏu£Info
(è{ 
	m´edIdsCÏu£Indexes
.
d–‘eI‹msAndCË¬
();

138 
	mfÜmuÏCÏu£Indexes
.
d–‘eI‹msAndCË¬
(); }

139 
com´ess
(è{ 
	m´edIdsCÏu£Indexes
.compress();

140 
	mfÜmuÏCÏu£Indexes
.
com´ess
(); }

141 
	mšdex
;

142 
	mA¼ay
<
	mP»dIdCÏu£Index
*> 
	m´edIdsCÏu£Indexes
;

143 
	mA¼ay
<
	mFÜmuÏCÏu£Indexes
*> 
	mfÜmuÏCÏu£Indexes
;

144 
	m´iÜM—n
;

149 
	sFÜmuÏAndCÏu£s


151 
FÜmuÏAndCÏu£s
(cÚ¡ 
¡ršg
& 
ffÜmuÏ
, cÚ¡ & 
išdex
,

152 cÚ¡ 
boŞ
& 
hhasExi¡
, cÚ¡ boŞ& 
‰›dCÏu£s
,

153 cÚ¡ 
boŞ
& 
iisCÚjunùiÚ
)

154 : 
fÜmuÏ
(
ffÜmuÏ
), 
šdexCÏu£s
(
Ãw
 
IndexCÏu£HashA¼ay
), 
šdex
(
išdex
),

155 
hasExi¡
(
hhasExi¡
), 
t›dCÏu£s
(
‰›dCÏu£s
),

156 
isCÚjunùiÚ
(
iisCÚjunùiÚ
), 
numP»ds
(-1), 
isH¬d
(
çl£
), 
´iÜM—n
(0),

157 
wt
(0), 
isExi¡Unique
(
çl£
) {}

158 ~
FÜmuÏAndCÏu£s
(è{ 
	mšdexCÏu£s
->
d–‘eI‹msAndCË¬
();

159 
d–‘e
 
	mšdexCÏu£s
; }

160 
¡ršg
 
	mfÜmuÏ
;

161 
IndexCÏu£HashA¼ay
* 
	mšdexCÏu£s
;

162 
	mšdex
;

163 
boŞ
 
	mhasExi¡
;

164 
boŞ
 
	mt›dCÏu£s
;

165 
boŞ
 
	misCÚjunùiÚ
;

166 
	mnumP»ds
;

167 
boŞ
 
	misH¬d
;

168 
	m´iÜM—n
;

169 
	mwt
;

170 
boŞ
 
	misExi¡Unique
;

173 şas 
	cHashFÜmuÏAndCÏu£s


175 
	mpublic
:

176 
size_t
 
	$İ”©Ü
()(cÚ¡ 
FÜmuÏAndCÏu£s
* cÚ¡& 
f
) const

177 {  
hash
<cÚ¡ *>()(
f
->
fÜmuÏ
.
	`c_¡r
()); }

178 
	}
};

180 şas 
	cEqu®HashFÜmuÏAndCÏu£s


182 
	mpublic
:

183 
boŞ
 
	$İ”©Ü
()(cÚ¡ 
FÜmuÏAndCÏu£s
* cÚ¡ & 
f1
,

184 cÚ¡ 
FÜmuÏAndCÏu£s
* cÚ¡ & 
f2
) const

185 {  (
f1
->
fÜmuÏ
.
	`com·»
(
f2
->formula)==0); }

186 
	}
};

188 
	gHashA¼ay
<
	tFÜmuÏAndCÏu£s
*, 
	tHashFÜmuÏAndCÏu£s
,

189 
	tEqu®HashFÜmuÏAndCÏu£s
> 
	tFÜmuÏAndCÏu£sA¼ay
;

	@logic/predicate.cpp

66 
	~"´ediÿ‹.h
"

67 
	~"şau£.h
"

68 
	~"ground´ediÿ‹.h
"

70 
	gP»diÿ‹
::
fixedSizeB_
 = -1;

73 
	gP»diÿ‹
::
	$£tDœty
(è{ 
dœty_
 = 
Œue
; ià(
·»Á_
è·»Á_->
	`£tDœty
(); 
	}
}

76 
	gP»diÿ‹
::
	$£tP¬’tDœty
(è{ ià(
·»Á_
è·»Á_->
	`£tDœty
(); 
	}
}

79 
boŞ
 
	gP»diÿ‹
::
	$ÿnBeGroundedAs
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
gndP»d
)

82 iàĞ((è
‹m¶©e_
->
	`g‘Id
()è!ğ
gndP»d
->g‘Id()è 
çl£
;

86 ià(
	`®lT”msA»DiffV¬s
()è 
Œue
;

88 
v¬Gndšgs
[
MAX_VAR
];

89 
	`mem£t
(
v¬Gndšgs
, -1, 
MAX_VAR
*());

91 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

93 
‹rmTy³
 = (*
‹rms_
)[
i
]->
	`g‘Ty³
();

95 ià(
‹rmTy³
 =ğ
T”m
::
CONSTANT
)

97 
	`as£¹
((*
‹rms_
)[
i
]->
	`g‘Id
() >= 0);

98 iàĞ((è(*
‹rms_
)[
i
]->
	`g‘Id
()è!ğ
gndP»d
->
	`g‘T”mId
(i))

99  
çl£
;

102 ià(
‹rmTy³
 =ğ
T”m
::
VARIABLE
)

104 
v¬Id
 = -(*
‹rms_
)[
i
]->
	`g‘Id
();

105 
	`as£¹
(
v¬Id
 > 0);

106 
	`as£¹
(
v¬Id
 < 
MAX_VAR
);

107 ià(
v¬Gndšgs
[
v¬Id
] < 0)

108 
v¬Gndšgs
[
v¬Id
] = 
gndP»d
->
	`g‘T”mId
(
i
);

110 ià(
v¬Gndšgs
[
v¬Id
] !ğ(è
gndP»d
->
	`g‘T”mId
(
i
))

111  
çl£
;

115 
	`as£¹
(
çl£
);

118  
Œue
;

119 
	}
}

122 
boŞ
 
	gP»diÿ‹
::
	$§me
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
gp
)

124 iàĞ
	`g‘Id
(è!ğ(è
gp
->g‘Id(èè 
çl£
;

125 iàĞ
‹rms_
->
	`size
(è!ğ(è
gp
->
	`g‘NumT”ms
(èè 
çl£
;

126 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

127 iàĞ(*
‹rms_
)[
i
]->
	`g‘Id
(è!ğ(è
gp
->
	`g‘T”mId
(ièè 
çl£
;

128  
Œue
;

129 
	}
}

132 
	gP»diÿ‹
::
	$g‘NumGroundšgsIfAÎV¬Diff
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

134 
numGnd
 = 1;

135 
i
 = 0; i < 
‹m¶©e_
->
	`g‘NumT”ms
(); i++)

136 
numGnd
 *ğ
domaš
->
	`g‘NumCÚ¡ªtsByTy³
(
‹m¶©e_
->
	`g‘T”mTy³AsIÁ
(
i
));

137  
numGnd
;

138 
	}
}

141 
	gP»diÿ‹
::
ü—‹AÎGroundšgs
(cÚ¡ & 
´edId
,

142 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

143 
A¼ay
<
P»diÿ‹
*>& 
»tuºA¼ay
)

145 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	g±
 = 
domaš
->
g‘P»diÿ‹Tem¶©e
(
´edId
);

146 ià(
	g±
 =ğ
NULL
)

148 
cout
 << "ERROR in Predicate::createAllGroundings:‚o…redicate with id "

149 << 
´edId
 << " iÀdomaš" << 
’dl
;

152 ià(
	g±
->
isEqu®P»diÿ‹Tem¶©e
())

154 
	gcout
 << "ERROR in Predicate::createAllGroundings: cannot create "

155 << "groundšg fÜ '='…»diÿ‹" << 
	g’dl
;

159 
	gA¼aysAcûssÜ
<> 
	gacc
;

160 
	gi
 = 0; i < 
	g±
->
g‘NumT”ms
(); i++)

162 
	gty³Id
 = 
±
->
g‘T”mTy³AsIÁ
(
i
);

163 
as£¹
(
ty³Id
 >= 0);

164 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡A¼
 = 
domaš
->
g‘CÚ¡ªtsByTy³
(
ty³Id
);

165 
as£¹
(
cÚ¡A¼
->
size
() > 0);

166 
	gacc
.
­³ndA¼ay
(
cÚ¡A¼
);

169 
	gacc
.
hasNextCombš©iÚ
())

171 
P»diÿ‹
* 
	g´ed
 = 
Ãw
 P»diÿ‹(
±
);

172 
	gcÚ¡Id
;

173 
	gacc
.
ÃxtI‹mInCombš©iÚ
(
cÚ¡Id
))

174 
	g´ed
->
­³ndT”m
(
Ãw
 
T”m
(
cÚ¡Id
, (*)
´ed
, 
Œue
));

175 
	g»tuºA¼ay
.
­³nd
(
´ed
);

181 
	gP»diÿ‹
::
ü—‹AÎGroundšgsUnifyšgW™hT”m
(cÚ¡ & 
´edId
,

182 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

183 
A¼ay
<
P»diÿ‹
*>& 
»tuºA¼ay
,

184 
‹rmTy³Id
,
‹rmCÚ¡Id
)

186 
	gA¼ay
<>* 
	gtmpA¼
;

187 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	g±
 = 
domaš
->
g‘P»diÿ‹Tem¶©e
(
´edId
);

188 ià(
	g±
 =ğ
NULL
)

190 
cout
 << "ERROR in Predicate::createAllGroundings:‚o…redicate with id "

191 << 
´edId
 << " iÀdomaš" << 
’dl
;

194 ià(
	g±
->
isEqu®P»diÿ‹Tem¶©e
())

196 
	gcout
 << "ERROR in Predicate::createAllGroundings: cannot create "

197 << "groundšg fÜ '='…»diÿ‹" << 
	g’dl
;

201 
	gA¼aysAcûssÜ
<> 
	gacc
;

202 
	gi
 = 0; i < 
	g±
->
g‘NumT”ms
(); i++)

204 
	gty³Id
 = 
±
->
g‘T”mTy³AsIÁ
(
i
);

205 
as£¹
(
ty³Id
 >= 0);

206 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡A¼
;

207 ià(
	gty³Id
 !ğ
‹rmTy³Id
)

209 
cÚ¡A¼
 = 
domaš
->
g‘CÚ¡ªtsByTy³
(
ty³Id
);

213 
	gtmpA¼
 = 
Ãw
 
A¼ay
<>;

214 
	gtmpA¼
->
­³nd
(
‹rmCÚ¡Id
);

215 
	gcÚ¡A¼
 = 
tmpA¼
;

217 
as£¹
(
cÚ¡A¼
->
size
() > 0);

218 
	gacc
.
­³ndA¼ay
(
cÚ¡A¼
);

221 
	gacc
.
hasNextCombš©iÚ
())

223 
P»diÿ‹
* 
	g´ed
 = 
Ãw
 P»diÿ‹(
±
);

224 
	gcÚ¡Id
;

225 
	gacc
.
ÃxtI‹mInCombš©iÚ
(
cÚ¡Id
))

226 
	g´ed
->
­³ndT”m
(
Ãw
 
T”m
(
cÚ¡Id
, (*)
´ed
, 
Œue
));

227 
	g»tuºA¼ay
.
­³nd
(
´ed
);

247 
	gP»diÿ‹
::
ü—‹AÎGroundšgs
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

248 
A¼ay
<
P»diÿ‹
*>* cÚ¡ & 
´edR‘uºA¼ay
,

249 
A¼ay
<*>* cÚ¡ & 
cÚ¡R‘uºA¼ay
,

250 cÚ¡ & 
groundšg
)

252 
as£¹
(
´edR‘uºA¼ay
 =ğ
NULL
 || 
cÚ¡R‘uºA¼ay
 == NULL);

254 ià(
isGrounded
())

256 ià(
	ggroundšg
 >ğ0è
as£¹
(
groundšg
 == 0);

257 ià(
	g´edR‘uºA¼ay
)

258 
	g´edR‘uºA¼ay
->
­³nd
(
Ãw
 
P»diÿ‹
(*
this
));

261 
as£¹
(
cÚ¡R‘uºA¼ay
);

262 * 
	gcÚ¡A¼
 = 
Ãw
 [
‹rms_
->
size
()];

263 
	gj
 = 0; j < 
	g‹rms_
->
size
(); j++)

265 
	gcÚ¡A¼
[
j
] = (*
‹rms_
)[j]->
g‘Id
();

266 
as£¹
(
cÚ¡A¼
[
j
] >= 0);

268 
	gcÚ¡R‘uºA¼ay
->
­³nd
(
cÚ¡A¼
);

273 
	gA¼ay
<
	gV¬sGroundedTy³
*> 
	gvgtA¼
;

274 
	gi
 = 0; i < 
	g‹rms_
->
size
(); i++)

276 cÚ¡ 
T”m
* 
	gt
 = (*
‹rms_
)[
i
];

277 ià(
	gt
->
g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

279 
id
 = -(
t
->
g‘Id
());

280 
as£¹
(
id
 > 0);

281 ià(
	gid
 >ğ
vgtA¼
.
size
()èvgtA¼.
growToSize
(
id
 + 1,
NULL
);

282 
	gV¬sGroundedTy³
*& 
	gvgt
 = 
vgtA¼
[
id
];

283 ià(
	gvgt
 =ğ
NULL
)

285 
vgt
 = 
Ãw
 
V¬sGroundedTy³
;

286 
	gvgt
->
	gty³Id
 = 
g‘T”mTy³AsIÁ
(
i
);

287 
as£¹
(
vgt
->
ty³Id
 >= 0);

289 
as£¹
(
g‘T”mTy³AsIÁ
(
i
è=ğ
vgt
->
ty³Id
);

290 
	gvgt
->
	gv¬s
.
­³nd
((
T”m
*)
t
);

294 
	gA¼ay
<> 
	gÃgV¬Id
;

295 
	gA¼aysAcûssÜ
<> 
	gacc
;

296 
	gi
 = 0; i < 
	gvgtA¼
.
size
(); i++)

298 ià(
	gvgtA¼
[
i
] =ğ
NULL
) ;

299 
	gÃgV¬Id
.
­³nd
(
i
);

300 
	gacc
.
­³ndA¼ay
(
domaš
->
g‘CÚ¡ªtsByTy³
(
vgtA¼
[
i
]->
ty³Id
));

303 
	gcombš©iÚ
 = 0;

304 
	gacc
.
hasNextCombš©iÚ
())

306 
	gi
 = 0;

307 
	gcÚ¡Id
;

308 
	gacc
.
ÃxtI‹mInCombš©iÚ
(
cÚ¡Id
))

310 
	gA¼ay
<
	gT”m
*>& 
	gv¬s
 = 
vgtA¼
[
ÃgV¬Id
[
i
]]->
v¬s
;

311 
	gj
 = 0; j < 
	gv¬s
.
size
(); j++èv¬s[
j
]->
£tId
(
cÚ¡Id
);

312 
	gi
++;

316 ià(
	ggroundšg
 < 0 || groundšg =ğ
combš©iÚ
)

318 ià(
´edR‘uºA¼ay
)

319 
´edR‘uºA¼ay
->
­³nd
(
Ãw
 
P»diÿ‹
(*
this
));

322 
as£¹
(
cÚ¡R‘uºA¼ay
);

323 * 
	gcÚ¡A¼
 = 
Ãw
 [
‹rms_
->
size
()];

324 
	gj
 = 0; j < 
	g‹rms_
->
size
(); j++)

326 
	gcÚ¡A¼
[
j
] = (*
‹rms_
)[j]->
g‘Id
();

327 
as£¹
(
cÚ¡A¼
[
j
] >= 0);

329 
	gcÚ¡R‘uºA¼ay
->
­³nd
(
cÚ¡A¼
);

331 ià(
	ggroundšg
 =ğ
combš©iÚ
) ;

333 
	gcombš©iÚ
++;

335 ià(
	ggroundšg
 >ğ0è
as£¹
(
combš©iÚ
 =ğ
groundšg
);

338 
	gi
 = 0; i < 
	gvgtA¼
.
size
(); i++)

340 ià(
	gvgtA¼
[
i
] =ğ
NULL
) ;

341 
	gA¼ay
<
	gT”m
*>& 
	gv¬s
 = 
vgtA¼
[
i
]->
v¬s
;

342 
	gj
 = 0; j < 
	gv¬s
.
size
(); j++èv¬s[
j
]->
£tId
(-
i
);

343 
d–‘e
 
	gvgtA¼
[
i
];

348 
	go¡»am
& 
	gP»diÿ‹
::
	$´štW™hSŒV¬
(
o¡»am
& 
out
,

349 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

351 ià(
	`isEqu®P»d
()è 
	`´štEqu®P»dW™hSŒV¬
(
out
,
domaš
);

352 ià(
	`isIÁ”ÇlP»d
()è 
	`´štIÁ”ÇlP»dW™hSŒV¬
(
out
,
domaš
);

354 ià(!
£n£_
è
out
 << "!";

355 
out
 << 
‹m¶©e_
->
	`g‘Name
();

357 ià(
	`¡rcmp
(
	`g‘T”mTy³AsSŒ
(0), 
Domaš
::
PROPOSITIONAL_TYPE
) == 0)

358  
out
;

360 
out
 << "(";

361 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

363 (*
‹rms_
)[
i
]->
	`´štW™hSŒV¬
(
out
, 
domaš
);

364 
out
 << ((
i
 !ğ
‹rms_
->
	`size
() - 1) ? "," : ")");

366  
out
;

367 
	}
}

369 
	go¡»am
& 
	gP»diÿ‹
::
	$´št
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

371 ià(
	`isEqu®P»d
()è 
	`´štEqu®P»d
(
out
, 
domaš
);

372 ià(
	`isIÁ”ÇlP»d
()è 
	`´štIÁ”ÇlP»d
(
out
, 
domaš
);

374 ià(!
£n£_
è
out
 << "!";

375 
out
 << 
‹m¶©e_
->
	`g‘Name
();

377 ià(
	`¡rcmp
(
	`g‘T”mTy³AsSŒ
(0), 
Domaš
::
PROPOSITIONAL_TYPE
) == 0)

378  
out
;

380 
out
 << "(";

381 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

383 (*
‹rms_
)[
i
]->
	`´št
(
out
, 
domaš
);

384 
out
 << ((
i
 !ğ
‹rms_
->
	`size
() - 1) ? "," : ")");

386  
out
;

387 
	}
}

	@logic/predicate.h

67 #iâdeà
PREDICATE_H_JUN_26_2005


68 
	#PREDICATE_H_JUN_26_2005


	)

70 
	~<lim™s
>

71 
	~<ext/hash_£t
>

72 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

73 
	~"´ediÿ‹‹m¶©e.h
"

74 
	~"‹rm.h
"

75 
	~"hash.h
"

76 
	~"hash¬¿y.h
"

77 
	~"funùiÚ.h
"

79 cÚ¡ 
	gMAX_VAR
 = 10;

80 
	eTruthV®ue
 { 
	mFALSE
 = 0, 
	mTRUE
 = 1, 
	mUNKNOWN
 = 2 };

82 
	sV¬sTy³Id
 { 
	mA¼ay
<
	mT”m
*> 
	mv¬s
; 
	mty³Id
; };

84 
şass
 
	gCÏu£
;

85 
şass
 
	gGroundP»diÿ‹
;

86 
şass
 
	gDomaš
;

89 şas 
	cP»diÿ‹


91 
	mpublic
:

92 
	$P»diÿ‹
(cÚ¡ 
P»diÿ‹Tem¶©e
* cÚ¡ & 
±
)

93 : 
	`‹m¶©e_
(
±
), 
	`‹rms_
(
Ãw
 
A¼ay
<
T”m
*>), 
	`£n£_
(
Œue
),

94 
	`ŒuthV®ue_
(
UNKNOWN
), 
	`®lT”msA»DiffV¬s_
(
çl£
), 
	`isGrounded_
(false),

95 
	`štA¼R•_
(
NULL
), 
	`hashCode_
(0), 
	`dœty_
(
Œue
), 
	`·»Á_
(NULL),

96 
	`»®V®ue_
(
¡d
::
num”ic_lim™s
<>::
	$mš
()) {}

98 
	$P»diÿ‹
(cÚ¡ 
P»diÿ‹Tem¶©e
* cÚ¡ & 
±
, 
CÏu£
* cÚ¡ & 
·»Á
)

99 : 
	`‹m¶©e_
(
±
), 
	`‹rms_
(
Ãw
 
A¼ay
<
T”m
*>), 
	`£n£_
(
Œue
),

100 
	`ŒuthV®ue_
(
UNKNOWN
), 
	`®lT”msA»DiffV¬s_
(
çl£
), 
	`isGrounded_
(false),

101 
	`štA¼R•_
(
NULL
), 
	`hashCode_
(0), 
	`dœty_
(
Œue
), 
	`·»Á_
(
·»Á
),

102 
	`»®V®ue_
(
¡d
::
num”ic_lim™s
<>::
	$mš
()è{
	}
}

104 
	$P»diÿ‹
(cÚ¡ 
P»diÿ‹
& 
p
è{ 
·»Á_
 = 
NULL
; 
	`cİy
Õ); 
	}
}

105 
	$P»diÿ‹
(cÚ¡ 
P»diÿ‹
& 
p
, 
CÏu£
* cÚ¡ & 
·r
è{ 
·»Á_
ğ·r; 
	`cİy
Õ); 
	}
}

108 ~
	$P»diÿ‹
()

110 
i
 = 0; i < 
‹rms_
->
	`size
(); i++è
	`d–‘e
 (*terms_)[i];

111 
d–‘e
 
‹rms_
;

112 ià(
štA¼R•_
è
d–‘e
 intArrRep_;

113 
	}
}

116 
	$sizeMB
() const

118 
sizeMB
 = (
fixedSizeB_
 + 
štA¼R•_
->
	`size
()*() +

119 
‹rms_
->
	`size
()*(
T”m
*))/1000000.0;

120 
i
 = 0; i < 
‹rms_
->
	`size
(); i++è
sizeMB
 +ğ(*‹rms_)[i]->
	`sizeMB
();

121  
sizeMB
;

122 
	}
}

125 
	$compu‹FixedSizeB
()

126 { 
fixedSizeB_
 = ((
P»diÿ‹
)+(
A¼ay
<
T”m
*>)+(A¼ay<>)); 
	}
}

129 
	$com´ess
()

131 
i
 = 0; i < 
‹rms_
->
	`size
(); i++è(*‹rms_)[i]->
	`com´ess
();

132 
‹rms_
->
	`com´ess
();

133 
štA¼R•_
->
	`com´ess
();

134 
	}
}

138 
boŞ
 
	$isEqu®P»d
(ècÚ¡ {  
‹m¶©e_
->
	`isEqu®P»d
(); 
	}
}

140 
boŞ
 
	$isEqu®P»dW™hTy³
(ècÚ¡ {  
‹m¶©e_
->
	`isEqu®P»dW™hTy³
(); 
	}
}

143 
boŞ
 
	$isEm±yP»d
(ècÚ¡ {  
‹m¶©e_
->
	`isEm±yP»diÿ‹Tem¶©e
(); 
	}
}

146 
boŞ
 
	$isIÁ”ÇlP»d
(ècÚ¡ {  
‹m¶©e_
->
	`isIÁ”ÇlP»diÿ‹Tem¶©e
(); 
	}
}

148 
boŞ
 
	$isIÁ”ÇlP»dW™houtTy³
() const

149 {  
‹m¶©e_
->
	`isIÁ”ÇlP»diÿ‹Tem¶©eW™houtTy³
(); 
	}
}

151 
	$ÿnÚiÿlize
()

153 
A¼ay
<> 
v¬IdToNewV¬Id
;

154 
ÃwV¬Id
 = 0;

155 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

157 ià((*
‹rms_
)[
i
]->
	`g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

159 
id
 = -((*
‹rms_
)[
i
]->
	`g‘Id
());

160 
	`as£¹
(
id
 > 0);

161 ià(
id
 >ğ
v¬IdToNewV¬Id
.
	`size
()èv¬IdToNewV¬Id.
	`growToSize
(id+1,0);

163 ià(
v¬IdToNewV¬Id
[
id
] >ğ0èv¬IdToNewV¬Id[id] = --
ÃwV¬Id
;

164 (*
‹rms_
)[
i
]->
	`£tId
(
v¬IdToNewV¬Id
[
id
]);

166 
	`as£¹
((*
‹rms_
)[
i
]->
	`g‘Ty³
(è!ğ
T”m
::
FUNCTION
);

168 
	}
}

172 
	$­³ndT”m
(
T”m
* cÚ¡ & 
‹rm
)

174 ià(
‹m¶©e_
->
	`g‘NumT”ms
(è=ğ
‹rms_
->
	`size
())

176 
cout
 << "Error: In Predicate::appendTerm. Triedo‡dd moreermshan "

177 << "thdeş¬ed‚um oà" << 
‹m¶©e_
->
	`g‘NumT”ms
(è<< 
’dl
;

178 
	`ex™
(-1);

180 
‹rms_
->
	`­³nd
(
‹rm
);

181 
	`£tDœty
();

182 
	}
}

189 
T”m
* 
	$»moveLa¡T”m
()

191 
T”m
* 
‹rm
 = 
‹rms_
->
	`»moveLa¡I‹m
();

192 
‹rms_
->
	`com´ess
();

193 
	`£tDœty
();

194  
‹rm
;

195 
	}
}

198 
boŞ
 
	$g‘S’£
(ècÚ¡ {  
£n£_
; 
	}
}

199 
	$£tS’£
(cÚ¡ 
boŞ
& 
s
è{ 
£n£_
 = s; 
	`£tDœty
();
	}
}

200 
	$šv”tS’£
(è{ 
£n£_
 = (£n£_è? 
çl£
 : 
Œue
; 
	`£tDœty
(); 
	}
}

203 
TruthV®ue
 
	$g‘TruthV®ue
(ècÚ¡ {  
ŒuthV®ue_
; 
	}
}

204 
	$£tTruthV®ue
(cÚ¡ 
TruthV®ue
& 
tv
è{ 
ŒuthV®ue_
 =v; 
	}
}

205 
¡ršg
 
	$g‘TruthV®ueAsSŒ
() const

207 ià(
ŒuthV®ue_
 =ğ
TRUE
)  "TRUE";

208 ià(
ŒuthV®ue_
 =ğ
FALSE
)  "FALSE";

209 ià(
ŒuthV®ue_
 =ğ
UNKNOWN
)  "UNKNOWN";

210 
	`as£¹
(
çl£
);

212 
	}
}

214 
	$g‘R—lV®ue
(ècÚ¡ {  
»®V®ue_
; 
	}
}

215 
	$£tR—lV®ue
(cÚ¡ 
rv
è{ 
»®V®ue_
 =„v; 
	}
}

217 
	$g‘NumGroundšgsIfAÎV¬Diff
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const;

221 
	`ü—‹AÎGroundšgs
(cÚ¡ & 
´edId
,

222 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

223 
A¼ay
<
P»diÿ‹
*>& 
»tuºA¼ay
);

227 
	`ü—‹AÎGroundšgsUnifyšgW™hT”m
(cÚ¡ & 
´edId
,

228 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

229 
A¼ay
<
P»diÿ‹
*>& 
»tuºA¼ay
,

230 
‹rmTy³Id
, 
‹rmV®
);

233 
	`ü—‹AÎGroundšgsIfAÎV¬Diff
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

234 
A¼ay
<
P»diÿ‹
*>& 
»tuºA¼ay
)

235 { 
	`ü—‹AÎGroundšgs
(
	`g‘Id
(), 
domaš
, 
»tuºA¼ay
); 
	}
}

238 
ü—‹AÎGroundšgs
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

239 
A¼ay
<
P»diÿ‹
*>& 
»tuºA¼ay
)

240 { 
ü—‹AÎGroundšgs
(
domaš
, &
»tuºA¼ay
, 
NULL
, -1); }

244 
ü—‹AÎGroundšgs
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

245 
A¼ay
<*>& 
»tuºA¼ay
)

246 { 
ü—‹AÎGroundšgs
(
domaš
, 
NULL
, &
»tuºA¼ay
, -1); }

257 
g‘GroundšgNumb”
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

258 
A¼ay
<
P»diÿ‹
*>& 
»tuºA¼ay
, cÚ¡ & 
groundšg
)

259 { 
ü—‹AÎGroundšgs
(
domaš
, &
»tuºA¼ay
, 
NULL
, 
groundšg
); }

261 
	$g‘NumT”ms
(ècÚ¡ {  
‹rms_
->
	`size
(); 
	}
}

263 cÚ¡ 
T”m
* 
	$g‘T”m
(cÚ¡ & 
idx
ècÚ¡ {  (*
‹rms_
)[idx]; 
	}
}

266 
	$£tT”mToCÚ¡ªt
(cÚ¡ & 
‹rmNum
, cÚ¡ & 
cÚ¡Id
)

268 
	`as£¹
(
‹rmNum
 < 
‹m¶©e_
->
	`g‘NumT”ms
());

269 
	`as£¹
(
cÚ¡Id
 >= 0);

270 ià(
‹rmNum
 >ğ
‹rms_
->
	`size
()è‹rms_->
	`growToSize
Ñ”mNum+1,
NULL
);

271 ià((*
‹rms_
)[
‹rmNum
]è
	`d–‘e
 (*terms_)[termNum];

272 (*
‹rms_
)[
‹rmNum
] = 
Ãw
 
	`T”m
(
cÚ¡Id
, (*)
this
, 
Œue
);

273 
	`£tDœty
();

274 
	}
}

277 
boŞ
 
	$cÚšsCÚ¡ªt
(cÚ¡ & 
cÚ¡Id
) const

279 
	`as£¹
(
cÚ¡Id
 >= 0);

280 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

282 
T”m
* 
t
 = (*
‹rms_
)[
i
];

283 ià(
t
->
	`g‘Ty³
(è=ğ
T”m
::
CONSTANT
 &&->
	`g‘Id
(è=ğ
cÚ¡Id
è 
Œue
;

285  
çl£
;

286 
	}
}

293 
boŞ
 
	$cÚšsCÚ¡ªts
() const

295 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

297 
T”m
* 
t
 = (*
‹rms_
)[
i
];

298 ià(
t
->
	`g‘Ty³
(è=ğ
T”m
::
CONSTANT
è 
Œue
;

300  
çl£
;

301 
	}
}

303 
	$£tTem¶©e
(
P»diÿ‹Tem¶©e
* cÚ¡ & 
t
è{ 
‹m¶©e_
 =; 
	}
}

305 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	$g‘Tem¶©e
(ècÚ¡ {  
‹m¶©e_
; 
	}
}

309 cÚ¡ * 
	$g‘Name
(ècÚ¡ {  
‹m¶©e_
->
	`g‘Name
(); 
	}
}

311 
	$g‘Id
(ècÚ¡ {  
‹m¶©e_
->
	`g‘Id
(); 
	}
}

317 cÚ¡ * 
	$g‘T”mTy³AsSŒ
(cÚ¡ & 
idx
) const

319 ià(
idx
 >ğ
‹m¶©e_
->
	`g‘NumT”ms
()è 
NULL
;

320  
‹m¶©e_
->
	`g‘T”mTy³AsSŒ
(
idx
);

321 
	}
}

324 
	$g‘T”mTy³AsIÁ
(cÚ¡ & 
idx
) const

326 ià(
idx
 >ğ
‹m¶©e_
->
	`g‘NumT”ms
())  -1;

327  
‹m¶©e_
->
	`g‘T”mTy³AsIÁ
(
idx
);

328 
	}
}

331 
boŞ
 
	$®lT”msA»DiffV¬s
()

333 ià(
dœty_
è
	`compu‹AndStÜeIÁA¼R•
();

334  
®lT”msA»DiffV¬s_
;

335 
	}
}

338 
boŞ
 
	$checkAÎT”msA»DiffV¬s
()

340 
A¼ay
<> 
v¬s
;

341 
®lT”msA»DiffV¬s_
 = 
Œue
;

342 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

344 ià((*
‹rms_
)[
i
]->
	`g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

346 
tid
 = (*
‹rms_
)[
i
]->
	`g‘Id
();

347 ià(
v¬s
.
	`cÚšs
(
tid
)è{ 
®lT”msA»DiffV¬s_
 = 
çl£
;  false;}

348 
v¬s
.
	`­³nd
(
tid
);

352 
	`as£¹
((*
‹rms_
)[
i
]->
	`g‘Ty³
(è!ğ
T”m
::
FUNCTION
);

354 
®lT”msA»DiffV¬s_
 = 
çl£
;

355  
çl£
;

358  
Œue
;

359 
	}
}

362 
boŞ
 
	$isGrounded
()

364 ià(
dœty_
è
	`compu‹AndStÜeIÁA¼R•
();

365  
isGrounded_
;

366 
	}
}

377 
boŞ
 
	$ÿnBeGroundedAs
(
P»diÿ‹
* cÚ¡ & 
·¹GndP»d
)

380 ià(
‹m¶©e_
->
	`g‘Id
(è!ğ
·¹GndP»d
->g‘Id()è 
çl£
;

381 ià(
	`®lT”msA»DiffV¬s
()è 
Œue
;

382 ià(
	`isGrounded
(è&& 
·¹GndP»d
->isGrounded()è 
	`§me
(partGndPred);

384 
v¬Gndšgs
[
MAX_VAR
];

385 
	`mem£t
(
v¬Gndšgs
, -1, 
MAX_VAR
*());

386 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

388 
‹rmTy³
 = (*
‹rms_
)[
i
]->
	`g‘Ty³
();

390 ià(
‹rmTy³
 =ğ
T”m
::
CONSTANT
)

392 ià((*
‹rms_
)[
i
]->
	`g‘Id
(è!ğ
·¹GndP»d
->
	`g‘T”m
(i)->getId())

393  
çl£
;

396 ià(
‹rmTy³
 =ğ
T”m
::
VARIABLE
)

398 
v¬Id
 = -(*
‹rms_
)[
i
]->
	`g‘Id
();

399 
	`as£¹
(
v¬Id
 > 0);

400 
	`as£¹
(
v¬Id
 < 
MAX_VAR
);

401 ià(
v¬Gndšgs
[
v¬Id
] < 0)

402 
v¬Gndšgs
[
v¬Id
] = 
·¹GndP»d
->
	`g‘T”m
(
i
)->
	`g‘Id
();

404 ià(
v¬Gndšgs
[
v¬Id
] !ğ
·¹GndP»d
->
	`g‘T”m
(
i
)->
	`g‘Id
())

405  
çl£
;

409 
	`as£¹
(
çl£
);

412  
Œue
;

413 
	}
}

416 
boŞ
 
ÿnBeGroundedAs
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
gndP»d
);

418 
	gA¼ay
<> * 
g‘P»diÿ‹CÚ¡ªts
(
A¼ay
<> * cÚ¡ & 
cÚ¡ªts
)

420 
	gA¼ay
<> * 
	gpcÚ¡ªts
 = 
Ãw
 
A¼ay
<>();

421 
	g‹rmno
 = 0;”mnØ< 
g‘NumT”ms
();ermno++)

423 cÚ¡ 
T”m
 *
	g‹rm
 = 
g‘T”m
(
‹rmno
);

424 
	gid
 = 
‹rm
->
g‘Id
();

425 
as£¹
(
id
 < 0);

426 
	gpcÚ¡ªts
->
­³nd
((*
cÚ¡ªts
)[-
id
]);

428  
	gpcÚ¡ªts
;

431 
	gA¼ay
<> * 
	$g‘P»diÿ‹CÚ¡ªts
()

433 
A¼ay
<> * 
pcÚ¡ªts
 = 
Ãw
 Array<>();

434 
‹rmno
 = 0;”mnØ< 
	`g‘NumT”ms
();ermno++)

436 cÚ¡ 
T”m
 *
‹rm
 = 
	`g‘T”m
(
‹rmno
);

437 
id
 = 
‹rm
->
	`g‘Id
();

438 
	`as£¹
(
id
 >= 0);

439 
pcÚ¡ªts
->
	`­³nd
(
id
);

441  
pcÚ¡ªts
;

442 
	}
}

444 
£tDœty
();

445 
boŞ
 
	$isDœty
(ècÚ¡ {  
dœty_
; 
	}
}

447 
	$£tP¬’t
(
CÏu£
* cÚ¡ & 
·»Á
è{ 
·»Á_
 =…¬’t; 
	`£tDœty
(); 
	}
}

448 
CÏu£
* 
	$g‘P¬’t
(ècÚ¡ {  
·»Á_
; 
	}
}

453 
boŞ
 
	$isIndexabË
(
boŞ
 
posCÏu£
)

458 ià(
	`isEqu®P»d
()è 
çl£
;

461  
Œue
;

462 
	}
}

464 
ü—‹V¬sTy³IdA¼
(
A¼ay
<
V¬sTy³Id
*>*& 
v¬sTy³IdA¼
)

466 ià(
	gv¬sTy³IdA¼
 =ğ
NULL
è
v¬sTy³IdA¼
 = 
Ãw
 
A¼ay
<
V¬sTy³Id
*>;

469 
	gj
 = 0; j < 
	g‹rms_
->
size
(); j++)

471 
T”m
* 
	gt
 = (*
‹rms_
)[
j
];

472 ià(
	gt
->
g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

474 
id
 = -(
t
->
g‘Id
());

475 
as£¹
(
id
 > 0);

476 ià(
	gid
 >ğ
v¬sTy³IdA¼
->
size
()èv¬sTy³IdA¼->
growToSize
(
id
+1, 
NULL
);

477 
	gV¬sTy³Id
*& 
	gvti
 = (*
v¬sTy³IdA¼
)[
id
];

478 ià(
	gvti
 =ğ
NULL
)

480 
vti
 = 
Ãw
 
V¬sTy³Id
;

481 
	gvti
->
	gty³Id
 = 
g‘T”mTy³AsIÁ
(
j
);

482 
as£¹
(
vti
->
ty³Id
 >= 0);

484 
as£¹
(
g‘T”mTy³AsIÁ
(
j
è=ğ
vti
->
ty³Id
);

485 
	gvti
->
	gv¬s
.
­³nd
(
t
);

487 
as£¹
(
t
->
g‘Ty³
(è!ğ
T”m
::
FUNCTION
);

492 
d–‘eV¬sTy³IdA¼
(
A¼ay
<
V¬sTy³Id
*>*& 
v¬sTy³IdA¼
)

494 
	gi
 = 0; i < 
	gv¬sTy³IdA¼
->
size
(); i++)

495 ià((*
	gv¬sTy³IdA¼
)[
i
]è
d–‘e
 (*
v¬sTy³IdA¼
)[i];

496 
d–‘e
 
	gv¬sTy³IdA¼
;

497 
	gv¬sTy³IdA¼
 = 
NULL
;

502 
boŞ
 
	$§me
(
P»diÿ‹
* cÚ¡ & 
p
)

504 ià(
this
 =ğ
p
è 
Œue
;

505 cÚ¡ 
A¼ay
<>* 
pA¼
 = 
p
->
	`g‘IÁA¼R•
();

506 cÚ¡ 
A¼ay
<>* 
myA¼
 = 
	`g‘IÁA¼R•
();

507 ià(
myA¼
->
	`size
(è!ğ
pA¼
->size()è 
çl£
;

508 cÚ¡ * 
pI‹ms
 = 
p
->
	`g‘IÁA¼R•
()->
	`g‘I‹ms
();

509 cÚ¡ * 
myI‹ms
 = 
	`g‘IÁA¼R•
()->
	`g‘I‹ms
();

510  (
	`memcmp
(
myI‹ms
, 
pI‹ms
, 
myA¼
->
	`size
()*())==0);

511 
	}
}

514 
boŞ
 
§me
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
gp
);

518 
­³ndIÁA¼R•
(
A¼ay
<>& 
»p
)

520 ià(
	gdœty_
è
compu‹AndStÜeIÁA¼R•
();

521 
	g»p
.
­³nd
(*
štA¼R•_
);

525 
size_t
 
	$hashCode
()

527 ià(
dœty_
è
	`compu‹AndStÜeIÁA¼R•
();

528  
hashCode_
;

529 
	}
}

532 
	go¡»am
& 
	$´štAsIÁ
(
o¡»am
& 
out
) const

534 if(
	`isEqu®P»d
()è 
	`´štAsIÁEqu®P»d
(
out
);

535 if(
	`isIÁ”ÇlP»d
()è 
	`´štAsIÁIÁ”ÇlP»d
(
out
);

537 ià(!
£n£_
è
out
 << "!";

538 
out
 << 
‹m¶©e_
->
	`g‘Id
() << "(";

539 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

541 (*
‹rms_
)[
i
]->
	`´štAsIÁ
(
out
);

542 
out
 << ((
i
!=
‹rms_
->
	`size
()-1)?",":")");

544  
out
;

545 
	}
}

547 
	go¡»am
& 
	$´štW™hSŒV¬
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const;

549 
o¡»am
& 
	$´št
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const;

552 
´iv©e
:

569 
	`ü—‹AÎGroundšgs
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

570 
A¼ay
<
P»diÿ‹
*>* cÚ¡ & 
´edR‘uºA¼ay
,

571 
A¼ay
<*>* cÚ¡ & 
cÚ¡R‘uºA¼ay
,

572 cÚ¡ & 
groundšg
);

574 
	$cİy
(cÚ¡ 
P»diÿ‹
& 
p
)

576 
‹m¶©e_
 = 
p
.template_;

578 
‹rms_
 = 
Ãw
 
A¼ay
<
T”m
*>;

579 
A¼ay
<
T”m
*>* 
‰”ms
 = 
p
.
‹rms_
;

580 
i
 = 0; i < 
‰”ms
->
	`size
(); i++)

582 
T”m
* 
t
 = (*
‰”ms
)[
i
];

583 
‹rms_
->
	`­³nd
(
Ãw
 
	`T”m
(*
t
, (*)
this
, 
Œue
));

585 
dœty_
 = 
p
.dirty_;

587 ià(!
dœty_
è{ 
	`as£¹
(
	`noDœtyT”ms
()); }

589 
£n£_
 = 
p
.sense_;

590 
ŒuthV®ue_
 = 
p
.truthValue_;

591 
®lT”msA»DiffV¬s_
 = 
p
.allTermsAreDiffVars_;

592 
isGrounded_
 = 
p
.isGrounded_;

594 ià(
p
.
štA¼R•_
èštA¼R•_ = 
Ãw
 
A¼ay
<>(*(p.intArrRep_));

595 
štA¼R•_
 = 
NULL
;

597 
hashCode_
 = 
p
.hashCode_;

599 
	`£tP¬’tDœty
();

600 
	}
}

603 
£tP¬’tDœty
();

605 
boŞ
 
	$noDœtyT”ms
()

607 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

608 ià((*
‹rms_
)[
i
]->
	`isDœty
()è 
çl£
;

609  
Œue
;

610 
	}
}

613 cÚ¡ 
	gA¼ay
<>* 
	$g‘IÁA¼R•
()

614 { ià(
dœty_
è
	`compu‹AndStÜeIÁA¼R•
();  
štA¼R•_
; 
	}
}

618 
	$compu‹AndStÜeIÁA¼R•
()

620 
dœty_
 = 
çl£
;

621 ià(
štA¼R•_
 =ğ
NULL
èštA¼R•_ = 
Ãw
 
A¼ay
<>;

622 
štA¼R•_
->
	`ş—r
();

625 
štA¼R•_
->
	`­³nd
(
‹m¶©e_
->
	`g‘Id
());

626 
numT”ms
 = 
‹rms_
->
	`size
();

627 
A¼ay
<> 
	`v¬s
(
numT”ms
);

628 
®lT”msA»DiffV¬s_
 = 
Œue
;

629 
isGrounded_
 = 
Œue
;

630 
i
 = 0; i < 
numT”ms
; i++)

632 (*
‹rms_
)[
i
]->
	`­³ndIÁA¼R•
(*
štA¼R•_
);

633 
‹rmTy³
 = (*
‹rms_
)[
i
]->
	`g‘Ty³
();

635 ià(
‹rmTy³
 =ğ
T”m
::
VARIABLE
)

637 ià(
®lT”msA»DiffV¬s_
)

639 
tid
 = (*
‹rms_
)[
i
]->
	`g‘Id
();

640 ià(
v¬s
.
	`cÚšs
(
tid
)è
®lT”msA»DiffV¬s_
 = 
çl£
;

641 
v¬s
.
	`­³nd
(
tid
);

643 
isGrounded_
 = 
çl£
;

646 ià(
‹rmTy³
 =ğ
T”m
::
CONSTANT
)

648 
®lT”msA»DiffV¬s_
 = 
çl£
;

649 ià((*
‹rms_
)[
i
]->
	`g‘Ty³
(è!ğ
T”m
::
CONSTANT
è
isGrounded_
 = 
çl£
;

653 
	`as£¹
(
çl£
);

656 
hashCode_
 = 
Hash
::
	`hash
(*
štA¼R•_
);

657 
	}
}

660 
	go¡»am
& 
	$´štAsIÁEqu®P»d
(
o¡»am
& 
out
) const

662 
	`as£¹
(
	`isEqu®P»d
());

663 
	`as£¹
(
‹rms_
->
	`size
()==2);

664 ià(!
£n£_
è
out
 << "!(";

665 (*
‹rms_
)[0]->
	`´štAsIÁ
(
out
);

666 
out
 << " = ";

667 (*
‹rms_
)[1]->
	`´štAsIÁ
(
out
);

668 ià(!
£n£_
è
out
 << ")";

669  
out
;

670 
	}
}

673 
	go¡»am
& 
	$´štEqu®P»d
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

675 
	`as£¹
(
	`isEqu®P»d
());

676 
	`as£¹
(
‹rms_
->
	`size
()==2);

677 ià(!
£n£_
è
out
 << "!(";

678 (*
‹rms_
)[0]->
	`´št
(
out
, 
domaš
);

679 
out
 << " = ";

680 (*
‹rms_
)[1]->
	`´št
(
out
, 
domaš
);

681 ià(!
£n£_
è
out
 << ")";

682  
out
;

683 
	}
}

686 
	go¡»am
&

687 
	$´štEqu®P»dW™hSŒV¬
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

689 
	`as£¹
(
	`isEqu®P»d
());

690 
	`as£¹
(
‹rms_
->
	`size
()==2);

691 ià(!
£n£_
è
out
 << "!(";

692 (*
‹rms_
)[0]->
	`´štW™hSŒV¬
(
out
, 
domaš
);

693 
out
 << " = ";

694 (*
‹rms_
)[1]->
	`´štW™hSŒV¬
(
out
, 
domaš
);

695 ià(!
£n£_
è
out
 << ")";

696  
out
;

697 
	}
}

700 
	go¡»am
& 
	$´štAsIÁIÁ”ÇlP»d
(
o¡»am
& 
out
) const

702 
	`as£¹
(
	`isIÁ”ÇlP»d
());

703 
	`as£¹
(
‹rms_
->
	`size
()==2);

706 ià(
	`¡ºcmp
(
	`g‘Name
(), 
P»diÿ‹Tem¶©e
::
SUBSTR_NAME
,

707 
	`¡¾’
(
P»diÿ‹Tem¶©e
::
SUBSTR_NAME
)) == 0)

709 ià(!
£n£_
è
out
 << "!";

710 
out
 << 
‹m¶©e_
->
	`g‘Id
() << "(";

711 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

713 (*
‹rms_
)[
i
]->
	`´štAsIÁ
(
out
);

714 
out
 << ((
i
!=
‹rms_
->
	`size
()-1)?",":")");

716  
out
;

720 ià(!
£n£_
è
out
 << "!(";

721 (*
‹rms_
)[0]->
	`´štAsIÁ
(
out
);

723 ià(
	`¡ºcmp
(
	`g‘Name
(), 
P»diÿ‹Tem¶©e
::
GT_NAME
,

724 
	`¡¾’
(
P»diÿ‹Tem¶©e
::
GT_NAME
)) == 0)

725 
out
 << " > ";

727 ià(
	`¡ºcmp
(
	`g‘Name
(), 
P»diÿ‹Tem¶©e
::
LT_NAME
,

728 
	`¡¾’
(
P»diÿ‹Tem¶©e
::
LT_NAME
)) == 0)

729 
out
 << " < ";

731 ià(
	`¡ºcmp
(
	`g‘Name
(), 
P»diÿ‹Tem¶©e
::
GTEQ_NAME
,

732 
	`¡¾’
(
P»diÿ‹Tem¶©e
::
GTEQ_NAME
)) == 0)

733 
out
 << " >= ";

735 ià(
	`¡ºcmp
(
	`g‘Name
(), 
P»diÿ‹Tem¶©e
::
LTEQ_NAME
,

736 
	`¡¾’
(
P»diÿ‹Tem¶©e
::
LTEQ_NAME
)) == 0)

737 
out
 << " <= ";

739 (*
‹rms_
)[1]->
	`´štAsIÁ
(
out
);

740 ià(!
£n£_
è
out
 << ")";

741  
out
;

743 
	}
}

746 
	go¡»am
& 
	$´štIÁ”ÇlP»d
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

748 
	`as£¹
(
	`isIÁ”ÇlP»d
());

749 
	`as£¹
(
‹rms_
->
	`size
()==2);

752 ià(
	`¡ºcmp
(
	`g‘Name
(), 
P»diÿ‹Tem¶©e
::
SUBSTR_NAME
,

753 
	`¡¾’
(
P»diÿ‹Tem¶©e
::
SUBSTR_NAME
)) == 0)

755 ià(!
£n£_
è
out
 << "!";

756 
out
 << 
P»diÿ‹Tem¶©e
::
SUBSTR_NAME
 << "(";

757 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

759 (*
‹rms_
)[
i
]->
	`´št
(
out
, 
domaš
);

760 
out
 << ((
i
!=
‹rms_
->
	`size
()-1)?",":")");

762  
out
;

766 ià(!
£n£_
è
out
 << "!(";

767 (*
‹rms_
)[0]->
	`´št
(
out
, 
domaš
);

769 ià(
	`¡ºcmp
(
	`g‘Name
(), 
P»diÿ‹Tem¶©e
::
GT_NAME
,

770 
	`¡¾’
(
P»diÿ‹Tem¶©e
::
GT_NAME
)) == 0)

771 
out
 << " > ";

773 ià(
	`¡ºcmp
(
	`g‘Name
(), 
P»diÿ‹Tem¶©e
::
LT_NAME
,

774 
	`¡¾’
(
P»diÿ‹Tem¶©e
::
LT_NAME
)) == 0)

775 
out
 << " < ";

777 ià(
	`¡ºcmp
(
	`g‘Name
(), 
P»diÿ‹Tem¶©e
::
GTEQ_NAME
,

778 
	`¡¾’
(
P»diÿ‹Tem¶©e
::
GTEQ_NAME
)) == 0)

779 
out
 << " >= ";

781 ià(
	`¡ºcmp
(
	`g‘Name
(), 
P»diÿ‹Tem¶©e
::
LTEQ_NAME
,

782 
	`¡¾’
(
P»diÿ‹Tem¶©e
::
LTEQ_NAME
)) == 0)

783 
out
 << " <= ";

785 (*
‹rms_
)[1]->
	`´št
(
out
, 
domaš
);

786 ià(!
£n£_
è
out
 << ")";

787  
out
;

789 
	}
}

792 
	go¡»am
&

793 
	$´štIÁ”ÇlP»dW™hSŒV¬
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

795 
	`as£¹
(
	`isIÁ”ÇlP»d
());

796 
	`as£¹
(
‹rms_
->
	`size
()==2);

799 ià(
	`¡ºcmp
(
	`g‘Name
(), 
P»diÿ‹Tem¶©e
::
SUBSTR_NAME
,

800 
	`¡¾’
(
P»diÿ‹Tem¶©e
::
SUBSTR_NAME
)) == 0)

802 ià(!
£n£_
è
out
 << "!";

803 
out
 << 
P»diÿ‹Tem¶©e
::
SUBSTR_NAME
 << "(";

804 
i
 = 0; i < 
‹rms_
->
	`size
(); i++)

806 (*
‹rms_
)[
i
]->
	`´štW™hSŒV¬
(
out
, 
domaš
);

807 
out
 << ((
i
!=
‹rms_
->
	`size
()-1)?",":")");

809  
out
;

813 ià(!
£n£_
è
out
 << "!(";

814 (*
‹rms_
)[0]->
	`´štW™hSŒV¬
(
out
, 
domaš
);

816 ià(
	`¡ºcmp
(
	`g‘Name
(), 
P»diÿ‹Tem¶©e
::
GT_NAME
,

817 
	`¡¾’
(
P»diÿ‹Tem¶©e
::
GT_NAME
)) == 0)

818 
out
 << " > ";

820 ià(
	`¡ºcmp
(
	`g‘Name
(), 
P»diÿ‹Tem¶©e
::
LT_NAME
,

821 
	`¡¾’
(
P»diÿ‹Tem¶©e
::
LT_NAME
)) == 0)

822 
out
 << " < ";

824 ià(
	`¡ºcmp
(
	`g‘Name
(), 
P»diÿ‹Tem¶©e
::
GTEQ_NAME
,

825 
	`¡¾’
(
P»diÿ‹Tem¶©e
::
GTEQ_NAME
)) == 0)

826 
out
 << " >= ";

828 ià(
	`¡ºcmp
(
	`g‘Name
(), 
P»diÿ‹Tem¶©e
::
LTEQ_NAME
,

829 
	`¡¾’
(
P»diÿ‹Tem¶©e
::
LTEQ_NAME
)) == 0)

830 
out
 << " <= ";

832 (*
‹rms_
)[1]->
	`´štW™hSŒV¬
(
out
, 
domaš
);

833 ià(!
£n£_
è
out
 << ")";

834  
out
;

836 
	}
}

839 
	g´iv©e
:

840 cÚ¡ 
P»diÿ‹Tem¶©e
* 
‹m¶©e_
;

841 
	gA¼ay
<
	gT”m
*>* 
	g‹rms_
;

842 
boŞ
 
	g£n£_
;

843 
TruthV®ue
 
	gŒuthV®ue_
;

845 
boŞ
 
	g®lT”msA»DiffV¬s_
;

846 
boŞ
 
	gisGrounded_
;

848 
	gA¼ay
<>* 
	gštA¼R•_
;

849 
size_t
 
	ghashCode_
;

850 
boŞ
 
	gdœty_
;

851 
CÏu£
* 
	g·»Á_
;

853 
	gfixedSizeB_
;

854 
	g»®V®ue_
;

857 
šlše


858 
	go¡»am
& 
	gİ”©Ü
<<(o¡»am& 
	gout
, cÚ¡ 
	gP»diÿ‹
& 
	gp
){….
´štAsIÁ
(
out
);}

863 şas 
	cHashP»diÿ‹


865 
	mpublic
:

866 
size_t
 
	$İ”©Ü
()(
P»diÿ‹
* cÚ¡ & 
p
ècÚ¡ { …->
	`hashCode
(); }

867 
	}
};

870 şas 
	cEqu®P»diÿ‹


872 
	mpublic
:

873 
boŞ
 
	$İ”©Ü
()(
P»diÿ‹
* cÚ¡ & 
p1
, P»diÿ‹* cÚ¡ & 
p2
)

874 cÚ¡ {  
p1
->
	`§me
(
p2
); }

875 
	}
};

879 
	ghash_£t
<
	tP»diÿ‹
*, 
	tHashP»diÿ‹
, 
	tEqu®P»diÿ‹
> 
	tP»diÿ‹S‘
;

881 
	gHashA¼ay
<
	tP»diÿ‹
*, 
	tHashP»diÿ‹
, 
	tEqu®P»diÿ‹
> 
	tP»diÿ‹HashA¼ay
;

	@logic/predicatetemplate.cpp

66 
	~"´ediÿ‹‹m¶©e.h
"

67 
	~"domaš.h
"

69 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
EMPTY_NAME
 = "SK_EMPTY";

70 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
EQUAL_NAME
 = "SK_EQUAL";

71 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
GT_NAME
 = "greaterThan";

72 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
LT_NAME
 = "lessThan";

73 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
GTEQ_NAME
 = "greaterThanEq";

74 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
LTEQ_NAME
 = "lessThanEq";

75 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
SUBSTR_NAME
 = "substr";

76 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
 = "SK_ANY";

77 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
INT_TYPE_NAME
 = "int";

78 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
STRING_TYPE_NAME
 = "string";

79 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
 = "isReturnValueOf";

81 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
SUCC_NAME
 = "succ";

82 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
PLUS_NAME
 = "plus";

83 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
MINUS_NAME
 = "minus";

84 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
TIMES_NAME
 = "times";

85 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
DIVIDEDBY_NAME
 = "dividedBy";

86 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
MOD_NAME
 = "mod";

87 cÚ¡ * 
	gP»diÿ‹Tem¶©e
::
CONCAT_NAME
 = "concat";

92 
boŞ
 
	gP»diÿ‹Tem¶©e
::
	$­³ndT”mTy³
(cÚ¡ * cÚ¡ & 
ty³Name
,

93 cÚ¡ 
boŞ
& 
isUnique
,

94 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

96 
id
 = 
domaš
->
	`g‘Ty³Id
(
ty³Name
);

97 ià(
id
 < 0)

99 
cout
 << "W¬nšg: IÀP»diÿ‹Tem¶©e::addT”mTy³(). Ty³ " << 
ty³Name


100 << " ha nÙ b“Àdeş¬ed." << 
’dl
;

101  
çl£
;

104 * 
Šame
 = 
Ãw
 [
	`¡¾’
(
ty³Name
)+1];

105 
	`¡rıy
(
Šame
, 
ty³Name
);

106 
‹rmTy³sAsSŒ_
->
	`­³nd
(
Šame
);

107 
‹rmTy³sAsIÁ_
->
	`­³nd
(
id
);

108 
‹rmsUnique_
->
	`­³nd
(
isUnique
);

109 
	`as£¹
(
‹rmTy³sAsSŒ_
->
	`size
(è=ğ
‹rmTy³sAsIÁ_
->size());

110  
Œue
;

111 
	}
}

116 
boŞ
 
	gP»diÿ‹Tem¶©e
::
	$­³ndT”mTy³
(cÚ¡ & 
ty³Id
, cÚ¡ 
boŞ
& 
isUnique
,

117 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

119 cÚ¡ * 
ty³Name
 = 
domaš
->
	`g‘Ty³Name
(
ty³Id
);

120 ià(
ty³Name
==
NULL
)

122 
cout
 << "E¼Ü: IÀP»diÿ‹Tem¶©e::addT”mTy³(). Ty³Id " << 
ty³Id


123 << " dÛ nÙƒxi¡." << 
’dl
;

124  
çl£
;

127 * 
Šame
 = 
Ãw
 [
	`¡¾’
(
ty³Name
)+1];

128 
	`¡rıy
(
Šame
, 
ty³Name
);

129 
‹rmTy³sAsSŒ_
->
	`­³nd
(
Šame
);

130 
‹rmTy³sAsIÁ_
->
	`­³nd
(
ty³Id
);

131 
‹rmsUnique_
->
	`­³nd
(
isUnique
);

132 
	`as£¹
(
‹rmTy³sAsSŒ_
->
	`size
(è=ğ
‹rmTy³sAsIÁ_
->size());

133  
Œue
;

134 
	}
}

	@logic/predicatetemplate.h

66 #iâdeà
PREDICATETEMPLATE_JUN_22_2005


67 
	#PREDICATETEMPLATE_JUN_22_2005


	)

69 
	~<ùy³.h
>

70 
	~"¬¿y.h
"

71 
	~<c¡ršg
>

73 
şass
 
	gDomaš
;

76 şas 
	cP»diÿ‹Tem¶©e


78 
	mpublic
:

79 cÚ¡ * 
EMPTY_NAME
;

81 cÚ¡ * 
	mEQUAL_NAME
;

82 cÚ¡ * 
	mGT_NAME
;

83 cÚ¡ * 
	mLT_NAME
;

84 cÚ¡ * 
	mGTEQ_NAME
;

85 cÚ¡ * 
	mLTEQ_NAME
;

86 cÚ¡ * 
	mSUBSTR_NAME
;

87 cÚ¡ * 
	mANY_TYPE_NAME
;

88 cÚ¡ * 
	mINT_TYPE_NAME
;

89 cÚ¡ * 
	mSTRING_TYPE_NAME
;

91 cÚ¡ * 
	mZZ_RETURN_PREFIX
;

94 cÚ¡ * 
	mSUCC_NAME
;

95 cÚ¡ * 
	mPLUS_NAME
;

96 cÚ¡ * 
	mMINUS_NAME
;

97 cÚ¡ * 
	mTIMES_NAME
;

98 cÚ¡ * 
	mDIVIDEDBY_NAME
;

99 cÚ¡ * 
	mMOD_NAME
;

100 cÚ¡ * 
	mCONCAT_NAME
;

101 
	m´iv©e
:

102 ’um { 
NONE
 = 0, 
	mEQUAL_PRED
 = 1, 
	mEQUAL_PRED_WITH_TYPE
 = 2 };

103 ’um { 
	gINT_PRED
 = 1, 
	gINT_PRED_WITH_TYPE
 = 2 };

105 
	gpublic
:

106 
	$P»diÿ‹Tem¶©e
(è: 
	`id_
(-1), 
	`Çme_
(
NULL
), 
	`‹rmTy³sAsIÁ_
(
Ãw
 
A¼ay
<>),

107 
	`‹rmTy³sAsSŒ_
(
Ãw
 
A¼ay
<const *>),

108 
	`‹rmsUnique_
(
Ãw
 
A¼ay
<
boŞ
>), 
	`numGnd_
(-1.0),

109 
	`uniqueV¬Indexes_
(
Ãw
 
A¼ay
<>),

110 
	`equ®P»d_
(
NONE
), 
	$štP»d_
(
NONE
)

111 {
	}
}

113 
	gvœtu®
 ~
	$P»diÿ‹Tem¶©e
()

115 
d–‘e
 [] 
Çme_
;

116 
i
 = 0; i < 
‹rmTy³sAsSŒ_
->
	`size
(); i++)

117 
d–‘e
 [] (*
‹rmTy³sAsSŒ_
)[
i
];

118 
d–‘e
 
‹rmTy³sAsIÁ_
;

119 
d–‘e
 
‹rmTy³sAsSŒ_
;

120 
d–‘e
 
‹rmsUnique_
;

121 
d–‘e
 
uniqueV¬Indexes_
;

122 
	}
}

126 
¡ršg
 
	$ü—‹Equ®P»dTy³Name
(cÚ¡ * cÚ¡ & 
ty³Name
)

128 
¡ršg
 
±Name
;

129 
±Name
.
	`­³nd
(
P»diÿ‹Tem¶©e
::
EQUAL_NAME
).­³nd("_").­³nd(
ty³Name
);

130  
±Name
;

131 
	}
}

134 
¡ršg
 
	$ü—‹IÁ”ÇlP»dTy³Name
(cÚ¡ * cÚ¡ & 
´edName
,

135 cÚ¡ * cÚ¡ & 
ty³Name
)

137 
¡ršg
 
±Name
;

138 
±Name
.
	`­³nd
(
´edName
).­³nd("_").­³nd(
ty³Name
);

139  
±Name
;

140 
	}
}

143 
	gA¼ay
<
	g¡ršg
> 
	$ü—‹IÁ”ÇlP»dTy³Names
(cÚ¡ * cÚ¡ & 
ty³Name
)

145 
A¼ay
<
¡ršg
> 
´edTy³Names
;

147 
¡ršg
 
gtName
;

148 
gtName
.
	`­³nd
(
P»diÿ‹Tem¶©e
::
GT_NAME
).­³nd("_").­³nd(
ty³Name
);

149 
´edTy³Names
.
	`­³nd
(
gtName
);

151 
¡ršg
 
ÉName
;

152 
ÉName
.
	`­³nd
(
P»diÿ‹Tem¶©e
::
LT_NAME
).­³nd("_").­³nd(
ty³Name
);

153 
´edTy³Names
.
	`­³nd
(
ÉName
);

155 
¡ršg
 
g‹qName
;

156 
g‹qName
.
	`­³nd
(
P»diÿ‹Tem¶©e
::
GTEQ_NAME
).­³nd("_").­³nd(
ty³Name
);

157 
´edTy³Names
.
	`­³nd
(
g‹qName
);

159 
¡ršg
 
ÉeqName
;

160 
ÉeqName
.
	`­³nd
(
P»diÿ‹Tem¶©e
::
LTEQ_NAME
).­³nd("_").­³nd(
ty³Name
);

161 
´edTy³Names
.
	`­³nd
(
ÉeqName
);

163 
¡ršg
 
sub¡rName
;

164 
sub¡rName
.
	`­³nd
(
P»diÿ‹Tem¶©e
::
SUBSTR_NAME
).­³nd("_").­³nd(
ty³Name
);

165 
´edTy³Names
.
	`­³nd
(
sub¡rName
);

167  
´edTy³Names
;

168 
	}
}

170 
boŞ
 
	$isEqu®P»dName
(cÚ¡ * 
´edName
)

171 {  (
	`¡ºcmp
(
´edName
, 
EQUAL_NAME
, 
	`¡¾’
(EQUAL_NAME))==0); 
	}
}

173 
boŞ
 
	$isIÁ”ÇlP»diÿ‹Tem¶©eName
(cÚ¡ * 
´edName
)

175  (
	`¡ºcmp
(
´edName
, 
GT_NAME
, 
	`¡¾’
(GT_NAME)) == 0 ||

176 
	`¡ºcmp
(
´edName
, 
LT_NAME
, 
	`¡¾’
(LT_NAME)) == 0 ||

177 
	`¡ºcmp
(
´edName
, 
GTEQ_NAME
, 
	`¡¾’
(GTEQ_NAME)) == 0 ||

178 
	`¡ºcmp
(
´edName
, 
LTEQ_NAME
, 
	`¡¾’
(LTEQ_NAME)) == 0 ||

179 
	`¡ºcmp
(
´edName
, 
SUBSTR_NAME
, 
	`¡¾’
(SUBSTR_NAME)) == 0);

180 
	}
}

183 
boŞ
 
	$isEqu®P»diÿ‹Tem¶©e
() const

184 {  (
equ®P»d_
 =ğ
EQUAL_PRED
 ||ƒqu®P»d_ =ğ
EQUAL_PRED_WITH_TYPE
); 
	}
}

186 
boŞ
 
	$isEm±yP»diÿ‹Tem¶©e
() const

187 {  (
	`¡rcmp
(
Çme_
, 
EMPTY_NAME
è=ğ0); 
	}
}

189 
boŞ
 
	$isIÁ”ÇlP»diÿ‹Tem¶©e
() const

191  (
	`¡ºcmp
(
Çme_
, 
GT_NAME
, 
	`¡¾’
(GT_NAME)) == 0 ||

192 
	`¡ºcmp
(
Çme_
, 
LT_NAME
, 
	`¡¾’
(LT_NAME)) == 0 ||

193 
	`¡ºcmp
(
Çme_
, 
GTEQ_NAME
, 
	`¡¾’
(GTEQ_NAME)) == 0 ||

194 
	`¡ºcmp
(
Çme_
, 
LTEQ_NAME
, 
	`¡¾’
(LTEQ_NAME)) == 0 ||

195 
	`¡ºcmp
(
Çme_
, 
SUBSTR_NAME
, 
	`¡¾’
(SUBSTR_NAME)) == 0);

196 
	}
}

198 
boŞ
 
	$isIÁ”ÇlP»diÿ‹Tem¶©eW™houtTy³
() const

200  (
	`¡rcmp
(
Çme_
, 
GT_NAME
) == 0 ||

201 
	`¡rcmp
(
Çme_
, 
LT_NAME
) == 0 ||

202 
	`¡rcmp
(
Çme_
, 
GTEQ_NAME
) == 0 ||

203 
	`¡rcmp
(
Çme_
, 
LTEQ_NAME
) == 0 ||

204 
	`¡rcmp
(
Çme_
, 
SUBSTR_NAME
) == 0);

205 
	}
}

207 
boŞ
 
	$isP»diÿ‹Tem¶©eFromIÁ”ÇlFunùiÚ
() const

209  (
	`¡rcmp
(
Çme_
, 
	`¡ršg
(
ZZ_RETURN_PREFIX
).
	`­³nd
(¡ršg(
SUCC_NAME
)).
	`c_¡r
()) == 0 ||

210 
	`¡rcmp
(
Çme_
, 
	`¡ršg
(
ZZ_RETURN_PREFIX
).
	`­³nd
(¡ršg(
PLUS_NAME
)).
	`c_¡r
()) == 0 ||

211 
	`¡rcmp
(
Çme_
, 
	`¡ršg
(
ZZ_RETURN_PREFIX
).
	`­³nd
(¡ršg(
MINUS_NAME
)).
	`c_¡r
()) == 0 ||

212 
	`¡rcmp
(
Çme_
, 
	`¡ršg
(
ZZ_RETURN_PREFIX
).
	`­³nd
(¡ršg(
TIMES_NAME
)).
	`c_¡r
()) == 0 ||

213 
	`¡rcmp
(
Çme_
, 
	`¡ršg
(
ZZ_RETURN_PREFIX
).
	`­³nd
(¡ršg(
DIVIDEDBY_NAME
)).
	`c_¡r
()) == 0 ||

214 
	`¡rcmp
(
Çme_
, 
	`¡ršg
(
ZZ_RETURN_PREFIX
).
	`­³nd
(¡ršg(
MOD_NAME
)).
	`c_¡r
()) == 0 ||

215 
	`¡rcmp
(
Çme_
, 
	`¡ršg
(
ZZ_RETURN_PREFIX
).
	`­³nd
(¡ršg(
CONCAT_NAME
)).
	`c_¡r
()) == 0);

216 
	}
}

218 
boŞ
 
	$isP»diÿ‹Tem¶©eFromFunùiÚ
() const

220 ià(
	`¡¾’
(
Çme_
è> sŒËn(
ZZ_RETURN_PREFIX
))

221  (
	`¡ºcmp
(
Çme_
, 
ZZ_RETURN_PREFIX
, 
	`¡¾’
(ZZ_RETURN_PREFIX)) == 0);

222  
çl£
;

223 
	}
}

225 
¡ršg
 
	$Œª¦©eEqu®P»diÿ‹Name
(cÚ¡ 
¡ršg
& 
eqP»dName
)

227 ià(
	`¡ºcmp
(
eqP»dName
.
	`c_¡r
(), "same", 4) != 0)  "";

228 
¡ršg
 
ty³SŒ
 = 
eqP»dName
.
	`sub¡r
(4,ƒqP»dName.
	`Ëngth
()-4);

229 
¡ršg
 
ÃwName
 = 
P»diÿ‹Tem¶©e
::
EQUAL_NAME
;

230 
ÃwName
.
	`­³nd
("_").­³nd(
ty³SŒ
);

231  
ÃwName
;

232 
	}
}

235 
	$£tId
(cÚ¡ & 
id
è{ 
id_
 = id; 
	}
}

237 
	$g‘Id
(ècÚ¡ {  
id_
; 
	}
}

241 
	$£tName
(cÚ¡ * cÚ¡ & 
Çme
)

243 ià(
Çme_
è
d–‘e
 []‚ame_;

244 
Çme_
 = 
Ãw
 [
	`¡¾’
(
Çme
)+1];

245 
	`¡rıy
(
Çme_
, 
Çme
);

247 
Ën
 = 
	`¡¾’
(
EQUAL_NAME
);

248 ià(
	`¡ºcmp
(
Çme_
, 
EQUAL_NAME
, 
Ën
)==0 && 
	`¡¾’
(name_) >†en)

249 
equ®P»d_
 = 
EQUAL_PRED_WITH_TYPE
;

251 ià(
	`¡ºcmp
(
Çme_
,
EQUAL_NAME
, 
Ën
)==0)

252 
equ®P»d_
 = 
EQUAL_PRED
;

254 
equ®P»d_
 = 
NONE
;

255 
	}
}

258 
boŞ
 
	$isEqu®P»d
() const

259 {  (
equ®P»d_
 =ğ
EQUAL_PRED
 ||ƒqu®P»d_ =ğ
EQUAL_PRED_WITH_TYPE
); 
	}
}

262 
boŞ
 
	$isEqu®P»dW™hTy³
() const

263 {  (
equ®P»d_
 =ğ
EQUAL_PRED_WITH_TYPE
); 
	}
}

266 cÚ¡ * cÚ¡ 
	$g‘Name
(ècÚ¡ {  
Çme_
; 
	}
}

269 
	$g‘NumT”ms
() const

271 
	`as£¹
(
‹rmTy³sAsSŒ_
->
	`size
(è=ğ
‹rmTy³sAsIÁ_
->size());

272  
‹rmTy³sAsIÁ_
->
	`size
();

273 
	}
}

278 
boŞ
 
­³ndT”mTy³
(cÚ¡ * cÚ¡ & 
ty³Name
, cÚ¡ boŞ& 
isUnique
,

279 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
);

282 
boŞ
 
­³ndT”mTy³
(cÚ¡ & 
ty³Id
, cÚ¡ boŞ& 
isUnique
,

283 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
);

288 cÚ¡ 
	gA¼ay
<cÚ¡ *>* 
	$g‘T”mTy³sAsSŒ
() const

289 {  
‹rmTy³sAsSŒ_
; 
	}
}

294 cÚ¡ * 
	$g‘T”mTy³AsSŒ
(cÚ¡ & 
idx
) const

295 {  (*
‹rmTy³sAsSŒ_
)[
idx
]; 
	}
}

300 cÚ¡ 
	gA¼ay
<>* 
	$g‘T”mTy³sAsIÁ
() const

301 {  
‹rmTy³sAsIÁ_
; 
	}
}

304 
	$g‘T”mTy³AsIÁ
(cÚ¡ & 
idx
) const

305 {  (*
‹rmTy³sAsIÁ_
)[
idx
]; 
	}
}

310 cÚ¡ 
	gA¼ay
<
	gboŞ
>* 
	$g‘T”msUnique
(ècÚ¡ {  
‹rmsUnique_
; 
	}
}

313 cÚ¡ 
boŞ
 
	$‹rmIsUnique
(cÚ¡ & 
idx
) const

314 {  (*
‹rmsUnique_
)[
idx
]; 
	}
}

318 cÚ¡ 
	gA¼ay
<>* 
	$g‘UniqueV¬Indexes
(ècÚ¡ {  
uniqueV¬Indexes_
; 
	}
}

325 
	$addUniqueV¬Index
(cÚ¡ & 
idx
) const

327 
	`as£¹
(
idx
 < 
	`g‘NumT”ms
());

328 
uniqueV¬Indexes_
->
	`­³nd
(
idx
);

329 
	}
}

331 
vœtu®
 
	go¡»am
& 
	$´št
(
o¡»am
& 
out
) const

333 
out
 << 
Çme_
 << "(";

334 
i
 = 0; i < 
‹rmTy³sAsSŒ_
->
	`size
(); i++)

336 
out
 << (*
‹rmTy³sAsSŒ_
)[
i
];

337 ià(
uniqueV¬Indexes_
->
	`cÚšs
(
i
))

338 
out
 << "!";

339 
out
 << ((
i
!=
‹rmTy³sAsSŒ_
->
	`size
()-1)?",":")");

341  
out
;

342 
	}
}

345 
vœtu®
 
	go¡»am
& 
	$´štW™hSŒV¬
(
o¡»am
& 
out
) const

347 
out
 << 
Çme_
;

349 ià(
	`¡rcmp
(
	`g‘T”mTy³AsSŒ
(0), "AlchemyPropositionalType") == 0)

351  
out
;

354 
out
 << "(";

355 
i
 = 0; i < 
‹rmTy³sAsSŒ_
->
	`size
(); i++)

357 
out
 << "a" << 
i
+1;

358 ià(
uniqueV¬Indexes_
->
	`cÚšs
(
i
))

359 
out
 << "!";

360 
out
 << ((
i
 !ğ
‹rmTy³sAsSŒ_
->
	`size
() - 1) ? "," : ")");

362  
out
;

363 
	}
}

366 
	g´Ùeùed
:

367 
id_
;

368 * 
	gÇme_
;

369 
	gA¼ay
<>* 
	g‹rmTy³sAsIÁ_
;

370 
	gA¼ay
<cÚ¡ *>* 
	g‹rmTy³sAsSŒ_
;

371 
	gA¼ay
<
	gboŞ
>* 
	g‹rmsUnique_
;

372 
	gnumGnd_
;

374 
	gA¼ay
<>* 
	guniqueV¬Indexes_
;

376 
	g´iv©e
:

377 
equ®P»d_
;

378 
	gštP»d_
;

382 
šlše


383 
	go¡»am
& 
	gİ”©Ü
<<(o¡»am& 
	go
, cÚ¡ 
	gP»diÿ‹Tem¶©e
& 
	gp
è{….
´št
(
o
);}

	@logic/term.cpp

66 
	~"‹rm.h
"

67 
	~"funùiÚ.h
"

68 
	~"domaš.h
"

69 
	~<c¡ršg
>

71 
	gT”m
::
fixedSizeB_
 = -1;

74 
	gT”m
::
	$T”m
(cÚ¡ 
T”m
& 
t
)

76 
·»Á_
 = 
NULL
;

77 
·»ÁIsP»d_
 = 
Œue
;

78 
	`cİy
(
t
);

79 
	}
}

82 
	gT”m
::
	$T”m
(cÚ¡ 
T”m
& 
t
, * cÚ¡ & 
·»Á
, cÚ¡ 
boŞ
& 
·»ÁIsP»d
)

84 
·»Á_
 = 
·»Á
;

85 
·»ÁIsP»d_
 = 
·»ÁIsP»d
;

86 
	`cİy
(
t
);

87 
	}
}

90 
	gT”m
::~
	$T”m
()

92 ià(
funùiÚ_
è
d–‘e
 function_;

93 ià(
štA¼R•_
è
d–‘e
 intArrRep_;

94 
	}
}

97 
	gT”m
::
	$cİy
(cÚ¡ 
T”m
& 
t
)

99 
id_
 = 
t
.id_;

101 ià(
t
.
funùiÚ_
èfunùiÚ_ = 
Ãw
 
	`FunùiÚ
(*Ñ.funùiÚ_), 
this
);

102 
funùiÚ_
 = 
NULL
;

104 ià(
t
.
štA¼R•_
èštA¼R•_ = 
Ãw
 
A¼ay
<>(*(t.intArrRep_));

105 
štA¼R•_
 = 
NULL
;

107 
dœty_
 = 
t
.dirty_;

109 ià(!
dœty_
è{ 
	`as£¹
(
	`noDœtyFunùiÚ
()); }

111 ià(
·»Á_
 !ğ
NULL
)

113 ià(
·»ÁIsP»d_
è((
P»diÿ‹
*)
·»Á_
)->
	`£tDœty
();

114 ((
FunùiÚ
*)
·»Á_
)->
	`£tDœty
();

116 
	}
}

119 
boŞ
 
	gT”m
::
	$noDœtyFunùiÚ
()

121 ià(
funùiÚ_
 =ğ
NULL
è 
Œue
;

122  !(
funùiÚ_
->
	`isDœty
());

123 
	}
}

126 
	gT”m
::
	$£tDœty
()

128 
dœty_
 = 
Œue
;

129 ià(
·»Á_
 !ğ
NULL
)

131 ià(
·»ÁIsP»d_
è((
P»diÿ‹
*)
·»Á_
)->
	`£tDœty
();

132 ((
FunùiÚ
*)
·»Á_
)->
	`£tDœty
();

134 
	}
}

137 
	gT”m
::
	$compu‹AndStÜeIÁA¼R•
()

139 
dœty_
 = 
çl£
;

141 ià(
štA¼R•_
 =ğ
NULL
èštA¼R•_ = 
Ãw
 
A¼ay
<>;

142 
štA¼R•_
->
	`ş—r
();

144 ià(
funùiÚ_
 =ğ
NULL
)

145 
štA¼R•_
->
	`­³nd
(
id_
);

148 ià(
id_
 >ğ0è
štA¼R•_
->
	`­³nd
(id_);

149 
funùiÚ_
->
	`­³ndIÁA¼R•
(*
štA¼R•_
);

151 
	}
}

154 
	gT”m
::
	$´štAsIÁ
(
o¡»am
& 
out
) const

156 ià(
funùiÚ_
 =ğ
NULL
)

157 
out
 << 
id_
;

160 ià(
id_
 >ğ0è
out
 << id_;

161 
funùiÚ_
->
	`´štAsIÁ
(
out
);

163 
	}
}

166 
	gT”m
::
	$´štW™hSŒV¬
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

168 ià(
funùiÚ_
 =ğ
NULL
)

170 ià(
id_
 < 0)

171 
out
 << "a" << -
id_
;

174 
¡ršg
 
ú
 = 
domaš
->
	`g‘CÚ¡ªtName
(
id_
);

175 
¡ršg
::
size_ty³
 
©
 = 
ú
.
	`rfšd
("@");

176 ià(
©
 !ğ
¡ršg
::
Åos
è
ú
 = cn.
	`sub¡r
×t+1, cn.
	`Ëngth
()-at-1);

177 
out
 << 
ú
;

182 ià(
id_
 >= 0)

184 
¡ršg
 
ú
 = 
domaš
->
	`g‘CÚ¡ªtName
(
id_
);

185 
¡ršg
::
size_ty³
 
©
 = 
ú
.
	`rfšd
("@");

186 ià(
©
 !ğ
¡ršg
::
Åos
è
ú
 = cn.
	`sub¡r
×t+1, cn.
	`Ëngth
()-at-1);

187 
out
 << 
ú
;

190 
funùiÚ_
->
	`´št
(
out
,
domaš
);

192 
	}
}

195 
	gT”m
::
	$´št
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const

197 ià(
funùiÚ_
 =ğ
NULL
)

199 ià(
id_
 < 0è
out
 << id_;

202 
¡ršg
 
ú
 = 
domaš
->
	`g‘CÚ¡ªtName
(
id_
);

203 
¡ršg
::
size_ty³
 
©
 = 
ú
.
	`rfšd
("@");

204 ià(
©
 !ğ
¡ršg
::
Åos
è
ú
 = cn.
	`sub¡r
×t+1, cn.
	`Ëngth
()-at-1);

205 
out
 << 
ú
;

210 ià(
id_
 >= 0)

212 
¡ršg
 
ú
 = 
domaš
->
	`g‘CÚ¡ªtName
(
id_
);

213 
¡ršg
::
size_ty³
 
©
 = 
ú
.
	`rfšd
("@");

214 ià(
©
 !ğ
¡ršg
::
Åos
è
ú
 = cn.
	`sub¡r
×t+1, cn.
	`Ëngth
()-at-1);

215 
out
 << 
ú
;

218 
funùiÚ_
->
	`´št
(
out
, 
domaš
);

220 
	}
}

	@logic/term.h

66 #iâdeà
TERM_H_JUN_26_2005


67 
	#TERM_H_JUN_26_2005


	)

69 
	~<şim™s
>

70 
	~<c¡ršg
>

71 
	~<¡dlib.h
>

72 
	~<o¡»am
>

73 
usšg
 
Çme¥aû
 
	g¡d
;

74 
	~"¬¿y.h
"

76 
şass
 
	gFunùiÚ
;

77 
şass
 
	gDomaš
;

81 şas 
	cT”m


83 
	mpublic
:

84 ’um { 
NONE
 = 0, 
	mCONSTANT
 = 1, 
	mVARIABLE
 = 2, 
	mFUNCTION
 = 3 };

86 
	gpublic
:

87 
	$T”m
(è: 
	`id_
(-1), 
	`funùiÚ_
(
NULL
), 
	`štA¼R•_
(NULL), 
	`dœty_
(
Œue
),

88 
	`·»Á_
(
NULL
), 
	$·»ÁIsP»d_
(
Œue
è{
	}
}

90 
	$T”m
(* cÚ¡ & 
·»Á
, cÚ¡ 
boŞ
& 
·»ÁIsP»d
)

91 : 
	`id_
(-1), 
	`funùiÚ_
(
NULL
), 
	`štA¼R•_
(NULL), 
	`dœty_
(
Œue
),

92 
	`·»Á_
(
·»Á
), 
	$·»ÁIsP»d_
(
·»ÁIsP»d
è{
	}
}

94 
	$T”m
(cÚ¡ & 
id
)

95 : 
	`id_
(
id
), 
	`funùiÚ_
(
NULL
), 
	`štA¼R•_
(NULL), 
	`dœty_
(
Œue
), 
	`·»Á_
(NULL),

96 
	$·»ÁIsP»d_
(
Œue
è{
	}
}

98 
	$T”m
(cÚ¡ & 
id
, * cÚ¡ & 
·»Á
, cÚ¡ 
boŞ
& 
·»ÁIsP»d
)

99 : 
	`id_
(
id
), 
	`funùiÚ_
(
NULL
), 
	`štA¼R•_
(NULL), 
	`dœty_
(
Œue
),

100 
	`·»Á_
(
·»Á
), 
	$·»ÁIsP»d_
(
·»ÁIsP»d
è{
	}
}

102 
	$T”m
(
FunùiÚ
* 
f
è: 
	`id_
(-1), 
	`funùiÚ_
(f), 
	`štA¼R•_
(
NULL
), 
	`dœty_
(
Œue
),

103 
	`·»Á_
(
NULL
), 
	$·»ÁIsP»d_
(
Œue
è{
	}
}

105 
	$T”m
(
FunùiÚ
* 
f
, * cÚ¡ & 
·»Á
, cÚ¡ 
boŞ
& 
·»ÁIsP»d
)

106 : 
	`id_
(-1), 
	`funùiÚ_
(
f
), 
	`štA¼R•_
(
NULL
), 
	`dœty_
(
Œue
),

107 
	`·»Á_
(
·»Á
), 
	$·»ÁIsP»d_
(
·»ÁIsP»d
è{
	}
}

109 
T”m
(cÚ¡ T”m& 
t
);

111 
T”m
(cÚ¡ T”m& 
t
, * cÚ¡ & 
·»Á
, cÚ¡ 
boŞ
& 
·»ÁIsP»d
);

113 ~
T”m
();

117 
	$sizeMB
() const

118 {  (
fixedSizeB_
 + 
štA¼R•_
->
	`size
()*())/1000000.0; 
	}
}

121 
	$compu‹FixedSizeB
()

122 { 
fixedSizeB_
 = (
T”m
è+ (
A¼ay
<>); 
	}
}

126 
	$com´ess
(è{ ià(
štA¼R•_
èštA¼R•_->
	`com´ess
(); 
	}
}

129 
£tDœty
();

130 
boŞ
 
	$isDœty
(ècÚ¡ {  
dœty_
; 
	}
}

133 
	$g‘Ty³
() const

135 ià(
id_
 >ğ0è 
CONSTANT
;

136 ià(
funùiÚ_
 !ğ
NULL
è 
FUNCTION
;

137  
VARIABLE
;

138 
	}
}

141 
	$£tP¬’t
(* cÚ¡ 
·»Á
, cÚ¡ 
boŞ
& 
·»ÁIsP»d
)

142 { 
·»Á_
 = 
·»Á
; 
·»ÁIsP»d_
 = 
·»ÁIsP»d
; 
	`£tDœty
(); 
	}
}

145 * 
	$g‘P¬’t
(
boŞ
& 
·»ÁIsP»d
) const

146 { 
·»ÁIsP»d
 = 
·»ÁIsP»d_
;  
·»Á_
; 
	}
}

149 
	$£tId
(cÚ¡ & 
id
)

151 
id_
 = 
id
;

152 
	`£tDœty
();

153 
	}
}

155 
	$g‘Id
(ècÚ¡ {  
id_
; 
	}
}

158 
	$»v”tToBeFunùiÚ
(è{ 
	`as£¹
(
funùiÚ_
); 
id_
 = -1; 
	}
}

160 
	$£tFunùiÚ
(
FunùiÚ
* cÚ¡ & 
f
è{ 
funùiÚ_
 = f; 
	`£tDœty
(); 
	}
}

161 
FunùiÚ
* 
	$g‘FunùiÚ
(ècÚ¡ {  
funùiÚ_
; 
	}
}

163 
boŞ
 
	$isCÚ¡ªt
(ècÚ¡ {  
id_
 >ğ0; 
	}
}

164 
boŞ
 
	$isGrounded
(ècÚ¡ {  
id_
 >ğ0; 
	}
}

167 
­³ndIÁA¼R•
(
A¼ay
<>& 
»p
)

169 ià(
	gdœty_
è
compu‹AndStÜeIÁA¼R•
();

170 
	g»p
.
­³nd
(*
štA¼R•_
);

174 
boŞ
 
	$§me
(
T”m
* cÚ¡ & 
t
)

176 ià(
this
==
t
è 
Œue
;

177 cÚ¡ 
A¼ay
<>* 
tA¼
 = 
t
->
	`g‘IÁA¼R•
();

178 cÚ¡ 
A¼ay
<>* 
myA¼
 = 
	`g‘IÁA¼R•
();

179 ià(
myA¼
->
	`size
(è!ğ
tA¼
->size()è 
çl£
;

180 cÚ¡ * 
tI‹ms
 = 
t
->
	`g‘IÁA¼R•
()->
	`g‘I‹ms
();

181 cÚ¡ * 
myI‹ms
 = 
	`g‘IÁA¼R•
()->
	`g‘I‹ms
();

182  (
	`memcmp
(
myI‹ms
, 
tI‹ms
, 
myA¼
->
	`size
()*())==0);

183 
	}
}

186 
	$´štAsIÁ
(
o¡»am
& 
out
) const;

187 
	$´štW™hSŒV¬
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const;

188 
	$´št
(
o¡»am
& 
out
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
) const;

191 
´iv©e
:

192 
	`cİy
(cÚ¡ 
T”m
& 
t
);

193 
boŞ
 
	`noDœtyFunùiÚ
();

195 cÚ¡ 
A¼ay
<>* 
	$g‘IÁA¼R•
()

196 { ià(
dœty_
è
	`compu‹AndStÜeIÁA¼R•
();  
štA¼R•_
; 
	}
}

198 
compu‹AndStÜeIÁA¼R•
();

200 
	g´iv©e
:

207 
id_
;

208 
FunùiÚ
* 
	gfunùiÚ_
;

209 
	gA¼ay
<>* 
	gštA¼R•_
;

210 
boŞ
 
	gdœty_
;

212 * 
	g·»Á_
;

213 
boŞ
 
	g·»ÁIsP»d_
;

215 
	gfixedSizeB_
;

	@logic/truefalsegroundingsstore.h

66 #iâdeà
TRUEFALSEGROUNDINGSSTORE_H_NOV_16_2005


67 
	#TRUEFALSEGROUNDINGSSTORE_H_NOV_16_2005


	)

69 
	~<ext/hash_m­
>

70 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

71 
	~"¿ndom.h
"

72 
	~"domaš.h
"

75 
	sTrueF®£Gndšgs


77 
TrueF®£Gndšgs
() {}

78 ~
TrueF®£Gndšgs
()

80 
	mi
 = 0; i < 
	mŒueGndšgs
.
size
(); i++è
	md–‘e
 []rueGndšgs[
i
];

81 
	mi
 = 0; i < 
	mçl£Gndšgs
.
size
(); i++è
	md–‘e
 [] f®£Gndšgs[
i
];

84 
	mA¼ay
<*> 
	mŒueGndšgs
;

85 
	mA¼ay
<*> 
	mçl£Gndšgs
;

89 
	ghash_m­
<
	tP»diÿ‹
*, 
	tTrueF®£Gndšgs
*, 
	tHashP»diÿ‹
,
	tEqu®P»diÿ‹
>

90 
	tP»dToGndšgsM­
;

94 şas 
	cTrueF®£GroundšgsStÜe


96 
	mpublic
:

97 
	$TrueF®£GroundšgsStÜe
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
è: 
	$domaš_
(
domaš
)

99 
´edToGndšgsM­s_
.
	`growToSize
(
domaš_
->
	`g‘NumP»diÿ‹s
(), 
NULL
);

100 
¿ndom_
.
	`š™
(-1);

104 ~
	$TrueF®£GroundšgsStÜe
()

106 
i
 = 0; i < 
´edToGndšgsM­s_
.
	`size
(); i++)

108 
P»dToGndšgsM­
* 
±gM­
 = 
´edToGndšgsM­s_
[
i
];

109 ià(
±gM­
 =ğ
NULL
) ;

110 
A¼ay
<
P»diÿ‹
*> 
toBeD–‘ed
;

111 
P»dToGndšgsM­
::
™”©Ü
 
™
=
±gM­
->
	`begš
();™!õtgM­->
	`’d
();it++)

113 
toBeD–‘ed
.
	`­³nd
((*
™
).
fœ¡
);

114 
	`d–‘e
 (*
™
).
£cÚd
;

116 
d–‘e
 
±gM­
;

117 
toBeD–‘ed
.
	`d–‘eI‹msAndCË¬
();

119 
	}
}

123 
	$g‘NumTrueL™”®Groundšgs
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

124 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
æ³dGndP»d
)

126 ià(((
P»diÿ‹
*)
´ed
)->
	`isGrounded
())

128 
TruthV®ue
 
tv
 = 
domaš_
->
	`g‘DB
()->
	`g‘V®ue
(
´ed
);

129 ià(
D©aba£
::
	`§meTruthV®ueAndS’£
(
tv
, 
´ed
->
	`g‘S’£
()))  1;

133 
TrueF®£Gndšgs
* 
tfGndšgs
 = 
	`g‘TrueF®£Gndšgs
(
´ed
, 
æ³dGndP»d
);

134 
boŞ
 
£n£
 = 
´ed
->
	`g‘S’£
();

135 
n
 = (
£n£
è? 
tfGndšgs
->
ŒueGndšgs
.
	`size
()

136 : 
tfGndšgs
->
çl£Gndšgs
.
	`size
();

139 ià(
æ³dGndP»d
 &&

140 ((
P»diÿ‹
*)
´ed
)->
	`ÿnBeGroundedAs
((P»diÿ‹*)
æ³dGndP»d
))

142 
TruthV®ue
 
æ³dtv
 = 
domaš_
->
	`g‘DB
()->
	`g‘V®ue
(
æ³dGndP»d
);

143 
TruthV®ue
 
tv
 = 
FALSE
;

144 ià(
æ³dtv
 =ğ
TRUE
è
tv
 = 
FALSE
;

145 ià(
æ³dtv
 =ğ
FALSE
è
tv
 = 
TRUE
;

146 
	`as£¹
(
çl£
);

147 ià(
D©aba£
::
	`§meTruthV®ueAndS’£
(
tv
, 
´ed
->
	`g‘S’£
())è
n
--;

149  
n
;

150 
	}
}

154 
P»diÿ‹
* 
	$g‘RªdomTrueL™”®Groundšg
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

155 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
æ³dP»d
)

157 ià(((
P»diÿ‹
*)
´ed
)->
	`isGrounded
())

159 
TruthV®ue
 
tv
 = 
domaš_
->
	`g‘DB
()->
	`g‘V®ue
(
´ed
);

160 ià(
D©aba£
::
	`§meTruthV®ueAndS’£
(
tv
, 
´ed
->
	`g‘S’£
()))

161  
Ãw
 
	`P»diÿ‹
(*
´ed
);

162  
NULL
;

166 
TrueF®£Gndšgs
* 
tfGndšgs
 = 
	`g‘TrueF®£Gndšgs
(
´ed
, 
æ³dP»d
);

167 
P»diÿ‹
* 
¿ndP»d
 = 
Ãw
 
	`P»diÿ‹
(*
´ed
);

169 
boŞ
 
£n£
 = 
´ed
->
	`g‘S’£
();

170 
boŞ
 
fœ¡Try
 = 
Œue
;

171 ià(
£n£
)

173 
numGndšgs
 = 
tfGndšgs
->
ŒueGndšgs
.
	`size
();

174 
fœ¡Try
 ||

175 (
æ³dP»d
 && 
¿ndP»d
->
	`§me
((
P»diÿ‹
*)flippedPred)))

177 
fœ¡Try
 = 
çl£
;

178 * 
cÚ¡Ids
=
tfGndšgs
->
ŒueGndšgs
[ 
¿ndom_
.
	`¿ndomOÃOf
(
numGndšgs
) ];

179 
i
 = 0; i < 
¿ndP»d
->
	`g‘NumT”ms
(); i++)

180 ((
T”m
*)
¿ndP»d
->
	`g‘T”m
(
i
))->
	`£tId
Ğ
cÚ¡Ids
[i] );

182  
¿ndP»d
;

186 
numGndšgs
 = 
tfGndšgs
->
çl£Gndšgs
.
	`size
();

187 
fœ¡Try
 ||

188 (
æ³dP»d
 && 
¿ndP»d
->
	`§me
((
P»diÿ‹
*)flippedPred)))

190 
fœ¡Try
 = 
çl£
;

191 * 
cÚ¡Ids
=
tfGndšgs
->
çl£Gndšgs
[ 
¿ndom_
.
	`¿ndomOÃOf
(
numGndšgs
)];

192 
i
 = 0; i < 
¿ndP»d
->
	`g‘NumT”ms
(); i++)

193 ((
T”m
*)
¿ndP»d
->
	`g‘T”m
(
i
))->
	`£tId
Ğ
cÚ¡Ids
[i] );

195  
¿ndP»d
;

197 
	}
}

200 
	g´iv©e
:

201 
	$flInTrueF®£Gndšgs
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

202 
TrueF®£Gndšgs
* cÚ¡ & 
tfGndšgs
,

203 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
æ³dP»d
)

205 
boŞ
 
æ
 = 
çl£
;

206 ià(
æ³dP»d
 &&

207 ((
P»diÿ‹
*)
´ed
)->
	`ÿnBeGroundedAs
((P»diÿ‹*)
æ³dP»d
))

208 { 
æ
 = 
Œue
; 
domaš_
->
	`g‘DB
()->
	`æV®ue
((
P»diÿ‹
*)
æ³dP»d
); }

210 
P»diÿ‹
* 
tmpP»d
 = 
Ãw
 
	`P»diÿ‹
(*
´ed
);

211 
A¼ay
<*> 
cÚ¡A¼ays
;

212 
tmpP»d
->
	`ü—‹AÎGroundšgs
(
domaš_
, 
cÚ¡A¼ays
);

213 
i
 = 0; i < 
cÚ¡A¼ays
.
	`size
(); i++)

215 * 
cÚ¡Ids
 = 
cÚ¡A¼ays
[
i
];

216 
j
 = 0; j < 
tmpP»d
->
	`g‘NumT”ms
(); j++)

217 ((
T”m
*)
tmpP»d
->
	`g‘T”m
(
j
))->
	`£tId
(
cÚ¡Ids
[j]);

219 
TruthV®ue
 
tv
 = 
domaš_
->
	`g‘DB
()->
	`g‘V®ue
(
tmpP»d
);

220 ià(
tv
 =ğ
TRUE
è
tfGndšgs
->
ŒueGndšgs
.
	`­³nd
(
cÚ¡Ids
);

221 ià(
tv
 =ğ
FALSE
è
tfGndšgs
->
çl£Gndšgs
.
	`­³nd
(
cÚ¡Ids
);

223 
tfGndšgs
->
ŒueGndšgs
.
	`com´ess
();

224 
tfGndšgs
->
çl£Gndšgs
.
	`com´ess
();

225 
d–‘e
 
tmpP»d
;

227 ià(
æ
è
domaš_
->
	`g‘DB
()->
	`æV®ue
((
P»diÿ‹
*)
æ³dP»d
);

228 
	}
}

232 
TrueF®£Gndšgs
* 
	$ÃwEÁryInP»dToGndšgsM­s
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

233 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
æ³dP»d
)

235 
P»dToGndšgsM­
* 
±gM­
 = 
´edToGndšgsM­s_
[
´ed
->
	`g‘Id
()];

236 
TrueF®£Gndšgs
* 
tfGndšgs
 = 
Ãw
 TrueFalseGndings;

237 
P»diÿ‹
* 
ÃwP»d
 = 
Ãw
 
	`P»diÿ‹
(*
´ed
);

238 (*
±gM­
)[
ÃwP»d
] = 
tfGndšgs
;

239 
	`flInTrueF®£Gndšgs
(
ÃwP»d
, 
tfGndšgs
, 
æ³dP»d
);

240  
tfGndšgs
;

241 
	}
}

244 
TrueF®£Gndšgs
* 
	$g‘TrueF®£Gndšgs
(cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

245 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
æ³dP»d
)

247 
´edId
 = 
´ed
->
	`g‘Id
();

248 ià(
´edToGndšgsM­s_
[
´edId
] =ğ
NULL
)

249 
´edToGndšgsM­s_
[
´edId
] = 
Ãw
 
P»dToGndšgsM­
;

250 
P»dToGndšgsM­
* 
±gM­
 = 
´edToGndšgsM­s_
[
´edId
];

252 
P»dToGndšgsM­
::
™”©Ü
 
™
;

253 ià((
™
=
±gM­
->
	`fšd
((
P»diÿ‹
*)
´ed
)è=ğ±gM­->
	`’d
())

254  
	`ÃwEÁryInP»dToGndšgsM­s
(
´ed
, 
æ³dP»d
);

255  (*
™
).
£cÚd
;

256 
	}
}

259 
	g´iv©e
:

260 cÚ¡ 
Domaš
* 
domaš_
;

263 
	gA¼ay
<
	gP»dToGndšgsM­
*> 
	g´edToGndšgsM­s_
;

264 
Rªdom
 
	g¿ndom_
;

	@logic/variablestate.h

67 #iâdeà
VARIABLESTATE_H_


68 
	#VARIABLESTATE_H_


	)

70 
	~"mrf.h
"

71 
	~"tim”.h
"

73 cÚ¡ 
	gNOVALUE
 = 100000000;

74 cÚ¡ 
	gDISANDCONT
 = 200000000;

75 cÚ¡ 
	gMULTIDIS
 = 300000000;

76 cÚ¡ 
	gNOSOL
 = 1234567890;

77 cÚ¡ 
boŞ
 
	gvsdebug
 = 
çl£
;

98 şas 
	cV¬ŸbËS‹


100 
	mpublic
:

120 
V¬ŸbËS‹
(
GroundP»diÿ‹HashA¼ay
* cÚ¡& 
unknownQu”›s
,

121 
GroundP»diÿ‹HashA¼ay
* cÚ¡& 
knownQu”›s
,

122 
A¼ay
<
TruthV®ue
>* cÚ¡ & 
knownQu”yV®ues
,

123 cÚ¡ 
A¼ay
<>* cÚ¡ & 
®lP»dGndšgsA»Qu”›s
,

124 cÚ¡ 
boŞ
& 
m¬kH¬dGndCÏu£s
,

125 cÚ¡ 
boŞ
& 
ŒackP¬’tCÏu£Wts
,

126 cÚ¡ 
MLN
* cÚ¡ & 
mÊ
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

127 cÚ¡ 
boŞ
& 
Ïzy
)

130 
	m¡lAùiv©šg_
 = 
Œue
;

131 
	mb»akH¬dCÏu£s_
 = 
çl£
;

133 
	mšã»nûMode_
 = 
MODE_MWS
;

134 
Tim”
 
	mtim”
;

135 
	m¡¬tTime
 = 
tim”
.
time
();

137 
	mthis
->
	mmÊ_
 = (
MLN
*)
mÊ
;

138 
	mthis
->
	mdomaš_
 = (
Domaš
*)
domaš
;

139 
	mthis
->
	mÏzy_
 = 
Ïzy
;

142 
	mba£NumAtoms_
 = 0;

143 
	maùiveAtoms_
 = 0;

144 
	mnumF®£CÏu£s_
 = 0;

145 
	mco¡OfF®£CÏu£s_
 = 0.0;

146 
	mlowCo¡_
 = 
LDBL_MAX
;

147 
	mlowBad_
 = 
INT_MAX
;

150 
	mgndCÏu£s_
 = 
Ãw
 
GroundCÏu£HashA¼ay
;

151 
	mgndP»ds_
 = 
Ãw
 
A¼ay
<
GroundP»diÿ‹
*>;

154 
£tH¬dCÏu£Weight
();

157 ià(
	mÏzy_
)

160 
	mdomaš_
->
compu‹NumNÚEvidAtoms
();

161 
	mnumNÚEvAtoms_
 = 
domaš_
->
g‘NumNÚEvid’ûAtoms
();

163 
	mdomaš_
->
g‘DB
()->
£tP”fÜmšgInã»nû
(
Œue
);

164 
	mşau£Lim™_
 = 
INT_MAX
;

165 
	mnoAµrox_
 = 
çl£
;

166 
	mhaveD—ùiv©ed_
 = 
çl£
;

173 
š™BlocksRªdom
();

176 
boŞ
 
	mignÜeAùiveP»ds
 = 
Œue
;

177 
	mcout
 << "G‘tšg in™ŸÈaùiv©om ... " << 
	m’dl
;

178 
g‘AùiveCÏu£s
(
ÃwCÏu£s_
, 
ignÜeAùiveP»ds
);

179 
	mcout
 << "dÚe." << 
	m’dl
;

180 
	mdeçuÉCÁ
 = 
ÃwCÏu£s_
.
size
();

181 
	mdeçuÉCo¡
 = 0;

183 
	mi
 = 0; i < 
	mdeçuÉCÁ
; i++)

185 ià(
	mÃwCÏu£s_
[
i
]->
isH¬dCÏu£
())

186 
	mdeçuÉCo¡
 +ğ
h¬dWt_
;

188 
	mdeçuÉCo¡
 +ğ
abs
(
ÃwCÏu£s_
[
i
]->
g‘Wt
());

192 
	mi
 = 0; i < 
	mgndP»dHashA¼ay_
.
size
(); i++)

193 
	mgndP»dHashA¼ay_
[
i
]->
»moveGndCÏu£s
();

196 
	mi
 = 0; i < 
	mÃwCÏu£s_
.
size
(); i++)

197 
d–‘e
 
	mÃwCÏu£s_
[
i
];

198 
	mÃwCÏu£s_
.
ş—r
();

200 
	mba£NumAtoms_
 = 
gndP»dHashA¼ay_
.
size
();

201 
	mcout
 << "Numb” oàBa£©om ğ" << 
	mba£NumAtoms_
 << 
	m’dl
;

202 
	mcout
 << "DeçuÉ => Co¡\t" << "******\t" << " CÏu£ CÁ\t" << 
	m’dl
;

203 
	mcout
 << " " << 
	mdeçuÉCo¡
 << "\t" << "******\t" << 
	mdeçuÉCÁ


204 << "\t" << 
	m’dl
 <<ƒndl;

207 
	mi
 = 0; i < 
	mba£NumAtoms_
; i++)

209 
	mdomaš_
->
g‘DB
()->
£tAùiveStus
(
gndP»dHashA¼ay_
[
i
], 
Œue
);

210 
	maùiveAtoms_
++;

214 
	mignÜeAùiveP»ds
 = 
çl£
;

215 
	mcout
 << "Getting initial‡ctive clauses ... ";

216 
g‘AùiveCÏu£s
(
ÃwCÏu£s_
, 
ignÜeAùiveP»ds
);

217 
	mcout
 << "dÚe." << 
	m’dl
;

222 
	muÃP»ds_
 = 
unknownQu”›s
;

223 
	mkÃP»ds_
 = 
knownQu”›s
;

224 
	mkÃP»dV®ues_
 = 
knownQu”yV®ues
;

227 
	msize
 = 0;

228 ià(
	munknownQu”›s
è
	msize
 +ğ
unknownQu”›s
->
size
();

229 ià(
	mknownQu”›s
è
	msize
 +ğ
knownQu”›s
->
size
();

230 
GroundP»diÿ‹HashA¼ay
* 
	mqu”›s
 = 
Ãw
 GroundP»diÿ‹HashA¼ay(
size
);

231 ià(
	munknownQu”›s
è
	mqu”›s
->
­³nd
(
unknownQu”›s
);

232 ià(
	mknownQu”›s
è
	mqu”›s
->
­³nd
(
knownQu”›s
);

233 
	mmrf_
 = 
Ãw
 
MRF
(
qu”›s
, 
®lP»dGndšgsA»Qu”›s
, 
domaš_
,

234 
domaš_
->
g‘DB
(), 
mÊ_
, 
m¬kH¬dGndCÏu£s
,

235 
ŒackP¬’tCÏu£Wts
, -1);

239 
	mmrf_
->
d–‘eGndP»dsGndCÏu£S‘s
();

241 
d–‘e
 
	mqu”›s
;

244 
	mÃwCÏu£s_
 = *(
A¼ay
<
GroundCÏu£
*>*)
mrf_
->
g‘FÏtR—lGndCÏu£s
();

245 
	mÜigš®GndCÏu£s_
 = *(
A¼ay
<
GroundCÏu£
*>*)
mrf_
->
g‘GndCÏu£s
();

250 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
	mgndP»ds
 = 
mrf_
->
g‘GndP»ds
();

251 
	mi
 = 0; i < 
	mgndP»ds
->
size
(); i++)

252 
	mgndP»dHashA¼ay_
.
­³nd
((*
gndP»ds
)[
i
]);

264 
	mba£NumAtoms_
 = 
gndP»dHashA¼ay_
.
size
();

272 
boŞ
 
	mš™Ÿl
 = 
Œue
;

273 
addNewCÏu£s
(
š™Ÿl
);

275 
	mcout
 << "[VS] ";

276 
	mTim”
::
´štTime
(
cout
,
tim”
.
time
()-
¡¬tTime
);

277 
	mcout
 << 
	m’dl
;

278 
	mcout
 << ">>> DONE: In™ŸÈnum. oàşau£s: " << 
g‘NumCÏu£s
(è<< 
	m’dl
;

284 ~
	$V¬ŸbËS‹
()

286 ià(
Ïzy_
)

288 ià(
gndCÏu£s_
)

289 
i
 = 0; i < 
gndCÏu£s_
->
	`size
(); i++)

290 
	`d–‘e
 (*
gndCÏu£s_
)[
i
];

292 
i
 = 0; i < 
gndP»dHashA¼ay_
.
	`size
(); i++)

294 
gndP»dHashA¼ay_
[
i
]->
	`»moveGndCÏu£s
();

295 
d–‘e
 
gndP»dHashA¼ay_
[
i
];

301 ià(
mrf_
)

303 
d–‘e
 
mrf_
;

304 
mrf_
 = 
NULL
;

313 
	}
}

323 
	$addNewCÏu£s
(
boŞ
 
š™Ÿl
)

325 ià(
š™Ÿl
è
	`addNewCÏu£s
(
ADD_CLAUSE_INITIAL
, 
ÃwCÏu£s_
);

326 
	`addNewCÏu£s
(
ADD_CLAUSE_REGULAR
, 
ÃwCÏu£s_
);

327 
	}
}

332 
	$š™
()

335 
	`š™MakeB»akCo¡W©ch
();

336 
	}
}

377 
	$š™Rªdom
()

380 ià(
šã»nûMode_
 =ğ
MODE_SAMPLESAT
)

382 if(
vsdebug
è
cout
<<"Inã»nû Modi §m¶§t..."<<
’dl
;

383 
	`un™Prİag©iÚ
();

387 
	`š™BlocksRªdom
();

389 
i
 = 1; i <ğ
gndP»ds_
->
	`size
(); i++)

391 ià(
fixedAtom_
[
i
] != 0)

397 ià(
	`g‘BlockIndex
(
i
 - 1) >= 0)

399 ià(
vsdebug
è
cout
 << "Atom " << 
i
 << " iÀblock" << 
’dl
;

405 ià(
vsdebug
è
cout
 << "Atom " << 
i
 << "‚Ù iÀblock" << 
’dl
;

408 ià(!
Ïzy_
 || 
	`isAùive
(
i
))

410 
boŞ
 
isTrue
 = 
	`¿ndom
() % 2;

411 
boŞ
 
aùiv©e
 = 
çl£
;

412 
	`£tV®ueOfAtom
(
i
, 
isTrue
, 
aùiv©e
, -1);

414 ià(
šã»nûMode_
 =ğ
MODE_SAMPLESAT
)

416 
boŞ
 
isInP»vUn§t
 = 
çl£
;

417 
A¼ay
<> 
oÿ
 = 
	`g‘PosOccu»nûA¼ay
(
i
);

418 
k
 = 0; k < 
oÿ
.
	`size
(); k++)

419 ià(!
´evS©isf›dCÏu£_
[
oÿ
[
k
]])

421 
isInP»vUn§t
 = 
Œue
;

425 ià(!
isInP»vUn§t
)

427 
oÿ
 = 
	`g‘NegOccu»nûA¼ay
(
i
);

428 
k
 = 0; k < 
oÿ
.
	`size
(); k++)

429 ià(!
´evS©isf›dCÏu£_
[
oÿ
[
k
]])

431 
isInP»vUn§t
 = 
Œue
;

435 ià(
isInP»vUn§t
)

437 
boŞ
 
isTrue
 = 
	`¿ndom
() % 2;

438 ià(
isTrue
)

440 ià(
	`aùiv©eAtom
(
i
, 
çl£
, false))

441 
	`£tV®ueOfAtom
(
i
, 
Œue
, 
çl£
, -1);

447 if(
vsdebug
)

449 
cout
<<"cu¼’ˆ¡©i : "<<
’dl
;

450 
	`´štCu¼’tS‹
(
cout
);

451 
cout
<<
’dl
;

453 
	`š™
();

454 
	}
}

459 
	$š™BlocksRªdom
()

461 ià(
vsdebug
)

463 
cout
 << "In™Ÿlizšg block ¿ndomly" << 
’dl
;

464 
cout
 << "Num. oàblocks: " << 
domaš_
->
	`g‘NumP»dBlocks
(è<< 
’dl
;

467 
i
 = 0; i < 
domaš_
->
	`g‘NumP»dBlocks
(); i++)

469 
ŒueFixedAtom
 = 
	`g‘TrueFixedAtomInBlock
(
i
);

471 ià(
ŒueFixedAtom
 >= 0)

473 ià(
vsdebug
)

475 
cout
 << "Trufixed‡tom " << 
ŒueFixedAtom
 << " in block "

476 << 
i
 << 
’dl
;

478 
	`£tOth”sInBlockToF®£
(
ŒueFixedAtom
, 
i
);

483 ià(
domaš_
->
	`g‘BlockEvid’û
(
i
))

485 ià(
vsdebug
è
cout
 << "Blockƒvid’û iÀblock " << 
i
 << 
’dl
;

487 
	`£tOth”sInBlockToF®£
(-1, 
i
);

492 
boŞ
 
ok
 = 
çl£
;

493 !
ok
)

495 cÚ¡ 
P»diÿ‹
* 
´ed
 = 
domaš_
->
	`g‘RªdomP»dInBlock
(
i
);

496 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
((
P»diÿ‹
*)
´ed
);

497 
©omIdx
 = 
gndP»dHashA¼ay_
.
	`fšd
(
gndP»d
);

498 
d–‘e
 
´ed
;

500 
	`as£¹
(
Ïzy_
 || 
©omIdx
 >= 0);

502 ià(
©omIdx
 == -1)

504 
©omIdx
 = 
gndP»dHashA¼ay_
.
	`­³nd
(
gndP»d
);

505 
boŞ
 
š™Ÿl
 = 
çl£
;

506 
	`addNewCÏu£s
(
š™Ÿl
);

507 
ok
 = 
Œue
;

512 
d–‘e
 
gndP»d
;

513 ià(
fixedAtom_
[
©omIdx
 + 1] == 0)

515 ià(
vsdebug
è
cout
 << "Atom " << 
©omIdx
 + 1

516 << " cho£Àš block " << 
i
 << 
’dl
;

517 
ok
 = 
Œue
;

521 ià(
vsdebug
è
cout
 << "Atom " << 
©omIdx
 + 1

522 << " i fixedØ" << 
fixedAtom_
[
©omIdx
 + 1]

523 << 
’dl
;

528 
boŞ
 
aùiv©e
 = 
çl£
;

529 
	`£tV®ueOfAtom
(
©omIdx
 + 1, 
Œue
, 
aùiv©e
, 
i
);

530 
	`£tOth”sInBlockToF®£
(
©omIdx
, 
i
);

533 ià(
vsdebug
è
cout
 << "DÚš™Ÿlizšg block ¿ndomly" << 
’dl
;

534 
	}
}

539 
	$»£tMakeB»akCo¡W©ch
()

542 
i
 = 0; i < 
	`g‘NumCÏu£s
(); i++è
numTrueL™s_
[i] = 0;

543 
numF®£CÏu£s_
 = 0;

544 
co¡OfF®£CÏu£s_
 = 0.0;

545 
lowCo¡_
 = 
LDBL_MAX
;

546 
lowBad_
 = 
INT_MAX
;

548 
	`as£¹
(
makeCo¡_
.
	`size
(è=ğ
b»akCo¡_
.size());

550 
i
 = 0; i < 
makeCo¡_
.
	`size
(); i++)

552 
makeCo¡_
[
i
] = 
b»akCo¡_
[i] = 0.0;

554 
	}
}

561 
	$š™MakeB»akCo¡W©ch
()

563 
	`»£tMakeB»akCo¡W©ch
();

564 
	`š™MakeB»akCo¡W©ch
(0);

565 
	}
}

574 
	$š™MakeB»akCo¡W©ch
(cÚ¡ & 
¡¬tCÏu£
)

576 
theTrueL™
 = -1;

578 
i
 = 
¡¬tCÏu£
; i < 
	`g‘NumCÏu£s
(); i++)

581 ià(
d—dCÏu£_
[
i
] || 
isS©isf›d_
[i]) ;

583 
ŒueL™1
 = 0;

584 
ŒueL™2
 = 0;

585 
co¡
 = 
şau£Co¡_
[
i
];

586 
numTrueL™s_
[
i
] = 0;

587 
j
 = 0; j < 
	`g‘CÏu£Size
(
i
); j++)

589 ià(
	`isTrueL™”®
(
şau£_
[
i
][
j
]))

591 
numTrueL™s_
[
i
]++;

592 
theTrueL™
 = 
	`abs
(
şau£_
[
i
][
j
]);

593 ià(!
ŒueL™1
èŒueL™1 = 
theTrueL™
;

594 ià(
ŒueL™1
 && !
ŒueL™2
èŒueL™2 = 
theTrueL™
;

600 ià((
numTrueL™s_
[
i
] =ğ0 && 
co¡
 >= 0) ||

601 (
numTrueL™s_
[
i
] > 0 && 
co¡
 < 0))

603 
wh”eF®£_
[
i
] = 
numF®£CÏu£s_
;

604 
çl£CÏu£_
[
numF®£CÏu£s_
] = 
i
;

605 
numF®£CÏu£s_
++;

606 
co¡OfF®£CÏu£s_
 +ğ
	`abs
(
co¡
);

607 ià(
highe¡Co¡_
 =ğ
	`abs
(
co¡
)è{
eqHighe¡_
 = 
Œue
; 
numHighe¡_
++;}

610 ià(
numTrueL™s_
[
i
] == 0)

611 
j
 = 0; j < 
	`g‘CÏu£Size
(
i
); j++)

613 
makeCo¡_
[
	`abs
(
şau£_
[
i
][
j
])] +ğ
co¡
;

617 ià(
numTrueL™s_
[
i
] == 1)

620 
makeCo¡_
[
theTrueL™
] -ğ
co¡
;

621 
w©ch1_
[
i
] = 
theTrueL™
;

623 ià(
numTrueL™s_
[
i
] > 1)

625 
w©ch1_
[
i
] = 
ŒueL™1
;

626 
w©ch2_
[
i
] = 
ŒueL™2
;

630 ià(
numTrueL™s_
[
i
] =ğ1 && 
co¡
 >= 0)

632 
b»akCo¡_
[
theTrueL™
] +ğ
co¡
;

633 
w©ch1_
[
i
] = 
theTrueL™
;

636 ià(
co¡
 >= 0)

638 
w©ch1_
[
i
] = 
ŒueL™1
;

639 
w©ch2_
[
i
] = 
ŒueL™2
;

642 ià(
numTrueL™s_
[
i
] =ğ0 && 
co¡
 < 0)

644 
j
 = 0; j < 
	`g‘CÏu£Size
(
i
); j++)

645 
b»akCo¡_
[
	`abs
(
şau£_
[
i
][
j
])] -ğ
co¡
;

648 
	}
}

650 
	$g‘NumAtoms
(è{  
gndP»ds_
->
	`size
(); 
	}
}

652 
	$g‘NumCÏu£s
(è{  
gndCÏu£s_
->
	`size
(); 
	}
}

655 
	$g‘NumD—dCÏu£s
()

657 
couÁ
 = 0;

658 
i
 = 0; i < 
d—dCÏu£_
.
	`size
(); i++)

659 ià(
d—dCÏu£_
[
i
]è
couÁ
++;

660  
couÁ
;

661 
	}
}

668 
	$g‘IndexOfRªdomAtom
()

671 ià(
Ïzy_
)

673 
P»diÿ‹
* 
´ed
 = 
domaš_
->
	`g‘NÚEvid’ûAtom
(
	`¿ndom
(è% 
numNÚEvAtoms_
);

674 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
(
´ed
);

675 
d–‘e
 
´ed
;

677 
idx
 = 
gndP»dHashA¼ay_
.
	`fšd
(
gndP»d
);

679 ià(
idx
 >= 0)

681 
d–‘e
 
gndP»d
;

682  
idx
 + 1;

687 ià(
vsdebug
)

689 
cout
 << "Adding„andomly ";

690 
gndP»d
->
	`´št
(
cout
, 
domaš_
);

691 
cout
 << "Øth¡©e" << 
’dl
;

693 
gndP»dHashA¼ay_
.
	`­³nd
(
gndP»d
);

694 
boŞ
 
š™Ÿl
 = 
çl£
;

695 
	`addNewCÏu£s
(
š™Ÿl
);

697  
gndP»dHashA¼ay_
.
	`size
();

703 
numAtoms
 = 
	`g‘NumAtoms
();

704 ià(
numAtoms
 =ğ0è 
NOVALUE
;

705  
	`¿ndom
()%
numAtoms
 + 1;

707 
	}
}

714 
	$g‘IndexOfAtomInRªdomF®£CÏu£
()

716 ià(
numF®£CÏu£s_
 =ğ0è 
NOVALUE
;

717 
şau£Idx
 = 
çl£CÏu£_
[
	`¿ndom
()%
numF®£CÏu£s_
];

720 ià(
şau£Co¡_
[
şau£Idx
] >= 0)

723 
Œue
)

725 
i
 = 
	`¿ndom
()%
	`g‘CÏu£Size
(
şau£Idx
);

726 ià(!
fixedAtom_
[
	`abs
(
şau£_
[
şau£Idx
][
i
])])

727  
	`abs
(
şau£_
[
şau£Idx
][
i
]);

732  
	`g‘RªdomTrueL™InCÏu£
(
şau£Idx
);

733 
	}
}

739 
	$g‘RªdomF®£CÏu£Index
()

741 ià(
numF®£CÏu£s_
 =ğ0è 
NOVALUE
;

742  
çl£CÏu£_
[
	`¿ndom
()%
numF®£CÏu£s_
];

743 
	}
}

749 
	$g‘Co¡OfF®£CÏu£s
()

751  
co¡OfF®£CÏu£s_
;

752 
	}
}

758 
	$g‘NumF®£CÏu£s
()

760  
numF®£CÏu£s_
;

761 
	}
}

769 
boŞ
 
	$g‘V®ueOfAtom
(cÚ¡ & 
©omIdx
)

771  
©om_
[
©omIdx
];

772 
	}
}

780 
boŞ
 
	$g‘V®ueOfLowAtom
(cÚ¡ & 
©omIdx
)

782  
lowAtom_
[
©omIdx
];

783 
	}
}

795 
	$£tV®ueOfAtom
(cÚ¡ & 
©omIdx
, cÚ¡ 
boŞ
& 
v®ue
,

796 cÚ¡ 
boŞ
& 
aùiv©e
, cÚ¡ & 
blockIdx
)

799 ià(
©om_
[
©omIdx
] =ğ
v®ue
) ;

800 ià(
vsdebug
è
cout
 << "S‘tšg v®uoà©om " << 
©omIdx


801 << "Ø" << 
v®ue
 << 
’dl
;

803 
GroundP»diÿ‹
* 
p
 = 
gndP»dHashA¼ay_
[
©omIdx
 - 1];

804 ià(
v®ue
)

805 
domaš_
->
	`g‘DB
()->
	`£tV®ue
(
p
, 
TRUE
);

807 
domaš_
->
	`g‘DB
()->
	`£tV®ue
(
p
, 
FALSE
);

810 ià(
aùiv©e
 && 
Ïzy_
 && !
	`isAùive
(
©omIdx
))

812 
boŞ
 
ignÜeAùiveP»ds
 = 
çl£
;

813 
boŞ
 
groundOÆy
 = 
çl£
;

814 
	`aùiv©eAtom
(
©omIdx
, 
ignÜeAùiveP»ds
, 
groundOÆy
);

816 
©om_
[
©omIdx
] = 
v®ue
;

819 ià(
blockIdx
 > -1 && 
v®ue
)

821 
P»diÿ‹
* 
´ed
 = 
p
->
	`ü—‹Equiv®’tP»diÿ‹
(
domaš_
);

822 
domaš_
->
	`£tTrueP»dInBlock
(
blockIdx
, 
´ed
);

823 ià(
vsdebug
)

825 
cout
 << "S‘ru´ed iÀblock " << 
blockIdx
 << "o ";

826 
´ed
->
	`´štW™hSŒV¬
(
cout
, 
domaš_
);

827 
cout
 << 
’dl
;

830 
	}
}

835 
	gA¼ay
<>& 
	$g‘NegOccu»nûA¼ay
(cÚ¡ & 
©omIdx
)

837 
l™Idx
 = 2*
©omIdx
;

838  
	`g‘Occu»nûA¼ay
(
l™Idx
);

839 
	}
}

844 
	gA¼ay
<>& 
	$g‘PosOccu»nûA¼ay
(cÚ¡ & 
©omIdx
)

846 
l™Idx
 = 2*
©omIdx
 - 1;

847  
	`g‘Occu»nûA¼ay
(
l™Idx
);

848 
	}
}

856 
	$æAtom
(cÚ¡ & 
toFl
, cÚ¡ & 
blockIdx
)

858 
boŞ
 
toFlV®ue
 = 
	`g‘V®ueOfAtom
(
toFl
);

859 
şau£Idx
;

860 
sign
;

861 
İpSign
;

862 
l™Idx
;

863 ià(
toFlV®ue
)

864 
sign
 = 1;

866 
sign
 = 0;

867 
İpSign
 = 
sign
 ^ 1;

869 
	`æAtomV®ue
(
toFl
, 
blockIdx
);

871 
l™Idx
 = 2*
toFl
 - 
sign
;

872 
A¼ay
<>& 
posOccA¼ay
 = 
	`g‘Occu»nûA¼ay
(
l™Idx
);

873 
i
 = 0; i < 
posOccA¼ay
.
	`size
(); i++)

875 
şau£Idx
 = 
posOccA¼ay
[
i
];

877 ià(
d—dCÏu£_
[
şau£Idx
] || 
isS©isf›d_
[clauseIdx]) ;

880 
numTrueL™s
 = 
	`deüem’tNumTrueL™s
(
şau£Idx
);

881 
co¡
 = 
	`g‘CÏu£Co¡
(
şau£Idx
);

882 
w©ch1
 = 
	`g‘W©ch1
(
şau£Idx
);

883 
w©ch2
 = 
	`g‘W©ch2
(
şau£Idx
);

886 ià(
numTrueL™s
 == 0)

889 ià(
co¡
 >= 0)

892 
	`addF®£CÏu£
(
şau£Idx
);

894 
	`addB»akCo¡
(
toFl
, -
co¡
);

896 
	`addMakeCo¡ToAtomsInCÏu£
(
şau£Idx
, 
co¡
);

901 
	`as£¹
(
co¡
 < 0);

903 
	`»moveF®£CÏu£
(
şau£Idx
);

905 
	`addB»akCo¡ToAtomsInCÏu£
(
şau£Idx
, -
co¡
);

907 
	`addMakeCo¡
(
toFl
, 
co¡
);

912 ià(
numTrueL™s
 == 1)

914 ià(
w©ch1
 =ğ
toFl
)

916 
	`as£¹
(
w©ch1
 !ğ
w©ch2
);

917 
	`£tW©ch1
(
şau£Idx
, 
w©ch2
);

918 
w©ch1
 = 
	`g‘W©ch1
(
şau£Idx
);

922 ià(
co¡
 >= 0)

924 
	`addB»akCo¡
(
w©ch1
, 
co¡
);

929 
	`as£¹
(
co¡
 < 0);

930 
	`addMakeCo¡
(
w©ch1
, -
co¡
);

938 ià(
w©ch1
 =ğ
toFl
)

941 
diffTrueL™
 = 
	`g‘TrueL™”®Oth”Thª
(
şau£Idx
, 
w©ch1
, 
w©ch2
);

942 
	`£tW©ch1
(
şau£Idx
, 
diffTrueL™
);

945 ià(
w©ch2
 =ğ
toFl
)

948 
diffTrueL™
 = 
	`g‘TrueL™”®Oth”Thª
(
şau£Idx
, 
w©ch1
, 
w©ch2
);

949 
	`£tW©ch2
(
şau£Idx
, 
diffTrueL™
);

955 
l™Idx
 = 2*
toFl
 - 
İpSign
;

956 
A¼ay
<>& 
ÃgOccA¼ay
 = 
	`g‘Occu»nûA¼ay
(
l™Idx
);

957 
i
 = 0; i < 
ÃgOccA¼ay
.
	`size
(); i++)

959 
şau£Idx
 = 
ÃgOccA¼ay
[
i
];

961 ià(
d—dCÏu£_
[
şau£Idx
] || 
isS©isf›d_
[clauseIdx]) ;

964 
numTrueL™s
 = 
	`šüem’tNumTrueL™s
(
şau£Idx
);

965 
co¡
 = 
	`g‘CÏu£Co¡
(
şau£Idx
);

966 
w©ch1
 = 
	`g‘W©ch1
(
şau£Idx
);

970 ià(
numTrueL™s
 == 1)

973 ià(
co¡
 >= 0)

976 
	`»moveF®£CÏu£
(
şau£Idx
);

978 
	`addB»akCo¡
(
toFl
, 
co¡
);

980 
	`addMakeCo¡ToAtomsInCÏu£
(
şau£Idx
, -
co¡
);

985 
	`as£¹
(
co¡
 < 0);

987 
	`addF®£CÏu£
(
şau£Idx
);

989 
	`addB»akCo¡ToAtomsInCÏu£
(
şau£Idx
, 
co¡
);

991 
	`addMakeCo¡
(
toFl
, -
co¡
);

994 
	`£tW©ch1
(
şau£Idx
, 
toFl
);

999 ià(
numTrueL™s
 == 2)

1001 ià(
co¡
 >= 0)

1005 
	`addB»akCo¡
(
w©ch1
, -
co¡
);

1010 
	`as£¹
(
co¡
 < 0);

1012 
	`addMakeCo¡
(
w©ch1
, 
co¡
);

1016 
	`£tW©ch2
(
şau£Idx
, 
toFl
);

1019 
	}
}

1028 
	$æAtomV®ue
(cÚ¡ & 
©omIdx
, cÚ¡ & 
blockIdx
)

1030 
boŞ
 
İpos™e
 = !
©om_
[
©omIdx
];

1031 
boŞ
 
aùiv©e
 = 
Œue
;

1032 
	`£tV®ueOfAtom
(
©omIdx
, 
İpos™e
, 
aùiv©e
, 
blockIdx
);

1033 
	}
}

1046 
	$g‘Im´ovem’tByFlpšg
(cÚ¡ & 
©omIdx
)

1048 ià(!
b»akH¬dCÏu£s_
 && 
b»akCo¡_
[
©omIdx
] >ğ
h¬dWt_
)

1049  -
LDBL_MAX
;

1050 
im´ovem’t
 = 
makeCo¡_
[
©omIdx
] - 
b»akCo¡_
[atomIdx];

1051  
im´ovem’t
;

1052 
	}
}

1059 
	$£tAùive
(cÚ¡ & 
©omIdx
)

1061 ià(
Ïzy_
)

1063 
P»diÿ‹
* 
p
 =

1064 
gndP»dHashA¼ay_
[
©omIdx
 - 1]->
	`ü—‹Equiv®’tP»diÿ‹
(
domaš_
);

1065 
domaš_
->
	`g‘DB
()->
	`£tAùiveStus
(
p
, 
Œue
);

1066 
aùiveAtoms_
++;

1067 
d–‘e
 
p
;

1069 
	}
}

1081 
boŞ
 
	$aùiv©eAtom
(cÚ¡ & 
©omIdx
, cÚ¡ 
boŞ
& 
ignÜeAùiveP»ds
,

1082 cÚ¡ 
boŞ
& 
groundOÆy
)

1093 ià(
Ïzy_
 && !
	`isAùive
(
©omIdx
))

1095 ià(
vsdebug
)

1097 
cout
 << "\tActivating ";

1098 
gndP»dHashA¼ay_
[
©omIdx
-1]->
	`´št
(
cout
,
domaš_
);

1099 
cout
 << " " <<

1100 
domaš_
->
	`g‘DB
()->
	`g‘AùiveStus
(
gndP»dHashA¼ay_
[
©omIdx
-1]è<< 
’dl
;

1104 
boŞ
 
ÃedToFlBack
 = 
çl£
;

1105 ià(!
©om_
[
©omIdx
])

1107 
boŞ
 
aùiv©e
 = 
çl£
;

1108 
	`£tV®ueOfAtom
(
©omIdx
, 
Œue
, 
aùiv©e
, -1);

1109 
	`upd©eMakeB»akCo¡Aá”Fl
(
©omIdx
);

1110 
ÃedToFlBack
 = 
Œue
;

1114 
P»diÿ‹
* 
p
 =

1115 
gndP»dHashA¼ay_
[
©omIdx
 - 1]->
	`ü—‹Equiv®’tP»diÿ‹
(
domaš_
);

1117 
boŞ
 
isFixed
 = 
çl£
;

1118 
A¼ay
<
GroundCÏu£
*> 
un§tCÏu£s
;

1119 
A¼ay
<
GroundCÏu£
*> 
d—dCÏu£s
;

1120 
A¼ay
<
GroundCÏu£
*> 
toAddCÏu£s
;

1123 
	`g‘AùiveCÏu£s
(
p
, 
un§tCÏu£s
, 
Œue
, 
ignÜeAùiveP»ds
);

1126 ià(
u£Th»shŞd_
)

1129 
ni
 = 0;‚˜< 
un§tCÏu£s
.
	`size
();‚i++)

1131 
GroundCÏu£
* 
c
 = 
un§tCÏu£s
[
ni
];

1132 ià(
c
->
	`g‘Wt
() < 0)

1136 
th»shŞd
 = 
RAND_MAX
*(1 - 
	`exp
(
c
->
	`g‘Wt
()));

1137 ià(
	`¿ndom
(è<ğ
th»shŞd
)

1140 
isFixed
 = 
Œue
;

1144 ià(
d—dCÏu£s
.
	`size
() > 0)

1145 
	`addNewCÏu£s
(
ADD_CLAUSE_DEAD
, 
d—dCÏu£s
);

1147 
A¼ay
<
GroundCÏu£
*> 
fixedCÏu£s
;

1148 
fixedCÏu£s
.
	`­³nd
(
c
);

1149 
	`addNewCÏu£s
(
ADD_CLAUSE_SAT
, 
fixedCÏu£s
);

1152 
pi
 = 0;…˜< 
c
->
	`g‘NumGroundP»diÿ‹s
();…i++)

1154 
l™
 = 
c
->
	`g‘GroundP»diÿ‹Index
(
pi
);

1155 
	`fixAtom
(
	`abs
(
l™
), (lit < 0));

1164 
d—dCÏu£s
.
	`­³nd
(
c
);

1167 ià(
c
->
	`g‘NumGroundP»diÿ‹s
() == 1)

1169 
th»shŞd
 = 
RAND_MAX
*(1 - 
	`exp
(-
c
->
	`g‘Wt
()));

1170 ià(
	`¿ndom
(è<ğ
th»shŞd
)

1173 
isFixed
 = 
Œue
;

1177 ià(
d—dCÏu£s
.
	`size
() > 0)

1178 
	`addNewCÏu£s
(
ADD_CLAUSE_DEAD
, 
d—dCÏu£s
);

1180 
A¼ay
<
GroundCÏu£
*> 
fixedCÏu£s
;

1181 
fixedCÏu£s
.
	`­³nd
(
c
);

1182 
	`addNewCÏu£s
(
ADD_CLAUSE_SAT
, 
fixedCÏu£s
);

1185 
l™
 = 
c
->
	`g‘GroundP»diÿ‹Index
(0);

1186 
	`fixAtom
(
	`abs
(
l™
), (lit > 0));

1194 
d—dCÏu£s
.
	`­³nd
(
c
);

1197 
toAddCÏu£s
.
	`­³nd
(
c
);

1202 ià(!
isFixed
)

1204 ià(
d—dCÏu£s
.
	`size
() > 0)

1205 
	`addNewCÏu£s
(
ADD_CLAUSE_DEAD
, 
d—dCÏu£s
);

1207 ià(
u£Th»shŞd_
)

1208 
	`addNewCÏu£s
(
ADD_CLAUSE_REGULAR
, 
toAddCÏu£s
);

1210 
	`addNewCÏu£s
(
ADD_CLAUSE_REGULAR
, 
un§tCÏu£s
);

1214 ià(
ÃedToFlBack
)

1216 
boŞ
 
aùiv©e
 = 
çl£
;

1217 
	`£tV®ueOfAtom
(
©omIdx
, 
çl£
, 
aùiv©e
, -1);

1218 
	`upd©eMakeB»akCo¡Aá”Fl
(
©omIdx
);

1221 ià(!
groundOÆy
)

1224 
domaš_
->
	`g‘DB
()->
	`£tAùiveStus
(
p
, 
Œue
);

1225 
aùiveAtoms_
++;

1229 
d–‘e
 
p
;

1230 
un§tCÏu£s
.
	`ş—r
();

1231 
d—dCÏu£s
.
	`ş—r
();

1232 
toAddCÏu£s
.
	`ş—r
();

1234  !
isFixed
;

1236  
Œue
;

1237 
	}
}

1242 
	$£tInã»nûMode
(
mode
)

1244 ià(
mode
 =ğ
šã»nûMode_
) ;

1245 
šã»nûMode_
 = 
mode
;

1246 ià(
šã»nûMode_
 =ğ
MODE_MWS
)

1248 
i
 = 0; i < 
gndCÏu£s_
->
	`size
(); i++)

1250 ià((*
gndCÏu£s_
)[
i
]->
	`isH¬dCÏu£
())

1251 
şau£Co¡_
[
i
] = 
h¬dWt_
;

1253 
şau£Co¡_
[
i
] = (*
gndCÏu£s_
)[i]->
	`g‘Wt
();

1255 
	`š™MakeB»akCo¡W©ch
();

1259 ià(
šã»nûMode_
 =ğ
MODE_HARD
è
	`–imš©eSoáCÏu£s
();

1260 ià(
šã»nûMode_
 =ğ
MODE_SAMPLESAT
è
	`makeUn™Co¡s
();

1262 
	}
}

1267 
boŞ
 
	$isFixedAtom
(
©omIdx
)

1269  
fixedAtom_
[
©omIdx
];

1270 
	}
}

1272 
boŞ
 
	$isS©isf›dCÏu£
(cÚ¡ & 
şau£Idx
)

1274  
isS©isf›d_
[
şau£Idx
];

1275 
	}
}

1277 
	$£tS©isf›dCÏu£
(cÚ¡ & 
şau£Idx
)

1279 
isS©isf›d_
[
şau£Idx
] = 
Œue
;

1280 
	}
}

1283 
	$upd©eP»vS©isf›d
()

1285 
´evS©isf›dCÏu£_
.
	`ş—rAndCom´ess
();

1286 
´evS©isf›dCÏu£_
.
	`growToSize
(
şau£_
.
	`size
(),
çl£
);

1287 
i
 = 0; i < 
şau£_
.
	`size
(); i++)

1289 
co¡
 = 
şau£Co¡_
[
i
];

1290 
boŞ
 
isTrue
 = 
çl£
;

1291 
j
 = 0; j < 
	`g‘CÏu£Size
(
i
); j++)

1293 ià(
	`isTrueL™”®
(
şau£_
[
i
][
j
]))

1295 
isTrue
 = 
Œue
;

1299 
´evS©isf›dCÏu£_
[
i
] = ((
isTrue
 && 
co¡
>0) || (!isTrue && cost<0));

1301 
	}
}

1306 
	$un™Prİag©iÚ
()

1311 
i
 = 0; i < 
	`g‘NumCÏu£s
(); i++)

1315 ià(
	`isD—dCÏu£
(
i
è|| 
	`isS©isf›dCÏu£
(iè|| 
	`g‘CÏu£Co¡
(i) >= 0)

1319 
A¼ay
<> 
©oms
 = 
	`g‘AtomsInCÏu£
(
i
);

1320 
j
 = 0; j < 
©oms
.
	`size
(); j++)

1322 
l™
 = 
©oms
[
j
];

1323 
boŞ
 
v®ue
 = (
l™
 < 0)? 
Œue
 : 
çl£
;

1324 
	`fixAtom
(
	`abs
(
l™
), 
v®ue
);

1331 
boŞ
 
dÚe
 = 
çl£
;

1333 !
dÚe
)

1335 ià(
vsdebug
è
cout
 << 
’dl
 <<ƒndl;

1336 
dÚe
 = 
Œue
;

1340 
ci
 = 0; c˜< 
	`g‘NumCÏu£s
(); ci++)

1343 ià(
	`isD—dCÏu£
(
ci
è|| 
	`isS©isf›dCÏu£
(ciè|| 
	`g‘CÏu£Co¡
(ci) <= 0)

1347 
numNÚfixedAtoms
 = 0;

1348 
nÚfixedAtom
 = 0;

1350 
boŞ
 
isS©
 = 
çl£
;

1351 
li
 = 0;†˜< 
	`g‘CÏu£Size
(
ci
);†i++)

1353 
l™
 = 
	`g‘AtomInCÏu£
(
li
,
ci
);

1354 
fixedV®ue
 = 
fixedAtom_
[
	`abs
(
l™
)];

1356 ià(
fixedV®ue
==0)

1358 
numNÚfixedAtoms
++;

1359 
nÚfixedAtom
 = 
l™
;

1363 ià((
fixedV®ue
 =ğ1 && 
l™
 > 0) || (fixedValue == -1 &&†it < 0))

1365 
isS©
 = 
Œue
;

1370 ià(
isS©
è
	`£tS©isf›dCÏu£
(
ci
);

1371 ià(
numNÚfixedAtoms
 == 1)

1373 
	`fixAtom
(
	`abs
(
nÚfixedAtom
), (nÚfixedAtom > 0è? 
Œue
 : 
çl£
);

1374 
dÚe
 = 
çl£
;

1379 
	`§veLowS‹
();

1380 ià(
vsdebug
è
cout
 << ">>> [vs.un™´İag©iÚ] DONE" << 
’dl
;

1381 
	}
}

1389 
addNewCÏu£s
(
addTy³
, 
A¼ay
<
GroundCÏu£
*> & 
şau£s
)

1391 ià(
	gvsdebug
)

1392 
	gcout
 << "Addšg " << 
	gşau£s
.
size
(è<< "‚ew cÏu£s.." << 
	g’dl
;

1395 ià(!
	gu£Th»shŞd_
 &&

1396 (
	gaddTy³
 =ğ
ADD_CLAUSE_DEAD
 || 
addTy³
 =ğ
ADD_CLAUSE_SAT
))

1398 
cout
 << ">>> [ERR]‡dd_d—d/§ˆbuˆu£Th»shŞd_ i çl£" << 
’dl
;

1399 
ex™
(0);

1403 
	gŞdNumCÏu£s
 = 
g‘NumCÏu£s
();

1404 
	gŞdNumAtoms
 = 
g‘NumAtoms
();

1407 
	gi
 = 0; i < 
	gşau£s
.
size
(); i++)

1409 
	ggndCÏu£s_
->
­³nd
(
şau£s
[
i
]);

1410 
	gşau£s
[
i
]->
­³ndToGndP»ds
(&
gndP»dHashA¼ay_
);

1413 
	ggndP»ds_
->
growToSize
(
gndP»dHashA¼ay_
.
size
());

1415 
	gnumAtoms
 = 
g‘NumAtoms
();

1416 
	gnumCÏu£s
 = 
g‘NumCÏu£s
();

1418 ià(
	gnumAtoms
 =ğ
ŞdNumAtoms
 && 
numCÏu£s
 =ğ
ŞdNumCÏu£s
) ;

1420 ià(
	gvsdebug
è
	gcout
 << "CÏu£s: " << 
	gnumCÏu£s
 << 
	g’dl
;

1422 
	g©om_
.
growToSize
(
numAtoms
 + 1, 
çl£
);

1424 
	gmakeCo¡_
.
growToSize
(
numAtoms
 + 1, 0.0);

1425 
	gb»akCo¡_
.
growToSize
(
numAtoms
 + 1, 0.0);

1426 
	glowAtom_
.
growToSize
(
numAtoms
 + 1, 
çl£
);

1427 
	gfixedAtom_
.
growToSize
(
numAtoms
 + 1, 0);

1430 
	gi
 = 
ŞdNumAtoms
; i < 
	ggndP»dHashA¼ay_
.
size
(); i++)

1432 (*
	ggndP»ds_
)[
i
] = 
gndP»dHashA¼ay_
[i];

1434 ià(
	gvsdebug
)

1436 
	gcout
 << "New…»d " << 
	gi
 + 1 << ": ";

1437 (*
	ggndP»ds_
)[
i
]->
´št
(
cout
, 
domaš_
);

1438 
	gcout
 << 
	g’dl
;

1441 
	glowAtom_
[
i
 + 1] = 
©om_
[i + 1] =

1442 (
domaš_
->
g‘DB
()->
g‘V®ue
((*
gndP»ds_
)[
i
]è=ğ
TRUE
è? 
Œue
 : 
çl£
;

1444 
	gşau£s
.
ş—r
();

1446 
	gşau£_
.
growToSize
(
numCÏu£s
);

1447 
	gşau£Co¡_
.
growToSize
(
numCÏu£s
);

1448 
	gçl£CÏu£_
.
growToSize
(
numCÏu£s
);

1449 
	gwh”eF®£_
.
growToSize
(
numCÏu£s
);

1450 
	gnumTrueL™s_
.
growToSize
(
numCÏu£s
);

1451 
	gw©ch1_
.
growToSize
(
numCÏu£s
);

1452 
	gw©ch2_
.
growToSize
(
numCÏu£s
);

1453 
	gisS©isf›d_
.
growToSize
(
numCÏu£s
, 
çl£
);

1454 
	gd—dCÏu£_
.
growToSize
(
numCÏu£s
, 
çl£
);

1455 
	gth»shŞd_
.
growToSize
(
numCÏu£s
, 
çl£
);

1457 
	goccu»nû_
.
growToSize
(2*
numAtoms
 + 1);

1459 
IÁBoŞPaœIŒ
 
	g™r
;

1460 
IÁBoŞPaœ
 *
	gşau£F»qu’c›s
;

1462 
	gi
 = 
ŞdNumCÏu£s
; i < 
	gnumCÏu£s
; i++)

1464 
GroundCÏu£
* 
	ggndCÏu£
 = (*
gndCÏu£s_
)[
i
];

1466 ià(
	gvsdebug
)

1468 
	gcout
 << "New cÏu£ " << 
	gi
 << ": ";

1469 
	ggndCÏu£
->
´št
(
cout
, 
domaš_
, &
gndP»dHashA¼ay_
);

1470 
	gşau£F»qu’c›s
 = 
gndCÏu£
->
g‘CÏu£F»qu’c›s
();

1471 
	gcout
 << " from fØşau£s" << 
	g’dl
;

1472 ià(
	gşau£F»qu’c›s
)

1474 
	g™r
 = 
şau£F»qu’c›s
->
begš
();

1475 
	g™r
 !ğ
şau£F»qu’c›s
->
’d
(); itr++)

1477 
	gşau£no
 = 
™r
->
fœ¡
;

1478 
	gäequ’cy
 = 
™r
->
£cÚd
.
fœ¡
;

1479 
boŞ
 
	gšv”tWt
 = 
™r
->
£cÚd
.second;

1480 
	gcout
 << 
	gşau£no
 << " " << 
	gäequ’cy
 << " inv”tWˆ" << 
	gšv”tWt


1481 << 
	g’dl
;

1487 ià(
	ggndCÏu£
->
isH¬dCÏu£
()è
	gth»shŞd_
[
i
] = 
RAND_MAX
;

1490 
	gw
 = 
gndCÏu£
->
g‘Wt
();

1491 
	gth»shŞd_
[
i
] = 
RAND_MAX
*(1 - 
exp
(-
abs
(
w
)));

1492 ià(
	gvsdebug
)

1494 
	gcout
 << "Weight: " << 
	gw
 << 
	g’dl
;

1497 ià(
	gvsdebug
)

1498 
	gcout
 << "Th»shŞd: " << 
	gth»shŞd_
[
i
] << 
	g’dl
;

1500 
	gnumGndP»ds
 = 
gndCÏu£
->
g‘NumGroundP»diÿ‹s
();

1501 
	gşau£_
[
i
].
growToSize
(
numGndP»ds
);

1502 
	gj
 = 0; j < 
	gnumGndP»ds
; j++)

1504 
	gl™
 = 
gndCÏu£
->
g‘GroundP»diÿ‹Index
(
j
);

1505 
	gşau£_
[
i
][
j
] = 
l™
;

1506 
	gl™Idx
 = 2*
abs
(
l™
) - (lit > 0);

1507 
	goccu»nû_
[
l™Idx
].
­³nd
(
i
);

1511 ià(
	gšã»nûMode_
==
MODE_SAMPLESAT
)

1513 ià(
gndCÏu£
->
g‘Wt
()>0è
şau£Co¡_
[
i
] = 1;

1514 
	gşau£Co¡_
[
i
] = -1;

1516 ià(
	ggndCÏu£
->
isH¬dCÏu£
())

1517 
	gşau£Co¡_
[
i
] = 
h¬dWt_
;

1519 
	gşau£Co¡_
[
i
] = 
gndCÏu£
->
g‘Wt
();

1522 ià(
	gšã»nûMode_
 =ğ
MODE_HARD
 && !
gndCÏu£
->
isH¬dCÏu£
())

1525 
d—dCÏu£_
[
i
] = 
Œue
;

1529 ià(
	gaddTy³
 =ğ
ADD_CLAUSE_DEAD
)

1532 
i
 = 
ŞdNumCÏu£s
; 
	gi
 < 
	gnumCÏu£s
; i++)

1534 
	gd—dCÏu£_
[
i
] = 
Œue
;

1537 ià(
	gaddTy³
 =ğ
ADD_CLAUSE_SAT
)

1540 
i
 = 
ŞdNumCÏu£s
; 
	gi
 < 
	gnumCÏu£s
; i++)

1542 
	gisS©isf›d_
[
i
]=
Œue
;

1545 ià(
	gaddTy³
 =ğ
ADD_CLAUSE_REGULAR
)

1547 ià(
u£Th»shŞd_
)

1548 
klCÏu£s
(
ŞdNumCÏu£s
);

1550 
š™MakeB»akCo¡W©ch
(
ŞdNumCÏu£s
);

1553 ià(
	gvsdebug
)

1554 
	gcout
 << "DÚaddšg‚ew cÏu£s.." << 
	g’dl
;

1563 
	$upd©eS©isf›dCÏu£s
(cÚ¡ & 
toFix
)

1566 
boŞ
 
toFlV®ue
 = 
	`g‘V®ueOfAtom
(
toFix
);

1568 
şau£Idx
;

1569 
sign
;

1570 
l™Idx
;

1571 ià(
toFlV®ue
)

1572 
sign
 = 1;

1574 
sign
 = 0;

1577 
l™Idx
 = 2*
toFix
 - 
sign
;

1578 
A¼ay
<>& 
posOccA¼ay
 = 
	`g‘Occu»nûA¼ay
(
l™Idx
);

1579 
i
 = 0; i < 
posOccA¼ay
.
	`size
(); i++)

1581 
şau£Idx
 = 
posOccA¼ay
[
i
];

1584 ià(
d—dCÏu£_
[
şau£Idx
] || 
isS©isf›d_
[clauseIdx]) ;

1586 ià(
	`g‘CÏu£Co¡
(
şau£Idx
) < 0)

1588 
cout
 << "ERR: iÀMC-SAT,‡ùivÃg-wˆşau£ (" << 
şau£Idx


1589 << "èi §ˆby fixed "<<
’dl
;

1590 
	`ex™
(0);

1592 
isS©isf›d_
[
şau£Idx
] = 
Œue
;

1594 
	}
}

1601 
	$upd©eMakeB»akCo¡Aá”Fl
(cÚ¡ & 
toFl
)

1604 
boŞ
 
toFlV®ue
 = !
	`g‘V®ueOfAtom
(
toFl
);

1606 
şau£Idx
;

1607 
sign
;

1608 
İpSign
;

1609 
l™Idx
;

1610 ià(
toFlV®ue
)

1611 
sign
 = 1;

1613 
sign
 = 0;

1614 
İpSign
 = 
sign
 ^ 1;

1617 
l™Idx
 = 2*
toFl
 - 
sign
;

1618 
A¼ay
<>& 
posOccA¼ay
 = 
	`g‘Occu»nûA¼ay
(
l™Idx
);

1620 
i
 = 0; i < 
posOccA¼ay
.
	`size
(); i++)

1622 
şau£Idx
 = 
posOccA¼ay
[
i
];

1624 ià(
d—dCÏu£_
[
şau£Idx
] || 
isS©isf›d_
[clauseIdx]) ;

1627 
numTrueL™s
 = 
	`deüem’tNumTrueL™s
(
şau£Idx
);

1628 
co¡
 = 
	`g‘CÏu£Co¡
(
şau£Idx
);

1629 
w©ch1
 = 
	`g‘W©ch1
(
şau£Idx
);

1630 
w©ch2
 = 
	`g‘W©ch2
(
şau£Idx
);

1634 ià(
numTrueL™s
 == 0)

1637 ià(
co¡
 >= 0)

1640 
	`addF®£CÏu£
(
şau£Idx
);

1642 
	`addB»akCo¡
(
toFl
, -
co¡
);

1644 
	`addMakeCo¡ToAtomsInCÏu£
(
şau£Idx
, 
co¡
);

1649 
	`as£¹
(
co¡
 < 0);

1651 
	`»moveF®£CÏu£
(
şau£Idx
);

1653 
	`addB»akCo¡ToAtomsInCÏu£
(
şau£Idx
, -
co¡
);

1655 
	`addMakeCo¡
(
toFl
, 
co¡
);

1660 ià(
numTrueL™s
 == 1)

1662 ià(
w©ch1
 =ğ
toFl
)

1664 
	`as£¹
(
w©ch1
 !ğ
w©ch2
);

1665 
	`£tW©ch1
(
şau£Idx
, 
w©ch2
);

1666 
w©ch1
 = 
	`g‘W©ch1
(
şau£Idx
);

1669 ià(
co¡
 >= 0)

1671 
	`addB»akCo¡
(
w©ch1
, 
co¡
);

1676 
	`as£¹
(
co¡
 < 0);

1677 
	`addMakeCo¡
(
w©ch1
, -
co¡
);

1686 ià(
w©ch1
 =ğ
toFl
)

1689 
diffTrueL™
 = 
	`g‘TrueL™”®Oth”Thª
(
şau£Idx
, 
w©ch1
, 
w©ch2
);

1690 
	`£tW©ch1
(
şau£Idx
, 
diffTrueL™
);

1693 ià(
w©ch2
 =ğ
toFl
)

1696 
diffTrueL™
 = 
	`g‘TrueL™”®Oth”Thª
(
şau£Idx
, 
w©ch1
, 
w©ch2
);

1697 
	`£tW©ch2
(
şau£Idx
, 
diffTrueL™
);

1703 
l™Idx
 = 2*
toFl
 - 
İpSign
;

1704 
A¼ay
<>& 
ÃgOccA¼ay
 = 
	`g‘Occu»nûA¼ay
(
l™Idx
);

1705 
i
 = 0; i < 
ÃgOccA¼ay
.
	`size
(); i++)

1707 
şau£Idx
 = 
ÃgOccA¼ay
[
i
];

1709 ià(
d—dCÏu£_
[
şau£Idx
] || 
isS©isf›d_
[clauseIdx]) ;

1712 
numTrueL™s
 = 
	`šüem’tNumTrueL™s
(
şau£Idx
);

1713 
co¡
 = 
	`g‘CÏu£Co¡
(
şau£Idx
);

1714 
w©ch1
 = 
	`g‘W©ch1
(
şau£Idx
);

1718 ià(
numTrueL™s
 == 1)

1721 ià(
co¡
 >= 0)

1724 
	`»moveF®£CÏu£
(
şau£Idx
);

1726 
	`addB»akCo¡
(
toFl
, 
co¡
);

1728 
	`addMakeCo¡ToAtomsInCÏu£
(
şau£Idx
, -
co¡
);

1733 
	`as£¹
(
co¡
 < 0);

1735 
	`addF®£CÏu£
(
şau£Idx
);

1737 
	`addB»akCo¡ToAtomsInCÏu£
(
şau£Idx
, 
co¡
);

1739 
	`addMakeCo¡
(
toFl
, -
co¡
);

1742 
	`£tW©ch1
(
şau£Idx
, 
toFl
);

1746 ià(
numTrueL™s
 == 2)

1748 ià(
co¡
 >= 0)

1752 
	`addB»akCo¡
(
w©ch1
, -
co¡
);

1757 
	`as£¹
(
co¡
 < 0);

1759 
	`addMakeCo¡
(
w©ch1
, 
co¡
);

1762 
	`£tW©ch2
(
şau£Idx
, 
toFl
);

1765 
	}
}

1774 
boŞ
 
	$isAùive
(cÚ¡ & 
©omIdx
)

1776  
domaš_
->
	`g‘DB
()->
	`g‘AùiveStus
(
gndP»dHashA¼ay_
[
©omIdx
-1]);

1777 
	}
}

1785 
boŞ
 
	$isAùive
(cÚ¡ 
P»diÿ‹
* 
´ed
)

1787  
domaš_
->
	`g‘DB
()->
	`g‘AùiveStus
(
´ed
);

1788 
	}
}

1793 
	gA¼ay
<>& 
	$g‘Occu»nûA¼ay
(cÚ¡ & 
idx
)

1795  
occu»nû_
[
idx
];

1796 
	}
}

1801 
	$šüem’tNumTrueL™s
(cÚ¡ & 
şau£Idx
)

1803  ++
numTrueL™s_
[
şau£Idx
];

1804 
	}
}

1809 
	$deüem’tNumTrueL™s
(cÚ¡ & 
şau£Idx
)

1811  --
numTrueL™s_
[
şau£Idx
];

1812 
	}
}

1817 
	$g‘NumTrueL™s
(cÚ¡ & 
şau£Idx
)

1819  
numTrueL™s_
[
şau£Idx
];

1820 
	}
}

1825 
	$g‘CÏu£Co¡
(cÚ¡ & 
şau£Idx
)

1827  
şau£Co¡_
[
şau£Idx
];

1828 
	}
}

1833 
	gA¼ay
<>& 
	$g‘AtomsInCÏu£
(cÚ¡ & 
şau£Idx
)

1835  
şau£_
[
şau£Idx
];

1836 
	}
}

1841 
	$addF®£CÏu£
(cÚ¡ & 
şau£Idx
)

1843 
çl£CÏu£_
[
numF®£CÏu£s_
] = 
şau£Idx
;

1844 
wh”eF®£_
[
şau£Idx
] = 
numF®£CÏu£s_
;

1845 
numF®£CÏu£s_
++;

1846 
co¡OfF®£CÏu£s_
 +ğ
	`abs
(
şau£Co¡_
[
şau£Idx
]);

1847 
	}
}

1852 
	$»moveF®£CÏu£
(cÚ¡ & 
şau£Idx
)

1854 
numF®£CÏu£s_
--;

1855 
çl£CÏu£_
[
wh”eF®£_
[
şau£Idx
]] = f®£CÏu£_[
numF®£CÏu£s_
];

1856 
wh”eF®£_
[
çl£CÏu£_
[
numF®£CÏu£s_
]] = wh”eF®£_[
şau£Idx
];

1857 
co¡OfF®£CÏu£s_
 -ğ
	`abs
(
şau£Co¡_
[
şau£Idx
]);

1858 
	}
}

1863 
	$addB»akCo¡
(cÚ¡ & 
©omIdx
, cÚ¡ & 
co¡
)

1865 
b»akCo¡_
[
©omIdx
] +ğ
co¡
;

1866 
	}
}

1871 
	$subŒaùB»akCo¡
(cÚ¡ & 
©omIdx
, cÚ¡ & 
co¡
)

1873 
b»akCo¡_
[
©omIdx
] -ğ
co¡
;

1874 
	}
}

1882 
	$addB»akCo¡ToAtomsInCÏu£
(cÚ¡ & 
şau£Idx
,

1883 cÚ¡ & 
co¡
)

1885 
size
 = 
	`g‘CÏu£Size
(
şau£Idx
);

1886 
i
 = 0; i < 
size
; i++)

1888 
l™
 = 
şau£_
[
şau£Idx
][
i
];

1889 
b»akCo¡_
[
	`abs
(
l™
)] +ğ
co¡
;

1891 
	}
}

1899 
	$subŒaùB»akCo¡FromAtomsInCÏu£
(cÚ¡ & 
şau£Idx
,

1900 cÚ¡ & 
co¡
)

1902 
size
 = 
	`g‘CÏu£Size
(
şau£Idx
);

1903 
i
 = 0; i < 
size
; i++)

1905 
l™
 = 
şau£_
[
şau£Idx
][
i
];

1906 
b»akCo¡_
[
	`abs
(
l™
)] -ğ
co¡
;

1908 
	}
}

1916 
	$addMakeCo¡
(cÚ¡ & 
©omIdx
, cÚ¡ & 
co¡
)

1918 
makeCo¡_
[
©omIdx
] +ğ
co¡
;

1919 
	}
}

1927 
	$subŒaùMakeCo¡
(cÚ¡ & 
©omIdx
, cÚ¡ & 
co¡
)

1929 
makeCo¡_
[
©omIdx
] -ğ
co¡
;

1930 
	}
}

1938 
	$addMakeCo¡ToAtomsInCÏu£
(cÚ¡ & 
şau£Idx
,

1939 cÚ¡ & 
co¡
)

1941 
size
 = 
	`g‘CÏu£Size
(
şau£Idx
);

1942 
i
 = 0; i < 
size
; i++)

1944 
l™
 = 
şau£_
[
şau£Idx
][
i
];

1945 
makeCo¡_
[
	`abs
(
l™
)] +ğ
co¡
;

1947 
	}
}

1955 
	$subŒaùMakeCo¡FromAtomsInCÏu£
(cÚ¡ & 
şau£Idx
,

1956 cÚ¡ & 
co¡
)

1958 
size
 = 
	`g‘CÏu£Size
(
şau£Idx
);

1959 
i
 = 0; i < 
size
; i++)

1961 
l™
 = 
şau£_
[
şau£Idx
][
i
];

1962 
makeCo¡_
[
	`abs
(
l™
)] -ğ
co¡
;

1964 
	}
}

1975 cÚ¡ 
	$g‘TrueL™”®Oth”Thª
(cÚ¡ & 
şau£Idx
,

1976 cÚ¡ & 
©omIdx1
,

1977 cÚ¡ & 
©omIdx2
)

1979 
size
 = 
	`g‘CÏu£Size
(
şau£Idx
);

1980 
i
 = 0; i < 
size
; i++)

1982 
l™
 = 
şau£_
[
şau£Idx
][
i
];

1983 
v
 = 
	`abs
(
l™
);

1984 ià(
	`isTrueL™”®
(
l™
è&& 
v
 !ğ
©omIdx1
 && v !ğ
©omIdx2
)

1985  
v
;

1988 
	`as£¹
(
çl£
);

1990 
	}
}

1995 cÚ¡ 
boŞ
 
	$isTrueL™”®
(cÚ¡ & 
l™”®
)

1997  ((
l™”®
 > 0è=ğ
©om_
[
	`abs
(literal)]);

1998 
	}
}

2003 cÚ¡ 
	$g‘AtomInCÏu£
(cÚ¡ & 
©omIdxInCÏu£
, cÚ¡ & 
şau£Idx
)

2005  
şau£_
[
şau£Idx
][
©omIdxInCÏu£
];

2006 
	}
}

2011 cÚ¡ 
	$g‘RªdomAtomInCÏu£
(cÚ¡ & 
şau£Idx
)

2013  
şau£_
[
şau£Idx
][
	`¿ndom
()%
	`g‘CÏu£Size
(clauseIdx)];

2014 
	}
}

2022 cÚ¡ 
	$g‘RªdomTrueL™InCÏu£
(cÚ¡ & 
şau£Idx
)

2024 
	`as£¹
(
numTrueL™s_
[
şau£Idx
] > 0);

2025 
ŒueL™
 = 
	`¿ndom
()%
numTrueL™s_
[
şau£Idx
];

2026 
whichTrueL™
 = 0;

2027 
i
 = 0; i < 
	`g‘CÏu£Size
(
şau£Idx
); i++)

2029 
l™
 = 
şau£_
[
şau£Idx
][
i
];

2030 
©m
 = 
	`abs
(
l™
);

2032 ià(
	`isTrueL™”®
(
l™
))

2033 ià(
ŒueL™
 =ğ
whichTrueL™
++)

2034  
©m
;

2037 
	`as£¹
(
çl£
);

2039 
	}
}

2041 cÚ¡ 
	$g‘MaxCÏu£Weight
()

2043 
maxWeight
 = 0.0;

2044 
i
 = 0; i < 
	`g‘NumCÏu£s
(); i++)

2046 
weight
 = 
	`abs
(
şau£Co¡_
[
i
]);

2047 ià(
weight
 > 
maxWeight
) maxWeight = weight;

2049  
maxWeight
;

2050 
	}
}

2052 cÚ¡ 
	$g‘MakeCo¡
(cÚ¡ & 
©omIdx
)

2054  
makeCo¡_
[
©omIdx
];

2055 
	}
}

2057 cÚ¡ 
	$g‘B»akCo¡
(cÚ¡ & 
©omIdx
)

2059  
b»akCo¡_
[
©omIdx
];

2060 
	}
}

2062 cÚ¡ 
	$g‘CÏu£Size
(cÚ¡ & 
şau£Idx
)

2064  
şau£_
[
şau£Idx
].
	`size
();

2065 
	}
}

2067 cÚ¡ 
	$g‘W©ch1
(cÚ¡ & 
şau£Idx
)

2069  
w©ch1_
[
şau£Idx
];

2070 
	}
}

2072 
	$£tW©ch1
(cÚ¡ & 
şau£Idx
, cÚ¡ & 
©omIdx
)

2074 
w©ch1_
[
şau£Idx
] = 
©omIdx
;

2075 
	}
}

2077 cÚ¡ 
	$g‘W©ch2
(cÚ¡ & 
şau£Idx
)

2079  
w©ch2_
[
şau£Idx
];

2080 
	}
}

2082 
	$£tW©ch2
(cÚ¡ & 
şau£Idx
, cÚ¡ & 
©omIdx
)

2084 
w©ch2_
[
şau£Idx
] = 
©omIdx
;

2085 
	}
}

2091 cÚ¡ 
	$g‘BlockIndex
(cÚ¡ & 
©omIdx
)

2093 cÚ¡ 
GroundP»diÿ‹
* 
gndP»d
 = (*
gndP»ds_
)[
©omIdx
];

2094  
domaš_
->
	`g‘Block
(
gndP»d
);

2095 
	}
}

2100 cÚ¡ 
	$g‘LowCo¡
()

2102  
lowCo¡_
;

2103 
	}
}

2108 cÚ¡ 
	$g‘LowBad
()

2110  
lowBad_
;

2111 
	}
}

2117 
	$makeUn™Co¡s
()

2119 
i
 = 0; i < 
şau£Co¡_
.
	`size
(); i++)

2121 ià(
şau£Co¡_
[
i
] >= 0) clauseCost_[i] = 1.0;

2124 
	`as£¹
(
şau£Co¡_
[
i
] < 0);

2125 
şau£Co¡_
[
i
] = -1.0;

2128 ià(
vsdebug
è
cout
 << "Madun™ co¡s" << 
’dl
;

2129 
	`š™MakeB»akCo¡W©ch
();

2130 
	}
}

2135 
	$§veLowS‹
()

2138 ià(
vsdebug
è
cout
 << "Savšg†ow s‹: " << 
’dl
;

2139 
i
 = 1; i <ğ
	`g‘NumAtoms
(); i++)

2141 
lowAtom_
[
i
] = 
©om_
[i];

2142 ià(
vsdebug
è
cout
 << 
lowAtom_
[
i
] << 
’dl
;

2144 
lowCo¡_
 = 
co¡OfF®£CÏu£s_
;

2145 
lowBad_
 = 
numF®£CÏu£s_
;

2146 
	}
}

2151 
	$g‘TrueFixedAtomInBlock
(cÚ¡ & 
blockIdx
)

2153 cÚ¡ 
P»diÿ‹
* 
ŒueP»d
 = 
domaš_
->
	`g‘TrueP»dInBlock
(
blockIdx
);

2154 ià(
ŒueP»d
)

2156 ià(
vsdebug
)

2158 
cout
 << "Tru´ed iÀblock " << 
blockIdx
 << ": ";

2159 
ŒueP»d
->
	`´štW™hSŒV¬
(
cout
, 
domaš_
);

2160 
cout
 << 
’dl
;

2163 
GroundP»diÿ‹
* 
ŒueGndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
((
P»diÿ‹
*)
ŒueP»d
);

2165 
©omIdx
 = 
gndP»dHashA¼ay_
.
	`fšd
(
ŒueGndP»d
);

2166 
d–‘e
 
ŒueGndP»d
;

2167 ià(
©omIdx
 > -1 && 
fixedAtom_
[atomIdx + 1] > 0)

2168  
©omIdx
;

2171 
	}
}

2173 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
	$g‘GndP»dHashA¼ayPŒ
() const

2175  &
gndP»dHashA¼ay_
;

2176 
	}
}

2178 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
	$g‘UÃP»ds
() const

2180  
uÃP»ds_
;

2181 
	}
}

2183 cÚ¡ 
GroundP»diÿ‹HashA¼ay
* 
	$g‘KÃP»ds
() const

2185  
kÃP»ds_
;

2186 
	}
}

2188 cÚ¡ 
	gA¼ay
<
	gTruthV®ue
>* 
	$g‘KÃP»dV®ues
() const

2190  
kÃP»dV®ues_
;

2191 
	}
}

2196 
	$£tGndCÏu£sWtsToSumOfP¬’tWts
()

2198 
i
 = 0; i < 
gndCÏu£s_
->
	`size
(); i++)

2200 
GroundCÏu£
* 
gndCÏu£
 = (*
gndCÏu£s_
)[
i
];

2201 
gndCÏu£
->
	`£tWtToWeigh‹dSumOfP¬’tWts
(
mÊ_
);

2202 ià(
gndCÏu£
->
	`isH¬dCÏu£
())

2203 
şau£Co¡_
[
i
] = 
h¬dWt_
;

2205 
şau£Co¡_
[
i
] = 
gndCÏu£
->
	`g‘Wt
();

2207 ià(
vsdebug
è
cout
 << "S‘tšg co¡ oàşau£ " << 
i
 << "o "

2208 << 
şau£Co¡_
[
i
] << 
’dl
;

2211 ià(
gndCÏu£
->
	`isH¬dCÏu£
()è
th»shŞd_
[
i
] = 
RAND_MAX
;

2214 
w
 = 
gndCÏu£
->
	`g‘Wt
();

2215 
th»shŞd_
[
i
] = 
RAND_MAX
*(1 - 
	`exp
(-
	`abs
(
w
)));

2216 ià(
vsdebug
)

2218 
cout
 << "Weight: " << 
w
 << 
’dl
;

2221 ià(
vsdebug
)

2222 
cout
 << "Th»shŞd: " << 
th»shŞd_
[
i
] << 
’dl
;

2224 
	}
}

2236 
g‘NumCÏu£Gndšgs
(
A¼ay
<>* cÚ¡ & 
numGndšgs
, 
boŞ
 
tv
)

2247 
	gA¼ay
<> 
ÏzyF®£Gndšgs
(
numGndšgs
->
size
(), 0);

2248 
	gA¼ay
<> 
ÏzyTrueGndšgs
(
numGndšgs
->
size
(), 0);

2250 
IÁBoŞPaœIŒ
 
	g™r
;

2251 
IÁBoŞPaœ
 *
	gşau£F»qu’c›s
;

2254 
	gşau£CÁ
 = 
numGndšgs
->
size
();

2255 
as£¹
(
şau£CÁ
 =ğ
mÊ_
->
g‘NumCÏu£s
());

2256 
	gşau£no
 = 0; cÏu£nØ< 
	gşau£CÁ
; clauseno++)

2257 
as£¹
 ((*
numGndšgs
)[
şau£no
] >= 0);

2259 
	gi
 = 0; i < 
	gÜigš®GndCÏu£s_
.
size
(); i++)

2261 
GroundCÏu£
 *
	ggndCÏu£
 = 
Üigš®GndCÏu£s_
[
i
];

2262 
	g§tL™út
 = 0;

2263 
	gsubty³Un§tL™út
 = 0;

2264 
	gj
 = 0; j < 
	ggndCÏu£
->
g‘NumGroundP»diÿ‹s
(); j++)

2266 
	gl™
 = 
gndCÏu£
->
g‘GroundP»diÿ‹Index
(
j
);

2267 cÚ¡ 
GroundP»diÿ‹
* 
	ggndP»d
 = 
gndCÏu£
->
g‘GroundP»diÿ‹
(
j
,&
gndP»dHashA¼ay_
);

2268 if(
	ggndP»d
->
g‘P»dName
(
domaš_
) == "subtype")

2270 ià(!
isTrueL™”®
(
l™
)è
subty³Un§tL™út
++;

2274 ià(
isTrueL™”®
(
l™
)è
	g§tL™út
++;

2279 
	gşau£F»qu’c›s
 = 
gndCÏu£
->
g‘CÏu£F»qu’c›s
();

2280 
	g™r
 = 
şau£F»qu’c›s
->
begš
();

2281 
	g™r
 !ğ
şau£F»qu’c›s
->
’d
(); itr++)

2283 
	gşau£no
 = 
™r
->
fœ¡
;

2284 
	gäequ’cy
 = 
™r
->
£cÚd
.
fœ¡
;

2285 
boŞ
 
	gšv”tWt
 = 
™r
->
£cÚd
.second;

2287 ià(
	gšv”tWt
)

2290 ià(
	gtv
 && 
	g§tL™út
 > 0 && 
	gsubty³Un§tL™út
 == 0)

2293 ià(
Ïzy_
è
ÏzyF®£Gndšgs
[
şau£no
] +ğ
äequ’cy
;

2297 ià(!
	gtv
 && (
	g§tL™út
 =ğ0 || 
subty³Un§tL™út
 > 0))

2300 ià(
Ïzy_
è
ÏzyTrueGndšgs
[
şau£no
] +ğ
äequ’cy
;

2307 ià(
	gtv
 && (
	g§tL™út
 =ğ0 || 
subty³Un§tL™út
 > 0))

2310 ià(
Ïzy_
è
ÏzyF®£Gndšgs
[
şau£no
] +ğ
äequ’cy
;

2314 ià(!
	gtv
 && 
	g§tL™út
 > 0 && 
	gsubty³Un§tL™út
 == 0)

2317 ià(
Ïzy_
è
ÏzyTrueGndšgs
[
şau£no
] +ğ
äequ’cy
;

2321 (*
	gnumGndšgs
)[
şau£no
] +ğ
äequ’cy
;

2328 ià(
	gÏzy_
)

2330 
	gc
 = 0; c < 
	gmÊ_
->
g‘NumCÏu£s
(); c++)

2332 cÚ¡ 
CÏu£
* 
	gşau£
 = 
mÊ_
->
g‘CÏu£
(
c
);

2334 ià(
	gtv
 && 
	gşau£
->
g‘Wt
() >= 0)

2336 
tÙ®Gndšgs
 = 
domaš_
->
g‘NumNÚEvidGroundšgs
(
c
);

2337 
as£¹
(
tÙ®Gndšgs
 >ğ(*
numGndšgs
)[
c
] + 
ÏzyF®£Gndšgs
[c]);

2338 
	g»maššgTrueGndšgs
 = 
tÙ®Gndšgs
 - 
ÏzyF®£Gndšgs
[
c
] -

2339 (*
numGndšgs
)[
c
];

2340 (*
	gnumGndšgs
)[
c
] +ğ
»maššgTrueGndšgs
;

2343 ià(!
	gtv
 && 
	gşau£
->
g‘Wt
() < 0)

2345 
	gtÙ®Gndšgs
 = 
domaš_
->
g‘NumNÚEvidGroundšgs
(
c
);

2346 
as£¹
(
tÙ®Gndšgs
 >ğ(*
numGndšgs
)[
c
] + 
ÏzyTrueGndšgs
[c]);

2347 
	g»maššgF®£Gndšgs
 = 
tÙ®Gndšgs
 - 
ÏzyTrueGndšgs
[
c
] -

2348 (*
numGndšgs
)[
c
];

2349 (*
	gnumGndšgs
)[
c
] +ğ
»maššgF®£Gndšgs
;

2367 
g‘NumCÏu£GndšgsW™hUnknown
(
numGndšgs
[], 
şau£CÁ
,

2368 
boŞ
 
tv
,

2369 cÚ¡ 
A¼ay
<
boŞ
>* cÚ¡& 
unknownP»d
)

2373 
as£¹
(
unknownP»d
->
size
(è=ğ
g‘NumAtoms
());

2374 
IÁBoŞPaœIŒ
 
	g™r
;

2375 
IÁBoŞPaœ
 *
	gşau£F»qu’c›s
;

2377 
	gşau£no
 = 0; cÏu£nØ< 
	gşau£CÁ
; clauseno++)

2378 
	gnumGndšgs
[
şau£no
] = 0;

2380 
	gi
 = 0; i < 
	gÜigš®GndCÏu£s_
.
size
(); i++)

2382 
GroundCÏu£
 *
	ggndCÏu£
 = 
Üigš®GndCÏu£s_
[
i
];

2383 if(
	gvsdebug
è
	ggndCÏu£
->
´št
(
cout
);

2384 
	g§tL™út
 = 0;

2385 
	gsubty³Un§tL™út
 = 0;

2386 
boŞ
 
	gunknown
 = 
çl£
;

2387 
	gj
 = 0; j < 
	ggndCÏu£
->
g‘NumGroundP»diÿ‹s
(); j++)

2389 
	gl™
 = 
gndCÏu£
->
g‘GroundP»diÿ‹Index
(
j
);

2390 cÚ¡ 
GroundP»diÿ‹
* 
	ggndP»d
 = 
gndCÏu£
->
g‘GroundP»diÿ‹
(
j
,&
gndP»dHashA¼ay_
);

2391 if(
	gvsdebug
)
	gcout
<<"l™ : "<<
	gl™
<<
	g’dl
;

2392 ià((*
	gunknownP»d
)[
abs
(
l™
) - 1])

2394 
	gunknown
 = 
Œue
;

2397 if(
	ggndP»d
->
g‘P»dName
(
domaš_
) == "subtype")

2399 ià(!
isTrueL™”®
(
l™
)è
subty³Un§tL™út
++;

2403 ià(
isTrueL™”®
(
l™
)è
	g§tL™út
++;

2405 if(
	gvsdebug
)
	gcout
<<"§tL™úˆ: "<<
	g§tL™út
<<", subTy³Un§tL™CÁ : "<<
	gsubty³Un§tL™út
<<
	g’dl
;

2408 
	gşau£F»qu’c›s
 = 
gndCÏu£
->
g‘CÏu£F»qu’c›s
();

2409 
	g™r
 = 
şau£F»qu’c›s
->
begš
();

2410 
	g™r
 !ğ
şau£F»qu’c›s
->
’d
(); itr++)

2412 
	gşau£no
 = 
™r
->
fœ¡
;

2413 
	gäequ’cy
 = 
™r
->
£cÚd
.
fœ¡
;

2414 
boŞ
 
	gšv”tWt
 = 
™r
->
£cÚd
.second;

2416 ià(
	gšv”tWt
)

2419 ià(
	gtv
 && ((
	g§tL™út
 > 0 && 
	gsubty³Un§tL™út
 =ğ0è|| 
unknown
))

2422 ià(!
	gtv
 && (
	g§tL™út
 =ğ0 || 
subty³Un§tL™út
 > 0))

2428 ià(
	gtv
 && (
	g§tL™út
 =ğ0 || 
subty³Un§tL™út
 > 0))

2431 ià(!
	gtv
 && ((
	g§tL™út
 > 0 && 
	gsubty³Un§tL™út
 =ğ0è|| 
unknown
))

2434 
	gnumGndšgs
[
şau£no
] +ğ
äequ’cy
;

2446 
	$£tOth”sInBlockToF®£
(cÚ¡ & 
©omIdx
, cÚ¡ & 
blockIdx
)

2448 ià(
vsdebug
)

2450 
cout
 << "S‘‡Î iÀblock " << 
blockIdx
 << "o falseƒxcept "

2451 << 
©omIdx
 << 
’dl
;

2453 
blockSize
 = 
domaš_
->
	`g‘BlockSize
(
blockIdx
);

2454 
i
 = 0; i < 
blockSize
; i++)

2456 cÚ¡ 
P»diÿ‹
* 
´ed
 = 
domaš_
->
	`g‘P»dInBlock
(
i
, 
blockIdx
);

2457 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
((
P»diÿ‹
*)
´ed
);

2458 
idx
 = 
gndP»dHashA¼ay_
.
	`fšd
(
gndP»d
);

2460 ià(
vsdebug
)

2462 
cout
 << "Gnd…red in block ";

2463 
gndP»d
->
	`´št
(
cout
, 
domaš_
);

2464 
cout
 << " (idx " << 
idx
 << ")" << 
’dl
;

2467 
d–‘e
 
gndP»d
;

2468 
d–‘e
 
´ed
;

2471 ià(
idx
 >= 0)

2474 ià(
idx
 !ğ
©omIdx
 && 
fixedAtom_
[idx + 1] == 0)

2476 ià(
vsdebug
)

2477 
cout
 << "S‘ " << 
idx
 + 1 << "Øçl£" << 
’dl
;

2479 
boŞ
 
aùiv©e
 = 
Œue
;

2480 
	`£tV®ueOfAtom
(
idx
 + 1, 
çl£
, 
aùiv©e
, -1);

2484 
	}
}

2495 
	$fixAtom
(cÚ¡ & 
©omIdx
, cÚ¡ 
boŞ
& 
v®ue
)

2497 
	`as£¹
(
©omIdx
 > 0);

2498 ià(
vsdebug
)

2500 
cout
 << "Fixing ";

2501 (*
gndP»ds_
)[
©omIdx
 - 1]->
	`´št
(
cout
, 
domaš_
);

2502 
cout
 << "Ø" << 
v®ue
 << 
’dl
;

2506 ià(!
u£Th»shŞd_
)

2508 
cout
 << ">>> [ERR] u£Th»shŞd_ i çl£" << 
’dl
;

2509 
	`ex™
(0);

2513 ià((
fixedAtom_
[
©omIdx
] =ğ1 && 
v®ue
 =ğ
çl£
) ||

2514 (
fixedAtom_
[
©omIdx
] =ğ-1 && 
v®ue
 =ğ
Œue
))

2516 
cout
 << "CÚŒadiùiÚ: Tr›dØfix‡tom " << 
©omIdx
 <<

2517 "ØŒuªd f®£ ...ƒx™šg." << 
’dl
;

2518 
	`ex™
(0);

2522 ià(
fixedAtom_
[
©omIdx
] != 0) ;

2524 
fixedAtom_
[
©omIdx
] = (
v®ue
) ? 1 : -1;

2525 ià(
©om_
[
©omIdx
] !ğ
v®ue
)

2527 
boŞ
 
aùiv©e
 = 
çl£
;

2528 
blockIdx
 = 
	`g‘BlockIndex
(
©omIdx
 - 1);

2529 
	`£tV®ueOfAtom
(
©omIdx
, 
v®ue
, 
aùiv©e
, 
blockIdx
);

2530 
	`upd©eMakeB»akCo¡Aá”Fl
(
©omIdx
);

2534 
	`upd©eS©isf›dCÏu£s
(
©omIdx
);

2537 ià(
v®ue
)

2539 
blockIdx
 = 
	`g‘BlockIndex
(
©omIdx
 - 1);

2540 ià(
blockIdx
 > -1)

2542 
blockSize
 = 
domaš_
->
	`g‘BlockSize
(
blockIdx
);

2543 
i
 = 0; i < 
blockSize
; i++)

2545 cÚ¡ 
P»diÿ‹
* 
´ed
 = 
domaš_
->
	`g‘P»dInBlock
(
i
, 
blockIdx
);

2546 
GroundP»diÿ‹
* 
gndP»d
 = 
Ãw
 
	`GroundP»diÿ‹
((
P»diÿ‹
*)
´ed
);

2547 
idx
 = 
gndP»dHashA¼ay_
.
	`fšd
(
gndP»d
);

2548 
d–‘e
 
gndP»d
;

2549 
d–‘e
 
´ed
;

2552 ià(
idx
 >= 0)

2555 ià(
idx
 !ğ(
©omIdx
 - 1))

2558 ià(
fixedAtom_
[
idx
 + 1] == 1)

2560 
cout
 << "CÚŒadiùiÚ: Tr›dØfix‡tom " << 
idx
 + 1 <<

2561 "ØŒuªd f®£ ...ƒx™šg." << 
’dl
;

2562 
	`ex™
(0);

2565 ià(
fixedAtom_
[
idx
 + 1] == -1) ;

2566 ià(
vsdebug
)

2568 
cout
 << "Fixing ";

2569 (*
gndP»ds_
)[
idx
]->
	`´št
(
cout
, 
domaš_
);

2570 
cout
 << "Ø0" << 
’dl
;

2572 
fixedAtom_
[
idx
 + 1] = -1;

2573 ià(
©om_
[
idx
 + 1] !ğ
çl£
)

2575 
boŞ
 
aùiv©e
 = 
çl£
;

2576 
	`£tV®ueOfAtom
(
idx
 + 1, 
v®ue
, 
aùiv©e
, 
blockIdx
);

2577 
	`upd©eMakeB»akCo¡Aá”Fl
(
idx
 + 1);

2580 
	`upd©eS©isf›dCÏu£s
(
idx
 + 1);

2589 ià(
Ïzy_
 && !
	`isAùive
(
©omIdx
è&& 
v®ue
)

2593 
P»diÿ‹
* 
p
 =

2594 
gndP»dHashA¼ay_
[
©omIdx
 - 1]->
	`ü—‹Equiv®’tP»diÿ‹
(
domaš_
);

2596 
boŞ
 
ignÜeAùiveP»ds
 = 
çl£
;

2597 
A¼ay
<
GroundCÏu£
*> 
un§tCÏu£s
;

2598 
	`g‘AùiveCÏu£s
(
p
, 
un§tCÏu£s
, 
Œue
, 
ignÜeAùiveP»ds
);

2602 
	`addNewCÏu£s
(
ADD_CLAUSE_REGULAR
, 
un§tCÏu£s
);

2605 
domaš_
->
	`g‘DB
()->
	`£tAùiveStus
(
p
, 
Œue
);

2606 
aùiveAtoms_
++;

2608 
d–‘e
 
p
;

2610 
	}
}

2623 
	gA¼ay
<>* 
	$sim¶ifyCÏu£FromFixedAtoms
(cÚ¡ & 
şau£Idx
)

2625 
A¼ay
<>* 
»tuºA¼ay
 = 
Ãw
 Array<>;

2627 ià(
isS©isf›d_
[
şau£Idx
]è 
»tuºA¼ay
;

2631 
boŞ
 
isGood
 = (
şau£Co¡_
[
şau£Idx
] >ğ0è? 
çl£
 : 
Œue
;

2633 
boŞ
 
®lF®£Atoms
 = (
şau£Co¡_
[
şau£Idx
] >ğ0è? 
Œue
 : 
çl£
;

2635 
i
 = 0; i < 
	`g‘CÏu£Size
(
şau£Idx
); i++)

2637 
l™
 = 
şau£_
[
şau£Idx
][
i
];

2638 
fixedV®ue
 = 
fixedAtom_
[
	`abs
(
l™
)];

2640 ià(
şau£Co¡_
[
şau£Idx
] >= 0)

2642 ià((
fixedV®ue
 =ğ1 && 
l™
 > 0) ||

2643 (
fixedV®ue
 =ğ-1 && 
l™
 < 0))

2645 
isGood
 = 
Œue
;

2646 
®lF®£Atoms
 = 
çl£
;

2647 
»tuºA¼ay
->
	`ş—r
();

2650 ià(
fixedV®ue
 == 0)

2652 
®lF®£Atoms
 = 
çl£
;

2653 
»tuºA¼ay
->
	`­³nd
(
l™
);

2658 
	`as£¹
(
şau£Co¡_
[
şau£Idx
] < 0);

2659 ià((
fixedV®ue
 =ğ1 && 
l™
 > 0) ||

2660 (
fixedV®ue
 =ğ-1 && 
l™
 < 0))

2662 
cout
 << "CÚŒadiùiÚ: Tr›dØfix‡tom " << 
	`abs
(
l™
) <<

2663 "ØŒuš‡‚eg©ivşau£ ...ƒx™šg." << 
’dl
;

2664 
	`ex™
(0);

2668 
»tuºA¼ay
->
	`­³nd
(
l™
);

2670 ià(
fixedV®ue
 =ğ0è
isGood
 = 
çl£
;

2674 ià(
®lF®£Atoms
)

2676 
cout
 << "CÚŒadiùiÚ: AÎ‡tom š cÏu£ " << 
şau£Idx
 <<

2677 " fixedØçl£ ...ƒx™šg." << 
’dl
;

2678 
	`ex™
(0);

2680 ià(
isGood
è
isS©isf›d_
[
şau£Idx
] = 
Œue
;

2681  
»tuºA¼ay
;

2682 
	}
}

2690 cÚ¡ 
boŞ
 
	$isD—dCÏu£
(cÚ¡ & 
şau£Idx
)

2692  
d—dCÏu£_
[
şau£Idx
];

2693 
	}
}

2698 
	$–imš©eSoáCÏu£s
()

2700 
boŞ
 
©L—¡OÃD—d
 = 
çl£
;

2701 
i
 = 0; i < 
	`g‘NumCÏu£s
(); i++)

2703 ià(!(*
gndCÏu£s_
)[
i
]->
	`isH¬dCÏu£
())

2705 
©L—¡OÃD—d
 = 
Œue
;

2706 
d—dCÏu£_
[
i
] = 
Œue
;

2710 ià(
©L—¡OÃD—d
è
	`š™MakeB»akCo¡W©ch
();

2711 
	}
}

2720 
	$klCÏu£s
(cÚ¡ & 
¡¬tCÏu£
)

2723 ià(
šã»nûMode_
 !ğ
MODE_HARD
)

2725 
i
 = 
¡¬tCÏu£
; i < 
	`g‘NumCÏu£s
(); i++)

2727 
GroundCÏu£
* 
şau£
 = (*
gndCÏu£s_
)[
i
];

2728 ià((
	`şau£GoodInP»vious
(
i
)) &&

2729 (
şau£
->
	`isH¬dCÏu£
(è|| 
	`¿ndom
(è<ğ
th»shŞd_
[
i
]))

2731 ià(
vsdebug
)

2733 
cout
 << "K“pšg cÏu£ "<< 
i
 << " ";

2734 
şau£
->
	`´št
(
cout
, 
domaš_
, &
gndP»dHashA¼ay_
);

2735 
cout
 << 
’dl
;

2737 
d—dCÏu£_
[
i
] = 
çl£
;

2741 
d—dCÏu£_
[
i
] = 
Œue
;

2746 
	`š™MakeB»akCo¡W©ch
(
¡¬tCÏu£
);

2747 
	}
}

2757 cÚ¡ 
boŞ
 
	$şau£GoodInP»vious
(cÚ¡ & 
şau£Idx
)

2760  (
şau£Idx
 >ğ
´evS©isf›dCÏu£_
.
	`size
() ||

2761 
´evS©isf›dCÏu£_
[
şau£Idx
]);

2762 
	}
}

2767 
	$»£tD—dCÏu£s
()

2769 
i
 = 0; i < 
d—dCÏu£_
.
	`size
(); i++)

2770 
d—dCÏu£_
[
i
] = 
çl£
;

2771 
	`š™MakeB»akCo¡W©ch
();

2772 
	}
}

2777 
	$»£tFixedAtoms
()

2779 
i
 = 0; i < 
fixedAtom_
.
	`size
(); i++)

2780 
fixedAtom_
[
i
] = 0;

2781 
i
 = 0; i < 
isS©isf›d_
.
	`size
(); i++)

2782 
isS©isf›d_
[
i
] = 
çl£
;

2783 
	}
}

2785 
	$£tLazy
(cÚ¡ 
boŞ
& 
l
è{ 
Ïzy_
 =†; 
	}
}

2786 cÚ¡ 
boŞ
 
	$g‘Lazy
(è{  
Ïzy_
; 
	}
}

2788 
	$£tU£Th»shŞd
(cÚ¡ 
boŞ
& 
t
è{ 
u£Th»shŞd_
 =;
	}
}

2789 cÚ¡ 
boŞ
 
	$g‘U£Th»shŞd
(è{  
u£Th»shŞd_
; 
	}
}

2791 
	$g‘H¬dWt
(è{  
h¬dWt_
; 
	}
}

2793 cÚ¡ 
Domaš
* 
	$g‘Domaš
(è{  
domaš_
; 
	}
}

2795 cÚ¡ 
MLN
* 
	$g‘MLN
(è{  
mÊ_
; 
	}
}

2802 
	$´štLowS‹
(
o¡»am
& 
out
)

2804 
i
 = 0; i < 
	`g‘NumAtoms
(); i++)

2806 (*
gndP»ds_
)[
i
]->
	`´št
(
out
, 
domaš_
);

2807 
out
 << " " << 
lowAtom_
[
i
 + 1] << 
’dl
;

2809 
	}
}

2816 
	$´štCu¼’tS‹
(
o¡»am
& 
out
)

2818 
i
 = 0; i < 
	`g‘NumAtoms
(); i++)

2820 (*
gndP»ds_
)[
i
]->
	`´št
(
out
, 
domaš_
);

2821 
out
 << " " << 
©om_
[
i
 + 1] << 
’dl
;

2823 
	}
}

2831 
	$´štGndP»d
(cÚ¡ & 
´edIndex
, 
o¡»am
& 
out
)

2833 (*
gndP»ds_
)[
´edIndex
]->
	`´št
(
out
, 
domaš_
);

2834 
	}
}

2842 
	$g‘IndexOfGroundP»diÿ‹
(
GroundP»diÿ‹
* cÚ¡ & 
gndP»d
)

2844  
gndP»dHashA¼ay_
.
	`fšd
(
gndP»d
);

2845 
	}
}

2857 
	$£tAsEvid’û
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ediÿ‹
,

2858 cÚ¡ 
boŞ
& 
ŒueEvid’û
)

2860 ià(
vsdebug
)

2862 
cout
 << "Settingoƒvidence " ;

2863 
´ediÿ‹
->
	`´št
(
cout
, 
domaš_
);

2864 
cout
 << 
’dl
;

2866 
D©aba£
* 
db
 = 
domaš_
->
	`g‘DB
();

2867 
©omIdx
 = 
gndP»dHashA¼ay_
.
	`fšd
((
GroundP»diÿ‹
*)
´ediÿ‹
);

2869 ià(
©omIdx
 <= 0)

2872 ià(
db
->
	`g‘V®ue
(
´ediÿ‹
è=ğ
ŒueEvid’û
)

2876 ià(
ŒueEvid’û
)

2877 
db
->
	`£tV®ue
(
´ediÿ‹
, 
TRUE
);

2879 
db
->
	`£tV®ue
(
´ediÿ‹
, 
FALSE
);

2883 
A¼ay
<> 
gndCÏu£Indexes
;

2884 
d–‘ed
;

2885 
gndCÏu£Indexes
 = 
	`g‘NegOccu»nûA¼ay
(
©omIdx
 + 1);

2886 
gndCÏu£Indexes
.
	`bubbËSÜt
();

2889 
d–‘ed
 = 0;

2890 
i
 = 0; i < 
gndCÏu£Indexes
.
	`size
(); i++)

2895 ià(!
ŒueEvid’û
 ||

2896 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]]->
	`g‘NumGroundP»diÿ‹s
() == 1)

2898 ià(
vsdebug
)

2900 
cout
 << "D–‘šg ground cÏu£ " << 
gndCÏu£Indexes
[
i
] << " ";

2901 
cout
 << 
’dl
;

2905 
	`d–‘e
 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
] - 
d–‘ed
];

2906 
gndCÏu£s_
->
	`»moveI‹m
(
gndCÏu£Indexes
[
i
] - 
d–‘ed
);

2907 
d–‘ed
++;

2911 ià(
vsdebug
)

2913 
cout
 << "Removšg gnd…»d " << -(
©omIdx
 + 1)

2914 << " from ground cÏu£ " << 
gndCÏu£Indexes
[
i
] << 
’dl
;

2916 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]]->
	`»moveGndP»d
(-(
©omIdx
 + 1));

2920 
gndCÏu£Indexes
 = 
	`g‘PosOccu»nûA¼ay
(
©omIdx
 + 1);

2921 
gndCÏu£Indexes
.
	`bubbËSÜt
();

2924 
d–‘ed
 = 0;

2925 
i
 = 0; i < 
gndCÏu£Indexes
.
	`size
(); i++)

2930 ià(
ŒueEvid’û
 ||

2931 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]]->
	`g‘NumGroundP»diÿ‹s
() == 1)

2933 ià(
vsdebug
)

2935 
cout
 << "D–‘šg ground cÏu£ " << 
gndCÏu£Indexes
[
i
] << " ";

2936 
cout
 << 
’dl
;

2940 
	`d–‘e
 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
] - 
d–‘ed
];

2941 
gndCÏu£s_
->
	`»moveI‹m
(
gndCÏu£Indexes
[
i
] - 
d–‘ed
);

2942 
d–‘ed
++;

2946 ià(
vsdebug
)

2948 
cout
 << "Removšg gnd…»d " << -(
©omIdx
 + 1)

2949 << " from ground cÏu£ " << 
gndCÏu£Indexes
[
i
] << 
’dl
;

2951 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]]->
	`»moveGndP»d
(
©omIdx
 + 1);

2955 
gndP»dHashA¼ay_
.
	`»moveI‹mFa¡DisÜd”
(
©omIdx
);

2956 
gndP»dHashA¼ay_
.
	`com´ess
();

2957 
gndP»ds_
->
	`»moveI‹mFa¡DisÜd”
(
©omIdx
);

2958 
gndP»ds_
->
	`com´ess
();

2962 
ŞdIdx
 = 
gndP»dHashA¼ay_
.
	`size
();

2963 
	`»¶aûAtomIndexInAÎCÏu£s
(
ŞdIdx
, 
©omIdx
);

2965 
	}
}

2975 
	$£tAsQu”y
(cÚ¡ 
GroundP»diÿ‹
* cÚ¡ & 
´ediÿ‹
)

2977 ià(
vsdebug
)

2979 
cout
 << "Settingo query " ;

2980 
´ediÿ‹
->
	`´št
(
cout
, 
domaš_
);

2981 
cout
 << 
’dl
;

2983 
D©aba£
* 
db
 = 
domaš_
->
	`g‘DB
();

2985 ià(
gndP»dHashA¼ay_
.
	`cÚšs
((
GroundP»diÿ‹
*)
´ediÿ‹
))

2991 
gndP»dHashA¼ay_
.
	`­³nd
((
GroundP»diÿ‹
*)
´ediÿ‹
);

2992 
P»diÿ‹
* 
p
 = 
´ediÿ‹
->
	`ü—‹Equiv®’tP»diÿ‹
(
domaš_
);

2993 
db
->
	`£tEvid’ûStus
(
p
, 
çl£
);

2994 
boŞ
 
ignÜeAùiveP»ds
 = 
Œue
;

2995 
	`g‘AùiveCÏu£s
(
p
, 
ÃwCÏu£s_
, 
Œue
, 
ignÜeAùiveP»ds
);

2997 
	}
}

2999 
	$´štN‘wÜk
(
o¡»am
& 
out
)

3001 
i
 = 0; i < 
gndCÏu£s_
->
	`size
(); i++)

3003 (*
gndCÏu£s_
)[
i
]->
	`´št
(
out
, 
domaš_
, &
gndP»dHashA¼ay_
);

3004 
out
 << 
’dl
;

3006 
	}
}

3017 
GroundP»diÿ‹
* 
	$g‘GndP»d
(cÚ¡ & 
šdex
)

3019  (*
gndP»ds_
)[
šdex
];

3020 
	}
}

3028 
GroundCÏu£
* 
	$g‘GndCÏu£
(cÚ¡ & 
šdex
)

3030  (*
gndCÏu£s_
)[
šdex
];

3031 
	}
}

3036 
	$§veLowS‹ToGndP»ds
()

3038 
i
 = 0; i < 
	`g‘NumAtoms
(); i++)

3039 (*
gndP»ds_
)[
i
]->
	`£tTruthV®ue
(
lowAtom_
[i + 1]);

3040 
	}
}

3045 
	$§vePriÜSubty³S‹ToGndP»ds
()

3047 
i
 = 0; i < 
	`g‘NumAtoms
(); i++)

3049 
¡ršg
 
s
 = (*
gndP»ds_
)[
i
]->
	`g‘P»dSŒšg
(
domaš_
);

3050 
SŒšgS‘
::
I‹¿tÜ
 
™
 = 
´iÜSubTy³s
.
	`fšd
(
s
);

3051 (*
gndP»ds_
)[
i
]->
	`£tTruthV®ue
(
lowAtom_
[i + 1]);

3053 
	}
}

3058 
	$§veLowS‹ToDB
()

3060 
i
 = 0; i < 
	`g‘NumAtoms
(); i++)

3062 
GroundP»diÿ‹
* 
p
 = 
gndP»dHashA¼ay_
[
i
];

3063 
boŞ
 
v®ue
 = 
lowAtom_
[
i
 + 1];

3064 ià(
v®ue
)

3066 
domaš_
->
	`g‘DB
()->
	`£tV®ue
(
p
, 
TRUE
);

3070 
domaš_
->
	`g‘DB
()->
	`£tV®ue
(
p
, 
FALSE
);

3073 
	}
}

3081 cÚ¡ 
	$g‘GndP»dIndex
(
GroundP»diÿ‹
* cÚ¡& 
gndP»d
)

3083  
gndP»ds_
->
	`fšd
(
gndP»d
);

3084 
	}
}

3105 
g‘AùiveCÏu£s
(
P»diÿ‹
 *
šputP»d
,

3106 
A¼ay
<
GroundCÏu£
*>& 
aùiveCÏu£s
,

3107 
boŞ
 cÚ¡ & 
aùive
,

3108 
boŞ
 cÚ¡ & 
ignÜeAùiveP»ds
)

3110 
Tim”
 
	gtim”
;

3111 
	gcu¼Time
;

3113 
CÏu£
 *
	gfşau£
;

3114 
GroundCÏu£
* 
	gÃwCÏu£
;

3115 
	gşau£CÁ
;

3116 
GroundCÏu£HashA¼ay
 
	gşau£HashA¼ay
;

3118 
	gA¼ay
<
	gGroundCÏu£
*>* 
	gÃwCÏu£s
 = 
Ãw
 
A¼ay
<
GroundCÏu£
*>;

3120 cÚ¡ 
	gA¼ay
<
	gIndexCÏu£
*>* 
	gšdexCÏu£s
 = 
NULL
;

3123 ià(
	gšputP»d
 =ğ
NULL
)

3125 
şau£CÁ
 = 
mÊ_
->
g‘NumCÏu£s
();

3130 ià(
	gdomaš_
->
g‘DB
()->
g‘D—ùiv©edStus
(
šputP»d
)) ;

3131 
	g´edId
 = 
šputP»d
->
g‘Id
();

3132 
	gšdexCÏu£s
 = 
mÊ_
->
g‘CÏu£sCÚššgP»d
(
´edId
);

3133 
	gşau£CÁ
 = 
šdexCÏu£s
->
size
();

3137 
	gşau£no
 = 0;

3139 
	gşau£no
 < 
	gşau£CÁ
)

3141 ià(
	gšputP»d
)

3142 
	gfşau£
 = (
CÏu£
 *è(*
šdexCÏu£s
)[
şau£no
]->
şau£
;

3144 
	gfşau£
 = (
CÏu£
 *è
mÊ_
->
g‘CÏu£
(
şau£no
);

3146 ià(
	gvsdebug
)

3148 
	gcout
 << "Getting‡ctive clauses for FO clause: ";

3149 
	gfşau£
->
´št
(
cout
, 
domaš_
);

3150 
	gcout
 << 
	g’dl
;

3153 
	gcu¼Time
 = 
tim”
.
time
();

3155 cÚ¡ * 
	g·»ÁWtPŒ
 = 
NULL
;

3156 ià(!
	gfşau£
->
isH¬dCÏu£
()è
	g·»ÁWtPŒ
 = 
fşau£
->
g‘WtPŒ
();

3157 cÚ¡ 
	gşau£Id
 = 
mÊ_
->
fšdCÏu£Idx
(
fşau£
);

3158 
	gÃwCÏu£s
->
ş—r
();

3160 ià(
	g¡lAùiv©šg_
)

3161 
	g¡lAùiv©šg_
 = 
fşau£
->
g‘AùiveCÏu£s
(
šputP»d
, 
domaš_
,

3162 
ÃwCÏu£s
,

3163 &
gndP»dHashA¼ay_
,

3164 
ignÜeAùiveP»ds
);

3166 
	gi
 = 0; i < 
	gÃwCÏu£s
->
size
(); i++)

3168 
	gwt
 = 
fşau£
->
g‘Wt
();

3169 
	gÃwCÏu£
 = (*
ÃwCÏu£s
)[
i
];

3172 ià(
	ggndCÏu£s_
->
fšd
(
ÃwCÏu£
) >= 0)

3174 
d–‘e
 
ÃwCÏu£
;

3178 
boŞ
 
	gšv”tWt
 = 
çl£
;

3180 ià(!
	gfşau£
->
isH¬dCÏu£
() &&

3181 
	gÃwCÏu£
->
g‘NumGroundP»diÿ‹s
() == 1 &&

3182 !
ÃwCÏu£
->
g‘GroundP»diÿ‹S’£
(0))

3184 
ÃwCÏu£
->
£tGroundP»diÿ‹S’£
(0, 
Œue
);

3185 
	gÃwCÏu£
->
£tWt
(-
ÃwCÏu£
->
g‘Wt
());

3186 
	gwt
 = -
wt
;

3187 
	gšv”tWt
 = 
Œue
;

3188 
	gaddToIndex
 = 
gndCÏu£s_
->
fšd
(
ÃwCÏu£
);

3189 ià(
	gaddToIndex
 >= 0)

3191 (*
gndCÏu£s_
)[
addToIndex
]->
addWt
(
wt
);

3192 ià(
	g·»ÁWtPŒ
)

3193 (*
	ggndCÏu£s_
)[
addToIndex
]->
šüem’tCÏu£F»qu’cy
(
şau£Id
, 1,

3194 
šv”tWt
);

3195 
d–‘e
 
	gÃwCÏu£
;

3200 
	gpos
 = 
şau£HashA¼ay
.
fšd
(
ÃwCÏu£
);

3202 ià(
	gpos
 >= 0)

3204 ià(
vsdebug
)

3206 
cout
 << "Addšg weighˆ" << 
wt
 << "o clause ";

3207 
	gşau£HashA¼ay
[
pos
]->
´št
(
cout
, 
domaš_
, &
gndP»dHashA¼ay_
);

3208 
	gcout
 << 
	g’dl
;

3210 
	gşau£HashA¼ay
[
pos
]->
addWt
(
wt
);

3211 ià(
	g·»ÁWtPŒ
)

3212 
	gşau£HashA¼ay
[
pos
]->
šüem’tCÏu£F»qu’cy
(
şau£Id
, 1,

3213 
šv”tWt
);

3214 
d–‘e
 
	gÃwCÏu£
;

3219 
	gÃwCÏu£
->
£tWt
(
wt
);

3220 ià(
	g·»ÁWtPŒ
)

3221 
	gÃwCÏu£
->
šüem’tCÏu£F»qu’cy
(
şau£Id
, 1, 
šv”tWt
);

3223 ià(
	gvsdebug
)

3225 
	gcout
 << "Appending clause ";

3226 
	gÃwCÏu£
->
´št
(
cout
, 
domaš_
, &
gndP»dHashA¼ay_
);

3227 
	gcout
 << 
	g’dl
;

3229 
	gşau£HashA¼ay
.
­³nd
(
ÃwCÏu£
);

3231 
	gşau£no
++;

3235 
	gi
 = 0; i < 
	gşau£HashA¼ay
.
size
(); i++)

3237 
	gÃwCÏu£
 = 
şau£HashA¼ay
[
i
];

3238 
	gaùiveCÏu£s
.
­³nd
(
ÃwCÏu£
);

3241 
	gÃwCÏu£s
->
ş—r
();

3242 
d–‘e
 
	gÃwCÏu£s
;

3244 
	gşau£HashA¼ay
.
ş—r
();

3254 
g‘AùiveCÏu£s
(
A¼ay
<
GroundCÏu£
*> &
®lCÏu£s
,

3255 
boŞ
 cÚ¡ & 
ignÜeAùiveP»ds
)

3257 
g‘AùiveCÏu£s
(
NULL
, 
®lCÏu£s
, 
Œue
, 
ignÜeAùiveP»ds
);

3260 
	$g‘NumAùiveAtoms
()

3262  
aùiveAtoms_
;

3263 
	}
}

3265 cÚ¡ 
	$£tB»akH¬dCÏu£s
(cÚ¡ 
boŞ
& 
b»akH¬dCÏu£s
)

3267 
b»akH¬dCÏu£s_
 = 
b»akH¬dCÏu£s
;

3268 
	}
}

3272 
	g´iv©e
:

3279 
	$£tH¬dCÏu£Weight
()

3282 
sumSoáWts
 = 0.0;

3284 
şau£CÁ
 = 
mÊ_
->
	`g‘NumCÏu£s
();

3286 
i
 = 0; i < 
şau£CÁ
; i++)

3288 
CÏu£
* 
fşau£
 = (CÏu£ *è
mÊ_
->
	`g‘CÏu£
(
i
);

3290 ià(
fşau£
->
	`isH¬dCÏu£
()) ;

3292 
wt
 = 
	`abs
(
fşau£
->
	`g‘Wt
());

3293 
numGndšgs
 = 
fşau£
->
	`g‘NumGroundšgs
(
domaš_
);

3294 
sumSoáWts
 +ğ
wt
*
numGndšgs
;

3296 
	`as£¹
(
sumSoáWts
 >= 0);

3298 
h¬dWt_
 = 
sumSoáWts
 + 10.0;

3299 
cout
 << "S‘ h¬d weighˆtØ" << 
h¬dWt_
 << 
’dl
;

3300 
	}
}

3309 
	$»¶aûAtomIndexInAÎCÏu£s
(cÚ¡ & 
ŞdIdx
, cÚ¡ & 
ÃwIdx
)

3311 
A¼ay
<> 
gndCÏu£Indexes
;

3313 
gndCÏu£Indexes
 = 
	`g‘NegOccu»nûA¼ay
(
ŞdIdx
 + 1);

3314 
i
 = 0; i < 
gndCÏu£Indexes
.
	`size
(); i++)

3317 ià((*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]])

3318 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]]->
	`chªgeGndP»dIndex
(-(
ŞdIdx
 + 1),

3319 -(
ÃwIdx
 + 1));

3322 
gndCÏu£Indexes
 = 
	`g‘PosOccu»nûA¼ay
(
ŞdIdx
 + 1);

3323 
i
 = 0; i < 
gndCÏu£Indexes
.
	`size
(); i++)

3326 ià((*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]])

3327 (*
gndCÏu£s_
)[
gndCÏu£Indexes
[
i
]]->
	`chªgeGndP»dIndex
(
ŞdIdx
 + 1,

3328 
ÃwIdx
 + 1);

3330 
	}
}

3332 
	gpublic
:

3335 cÚ¡ 
MODE_MWS
 = 0;

3336 cÚ¡ 
	gMODE_HARD
 = 1;

3337 cÚ¡ 
	gMODE_SAMPLESAT
 = 2;

3339 cÚ¡ 
	gADD_CLAUSE_INITIAL
 = 0;

3340 cÚ¡ 
	gADD_CLAUSE_REGULAR
 = 1;

3341 cÚ¡ 
	gADD_CLAUSE_DEAD
 = 2;

3342 cÚ¡ 
	gADD_CLAUSE_SAT
 = 3;

3344 
	g´iv©e
:

3346 
boŞ
 
Ïzy_
;

3349 
	gh¬dWt_
;

3353 
MLN
* 
	gmÊ_
;

3354 
Domaš
* 
	gdomaš_
;

3358 
	gA¼ay
<
	gGroundP»diÿ‹
*>* 
	ggndP»ds_
;

3360 
	gA¼ay
<
	gGroundCÏu£
*> 
	gÜigš®GndCÏu£s_
;

3362 
GroundCÏu£HashA¼ay
* 
	ggndCÏu£s_
;

3366 
GroundP»diÿ‹HashA¼ay
* 
	guÃP»ds_
;

3370 
GroundP»diÿ‹HashA¼ay
* 
	gkÃP»ds_
;

3372 
	gA¼ay
<
	gTruthV®ue
>* 
	gkÃP»dV®ues_
;

3377 
	gba£NumAtoms_
;

3379 
boŞ
 
	gnoAµrox_
;

3381 
boŞ
 
	ghaveD—ùiv©ed_
;

3383 
	gmemLim™_
;

3385 
	gşau£Lim™_
;

3391 
MRF
* 
	gmrf_
;

3395 
	gA¼ay
<
	gGroundCÏu£
*> 
	gÃwCÏu£s_
;

3397 
	gA¼ay
<
	gGroundFÜmuÏ
*> 
	gÃwFÜmuÏs_
;

3399 
	gA¼ay
<
	gGroundP»diÿ‹
*> 
	gÃwP»ds_
;

3402 
GroundP»diÿ‹HashA¼ay
 
	ggndP»dHashA¼ay_
;

3406 
	gA¼ay
<A¼ay<> > 
	gşau£_
;

3408 
	gA¼ay
<> 
	gşau£Co¡_
;

3410 
	ghighe¡Co¡_
;

3412 
boŞ
 
	geqHighe¡_
;

3414 
	gnumHighe¡_
;

3416 
	gA¼ay
<> 
	gçl£CÏu£_
;

3418 
	gA¼ay
<> 
	gwh”eF®£_
;

3420 
	gA¼ay
<> 
	gnumTrueL™s_
;

3422 
	gA¼ay
<> 
	gw©ch1_
;

3424 
	gA¼ay
<> 
	gw©ch2_
;

3427 
	gA¼ay
<
	gboŞ
> 
	gisS©isf›d_
;

3429 
	gA¼ay
<
	gboŞ
> 
	gd—dCÏu£_
;

3431 
boŞ
 
	gu£Th»shŞd_
;

3433 
	gA¼ay
<> 
	gth»shŞd_
;

3437 
	gA¼ay
<A¼ay<> > 
	goccu»nû_
;

3440 
	gA¼ay
<
	gboŞ
> 
	g©om_
;

3443 
	gA¼ay
<> 
	gmakeCo¡_
;

3445 
	gA¼ay
<> 
	gb»akCo¡_
;

3448 
	gA¼ay
<> 
	gfixedAtom_
;

3451 
	gA¼ay
<
	gboŞ
> 
	glowAtom_
;

3453 
	glowCo¡_
;

3455 
	glowBad_
;

3458 
	gnumF®£CÏu£s_
;

3460 
	gco¡OfF®£CÏu£s_
;

3463 
	gaùiveAtoms_
;

3466 
	gA¼ay
<
	gboŞ
> 
	g´evS©isf›dCÏu£_
;

3469 
	gnumNÚEvAtoms_
;

3473 
	gšã»nûMode_
;

3478 
boŞ
 
	g¡lAùiv©šg_
;

3481 
boŞ
 
	gb»akH¬dCÏu£s_
;

3484 
SŒšgS‘
 
	g´iÜSubTy³s
;

	@parser/fol.cpp

36 
	#YYBISON
 1

	)

39 
	#YYBISON_VERSION
 "2.5"

	)

42 
	#YYSKELETON_NAME
 "gÌ.c"

	)

45 
	#YYPURE
 0

	)

48 
	#YYLSP_NEEDED
 0

	)

58 
	#YYSTYPE
 

	)

59 
	#YYDEBUG
 1

	)

69 #iâdeà
YYTOKENTYPE


70 
	#YYTOKENTYPE


	)

73 
	eyytok’ty³
 {

74 
	mZZ_NUM
 = 258,

75 
	mZZ_DOTDOTDOT
 = 259,

76 
	mZZ_STRING
 = 260,

77 
	mZZ_INCLUDE
 = 261,

78 
	mZZ_PREDICATE
 = 262,

79 
	mZZ_FUNCTION
 = 263,

80 
	mZZ_CONSTANT
 = 264,

81 
	mZZ_VARIABLE
 = 265,

82 
	mZZ_TYPE
 = 266,

83 
	mZZ_FORALL
 = 267,

84 
	mZZ_EXIST
 = 268,

85 
	mZZ_EQUIV
 = 269,

86 
	mZZ_IMPLY
 = 270

91 #iâdeà
YYSTYPE


92 
	tYYSTYPE
;

93 
	#YYSTYPE_IS_TRIVIAL
 1

	)

96 #ià! 
defšed
 
YYLTYPE
 && ! defšed 
YYLTYPE_IS_DECLARED


97 
	sYYLTYPE


100 
	myydummy
;

102 } 
	tYYLTYPE
;

103 
	#YYLTYPE_IS_DECLARED
 1

	)

104 
	#YYLTYPE_IS_TRIVIAL
 1

	)

110 #iâdeà
YYDEBUG


111 
	#YYDEBUG
 0

	)

115 #ifdeà
YYERROR_VERBOSE


116 #undeà
YYERROR_VERBOSE


117 
	#YYERROR_VERBOSE
 1

	)

119 
	#YYERROR_VERBOSE
 1

	)

123 #iâdeà
YYTOKEN_TABLE


124 
	#YYTOKEN_TABLE
 0

	)

132 
YYSTYPE
 
	gyyv®_deçuÉ
;

144 
	~"fŞ.h
"

145 
	~"fŞËx.ıp
"

148 
	gfŞDbg
 = 0;

157 
	~<¡dio.h
>

158 
	~<¡dlib.h
>

159 
	~<¡ršg.h
>

161 #iâdeà
YY_


162 #ià
defšed
 
YYENABLE_NLS
 && YYENABLE_NLS

163 #ià
ENABLE_NLS


164 
	~<libš.h
>

165 
	#YY_
(
msgid
è
	`dg‘‹xt
 ("bisÚ-ruÁime", msgid)

	)

168 #iâdeà
YY_


169 
	#YY_
(
msgid
è
	)
msgid

174 #ià! 
defšed
 
lšt
 || defšed 
__GNUC__


175 
	#YYUSE
(
e
è((èÓ))

	)

177 
	#YYUSE
(
e
è

	)

181 #iâdeà
lšt


182 
	#YYID
(
n
èÒ)

	)

184 #ià(
defšed
 
__STDC__
 || defšed 
__C99__FUNC__
 \

185 || 
defšed
 
	g__ılu¥lus
 || defšed 
	g_MSC_VER
)

187 
	$YYID
 (
i
)

190 
	$YYID
 (
i
)

191 
i
;

194  
i
;

195 
	}
}

198 #iâdeà
YYFREE


199 
	#YYFREE
 
ä“


	)

201 #iâdeà
YYMALLOC


202 
	#YYMALLOC
 
m®loc


	)

204 #iâdeà
YYREALLOC


205 
	#YYREALLOC
 
»®loc


	)

208 
	#YYSIZEMAX
 ((
size_t
è-1)

	)

210 #ifdeà
__ılu¥lus


211 
boŞ
 
	tyyboŞ
;

213 
	tyyboŞ
;

215 
	#yyŒue
 1

	)

216 
	#yyçl£
 0

	)

218 #iâdeà
YYSETJMP


219 
	~<£tjmp.h
>

220 
	#YYJMP_BUF
 
jmp_buf


	)

221 
	#YYSETJMP
(
’v
è
	`£tjmp
 (’v)

	)

222 
	#YYLONGJMP
(
’v
, 
v®
è
	`lÚgjmp
 (’v, v®)

	)

229 #iâdeà
__©Œibu‹__


231 #ià(! 
defšed
 
__GNUC__
 || __GNUC__ < 2 \

232 || (
	g__GNUC__
 =ğ2 && 
__GNUC_MINOR__
 < 5) \

233 || (
defšed
 
__STRICT_ANSI__
 && __STRICT_ANSI__))

234 
	#__©Œibu‹__
(
S³c
è

	)

239 #ifdeà
__ılu¥lus


240 
	#YYOPTIONAL_LOC
(
Name
è

	)

242 
	#YYOPTIONAL_LOC
(
Name
èNam
	`__©Œibu‹__
 ((
__unu£d__
))

	)

245 #iâdeà
YYASSERT


246 
	#YYASSERT
(
cÚd™iÚ
è((è((cÚd™iÚè|| (
	`abÜt
 (), 0)))

	)

250 
	#YYFINAL
 2

	)

252 
	#YYLAST
 227

	)

255 
	#YYNTOKENS
 41

	)

257 
	#YYNNTS
 112

	)

259 
	#YYNRULES
 193

	)

261 
	#YYNSTATES
 270

	)

263 
	#YYMAXRHS
 16

	)

266 
	#YYMAXLEFT
 0

	)

269 
	#YYUNDEFTOK
 2

	)

270 
	#YYMAXUTOK
 270

	)

272 
	#YYTRANSLATE
(
YYX
) \

273 ((è(
YYX
è<ğ
YYMAXUTOK
 ? 
yyŒª¦©e
[YYX] : 
YYUNDEFTOK
)

	)

276 cÚ¡ 
	gyyŒª¦©e
[] =

308 #ià
YYDEBUG


311 cÚ¡ 
	gyy´hs
[] =

336 cÚ¡ 
	gyyrhs
[] =

391 cÚ¡ 
	gyy¾še
[] =

416 #ià
YYDEBUG
 || 
YYERROR_VERBOSE
 || 
YYTOKEN_TABLE


419 cÚ¡ *cÚ¡ 
	gyyŠame
[] =

452 cÚ¡ 
	gyyr1
[] =

477 cÚ¡ 
	gyyr2
[] =

502 cÚ¡ 
	gyyd´ec
[] =

527 cÚ¡ 
	gyym”g”
[] =

554 cÚ¡ 
	gyydeçù
[] =

586 cÚ¡ 
	gyydefgÙo
[] =

604 
	#YYPACT_NINF
 -207

	)

605 cÚ¡ 
	gyy·ù
[] =

637 cÚ¡ 
	gyypgÙo
[] =

656 
	#YYTABLE_NINF
 -156

	)

657 cÚ¡ 
	gyybË
[] =

688 cÚ¡ 
	gyycÚæp
[] =

717 cÚ¡ 
	gyycÚæ
[] =

725 cÚ¡ 
	gyycheck
[] =

754 cÚ¡ 
	gyy¡os
[] =

787 
yy·r£
 ();

790 
	#YYTERROR
 1

	)

797 #iâdeà
YYLLOC_DEFAULT


798 
	#YYLLOC_DEFAULT
(
Cu¼’t
, 
Rhs
, 
N
è((è0)

	)

802 #iâdeà
YY_LOCATION_PRINT


803 
	#YY_LOCATION_PRINT
(
Fe
, 
Loc
è((è0)

	)

808 
	#YYLEX
 
	`yyËx
 ()

	)

810 
YYSTYPE
 
	gyylv®
;

812 
YYLTYPE
 
	gyyÎoc
;

814 
	gyyÃ¼s
;

815 
	gyych¬
;

817 cÚ¡ 
	gYYEOF
 = 0;

818 cÚ¡ 
	gYYEMPTY
 = -2;

820 ’um { 
	myyok
, 
	myyacû±
, 
	myyabÜt
, 
	myy”r
 } 
	tYYRESULTTAG
;

822 
	#YYCHK
(
YYE
) \

823 dØ{ 
YYRESULTTAG
 
yyæag
 = 
YYE
; ià(yyæag !ğ
yyok
)  yyflag; } \

824 
	`YYID
 (0))

	)

826 #ià
YYDEBUG


828 #iâdeà
YYFPRINTF


829 
	#YYFPRINTF
 
årštf


	)

832 
	#YYDPRINTF
(
Args
) \

834 ià(
yydebug
) \

835 
YYFPRINTF
 
Args
; \

836 } 
	`YYID
 (0))

	)

845 
	$yy_symbŞ_v®ue_´št
 (
FILE
 *
yyouut
, 
yyty³
, 
YYSTYPE
 cÚ¡ * cÚ¡ 
yyv®u•
)

847 ià(!
yyv®u•
)

849 #ifdeà
YYPRINT


850 ià(
yyty³
 < 
YYNTOKENS
)

851 
	`YYPRINT
 (
yyouut
, 
yytoknum
[
yyty³
], *
yyv®u•
);

853 
	`YYUSE
 (
yyouut
);

855 
yyty³
)

860 
	}
}

868 
	$yy_symbŞ_´št
 (
FILE
 *
yyouut
, 
yyty³
, 
YYSTYPE
 cÚ¡ * cÚ¡ 
yyv®u•
)

870 ià(
yyty³
 < 
YYNTOKENS
)

871 
	`YYFPRINTF
 (
yyouut
, "tok’ % (", 
yyŠame
[
yyty³
]);

873 
	`YYFPRINTF
 (
yyouut
, "Á”m % (", 
yyŠame
[
yyty³
]);

875 
	`yy_symbŞ_v®ue_´št
 (
yyouut
, 
yyty³
, 
yyv®u•
);

876 
	`YYFPRINTF
 (
yyouut
, ")");

877 
	}
}

879 
	#YY_SYMBOL_PRINT
(
T™Ë
, 
Ty³
, 
V®ue
, 
LoÿtiÚ
) \

881 ià(
yydebug
) \

883 
	`YYFPRINTF
 (
¡d”r
, "% ", 
T™Ë
); \

884 
	`yy_symbŞ_´št
 (
¡d”r
, 
Ty³
, \

885 
V®ue
); \

886 
	`YYFPRINTF
 (
¡d”r
, "\n"); \

888 } 
	`YYID
 (0))

	)

892 
	gyydebug
;

896 
	#YYDPRINTF
(
Args
)

	)

897 
	#YY_SYMBOL_PRINT
(
T™Ë
, 
Ty³
, 
V®ue
, 
LoÿtiÚ
)

	)

902 #iâdef 
YYINITDEPTH


903 
	#YYINITDEPTH
 200

	)

913 #iâdeà
YYMAXDEPTH


914 
	#YYMAXDEPTH
 10000

	)

922 
	#YYHEADROOM
 2

	)

924 #iâdeà
YYSTACKEXPANDABLE


925 #ià(! 
defšed
 
__ılu¥lus
 \

926 || (
defšed
 
	gYYSTYPE_IS_TRIVIAL
 && YYSTYPE_IS_TRIVIAL))

927 
	#YYSTACKEXPANDABLE
 1

	)

929 
	#YYSTACKEXPANDABLE
 0

	)

933 #ià
YYSTACKEXPANDABLE


934 
	#YY_RESERVE_GLRSTACK
(
Yy¡ack
) \

936 ià(
Yy¡ack
->
yy¥aûLeá
 < 
YYHEADROOM
) \

937 
	`yyex·ndGLRSck
 (
Yy¡ack
); \

938 } 
	`YYID
 (0))

	)

940 
	#YY_RESERVE_GLRSTACK
(
Yy¡ack
) \

942 ià(
Yy¡ack
->
yy¥aûLeá
 < 
YYHEADROOM
) \

943 
	`yyMemÜyExhau¡ed
 (
Yy¡ack
); \

944 } 
	`YYID
 (0))

	)

948 #ià
YYERROR_VERBOSE


950 #iâdeà
yy¡pıy


951 #ià
defšed
 
__GLIBC__
 && defšed 
_STRING_H
 && defšed 
_GNU_SOURCE


952 
	#yy¡pıy
 
¡pıy


	)

957 
	$yy¡pıy
 (*
yyde¡
, cÚ¡ *
yy¤c
)

959 *
yyd
 = 
yyde¡
;

960 cÚ¡ *
yys
 = 
yy¤c
;

962 (*
yyd
++ = *
yys
++) != '\0')

965  
yyd
 - 1;

966 
	}
}

970 #iâdeà
yyŠam”r


978 
size_t


979 
	$yyŠam”r
 (*
yy»s
, cÚ¡ *
yy¡r
)

981 ià(*
yy¡r
 == '"')

983 
size_t
 
yyn
 = 0;

984 cÚ¡ *
yyp
 = 
yy¡r
;

987 *++
yyp
)

991 
do_nÙ_¡r_quÙes
;

994 ià(*++
yyp
 != '\\')

995 
do_nÙ_¡r_quÙes
;

998 ià(
yy»s
)

999 
yy»s
[
yyn
] = *
yyp
;

1000 
yyn
++;

1004 ià(
yy»s
)

1005 
yy»s
[
yyn
] = '\0';

1006  
yyn
;

1008 
do_nÙ_¡r_quÙes
: ;

1011 ià(! 
yy»s
)

1012  
	`¡¾’
 (
yy¡r
);

1014  
	`yy¡pıy
 (
yy»s
, 
yy¡r
) - yyres;

1015 
	}
}

1021 
	tyyS‹Num
;

1024 
	tyyRuËNum
;

1027 
	tyySymbŞ
;

1030 
	tyyI‹mNum
;

1032 
yyGLRS‹
 
	tyyGLRS‹
;

1033 
yyGLRS‹S‘
 
	tyyGLRS‹S‘
;

1034 
yySemªticO±iÚ
 
	tyySemªticO±iÚ
;

1035 
yyGLRSckI‹m
 
	tyyGLRSckI‹m
;

1036 
yyGLRSck
 
	tyyGLRSck
;

1038 
	syyGLRS‹
 {

1040 
yyboŞ
 
	myyisS‹
;

1043 
yyboŞ
 
	myy»sŞved
;

1045 
yyS‹Num
 
	myyÌS‹
;

1047 
yyGLRS‹
* 
	myy´ed
;

1049 
size_t
 
	myypo¢
;

1054 
yySemªticO±iÚ
* 
	myyfœ¡V®
;

1056 
YYSTYPE
 
	myysv®
;

1057 } 
	myy£mªtics
;

1059 
YYLTYPE
 
	myyloc
;

1062 
	syyGLRS‹S‘
 {

1063 
yyGLRS‹
** 
	myy¡©es
;

1068 
yyboŞ
* 
	myylookah—dN“ds
;

1069 
size_t
 
	myysize
, 
	myyÿ·c™y
;

1072 
	syySemªticO±iÚ
 {

1074 
yyboŞ
 
	myyisS‹
;

1076 
yyRuËNum
 
	myyruË
;

1078 
yyGLRS‹
* 
	myy¡©e
;

1080 
	myy¿wch¬
;

1081 
YYSTYPE
 
	myyv®
;

1082 
YYLTYPE
 
	myyloc
;

1085 
yySemªticO±iÚ
* 
	myyÃxt
;

1090 
	uyyGLRSckI‹m
 {

1091 
yyGLRS‹
 
	myy¡©e
;

1092 
yySemªticO±iÚ
 
	myyİtiÚ
;

1095 
	syyGLRSck
 {

1096 
	myy”rS‹
;

1099 
YYJMP_BUF
 
	myyexû±iÚ_bufãr
;

1100 
yyGLRSckI‹m
* 
	myy™ems
;

1101 
yyGLRSckI‹m
* 
	myyÃxtF»e
;

1102 
size_t
 
	myy¥aûLeá
;

1103 
yyGLRS‹
* 
	myy¥l™Pošt
;

1104 
yyGLRS‹
* 
	myyÏ¡D–‘ed
;

1105 
yyGLRS‹S‘
 
	myytİs
;

1108 #ià
YYSTACKEXPANDABLE


1109 
yyex·ndGLRSck
 (
yyGLRSck
* 
yy¡ackp
);

1112 
	$yyFa
 (
yyGLRSck
* 
yy¡ackp
, cÚ¡ * 
yymsg
)

1113 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

1115 
	$yyFa
 (
yyGLRSck
* 
yy¡ackp
, cÚ¡ * 
yymsg
)

1117 ià(
yymsg
 !ğ
NULL
)

1118 
	`yy”rÜ
 (
yymsg
);

1119 
	`YYLONGJMP
 (
yy¡ackp
->
yyexû±iÚ_bufãr
, 1);

1120 
	}
}

1122 
	$yyMemÜyExhau¡ed
 (
yyGLRSck
* 
yy¡ackp
)

1123 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

1125 
	$yyMemÜyExhau¡ed
 (
yyGLRSck
* 
yy¡ackp
)

1127 
	`YYLONGJMP
 (
yy¡ackp
->
yyexû±iÚ_bufãr
, 2);

1128 
	}
}

1130 #ià
YYDEBUG
 || 
YYERROR_VERBOSE


1132 
šlše
 const *

1133 
	$yytok’Name
 (
yySymbŞ
 
yytok’
)

1135 ià(
yytok’
 =ğ
YYEMPTY
)

1138 ià(
yytok’
 < 0è{ * 
buf
 = 
Ãw
 [1]; buf[0]='\0';  buf; }  
yyŠame
[yytoken];

1139 
	}
}

1145 
	$yyflš
 (
yyGLRSckI‹m
 *, , è
	`__©Œibu‹__
 ((
__unu£d__
));

1147 
	$yyflš
 (
yyGLRSckI‹m
 *
yyv¥
, 
yylow0
, 
yylow1
)

1149 
yyGLRS‹
* 
s
;

1150 
i
;

1151 
s
 = 
yyv¥
[
yylow0
].
yy¡©e
.
yy´ed
;

1152 
i
 = 
yylow0
-1; i >ğ
yylow1
; i -= 1)

1154 
	`YYASSERT
 (
s
->
yy»sŞved
);

1155 
yyv¥
[
i
].
yy¡©e
.
yy»sŞved
 = 
yyŒue
;

1156 
yyv¥
[
i
].
yy¡©e
.
yy£mªtics
.
yysv®
 = 
s
->yysemantics.yysval;

1157 
yyv¥
[
i
].
yy¡©e
.
yyloc
 = 
s
->yyloc;

1158 
s
 = 
yyv¥
[
i
].
yy¡©e
.
yy´ed
 = s->yypred;

1160 
	}
}

1165 
šlše
 
	$yyfl
 (
yyGLRSckI‹m
 *, *, , 
yyboŞ
)

1166 
	`__©Œibu‹__
 ((
__unu£d__
));

1167 
šlše
 

1168 
	$yyfl
 (
yyGLRSckI‹m
 *
yyv¥
, *
yylow
, 
yylow1
, 
yyboŞ
 
yynÜm®
)

1170 ià(!
yynÜm®
 && 
yylow1
 < *
yylow
)

1172 
	`yyflš
 (
yyv¥
, *
yylow
, 
yylow1
);

1173 *
yylow
 = 
yylow1
;

1175  
yylow1
;

1176 
	}
}

1183  
YYRESULTTAG


1184 
yyu£rAùiÚ
 (
yyRuËNum
 
yyn
, 
yyrh¦’
, 
yyGLRSckI‹m
* 
yyv¥
,

1185 
YYSTYPE
* 
yyv®p
,

1186 
YYLTYPE
* 
YYOPTIONAL_LOC
 (
yyloı
),

1187 
yyGLRSck
* 
yy¡ackp


1190 
yyboŞ
 
yynÜm®
 
__©Œibu‹__
 ((
__unu£d__
)) =

1191 (
yy¡ackp
->
yy¥l™Pošt
 =ğ
NULL
);

1192 
	gyylow
;

1193 #undeà
yy”rok


1194 
	#yy”rok
 (
yy¡ackp
->
yy”rS‹
 = 0)

	)

1195 #undeà
YYACCEPT


1196 
	#YYACCEPT
  
yyacû±


	)

1197 #undeà
YYABORT


1198 
	#YYABORT
  
yyabÜt


	)

1199 #undeà
YYERROR


1200 
	#YYERROR
  
yy”rok
, 
yy”r


	)

1201 #undeà
YYRECOVERING


1202 
	#YYRECOVERING
(è(
yy¡ackp
->
yy”rS‹
 !ğ0)

	)

1203 #undeà
yyş—rš


1204 
	#yyş—rš
 (
yych¬
 = 
YYEMPTY
)

	)

1205 #undeà
YYFILL


1206 
	#YYFILL
(
N
è
	`yyfl
 (
yyv¥
, &
yylow
, N, 
yynÜm®
)

	)

1207 #undeà
YYBACKUP


1208 
	#YYBACKUP
(
Tok’
, 
V®ue
) \

1209  
	`yy”rÜ
 (
	`YY_
("parseƒrror: cannot back up")), \

1210 
yy”rok
, 
yy”r


	)

1212 
	gyylow
 = 1;

1213 ià(
	gyyrh¦’
 == 0)

1214 *
yyv®p
 = 
yyv®_deçuÉ
;

1216 *
	gyyv®p
 = 
yyv¥
[
YYFILL
 (1-
yyrh¦’
)].
yy¡©e
.
yy£mªtics
.
yysv®
;

1217 
YYLLOC_DEFAULT
 ((*
yyloı
), (
yyv¥
 - 
yyrh¦’
), yyrhslen);

1219 
	gyyn
)

1225 { ià(
fŞDbg
 >ğ2è
´štf
("input:ƒmpty\n"); }

1233 
yy”rok
;

1234 cÚ¡ * 
	gtok
;

1235 
	gŒue
)

1237 
	gtok
 = 
zztok’Li¡
.
»moveLa¡
();

1238 ià(
¡rcmp
(
tok
,"\n")==0è{ 
d–‘e
ok; ; }

1239 
d–‘e
 
	gtok
;

1249 ià(
fŞDbg
 >ğ2è
´štf
("input: weight\n");

1250 
zz»£t
();

1259 ià(
fŞDbg
 >ğ2è
´štf
("input: utility\n");

1268 ià(
fŞDbg
 >ğ2è
´štf
("input: sentence\n");

1278 
Li¡Obj
* 
fÜmuÏ
;

1279 
zzas£¹
(
zzŞdNewV¬Li¡
.
size
()==0,"expected zzoldNewVarList.size()==0");

1280 
zzas£¹
(
zzfÜmuÏLi¡Objs
.
size
()==1,"expected zzformulaListObjs.size()=1");

1281 
	gfÜmuÏ
 = 
zzfÜmuÏLi¡Objs
.
tİ
(); 
	gzzfÜmuÏLi¡Objs
.
pİ
();

1283 
zzd‘”mšeEqP»dTy³s
(
fÜmuÏ
);

1284 
	gzzeqP»dLi¡
.
ş—r
();

1285 
zzd‘”mšeIÁP»dTy³s
(
fÜmuÏ
);

1286 
	gzzštP»dLi¡
.
ş—r
();

1287 
zzd‘”mšeIÁFuncTy³s
(
fÜmuÏ
);

1288 
	gzzštFuncLi¡
.
ş—r
();

1289 
zz£tPlusV¬Ty³Id
();

1290 
zzcheckV¬NameToIdM­
();

1292 ià(
	gzzhasFuÎStİ
 && 
	gzzwt
 !ğ
NULL
)

1294 
zz”r
("A weight must‚ot be specified for‡ formulahat is "

1296 
d–‘e
 
	gzzwt
; zzwˆğ
NULL
;

1302 ià(
	gzznumE¼Üs
 == 0)

1307 
ZZFÜmuÏInfo
* 
•fi


1308 ğ
Ãw
 
ZZFÜmuÏInfo
(
fÜmuÏ
, 
zzfÜmuÏSŒ
, 
zzfdnumP»ds
, 
zzwt
,

1309 
zzdeçuÉWt
, 
zzdomaš
, 
zzmÊ
, 
zzv¬NameToIdM­
,

1310 
zz¶usV¬M­
, 
zznumA¡”isk
,

1311 
zzhasFuÎStİ
, 
zz»adH¬dCÏu£Wts
,

1312 
zzmu¡HaveWtOrFuÎStİ
, 
zzšIndivisibË
,

1313 
zzisHybrid
, 
zzcÚtP»d
, 
zzm—n
,

1314 
zzhasWeightFuÎStİ
, 
zzut
);

1315 
	gzzfÜmuÏInfos
.
­³nd
(
•fi
);

1318 ià(
	gzzwt
è{ 
d–‘e
 zzwt; zzwˆğ
NULL
; }

1319 ià(
	gzzut
è{ 
d–‘e
 zzut; zzut = 
NULL
; }

1329 ià(
fŞDbg
 >ğ2è
´štf
("sentence: indicator function\n");

1330 
zzcÚsumeTok’
(
zztok’Li¡
,"*");

1331 ià(
	gfŞDbg
 >ğ1è
´štf
("* ");

1332 
	gzzisHybrid
 = 
Œue
;

1333 
	gzzfÜmuÏSŒ
.
­³nd
(" * ");

1343 ià(
fŞDbg
 >ğ2è
´štf
("sentence:‚umericerm\n");

1351 { 
zzcÚsumeTok’
(
zztok’Li¡
,"@"); }

1358 { 
zzcÚsumeTok’
(
zztok’Li¡
,"@"); }

1366 ià(
fŞDbg
 >ğ1è
´štf
(".\n"); 
zzcÚsumeTok’
(
zztok’Li¡
,".");

1367 
zzas£¹
(!
zzhasFuÎStİ
, "expecting‚o full stop");

1368 
	gzzhasFuÎStİ
 = 
Œue
;

1369 
	gzzfÜmuÏSŒ
.
­³nd
(".");

1377 { ià(
fŞDbg
 >ğ1è
´štf
("\\n\n"); 
zzcÚsumeTok’
(
zztok’Li¡
,"\n"); }

1384 { ià(
fŞDbg
 >ğ1è
´štf
("\\r\n"); 
zzcÚsumeTok’
(
zztok’Li¡
,"\r"); }

1391 { ià(
fŞDbg
 >ğ1è
´štf
("\\n\n"); 
zzcÚsumeTok’
(
zztok’Li¡
,"\n"); }

1398 { ià(
fŞDbg
 >ğ1è
´štf
("\\r\n"); 
zzcÚsumeTok’
(
zztok’Li¡
,"\r"); }

1406 cÚ¡ * 
šc
 = 
zztok’Li¡
.
»moveLa¡
();

1407 cÚ¡ * 
	g¡r
 = 
zztok’Li¡
.
»moveLa¡
();

1408 cÚ¡ * 
	gÆ
 = 
zztok’Li¡
.
»moveLa¡
();

1409 
zzas£¹
(
¡rcmp
(
šc
,"#include")==0,"expecting #include keyword");

1411 ià(
	gfŞDbg
 >ğ1è
´štf
("#šşud% ", 
¡r
);

1413 
¡ršg
 
s
(
¡r
);

1414 ià(
	gs
.
Ëngth
() == 0)

1416 
zz”r
("empty string used with #include");

1417 
	gd–‘e
 [] 
	gšc
;

1418 
	gd–‘e
 [] 
	g¡r
;

1419 
	gd–‘e
 [] 
	gÆ
;

1423 
zzas£¹
(
s
.
©
(0è=ğ'"' && s.©(s.
Ëngth
()-1) == '"', "noƒnclosing \"");

1424 
	gs
 = 
s
.
sub¡r
(1, s.
Ëngth
()-2);

1425 
	gËn
 = 
s
.
Ëngth
();

1428 ià(
	gs
.
©
(
Ën
-4)=='.' && 
s
.at(len-3)=='c' && s.at(len-2)=='p' &&

1429 
s
.
©
(
Ën
-1)=='p')

1431 
zzcompeFunùiÚs
(
¡r
);

1432 
	gzzusšgLškedP»diÿ‹s
 = 
Œue
;

1433 
	gzzusšgLškedFunùiÚs
 = 
Œue
;

1437 
FILE
* 
	gÃwš
 = 
fİ’
(
s
.
c_¡r
(), "r" );

1438 ià(
	gÃwš
)

1440 
	gzzšSck
.
push
(
ZZFeS‹
(
yyš
, 
¡ršg
(
zzšFeName
), 
zznumCh¬R—d
,

1441 
zzlše
, 
zzcŞumn
));

1442 
ung‘c
('\n', 
Ãwš
);

1443 
	gzzlše
 = 1;

1444 
	gzzcŞumn
 = -1;

1445 
	gzzlše
--;

1446 
	gzzšFeName
 = 
¡r
;

1447 
yy»¡¬t
(
Ãwš
);

1448 
	gzznumCh¬R—d
 = 0;

1451 ià((
	gs
.
©
(
Ën
-3)=='.' && 
s
.at(len-2)=='d' && s.at(len-1)=='b'))

1452 
zz·r£GroundP»d
 = 
Œue
;

1455 
zz”r
("FaedØİ’ f%s.", 
¡r
);

1457 
	gd–‘e
 [] 
	gšc
;

1458 
	gd–‘e
 [] 
	g¡r
;

1459 
	gd–‘e
 [] 
	gÆ
;

1467 { ià(
fŞDbg
 >ğ1è
´štf
("\\n\n"); }

1474 { ià(
fŞDbg
 >ğ1è
´štf
("\\r\n"); }

1482 
zzcÚsumeTok’
(
zztok’Li¡
,"=");

1483 
zzcÚsumeTok’
(
zztok’Li¡
,"{");

1484 ià(
	gfŞDbg
 >ğ1è
´štf
("= { ");

1485 ià(
	gfŞDbg
 >ğ2è
´štf
("type_declarations: constant_declarations\n");

1494 ià(
fŞDbg
 >ğ1è
´štf
("} ");

1495 
zzcÚsumeTok’
(
zztok’Li¡
, "}");

1496 
	gd–‘e
 [] 
	gzzty³Name
;

1497 
	gzzty³Name
 = 
NULL
;

1506 cÚ¡ * 
idf
 = 
zztok’Li¡
.
»moveLa¡
();

1507 ià(
	gfŞDbg
 >ğ1è
´štf
("ty³_% ", 
idf
);

1508 
zzas£¹
(!
zzdomaš
->
isTy³
(
idf
), "expectingypeo be undefined");

1509 
	gid
 = 
zzaddTy³ToDomaš
(
zzdomaš
, 
idf
);

1510 
zzas£¹
(
id
 >= 0,"expecting id >= 0");

1511 
zzas£¹
(
zzty³Name
==
NULL
,"expecting zztypeName==NULL");

1512 
	gzzty³Name
 = 
Ãw
 [
¡¾’
(
idf
)+1];

1513 
¡rıy
(
zzty³Name
, 
idf
);

1514 
	gd–‘e
 [] 
	gidf
;

1523 cÚ¡ * 
idf
 = 
zztok’Li¡
.
»moveLa¡
();

1524 ià(
	gfŞDbg
 >ğ1è
´štf
("ty³_% ", 
idf
);

1525 
zzas£¹
(
zzdomaš
->
isTy³
(
idf
),"expectingypeo be defined");

1527 
zzas£¹
(
zzty³Name
==
NULL
,"expecting zztypeName==NULL");

1528 
	gzzty³Name
 = 
Ãw
 [
¡¾’
(
idf
)+1];

1529 
¡rıy
(
zzty³Name
, 
idf
);

1530 
	gd–‘e
 [] 
	gidf
;

1538 { ià(
fŞDbg
 >ğ2è
´štf
("constant_declarations: ZZ_VARIABLE\n"); }

1546 cÚ¡ * 
vsc
 = 
zztok’Li¡
.
»moveLa¡
();

1547 ià(
	gfŞDbg
 >ğ1è
´štf
("cd_% ", 
vsc
);

1548 
zzaddCÚ¡ªtToDomaš
(
vsc
, 
zzty³Name
);

1549 
	gd–‘e
 [] 
	gvsc
;

1557 { 
zzcÚsumeTok’
(
zztok’Li¡
, ","); }

1565 
zzcÚsumeTok’
(
zztok’Li¡
,"\n");

1566 
zzcÚsumeTok’
(
zztok’Li¡
,",");

1567 
zzcÚsumeTok’
(
zztok’Li¡
,"\n");

1576 
zzcÚsumeTok’
(
zztok’Li¡
,"\n");

1577 
zzcÚsumeTok’
(
zztok’Li¡
,",");

1586 
zzcÚsumeTok’
(
zztok’Li¡
,",");

1587 
zzcÚsumeTok’
(
zztok’Li¡
,"\n");

1596 ià(
fŞDbg
 >ğ2è
´štf
("numeric_type_declarations: \n");

1597 
zzcÚsumeTok’
(
zztok’Li¡
,"=");

1598 
zzcÚsumeTok’
(
zztok’Li¡
,"{");

1607 cÚ¡ * 
numSŒ
 = 
zztok’Li¡
.
»moveLa¡
();

1608 ià(
	gfŞDbg
 >ğ1è
´štf
(" % ", 
numSŒ
);

1610 
	gd
 = 
©of
(
numSŒ
);

1611 
	gzzš™ŸlNumDeş¬©iÚ
 = (
d
);

1612 ià(
	gd
 !ğ
zzš™ŸlNumDeş¬©iÚ
è
zz”r
("cÚ¡ªˆ% mu¡ bª iÁeg”", 
numSŒ
);

1614 
	gcÚ¡SŒ
[100];

1615 
zzü—‹IÁCÚ¡ªt
(
cÚ¡SŒ
, 
zzty³Name
, 
zzš™ŸlNumDeş¬©iÚ
);

1616 
zzaddCÚ¡ªtToDomaš
(
cÚ¡SŒ
, 
zzty³Name
);

1618 
	gd–‘e
 [] 
	gnumSŒ
;

1627 
zzcÚsumeTok’
(
zztok’Li¡
, ",");

1636 
zzcÚsumeTok’
(
zztok’Li¡
, "}");

1646 
zzcÚsumeTok’
(
zztok’Li¡
, "...");

1647 
zzcÚsumeTok’
(
zztok’Li¡
, ",");

1648 cÚ¡ * 
	gnumSŒ2
 = 
zztok’Li¡
.
»moveLa¡
();

1649 ià(
	gfŞDbg
 >ğ1è
´štf
("ğ... , % } ", 
numSŒ2
);

1651 
	gd2
 = 
©of
(
numSŒ2
);

1652 
	gi2
 = (
d2
);

1653 ià(
	gd2
 !ğ
i2
è
zz”r
("cÚ¡ªˆ% mu¡ bª iÁeg”", 
numSŒ2
);

1654 ià(
	gzzš™ŸlNumDeş¬©iÚ
 > 
	gi2
)

1655 
zz”r
("fœ¡ cÚ¡ªˆÿÂÙ bÏrg”hª†a¡ cÚ¡ªˆ%s", 
numSŒ2
);

1657 
	gi
 = 
zzš™ŸlNumDeş¬©iÚ
 + 1; i <ğ
i2
; i++)

1659 
	gcÚ¡SŒ
[100];

1660 
zzü—‹IÁCÚ¡ªt
(
cÚ¡SŒ
, 
zzty³Name
, 
i
);

1661 
zzaddCÚ¡ªtToDomaš
(
cÚ¡SŒ
, 
zzty³Name
);

1664 
	gd–‘e
 [] 
	gnumSŒ2
; d–‘[] 
	gzzty³Name
;

1665 
	gzzty³Name
 = 
NULL
;

1674 
d–‘e
 [] 
zzty³Name
;

1675 
	gzzty³Name
 = 
NULL
;

1684 
zzcÚsumeTok’
(
zztok’Li¡
, ",");

1685 ià(
	gfŞDbg
 >ğ1è
´štf
(", ");

1686 ià(
	gfŞDbg
 >ğ2è
´štf
("single_numeric_types: single_numeric_type\n");

1695 cÚ¡ * 
numSŒ
 = 
zztok’Li¡
.
»moveLa¡
();

1696 ià(
	gfŞDbg
 >ğ1è
´štf
(" % ", 
numSŒ
);

1698 
	gd
 = 
©of
(
numSŒ
);

1699 
	gi
 = (
d
);

1700 ià(
	gd
 !ğ
i
è
zz”r
("cÚ¡ªˆ% mu¡ bª iÁeg”", 
numSŒ
);

1702 
	gcÚ¡SŒ
[100];

1703 
zzü—‹IÁCÚ¡ªt
(
cÚ¡SŒ
, 
zzty³Name
, 
i
);

1704 
zzaddCÚ¡ªtToDomaš
(
cÚ¡SŒ
, 
zzty³Name
);

1706 
	gd–‘e
 [] 
	gnumSŒ
;

1715 cÚ¡ * 
´edName
 = 
zztok’Li¡
.
»moveLa¡
();

1717 ià(
	gfŞDbg
 >ğ1è
´štf
("ZZ_PREDICATE…c_% ", 
´edName
);

1719 
zzas£¹
(
zzdomaš
->
g‘FunùiÚId
(
´edName
) < 0,

1721 
zzas£¹
(
zz´edTem¶©e
==
NULL
,"expecting zzpredTemplate==NULL");

1722 
	gzz´edTem¶©e
 = 
Ãw
 
P»diÿ‹Tem¶©e
();

1723 
	gzz´edTem¶©e
->
£tName
(
´edName
);

1724 
	gd–‘e
 [] 
	g´edName
;

1732 { ià(
fŞDbg
 >ğ1è
´štf
("Ğ"); 
zzcÚsumeTok’
(
zztok’Li¡
,"("); }

1739 { ià(
fŞDbg
 >ğ2è
´štf
("predicate_declaration:ypes\n"); }

1747 ià(
fŞDbg
 >ğ1è
´štf
(") ");

1749 
zzcÚsumeTok’
(
zztok’Li¡
,")");

1751 
zzas£¹
(
zz´edTem¶©e
, "notƒxpecting zzpredTemplate==NULL");

1752 
	gid
 = 
zzdomaš
->
addP»diÿ‹Tem¶©e
(
zz´edTem¶©e
);

1753 
zzas£¹
(
id
 >= 0, "expecting…redemplate id >= 0");

1754 
	gzz´edTem¶©e
->
£tId
(
id
);

1755 
	gzz´edTem¶©e
 = 
NULL
;

1764 cÚ¡ * 
´edName
 = 
zztok’Li¡
.
»moveLa¡
();

1766 ià(
	gfŞDbg
 >ğ1è
´štf
("ZZ_PREDICATE…c_% ", 
´edName
);

1768 
zzas£¹
(
zzdomaš
->
g‘FunùiÚId
(
´edName
) < 0,

1770 
zzas£¹
(
zz´edTem¶©e
==
NULL
,"expecting zzpredTemplate==NULL");

1771 
	gzz´edTem¶©e
 = 
Ãw
 
P»diÿ‹Tem¶©e
();

1772 
	gzz´edTem¶©e
->
£tName
(
´edName
);

1773 
	gd–‘e
 [] 
	g´edName
;

1776 cÚ¡ * 
	gv¬Name
 = 
Domaš
::
PROPOSITIONAL_TYPE
;

1777 ià(
	gfŞDbg
 >ğ1è
´štf
("t_% ", 
v¬Name
);

1778 ià(!
	gzzdomaš
->
isTy³
(
v¬Name
))

1780 
	gid
 = 
zzaddTy³ToDomaš
(
zzdomaš
, 
v¬Name
);

1781 
zzas£¹
(
id
 >= 0, "expecting var id >= 0");

1783 
zzaddTy³
(
v¬Name
, 
zz´edTem¶©e
, 
NULL
, 
çl£
, 
zzdomaš
);

1785 
zzas£¹
(
zz´edTem¶©e
, "notƒxpecting zzpredTemplate==NULL");

1786 
	g‹m¶©eId
 = 
zzdomaš
->
addP»diÿ‹Tem¶©e
(
zz´edTem¶©e
);

1787 
zzas£¹
(
‹m¶©eId
 >= 0, "expecting…redemplate id >= 0");

1788 
	gzz´edTem¶©e
->
£tId
(
‹m¶©eId
);

1789 
	gzz´edTem¶©e
 = 
NULL
;

1798 cÚ¡ * 
»tTy³Name
 = 
zztok’Li¡
.
»moveLa¡
();

1799 ià(
	gfŞDbg
 >ğ1è
´štf
("ZZ_FUNCTION_% ", 
»tTy³Name
);

1800 ià(
	gfŞDbg
 >ğ2è
´štf
("function_declaration: ZZ_VARIABLE\n");

1802 ià(!
	gzzdomaš
->
isTy³
(
»tTy³Name
))

1804 
	gid
 = 
zzaddTy³ToDomaš
(
zzdomaš
, 
»tTy³Name
);

1805 
zzas£¹
(
id
 >= 0, "expecting„etTypeName's id >= 0");

1808 
zzas£¹
(
zzfuncTem¶©e
==
NULL
, "expecting zzfuncTemplate==NULL");

1809 
	gzzfuncTem¶©e
 = 
Ãw
 
FunùiÚTem¶©e
();

1810 
	gzzfuncTem¶©e
->
£tR‘Ty³Name
(
»tTy³Name
,
zzdomaš
);

1813 
zzas£¹
(
zz´edTem¶©e
==
NULL
,"expecting zzpredTemplate==NULL");

1814 
	gzz´edTem¶©e
 = 
Ãw
 
P»diÿ‹Tem¶©e
();

1815 
zzaddTy³
(
»tTy³Name
, 
zz´edTem¶©e
, 
NULL
, 
çl£
, 
zzdomaš
);

1817 
	gd–‘e
 [] 
	g»tTy³Name
;

1826 cÚ¡ * 
funcName
 = 
zztok’Li¡
.
»moveLa¡
();

1828 ià(
	gfŞDbg
 >ğ1è
´štf
("fc_% ", 
funcName
);

1829 
zzas£¹
(
zzdomaš
->
g‘P»diÿ‹Id
(
funcName
) < 0,

1831 
	gzzfuncTem¶©e
->
£tName
(
funcName
);

1834 * 
	g´edName
;

1835 
	g´edName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
) +

1836 
¡¾’
(
funcName
) + 1)*());

1837 
¡rıy
(
´edName
, 
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
);

1838 
¡rÿt
(
´edName
, 
funcName
);

1841 
zzas£¹
(
zzdomaš
->
g‘FunùiÚId
(
´edName
) < 0,

1843 
zzas£¹
(
zz´edTem¶©e
,"expecting zzpredTemplate!=NULL");

1844 
	gzz´edTem¶©e
->
£tName
(
´edName
);

1846 
ä“
(
´edName
);

1847 
	gd–‘e
 [] 
	gfuncName
;

1856 
zzcÚsumeTok’
(
zztok’Li¡
,"(");

1857 ià(
	gfŞDbg
 >ğ1è
´štf
("( ");

1858 ià(
	gfŞDbg
 >ğ2è
´štf
("function_declaration:ypes\n");

1867 
zzcÚsumeTok’
(
zztok’Li¡
,")");

1868 ià(
	gfŞDbg
 >ğ1è
´štf
(") ");

1869 
zzas£¹
(
zzfuncTem¶©e
, "expecting zzfuncTemplate != NULL");

1870 
	gid
 = 
zzdomaš
->
addFunùiÚTem¶©e
(
zzfuncTem¶©e
);

1871 
zzas£¹
(
id
 >= 0, "expecting functionemplate's id >= 0");

1872 
	gzzfuncTem¶©e
->
£tId
(
id
);

1873 
	gzzfuncTem¶©e
 = 
NULL
;

1875 
zzas£¹
(
zz´edTem¶©e
, "notƒxpecting zzpredTemplate==NULL");

1877 ià(!
	gzzdomaš
->
isP»diÿ‹
(
zz´edTem¶©e
->
g‘Name
()))

1879 
	g´edId
 = 
zzdomaš
->
addP»diÿ‹Tem¶©e
(
zz´edTem¶©e
);

1880 
zzas£¹
(
´edId
 >= 0, "expecting…redemplate id >= 0");

1881 
	gzz´edTem¶©e
->
£tId
(
´edId
);

1883 
	gzz´edTem¶©e
 = 
NULL
;

1892 { ià(
fŞDbg
 >ğ1è
´štf
(", "); 
zzcÚsumeTok’
(
zztok’Li¡
,","); }

1899 { ià(
fŞDbg
 >ğ1è
´štf
(", "); 
zzcÚsumeTok’
(
zztok’Li¡
,","); }

1907 cÚ¡ * 
‰y³
 = 
zztok’Li¡
.
»moveLa¡
();

1908 ià(
	gfŞDbg
 >ğ1è
´štf
("t_% ", 
‰y³
);

1909 
zzaddTy³
(
‰y³
, 
zz´edTem¶©e
, 
NULL
, 
çl£
, 
zzdomaš
);

1911 ià(
	gzzfuncTem¶©e
)

1912 
zzaddTy³
(
‰y³
, 
NULL
, 
zzfuncTem¶©e
, 
çl£
, 
zzdomaš
);

1913 
	gd–‘e
 [] 
	g‰y³
;

1922 cÚ¡ * 
v¬Name
 = 
zztok’Li¡
.
»moveLa¡
();

1923 ià(
	gfŞDbg
 >ğ1è
´štf
("t_% ", 
v¬Name
);

1924 
zzas£¹
(!
zzdomaš
->
isTy³
(
v¬Name
), "expecting varNameo be‚ot‡ype");

1925 
	gid
 = 
zzaddTy³ToDomaš
(
zzdomaš
, 
v¬Name
);

1926 
zzas£¹
(
id
 >= 0, "expecting var id >= 0");

1927 
zzaddTy³
(
v¬Name
, 
zz´edTem¶©e
, 
NULL
, 
çl£
, 
zzdomaš
);

1929 ià(
	gzzfuncTem¶©e
)

1930 
zzaddTy³
(
v¬Name
, 
NULL
, 
zzfuncTem¶©e
, 
çl£
, 
zzdomaš
);

1931 
	gd–‘e
 [] 
	gv¬Name
;

1948 
zzcÚsumeTok’
(
zztok’Li¡
, "!");

1949 ià(
	gfŞDbg
 >ğ1è
´štf
("! ");

1950 ià(
	gzzfuncTem¶©e
)

1951 
zz”r
("'!' cannot be used in‡ function declaration.");

1952 
zzas£¹
(
zz´edTem¶©e
, "'!' used outside‡…redicate declaration.");

1954 
	g‹rmIdx
 = 
zz´edTem¶©e
->
g‘NumT”ms
()-1;

1955 
	gzz´edTem¶©e
->
addUniqueV¬Index
(
‹rmIdx
);

1964 
zzŒueF®£Unknown
 = 't';

1973 
zzcÚsumeTok’
(
zztok’Li¡
,"!");

1974 ià(
	gfŞDbg
 >ğ1è
´štf
("! ");

1975 
	gzzŒueF®£Unknown
 = 'f';

1984 
zzcÚsumeTok’
(
zztok’Li¡
,"?");

1985 ià(
	gfŞDbg
 >ğ1è
´štf
("? ");

1986 
	gzzŒueF®£Unknown
 = 'u';

1995 cÚ¡ * 
´edName
 = 
zztok’Li¡
.
»moveLa¡
();

1996 ià(
	gfŞDbg
 >ğ1è
´štf
("pd_% ", 
´edName
);

1998 
zzü—‹P»d
(
zz´ed
, 
´edName
);

1999 ià(
	gzzŒueF®£Unknown
 =ğ't'è
zz´ed
->
£tTruthV®ue
(
TRUE
);

2000 ià(
	gzzŒueF®£Unknown
 =ğ'f'è
zz´ed
->
£tTruthV®ue
(
FALSE
);

2001 ià(
	gzzŒueF®£Unknown
 =ğ'u'è
zz´ed
->
£tTruthV®ue
(
UNKNOWN
);

2002 { 
zzas£¹
(
çl£
, "expecting,f,u"); }

2004 
	gd–‘e
 [] 
	g´edName
;

2013 
zzcheckP»dNumT”m
(
zz´ed
);

2014 
	g´edId
 = 
zz´ed
->
g‘Id
();

2015 
	ghash_m­
<,
	gP»diÿ‹HashA¼ay
*>::
™”©Ü
 
™
;

2016 ià((
	g™
=
zz´edIdToGndP»dM­
.
fšd
(
´edId
)è=ğzz´edIdToGndP»dM­.
’d
())

2017 
zz´edIdToGndP»dM­
[
´edId
] = 
Ãw
 
P»diÿ‹HashA¼ay
;

2019 ià(
	gzz»®V®ue
 !ğ
NULL
)

2020 
zz´ed
->
£tR—lV®ue
(*
zz»®V®ue
);

2022 
P»diÿ‹HashA¼ay
* 
	gpha
 = 
zz´edIdToGndP»dM­
[
´edId
];

2023 ià(
	gpha
->
­³nd
(
zz´ed
) < 0)

2025 
	ga
 = 
pha
->
fšd
(
zz´ed
);

2026 
zzas£¹
(
a
 >= 0, "expecting ground…redicateo be found");

2027 
¡ršg
 
	gÜigTvSŒ
 = (*
pha
)[
a
]->
g‘TruthV®ueAsSŒ
();

2028 (*
	gpha
)[
a
]->
£tTruthV®ue
(
zz´ed
->
g‘TruthV®ue
());

2029 
¡ršg
 
	gÃwTvSŒ
 = (*
pha
)[
a
]->
g‘TruthV®ueAsSŒ
();

2031 ià(
	gzzw¬nDu¶iÿ‹s
)

2033 
o¡ršg¡»am
 
	goss
;

2034 
	goss
 << "Du¶iÿ‹ ground…»diÿ‹ "; 
	gzz´ed
->
´št
(
oss
, 
zzdomaš
);

2035 
	goss
 << " found. ";

2036 ià(
	gÜigTvSŒ
.
com·»
(
ÃwTvSŒ
) != 0)

2037 
oss
 << "Chªged it ŒuthV®uäom " << 
ÜigTvSŒ
 << "Ø" <<
ÃwTvSŒ


2038 << 
’dl
;

2039 
zzw¬n
(
oss
.
¡r
().
c_¡r
());

2041 
d–‘e
 
	gzz´ed
;

2043 
	gzz´ed
 = 
NULL
;

2053 cÚ¡ * 
cÚ¡Name
 = 
Domaš
::
PROPOSITIONAL_CONSTANT
;

2054 ià(
	gfŞDbg
 >ğ1è
´štf
("cg_% ", 
cÚ¡Name
);

2055 
zzaddCÚ¡ªtToP»dFunc
(
cÚ¡Name
);

2064 
zzcÚsumeTok’
(
zztok’Li¡
,"(");

2065 ià(
	gfŞDbg
 >ğ1è
´štf
("( ");

2066 ià(
	gfŞDbg
 >ğ2è
´štf
("predicate_definition: constants_in_groundings\n");

2075 
zzcÚsumeTok’
(
zztok’Li¡
,")");

2076 ià(
	gfŞDbg
 >ğ1è
´štf
(")\n");

2085 cÚ¡ * 
v®ue
 = 
zztok’Li¡
.
»moveLa¡
();

2086 ià(
	gfŞDbg
 >ğ1è
´štf
("rv_%à", 
©of
(
v®ue
));

2087 ià(
	gzz»®V®ue
è
d–‘e
 zzrealValue;

2088 
	gzz»®V®ue
 = 
Ãw
 (
©of
(
v®ue
));

2089 
	gd–‘e
 [] 
	gv®ue
;

2098 
zzcÚsumeTok’
(
zztok’Li¡
,"=");

2099 ià(
	gfŞDbg
 >ğ1è
´štf
("= ");

2100 ià(
	gfŞDbg
 >ğ2è
´štf
("function_definition: constants_in_groundings\n");

2110 cÚ¡ * 
funcName
 = 
zztok’Li¡
.
»moveLa¡
();

2111 * 
	g´edName
;

2112 
	g´edName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
) +

2113 
¡¾’
(
funcName
) + 1)*());

2114 
¡rıy
(
´edName
, 
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
);

2115 
¡rÿt
(
´edName
, 
funcName
);

2117 ià(
	gfŞDbg
 >ğ1è
´štf
("pd_% ", 
´edName
);

2119 
zzü—‹P»d
(
zz´ed
, 
´edName
);

2120 
	gzz´ed
->
£tTruthV®ue
(
TRUE
);

2122 
	gcÚ¡Name
[100];

2123 * 
	gcÚ¡SŒšg
;

2124 ià(
	gzztmpR‘uºNum
)

2126 
zzü—‹AndCheckNumCÚ¡ªt
(
zztmpR‘uºCÚ¡ªt
, 
zzfunc
, 
zz´ed
, 
zzdomaš
, 
cÚ¡Name
);

2127 ià(
	gcÚ¡Name
 =ğ
NULL
)

2129 
cÚ¡SŒšg
 = (*)
m®loc
((
¡¾’
(
zztmpR‘uºCÚ¡ªt
) + 1)*());

2130 
¡rıy
(
cÚ¡SŒšg
, 
zztmpR‘uºCÚ¡ªt
);

2133 
	gcÚ¡SŒšg
 = (*)
m®loc
((
¡¾’
(
cÚ¡Name
) + 1)*());

2134 
¡rıy
(
cÚ¡SŒšg
, 
cÚ¡Name
);

2139 
	gcÚ¡SŒšg
 = (*)
m®loc
((
¡¾’
(
zztmpR‘uºCÚ¡ªt
) + 1)*());

2140 
¡rıy
(
cÚ¡SŒšg
, 
zztmpR‘uºCÚ¡ªt
);

2144 
zzaddCÚ¡ªtToP»dFunc
(
cÚ¡SŒšg
);

2146 
	gzztmpR‘uºNum
 = 
çl£
;

2147 
ä“
(
zztmpR‘uºCÚ¡ªt
);

2148 
	gd–‘e
 [] 
	gfuncName
;

2149 
ä“
(
´edName
);

2150 
ä“
(
cÚ¡SŒšg
);

2159 
zzcÚsumeTok’
(
zztok’Li¡
,"(");

2160 ià(
	gfŞDbg
 >ğ1è
´štf
("( ");

2161 ià(
	gfŞDbg
 >ğ2è
´štf
("function_definition: constants_in_groundings\n");

2170 
zzcÚsumeTok’
(
zztok’Li¡
,")");

2171 ià(
	gfŞDbg
 >ğ1è
´štf
(")\n");

2173 
zzcheckP»dNumT”m
(
zz´ed
);

2174 
	g´edId
 = 
zz´ed
->
g‘Id
();

2175 
	ghash_m­
<,
	gP»diÿ‹HashA¼ay
*>::
™”©Ü
 
™
;

2176 ià((
	g™
=
zz´edIdToGndP»dM­
.
fšd
(
´edId
)è=ğzz´edIdToGndP»dM­.
’d
())

2177 
zz´edIdToGndP»dM­
[
´edId
] = 
Ãw
 
P»diÿ‹HashA¼ay
;

2179 
P»diÿ‹HashA¼ay
* 
	gpha
 = 
zz´edIdToGndP»dM­
[
´edId
];

2180 ià(
	gpha
->
­³nd
(
zz´ed
) < 0)

2182 
	ga
 = 
pha
->
fšd
(
zz´ed
);

2183 
zzas£¹
(
a
 >= 0, "expecting ground…redicateo be found");

2184 
¡ršg
 
	gÜigTvSŒ
 = (*
pha
)[
a
]->
g‘TruthV®ueAsSŒ
();

2185 (*
	gpha
)[
a
]->
£tTruthV®ue
(
zz´ed
->
g‘TruthV®ue
());

2186 
¡ršg
 
	gÃwTvSŒ
 = (*
pha
)[
a
]->
g‘TruthV®ueAsSŒ
();

2188 ià(
	gzzw¬nDu¶iÿ‹s
)

2190 
o¡ršg¡»am
 
	goss
;

2191 
	goss
 << "Du¶iÿ‹ ground…»diÿ‹ "; 
	gzz´ed
->
´št
(
oss
, 
zzdomaš
);

2192 
	goss
 << " found. ";

2193 ià(
	gÜigTvSŒ
.
com·»
(
ÃwTvSŒ
) != 0)

2194 
oss
 << "Chªged it ŒuthV®uäom " << 
ÜigTvSŒ
 << "Ø" <<
ÃwTvSŒ


2195 << 
’dl
;

2196 
zzw¬n
(
oss
.
¡r
().
c_¡r
());

2203 
	gzz´ed
 = 
NULL
;

2212 cÚ¡ * 
cÚ¡Name
 = 
zztok’Li¡
.
»moveLa¡
();

2213 ià(
	gfŞDbg
 >ğ1è
´štf
("cg_% ", 
cÚ¡Name
);

2214 
zzaddCÚ¡ªtToP»dFunc
(
cÚ¡Name
);

2215 
	gd–‘e
 [] 
	gcÚ¡Name
;

2224 cÚ¡ * 
cÚ¡Name
 = 
zztok’Li¡
.
»moveLa¡
();

2225 ià(
	gfŞDbg
 >ğ1è
´štf
("cg_% ", 
cÚ¡Name
);

2226 
zzaddCÚ¡ªtToP»dFunc
(
cÚ¡Name
);

2227 
	gd–‘e
 [] 
	gcÚ¡Name
;

2236 ià(
zzcÚ¡ªtMu¡BeDeş¬ed
)

2237 
zz”r
("Constant %s must be declared before it is used.",

2238 
zztok’Li¡
.
back
());

2247 cÚ¡ * 
štSŒ
 = 
zztok’Li¡
.
»moveLa¡
();

2248 
	gcÚ¡Name
[100];

2249 
zzü—‹AndCheckNumCÚ¡ªt
(
štSŒ
, 
zzfunc
, 
zz´ed
, 
zzdomaš
, 
cÚ¡Name
);

2250 ià(
	gcÚ¡Name
 =ğ
NULL
è
zztok’Li¡
.
addLa¡
(
štSŒ
);

2251 
	gzztok’Li¡
.
addLa¡
(
cÚ¡Name
);

2252 
	gd–‘e
 [] 
	gštSŒ
;

2261 ià(
zzcÚ¡ªtMu¡BeDeş¬ed
)

2262 
zz”r
("Constant %s must be declared before it is used",

2263 
zztok’Li¡
.
back
());

2272 cÚ¡ * 
tmp
 = 
zztok’Li¡
.
»moveLa¡
();

2273 
	gzztmpR‘uºCÚ¡ªt
 = (*)
m®loc
((
¡¾’
(
tmp
) + 1)*());

2274 
¡rıy
(
zztmpR‘uºCÚ¡ªt
, 
tmp
);

2275 
	gzztmpR‘uºNum
 = 
çl£
;

2276 
	gd–‘e
 []
	gtmp
;

2277 ià(
	gfŞDbg
 >ğ1è
´štf
("ic_% ", 
zztmpR‘uºCÚ¡ªt
);

2286 ià(
zzcÚ¡ªtMu¡BeDeş¬ed
)

2287 
zz”r
("Constant %s must be declared before it is used.",

2288 
zztok’Li¡
.
back
());

2289 cÚ¡ * 
	gtmp
 = 
zztok’Li¡
.
»moveLa¡
();

2290 
	gzztmpR‘uºCÚ¡ªt
 = (*)
m®loc
((
¡¾’
(
tmp
) + 1)*());

2291 
¡rıy
(
zztmpR‘uºCÚ¡ªt
, 
tmp
);

2292 
	gzztmpR‘uºNum
 = 
çl£
;

2293 
	gd–‘e
 []
	gtmp
;

2294 ià(
	gfŞDbg
 >ğ1è
´štf
("ic_% ", 
zztmpR‘uºCÚ¡ªt
);

2303 cÚ¡ * 
tmp
 = 
zztok’Li¡
.
»moveLa¡
();

2304 
	gzztmpR‘uºCÚ¡ªt
 = (*)
m®loc
((
¡¾’
(
tmp
) + 1)*());

2305 
¡rıy
(
zztmpR‘uºCÚ¡ªt
, 
tmp
);

2306 
	gzztmpR‘uºNum
 = 
Œue
;

2307 
	gd–‘e
 []
	gtmp
;

2308 ià(
	gfŞDbg
 >ğ1è
´štf
("iúum_% ", 
zztmpR‘uºCÚ¡ªt
);

2317 ià(
zzcÚ¡ªtMu¡BeDeş¬ed
)

2318 
zz”r
("Constant %s must be declared before it is used",

2319 
zztok’Li¡
.
back
());

2320 cÚ¡ * 
	gtmp
 = 
zztok’Li¡
.
»moveLa¡
();

2321 
	gzztmpR‘uºCÚ¡ªt
 = (*)
m®loc
((
¡¾’
(
tmp
) + 1)*());

2322 
¡rıy
(
zztmpR‘uºCÚ¡ªt
, 
tmp
);

2323 
	gzztmpR‘uºNum
 = 
çl£
;

2324 
	gd–‘e
 []
	gtmp
;

2325 ià(
	gfŞDbg
 >ğ1è
´štf
("ic_% ", 
zztmpR‘uºCÚ¡ªt
);

2334 cÚ¡ * 
wt
 = 
zztok’Li¡
.
»moveLa¡
();

2335 ià(
	gfŞDbg
 >ğ1è
´štf
("n_%à", 
©of
(
wt
));

2336 ià(
	gzzwt
è
d–‘e
 zzwt;

2337 
	gzzwt
 = 
Ãw
 (
©of
(
wt
));

2338 
	gd–‘e
 [] 
	gwt
;

2347 ià(
fŞDbg
 >ğ1è
´štf
("."); 
zzcÚsumeTok’
(
zztok’Li¡
,".");

2348 
zzas£¹
(!
zzhasWeightFuÎStİ
, "expecting‚o full stop");

2349 
	gzzhasWeightFuÎStİ
 = 
Œue
;

2350 
	gzzfÜmuÏSŒ
.
­³nd
(".");

2359 ià(
fŞDbg
 >ğ1è
´štf
(":"); 
zzcÚsumeTok’
(
zztok’Li¡
,":");

2362 
	gzzfÜmuÏSŒ
.
­³nd
(":");

2371 cÚ¡ * 
ut
 = 
zztok’Li¡
.
»moveLa¡
();

2372 ià(
	gfŞDbg
 >ğ1è
´štf
("n_%à", 
©of
(
ut
));

2373 ià(
	gzzut
è
d–‘e
 zzutil;

2374 
	gzzut
 = 
Ãw
 (
©of
(
ut
));

2375 
	gd–‘e
 [] 
	gut
;

2385 
zzcÚsumeTok’
(
zztok’Li¡
,"[");

2386 ià(
	gfŞDbg
 >ğ1è
´štf
("[ ");

2387 ià(
	gfŞDbg
 >ğ2è
´štf
("sentence: '[' sentence\n");

2388 
	gzzfÜmuÏSŒ
.
­³nd
("[");

2389 
	gzzšIndivisibË
 = 
Œue
;

2398 
zzcÚsumeTok’
(
zztok’Li¡
,"]");

2399 ià(
	gfŞDbg
 >ğ1è
´štf
("] ");

2400 
	gzzfÜmuÏSŒ
.
­³nd
("]");

2410 
zzcÚsumeTok’
(
zztok’Li¡
,"(");

2411 ià(
	gfŞDbg
 >ğ1è
´štf
("( ");

2412 ià(
	gfŞDbg
 >ğ2è
´štf
("sentence: '(' sentence\n");

2413 
	gzzfÜmuÏSŒ
.
­³nd
("(");

2422 
zzcÚsumeTok’
(
zztok’Li¡
,")");

2423 ià(
	gfŞDbg
 >ğ1è
´štf
(") ");

2424 
	gzzfÜmuÏSŒ
.
­³nd
(")");

2432 { ià(
fŞDbg
 >ğ2è
´štf
("sentence:‡tomic_sentence\n"); }

2440 cÚ¡ * 
imp
 = 
zztok’Li¡
.
»moveLa¡
();

2441 ià(
	gfŞDbg
 >ğ1è
´štf
("=> ");

2442 
	gzzfÜmuÏSŒ
.
­³nd
(" => ");

2443 
	gd–‘e
 [] 
	gimp
;

2451 { 
zzü—‹Li¡ObjFromTİTwo
(
zzfÜmuÏLi¡Objs
, "=>"); }

2459 cÚ¡ * 
eq
 = 
zztok’Li¡
.
»moveLa¡
();

2460 ià(
	gfŞDbg
 >ğ1è
´štf
("<=> ");

2461 
	gzzfÜmuÏSŒ
.
­³nd
(" <=> ");

2462 
	gd–‘e
 [] 
	geq
;

2470 { 
zzü—‹Li¡ObjFromTİTwo
(
zzfÜmuÏLi¡Objs
, "<=>"); }

2478 
zzcÚsumeTok’
(
zztok’Li¡
,"v");

2479 ià(
	gfŞDbg
 >ğ1è
´štf
("v ");

2480 
	gzzfÜmuÏSŒ
.
­³nd
(" v ");

2488 { 
zzü—‹Li¡ObjFromTİTwo
(
zzfÜmuÏLi¡Objs
, "v"); }

2496 
zzcÚsumeTok’
(
zztok’Li¡
,"^");

2497 ià(
	gfŞDbg
 >ğ1è
´štf
("^ ");

2498 
	gzzfÜmuÏSŒ
.
­³nd
(" ^ ");

2506 { 
zzü—‹Li¡ObjFromTİTwo
(
zzfÜmuÏLi¡Objs
, "^"); }

2513 { ià(
fŞDbg
 >ğ2è
´štf
("sentence: quantifier\n"); }

2521 ià(
fŞDbg
 >ğ2è
´štf
("sentence: variables\n");

2522 
	gzzfÜmuÏLi¡Objs
.
push
(
Ãw
 
Li¡Obj
);

2523 
	g·œ
<
	gSŒšgToSŒšgM­
*,> 
´
(
Ãw
 
SŒšgToSŒšgM­
,
zzscİeCouÁ”
++);

2524 
	gzzŞdNewV¬Li¡
.
push_äÚt
(
´
);

2532 { ià(
fŞDbg
 >ğ2è
´štf
("sentence: sentence\n"); }

2540 
zzü—‹Li¡ObjFromTİTh»e
(
zzfÜmuÏLi¡Objs
);

2541 
	g·œ
<
	gSŒšgToSŒšgM­
*, > 
	g´
 = 
zzŞdNewV¬Li¡
.
äÚt
();

2542 
	gzzŞdNewV¬Li¡
.
pİ_äÚt
();

2543 
d–‘e
 
	g´
.
	gfœ¡
;

2552 
zzas£¹
(!
zzisNeg©ed
,"expecting !zzisNegated");

2553 
	gzzisNeg©ed
 = 
Œue
;

2555 
zzcÚsumeTok’
(
zztok’Li¡
,"!");

2556 ià(
	gfŞDbg
 >ğ1è
´štf
("! ");

2557 ià(
	gfŞDbg
 >ğ2è
´štf
("sentence: sentence\n");

2558 
	gzzfÜmuÏSŒ
.
­³nd
("!");

2566 { 
zzü—‹Li¡ObjFromTİ
(
zzfÜmuÏLi¡Objs
, "!"); }

2574 cÚ¡ * 
ç
 = 
zztok’Li¡
.
»moveLa¡
();

2575 ià(
	gfŞDbg
 >ğ1è
´štf
("FORALL ");

2576 
	gzzfÜmuÏLi¡Objs
.
push
(
Ãw
 
Li¡Obj
("FORALL"));

2577 
	gzzfÜmuÏSŒ
.
­³nd
("FORALL ");

2578 
	gd–‘e
 [] 
	gç
;

2587 cÚ¡ * 
ex
 = 
zztok’Li¡
.
»moveLa¡
();

2588 ià(
	gfŞDbg
 >ğ1è
´štf
("EXIST ");

2589 
	gzzfÜmuÏLi¡Objs
.
push
(
Ãw
 
Li¡Obj
("EXIST"));

2590 
	gzzfÜmuÏSŒ
.
­³nd
("EXIST ");

2591 
	gd–‘e
 [] 
	gex
;

2599 { ià(
fŞDbg
 >ğ2è
´štf
("variables: variables\n"); }

2607 
zzcÚsumeTok’
(
zztok’Li¡
,",");

2608 ià(
	gfŞDbg
 >ğ1è
´štf
(", ");

2609 
	gzzfÜmuÏSŒ
.
­³nd
(",");

2617 { 
zzfÜmuÏSŒ
.
­³nd
(" "); }

2625 cÚ¡ * 
v¬Name
 = 
zztok’Li¡
.
»moveLa¡
();

2626 ià(
	gfŞDbg
 >ğ1è
´štf
("v_% ", 
v¬Name
);

2629 ià(
zzisCÚ¡ªt
(
v¬Name
))

2631 
zz”r
("V¬ŸbË % mu¡ bbegš w™h‡†ow”ÿ£ ch¬aù”.", 
v¬Name
);

2632 ((*)
	gv¬Name
)[0] = 
tŞow”
(
v¬Name
[0]);

2635 
	gscİeNum
 = 
zzŞdNewV¬Li¡
.
äÚt
().
£cÚd
;

2636 
¡ršg
 
	gÃwV¬Name
 = 
zz­³nd
(
v¬Name
,
scİeNum
);

2638 
SŒšgToSŒšgM­
* 
	gŞdNewV¬M­
 = 
zzŞdNewV¬Li¡
.
äÚt
().
fœ¡
;

2639 (*
	gŞdNewV¬M­
)[
v¬Name
]=
ÃwV¬Name
;

2640 
	gzzv¬NameToIdM­
[
ÃwV¬Name
] = 
ZZV¬IdTy³
(--
zzv¬CouÁ”
, 
zzªyTy³Id
);

2641 
	gzzfÜmuÏLi¡Objs
.
tİ
()->
­³nd
(
ÃwV¬Name
.
c_¡r
());

2642 
	gzzfÜmuÏSŒ
.
­³nd
(
v¬Name
);

2643 
	gd–‘e
 [] 
	gv¬Name
;

2652 cÚ¡ * 
´edName
 = 
zztok’Li¡
.
»moveLa¡
();

2653 ià(
	gfŞDbg
 >ğ1è
´štf
("p_% ", 
´edName
);

2655 
	gzzfdnumP»ds
++;

2656 
Li¡Obj
* 
	g´edlo
 = 
Ãw
 ListObj;

2658 ià(
	gP»diÿ‹Tem¶©e
::
isIÁ”ÇlP»diÿ‹Tem¶©eName
(
´edName
))

2661 
zzšfixP»dName
 = (*)
m®loc
((
¡¾’
(
´edName
)

2663 
¡rıy
(
zzšfixP»dName
, 
´edName
);

2664 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	gt
 = 
zzdomaš
->
g‘Em±yP»diÿ‹Tem¶©e
();

2665 
zzas£¹
(
zz´ed
 =ğ
NULL
,"expecting zzpred==NULL");

2666 
	gzz´ed
 = 
Ãw
 
P»diÿ‹
(
t
);

2667 
	g´edlo
->
­³nd
(
P»diÿ‹Tem¶©e
::
EMPTY_NAME
);

2671 
zzü—‹P»d
(
zz´ed
, 
´edName
);

2672 
	g´edlo
->
­³nd
(
´edName
);

2675 
	gzzfÜmuÏSŒ
.
­³nd
(
´edName
);

2676 if(
	gzzisNeg©ed
è{ 
	gzz´ed
->
£tS’£
(
çl£
); zzisNegated = false; }

2677 
	gzz´edFuncLi¡Objs
.
push
(
´edlo
);

2678 
	gd–‘e
 [] 
	g´edName
;

2687 ++
zzfdnumP»ds
;

2690 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	gt
 = 
zzdomaš
->
g‘Em±yP»diÿ‹Tem¶©e
();

2692 
zzas£¹
(
zz´ed
 =ğ
NULL
, "expecting zzpred==NULL");

2693 
	gzz´ed
 = 
Ãw
 
P»diÿ‹
(
t
);

2695 
Li¡Obj
* 
	g´edlo
 = 
Ãw
 ListObj;

2697 
	g´edlo
->
­³nd
(
P»diÿ‹Tem¶©e
::
EMPTY_NAME
);

2698 
	gzz´edFuncLi¡Objs
.
push
(
´edlo
);

2699 ià(
	gzzisNeg©ed
è{ 
	gzz´ed
->
£tS’£
(
çl£
); zzisNegated = false; }

2701 ià(
	gfŞDbg
 >ğ2è
´štf
("atomic_sentence (left):erm\n");

2710 
Li¡Obj
* 
´edlo
 = 
zz´edFuncLi¡Objs
.
tİ
();

2711 
	g´edlo
->
»¶aû
(
P»diÿ‹Tem¶©e
::
EMPTY_NAME
, 
zzšfixP»dName
);

2714 
	glTy³Id
 = 
zzg‘Ty³Id
(
zz´ed
->
g‘T”m
(0), (*
´edlo
)[1]->
g‘SŒ
());

2715 ià(
	glTy³Id
 > 0)

2717 ià(
¡rcmp
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
EQUAL_NAME
)==0)

2719 
zz£tEqP»dTy³Name
(
lTy³Id
);

2723 
zz£tIÁ”ÇlP»dTy³Name
(
zzšfixP»dName
, 
lTy³Id
);

2734 
Li¡Obj
* 
´edlo
 = 
zz´edFuncLi¡Objs
.
tİ
();

2740 
	glTy³Id
 = 
zzg‘Ty³Id
(
zz´ed
->
g‘T”m
(0), (*
´edlo
)[1]->
g‘SŒ
());

2741 
	grTy³Id
 = 
zzg‘Ty³Id
(
zz´ed
->
g‘T”m
(1), (*
´edlo
)[2]->
g‘SŒ
());

2743 ià(
	glTy³Id
 > 0 && 
	grTy³Id
 > 0)

2745 ià(
	glTy³Id
 !ğ
rTy³Id
)

2746 
zz”r
("Theypes onhe†eft‡nd„ight of '=' must match.");

2747 ià(
¡rcmp
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
EQUAL_NAME
)==0)

2749 
zz£tEqP»dTy³Name
(
lTy³Id
);

2753 
zz£tIÁ”ÇlP»dTy³Name
(
zzšfixP»dName
, 
lTy³Id
);

2757 iàĞ(
	glTy³Id
<=0 && 
rTy³Id
>0è|| (
lTy³Id
>0 &&„TypeId<=0) )

2759 
knownTy³Id
 = (
lTy³Id
>0è?†Ty³Id : 
rTy³Id
;

2760 ià(
¡rcmp
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
EQUAL_NAME
)==0)

2762 
zz£tEqP»dTy³Name
(
knownTy³Id
);

2766 
zz£tIÁ”ÇlP»dTy³Name
(
zzšfixP»dName
, 
knownTy³Id
);

2768 cÚ¡ * 
	glv¬Name
 = (*
´edlo
)[1]->
g‘SŒ
();

2769 cÚ¡ * 
	grv¬Name
 = (*
´edlo
)[2]->
g‘SŒ
();

2770 cÚ¡ * 
	gunknownV¬Name
 = (
lTy³Id
>0è? 
rv¬Name
 : 
lv¬Name
;

2771 
	gzzv¬NameToIdM­
[
unknownV¬Name
].
	gty³Id_
 = 
knownTy³Id
;

2776 cÚ¡ * 
	glv¬Name
 = (*
´edlo
)[1]->
g‘SŒ
();

2777 cÚ¡ * 
	grv¬Name
 = (*
´edlo
)[2]->
g‘SŒ
();

2778 
	glTy³Id
 = 
zzg‘V¬Ty³Id
(
lv¬Name
);

2779 
	grTy³Id
 = 
zzg‘V¬Ty³Id
(
rv¬Name
);

2781 ià(
	glTy³Id
 > 0 && 
	grTy³Id
 > 0)

2783 ià(
	glTy³Id
 !ğ
rTy³Id
)

2784 
zz”r
("Theypes of %s‡nd %s onhe†eft‡nd„ight of "

2785 "'=' mu¡ m©ch.", 
lv¬Name
, 
rv¬Name
);

2786 ià(
¡rcmp
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
EQUAL_NAME
)==0)

2788 
zz£tEqP»dTy³Name
(
lTy³Id
);

2792 
zz£tIÁ”ÇlP»dTy³Name
(
zzšfixP»dName
, 
lTy³Id
);

2796 iàĞ(
	glTy³Id
 <ğ0 && 
rTy³Id
 > 0è|| (
lTy³Id
 > 0 &&„TypeId <= 0) )

2798 
knownTy³Id
 = (
lTy³Id
 > 0è?†Ty³Id : 
rTy³Id
;

2799 ià(
¡rcmp
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
EQUAL_NAME
) == 0)

2801 
zz£tEqP»dTy³Name
(
knownTy³Id
);

2805 
zz£tIÁ”ÇlP»dTy³Name
(
zzšfixP»dName
, 
knownTy³Id
);

2807 cÚ¡ * 
	gunknowV¬Name
 = (
lTy³Id
>0è? 
rv¬Name
 : 
lv¬Name
;

2808 
	gzzv¬NameToIdM­
[
unknowV¬Name
].
	gty³Id_
 = 
knownTy³Id
;

2812 ià(
¡rcmp
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
EQUAL_NAME
)==0)

2814 
¡ršg
 
unknownEqName
 = 
zz­³nd
(
P»diÿ‹Tem¶©e
::
EQUAL_NAME
,

2815 
zzeqTy³CouÁ”
++);

2816 
	gzzeqP»dLi¡
.
push_back
(
ZZUnknownEqP»dInfo
(
unknownEqName
,
lv¬Name
,

2817 
rv¬Name
));

2818 
	g´edlo
->
»¶aû
(
P»diÿ‹Tem¶©e
::
EQUAL_NAME
, 
unknownEqName
.
c_¡r
());

2822 
¡ršg
 
	gunknownIÁP»dName
 =

2823 
zz­³ndW™hUnd”scÜe
(
zzšfixP»dName
, 
zzštP»dTy³CouÁ”
++);

2824 
	gzzštP»dLi¡
.
push_back
(
ZZUnknownIÁP»dInfo
(
unknownIÁP»dName
, 
lv¬Name
,

2825 
rv¬Name
));

2826 
	g´edlo
->
»¶aû
(
zzšfixP»dName
, 
unknownIÁP»dName
.
c_¡r
());

2837 
zzas£¹
(
zz´edFuncLi¡Objs
.
size
()==1,

2839 
Li¡Obj
* 
	gtİP»dlo
 = 
zz´edFuncLi¡Objs
.
tİ
();

2840 
	gzz´edFuncLi¡Objs
.
pİ
();

2841 
	gzzfÜmuÏLi¡Objs
.
push
(
tİP»dlo
);

2843 ià(
	gzzisNeg©ed
)

2845 
zzü—‹Li¡ObjFromTİ
(
zzfÜmuÏLi¡Objs
, "!");

2846 
	gzzisNeg©ed
 = 
çl£
;

2849 
d–‘e
 
	gzz´ed
;

2850 
	gzz´ed
 = 
NULL
;

2854 !
	gzzfuncCÚjSck
.
em±y
())

2859 
Li¡Obj
* 
	gtİP»dlo
 = 
zzfuncCÚjSck
.
tİ
();

2860 
	gzzfuncCÚjSck
.
pİ
();

2863 
	gzzfÜmuÏLi¡Objs
.
push
(
tİP»dlo
);

2864 
zzü—‹Li¡ObjFromTİTwo
(
zzfÜmuÏLi¡Objs
, "v");

2867 ià(!
	gzzfuncCÚjSŒ
.
em±y
())

2869 
	gzzfÜmuÏSŒ
.
­³nd
(
zzfuncCÚjSŒ
);

2870 
	gzzfuncCÚjSŒ
.
ş—r
();

2872 
	gzzfunc
 = 
NULL
;

2873 
ä“
(
zzšfixP»dName
);

2874 
	gzzšfixP»dName
 = 
NULL
;

2884 cÚ¡ * 
cÚ¡Name
 = 
Domaš
::
PROPOSITIONAL_CONSTANT
;

2885 ià(
	gfŞDbg
 >ğ1è
´štf
("c2_% ", 
cÚ¡Name
);

2886 
zz‹rmIsCÚ¡ªt
(
cÚ¡Name
, cÚ¡Name, 
çl£
);

2888 
zzcheckP»dNumT”m
(
zz´ed
);

2889 
d–‘e
 
	gzz´ed
;

2890 
	gzz´ed
 = 
NULL
;

2891 ià(!
	gzzisHybrid
)

2893 
zzas£¹
(
zz´edFuncLi¡Objs
.
size
()==1,

2895 
Li¡Obj
* 
	g´edlo
 = 
zz´edFuncLi¡Objs
.
tİ
();

2896 
	gzz´edFuncLi¡Objs
.
pİ
();

2897 
	gzzfÜmuÏLi¡Objs
.
push
(
´edlo
);

2907 
zzcÚsumeTok’
(
zztok’Li¡
, "(");

2908 ià(
	gfŞDbg
 >ğ1è
´štf
("( ");

2909 ià(
	gfŞDbg
 >ğ2è
´štf
("atomic_sentence:erms\n");

2910 
	gzzfÜmuÏSŒ
.
­³nd
("(");

2920 
zzcÚsumeTok’
(
zztok’Li¡
, ")");

2921 ià(
	gfŞDbg
 >ğ1è
´štf
(") ");

2925 ià(
	gzzšfixP»dName
)

2927 
Li¡Obj
* 
	g´edlo
 = 
zz´edFuncLi¡Objs
.
tİ
();

2928 
	g´edlo
->
»¶aû
(
P»diÿ‹Tem¶©e
::
EMPTY_NAME
, 
zzšfixP»dName
);

2932 
	glTy³Id
 = 
zzg‘Ty³Id
(
zz´ed
->
g‘T”m
(0), (*
´edlo
)[1]->
g‘SŒ
());

2933 
	grTy³Id
 = 
zzg‘Ty³Id
(
zz´ed
->
g‘T”m
(1), (*
´edlo
)[2]->
g‘SŒ
());

2935 ià(
	glTy³Id
 > 0 && 
	grTy³Id
 > 0)

2937 ià(
	glTy³Id
 !ğ
rTy³Id
)

2938 
zz”r
("Theypes onhe†eft‡nd„ight of '=' must match.");

2939 ià(
¡rcmp
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
EQUAL_NAME
)==0)

2941 
zz£tEqP»dTy³Name
(
lTy³Id
);

2945 
zz£tIÁ”ÇlP»dTy³Name
(
zzšfixP»dName
, 
lTy³Id
);

2949 iàĞ(
	glTy³Id
<=0 && 
rTy³Id
>0è|| (
lTy³Id
>0 &&„TypeId<=0) )

2951 
knownTy³Id
 = (
lTy³Id
>0è?†Ty³Id : 
rTy³Id
;

2952 ià(
¡rcmp
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
EQUAL_NAME
)==0)

2954 
zz£tEqP»dTy³Name
(
knownTy³Id
);

2958 
zz£tIÁ”ÇlP»dTy³Name
(
zzšfixP»dName
, 
knownTy³Id
);

2960 cÚ¡ * 
	glv¬Name
 = (*
´edlo
)[1]->
g‘SŒ
();

2961 cÚ¡ * 
	grv¬Name
 = (*
´edlo
)[2]->
g‘SŒ
();

2962 cÚ¡ * 
	gunknownV¬Name
 = (
lTy³Id
>0è? 
rv¬Name
 : 
lv¬Name
;

2963 
	gzzv¬NameToIdM­
[
unknownV¬Name
].
	gty³Id_
 = 
knownTy³Id
;

2968 cÚ¡ * 
	glv¬Name
 = (*
´edlo
)[1]->
g‘SŒ
();

2969 cÚ¡ * 
	grv¬Name
 = (*
´edlo
)[2]->
g‘SŒ
();

2970 
	glTy³Id
 = 
zzg‘V¬Ty³Id
(
lv¬Name
);

2971 
	grTy³Id
 = 
zzg‘V¬Ty³Id
(
rv¬Name
);

2973 ià(
	glTy³Id
 > 0 && 
	grTy³Id
 > 0)

2975 ià(
	glTy³Id
 !ğ
rTy³Id
)

2976 
zz”r
("Theypes of %s‡nd %s onhe†eft‡nd„ight of "

2977 "'=' mu¡ m©ch.", 
lv¬Name
, 
rv¬Name
);

2978 ià(
¡rcmp
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
EQUAL_NAME
)==0)

2980 
zz£tEqP»dTy³Name
(
lTy³Id
);

2984 
zz£tIÁ”ÇlP»dTy³Name
(
zzšfixP»dName
, 
lTy³Id
);

2988 iàĞ(
	glTy³Id
<=0 && 
rTy³Id
>0è|| (
lTy³Id
>0 &&„TypeId<=0) )

2990 
knownTy³Id
 = (
lTy³Id
>0è?†Ty³Id : 
rTy³Id
;

2991 ià(
¡rcmp
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
EQUAL_NAME
)==0)

2993 
zz£tEqP»dTy³Name
(
knownTy³Id
);

2997 
zz£tIÁ”ÇlP»dTy³Name
(
zzšfixP»dName
, 
knownTy³Id
);

2999 cÚ¡ * 
	gunknowV¬Name
 = (
lTy³Id
>0è? 
rv¬Name
 : 
lv¬Name
;

3000 
	gzzv¬NameToIdM­
[
unknowV¬Name
].
	gty³Id_
 = 
knownTy³Id
;

3004 ià(
¡rcmp
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
EQUAL_NAME
)==0)

3006 
¡ršg
 
unknownEqName
 = 
zz­³nd
(
P»diÿ‹Tem¶©e
::
EQUAL_NAME
,

3007 
zzeqTy³CouÁ”
++);

3008 
	gzzeqP»dLi¡
.
push_back
(
ZZUnknownEqP»dInfo
(
unknownEqName
,
lv¬Name
,

3009 
rv¬Name
));

3010 
	g´edlo
->
»¶aû
(
P»diÿ‹Tem¶©e
::
EQUAL_NAME
, 
unknownEqName
.
c_¡r
());

3014 
¡ršg
 
	gunknownIÁP»dName
 =

3015 
zz­³ndW™hUnd”scÜe
(
zzšfixP»dName
, 
zzštP»dTy³CouÁ”
++);

3016 
	gzzštP»dLi¡
.
push_back
(
ZZUnknownIÁP»dInfo
(
unknownIÁP»dName
, 
lv¬Name
,

3017 
rv¬Name
));

3018 
	g´edlo
->
»¶aû
(
zzšfixP»dName
, 
unknownIÁP»dName
.
c_¡r
());

3022 
ä“
(
zzšfixP»dName
);

3023 
	gzzšfixP»dName
 = 
NULL
;

3026 
zzcheckP»dNumT”m
(
zz´ed
);

3027 
d–‘e
 
	gzz´ed
;

3028 
	gzz´ed
 = 
NULL
;

3030 ià(!
	gzzisHybrid
)

3032 
zzas£¹
(
zz´edFuncLi¡Objs
.
size
()==1,

3034 
Li¡Obj
* 
	g´edlo
 = 
zz´edFuncLi¡Objs
.
tİ
();

3035 
	gzz´edFuncLi¡Objs
.
pİ
();

3037 ià(
	gzzisA¡”isk
)

3039 
	gzzisA¡”isk
 = 
çl£
;

3040 
Li¡Obj
* 
	glo
 = 
Ãw
 ListObj;

3041 
	glo
->
­³nd
("*");†o->­³nd(
´edlo
);

3042 
	gzzfÜmuÏLi¡Objs
.
push
(
lo
);

3045 
	gzzfÜmuÏLi¡Objs
.
push
(
´edlo
);

3051 
	gzzfÜmuÏSŒ
.
­³nd
(")");

3055 !
	gzzfuncCÚjSck
.
em±y
())

3059 
Li¡Obj
* 
	gtİP»dlo
 = 
zzfuncCÚjSck
.
tİ
();

3060 
	gzzfuncCÚjSck
.
pİ
();

3063 
	gzzfÜmuÏLi¡Objs
.
push
(
tİP»dlo
);

3064 
zzü—‹Li¡ObjFromTİTwo
(
zzfÜmuÏLi¡Objs
, "v");

3067 ià(!
	gzzfuncCÚjSŒ
.
em±y
())

3069 
	gzzfÜmuÏSŒ
.
­³nd
(
zzfuncCÚjSŒ
);

3070 
	gzzfuncCÚjSŒ
.
ş—r
();

3072 
	gzzfunc
 = 
NULL
;

3081 
zzcÚsumeTok’
(
zztok’Li¡
, ">");

3082 ià(
	gfŞDbg
 >ğ1è
´štf
("> ");

3083 ià(
	gfŞDbg
 >ğ2è
´štf
("atomic_sentence (right):erm\n");

3084 
	gzzfÜmuÏSŒ
.
­³nd
(" > ");

3085 
	gzzšfixP»dName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
GT_NAME
)

3087 
¡rıy
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
GT_NAME
);

3099 
zzcÚsumeTok’
(
zztok’Li¡
, "<");

3100 ià(
	gfŞDbg
 >ğ1è
´štf
("< ");

3101 ià(
	gfŞDbg
 >ğ2è
´štf
("atomic_sentence (right):erm\n");

3102 
	gzzfÜmuÏSŒ
.
­³nd
(" < ");

3103 
	gzzšfixP»dName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
LT_NAME
)

3105 
¡rıy
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
LT_NAME
);

3117 
zzcÚsumeTok’
(
zztok’Li¡
, ">");

3118 ià(
	gfŞDbg
 >ğ1è
´štf
(">");

3119 
	gzzfÜmuÏSŒ
.
­³nd
(" >");

3120 
zzcÚsumeTok’
(
zztok’Li¡
, "=");

3121 ià(
	gfŞDbg
 >ğ1è
´štf
("= ");

3122 ià(
	gfŞDbg
 >ğ2è
´štf
("atomic_sentence (right):erm\n");

3123 
	gzzfÜmuÏSŒ
.
­³nd
("= ");

3124 
	gzzšfixP»dName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
GTEQ_NAME
)

3126 
¡rıy
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
GTEQ_NAME
);

3138 
zzcÚsumeTok’
(
zztok’Li¡
, "<");

3139 ià(
	gfŞDbg
 >ğ1è
´štf
("<");

3140 
	gzzfÜmuÏSŒ
.
­³nd
(" <");

3141 
zzcÚsumeTok’
(
zztok’Li¡
, "=");

3142 ià(
	gfŞDbg
 >ğ1è
´štf
("= ");

3143 ià(
	gfŞDbg
 >ğ2è
´štf
("atomic_sentence (right):erm\n");

3144 
	gzzfÜmuÏSŒ
.
­³nd
("= ");

3145 
	gzzšfixP»dName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
LTEQ_NAME
)

3147 
¡rıy
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
LTEQ_NAME
);

3159 
zzcÚsumeTok’
(
zztok’Li¡
, "=");

3160 ià(
	gfŞDbg
 >ğ1è
´štf
("= ");

3161 ià(
	gfŞDbg
 >ğ2è
´štf
("atomic_sentence (right):erm\n");

3162 
	gzzfÜmuÏSŒ
.
­³nd
(" = ");

3163 
	gzzšfixP»dName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
EQUAL_NAME
)

3165 
¡rıy
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
EQUAL_NAME
);

3166 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	gt
 = 
zzdomaš
->
g‘Equ®P»diÿ‹Tem¶©e
();

3167 
	gzz´ed
->
£tTem¶©e
((
P»diÿ‹Tem¶©e
*)
t
);

3176 
zzcÚsumeTok’
(
zztok’Li¡
, "!");

3177 
zzcÚsumeTok’
(
zztok’Li¡
, "=");

3178 ià(
	gfŞDbg
 >ğ1è
´štf
("!= ");

3179 ià(
	gfŞDbg
 >ğ2è
´štf
("atomic_sentence (right):erm\n");

3180 
	gzzfÜmuÏSŒ
.
­³nd
(" != ");

3181 
	gzzšfixP»dName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
EQUAL_NAME
)

3183 
¡rıy
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
EQUAL_NAME
);

3184 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	gt
 = 
zzdomaš
->
g‘Equ®P»diÿ‹Tem¶©e
();

3185 
	gzz´ed
->
£tTem¶©e
((
P»diÿ‹Tem¶©e
*)
t
);

3187 ià(
	gzz´ed
->
g‘S’£
())

3189 
	gzz´ed
->
£tS’£
(
çl£
);

3190 
	gzzisNeg©ed
 = 
Œue
;

3192 { 
	gzz´ed
->
£tS’£
(
Œue
); }

3201 
zzcÚsumeTok’
(
zztok’Li¡
, "*");

3202 ià(
	gfŞDbg
 >ğ1è
´štf
("* ");

3203 ià(
	gzzisNeg©ed
è
zz”r
("'!'‡nd '*' cannot be used‡the sameime");

3204 
	gzznumA¡”isk
++;

3205 
zzas£¹
(!
zzisA¡”isk
,"expecting !zzisAsterisk");

3206 
	gzzisA¡”isk
 = 
Œue
;

3207 
	gzzfÜmuÏSŒ
.
­³nd
("*");

3216 
zzcÚsumeTok’
(
zztok’Li¡
, ",");

3217 ià(
	gfŞDbg
 >ğ1è
´štf
(", ");

3218 ià(
	gfŞDbg
 >ğ2è
´štf
("terms:erm\n");

3220 ià(
	gzzfunc
 =ğ
NULL
è
zzfÜmuÏSŒ
.
­³nd
(",");

3230 ià(
zz´ed
 && zz´ed->
isEm±yP»d
() &&

3231 
zz´ed
->
g‘NumT”ms
(è=ğ1 && 
zzšfixP»dName
)

3233 
Li¡Obj
* 
´edlo
 = 
zz´edFuncLi¡Objs
.
tİ
();

3234 
	g´edlo
->
»¶aû
(
P»diÿ‹Tem¶©e
::
EMPTY_NAME
, 
zzšfixP»dName
);

3237 
	glTy³Id
 = 
zzg‘Ty³Id
(
zz´ed
->
g‘T”m
(0), (*
´edlo
)[1]->
g‘SŒ
());

3238 ià(
	glTy³Id
>0)

3240 ià(
¡rcmp
(
zzšfixP»dName
, 
P»diÿ‹Tem¶©e
::
EQUAL_NAME
)==0)

3242 
zz£tEqP»dTy³Name
(
lTy³Id
);

3246 
zz£tIÁ”ÇlP»dTy³Name
(
zzšfixP»dName
, 
lTy³Id
);

3258 cÚ¡ * 
cÚ¡Name
 = 
zztok’Li¡
.
»moveLa¡
();

3259 ià(
	gfŞDbg
 >ğ1è
´štf
("c2_% ", 
cÚ¡Name
);

3260 
zz‹rmIsCÚ¡ªt
(
cÚ¡Name
, cÚ¡Name, 
Œue
);

3261 ià(
	gzzfunc
è
	gzzfdfuncCÚ¡ªts
.
­³nd
(
¡ršg
(
cÚ¡Name
));

3262 
	gzzfdcÚ¡Name
 = 
cÚ¡Name
;

3263 
	gd–‘e
 [] 
	gcÚ¡Name
;

3272 cÚ¡ * 
cÚ¡Name
 = 
zztok’Li¡
.
»moveLa¡
();

3273 ià(
	gfŞDbg
 >ğ1è
´štf
("c2_% ", 
cÚ¡Name
);

3274 ià(
	gzzcÚ¡ªtMu¡BeDeş¬ed
)

3275 
zz”r
("CÚ¡ªˆ% mu¡ bdeş¬ed befÜ™ i u£d", 
cÚ¡Name
);

3276 
zz‹rmIsCÚ¡ªt
(
cÚ¡Name
, cÚ¡Name, 
Œue
);

3277 ià(
	gzzfunc
è
	gzzfdfuncCÚ¡ªts
.
­³nd
(
¡ršg
(
cÚ¡Name
));

3278 
	gzzfdcÚ¡Name
 = 
cÚ¡Name
;

3279 
	gd–‘e
 [] 
	gcÚ¡Name
;

3288 cÚ¡ * 
štSŒ
 = 
zztok’Li¡
.
»moveLa¡
();

3289 ià(
	gfŞDbg
 >ğ1è
´štf
("c3_% ", 
štSŒ
);

3291 
	gcÚ¡Name
[100];

3292 
zzü—‹AndCheckNumCÚ¡ªt
(
štSŒ
, 
zzfunc
, 
zz´ed
, 
zzdomaš
, 
cÚ¡Name
);

3293 ià(
	gcÚ¡Name
 =ğ
NULL
è{ ; 
	gd–‘e
 [] 
	gštSŒ
; }

3295 
zz‹rmIsCÚ¡ªt
(
cÚ¡Name
, 
štSŒ
, 
Œue
);

3296 ià(
	gzzfunc
è
	gzzfdfuncCÚ¡ªts
.
­³nd
(
¡ršg
(
cÚ¡Name
));

3297 
	gzzfdcÚ¡Name
 = 
cÚ¡Name
;

3298 
	gd–‘e
 [] 
	gštSŒ
;

3307 
zz‹rmIsV¬ŸbË
(
fŞDbg
);

3308 ià(
	gzzisPlus
èzzisPlu ğ
çl£
;

3317 
zzcÚsumeTok’
(
zztok’Li¡
, "+");

3318 ià(
	gfŞDbg
 >ğ1è
´štf
("+ ");

3319 
zzas£¹
(!
zzisPlus
,"expecting !zzisPlus");

3320 
	gzzisPlus
 = 
Œue
;

3321 
	gzzfÜmuÏSŒ
.
­³nd
("+");

3322 
zz‹rmIsV¬ŸbË
(
fŞDbg
);

3323 ià(
	gzzisPlus
èzzisPlu ğ
çl£
;

3332 
zzas£¹
(
zzfunc
 !ğ
NULL
,"expecting zzfunc != NULL");

3333 
zzcheckFuncNumT”m
(
zzfunc
);

3334 
zzas£¹
(
zz´ed
 !ğ
NULL
, "expecting zzpred != NULL");

3342 * 
	gv¬Name
;

3343 
¡ršg
 
	gÃwV¬Name
;

3346 
	gZZFuncToFuncV¬M­
::
™”©Ü
 
m™
;

3347 ià((
	gm™
 = 
zzfuncToFuncV¬M­
.
fšd
(
zzfunc
)è!ğzzfuncToFuncV¬M­.
’d
())

3349 
ÃwV¬Name
 = (*
m™
).
£cÚd
;

3350 
	gv¬Name
 = (*)
m®loc
((
¡¾’
(
ÃwV¬Name
.
c_¡r
()) + 1) * ());

3351 
¡rıy
(
v¬Name
, 
ÃwV¬Name
.
c_¡r
());

3355 
	gfuncV¬CouÁ”SŒšg
[10];

3356 
	gfuncV¬CouÁ”L’gth
 =

3357 
¥rštf
(
funcV¬CouÁ”SŒšg
, "%d", 
zzfuncV¬CouÁ”
);

3358 
	gv¬Name
 = (*)
m®loc
((
¡¾’
(
ZZ_FUNCVAR_PREFIX
) +

3359 
funcV¬CouÁ”L’gth
 + 1)*());

3360 
¡rıy
(
v¬Name
, 
ZZ_FUNCVAR_PREFIX
);

3361 
¡rÿt
(
v¬Name
, 
funcV¬CouÁ”SŒšg
);

3362 ++
	gzzfdnumV¬s
;

3363 ++
	gzzfuncV¬CouÁ”
;

3364 
	gÃwV¬Name
 = 
zzg‘NewV¬Name
(
v¬Name
);

3366 
FunùiÚ
* 
	gfunc
 = 
Ãw
 FunùiÚ(*
zzfunc
);

3367 
	gzzfuncToFuncV¬M­
[
func
] = 
ÃwV¬Name
;

3370 
boŞ
 
	grightNumT”ms
 = 
Œue
;

3371 
boŞ
 
	grightTy³
 = 
Œue
;

3372 
	gexp
, 
	guÃxp
;

3376 * 
	g´edName
;

3377 
	g´edName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
) +

3378 
¡¾’
(
zzfunc
->
g‘Name
()) + 1)*());

3379 
¡rıy
(
´edName
, 
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
);

3380 
¡rÿt
(
´edName
, 
zzfunc
->
g‘Name
());

3383 ià(
	gzzdomaš
->
g‘P»diÿ‹Id
(
´edName
) < 0)

3385 
zzas£¹
(
zz´edTem¶©e
==
NULL
,"expecting zzpredTemplate==NULL");

3386 
	gzz´edTem¶©e
 = 
Ãw
 
P»diÿ‹Tem¶©e
();

3387 
	gzz´edTem¶©e
->
£tName
(
´edName
);

3391 cÚ¡ * 
	g‰y³
 = 
zzfunc
->
g‘R‘Ty³Name
();

3392 
zzaddTy³
(
‰y³
, 
zz´edTem¶©e
, 
NULL
, 
çl£
, 
zzdomaš
);

3395 
	gi
 = 0; i < 
	gzzfunc
->
g‘NumT”ms
(); i++)

3397 cÚ¡ * 
	g‰y³
 = 
zzfunc
->
g‘T”mTy³AsSŒ
(
i
);

3398 
zzaddTy³
(
‰y³
, 
zz´edTem¶©e
, 
NULL
, 
çl£
, 
zzdomaš
);

3401 
zzas£¹
(
zz´edTem¶©e
, "notƒxpecting zzpredTemplate==NULL");

3402 
	gid
 = 
zzdomaš
->
addP»diÿ‹Tem¶©e
(
zz´edTem¶©e
);

3403 
zzas£¹
(
id
 >= 0, "expecting…redemplate id >= 0");

3404 
	gzz´edTem¶©e
->
£tId
(
id
);

3405 
	gzz´edTem¶©e
 = 
NULL
;

3408 
P»diÿ‹
* 
	g´evP»d
 = 
zz´ed
;

3409 
	gzz´ed
 = 
NULL
;

3410 
	gzzfdnumP»ds
++;

3411 
zzü—‹P»d
(
zz´ed
, 
´edName
);

3413 
Li¡Obj
* 
	g´edlo
 = 
Ãw
 ListObj;

3414 
	g´edlo
->
­³nd
(
´edName
);

3417 
	gzzfuncCÚjSck
.
push
(
´edlo
);

3419 
	gzzfuncCÚjSŒ
.
­³nd
(" v !");

3420 
	gzzfuncCÚjSŒ
.
­³nd
(
´edName
);

3421 
	gzzfuncCÚjSŒ
.
­³nd
("(");

3422 
zzputV¬ŸbËInP»d
(
v¬Name
, 
fŞDbg
);

3423 
	gzzfuncCÚjSck
.
tİ
()->
­³nd
(
v¬Name
);

3424 
	gzzfuncCÚjSŒ
.
­³nd
(
v¬Name
);

3427 
	gi
 = 0; i < 
	gzzfunc
->
g‘NumT”ms
(); i++)

3429 
	gzzfuncCÚjSŒ
.
­³nd
(", ");

3430 
T”m
* 
	g‹rm
 = 
Ãw
 T”m(*
zzfunc
->
g‘T”m
(
i
));

3431 
	gzz´ed
->
­³ndT”m
(
‹rm
);

3433 cÚ¡ * 
	gÇme
;

3434 ià(
	g‹rm
->
g‘Ty³
(è=ğ
T”m
::
VARIABLE
)

3436 
Çme
 = (*
zz´edFuncLi¡Objs
.
tİ
())[
i
+1]->
g‘SŒ
();

3438 ià(
	g‹rm
->
g‘Ty³
(è=ğ
T”m
::
CONSTANT
)

3440 
Çme
 = 
zzdomaš
->
g‘CÚ¡ªtName
(
‹rm
->
g‘Id
());

3442 
	gzz´edFuncLi¡Objs
.
tİ
()->
­³nd
(
Çme
);

3443 
	gzzfuncCÚjSck
.
tİ
()->
­³nd
(
Çme
);

3444 
	gzzfuncCÚjSŒ
.
­³nd
(
Çme
);

3446 
	gzzfuncCÚjSŒ
.
­³nd
(")");

3447 
zzü—‹Li¡ObjFromTİ
(
zzfuncCÚjSck
, "!");

3450 ià(!
	gzzfuncSck
.
em±y
())

3452 
FunùiÚ
* 
	g´evFunc
 = 
zzfuncSck
.
tİ
();

3453 
	gzzfuncSck
.
pİ
();

3456 ià((
	guÃxp
 = 
´evFunc
->
g‘NumT”ms
()) ==

3457 (
exp
 = 
´evFunc
->
g‘Tem¶©e
()->
g‘NumT”ms
()))

3459 
rightNumT”ms
 = 
çl£
;

3460 
zz”r
("Wrong‚umber oferms for function %s. "

3461 "Ex³ùed %d buˆgiv’ %d", 
´evFunc
->
g‘Name
(), 
exp
, 
uÃxp
+1);

3464 
	gv¬Id
 = -1;

3465 ià(
	grightNumT”ms
)

3468 
	gty³Id
 = 
´evFunc
->
g‘T”mTy³AsIÁ
Õ»vFunc->
g‘NumT”ms
());

3469 
	grightTy³
 = 
zzcheckRightTy³AndG‘V¬Id
(
ty³Id
, 
ÃwV¬Name
.
c_¡r
(),

3470 
v¬Id
);

3473 ià(
	grightNumT”ms
 && 
	grightTy³
)

3475 
	g´evFunc
->
­³ndT”m
(
Ãw
 
T”m
(
v¬Id
, (*)
´evFunc
, 
çl£
));

3476 
	gzz´edFuncLi¡Objs
.
pİ
();

3477 
	gzz´edFuncLi¡Objs
.
tİ
()->
­³nd
(
ÃwV¬Name
.
c_¡r
());

3480 
	gzzfunc
 = 
´evFunc
;

3485 ià((
	guÃxp
 = 
´evP»d
->
g‘NumT”ms
()) ==

3486 (
exp
 = 
´evP»d
->
g‘Tem¶©e
()->
g‘NumT”ms
()))

3488 
rightNumT”ms
 = 
çl£
;

3489 
zz”r
("Wrong‚umber oferms for…redicate %s. "

3490 "Ex³ùed %d buˆgiv’ %d", 
´evP»d
->
g‘Name
(), 
exp
, 
uÃxp
+1);

3493 
	gv¬Id
 = -1;

3494 ià(
	grightNumT”ms
)

3497 
	gty³Id
 = 
´evP»d
->
g‘T”mTy³AsIÁ
Õ»vP»d->
g‘NumT”ms
());

3498 
	grightTy³
 = 
zzcheckRightTy³AndG‘V¬Id
(
ty³Id
, 
ÃwV¬Name
.
c_¡r
(),

3499 
v¬Id
);

3502 ià(
	grightNumT”ms
 && 
	grightTy³
)

3504 
	g´evP»d
->
­³ndT”m
(
Ãw
 
T”m
(
v¬Id
, (*)
´evP»d
, 
Œue
));

3507 
	gzzŞdFuncLo
 = 
zz´edFuncLi¡Objs
.
tİ
();

3508 
	gzz´edFuncLi¡Objs
.
pİ
();

3509 
	gzz´edFuncLi¡Objs
.
tİ
()->
­³nd
(
ÃwV¬Name
.
c_¡r
());

3510 
	gzzfÜmuÏSŒ
.
­³nd
(
v¬Name
);

3512 
	gzzfunc
 = 
NULL
;

3515 
ä“
(
v¬Name
);

3516 
ä“
(
´edName
);

3519 
d–‘e
 
	gzz´ed
;

3520 
	gzz´ed
 = 
´evP»d
;

3529 cÚ¡ * 
funcName
 = 
zztok’Li¡
.
»moveLa¡
();

3530 ià(
	gfŞDbg
 >ğ1è
´štf
("f_% ", 
funcName
);

3531 ià(
	gzzfunc
 !ğ
NULL
è{ 
zzfuncSck
.
push
(
zzfunc
); zzfunc = NULL; }

3532 ++
	gzzfdnumFuncs
;

3533 
	gzzfdfuncName
 = 
funcName
;

3535 
Li¡Obj
* 
	gfunşo
 = 
Ãw
 ListObj;

3538 ià(
	gFunùiÚTem¶©e
::
isIÁ”ÇlFunùiÚTem¶©eName
(
funcName
))

3540 
zzšfixFuncName
 = (*)
m®loc
((
¡¾’
(
funcName
)

3542 
¡rıy
(
zzšfixFuncName
, 
funcName
);

3543 cÚ¡ 
FunùiÚTem¶©e
* 
	gt
;

3544 ià(
	gFunùiÚTem¶©e
::
isIÁ”ÇlFunùiÚUÇryTem¶©eName
(
funcName
))

3545 
t
 = 
zzdomaš
->
g‘Em±yFunùiÚUÇryTem¶©e
();

3547 
	gt
 = 
zzdomaš
->
g‘Em±yFunùiÚBš¬yTem¶©e
();

3548 
zzas£¹
(
zzfunc
 =ğ
NULL
,"expecting zzfunc==NULL");

3549 
	gzzfunc
 = 
Ãw
 
FunùiÚ
(
t
);

3550 
	gfunşo
->
­³nd
(
FunùiÚTem¶©e
::
EMPTY_FTEMPLATE_NAME
);

3554 
zzü—‹Func
(
zzfunc
, 
funcName
);

3555 
	gfunşo
->
­³nd
(
funcName
);

3558 
	gzz´edFuncLi¡Objs
.
push
(
funşo
);

3561 
	gd–‘e
 [] 
	gfuncName
;

3570 
zzcÚsumeTok’
(
zztok’Li¡
, "(");

3571 ià(
	gfŞDbg
 >ğ1è
´štf
("( ");

3572 ià(
	gfŞDbg
 >ğ2è
´štf
("term:erms\n");

3582 ià(
zzšfixFuncName
)

3584 
Li¡Obj
* 
funşo
 = 
zz´edFuncLi¡Objs
.
tİ
();

3585 
	gfunşo
->
»¶aû
(
FunùiÚTem¶©e
::
EMPTY_FTEMPLATE_NAME
, 
zzšfixFuncName
);

3586 cÚ¡ 
FunùiÚTem¶©e
* 
	gt
 =

3587 
zzg‘G’”icIÁ”ÇlFunùiÚTem¶©e
(
zzšfixFuncName
);

3589 ià(
	gzz´ed
)

3591 ((
	gFunùiÚTem¶©e
*)
	gt
)->
£tR‘Ty³Id
(

3592 
zz´ed
->
g‘T”mTy³AsIÁ
(zz´ed->
g‘NumT”ms
()), 
zzdomaš
);

3594 
	gzzfunc
->
£tTem¶©e
((
FunùiÚTem¶©e
*)
t
);

3597 
boŞ
 
	gunknownTy³s
 = 
çl£
;

3600 
	gA¼ay
<> 
ty³Ids
(
zzfunc
->
g‘NumT”ms
() + 1);

3601 
	gty³Ids
.
­³nd
(
zzfunc
->
g‘R‘Ty³Id
());

3602 ià(
	gty³Ids
[0] <ğ0è
unknownTy³s
 = 
Œue
;

3605 
	gi
 = 1; i <ğ
zzfunc
->
g‘NumT”ms
(); i++)

3607 
	gty³Ids
.
­³nd
(
zzg‘Ty³Id
(
zzfunc
->
g‘T”m
(
i
-1), (*
funşo
)[i]->
g‘SŒ
()));

3608 ià(
	gty³Ids
[
i
] <ğ0è
unknownTy³s
 = 
Œue
;

3612 ià(!
	gunknownTy³s
)

3614 
zz£tIÁ”ÇlFuncTy³Name
(
zzšfixFuncName
, 
ty³Ids
);

3618 
	gA¼ay
<
	g¡ršg
> 
v¬Names
(
ty³Ids
.
size
());

3620 * 
	gv¬Name
;

3621 
	gfuncV¬CouÁ”SŒšg
[10];

3622 
	gfuncV¬CouÁ”L’gth
 =

3623 
¥rštf
(
funcV¬CouÁ”SŒšg
, "%d", 
zzfuncV¬CouÁ”
);

3624 
	gv¬Name
 = (*)
m®loc
((
¡¾’
(
ZZ_FUNCVAR_PREFIX
) +

3625 
funcV¬CouÁ”L’gth
 + 1)*());

3626 
¡rıy
(
v¬Name
, 
ZZ_FUNCVAR_PREFIX
);

3627 
¡rÿt
(
v¬Name
, 
funcV¬CouÁ”SŒšg
);

3628 
¡ršg
 
	gÃwV¬Name
 = 
zzg‘NewV¬Name
(
v¬Name
);

3630 
	gv¬Names
.
­³nd
(
ÃwV¬Name
);

3632 
	gi
 = 1; i < 
	gty³Ids
.
size
(); i++)

3633 
	gv¬Names
[
i
] = (*
funşo
)[i]->
g‘SŒ
();

3636 * 
	g´edName
;

3637 
	g´edName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
) +

3638 
¡¾’
(
zzfunc
->
g‘Name
()) + 1)*());

3639 
¡rıy
(
´edName
, 
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
);

3640 
¡rÿt
(
´edName
, 
zzšfixFuncName
);

3642 
¡ršg
 
	gunknownIÁFuncName
 =

3643 
zz­³ndW™hUnd”scÜe
(
´edName
, 
zzštFuncTy³CouÁ”
++);

3644 
	gzzštFuncLi¡
.
push_back
(
ZZUnknownIÁFuncInfo
(
unknownIÁFuncName
, 
v¬Names
));

3646 
ä“
(
´edName
);

3647 
ä“
(
v¬Name
);

3649 
ä“
(
zzšfixFuncName
);

3650 
	gzzšfixFuncName
 = 
NULL
;

3653 
zzcÚsumeTok’
(
zztok’Li¡
, ")");

3654 ià(
	gfŞDbg
 >ğ1è
´štf
(") ");

3664 ià(
zzfunc
 !ğ
NULL
è{ 
zzfuncSck
.
push
(zzfunc); 
	gzzfunc
 = NULL; }

3665 ++
	gzzfdnumFuncs
;

3666 
	gzzfdfuncName
 = 
zzšfixFuncName
;

3667 cÚ¡ 
FunùiÚTem¶©e
* 
	gt
 =

3668 
zzg‘G’”icIÁ”ÇlFunùiÚTem¶©e
(
zzšfixFuncName
);

3669 
	gzzfunc
 = 
Ãw
 
FunùiÚ
(
t
);

3672 ià(
	gzz´ed
)

3673 ((
	gFunùiÚTem¶©e
*)
	gt
)->
£tR‘Ty³Id
(

3674 
zz´ed
->
g‘T”mTy³AsIÁ
(zz´ed->
g‘NumT”ms
(è- 1), 
zzdomaš
);

3676 
Li¡Obj
* 
	gfunşo
 = 
Ãw
 ListObj;

3677 
	gfunşo
->
­³nd
(
zzfdfuncName
.
c_¡r
());

3678 
	gzz´edFuncLi¡Objs
.
push
(
funşo
);

3682 
moveT”mToInfixFunùiÚ
();

3691 
Li¡Obj
* 
funşo
 = 
zz´edFuncLi¡Objs
.
tİ
();

3694 
boŞ
 
	gunknownTy³s
 = 
çl£
;

3697 
	gA¼ay
<> 
ty³Ids
(
zzfunc
->
g‘NumT”ms
() + 1);

3698 
	gty³Ids
.
­³nd
(
zzfunc
->
g‘R‘Ty³Id
());

3699 ià(
	gty³Ids
[0] <ğ0è
unknownTy³s
 = 
Œue
;

3702 
	gi
 = 1; i <ğ
zzfunc
->
g‘NumT”ms
(); i++)

3704 
	gty³Ids
.
­³nd
(
zzg‘Ty³Id
(
zzfunc
->
g‘T”m
(
i
-1), (*
funşo
)[i]->
g‘SŒ
()));

3705 ià(
	gty³Ids
[
i
] <ğ0è
unknownTy³s
 = 
Œue
;

3709 ià(!
	gunknownTy³s
)

3711 
zz£tIÁ”ÇlFuncTy³Name
(
zzšfixFuncName
, 
ty³Ids
);

3715 
	gA¼ay
<
	g¡ršg
> 
v¬Names
(
ty³Ids
.
size
());

3717 * 
	gv¬Name
;

3718 
	gfuncV¬CouÁ”SŒšg
[10];

3719 
	gfuncV¬CouÁ”L’gth
 =

3720 
¥rštf
(
funcV¬CouÁ”SŒšg
, "%d", 
zzfuncV¬CouÁ”
);

3721 
	gv¬Name
 = (*)
m®loc
((
¡¾’
(
ZZ_FUNCVAR_PREFIX
) +

3722 
funcV¬CouÁ”L’gth
 + 1)*());

3723 
¡rıy
(
v¬Name
, 
ZZ_FUNCVAR_PREFIX
);

3724 
¡rÿt
(
v¬Name
, 
funcV¬CouÁ”SŒšg
);

3725 
¡ršg
 
	gÃwV¬Name
 = 
zzg‘NewV¬Name
(
v¬Name
);

3727 
	gv¬Names
.
­³nd
(
ÃwV¬Name
);

3729 
	gi
 = 1; i < 
	gty³Ids
.
size
(); i++)

3730 
	gv¬Names
[
i
] = (*
funşo
)[i]->
g‘SŒ
();

3732 * 
	g´edName
;

3733 
	g´edName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
) +

3734 
¡¾’
(
zzfunc
->
g‘Name
()) + 1)*());

3735 
¡rıy
(
´edName
, 
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
);

3736 
¡rÿt
(
´edName
, 
zzšfixFuncName
);

3738 
¡ršg
 
	gunknownIÁFuncName
 =

3739 
zz­³ndW™hUnd”scÜe
(
´edName
, 
zzštFuncTy³CouÁ”
++);

3740 
	gzzštFuncLi¡
.
push_back
(
ZZUnknownIÁFuncInfo
(
unknownIÁFuncName
, 
v¬Names
));

3742 
ä“
(
´edName
);

3743 
ä“
(
v¬Name
);

3745 
ä“
(
zzšfixFuncName
);

3746 
	gzzšfixFuncName
 = 
NULL
;

3755 
zzcÚsumeTok’
(
zztok’Li¡
, "+");

3756 ià(
	gfŞDbg
 >ğ1è
´štf
("+ ");

3757 
	gzzšfixFuncName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
PLUS_NAME
)

3759 
¡rıy
(
zzšfixFuncName
, 
P»diÿ‹Tem¶©e
::
PLUS_NAME
);

3768 
zzcÚsumeTok’
(
zztok’Li¡
, "-");

3769 ià(
	gfŞDbg
 >ğ1è
´štf
("- ");

3770 
	gzzšfixFuncName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
MINUS_NAME
)

3772 
¡rıy
(
zzšfixFuncName
, 
P»diÿ‹Tem¶©e
::
MINUS_NAME
);

3781 
zzcÚsumeTok’
(
zztok’Li¡
, "*");

3782 ià(
	gfŞDbg
 >ğ1è
´štf
("* ");

3783 
	gzzšfixFuncName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
TIMES_NAME
)

3785 
¡rıy
(
zzšfixFuncName
, 
P»diÿ‹Tem¶©e
::
TIMES_NAME
);

3794 
zzcÚsumeTok’
(
zztok’Li¡
, "/");

3795 ià(
	gfŞDbg
 >ğ1è
´štf
("/ ");

3796 
	gzzšfixFuncName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
DIVIDEDBY_NAME
)

3798 
¡rıy
(
zzšfixFuncName
, 
P»diÿ‹Tem¶©e
::
DIVIDEDBY_NAME
);

3807 
zzcÚsumeTok’
(
zztok’Li¡
, "%");

3808 ià(
	gfŞDbg
 >ğ1è
´štf
("%% ");

3809 
	gzzšfixFuncName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
MOD_NAME
)

3811 
¡rıy
(
zzšfixFuncName
, 
P»diÿ‹Tem¶©e
::
MOD_NAME
);

3821 
zzcÚsumeTok’
(
zztok’Li¡
,"[");

3822 ià(
	gfŞDbg
 >ğ1è
´štf
("[ ");

3823 ià(
	gfŞDbg
 >ğ2è
´štf
("numeric_term: '['‚umeric_term\n");

3824 
	gzzfÜmuÏSŒ
.
­³nd
("[");

3833 
zzcÚsumeTok’
(
zztok’Li¡
,"]");

3834 ià(
	gfŞDbg
 >ğ1è
´štf
("] ");

3835 
	gzzfÜmuÏSŒ
.
­³nd
("]");

3844 
zzcÚsumeTok’
(
zztok’Li¡
,"(");

3845 ià(
	gfŞDbg
 >ğ1è
´štf
("( ");

3846 ià(
	gfŞDbg
 >ğ2è
´štf
("numeric_term: '('‚umeric_term\n");

3847 
	gzzfÜmuÏSŒ
.
­³nd
("(");

3856 
zzcÚsumeTok’
(
zztok’Li¡
,")");

3857 ià(
	gfŞDbg
 >ğ1è
´štf
(") ");

3858 
	gzzfÜmuÏSŒ
.
­³nd
(")");

3867 cÚ¡ * 
´edName
 = 
zztok’Li¡
.
»moveLa¡
();

3868 ià(
	gfŞDbg
 >ğ1è
´štf
("p_% ", 
´edName
);

3870 
Li¡Obj
* 
	g´edlo
 = 
Ãw
 ListObj;

3872 ià(
	gP»diÿ‹Tem¶©e
::
isIÁ”ÇlP»diÿ‹Tem¶©eName
(
´edName
))

3875 
zzšfixP»dName
 = (*)
m®loc
((
¡¾’
(
´edName
)

3877 
¡rıy
(
zzšfixP»dName
, 
´edName
);

3878 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	gt
 = 
zzdomaš
->
g‘Em±yP»diÿ‹Tem¶©e
();

3879 
zzas£¹
(
zz´ed
 =ğ
NULL
,"expecting zzpred==NULL");

3880 
	gzz´ed
 = 
Ãw
 
P»diÿ‹
(
t
);

3881 
	g´edlo
->
­³nd
(
P»diÿ‹Tem¶©e
::
EMPTY_NAME
);

3885 
zzü—‹P»d
(
zz´ed
, 
´edName
);

3886 
	g´edlo
->
­³nd
(
´edName
);

3889 
	gzzfÜmuÏSŒ
.
­³nd
(
´edName
);

3890 if(
	gzzisNeg©ed
è{ 
	gzz´ed
->
£tS’£
(
çl£
); zzisNegated = false; }

3891 
	gzzcÚtP»d
 = 
´edlo
;

3892 
	gd–‘e
 [] 
	g´edName
;

3901 
zzcÚsumeTok’
(
zztok’Li¡
,"=");

3902 ià(
	gfŞDbg
 >ğ1è
´štf
("= ");

3903 
	gzzfÜmuÏSŒ
.
­³nd
(" = ");

3913 cÚ¡ * 
tmp
 = 
zztok’Li¡
.
»moveLa¡
();

3917 
	gzzfÜmuÏSŒ
.
­³nd
(
tmp
);

3918 ià(
	gzzisHybrid
è
	gzzm—n
 = 
©of
(
tmp
);

3919 ià(
	gfŞDbg
 >ğ1è
´štf
("iúum_% ", 
tmp
);

3920 
	gd–‘e
 []
	gtmp
;

3929 
zzcÚsumeTok’
(
zztok’Li¡
,"-");

3930 ià(
	gfŞDbg
 >ğ1è
´štf
("-");

3931 
	gzzfÜmuÏSŒ
.
­³nd
("-");

3940 
zzcÚsumeTok’
(
zztok’Li¡
,"(");

3941 ià(
	gfŞDbg
 >ğ1è
´štf
("(");

3942 
	gzzfÜmuÏSŒ
.
­³nd
("(");

3951 cÚ¡ * 
´edName
 = 
zztok’Li¡
.
»moveLa¡
();

3952 ià(
	gfŞDbg
 >ğ1è
´štf
("p_% ", 
´edName
);

3954 
Li¡Obj
* 
	g´edlo
 = 
Ãw
 ListObj;

3956 ià(
	gP»diÿ‹Tem¶©e
::
isIÁ”ÇlP»diÿ‹Tem¶©eName
(
´edName
))

3959 
zzšfixP»dName
 = (*)
m®loc
((
¡¾’
(
´edName
)

3961 
¡rıy
(
zzšfixP»dName
, 
´edName
);

3962 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	gt
 = 
zzdomaš
->
g‘Em±yP»diÿ‹Tem¶©e
();

3963 
zzas£¹
(
zz´ed
 =ğ
NULL
,"expecting zzpred==NULL");

3964 
	gzz´ed
 = 
Ãw
 
P»diÿ‹
(
t
);

3965 
	g´edlo
->
­³nd
(
P»diÿ‹Tem¶©e
::
EMPTY_NAME
);

3969 
zzü—‹P»d
(
zz´ed
, 
´edName
);

3970 
	g´edlo
->
­³nd
(
´edName
);

3973 
	gzzfÜmuÏSŒ
.
­³nd
(
´edName
);

3974 if(
	gzzisNeg©ed
è{ 
	gzz´ed
->
£tS’£
(
çl£
); zzisNegated = false; }

3975 
	gzzcÚtP»d
 = 
´edlo
;

3976 
	gd–‘e
 [] 
	g´edName
;

3985 
zzcÚsumeTok’
(
zztok’Li¡
,"-");

3986 ià(
	gfŞDbg
 >ğ1è
´štf
("- ");

3987 
	gzzfÜmuÏSŒ
.
­³nd
(" - ");

3996 cÚ¡ * 
tmp
 = 
zztok’Li¡
.
»moveLa¡
();

4000 
	gzzfÜmuÏSŒ
.
­³nd
(
tmp
);

4001 ià(
	gzzisHybrid
è
	gzzm—n
 = 
©of
(
tmp
);

4002 ià(
	gfŞDbg
 >ğ1è
´štf
("iúum_% ", 
tmp
);

4003 
	gd–‘e
 []
	gtmp
;

4012 
zzcÚsumeTok’
(
zztok’Li¡
,")");

4013 ià(
	gfŞDbg
 >ğ1è
´štf
(")");

4014 
	gzzfÜmuÏSŒ
.
­³nd
(")");

4023 
zzcÚsumeTok’
(
zztok’Li¡
,"^");

4024 ià(
	gfŞDbg
 >ğ1è
´štf
("^");

4025 
	gzzfÜmuÏSŒ
.
­³nd
("^");

4034 
zzcÚsumeTok’
(
zztok’Li¡
,"2");

4035 ià(
	gfŞDbg
 >ğ1è
´štf
("2");

4036 
	gzzfÜmuÏSŒ
.
­³nd
("2");

4055  
	gyyok
;

4056 #undeà
yy”rok


4057 #undeà
YYABORT


4058 #undeà
YYACCEPT


4059 #undeà
YYERROR


4060 #undeà
YYBACKUP


4061 #undeà
yyş—rš


4062 #undeà
YYRECOVERING


4067 
	$yyu£rM”ge
 (
yyn
, 
YYSTYPE
* 
yy0
, YYSTYPE* 
yy1
)

4069 
	`YYUSE
 (
yy0
);

4070 
	`YYUSE
 (
yy1
);

4072 
yyn
)

4077 
	}
}

4087 
	$yyde¡ruù
 (cÚ¡ *
yymsg
, 
yyty³
, 
YYSTYPE
 *
yyv®u•
)

4089 
	`YYUSE
 (
yyv®u•
);

4091 ià(!
yymsg
)

4092 
yymsg
 = "Deleting";

4093 
	`YY_SYMBOL_PRINT
 (
yymsg
, 
yyty³
, 
yyv®u•
, 
yyloÿtiÚp
);

4095 
yyty³
)

4101 
	}
}

4104 
šlše
 

4105 
	$yyrhsL’gth
 (
yyRuËNum
 
yyruË
)

4107  
yyr2
[
yyruË
];

4108 
	}
}

4111 
	$yyde¡royGLRS‹
 (cÚ¡ *
yymsg
, 
yyGLRS‹
 *
yys
)

4113 ià(
yys
->
yy»sŞved
)

4114 
	`yyde¡ruù
 (
yymsg
, 
yy¡os
[
yys
->
yyÌS‹
],

4115 &
yys
->
yy£mªtics
.
yysv®
);

4118 #ià
YYDEBUG


4119 ià(
yydebug
)

4121 ià(
yys
->
yy£mªtics
.
yyfœ¡V®
)

4122 
	`YYFPRINTF
 (
¡d”r
, "% uÄesŞved ", 
yymsg
);

4124 
	`YYFPRINTF
 (
¡d”r
, "% šcom¶‘", 
yymsg
);

4125 
	`yy_symbŞ_´št
 (
¡d”r
, 
yy¡os
[
yys
->
yyÌS‹
],

4126 
NULL
);

4127 
	`YYFPRINTF
 (
¡d”r
, "\n");

4131 ià(
yys
->
yy£mªtics
.
yyfœ¡V®
)

4133 
yySemªticO±iÚ
 *
yyİtiÚ
 = 
yys
->
yy£mªtics
.
yyfœ¡V®
;

4134 
yyGLRS‹
 *
yyrh
;

4135 
yyn
;

4136 
yyrh
 = 
yyİtiÚ
->
yy¡©e
, 
yyn
 = 
	`yyrhsL’gth
 (yyİtiÚ->
yyruË
);

4137 
yyn
 > 0;

4138 
yyrh
 = yyrh->
yy´ed
, 
yyn
 -= 1)

4139 
	`yyde¡royGLRS‹
 (
yymsg
, 
yyrh
);

4142 
	}
}

4145 
šlše
 
yySymbŞ


4146 
	$yylhsNÚ‹rm
 (
yyRuËNum
 
yyruË
)

4148  
yyr1
[
yyruË
];

4149 
	}
}

4151 
	#yy·ù_v®ue_is_deçuÉ
(
yy¡©e
) \

4152 ((
yy¡©e
è=ğ(-207))

	)

4156 
šlše
 
yyboŞ


4157 
	$yyisDeçuÉedS‹
 (
yyS‹Num
 
yy¡©e
)

4159  
	`yy·ù_v®ue_is_deçuÉ
 (
yy·ù
[
yy¡©e
]);

4160 
	}
}

4163 
šlše
 
yyRuËNum


4164 
	$yydeçuÉAùiÚ
 (
yyS‹Num
 
yy¡©e
)

4166  
yydeçù
[
yy¡©e
];

4167 
	}
}

4169 
	#yybË_v®ue_is_”rÜ
(
yybË_v®ue
) \

4170 
	`YYID
 (0)

	)

4180 
šlše
 

4181 
	$yyg‘LRAùiÚs
 (
yyS‹Num
 
yy¡©e
, 
yytok’
,

4182 * 
yyaùiÚ
, cÚ¡ ** 
yycÚæiùs
)

4184 
yyšdex
 = 
yy·ù
[
yy¡©e
] + 
yytok’
;

4185 ià(
	`yy·ù_v®ue_is_deçuÉ
 (
yy·ù
[
yy¡©e
])

4186 || 
yyšdex
 < 0 || 
YYLAST
 < yyšdex || 
yycheck
[yyšdex] !ğ
yytok’
)

4188 *
yyaùiÚ
 = -
yydeçù
[
yy¡©e
];

4189 *
yycÚæiùs
 = 
yycÚæ
;

4191 ià(! 
	`yybË_v®ue_is_”rÜ
 (
yybË
[
yyšdex
]))

4193 *
yyaùiÚ
 = 
yybË
[
yyšdex
];

4194 *
yycÚæiùs
 = 
yycÚæ
 + 
yycÚæp
[
yyšdex
];

4198 *
yyaùiÚ
 = 0;

4199 *
yycÚæiùs
 = 
yycÚæ
 + 
yycÚæp
[
yyšdex
];

4201 
	}
}

4203 
šlše
 
yyS‹Num


4204 
	$yyLRgÙoS‹
 (
yyS‹Num
 
yy¡©e
, 
yySymbŞ
 
yylhs
)

4206 
yyr
;

4207 
yyr
 = 
yypgÙo
[
yylhs
 - 
YYNTOKENS
] + 
yy¡©e
;

4208 ià(0 <ğ
yyr
 && yy¸<ğ
YYLAST
 && 
yycheck
[yyr] =ğ
yy¡©e
)

4209  
yybË
[
yyr
];

4211  
yydefgÙo
[
yylhs
 - 
YYNTOKENS
];

4212 
	}
}

4214 
šlše
 
yyboŞ


4215 
	$yyisShiáAùiÚ
 (
yyaùiÚ
)

4217  0 < 
yyaùiÚ
;

4218 
	}
}

4220 
šlše
 
yyboŞ


4221 
	$yyisE¼ÜAùiÚ
 (
yyaùiÚ
)

4223  
yyaùiÚ
 == 0;

4224 
	}
}

4232 
šlše
 
yyGLRSckI‹m
*

4233 
	$yyÃwGLRSckI‹m
 (
yyGLRSck
* 
yy¡ackp
, 
yyboŞ
 
yyisS‹
)

4235 
yyGLRSckI‹m
* 
yyÃwI‹m
 = 
yy¡ackp
->
yyÃxtF»e
;

4236 
yy¡ackp
->
yy¥aûLeá
 -= 1;

4237 
yy¡ackp
->
yyÃxtF»e
 += 1;

4238 
yyÃwI‹m
->
yy¡©e
.
yyisS‹
 = yyisState;

4239  
yyÃwI‹m
;

4240 
	}
}

4247 
	$yyaddDeã¼edAùiÚ
 (
yyGLRSck
* 
yy¡ackp
, 
size_t
 
yyk
, 
yyGLRS‹
* 
yy¡©e
,

4248 
yyGLRS‹
* 
rhs
, 
yyRuËNum
 
yyruË
)

4250 
yySemªticO±iÚ
* 
yyÃwO±iÚ
 =

4251 &
	`yyÃwGLRSckI‹m
 (
yy¡ackp
, 
yyçl£
)->
yyİtiÚ
;

4252 
yyÃwO±iÚ
->
yy¡©e
 = 
rhs
;

4253 
yyÃwO±iÚ
->
yyruË
 = yyrule;

4254 ià(
yy¡ackp
->
yytİs
.
yylookah—dN“ds
[
yyk
])

4256 
yyÃwO±iÚ
->
yy¿wch¬
 = 
yych¬
;

4257 
yyÃwO±iÚ
->
yyv®
 = 
yylv®
;

4258 
yyÃwO±iÚ
->
yyloc
 = 
yyÎoc
;

4261 
yyÃwO±iÚ
->
yy¿wch¬
 = 
YYEMPTY
;

4262 
yyÃwO±iÚ
->
yyÃxt
 = 
yy¡©e
->
yy£mªtics
.
yyfœ¡V®
;

4263 
yy¡©e
->
yy£mªtics
.
yyfœ¡V®
 = 
yyÃwO±iÚ
;

4265 
	`YY_RESERVE_GLRSTACK
 (
yy¡ackp
);

4266 
	}
}

4271 
yyboŞ


4272 
	$yyš™S‹S‘
 (
yyGLRS‹S‘
* 
yy£t
)

4274 
yy£t
->
yysize
 = 1;

4275 
yy£t
->
yyÿ·c™y
 = 16;

4276 
yy£t
->
yy¡©es
 = (
yyGLRS‹
**è
	`YYMALLOC
 (16 *  yyset->yystates[0]);

4277 ià(! 
yy£t
->
yy¡©es
)

4278  
yyçl£
;

4279 
yy£t
->
yy¡©es
[0] = 
NULL
;

4280 
yy£t
->
yylookah—dN“ds
 =

4281 (
yyboŞ
*è
	`YYMALLOC
 (16 *  
yy£t
->
yylookah—dN“ds
[0]);

4282 ià(! 
yy£t
->
yylookah—dN“ds
)

4284 
	`YYFREE
 (
yy£t
->
yy¡©es
);

4285  
yyçl£
;

4287  
yyŒue
;

4288 
	}
}

4290 
	$yyä“S‹S‘
 (
yyGLRS‹S‘
* 
yy£t
)

4292 
	`YYFREE
 (
yy£t
->
yy¡©es
);

4293 
	`YYFREE
 (
yy£t
->
yylookah—dN“ds
);

4294 
	}
}

4298 
yyboŞ


4299 
	$yyš™GLRSck
 (
yyGLRSck
* 
yy¡ackp
, 
size_t
 
yysize
)

4301 
yy¡ackp
->
yy”rS‹
 = 0;

4302 
yyÃ¼s
 = 0;

4303 
yy¡ackp
->
yy¥aûLeá
 = 
yysize
;

4304 
yy¡ackp
->
yy™ems
 =

4305 (
yyGLRSckI‹m
*è
	`YYMALLOC
 (
yysize
 *  
yy¡ackp
->
yyÃxtF»e
[0]);

4306 ià(!
yy¡ackp
->
yy™ems
)

4307  
yyçl£
;

4308 
yy¡ackp
->
yyÃxtF»e
 = yy¡ackp->
yy™ems
;

4309 
yy¡ackp
->
yy¥l™Pošt
 = 
NULL
;

4310 
yy¡ackp
->
yyÏ¡D–‘ed
 = 
NULL
;

4311  
	`yyš™S‹S‘
 (&
yy¡ackp
->
yytİs
);

4312 
	}
}

4315 #ià
YYSTACKEXPANDABLE


4316 
	#YYRELOC
(
YYFROMITEMS
,
YYTOITEMS
,
YYX
,
YYTYPE
) \

4317 &((
YYTOITEMS
è- ((
YYFROMITEMS
è- (
yyGLRSckI‹m
*è(
YYX
)))->
YYTYPE


	)

4325 
	$yyex·ndGLRSck
 (
yyGLRSck
* 
yy¡ackp
)

4327 
yyGLRSckI‹m
* 
yyÃwI‹ms
;

4328 
yyGLRSckI‹m
* 
yyp0
, *
yyp1
;

4329 
size_t
 
yysize
, 
yyÃwSize
;

4330 
size_t
 
yyn
;

4331 
yysize
 = 
yy¡ackp
->
yyÃxtF»e
 - yy¡ackp->
yy™ems
;

4332 ià(
YYMAXDEPTH
 - 
YYHEADROOM
 < 
yysize
)

4333 
	`yyMemÜyExhau¡ed
 (
yy¡ackp
);

4334 
yyÃwSize
 = 2*
yysize
;

4335 ià(
YYMAXDEPTH
 < 
yyÃwSize
)

4336 
yyÃwSize
 = 
YYMAXDEPTH
;

4337 
yyÃwI‹ms
 = (
yyGLRSckI‹m
*è
	`YYMALLOC
 (
yyÃwSize
 *  yynewItems[0]);

4338 ià(! 
yyÃwI‹ms
)

4339 
	`yyMemÜyExhau¡ed
 (
yy¡ackp
);

4340 
yyp0
 = 
yy¡ackp
->
yy™ems
, 
yyp1
 = 
yyÃwI‹ms
, 
yyn
 = 
yysize
;

4341 0 < 
yyn
;

4342 
yyn
 -ğ1, 
yyp0
 +ğ1, 
yyp1
 += 1)

4344 *
yyp1
 = *
yyp0
;

4345 ià(*(
yyboŞ
 *è
yyp0
)

4347 
yyGLRS‹
* 
yys0
 = &
yyp0
->
yy¡©e
;

4348 
yyGLRS‹
* 
yys1
 = &
yyp1
->
yy¡©e
;

4349 ià(
yys0
->
yy´ed
 !ğ
NULL
)

4350 
yys1
->
yy´ed
 =

4351 
	`YYRELOC
 (
yyp0
, 
yyp1
, 
yys0
->
yy´ed
, 
yy¡©e
);

4352 ià(! 
yys0
->
yy»sŞved
 && yys0->
yy£mªtics
.
yyfœ¡V®
 !ğ
NULL
)

4353 
yys1
->
yy£mªtics
.
yyfœ¡V®
 =

4354 
	`YYRELOC
(
yyp0
, 
yyp1
, 
yys0
->
yy£mªtics
.
yyfœ¡V®
, 
yyİtiÚ
);

4358 
yySemªticO±iÚ
* 
yyv0
 = &
yyp0
->
yyİtiÚ
;

4359 
yySemªticO±iÚ
* 
yyv1
 = &
yyp1
->
yyİtiÚ
;

4360 ià(
yyv0
->
yy¡©e
 !ğ
NULL
)

4361 
yyv1
->
yy¡©e
 = 
	`YYRELOC
 (
yyp0
, 
yyp1
, 
yyv0
->yystate, yystate);

4362 ià(
yyv0
->
yyÃxt
 !ğ
NULL
)

4363 
yyv1
->
yyÃxt
 = 
	`YYRELOC
 (
yyp0
, 
yyp1
, 
yyv0
->yyÃxt, 
yyİtiÚ
);

4366 ià(
yy¡ackp
->
yy¥l™Pošt
 !ğ
NULL
)

4367 
yy¡ackp
->
yy¥l™Pošt
 = 
	`YYRELOC
 (yy¡ackp->
yy™ems
, 
yyÃwI‹ms
,

4368 
yy¡ackp
->
yy¥l™Pošt
, 
yy¡©e
);

4370 
yyn
 = 0; yyÀ< 
yy¡ackp
->
yytİs
.
yysize
; yyn += 1)

4371 ià(
yy¡ackp
->
yytİs
.
yy¡©es
[
yyn
] !ğ
NULL
)

4372 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyn
] =

4373 
	`YYRELOC
 (
yy¡ackp
->
yy™ems
, 
yyÃwI‹ms
,

4374 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyn
], 
yy¡©e
);

4375 
	`YYFREE
 (
yy¡ackp
->
yy™ems
);

4376 
yy¡ackp
->
yy™ems
 = 
yyÃwI‹ms
;

4377 
yy¡ackp
->
yyÃxtF»e
 = 
yyÃwI‹ms
 + 
yysize
;

4378 
yy¡ackp
->
yy¥aûLeá
 = 
yyÃwSize
 - 
yysize
;

4379 
	}
}

4383 
	$yyä“GLRSck
 (
yyGLRSck
* 
yy¡ackp
)

4385 
	`YYFREE
 (
yy¡ackp
->
yy™ems
);

4386 
	`yyä“S‹S‘
 (&
yy¡ackp
->
yytİs
);

4387 
	}
}

4392 
šlše
 

4393 
	$yyupd©eS¶™
 (
yyGLRSck
* 
yy¡ackp
, 
yyGLRS‹
* 
yys
)

4395 ià(
yy¡ackp
->
yy¥l™Pošt
 !ğ
NULL
 && yy¡ackp->yy¥l™Pošˆ> 
yys
)

4396 
yy¡ackp
->
yy¥l™Pošt
 = 
yys
;

4397 
	}
}

4400 
šlše
 

4401 
	$yym¬kSckD–‘ed
 (
yyGLRSck
* 
yy¡ackp
, 
size_t
 
yyk
)

4403 ià(
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
] !ğ
NULL
)

4404 
yy¡ackp
->
yyÏ¡D–‘ed
 = yy¡ackp->
yytİs
.
yy¡©es
[
yyk
];

4405 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
] = 
NULL
;

4406 
	}
}

4412 
	$yyund–‘eLa¡Sck
 (
yyGLRSck
* 
yy¡ackp
)

4414 ià(
yy¡ackp
->
yyÏ¡D–‘ed
 =ğ
NULL
 || yy¡ackp->
yytİs
.
yysize
 != 0)

4416 
yy¡ackp
->
yytİs
.
yy¡©es
[0] = yy¡ackp->
yyÏ¡D–‘ed
;

4417 
yy¡ackp
->
yytİs
.
yysize
 = 1;

4418 
	`YYDPRINTF
 ((
¡d”r
, "Restoring†ast deleted stack‡s stack #0.\n"));

4419 
yy¡ackp
->
yyÏ¡D–‘ed
 = 
NULL
;

4420 
	}
}

4422 
šlše
 

4423 
	$yy»moveD–‘es
 (
yyGLRSck
* 
yy¡ackp
)

4425 
size_t
 
yyi
, 
yyj
;

4426 
yyi
 = 
yyj
 = 0;

4427 
yyj
 < 
yy¡ackp
->
yytİs
.
yysize
)

4429 ià(
yy¡ackp
->
yytİs
.
yy¡©es
[
yyi
] =ğ
NULL
)

4431 ià(
yyi
 =ğ
yyj
)

4433 
	`YYDPRINTF
 ((
¡d”r
, "Removing dead stacks.\n"));

4435 
yy¡ackp
->
yytİs
.
yysize
 -= 1;

4439 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyj
] = yy¡ackp->yytİs.yy¡©es[
yyi
];

4445 
yy¡ackp
->
yytİs
.
yylookah—dN“ds
[
yyj
] =

4446 
yy¡ackp
->
yytİs
.
yylookah—dN“ds
[
yyi
];

4447 ià(
yyj
 !ğ
yyi
)

4449 
	`YYDPRINTF
 ((
¡d”r
, "Rename stack %lu -> %lu.\n",

4450 (è
yyi
, (è
yyj
));

4452 
yyj
 += 1;

4454 
yyi
 += 1;

4456 
	}
}

4460 
šlše
 

4461 
	$yygÌShiá
 (
yyGLRSck
* 
yy¡ackp
, 
size_t
 
yyk
, 
yyS‹Num
 
yyÌS‹
,

4462 
size_t
 
yypo¢
,

4463 
YYSTYPE
* 
yyv®p
, 
YYLTYPE
* 
yyloı
)

4465 
yyGLRS‹
* 
yyÃwS‹
 = &
	`yyÃwGLRSckI‹m
 (
yy¡ackp
, 
yyŒue
)->
yy¡©e
;

4467 
yyÃwS‹
->
yyÌS‹
 = yylrState;

4468 
yyÃwS‹
->
yypo¢
 = yyposn;

4469 
yyÃwS‹
->
yy»sŞved
 = 
yyŒue
;

4470 
yyÃwS‹
->
yy´ed
 = 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
];

4471 
yyÃwS‹
->
yy£mªtics
.
yysv®
 = *
yyv®p
;

4472 
yyÃwS‹
->
yyloc
 = *
yyloı
;

4473 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
] = 
yyÃwS‹
;

4475 
	`YY_RESERVE_GLRSTACK
 (
yy¡ackp
);

4476 
	}
}

4481 
šlše
 

4482 
	$yygÌShiáDeãr
 (
yyGLRSck
* 
yy¡ackp
, 
size_t
 
yyk
, 
yyS‹Num
 
yyÌS‹
,

4483 
size_t
 
yypo¢
, 
yyGLRS‹
* 
rhs
, 
yyRuËNum
 
yyruË
)

4485 
yyGLRS‹
* 
yyÃwS‹
 = &
	`yyÃwGLRSckI‹m
 (
yy¡ackp
, 
yyŒue
)->
yy¡©e
;

4487 
yyÃwS‹
->
yyÌS‹
 = yylrState;

4488 
yyÃwS‹
->
yypo¢
 = yyposn;

4489 
yyÃwS‹
->
yy»sŞved
 = 
yyçl£
;

4490 
yyÃwS‹
->
yy´ed
 = 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
];

4491 
yyÃwS‹
->
yy£mªtics
.
yyfœ¡V®
 = 
NULL
;

4492 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
] = 
yyÃwS‹
;

4495 
	`yyaddDeã¼edAùiÚ
 (
yy¡ackp
, 
yyk
, 
yyÃwS‹
, 
rhs
, 
yyruË
);

4496 
	}
}

4504 
šlše
 
YYRESULTTAG


4505 
	$yydoAùiÚ
 (
yyGLRSck
* 
yy¡ackp
, 
size_t
 
yyk
, 
yyRuËNum
 
yyruË
,

4506 
YYSTYPE
* 
yyv®p
, 
YYLTYPE
* 
yyloı
)

4508 
yyÄhs
 = 
	`yyrhsL’gth
 (
yyruË
);

4510 ià(
yy¡ackp
->
yy¥l™Pošt
 =ğ
NULL
)

4513 
yyGLRSckI‹m
* 
rhs
 = (yyGLRSckI‹m*è
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
];

4514 
	`YYASSERT
 (
yyk
 == 0);

4515 
yy¡ackp
->
yyÃxtF»e
 -ğ
yyÄhs
;

4516 
yy¡ackp
->
yy¥aûLeá
 +ğ
yyÄhs
;

4517 
yy¡ackp
->
yytİs
.
yy¡©es
[0] = & yy¡ackp->
yyÃxtF»e
[-1].
yy¡©e
;

4518  
	`yyu£rAùiÚ
 (
yyruË
, 
yyÄhs
, 
rhs
,

4519 
yyv®p
, 
yyloı
, 
yy¡ackp
);

4527 
yyi
;

4528 
yyGLRS‹
* 
yys
;

4529 
yyGLRSckI‹m
 
yyrhsV®s
[
YYMAXRHS
 + 
YYMAXLEFT
 + 1];

4530 
yys
 = 
yyrhsV®s
[
YYMAXRHS
 + 
YYMAXLEFT
].
yy¡©e
.
yy´ed


4531 ğ
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
];

4532 
yyi
 = 0; yy˜< 
yyÄhs
; yyi += 1)

4534 
yys
 = yys->
yy´ed
;

4535 
	`YYASSERT
 (
yys
);

4537 
	`yyupd©eS¶™
 (
yy¡ackp
, 
yys
);

4538 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
] = 
yys
;

4539  
	`yyu£rAùiÚ
 (
yyruË
, 
yyÄhs
, 
yyrhsV®s
 + 
YYMAXRHS
 + 
YYMAXLEFT
 - 1,

4540 
yyv®p
, 
yyloı
, 
yy¡ackp
);

4542 
	}
}

4544 #ià!
YYDEBUG


4545 
	#YY_REDUCE_PRINT
(
Args
)

	)

4547 
	#YY_REDUCE_PRINT
(
Args
) \

4549 ià(
yydebug
) \

4550 
yy_»duû_´št
 
Args
; \

4551 } 
	`YYID
 (0))

	)

4557  
šlše
 

4558 
	$yy_»duû_´št
 (
yyGLRSck
* 
yy¡ackp
, 
size_t
 
yyk
, 
yyRuËNum
 
yyruË
,

4559 
YYSTYPE
* 
yyv®p
, 
YYLTYPE
* 
yyloı
)

4561 
yyÄhs
 = 
	`yyrhsL’gth
 (
yyruË
);

4562 
yyboŞ
 
yynÜm®
 
	`__©Œibu‹__
 ((
__unu£d__
)) =

4563 (
yy¡ackp
->
yy¥l™Pošt
 =ğ
NULL
);

4564 
yyGLRSckI‹m
* 
yyv¥
 = (yyGLRSckI‹m*è
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
];

4565 
yylow
 = 1;

4566 
yyi
;

4567 
	`YYUSE
 (
yyv®p
);

4568 
	`YYUSE
 (
yyloı
);

4569 
	`YYFPRINTF
 (
¡d”r
, "Reducing stack %lu by„ule %d (line %lu):\n",

4570 (è
yyk
, 
yyruË
 - 1,

4571 (è
yy¾še
[
yyruË
]);

4573 
yyi
 = 0; yy˜< 
yyÄhs
; yyi++)

4575 
	`YYFPRINTF
 (
¡d”r
, " $%d = ", 
yyi
 + 1);

4576 
	`yy_symbŞ_´št
 (
¡d”r
, 
yyrhs
[
yy´hs
[
yyruË
] + 
yyi
],

4577 &(((
yyGLRSckI‹m
 cÚ¡ *)
yyv¥
)[
	`YYFILL
 ((
yyi
 + 1è- (
yyÄhs
))].
yy¡©e
.
yy£mªtics
.
yysv®
)

4579 
	`YYFPRINTF
 (
¡d”r
, "\n");

4581 
	}
}

4595 
šlše
 
YYRESULTTAG


4596 
	$yygÌReduû
 (
yyGLRSck
* 
yy¡ackp
, 
size_t
 
yyk
, 
yyRuËNum
 
yyruË
,

4597 
yyboŞ
 
yyfÜûEv®
)

4599 
size_t
 
yypo¢
 = 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
]->yyposn;

4601 ià(
yyfÜûEv®
 || 
yy¡ackp
->
yy¥l™Pošt
 =ğ
NULL
)

4603 
YYSTYPE
 
yysv®
;

4604 
YYLTYPE
 
yyloc
;

4606 
	`YY_REDUCE_PRINT
 ((
yy¡ackp
, 
yyk
, 
yyruË
, &
yysv®
, &
yyloc
));

4607 
	`YYCHK
 (
	`yydoAùiÚ
 (
yy¡ackp
, 
yyk
, 
yyruË
, &
yysv®
,

4608 &
yyloc
));

4609 
	`YY_SYMBOL_PRINT
 ("-> $$ =", 
yyr1
[
yyruË
], &
yysv®
, &
yyloc
);

4610 
	`yygÌShiá
 (
yy¡ackp
, 
yyk
,

4611 
	`yyLRgÙoS‹
 (
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
]->
yyÌS‹
,

4612 
	`yylhsNÚ‹rm
 (
yyruË
)),

4613 
yypo¢
, &
yysv®
, &
yyloc
);

4617 
size_t
 
yyi
;

4618 
yyn
;

4619 
yyGLRS‹
* 
yys
, *
yys0
 = 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
];

4620 
yyS‹Num
 
yyÃwLRS‹
;

4622 
yys
 = 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
], 
yyn
 = 
	`yyrhsL’gth
 (
yyruË
);

4623 0 < 
yyn
; yyn -= 1)

4625 
yys
 = yys->
yy´ed
;

4626 
	`YYASSERT
 (
yys
);

4628 
	`yyupd©eS¶™
 (
yy¡ackp
, 
yys
);

4629 
yyÃwLRS‹
 = 
	`yyLRgÙoS‹
 (
yys
->
yyÌS‹
, 
	`yylhsNÚ‹rm
 (
yyruË
));

4630 
	`YYDPRINTF
 ((
¡d”r
,

4632 (è
yyk
, 
yyruË
 - 1, 
yyÃwLRS‹
));

4633 
yyi
 = 0; yy˜< 
yy¡ackp
->
yytİs
.
yysize
; yyi += 1)

4634 ià(
yyi
 !ğ
yyk
 && 
yy¡ackp
->
yytİs
.
yy¡©es
[yyi] !ğ
NULL
)

4636 
yyGLRS‹
* 
yyp
, *
yy¥l™
 = 
yy¡ackp
->
yy¥l™Pošt
;

4637 
yyp
 = 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyi
];

4638 
yyp
 !ğ
yys
 && yy°!ğ
yy¥l™
 && yyp->
yypo¢
 >= yyposn)

4640 ià(
yyp
->
yyÌS‹
 =ğ
yyÃwLRS‹
 && yyp->
yy´ed
 =ğ
yys
)

4642 
	`yyaddDeã¼edAùiÚ
 (
yy¡ackp
, 
yyk
, 
yyp
, 
yys0
, 
yyruË
);

4643 
	`yym¬kSckD–‘ed
 (
yy¡ackp
, 
yyk
);

4644 
	`YYDPRINTF
 ((
¡d”r
, "Merging stack %lu into stack %lu.\n",

4645 (è
yyk
,

4646 (è
yyi
));

4647  
yyok
;

4649 
yyp
 = yyp->
yy´ed
;

4652 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
] = 
yys
;

4653 
	`yygÌShiáDeãr
 (
yy¡ackp
, 
yyk
, 
yyÃwLRS‹
, 
yypo¢
, 
yys0
, 
yyruË
);

4655  
yyok
;

4656 
	}
}

4658 
size_t


4659 
	$yy¥l™Sck
 (
yyGLRSck
* 
yy¡ackp
, 
size_t
 
yyk
)

4661 ià(
yy¡ackp
->
yy¥l™Pošt
 =ğ
NULL
)

4663 
	`YYASSERT
 (
yyk
 == 0);

4664 
yy¡ackp
->
yy¥l™Pošt
 = yy¡ackp->
yytİs
.
yy¡©es
[
yyk
];

4666 ià(
yy¡ackp
->
yytİs
.
yysize
 >ğyy¡ackp->yytİs.
yyÿ·c™y
)

4668 
yyGLRS‹
** 
yyÃwS‹s
;

4669 
yyboŞ
* 
yyÃwLookah—dN“ds
;

4671 
yyÃwS‹s
 = 
NULL
;

4673 ià(
yy¡ackp
->
yytİs
.
yyÿ·c™y


4674 > (
YYSIZEMAX
 / (2 *  
yyÃwS‹s
[0])))

4675 
	`yyMemÜyExhau¡ed
 (
yy¡ackp
);

4676 
yy¡ackp
->
yytİs
.
yyÿ·c™y
 *= 2;

4678 
yyÃwS‹s
 =

4679 (
yyGLRS‹
**è
	`YYREALLOC
 (
yy¡ackp
->
yytİs
.
yy¡©es
,

4680 (
yy¡ackp
->
yytİs
.
yyÿ·c™y


4681 *  
yyÃwS‹s
[0]));

4682 ià(
yyÃwS‹s
 =ğ
NULL
)

4683 
	`yyMemÜyExhau¡ed
 (
yy¡ackp
);

4684 
yy¡ackp
->
yytİs
.
yy¡©es
 = 
yyÃwS‹s
;

4686 
yyÃwLookah—dN“ds
 =

4687 (
yyboŞ
*è
	`YYREALLOC
 (
yy¡ackp
->
yytİs
.
yylookah—dN“ds
,

4688 (
yy¡ackp
->
yytİs
.
yyÿ·c™y


4689 *  
yyÃwLookah—dN“ds
[0]));

4690 ià(
yyÃwLookah—dN“ds
 =ğ
NULL
)

4691 
	`yyMemÜyExhau¡ed
 (
yy¡ackp
);

4692 
yy¡ackp
->
yytİs
.
yylookah—dN“ds
 = 
yyÃwLookah—dN“ds
;

4694 
yy¡ackp
->
yytİs
.
yy¡©es
[yy¡ackp->yytİs.
yysize
]

4695 ğ
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
];

4696 
yy¡ackp
->
yytİs
.
yylookah—dN“ds
[yy¡ackp->yytİs.
yysize
]

4697 ğ
yy¡ackp
->
yytİs
.
yylookah—dN“ds
[
yyk
];

4698 
yy¡ackp
->
yytİs
.
yysize
 += 1;

4699  
yy¡ackp
->
yytİs
.
yysize
-1;

4700 
	}
}

4705 
yyboŞ


4706 
	$yyid’tiÿlO±iÚs
 (
yySemªticO±iÚ
* 
yyy0
, yySemªticO±iÚ* 
yyy1
)

4708 ià(
yyy0
->
yyruË
 =ğ
yyy1
->yyrule)

4710 
yyGLRS‹
 *
yys0
, *
yys1
;

4711 
yyn
;

4712 
yys0
 = 
yyy0
->
yy¡©e
, 
yys1
 = 
yyy1
->yystate,

4713 
yyn
 = 
	`yyrhsL’gth
 (
yyy0
->
yyruË
);

4714 
yyn
 > 0;

4715 
yys0
 = yys0->
yy´ed
, 
yys1
 = yys1->yy´ed, 
yyn
 -= 1)

4716 ià(
yys0
->
yypo¢
 !ğ
yys1
->yyposn)

4717  
yyçl£
;

4718  
yyŒue
;

4721  
yyçl£
;

4722 
	}
}

4727 
	$yym”geO±iÚS‘s
 (
yySemªticO±iÚ
* 
yyy0
, yySemªticO±iÚ* 
yyy1
)

4729 
yyGLRS‹
 *
yys0
, *
yys1
;

4730 
yyn
;

4731 
yys0
 = 
yyy0
->
yy¡©e
, 
yys1
 = 
yyy1
->yystate,

4732 
yyn
 = 
	`yyrhsL’gth
 (
yyy0
->
yyruË
);

4733 
yyn
 > 0;

4734 
yys0
 = yys0->
yy´ed
, 
yys1
 = yys1->yy´ed, 
yyn
 -= 1)

4736 ià(
yys0
 =ğ
yys1
)

4738 ià(
yys0
->
yy»sŞved
)

4740 
yys1
->
yy»sŞved
 = 
yyŒue
;

4741 
yys1
->
yy£mªtics
.
yysv®
 = 
yys0
->yysemantics.yysval;

4743 ià(
yys1
->
yy»sŞved
)

4745 
yys0
->
yy»sŞved
 = 
yyŒue
;

4746 
yys0
->
yy£mªtics
.
yysv®
 = 
yys1
->yysemantics.yysval;

4750 
yySemªticO±iÚ
** 
yyz0p
;

4751 
yySemªticO±iÚ
* 
yyz1
;

4752 
yyz0p
 = &
yys0
->
yy£mªtics
.
yyfœ¡V®
;

4753 
yyz1
 = 
yys1
->
yy£mªtics
.
yyfœ¡V®
;

4754 
	`YYID
 (
yyŒue
))

4756 ià(
yyz1
 =ğ*
yyz0p
 || yyz1 =ğ
NULL
)

4758 ià(*
yyz0p
 =ğ
NULL
)

4760 *
yyz0p
 = 
yyz1
;

4763 ià(*
yyz0p
 < 
yyz1
)

4765 
yySemªticO±iÚ
* 
yyz
 = *
yyz0p
;

4766 *
yyz0p
 = 
yyz1
;

4767 
yyz1
 = yyz1->
yyÃxt
;

4768 (*
yyz0p
)->
yyÃxt
 = 
yyz
;

4770 
yyz0p
 = &(*yyz0p)->
yyÃxt
;

4772 
yys1
->
yy£mªtics
.
yyfœ¡V®
 = 
yys0
->yysemantics.yyfirstVal;

4775 
	}
}

4781 
	$yy´eã»nû
 (
yySemªticO±iÚ
* 
y0
, yySemªticO±iÚ* 
y1
)

4783 
yyRuËNum
 
r0
 = 
y0
->
yyruË
, 
r1
 = 
y1
->yyrule;

4784 
p0
 = 
yyd´ec
[
r0
], 
p1
 = yyd´ec[
r1
];

4786 ià(
p0
 =ğ
p1
)

4788 ià(
yym”g”
[
r0
] =ğ0 || yym”g”[r0] !ğyym”g”[
r1
])

4793 ià(
p0
 =ğ0 || 
p1
 == 0)

4795 ià(
p0
 < 
p1
)

4797 ià(
p1
 < 
p0
)

4800 
	}
}

4802 
YYRESULTTAG
 
yy»sŞveV®ue
 (
yyGLRS‹
* 
yys
,

4803 
yyGLRSck
* 
yy¡ackp
);

4811 
YYRESULTTAG


4812 
	$yy»sŞveS‹s
 (
yyGLRS‹
* 
yys
, 
yyn
,

4813 
yyGLRSck
* 
yy¡ackp
)

4815 ià(0 < 
yyn
)

4817 
	`YYASSERT
 (
yys
->
yy´ed
);

4818 
	`YYCHK
 (
	`yy»sŞveS‹s
 (
yys
->
yy´ed
, 
yyn
-1, 
yy¡ackp
));

4819 ià(! 
yys
->
yy»sŞved
)

4820 
	`YYCHK
 (
	`yy»sŞveV®ue
 (
yys
, 
yy¡ackp
));

4822  
yyok
;

4823 
	}
}

4829 
YYRESULTTAG


4830 
	$yy»sŞveAùiÚ
 (
yySemªticO±iÚ
* 
yyİt
, 
yyGLRSck
* 
yy¡ackp
,

4831 
YYSTYPE
* 
yyv®p
, 
YYLTYPE
* 
yyloı
)

4833 
yyGLRSckI‹m
 
yyrhsV®s
[
YYMAXRHS
 + 
YYMAXLEFT
 + 1];

4834 
yyÄhs
;

4835 
yych¬_cu¼’t
;

4836 
YYSTYPE
 
yylv®_cu¼’t
;

4837 
YYLTYPE
 
yyÎoc_cu¼’t
;

4838 
YYRESULTTAG
 
yyæag
;

4840 
yyÄhs
 = 
	`yyrhsL’gth
 (
yyİt
->
yyruË
);

4841 
yyæag
 = 
	`yy»sŞveS‹s
 (
yyİt
->
yy¡©e
, 
yyÄhs
, 
yy¡ackp
);

4842 ià(
yyæag
 !ğ
yyok
)

4844 
yyGLRS‹
 *
yys
;

4845 
yys
 = 
yyİt
->
yy¡©e
; 
yyÄhs
 > 0; yy ğyys->
yy´ed
, yynrhs -= 1)

4846 
	`yyde¡royGLRS‹
 ("CËªup:…İpšg", 
yys
);

4847  
yyæag
;

4850 
yyrhsV®s
[
YYMAXRHS
 + 
YYMAXLEFT
].
yy¡©e
.
yy´ed
 = 
yyİt
->yystate;

4851 
yych¬_cu¼’t
 = 
yych¬
;

4852 
yylv®_cu¼’t
 = 
yylv®
;

4853 
yyÎoc_cu¼’t
 = 
yyÎoc
;

4854 
yych¬
 = 
yyİt
->
yy¿wch¬
;

4855 
yylv®
 = 
yyİt
->
yyv®
;

4856 
yyÎoc
 = 
yyİt
->
yyloc
;

4857 
yyæag
 = 
	`yyu£rAùiÚ
 (
yyİt
->
yyruË
, 
yyÄhs
,

4858 
yyrhsV®s
 + 
YYMAXRHS
 + 
YYMAXLEFT
 - 1,

4859 
yyv®p
, 
yyloı
, 
yy¡ackp
);

4860 
yych¬
 = 
yych¬_cu¼’t
;

4861 
yylv®
 = 
yylv®_cu¼’t
;

4862 
yyÎoc
 = 
yyÎoc_cu¼’t
;

4863  
yyæag
;

4864 
	}
}

4866 #ià
YYDEBUG


4868 
	$yy»pÜtT»e
 (
yySemªticO±iÚ
* 
yyx
, 
yyšd’t
)

4870 
yyÄhs
 = 
	`yyrhsL’gth
 (
yyx
->
yyruË
);

4871 
yyi
;

4872 
yyGLRS‹
* 
yys
;

4873 
yyGLRS‹
* 
yy¡©es
[1 + 
YYMAXRHS
];

4874 
yyGLRS‹
 
yyËámo¡_¡©e
;

4876 
yyi
 = 
yyÄhs
, 
yys
 = 
yyx
->
yy¡©e
; 0 < yyi; yy˜-ğ1, yy ğyys->
yy´ed
)

4877 
yy¡©es
[
yyi
] = 
yys
;

4878 ià(
yys
 =ğ
NULL
)

4880 
yyËámo¡_¡©e
.
yypo¢
 = 0;

4881 
yy¡©es
[0] = &
yyËámo¡_¡©e
;

4884 
yy¡©es
[0] = 
yys
;

4886 ià(
yyx
->
yy¡©e
->
yypo¢
 < 
yys
->yyposn + 1)

4887 
	`YYFPRINTF
 (
¡d”r
, "%*s%s -> <Rule %d,ƒmpty>\n",

4888 
yyšd’t
, "", 
	`yytok’Name
 (
	`yylhsNÚ‹rm
 (
yyx
->
yyruË
)),

4889 
yyx
->
yyruË
 - 1);

4891 
	`YYFPRINTF
 (
¡d”r
, "%*s%s -> <Rule %d,okens %lu .. %lu>\n",

4892 
yyšd’t
, "", 
	`yytok’Name
 (
	`yylhsNÚ‹rm
 (
yyx
->
yyruË
)),

4893 
yyx
->
yyruË
 - 1, (è(
yys
->
yypo¢
 + 1),

4894 (è
yyx
->
yy¡©e
->
yypo¢
);

4895 
yyi
 = 1; yy˜<ğ
yyÄhs
; yyi += 1)

4897 ià(
yy¡©es
[
yyi
]->
yy»sŞved
)

4899 ià(
yy¡©es
[
yyi
-1]->
yypo¢
+1 > yystates[yyi]->yyposn)

4900 
	`YYFPRINTF
 (
¡d”r
, "%*s% <em±y>\n", 
yyšd’t
+2, "",

4901 
	`yytok’Name
 (
yyrhs
[
yy´hs
[
yyx
->
yyruË
]+
yyi
-1]));

4903 
	`YYFPRINTF
 (
¡d”r
, "%*s% <tok’ %lu .. %lu>\n", 
yyšd’t
+2, "",

4904 
	`yytok’Name
 (
yyrhs
[
yy´hs
[
yyx
->
yyruË
]+
yyi
-1]),

4905 (è(
yy¡©es
[
yyi
 - 1]->
yypo¢
 + 1),

4906 (è
yy¡©es
[
yyi
]->
yypo¢
);

4909 
	`yy»pÜtT»e
 (
yy¡©es
[
yyi
]->
yy£mªtics
.
yyfœ¡V®
, 
yyšd’t
+2);

4911 
	}
}

4914  
YYRESULTTAG


4915 
	$yy»pÜtAmbigu™y
 (
yySemªticO±iÚ
* 
yyx0
,

4916 
yySemªticO±iÚ
* 
yyx1
)

4918 
	`YYUSE
 (
yyx0
);

4919 
	`YYUSE
 (
yyx1
);

4921 #ià
YYDEBUG


4922 
	`YYFPRINTF
 (
¡d”r
, "Ambiguity detected.\n");

4923 
	`YYFPRINTF
 (
¡d”r
, "Option 1,\n");

4924 
	`yy»pÜtT»e
 (
yyx0
, 2);

4925 
	`YYFPRINTF
 (
¡d”r
, "\nOption 2,\n");

4926 
	`yy»pÜtT»e
 (
yyx1
, 2);

4927 
	`YYFPRINTF
 (
¡d”r
, "\n");

4930 
	`yy”rÜ
 (
	`YY_
("syntax is‡mbiguous"));

4931  
yyabÜt
;

4932 
	}
}

4940 
YYRESULTTAG


4941 
	$yy»sŞveV®ue
 (
yyGLRS‹
* 
yys
, 
yyGLRSck
* 
yy¡ackp
)

4943 
yySemªticO±iÚ
* 
yyİtiÚLi¡
 = 
yys
->
yy£mªtics
.
yyfœ¡V®
;

4944 
yySemªticO±iÚ
* 
yybe¡
;

4945 
yySemªticO±iÚ
** 
yyµ
;

4946 
yyboŞ
 
yym”ge
;

4947 
YYSTYPE
 
yysv®
;

4948 
YYRESULTTAG
 
yyæag
;

4949 
YYLTYPE
 *
yyloı
 = &
yys
->
yyloc
;

4951 
yybe¡
 = 
yyİtiÚLi¡
;

4952 
yym”ge
 = 
yyçl£
;

4953 
yyµ
 = &
yyİtiÚLi¡
->
yyÃxt
; *yyµ !ğ
NULL
; )

4955 
yySemªticO±iÚ
* 
yyp
 = *
yyµ
;

4957 ià(
	`yyid’tiÿlO±iÚs
 (
yybe¡
, 
yyp
))

4959 
	`yym”geO±iÚS‘s
 (
yybe¡
, 
yyp
);

4960 *
yyµ
 = 
yyp
->
yyÃxt
;

4964 
	`yy´eã»nû
 (
yybe¡
, 
yyp
))

4967  
	`yy»pÜtAmbigu™y
 (
yybe¡
, 
yyp
);

4970 
yym”ge
 = 
yyŒue
;

4975 
yybe¡
 = 
yyp
;

4976 
yym”ge
 = 
yyçl£
;

4984 
yyµ
 = &
yyp
->
yyÃxt
;

4988 ià(
yym”ge
)

4990 
yySemªticO±iÚ
* 
yyp
;

4991 
yy´ec
 = 
yyd´ec
[
yybe¡
->
yyruË
];

4992 
yyæag
 = 
	`yy»sŞveAùiÚ
 (
yybe¡
, 
yy¡ackp
, &
yysv®
,

4993 
yyloı
);

4994 ià(
yyæag
 =ğ
yyok
)

4995 
yyp
 = 
yybe¡
->
yyÃxt
; yy°!ğ
NULL
; yyp = yyp->yynext)

4997 ià(
yy´ec
 =ğ
yyd´ec
[
yyp
->
yyruË
])

4999 
YYSTYPE
 
yysv®_Ùh”
;

5000 
YYLTYPE
 
yydummy
;

5001 
yyæag
 = 
	`yy»sŞveAùiÚ
 (
yyp
, 
yy¡ackp
, &
yysv®_Ùh”
,

5002 &
yydummy
);

5003 ià(
yyæag
 !ğ
yyok
)

5005 
	`yyde¡ruù
 ("Cleanup: discarding incompletely merged value for",

5006 
yy¡os
[
yys
->
yyÌS‹
],

5007 &
yysv®
);

5010 
	`yyu£rM”ge
 (
yym”g”
[
yyp
->
yyruË
], &
yysv®
, &
yysv®_Ùh”
);

5015 
yyæag
 = 
	`yy»sŞveAùiÚ
 (
yybe¡
, 
yy¡ackp
, &
yysv®
, 
yyloı
);

5017 ià(
yyæag
 =ğ
yyok
)

5019 
yys
->
yy»sŞved
 = 
yyŒue
;

5020 
yys
->
yy£mªtics
.
yysv®
 = yysval;

5023 
yys
->
yy£mªtics
.
yyfœ¡V®
 = 
NULL
;

5024  
yyæag
;

5025 
	}
}

5027 
YYRESULTTAG


5028 
	$yy»sŞveSck
 (
yyGLRSck
* 
yy¡ackp
)

5030 ià(
yy¡ackp
->
yy¥l™Pošt
 !ğ
NULL
)

5032 
yyGLRS‹
* 
yys
;

5033 
yyn
;

5035 
yyn
 = 0, 
yys
 = 
yy¡ackp
->
yytİs
.
yy¡©es
[0];

5036 
yys
 !ğ
yy¡ackp
->
yy¥l™Pošt
;

5037 
yys
 = yys->
yy´ed
, 
yyn
 += 1)

5039 
	`YYCHK
 (
	`yy»sŞveS‹s
 (
yy¡ackp
->
yytİs
.
yy¡©es
[0], 
yyn
, yystackp

5042  
yyok
;

5043 
	}
}

5046 
	$yycom´essSck
 (
yyGLRSck
* 
yy¡ackp
)

5048 
yyGLRS‹
* 
yyp
, *
yyq
, *
yyr
;

5050 ià(
yy¡ackp
->
yytİs
.
yysize
 !ğ1 || yy¡ackp->
yy¥l™Pošt
 =ğ
NULL
)

5053 
yyp
 = 
yy¡ackp
->
yytİs
.
yy¡©es
[0], 
yyq
 = yyp->
yy´ed
, 
yyr
 = 
NULL
;

5054 
yyp
 !ğ
yy¡ackp
->
yy¥l™Pošt
;

5055 
yyr
 = 
yyp
, yy°ğ
yyq
, yyq = yyp->
yy´ed
)

5056 
yyp
->
yy´ed
 = 
yyr
;

5058 
yy¡ackp
->
yy¥aûLeá
 +ğyy¡ackp->
yyÃxtF»e
 - yy¡ackp->
yy™ems
;

5059 
yy¡ackp
->
yyÃxtF»e
 = ((
yyGLRSckI‹m
*èyy¡ackp->
yy¥l™Pošt
) + 1;

5060 
yy¡ackp
->
yy¥aûLeá
 -ğyy¡ackp->
yyÃxtF»e
 - yy¡ackp->
yy™ems
;

5061 
yy¡ackp
->
yy¥l™Pošt
 = 
NULL
;

5062 
yy¡ackp
->
yyÏ¡D–‘ed
 = 
NULL
;

5064 
yyr
 !ğ
NULL
)

5066 
yy¡ackp
->
yyÃxtF»e
->
yy¡©e
 = *
yyr
;

5067 
yyr
 = yyr->
yy´ed
;

5068 
yy¡ackp
->
yyÃxtF»e
->
yy¡©e
.
yy´ed
 = &yystackp->yynextFree[-1].yystate;

5069 
yy¡ackp
->
yytİs
.
yy¡©es
[0] = &yy¡ackp->
yyÃxtF»e
->
yy¡©e
;

5070 
yy¡ackp
->
yyÃxtF»e
 += 1;

5071 
yy¡ackp
->
yy¥aûLeá
 -= 1;

5073 
	}
}

5075 
YYRESULTTAG


5076 
	$yy´oûssOÃSck
 (
yyGLRSck
* 
yy¡ackp
, 
size_t
 
yyk
,

5077 
size_t
 
yypo¢
)

5079 
yyaùiÚ
;

5080 cÚ¡ * 
yycÚæiùs
;

5081 
yyRuËNum
 
yyruË
;

5083 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
] !ğ
NULL
)

5085 
yyS‹Num
 
yy¡©e
 = 
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
]->
yyÌS‹
;

5086 
	`YYDPRINTF
 ((
¡d”r
, "Stack %lu Entering state %d\n",

5087 (è
yyk
, 
yy¡©e
));

5089 
	`YYASSERT
 (
yy¡©e
 !ğ
YYFINAL
);

5091 ià(
	`yyisDeçuÉedS‹
 (
yy¡©e
))

5093 
yyruË
 = 
	`yydeçuÉAùiÚ
 (
yy¡©e
);

5094 ià(
yyruË
 == 0)

5096 
	`YYDPRINTF
 ((
¡d”r
, "Stack %lu dies.\n",

5097 (è
yyk
));

5098 
	`yym¬kSckD–‘ed
 (
yy¡ackp
, 
yyk
);

5099  
yyok
;

5101 
	`YYCHK
 (
	`yygÌReduû
 (
yy¡ackp
, 
yyk
, 
yyruË
, 
yyçl£
));

5105 
yySymbŞ
 
yytok’
;

5106 
yy¡ackp
->
yytİs
.
yylookah—dN“ds
[
yyk
] = 
yyŒue
;

5107 ià(
yych¬
 =ğ
YYEMPTY
)

5109 
	`YYDPRINTF
 ((
¡d”r
, "Reading‡oken: "));

5110 
yych¬
 = 
YYLEX
;

5113 ià(
yych¬
 <ğ
YYEOF
)

5115 
yych¬
 = 
yytok’
 = 
YYEOF
;

5116 
	`YYDPRINTF
 ((
¡d”r
, "Now‡tƒnd of input.\n"));

5120 
yytok’
 = 
	`YYTRANSLATE
 (
yych¬
);

5121 
	`YY_SYMBOL_PRINT
 ("Nexˆtok’ is", 
yytok’
, &
yylv®
, &
yyÎoc
);

5124 
	`yyg‘LRAùiÚs
 (
yy¡©e
, 
yytok’
, &
yyaùiÚ
, &
yycÚæiùs
);

5126 *
yycÚæiùs
 != 0)

5128 
size_t
 
yyÃwSck
 = 
	`yy¥l™Sck
 (
yy¡ackp
, 
yyk
);

5129 
	`YYDPRINTF
 ((
¡d”r
, "Splitting off stack %lu from %lu.\n",

5130 (è
yyÃwSck
,

5131 (è
yyk
));

5132 
	`YYCHK
 (
	`yygÌReduû
 (
yy¡ackp
, 
yyÃwSck
,

5133 *
yycÚæiùs
, 
yyçl£
));

5134 
	`YYCHK
 (
	`yy´oûssOÃSck
 (
yy¡ackp
, 
yyÃwSck
,

5135 
yypo¢
));

5136 
yycÚæiùs
 += 1;

5139 ià(
	`yyisShiáAùiÚ
 (
yyaùiÚ
))

5141 ià(
	`yyisE¼ÜAùiÚ
 (
yyaùiÚ
))

5143 
	`YYDPRINTF
 ((
¡d”r
, "Stack %lu dies.\n",

5144 (è
yyk
));

5145 
	`yym¬kSckD–‘ed
 (
yy¡ackp
, 
yyk
);

5149 
	`YYCHK
 (
	`yygÌReduû
 (
yy¡ackp
, 
yyk
, -
yyaùiÚ
,

5150 
yyçl£
));

5153  
yyok
;

5154 
	}
}

5157 
	$yy»pÜtSyÁaxE¼Ü
 (
yyGLRSck
* 
yy¡ackp
)

5159 ià(
yy¡ackp
->
yy”rS‹
 != 0)

5161 #ià! 
YYERROR_VERBOSE


5162 
	`yy”rÜ
 (
	`YY_
("parseƒrror"));

5164 
yySymbŞ
 
yytok’
 = 
yych¬
 =ğ
YYEMPTY
 ? YYEMPTY : 
	`YYTRANSLATE
 (yychar);

5165 
size_t
 
yysize0
 = 
	`yyŠam”r
 (
NULL
, 
	`yytok’Name
 (
yytok’
));

5166 
size_t
 
yysize
 = 
yysize0
;

5167 
size_t
 
yysize1
;

5168 
yyboŞ
 
yysize_ov”æow
 = 
yyçl£
;

5169 * 
yymsg
 = 
NULL
;

5170 ’um { 
YYERROR_VERBOSE_ARGS_MAXIMUM
 = 5 };

5172 cÚ¡ *
yyfÜm©
 = 0;

5174 cÚ¡ *
yy¬g
[
YYERROR_VERBOSE_ARGS_MAXIMUM
];

5177 
yycouÁ
 = 0;

5202 ià(
yytok’
 !ğ
YYEMPTY
)

5204 
yyn
 = 
yy·ù
[
yy¡ackp
->
yytİs
.
yy¡©es
[0]->
yyÌS‹
];

5205 
yy¬g
[
yycouÁ
++] = 
	`yytok’Name
 (
yytok’
);

5206 ià(!
	`yy·ù_v®ue_is_deçuÉ
 (
yyn
))

5211 
yyxbegš
 = 
yyn
 < 0 ? -yyn : 0;

5213 
yychecklim
 = 
YYLAST
 - 
yyn
 + 1;

5214 
yyx’d
 = 
yychecklim
 < 
YYNTOKENS
 ? yychecklim : YYNTOKENS;

5215 
yyx
;

5216 
yyx
 = 
yyxbegš
; yyx < 
yyx’d
; ++yyx)

5217 ià(
yycheck
[
yyx
 + 
yyn
] =ğyyx && yyx !ğ
YYTERROR


5218 && !
	`yybË_v®ue_is_”rÜ
 (
yybË
[
yyx
 + 
yyn
]))

5220 ià(
yycouÁ
 =ğ
YYERROR_VERBOSE_ARGS_MAXIMUM
)

5222 
yycouÁ
 = 1;

5223 
yysize
 = 
yysize0
;

5226 
yy¬g
[
yycouÁ
++] = 
	`yytok’Name
 (
yyx
);

5227 
yysize1
 = 
yysize
 + 
	`yyŠam”r
 (
NULL
, 
	`yytok’Name
 (
yyx
));

5228 
yysize_ov”æow
 |ğ
yysize1
 < 
yysize
;

5229 
yysize
 = 
yysize1
;

5234 
yycouÁ
)

5236 
	#YYCASE_
(
N
, 
S
) \

5237 
N
: \

5238 
yyfÜm©
 = 
S
; \

5239 

	)

5240 
	`YYCASE_
(0, 
	`YY_
("parseƒrror"));

5241 
	`YYCASE_
(1, 
	`YY_
("parseƒrror, unexpected %s"));

5242 
	`YYCASE_
(2, 
	`YY_
("parseƒrror, unexpected %s,ƒxpecting %s"));

5243 
	`YYCASE_
(3, 
	`YY_
("parseƒrror, unexpected %s,ƒxpecting %s or %s"));

5244 
	`YYCASE_
(4, 
	`YY_
("parseƒrror, unexpected %s,ƒxpecting %s or %s or %s"));

5245 
	`YYCASE_
(5, 
	`YY_
("parseƒrror, unexpected %s,ƒxpecting %s or %s or %s or %s"));

5246 #undeà
YYCASE_


5249 
yysize1
 = 
yysize
 + 
	`¡¾’
 (
yyfÜm©
);

5250 
yysize_ov”æow
 |ğ
yysize1
 < 
yysize
;

5251 
yysize
 = 
yysize1
;

5253 ià(!
yysize_ov”æow
)

5254 
yymsg
 = (*è
	`YYMALLOC
 (
yysize
);

5256 ià(
yymsg
)

5258 *
yyp
 = 
yymsg
;

5259 
yyi
 = 0;

5260 (*
yyp
 = *
yyfÜm©
))

5262 ià(*
yyp
 =ğ'%' && 
yyfÜm©
[1] =ğ's' && 
yyi
 < 
yycouÁ
)

5264 
yyp
 +ğ
	`yyŠam”r
 (yyp, 
yy¬g
[
yyi
++]);

5265 
yyfÜm©
 += 2;

5269 
yyp
++;

5270 
yyfÜm©
++;

5273 
	`yy”rÜ
 (
yymsg
);

5274 
	`YYFREE
 (
yymsg
);

5278 
	`yy”rÜ
 (
	`YY_
("parseƒrror"));

5279 
	`yyMemÜyExhau¡ed
 (
yy¡ackp
);

5282 
yyÃ¼s
 += 1;

5283 
	}
}

5289 
	$yy»cov”SyÁaxE¼Ü
 (
yyGLRSck
* 
yy¡ackp
)

5291 
size_t
 
yyk
;

5292 
yyj
;

5294 ià(
yy¡ackp
->
yy”rS‹
 == 3)

5297 
	`YYID
 (
yyŒue
))

5299 
yySymbŞ
 
yytok’
;

5300 ià(
yych¬
 =ğ
YYEOF
)

5301 
	`yyFa
 (
yy¡ackp
, 
NULL
);

5302 ià(
yych¬
 !ğ
YYEMPTY
)

5304 
yytok’
 = 
	`YYTRANSLATE
 (
yych¬
);

5305 
	`yyde¡ruù
 ("Error: discarding",

5306 
yytok’
, &
yylv®
);

5308 
	`YYDPRINTF
 ((
¡d”r
, "Reading‡oken: "));

5309 
yych¬
 = 
YYLEX
;

5310 ià(
yych¬
 <ğ
YYEOF
)

5312 
yych¬
 = 
yytok’
 = 
YYEOF
;

5313 
	`YYDPRINTF
 ((
¡d”r
, "Now‡tƒnd of input.\n"));

5317 
yytok’
 = 
	`YYTRANSLATE
 (
yych¬
);

5318 
	`YY_SYMBOL_PRINT
 ("Nexˆtok’ is", 
yytok’
, &
yylv®
, &
yyÎoc
);

5320 
yyj
 = 
yy·ù
[
yy¡ackp
->
yytİs
.
yy¡©es
[0]->
yyÌS‹
];

5321 ià(
	`yy·ù_v®ue_is_deçuÉ
 (
yyj
))

5323 
yyj
 +ğ
yytok’
;

5324 ià(
yyj
 < 0 || 
YYLAST
 < yyj || 
yycheck
[yyj] !ğ
yytok’
)

5326 ià(
yydeçù
[
yy¡ackp
->
yytİs
.
yy¡©es
[0]->
yyÌS‹
] != 0)

5329 ià(! 
	`yybË_v®ue_is_”rÜ
 (
yybË
[
yyj
]))

5334 
yyk
 = 0; yyk < 
yy¡ackp
->
yytİs
.
yysize
; yyk += 1)

5335 ià(
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
] !ğ
NULL
)

5337 ià(
yyk
 >ğ
yy¡ackp
->
yytİs
.
yysize
)

5338 
	`yyFa
 (
yy¡ackp
, 
NULL
);

5339 
yyk
 +ğ1; yyk < 
yy¡ackp
->
yytİs
.
yysize
; yyk += 1)

5340 
	`yym¬kSckD–‘ed
 (
yy¡ackp
, 
yyk
);

5341 
	`yy»moveD–‘es
 (
yy¡ackp
);

5342 
	`yycom´essSck
 (
yy¡ackp
);

5345 
yy¡ackp
->
yy”rS‹
 = 3;

5346 
yy¡ackp
->
yytİs
.
yy¡©es
[0] !ğ
NULL
)

5348 
yyGLRS‹
 *
yys
 = 
yy¡ackp
->
yytİs
.
yy¡©es
[0];

5349 
yyj
 = 
yy·ù
[
yys
->
yyÌS‹
];

5350 ià(! 
	`yy·ù_v®ue_is_deçuÉ
 (
yyj
))

5352 
yyj
 +ğ
YYTERROR
;

5353 ià(0 <ğ
yyj
 && yyj <ğ
YYLAST
 && 
yycheck
[yyj] =ğ
YYTERROR


5354 && 
	`yyisShiáAùiÚ
 (
yybË
[
yyj
]))

5357 
YYLTYPE
 
yy”¾oc
;yy”¾oc.
yydummy
 = 'a';

5358 
	`YY_SYMBOL_PRINT
 ("Shiášg", 
yy¡os
[
yybË
[
yyj
]],

5359 &
yylv®
, &
yy”¾oc
);

5360 
	`yygÌShiá
 (
yy¡ackp
, 0, 
yybË
[
yyj
],

5361 
yys
->
yypo¢
, &
yylv®
, &
yy”¾oc
);

5362 
yys
 = 
yy¡ackp
->
yytİs
.
yy¡©es
[0];

5367 ià(
yys
->
yy´ed
 !ğ
NULL
)

5368 
	`yyde¡royGLRS‹
 ("E¼Ü:…İpšg", 
yys
);

5369 
yy¡ackp
->
yytİs
.
yy¡©es
[0] = 
yys
->
yy´ed
;

5370 
yy¡ackp
->
yyÃxtF»e
 -= 1;

5371 
yy¡ackp
->
yy¥aûLeá
 += 1;

5373 ià(
yy¡ackp
->
yytİs
.
yy¡©es
[0] =ğ
NULL
)

5374 
	`yyFa
 (
yy¡ackp
, 
NULL
);

5375 
	}
}

5377 
	#YYCHK1
(
YYE
) \

5379 
YYE
) { \

5380 
yyok
: \

5382 
yyabÜt
: \

5383 
yyabÜab
; \

5384 
yyacû±
: \

5385 
yyacû±Ïb
; \

5386 
yy”r
: \

5387 
yyu£r_”rÜ
; \

5389 
yybugÏb
; \

5391 } 
	`YYID
 (0))

	)

5399 
	$yy·r£
 ()

5401 
yy»suÉ
;

5402 
yyGLRSck
 
yy¡ack
;

5403 
yyGLRSck
* cÚ¡ 
yy¡ackp
 = &
yy¡ack
;

5404 
size_t
 
yypo¢
;

5406 
	`YYDPRINTF
 ((
¡d”r
, "Starting…arse\n"));

5408 
yych¬
 = 
YYEMPTY
;

5409 
yylv®
 = 
yyv®_deçuÉ
;

5412 ià(! 
	`yyš™GLRSck
 (
yy¡ackp
, 
YYINITDEPTH
))

5413 
yyexhau¡edÏb
;

5414 
	`YYSETJMP
 (
yy¡ack
.
yyexû±iÚ_bufãr
))

5417 1: 
yyabÜab
;

5418 2: 
yyexhau¡edÏb
;

5419 : 
yybugÏb
;

5421 
	`yygÌShiá
 (&
yy¡ack
, 0, 0, 0, &
yylv®
, &
yyÎoc
);

5422 
yypo¢
 = 0;

5424 
	`YYID
 (
yyŒue
))

5430 
	`YYID
 (
yyŒue
))

5432 
yyRuËNum
 
yyruË
;

5433 
yyaùiÚ
;

5434 cÚ¡ * 
yycÚæiùs
;

5436 
yyS‹Num
 
yy¡©e
 = 
yy¡ack
.
yytİs
.
yy¡©es
[0]->
yyÌS‹
;

5437 
	`YYDPRINTF
 ((
¡d”r
, "EÁ”šg s‹ %d\n", 
yy¡©e
));

5438 ià(
yy¡©e
 =ğ
YYFINAL
)

5439 
yyacû±Ïb
;

5440 ià(
	`yyisDeçuÉedS‹
 (
yy¡©e
))

5442 
yyruË
 = 
	`yydeçuÉAùiÚ
 (
yy¡©e
);

5443 ià(
yyruË
 == 0)

5446 
	`yy»pÜtSyÁaxE¼Ü
 (&
yy¡ack
);

5447 
yyu£r_”rÜ
;

5449 
	`YYCHK1
 (
	`yygÌReduû
 (&
yy¡ack
, 0, 
yyruË
, 
yyŒue
));

5453 
yySymbŞ
 
yytok’
;

5454 ià(
yych¬
 =ğ
YYEMPTY
)

5456 
	`YYDPRINTF
 ((
¡d”r
, "Reading‡oken: "));

5457 
yych¬
 = 
YYLEX
;

5460 ià(
yych¬
 <ğ
YYEOF
)

5462 
yych¬
 = 
yytok’
 = 
YYEOF
;

5463 
	`YYDPRINTF
 ((
¡d”r
, "Now‡tƒnd of input.\n"));

5467 
yytok’
 = 
	`YYTRANSLATE
 (
yych¬
);

5468 
	`YY_SYMBOL_PRINT
 ("Nexˆtok’ is", 
yytok’
, &
yylv®
, &
yyÎoc
);

5471 
	`yyg‘LRAùiÚs
 (
yy¡©e
, 
yytok’
, &
yyaùiÚ
, &
yycÚæiùs
);

5472 ià(*
yycÚæiùs
 != 0)

5474 ià(
	`yyisShiáAùiÚ
 (
yyaùiÚ
))

5476 
	`YY_SYMBOL_PRINT
 ("Shiášg", 
yytok’
, &
yylv®
, &
yyÎoc
);

5477 
yych¬
 = 
YYEMPTY
;

5478 
yypo¢
 += 1;

5479 
	`yygÌShiá
 (&
yy¡ack
, 0, 
yyaùiÚ
, 
yypo¢
, &
yylv®
, &
yyÎoc
);

5480 ià(0 < 
yy¡ack
.
yy”rS‹
)

5481 
yy¡ack
.
yy”rS‹
 -= 1;

5483 ià(
	`yyisE¼ÜAùiÚ
 (
yyaùiÚ
))

5486 
	`yy»pÜtSyÁaxE¼Ü
 (&
yy¡ack
);

5487 
yyu£r_”rÜ
;

5490 
	`YYCHK1
 (
	`yygÌReduû
 (&
yy¡ack
, 0, -
yyaùiÚ
, 
yyŒue
));

5494 
	`YYID
 (
yyŒue
))

5496 
yySymbŞ
 
yytok’_to_shiá
;

5497 
size_t
 
yys
;

5499 
yys
 = 0; yy < 
yy¡ack
.
yytİs
.
yysize
; yys += 1)

5500 
yy¡ackp
->
yytİs
.
yylookah—dN“ds
[
yys
] = 
yych¬
 !ğ
YYEMPTY
;

5521 
yys
 = 0; yy < 
yy¡ack
.
yytİs
.
yysize
; yys += 1)

5522 
	`YYCHK1
 (
	`yy´oûssOÃSck
 (&
yy¡ack
, 
yys
, 
yypo¢
));

5523 
	`yy»moveD–‘es
 (&
yy¡ack
);

5524 ià(
yy¡ack
.
yytİs
.
yysize
 == 0)

5526 
	`yyund–‘eLa¡Sck
 (&
yy¡ack
);

5527 ià(
yy¡ack
.
yytİs
.
yysize
 == 0)

5528 
	`yyFa
 (&
yy¡ack
, 
	`YY_
("parseƒrror"));

5529 
	`YYCHK1
 (
	`yy»sŞveSck
 (&
yy¡ack
));

5530 
	`YYDPRINTF
 ((
¡d”r
, "Returningo deterministic operation.\n"));

5532 
	`yy»pÜtSyÁaxE¼Ü
 (&
yy¡ack
);

5533 
yyu£r_”rÜ
;

5541 
yytok’_to_shiá
 = 
	`YYTRANSLATE
 (
yych¬
);

5542 
yych¬
 = 
YYEMPTY
;

5543 
yypo¢
 += 1;

5544 
yys
 = 0; yy < 
yy¡ack
.
yytİs
.
yysize
; yys += 1)

5546 
yyaùiÚ
;

5547 cÚ¡ * 
yycÚæiùs
;

5548 
yyS‹Num
 
yy¡©e
 = 
yy¡ack
.
yytİs
.
yy¡©es
[
yys
]->
yyÌS‹
;

5549 
	`yyg‘LRAùiÚs
 (
yy¡©e
, 
yytok’_to_shiá
, &
yyaùiÚ
,

5550 &
yycÚæiùs
);

5552 
	`YYDPRINTF
 ((
¡d”r
, "OÀ¡ack %lu, ", (è
yys
));

5553 
	`YY_SYMBOL_PRINT
 ("shiášg", 
yytok’_to_shiá
, &
yylv®
, &
yyÎoc
);

5554 
	`yygÌShiá
 (&
yy¡ack
, 
yys
, 
yyaùiÚ
, 
yypo¢
,

5555 &
yylv®
, &
yyÎoc
);

5556 
	`YYDPRINTF
 ((
¡d”r
, "Stack %lu‚ow in state #%d\n",

5557 (è
yys
,

5558 
yy¡ack
.
yytİs
.
yy¡©es
[
yys
]->
yyÌS‹
));

5561 ià(
yy¡ack
.
yytİs
.
yysize
 == 1)

5563 
	`YYCHK1
 (
	`yy»sŞveSck
 (&
yy¡ack
));

5564 
	`YYDPRINTF
 ((
¡d”r
, "Returningo deterministic operation.\n"));

5565 
	`yycom´essSck
 (&
yy¡ack
);

5570 
yyu£r_”rÜ
:

5571 
	`yy»cov”SyÁaxE¼Ü
 (&
yy¡ack
);

5572 
yypo¢
 = 
yy¡ack
.
yytİs
.
yy¡©es
[0]->yyposn;

5575 
yyacû±Ïb
:

5576 
yy»suÉ
 = 0;

5577 
yy»tuº
;

5579 
yybugÏb
:

5580 
	`YYASSERT
 (
yyçl£
);

5581 
yyabÜab
;

5583 
yyabÜab
:

5584 
yy»suÉ
 = 1;

5585 
yy»tuº
;

5587 
yyexhau¡edÏb
:

5588 
	`yy”rÜ
 (
	`YY_
("memoryƒxhausted"));

5589 
yy»suÉ
 = 2;

5590 
yy»tuº
;

5592 
yy»tuº
:

5593 ià(
yych¬
 !ğ
YYEMPTY
)

5594 
	`yyde¡ruù
 ("Cleanup: discarding†ookahead",

5595 
	`YYTRANSLATE
 (
yych¬
),

5596 &
yylv®
);

5601 ià(
yy¡ack
.
yy™ems
)

5603 
yyGLRS‹
** 
yy¡©es
 = 
yy¡ack
.
yytİs
.yystates;

5604 ià(
yy¡©es
)

5606 
size_t
 
yysize
 = 
yy¡ack
.
yytİs
.yysize;

5607 
size_t
 
yyk
;

5608 
yyk
 = 0; yyk < 
yysize
; yyk += 1)

5609 ià(
yy¡©es
[
yyk
])

5611 
yy¡©es
[
yyk
])

5613 
yyGLRS‹
 *
yys
 = 
yy¡©es
[
yyk
];

5614 ià(
yys
->
yy´ed
 !ğ
NULL
)

5615 
	`yyde¡royGLRS‹
 ("CËªup:…İpšg", 
yys
);

5616 
yy¡©es
[
yyk
] = 
yys
->
yy´ed
;

5617 
yy¡ack
.
yyÃxtF»e
 -= 1;

5618 
yy¡ack
.
yy¥aûLeá
 += 1;

5623 
	`yyä“GLRSck
 (&
yy¡ack
);

5627  
	`YYID
 (
yy»suÉ
);

5628 
	}
}

5631 #ià
YYDEBUG


5632 
	$yyp¡ack
 (
yyGLRSck
* 
yy¡ackp
, 
size_t
 
yyk
)

5633 
	`__©Œibu‹__
 ((
__unu£d__
));

5634 
	$yypdump¡ack
 (
yyGLRSck
* 
yy¡ackp
è
	`__©Œibu‹__
 ((
__unu£d__
));

5637 
	$yy_yyp¡ack
 (
yyGLRS‹
* 
yys
)

5639 ià(
yys
->
yy´ed
)

5641 
	`yy_yyp¡ack
 (
yys
->
yy´ed
);

5642 
	`YYFPRINTF
 (
¡d”r
, " -> ");

5644 
	`YYFPRINTF
 (
¡d”r
, "%d@%lu", 
yys
->
yyÌS‹
,

5645 (è
yys
->
yypo¢
);

5646 
	}
}

5649 
	$yyp¡©es
 (
yyGLRS‹
* 
yy¡
)

5651 ià(
yy¡
 =ğ
NULL
)

5652 
	`YYFPRINTF
 (
¡d”r
, "<null>");

5654 
	`yy_yyp¡ack
 (
yy¡
);

5655 
	`YYFPRINTF
 (
¡d”r
, "\n");

5656 
	}
}

5659 
	$yyp¡ack
 (
yyGLRSck
* 
yy¡ackp
, 
size_t
 
yyk
)

5661 
	`yyp¡©es
 (
yy¡ackp
->
yytİs
.
yy¡©es
[
yyk
]);

5662 
	}
}

5664 
	#YYINDEX
(
YYX
) \

5665 ((
YYX
è=ğ
NULL
 ? -1 : (
yyGLRSckI‹m
*è(YYXè- 
yy¡ackp
->
yy™ems
)

	)

5669 
	$yypdump¡ack
 (
yyGLRSck
* 
yy¡ackp
)

5671 
yyGLRSckI‹m
* 
yyp
;

5672 
size_t
 
yyi
;

5673 
yyp
 = 
yy¡ackp
->
yy™ems
; yy°< yy¡ackp->
yyÃxtF»e
; yyp += 1)

5675 
	`YYFPRINTF
 (
¡d”r
, "%3lu. ",

5676 (è(
yyp
 - 
yy¡ackp
->
yy™ems
));

5677 ià(*(
yyboŞ
 *è
yyp
)

5679 
	`YYFPRINTF
 (
¡d”r
, "Res: %d, LR State: %d,…osn: %lu,…red: %ld",

5680 
yyp
->
yy¡©e
.
yy»sŞved
, yyp->yy¡©e.
yyÌS‹
,

5681 (è
yyp
->
yy¡©e
.
yypo¢
,

5682 (è
	`YYINDEX
 (
yyp
->
yy¡©e
.
yy´ed
));

5683 ià(! 
yyp
->
yy¡©e
.
yy»sŞved
)

5684 
	`YYFPRINTF
 (
¡d”r
, ", firstVal: %ld",

5685 (è
	`YYINDEX
 (
yyp
->
yy¡©e


5686 .
yy£mªtics
.
yyfœ¡V®
));

5690 
	`YYFPRINTF
 (
¡d”r
, "Option.„ule: %d, state: %ld,‚ext: %ld",

5691 
yyp
->
yyİtiÚ
.
yyruË
 - 1,

5692 (è
	`YYINDEX
 (
yyp
->
yyİtiÚ
.
yy¡©e
),

5693 (è
	`YYINDEX
 (
yyp
->
yyİtiÚ
.
yyÃxt
));

5695 
	`YYFPRINTF
 (
¡d”r
, "\n");

5697 
	`YYFPRINTF
 (
¡d”r
, "Tops:");

5698 
yyi
 = 0; yy˜< 
yy¡ackp
->
yytİs
.
yysize
; yyi += 1)

5699 
	`YYFPRINTF
 (
¡d”r
, "%lu: %ld; ", (è
yyi
,

5700 (è
	`YYINDEX
 (
yy¡ackp
->
yytİs
.
yy¡©es
[
yyi
]));

5701 
	`YYFPRINTF
 (
¡d”r
, "\n");

5702 
	}
}

5714 
boŞ
 
	$runYYP¬£r
(
MLN
* cÚ¡ & 
mÊ
, 
Domaš
* cÚ¡ & 
dom
,

5715 cÚ¡ * cÚ¡ & 
feName
,

5716 cÚ¡ 
boŞ
& 
®lP»dsExû±Qu”›sA»Clo£dWÜld
,

5717 cÚ¡ 
SŒšgHashA¼ay
* cÚ¡ & 
İ’WÜldP»dNames
,

5718 cÚ¡ 
SŒšgHashA¼ay
* cÚ¡ & 
şo£dWÜldP»dNames
,

5719 cÚ¡ 
SŒšgHashA¼ay
* cÚ¡ & 
qu”yP»dNames
,

5720 cÚ¡ 
boŞ
& 
addUn™CÏu£s
, cÚ¡ boŞ& 
w¬nDu¶iÿ‹s
,

5721 cÚ¡ & 
deçuÉWt
, cÚ¡ 
boŞ
& 
mu¡HaveWtOrFuÎStİ
,

5722 cÚ¡ 
Domaš
* cÚ¡ & 
domaš0
, cÚ¡ 
boŞ
& 
ÏzyInã»nû
,

5723 cÚ¡ 
boŞ
& 
æWtsOfFl³dCÏu£
)

5725 
	`zzš™
();

5726 ià(
feName
è{ 
yyš
 = 
	`fİ’
(feName, "r" ); 
zzšFeName
 = fileName; }

5727 
yyš
 = 
¡dš
;

5728 ià(
yyš
 =ğ
NULL
è
	`zzex™
("FaedØİ’ f%s.", 
feName
);

5730 
	`sigÇl
(
SIGFPE
,
zzsigHªdËr
);

5731 
	`sigÇl
(
SIGABRT
,
zzsigHªdËr
);

5732 
	`sigÇl
(
SIGILL
,
zzsigHªdËr
);

5733 
	`sigÇl
(
SIGSEGV
,
zzsigHªdËr
);

5735 
zzw¬nDu¶iÿ‹s
 = 
w¬nDu¶iÿ‹s
;

5736 
zzdeçuÉWt
 = 
deçuÉWt
;

5737 
zzmu¡HaveWtOrFuÎStİ
 = 
mu¡HaveWtOrFuÎStİ
;

5738 
zzæWtsOfFl³dCÏu£
 = 
æWtsOfFl³dCÏu£
;

5740 
	`ung‘c
('\n', 
yyš
);

5741 
zzmÊ
 = 
mÊ
;

5742 
zzdomaš
 = 
dom
;

5744 
zzªyTy³Id
 = 
zzdomaš
->
	`g‘Ty³Id
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

5745 
	`zzas£¹
(
zzªyTy³Id
 >= 0, "expecting zzanyTypeId >= 0");

5750 
zzisP¬sšg
 = 
Œue
;

5751 
	`yy·r£
();

5752 
zzisP¬sšg
 = 
çl£
;

5754 
	`zzcheckAÎTy³sHaveCÚ¡ªts
(
zzdomaš
);

5755 
	`zzü—‹Blocks
(
zzdomaš
);

5758 
	`zzg’”©eGroundšgsFromIÁ”ÇlP»diÿ‹sAndFunùiÚs
();

5761 ià(
zzusšgLškedP»diÿ‹s
è
	`zzg’”©eGroundšgsFromLškedP»diÿ‹s
(
zzdomaš
);

5764 ià(
zzusšgLškedFunùiÚs
è
	`zzg’”©eGroundšgsFromLškedFunùiÚs
(
zzdomaš
);

5766 ià(
zzok
)

5769 
cout
 << "Addšg cÏu£ tØMLN..." << 
’dl
;

5770 
	`zz­³ndFÜmuÏsToMLN
(
zzfÜmuÏInfos
, 
mÊ
, 
domaš0
);

5772 ià(
addUn™CÏu£s
è
	`zz­³ndUn™CÏu£sToMLN
(
zzdomaš
, 
zzmÊ
, 
zzdeçuÉWt
);

5774 
zzmÊ
->
	`£tCÏu£InfoPriÜM—nsToCÏu£Wts
();

5779 
zzdomaš
->
	`»Üd”CÚ¡ªts
(
zzmÊ
, 
zz´edIdToGndP»dM­
);

5781 
zzmÊ
->
	`com´ess
();

5783 
A¼ay
<
boŞ
> 
isClo£dWÜldA¼
;

5784 
	`zzflClo£dWÜldA¼ay
(
isClo£dWÜldA¼
,
®lP»dsExû±Qu”›sA»Clo£dWÜld
,

5785 
İ’WÜldP»dNames
, 
şo£dWÜldP»dNames
,

5786 
qu”yP»dNames
);

5788 
D©aba£
* 
db
 = 
Ãw
 
	`D©aba£
(
zzdomaš
, 
isClo£dWÜldA¼
, 
zz¡ÜeGroundP»ds
);

5789 ià(
ÏzyInã»nû
è
db
->
	`£tLazyFÏg
();

5790 
	`zzaddGndP»dsToDb
(
db
);

5791 
zzdomaš
->
	`£tDB
(
db
);

5792 
zzdomaš
->
	`com´ess
();

5795 ià(
zznumE¼Üs
 > 0è
cout
 << "Num oà”rÜ d‘eùed = " << zznumE¼Üs<<
’dl
;

5797 
	`zzş—nUp
();

5799 
	`sigÇl
(
SIGFPE
,
SIG_DFL
);

5800 
	`sigÇl
(
SIGABRT
,
SIG_DFL
);

5801 
	`sigÇl
(
SIGILL
,
SIG_DFL
);

5802 
	`sigÇl
(
SIGSEGV
,
SIG_DFL
);

5804  
zzok
;

5805 
	}
}

	@parser/fol.h

66 #iâdeà
FOL_H_JUN_21_2005


67 
	#FOL_H_JUN_21_2005


	)

69 
	~"mÊ.h
"

70 
	~"domaš.h
"

71 
	~"d©aba£.h
"

76 
boŞ
 
runYYP¬£r
(
MLN
* cÚ¡ & 
mÊ
, 
Domaš
* cÚ¡ & 
domaš
,

77 cÚ¡ * cÚ¡ & 
feName
,

78 cÚ¡ 
boŞ
& 
®lP»dsExû±Qu”›sA»Clo£dWÜld
,

79 cÚ¡ 
SŒšgHashA¼ay
* cÚ¡ & 
İ’WÜldP»dNames
,

80 cÚ¡ 
SŒšgHashA¼ay
* cÚ¡ & 
şo£dWÜldP»dNames
,

81 cÚ¡ 
SŒšgHashA¼ay
* cÚ¡ & 
qu”yP»dNames
,

82 cÚ¡ 
boŞ
& 
addUn™CÏu£s
, cÚ¡ boŞ& 
w¬nDu¶iÿ‹s
,

83 cÚ¡ & 
deçuÉWt
, cÚ¡ 
boŞ
& 
mu¡HaveWtOrFuÎStİ
,

84 cÚ¡ 
Domaš
* cÚ¡ & 
domašs
, cÚ¡ 
boŞ
& 
ÏzyInã»nû
,

85 cÚ¡ 
boŞ
& 
æWtsOfFl³dCÏu£
);

	@parser/folhelper.h

67 #iâdeà
FOLHELPER_H_JUL_21_2005


68 
	#FOLHELPER_H_JUN_21_2005


	)

71 
	~<dlfú.h
>

72 
	~<¡dio.h
>

73 
	~<¡dlib.h
>

74 
	~<as£¹.h
>

75 
	~<sigÇl.h
>

76 
	~<ext/hash_£t
>

77 
	~<¡ack
>

78 
	~<io¡»am
>

79 
	~<f¡»am
>

80 
	~<s¡»am
>

81 
	~"¡rfifŞi¡.h
"

82 
	~"´ediÿ‹.h
"

83 
	~"funùiÚ.h
"

84 
	~"şau£.h
"

85 
	~"şau£çùÜy.h
"

86 
	~"hash¡ršg.h
"

87 
	~"d©aba£.h
"

88 
	~"li¡obj.h
"

89 
	~"tim”.h
"

90 
	~"š‹º®s.h
"

104 cÚ¡ 
	gHARD_WEIGHT
 = 
DBL_MIN
;

105 cÚ¡ 
	gHARD_WEIGHT_MULTIPLIER
 = 10;

111 cÚ¡ 
	gZZ_MAX_ERRORS
 = 50;

114 cÚ¡ * 
	gZZ_FUNCVAR_PREFIX
 = "funcVar";

117 cÚ¡ * 
	gZZ_FUNCTION_SO_FILE
 = "functions.so";

120 cÚ¡ * 
	gZZ_TMP_FILE_POSTFIX
 = "_tmpalchemy.mln";

123 cÚ¡ * 
	gzzdeçuÉP»dName
 = "SKPRED";

124 cÚ¡ * 
	gzzdeçuÉFuncName
 = "SKFUNC";

125 cÚ¡ * 
	gzzdeçuÉTy³Name
 = "SKTYPE";

126 cÚ¡ * 
	gzzdeçuÉV¬Name
 = "SKVAR";

128 
boŞ
 
	gzz¡ÜeGroundP»ds
 = 
çl£
;

130 
boŞ
 
	gzzcÚ¡ªtMu¡BeDeş¬ed
 = 
çl£
;

132 
boŞ
 
	gzz»adH¬dCÏu£Wts
 = 
çl£
;

134 
boŞ
 
	gzzaá”RtP¬’
;

136 
boŞ
 
	gzzisP¬sšg
;

137 
	gzzdeçuÉWt
;

139 
boŞ
 
	gzzmu¡HaveWtOrFuÎStİ
;

142 
boŞ
 
	gzzæWtsOfFl³dCÏu£
;

143 
boŞ
 
	gzzw¬nDu¶iÿ‹s
;

144 
¡ršg
 
	gzzšFeName
;

145 
	gzz”rMsg
[1024];

147 
	gzzcouÁ
;

148 
	gzzlše
, 
	gzzcŞumn
;

149 
	gzznumCh¬R—d
;

150 
	gzznumE¼Üs
;

151 
boŞ
 
	gzzok
;

152 
MLN
* 
	gzzmÊ
;

153 
Domaš
* 
	gzzdomaš
;

154 
	gzznumEofS“n
;

155 
SŒFifoLi¡
 
	gzztok’Li¡
;

157 * 
	gzzty³Name
;

158 
P»diÿ‹Tem¶©e
* 
	gzz´edTem¶©e
;

159 
FunùiÚTem¶©e
* 
	gzzfuncTem¶©e
;

160 
P»diÿ‹
* 
	gzz´ed
;

161 
FunùiÚ
* 
	gzzfunc
;

162 
	g¡ack
<
	gFunùiÚ
*> 
	gzzfuncSck
;

163 
	g¡ack
<
	gLi¡Obj
*> 
	gzzfuncCÚjSck
;

164 * 
	gzzwt
;

165 * 
	gzzut
;

166 * 
	gzz»®V®ue
;

167 
boŞ
 
	gzzisNeg©ed
;

168 
boŞ
 
	gzzisA¡”isk
;

169 
boŞ
 
	gzzisPlus
;

170 
boŞ
 
	gzzhasFuÎStİ
;

171 
boŞ
 
	gzzhasWeightFuÎStİ
;

172 
boŞ
 
	gzzšIndivisibË
;

173 
boŞ
 
	gzzisHybrid
;

174 
	gzznumA¡”isk
;

175 
	gzzŒueF®£Unknown
;

176 
¡ršg
 
	gzzfÜmuÏSŒ
;

177 
¡ršg
 
	gzzfuncCÚjSŒ
;

178 
boŞ
 
	gzz·r£GroundP»d
;

179 
	g¡ack
<
	gLi¡Obj
*> 
	gzzfÜmuÏLi¡Objs
;

180 
	g¡ack
<
	gLi¡Obj
*> 
	gzz´edFuncLi¡Objs
;

181 
	ghash_m­
<, 
	gP»diÿ‹HashA¼ay
*> 
	gzz´edIdToGndP»dM­
;

182 
Li¡Obj
* 
	gzzcÚtP»d
;

183 
	gzzm—n
;

186 
	gzzfdnumP»ds
;

187 
	gzzfdnumFuncs
;

188 
	gzzfdnumV¬s
;

189 
	gzzfuncV¬CouÁ”
 = 0;

191 
¡ršg
 
	gzzfdfuncName
;

192 
	gA¼ay
<
	g¡ršg
> 
	gzzfdfuncCÚ¡ªts
;

193 
¡ršg
 
	gzzfdcÚ¡Name
;

195 * 
	gzztmpR‘uºCÚ¡ªt
;

196 
boŞ
 
	gzztmpR‘uºNum
;

199 
	gzzš™ŸlNumDeş¬©iÚ
;

202 
boŞ
 
	gzzusšgLškedP»diÿ‹s
;

204 
boŞ
 
	gzzusšgLškedFunùiÚs
;

207 
Li¡Obj
* 
	gzzŞdFuncLo
;

208 
Tim”
 
	gzztim”
;

211 
	gA¼ay
<A¼ay<cÚ¡ *> > 
	gzzš‹º®P»diÿ‹s
;

213 
	gA¼ay
<A¼ay<cÚ¡ *> > 
	gzzš‹º®FunùiÚs
;

216 * 
	gzzšfixP»dName
;

218 * 
	gzzšfixFuncName
;

221 
	sZZUnknownEqP»dInfo


223 
ZZUnknownEqP»dInfo
(cÚ¡ 
¡ršg
& 
Çme
, cÚ¡ sŒšg& 
lhs
, cÚ¡ sŒšg& 
rhs
)

224 :
Çme_
(
Çme
), 
lhs_
(
lhs
), 
rhs_
(
rhs
) {}

226 
¡ršg
 
	mÇme_
;

228 
¡ršg
 
	mlhs_
;

229 
¡ršg
 
	mrhs_
;

233 
	sZZUnknownIÁP»dInfo


235 
ZZUnknownIÁP»dInfo
(cÚ¡ 
¡ršg
& 
Çme
, cÚ¡ sŒšg& 
lhs
, cÚ¡ sŒšg& 
rhs
)

236 :
Çme_
(
Çme
), 
lhs_
(
lhs
), 
rhs_
(
rhs
) {}

238 
¡ršg
 
	mÇme_
;

240 
¡ršg
 
	mlhs_
;

241 
¡ršg
 
	mrhs_
;

245 
	sZZUnknownIÁFuncInfo


247 
ZZUnknownIÁFuncInfo
(cÚ¡ 
¡ršg
& 
Çme
, cÚ¡ 
A¼ay
<¡ršg>& 
vÇmes
)

248 :
Çme_
(
Çme
), 
vÇmes_
(
vÇmes
) {}

250 
¡ršg
 
	mÇme_
;

252 
	mA¼ay
<
	m¡ršg
> 
	mvÇmes_
;

256 
	gzzeqTy³CouÁ”
;

259 
	gzzštP»dTy³CouÁ”
;

262 
	gzzštFuncTy³CouÁ”
;

265 
	gli¡
<
	gZZUnknownEqP»dInfo
> 
	gzzeqP»dLi¡
;

267 
	gli¡
<
	gZZUnknownIÁP»dInfo
> 
	gzzštP»dLi¡
;

269 
	gli¡
<
	gZZUnknownIÁFuncInfo
> 
	gzzštFuncLi¡
;

274 
	sZZFeS‹


276 
ZZFeS‹
(
FILE
* cÚ¡ & 
fe
, cÚ¡ 
¡ršg
& 
šFeName
,

277 cÚ¡ & 
numCh¬R—d
, cÚ¡ & 
lše
, cÚ¡ & 
cŞumn
)

278 : 
fe_
(
fe
), 
šFeName_
(
šFeName
), 
numCh¬R—d_
(
numCh¬R—d
),

279 
lše_
(
lše
), 
cŞumn_
(
cŞumn
) {}

281 
FILE
* 
	mfe_
;

282 
¡ršg
 
	mšFeName_
;

283 
	mnumCh¬R—d_
;

284 
	mlše_
;

285 
	mcŞumn_
;

288 
	g¡ack
<
	gZZFeS‹
> 
	gzzšSck
;

292 
	gzzv¬CouÁ”
;

293 
	gzzªyTy³Id
;

295 
	sZZV¬IdTy³


297 
ZZV¬IdTy³
(è: 
id_
(0), 
ty³Id_
(0) {}

299 
ZZV¬IdTy³
(cÚ¡ ZZV¬IdTy³& 
v¬IdTy³
)

300 : 
id_
(
v¬IdTy³
.id_), 
ty³Id_
(varIdType.typeId_) {}

302 
ZZV¬IdTy³
(cÚ¡ & 
v¬Id
, cÚ¡ & 
ty³Id
)

303 : 
id_
(
v¬Id
), 
ty³Id_
(
ty³Id
) {}

305 
	mid_
;

306 
	mty³Id_
;

311 
	ghash_m­
<cÚ¡ 
	t¡ršg
, 
	tZZV¬IdTy³
, 
	tHashSŒšg
, 
	tEqu®SŒšg
>

312 
	tZZV¬NameToIdM­
;

314 
ZZV¬NameToIdM­
 
	gzzv¬NameToIdM­
;

317 
	ghash_m­
<
	tFunùiÚ
*, 
	t¡ršg
, 
	tHashFunùiÚ
, 
	tEqu®FunùiÚ
>

318 
	tZZFuncToFuncV¬M­
;

320 
ZZFuncToFuncV¬M­
 
	gzzfuncToFuncV¬M­
;

324 
	ghash_m­
<
	t¡ršg
, sŒšg, 
	tHashSŒšg
, 
	tEqu®SŒšg
> 
	tSŒšgToSŒšgM­
;

326 
	gzzscİeCouÁ”
;

330 
	gli¡
< 
	t·œ
<
	tSŒšgToSŒšgM­
*,> > 
	tZZOldNewV¬Li¡
;

331 
ZZOldNewV¬Li¡
 
	gzzŞdNewV¬Li¡
;

337 
	ghash_m­
<
	t¡ršg
, , 
	tHashSŒšg
, 
	tEqu®SŒšg
> 
	tSŒšgToIÁM­
;

338 
SŒšgToIÁM­
 
	gzz¶usV¬M­
;

342 
	sZZFÜmuÏInfo


344 
ZZFÜmuÏInfo
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
ffÜmuÏ
, cÚ¡ 
¡ršg
& 
ffÜmuÏSŒ
,

345 cÚ¡ & 
ÂumP»ds
, cÚ¡ * cÚ¡ & 
wwt
,

346 cÚ¡ & 
ddeçuÉWt
, cÚ¡ 
Domaš
* cÚ¡& 
ddomaš
,

347 
MLN
* cÚ¡ & 
mmÊ
, cÚ¡ 
ZZV¬NameToIdM­
& 
vv¬NameToIdM­
,

348 cÚ¡ 
SŒšgToIÁM­
& 
µlusV¬M­
, cÚ¡ & 
ÂumA¡”isk
,

349 cÚ¡ 
boŞ
& 
hhasFuÎStİ
,

350 cÚ¡ 
boŞ
& 
¼—dH¬dCÏu£Wts
,

351 cÚ¡ 
boŞ
& 
mmu¡HaveWtOrFuÎStİ
,

352 cÚ¡ 
boŞ
& 
iisIndivisibË
, cÚ¡ boŞ& 
iisHybrid
,

353 cÚ¡ 
Li¡Obj
* cÚ¡ & 
ccÚtP»d
, cÚ¡ & 
mm—n
,

354 cÚ¡ 
boŞ
& 
hhasWeightFuÎStİ
, cÚ¡ * cÚ¡ & 
uut
)

355 : 
fÜmuÏ
(
ffÜmuÏ
), 
fÜmuÏSŒ
(
ffÜmuÏSŒ
), 
numP»ds
(
ÂumP»ds
),

356 
deçuÉWt
(
ddeçuÉWt
), 
domaš
(
ddomaš
), 
mÊ
(
mmÊ
),

357 
numA¡”isk
(
ÂumA¡”isk
), 
hasFuÎStİ
(
hhasFuÎStİ
),

358 
»adH¬dCÏu£Wts
(
¼—dH¬dCÏu£Wts
),

359 
mu¡HaveWtOrFuÎStİ
(
mmu¡HaveWtOrFuÎStİ
),

360 
isIndivisibË
(
iisIndivisibË
), 
isHybrid
(
iisHybrid
),

361 
cÚtP»d
(
ccÚtP»d
), 
m—n
(
mm—n
), 
hasWeightFuÎStİ
(
hhasWeightFuÎStİ
)

363 
	mwt
 = (
wwt
è? 
Ãw
 (*wwtè: 
NULL
;

364 
	mut
 = (
uut
è? 
Ãw
 (*uutè: 
NULL
;

366 
	mZZV¬NameToIdM­
::
cÚ¡_™”©Ü
 
™
 = 
vv¬NameToIdM­
.
begš
();

367 ; 
	m™
 !ğ
vv¬NameToIdM­
.
’d
(); it++)

368 
	mv¬NameToIdM­
[(*
™
).
fœ¡
] = 
ZZV¬IdTy³
((*™).
£cÚd
);

370 
	mSŒšgToIÁM­
::
cÚ¡_™”©Ü
 
™t
 = 
µlusV¬M­
.
begš
();

371 ; 
	m™t
 !ğ
µlusV¬M­
.
’d
(); itt++)

372 
	m¶usV¬M­
[(*
™t
).
fœ¡
] = (*™t).
£cÚd
;

375 ~
ZZFÜmuÏInfo
(è{ ià(
	mwt
è
d–‘e
 wt; ià(
	mut
) delete util; }

377 cÚ¡ 
Li¡Obj
* 
	mfÜmuÏ
;

378 cÚ¡ 
¡ršg
 
	mfÜmuÏSŒ
;

379 cÚ¡ 
	mnumP»ds
;

380 cÚ¡ * 
	mwt
;

381 cÚ¡ 
	mdeçuÉWt
;

382 cÚ¡ 
Domaš
* 
	mdomaš
;

383 
MLN
* 
	mmÊ
;

384 
ZZV¬NameToIdM­
 
	mv¬NameToIdM­
;

385 
SŒšgToIÁM­
 
	m¶usV¬M­
;

386 cÚ¡ 
	mnumA¡”isk
;

387 cÚ¡ 
boŞ
 
	mhasFuÎStİ
;

388 cÚ¡ 
boŞ
 
	m»adH¬dCÏu£Wts
;

389 cÚ¡ 
boŞ
 
	mmu¡HaveWtOrFuÎStİ
;

390 cÚ¡ 
boŞ
 
	misIndivisibË
;

391 cÚ¡ 
boŞ
 
	misHybrid
;

392 cÚ¡ 
Li¡Obj
* 
	mcÚtP»d
;

393 cÚ¡ 
	mm—n
;

394 cÚ¡ 
boŞ
 
	mhasWeightFuÎStİ
;

395 cÚ¡ * 
	mut
;

398 
	gA¼ay
<
	gZZFÜmuÏInfo
*> 
	gzzfÜmuÏInfos
;

403 
¡ršg
 
	$rmTmpPo¡fix
(cÚ¡ 
¡ršg
& 
f’ame
)

405 
po¡fixL’
 = 
	`¡¾’
(
ZZ_TMP_FILE_POSTFIX
);

406 ià(
f’ame
.
	`Ëngth
(è< 
po¡fixL’
)  filename;

407 ià(
f’ame
.
	`com·»
(f’ame.
	`Ëngth
(è- 
po¡fixL’
,…ostfixLen,

408 
ZZ_TMP_FILE_POSTFIX
, 
po¡fixL’
)==0)

409  
f’ame
.
	`sub¡r
(0, f’ame.
	`Ëngth
(è- 
po¡fixL’
);

411  
f’ame
;

412 
	}
}

415 
	$yy”rÜ
(cÚ¡ * 
”r
)

417 
¡ršg
 
”rSŒ
 = 
”r
;

418 ià(
	`¡ºcmp
(
”r
,"parseƒrror, unexpected '(',ƒxpecting '='",42)==0)

419 
”rSŒ
.
	`­³nd
("Have you declaredhe…redicate/function…receding '('");

421 ià(
zzisP¬sšg
)

422 
	`´štf
("ERROR in %s:†ine %d, col %d: %s\n",

423 
	`rmTmpPo¡fix
(
zzšFeName
).
	`c_¡r
(),
zzlše
, 
zzcŞumn
, 
”rSŒ
.c_str());

425 
	`´štf
("ERROR occurs‡fter…arsing %s: %s\n",

426 
	`rmTmpPo¡fix
(
zzšFeName
).
	`c_¡r
(), 
”rSŒ
.c_str());

428 
zzok
=
çl£
;

429 ià(++
zznumE¼Üs
 =ğ
ZZ_MAX_ERRORS
)

431 
cout
 << "Num oà”rÜ ğ" << 
zznumE¼Üs


432 << ". Exûeded maximum‚umb” oà”rÜs." << 
’dl
;

433 
	`ex™
(-1);

435 
	}
}

438 
	$zz”r
(cÚ¡ * cÚ¡ & 
¡r
è{ 
	`yy”rÜ
(¡r); 
	}
}

441 
	$zz”r
(cÚ¡ * cÚ¡ & 
¡r
, cÚ¡ * cÚ¡ & 
tok’
)

443 
	`¥rštf
(
zz”rMsg
, 
¡r
, 
tok’
);

444 
	`yy”rÜ
(
zz”rMsg
);

445 
	}
}

448 
	$zz”r
(cÚ¡ * cÚ¡ & 
¡r
, cÚ¡ * cÚ¡ & 
tok’1
,

449 cÚ¡ * cÚ¡ & 
tok’2
)

451 
	`¥rštf
(
zz”rMsg
, 
¡r
, 
tok’1
, 
tok’2
);

452 
	`yy”rÜ
(
zz”rMsg
);

453 
	}
}

456 
	$zz”r
(cÚ¡ * cÚ¡ & 
¡r
, cÚ¡ * cÚ¡ & 
tok’1
,

457 cÚ¡ * cÚ¡ & 
tok’2
, cÚ¡ * cÚ¡ & 
tok’3
)

459 
	`¥rštf
(
zz”rMsg
, 
¡r
, 
tok’1
, 
tok’2
, 
tok’3
);

460 
	`yy”rÜ
(
zz”rMsg
);

461 
	}
}

464 
	$zz”r
(cÚ¡ * cÚ¡ & 
¡r
, cÚ¡ * cÚ¡ & 
tok’1
,

465 cÚ¡ & 
tok’2
, cÚ¡ & 
tok’3
)

467 
	`¥rštf
(
zz”rMsg
, 
¡r
, 
tok’1
, 
tok’2
, 
tok’3
);

468 
	`yy”rÜ
(
zz”rMsg
);

469 
	}
}

472 
	$zzw¬n
(cÚ¡ * cÚ¡ & 
¡r
)

474 ià(
zzisP¬sšg
)

475 
	`´štf
("WARNING in %s:†ine %d, col %d: %s\n",

476 
	`rmTmpPo¡fix
(
zzšFeName
).
	`c_¡r
(), 
zzlše
, 
zzcŞumn
, 
¡r
);

478 
	`´štf
("WARNING‡fter…arsing %s: %s\n",

479 
	`rmTmpPo¡fix
(
zzšFeName
).
	`c_¡r
(), 
¡r
);

480 
	}
}

483 
	$zzw¬n
(cÚ¡ * cÚ¡ & 
¡r
, cÚ¡ * cÚ¡ & 
tok’
)

485 
	`¥rštf
(
zz”rMsg
, 
¡r
, 
tok’
);

486 
	`zzw¬n
(
zz”rMsg
);

487 
	}
}

490 
	$zzex™
(cÚ¡ * cÚ¡ & 
¡r
)

492 
	`zz”r
(
¡r
);

493 
	`ex™
(-1);

494 
	}
}

497 
	$zzex™
(cÚ¡ * cÚ¡ & 
¡r
, cÚ¡ * cÚ¡ & 
tok’
)

499 
	`zz”r
(
¡r
,
tok’
);

500 
	`ex™
(-1);

501 
	}
}

504 
	$zzas£¹
(cÚ¡ 
boŞ
& 
cÚdn
, cÚ¡ * cÚ¡ & 
¡r
)

506 
¡ršg
 
	`s
("assertion failed! ");

507 
s
.
	`­³nd
(
¡r
);

508 ià(!
cÚdn
è
	`zzex™
(
s
.
	`c_¡r
());

509 
	}
}

512 
	$zzmsg
(cÚ¡ * cÚ¡ & 
¡r
)

514 ià(
zzisP¬sšg
)

515 
	`´štf
("in %s:†ine %d, col %d: %s\n",

516 
	`rmTmpPo¡fix
(
zzšFeName
).
	`c_¡r
(), 
zzlše
, 
zzcŞumn
, 
¡r
);

518 
	`´štf
("aá”…¬sšg %s: %s\n", 
	`rmTmpPo¡fix
(
zzšFeName
).
	`c_¡r
(), 
¡r
);

519 
	}
}

522 
	$zzmsg
(cÚ¡ * cÚ¡ & 
¡r
, cÚ¡ * cÚ¡ & 
tok’
)

524 
	`¥rštf
(
zz”rMsg
, 
¡r
, 
tok’
);

525 
	`zzmsg
(
zz”rMsg
);

526 
	}
}

531 
¡ršg
 
	$zzg‘NewV¬Name
(cÚ¡ * cÚ¡ & 
v¬Name
)

533 
ZZOldNewV¬Li¡
::
™”©Ü
 
™
 = 
zzŞdNewV¬Li¡
.
	`begš
();

534 ; 
™
 !ğ
zzŞdNewV¬Li¡
.
	`’d
(); it++)

536 
SŒšgToSŒšgM­
* 
ŞdNewV¬M­
 = (*
™
).
fœ¡
;

537 
SŒšgToSŒšgM­
::
™”©Ü
 
m™
;

538 ià((
m™
 = 
ŞdNewV¬M­
->
	`fšd
(
v¬Name
)è!ğŞdNewV¬M­->
	`’d
())

539  (*
m™
).
£cÚd
;

541  
	`¡ršg
(
v¬Name
);

542 
	}
}

546 
	$zzg‘V¬Id
(cÚ¡ * cÚ¡& 
v¬Name
, cÚ¡ & 
v¬Ty³Id
,

547 & 
ex³ùedTy³Id
)

549 
¡ršg
 
vÇme
 = 
v¬Name
;

552 
ZZV¬NameToIdM­
::
™”©Ü
 
m™
;

553 ià((
m™
 = 
zzv¬NameToIdM­
.
	`fšd
(
vÇme
)è=ğzzv¬NameToIdM­.
	`’d
())

555 
ZZV¬IdTy³
 
	`v
(--
zzv¬CouÁ”
, 
v¬Ty³Id
);

556 
zzv¬NameToIdM­
[
vÇme
] = 
v
;

557  
v
.
id_
;

560 
ZZV¬IdTy³
& 
v¬IdTy³
 = (*
m™
).
£cÚd
;

561 
ty³Id
 = 
v¬Ty³Id
;

563 ià(
v¬IdTy³
.
ty³Id_
 =ğ
zzªyTy³Id
)

565 
v¬IdTy³
.
ty³Id_
 = 
ty³Id
;

566 
ex³ùedTy³Id
 = 
v¬IdTy³
.
ty³Id_
;

567  
v¬IdTy³
.
id_
;

575  
v¬IdTy³
.
id_
;

576 
	}
}

578 
	$zzg‘V¬Ty³Id
(cÚ¡ * cÚ¡& 
v¬Name
)

580 
ZZV¬NameToIdM­
::
™”©Ü
 
m™
;

581 ià((
m™
 = 
zzv¬NameToIdM­
.
	`fšd
(
	`¡ršg
(
v¬Name
))è!ğzzv¬NameToIdM­.
	`’d
())

582  (*
m™
).
£cÚd
.
ty³Id_
;

584 
	}
}

587 
	$zzcheckV¬NameToIdM­
()

589 
ZZV¬NameToIdM­
::
™”©Ü
 
™
 = 
zzv¬NameToIdM­
.
	`begš
();

590 ;
™
 !ğ
zzv¬NameToIdM­
.
	`’d
(); it++)

591 ià((*
™
).
£cÚd
.
ty³Id_
 =ğ
zzªyTy³Id
)

592 
	`zz”r
("V¬ŸbË % ha unknowÀty³.", (*
™
).
fœ¡
.
	`c_¡r
());

593 
	}
}

597 
boŞ
 
	$zzv¬IsQuªtif›d
(cÚ¡ * cÚ¡& 
v¬Name
)

599 
ZZOldNewV¬Li¡
::
™”©Ü
 
™
 = 
zzŞdNewV¬Li¡
.
	`begš
();

600 ; 
™
 !ğ
zzŞdNewV¬Li¡
.
	`’d
(); it++)

602 
SŒšgToSŒšgM­
* 
ŞdNewV¬M­
 = (*
™
).
fœ¡
;

603 
SŒšgToSŒšgM­
::
™”©Ü
 
m™
;

604 ià((
m™
 = 
ŞdNewV¬M­
->
	`fšd
(
v¬Name
)è!ğŞdNewV¬M­->
	`’d
())

605  
Œue
;

607  
çl£
;

608 
	}
}

612 
V¬Ty³M­
* 
	$zzü—‹V¬Ty³M­
(cÚ¡ 
ZZV¬NameToIdM­
& 
m­
)

614 
V¬Ty³M­
* 
vtM­
 = 
Ãw
 VarTypeMap;

615 
ZZV¬NameToIdM­
::
cÚ¡_™”©Ü
 
™
 = 
m­
.
	`begš
();

616 ; 
™
 !ğ
m­
.
	`’d
(); it++)

617 (*
vtM­
)[(*
™
).
fœ¡
] =(*™).
£cÚd
.
ty³Id_
;

618  
vtM­
;

619 
	}
}

622 
	$zz£tPlusV¬Ty³Id
()

624 
SŒšgToIÁM­
::
™”©Ü
 
m™
 = 
zz¶usV¬M­
.
	`begš
();

625 ; 
m™
 !ğ
zz¶usV¬M­
.
	`’d
(); mit++)

627 
¡ršg
 
¶usV¬Name
 = (*
m™
).
fœ¡
;

628 
ZZV¬NameToIdM­
::
™”©Ü
 
ty³It
 = 
zzv¬NameToIdM­
.
	`fšd
(
¶usV¬Name
);

629 
	`zzas£¹
(
ty³It
 !ğ
zzv¬NameToIdM­
.
	`’d
(),

633 (*
m™
).
£cÚd
 = (*
ty³It
).£cÚd.
ty³Id_
;

635 
	}
}

648 
boŞ
 
	$zzisIÁ”ÇlFunùiÚ
(cÚ¡ * 
funúame
)

650 
i
 = 0; i < 
zzš‹º®FunùiÚs
.
	`size
(); i++)

651 ià(
	`¡rcmp
(
funúame
, 
zzš‹º®FunùiÚs
[
i
][0]) == 0)

652  
Œue
;

654  
çl£
;

655 
	}
}

659 
	$zzfšdIÁ”ÇlFunùiÚ
(cÚ¡ * 
funúame
)

661 
i
 = 0; i < 
zzš‹º®FunùiÚs
.
	`size
(); i++)

662 ià(
	`¡rcmp
(
funúame
, 
zzš‹º®FunùiÚs
[
i
][0]) == 0)

663  
i
;

665 
	}
}

674 
boŞ
 
	$zzisIÁ”ÇlP»diÿ‹
(cÚ¡ * 
´edÇme
)

676 
i
 = 0; i < 
zzš‹º®P»diÿ‹s
.
	`size
(); i++)

677 ià(
	`¡rcmp
(
´edÇme
, 
zzš‹º®P»diÿ‹s
[
i
][0]) == 0)

678  
Œue
;

680  
çl£
;

681 
	}
}

685 
	$zzfšdIÁ”ÇlP»diÿ‹
(cÚ¡ * 
´edÇme
)

687 
i
 = 0; i < 
zzš‹º®P»diÿ‹s
.
	`size
(); i++)

688 ià(
	`¡rcmp
(
´edÇme
, 
zzš‹º®P»diÿ‹s
[
i
][0]) == 0)

689  
i
;

691 
	}
}

701 
boŞ
 
	$zzisLškedFunùiÚ
(cÚ¡ * 
funúame
, * 
hªdË
)

703 *
”rÜ
;

705 
	`dË¼Ü
();

706 
	`dlsym
(
hªdË
, 
funúame
);

707 ià((
”rÜ
 = 
	`dË¼Ü
()è!ğ
NULL
è 
çl£
;

709  
Œue
;

710 
	}
}

720 
boŞ
 
	$zzisLškedP»diÿ‹
(cÚ¡ * 
´edÇme
, * 
hªdË
)

722 *
”rÜ
;

724 
	`dË¼Ü
();

725 
	`dlsym
(
hªdË
, 
´edÇme
);

726 ià((
”rÜ
 = 
	`dË¼Ü
()è!ğ
NULL
è 
çl£
;

728  
Œue
;

729 
	}
}

731 
	$zz£tEqP»dTy³Name
(cÚ¡ & 
ty³Id
)

733 cÚ¡ * 
ty³Name
 = 
zzdomaš
->
	`g‘Ty³Name
(
ty³Id
);

734 
¡ršg
 
eqP»dName
 = 
P»diÿ‹Tem¶©e
::
	`ü—‹Equ®P»dTy³Name
(
ty³Name
);

735 cÚ¡ 
P»diÿ‹Tem¶©e
* 
t
 =

736 
zzdomaš
->
	`g‘P»diÿ‹Tem¶©e
(
eqP»dName
.
	`c_¡r
());

737 
zz´ed
->
	`£tTem¶©e
((
P»diÿ‹Tem¶©e
*)
t
);

738 
	`zzas£¹
(
t
 !ğ
NULL
,

740 
Li¡Obj
* 
´edlo
 = 
zz´edFuncLi¡Objs
.
	`tİ
();

741 
´edlo
->
	`»¶aû
(
P»diÿ‹Tem¶©e
::
EQUAL_NAME
, 
eqP»dName
.
	`c_¡r
());

742 
	}
}

744 
	$zzg‘Ty³Id
(cÚ¡ 
T”m
* cÚ¡ & 
t
, cÚ¡ * cÚ¡ & 
v¬Name
)

746 
‹rmTy³
 = 
t
->
	`g‘Ty³
();

747 ià(
‹rmTy³
 =ğ
T”m
::
FUNCTION
)

748  
t
->
	`g‘FunùiÚ
()->
	`g‘R‘Ty³Id
();

751 ià(
‹rmTy³
 =ğ
T”m
::
CONSTANT
)

754 ià(
‹rmTy³
 =ğ
T”m
::
VARIABLE
)

756 
ZZV¬NameToIdM­
::
™”©Ü
 
m™
 = 
zzv¬NameToIdM­
.
	`fšd
(
v¬Name
);

757 ià(
m™
 !ğ
zzv¬NameToIdM­
.
	`’d
()è (*m™).
£cÚd
.
ty³Id_
;

758  
zzªyTy³Id
;

760 
	`zzas£¹
(
çl£
, "expect FUNCTION, VARIABLE, CONSTANT");

762 
	}
}

765 
	$zzd‘”mšeEqP»dTy³s
(
Li¡Obj
* cÚ¡ & 
fÜmuÏ
)

767 
´evSize
 = 0;

768 
zzeqP»dLi¡
.
	`size
(è!ğ
´evSize
)

770 
´evSize
 = 
zzeqP»dLi¡
.
	`size
();

771 
li¡
<
ZZUnknownEqP»dInfo
>::
™”©Ü
 
l™
, 
»mIt
 ;

772 
l™
 = 
zzeqP»dLi¡
.
	`begš
();†™ !ğzzeqP»dLi¡.
	`’d
();†it++)

774 
ZZUnknownEqP»dInfo
& 
u•i
 = (*
l™
);

775 
¡ršg
 
lv¬Name
 = 
u•i
.
lhs_
;

776 
¡ršg
 
rv¬Name
 = 
u•i
.
rhs_
;

777 
lTy³Id
 = 
	`zzg‘V¬Ty³Id
(
lv¬Name
.
	`c_¡r
());

778 
rTy³Id
 = 
	`zzg‘V¬Ty³Id
(
rv¬Name
.
	`c_¡r
());

780 ià(
lTy³Id
 > 0 && 
rTy³Id
 > 0)

782 ià(
lTy³Id
 !ğ
rTy³Id
)

783 
	`zz”r
("Theypes of %s‡nd %s onhe†eft‡nd„ight of "

784 "'=' mu¡ m©ch.", 
lv¬Name
.
	`c_¡r
(), 
rv¬Name
.c_str());

785 cÚ¡ * 
ty³Name
 = 
zzdomaš
->
	`g‘Ty³Name
(
lTy³Id
);

786 
¡ršg
 
eqP»dName


787 ğ
P»diÿ‹Tem¶©e
::
	`ü—‹Equ®P»dTy³Name
(
ty³Name
);

788 
fÜmuÏ
->
	`»¶aû
(
u•i
.
Çme_
.
	`c_¡r
(), 
eqP»dName
.c_str());

789 
»mIt
 = 
l™
;†™++; 
zzeqP»dLi¡
.
	`”a£
(remIt);

793 iàĞ(
lTy³Id
<=0 && 
rTy³Id
>0) || (lTypeId>0 &&„TypeId<=0) )

795 
knownTy³Id
 = (
lTy³Id
>0è?†Ty³Id : 
rTy³Id
;

796 cÚ¡ * 
ty³Name
 = 
zzdomaš
->
	`g‘Ty³Name
(
knownTy³Id
);

797 
¡ršg
 
eqP»dName


798 ğ
P»diÿ‹Tem¶©e
::
	`ü—‹Equ®P»dTy³Name
(
ty³Name
);

799 
fÜmuÏ
->
	`»¶aû
(
u•i
.
Çme_
.
	`c_¡r
(), 
eqP»dName
.c_str());

800 cÚ¡ * 
unknowV¬Name
 = (
lTy³Id
>0è? 
rv¬Name
.
	`c_¡r
() :

801 
lv¬Name
.
	`c_¡r
();

802 
zzv¬NameToIdM­
[
unknowV¬Name
].
ty³Id_
 = 
knownTy³Id
;

803 
»mIt
 = 
l™
;†™++; 
zzeqP»dLi¡
.
	`”a£
(remIt);

807 ià(
zzeqP»dLi¡
.
	`size
() > 0)

809 
	`zz”r
("The following variables used withhe '=' operator have "

811 
li¡
<
ZZUnknownEqP»dInfo
>::
™”©Ü
 
l™
;

812 
l™
 = 
zzeqP»dLi¡
.
	`begš
();†™ !ğzzeqP»dLi¡.
	`’d
();†it++)

813 
cout
 << (*
l™
).
lhs_
 << " " << (*l™).
rhs_
 << " ";

814 
cout
 << 
’dl
;

816 
	}
}

818 
	$zzd‘”mšeIÁP»dTy³s
(
Li¡Obj
* cÚ¡ & 
fÜmuÏ
)

820 
´evSize
 = 0;

821 
zzštP»dLi¡
.
	`size
(è!ğ
´evSize
)

823 
´evSize
 = 
zzštP»dLi¡
.
	`size
();

824 
li¡
<
ZZUnknownIÁP»dInfo
>::
™”©Ü
 
l™
, 
»mIt
 ;

825 
l™
 = 
zzštP»dLi¡
.
	`begš
();†™ !ğzzštP»dLi¡.
	`’d
();†it++)

827 
ZZUnknownIÁP»dInfo
& 
ui
 = (*
l™
);

828 
¡ršg
 
lv¬Name
 = 
ui
.
lhs_
;

829 
¡ršg
 
rv¬Name
 = 
ui
.
rhs_
;

830 
¡ršg
 
ba£Name
 = 
ui
.
Çme_
.
	`sub¡r
(0, ui.Çme_.
	`fšd_Ï¡_of
("_"));

831 
lTy³Id
 = 
	`zzg‘V¬Ty³Id
(
lv¬Name
.
	`c_¡r
());

832 
rTy³Id
 = 
	`zzg‘V¬Ty³Id
(
rv¬Name
.
	`c_¡r
());

834 ià(
lTy³Id
 > 0 && 
rTy³Id
 > 0)

836 ià(
lTy³Id
 !ğ
rTy³Id
)

837 
	`zz”r
("Theypes of %s‡nd %s onhe†eft‡nd„ight of "

839 
lv¬Name
.
	`c_¡r
(), 
rv¬Name
.c_str());

840 cÚ¡ * 
ty³Name
 = 
zzdomaš
->
	`g‘Ty³Name
(
lTy³Id
);

841 
¡ršg
 
štP»dName


842 ğ
P»diÿ‹Tem¶©e
::
	`ü—‹IÁ”ÇlP»dTy³Name
(
ba£Name
.
	`c_¡r
(),

843 
ty³Name
);

844 
fÜmuÏ
->
	`»¶aû
(
ui
.
Çme_
.
	`c_¡r
(), 
štP»dName
.c_str());

845 
»mIt
 = 
l™
;†™++; 
zzštP»dLi¡
.
	`”a£
(remIt);

848 iàĞ(
lTy³Id
<=0 && 
rTy³Id
>0) || (lTypeId>0 &&„TypeId<=0) )

850 
knownTy³Id
 = (
lTy³Id
>0è?†Ty³Id : 
rTy³Id
;

851 cÚ¡ * 
ty³Name
 = 
zzdomaš
->
	`g‘Ty³Name
(
knownTy³Id
);

852 
¡ršg
 
štP»dName


853 ğ
P»diÿ‹Tem¶©e
::
	`ü—‹IÁ”ÇlP»dTy³Name
(
ba£Name
.
	`c_¡r
(),

854 
ty³Name
);

855 
fÜmuÏ
->
	`»¶aû
(
ui
.
Çme_
.
	`c_¡r
(), 
štP»dName
.c_str());

856 cÚ¡ * 
unknowV¬Name
 = (
lTy³Id
>0è? 
rv¬Name
.
	`c_¡r
() :

857 
lv¬Name
.
	`c_¡r
();

858 
zzv¬NameToIdM­
[
unknowV¬Name
].
ty³Id_
 = 
knownTy³Id
;

859 
»mIt
 = 
l™
;†™++; 
zzštP»dLi¡
.
	`”a£
(remIt);

863 ià(
zzštP»dLi¡
.
	`size
() > 0)

865 
	`zz”r
("The following variables used with‡n internal operator have "

867 
li¡
<
ZZUnknownIÁP»dInfo
>::
™”©Ü
 
l™
;

868 
l™
 = 
zzštP»dLi¡
.
	`begš
();†™ !ğzzštP»dLi¡.
	`’d
();†it++)

869 
cout
 << (*
l™
).
lhs_
 << " " << (*l™).
rhs_
 << " ";

870 
cout
 << 
’dl
;

872 
	}
}

874 
	$zzd‘”mšeIÁFuncTy³s
(
Li¡Obj
* cÚ¡ & 
fÜmuÏ
)

876 
´evSize
 = 0;

877 
zzštFuncLi¡
.
	`size
(è!ğ
´evSize
)

879 
´evSize
 = 
zzštFuncLi¡
.
	`size
();

880 
li¡
<
ZZUnknownIÁFuncInfo
>::
™”©Ü
 
l™
, 
»mIt
 ;

881 
l™
 = 
zzštFuncLi¡
.
	`begš
();†™ !ğzzštFuncLi¡.
	`’d
();†it++)

883 
ZZUnknownIÁFuncInfo
& 
uifi
 = (*
l™
);

884 
A¼ay
<
¡ršg
> 
v¬Names
 = 
uifi
.
vÇmes_
;

885 
¡ršg
 
ba£Name
 = 
uifi
.
Çme_
.
	`sub¡r
(0, uifi.Çme_.
	`fšd_Ï¡_of
("_"));

887 
boŞ
 
unknownTy³s
 = 
çl£
;

888 
A¼ay
<> 
ty³Ids
;

889 
i
 = 0; i < 
v¬Names
.
	`size
(); i++)

891 
ty³Id
 = 
	`zzg‘V¬Ty³Id
(
v¬Names
[
i
].
	`c_¡r
());

892 
ty³Ids
.
	`­³nd
(
ty³Id
);

893 ià(
ty³Id
 <= 0)

895 
unknownTy³s
 = 
Œue
;

899 ià(!
unknownTy³s
)

901 
A¼ay
<
¡ršg
> 
ty³Names
;

902 
i
 = 0; i < 
ty³Ids
.
	`size
(); i++)

904 
¡ršg
 
ty³Name
 = 
zzdomaš
->
	`g‘Ty³Name
(
ty³Ids
[
i
]);

905 
ty³Names
.
	`­³nd
(
ty³Name
);

907 
¡ršg
 
štP»dFromFuncName


908 ğ
FunùiÚTem¶©e
::
	`ü—‹IÁ”ÇlFuncTy³Name
(
ba£Name
.
	`c_¡r
(),

909 
ty³Names
);

910 
fÜmuÏ
->
	`»¶aû
(
uifi
.
Çme_
.
	`c_¡r
(), 
štP»dFromFuncName
.c_str());

911 
»mIt
 = 
l™
;†™++; 
zzštFuncLi¡
.
	`”a£
(remIt);

915 ià(
zzštFuncLi¡
.
	`size
() > 0)

917 
	`zz”r
("The following variables used with‡n internal function have "

919 
li¡
<
ZZUnknownIÁFuncInfo
>::
™”©Ü
 
l™
;

920 
l™
 = 
zzštFuncLi¡
.
	`begš
();†™ !ğzzštFuncLi¡.
	`’d
();†it++)

922 
i
 = 1; i < (*
l™
).
vÇmes_
.
	`size
(); i++)

923 
cout
 << (*
l™
).
vÇmes_
[
i
] << " ";

925 
cout
 << 
’dl
;

927 
	}
}

930 
boŞ
 
	$zzcheckRightTy³AndG‘V¬Id
(cÚ¡ & 
ty³Id
, cÚ¡ * cÚ¡& 
v¬Name
,

931 & 
v¬Id
)

934 
ex³ùedTy³Id
 = -1;

935 
v¬Id
 = 
	`zzg‘V¬Id
(
v¬Name
, 
ty³Id
, 
ex³ùedTy³Id
);

936 ià(
v¬Id
 == 0)

938 cÚ¡ * 
expName
 = 
zzdomaš
->
	`g‘Ty³Name
(
ty³Id
);

939 cÚ¡ * 
uÃxpName
 = 
zzdomaš
->
	`g‘Ty³Name
(
ex³ùedTy³Id
);

940 
	`zz”r
("Variable %s is ofhe wrongype. Expected %s but given %s",

941 
v¬Name
, 
expName
, 
uÃxpName
);

942  
çl£
;

944  
Œue
;

945 
	}
}

947 
	$zzaddTy³
(cÚ¡ * cÚ¡& 
ty³Name
,

948 
P»diÿ‹Tem¶©e
* cÚ¡& 
´edTem¶©e
,

949 
FunùiÚTem¶©e
* cÚ¡& 
funcTem¶©e
,

950 
boŞ
 
isUnique
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

952 ià(
isUnique
 && 
funcTem¶©e
 !ğ
NULL
)

954 
	`zz”r
("Function…arameter (%s) cannot beƒxistentially‡nd uniquely "

955 "quªtif›d",
ty³Name
);

956 
isUnique
 = 
çl£
;

959 ià(
´edTem¶©e
 !ğ
NULL
)

961 
boŞ
 
ok
 = 
´edTem¶©e
->
	`­³ndT”mTy³
(
ty³Name
, 
isUnique
, 
domaš
);

962 if(!
ok
è
	`zzex™
("T”my³ % should havb“Àdeş¬ed.", 
ty³Name
);

965 ià(
funcTem¶©e
 !ğ
NULL
)

967 
boŞ
 
ok
 = 
funcTem¶©e
->
	`­³ndT”mTy³
(
ty³Name
, 
isUnique
, 
domaš
);

968 ià(!
ok
è
	`zzex™
("T”my³ % should havb“Àdeş¬ed.", 
ty³Name
);

970 
	}
}

973 
	$zzaddTy³ToDomaš
(
Domaš
* cÚ¡ & 
domaš
, cÚ¡ * cÚ¡ & 
ty³Name
)

975 
ty³Id
 = 
domaš
->
	`addTy³
(
ty³Name
);

977 ià(
ty³Name
 !ğ
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
)

980 
¡ršg
 
±Name
 = 
P»diÿ‹Tem¶©e
::
	`ü—‹Equ®P»dTy³Name
(
ty³Name
);

981 ià(
domaš
->
	`g‘P»diÿ‹Tem¶©e
(
±Name
.
	`c_¡r
()è=ğ
NULL
)

983 
P»diÿ‹Tem¶©e
* 
±
 = 
Ãw
 
	`P»diÿ‹Tem¶©e
();

984 
±
->
	`£tName
(
±Name
.
	`c_¡r
());

985 
±
->
	`­³ndT”mTy³
(
ty³Name
, 
çl£
, 
domaš
);

986 
±
->
	`­³ndT”mTy³
(
ty³Name
, 
çl£
, 
domaš
);

987 
id
 = 
domaš
->
	`addP»diÿ‹Tem¶©e
(
±
);

988 
	`zzas£¹
(
id
 >= 0, "expect…redemplate id >= 0");

989 
±
->
	`£tId
(
id
);

1013  
ty³Id
;

1014 
	}
}

1016 
	$zzü—‹P»d
(
P»diÿ‹
*& 
´ed
, cÚ¡ * cÚ¡ & 
´edName
)

1018 cÚ¡ 
P»diÿ‹Tem¶©e
* 
t
 = 
zzdomaš
->
	`g‘P»diÿ‹Tem¶©e
(
´edName
);

1019 ià(
t
==
NULL
)

1021 
šdex
 = 
	`zzfšdIÁ”ÇlP»diÿ‹
(
´edName
);

1023 ià(
šdex
 >= 0)

1025 
	`zzas£¹
(
zzdomaš
->
	`g‘FunùiÚId
(
´edName
) < 0,

1027 
P»diÿ‹Tem¶©e
* 
±em¶©e
 = 
Ãw
 
	`P»diÿ‹Tem¶©e
();

1028 
±em¶©e
->
	`£tName
(
´edName
);

1031 
j
 = 1; j < 
zzš‹º®P»diÿ‹s
[
šdex
].
	`size
(); j++)

1033 
id
;

1034 cÚ¡ * 
‰y³
 = 
zzš‹º®P»diÿ‹s
[
šdex
][
j
];

1035 ià(!
zzdomaš
->
	`isTy³
(
‰y³
))

1037 
id
 = 
	`zzaddTy³ToDomaš
(
zzdomaš
, 
‰y³
);

1038 
	`zzas£¹
(
id
 >= 0, "expecting var id >= 0");

1040 
	`zzaddTy³
(
‰y³
, 
±em¶©e
, 
NULL
, 
çl£
, 
zzdomaš
);

1045 
	`zzas£¹
(
±em¶©e
, "notƒxpecting…template==NULL");

1046 
id
 = 
zzdomaš
->
	`addP»diÿ‹Tem¶©e
(
±em¶©e
);

1047 
	`zzas£¹
(
id
 >= 0, "expecting…redemplate id >= 0");

1048 
±em¶©e
->
	`£tId
(
id
);

1049 
	`zzas£¹
(
´ed
 =ğ
NULL
, "expect…red == NULL");

1050 
´ed
 = 
Ãw
 
	`P»diÿ‹
(
±em¶©e
);

1054 
	`zzex™
("P»diÿ‹ % should havb“Àdeş¬ed.", 
´edName
);

1080 
	`zzas£¹
(
´ed
 =ğ
NULL
, "expect…red == NULL");

1081 
´ed
 = 
Ãw
 
	`P»diÿ‹
(
t
);

1082 
	}
}

1086 
	$zzcheckP»dNumT”m
(
P»diÿ‹
*& 
´ed
)

1088 
exp
, 
uÃxp
;

1089 ià((
uÃxp
=
´ed
->
	`g‘NumT”ms
()è!ğ(
exp
õ»d->
	`g‘Tem¶©e
()->getNumTerms()))

1091 
	`zz”r
("Wrong‚umber oferms for…redicate %s. Expected %d but given %d",

1092 
´ed
->
	`g‘Name
(), 
exp
, 
uÃxp
);

1094 
buf
[128];

1096 
i
 = 
uÃxp
; i < 
exp
; i++)

1098 
	`¥rštf
(
buf
, "%s%d", 
zzdeçuÉV¬Name
, 
zzcouÁ
++);

1099 
ty³Id
 = 
´ed
->
	`g‘T”mTy³AsIÁ
(
i
);

1100 
v¬Id
;

1101 
boŞ
 
rightTy³
 = 
	`zzcheckRightTy³AndG‘V¬Id
(
ty³Id
, 
buf
, 
v¬Id
);

1102 ià(!
rightTy³
è
	`zzex™
("");

1103 
´ed
->
	`­³ndT”m
(
Ãw
 
	`T”m
(
v¬Id
, (*í»d, 
Œue
));

1106 
	}
}

1109 
	$zz´edAµ’dCÚ¡ªt
(
P»diÿ‹
* cÚ¡& 
´ed
, cÚ¡ & 
cÚ¡Id
,

1110 cÚ¡ * cÚ¡ & 
cÚ¡Name
)

1113 
exp
, 
uÃxp
;

1114 ià((
uÃxp
=
´ed
->
	`g‘NumT”ms
()è=ğ(
exp
õ»d->
	`g‘Tem¶©e
()->getNumTerms()))

1116 
	`zz”r
("Wrong‚umber oferms for…redicate %s. Expected %d but given >%d",

1117 
´ed
->
	`g‘Name
(), 
exp
, 
uÃxp
);

1140 ià(
´ed
 !ğ
NULL
è´ed->
	`­³ndT”m
(
Ãw
 
	`T”m
(
cÚ¡Id
, (*í»d, 
Œue
));

1141 
	}
}

1146 
	$zzcÚsumeTok’
(
SŒFifoLi¡
& 
tok’Li¡
, cÚ¡ * 
c
)

1148 cÚ¡ * 
tok
 = 
tok’Li¡
.
	`»moveLa¡
();

1149 ià(
	`¡rcmp
(
tok
, 
c
)!=0)

1151 
cout
 << "tok’ = '" << 
tok
 << "', '" << 
c
 << "'" << 
’dl
;

1152 
	`zzas£¹
(
	`¡rcmp
(
tok
, 
c
)==0, "expect strcmp(tok,c)==0");

1154 
d–‘e
 [] 
tok
;

1155 
	}
}

1158 
	$zzü—‹Func
(
FunùiÚ
*& 
func
, cÚ¡ * cÚ¡ & 
funcName
)

1160 cÚ¡ 
FunùiÚTem¶©e
* 
t
 = 
zzdomaš
->
	`g‘FunùiÚTem¶©e
(
funcName
);

1161 ià(
t
==
NULL
)

1164 
šdex
;

1165 ià((
šdex
 = 
	`zzfšdIÁ”ÇlFunùiÚ
(
funcName
)) >= 0)

1167 
	`zzas£¹
(
zzfuncTem¶©e
==
NULL
, "expecting zzfuncTemplate==NULL");

1168 
zzfuncTem¶©e
 = 
Ãw
 
	`FunùiÚTem¶©e
();

1171 
	`zzas£¹
(
zz´edTem¶©e
==
NULL
,"expecting zzpredTemplate==NULL");

1172 
zz´edTem¶©e
 = 
Ãw
 
	`P»diÿ‹Tem¶©e
();

1174 
	`zzas£¹
(
zzdomaš
->
	`g‘P»diÿ‹Id
(
funcName
) < 0,

1176 
	`zzas£¹
(
zzfuncTem¶©e
,"expecting zzfuncTemplate!=NULL");

1177 
zzfuncTem¶©e
->
	`£tName
(
funcName
);

1180 * 
´edName
;

1181 
´edName
 = (*)
	`m®loc
((
	`¡¾’
(
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
) +

1182 
	`¡¾’
(
funcName
) + 1)*());

1183 
	`¡rıy
(
´edName
, 
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
);

1184 
	`¡rÿt
(
´edName
, 
funcName
);

1187 
	`zzas£¹
(
zzdomaš
->
	`g‘FunùiÚId
(
´edName
) < 0,

1189 
	`zzas£¹
(
zz´edTem¶©e
,"expecting zzpredTemplate!=NULL");

1190 
zz´edTem¶©e
->
	`£tName
(
´edName
);

1191 
d–‘e
 [] 
´edName
;

1194 cÚ¡ * 
»tTy³Name
 = 
zzš‹º®FunùiÚs
[
šdex
][1];

1196 ià(!
zzdomaš
->
	`isTy³
(
»tTy³Name
))

1198 
id
 = 
	`zzaddTy³ToDomaš
(
zzdomaš
, 
»tTy³Name
);

1199 
	`zzas£¹
(
id
 >= 0, "expecting„etTypeName's id >= 0");

1202 
zzfuncTem¶©e
->
	`£tR‘Ty³Name
(
»tTy³Name
,
zzdomaš
);

1204 
	`zzaddTy³
(
»tTy³Name
, 
zz´edTem¶©e
, 
NULL
, 
çl£
, 
zzdomaš
);

1207 
j
 = 2; j < 
zzš‹º®FunùiÚs
[
šdex
].
	`size
(); j++)

1209 
id
;

1210 cÚ¡ * 
‰y³
 = 
zzš‹º®FunùiÚs
[
šdex
][
j
];

1211 ià(!
zzdomaš
->
	`isTy³
(
‰y³
))

1213 
id
 = 
	`zzaddTy³ToDomaš
(
zzdomaš
, 
‰y³
);

1214 
	`zzas£¹
(
id
 >= 0, "expecting var id >= 0");

1216 
	`zzaddTy³
(
‰y³
, 
zz´edTem¶©e
, 
NULL
, 
çl£
, 
zzdomaš
);

1218 
	`zzaddTy³
(
‰y³
, 
NULL
, 
zzfuncTem¶©e
, 
çl£
, 
zzdomaš
);

1222 
	`zzas£¹
(
zzfuncTem¶©e
, "expecting zzfuncTemplate != NULL");

1223 
id
 = 
zzdomaš
->
	`addFunùiÚTem¶©e
(
zzfuncTem¶©e
);

1224 
	`zzas£¹
(
id
 >= 0, "expecting functionemplate's id >= 0");

1225 
zzfuncTem¶©e
->
	`£tId
(
id
);

1227 
	`zzas£¹
(
zz´edTem¶©e
, "notƒxpecting zzpredTemplate==NULL");

1228 
´edId
 = 
zzdomaš
->
	`addP»diÿ‹Tem¶©e
(
zz´edTem¶©e
);

1229 
	`zzas£¹
(
´edId
 >= 0, "expecting…redemplate id >= 0");

1230 
zz´edTem¶©e
->
	`£tId
(
´edId
);

1232 
	`zzas£¹
(
func
 =ğ
NULL
, "expect func == NULL");

1233 
func
 = 
Ãw
 
	`FunùiÚ
(
zzfuncTem¶©e
);

1234 
zzfuncTem¶©e
 = 
NULL
;

1235 
zz´edTem¶©e
 = 
NULL
;

1239 
	`zzex™
("FunùiÚ % should havb“Àdeş¬ed.", 
funcName
);

1264 
	`zzas£¹
(
func
 =ğ
NULL
, "expect func == NULL");

1265 
func
 = 
Ãw
 
	`FunùiÚ
(
t
);

1266 
	}
}

1269 
	$zzcheckFuncNumT”m
(
FunùiÚ
*& 
func
)

1271 
exp
, 
uÃxp
;

1272 ià((
uÃxp
=
func
->
	`g‘NumT”ms
()è!ğ(
exp
=func->
	`g‘Tem¶©e
()->getNumTerms()))

1274 
	`zz”r
("Wrong‚umber oferms for func %s. Expected %d but given %d",

1275 
func
->
	`g‘Name
(), 
exp
, 
uÃxp
);

1277 
buf
[128];

1279 
i
 = 
uÃxp
; i < 
exp
; i++)

1281 
	`¥rštf
(
buf
, "%s%d", 
zzdeçuÉV¬Name
, 
zzcouÁ
++);

1282 
ty³Id
 = 
func
->
	`g‘T”mTy³AsIÁ
(
i
);

1283 
v¬Id
;

1284 
boŞ
 
rightTy³
 = 
	`zzcheckRightTy³AndG‘V¬Id
(
ty³Id
, 
buf
, 
v¬Id
);

1285 ià(!
rightTy³
è
	`zzex™
("");

1286 
func
->
	`­³ndT”m
(
Ãw
 
	`T”m
(
v¬Id
, (*)func, 
çl£
));

1289 
	}
}

1292 
	$zzfuncAµ’dCÚ¡ªt
(
FunùiÚ
* cÚ¡& 
func
, cÚ¡ & 
cÚ¡Id
,

1293 cÚ¡ * cÚ¡ & 
cÚ¡Name
)

1296 
exp
, 
uÃxp
;

1297 ià((
uÃxp
=
func
->
	`g‘NumT”ms
()è=ğ(
exp
=func->
	`g‘Tem¶©e
()->getNumTerms()))

1299 
	`zz”r
("Wrong‚umber oferms for function %s. Expected %d but given > %d",

1300 
func
->
	`g‘Name
(), 
exp
, 
uÃxp
);

1321 ià(
func
 !ğ
NULL
èfunc->
	`­³ndT”m
(
Ãw
 
	`T”m
(
cÚ¡Id
, (*)func, 
çl£
));

1322 
	}
}

1327 
zz³rmu‹A¡”iskedP»ds
(cÚ¡ & 
numA¡”isk
,

1328 cÚ¡ 
Li¡Obj
* cÚ¡ & 
fÜmuÏ
,

1329 cÚ¡ 
¡ršg
& 
fÜmuÏSŒ
,

1330 
A¼ay
<
Li¡Obj
*>& 
şau£s
,

1331 
A¼ay
<
¡ršg
>& 
fÜmuÏSŒs
)

1333 
	gşau£s
.
ş—r
();

1334 
	gfÜmuÏSŒs
.
ş—r
();

1335 ià(
	gnumA¡”isk
 == 0)

1337 
şau£s
.
­³nd
Ğ
Ãw
 
Li¡Obj
(
fÜmuÏ
));

1338 
	gfÜmuÏSŒs
.
­³nd
(
fÜmuÏSŒ
);

1342 
	gA¼ay
<> 
	ga¡Idxs
;

1343 
	gi
 = 0; i < 
	gfÜmuÏSŒ
.
Ëngth
(); i++)

1344 ià(
	gfÜmuÏSŒ
.
©
(
i
è=ğ'*'è
a¡Idxs
.
­³nd
(i);

1345 
as£¹
(
a¡Idxs
.
size
(è=ğ
numA¡”isk
);

1348 
	gA¼aysAcûssÜ
<
	gboŞ
> 
	gacc
;

1349 
	gi
 = 0; i < 
	gnumA¡”isk
; i++)

1351 
	gA¼ay
<
	gboŞ
>* 
	ga
 = 
Ãw
 
A¼ay
<
boŞ
>(2);

1352 
	ga
->
­³nd
(
çl£
);‡->­³nd(
Œue
);

1353 
	gacc
.
­³ndA¼ay
(
a
);

1356 
	gA¼ay
<
	gboŞ
> 
	gbA¼
;

1357 
	gacc
.
g‘NextCombš©iÚ
(
bA¼
))

1360 
	gşau£s
.
­³nd
(
Ãw
 
Li¡Obj
(
fÜmuÏ
));

1361 
	gidx
 = 0;

1362 
	gşau£s
[
şau£s
.
size
()-1]->
»¶aûA¡”isk
(
bA¼
, 
idx
);

1364 
¡ršg
 
	gs
 = 
fÜmuÏSŒ
;

1365 
as£¹
(
bA¼
.
size
(è=ğ
a¡Idxs
.size());

1366 
	gj
 = 0; j < 
	gbA¼
.
size
(); j++)

1367 
	gs
.
©
(
a¡Idxs
[
j
]èğ(
bA¼
[j]) ? ' ' : '!';

1369 
	gfÜmuÏSŒs
.
­³nd
(
s
);

1372 
	gacc
.
d–‘eA¼aysAndCË¬
();

1376 
zzg‘DisjunùiÚs
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
lo
, 
A¼ay
<Li¡Obj*>& 
şau£s
)

1378 cÚ¡ 
	gA¼ay
<
	gLi¡Obj
*>& 
	globjs
 = 
lo
->
g‘Li¡
();

1380 ià((
	globjs
[0]->
g‘SŒ
())[0] != '^')

1382 
şau£s
.
­³nd
((
Li¡Obj
*)
lo
);

1386 
	gi
 = 1; i < 
	globjs
.
size
(); i++)

1387 
	gşau£s
.
­³nd
(
lobjs
[
i
]);

1391 cÚ¡ 
boŞ
 
	$zzisCÚ¡ªt
(cÚ¡ * cÚ¡ & 
Çme
)

1393  (
	`isuµ”
(
Çme
[0]) ||‚ame[0] == '"');

1394 
	}
}

1396 
FunùiÚ
* 
	$zzü—‹Func
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
lo
)

1398 cÚ¡ 
A¼ay
<
Li¡Obj
*>& 
‹rmlo
 = 
lo
->
	`g‘Li¡
();

1399 cÚ¡ * 
funcName
 = 
‹rmlo
[0]->
	`g‘SŒ
();

1400 
FunùiÚ
* 
func
 = 
NULL
;

1401 
	`zzü—‹Func
(
func
, 
funcName
);

1402 
i
 = 1; i < 
‹rmlo
.
	`size
(); i++)

1404 ià(
‹rmlo
[
i
]->
	`isSŒ
())

1406 cÚ¡ * 
Çme
 = 
‹rmlo
[
i
]->
	`g‘SŒ
();

1408 ià(
	`zzisCÚ¡ªt
(
Çme
))

1410 
cÚ¡Id
 = 
zzdomaš
->
	`g‘CÚ¡ªtId
(
Çme
);

1411 ià(
cÚ¡Id
 < 0)

1412 
	`zzex™
("zzcreateFunc(): failedo find constant %s. "

1413 "Havyou deş¬ed it?", 
Çme
);

1414 
	`zzfuncAµ’dCÚ¡ªt
(
func
, 
cÚ¡Id
, 
Çme
);

1418 ià(
func
->
	`g‘NumT”ms
(è=ğfunc->
	`g‘Tem¶©e
()->getNumTerms())

1419 
	`zzex™
("zzcreateFunc(): Function %s hasoo manyerms",

1420 
func
->
	`g‘Name
());

1423 
ty³Id
 = 
func
->
	`g‘T”mTy³AsIÁ
(func->
	`g‘NumT”ms
());

1424 
ex³ùedTy³Id
;

1425 
v¬Id
 = 
	`zzg‘V¬Id
(
Çme
, 
ty³Id
, 
ex³ùedTy³Id
);

1427 ià(
v¬Id
==0)

1428 
	`zzex™
("zzcreateFunc(): failedo createerm, variable %s has wrong "

1429 "ty³", 
Çme
);

1430 
func
->
	`­³ndT”m
(
Ãw
 
	`T”m
(
v¬Id
, (*)func, 
çl£
));

1436 
FunùiÚ
* 
‹rmFunc
 = 
	`zzü—‹Func
(
‹rmlo
[
i
]);

1437 
T”m
* 
ÃwT”m
 = 
Ãw
 
	`T”m
(
‹rmFunc
, (*)
func
, 
çl£
);

1438 
‹rmFunc
->
	`£tP¬’t
(
ÃwT”m
);

1439 
func
->
	`­³ndT”m
(
ÃwT”m
);

1443 
	`zzcheckFuncNumT”m
(
func
);

1444  
func
;

1445 
	}
}

1448 
P»diÿ‹
* 
	$zzü—‹P»d
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
lo
)

1450 cÚ¡ 
A¼ay
<
Li¡Obj
*>& 
‹rmlo
 = 
lo
->
	`g‘Li¡
();

1451 cÚ¡ * 
´edName
 = 
‹rmlo
[0]->
	`g‘SŒ
();

1452 
P»diÿ‹
* 
´ed
 = 
NULL
;

1453 
	`zzü—‹P»d
(
´ed
, 
´edName
);

1454 
i
 = 1; i < 
‹rmlo
.
	`size
(); i++)

1456 ià(
‹rmlo
[
i
]->
	`isSŒ
())

1458 cÚ¡ * 
Çme
 = 
‹rmlo
[
i
]->
	`g‘SŒ
();

1459 ià(
	`zzisCÚ¡ªt
(
Çme
))

1461 
cÚ¡Id
 = 
zzdomaš
->
	`g‘CÚ¡ªtId
(
Çme
);

1462 ià(
cÚ¡Id
 < 0)

1463 
	`zzex™
("zzcreatePred(): failedo find constant %s. "

1464 "Havyou deş¬ed it?", 
Çme
);

1465 
	`zz´edAµ’dCÚ¡ªt
(
´ed
, 
cÚ¡Id
, 
Çme
);

1469 ià(
´ed
->
	`g‘NumT”ms
(è=ğ´ed->
	`g‘Tem¶©e
()->getNumTerms())

1470 
	`zzex™
("zzcreatePred(): Predicate %s hasoo manyerms",

1471 
´ed
->
	`g‘Name
());

1474 
ty³Id
 = 
´ed
->
	`g‘T”mTy³AsIÁ
Õ»d->
	`g‘NumT”ms
());

1475 
ex³ùedTy³Id
;

1476 
v¬Id
 = 
	`zzg‘V¬Id
(
Çme
, 
ty³Id
, 
ex³ùedTy³Id
);

1478 ià(
v¬Id
 == 0)

1479 
	`zzex™
("zzcreatePred(): failedo createerm, variable %s has wrong "

1480 "ty³", 
Çme
);

1481 
´ed
->
	`­³ndT”m
(
Ãw
 
	`T”m
(
v¬Id
, (*í»d, 
Œue
));

1486 
FunùiÚ
* 
func
 = 
	`zzü—‹Func
(
‹rmlo
[
i
]);

1487 
T”m
* 
ÃwT”m
 = 
Ãw
 
	`T”m
(
func
, (*)
´ed
, 
Œue
);

1488 
func
->
	`£tP¬’t
(
ÃwT”m
);

1489 
´ed
->
	`­³ndT”m
(
ÃwT”m
);

1493 
	`zzcheckP»dNumT”m
(
´ed
);

1494  
´ed
;

1495 
	}
}

1498 
	$zzü—‹CÏu£
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
lo
, 
CÏu£
* cÚ¡ & 
şau£
,

1499 cÚ¡ 
boŞ
& 
isIndivisibË
)

1501 ià(!
isIndivisibË
)

1503 
zzv¬CouÁ”
 = 0;

1504 
zzv¬NameToIdM­
.
	`ş—r
();

1507 cÚ¡ 
A¼ay
<
Li¡Obj
*>& 
şau£lo
 = 
lo
->
	`g‘Li¡
();

1509 ià(
	`¡rcmp
(
şau£lo
[0]->
	`g‘SŒ
(), "v")==0)

1511 
i
 = 1; i < 
şau£lo
.
	`size
(); i++)

1513 cÚ¡ 
A¼ay
<
Li¡Obj
*>& 
´edlo
 = 
şau£lo
[
i
]->
	`g‘Li¡
();

1514 
P»diÿ‹
* 
´ed
;

1516 ià((
´edlo
[0]->
	`g‘SŒ
())[0] == '!')

1518 
´ed
 = 
	`zzü—‹P»d
(
´edlo
[1]);

1519 
´ed
->
	`£tS’£
(
çl£
);

1522 
´ed
 = 
	`zzü—‹P»d
(
şau£lo
[
i
]);

1523 
´ed
->
	`£tP¬’t
(
şau£
);

1524 
şau£
->
	`­³ndP»diÿ‹
(
´ed
);

1530 
P»diÿ‹
* 
´ed
;

1531 ià(((*
lo
)[0]->
	`g‘SŒ
())[0] == '!')

1533 
´ed
 = 
	`zzü—‹P»d
((*
lo
)[1]);

1534 
´ed
->
	`£tS’£
(
çl£
);

1537 
´ed
 = 
	`zzü—‹P»d
(
lo
);

1538 
´ed
->
	`£tP¬’t
(
şau£
);

1539 
şau£
->
	`­³ndP»diÿ‹
(
´ed
);

1542 
	`zzcheckV¬NameToIdM­
();

1543 
	}
}

1547 
zzü—‹CÏu£s
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
lo
, 
A¼ay
<
CÏu£
*>& 
şau£s
,

1548 
CÏu£
*& 
æ³dCÏu£
, cÚ¡ 
boŞ
& 
isIndivisibË
)

1550 
	gzzv¬CouÁ”
 = 0;

1551 
	gzzv¬NameToIdM­
.
ş—r
();

1552 
	gæ³dCÏu£
 = 
NULL
;

1556 
CÏu£
* 
	gşau£OfUn™P»ds
 = 
Ãw
 Clause;

1557 
Li¡Obj
* 
	gun™P»ds
 = 
Ãw
 Li¡Obj; Li¡Obj 
Ür
("v"); un™P»ds->
­³nd
(&orr);

1558 
	gA¼ay
<
	gLi¡Obj
*> 
	gdisjunùiÚs
;

1559 
zzg‘DisjunùiÚs
(
lo
, 
disjunùiÚs
);

1560 
	gi
 = 0; i < 
	gdisjunùiÚs
.
size
(); i++)

1562 
CÏu£
* 
	gşau£
 = 
Ãw
 Clause();

1563 
zzü—‹CÏu£
(
disjunùiÚs
[
i
], 
şau£
, 
isIndivisibË
);

1564 ià(
	gşau£
->
g‘NumP»diÿ‹s
() > 1)

1565 
	gşau£s
.
­³nd
(
şau£
);

1568 
	gun™P»ds
->
­³nd
(
disjunùiÚs
[
i
]);

1569 
d–‘e
 
	gşau£
;

1573 ià(
	gun™P»ds
->
size
(è> 1è
zzü—‹CÏu£
(
un™P»ds
, 
şau£OfUn™P»ds
,

1574 
isIndivisibË
);

1575 
	gun™P»ds
->
ş—r
();

1576 
d–‘e
 
	gun™P»ds
;

1578 ià(
	gşau£OfUn™P»ds
->
g‘NumP»diÿ‹s
() > 1)

1580 
	gi
 = 0; i < 
	gşau£OfUn™P»ds
->
g‘NumP»diÿ‹s
(); i++)

1581 ((
	gP»diÿ‹
*)
	gşau£OfUn™P»ds
->
g‘P»diÿ‹
(
i
))->
šv”tS’£
();

1582 
	gşau£s
.
­³nd
(
şau£OfUn™P»ds
);

1583 
	gæ³dCÏu£
 = 
şau£OfUn™P»ds
;

1586 ià(
	gşau£OfUn™P»ds
->
g‘NumP»diÿ‹s
() == 1)

1589 
şau£s
.
­³nd
(
şau£OfUn™P»ds
);

1592 
d–‘e
 
	gşau£OfUn™P»ds
;

1605 
	$zzü—‹Blocks
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

1607 
tÙ®NumP»ds
 = 0;

1608 
numFOP»ds
 = 
domaš
->
	`g‘NumP»diÿ‹s
();

1609 
p
 = 0;… < 
numFOP»ds
;…++)

1611 cÚ¡ 
P»diÿ‹Tem¶©e
* 
±
 = 
domaš
->
	`g‘P»diÿ‹Tem¶©e
(
p
);

1612 cÚ¡ 
A¼ay
<>* 
uniqueV¬Indexes
 = 
±
->
	`g‘UniqueV¬Indexes
();

1614 ià(
uniqueV¬Indexes
->
	`size
() == 0) ;

1616 
P»diÿ‹
* 
´ed
 = 
domaš
->
	`ü—‹P»diÿ‹
(
p
, 
çl£
);

1619 
A¼ay
<> 
uniqueV¬Ids
;

1621 
i
 = 0; i < 
´ed
->
	`g‘NumT”ms
(); i++)

1623 ià(
uniqueV¬Indexes
->
	`cÚšs
(
i
))

1624 
uniqueV¬Ids
.
	`­³nd
(
´ed
->
	`g‘T”m
(
i
)->
	`g‘Id
());

1627 
i
 = 0; i < 
uniqueV¬Indexes
->
	`size
(); i++)

1629 ((
T”m
*)
´ed
->
	`g‘T”m
((*
uniqueV¬Indexes
)[
i
]))->
	`£tId
(0);

1632 
A¼ay
<
P»diÿ‹
*> 
´edA¼
;

1633 
´ed
->
	`ü—‹AÎGroundšgs
(
domaš
, 
´edA¼
);

1634 
numP»ds
 = 
´edA¼
.
	`size
();

1635 
tÙ®NumP»ds
 +ğ
numP»ds
;

1637 
i
 = 0; i < 
numP»ds
; i++)

1639 
P»diÿ‹
* 
ÃwP»d
 = 
´edA¼
[
i
];

1641 
j
 = 0; j < 
uniqueV¬Indexes
->
	`size
(); j++)

1643 
T”m
* 
t
 = (T”m*)
ÃwP»d
->
	`g‘T”m
((*
uniqueV¬Indexes
)[
j
]);

1644 
t
->
	`£tId
(
uniqueV¬Ids
[
j
]);

1647 
blockIdx
 = 
domaš
->
	`addP»dBlock
(
ÃwP»d
);

1649 
boŞ
 
ŒueOÃ
 = 
çl£
;

1652 ià((
zz´edIdToGndP»dM­
.
	`fšd
(
´ed
->
	`g‘Id
())) !=

1653 
zz´edIdToGndP»dM­
.
	`’d
())

1655 
P»diÿ‹HashA¼ay
* 
pha
 = 
zz´edIdToGndP»dM­
[
´ed
->
	`g‘Id
()];

1656 
j
 = 0; j < 
pha
->
	`size
(); j++)

1658 
P»diÿ‹
* 
gndP»d
 = (*
pha
)[
j
];

1660 ià(
gndP»d
->
	`g‘TruthV®ue
(è=ğ
TRUE
 &&

1661 
ÃwP»d
->
	`ÿnBeGroundedAs
(
gndP»d
))

1663 ià(
domaš
->
	`g‘BlockEvid’û
(
blockIdx
))

1664 
	`zzex™
("Morehan onerue‡tom found for mutually "

1666 
domaš
->
	`£tBlockEvid’û
(
blockIdx
, 
Œue
);

1667 
domaš
->
	`£tTrueP»dInBlock
(
blockIdx
, 
Ãw
 
	`P»diÿ‹
(*
gndP»d
));

1668 
ŒueOÃ
 = 
Œue
;

1674 
ŒueOÃ
 = 
Œue
;

1677 ià(!
ŒueOÃ
)

1689 
d–‘e
 
´ed
;

1691  
tÙ®NumP»ds
;

1692 
	}
}

1697 
zzgroundPlusV¬
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
fÜmuÏ
, cÚ¡ 
¡ršg
& 
fÜmuÏSŒ
,

1698 cÚ¡ 
SŒšgToIÁM­
& 
v¬NameToTy³IdM­
,

1699 
A¼ay
<
Li¡Obj
*>& 
fÜmuÏs
, A¼ay<
¡ršg
>& 
fÜmuÏSŒs
,

1700 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,cÚ¡ Domaš* cÚ¡ & 
domaš0
)

1702 
	gfÜmuÏs
.
ş—r
();

1703 
	gfÜmuÏSŒs
.
ş—r
();

1704 ià(
	gv¬NameToTy³IdM­
.
size
()==0)

1706 
fÜmuÏs
.
­³nd
(
Ãw
 
Li¡Obj
(
fÜmuÏ
));

1707 
	gfÜmuÏSŒs
.
­³nd
(
fÜmuÏSŒ
);

1711 
	gA¼ay
<A¼ay<>*> 
	gş—nUp
;

1712 
	gA¼aysAcûssÜ
<> 
	gacc
;

1713 
	gA¼ay
<
	g¡ršg
> 
	gv¬Names
;

1714 
	gSŒšgToIÁM­
::
cÚ¡_™”©Ü
 
m™
 = 
v¬NameToTy³IdM­
.
begš
();

1715 ; 
	gm™
 !ğ
v¬NameToTy³IdM­
.
’d
(); mit++)

1717 
	gty³Id
 = (*
m™
).
£cÚd
;

1718 
zzas£¹
(
ty³Id
 > 0, "expectypeId > 0");

1720 
	gA¼ay
<>* 
	gcÚ¡A¼
;

1721 
	gcÚ¡A¼
 = (
A¼ay
<>*è
domaš
->
g‘CÚ¡ªtsByTy³
(
ty³Id
);

1723 
	gacc
.
­³ndA¼ay
(
cÚ¡A¼
);

1724 
	gv¬Names
.
­³nd
((*
m™
).
fœ¡
);

1727 
	gA¼ay
<> 
	gcÚ¡Ids
;

1728 
	gacc
.
g‘NextCombš©iÚ
(
cÚ¡Ids
))

1730 
Li¡Obj
* 
	ggndFÜmuÏ
 = 
Ãw
 Li¡Obj(
fÜmuÏ
);

1731 
¡ršg
 
	gs
 = 
fÜmuÏSŒ
;

1733 
zzas£¹
(
cÚ¡Ids
.
size
(è=ğ
v¬Names
.size(),

1735 
	gi
 = 0; i < 
	gv¬Names
.
size
(); i++)

1737 cÚ¡ * 
	gcÚ¡Name
 = 
domaš
->
g‘CÚ¡ªtName
(
cÚ¡Ids
[
i
]);

1738 
	gLi¡Obj
::
»¶aû
(
gndFÜmuÏ
, 
v¬Names
[
i
].
c_¡r
(), 
cÚ¡Name
, 
domaš
);

1739 
	ga
 = 
s
.
fšd
("+" + 
v¬Names
[
i
]);

1740 
as£¹
(
a
 !ğ
¡ršg
::
Åos
);

1741 
	gs
.
»¶aû
(
a
, 
v¬Names
[
i
].
Ëngth
(è+ 1, 
cÚ¡Name
);

1743 
	gfÜmuÏs
.
­³nd
(
gndFÜmuÏ
);

1744 
	gfÜmuÏSŒs
.
­³nd
(
s
);

1748 ià(
	gdomaš0
è
	gş—nUp
.
d–‘eI‹msAndCË¬
();

1754 
zzü—‹Li¡ObjFromTİ
(
¡ack
<
Li¡Obj
*>& sck, cÚ¡ * cÚ¡ & 
İ
)

1757 
zzas£¹
(
¡ack
.
size
() >= 1, "expect stack.size()>=1");

1758 
Li¡Obj
* 
	glo1
 = 
¡ack
.
tİ
(); 
	g¡ack
.
pİ
();

1759 
Li¡Obj
* 
	glo
 = 
Ãw
 Li¡Obj;†o->
­³nd
(
İ
);†o->­³nd(
lo1
);

1760 
	g¡ack
.
push
(
lo
);

1764 
zzü—‹Li¡ObjFromTİTwo
(
¡ack
<
Li¡Obj
*>& sck, cÚ¡ * cÚ¡ & 
İ
)

1767 
zzas£¹
(
¡ack
.
size
()>=2,"expect stack.size()>=2");

1768 
Li¡Obj
* 
	glo1
 = 
¡ack
.
tİ
(); 
	g¡ack
.
pİ
();

1769 
Li¡Obj
* 
	glo2
 = 
¡ack
.
tİ
(); 
	g¡ack
.
pİ
();

1771 ià((
¡rcmp
(
İ
,"v")==0 && 
lo2
->
hasOrOp
()) ||

1772 (
¡rcmp
(
İ
,"^")==0 && 
lo2
->
hasAndOp
()))

1774 
lo2
->
­³nd
(
lo1
);

1775 
	g¡ack
.
push
(
lo2
);

1779 
Li¡Obj
* 
	glo
 = 
Ãw
 Li¡Obj;†o->
­³nd
(
İ
);†o->­³nd(
lo2
);†o->­³nd(
lo1
);

1780 
	g¡ack
.
push
(
lo
);

1785 
zzü—‹Li¡ObjFromTİTh»e
(
¡ack
<
Li¡Obj
*>& stack)

1788 
zzas£¹
(
¡ack
.
size
()>=3, "expect stack.size()>=3");

1789 
Li¡Obj
* 
	glo1
 = 
¡ack
.
tİ
(); 
	g¡ack
.
pİ
();

1790 
Li¡Obj
* 
	glo2
 = 
¡ack
.
tİ
(); 
	g¡ack
.
pİ
();

1791 
Li¡Obj
* 
	glo3
 = 
¡ack
.
tİ
(); 
	g¡ack
.
pİ
();

1792 
Li¡Obj
* 
	glo
 = 
Ãw
 Li¡Obj;†o->
­³nd
(
lo3
);†o->­³nd(
lo2
);†o->­³nd(
lo1
);

1793 
	g¡ack
.
push
(
lo
);

1797 
	$zzü—‹IÁCÚ¡ªt
(* cÚ¡ & 
buf
, cÚ¡ * cÚ¡ & 
ty³Name
,

1798 cÚ¡ & 
i
)

1799 { 
	`¥rštf
(
buf
, "C@%s@%d", 
ty³Name
, 
i
); 
	}
}

1802 
boŞ
 
	$isIÁCÚ¡ªt
(cÚ¡ & 
i
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

1804 cÚ¡ 
A¼ay
<cÚ¡ *>* 
ty³Names
 = 
domaš
->
	`g‘Ty³Names
();

1805 
j
 = 0; j < 
ty³Names
->
	`size
(); j++)

1807 
cÚ¡Name
[100];

1808 
	`zzü—‹IÁCÚ¡ªt
(
cÚ¡Name
, (*
ty³Names
)[
j
], 
i
);

1809 ià(
domaš
->
	`isCÚ¡ªt
(
cÚ¡Name
))

1811  
Œue
;

1814  
çl£
;

1815 
	}
}

1818 cÚ¡ * 
	$g‘IÁCÚ¡ªtTy³Name
(cÚ¡ & 
i
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

1820 cÚ¡ 
A¼ay
<cÚ¡ *>* 
ty³Names
 = 
domaš
->
	`g‘Ty³Names
();

1821 
j
 = 0; j < 
ty³Names
->
	`size
(); j++)

1823 
cÚ¡Name
[100];

1824 
	`zzü—‹IÁCÚ¡ªt
(
cÚ¡Name
, (*
ty³Names
)[
j
], 
i
);

1825 ià(
domaš
->
	`g‘CÚ¡ªtId
(
cÚ¡Name
è>ğ0è (*
ty³Names
)[
j
];

1827  
NULL
;

1828 
	}
}

1830 
	$zzü—‹AndCheckNumCÚ¡ªt
(cÚ¡ * cÚ¡ & 
štSŒ
,

1831 cÚ¡ 
FunùiÚ
* cÚ¡ & 
func
,

1832 cÚ¡ 
P»diÿ‹
* cÚ¡ & 
´ed
,

1833 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

1834 * 
cÚ¡Name
)

1836 
d
 = 
	`©of
(
štSŒ
); 
i
 = (d);

1839 cÚ¡ * 
ty³Name
 = 
NULL
;

1840 ià(
func
è
ty³Name
 = func->
	`g‘T”mTy³AsSŒ
(func->
	`g‘NumT”ms
());

1841 
ty³Name
 = 
´ed
->
	`g‘T”mTy³AsSŒ
Õ»d->
	`g‘NumT”ms
());

1843 ià(
ty³Name
 =ğ
NULL
)

1844 { 
	`zz”r
("ToØmªy”m fÜ…»diÿ‹/funùiÚ"); 
cÚ¡Name
 = 
NULL
; ;}

1847 ià(
	`¡rcmp
(
ty³Name
, 
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
)==0)

1850 ià(
	`isIÁCÚ¡ªt
(
i
, 
domaš
))

1851 
ty³Name
 = 
	`g‘IÁCÚ¡ªtTy³Name
(
i
, 
domaš
);

1854 
	`zzü—‹IÁCÚ¡ªt
(
cÚ¡Name
, 
ty³Name
, 
i
);

1856 
buf
[30]; 
	`¥rštf
(buf,"%f",
d
);

1857 ià(
zzcÚ¡ªtMu¡BeDeş¬ed
 && 
domaš
->
	`g‘CÚ¡ªtId
(
cÚ¡Name
) < 0)

1858 
	`zz”r
("CÚ¡ªˆ% mu¡ bdeş¬ed befÜ™ i u£d", 
buf
);

1859 
	}
}

1863 
	$zzaddGndP»dsToDb
(
D©aba£
* cÚ¡ & 
db
)

1866 
numP»ds
 = 
zzdomaš
->
	`g‘NumP»diÿ‹s
();

1867 
hash_m­
<, 
P»diÿ‹HashA¼ay
*>::
™”©Ü
 
™
;

1868 
i
 = 0; i < 
numP»ds
; i++)

1870 ià((
™
 = 
zz´edIdToGndP»dM­
.
	`fšd
(
i
)è!ğzz´edIdToGndP»dM­.
	`’d
())

1872 
P»diÿ‹HashA¼ay
* 
´edHashA¼ay
 = (*
™
).
£cÚd
;

1873 
j
 = 0; j < 
´edHashA¼ay
->
	`size
(); j++)

1875 
db
->
	`addEvid’ûGroundP»diÿ‹
((*
´edHashA¼ay
)[
j
]);

1876 
rv
 = (*
´edHashA¼ay
)[
j
]->
	`g‘R—lV®ue
();

1877 ià(
rv
 > 
num”ic_lim™s
<>::
	`mš
())

1878 
db
->
	`£tR—lV®ue
((*
´edHashA¼ay
)[
j
], 
rv
);

1881 
´edHashA¼ay
->
	`d–‘eI‹msAndCË¬
();

1893 
A¼ay
<
P»diÿ‹
*> 
šdexedP»ds
;

1895 
i
 = 0; i < 
zzmÊ
->
	`g‘NumCÏu£s
(); i++)

1897 cÚ¡ 
CÏu£
* 
şau£
 = 
zzmÊ
->
	`g‘CÏu£
(
i
);

1899 
A¼ay
<
boŞ
> 
	`nÚEvidP»d
(
şau£
->
	`g‘NumP»diÿ‹s
(), 
çl£
);

1900 
boŞ
 
ÚeNÚEvidP»d
 = 
çl£
;

1901 
j
 = 0; j < 
şau£
->
	`g‘NumP»diÿ‹s
(); j++)

1903 
P»diÿ‹
* 
´ed
 = 
şau£
->
	`g‘P»diÿ‹
(
j
);

1904 ià(!
db
->
	`isClo£dWÜld
(
´ed
->
	`g‘Id
()))

1906 
nÚEvidP»d
[
j
] = 
Œue
;

1907 
ÚeNÚEvidP»d
 = 
Œue
;

1912 ià(
ÚeNÚEvidP»d
)

1914 
j
 = 0; j < 
şau£
->
	`g‘NumP»diÿ‹s
(); j++)

1916 ià(!
nÚEvidP»d
[
j
])

1918 
P»diÿ‹
* 
´ed
 = 
şau£
->
	`g‘P»diÿ‹
(
j
);

1919 ià(
´ed
->
	`isEqu®P»d
()) ;

1922 ià(!
´ed
->
	`g‘S’£
())

1925 
k
 = 0; k < 
šdexedP»ds
.
	`size
(); k++)

1927 ià(
šdexedP»ds
[
k
]->
	`ÿnBeGroundedAs
(
´ed
))

1931 
šdexedP»ds
.
	`­³nd
(
´ed
);

1933 
A¼ay
<
P»diÿ‹
*> 
´edA¼
;

1934 
´ed
->
	`ü—‹AÎGroundšgs
(
zzdomaš
, 
´edA¼
);

1935 
numP»ds
 = 
´edA¼
.
	`size
();

1936 
l
 = 0;† < 
numP»ds
;†++)

1938 
P»diÿ‹
* 
ÃwP»d
 = 
´edA¼
[
l
];

1939 
db
->
	`addP»dToEvid’ûIndex
(
ÃwP»d
, 
´ed
->
	`g‘S’£
());

1940 
d–‘e
 
ÃwP»d
;

1947 
i
 = 0; i < 
zz´edIdToGndP»dM­
.
	`size
(); i++)

1948 
d–‘e
 
zz´edIdToGndP»dM­
[
i
];

1949 
	}
}

1952 
zzü—‹BoŞA¼
(
idx
, 
A¼ay
<
boŞ
>*& 
curA¼ay
,

1953 
A¼ay
<A¼ay<
boŞ
>*>& 
boŞA¼ays
)

1955 --
	gidx
;

1957 
	gA¼ay
<
	gboŞ
>* 
	gcİyA¼ay
 = 
Ãw
 
A¼ay
<
boŞ
>(*
curA¼ay
);

1959 
	gcurA¼ay
->
­³nd
(
Œue
);

1960 
	gcİyA¼ay
->
­³nd
(
çl£
);

1962 ià(
	gidx
 == 0)

1964 
boŞA¼ays
.
­³nd
(
curA¼ay
);

1965 
	gboŞA¼ays
.
­³nd
(
cİyA¼ay
);

1969 
zzü—‹BoŞA¼
(
idx
, 
curA¼ay
, 
boŞA¼ays
);

1970 
zzü—‹BoŞA¼
(
idx
, 
cİyA¼ay
, 
boŞA¼ays
);

1976 
	$zzaddCÚ¡ªtToDomaš
(cÚ¡ * cÚ¡ & 
vs
, cÚ¡ * cÚ¡ & 
ty³Name
)

1980 ià(!
	`zzisCÚ¡ªt
(
vs
))

1982 
	`zz”r
("CÚ¡ªˆ% mu¡ begš iÀuµ”ÿ£ ch¬ o¸b¨\"¡ršg\".", 
vs
);

1986 
	`zzas£¹
(
ty³Name
 !ğ
NULL
, "expectypeName != NULL");

1987 
zzdomaš
->
	`addCÚ¡ªt
(
vs
, 
ty³Name
);

1989 
	}
}

1992 
	$zzaddCÚ¡ªtToP»dFunc
(cÚ¡ * cÚ¡ & 
cÚ¡Name
)

1997 cÚ¡ * 
ty³Name
 = 
NULL
;

1998 ià(
zzfunc
è
ty³Name
 = zzfunc->
	`g‘T”mTy³AsSŒ
(zzfunc->
	`g‘NumT”ms
());

2000 ià(
zz´ed
è
ty³Name
 = zz´ed->
	`g‘T”mTy³AsSŒ
(zz´ed->
	`g‘NumT”ms
());

2003 ià(
ty³Name
 =ğ
NULL
)

2005 
	`zzw¬n
("Wrong‚umber oferms.");

2006 
ty³Name
 = 
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
;

2009 
	`zzaddCÚ¡ªtToDomaš
(
cÚ¡Name
, 
ty³Name
);

2010 
cÚ¡Id
 = 
zzdomaš
->
	`g‘CÚ¡ªtId
(
cÚ¡Name
);

2011 ià(
zzfunc
è
	`zzfuncAµ’dCÚ¡ªt
(zzfunc, 
cÚ¡Id
, 
cÚ¡Name
);

2012 ià(
zz´ed
è
	`zz´edAµ’dCÚ¡ªt
(zz´ed, 
cÚ¡Id
, 
cÚ¡Name
);

2013 
	`zzex™
("No…redicate or function is defined.");

2014 
	}
}

2017 
	$zz‹rmIsCÚ¡ªt
(cÚ¡ * cÚ¡ & 
cÚ¡Name
,

2018 cÚ¡ * cÚ¡ & 
cÚ¡SŒ
, cÚ¡ 
boŞ
& 
­³ndToFÜmuÏ
)

2020 
cÚ¡Id
 = 
zzdomaš
->
	`g‘CÚ¡ªtId
(
cÚ¡Name
);

2024 ià(
cÚ¡Id
 < 0)

2026 cÚ¡ * 
ty³Name
 = 
NULL
;

2027 ià(
zzfunc
è
ty³Name
 = zzfunc->
	`g‘T”mTy³AsSŒ
(zzfunc->
	`g‘NumT”ms
());

2029 ià(
zz´ed
è
ty³Name
 = zz´ed->
	`g‘T”mTy³AsSŒ
(zz´ed->
	`g‘NumT”ms
());

2032 ià(
ty³Name
==
NULL
)

2034 
	`zzw¬n
("Wrong‚umber oferms.");

2035 
ty³Name
=
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
;

2038 
	`zzaddCÚ¡ªtToDomaš
(
cÚ¡Name
, 
ty³Name
);

2039 
cÚ¡Id
 = 
zzdomaš
->
	`g‘CÚ¡ªtId
(
cÚ¡Name
);

2043 ià(
zzfunc
 !ğ
NULL
)

2045 
	`zzfuncAµ’dCÚ¡ªt
(
zzfunc
, 
cÚ¡Id
, 
cÚ¡Name
);

2046 
zz´edFuncLi¡Objs
.
	`tİ
()->
	`­³nd
(
cÚ¡Name
);

2049 ià(
zz´ed
 !ğ
NULL
)

2051 
	`zz´edAµ’dCÚ¡ªt
(
zz´ed
, 
cÚ¡Id
, 
cÚ¡Name
);

2052 
	`zzas£¹
(
zz´edFuncLi¡Objs
.
	`size
()==1,

2054 
zz´edFuncLi¡Objs
.
	`tİ
()->
	`­³nd
(
cÚ¡Name
);

2055 ià(
­³ndToFÜmuÏ
è
zzfÜmuÏSŒ
.
	`­³nd
(
cÚ¡SŒ
);

2058 
	`zzex™
("NØfunùiÚ o¸´ediÿ‹ØhŞd cÚ¡ªˆ%s", 
cÚ¡Name
);

2059 
	}
}

2067 
	$zzputV¬ŸbËInP»d
(cÚ¡ * 
v¬Name
, cÚ¡ 
boŞ
& 
fŞDbg
)

2069 ià(
fŞDbg
 >ğ1è
	`´štf
("v_% ", 
v¬Name
);

2071 ++
zzfdnumV¬s
;

2072 
¡ršg
 
ÃwV¬Name
 = 
	`zzg‘NewV¬Name
(
v¬Name
);

2074 ià(
zz´ed
 !ğ
NULL
)

2076 
boŞ
 
rightNumT”ms
 = 
Œue
;

2077 
boŞ
 
rightTy³
 = 
Œue
;

2078 
exp
, 
uÃxp
;

2081 ià((
uÃxp
 = 
zz´ed
->
	`g‘NumT”ms
()) ==

2082 (
exp
 = 
zz´ed
->
	`g‘Tem¶©e
()->
	`g‘NumT”ms
()))

2084 
rightNumT”ms
 = 
çl£
;

2085 
	`zz”r
("Wrong‚umber oferms for…redicate %s. "

2086 "Ex³ùed %d buˆgiv’ %d", 
zz´ed
->
	`g‘Name
(), 
exp
, 
uÃxp
+1);

2089 
v¬Id
 = -1;

2090 ià(
rightNumT”ms
)

2093 
ty³Id
 = 
zz´ed
->
	`g‘T”mTy³AsIÁ
(zz´ed->
	`g‘NumT”ms
());

2094 
rightTy³
 = 
	`zzcheckRightTy³AndG‘V¬Id
(
ty³Id
, 
ÃwV¬Name
.
	`c_¡r
(), 
v¬Id
);

2097 ià(
rightNumT”ms
 && 
rightTy³
)

2099 
zz´ed
->
	`­³ndT”m
(
Ãw
 
	`T”m
(
v¬Id
, (*)zz´ed, 
Œue
));

2100 
zz´edFuncLi¡Objs
.
	`tİ
()->
	`­³nd
(
ÃwV¬Name
.
	`c_¡r
());

2105 
	`zzex™
("NØfunùiÚ o¸´ediÿ‹ØhŞd v¬ŸbË %s",
v¬Name
);

2106 
	}
}

2109 
	$zz‹rmIsV¬ŸbË
(cÚ¡ 
boŞ
& 
fŞDbg
)

2111 cÚ¡ * 
v¬Name
 = 
zztok’Li¡
.
	`»moveLa¡
();

2114 ià(
	`zzisCÚ¡ªt
(
v¬Name
))

2116 ià(
fŞDbg
 >ğ1è
	`´štf
("c2_% ", 
v¬Name
);

2118 ià(
zzcÚ¡ªtMu¡BeDeş¬ed
)

2119 
	`zz”r
("CÚ¡ªˆ% mu¡ bdeş¬ed befÜ™ i u£d", 
v¬Name
);

2120 
	`zz‹rmIsCÚ¡ªt
(
v¬Name
, v¬Name, 
Œue
);

2121 
d–‘e
 [] 
v¬Name
;

2125 ià(
fŞDbg
 >ğ1è
	`´štf
("v_% ", 
v¬Name
);

2127 ++
zzfdnumV¬s
;

2128 
¡ršg
 
ÃwV¬Name
 = 
	`zzg‘NewV¬Name
(
v¬Name
);

2131 ià(
zzfunc
 !ğ
NULL
)

2133 
boŞ
 
rightNumT”ms
 = 
Œue
;

2134 
boŞ
 
rightTy³
 = 
Œue
;

2135 
exp
, 
uÃxp
;

2138 ià((
uÃxp
 = 
zzfunc
->
	`g‘NumT”ms
()) ==

2139 (
exp
 = 
zzfunc
->
	`g‘Tem¶©e
()->
	`g‘NumT”ms
()))

2141 
rightNumT”ms
 = 
çl£
;

2142 
	`zz”r
("Wrong‚umber oferms for function %s. "

2143 "Ex³ùed %d buˆgiv’ %d", 
zzfunc
->
	`g‘Name
(), 
exp
, 
uÃxp
+1);

2146 
v¬Id
 = -1;

2147 ià(
rightNumT”ms
)

2150 
ty³Id
 = 
zzfunc
->
	`g‘T”mTy³AsIÁ
(zzfunc->
	`g‘NumT”ms
());

2151 
rightTy³
 = 
	`zzcheckRightTy³AndG‘V¬Id
(
ty³Id
, 
ÃwV¬Name
.
	`c_¡r
(),

2152 
v¬Id
);

2155 ià(
rightNumT”ms
 && 
rightTy³
)

2157 
zzfunc
->
	`­³ndT”m
(
Ãw
 
	`T”m
(
v¬Id
, (*)zzfunc, 
çl£
));

2158 
zz´edFuncLi¡Objs
.
	`tİ
()->
	`­³nd
(
ÃwV¬Name
.
	`c_¡r
());

2163 ià(
zz´ed
 !ğ
NULL
)

2165 
boŞ
 
rightNumT”ms
 = 
Œue
;

2166 
boŞ
 
rightTy³
 = 
Œue
;

2167 
exp
, 
uÃxp
;

2170 ià((
uÃxp
 = 
zz´ed
->
	`g‘NumT”ms
()) ==

2171 (
exp
 = 
zz´ed
->
	`g‘Tem¶©e
()->
	`g‘NumT”ms
()))

2173 
rightNumT”ms
 = 
çl£
;

2174 
	`zz”r
("Wrong‚umber oferms for…redicate %s. "

2175 "Ex³ùed %d buˆgiv’ %d", 
zz´ed
->
	`g‘Name
(), 
exp
, 
uÃxp
+1);

2178 
v¬Id
 = -1;

2179 ià(
rightNumT”ms
)

2182 
ty³Id
 = 
zz´ed
->
	`g‘T”mTy³AsIÁ
(zz´ed->
	`g‘NumT”ms
());

2183 
rightTy³
 = 
	`zzcheckRightTy³AndG‘V¬Id
(
ty³Id
, 
ÃwV¬Name
.
	`c_¡r
(),

2184 
v¬Id
);

2187 ià(
rightNumT”ms
 && 
rightTy³
)

2189 
zz´ed
->
	`­³ndT”m
(
Ãw
 
	`T”m
(
v¬Id
, (*)zz´ed, 
Œue
));

2190 ià(!
zzisHybrid
)

2192 ià(
zz´edFuncLi¡Objs
.
	`size
() != 1)

2193 
	`zz”r
("There may be‡…arseƒrror. Have you declared‡llhe "

2195 
zz´edFuncLi¡Objs
.
	`tİ
()->
	`­³nd
(
ÃwV¬Name
.
	`c_¡r
());

2199 
zzcÚtP»d
->
	`­³nd
(
v¬Name
);

2201 
zzfÜmuÏSŒ
.
	`­³nd
(
v¬Name
);

2205 
	`zzex™
("NØfunùiÚ o¸´ediÿ‹ØhŞd v¬ŸbË %s",
v¬Name
);

2208 ià(
zzisPlus
)

2212 ià(!
	`zzv¬IsQuªtif›d
(
v¬Name
))

2215 
zz¶usV¬M­
[
ÃwV¬Name
] = 
zzªyTy³Id
;

2218 
	`zz”r
("the '+' operator cannot be‡ppliedo variable %shat is "

2219 "ex¶ic™ly univ”§Îy/exi¡’tŸÎy quªtif›d", 
v¬Name
);

2221 
d–‘e
 [] 
v¬Name
;

2223 
	}
}

2227 
	$zzş—nUp
()

2229 
zzeqP»dLi¡
.
	`ş—r
();

2230 
zzštP»dLi¡
.
	`ş—r
();

2231 
zzštFuncLi¡
.
	`ş—r
();

2232 !
zzšSck
.
	`em±y
()èzzšSck.
	`pİ
();

2233 
zzv¬NameToIdM­
.
	`ş—r
();

2234 
zzfuncToFuncV¬M­
.
	`ş—r
();

2235 
zzŞdNewV¬Li¡
.
	`ş—r
();

2236 
zz¶usV¬M­
.
	`ş—r
();

2237 
zztok’Li¡
.
	`d–‘eCÚ‹ÁsAndCË¬
();

2238 !
zzfuncSck
.
	`em±y
()èzzfuncSck.
	`pİ
();

2239 !
zzfuncCÚjSck
.
	`em±y
()èzzfuncCÚjSck.
	`pİ
();

2240 !
zzfÜmuÏLi¡Objs
.
	`em±y
())

2242 
Li¡Obj
* 
tİ
 = 
zzfÜmuÏLi¡Objs
.
	`tİ
();

2243 
zzfÜmuÏLi¡Objs
.
	`pİ
();

2244 
d–‘e
 
tİ
;

2246 !
zz´edFuncLi¡Objs
.
	`em±y
())

2248 
Li¡Obj
* 
tİ
 = 
zz´edFuncLi¡Objs
.
	`tİ
();

2249 
zz´edFuncLi¡Objs
.
	`pİ
();

2250 
d–‘e
 
tİ
;

2253 
zz´edIdToGndP»dM­
.
	`ş—r
();

2254 
zzfÜmuÏInfos
.
	`ş—r
();

2255 
	}
}

2258 
	$zzš™
()

2260 
zzaá”RtP¬’
 = 
çl£
;

2261 
zzcouÁ
 = 0;

2262 
zzlše
 = 0;

2263 
zzcŞumn
 = -1;

2264 
zznumCh¬R—d
 = 0;

2265 
zznumE¼Üs
 = 0;

2266 
zzok
 = 
Œue
;

2267 
zzmÊ
 = 
NULL
;

2268 
zzdomaš
 = 
NULL
;

2269 
zznumEofS“n
 = 0;

2270 
zzeqTy³CouÁ”
 = 0;

2271 
zzštP»dTy³CouÁ”
 = 0;

2272 
zzštFuncTy³CouÁ”
 = 0;

2273 
zzªyTy³Id
 = -1;

2274 
zz”rMsg
[0] = '\0';

2275 
zzfdfuncCÚ¡ªts
.
	`ş—r
();

2276 
zzusšgLškedFunùiÚs
 = 
çl£
;

2277 
zztmpR‘uºNum
 = 
çl£
;

2280 
A¼ay
<cÚ¡ *>* 
´ed
;

2281 
´ed
 = 
Ãw
 
A¼ay
<const *>;

2282 
´ed
->
	`­³nd
("greaterThan");

2285 
´ed
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2286 
´ed
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2287 
zzš‹º®P»diÿ‹s
.
	`­³nd
(*
´ed
);

2288 
d–‘e
 
´ed
;

2290 
´ed
 = 
Ãw
 
A¼ay
<const *>;

2291 
´ed
->
	`­³nd
("lessThan");

2294 
´ed
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2295 
´ed
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2296 
zzš‹º®P»diÿ‹s
.
	`­³nd
(*
´ed
);

2297 
d–‘e
 
´ed
;

2299 
´ed
 = 
Ãw
 
A¼ay
<const *>;

2300 
´ed
->
	`­³nd
("greaterThanEq");

2303 
´ed
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2304 
´ed
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2305 
zzš‹º®P»diÿ‹s
.
	`­³nd
(*
´ed
);

2306 
d–‘e
 
´ed
;

2308 
´ed
 = 
Ãw
 
A¼ay
<const *>;

2309 
´ed
->
	`­³nd
("lessThanEq");

2312 
´ed
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2313 
´ed
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2314 
zzš‹º®P»diÿ‹s
.
	`­³nd
(*
´ed
);

2315 
d–‘e
 
´ed
;

2317 
´ed
 = 
Ãw
 
A¼ay
<const *>;

2318 
´ed
->
	`­³nd
("substr");

2321 
´ed
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2322 
´ed
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2323 
zzš‹º®P»diÿ‹s
.
	`­³nd
(*
´ed
);

2324 
d–‘e
 
´ed
;

2327 
A¼ay
<cÚ¡ *>* 
func
;

2329 
func
 = 
Ãw
 
A¼ay
<const *>;

2330 
func
->
	`­³nd
("succ");

2333 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2334 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2335 
zzš‹º®FunùiÚs
.
	`­³nd
(*
func
);

2336 
d–‘e
 
func
;

2338 
func
 = 
Ãw
 
A¼ay
<const *>;

2339 
func
->
	`­³nd
("plus");

2344 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2345 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2346 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2347 
zzš‹º®FunùiÚs
.
	`­³nd
(*
func
);

2348 
d–‘e
 
func
;

2350 
func
 = 
Ãw
 
A¼ay
<const *>;

2351 
func
->
	`­³nd
("minus");

2356 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2357 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2358 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2359 
zzš‹º®FunùiÚs
.
	`­³nd
(*
func
);

2360 
d–‘e
 
func
;

2362 
func
 = 
Ãw
 
A¼ay
<const *>;

2363 
func
->
	`­³nd
("times");

2368 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2369 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2370 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2371 
zzš‹º®FunùiÚs
.
	`­³nd
(*
func
);

2372 
d–‘e
 
func
;

2374 
func
 = 
Ãw
 
A¼ay
<const *>;

2375 
func
->
	`­³nd
("dividedBy");

2380 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2381 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2382 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2383 
zzš‹º®FunùiÚs
.
	`­³nd
(*
func
);

2384 
d–‘e
 
func
;

2386 
func
 = 
Ãw
 
A¼ay
<const *>;

2387 
func
->
	`­³nd
("mod");

2392 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2393 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2394 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2395 
zzš‹º®FunùiÚs
.
	`­³nd
(*
func
);

2396 
d–‘e
 
func
;

2398 
func
 = 
Ãw
 
A¼ay
<const *>;

2399 
func
->
	`­³nd
("concat");

2404 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2405 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2406 
func
->
	`­³nd
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
);

2407 
zzš‹º®FunùiÚs
.
	`­³nd
(*
func
);

2408 
d–‘e
 
func
;

2409 
	}
}

2412 
	$zz»£t
()

2414 
zzv¬CouÁ”
 = 0;

2415 
zzscİeCouÁ”
 = 0;

2416 
zzŞdNewV¬Li¡
.
	`ş—r
();

2417 
zzv¬NameToIdM­
.
	`ş—r
();

2418 
zzfuncToFuncV¬M­
.
	`ş—r
();

2419 
zz¶usV¬M­
.
	`ş—r
();

2420 
zzeqP»dLi¡
.
	`ş—r
();

2421 
zzštP»dLi¡
.
	`ş—r
();

2422 
zzštFuncLi¡
.
	`ş—r
();

2424 
zzty³Name
 = 
NULL
;

2425 
zz´edTem¶©e
 = 
NULL
;

2426 
zzfuncTem¶©e
 = 
NULL
;

2427 
zz´ed
 = 
NULL
;

2428 
zzfunc
 = 
NULL
;

2429 !
zzfuncSck
.
	`em±y
()èzzfuncSck.
	`pİ
();

2430 !
zzfuncCÚjSck
.
	`em±y
()èzzfuncCÚjSck.
	`pİ
();

2431 ià(
zzwt
è{ 
d–‘e
 zzwt; zzwˆğ
NULL
; }

2432 ià(
zzut
è{ 
d–‘e
 zzut; zzut = 
NULL
; }

2433 ià(
zz»®V®ue
è{ 
d–‘e
 zz»®V®ue; zz»®V®uğ
NULL
; }

2434 
zzisNeg©ed
 = 
çl£
;

2435 
zzisA¡”isk
 = 
çl£
;

2436 
zzisPlus
 = 
çl£
;

2437 
zzhasFuÎStİ
 = 
çl£
;

2438 
zzhasWeightFuÎStİ
 = 
çl£
;

2439 
zzšIndivisibË
 = 
çl£
;

2440 
zzisHybrid
 = 
çl£
;

2441 
zznumA¡”isk
 = 0;

2442 
zzŒueF®£Unknown
 = 't';

2443 
zzfÜmuÏSŒ
.
	`ş—r
();

2445 
zzfuncCÚjSŒ
.
	`ş—r
();

2446 
zz·r£GroundP»d
 = 
çl£
;

2447 !
zzfÜmuÏLi¡Objs
.
	`em±y
())

2449 
Li¡Obj
* 
tİ
 = 
zzfÜmuÏLi¡Objs
.
	`tİ
();

2450 
zzfÜmuÏLi¡Objs
.
	`pİ
();

2451 
d–‘e
 
tİ
;

2453 !
zz´edFuncLi¡Objs
.
	`em±y
())

2455 
Li¡Obj
* 
tİ
 = 
zz´edFuncLi¡Objs
.
	`tİ
();

2456 
zz´edFuncLi¡Objs
.
	`pİ
();

2457 
d–‘e
 
tİ
;

2459 !
zzfuncSck
.
	`em±y
()èzzfuncSck.
	`pİ
();

2460 !
zzfuncCÚjSck
.
	`em±y
()èzzfuncCÚjSck.
	`pİ
();

2462 
zzfdnumP»ds
 = 0;

2463 
zzfdnumFuncs
 = 0;

2464 
zzfdnumV¬s
 = 0;

2466 
zzfdfuncName
.
	`ş—r
();

2467 
zzfdfuncCÚ¡ªts
.
	`ş—r
();

2468 
zzfdcÚ¡Name
.
	`ş—r
();

2469 
zztmpR‘uºNum
 = 
çl£
;

2470 
zzšfixP»dName
 = 
NULL
;

2471 
zzšfixFuncName
 = 
NULL
;

2472 
	}
}

2475 
¡ršg
 
	$zz­³nd
(cÚ¡ * cÚ¡ & 
s
, cÚ¡ & 
i
)

2477 
buf
[16];

2478 
	`¥rštf
(
buf
,"%d",
i
);

2479 
¡ršg
 
¡r
;

2480  
¡r
.
	`­³nd
(
s
).­³nd(
buf
);

2481 
	}
}

2483 
¡ršg
 
	$zz­³ndW™hUnd”scÜe
(cÚ¡ * cÚ¡ & 
s
, cÚ¡ & 
i
)

2485 
buf
[16];

2486 
	`¥rštf
(
buf
,"%d",
i
);

2487 
¡ršg
 
¡r
;

2488  
¡r
.
	`­³nd
(
s
).­³nd("_").­³nd(
buf
);

2489 
	}
}

2491 
	$zzcheckAÎTy³sHaveCÚ¡ªts
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

2493 cÚ¡ 
A¼ay
<cÚ¡ *>* 
ty³s
 = 
domaš
->
	`g‘Ty³Names
();

2494 
i
 = 0; i < 
ty³s
->
	`size
(); i++)

2496 ià(
	`¡rcmp
((*
ty³s
)[
i
],
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
)==0) ;

2497 ià(
	`¡rcmp
((*
ty³s
)[
i
],
P»diÿ‹Tem¶©e
::
INT_TYPE_NAME
)==0) ;

2498 ià(
	`¡rcmp
((*
ty³s
)[
i
],
P»diÿ‹Tem¶©e
::
STRING_TYPE_NAME
)==0) ;

2499 ià(
domaš
->
	`g‘NumCÚ¡ªtsByTy³
((*
ty³s
)[
i
]) <= 0)

2500 
	`zz”r
("type %s has‚o constant. Aype must have‡t†east one constant",

2501 (*
ty³s
)[
i
]);

2503 
	}
}

2506 
zzflClo£dWÜldA¼ay
(
A¼ay
<
boŞ
>& 
isClo£dWÜldA¼
,

2507 cÚ¡ 
boŞ
& 
®lP»dsExû±Qu”›sA»Clo£dWÜld
,

2508 cÚ¡ 
SŒšgHashA¼ay
* cÚ¡ & 
İ’WÜldP»dNames
,

2509 cÚ¡ 
SŒšgHashA¼ay
* cÚ¡ & 
şo£dWÜldP»dNames
,

2510 cÚ¡ 
SŒšgHashA¼ay
* cÚ¡ & 
qu”yP»dNames
)

2512 ià(
	gqu”yP»dNames
)

2514 
	gi
 = 0; i < 
	gqu”yP»dNames
->
size
(); i++)

2516 cÚ¡ * 
	g´edName
 = (*
qu”yP»dNames
)[
i
].
c_¡r
();

2517 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	g±
 = 
zzdomaš
->
g‘P»diÿ‹Tem¶©e
(
´edName
);

2518 ià(
	g±
 =ğ
NULL
)

2520 
zz”r
("Query…redicate %s is‚ot found. Please declare it. "

2522 
´edName
);

2525 ià(
	g±
->
isEqu®P»diÿ‹Tem¶©e
())

2527 
zz”r
("'='…redicate cannot be‡ query…redicate()");

2528 
ex™
(-1);

2533 
	gnumP»ds
 = 
zzdomaš
->
g‘NumP»diÿ‹s
();

2534 
	gisClo£dWÜldA¼
.
growToSize
(
numP»ds
, 
Œue
);

2535 ià(!
	g®lP»dsExû±Qu”›sA»Clo£dWÜld
)

2540 
	gi
 = 0; i < 
	gnumP»ds
; i++)

2542 
	ghash_m­
<, 
	gP»diÿ‹HashA¼ay
*>::
™”©Ü
 
™
;

2543 
	gi
 = 0; i < 
	gnumP»ds
; i++)

2545 ià((
	g™
 = 
zz´edIdToGndP»dM­
.
fšd
(
i
)è!ğzz´edIdToGndP»dM­.
’d
())

2548 
isClo£dWÜldA¼
[
i
] = 
Œue
;

2554 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	g±
 = 
zzdomaš
->
g‘P»diÿ‹Tem¶©e
(
i
);

2555 ià(!
	g±
->
isEqu®P»diÿ‹Tem¶©e
() &&

2556 !
	g±
->
isIÁ”ÇlP»diÿ‹Tem¶©e
())

2557 
	gisClo£dWÜldA¼
[
i
] = 
çl£
;

2559 
	gisClo£dWÜldA¼
[
i
] = 
Œue
;

2566 ià(
	gİ’WÜldP»dNames
)

2568 
	gi
 = 0; i < 
	gİ’WÜldP»dNames
->
size
(); i++)

2570 cÚ¡ * 
	g´edName
 = (*
İ’WÜldP»dNames
)[
i
].
c_¡r
();

2571 
	g´edId
 = 
zzdomaš
->
g‘P»diÿ‹Id
(
´edName
);

2572 
	gisClo£dWÜldA¼
[
´edId
] = 
çl£
;

2576 ià(
	gşo£dWÜldP»dNames
)

2578 
	gi
 = 0; i < 
	gşo£dWÜldP»dNames
->
size
(); i++)

2580 cÚ¡ * 
	g´edName
 = (*
şo£dWÜldP»dNames
)[
i
].
c_¡r
();

2581 
	g´edId
 = 
zzdomaš
->
g‘P»diÿ‹Id
(
´edName
);

2582 
	gisClo£dWÜldA¼
[
´edId
] = 
Œue
;

2586 ià(
	gqu”yP»dNames
)

2588 
	gi
 = 0; i < 
	gqu”yP»dNames
->
size
(); i++)

2590 cÚ¡ * 
	g´edName
 = (*
qu”yP»dNames
)[
i
].
c_¡r
();

2591 
	g´edId
 = 
zzdomaš
->
g‘P»diÿ‹Id
(
´edName
);

2592 
	gisClo£dWÜldA¼
[
´edId
] = 
çl£
;

2598 
	$zz­³ndUn™CÏu£sToMLN
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
, 
MLN
* cÚ¡ & 
mÊ
,

2599 cÚ¡ & 
deçuÉWt
 )

2601 
i
 = 0; i < 
domaš
->
	`g‘NumP»diÿ‹s
(); i++)

2603 
P»diÿ‹
* 
´ed
 = 
domaš
->
	`ü—‹P»diÿ‹
(
i
, 
çl£
);

2604 ià(
´ed
 =ğ
NULL
) ;

2605 
CÏu£
* 
şau£
 = 
CÏu£FaùÜy
::
	`ü—‹Un™CÏu£
(
´ed
, 
çl£
);

2606 
d–‘e
 
´ed
;

2608 ià(
şau£
 =ğ
NULL
) ;

2609 ià(
mÊ
->
	`cÚšsCÏu£
(
şau£
)è{ 
d–‘e
 clause; ; }

2611 
idx
;

2612 
o¡ršg¡»am
 
oss
;

2613 
şau£
->
	`g‘P»diÿ‹
(0)->
	`g‘Tem¶©e
()->
	`´štW™hSŒV¬
(
oss
);

2614 
boŞ
 
­p
 = 
mÊ
->
	`­³ndCÏu£
(
oss
.
	`¡r
(), 
çl£
, 
şau£
, 
deçuÉWt
, false,

2615 
idx
, 
çl£
, false, false, 0.0);

2616 ià(
­p
)

2618 
mÊ
->
	`£tFÜmuÏNumP»ds
(
oss
.
	`¡r
(), 1);

2619 
mÊ
->
	`£tFÜmuÏIsH¬d
(
oss
.
	`¡r
(), 
çl£
);

2620 
mÊ
->
	`£tFÜmuÏPriÜM—n
(
oss
.
	`¡r
(), 
deçuÉWt
);

2623 
	}
}

2626 
zz­³ndFÜmuÏCÏu£sToMLN
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
fÜmuÏ
,

2627 cÚ¡ 
¡ršg
& 
fÜmuÏSŒ
,

2628 cÚ¡ & 
numP»ds
,

2629 cÚ¡ * cÚ¡ & 
wt
,

2630 cÚ¡ & 
deçuÉWt
,

2631 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

2632 
MLN
* cÚ¡ & 
mÊ
,

2633 cÚ¡ 
ZZV¬NameToIdM­
& 
v¬NameToIdM­
,

2634 cÚ¡ 
SŒšgToIÁM­
& 
¶usV¬M­
,

2635 cÚ¡ & 
numA¡”isk
,

2636 cÚ¡ 
boŞ
& 
hasFuÎStİ
,

2637 cÚ¡ 
boŞ
& 
»adH¬dCÏu£Wts
,

2638 cÚ¡ 
boŞ
& 
mu¡HaveWtOrFuÎStİ
,

2639 cÚ¡ 
boŞ
& 
isIndivisibË
,

2640 cÚ¡ 
boŞ
& 
isHybrid
,

2641 cÚ¡ 
Li¡Obj
* cÚ¡ & 
cÚtP»d
,

2642 cÚ¡ 
m—n
,

2643 cÚ¡ 
boŞ
& 
hasWeightFuÎStİ
,

2644 cÚ¡ * cÚ¡ & 
ut
,

2645 
A¼ay
<>& 
h¬dCÏu£Idxs
,

2646 
A¼ay
<
¡ršg
>& 
h¬dFÜmuÏs
,

2647 
CÏu£
*& 
æ³dCÏu£
,

2648 cÚ¡ 
Domaš
* cÚ¡ & 
domaš0
)

2653 
V¬Ty³M­
* 
	gvtM­
 = 
zzü—‹V¬Ty³M­
(
v¬NameToIdM­
);

2654 
	gA¼ay
<
	gLi¡Obj
*> 
	gfÜmuÏs
;

2655 
	gA¼ay
<
	g¡ršg
> 
	gfÜmuÏSŒs
;

2656 
zzgroundPlusV¬
(
fÜmuÏ
, 
fÜmuÏSŒ
, 
¶usV¬M­
, 
fÜmuÏs
, 
fÜmuÏSŒs
,

2657 
domaš
, 
domaš0
);

2658 
d–‘e
 
	gfÜmuÏ
;

2660 
	gf
 = 0; f < 
	gfÜmuÏs
.
size
(); f++)

2664 
	gA¼ay
<
	gLi¡Obj
*> 
	gfÜmuÏs2
;

2665 
	gA¼ay
<
	g¡ršg
> 
	gfÜmuÏSŒs2
;

2666 
zz³rmu‹A¡”iskedP»ds
(
numA¡”isk
, 
fÜmuÏs
[
f
], 
fÜmuÏSŒs
[f],

2667 
fÜmuÏs2
, 
fÜmuÏSŒs2
);

2668 
d–‘e
 
	gfÜmuÏs
[
f
];

2670 
	gg
 = 0; g < 
	gfÜmuÏs2
.
size
(); g++)

2672 
¡ršg
 
	gfÜmSŒ
 = 
fÜmuÏSŒs2
[
g
];

2675 
Li¡Obj
* 
	gv¬s
 = 
Ãw
 ListObj;

2676 
boŞ
 
	ghasExi¡
 = 
çl£
;

2677 
Li¡Obj
* 
	gúf
 = Li¡Obj::
toCNF
(
fÜmuÏs2
[
g
], 
v¬s
, 
domaš
, 
vtM­
, 
hasExi¡
);

2678 
d–‘e
 
	gfÜmuÏs2
[
g
];

2681 
	gúf
->
ş—nUpV¬s
();

2688 
	gúf
->
»moveRedundªtP»diÿ‹s
();

2691 
	gA¼ay
<
	gCÏu£
*> 
	gşau£s
;

2692 
zzü—‹CÏu£s
(
úf
, 
şau£s
, 
æ³dCÏu£
, 
isIndivisibË
);

2695 ià(
	gşau£s
.
size
() > 1)

2696 
	gcout
 << "\tCNF ha  " << 
	gşau£s
.
size
(è<< " cÏu£s" << 
	g’dl
;

2698 
d–‘e
 
	gúf
; d–‘
	gv¬s
;

2700 
	g³rCÏu£Wt
 = 0;

2701 
	gfÜmuÏWt
 = 0;

2702 
boŞ
 
	g£tH¬dWtL©”
 = 
çl£
;

2704 ià(
	ghasFuÎStİ
)

2706 
as£¹
(
wt
 =ğ
NULL
);

2707 ià(
	g»adH¬dCÏu£Wts
)

2709 ià(
	gwt
)

2710 { 
	g³rCÏu£Wt
 = (*
wt
)/
şau£s
.
size
(); 
	gfÜmuÏWt
 = (*wt); }

2713 
	g³rCÏu£Wt
 = 1; 
	gfÜmuÏWt
 = 1;

2714 
	gh¬dFÜmuÏs
.
­³nd
(
fÜmSŒ
);

2715 
	g£tH¬dWtL©”
 = 
Œue
;

2720 
	g³rCÏu£Wt
 = 1; 
	gfÜmuÏWt
 = 1;

2721 
	gh¬dFÜmuÏs
.
­³nd
(
fÜmSŒ
);

2722 
	g£tH¬dWtL©”
 = 
Œue
;

2726 ià(
	gwt
)

2727 { 
	g³rCÏu£Wt
 = (*
wt
)/
şau£s
.
size
(); 
	gfÜmuÏWt
 = *wt; }

2731 ià(
	gmu¡HaveWtOrFuÎStİ
 && !
	gut
)

2732 
zz”r
("a weight or full stop must be specified for:\n%s",

2733 
fÜmSŒ
.
c_¡r
());

2734 
	g³rCÏu£Wt
 = 
deçuÉWt
/
şau£s
.
size
();

2735 
	gfÜmuÏWt
 = 
deçuÉWt
;

2739 
	gi
 = 0; i < 
	gşau£s
.
size
(); i++)

2748 
	gşau£Wt
 = 
³rCÏu£Wt
;

2749 
	gşau£Ut
 = 0.0;

2750 ià(
	gut
è
	gşau£Ut
 = *
ut
;

2751 
boŞ
 
	gcÚjunùiÚ
 = 
çl£
;

2752 ià(
	gæ³dCÏu£
 && fl³dCÏu£ =ğ
şau£s
[
i
])

2754 ià(
zzæWtsOfFl³dCÏu£
)

2755 
şau£Wt
 = -clauseWt;

2757 
	gcÚjunùiÚ
 = 
Œue
;

2760 
	g´evIdx
;

2761 
boŞ
 
	gok
 = 
çl£
;

2763 ià(
	gisHybrid
)

2765 
P»diÿ‹
* 
	g´ed
 = 
zzü—‹P»d
(
cÚtP»d
);

2766 
	gok
 = 
mÊ
->
­³ndHybridCÏu£
(
fÜmSŒ
, 
şau£s
[
i
], 
şau£Wt
, 
´evIdx
,

2767 
´ed
, 
m—n
);

2775 
	gok
 = 
mÊ
->
­³ndCÏu£
(
fÜmSŒ
, 
hasExi¡
, 
şau£s
[
i
],

2776 
şau£Wt
, 
hasFuÎStİ
, 
´evIdx
,

2777 
isIndivisibË
, 
hasWeightFuÎStİ
, 
cÚjunùiÚ
,

2778 
şau£Ut
);

2781 ià(!
	gok
)

2783 
	gcout
 << "\tsame clause (derived from‡nother formula) has been‡dded "

2785 cÚ¡ 
CÏu£
* 
	gş
;

2786 ià(
	gisHybrid
)

2788 
	gcout
 << 
	gfÜmSŒ
 << 
	g’dl
;

2792 
	gş
 = 
mÊ
->
g‘CÏu£
(
´evIdx
);

2793 
	gş
->
´štW™houtWt
(
cout
,
domaš
); 
	gcout
 << 
	g’dl
;

2798 ià(
	g£tH¬dWtL©”
è
	gh¬dCÏu£Idxs
.
­³nd
(
´evIdx
);

2801 ià(!
	gisHybrid
)

2803 
	gmÊ
->
£tFÜmuÏNumP»ds
(
fÜmSŒ
, 
numP»ds
);

2804 
	gmÊ
->
£tFÜmuÏPriÜM—n
(
fÜmSŒ
, 
fÜmuÏWt
);

2805 
	gmÊ
->
£tFÜmuÏWt
(
fÜmSŒ
, 
fÜmuÏWt
);

2806 
	gmÊ
->
£tFÜmuÏIsH¬d
(
fÜmSŒ
, 
hasFuÎStİ
);

2811 
d–‘e
 
	gvtM­
;

2815 
zz­³ndFÜmuÏsToMLN
(
A¼ay
<
ZZFÜmuÏInfo
*>& 
fÜmuÏInfos
,

2816 
MLN
* cÚ¡ & 
mÊ
, cÚ¡ 
Domaš
* cÚ¡ & 
domaš0
)

2818 
	gcout
 << "cÚv”tšgØCNF:" << 
	g’dl
;

2820 
	gA¼ay
<> 
	gh¬dCÏu£Idxs
;

2821 
	gA¼ay
<
	g¡ršg
> 
	gh¬dFÜmuÏs
;

2822 
CÏu£
* 
	gæ³dCÏu£
 = 
NULL
;

2824 
	gi
 = 0; i < 
	gfÜmuÏInfos
.
size
(); i++)

2826 
	g¡¬tSec
 = 
zztim”
.
time
();

2827 
ZZFÜmuÏInfo
* 
	g•fi
 = 
fÜmuÏInfos
[
i
];

2828 
	gcout
 << "fÜmuÏ " << 
	gi
 << ": " << 
	g•fi
->
	gfÜmuÏSŒ
 << 
	g’dl
;

2829 
as£¹
(
mÊ
 =ğ
•fi
->mln);

2830 
zz­³ndFÜmuÏCÏu£sToMLN
(
•fi
->
fÜmuÏ
,ƒpfi->
fÜmuÏSŒ
,ƒpfi->
numP»ds
,

2831 
•fi
->
wt
,ƒpfi->
deçuÉWt
,ƒpfi->
domaš
,

2832 
•fi
->
mÊ
,ƒpfi->
v¬NameToIdM­
,

2833 
•fi
->
¶usV¬M­
,ƒpfi->
numA¡”isk
,

2834 
•fi
->
hasFuÎStİ
,

2835 
•fi
->
»adH¬dCÏu£Wts
,

2836 
•fi
->
mu¡HaveWtOrFuÎStİ
,

2837 
•fi
->
isIndivisibË
,ƒpfi->
isHybrid
,

2838 
•fi
->
cÚtP»d
,ƒpfi->
m—n
,

2839 
•fi
->
hasWeightFuÎStİ
,ƒpfi->
ut
,

2840 
h¬dCÏu£Idxs
, 
h¬dFÜmuÏs
,

2841 
æ³dCÏu£
, 
domaš0
);

2842 
d–‘e
 
	g•fi
;

2843 
	gcout
<<"CNF cÚv”siÚook ";
	gTim”
::
´štTime
(
cout
,
zztim”
.
time
()-
¡¬tSec
);

2844 
	gcout
<<
	g’dl
;

2846 
	gfÜmuÏInfos
.
ş—r
();

2849 
	gmaxSoáWt
 = 
mÊ
->
g‘MaxAbsSoáWt
();

2850 ià(
	gmaxSoáWt
 =ğ0è
maxSoáWt
 = 1;

2852 
	gh¬dWt
 = (
HARD_WEIGHT
==
DBL_MIN
è? 
HARD_WEIGHT_MULTIPLIER
 * 
maxSoáWt


2853 : 
HARD_WEIGHT
;

2855 
	gi
 = 0; i < 
	gh¬dCÏu£Idxs
.
size
(); i++)

2863 
	ghh¬dWt
 = 
h¬dWt
;

2874 ià(
	gzzæWtsOfFl³dCÏu£
 &&

2875 ((
	gCÏu£
*)
	gmÊ
->
g‘CÏu£
(
h¬dCÏu£Idxs
[
i
]))->
g‘Wt
() < 0)

2876 
	ghh¬dWt
 = -
hh¬dWt
;

2878 ((
	gCÏu£
*)
	gmÊ
->
g‘CÏu£
(
h¬dCÏu£Idxs
[
i
]))->
£tWt
(
hh¬dWt
);

2881 ià(
	ghh¬dWt
>0è((
	gCÏu£
*)
	gmÊ
->
g‘CÏu£
(
h¬dCÏu£Idxs
[
i
]))->
£tIsH¬dCÏu£
(
Œue
);

2884 
	gi
 = 0; i < 
	gh¬dFÜmuÏs
.
size
(); i++)

2886 
	gmÊ
->
£tFÜmuÏWt
(
h¬dFÜmuÏs
[
i
], 
h¬dWt
);

2887 
	gmÊ
->
£tFÜmuÏPriÜM—n
(
h¬dFÜmuÏs
[
i
], 
h¬dWt
);

2893 
	$zzsigHªdËr
(
signo
)

2895 ià(
zznumE¼Üs
 > 0è
	`´štf
("Num ofƒrrors detected = %d\n", zznumErrors);

2896 ià(
zzisP¬sšg
)

2897 
	`´štf
("UNRECOVERABLE ERROR in %s:†ine %d, col %d\n",

2898 
	`rmTmpPo¡fix
(
zzšFeName
).
	`c_¡r
(), 
zzlše
, 
zzcŞumn
);

2900 
	`´štf
("UNRECOVERABLE ERROR‡fter…arsing %s\n",

2901 
	`rmTmpPo¡fix
(
zzšFeName
).
	`c_¡r
());

2903 
zzok
 = 
çl£
;

2904 
	`sigÇl
(
signo
,
SIG_DFL
);

2905 
	}
}

2915 
	$zzcompeFunùiÚs
(cÚ¡ * 
feName
)

2917 
if¡»am
 
šfs
;

2918 
of¡»am
 
outfs
;

2921 * 
»moveso
;

2922 
»moveso
 = (*)
	`m®loc
((
	`¡¾’
("rm -f ") +

2923 
	`¡¾’
(
ZZ_FUNCTION_SO_FILE
) + 1)*());

2924 
	`¡rıy
(
»moveso
, "rm -f ");

2925 
	`¡rÿt
(
»moveso
, 
ZZ_FUNCTION_SO_FILE
);

2926 
	`sy¡em
(
»moveso
);

2929 
šfs
.
	`İ’
(
ZZ_FUNCTION_SO_FILE
, 
if¡»am
::
š
);

2930 
šfs
.
	`şo£
();

2931 if(!
šfs
.
	`ç
())

2933 
šfs
.
	`ş—r
(
ios
::
çb™
);

2934 
cout
 << "UÇbËØ»mov" << 
ZZ_FUNCTION_SO_FILE
 << 
’dl
;

2935 
	`ex™
(-1);

2939 * 
sy¡emÿÎ
;

2940 
sy¡emÿÎ
 = (*)
	`m®loc
((
	`¡¾’
("g++ -fPIC -shared -o ") +

2941 
	`¡¾’
(
ZZ_FUNCTION_SO_FILE
) +

2942 
	`¡¾’
(" ") +

2943 
	`¡¾’
(
feName
) + 1)*());

2944 
	`¡rıy
(
sy¡emÿÎ
, "g++ -fPIC -shared -o ");

2945 
	`¡rÿt
(
sy¡emÿÎ
, 
ZZ_FUNCTION_SO_FILE
);

2946 
	`¡rÿt
(
sy¡emÿÎ
, " ");

2947 
	`¡rÿt
(
sy¡emÿÎ
, 
feName
);

2948 
	`sy¡em
(
sy¡emÿÎ
);

2951 
šfs
.
	`İ’
(
ZZ_FUNCTION_SO_FILE
, 
if¡»am
::
š
);

2952 
šfs
.
	`şo£
();

2953 if(
šfs
.
	`ç
())

2955 
šfs
.
	`ş—r
(
ios
::
çb™
);

2956 
cout
 << "Could‚Ù compfunùiÚ f" << 
feName
 << 
’dl
;

2957 
	`ex™
(-1);

2960 
	}
}

2980 
zzš£¹P”mutiÚOfLškedFunùiÚ
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

2981 * 
funcÿÎ
,

2982 cÚ¡ 
FunùiÚTem¶©e
* 
áem¶©e
,

2983 
numT”ms
,

2984 
A¼ay
<>* 
cu¼’tCÚ¡ªts
)

2986 
¡ršg
 
	g»tSŒšg
;

2987 
¡ršg
 
	g¬gum’ts
[
numT”ms
];

2988 
¡ršg
 
	g¬gum’tsAsNum
[
numT”ms
];

2991 
	gi
 = 0; i < 
	gnumT”ms
; i++)

2993 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡ªtsByTy³
 =

2994 
domaš
->
g‘CÚ¡ªtsByTy³
(
áem¶©e
->
g‘T”mTy³AsIÁ
(
i
));

2996 
	g¬gum’ts
[
i
] =

2997 
domaš
->
g‘CÚ¡ªtName
((*
cÚ¡ªtsByTy³
)[((*
cu¼’tCÚ¡ªts
)[
i
])]);

3000 
	g©
 = 
¬gum’ts
[
i
].
rfšd
("@");

3001 ià(
	g©
 !ğ
¡ršg
::
Åos
)

3002 
¬gum’tsAsNum
[
i
] = 
¬gum’ts
[i].
sub¡r
(
©
+1,‡rgum’ts[i].
Ëngth
()-at-1);

3003 
	g¬gum’tsAsNum
[
i
] = 
¬gum’ts
[i];

3007 
	gnumT”ms
)

3010 
»tSŒšg
 = (*(
¡ršg
 (*)())(
funcÿÎ
))();

3013 
»tSŒšg
 = (*(
¡ršg
 (*)(¡ršg))(
funcÿÎ
))(
¬gum’tsAsNum
[0]);

3016 
»tSŒšg
 = (*(
¡ršg
 (*)(¡ršg, 
	g¡ršg
))(
	gfuncÿÎ
))

3017 (
	g¬gum’tsAsNum
[0],‡rgumentsAsNum[1]);

3020 
»tSŒšg
 = (*(
¡ršg
 (*)(¡ršg, 
	g¡ršg
, sŒšg))(
	gfuncÿÎ
))

3021 (
	g¬gum’tsAsNum
[0],‡rgumentsAsNum[1],‡rgumentsAsNum[2]);

3024 
»tSŒšg
 = (*(
¡ršg
 (*)(¡ršg, 
	g¡ršg
, sŒšg, sŒšg))(
	gfuncÿÎ
))

3025 (
	g¬gum’tsAsNum
[0],‡rgumentsAsNum[1],‡rgumentsAsNum[2],

3026 
	g¬gum’tsAsNum
[3]);

3029 
»tSŒšg
 = (*(
¡ršg
 (*)(¡ršg, 
	g¡ršg
, string, string, string))

3030 (
	gfuncÿÎ
))

3031 (
	g¬gum’tsAsNum
[0],‡rgumentsAsNum[1],‡rgumentsAsNum[2],

3032 
	g¬gum’tsAsNum
[3],‡rgumentsAsNum[4]);

3035 
cout
 << "Lšked-š funùiÚ ÿÀkmax. 5‡rgum’ts\n" << 
’dl
;

3040 
	gi
;

3041 
i¡ršg¡»am
 
iss
(
»tSŒšg
);

3042 
	gcÚ¡Name
[1000];

3043 ià(
	giss
>>
	gi
)

3044 
zzü—‹IÁCÚ¡ªt
(
cÚ¡Name
, 
áem¶©e
->
g‘R‘Ty³Name
(), 
i
);

3046 
¡rıy
(
cÚ¡Name
, 
»tSŒšg
.
c_¡r
());

3049 
	gcÚ¡ªtId
 = 
domaš
->
g‘CÚ¡ªtId
(
cÚ¡Name
);

3050 cÚ¡ 
	gA¼ay
<>* 
	g»tuºCÚ¡ªts
 =

3051 
domaš
->
g‘CÚ¡ªtsByTy³
(
áem¶©e
->
g‘R‘Ty³Id
());

3053 ià(
	g»tuºCÚ¡ªts
->
cÚšs
(
cÚ¡ªtId
))

3057 * 
	g´edName
;

3058 
	g´edName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
) +

3059 
¡¾’
(
áem¶©e
->
g‘Name
()) + 1)*());

3060 
¡rıy
(
´edName
, 
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
);

3061 
¡rÿt
(
´edName
, 
áem¶©e
->
g‘Name
());

3062 
zzü—‹P»d
(
zz´ed
, 
´edName
);

3063 
	gzz´ed
->
£tTruthV®ue
(
TRUE
);

3066 
zz´edAµ’dCÚ¡ªt
(
zz´ed
, 
cÚ¡ªtId
, 
cÚ¡Name
);

3068 
	gi
 = 0; i < 
	gnumT”ms
; i++)

3070 cÚ¡ * 
	g‹rm
 = 
¬gum’ts
[
i
].
c_¡r
();

3071 
	gcÚ¡Id
 = 
domaš
->
g‘CÚ¡ªtId
(
‹rm
);

3072 
zz´edAµ’dCÚ¡ªt
(
zz´ed
, 
cÚ¡Id
, 
‹rm
);

3075 
zzcheckP»dNumT”m
(
zz´ed
);

3076 
	g´edId
 = 
zz´ed
->
g‘Id
();

3079 
	ghash_m­
<,
	gP»diÿ‹HashA¼ay
*>::
™”©Ü
 
™
;

3080 ià((
	g™
=
zz´edIdToGndP»dM­
.
fšd
(
´edId
)è=ğzz´edIdToGndP»dM­.
’d
())

3081 
zz´edIdToGndP»dM­
[
´edId
] = 
Ãw
 
P»diÿ‹HashA¼ay
;

3087 
P»diÿ‹HashA¼ay
* 
	gpha
 = 
zz´edIdToGndP»dM­
[
´edId
];

3088 ià(
	gpha
->
­³nd
(
zz´ed
) < 0)

3090 
	ga
 = 
pha
->
fšd
(
zz´ed
);

3091 
zzas£¹
(
a
 >= 0, "expecting ground…redicateo be found");

3092 
¡ršg
 
	gÜigTvSŒ
 = (*
pha
)[
a
]->
g‘TruthV®ueAsSŒ
();

3093 (*
	gpha
)[
a
]->
£tTruthV®ue
(
zz´ed
->
g‘TruthV®ue
());

3094 
¡ršg
 
	gÃwTvSŒ
 = (*
pha
)[
a
]->
g‘TruthV®ueAsSŒ
();

3096 ià(
	gzzw¬nDu¶iÿ‹s
)

3098 
o¡ršg¡»am
 
	goss
;

3099 
	goss
 << "Du¶iÿ‹ ground…»diÿ‹ "; 
	gzz´ed
->
´št
(
oss
, 
zzdomaš
);

3100 
	goss
 << " found. ";

3101 ià(
	gÜigTvSŒ
.
com·»
(
ÃwTvSŒ
) != 0)

3102 
oss
 << "Chªged it ŒuthV®uäom " << 
ÜigTvSŒ
 << "o "

3103 << 
ÃwTvSŒ
 << 
’dl
;

3104 
zzw¬n
(
oss
.
¡r
().
c_¡r
());

3106 
d–‘e
 
	gzz´ed
;

3109 
	gd–‘e
 [] 
	g´edName
;

3110 
	gzz´ed
 = 
NULL
;

3134 
zzš£¹P”mutiÚsOfLškedFunùiÚ
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

3135 * 
funcÿÎ
,

3136 cÚ¡ 
FunùiÚTem¶©e
* 
áem¶©e
,

3137 
numT”ms
, 
cu¼’tT”m
,

3138 
A¼ay
<>* 
cu¼’tCÚ¡ªts
)

3140 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡ªts
 =

3141 
domaš
->
g‘CÚ¡ªtsByTy³
(
áem¶©e
->
g‘T”mTy³AsIÁ
(
cu¼’tT”m
));

3144 ià(
	gcu¼’tT”m
 =ğ
numT”ms
 - 1)

3146 
i
 = 0; 
	gi
 < 
	gcÚ¡ªts
->
size
(); i++)

3148 (*
	gcu¼’tCÚ¡ªts
)[
cu¼’tT”m
] = 
i
;

3149 
zzš£¹P”mutiÚOfLškedFunùiÚ
(
domaš
, 
funcÿÎ
, 
áem¶©e
, 
numT”ms
,

3150 
cu¼’tCÚ¡ªts
);

3156 
zzš£¹P”mutiÚsOfLškedFunùiÚ
(
domaš
, 
funcÿÎ
, 
áem¶©e
, 
numT”ms
,

3157 
cu¼’tT”m
 + 1, 
cu¼’tCÚ¡ªts
);

3159 ià(++(*
	gcu¼’tCÚ¡ªts
)[
cu¼’tT”m
] < 
	gcÚ¡ªts
->
size
())

3160 
zzš£¹P”mutiÚsOfLškedFunùiÚ
(
domaš
, 
funcÿÎ
, 
áem¶©e
, 
numT”ms
,

3161 
cu¼’tT”m
, 
cu¼’tCÚ¡ªts
);

3163 (*
	gcu¼’tCÚ¡ªts
)[
cu¼’tT”m
] = 0;

3179 
	$zzg’”©eGroundšgsFromLškedFunùiÚ
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

3180 cÚ¡ * 
funúame
,

3181 * 
hªdË
)

3183 * 
”rÜ
;

3184 * 
funcÿÎ
;

3187 
	`dË¼Ü
();

3188 
funcÿÎ
 = 
	`dlsym
(
hªdË
, 
funúame
);

3189 ià((
”rÜ
 = 
	`dË¼Ü
()è!ğ
NULL
)

3191 
	`´štf
("E¼Ü whev®u©šg funùiÚ %s\n", 
funúame
);

3192 
	`årštf
 (
¡d”r
, "dË¼Ü: %s\n", 
”rÜ
);

3197 cÚ¡ 
FunùiÚTem¶©e
* 
áem¶©e
 = 
domaš
->
	`g‘FunùiÚTem¶©e
(
funúame
);

3198 
numT”ms
 = 
áem¶©e
->
	`g‘NumT”ms
();

3201 cÚ¡ 
A¼ay
<>* 
‹rmTy³s
 = 
áem¶©e
->
	`g‘T”mTy³sAsIÁ
();

3202 
	`zzas£¹
(
numT”ms
 =ğ
‹rmTy³s
->
	`size
(),

3204 
A¼ay
<>* 
cu¼’tCÚ¡ªts
 = 
Ãw
 Array<>;

3205 
i
 = 0; i < 
numT”ms
; i++è
cu¼’tCÚ¡ªts
->
	`­³nd
(0);

3206 
	`zzš£¹P”mutiÚsOfLškedFunùiÚ
(
domaš
, 
funcÿÎ
, 
áem¶©e
, 
numT”ms
, 0,

3207 
cu¼’tCÚ¡ªts
);

3210 
	}
}

3222 
	$zzg’”©eGroundšgsFromLškedFunùiÚs
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

3225 *
hªdË
;

3226 * 
İ’FeName
;

3227 
İ’FeName
 = (*)
	`m®loc
((
	`¡¾’
("./") +

3228 
	`¡¾’
(
ZZ_FUNCTION_SO_FILE
) + 1)*());

3229 
	`¡rıy
(
İ’FeName
, "./");

3230 
	`¡rÿt
(
İ’FeName
, 
ZZ_FUNCTION_SO_FILE
);

3231 
hªdË
 = 
	`dlİ’
(
İ’FeName
, 
RTLD_LAZY
);

3232 ià(!
hªdË
)

3235 
	`´štf
("No file for†inked-in functions found.\n");

3236 
	`årštf
 (
¡d”r
, "%s\n", 
	`dË¼Ü
());

3237 
	`dlşo£
(
hªdË
);

3242 cÚ¡ 
A¼ay
<cÚ¡ *>* 
âames
 = 
domaš
->
	`g‘FunùiÚNames
();

3243 
i
 = 0; i < 
âames
->
	`size
(); i++)

3247 ià(!
	`zzisIÁ”ÇlFunùiÚ
((*
âames
)[
i
]) &&

3248 
	`zzisLškedFunùiÚ
((*
âames
)[
i
], 
hªdË
))

3250 
cout
 << "Found†šked-š funùiÚ: " << (*
âames
)[
i
] << 
’dl
;

3251 
	`zzg’”©eGroundšgsFromLškedFunùiÚ
(
domaš
, (*
âames
)[
i
], 
hªdË
);

3254 
	`dlşo£
(
hªdË
);

3256 
	}
}

3276 
zzš£¹P”mutiÚOfLškedP»diÿ‹
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

3277 * 
funcÿÎ
,

3278 cÚ¡ 
P»diÿ‹Tem¶©e
* 
±em¶©e
,

3279 
numT”ms
,

3280 
A¼ay
<>* 
cu¼’tCÚ¡ªts
)

3282 
boŞ
 
	g»tBoŞ
 = 
çl£
;

3283 
¡ršg
 
	g¬gum’ts
[
numT”ms
];

3284 
¡ršg
 
	g¬gum’tsAsNum
[
numT”ms
];

3287 
	gi
 = 0; i < 
	gnumT”ms
; i++)

3289 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡ªtsByTy³
 =

3290 
domaš
->
g‘CÚ¡ªtsByTy³
(
±em¶©e
->
g‘T”mTy³AsIÁ
(
i
));

3292 
	g¬gum’ts
[
i
] =

3293 
domaš
->
g‘CÚ¡ªtName
((*
cÚ¡ªtsByTy³
)[((*
cu¼’tCÚ¡ªts
)[
i
])]);

3296 
	g©
 = 
¬gum’ts
[
i
].
rfšd
("@");

3297 ià(
	g©
 !ğ
¡ršg
::
Åos
)

3298 
¬gum’tsAsNum
[
i
] = 
¬gum’ts
[i].
sub¡r
(
©
+1,‡rgum’ts[i].
Ëngth
()-at-1);

3299 
	g¬gum’tsAsNum
[
i
] = 
¬gum’ts
[i];

3303 
	gnumT”ms
)

3306 
»tBoŞ
 = (*(
boŞ
 (*)())(
funcÿÎ
))();

3309 
»tBoŞ
 = (*(
boŞ
 (*)(
¡ršg
))(
funcÿÎ
))(
¬gum’tsAsNum
[0]);

3312 
»tBoŞ
 = (*(
boŞ
 (*)(
¡ršg
, 
	g¡ršg
))(
	gfuncÿÎ
))

3313 (
	g¬gum’tsAsNum
[0],‡rgumentsAsNum[1]);

3316 
»tBoŞ
 = (*(
boŞ
 (*)(
¡ršg
, 
	g¡ršg
, sŒšg))(
	gfuncÿÎ
))

3317 (
	g¬gum’tsAsNum
[0],‡rgumentsAsNum[1],‡rgumentsAsNum[2]);

3320 
»tBoŞ
 = (*(
boŞ
 (*)(
¡ršg
, 
	g¡ršg
, sŒšg, sŒšg))(
	gfuncÿÎ
))

3321 (
	g¬gum’tsAsNum
[0],‡rgumentsAsNum[1],‡rgumentsAsNum[2],

3322 
	g¬gum’tsAsNum
[3]);

3325 
»tBoŞ
 = (*(
boŞ
 (*)(
¡ršg
, 
	g¡ršg
, sŒšg, sŒšg, sŒšg))(
	gfuncÿÎ
))

3326 (
	g¬gum’tsAsNum
[0],‡rgumentsAsNum[1],‡rgumentsAsNum[2],

3327 
	g¬gum’tsAsNum
[3],‡rgumentsAsNum[4]);

3330 
cout
 << "Lšked-š…»diÿ‹ ÿÀkmax. 5‡rgum’ts\n" << 
’dl
;

3335 cÚ¡ * 
	g´edName
;

3336 
	g´edName
 = 
±em¶©e
->
g‘Name
();

3339 
zzü—‹P»d
(
zz´ed
, 
´edName
);

3340 ià(
	g»tBoŞ
è
	gzz´ed
->
£tTruthV®ue
(
TRUE
);

3341 
	gzz´ed
->
£tTruthV®ue
(
FALSE
);

3344 
	gi
 = 0; i < 
	gnumT”ms
; i++)

3346 cÚ¡ * 
	g‹rm
 = 
¬gum’ts
[
i
].
c_¡r
();

3347 
	gcÚ¡Id
 = 
domaš
->
g‘CÚ¡ªtId
(
‹rm
);

3348 
zz´edAµ’dCÚ¡ªt
(
zz´ed
, 
cÚ¡Id
, 
‹rm
);

3351 
zzcheckP»dNumT”m
(
zz´ed
);

3352 
	g´edId
 = 
zz´ed
->
g‘Id
();

3355 
	ghash_m­
<,
	gP»diÿ‹HashA¼ay
*>::
™”©Ü
 
™
;

3356 ià((
	g™
=
zz´edIdToGndP»dM­
.
fšd
(
´edId
)è=ğzz´edIdToGndP»dM­.
’d
())

3357 
zz´edIdToGndP»dM­
[
´edId
] = 
Ãw
 
P»diÿ‹HashA¼ay
;

3363 
P»diÿ‹HashA¼ay
* 
	gpha
 = 
zz´edIdToGndP»dM­
[
´edId
];

3364 ià(
	gpha
->
­³nd
(
zz´ed
) < 0)

3366 
	ga
 = 
pha
->
fšd
(
zz´ed
);

3367 
zzas£¹
(
a
 >= 0, "expecting ground…redicateo be found");

3368 
¡ršg
 
	gÜigTvSŒ
 = (*
pha
)[
a
]->
g‘TruthV®ueAsSŒ
();

3369 (*
	gpha
)[
a
]->
£tTruthV®ue
(
zz´ed
->
g‘TruthV®ue
());

3370 
¡ršg
 
	gÃwTvSŒ
 = (*
pha
)[
a
]->
g‘TruthV®ueAsSŒ
();

3372 ià(
	gzzw¬nDu¶iÿ‹s
)

3374 
o¡ršg¡»am
 
	goss
;

3375 
	goss
 << "Du¶iÿ‹ ground…»diÿ‹ "; 
	gzz´ed
->
´št
(
oss
, 
zzdomaš
);

3376 
	goss
 << " found. ";

3377 ià(
	gÜigTvSŒ
.
com·»
(
ÃwTvSŒ
) != 0)

3378 
oss
 << "Chªged it ŒuthV®uäom " << 
ÜigTvSŒ
 << "Ø" << 
ÃwTvSŒ


3379 << 
’dl
;

3380 
zzw¬n
(
oss
.
¡r
().
c_¡r
());

3382 
d–‘e
 
	gzz´ed
;

3384 
	gzz´ed
 = 
NULL
;

3406 
zzš£¹P”mutiÚsOfLškedP»diÿ‹
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

3407 * 
funcÿÎ
,

3408 cÚ¡ 
P»diÿ‹Tem¶©e
* 
±em¶©e
,

3409 
numT”ms
, 
cu¼’tT”m
,

3410 
A¼ay
<>* 
cu¼’tCÚ¡ªts
)

3412 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡ªts
 =

3413 
domaš
->
g‘CÚ¡ªtsByTy³
(
±em¶©e
->
g‘T”mTy³AsIÁ
(
cu¼’tT”m
));

3416 ià(
	gcu¼’tT”m
 =ğ
numT”ms
 - 1)

3418 
i
 = 0; 
	gi
 < 
	gcÚ¡ªts
->
size
(); i++)

3420 (*
	gcu¼’tCÚ¡ªts
)[
cu¼’tT”m
] = 
i
;

3421 
zzš£¹P”mutiÚOfLškedP»diÿ‹
(
domaš
, 
funcÿÎ
, 
±em¶©e
,

3422 
numT”ms
, 
cu¼’tCÚ¡ªts
);

3428 
zzš£¹P”mutiÚsOfLškedP»diÿ‹
(
domaš
, 
funcÿÎ
, 
±em¶©e
, 
numT”ms
,

3429 
cu¼’tT”m
 + 1, 
cu¼’tCÚ¡ªts
);

3431 ià(++(*
	gcu¼’tCÚ¡ªts
)[
cu¼’tT”m
] < 
	gcÚ¡ªts
->
size
())

3432 
zzš£¹P”mutiÚsOfLškedP»diÿ‹
(
domaš
, 
funcÿÎ
, 
±em¶©e
, 
numT”ms
,

3433 
cu¼’tT”m
, 
cu¼’tCÚ¡ªts
);

3435 (*
	gcu¼’tCÚ¡ªts
)[
cu¼’tT”m
] = 0;

3451 
	$zzg’”©eGroundšgsFromLškedP»diÿ‹
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

3452 cÚ¡ * 
´edÇme
,

3453 * 
hªdË
)

3455 * 
”rÜ
;

3456 * 
funcÿÎ
;

3459 
	`dË¼Ü
();

3460 
funcÿÎ
 = 
	`dlsym
(
hªdË
, 
´edÇme
);

3461 ià((
”rÜ
 = 
	`dË¼Ü
()è!ğ
NULL
)

3463 
	`´štf
("E¼Ü whev®u©šg…»diÿ‹ %s\n", 
´edÇme
);

3464 
	`årštf
 (
¡d”r
, "dË¼Ü: %s\n", 
”rÜ
);

3469 cÚ¡ 
P»diÿ‹Tem¶©e
* 
±em¶©e
 = 
domaš
->
	`g‘P»diÿ‹Tem¶©e
(
´edÇme
);

3470 
numT”ms
 = 
±em¶©e
->
	`g‘NumT”ms
();

3473 cÚ¡ 
A¼ay
<>* 
‹rmTy³s
 = 
±em¶©e
->
	`g‘T”mTy³sAsIÁ
();

3474 
	`zzas£¹
(
numT”ms
 =ğ
‹rmTy³s
->
	`size
(),

3476 
A¼ay
<>* 
cu¼’tCÚ¡ªts
 = 
Ãw
 Array<>;

3477 
i
 = 0; i < 
numT”ms
; i++è
cu¼’tCÚ¡ªts
->
	`­³nd
(0);

3478 
	`zzš£¹P”mutiÚsOfLškedP»diÿ‹
(
domaš
, 
funcÿÎ
, 
±em¶©e
, 
numT”ms
,

3479 0, 
cu¼’tCÚ¡ªts
);

3482 
	}
}

3494 
	$zzg’”©eGroundšgsFromLškedP»diÿ‹s
(cÚ¡ 
Domaš
* cÚ¡ & 
domaš
)

3497 *
hªdË
;

3498 * 
İ’FeName
;

3499 
İ’FeName
 = (*)
	`m®loc
((
	`¡¾’
("./") +

3500 
	`¡¾’
(
ZZ_FUNCTION_SO_FILE
) + 1)*());

3501 
	`¡rıy
(
İ’FeName
, "./");

3502 
	`¡rÿt
(
İ’FeName
, 
ZZ_FUNCTION_SO_FILE
);

3503 
hªdË
 = 
	`dlİ’
(
İ’FeName
, 
RTLD_LAZY
);

3504 ià(!
hªdË
)

3507 
	`´štf
("No file for†inked-in…redicates found.\n");

3508 
	`årštf
 (
¡d”r
, "%s\n", 
	`dË¼Ü
());

3509 
	`dlşo£
(
hªdË
);

3514 cÚ¡ 
A¼ay
<cÚ¡ *>* 
²ames
 = 
domaš
->
	`g‘P»diÿ‹Names
();

3515 
i
 = 0; i < 
²ames
->
	`size
(); i++)

3519 ià(!
	`zzisIÁ”ÇlP»diÿ‹
((*
²ames
)[
i
]) &&

3520 
	`zzisLškedP»diÿ‹
((*
²ames
)[
i
], 
hªdË
))

3522 
cout
 << "Found†šked-š…»diÿ‹: " << (*
²ames
)[
i
] << 
’dl
;

3523 
	`zzg’”©eGroundšgsFromLškedP»diÿ‹
(
domaš
, (*
²ames
)[
i
], 
hªdË
);

3526 
	`dlşo£
(
hªdË
);

3528 
	}
}

3664 
zzš£¹P”mutiÚOfIÁ”ÇlP»diÿ‹
(
šdex
,

3665 cÚ¡ 
P»diÿ‹Tem¶©e
* cÚ¡& 
±em¶©e
,

3666 
numT”ms
,

3667 
A¼ay
<>* 
cu¼’tCÚ¡ªts
)

3669 
boŞ
 
	g»tBoŞ
 = 
çl£
;

3670 
¡ršg
 
	g¬gum’ts
[
numT”ms
];

3671 
¡ršg
 
	g¬gum’tsAsNum
[
numT”ms
];

3674 
	gi
 = 0; i < 
	gnumT”ms
; i++)

3676 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡ªtsByTy³
 =

3677 
zzdomaš
->
g‘CÚ¡ªtsByTy³
(
±em¶©e
->
g‘T”mTy³AsIÁ
(
i
));

3679 
	g¬gum’ts
[
i
] =

3680 
zzdomaš
->
g‘CÚ¡ªtName
((*
cÚ¡ªtsByTy³
)[((*
cu¼’tCÚ¡ªts
)[
i
])]);

3683 
	g©
 = 
¬gum’ts
[
i
].
rfšd
("@");

3684 ià(
	g©
 !ğ
¡ršg
::
Åos
)

3685 
¬gum’tsAsNum
[
i
] = 
¬gum’ts
[i].
sub¡r
(
©
+1,‡rgum’ts[i].
Ëngth
()-at-1);

3688 
	g¬gum’tsAsNum
[
i
] = 
¬gum’ts
[i];

3690 
	g¡ršg
::
size_ty³
 
loc
 = 
¬gum’tsAsNum
[
i
].
fšd
("\"", 0);

3691 
	gloc
 !ğ
¡ršg
::
Åos
)

3693 
¬gum’tsAsNum
[
i
].
”a£
(
loc
, 1);

3694 
	gloc
 = 
¬gum’tsAsNum
[
i
].
fšd
("\"", 0);

3700 
	ga
, 
	gb
;

3701 
	gšdex
)

3704 
IÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[0], 
a
);

3705 
	gIÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[1], 
b
);

3706 
	g»tBoŞ
 = 
IÁ”Çls
::
g»©”Thª
(
a
, 
b
);

3709 
IÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[0], 
a
);

3710 
	gIÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[1], 
b
);

3711 
	g»tBoŞ
 = 
IÁ”Çls
::
ËssThª
(
a
, 
b
);

3714 
IÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[0], 
a
);

3715 
	gIÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[1], 
b
);

3716 
	g»tBoŞ
 = 
IÁ”Çls
::
g»©”ThªEq
(
a
, 
b
);

3719 
IÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[0], 
a
);

3720 
	gIÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[1], 
b
);

3721 
	g»tBoŞ
 = 
IÁ”Çls
::
ËssThªEq
(
a
, 
b
);

3724 
»tBoŞ
 = 
IÁ”Çls
::
sub¡r
(
¬gum’tsAsNum
[0],‡rgumentsAsNum[1]);

3729 cÚ¡ * 
	g´edName
;

3730 
	g´edName
 = 
±em¶©e
->
g‘Name
();

3731 
zzü—‹P»d
(
zz´ed
, 
´edName
);

3732 ià(
	g»tBoŞ
è
	gzz´ed
->
£tTruthV®ue
(
TRUE
);

3733 
	gzz´ed
->
£tTruthV®ue
(
FALSE
);

3736 
	gi
 = 0; i < 
	gnumT”ms
; i++)

3738 cÚ¡ * 
	g‹rm
 = 
¬gum’ts
[
i
].
c_¡r
();

3739 
	gcÚ¡Id
 = 
zzdomaš
->
g‘CÚ¡ªtId
(
‹rm
);

3740 
zz´edAµ’dCÚ¡ªt
(
zz´ed
, 
cÚ¡Id
, 
‹rm
);

3743 
zzcheckP»dNumT”m
(
zz´ed
);

3744 
	g´edId
 = 
zz´ed
->
g‘Id
();

3747 
	ghash_m­
<,
	gP»diÿ‹HashA¼ay
*>::
™”©Ü
 
™
;

3748 ià((
	g™
=
zz´edIdToGndP»dM­
.
fšd
(
´edId
)è=ğzz´edIdToGndP»dM­.
’d
())

3749 
zz´edIdToGndP»dM­
[
´edId
] = 
Ãw
 
P»diÿ‹HashA¼ay
;

3755 
P»diÿ‹HashA¼ay
* 
	gpha
 = 
zz´edIdToGndP»dM­
[
´edId
];

3756 ià(
	gpha
->
­³nd
(
zz´ed
) < 0)

3758 
	ga
 = 
pha
->
fšd
(
zz´ed
);

3759 
zzas£¹
(
a
 >= 0, "expecting ground…redicateo be found");

3760 
¡ršg
 
	gÜigTvSŒ
 = (*
pha
)[
a
]->
g‘TruthV®ueAsSŒ
();

3761 (*
	gpha
)[
a
]->
£tTruthV®ue
(
zz´ed
->
g‘TruthV®ue
());

3762 
¡ršg
 
	gÃwTvSŒ
 = (*
pha
)[
a
]->
g‘TruthV®ueAsSŒ
();

3764 ià(
	gzzw¬nDu¶iÿ‹s
)

3766 
o¡ršg¡»am
 
	goss
;

3767 
	goss
 << "Du¶iÿ‹ ground…»diÿ‹ "; 
	gzz´ed
->
´št
(
oss
, 
zzdomaš
);

3768 
	goss
 << " found. ";

3769 ià(
	gÜigTvSŒ
.
com·»
(
ÃwTvSŒ
) != 0)

3770 
oss
 << "Chªged it ŒuthV®uäom " << 
ÜigTvSŒ
 << "Ø" << 
ÃwTvSŒ


3771 << 
’dl
;

3772 
zzw¬n
(
oss
.
¡r
().
c_¡r
());

3774 
d–‘e
 
	gzz´ed
;

3777 
	gzz´ed
 = 
NULL
;

3796 
zzš£¹P”mutiÚOfIÁ”ÇlFunùiÚ
(
šdex
,

3797 cÚ¡ 
FunùiÚTem¶©e
* 
áem¶©e
,

3798 
numT”ms
,

3799 
A¼ay
<>* 
cu¼’tCÚ¡ªts
)

3801 
	gcÚ¡Name
[1000];

3802 
¡ršg
 
	g¬gum’ts
[
numT”ms
];

3803 
¡ršg
 
	g¬gum’tsAsNum
[
numT”ms
];

3806 
	gi
 = 0; i < 
	gnumT”ms
; i++)

3808 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡ªtsByTy³
 =

3809 
zzdomaš
->
g‘CÚ¡ªtsByTy³
(
áem¶©e
->
g‘T”mTy³AsIÁ
(
i
));

3811 
	g¬gum’ts
[
i
] =

3812 
zzdomaš
->
g‘CÚ¡ªtName
((*
cÚ¡ªtsByTy³
)[((*
cu¼’tCÚ¡ªts
)[
i
])]);

3815 
	g©
 = 
¬gum’ts
[
i
].
rfšd
("@");

3816 ià(
	g©
 !ğ
¡ršg
::
Åos
)

3817 
¬gum’tsAsNum
[
i
] = 
¬gum’ts
[i].
sub¡r
(
©
+1,‡rgum’ts[i].
Ëngth
()-at-1);

3818 
	g¬gum’tsAsNum
[
i
] = 
¬gum’ts
[i];

3822 
	ga
, 
	gb
;

3823 
	gšdex
)

3826 
IÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[0], 
a
);

3827 
zzü—‹IÁCÚ¡ªt
(
cÚ¡Name
, 
áem¶©e
->
g‘R‘Ty³Name
(),

3828 
IÁ”Çls
::
succ
(
a
));

3831 
IÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[0], 
a
);

3832 
	gIÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[1], 
b
);

3833 
zzü—‹IÁCÚ¡ªt
(
cÚ¡Name
, 
áem¶©e
->
g‘R‘Ty³Name
(),

3834 
IÁ”Çls
::
¶us
(
a
, 
b
));

3837 
IÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[0], 
a
);

3838 
	gIÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[1], 
b
);

3839 
zzü—‹IÁCÚ¡ªt
(
cÚ¡Name
, 
áem¶©e
->
g‘R‘Ty³Name
(),

3840 
IÁ”Çls
::
mšus
(
a
, 
b
));

3843 
IÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[0], 
a
);

3844 
	gIÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[1], 
b
);

3845 
zzü—‹IÁCÚ¡ªt
(
cÚ¡Name
, 
áem¶©e
->
g‘R‘Ty³Name
(),

3846 
IÁ”Çls
::
times
(
a
, 
b
));

3849 
IÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[0], 
a
);

3850 
	gIÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[1], 
b
);

3851 
zzü—‹IÁCÚ¡ªt
(
cÚ¡Name
, 
áem¶©e
->
g‘R‘Ty³Name
(),

3852 
IÁ”Çls
::
dividedBy
(
a
, 
b
));

3855 
IÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[0], 
a
);

3856 
	gIÁ”Çls
::
¡ršgToIÁ
(
¬gum’tsAsNum
[1], 
b
);

3857 
zzü—‹IÁCÚ¡ªt
(
cÚ¡Name
, 
áem¶©e
->
g‘R‘Ty³Name
(),

3858 
IÁ”Çls
::
mod
(
a
, 
b
));

3861 
¡rıy
(
cÚ¡Name
,

3862 
IÁ”Çls
::
cÚÿt
(
¬gum’tsAsNum
[0],‡rgum’tsAsNum[1]).
c_¡r
());

3866 
	gcÚ¡ªtId
 = 
zzdomaš
->
g‘CÚ¡ªtId
(
cÚ¡Name
);

3867 cÚ¡ 
	gA¼ay
<>* 
	g»tuºCÚ¡ªts
 =

3868 
zzdomaš
->
g‘CÚ¡ªtsByTy³
(
áem¶©e
->
g‘R‘Ty³Id
());

3870 ià(
	g»tuºCÚ¡ªts
->
cÚšs
(
cÚ¡ªtId
))

3874 * 
	g´edName
;

3875 
	g´edName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
) +

3876 
¡¾’
(
áem¶©e
->
g‘Name
()) + 1)*());

3877 
¡rıy
(
´edName
, 
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
);

3878 
¡rÿt
(
´edName
, 
áem¶©e
->
g‘Name
());

3879 
zzü—‹P»d
(
zz´ed
, 
´edName
);

3880 
	gzz´ed
->
£tTruthV®ue
(
TRUE
);

3883 
zz´edAµ’dCÚ¡ªt
(
zz´ed
, 
cÚ¡ªtId
, 
cÚ¡Name
);

3885 
	gi
 = 0; i < 
	gnumT”ms
; i++)

3887 cÚ¡ * 
	g‹rm
 = 
¬gum’ts
[
i
].
c_¡r
();

3888 
	gcÚ¡Id
 = 
zzdomaš
->
g‘CÚ¡ªtId
(
‹rm
);

3889 
zz´edAµ’dCÚ¡ªt
(
zz´ed
, 
cÚ¡Id
, 
‹rm
);

3892 
zzcheckP»dNumT”m
(
zz´ed
);

3893 
	g´edId
 = 
zz´ed
->
g‘Id
();

3895 
	ghash_m­
<,
	gP»diÿ‹HashA¼ay
*>::
™”©Ü
 
™
;

3896 ià((
	g™
=
zz´edIdToGndP»dM­
.
fšd
(
´edId
)è=ğzz´edIdToGndP»dM­.
’d
())

3897 
zz´edIdToGndP»dM­
[
´edId
] = 
Ãw
 
P»diÿ‹HashA¼ay
;

3903 
P»diÿ‹HashA¼ay
* 
	gpha
 = 
zz´edIdToGndP»dM­
[
´edId
];

3904 ià(
	gpha
->
­³nd
(
zz´ed
) < 0)

3906 
	ga
 = 
pha
->
fšd
(
zz´ed
);

3907 
zzas£¹
(
a
 >= 0, "expecting ground…redicateo be found");

3908 
¡ršg
 
	gÜigTvSŒ
 = (*
pha
)[
a
]->
g‘TruthV®ueAsSŒ
();

3909 (*
	gpha
)[
a
]->
£tTruthV®ue
(
zz´ed
->
g‘TruthV®ue
());

3910 
¡ršg
 
	gÃwTvSŒ
 = (*
pha
)[
a
]->
g‘TruthV®ueAsSŒ
();

3912 ià(
	gzzw¬nDu¶iÿ‹s
)

3914 
o¡ršg¡»am
 
	goss
;

3915 
	goss
 << "Du¶iÿ‹ ground…»diÿ‹ "; 
	gzz´ed
->
´št
(
oss
, 
zzdomaš
);

3916 
	goss
 << " found. ";

3917 ià(
	gÜigTvSŒ
.
com·»
(
ÃwTvSŒ
) != 0)

3918 
oss
 << "Chªged it ŒuthV®uäom " << 
ÜigTvSŒ
 << "o "

3919 << 
ÃwTvSŒ
 << 
’dl
;

3920 
zzw¬n
(
oss
.
¡r
().
c_¡r
());

3922 
d–‘e
 
	gzz´ed
;

3925 
ä“
(
´edName
);

3926 
	gzz´ed
 = 
NULL
;

3948 
zzš£¹P”mutiÚsOfIÁ”ÇlP»diÿ‹
(
šdex
,

3949 cÚ¡ 
P»diÿ‹Tem¶©e
* cÚ¡& 
±em¶©e
,

3950 
numT”ms
, 
cu¼’tT”m
,

3951 
A¼ay
<>* 
cu¼’tCÚ¡ªts
)

3953 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡ªts
 =

3954 
zzdomaš
->
g‘CÚ¡ªtsByTy³
(
±em¶©e
->
g‘T”mTy³AsIÁ
(
cu¼’tT”m
));

3957 ià(
	gcu¼’tT”m
 =ğ
numT”ms
 - 1)

3959 
i
 = 0; 
	gi
 < 
	gcÚ¡ªts
->
size
(); i++)

3961 (*
	gcu¼’tCÚ¡ªts
)[
cu¼’tT”m
] = 
i
;

3962 
zzš£¹P”mutiÚOfIÁ”ÇlP»diÿ‹
(
šdex
, 
±em¶©e
, 
numT”ms
,

3963 
cu¼’tCÚ¡ªts
);

3969 
zzš£¹P”mutiÚsOfIÁ”ÇlP»diÿ‹
(
šdex
, 
±em¶©e
, 
numT”ms
,

3970 
cu¼’tT”m
 + 1, 
cu¼’tCÚ¡ªts
);

3972 ià(++(*
	gcu¼’tCÚ¡ªts
)[
cu¼’tT”m
] < 
	gcÚ¡ªts
->
size
())

3973 
zzš£¹P”mutiÚsOfIÁ”ÇlP»diÿ‹
(
šdex
, 
±em¶©e
, 
numT”ms
,

3974 
cu¼’tT”m
, 
cu¼’tCÚ¡ªts
);

3976 (*
	gcu¼’tCÚ¡ªts
)[
cu¼’tT”m
] = 0;

3998 
zzš£¹P”mutiÚsOfIÁ”ÇlFunùiÚ
(
šdex
,

3999 cÚ¡ 
FunùiÚTem¶©e
* cÚ¡& 
áem¶©e
,

4000 
numT”ms
, 
cu¼’tT”m
,

4001 
A¼ay
<>* 
cu¼’tCÚ¡ªts
)

4003 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡ªts
 =

4004 
zzdomaš
->
g‘CÚ¡ªtsByTy³
(
áem¶©e
->
g‘T”mTy³AsIÁ
(
cu¼’tT”m
));

4007 ià(
	gcu¼’tT”m
 =ğ
numT”ms
 - 1)

4009 
i
 = 0; 
	gi
 < 
	gcÚ¡ªts
->
size
(); i++)

4011 (*
	gcu¼’tCÚ¡ªts
)[
cu¼’tT”m
] = 
i
;

4012 
zzš£¹P”mutiÚOfIÁ”ÇlFunùiÚ
(
šdex
, 
áem¶©e
, 
numT”ms
,

4013 
cu¼’tCÚ¡ªts
);

4019 
zzš£¹P”mutiÚsOfIÁ”ÇlFunùiÚ
(
šdex
, 
áem¶©e
, 
numT”ms
,

4020 
cu¼’tT”m
 + 1, 
cu¼’tCÚ¡ªts
);

4022 ià(++(*
	gcu¼’tCÚ¡ªts
)[
cu¼’tT”m
] < 
	gcÚ¡ªts
->
size
())

4023 
zzš£¹P”mutiÚsOfIÁ”ÇlFunùiÚ
(
šdex
, 
áem¶©e
, 
numT”ms
,

4024 
cu¼’tT”m
, 
cu¼’tCÚ¡ªts
);

4026 (*
	gcu¼’tCÚ¡ªts
)[
cu¼’tT”m
] = 0;

4035 
	$zzg’”©eGroundšgsFromIÁ”ÇlP»diÿ‹
(
šdex
,

4036 cÚ¡ 
P»diÿ‹Tem¶©e
* cÚ¡& 
±em¶©e
)

4039 ià(
±em¶©e
 !ğ
NULL
)

4041 
numT”ms
 = 
±em¶©e
->
	`g‘NumT”ms
();

4044 cÚ¡ 
A¼ay
<>* 
‹rmTy³s
 = 
±em¶©e
->
	`g‘T”mTy³sAsIÁ
();

4045 
	`zzas£¹
(
numT”ms
 =ğ
‹rmTy³s
->
	`size
(),

4047 
A¼ay
<>* 
cu¼’tCÚ¡ªts
 = 
Ãw
 Array<>;

4048 
i
 = 0; i < 
numT”ms
; i++è
cu¼’tCÚ¡ªts
->
	`­³nd
(0);

4049 
	`zzš£¹P”mutiÚsOfIÁ”ÇlP»diÿ‹
(
šdex
, 
±em¶©e
, 
numT”ms
, 0,

4050 
cu¼’tCÚ¡ªts
);

4051 
d–‘e
 
cu¼’tCÚ¡ªts
;

4054 
	}
}

4061 
	$zzg’”©eGroundšgsFromIÁ”ÇlFunùiÚ
(
šdex
,

4062 cÚ¡ 
FunùiÚTem¶©e
* cÚ¡& 
áem¶©e
)

4065 ià(
áem¶©e
 !ğ
NULL
)

4067 
numT”ms
 = 
áem¶©e
->
	`g‘NumT”ms
();

4070 cÚ¡ 
A¼ay
<>* 
‹rmTy³s
 = 
áem¶©e
->
	`g‘T”mTy³sAsIÁ
();

4071 
	`zzas£¹
(
numT”ms
 =ğ
‹rmTy³s
->
	`size
(),

4073 
A¼ay
<>* 
cu¼’tCÚ¡ªts
 = 
Ãw
 Array<>;

4074 
i
 = 0; i < 
numT”ms
; i++è
cu¼’tCÚ¡ªts
->
	`­³nd
(0);

4075 
	`zzš£¹P”mutiÚsOfIÁ”ÇlFunùiÚ
(
šdex
, 
áem¶©e
, 
numT”ms
, 0,

4076 
cu¼’tCÚ¡ªts
);

4077 
d–‘e
 
cu¼’tCÚ¡ªts
;

4080 
	}
}

4090 
	$zzg’”©eGroundšgsFromIÁ”ÇlP»diÿ‹sAndFunùiÚs
()

4093 
i
 = 0; i < 
zzdomaš
->
	`g‘NumP»diÿ‹s
(); i++)

4095 cÚ¡ 
P»diÿ‹Tem¶©e
* 
±em¶©e
 = 
zzdomaš
->
	`g‘P»diÿ‹Tem¶©e
(
i
);

4096 ià(
±em¶©e
->
	`isIÁ”ÇlP»diÿ‹Tem¶©e
())

4098 
cout
 << "Found iÁ”ÇÈ´ediÿ‹: " << 
±em¶©e
->
	`g‘Name
(è<< 
’dl
;

4099 
j
 = 0; j < 
zzš‹º®P»diÿ‹s
.
	`size
(); j++)

4101 
cout
 << "h1" << 
’dl
;

4102 ià(
	`¡ºcmp
(
±em¶©e
->
	`g‘Name
(), 
zzš‹º®P»diÿ‹s
[
j
][0],

4103 
	`¡¾’
(
zzš‹º®P»diÿ‹s
[
j
][0])) == 0)

4105 
cout
 << "h2" << 
’dl
;

4106 
	`zzg’”©eGroundšgsFromIÁ”ÇlP»diÿ‹
(
j
, 
±em¶©e
);

4107 
cout
 << "h3" << 
’dl
;

4110 
cout
 << "h4" << 
’dl
;

4116 
i
 = 0; i < 
zzdomaš
->
	`g‘NumFunùiÚs
(); i++)

4118 cÚ¡ 
FunùiÚTem¶©e
* 
áem¶©e
 = 
zzdomaš
->
	`g‘FunùiÚTem¶©e
(
i
);

4119 ià(
áem¶©e
->
	`isIÁ”ÇlFunùiÚTem¶©e
())

4121 
cout
 << "Found iÁ”ÇÈfunùiÚ: " << 
áem¶©e
->
	`g‘Name
(è<< 
’dl
;

4122 
j
 = 0; j < 
zzš‹º®FunùiÚs
.
	`size
(); j++)

4124 ià(
	`¡ºcmp
(
áem¶©e
->
	`g‘Name
(), 
zzš‹º®FunùiÚs
[
j
][0],

4125 
	`¡¾’
(
zzš‹º®FunùiÚs
[
j
][0])) == 0)

4127 
	`zzg’”©eGroundšgsFromIÁ”ÇlFunùiÚ
(
j
, 
áem¶©e
);

4135 
	}
}

4137 
	$zzü—‹IÁ”ÇlP»dTem¶©e
(cÚ¡ 
¡ršg
& 
´edName
,

4138 cÚ¡ * cÚ¡ & 
‰y³
)

4141 ià(
zzdomaš
->
	`g‘P»diÿ‹Id
(
´edName
.
	`c_¡r
()) >= 0) ;

4142 
šdex
;

4143 
¡ršg
 
ba£Name
 = 
´edName
.
	`sub¡r
(0,…»dName.
	`fšd_Ï¡_of
("_"));

4145 ià((
šdex
 = 
	`zzfšdIÁ”ÇlP»diÿ‹
(
ba£Name
.
	`c_¡r
())) >= 0)

4147 
	`zzas£¹
(
zzdomaš
->
	`g‘FunùiÚId
(
´edName
.
	`c_¡r
()) < 0,

4149 
P»diÿ‹Tem¶©e
* 
±em¶©e
 = 
Ãw
 
	`P»diÿ‹Tem¶©e
();

4150 
±em¶©e
->
	`£tName
(
´edName
.
	`c_¡r
());

4153 
j
 = 1; j < 
zzš‹º®P»diÿ‹s
[
šdex
].
	`size
(); j++)

4155 
id
;

4156 ià(!
zzdomaš
->
	`isTy³
(
‰y³
))

4158 
id
 = 
	`zzaddTy³ToDomaš
(
zzdomaš
, 
‰y³
);

4159 
	`zzas£¹
(
id
 >= 0, "expecting var id >= 0");

4161 
	`zzaddTy³
(
‰y³
, 
±em¶©e
, 
NULL
, 
çl£
, 
zzdomaš
);

4165 
	`zzas£¹
(
±em¶©e
, "notƒxpecting…template==NULL");

4166 
id
 = 
zzdomaš
->
	`addP»diÿ‹Tem¶©e
(
±em¶©e
);

4167 
	`zzas£¹
(
id
 >= 0, "expecting…redemplate id >= 0");

4168 
±em¶©e
->
	`£tId
(
id
);

4171 
	`zzex™
("P»diÿ‹ % i nÙ‡Àš‹º®…»diÿ‹.", 
´edName
.
	`c_¡r
());

4172 
	}
}

4174 
	$zz£tIÁ”ÇlP»dTy³Name
(cÚ¡ * cÚ¡ & 
´edName
, cÚ¡ & 
ty³Id
)

4176 cÚ¡ * 
ty³Name
 = 
zzdomaš
->
	`g‘Ty³Name
(
ty³Id
);

4177 
¡ršg
 
štP»dName
 =

4178 
P»diÿ‹Tem¶©e
::
	`ü—‹IÁ”ÇlP»dTy³Name
(
´edName
, 
ty³Name
);

4179 
	`zzü—‹IÁ”ÇlP»dTem¶©e
(
štP»dName
, 
ty³Name
);

4180 cÚ¡ 
P»diÿ‹Tem¶©e
* 
t
 =

4181 
zzdomaš
->
	`g‘P»diÿ‹Tem¶©e
(
štP»dName
.
	`c_¡r
());

4182 
zz´ed
->
	`£tTem¶©e
((
P»diÿ‹Tem¶©e
*)
t
);

4183 
	`zzas£¹
(
zzdomaš
->
	`g‘P»diÿ‹Tem¶©e
(
štP»dName
.
	`c_¡r
()è!ğ
NULL
,

4185 
Li¡Obj
* 
´edlo
 = 
zz´edFuncLi¡Objs
.
	`tİ
();

4186 
´edlo
->
	`»¶aû
(
´edName
, 
štP»dName
.
	`c_¡r
());

4187 
	}
}

4189 
zzü—‹IÁ”ÇlFuncTem¶©e
(cÚ¡ 
¡ršg
 & 
funcName
,

4190 cÚ¡ 
A¼ay
<
¡ršg
>& 
ty³Names
)

4193 ià(
	gzzdomaš
->
g‘FunùiÚId
(
funcName
.
c_¡r
()) >= 0) ;

4194 
	gšdex
;

4195 
¡ršg
 
	gba£Name
 = 
funcName
.
sub¡r
(0, funcName.
fšd_fœ¡_of
("_"));

4197 ià((
	gšdex
 = 
zzfšdIÁ”ÇlFunùiÚ
(
ba£Name
.
c_¡r
())) >= 0)

4199 
zzas£¹
(
zzfuncTem¶©e
==
NULL
, "expecting zzfuncTemplate==NULL");

4200 
	gzzfuncTem¶©e
 = 
Ãw
 
FunùiÚTem¶©e
();

4203 
zzas£¹
(
zz´edTem¶©e
==
NULL
,"expecting zzpredTemplate==NULL");

4204 
	gzz´edTem¶©e
 = 
Ãw
 
P»diÿ‹Tem¶©e
();

4206 
zzas£¹
(
zzdomaš
->
g‘P»diÿ‹Id
(
funcName
.
c_¡r
()) < 0,

4208 
zzas£¹
(
zzfuncTem¶©e
,"expecting zzfuncTemplate!=NULL");

4209 
	gzzfuncTem¶©e
->
£tName
(
funcName
.
c_¡r
());

4212 * 
	g´edName
;

4213 
	g´edName
 = (*)
m®loc
((
¡¾’
(
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
) +

4214 
¡¾’
(
funcName
.
c_¡r
()) + 1)*());

4215 
¡rıy
(
´edName
, 
P»diÿ‹Tem¶©e
::
ZZ_RETURN_PREFIX
);

4216 
¡rÿt
(
´edName
, 
funcName
.
c_¡r
());

4219 
zzas£¹
(
zzdomaš
->
g‘FunùiÚId
(
´edName
) < 0,

4221 
zzas£¹
(
zz´edTem¶©e
,"expecting zzpredTemplate!=NULL");

4222 
	gzz´edTem¶©e
->
£tName
(
´edName
);

4223 
ä“
(
´edName
);

4226 cÚ¡ * 
	g»tTy³Name
 = 
ty³Names
[0].
c_¡r
();

4228 ià(!
	gzzdomaš
->
isTy³
(
»tTy³Name
))

4230 
	gid
 = 
zzaddTy³ToDomaš
(
zzdomaš
, 
»tTy³Name
);

4231 
zzas£¹
(
id
 >= 0, "expecting„etTypeName's id >= 0");

4234 
	gzzfuncTem¶©e
->
£tR‘Ty³Name
(
»tTy³Name
, 
zzdomaš
);

4236 
zzaddTy³
(
»tTy³Name
, 
zz´edTem¶©e
, 
NULL
, 
çl£
, 
zzdomaš
);

4239 
	gj
 = 1; j < 
	gty³Names
.
size
(); j++)

4241 
	gid
;

4242 cÚ¡ * 
	g‰y³
 = 
ty³Names
[
j
].
c_¡r
();

4243 ià(!
	gzzdomaš
->
isTy³
(
‰y³
))

4245 
	gid
 = 
zzaddTy³ToDomaš
(
zzdomaš
, 
‰y³
);

4246 
zzas£¹
(
id
 >= 0, "expecting var id >= 0");

4248 
zzaddTy³
(
‰y³
, 
zz´edTem¶©e
, 
NULL
, 
çl£
, 
zzdomaš
);

4250 
zzaddTy³
(
‰y³
, 
NULL
, 
zzfuncTem¶©e
, 
çl£
, 
zzdomaš
);

4254 
zzas£¹
(
zzfuncTem¶©e
, "expecting zzfuncTemplate != NULL");

4255 
	gid
 = 
zzdomaš
->
addFunùiÚTem¶©e
(
zzfuncTem¶©e
);

4256 
zzas£¹
(
id
 >= 0, "expecting functionemplate's id >= 0");

4257 
	gzzfuncTem¶©e
->
£tId
(
id
);

4258 
	gzzfuncTem¶©e
 = 
NULL
;

4260 
zzas£¹
(
zz´edTem¶©e
, "notƒxpecting zzpredTemplate==NULL");

4261 
	g´edId
 = 
zzdomaš
->
addP»diÿ‹Tem¶©e
(
zz´edTem¶©e
);

4262 
zzas£¹
(
´edId
 >= 0, "expecting…redemplate id >= 0");

4263 
	gzz´edTem¶©e
->
£tId
(
´edId
);

4264 
	gzz´edTem¶©e
 = 
NULL
;

4267 
zzex™
("FunùiÚ % i nÙ‡Àš‹º® funùiÚ.", 
funcName
.
c_¡r
());

4270 
zz£tIÁ”ÇlFuncTy³Name
(cÚ¡ * cÚ¡ & 
funcName
,

4271 cÚ¡ 
A¼ay
<>& 
ty³Ids
)

4273 
	gA¼ay
<
	g¡ršg
> 
ty³Names
(
ty³Ids
.
size
());

4274 
	gi
 = 0; i < 
	gty³Ids
.
size
(); i++)

4275 
	gty³Names
.
­³nd
(
zzdomaš
->
g‘Ty³Name
(
ty³Ids
[
i
]));

4276 
¡ršg
 
	gštFuncName
 =

4277 
FunùiÚTem¶©e
::
ü—‹IÁ”ÇlFuncTy³Name
(
funcName
, 
ty³Names
);

4278 
zzü—‹IÁ”ÇlFuncTem¶©e
(
štFuncName
, 
ty³Names
);

4280 cÚ¡ 
FunùiÚTem¶©e
* 
	gt
 =

4281 
zzdomaš
->
g‘FunùiÚTem¶©e
(
štFuncName
.
c_¡r
());

4282 
	gzzfunc
->
£tTem¶©e
((
FunùiÚTem¶©e
*)
t
);

4283 
zzas£¹
(
zzdomaš
->
g‘FunùiÚTem¶©e
(
štFuncName
.
c_¡r
()è!ğ
NULL
,

4285 
Li¡Obj
* 
	gfunşo
 = 
zz´edFuncLi¡Objs
.
tİ
();

4286 
	gfunşo
->
»¶aû
(
funcName
, 
štFuncName
.
c_¡r
());

4289 cÚ¡ 
FunùiÚTem¶©e
* 
	$zzg‘G’”icIÁ”ÇlFunùiÚTem¶©e
(

4290 cÚ¡ * cÚ¡ & 
funcName
)

4292 
	`zzas£¹
(
FunùiÚTem¶©e
::
	`isIÁ”ÇlFunùiÚTem¶©eName
(
funcName
),

4294 
šdex
 = 
	`zzfšdIÁ”ÇlFunùiÚ
(
funcName
);

4295 
FunùiÚTem¶©e
* 
funcTem¶©e
 = 
Ãw
 
	`FunùiÚTem¶©e
();

4296 
funcTem¶©e
->
	`£tName
(
funcName
);

4299 
funcTem¶©e
->
	`£tR‘Ty³Name
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
, 
zzdomaš
);

4302 
j
 = 2; j < 
zzš‹º®FunùiÚs
[
šdex
].
	`size
(); j++)

4305 
	`zzaddTy³
(
P»diÿ‹Tem¶©e
::
ANY_TYPE_NAME
, 
NULL
, 
funcTem¶©e
, 
çl£
,

4306 
zzdomaš
);

4308  
funcTem¶©e
;

4309 
	}
}

4317 
	$moveT”mToInfixFunùiÚ
()

4322 
T”m
* 
‹rm
 = 
NULL
;

4324 ià(!
zzfuncSck
.
	`em±y
())

4326 
FunùiÚ
* 
´evFunc
 = 
zzfuncSck
.
	`tİ
();

4327 
‹rm
 = 
´evFunc
->
	`»moveLa¡T”m
();

4332 
	`zzas£¹
(
zz´ed
, "expectingo be in‡…redicate");

4333 
‹rm
 = 
zz´ed
->
	`»moveLa¡T”m
();

4335 
‹rm
->
	`£tP¬’t
(
zzfunc
, 
çl£
);

4336 
zzfunc
->
	`­³ndT”m
(
‹rm
);

4337 
Li¡Obj
* 
lo
 = 
zz´edFuncLi¡Objs
.
	`tİ
();

4338 
zz´edFuncLi¡Objs
.
	`pİ
();

4339 
lo
->
	`­³nd
((
zz´edFuncLi¡Objs
.
	`tİ
())->
	`»moveLa¡
());

4340 
zz´edFuncLi¡Objs
.
	`push
(
lo
);

4341 
	}
}

	@parser/follex.cpp

5 
	#YY_INT_ALIGNED
 

	)

9 
	#FLEX_SCANNER


	)

10 
	#YY_FLEX_MAJOR_VERSION
 2

	)

11 
	#YY_FLEX_MINOR_VERSION
 5

	)

12 
	#YY_FLEX_SUBMINOR_VERSION
 35

	)

13 #ià
YY_FLEX_SUBMINOR_VERSION
 > 0

14 
	#FLEX_BETA


	)

20 
	~<¡dio.h
>

21 
	~<¡ršg.h
>

22 
	~<”ºo.h
>

23 
	~<¡dlib.h
>

29 #iâdeà
FLEXINT_H


30 
	#FLEXINT_H


	)

34 #ià
defšed
 (
__STDC_VERSION__
) && __STDC_VERSION__ >= 199901L

39 #iâdeà
__STDC_LIMIT_MACROS


40 
	#__STDC_LIMIT_MACROS
 1

	)

43 
	~<š‰y³s.h
>

44 
št8_t
 
	tæex_št8_t
;

45 
ušt8_t
 
	tæex_ušt8_t
;

46 
št16_t
 
	tæex_št16_t
;

47 
ušt16_t
 
	tæex_ušt16_t
;

48 
št32_t
 
	tæex_št32_t
;

49 
ušt32_t
 
	tæex_ušt32_t
;

51 sigÃd 
	tæex_št8_t
;

52 
	tæex_št16_t
;

53 
	tæex_št32_t
;

54 
	tæex_ušt8_t
;

55 
	tæex_ušt16_t
;

56 
	tæex_ušt32_t
;

59 #iâdeà
INT8_MIN


60 
	#INT8_MIN
 (-128)

	)

62 #iâdeà
INT16_MIN


63 
	#INT16_MIN
 (-32767-1)

	)

65 #iâdeà
INT32_MIN


66 
	#INT32_MIN
 (-2147483647-1)

	)

68 #iâdeà
INT8_MAX


69 
	#INT8_MAX
 (127)

	)

71 #iâdeà
INT16_MAX


72 
	#INT16_MAX
 (32767)

	)

74 #iâdeà
INT32_MAX


75 
	#INT32_MAX
 (2147483647)

	)

77 #iâdeà
UINT8_MAX


78 
	#UINT8_MAX
 (255U)

	)

80 #iâdeà
UINT16_MAX


81 
	#UINT16_MAX
 (65535U)

	)

83 #iâdeà
UINT32_MAX


84 
	#UINT32_MAX
 (4294967295U)

	)

91 #ifdeà
__ılu¥lus


94 
	#YY_USE_CONST


	)

99 #ià
defšed
 (
__STDC__
)

101 
	#YY_USE_CONST


	)

106 #ifdeà
YY_USE_CONST


107 
	#yycÚ¡
 cÚ¡

	)

109 
	#yycÚ¡


	)

113 
	#YY_NULL
 0

	)

120 
	#YY_SC_TO_UI
(
c
è((è(èc)

	)

126 
	#BEGIN
 (
yy_¡¬t
èğ1 + 2 *

	)

132 
	#YY_START
 (((
yy_¡¬t
è- 1è/ 2)

	)

133 
	#YYSTATE
 
YY_START


	)

136 
	#YY_STATE_EOF
(
¡©e
è(
YY_END_OF_BUFFER
 + s‹ + 1)

	)

139 
	#YY_NEW_FILE
 
	`yy»¡¬t
(
yyš
 )

	)

141 
	#YY_END_OF_BUFFER_CHAR
 0

	)

144 #iâdeà
YY_BUF_SIZE


145 #ifdeà
__Ÿ64__


150 
	#YY_BUF_SIZE
 32768

	)

152 
	#YY_BUF_SIZE
 16384

	)

158 
	#YY_STATE_BUF_SIZE
 ((
YY_BUF_SIZE
 + 2è* (
yy_¡©e_ty³
))

	)

160 #iâdeà
YY_TYPEDEF_YY_BUFFER_STATE


161 
	#YY_TYPEDEF_YY_BUFFER_STATE


	)

162 
yy_bufãr_¡©e
 *
	tYY_BUFFER_STATE
;

165 
yyËng
;

167 
FILE
 *
yyš
, *
yyout
;

169 
	#EOB_ACT_CONTINUE_SCAN
 0

	)

170 
	#EOB_ACT_END_OF_FILE
 1

	)

171 
	#EOB_ACT_LAST_MATCH
 2

	)

173 
	#YY_LESS_LINENO
(
n
)

	)

176 
	#yyËss
(
n
) \

180 
yyËss_maüo_¬g
 = (
n
); \

181 
	`YY_LESS_LINENO
(
yyËss_maüo_¬g
);\

182 *
yy_ı
 = (
yy_hŞd_ch¬
); \

183 
YY_RESTORE_YY_MORE_OFFSET
 \

184 (
yy_c_buf_p
èğ
yy_ı
 = 
yy_bp
 + 
yyËss_maüo_¬g
 - 
YY_MORE_ADJ
; \

185 
YY_DO_BEFORE_ACTION
; \

187  0 )

	)

189 
	#uÅut
(
c
è
	`yyuÅut
Ğc, (
yy‹xt_±r
è)

	)

191 #iâdeà
YY_TYPEDEF_YY_SIZE_T


192 
	#YY_TYPEDEF_YY_SIZE_T


	)

193 
size_t
 
	tyy_size_t
;

196 #iâdeà
YY_STRUCT_YY_BUFFER_STATE


197 
	#YY_STRUCT_YY_BUFFER_STATE


	)

198 
	syy_bufãr_¡©e


200 
FILE
 *
	myy_šput_fe
;

202 *
	myy_ch_buf
;

203 *
	myy_buf_pos
;

208 
yy_size_t
 
	myy_buf_size
;

213 
	myy_n_ch¬s
;

219 
	myy_is_our_bufãr
;

226 
	myy_is_š‹¿ùive
;

232 
	myy_©_bŞ
;

234 
	myy_bs_lš’o
;

235 
	myy_bs_cŞumn
;

240 
	myy_fl_bufãr
;

242 
	myy_bufãr_¡©us
;

244 
	#YY_BUFFER_NEW
 0

	)

245 
	#YY_BUFFER_NORMAL
 1

	)

256 
	#YY_BUFFER_EOF_PENDING
 2

	)

262 
size_t
 
	gyy_bufãr_¡ack_tİ
 = 0;

263 
size_t
 
	gyy_bufãr_¡ack_max
 = 0;

264 
YY_BUFFER_STATE
 * 
	gyy_bufãr_¡ack
 = 0;

272 
	#YY_CURRENT_BUFFER
 ( (
yy_bufãr_¡ack
) \

273 ? (
yy_bufãr_¡ack
)[(
yy_bufãr_¡ack_tİ
)] \

274 : 
NULL
)

	)

279 
	#YY_CURRENT_BUFFER_LVALUE
 (
yy_bufãr_¡ack
)[(
yy_bufãr_¡ack_tİ
)]

	)

282 
	gyy_hŞd_ch¬
;

283 
	gyy_n_ch¬s
;

284 
	gyyËng
;

287 *
	gyy_c_buf_p
 = (*) 0;

288 
	gyy_š™
 = 0;

289 
	gyy_¡¬t
 = 0;

294 
	gyy_did_bufãr_sw™ch_Ú_eof
;

296 
yy»¡¬t
 (
FILE
 *
šput_fe
 );

297 
yy_sw™ch_to_bufãr
 (
YY_BUFFER_STATE
 
Ãw_bufãr
 );

298 
YY_BUFFER_STATE
 
yy_ü—‹_bufãr
 (
FILE
 *
fe
,
size
 );

299 
yy_d–‘e_bufãr
 (
YY_BUFFER_STATE
 
b
 );

300 
yy_æush_bufãr
 (
YY_BUFFER_STATE
 
b
 );

301 
yypush_bufãr_¡©e
 (
YY_BUFFER_STATE
 
Ãw_bufãr
 );

302 
yypİ_bufãr_¡©e
 ();

304 
yy’su»_bufãr_¡ack
 ();

305 
yy_lßd_bufãr_¡©e
 ();

306 
yy_š™_bufãr
 (
YY_BUFFER_STATE
 
b
,
FILE
 *
fe
 );

308 
	#YY_FLUSH_BUFFER
 
	`yy_æush_bufãr
(
YY_CURRENT_BUFFER
 )

	)

310 
YY_BUFFER_STATE
 
yy_sÿn_bufãr
 (*
ba£
,
yy_size_t
 
size
 );

311 
YY_BUFFER_STATE
 
yy_sÿn_¡ršg
 (
yycÚ¡
 *
yy_¡r
 );

312 
YY_BUFFER_STATE
 
yy_sÿn_by‹s
 (
yycÚ¡
 *
by‹s
,
Ën
 );

314 *
yy®loc
 (
yy_size_t
 );

315 *
yy»®loc
 (*,
yy_size_t
 );

316 
yyä“
 (* );

318 
	#yy_Ãw_bufãr
 
yy_ü—‹_bufãr


	)

320 
	#yy_£t_š‹¿ùive
(
is_š‹¿ùive
) \

322 iàĞ! 
YY_CURRENT_BUFFER
 ){ \

323 
	`yy’su»_bufãr_¡ack
 (); \

324 
YY_CURRENT_BUFFER_LVALUE
 = \

325 
	`yy_ü—‹_bufãr
(
yyš
,
YY_BUF_SIZE
 ); \

327 
YY_CURRENT_BUFFER_LVALUE
->
yy_is_š‹¿ùive
 = 
is_š‹¿ùive
; \

328 }

	)

330 
	#yy_£t_bŞ
(
©_bŞ
) \

332 iàĞ! 
YY_CURRENT_BUFFER
 ){\

333 
	`yy’su»_bufãr_¡ack
 (); \

334 
YY_CURRENT_BUFFER_LVALUE
 = \

335 
	`yy_ü—‹_bufãr
(
yyš
,
YY_BUF_SIZE
 ); \

337 
YY_CURRENT_BUFFER_LVALUE
->
yy_©_bŞ
 = 
©_bŞ
; \

338 }

	)

340 
	#YY_AT_BOL
(è(
YY_CURRENT_BUFFER_LVALUE
->
yy_©_bŞ
)

	)

344 
	#yyw¿p
(
n
è1

	)

345 
	#YY_SKIP_YYWRAP


	)

347 
	tYY_CHAR
;

349 
FILE
 *
	gyyš
 = (FILE *è0, *
	gyyout
 = (FILE *) 0;

351 
	tyy_¡©e_ty³
;

353 
yylš’o
;

355 
	gyylš’o
 = 1;

357 *
yy‹xt
;

358 
	#yy‹xt_±r
 
yy‹xt


	)

360 
yy_¡©e_ty³
 
yy_g‘_´evious_¡©e
 ();

361 
yy_¡©e_ty³
 
yy_Œy_NUL_Œªs
 (yy_¡©e_ty³ 
cu¼’t_¡©e
 );

362 
yy_g‘_Ãxt_bufãr
 ();

363 
yy_çl_”rÜ
 (
yycÚ¡
 
msg
[] );

368 
	#YY_DO_BEFORE_ACTION
 \

369 (
yy‹xt_±r
èğ
yy_bp
; \

370 
yyËng
 = (
size_t
è(
yy_ı
 - 
yy_bp
); \

371 (
yy_hŞd_ch¬
èğ*
yy_ı
; \

372 *
yy_ı
 = '\0'; \

373 (
yy_c_buf_p
èğ
yy_ı
;

	)

375 
	#YY_NUM_RULES
 35

	)

376 
	#YY_END_OF_BUFFER
 36

	)

379 
	syy_Œªs_šfo


381 
æex_št32_t
 
	myy_v”ify
;

382 
æex_št32_t
 
	myy_nxt
;

384 
yycÚ¡
 
æex_št16_t
 
	gyy_acû±
[85] =

397 
yycÚ¡
 
æex_št32_t
 
	gyy_ec
[256] =

429 
yycÚ¡
 
æex_št32_t
 
	gyy_m‘a
[54] =

439 
yycÚ¡
 
æex_št16_t
 
	gyy_ba£
[91] =

452 
yycÚ¡
 
æex_št16_t
 
	gyy_def
[91] =

465 
yycÚ¡
 
æex_št16_t
 
	gyy_nxt
[221] =

493 
yycÚ¡
 
æex_št16_t
 
	gyy_chk
[221] =

521 
yy_¡©e_ty³
 
	gyy_Ï¡_acû±šg_¡©e
;

522 *
	gyy_Ï¡_acû±šg_ıos
;

524 
yy_æex_debug
;

525 
	gyy_æex_debug
 = 0;

530 
	#REJECT
 
»jeù_u£d_but_nÙ_d‘eùed


	)

531 
	#yymÜe
(è
yymÜe_u£d_but_nÙ_d‘eùed


	)

532 
	#YY_MORE_ADJ
 0

	)

533 
	#YY_RESTORE_YY_MORE_OFFSET


	)

534 *
	gyy‹xt
;

605 
	~"fŞh–³r.h
"

607 
boŞ
 
	gfŞËxDbg
 = 
çl£
;

617 
	#INITIAL
 0

	)

619 #iâdeà
YY_NO_UNISTD_H


624 
	~<uni¡d.h
>

627 #iâdeà
YY_EXTRA_TYPE


628 
	#YY_EXTRA_TYPE
 *

	)

631 
yy_š™_glob®s
 ();

636 
yyËx_de¡roy
 ();

638 
yyg‘_debug
 ();

640 
yy£t_debug
 (
debug_æag
 );

642 
YY_EXTRA_TYPE
 
yyg‘_exŒa
 ();

644 
yy£t_exŒa
 (
YY_EXTRA_TYPE
 
u£r_defšed
 );

646 
FILE
 *
yyg‘_š
 ();

648 
yy£t_š
 (
FILE
 * 
š_¡r
 );

650 
FILE
 *
yyg‘_out
 ();

652 
yy£t_out
 (
FILE
 * 
out_¡r
 );

654 
yyg‘_Ëng
 ();

656 *
yyg‘_‹xt
 ();

658 
yyg‘_lš’o
 ();

660 
yy£t_lš’o
 (
lše_numb”
 );

666 #iâdeà
YY_SKIP_YYWRAP


667 #ifdeà
__ılu¥lus


668 "C" 
yyw¿p
 ();

670 
yyw¿p
 ();

674 
yyuÅut
 (
c
,*
buf_±r
 );

676 #iâdeà
yy‹xt_±r


677 
yy_æex_¡ºıy
 (*,
yycÚ¡
 *,);

680 #ifdeà
YY_NEED_STRLEN


681 
yy_æex_¡¾’
 (
yycÚ¡
 * );

684 #iâdeà
YY_NO_INPUT


686 #ifdeà
__ılu¥lus


687 
yyšput
 ();

689 
šput
 ();

695 #iâdeà
YY_READ_BUF_SIZE


696 #ifdeà
__Ÿ64__


698 
	#YY_READ_BUF_SIZE
 16384

	)

700 
	#YY_READ_BUF_SIZE
 8192

	)

705 #iâdeà
ECHO


709 
	#ECHO
 dØ{ ià(
	`fwr™e
Ğ
yy‹xt
, 
yyËng
, 1, 
yyout
 )è{} } 0)

	)

715 #iâdeà
YY_INPUT


716 
	#YY_INPUT
(
buf
,
»suÉ
,
max_size
) \

717 iàĞ
YY_CURRENT_BUFFER_LVALUE
->
yy_is_š‹¿ùive
 ) \

719 
c
 = '*'; \

720 
size_t
 
n
; \

721  
n
 = 0;‚ < 
max_size
 && \

722 (
c
 = 
	`g‘c
Ğ
yyš
 )è!ğ
EOF
 && c !ğ'\n'; ++
n
 ) \

723 
buf
[
n
] = (è
c
; \

724 iàĞ
c
 == '\n' ) \

725 
buf
[
n
++] = (è
c
; \

726 iàĞ
c
 =ğ
EOF
 && 
	`ã¼Ü
Ğ
yyš
 ) ) \

727 
	`YY_FATAL_ERROR
( "input in flex scanner failed" ); \

728 
»suÉ
 = 
n
; \

732 
”ºo
=0; \

733  (
»suÉ
 = 
	`ä—d
(
buf
, 1, 
max_size
, 
yyš
))==0 && 
	`ã¼Ü
(yyin)) \

735 ifĞ
”ºo
 !ğ
EINTR
) \

737 
	`YY_FATAL_ERROR
( "input in flex scanner failed" ); \

740 
”ºo
=0; \

741 
	`ş—»¼
(
yyš
); \

745 

	)

752 #iâdeà
yy‹rmš©e


753 
	#yy‹rmš©e
(è 
YY_NULL


	)

757 #iâdeà
YY_START_STACK_INCR


758 
	#YY_START_STACK_INCR
 25

	)

762 #iâdeà
YY_FATAL_ERROR


763 
	#YY_FATAL_ERROR
(
msg
è
	`yy_çl_”rÜ
Ğmsg )

	)

771 #iâdeà
YY_DECL


772 
	#YY_DECL_IS_OURS
 1

	)

774 
yyËx
 ();

776 
	#YY_DECL
 
	`yyËx
 ()

	)

782 #iâdeà
YY_USER_ACTION


783 
	#YY_USER_ACTION


	)

787 #iâdeà
YY_BREAK


788 
	#YY_BREAK
 ;

	)

791 
	#YY_RULE_SETUP
 \

792 
YY_USER_ACTION


	)

796 
	gYY_DECL


798 
yy_¡©e_ty³
 
	gyy_cu¼’t_¡©e
;

799 *
	gyy_ı
, *
	gyy_bp
;

800 
	gyy_aù
;

807 iàĞ!(
	gyy_š™
) )

809 (
	gyy_š™
) = 1;

811 #ifdeà
YY_USER_INIT


812 
	gYY_USER_INIT
;

815 iàĞ! (
	gyy_¡¬t
) )

816 (
	gyy_¡¬t
) = 1;

818 iàĞ! 
	gyyš
 )

819 
	gyyš
 = 
¡dš
;

821 iàĞ! 
	gyyout
 )

822 
	gyyout
 = 
¡dout
;

824 iàĞ! 
	gYY_CURRENT_BUFFER
 ) {

825 
yy’su»_bufãr_¡ack
 ();

826 
	gYY_CURRENT_BUFFER_LVALUE
 =

827 
yy_ü—‹_bufãr
(
yyš
,
YY_BUF_SIZE
 );

830 
yy_lßd_bufãr_¡©e
( );

835 
	gyy_ı
 = (
yy_c_buf_p
);

838 *
	gyy_ı
 = (
yy_hŞd_ch¬
);

843 
	gyy_bp
 = 
yy_ı
;

845 
	gyy_cu¼’t_¡©e
 = (
yy_¡¬t
);

846 
	gyy_m©ch
:

849 
YY_CHAR
 
yy_c
 = 
yy_ec
[
YY_SC_TO_UI
(*
yy_ı
)];

850 iàĞ
	gyy_acû±
[
yy_cu¼’t_¡©e
] )

852 (
	gyy_Ï¡_acû±šg_¡©e
èğ
yy_cu¼’t_¡©e
;

853 (
	gyy_Ï¡_acû±šg_ıos
èğ
yy_ı
;

855  
	gyy_chk
[
yy_ba£
[
yy_cu¼’t_¡©e
] + 
	gyy_c
] != yy_current_state )

857 
yy_cu¼’t_¡©e
 = (è
yy_def
[yy_current_state];

858 iàĞ
	gyy_cu¼’t_¡©e
 >= 85 )

859 
yy_c
 = 
yy_m‘a
[() yy_c];

861 
	gyy_cu¼’t_¡©e
 = 
yy_nxt
[
yy_ba£
[
yy_cu¼’t_¡©e
] + (è
yy_c
];

862 ++
	gyy_ı
;

864  
	gyy_ba£
[
yy_cu¼’t_¡©e
] != 167 );

866 
	gyy_fšd_aùiÚ
:

867 
yy_aù
 = 
yy_acû±
[
yy_cu¼’t_¡©e
];

868 iàĞ
	gyy_aù
 == 0 )

870 
yy_ı
 = (
yy_Ï¡_acû±šg_ıos
);

871 
	gyy_cu¼’t_¡©e
 = (
yy_Ï¡_acû±šg_¡©e
);

872 
	gyy_aù
 = 
yy_acû±
[
yy_cu¼’t_¡©e
];

875 
	gYY_DO_BEFORE_ACTION
;

877 
	gdo_aùiÚ
:

879  
yy_aù
 )

883 *
yy_ı
 = (
yy_hŞd_ch¬
);

884 
	gyy_ı
 = (
yy_Ï¡_acû±šg_ıos
);

885 
	gyy_cu¼’t_¡©e
 = (
yy_Ï¡_acû±šg_¡©e
);

886 
	gyy_fšd_aùiÚ
;

889 
YY_RULE_SETUP


892 ià(
fŞËxDbg
è
´štf
("LBRACE: %s\n", 
yy‹xt
);

893 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

894 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

895 
	gzztok’Li¡
.
add
(
yy‹xt
);

896  
	gyy‹xt
[0];

898 
YY_BREAK


900 
YY_RULE_SETUP


903 ià(
fŞËxDbg
è
´štf
("RBRACE: %s\n", 
yy‹xt
);

904 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

905 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

906 
	gzztok’Li¡
.
add
(
yy‹xt
);

907  
	gyy‹xt
[0];

909 
YY_BREAK


911 
YY_RULE_SETUP


914 ià(
fŞËxDbg
è
´štf
("SINGLE_LINE_COMMENT: %s\n", 
yy‹xt
);

915 ià(
	gyy‹xt
[
¡¾’
(
yy‹xt
)-1] == '\n' || yytext[strlen(yytext)-1] == '\r')

917 ++
zzlše
;

918 
	gzzcŞumn
 = -1;

921 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

922 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

924 
YY_BREAK


927 
YY_RULE_SETUP


930 ià(
fŞËxDbg
è
´štf
("MULTI_LINE_COMMENT: %s\n", 
yy‹xt
);

931 
	gi
=-1;

932 
	gyy‹xt
[++
i
] != '\0')

934 ià(
yy‹xt
[
i
] == '\n' || yytext[i] == '\r')

936 ++
zzlše
;

937 
	gzzcŞumn
 = -1;

940 
	gzzcŞumn
++;

942 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

944 
YY_BREAK


946 
YY_RULE_SETUP


949 ià(
fŞËxDbg
è
´štf
("INCLUDE: %s\n", 
yy‹xt
);

950 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

951 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

952 
	gzztok’Li¡
.
add
(
yy‹xt
);

953  
	gZZ_INCLUDE
;

955 
YY_BREAK


957 
YY_RULE_SETUP


960 ià(
fŞËxDbg
è
´štf
("NOT: %s\n", 
yy‹xt
);

961 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

962 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

963 
	gzztok’Li¡
.
add
(
yy‹xt
);

964  
	gyy‹xt
[0];

966 
YY_BREAK


969 
YY_RULE_SETUP


972 ià(
fŞËxDbg
è
´štf
("OR: %s\n", 
yy‹xt
);

973 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

974 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

975 
	gzztok’Li¡
.
add
("v");

978 
YY_BREAK


981 
YY_RULE_SETUP


984 ià(
fŞËxDbg
è
´štf
("AND: %s\n", 
yy‹xt
);

985 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

986 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

987 
	gzztok’Li¡
.
add
("^");

990 
YY_BREAK


992 
YY_RULE_SETUP


995 ià(
fŞËxDbg
è
´štf
("IMPLY: %s\n", 
yy‹xt
);

996 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

997 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

998 
	gzztok’Li¡
.
add
(
yy‹xt
);

999  
	gZZ_IMPLY
;

1001 
YY_BREAK


1003 
YY_RULE_SETUP


1006 ià(
fŞËxDbg
è
´štf
("EQUIV: %s\n", 
yy‹xt
);

1007 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1008 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1009 
	gzztok’Li¡
.
add
(
yy‹xt
);

1010  
	gZZ_EQUIV
;

1012 
YY_BREAK


1014 
YY_RULE_SETUP


1017 ià(
fŞËxDbg
è
´štf
("EXIST: %s\n", 
yy‹xt
);

1018 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1019 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1020 
	gzztok’Li¡
.
add
(
yy‹xt
);

1021  
	gZZ_EXIST
;

1023 
YY_BREAK


1025 
YY_RULE_SETUP


1028 ià(
fŞËxDbg
è
´štf
("FORALL: %s\n", 
yy‹xt
);

1029 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1030 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1031 
	gzztok’Li¡
.
add
(
yy‹xt
);

1032  
	gZZ_FORALL
;

1034 
YY_BREAK


1036 
YY_RULE_SETUP


1039 ià(
fŞËxDbg
è
´štf
("ASTERISK: %s\n", 
yy‹xt
);

1040 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1041 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1042 
	gzztok’Li¡
.
add
(
yy‹xt
);

1043  
	gyy‹xt
[0];

1045 
YY_BREAK


1047 
YY_RULE_SETUP


1050 ià(
fŞËxDbg
è
´štf
("PLUS: %s\n", 
yy‹xt
);

1051 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1052 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1053 
	gzztok’Li¡
.
add
(
yy‹xt
);

1054  
	gyy‹xt
[0];

1056 
YY_BREAK


1058 
YY_RULE_SETUP


1061 ià(
fŞËxDbg
è
´štf
("MINUS: %s\n", 
yy‹xt
);

1062 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1063 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1064 
	gzztok’Li¡
.
add
(
yy‹xt
);

1065  
	gyy‹xt
[0];

1067 
YY_BREAK


1069 
YY_RULE_SETUP


1072 ià(
fŞËxDbg
è
´štf
("QS: %s\n", 
yy‹xt
);

1073 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1074 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1075 
	gzztok’Li¡
.
add
(
yy‹xt
);

1076  
	gyy‹xt
[0];

1078 
YY_BREAK


1080 
YY_RULE_SETUP


1083 ià(
fŞËxDbg
è
´štf
("INTEGER: % (%d)\n", 
yy‹xt
, 
©oi
(yytext));

1084 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1085 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1086 
	gzztok’Li¡
.
add
(
yy‹xt
);

1087  
	gZZ_NUM
;

1089 
YY_BREAK


1091 
YY_RULE_SETUP


1094 ià(
fŞËxDbg
è
´štf
("FLOAT: % (%g)\n", 
yy‹xt
, 
©of
(yytext));

1095 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1096 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1097 
	gzztok’Li¡
.
add
(
yy‹xt
);

1098  
	gZZ_NUM
;

1100 
YY_BREAK


1102 
YY_RULE_SETUP


1105 ià(
fŞËxDbg
è
´štf
("EXP_FLOAT: % (%e)\n", 
yy‹xt
, 
©of
(yytext));

1106 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1107 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1108 
	gzztok’Li¡
.
add
(
yy‹xt
);

1109  
	gZZ_NUM
;

1111 
YY_BREAK


1113 
YY_RULE_SETUP


1116 ià(
fŞËxDbg
è
´štf
("STRING: % \n", 
yy‹xt
);

1117 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1118 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1119 
	gzztok’Li¡
.
add
(
yy‹xt
);

1120 ià(
	gzzdomaš
->
isCÚ¡ªt
(
yy‹xt
)è 
	gZZ_CONSTANT
;

1121  
	gZZ_STRING
;

1123 
YY_BREAK


1125 
YY_RULE_SETUP


1129 
zzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1130 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1131 
	gzztok’Li¡
.
add
(
yy‹xt
);

1132 ià(
	gzzdomaš
->
isTy³
(
yy‹xt
))

1134 ià(
	gfŞËxDbg
è
´štf
("ZZ_TYPE: %s\n", 
yy‹xt
 );

1135  
	gZZ_TYPE
;

1137 ià(
	gzzdomaš
->
isP»diÿ‹
(
yy‹xt
))

1139 ià(
	gfŞËxDbg
è
´štf
("ZZ_PREDICATE: %s\n", 
yy‹xt
 );

1140  
	gZZ_PREDICATE
;

1142 ià(
	gzzdomaš
->
isFunùiÚ
(
yy‹xt
))

1144 ià(
	gfŞËxDbg
è
´štf
("ZZ_FUNCTION: %s\n", 
yy‹xt
 );

1145  
	gZZ_FUNCTION
;

1147 ià(
	gzzdomaš
->
isCÚ¡ªt
(
yy‹xt
))

1149 ià(
	gfŞËxDbg
è
´štf
("ZZ_CONSTANT: %s\n", 
yy‹xt
 );

1150  
	gZZ_CONSTANT
;

1152 ià(
	gfŞËxDbg
è
´štf
("ZZ_VARIABLE: %s\n", 
yy‹xt
 );

1153  
	gZZ_VARIABLE
;

1155 
YY_BREAK


1158 
YY_RULE_SETUP


1161 ià(
fŞËxDbg
)

1163 ià(
zz·r£GroundP»d
è
´štf
("AT: %c\n", '@');

1164 
´štf
("NEWLINE: %s", 
yy‹xt
);

1166 ++
	gzzlše
;

1167 
	gzznumCh¬R—d
 += 1;

1168 
	gzzcŞumn
 = -1;

1169 ià(
	gzz·r£GroundP»d
) {

1170 
	gzzaá”RtP¬’
 = 
çl£
;

1171 
	gzztok’Li¡
.
add
("@");

1174 
	gzztok’Li¡
.
add
(
yy‹xt
);

1175  
	gyy‹xt
[0];

1177 
YY_BREAK


1179 
YY_RULE_SETUP


1182 ià(
fŞËxDbg
è
´štf
("LEFT BRACKET: %s\n", 
yy‹xt
);

1183 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1184 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1185 
	gzztok’Li¡
.
add
(
yy‹xt
);

1187  
	gyy‹xt
[0];

1189 
YY_BREAK


1191 
YY_RULE_SETUP


1194 ià(
fŞËxDbg
è
´štf
("RIGHT BRACKET: %s\n", 
yy‹xt
);

1195 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1196 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1197 
	gzztok’Li¡
.
add
(
yy‹xt
);

1199  
	gyy‹xt
[0];

1201 
YY_BREAK


1203 
YY_RULE_SETUP


1206 ià(
fŞËxDbg
è
´štf
("LEFT PAREN: %s\n", 
yy‹xt
);

1207 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1208 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1209 
	gzztok’Li¡
.
add
(
yy‹xt
);

1210 ià(
	gzz·r£GroundP»d
è
	gzzaá”RtP¬’
 = 
çl£
;

1211  
	gyy‹xt
[0];

1213 
YY_BREAK


1215 
YY_RULE_SETUP


1218 ià(
fŞËxDbg
è
´štf
("RIGHT PAREN: %s\n", 
yy‹xt
);

1219 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1220 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1221 
	gzztok’Li¡
.
add
(
yy‹xt
);

1222 ià(
	gzz·r£GroundP»d
è
	gzzaá”RtP¬’
 = 
Œue
;

1223  
	gyy‹xt
[0];

1225 
YY_BREAK


1227 
YY_RULE_SETUP


1230 ià(
fŞËxDbg
è
´štf
("COMMA: %s\n", 
yy‹xt
);

1231 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1232 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1233 
	gzztok’Li¡
.
add
(
yy‹xt
);

1234  
	gyy‹xt
[0];

1236 
YY_BREAK


1238 
YY_RULE_SETUP


1241 ià(
fŞËxDbg
è
´štf
("EQUAL: %s\n", 
yy‹xt
);

1242 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1243 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1244 
	gzztok’Li¡
.
add
("=");

1247 
YY_BREAK


1249 
YY_RULE_SETUP


1252 ià(
fŞËxDbg
è
´štf
("DOTDOTDOT: %s\n", 
yy‹xt
);

1253 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1254 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1255 
	gzztok’Li¡
.
add
("...");

1256  
	gZZ_DOTDOTDOT
;

1258 
YY_BREAK


1260 
YY_RULE_SETUP


1263 ià(
fŞËxDbg
è
´štf
("AT: %s\n", 
yy‹xt
);

1264 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1265 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1266 
	gzztok’Li¡
.
add
(
yy‹xt
);

1267  
	gyy‹xt
[0];

1269 
YY_BREAK


1271 
YY_RULE_SETUP


1274 ià(
fŞËxDbg
è
´štf
("FULLSTOP: %s\n", 
yy‹xt
);

1275 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1276 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1277 
	gzztok’Li¡
.
add
(
yy‹xt
);

1278  
	gyy‹xt
[0];

1280 
YY_BREAK


1282 
YY_RULE_SETUP


1285 ià(
fŞËxDbg
è
´štf
("COLON: %s\n", 
yy‹xt
);

1286 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1287 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1288 
	gzztok’Li¡
.
add
(
yy‹xt
);

1289  
	gyy‹xt
[0];

1291 
YY_BREAK


1293 
YY_RULE_SETUP


1296 ià(
fŞËxDbg
)

1298 ià(
zz·r£GroundP»d
è
´štf
("WS:\n");

1300 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1301 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1305 
YY_BREAK


1307 
YY_RULE_SETUP


1314 ià(
fŞËxDbg
è
´štf
("UÄecognized ch¬aù”: %s\n", 
yy‹xt
);

1315 
	gzzcŞumn
 +ğ
¡¾’
(
yy‹xt
);

1316 
	gzznumCh¬R—d
 +ğ
¡¾’
(
yy‹xt
);

1317 
	gzztok’Li¡
.
add
(
yy‹xt
);

1318  
	gyy‹xt
[0];

1321 
YY_BREAK


1322 
YY_STATE_EOF
(
INITIAL
):

1326 ià(
zz·r£GroundP»d
)

1328 ià(
zznumEofS“n
 == 0)

1330 
zznumEofS“n
++;

1331 ià(
	gfŞËxDbg
è
´štf
("EOF„eturned‡s @:\n");

1332 
	gzztok’Li¡
.
add
("@");

1337 
	gzz·r£GroundP»d
 = 
çl£
;

1338 
	gzzaá”RtP¬’
 = 
çl£
;

1339 
	gzznumEofS“n
 = 0;

1343 ià(
	gzznumEofS“n
==0)

1345 
ung‘c
(
EOF
, 
yyš
);

1346 
	gzznumEofS“n
 = 1;

1347 ià(
	gfŞËxDbg
è
´štf
("EOF„eturned‡s \\n:\n");

1348 
	gzztok’Li¡
.
add
("\n");

1352 
	gzznumEofS“n
 = 0;

1354 ià(
	gfŞËxDbg
è
´štf
("EOF %s:\n", 
yy‹xt
);

1355 ià(
	gçl£
è
yyuÅut
(1,
NULL
);

1357 
fşo£
(
yyš
);

1358 ià(
	gzzšSck
.
em±y
())  0;

1360 
ZZFeS‹
 
	gfeS‹
 = 
zzšSck
.
tİ
();

1361 
	gzzšFeName
 = 
feS‹
.
šFeName_
;

1362 
	gzznumCh¬R—d
 = 
feS‹
.
numCh¬R—d_
;

1363 
	gzzlše
 = 
feS‹
.
lše_
;

1364 
	gzzcŞumn
 = 
feS‹
.
cŞumn_
;

1365 
	gzzšSck
.
pİ
();

1367 
FILE
* 
	g´evš
 = 
feS‹
.
fe_
;

1368 ià(
f£ek
(
´evš
, 
zznumCh¬R—d
-1, 
SEEK_SET
)!=0)

1370 
´štf
("\nERROR: In follex.y. Failedo seeko…revious…osition in file "

1371 "%s,†À%d, cŞ %d\n", 
zzšFeName
.
c_¡r
(), 
zzlše
, 
zzcŞumn
+1);

1372 
ex™
(-1);

1374 
yy»¡¬t
(
´evš
);

1377 
YY_BREAK


1379 
YY_RULE_SETUP


1381 
ECHO
;

1382 
	gYY_BREAK


1385 
	gYY_END_OF_BUFFER
:

1388 
yy_amouÁ_of_m©ched_‹xt
 = (è(
yy_ı
 - (
yy‹xt_±r
)) - 1;

1391 *
	gyy_ı
 = (
yy_hŞd_ch¬
);

1392 
YY_RESTORE_YY_MORE_OFFSET


1394 iàĞ
	gYY_CURRENT_BUFFER_LVALUE
->
	gyy_bufãr_¡©us
 =ğ
YY_BUFFER_NEW
 )

1405 (
yy_n_ch¬s
èğ
YY_CURRENT_BUFFER_LVALUE
->yy_n_chars;

1406 
	gYY_CURRENT_BUFFER_LVALUE
->
	gyy_šput_fe
 = 
yyš
;

1407 
	gYY_CURRENT_BUFFER_LVALUE
->
	gyy_bufãr_¡©us
 = 
YY_BUFFER_NORMAL
;

1417 iàĞ(
	gyy_c_buf_p
è<ğ&
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[(
yy_n_ch¬s
)] )

1419 
yy_¡©e_ty³
 
yy_Ãxt_¡©e
;

1421 (
	gyy_c_buf_p
èğ(
yy‹xt_±r
è+ 
yy_amouÁ_of_m©ched_‹xt
;

1423 
	gyy_cu¼’t_¡©e
 = 
yy_g‘_´evious_¡©e
( );

1434 
	gyy_Ãxt_¡©e
 = 
yy_Œy_NUL_Œªs
Ğ
yy_cu¼’t_¡©e
 );

1436 
	gyy_bp
 = (
yy‹xt_±r
è+ 
YY_MORE_ADJ
;

1438 iàĞ
	gyy_Ãxt_¡©e
 )

1441 
	gyy_ı
 = ++(
yy_c_buf_p
);

1442 
	gyy_cu¼’t_¡©e
 = 
yy_Ãxt_¡©e
;

1443 
	gyy_m©ch
;

1448 
	gyy_ı
 = (
yy_c_buf_p
);

1449 
	gyy_fšd_aùiÚ
;

1453  
yy_g‘_Ãxt_bufãr
( ) )

1455 
	gEOB_ACT_END_OF_FILE
:

1457 (
yy_did_bufãr_sw™ch_Ú_eof
) = 0;

1459 iàĞ
yyw¿p
( ) )

1470 (
	gyy_c_buf_p
èğ(
yy‹xt_±r
è+ 
YY_MORE_ADJ
;

1472 
	gyy_aù
 = 
YY_STATE_EOF
(
YY_START
);

1473 
	gdo_aùiÚ
;

1478 iàĞ! (
	gyy_did_bufãr_sw™ch_Ú_eof
) )

1479 
	gYY_NEW_FILE
;

1484 
	gEOB_ACT_CONTINUE_SCAN
:

1485 (
yy_c_buf_p
) =

1486 (
yy‹xt_±r
è+ 
yy_amouÁ_of_m©ched_‹xt
;

1488 
	gyy_cu¼’t_¡©e
 = 
yy_g‘_´evious_¡©e
( );

1490 
	gyy_ı
 = (
yy_c_buf_p
);

1491 
	gyy_bp
 = (
yy‹xt_±r
è+ 
YY_MORE_ADJ
;

1492 
	gyy_m©ch
;

1494 
	gEOB_ACT_LAST_MATCH
:

1495 (
yy_c_buf_p
) =

1496 &
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[(
yy_n_ch¬s
)];

1498 
	gyy_cu¼’t_¡©e
 = 
yy_g‘_´evious_¡©e
( );

1500 
	gyy_ı
 = (
yy_c_buf_p
);

1501 
	gyy_bp
 = (
yy‹xt_±r
è+ 
YY_MORE_ADJ
;

1502 
	gyy_fšd_aùiÚ
;

1508 
YY_FATAL_ERROR
(

1521 
	$yy_g‘_Ãxt_bufãr
 ()

1523 *
de¡
 = 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
;

1524 *
sourû
 = (
yy‹xt_±r
);

1525 
numb”_to_move
, 
i
;

1526 
»t_v®
;

1528 iàĞ(
yy_c_buf_p
è> &
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[(
yy_n_ch¬s
) + 1] )

1529 
	`YY_FATAL_ERROR
(

1532 iàĞ
YY_CURRENT_BUFFER_LVALUE
->
yy_fl_bufãr
 == 0 )

1534 iàĞ(
yy_c_buf_p
è- (
yy‹xt_±r
è- 
YY_MORE_ADJ
 == 1 )

1539  
EOB_ACT_END_OF_FILE
;

1547  
EOB_ACT_LAST_MATCH
;

1554 
numb”_to_move
 = (è((
yy_c_buf_p
è- (
yy‹xt_±r
)) - 1;

1556  
i
 = 0; i < 
numb”_to_move
; ++i )

1557 *(
de¡
++èğ*(
sourû
++);

1559 iàĞ
YY_CURRENT_BUFFER_LVALUE
->
yy_bufãr_¡©us
 =ğ
YY_BUFFER_EOF_PENDING
 )

1563 
YY_CURRENT_BUFFER_LVALUE
->
yy_n_ch¬s
 = (yy_n_chars) = 0;

1567 
num_to_»ad
 =

1568 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_size
 - 
numb”_to_move
 - 1;

1570  
num_to_»ad
 <= 0 )

1574 
YY_BUFFER_STATE
 
b
 = 
YY_CURRENT_BUFFER
;

1576 
yy_c_buf_p_off£t
 =

1577 (è((
yy_c_buf_p
è- 
b
->
yy_ch_buf
);

1579 iàĞ
b
->
yy_is_our_bufãr
 )

1581 
Ãw_size
 = 
b
->
yy_buf_size
 * 2;

1583 iàĞ
Ãw_size
 <= 0 )

1584 
b
->
yy_buf_size
 += b->yy_buf_size / 8;

1586 
b
->
yy_buf_size
 *= 2;

1588 
b
->
yy_ch_buf
 = (*)

1590 
	`yy»®loc
((*è
b
->
yy_ch_buf
,b->
yy_buf_size
 + 2 );

1594 
b
->
yy_ch_buf
 = 0;

1596 iàĞ! 
b
->
yy_ch_buf
 )

1597 
	`YY_FATAL_ERROR
(

1600 (
yy_c_buf_p
èğ&
b
->
yy_ch_buf
[
yy_c_buf_p_off£t
];

1602 
num_to_»ad
 = 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_size
 -

1603 
numb”_to_move
 - 1;

1607 iàĞ
num_to_»ad
 > 
YY_READ_BUF_SIZE
 )

1608 
num_to_»ad
 = 
YY_READ_BUF_SIZE
;

1611 
	`YY_INPUT
Ğ(&
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[
numb”_to_move
]),

1612 (
yy_n_ch¬s
), (
size_t
è
num_to_»ad
 );

1614 
YY_CURRENT_BUFFER_LVALUE
->
yy_n_ch¬s
 = (yy_n_chars);

1617 iàĞ(
yy_n_ch¬s
) == 0 )

1619 iàĞ
numb”_to_move
 =ğ
YY_MORE_ADJ
 )

1621 
»t_v®
 = 
EOB_ACT_END_OF_FILE
;

1622 
	`yy»¡¬t
(
yyš
 );

1627 
»t_v®
 = 
EOB_ACT_LAST_MATCH
;

1628 
YY_CURRENT_BUFFER_LVALUE
->
yy_bufãr_¡©us
 =

1629 
YY_BUFFER_EOF_PENDING
;

1634 
»t_v®
 = 
EOB_ACT_CONTINUE_SCAN
;

1636 ià((
yy_size_t
è((
yy_n_ch¬s
è+ 
numb”_to_move
è> 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_size
) {

1638 
yy_size_t
 
Ãw_size
 = (
yy_n_ch¬s
è+ 
numb”_to_move
 + ((yy_n_chars) >> 1);

1639 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
 = (*è
	`yy»®loc
((*èYY_CURRENT_BUFFER_LVALUE->yy_ch_buf,
Ãw_size
 );

1640 iàĞ! 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
 )

1641 
	`YY_FATAL_ERROR
( "out of dynamic memory in yy_get_next_buffer()" );

1644 (
yy_n_ch¬s
è+ğ
numb”_to_move
;

1645 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[(
yy_n_ch¬s
)] = 
YY_END_OF_BUFFER_CHAR
;

1646 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[(
yy_n_ch¬s
è+ 1] = 
YY_END_OF_BUFFER_CHAR
;

1648 (
yy‹xt_±r
èğ&
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[0];

1650  
»t_v®
;

1651 
	}
}

1655 
yy_¡©e_ty³
 
	$yy_g‘_´evious_¡©e
 ()

1657 
yy_¡©e_ty³
 
yy_cu¼’t_¡©e
;

1658 *
yy_ı
;

1660 
yy_cu¼’t_¡©e
 = (
yy_¡¬t
);

1662  
yy_ı
 = (
yy‹xt_±r
è+ 
YY_MORE_ADJ
; yy_ı < (
yy_c_buf_p
); ++yy_cp )

1664 
YY_CHAR
 
yy_c
 = (*
yy_ı
 ? 
yy_ec
[
	`YY_SC_TO_UI
(*yy_cp)] : 1);

1665 iàĞ
yy_acû±
[
yy_cu¼’t_¡©e
] )

1667 (
yy_Ï¡_acû±šg_¡©e
èğ
yy_cu¼’t_¡©e
;

1668 (
yy_Ï¡_acû±šg_ıos
èğ
yy_ı
;

1670  
yy_chk
[
yy_ba£
[
yy_cu¼’t_¡©e
] + 
yy_c
] != yy_current_state )

1672 
yy_cu¼’t_¡©e
 = (è
yy_def
[yy_current_state];

1673 iàĞ
yy_cu¼’t_¡©e
 >= 85 )

1674 
yy_c
 = 
yy_m‘a
[() yy_c];

1676 
yy_cu¼’t_¡©e
 = 
yy_nxt
[
yy_ba£
[yy_cu¼’t_¡©e] + (è
yy_c
];

1679  
yy_cu¼’t_¡©e
;

1680 
	}
}

1687 
yy_¡©e_ty³
 
	$yy_Œy_NUL_Œªs
 (
yy_¡©e_ty³
 
yy_cu¼’t_¡©e
 )

1689 
yy_is_jam
;

1690 *
yy_ı
 = (
yy_c_buf_p
);

1692 
YY_CHAR
 
yy_c
 = 1;

1693 iàĞ
yy_acû±
[
yy_cu¼’t_¡©e
] )

1695 (
yy_Ï¡_acû±šg_¡©e
èğ
yy_cu¼’t_¡©e
;

1696 (
yy_Ï¡_acû±šg_ıos
èğ
yy_ı
;

1698  
yy_chk
[
yy_ba£
[
yy_cu¼’t_¡©e
] + 
yy_c
] != yy_current_state )

1700 
yy_cu¼’t_¡©e
 = (è
yy_def
[yy_current_state];

1701 iàĞ
yy_cu¼’t_¡©e
 >= 85 )

1702 
yy_c
 = 
yy_m‘a
[() yy_c];

1704 
yy_cu¼’t_¡©e
 = 
yy_nxt
[
yy_ba£
[yy_cu¼’t_¡©e] + (è
yy_c
];

1705 
yy_is_jam
 = (
yy_cu¼’t_¡©e
 == 84);

1707  
yy_is_jam
 ? 0 : 
yy_cu¼’t_¡©e
;

1708 
	}
}

1710 
	$yyuÅut
 (
c
, * 
yy_bp
 )

1712 *
yy_ı
;

1714 
yy_ı
 = (
yy_c_buf_p
);

1717 *
yy_ı
 = (
yy_hŞd_ch¬
);

1719 iàĞ
yy_ı
 < 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
 + 2 )

1722 
numb”_to_move
 = (
yy_n_ch¬s
) + 2;

1723 *
de¡
 = &
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[

1724 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_size
 + 2];

1725 *
sourû
 =

1726 &
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[
numb”_to_move
];

1728  
sourû
 > 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
 )

1729 *--
de¡
 = *--
sourû
;

1731 
yy_ı
 +ğ(è(
de¡
 - 
sourû
);

1732 
yy_bp
 +ğ(è(
de¡
 - 
sourû
);

1733 
YY_CURRENT_BUFFER_LVALUE
->
yy_n_ch¬s
 =

1734 (
yy_n_ch¬s
èğ
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_size
;

1736 iàĞ
yy_ı
 < 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
 + 2 )

1737 
	`YY_FATAL_ERROR
( "flex scanner…ush-back overflow" );

1740 *--
yy_ı
 = (è
c
;

1742 (
yy‹xt_±r
èğ
yy_bp
;

1743 (
yy_hŞd_ch¬
èğ*
yy_ı
;

1744 (
yy_c_buf_p
èğ
yy_ı
;

1745 
	}
}

1747 #iâdeà
YY_NO_INPUT


1748 #ifdeà
__ılu¥lus


1749 
	$yyšput
 ()

1751 
	$šput
 ()

1755 
c
;

1757 *(
yy_c_buf_p
èğ(
yy_hŞd_ch¬
);

1759 iàĞ*(
yy_c_buf_p
è=ğ
YY_END_OF_BUFFER_CHAR
 )

1765 iàĞ(
yy_c_buf_p
è< &
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[(
yy_n_ch¬s
)] )

1767 *(
yy_c_buf_p
) = '\0';

1771 
off£t
 = (
yy_c_buf_p
è- (
yy‹xt_±r
);

1772 ++(
yy_c_buf_p
);

1774  
	`yy_g‘_Ãxt_bufãr
( ) )

1776 
EOB_ACT_LAST_MATCH
:

1788 
	`yy»¡¬t
(
yyš
 );

1792 
EOB_ACT_END_OF_FILE
:

1794 iàĞ
	`yyw¿p
( ) )

1795  
EOF
;

1797 iàĞ! (
yy_did_bufãr_sw™ch_Ú_eof
) )

1798 
YY_NEW_FILE
;

1799 #ifdeà
__ılu¥lus


1800  
	`yyšput
();

1802  
	`šput
();

1806 
EOB_ACT_CONTINUE_SCAN
:

1807 (
yy_c_buf_p
èğ(
yy‹xt_±r
è+ 
off£t
;

1813 
c
 = *(*è(
yy_c_buf_p
);

1814 *(
yy_c_buf_p
) = '\0';

1815 (
yy_hŞd_ch¬
èğ*++(
yy_c_buf_p
);

1817  
c
;

1818 
	}
}

1826 
	$yy»¡¬t
 (
FILE
 * 
šput_fe
 )

1829 iàĞ! 
YY_CURRENT_BUFFER
 ){

1830 
	`yy’su»_bufãr_¡ack
 ();

1831 
YY_CURRENT_BUFFER_LVALUE
 =

1832 
	`yy_ü—‹_bufãr
(
yyš
,
YY_BUF_SIZE
 );

1835 
	`yy_š™_bufãr
(
YY_CURRENT_BUFFER
,
šput_fe
 );

1836 
	`yy_lßd_bufãr_¡©e
( );

1837 
	}
}

1843 
	$yy_sw™ch_to_bufãr
 (
YY_BUFFER_STATE
 
Ãw_bufãr
 )

1851 
	`yy’su»_bufãr_¡ack
 ();

1852 iàĞ
YY_CURRENT_BUFFER
 =ğ
Ãw_bufãr
 )

1855 iàĞ
YY_CURRENT_BUFFER
 )

1858 *(
yy_c_buf_p
èğ(
yy_hŞd_ch¬
);

1859 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_pos
 = (
yy_c_buf_p
);

1860 
YY_CURRENT_BUFFER_LVALUE
->
yy_n_ch¬s
 = (yy_n_chars);

1863 
YY_CURRENT_BUFFER_LVALUE
 = 
Ãw_bufãr
;

1864 
	`yy_lßd_bufãr_¡©e
( );

1871 (
yy_did_bufãr_sw™ch_Ú_eof
) = 1;

1872 
	}
}

1874 
	$yy_lßd_bufãr_¡©e
 ()

1876 (
yy_n_ch¬s
èğ
YY_CURRENT_BUFFER_LVALUE
->yy_n_chars;

1877 (
yy‹xt_±r
èğ(
yy_c_buf_p
èğ
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_pos
;

1878 
yyš
 = 
YY_CURRENT_BUFFER_LVALUE
->
yy_šput_fe
;

1879 (
yy_hŞd_ch¬
èğ*(
yy_c_buf_p
);

1880 
	}
}

1888 
YY_BUFFER_STATE
 
	$yy_ü—‹_bufãr
 (
FILE
 * 
fe
, 
size
 )

1890 
YY_BUFFER_STATE
 
b
;

1892 
b
 = (
YY_BUFFER_STATE
è
	`yy®loc
(Ğ
yy_bufãr_¡©e
 ) );

1893 iàĞ! 
b
 )

1894 
	`YY_FATAL_ERROR
( "out of dynamic memory in yy_create_buffer()" );

1896 
b
->
yy_buf_size
 = 
size
;

1901 
b
->
yy_ch_buf
 = (*è
	`yy®loc
(b->
yy_buf_size
 + 2 );

1902 iàĞ! 
b
->
yy_ch_buf
 )

1903 
	`YY_FATAL_ERROR
( "out of dynamic memory in yy_create_buffer()" );

1905 
b
->
yy_is_our_bufãr
 = 1;

1907 
	`yy_š™_bufãr
(
b
,
fe
 );

1909  
b
;

1910 
	}
}

1916 
	$yy_d–‘e_bufãr
 (
YY_BUFFER_STATE
 
b
 )

1919 iàĞ! 
b
 )

1922 iàĞ
b
 =ğ
YY_CURRENT_BUFFER
 )

1923 
YY_CURRENT_BUFFER_LVALUE
 = (
YY_BUFFER_STATE
) 0;

1925 iàĞ
b
->
yy_is_our_bufãr
 )

1926 
	`yyä“
((*è
b
->
yy_ch_buf
 );

1928 
	`yyä“
((*è
b
 );

1929 
	}
}

1931 #iâdeà
__ılu¥lus


1932 
i§‰y
 ();

1939 
	$yy_š™_bufãr
 (
YY_BUFFER_STATE
 
b
, 
FILE
 * 
fe
 )

1942 
Û¼no
 = 
”ºo
;

1944 
	`yy_æush_bufãr
(
b
 );

1946 
b
->
yy_šput_fe
 = 
fe
;

1947 
b
->
yy_fl_bufãr
 = 1;

1953 ià(
b
 !ğ
YY_CURRENT_BUFFER
){

1954 
b
->
yy_bs_lš’o
 = 1;

1955 
b
->
yy_bs_cŞumn
 = 0;

1958 
b
->
yy_is_š‹¿ùive
 = 
fe
 ? (
	`i§‰y
Ğ
	`f’o
(file) ) > 0) : 0;

1960 
”ºo
 = 
Û¼no
;

1961 
	}
}

1967 
	$yy_æush_bufãr
 (
YY_BUFFER_STATE
 
b
 )

1969 iàĞ! 
b
 )

1972 
b
->
yy_n_ch¬s
 = 0;

1978 
b
->
yy_ch_buf
[0] = 
YY_END_OF_BUFFER_CHAR
;

1979 
b
->
yy_ch_buf
[1] = 
YY_END_OF_BUFFER_CHAR
;

1981 
b
->
yy_buf_pos
 = &b->
yy_ch_buf
[0];

1983 
b
->
yy_©_bŞ
 = 1;

1984 
b
->
yy_bufãr_¡©us
 = 
YY_BUFFER_NEW
;

1986 iàĞ
b
 =ğ
YY_CURRENT_BUFFER
 )

1987 
	`yy_lßd_bufãr_¡©e
( );

1988 
	}
}

1996 
	$yypush_bufãr_¡©e
 (
YY_BUFFER_STATE
 
Ãw_bufãr
 )

1998 ià(
Ãw_bufãr
 =ğ
NULL
)

2001 
	`yy’su»_bufãr_¡ack
();

2004 iàĞ
YY_CURRENT_BUFFER
 )

2007 *(
yy_c_buf_p
èğ(
yy_hŞd_ch¬
);

2008 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_pos
 = (
yy_c_buf_p
);

2009 
YY_CURRENT_BUFFER_LVALUE
->
yy_n_ch¬s
 = (yy_n_chars);

2013 ià(
YY_CURRENT_BUFFER
)

2014 (
yy_bufãr_¡ack_tİ
)++;

2015 
YY_CURRENT_BUFFER_LVALUE
 = 
Ãw_bufãr
;

2018 
	`yy_lßd_bufãr_¡©e
( );

2019 (
yy_did_bufãr_sw™ch_Ú_eof
) = 1;

2020 
	}
}

2026 
	$yypİ_bufãr_¡©e
 ()

2028 ià(!
YY_CURRENT_BUFFER
)

2031 
	`yy_d–‘e_bufãr
(
YY_CURRENT_BUFFER
 );

2032 
YY_CURRENT_BUFFER_LVALUE
 = 
NULL
;

2033 ià((
yy_bufãr_¡ack_tİ
) > 0)

2034 --(
yy_bufãr_¡ack_tİ
);

2036 ià(
YY_CURRENT_BUFFER
) {

2037 
	`yy_lßd_bufãr_¡©e
( );

2038 (
yy_did_bufãr_sw™ch_Ú_eof
) = 1;

2040 
	}
}

2045 
	$yy’su»_bufãr_¡ack
 ()

2047 
num_to_®loc
;

2049 ià(!(
yy_bufãr_¡ack
)) {

2055 
num_to_®loc
 = 1;

2056 (
yy_bufãr_¡ack
èğ(
yy_bufãr_¡©e
**)
yy®loc


2057 (
num_to_®loc
 * (
yy_bufãr_¡©e
*)

2059 iàĞ! (
yy_bufãr_¡ack
) )

2060 
	`YY_FATAL_ERROR
( "out of dynamic memory in yyensure_buffer_stack()" );

2062 
	`mem£t
((
yy_bufãr_¡ack
), 0, 
num_to_®loc
 * (
yy_bufãr_¡©e
*));

2064 (
yy_bufãr_¡ack_max
èğ
num_to_®loc
;

2065 (
yy_bufãr_¡ack_tİ
) = 0;

2069 ià((
yy_bufãr_¡ack_tİ
è>ğ((
yy_bufãr_¡ack_max
)) - 1){

2072 
grow_size
 = 8 ;

2074 
num_to_®loc
 = (
yy_bufãr_¡ack_max
è+ 
grow_size
;

2075 (
yy_bufãr_¡ack
èğ(
yy_bufãr_¡©e
**)
yy»®loc


2076 ((
yy_bufãr_¡ack
),

2077 
num_to_®loc
 * (
yy_bufãr_¡©e
*)

2079 iàĞ! (
yy_bufãr_¡ack
) )

2080 
	`YY_FATAL_ERROR
( "out of dynamic memory in yyensure_buffer_stack()" );

2083 
	`mem£t
((
yy_bufãr_¡ack
è+ (
yy_bufãr_¡ack_max
), 0, 
grow_size
 * (
yy_bufãr_¡©e
*));

2084 (
yy_bufãr_¡ack_max
èğ
num_to_®loc
;

2086 
	}
}

2094 
YY_BUFFER_STATE
 
	$yy_sÿn_bufãr
 (* 
ba£
, 
yy_size_t
 
size
 )

2096 
YY_BUFFER_STATE
 
b
;

2098 iàĞ
size
 < 2 ||

2099 
ba£
[
size
-2] !ğ
YY_END_OF_BUFFER_CHAR
 ||

2100 
ba£
[
size
-1] !ğ
YY_END_OF_BUFFER_CHAR
 )

2104 
b
 = (
YY_BUFFER_STATE
è
	`yy®loc
(Ğ
yy_bufãr_¡©e
 ) );

2105 iàĞ! 
b
 )

2106 
	`YY_FATAL_ERROR
( "out of dynamic memory in yy_scan_buffer()" );

2108 
b
->
yy_buf_size
 = 
size
 - 2;

2109 
b
->
yy_buf_pos
 = b->
yy_ch_buf
 = 
ba£
;

2110 
b
->
yy_is_our_bufãr
 = 0;

2111 
b
->
yy_šput_fe
 = 0;

2112 
b
->
yy_n_ch¬s
 = b->
yy_buf_size
;

2113 
b
->
yy_is_š‹¿ùive
 = 0;

2114 
b
->
yy_©_bŞ
 = 1;

2115 
b
->
yy_fl_bufãr
 = 0;

2116 
b
->
yy_bufãr_¡©us
 = 
YY_BUFFER_NEW
;

2118 
	`yy_sw™ch_to_bufãr
(
b
 );

2120  
b
;

2121 
	}
}

2131 
YY_BUFFER_STATE
 
	$yy_sÿn_¡ršg
 (
yycÚ¡
 * 
yy¡r
 )

2134  
	`yy_sÿn_by‹s
(
yy¡r
,
	`¡¾’
(yystr) );

2135 
	}
}

2144 
YY_BUFFER_STATE
 
	$yy_sÿn_by‹s
 (
yycÚ¡
 * 
yyby‹s
, 
_yyby‹s_Ën
 )

2146 
YY_BUFFER_STATE
 
b
;

2147 *
buf
;

2148 
yy_size_t
 
n
;

2149 
i
;

2152 
n
 = 
_yyby‹s_Ën
 + 2;

2153 
buf
 = (*è
	`yy®loc
(
n
 );

2154 iàĞ! 
buf
 )

2155 
	`YY_FATAL_ERROR
( "out of dynamic memory in yy_scan_bytes()" );

2157  
i
 = 0; i < 
_yyby‹s_Ën
; ++i )

2158 
buf
[
i
] = 
yyby‹s
[i];

2160 
buf
[
_yyby‹s_Ën
] = buf[_yyby‹s_Ën+1] = 
YY_END_OF_BUFFER_CHAR
;

2162 
b
 = 
	`yy_sÿn_bufãr
(
buf
,
n
 );

2163 iàĞ! 
b
 )

2164 
	`YY_FATAL_ERROR
( "bad buffer in yy_scan_bytes()" );

2169 
b
->
yy_is_our_bufãr
 = 1;

2171  
b
;

2172 
	}
}

2174 #iâdeà
YY_EXIT_FAILURE


2175 
	#YY_EXIT_FAILURE
 2

	)

2178 
	$yy_çl_”rÜ
 (
yycÚ¡
 * 
msg
 )

2180 (è
	`årštf
Ğ
¡d”r
, "%s\n", 
msg
 );

2181 
	`ex™
Ğ
YY_EXIT_FAILURE
 );

2182 
	}
}

2186 #undeà
yyËss


2187 
	#yyËss
(
n
) \

2191 
yyËss_maüo_¬g
 = (
n
); \

2192 
	`YY_LESS_LINENO
(
yyËss_maüo_¬g
);\

2193 
yy‹xt
[
yyËng
] = (
yy_hŞd_ch¬
); \

2194 (
yy_c_buf_p
èğ
yy‹xt
 + 
yyËss_maüo_¬g
; \

2195 (
yy_hŞd_ch¬
èğ*(
yy_c_buf_p
); \

2196 *(
yy_c_buf_p
) = '\0'; \

2197 
yyËng
 = 
yyËss_maüo_¬g
; \

2199  0 )

	)

2206 
	$yyg‘_lš’o
 ()

2209  
yylš’o
;

2210 
	}
}

2215 
FILE
 *
	$yyg‘_š
 ()

2217  
yyš
;

2218 
	}
}

2223 
FILE
 *
	$yyg‘_out
 ()

2225  
yyout
;

2226 
	}
}

2231 
	$yyg‘_Ëng
 ()

2233  
yyËng
;

2234 
	}
}

2240 *
	$yyg‘_‹xt
 ()

2242  
yy‹xt
;

2243 
	}
}

2249 
	$yy£t_lš’o
 (
lše_numb”
 )

2252 
yylš’o
 = 
lše_numb”
;

2253 
	}
}

2261 
	$yy£t_š
 (
FILE
 * 
š_¡r
 )

2263 
yyš
 = 
š_¡r
 ;

2264 
	}
}

2266 
	$yy£t_out
 (
FILE
 * 
out_¡r
 )

2268 
yyout
 = 
out_¡r
 ;

2269 
	}
}

2271 
	$yyg‘_debug
 ()

2273  
yy_æex_debug
;

2274 
	}
}

2276 
	$yy£t_debug
 (
bdebug
 )

2278 
yy_æex_debug
 = 
bdebug
 ;

2279 
	}
}

2281 
	$yy_š™_glob®s
 ()

2287 (
yy_bufãr_¡ack
) = 0;

2288 (
yy_bufãr_¡ack_tİ
) = 0;

2289 (
yy_bufãr_¡ack_max
) = 0;

2290 (
yy_c_buf_p
) = (*) 0;

2291 (
yy_š™
) = 0;

2292 (
yy_¡¬t
) = 0;

2295 #ifdeà
YY_STDINIT


2296 
yyš
 = 
¡dš
;

2297 
yyout
 = 
¡dout
;

2299 
yyš
 = (
FILE
 *) 0;

2300 
yyout
 = (
FILE
 *) 0;

2307 
	}
}

2310 
	$yyËx_de¡roy
 ()

2314 
YY_CURRENT_BUFFER
){

2315 
	`yy_d–‘e_bufãr
(
YY_CURRENT_BUFFER
 );

2316 
YY_CURRENT_BUFFER_LVALUE
 = 
NULL
;

2317 
	`yypİ_bufãr_¡©e
();

2321 
	`yyä“
((
yy_bufãr_¡ack
) );

2322 (
yy_bufãr_¡ack
èğ
NULL
;

2326 
	`yy_š™_glob®s
( );

2329 
	}
}

2335 #iâdeà
yy‹xt_±r


2336 
	$yy_æex_¡ºıy
 (* 
s1
, 
yycÚ¡
 * 
s2
, 
n
 )

2338 
i
;

2339  
i
 = 0; i < 
n
; ++i )

2340 
s1
[
i
] = 
s2
[i];

2341 
	}
}

2344 #ifdeà
YY_NEED_STRLEN


2345 
	$yy_æex_¡¾’
 (
yycÚ¡
 * 
s
 )

2347 
n
;

2348  
n
 = 0; 
s
[n]; ++n )

2351  
n
;

2352 
	}
}

2355 *
	$yy®loc
 (
yy_size_t
 
size
 )

2357  (*è
	`m®loc
Ğ
size
 );

2358 
	}
}

2360 *
	$yy»®loc
 (* 
±r
, 
yy_size_t
 
size
 )

2369  (*è
	`»®loc
Ğ(*è
±r
, 
size
 );

2370 
	}
}

2372 
	$yyä“
 (* 
±r
 )

2374 
	`ä“
Ğ(*è
±r
 );

2375 
	}
}

2377 
	#YYTABLES_NAME
 "yybËs"

	)

	@parser/internals.h

66 #iâdeà
INTERNALS_H_MAR_10_2006


67 
	#INTERNALS_H_MAR_10_2006


	)

69 
	~<io¡»am
>

70 
	~<¡ršg
>

71 
	~<s¡»am
>

72 
usšg
 
Çme¥aû
 
	g¡d
;

74 şas 
	cIÁ”Çls


77 
	mpublic
:

79 
	$succ
(
a
) { ‡+1; }

81 
	$¶us
(
a
, 
b
è{ ‡+b; 
	}
}

83 
	$mšus
(
a
, 
b
è{ ‡-b; 
	}
}

85 
	$times
(
a
, 
b
è{ ‡*b; 
	}
}

87 
	$dividedBy
(
a
, 
b
è{ ‡/b; 
	}
}

89 
	$mod
(
a
, 
b
è{ ‡%b; 
	}
}

91 
¡ršg
 
	$cÚÿt
(
¡ršg
 
a
, sŒšg 
b
)

93  
a
.
	`­³nd
(
b
);

94 
	}
}

96 
boŞ
 
	$g»©”Thª
(
a
, 
b
è{ ‡ > b; 
	}
}

98 
boŞ
 
	$ËssThª
(
a
, 
b
è{ ‡ < b; 
	}
}

100 
boŞ
 
	$g»©”ThªEq
(
a
, 
b
è{ ‡ >ğb; 
	}
}

102 
boŞ
 
	$ËssThªEq
(
a
, 
b
è{ ‡ <ğb; 
	}
}

104 
boŞ
 
	$sub¡r
(
¡ršg
 
a
, sŒšg 
b
)

106 ià(
b
.
	`fšd
(
a
, 0è=ğ
¡ršg
::
Åos
è 
çl£
;

107  
Œue
;

108 
	}
}

111 
boŞ
 
	$¡ršgToIÁ
(cÚ¡ 
¡ršg
 &
s
, &
i
)

113 
i¡ršg¡»am
 
	`iss
(
s
);

115 ià(
iss
>>
i
)

116  
Œue
;

118  
çl£
;

119 
	}
}

121 
¡ršg
 
	$štToSŒšg
(
i
)

123 
o¡ršg¡»am
 
oss
;

124 
oss
 << 
i
 << 
æush
;

125 (
oss
.
	`¡r
());

126 
	}
}

	@parser/listobj.cpp

66 
	~"li¡obj.h
"

68 
	gLi¡Obj
::
ÃwV¬CouÁ”_
 = -1;

69 
Li¡Obj
* 
	gLi¡Obj
::
nuÎ_
 = 
NULL
;

	@parser/listobj.h

66 #iâdeà
LISTOBJ_H_JUN_21_2005


67 
	#LISTOBJ_H_JUN_21_2005


	)

69 
	~<c¡dio
>

70 
	~<¡ršg
>

71 
	~<li¡
>

72 
	~<o¡»am
>

73 
	~<ext/hash_m­
>

74 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

75 
	~"¬¿y.h
"

76 
	~"hash¡ršg.h
"

77 
	~"domaš.h
"

78 
	~"¬¿y§cûssÜ.h
"

80 
	ghash_m­
<cÚ¡ 
	t¡ršg
, , 
	tHashSŒšg
, 
	tEqu®SŒšg
> 
	tV¬Ty³M­
;

89 şas 
	cLi¡Obj


91 
	mpublic
:

92 
	$Li¡Obj
()

94 
¡r_
 = 
Ãw
 [1];

95 
¡r_
[0] = '\0';

99 
	$Li¡Obj
(cÚ¡ * cÚ¡ & 
¡r
)

101 ià(
¡r
 !ğ
NULL
)

103 
¡r_
 = 
Ãw
 [
	`¡¾’
(
¡r
)+1];

104 
	`¡rıy
(
¡r_
, 
¡r
);

108 
¡r_
 = 
Ãw
 [1];

109 
¡r_
[0] = '\0';

111 
	}
}

114 
	$Li¡Obj
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
p
)

116 
i
 = 0; i < 
p
->
	`size
(); i++)

117 
li¡_
.
	`­³nd
(
Ãw
 
	`Li¡Obj
((*
p
)[
i
]));

118 
¡r_
 = 
Ãw
 [
	`¡¾’
(
p
->str_)+1];

119 
	`¡rıy
(
¡r_
, 
p
->str_);

121 
	`as£¹
(
p
->
li¡_
.
	`size
() ==†ist_.size());

123 
	}
}

126 ~
	$Li¡Obj
(è{ 
d–‘e
 [] 
¡r_
; 
li¡_
.
	`d–‘eI‹msAndCË¬
(); 
	}
}

129 
	$ş—r
(è{ 
li¡_
.
	`ş—r
(); 
d–‘e
 [] 
¡r_
; sŒ_=
Ãw
 [1];¡r_[0]='\0'; 
	}
}

131 
	$d–‘eAndCË¬
(è{ 
li¡_
.
	`d–‘eI‹msAndCË¬
(); 
	`ş—r
(); 
	}
}

133 
	$ş—rLi¡
(è{ 
li¡_
.
	`ş—r
(); 
	}
}

135 
	go¡»am
& 
	$´št
(
o¡»am
& 
out
) const

137 ià(
	`isSŒ
())

138 
out
 << 
¡r_
;

141 
out
 << "(";

142 
i
 = 0; i < 
li¡_
.
	`size
(); i++)

144 
li¡_
[
i
]->
	`´št
(
out
);

145 
out
 << ((
i
<
li¡_
.
	`size
()-1)? " " : "");

147 
out
 << ")";

149  
out
;

150 
	}
}

154 cÚ¡ 
	gA¼ay
<
	gLi¡Obj
*>& 
	$g‘Li¡
(ècÚ¡ {  
li¡_
; 
	}
}

157 cÚ¡ * 
	$g‘SŒ
(ècÚ¡ {  
¡r_
; 
	}
}

161 
	$£tSŒIfSŒ
(cÚ¡ * 
¡r
)

163 ià(
	`isSŒ
())

165 
d–‘e
 [] 
¡r_
;

166 
¡r_
 = 
Ãw
 [
	`¡¾’
(
¡r
)+1];

167 
	`¡rıy
(
¡r_
,
¡r
);

169 
	}
}

171 
boŞ
 
	$isSŒ
(ècÚ¡ {  (
	`¡¾’
(
¡r_
è> 0); 
	}
}

173 
boŞ
 
	$isLi¡
(ècÚ¡ {  !
	`isSŒ
(); 
	}
}

175 
	$­³nd
(
Li¡Obj
* cÚ¡ & 
p
è{ 
li¡_
.
	`­³nd
Õ); 
	}
}

177 
	$­³nd
(cÚ¡ * cÚ¡ & 
s
è{ 
li¡_
.
	`­³nd
(
Ãw
 
	`Li¡Obj
(s)); 
	}
}

179 
Li¡Obj
* 
	$»moveLa¡
()

181 
Li¡Obj
* 
lo
 = 
li¡_
.
	`»moveLa¡I‹m
();

182 
li¡_
.
	`com´ess
();

183  
lo
;

184 
	}
}

186 
	$size
(ècÚ¡ {  
li¡_
.
	`size
(); 
	}
}

188 
Li¡Obj
* 
	gİ”©Ü
[](cÚ¡ & 
	gšdex
ècÚ¡ {  
	gli¡_
[
šdex
]; }

191 
Li¡Obj
* 
	$toCNF
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
p
, cÚ¡ Li¡Obj* cÚ¡ & 
v¬s
,

192 cÚ¡ 
Domaš
* cÚ¡ & 
domaš
,

193 cÚ¡ 
V¬Ty³M­
 * cÚ¡& 
vtM­
, 
boŞ
& 
hasExi¡
)

195 
Li¡Obj
* 
p1
 = 
	`–imš©eIm¶iÿtiÚ
(
p
);

197 cÚ¡ * 
İp
 = 
	`İ
(
p1
)->
¡r_
;

199 ià(
	`¡rcmp
(
İp
, "!")==0)

201 
Li¡Obj
* 
p2
 = 
	`moveNÙInw¬ds
(
	`¬g1
(
p1
));

202 ià(
	`isL™”®CÏu£
(
p2
)è{ 
d–‘e
 
p1
; …2; }

204 
Li¡Obj
* 
»t
 = 
	`toCNF
(
p2
, 
v¬s
, 
domaš
, 
vtM­
, 
hasExi¡
);

205 
d–‘e
 
p2
; d–‘
p1
;

206  
»t
;

209 ià(
	`¡rcmp
(
İp
, "^")==0)

211 
Li¡Obj
* 
n
 = 
NULL
;

212 
numCÚj
 = 0;

213 
Li¡Obj
* 
fœ¡CÚj
 = 
NULL
;

215 
i
 = 1; i < 
p1
->
	`size
(); i++)

217 
Li¡Obj
* 
cÚj
 = 
	`toCNF
((*
p1
)[
i
], 
v¬s
, 
domaš
, 
vtM­
, 
hasExi¡
);

219 
boŞ
 
isCÚj
 = 
	`¡rcmp
(
	`İ
(
cÚj
)->
¡r_
, "^")==0;

220 
jbeg
 = (
isCÚj
) ? 1 : 0;

221 
jmax
 = (
isCÚj
è? 
cÚj
->
	`size
() : 1;

222 
Li¡Obj
* 
cÚjj
;

224 
j
 = 
jbeg
; j < 
jmax
; j++)

226 ià(
isCÚj
è
cÚjj
 = (*
cÚj
)[
j
];

227 
cÚjj
 = 
cÚj
;

229 
numCÚj
++;

230 ià(
numCÚj
==1è{ 
fœ¡CÚj
 = 
cÚjj
; ; }

232 ià(
numCÚj
==2è{
n
=
Ãw
 
Li¡Obj
;‚->
	`­³nd
("^");‚->­³nd(
fœ¡CÚj
);}

233 
n
->
	`­³nd
(
cÚjj
);

236 ià(
isCÚj
è{ 
	`d–‘e
 (*
cÚj
)[0]; cÚj->
	`ş—rLi¡
(); 
d–‘e
 conj; }

240 
d–‘e
 
p1
;

241 ià(
numCÚj
 =ğ1è{  
fœ¡CÚj
; }

242  
n
;

245 ià(
	`¡rcmp
(
İp
, "v")==0)

247 
Li¡Obj
* 
n
 = 
Ãw
 ListObj;

248 
i
 = 1; i < 
p1
->
	`size
(); i++)

249 
n
->
	`­³nd
(
	`toCNF
((*
p1
)[
i
], 
v¬s
, 
domaš
, 
vtM­
, 
hasExi¡
));

250 
Li¡Obj
* 
»t
 = 
	`m”geDisjunùs
(
n
,‚->
	`size
());

252 
d–‘e
 
n
; d–‘
p1
;

253  
»t
;

256 ià(
	`¡rcmp
(
İp
, "FORALL")==0)

258 cÚ¡ 
Li¡Obj
* 
¬g1v¬
 = 
	`¬g1
(
p1
);

260 
Li¡Obj
* 
ÃwV¬
 = 
Ãw
 ListObj;

261 
i
 = 0; i < 
¬g1v¬
->
	`size
(); i++)

262 
ÃwV¬
->
	`­³nd
(
	`ÃwV¬ŸbË
((*
¬g1v¬
)[
i
]));

263 
	`as£¹
(
ÃwV¬
->
	`size
(è=ğ
¬g1v¬
->size());

265 cÚ¡ 
Li¡Obj
* 
¯rg2
 = 
Ãw
 
	`Li¡Obj
(
	`¬g2
(
p1
));

267 
i
 = 0; i < 
ÃwV¬
->
	`size
(); i++)

268 
j
 = 0; j < 
¯rg2
->
	`size
(); j++)

269 (*
¯rg2
)[
j
]->
	`sub
((*
¬g1v¬
)[
i
], (*
ÃwV¬
)[i]);

271 
Li¡Obj
* 
­p
 = 
Ãw
 ListObj;

272 
i
 = 0; i < 
ÃwV¬
->
	`size
(); i++è
­p
->
	`­³nd
((*newVar)[i]);

273 
i
 = 0; i < 
v¬s
->
	`size
(); i++è
­p
->
	`­³nd
((*vars)[i]);

275 
ÃwV¬
->
	`ş—rLi¡
();

276 
d–‘e
 
ÃwV¬
;

277 
Li¡Obj
* 
»t
 = 
	`toCNF
(
¯rg2
, 
­p
, 
domaš
, 
vtM­
, 
hasExi¡
);

278 
d–‘e
 
¯rg2
; d–‘
­p
; d–‘
p1
;

279  
»t
;

282 ià(
	`¡rcmp
(
İp
, "EXIST")==0)

284 
hasExi¡
 = 
Œue
;

285 cÚ¡ 
Li¡Obj
* 
a2
 = 
	`¬g2
(
p1
);

286 cÚ¡ 
Li¡Obj
* 
a1
 = 
	`¬g1
(
p1
);

290 ià(
domaš
 =ğ
NULL
)

292 
Li¡Obj
* 
sk
 = 
	`skŞemize
(
a2
, 
a1
, 
v¬s
);

293 
Li¡Obj
* 
c
 = 
	`toCNF
(
sk
, 
v¬s
, 
domaš
, 
vtM­
, 
hasExi¡
);

294 
d–‘e
 
sk
; d–‘
p1
;

295  
c
;

298 
A¼ay
<
¡ršg
> 
v¬Names
;

299 
i
 = 0; i < 
a1
->
	`size
(); i++)

300 
v¬Names
.
	`­³nd
((*
a1
)[
i
]->
	`g‘SŒ
());

302 
A¼aysAcûssÜ
<> 
¬rAcûssÜ
;

303 
i
 = 0; i < 
v¬Names
.
	`size
(); i++)

305 
V¬Ty³M­
::
cÚ¡_™”©Ü
 
m™
 = 
vtM­
->
	`fšd
(
v¬Names
[
i
]);

306 
	`as£¹
(
m™
 !ğ
vtM­
->
	`’d
());

307 
ty³Id
 = (*
m™
).
£cÚd
;

308 
	`as£¹
(
ty³Id
 > 0);

309 cÚ¡ 
A¼ay
<>* 
cÚ¡A¼
 = 
domaš
->
	`g‘CÚ¡ªtsByTy³
(
ty³Id
);

310 ià(
cÚ¡A¼
->
	`size
() == 0)

312 
cout
 << "You must declare constants forype "

313 << 
domaš
->
	`g‘Ty³Name
(
ty³Id
)

314 << " iÀÜd”Øgroundhv¬ŸbË " << 
v¬Names
[
i
] << 
’dl
;

315 
	`ex™
(-1);

317 
¬rAcûssÜ
.
	`­³ndA¼ay
(
cÚ¡A¼
);

320 ià(
v¬Names
.
	`size
()==0){
cout
<<"ERROR: EXIST ha nØv¬s."<<
’dl
;
	`ex™
(-1);}

322 
Li¡Obj
* 
ÃwFÜmuÏ
 = 
Ãw
 ListObj;

323 
ÃwFÜmuÏ
->
	`­³nd
("v");

324 
A¼ay
<> 
cÚ¡Ids
;

325 
¬rAcûssÜ
.
	`g‘NextCombš©iÚ
(
cÚ¡Ids
))

327 
Li¡Obj
* 
»¶aûdFÜmuÏ
 = 
Ãw
 
	`Li¡Obj
(
a2
);

329 
	`as£¹
(
cÚ¡Ids
.
	`size
(è=ğ
v¬Names
.size());

330 
i
 = 0; i < 
v¬Names
.
	`size
(); i++)

332 cÚ¡ * 
cÚ¡Name
 = 
domaš
->
	`g‘CÚ¡ªtName
(
cÚ¡Ids
[
i
]);

333 
	`»¶aû
(
»¶aûdFÜmuÏ
, 
v¬Names
[
i
].
	`c_¡r
(), 
cÚ¡Name
, 
domaš
);

335 
ÃwFÜmuÏ
->
	`­³nd
(
»¶aûdFÜmuÏ
);

340 
d–‘e
 
p1
;

341 
Li¡Obj
* 
c
 = 
	`toCNF
(
ÃwFÜmuÏ
, 
v¬s
, 
domaš
, 
vtM­
, 
hasExi¡
);

343 
d–‘e
 
ÃwFÜmuÏ
;

344  
c
;

347  
p1
;

348 
	}
}

351 
»¶aûA¡”isk
(cÚ¡ 
A¼ay
<
boŞ
>& 
bA¼
, & 
idx
)

353 ià(!
isSŒ
())

355 cÚ¡ * 
	gİp
 = 
İ
(
this
)->
¡r_
;

357 ià(
¡rcmp
(
İp
, "*")==0)

359 
as£¹
(
size
()==2);

362 ià(!
	gbA¼
[
idx
])

363 (*
	gthis
)[0]->
£tSŒIfSŒ
("!");

366 
Li¡Obj
* 
	gunNeg©edFÜmuÏ
 = 
Ãw
 Li¡Obj((*
this
)[1]);

367 
as£¹
(!
unNeg©edFÜmuÏ
->
isSŒ
());

368 
d–‘eAndCË¬
();

369 
	gi
 = 0; i < 
	gunNeg©edFÜmuÏ
->
size
(); i++)

370 
­³nd
((*
unNeg©edFÜmuÏ
)[
i
]);

371 
	gunNeg©edFÜmuÏ
->
ş—r
();

372 
d–‘e
 
	gunNeg©edFÜmuÏ
;

374 
	gidx
++;

375 ià(
	gidx
 =ğ
bA¼
.
size
()) ;

378 
	gi
 = 0; i < 
size
(); i++)

380 (*
	gthis
)[
i
]->
»¶aûA¡”isk
(
bA¼
, 
idx
);

381 ià(
	gidx
 =ğ
bA¼
.
size
()) ;

388 
	$ş—nUpV¬s
()

390 ià(
	`isSŒ
())

392 ià(
¡r_
[0] != '$') ;

393 * 
dÙ
 = 
	`¡¼chr
(
¡r_
, '.');

394 ià(
dÙ
==
NULL
) ;

395 
numCh¬
 = 
dÙ
-
¡r_
-1;

396 * 
tmp
 = 
Ãw
 [
numCh¬
+1];

397 
	`¡ºıy
(
tmp
, 
¡r_
+1, 
numCh¬
);

398 
tmp
[
numCh¬
] = '\0';

399 
d–‘e
 [] 
¡r_
;

400 
¡r_
 = 
tmp
;

403 
i
 = 0; i < 
li¡_
.
	`size
(); i++)

404 
li¡_
[
i
]->
	`ş—nUpV¬s
();

405 
	}
}

408 
	$»moveRedundªtP»diÿ‹s
()

410 cÚ¡ * 
İp
 = 
	`İ
(
this
)->
¡r_
;

412 ià(
	`¡rcmp
(
İp
,"^")==0)

414 
i
 = 1; i < 
	`size
(); i++)

415 
	`»moveRedundªtP»diÿ‹s
((*
this
)[
i
]);

418 
	`»moveRedundªtP»diÿ‹s
(
this
);

419 
	}
}

422 
	$»moveRedundªtCÏu£s
()

429 cÚ¡ * 
İp
 = 
	`İ
(
this
)->
¡r_
;

431 ià(
	`¡rcmp
(
İp
,"^")==0)

433 
i
 = 1; i < 
	`size
(); i++)

434 
	`»moveRedundªtP»diÿ‹s
((*
this
)[
i
]);

436 
A¼ay
<
Li¡Obj
*> 
şau£s
, 
»dundªtCÏu£s
;

437 
i
 = 1; i < 
	`size
(); i++)

439 
boŞ
 
k“p
 = 
Œue
;

440 
j
 = 1; j < 
	`size
(); j++)

442 ià(
i
==
j
) ;

443 ià(
	`sub£tOf
((*
this
)[
j
],(*this)[
i
]))

444 ià((*
this
)[
i
]->
	`size
(è!ğ(*this)[
j
]->size() || i < j)

445 { 
k“p
 = 
çl£
; ; }

447 ià(
k“p
è
şau£s
.
	`­³nd
((*
this
)[
i
]);

448 
»dundªtCÏu£s
.
	`­³nd
((*
this
)[
i
]);

451 
Li¡Obj
* 
ªdO³r
 = (*
this
)[0];

452 
	`as£¹
(
	`¡rcmp
(
ªdO³r
->
¡r_
,"^")==0);

454 
i
 = 0; i < 
»dundªtCÏu£s
.
	`size
(); i++)

455 
d–‘e
 
»dundªtCÏu£s
[
i
];

456 
	`ş—r
();

457 
	`­³nd
(
ªdO³r
);

458 
i
 = 0; i < 
şau£s
.
	`size
(); i++è
	`­³nd
(clauses[i]);

461 
	`»moveRedundªtP»diÿ‹s
(
this
);

462 
	}
}

465 
	$»¶aû
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
p
, cÚ¡ * cÚ¡ & 
v¬Name
,

466 cÚ¡ * cÚ¡& 
cÚ¡Name
, cÚ¡ 
Domaš
* cÚ¡& 
domaš
)

468 cÚ¡ * 
İp
 = 
	`İ
(
p
)->
¡r_
;

472 ià(
	`¡rcmp
(
İp
, "EXIST")==0 || strcmp(opp, "FORALL")==0)

473 ià(
	`cÚšsV¬Name
((*
p
)[1], 
v¬Name
)) ;

476 cÚ¡ 
boŞ
 
isP»dFunc
 = ( 
domaš
->
	`isP»diÿ‹
(
İp
)

477 || 
domaš
->
	`isFunùiÚ
(
İp
));

479 
i
 = 1; i < 
p
->
	`size
(); i++)

483 ià(
isP»dFunc
 && (*
p
)[
i
]->
	`isSŒ
())

486 ià(
	`¡rcmp
((*
p
)[
i
]->
	`g‘SŒ
(), 
v¬Name
)==0)

487 (*
p
)[
i
]->
	`£tSŒIfSŒ
(
cÚ¡Name
);

490 
	`»¶aû
((*
p
)[
i
], 
v¬Name
, 
cÚ¡Name
, 
domaš
);

492 
	}
}

495 
	$»¶aû
(cÚ¡ * cÚ¡ & 
Şdİ
, cÚ¡ * cÚ¡ & 
Ãwİ
)

497 
i
 = 0; i < 
	`size
(); i++)

499 ià(
	`¡rcmp
((*
this
)[
i
]->
	`g‘SŒ
(), 
Şdİ
)==0)

500 (*
this
)[
i
]->
	`£tSŒIfSŒ
(
Ãwİ
);

502 (*
this
)[
i
]->
	`»¶aû
(
Şdİ
, 
Ãwİ
);

504 
	}
}

507 
boŞ
 
	$hasOrOp
()

509 ià(!
	`isLi¡
()è 
çl£
;

510  (
	`¡rcmp
(
	`İ
(
this
)->
¡r_
,"v")==0);

511 
	}
}

514 
boŞ
 
	$hasAndOp
()

516 ià(!
	`isLi¡
()è 
çl£
;

517  (
	`¡rcmp
(
	`İ
(
this
)->
¡r_
,"^")==0);

518 
	}
}

521 
	g´iv©e
:

522 
boŞ
 
	$§me
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
lo1
, cÚ¡ Li¡Obj* cÚ¡ & 
lo2
)

524 ià(
lo1
->
	`isSŒ
(è&& 
lo2
->isStr())

526 ià(
	`¡rcmp
(
lo1
->
¡r_
, 
lo2
->¡r_)==0è 
Œue
;

527  
çl£
;

530 ià(
lo1
->
	`isLi¡
(è&& 
lo2
->isList())

532 ià(
lo1
->
	`size
(è=ğ
lo2
->size())

534 
i
 = 0; i < 
lo1
->
	`size
(); i++)

535 ià(!
	`§me
((*
lo1
)[
i
],(*
lo2
)[i])è 
çl£
;

536  
Œue
;

538  
çl£
;

540  
çl£
;

541 
	}
}

544 
	$sub
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
Şdlo
, cÚ¡ Li¡Obj* cÚ¡ & 
Ãwlo
)

546 ià(
	`isSŒ
())

548 ià(
	`§me
(
this
, 
Şdlo
))

550 ià(
Ãwlo
->
	`isSŒ
())

552 
d–‘e
 [] 
¡r_
;

553 
¡r_
 = 
Ãw
 [
	`¡¾’
(
Ãwlo
->str_)+1];

554 
	`¡rıy
(
¡r_
, 
Ãwlo
->str_);

558 
d–‘e
 [] 
¡r_
;

559 
¡r_
 = 
Ãw
 [1];

560 
¡r_
[0] = '\0';

561 
li¡_
.
	`d–‘eI‹msAndCË¬
();

563 
i
 = 0; i < 
Ãwlo
->
	`size
(); i++)

564 
li¡_
.
	`­³nd
(
Ãw
 
	`Li¡Obj
((*
Ãwlo
)[
i
]));

570 
i
 = 0; i < 
li¡_
.
	`size
(); i++)

572 ià(
	`§me
(
li¡_
[
i
],
Şdlo
)è{
d–‘e
†i¡_[i];†i¡_[i]=
Ãw
 
	`Li¡Obj
(
Ãwlo
); }

573 
li¡_
[
i
]->
	`sub
(
Şdlo
, 
Ãwlo
);

575 
	}
}

578 cÚ¡ 
Li¡Obj
* 
	$İ
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
exp
)

580 
	`as£¹
(
exp
->
	`isLi¡
());

581 ià(
exp
->
	`size
() == 0) ƒxp;

582  (*
exp
)[0];

583 
	}
}

586 cÚ¡ 
Li¡Obj
* 
	$¬g1
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
exp
)

588 ià(
exp
->
	`isLi¡
(è&&ƒxp->
	`size
() > 1)  (*exp)[1];

589  
nuÎ_
;

590 
	}
}

593 cÚ¡ 
Li¡Obj
* 
	$¬g2
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
exp
)

595 ià(
exp
->
	`isLi¡
(è&&ƒxp->
	`size
() > 2)  (*exp)[2];

596  
nuÎ_
;

597 
	}
}

601 
boŞ
 
	$isCÚÃùive
(cÚ¡ * cÚ¡ & 
c
)

603 ià(
	`¡rcmp
(
c
, "^")==0 || strcmp(c, "v")==0 || strcmp(c, "!")==0 ||

604 
	`¡rcmp
(
c
, "=>")==0 || strcmp(c, "<=>")==0 )

605  
Œue
;

606  
çl£
;

607 
	}
}

610 
boŞ
 
	$isQuªtif›r
(cÚ¡ * cÚ¡ & 
q
)

612 ià(
	`¡rcmp
(
q
, "FORALL")==0 || strcmp(q, "EXIST")==0)

613  
Œue
;

614  
çl£
;

615 
	}
}

619 
boŞ
 
	$isAtomicCÏu£
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
£Á’û
)

623 cÚ¡ * 
İp
 = 
	`İ
(
£Á’û
)->
¡r_
;

624 ià(!
	`isCÚÃùive
(
İp
è&& !
	`isQuªtif›r
(İp)è 
Œue
;

625  
çl£
;

626 
	}
}

629 
boŞ
 
	$isNeg©edCÏu£
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
£Á’û
)

631 ià(
	`¡rcmp
(
	`İ
(
£Á’û
)->
¡r_
, "!")==0è 
Œue
;

632  
çl£
;

633 
	}
}

636 
boŞ
 
	$isL™”®CÏu£
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
£Á’û
)

638 ià(
	`isAtomicCÏu£
(
£Á’û
è|| (
	`isNeg©edCÏu£
(sentence)

639 && 
	`isAtomicCÏu£
(
	`¬g1
(
£Á’û
))))

640  
Œue
;

641  
çl£
;

642 
	}
}

645 
Li¡Obj
* 
	$–imš©eIm¶iÿtiÚ
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
p
)

647 ià(
	`isL™”®CÏu£
(
p
)è 
Ãw
 
	`Li¡Obj
(p);

649 cÚ¡ * 
İp
 = 
	`İ
(
p
)->
¡r_
;

651 ià(
	`¡rcmp
(
İp
, "=>")==0)

653 
Li¡Obj
* 
n1
 = 
Ãw
 ListObj;

654 
n1
->
	`­³nd
("!");‚1->­³nd(
Ãw
 
	`Li¡Obj
(
	`¬g1
(
p
)));

655 
Li¡Obj
* 
n
 = 
Ãw
 ListObj;

656 
n
->
	`­³nd
("v");‚->­³nd(
Ãw
 
	`Li¡Obj
(
	`¬g2
(
p
)));‚->­³nd(
n1
);

657  
n
;

660 ià(
	`¡rcmp
(
İp
, "<=>")==0)

662 
Li¡Obj
* 
n1a
 = 
Ãw
 ListObj;

663 
n1a
->
	`­³nd
("!");‚1a->­³nd(
Ãw
 
	`Li¡Obj
(
	`¬g1
(
p
)));

664 
Li¡Obj
* 
Ç
 = 
Ãw
 ListObj;

665 
Ç
->
	`­³nd
("v");‚a->­³nd(
n1a
);‚a->­³nd(
Ãw
 
	`Li¡Obj
(
	`¬g2
(
p
)));

667 
Li¡Obj
* 
n1b
 = 
Ãw
 ListObj;

668 
n1b
->
	`­³nd
("!");‚1b->­³nd(
Ãw
 
	`Li¡Obj
(
	`¬g2
(
p
)));

669 
Li¡Obj
* 
nb
 = 
Ãw
 ListObj;

670 
nb
->
	`­³nd
("v");‚b->­³nd(
Ãw
 
	`Li¡Obj
(
	`¬g1
(
p
)));

671 
nb
->
	`­³nd
(
n1b
);

673 
Li¡Obj
* 
n
 = 
Ãw
 Li¡Obj;‚->
	`­³nd
("^");‚->­³nd(
nb
);‚->­³nd(
Ç
);

674  
n
;

678 
Li¡Obj
* 
n
 = 
Ãw
 Li¡Obj;‚->
	`­³nd
(
İp
);

679 
i
 = 1; i < 
p
->
	`size
(); i++)

680 
n
->
	`­³nd
(
	`–imš©eIm¶iÿtiÚ
((*
p
)[
i
]));

681  
n
;

683 
	}
}

686 
Li¡Obj
* 
	$moveNÙInw¬ds
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
p
)

688 cÚ¡ * 
İp
 = 
	`İ
(
p
)->
¡r_
;

690 ià(
	`¡rcmp
(
İp
, "!")==0è 
Ãw
 
	`Li¡Obj
((*
p
)[1]);

692 ià(
	`¡rcmp
(
İp
, "^")==0)

694 
Li¡Obj
* 
n
 = 
NULL
;

695 
numDisj
 = 0;

696 
Li¡Obj
* 
fœ¡Disj
 = 
NULL
;

698 
i
 = 1; i < 
p
->
	`size
(); i++)

700 
numDisj
++;

701 ià(
numDisj
 =ğ1è{ 
fœ¡Disj
 = 
	`moveNÙInw¬ds
((*
p
)[
i
]); ; }

703 ià(
numDisj
 =ğ2è{
n
=
Ãw
 
Li¡Obj
;‚->
	`­³nd
("v");‚->­³nd(
fœ¡Disj
);}

704 
n
->
	`­³nd
(
	`moveNÙInw¬ds
((*
p
)[
i
]));

706 ià(
numDisj
 =ğ1è 
fœ¡Disj
;

707  
n
;

710 ià(
	`¡rcmp
(
İp
, "v")==0)

712 
Li¡Obj
* 
n
 = 
NULL
;

713 
numCÚj
 = 0;

714 
Li¡Obj
* 
fœ¡CÚj
 = 
NULL
;

716 
i
 = 1; i < 
p
->
	`size
(); i++)

718 
numCÚj
++;

719 ià(
numCÚj
 =ğ1è{ 
fœ¡CÚj
 = 
	`moveNÙInw¬ds
((*
p
)[
i
]); ; }

721 ià(
numCÚj
 =ğ2è{ 
n
=
Ãw
 
Li¡Obj
;‚->
	`­³nd
("^");n->­³nd(
fœ¡CÚj
);}

722 
n
->
	`­³nd
(
	`moveNÙInw¬ds
((*
p
)[
i
]));

725 ià(
numCÚj
 =ğ1è 
fœ¡CÚj
;

726  
n
;

729 ià(
	`¡rcmp
(
İp
, "FORALL")==0)

731 
Li¡Obj
* 
n
 = 
Ãw
 ListObj;

732 
n
->
	`­³nd
("EXIST");

733 
n
->
	`­³nd
(
Ãw
 
	`Li¡Obj
((*
p
)[1]));

734 
n
->
	`­³nd
(
	`moveNÙInw¬ds
((*
p
)[2]));

735  
n
;

738 ià(
	`¡rcmp
(
İp
, "EXIST")==0)

740 
Li¡Obj
* 
n
 = 
Ãw
 ListObj;

741 
n
->
	`­³nd
("FORALL");

742 
n
->
	`­³nd
(
Ãw
 
	`Li¡Obj
((*
p
)[1]));

743 
n
->
	`­³nd
(
	`moveNÙInw¬ds
((*
p
)[2]));

744  
n
;

747 
Li¡Obj
* 
n
 = 
Ãw
 Li¡Obj;‚->
	`­³nd
("!");‚->­³ndÒew 
	`Li¡Obj
(
p
));

748  
n
;

749 
	}
}

752 
Li¡Obj
* 
	$disjunùiÚAndAµ’d
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
p1
,

753 cÚ¡ 
Li¡Obj
* cÚ¡ & 
p2
)

755 
boŞ
 
p1IsDisjunc
 = (
	`¡rcmp
(
	`İ
(
p1
)->
¡r_
, "v")==0);

756 
ibeg
 = (
p1IsDisjunc
) ? 1 : 0;

757 
›nd
 = (
p1IsDisjunc
è? 
p1
->
	`size
() : 1;

759 
boŞ
 
p2IsDisjunc
 = (
	`¡rcmp
(
	`İ
(
p2
)->
¡r_
, "v")==0);

760 
jbeg
 = (
p2IsDisjunc
) ? 1 : 0;

761 
j’d
 = (
p2IsDisjunc
è? 
p2
->
	`size
() : 1;

763 
Li¡Obj
* 
n
 = 
Ãw
 
	`Li¡Obj
();

764 ià(
p1
->
	`size
()+
p2
->size(è> 1è
n
->
	`­³nd
("v");

766 
i
 = 
ibeg
; i < 
›nd
; i++)

768 ià(
p1IsDisjunc
è
n
->
	`­³nd
(
Ãw
 
	`Li¡Obj
((*
p1
)[
i
]));

769 
n
->
	`­³nd
(
Ãw
 
	`Li¡Obj
(
p1
));

772 
j
 = 
jbeg
; j < 
j’d
; j++)

774 ià(
p2IsDisjunc
è
n
->
	`­³nd
(
Ãw
 
	`Li¡Obj
((*
p2
)[
j
]));

775 
n
->
	`­³nd
(
Ãw
 
	`Li¡Obj
(
p2
));

777  
n
;

778 
	}
}

781 
Li¡Obj
* 
	$m”geDisjunùs
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
ddisjunùs
,

782 cÚ¡ & 
numDisj
)

784 
	`as£¹
(
ddisjunùs
->
	`size
() >= 1);

785 ià(
numDisj
 =ğ1è 
Ãw
 
	`Li¡Obj
((*
ddisjunùs
)[ ddisjunùs->
	`size
()-1 ]);

787 
Li¡Obj
* 
y
 = 
	`m”geDisjunùs
(
ddisjunùs
, 
numDisj
-1);

788 
Li¡Obj
* 
x
 = 
Ãw
 
	`Li¡Obj
((*
ddisjunùs
)[ ddisjunùs->
	`size
()-
numDisj
 ]);

789 
numCÚj
 = 0;

790 
Li¡Obj
* 
»suÉ
 = 
NULL
;

791 
Li¡Obj
* 
fœ¡CÚj
 = 
NULL
;

792 
Li¡Obj
* 
yj
, * 
xi
;

794 
boŞ
 
yIsCÚj
 = 
	`¡rcmp
(
	`İ
(
y
)->
¡r_
, "^")==0;

795 
jbeg
 = (
yIsCÚj
) ? 1 : 0;

796 
jmax
 = (
yIsCÚj
è? 
y
->
	`size
() : 1;

798 
boŞ
 
xIsCÚj
 = 
	`¡rcmp
(
	`İ
(
x
)->
¡r_
, "^")==0;

799 
xbeg
 = (
xIsCÚj
) ? 1 : 0;

800 
xmax
 = (
xIsCÚj
è? 
x
->
	`size
() : 1;

802 
j
 = 
jbeg
; j < 
jmax
; j++)

804 ià(
yIsCÚj
è
yj
 = (*
y
)[
j
];

805 
yj
 = 
y
;

807 
i
 = 
xbeg
; i < 
xmax
; i++)

809 ià(
xIsCÚj
è
xi
 = (*
x
)[
i
];

810 
xi
 = 
x
;

812 
numCÚj
++;

813 ià(
numCÚj
 == 1)

815 
fœ¡CÚj
 = 
	`disjunùiÚAndAµ’d
(
xi
, 
yj
);

819 ià(
numCÚj
 == 2)

821 
»suÉ
 = 
Ãw
 
	`Li¡Obj
();

822 
»suÉ
->
	`­³nd
("^");

823 
»suÉ
->
	`­³nd
(
fœ¡CÚj
);

826 
»suÉ
->
	`­³nd
(
	`disjunùiÚAndAµ’d
(
xi
, 
yj
));

830 
d–‘e
 
y
; d–‘
x
;

831 ià(
numCÚj
 =ğ1è 
fœ¡CÚj
;

832  
»suÉ
;

833 
	}
}

836 
boŞ
 
	$isV¬ŸbË
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
x
)

838 ià(
	`¡¾’
(
x
->
¡r_
è=ğ0è 
çl£
;

839  ((
x
->
¡r_
)[0] == '$');

840 
	}
}

843 
Li¡Obj
* 
	$ÃwV¬ŸbË
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
v¬
)

845 
	`as£¹
(
v¬
->
	`isSŒ
());

846 
¡ršg
 
s
;

847 ià(!
	`isV¬ŸbË
(
v¬
)è
s
.
	`­³nd
("$");

848 
buf
[128];

849 
	`¥rštf
(
buf
, "%d", ++
ÃwV¬CouÁ”_
);

850 
s
.
	`­³nd
(
v¬
->
¡r_
).­³nd(".").­³nd(
buf
);

851  
Ãw
 
	`Li¡Obj
(
s
.
	`c_¡r
());

852 
	}
}

855 
Li¡Obj
* 
	$skŞemCÚ¡ªt
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
Çme
)

857 
	`as£¹
(
Çme
->
	`isSŒ
());

858 
buf
[1024];

859 
	`¥rštf
(
buf
, "$%s_%d", 
Çme
->
¡r_
, ++
ÃwV¬CouÁ”_
);

860  
Ãw
 
	`Li¡Obj
(
buf
);

861 
	}
}

864 
Li¡Obj
* 
	$cÚs
(
Li¡Obj
* cÚ¡ & 
p1
, cÚ¡ Li¡Obj* cÚ¡ & 
p2
)

866 
	`as£¹
(
p2
->
	`isLi¡
());

867 
Li¡Obj
* 
n
 = 
Ãw
 ListObj;

868 
n
->
	`­³nd
(
p1
);

869 
i
 = 0; i < 
p2
->
	`size
(); i++)

870 
n
->
	`­³nd
(
Ãw
 
	`Li¡Obj
((*
p2
)[
i
]));

871  
n
;

872 
	}
}

875 
Li¡Obj
* 
	$skŞemize
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
p
,

876 cÚ¡ 
Li¡Obj
* cÚ¡ & 
v¬s
,

877 cÚ¡ 
Li¡Obj
* cÚ¡ & 
outsideV¬s
)

879 
Li¡Obj
* 
pcİy
 = 
Ãw
 
	`Li¡Obj
(
p
);

881 
Li¡Obj
* 
skŞemSym
 = 
Ãw
 ListObj;

882 ià(
outsideV¬s
->
	`size
() == 0)

884 
i
 = 0; i < 
v¬s
->
	`size
(); i++)

885 
skŞemSym
->
	`­³nd
(
	`skŞemCÚ¡ªt
((*
v¬s
)[
i
]));

889 
i
 = 0; i < 
v¬s
->
	`size
(); i++)

890 
skŞemSym
->
	`­³nd
Ğ
	`cÚs
(
	`skŞemCÚ¡ªt
((*
v¬s
)[
i
]),
outsideV¬s
) );

892 
	`as£¹
(
skŞemSym
->
	`size
(è=ğ
v¬s
->size());

894 
i
 = 0; i < 
pcİy
->
	`size
(); i++)

895 
j
 = 0; j < 
skŞemSym
->
	`size
(); j++)

896 (*
pcİy
)[
i
]->
	`sub
((*
v¬s
)[
j
], (*
skŞemSym
)[j]);

898 
d–‘e
 
skŞemSym
;

900  
pcİy
;

901 
	}
}

904 
boŞ
 
	$cÚšsV¬Name
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
v¬s
,

905 cÚ¡ * cÚ¡ & 
v¬Name
)

907 
i
 = 0; i < 
v¬s
->
	`size
(); i++)

908 ià(
	`¡rcmp
((*
v¬s
)[
i
]->
	`g‘SŒ
(), 
v¬Name
)==0è 
Œue
;

909  
çl£
;

910 
	}
}

914 
	$»moveRedundªtP»diÿ‹s
(
Li¡Obj
* cÚ¡ & 
p
)

916 cÚ¡ * 
İp
 = 
	`İ
(
p
)->
¡r_
;

919 ià(
	`¡rcmp
(
İp
,"v")!=0) ;

921 
A¼ay
<
Li¡Obj
*> 
´eds
, 
»dundªtP»ds
;

922 
i
 = 1; i < 
p
->
	`size
(); i++)

924 
boŞ
 
unique
 = 
Œue
;

925 
j
 = 
i
+1; j < 
p
->
	`size
(); j++)

926 ià(
	`§me
((*
p
)[
i
],(*p)[
j
])è{ 
unique
 = 
çl£
; ; }

927 ià(
unique
è
´eds
.
	`­³nd
((*
p
)[
i
]);

928 
»dundªtP»ds
.
	`­³nd
((*
p
)[
i
]);

931 
Li¡Obj
* 
ÜO³r
 = (*
p
)[0];

932 
	`as£¹
(
	`¡rcmp
(
ÜO³r
->
¡r_
,"v")==0);

933 
i
 = 0; i < 
»dundªtP»ds
.
	`size
(); i++)

934 
d–‘e
 
»dundªtP»ds
[
i
];

935 
p
->
	`ş—r
();

937 ià(
´eds
.
	`size
() > 1)

939 
p
->
	`­³nd
(
ÜO³r
);

940 
i
 = 0; i < 
´eds
.
	`size
(); i++è
p
->
	`­³nd
(preds[i]);

942 ià(
´eds
.
	`size
() == 1)

944 
p
->
¡r_
 = 
´eds
[0]->str_;

945 
p
->
li¡_
 = 
´eds
[0]->list_;

947 
	}
}

950 
boŞ
 
	$sub£tOf
(cÚ¡ 
Li¡Obj
* cÚ¡ & 
p
, cÚ¡ Li¡Obj* cÚ¡ & 
q
)

952 ià(
p
->
	`size
(è> 
q
->size()è 
çl£
;

953 
i
 = 0; i < 
p
->
	`size
(); i++)

955 
boŞ
 
§meAsOÃEÉ
 = 
çl£
;

956 
j
 = 0; j < 
q
->
	`size
(); j++)

957 ià(
	`§me
((*
p
)[
i
],(*
q
)[
j
])è{ 
§meAsOÃEÉ
 = 
Œue
; ; }

958 ià(!
§meAsOÃEÉ
è 
çl£
;

960  
Œue
;

961 
	}
}

964 
	g´iv©e
:

970 
A¼ay
<
Li¡Obj
*> 
li¡_
;

972 * 
	g¡r_
;

974 
	gÃwV¬CouÁ”_
;

975 
Li¡Obj
* 
	gnuÎ_
;

979 
šlše


980 
	go¡»am
& 
	gİ”©Ü
<<(o¡»am& 
	gout
, cÚ¡ 
	gLi¡Obj
& 
	gp
è{ ….
´št
(
out
); }

	@parser/strfifolist.h

66 #iâdeà
STRFIFOLIST_H_JUN_26_2005


67 
	#STRFIFOLIST_H_JUN_26_2005


	)

69 
	~<li¡
>

70 
	~<o¡»am
>

71 
usšg
 
Çme¥aû
 
	g¡d
;

75 şas 
	cSŒFifoLi¡


77 
	mpublic
:

78 
	$SŒFifoLi¡
(è{ 
fifoLi¡_
 = 
Ãw
 
li¡
<const *>; }

80 ~
	$SŒFifoLi¡
()

82 
li¡
<cÚ¡ *>::
™”©Ü
 
™
 = 
fifoLi¡_
->
	`begš
();

83 ; 
™
 !ğ
fifoLi¡_
->
	`’d
(); it++è
d–‘e
 [] (*it);

84 
d–‘e
 
fifoLi¡_
;

85 
	}
}

88 
	$d–‘eCÚ‹ÁsAndCË¬
()

90 
li¡
<cÚ¡ *>::
™”©Ü
 
™
 = 
fifoLi¡_
->
	`begš
();

91 ; 
™
 !ğ
fifoLi¡_
->
	`’d
(); it++è
d–‘e
 [] (*it);

92 
fifoLi¡_
->
	`ş—r
();

93 
	}
}

97 
	$add
(cÚ¡ * cÚ¡ & 
¡r
)

101 * 
s
 = 
Ãw
 [
	`¡¾’
(
¡r
)+1];

102 
	`¡rıy
(
s
,
¡r
);

103 
fifoLi¡_
->
	`push_äÚt
(
s
);

104 
	}
}

107 
	$addLa¡
(cÚ¡ * cÚ¡ & 
¡r
)

111 * 
s
 = 
Ãw
 [
	`¡¾’
(
¡r
)+1];

112 
	`¡rıy
(
s
,
¡r
);

113 
fifoLi¡_
->
	`push_back
(
s
);

114 
	}
}

118 cÚ¡ * 
	$g‘I‹m
(cÚ¡ & 
idx
)

120 ià(()
idx
 > 
fifoLi¡_
->
	`size
()-1è 
NULL
;

121 
li¡
<cÚ¡ *>::
™”©Ü
 
™
 = 
fifoLi¡_
->
	`begš
();

122 
i
 = 0;

123 ; 
™
 !ğ
fifoLi¡_
->
	`’d
(); it++)

124 ià(
i
++ =ğ
idx
è (*
™
);

125  
NULL
;

126 
	}
}

129 
	$g‘Size
(ècÚ¡ {  
fifoLi¡_
->
	`size
(); 
	}
}

132 cÚ¡ * 
	$back
(ècÚ¡ {  
fifoLi¡_
->
	`back
(); 
	}
}

135 cÚ¡ * 
	$»moveLa¡
()

137 cÚ¡ * 
Ï¡
 = 
fifoLi¡_
->
	`back
();

138 
fifoLi¡_
->
	`pİ_back
();

139  
Ï¡
;

140 
	}
}

143 
	go¡»am
& 
	$´št
(
o¡»am
& 
out
) const

145 
li¡
<cÚ¡ *>::
™”©Ü
 
™
 = 
fifoLi¡_
->
	`begš
();

146 ; 
™
 !ğ
fifoLi¡_
->
	`’d
(); it++)

147 
out
 << (*
™
) << " ";

148  
out
;

149 
	}
}

151 
	g´iv©e
:

152 
li¡
<cÚ¡ *>* 
fifoLi¡_
;

157 
šlše


158 
	go¡»am
& 
	gİ”©Ü
<<(o¡»am& 
	gout
, cÚ¡ 
	gSŒFifoLi¡
& 
	gl
è{ †.
´št
(
out
); }

	@rrf/feature.h

1 #iâdeà
FEATURE_H_NOV_08


2 
	#FEATURE_H_NOV_08


	)

4 
	#KVAL
 100

	)

5 
	#NORM
 0

	)

6 
	#REC_HACK
 0

	)

8 
	#NO_NORMALIZE
 1

	)

9 
	#SIGMOID
 0

	)

10 
	#SMOOTH_MAX
 0

	)

11 
	#SMOOTH_MAX2
 0

	)

13 
	~<¡dlib.h
>

14 
šlše
 
	$äªd
() {

15  
	`¿nd
()/()
RAND_MAX
;

16 
	}
}

18 
	~"´ediÿ‹.h
"

19 
	~"´ediÿ‹‹m¶©e.h
"

20 
	~"d©aba£.h
"

21 
	~<m©h.h
>

22 
	~"·»Á™”2.h
"

23 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

26 
şass
 
	gRRF
;

27 
şass
 
	gGroundRRF
;

28 
şass
 
	gGroundF—tu»
;

29 
şass
 
	gP»diÿ‹GroundF—tu»
;

30 
şass
 
	gCÏu§lGroundF—tu»
;

31 
şass
 
	gCÚ¡ªtGroundF—tu»
;

32 
şass
 
	gRecursiveGroundF—tu»
;

34 
šlše
 
	$sigmoid
(
x
)

36 ià(
x
 < -100.0) {

38 } ià(
x
 > 100.0) {

41  1.0/(1.0 + 
	`exp
(-
x
));

43 
	}
}

50 şas 
	cF—tu»


52 
	mpublic
:

53 
	$F—tu»
(cÚ¡ * 
Çme
 = 
NULL
è: 
	$Çme_
(
NULL
)

55 ià(
Çme
 !ğ
NULL
) {

56 
	`£tName
(
Çme
);

60 
vœtu®
 ~
	$F—tu»
() {

61 
d–‘e
 [] 
Çme_
;

62 
	}
}

64 cÚ¡ * 
	$g‘Name
() const {

65  
Çme_
;

66 
	}
}

68 
	$£tName
(cÚ¡ * 
Çme
) {

69 
d–‘e
 [] 
Çme_
;

70 
Çme_
 = 
Ãw
 [
	`¡¾’
(
Çme
)+1];

71 
	`¡rıy
(
Çme_
, 
Çme
);

72 
	}
}

74 
	$£tId
(
id
è{ 
id_
 = id; 
	}
}

75 
	$g‘Id
(è{  
id_
; 
	}
}

80 
vœtu®
 
g‘V®ue
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
) {

82  
g‘CachedV®ue
(
groundšg
, 
db
);

84  
compu‹V®ue
(
groundšg
, 
db
);

88 
vœtu®
 
g‘LogV®ue
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
) {

90  
g‘CachedLogV®ue
(
groundšg
, 
db
);

92  
compu‹LogV®ue
(
groundšg
, 
db
);

96 
g‘CachedV®ue
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
) {

97 
	gšdex
 = 
g‘GroundšgIndex
(
groundšg
, 
db
);

100 
	gÿcheV®id_
.
size
(è<ğ
šdex
) {

101 
ÿcheV®id_
.
­³nd
(
çl£
);

102 
	gÿcheV®ue_
.
­³nd
(1.0);

105 ià(!
	gÿcheV®id_
[
šdex
]) {

106 
	gÿcheV®ue_
[
šdex
] = 
compu‹V®ue
(
groundšg
, 
db
);

107 
	gÿcheV®id_
[
šdex
] = 
Œue
;

110  
	gÿcheV®ue_
[
šdex
];

114 
g‘CachedLogV®ue
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
) {

115 
	gšdex
 = 
g‘GroundšgIndex
(
groundšg
, 
db
);

118 
	gÿcheLogV®id_
.
size
(è<ğ
šdex
) {

119 
ÿcheLogV®id_
.
­³nd
(
çl£
);

120 
	gÿcheLogV®ue_
.
­³nd
(1.0);

123 ià(!
	gÿcheLogV®id_
[
šdex
]) {

124 
	gÿcheLogV®ue_
[
šdex
] = 
compu‹LogV®ue
(
groundšg
, 
db
);

125 
	gÿcheLogV®id_
[
šdex
] = 
Œue
;

128  
	gÿcheLogV®ue_
[
šdex
];

133 
	$g‘CouÁ
(
w
) {

134 ià(
w
 < 
couÁs_
.
	`size
()) {

135  
couÁs_
[
w
];

139 
	}
}

141 
	$£tCouÁ
(
w
, 
v®
) {

142 
w
 >ğ
couÁs_
.
	`size
()) {

143 
couÁs_
.
	`­³nd
(0.0);

145 
couÁs_
[
w
] = 
v®
;

146 
	}
}

149 
	$šv®id©eAÎ
() {

150 
i
 = 0; i < 
ÿcheV®id_
.
	`size
(); i++) {

151 
ÿcheV®id_
[
i
] = 
çl£
;

153 
i
 = 0; i < 
ÿcheLogV®id_
.
	`size
(); i++) {

154 
ÿcheLogV®id_
[
i
] = 
çl£
;

156 
	}
}

158 
vœtu®
 
šv®id©e
(cÚ¡ 
A¼ay
<>& 
fgroundšg
, 
D©aba£
* 
db
) {

162 
	gšdex
 = 
g‘GroundšgIndex
(
fgroundšg
, 
db
);

164 
boŞ
 
	gwasV®id
 = (
ÿcheV®id_
.
size
(è> 
šdex
 && cacheValid_[index])

165 || (
ÿcheLogV®id_
.
size
(è> 
šdex
 && cacheLogValid_[index]);

167 ià(
	gÿcheV®id_
.
size
(è> 
	gšdex
) {

168 
	gÿcheV®id_
[
šdex
] = 
çl£
;

170 ià(
	gÿcheLogV®id_
.
size
(è> 
	gšdex
) {

171 
	gÿcheLogV®id_
[
šdex
] = 
çl£
;

174 ià(
	gwasV®id
) {

175 
	gi
 = 0; i < 
	g·»Ás_
.
size
(); i++) {

176 
	g·»Ás_
[
i
]->
šv®id©eChd
(
id_
, 
fgroundšg
, 
db
);

181 
vœtu®
 
šv®id©eChd
(
ã©u»
, cÚ¡ 
A¼ay
<>& 
groundšg
,

182 
D©aba£
* 
db
) {

185 
as£¹
(
çl£
);

189 
vœtu®
 
compu‹V®ue
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
) = 0;

190 
vœtu®
 
compu‹LogV®ue
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
) = 0;

197 
vœtu®
 
g‘P¬tŸlD”iv
(
ã©u»Index
, 
weightIndex
,

198 cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
) {

200  
compu‹P¬tŸlD”iv
(
ã©u»Index
, 
weightIndex
, 
groundšg
, 
db
);

204 
	$g‘NumT”ms
(ècÚ¡ {  
‹rmTy³s_
.
	`size
(); 
	}
}

205 
	$addT”mTy³
(
ty³
è{ 
‹rmTy³s_
.
	`­³nd
Ñy³); 
	}
}

206 
	$£tT”mTy³
(
idx
, 
ty³
è{ 
‹rmTy³s_
[idx] =y³; 
	}
}

207 
	$g‘T”mTy³
(
idx
ècÚ¡ {  
‹rmTy³s_
[idx]; 
	}
}

208 
	gA¼ay
<> 
	$g‘T”mTy³s
(ècÚ¡ {  
‹rmTy³s_
; 
	}
}

211 
vœtu®
 
	$g‘NumWeights
(ècÚ¡ {  0; 
	}
}

212 
vœtu®
 
	$g‘Weight
(
idx
è{ 
	`as£¹
(
çl£
);  0.0; 
	}
}

213 
vœtu®
 
	$£tWeight
(
idx
, 
weight
è{ 
	`as£¹
(
çl£
); 
	}
}

221 
g‘GroundšgIndex
(cÚ¡ 
A¼ay
<>& 
groundšg
, cÚ¡ 
D©aba£
* 
db
)

224 cÚ¡ 
Domaš
* 
	gdomaš
 = 
db
->
g‘Domaš
();

226 
	gšdex
 = 0;

227 
	gi
 = 0; i < 
g‘NumT”ms
(); i++) {

228 
	gšdex
 *ğ
domaš
->
g‘NumCÚ¡ªtsByTy³
(
g‘T”mTy³
(
i
));

229 
	gšdex
 +ğ
groundšg
[
i
];

232  
	gšdex
;

236 
vœtu®
 
GroundF—tu»
* 
cÚ¡ruùGroundF—tu»
(
GroundRRF
* 
¼f
,

237 cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

238 {  
	gNULL
; }

240 
vœtu®
 
	$´št
(
o¡»am
& 
out
) const

243 ià(
Çme_
 =ğ
NULL
) {

244 
out
 << "f" << 
id_
 << "(";

246 
out
 << 
Çme_
 << "(";

250 
i
 = 0; i < 
	`g‘NumT”ms
(); i++) {

251 ià(
i
 > 0) {

252 
out
 << ",";

254 
out
 << ()('a' + 
i
);

255 
out
 << ':' << 
	`g‘T”mTy³
(
i
);

257 
out
 << ")";

258 
	}
}

260 
	$addP¬’t
(
F—tu»
* 
·»Á
) {

261 
·»Ás_
.
	`­³nd
(
·»Á
);

262 
	}
}

265 
	g´Ùeùed
:

266 
vœtu®
 
compu‹P¬tŸlD”iv
(
ã©u»Index
, 
weightIndex
,

267 cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

271 
	g´Ùeùed
:

273 
A¼ay
<> 
‹rmTy³s_
;

276 
	gid_
;

279 * 
	gÇme_
;

281 
	gA¼ay
<
	gF—tu»
*> 
	g·»Ás_
;

282 
	gA¼ay
<
	gboŞ
> 
	gÿcheV®id_
;

283 
	gA¼ay
<> 
	gÿcheV®ue_
;

284 
	gA¼ay
<
	gboŞ
> 
	gÿcheLogV®id_
;

285 
	gA¼ay
<> 
	gÿcheLogV®ue_
;

289 
	gA¼ay
<> 
	gcouÁs_
;

297 şas 
	cP»diÿ‹F—tu»
 : 
public
 
F—tu»


299 
public
:

300 
	$P»diÿ‹F—tu»
(cÚ¡ 
P»diÿ‹Tem¶©e
* 
´edTem¶©e
)

301 : 
	$´ed_
(
´edTem¶©e
)

304 
i
 = 0; i < 
´edTem¶©e
->
	`g‘NumT”ms
(); i++) {

305 
´ed_
.
	`­³ndT”m
(
Ãw
 
	`T”m
(-1));

306 
	`addT”mTy³
(
´edTem¶©e
->
	`g‘T”mTy³AsIÁ
(
i
));

309 
	`£tName
(
´ed_
.
	`g‘Name
());

312 
vœtu®
 
	`compu‹V®ue
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

314 
	`as£¹
(
groundšg
.
	`size
(è=ğ
´ed_
.
	`g‘NumT”ms
());

318 
i
 = 0; i < 
groundšg
.
	`size
(); i++) {

319 
´ed_
.
	`£tT”mToCÚ¡ªt
(
i
, 
groundšg
[i]);

322  
db
->
	`g‘V®ue
(&
´ed_
);

323 
	}
}

325 
vœtu®
 
compu‹LogV®ue
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

328 
as£¹
(
çl£
);

332 
vœtu®
 
g‘P¬tŸlD”iv
(
fi
, 
wi
,

333 cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

336 
vœtu®
 
	$´št
(
o¡»am
& 
out
) const {

338 
F—tu»
::
	`´št
(
out
);

339 
out
 << " = " << 
´ed_
.
	`g‘Name
() << "(";

341 
i
 = 0; i < 
	`g‘NumT”ms
(); i++) {

342 ià(
i
 > 0) {

343 
out
 << ",";

345 
out
 << ()('a' + 
i
);

347 
out
 << ")";

349 
	}
}

353 
P»diÿ‹
* 
	$g‘P»diÿ‹
(ècÚ¡ {  &
´ed_
; 
	}
}

355 
šlše
 
vœtu®
 
GroundF—tu»
* 
cÚ¡ruùGroundF—tu»
(
GroundRRF
* 
¼f
,

356 cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
);

358 
	g´iv©e
:

360 
mubË
 
P»diÿ‹
 
´ed_
;

367 şas 
	cCÚ¡ªtF—tu»
 : 
public
 
F—tu»


369 
public
:

370 
	$CÚ¡ªtF—tu»
(
v®ue
=1)

371 : 
	$v®ue_
(
v®ue
)

372 { 
	`£tName
(""); }

375 
vœtu®
 
	`g‘V®ue
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

376 {  
v®ue_
; 
	}
}

378 
vœtu®
 
compu‹V®ue
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

379 {  
	gv®ue_
; }

381 
vœtu®
 
compu‹LogV®ue
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

382 {  
log
(
v®ue_
); }

385 
vœtu®
 
g‘P¬tŸlD”iv
(
fi
, 
wi
,

386 cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

389 
vœtu®
 
šlše
 
GroundF—tu»
* 
cÚ¡ruùGroundF—tu»
(
GroundRRF
* 
¼f
,

390 cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
);

392 
vœtu®
 
	$´št
(
o¡»am
& 
out
) const {

398 
	}
}

400 
	g´iv©e
:

401 
v®ue_
;

408 şas 
	cRecursiveF—tu»
 : 
public
 
F—tu»


410 
public
:

411 
	$RecursiveF—tu»
(cÚ¡ * 
Çme
, 
boŞ
 
logD”ivs
 = 
çl£
,

412 
boŞ
 
nÜm®ize
 = 
Œue
)

413 : 
	`doD”ivsOfLog_
(
logD”ivs
),

414 #ià
NO_NORMALIZE


415 
	`nÜm®ize_
(
çl£
),

417 
	`nÜm®ize_
(
nÜm®ize
),

419 
	`ÿchedZšv®id_
(
Œue
), 
	$ÿchedV®uesInv®id_
(
Œue
)

421 
	`£tName
(
Çme
);

427 
vœtu®
 
	$g‘NumWeights
(ècÚ¡ {  
	`g‘NumChd»n
(); 
	}
}

428 
vœtu®
 
	$g‘Weight
(
idx
) {

429 
	`as£¹
(
idx
 >ğ0 && idx < 
	`g‘NumWeights
());

430  
weights_
[
idx
];

431 
	}
}

433 
vœtu®
 
	$£tWeight
(
idx
, 
weight
) {

434 
	`as£¹
(
idx
 >ğ0 && idx < 
	`g‘NumWeights
());

435 
ÿchedZšv®id_
 = 
Œue
;

436 
ÿchedV®uesInv®id_
 = 
Œue
;

437 
weights_
[
idx
] = 
weight
;

438 
	}
}

440 
addChd
(
F—tu»
* 
ã©u»
, 
weight
, cÚ¡ 
A¼ay
<>& 
m­
) {

441 
	gchd»n_
.
­³nd
(
ã©u»
);

442 
	gweights_
.
­³nd
(
weight
);

443 
	g‹rmM­_
.
­³nd
(
m­
);

444 
	gã©u»
->
addP¬’t
(
this
);

447 
F—tu»
* 
	$g‘Chd
(
i
) {

448  
chd»n_
[
i
];

449 
	}
}

451 
	$g‘NumChd»n
(ècÚ¡ {  
chd»n_
.
	`size
(); 
	}
}

454 
vœtu®
 
šv®id©eChd
(
ã©u»
, cÚ¡ 
A¼ay
<>& 
fgroundšg
,

455 
D©aba£
* 
db
) {

458 ià(
g‘NumT”ms
() == 0) {

459 
A¼ay
<> 
nuÎGroundšg
;

460 
šv®id©e
(
nuÎGroundšg
, 
db
);

464 cÚ¡ 
Domaš
* 
	gdomaš
 = 
db
->
g‘Domaš
();

468 
	gA¼ay
<A¼ay<> > 
	guniqV®s
;

469 
	gi
 = 0; i < 
	gfgroundšg
.
size
(); i++) {

470 
	gty³
 = 
g‘T”mTy³
(
i
);

471 
	guniqV®s
.
size
(è<ğ
ty³
) {

472 
uniqV®s
.
­³nd
(
A¼ay
<>());

474 ià(!
	guniqV®s
[
ty³
].
cÚšs
(
fgroundšg
[
i
])) {

475 
	guniqV®s
[
ty³
].
­³nd
(
fgroundšg
[
i
]);

480 
P¬’tI‹r2
 
™”
(
uniqV®s
, 
domaš
->
g‘CÚ¡ªtsByTy³
(),

481 
g‘T”mTy³s
());

483 
	gA¼ay
<> 
	ggroundšg
;

486 
	g™”
.
hasNextGroundšg
()) {

487 
	g™”
.
g‘NextGroundšg
(
groundšg
);

488 
šv®id©e
(
groundšg
, 
db
);

493 
vœtu®
 
compu‹P¬tŸlD”iv
(
fi
, 
wi
,

494 cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

497 
	gtÙ®P¬tŸl
 = 0.0;

499 ià(
	gnumGroundšgs_
.
size
() == 0) {

500 
ÿcheNumGroundšgs
(
db
);

504 ià(
	gfi
 =ğ
id_
) {

508 
tÙ®P¬tŸl
 = 
chdGroundSum
(
wi
, 
groundšg
, 
db
);

510 ià(
	gnÜm®ize_
) {

511 
	gtÙ®P¬tŸl
 -ğ
g‘NÜm
(
wi
);

519 
	gi
 = 0; i < 
g‘NumChd»n
(); i++)

522 
	gA¼aysAcûssÜ
<>* 
	ggroundšgI‹r
 =

523 
g‘ChdGroundšgI‹r
(
i
, 
groundšg
, 
db
);

525 
	gA¼ay
<> 
	gchdGroundšg
;

526 
	gj
 = 0;

528 
	ggroundšgI‹r
->
g‘NextCombš©iÚ
(
chdGroundšg
);

529 
	gchdV®ue
 = 
chd»n_
[
i
]->
g‘P¬tŸlD”iv
(
fi
, 
wi
,

530 
chdGroundšg
, 
db
);

533 
	gcout
 << "RRF Chd " << 
	gi
 << "," << 
	gj
 << "," << 
	gfi


534 << "," << 
	gwi
 << ": " << 
	gchdV®ue
 << 
	g’dl
;

536 
	gtÙ®P¬tŸl
 +ğ
weights_
[
i
] * 
chdV®ue
;

537 
	gj
++;

538 } 
	ggroundšgI‹r
->
hasNextCombš©iÚ
());

540 #ià
NORM


542 
	gtÙ®P¬tŸl
 /ğ
j
;

545 
»Ëa£ChdGroundšgI‹r
(
i
, 
groundšgI‹r
);

551 ià(
	gdoD”ivsOfLog_
) {

552  
	gtÙ®P¬tŸl
;

554 #ià
SIGMOID


555 
	gv®
 = 
g‘V®ue
(
groundšg
, 
db
);

556  
	gv®
 * (1.0 - v®è* 
	gtÙ®P¬tŸl
;

558  
g‘V®ue
(
groundšg
, 
db
è* 
	gtÙ®P¬tŸl
;

563 
vœtu®
 
compu‹V®ue
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

565 #ià
SIGMOID


566 
	gtÙ®V®ue
 = 0.0;

568 ià(
	gnumGroundšgs_
.
size
() == 0) {

569 
ÿcheNumGroundšgs
(
db
);

572 
	gi
 = 0; i < 
g‘NumChd»n
(); i++) {

573 
	gtÙ®V®ue
 +ğ
weights_
[
i
] * 
chdGroundSum
(i, 
groundšg
, 
db
);

576  
sigmoid
(
tÙ®V®ue
);

578  
exp
(
compu‹LogV®ue
(
groundšg
, 
db
));

582 
vœtu®
 
compu‹LogV®ue
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

584 
	gtÙ®V®ue
 = 0.0;

586 ià(
	gnumGroundšgs_
.
size
() == 0) {

587 
ÿcheNumGroundšgs
(
db
);

590 
	gi
 = 0; i < 
g‘NumChd»n
(); i++) {

591 
	gtÙ®V®ue
 +ğ
weights_
[
i
] * 
chdGroundSum
(i, 
groundšg
, 
db
);

594  
	gtÙ®V®ue
 - 
g‘LogZ
();

597 
vœtu®
 
šlše
 
GroundF—tu»
* 
cÚ¡ruùGroundF—tu»
(
GroundRRF
* 
¼f
,

598 cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
);

600 
vœtu®
 
	$´št
(
o¡»am
& 
out
) const {

602 
F—tu»
::
	`´št
(
out
);

603 
out
 << " =ƒxp(";

607 
cu¼F»eV¬
 = 'a' + 
	`g‘NumT”ms
();

610 
i
 = 0; i < 
	`g‘NumChd»n
(); i++) {

611 ià(
i
 > 0) {

612 
out
 << " + ";

615 
	`as£¹
(
chd»n_
[
i
]->
	`g‘Name
(è!ğ
NULL
);

616 
out
 << 
weights_
[
i
] << " " << 
chd»n_
[i]->
	`g‘Name
();

618 ià(
	`¡¾’
(
chd»n_
[
i
]->
	`g‘Name
()) > 0) {

620 
out
 << "(";

621 
j
 = 0; j < 
‹rmM­_
[
i
].
	`size
(); j++) {

622 ià(
j
 > 0) {

623 
out
 << ",";

625 ià(
‹rmM­_
[
i
][
j
] < 0) {

626 
out
 << 
cu¼F»eV¬
;

629 
out
 << ()('a' + 
‹rmM­_
[
i
][
j
]);

632 
out
 << ")";

635 
out
 << ")\n";

636 
	}
}

642 
chdGroundSum
(
chdIndex
, cÚ¡ 
A¼ay
<>& 
·»ÁGroundšg
,

643 
D©aba£
* 
db
)

645 
	gtÙ®V®ue
 = 0.0;

646 
	gA¼aysAcûssÜ
<>* 
	ggroundšgI‹r
 =

647 
g‘ChdGroundšgI‹r
(
chdIndex
, 
·»ÁGroundšg
, 
db
);

649 #ià
NORM


651 
	gnumGroundšgs
 = 0;

653 
	gA¼ay
<> 
	gchdGroundšg
;

655 
	ggroundšgI‹r
->
g‘NextCombš©iÚ
(
chdGroundšg
);

656 
	gtÙ®V®ue
 +ğ
chd»n_
[
chdIndex
]->
g‘V®ue
(
chdGroundšg
, 
db
);

657 #ià
NORM


658 
	gnumGroundšgs
++;

660 } 
	ggroundšgI‹r
->
hasNextCombš©iÚ
());

662 
»Ëa£ChdGroundšgI‹r
(
chdIndex
, 
groundšgI‹r
);

663 #ià
NORM


664  
	gtÙ®V®ue
/
	gnumGroundšgs
;

666  
	gtÙ®V®ue
;

674 
	gA¼aysAcûssÜ
<>* 
g‘ChdGroundšgI‹r
(
chdId
,

675 cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

677 cÚ¡ 
Domaš
* 
	gdomaš
 = 
db
->
g‘Domaš
();

678 
	gA¼aysAcûssÜ
<>* 
	ggroundšgI‹r
 = 
Ãw
 
A¼aysAcûssÜ
<>;

683 
	g‹rm
 = 0;”m < 
	gchd»n_
[
chdId
]->
g‘NumT”ms
();

684 
	g‹rm
++) {

687 ià(
	g‹rmM­_
[
chdId
][
‹rm
] < 0) {

689 
	gty³
 = 
chd»n_
[
chdId
]->
g‘T”mTy³
(
‹rm
);

690 
	ggroundšgI‹r
->
­³ndA¼ay
(
domaš
->
g‘CÚ¡ªtsByTy³
(
ty³
));

693 
	gA¼ay
<>* 
	gsšgËtÚ
 = 
Ãw
 
A¼ay
<>;

694 
	gsšgËtÚ
->
­³nd
(
groundšg
[
‹rmM­_
[
chdId
][
‹rm
]]);

695 
	ggroundšgI‹r
->
­³ndA¼ay
(
sšgËtÚ
);

699  
	ggroundšgI‹r
;

703 
»Ëa£ChdGroundšgI‹r
(
chdId
,

704 
A¼aysAcûssÜ
<>* 
groundšgI‹r
)

707 
	gj
 = 0; j < 
	gchd»n_
[
chdId
]->
g‘NumT”ms
(); j++) {

708 ià(
	g‹rmM­_
[
chdId
][
j
] >= 0) {

709 
d–‘e
 
groundšgI‹r
->
g‘A¼ay
(
j
);

713 
d–‘e
 
	ggroundšgI‹r
;

716 
	$g‘LogZ
() const {

717 #ià
SIGMOID


721 ià(!
nÜm®ize_
) {

726 
	`as£¹
(
numGroundšgs_
.
	`size
() > 0);

728 ià(
ÿchedZšv®id_
) {

729 
ÿchedLogZ_
 = 0.0;

730 
i
 = 0; i < 
	`g‘NumChd»n
(); i++) {

731 #ià
SMOOTH_MAX


734 
sigma_w
 = 
	`sigmoid
(
weights_
[
i
]);

736 
ÿchedLogZ_
 +ğ
weights_
[
i
] * 
sigma_w
 * 
numGroundšgs_
[i];

737 #–ià
SMOOTH_MAX2


738 ià(
weights_
[
i
] < -10.0) {

739 
ÿchedLogZ_
 += 0.0;

740 } ià(
weights_
[
i
] > 10.0) {

741 
ÿchedLogZ_
 +ğ
weights_
[
i
] * 
numGroundšgs_
[i];

743 
ÿchedLogZ_
 +ğ
numGroundšgs_
[
i
]

744 * 
	`log
(1.0 + 
	`exp
(
KVAL
 * 
weights_
[
i
])) / KVAL;

747 ià(
weights_
[
i
] > 0.0) {

748 
ÿchedLogZ_
 +ğ
weights_
[
i
] * 
numGroundšgs_
[i];

753 
ÿchedZšv®id_
 = 
çl£
;

755  
ÿchedLogZ_
;

757 
	}
}

759 
vœtu®
 
	$g‘Z
() const {

760  
	`exp
(
	`g‘LogZ
());

761 
	}
}

763 
vœtu®
 
	$g‘NÜm
(
idx
) {

764 #ià
SIGMOID


768 ià(!
nÜm®ize_
) {

773 
	`as£¹
(
numGroundšgs_
.
	`size
() > 0);

775 ià(
ÿchedV®uesInv®id_
) {

776 
ÿchedNÜm®iz”s_
.
	`growToSize
(
	`g‘NumWeights
());

777 
i
 = 0; i < 
	`g‘NumWeights
(); i++) {

779 #ià
SMOOTH_MAX


782 
w_i
 = 
	`g‘Weight
(
i
);

783 
sigma_w
 = 
	`sigmoid
(
w_i
);

786 
nÜm
 = 
sigma_w
 * (1.0 + 
w_i
 * (1.0 - sigma_w))

787 * 
numGroundšgs_
[
i
];

788 
ÿchedNÜm®iz”s_
[
i
] = 
nÜm
;

789 #–ià
SMOOTH_MAX2


790 
ÿchedNÜm®iz”s_
[
i
] = 
	`sigmoid
(
	`g‘Weight
(i))

791 * 
numGroundšgs_
[
i
];

793 ià(
	`g‘Weight
(
i
) < 0.0) {

794 
ÿchedNÜm®iz”s_
[
i
] = 0.0;

796 
ÿchedNÜm®iz”s_
[
i
] = 1.0 * 
numGroundšgs_
[i];

800 
ÿchedV®uesInv®id_
 = 
çl£
;

802  
ÿchedNÜm®iz”s_
[
idx
];

804 
	}
}

806 
	$ÿcheNumGroundšgs
(
D©aba£
* 
db
)

808 cÚ¡ 
Domaš
* 
domaš
 = 
db
->
	`g‘Domaš
();

810 
numGroundšgs_
.
	`ş—r
();

811 
i
 = 0; i < 
	`g‘NumChd»n
(); i++) {

812 
numGroundšgs
 = 1;

813 
‹rm
 = 0;”m < 
chd»n_
[
i
]->
	`g‘NumT”ms
();erm++) {

814 ià(
‹rmM­_
[
i
][
‹rm
] < 0) {

815 
ty³
 = 
chd»n_
[
i
]->
	`g‘T”mTy³
(
‹rm
);

816 
numGroundšgs
 *ğ
domaš
->
	`g‘NumCÚ¡ªtsByTy³
(
ty³
);

819 
numGroundšgs_
.
	`­³nd
(
numGroundšgs
);

821 
	}
}

824 
	g´Ùeùed
:

825 
A¼ay
<
F—tu»
*> 
chd»n_
;

826 
	gA¼ay
<> 
	gweights_
;

827 
	gA¼ay
<
	gA¼aysAcûssÜ
<>* > 
	ggroundšgI‹rs_
;

837 
	gA¼ay
<A¼ay<> > 
	g‹rmM­_
;

842 
	gA¼ay
<> 
	gnumGroundšgs_
;

847 
boŞ
 
	gdoD”ivsOfLog_
;

849 
boŞ
 
	gnÜm®ize_
;

851 
mubË
 
boŞ
 
	gÿchedZšv®id_
;

852 
mubË
 
	gÿchedLogZ_
;

853 
mubË
 
boŞ
 
	gÿchedV®uesInv®id_
;

854 
mubË
 
	gA¼ay
<> 
	gÿchedNÜm®iz”s_
;

865 şas 
	cCÏu§lF—tu»
 : 
public
 
RecursiveF—tu»


867 
public
:

869 
	$CÏu§lF—tu»
(cÚ¡ * 
Çme
 = 
NULL
)

870 : 
	`RecursiveF—tu»
(
Çme
), 
	`ÿchedZšv®id_
(
Œue
),

871 
	$ÿchedV®uesInv®id_
(
Œue
)

874 
vœtu®
 
	`compu‹P¬tŸlD”iv
(
fi
, 
wi
,

875 cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

877 ià(
fi
 !ğ
id_
) {

885 
tÙ®V®ue
 =

886 
	`g‘ChdV®ue
(
wi
, 
groundšg
, 
db
è- 
	`g‘NÜm
(wi);

889 #ià
SIGMOID


890 
v®
 = 
	`g‘V®ue
(
groundšg
, 
db
);

891  
v®
 * (1.0 - v®è* 
tÙ®V®ue
;

893  
	`g‘V®ue
(
groundšg
, 
db
è* 
tÙ®V®ue
;

895 
	}
}

897 
vœtu®
 
compu‹LogV®ue
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

899  
compu‹LogV®ueRaw
(
groundšg
, 
db
è- 
g‘LogZ
();

902 
vœtu®
 
compu‹V®ue
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

904 #ià
SIGMOID


905 
	gtÙ®
 = 0.0;

906 
	gchdId
 = 0; chdId < 
g‘NumChd»n
(); childId++) {

907 
	gtÙ®
 +ğ
weights_
[
chdId
]

908 * 
g‘ChdV®ue
(
chdId
, 
groundšg
, 
db
);

911  
sigmoid
(
tÙ®
);

913 
	glogV®ue
 = 
compu‹LogV®ue
(
groundšg
, 
db
);

915 ià(
	glogV®ue
 < -100.0) {

918  
exp
(
logV®ue
);

923 
vœtu®
 
	$£tWeight
(
idx
, 
weight
) {

924 
RecursiveF—tu»
::
	`£tWeight
(
idx
, 
weight
);

925 
ÿchedZšv®id_
 = 
Œue
;

926 
ÿchedV®uesInv®id_
 = 
Œue
;

927 
	}
}

929 
vœtu®
 
	$g‘NÜm
(
idx
) {

930 #ià
SIGMOID
 || 
NO_NORMALIZE


933 ià(
ÿchedV®uesInv®id_
) {

934 
ÿchedNÜm®iz”s_
.
	`growToSize
(
	`g‘NumWeights
());

935 
i
 = 0; i < 
	`g‘NumWeights
(); i++) {

938 
nÜm
 = 1.0/(1.0 + 
	`exp
(-
	`g‘Weight
(
i
)));

939 #–ià
SMOOTH_MAX


942 
w_i
 = 
	`g‘Weight
(
i
);

943 
nÜm
;

944 
sigma_w
 = 
	`sigmoid
(
w_i
);

947 
nÜm
 = 
sigma_w
 * (1.0 + 
w_i
 * (1.0 - sigma_w));

948 #–ià
SMOOTH_MAX2


951 
w_i
 = 
	`g‘Weight
(
i
);

952 
nÜm
;

953 
sigma_w
 = 
	`sigmoid
(
w_i
);

955 
nÜm
 = 
sigma_w
;

958 
nÜm
;

959 ià(
	`g‘Weight
(
i
) < 0.0) {

960 
nÜm
 = 0.0;

963 
nÜm
 = 1.0;

966 
ÿchedNÜm®iz”s_
[
i
] = 
nÜm
;

968 
ÿchedV®uesInv®id_
 = 
çl£
;

970  
ÿchedNÜm®iz”s_
[
idx
];

972 
	}
}

974 
£tWeightsFromExam¶e
(cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
,

975 cÚ¡ 
A¼ay
<>& 
qu”yP»ds
, 
numWeights
)

977 ià(
	gnumWeights
 < 0) {

978 
	gnumWeights
 = 
g‘NumChd»n
();

982 
boŞ
 
	gnÚZ”oQu”yP»diÿ‹
 = 
çl£
;

983 !
	gnÚZ”oQu”yP»diÿ‹
) {

985 
	gnumNÚZ”o
 = 0;

986 
	gi
 = 0; i < 
g‘NumChd»n
(); i++) {

988 ià(
äªd
(è< (()
	gnumWeights
 - 
	gnumNÚZ”o
)

989 /(()
g‘NumChd»n
(è- 
	gi
)) {

991 ià(
g‘ChdV®ue
(
i
, 
groundšg
, 
db
)) {

992 
£tWeight
(
i
, 1.0 + 
äªd
() );

994 
£tWeight
(
i
, -1.0 - 
äªd
() );

997 
	gã©u»Id
 = 
chd»n_
[
i
]->
g‘Id
();

998 ià(
	gqu”yP»ds
.
fšd
(
ã©u»Id
) != -1) {

999 
nÚZ”oQu”yP»diÿ‹
 = 
Œue
;

1001 
	gnumNÚZ”o
++;

1004 
£tWeight
(
i
, 0.0);

1010 
vœtu®
 
GroundF—tu»
* 
cÚ¡ruùGroundF—tu»
(
GroundRRF
* 
¼f
,

1011 cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
);

1013 
	$g‘LogZ
() const {

1014 #ià
SIGMOID
 || 
NO_NORMALIZE


1017 ià(
ÿchedZšv®id_
) {

1018 
ÿchedLogZ_
 = 0.0;

1019 
i
 = 0; i < 
	`g‘NumChd»n
(); i++) {

1022 ià(
weights_
[
i
] > 100.0) {

1024 
ÿchedLogZ_
 +ğ
weights_
[
i
];

1025 } ià(
weights_
[
i
] > -100.0) {

1027 
ÿchedLogZ_
 +ğ
	`log
(1.0 + 
	`exp
(
weights_
[
i
]));

1029 #–ià
SMOOTH_MAX


1032 
sigma_w
 = 
	`sigmoid
(
weights_
[
i
]);

1034 
ÿchedLogZ_
 +ğ
weights_
[
i
] * 
sigma_w
;

1035 #–ià
SMOOTH_MAX2


1036 ià(
weights_
[
i
] < -10.0) {

1038 } ià(
weights_
[
i
] > 10.0) {

1039 
ÿchedLogZ_
 +ğ
weights_
[
i
];

1041 
ÿchedLogZ_
 +ğ
	`log
(1.0 + 
	`exp
(
KVAL
*
weights_
[
i
]))/KVAL;

1045 ià(
weights_
[
i
] > 0.0) {

1046 
ÿchedLogZ_
 +ğ
weights_
[
i
];

1050 
ÿchedZšv®id_
 = 
çl£
;

1052  
ÿchedLogZ_
;

1054 
	}
}

1056 
vœtu®
 
	$g‘Z
() const {

1057  
	`exp
(
	`g‘LogZ
());

1058 
	}
}

1060 
	g´Ùeùed
:

1062 
compu‹LogV®ueRaw
(cÚ¡ 
A¼ay
<>& 
groundšg
,

1063 
D©aba£
* 
db
) const {

1065 
	gtÙ®
 = 0.0;

1066 
	gchdId
 = 0; chdId < 
g‘NumChd»n
(); childId++) {

1067 
	gtÙ®
 +ğ
weights_
[
chdId
]

1068 * 
g‘ChdV®ue
(
chdId
, 
groundšg
, 
db
);

1070  
	gtÙ®
;

1074 
g‘ChdV®ue
(
chdId
, cÚ¡ 
A¼ay
<>& 
groundšg
,

1075 
D©aba£
* 
db
) const

1078 
P»diÿ‹
* 
	g´ed
 = ((
P»diÿ‹F—tu»
*)
chd»n_
[
chdId
])

1079 ->
g‘P»diÿ‹
();

1080 
	gi
 = 0; i < 
	gchd»n_
[
chdId
]->
g‘NumT”ms
(); i++) {

1081 
	g´ed
->
£tT”mToCÚ¡ªt
(
i
, 
groundšg
[
‹rmM­_
[
chdId
][i]]);

1085  ()
	gdb
->
g‘V®ue
(
´ed
);

1087 
	gA¼ay
<> 
	gcgroundšg
;

1088 
	gi
 = 0; i < 
	gchd»n_
[
chdId
]->
g‘NumT”ms
(); i++) {

1089 
	gcgroundšg
.
­³nd
(
groundšg
[
‹rmM­_
[
chdId
][
i
]]);

1091  
	gchd»n_
[
chdId
]->
g‘V®ue
(
cgroundšg
, 
db
);

1095 
mubË
 
boŞ
 
	gÿchedZšv®id_
;

1096 
mubË
 
	gÿchedLogZ_
;

1097 
mubË
 
boŞ
 
	gÿchedV®uesInv®id_
;

1098 
mubË
 
	gA¼ay
<> 
	gÿchedNÜm®iz”s_
;

1101 
	~"gã©u».h
"

	@rrf/gfeature.cpp

1 
	~"gã©u».h
"

2 
	~"¼f.h
"

4 
	gGroundRRF
::
	$GroundRRF
(
RRF
* 
¼f
, 
D©aba£
* 
db
)

5 : 
	`¼f_
(
¼f
), 
	$db_
(
db
)

7 
numCouÁs_
 = 0;

8 
numF—tu»s
 = 
¼f_
->
	`g‘NumF—tu»s
();

9 
i
 = 0; i < 
numF—tu»s
; i++) {

10 
®lF—tu»s_
.
	`­³nd
(
A¼ay
<
GroundF—tu»
*>());

11 
numCouÁs_
 +ğ
¼f_
->
	`g‘F—tu»
(
i
)->
	`g‘NumWeights
();

14 
A¼ay
<> 
nuÎGroundšg
;

15 
roÙ_
 = 
¼f
->
	`g‘RoÙ
()->
	`cÚ¡ruùGroundF—tu»
(
this
, 
nuÎGroundšg
, 
db
);

16 
®lF—tu»s_
[
¼f
->
	`g‘RoÙ
()->
	`g‘Id
()].
	`­³nd
(
roÙ_
);

17 
	}
}

20 
	gGroundRRF
::
g‘CouÁs
(
A¼ay
<>& 
couÁs
)

22 
couÁs
.
growToSize
(
numCouÁs_
);

25 
	gcouÁIdx
 = 0;

26 
	gi
 = 0; i < 
	g®lF—tu»s_
.
size
(); i++) {

27 
	gj
 = 0; j < 
	g¼f_
->
g‘F—tu»
(
i
)->
g‘NumWeights
(); j++) {

29 
	gtÙ®CouÁs
 = 0.0;

30 
	gk
 = 0; k < 
	g®lF—tu»s_
[
i
].
size
(); k++) {

31 ià(
	g®lF—tu»s_
[
i
][
k
] =ğ
NULL
) {

34 
	gtÙ®CouÁs
 +ğ
®lF—tu»s_
[
i
][
k
]->
g‘D”iv
()

35 * 
®lF—tu»s_
[
i
][
k
]->
compu‹P¬tŸlD”iv
(i,
j
);

38 
	gcout
 << "D”iv " << 
	gi
 << " " << 
	gk
 << ": ";

39 
	gcout
 << 
	g®lF—tu»s_
[
i
][
k
]->
g‘D”iv
(è<< 
	g’dl
;

40 
	gcout
 << 
	g®lF—tu»s_
[
i
][
k
]->
compu‹P¬tŸlD”iv
(i,
j
è<< 
	g’dl
;

44 
	gŞdCouÁs
 = 
roÙ_
->
g‘CouÁs
(
i
,
j
);

45 ià(2.0*
çbs
((
ŞdCouÁs
 - 
tÙ®CouÁs
)/(oldCounts +otalCounts))

47 
	gcout
 << "CouÁ difã¸" << 
	gi
 << " " << 
	gj
 << ": \n";

48 
	gcout
 << "Groundšgs: " << 
	g®lF—tu»s_
[
i
].
size
(è<< 
	g’dl
;

49 
	gcout
 << "D”iv: " << 
	g®lF—tu»s_
[
i
][0]->
g‘D”iv
(è<< 
	g’dl
;

50 
	gcout
 << "P¬tŸl: " << 
	g®lF—tu»s_
[
i
][0]->
compu‹P¬tŸlD”iv
(i,
j
è<< 
	g’dl
;

51 
	gcout
 << 
	gŞdCouÁs
 << 
	g’dl
;

52 
	gcout
 << 
	gtÙ®CouÁs
 << 
	g’dl
;

55 
	gcouÁs
.
­³nd
(
roÙ_
->
g‘CouÁs
(
i
, 
j
));

57 
	gcouÁs
[
couÁIdx
++] = 
tÙ®CouÁs
;

63 
	gGroundRRF
::
g‘P£udoCouÁs
(
A¼ay
<>& 
couÁs
,

64 cÚ¡ 
A¼ay
<>& 
qu”yP»ds
, 
§m¶šgF¿c
)

67 
	gcouÁs
.
growToSize
(
numCouÁs_
);

68 
	gi
 = 0; i < 
	gnumCouÁs_
; i++) {

69 
	gcouÁs
[
i
] = 0.0;

73 
	gŒueSum
 = 
g‘LogV®ue
();

75 ià(
i¢ª
(
ŒueSum
è|| 
isšf
(trueSum)) {

76 
	gi
 = 0; i < 
	gnumCouÁs_
; i++) {

77 
	gcouÁs
[
i
] = 
ŒueSum
;

82 
	gA¼ay
<> 
	gŒueCouÁs
;

83 
g‘CouÁs
(
ŒueCouÁs
);

85 
	gçl£Sum
;

86 
	gA¼ay
<> 
	gçl£CouÁs
;

89 
	gq
 = 0; q < 
	gqu”yP»ds
.
size
(); q++) {

91 
	gi
 = 
qu”yP»ds
[
q
];

92 
	gj
 = 0; j < 
g‘NumP»diÿ‹Groundšgs
(
i
); j++) {

94 ià(
äªd
(è< 
	g§m¶šgF¿c
) {

97 
boŞ
 
	gÜigV®ue
 = 
g‘P»diÿ‹V®ue
(
i
,
j
);

98 
£tP»diÿ‹AndUpd©e
(
i
,
j
,!
ÜigV®ue
);

101 
	gçl£Sum
 = 
g‘LogV®ue
();

102 
g‘CouÁs
(
çl£CouÁs
);

104 
	g´ob_çl£
 = 
sigmoid
(
çl£Sum
 - 
ŒueSum
);

105 
	gc
 = 0; c < 
	gnumCouÁs_
; c++) {

106 
	gcouÁs
[
c
] +ğ
´ob_çl£
 * (
ŒueCouÁs
[c] - 
çl£CouÁs
[c]);

110 
£tP»diÿ‹AndUpd©e
(
i
,
j
,
ÜigV®ue
);

116 
	gc
 = 0; c < 
	gnumCouÁs_
; c++) {

117 
	gcout
 << "ÍÈcouÁs[" << 
	gc
 << "] = " << 
	gcouÁs
[
c
] << 
	g’dl
;

122 
	gi
 = 0; i < 
	gnumCouÁs_
; i++) {

123 
	gcouÁs
[
i
] /ğ
§m¶šgF¿c
;

127 
	gnumQu”yP»ds
 = 0.0;

128 
	gq
 = 0; q < 
	gqu”yP»ds
.
size
(); q++) {

129 
	gnumQu”yP»ds
 +ğ
g‘NumP»diÿ‹Groundšgs
(
qu”yP»ds
[
q
]);

131 
	gi
 = 0; i < 
	gnumCouÁs_
; i++) {

132 
	gcouÁs
[
i
] /ğ
numQu”yP»ds
;

137 
	gGroundRRF
::
g‘P£udoCouÁsFa¡
(
A¼ay
<>& 
couÁs
,

138 cÚ¡ 
A¼ay
<>& 
qu”yP»ds
, 
§m¶šgF¿c
)

142 
	gcouÁs
.
growToSize
(
numCouÁs_
);

143 
	gi
 = 0; i < 
	gnumCouÁs_
; i++) {

144 
	gcouÁs
[
i
] = 0.0;

148 
	gŒueSum
 = 
g‘LogV®ue
();

149 
	gA¼ay
<> 
	gŒueCouÁs
;

150 
g‘CouÁs
(
ŒueCouÁs
);

152 
	gçl£Sum
;

153 
	gA¼ay
<> 
	gçl£CouÁs
;

154 
	gA¼ay
<> 
	gçl£CouÁs2
;

156 
	gA¼ay
<> 
	gcouÁs1
;

157 
	gA¼ay
<> 
	gcouÁs2
;

158 
	gcouÁs1
.
growToSize
(
numCouÁs_
);

159 
	gcouÁs2
.
growToSize
(
numCouÁs_
);

160 
	gi
 = 0; i < 
	gnumCouÁs_
; i++) {

161 
	gcouÁs1
[
i
] = 0.0;

162 
	gcouÁs2
[
i
] = 0.0;

167 
	gq
 = 0; q < 
	gqu”yP»ds
.
size
(); q++) {

169 
	gi
 = 
qu”yP»ds
[
q
];

170 
	gj
 = 0; j < 
g‘NumP»diÿ‹Groundšgs
(
i
); j++) {

172 ià(
äªd
(è< 
	g§m¶šgF¿c
) {

174 
	gc
 = 0;

176 
	gf
 = 0; f < 
	g®lF—tu»s_
.
size
(); f++) {

177 
F—tu»
* 
	gã©
 = 
¼f_
->
g‘F—tu»
(
f
);

178 
	gw
 = 0; w < 
	gã©
->
g‘NumWeights
(); w++) {

179 
	gcout
 << "´e[" << 
	gc
 << "] = "

180 << 
	gã©
->
g‘CouÁ
(
w
è<< 
	g’dl
;

181 
	gã©
->
£tCouÁ
(
w
,0.0);

182 
	gc
++;

188 
boŞ
 
	gÜigV®ue
 = 
g‘P»diÿ‹V®ue
(
i
,
j
);

189 
£tP»diÿ‹AndUpd©eCouÁs
(
i
,
j
,!
ÜigV®ue
);

192 
	gçl£Sum
 = 
g‘LogV®ue
();

193 
	g´ob_çl£
 = 
sigmoid
(
çl£Sum
 - 
ŒueSum
);

196 
	gc
 = 0;

197 
	gf
 = 0; f < 
	g®lF—tu»s_
.
size
(); f++) {

198 
F—tu»
* 
	gã©
 = 
¼f_
->
g‘F—tu»
(
f
);

199 
	gw
 = 0; w < 
	gã©
->
g‘NumWeights
(); w++) {

201 ià(
	gc
 == 2) {

202 
cout
 << "pçl£ = " << 
´ob_çl£
 << 
’dl
;

203 
	gcout
 << "-ã©CouÁ = " << -
	gã©
->
g‘CouÁ
(
w
è<< 
	g’dl
;

205 
	gcouÁs
[
c
] +ğ
´ob_çl£
 * -
ã©
->
g‘CouÁ
(
w
);

210 
	gcout
 << 
	g´ob_çl£
*(
	gŒueCouÁs
[
c
] - 
	gçl£CouÁs
[c]) << " "

211 << 
	g´ob_çl£
*(
	gŒueCouÁs
[
c
] - 
	gçl£CouÁs2
[c]è<< 
	g’dl
;

213 
	gc
++;

219 
	gc
 = 0;

220 
	gf
 = 0; f < 
	g®lF—tu»s_
.
size
(); f++) {

221 
F—tu»
* 
	gã©
 = 
¼f_
->
g‘F—tu»
(
f
);

222 
	gw
 = 0; w < 
	gã©
->
g‘NumWeights
(); w++) {

223 
	gcout
 << "mid[" << 
	gc
 << "] = "

224 << 
	gã©
->
g‘CouÁ
(
w
è<< 
	g’dl
;

225 
	gc
++;

232 
£tP»diÿ‹AndUpd©eCouÁs
(
i
,
j
,
ÜigV®ue
);

234 
	gc
 = 0;

235 
	gf
 = 0; f < 
	g®lF—tu»s_
.
size
(); f++) {

236 
F—tu»
* 
	gã©
 = 
¼f_
->
g‘F—tu»
(
f
);

237 
	gw
 = 0; w < 
	gã©
->
g‘NumWeights
(); w++) {

238 
	gcout
 << "po¡[" << 
	gc
 << "] = "

239 << 
	gã©
->
g‘CouÁ
(
w
è<< 
	g’dl
;

241 
	gc
++;

249 
	gc
 = 0; c < 
	gnumCouÁs_
; c++) {

250 
	gcout
 << "Íl1 couÁs[" << 
	gc
 << "] = " << 
	gcouÁs
[
c
] << 
	g’dl
;

254 
	gc
 = 0; c < 
	gnumCouÁs_
; c++) {

255 
	gcout
 << 
	gc
 << ": " << 
	gcouÁs1
[
c
] << " ; " << 
	gcouÁs2
[c] << 
	g’dl
;

260 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

261 
	gcouÁs
[
i
] /ğ
§m¶šgF¿c
;

267 
	gGroundRRF
::
g‘LogP£udoLik–ihood
(cÚ¡ 
A¼ay
<
P»diÿ‹
*>& 
qu”yP»ds
)

272 
Íl
 = 0.0;

273 
	glogTruthProb
 = 
g‘LogV®ue
();

275 
	gq
 = 0; q < 
	gqu”yP»ds
.
size
(); q++) {

277 
	gi
 = 
qu”yP»ds
[
q
]->
g‘Id
();

278 
	gA¼ay
<> 
	ggroundšg
;

279 
	gti
 = 0;˜< 
	gqu”yP»ds
[
q
]->
g‘NumT”ms
();i++) {

280 
	ggroundšg
.
­³nd
(
qu”yP»ds
[
q
]->
g‘T”m
(
ti
)->
g‘Id
());

282 
	gj
 = 
¼f_
->
g‘F—tu»
(
i
)->
g‘GroundšgIndex
(
groundšg
, 
db_
);

284 ià(
	g®lF—tu»s_
[
i
][
j
] =ğ
NULL
) {

285 
Íl
 +ğ
log
(0.5);

287 
	gcu¼V®ue
 = 
®lF—tu»s_
[
i
][
j
]->
g‘V®ue
();

288 
	gÃwV®ue
 = (
cu¼V®ue
 == 0.0) ? 1.0 : 0.0;

290 
£tP»diÿ‹AndUpd©e
(
i
, 
j
, 
ÃwV®ue
);

291 
	glogUÁruthProb
 = 
g‘LogV®ue
();

293 
£tP»diÿ‹AndUpd©e
(
i
, 
j
, 
cu¼V®ue
);

295 ià(
çbs
(
logUÁruthProb
 - 
logTruthProb
) > 100) {

296 
	gÍl
 +ğ(
logUÁruthProb
 - 
logTruthProb
);

298 
	gÍl
 +ğ-
log
(1.0 + 
exp
(
logUÁruthProb
 - 
logTruthProb
));

304  
	gÍl
/
	gqu”yP»ds
.
size
();

308 
	gGroundRRF
::
g‘LogP£udoLik–ihood
(cÚ¡ 
A¼ay
<>& 
qu”yP»ds
)

313 
Íl
 = 0.0;

314 
dœtyAÎ
();

315 
	glogTruthProb
 = 
g‘LogV®ue
();

320 
	gtÙ®P»ds
 = 0;

321 
	gq
 = 0; q < 
	gqu”yP»ds
.
size
(); q++) {

323 
	gi
 = 
qu”yP»ds
[
q
];

324 
	gj
 = 0; j < 
	g®lF—tu»s_
[
i
-1].
size
(); j++) {

325 
	gtÙ®P»ds
++;

326 ià(
	g®lF—tu»s_
[
i
-1][
j
] =ğ
NULL
) {

327 
Íl
 +ğ
log
(0.5);

329 
	gcu¼V®ue
 = 
®lF—tu»s_
[
i
-1][
j
]->
g‘V®ue
();

330 
	gÃwV®ue
 = (
cu¼V®ue
 == 0.0) ? 1.0 : 0.0;

332 
£tP»diÿ‹AndUpd©e
(
i
, 
j
, 
ÃwV®ue
);

333 
	glogUÁruthProb
 = 
g‘LogV®ue
();

336 ià(
i¢ª
(
logUÁruthProb
)) {

337 
	gcout
 << "\nuÁruthProb = " << 
	glogUÁruthProb
;

339 
	gcout
 << ".";

343 
£tP»diÿ‹AndUpd©e
(
i
, 
j
, 
cu¼V®ue
);

346 
	gcu¼_Íl
;

347 ià(
	glogUÁruthProb
 - 
	glogTruthProb
 > 100) {

348 
	gcu¼_Íl
 = 
logTruthProb
 - 
logUÁruthProb
;

349 } ià(
	glogTruthProb
 - 
	glogUÁruthProb
 > 100) {

350 
	gcu¼_Íl
 = 0.0;

352 
	gcu¼_Íl
 = -
log
(1.0 + 
exp
(
logUÁruthProb
 - 
logTruthProb
));

354 
	gÍl
 +ğ
cu¼_Íl
;

359 
	gcout
 << " = " << 
	gcu¼_Íl
 << 
	g’dl
;

360 
	gcout
 << 
	glogUÁruthProb
 << " ; " << 
	glogTruthProb
 << 
	g’dl
;

361 
	gÍl
 +ğ
logTruthProb
 - 
log
(
exp
ÖogTruthProbè+ƒxp(
logUÁruthProb
));

370  
	gÍl
/
	gtÙ®P»ds
;

	@rrf/gfeature.h

1 #iâdeà
GFEATURE_H_APR_06


2 
	#GFEATURE_H_APR_06


	)

4 
	~"ã©u».h
"

6 şas 
	cGroundF—tu»


8 
	mpublic
:

9 
	$GroundF—tu»
()

10 : 
	`dœtyD”iv_
(
Œue
), 
	`dœtyV®ue_
Ñrue), 
	$dœtyLogV®ue_
(
Œue
)

13 
vœtu®
 ~
	$GroundF—tu»
(è{ 
	}
}

15 
	$g‘V®ue
() {

17 ià(
dœtyV®ue_
) {

18 
ÿchedV®ue_
 = 
	`compu‹V®ue
();

19 
dœtyV®ue_
 = 
çl£
;

22  
ÿchedV®ue_
;

23 
	}
}

25 
	$g‘LogV®ue
() {

27 ià(
dœtyLogV®ue_
) {

28 
ÿchedLogV®ue_
 = 
	`compu‹LogV®ue
();

29 
dœtyLogV®ue_
 = 
çl£
;

32  
ÿchedLogV®ue_
;

33 
	}
}

35 
	$g‘CouÁs
(
ã©u»Index
, 
weightIndex
) {

36  
	`compu‹P¬tŸlD”iv
(
ã©u»Index
, 
weightIndex
);

37 
	}
}

39 
vœtu®
 
	$compu‹V®ue
(è{  0.0; 
	}
}

40 
vœtu®
 
	$compu‹LogV®ue
(è{  0.0; 
	}
}

41 
vœtu®
 
	$compu‹P¬tŸlD”iv
(
ã©u»Index
, 
weightIndex
)

42 {  0.0; 
	}
}

44 
šlše
 
g‘D”iv
();

48 
vœtu®
 
	$g‘ChdD”iv
(
i
) {

49 
	`as£¹
(
çl£
);

51 
	}
}

54 
šlše
 
£tDœty
();

56 
šlše
 
upd©eP¬’ts
(
ŞdV®ue
, 
ÃwV®ue
);

57 
šlše
 
upd©eP¬’tCouÁs
(
ŞdV®ue
, 
ÃwV®ue
);

59 
	$addP¬’t
(
RecursiveGroundF—tu»
* 
·»Á
, 
·»ÁIndex
) {

60 
·»Ás_
.
	`­³nd
(
·»Á
);

61 
·»ÁIndiûs_
.
	`­³nd
(
·»ÁIndex
);

62 
	}
}

65 
	g´Ùeùed
:

66 
boŞ
 
dœtyD”iv_
;

67 
boŞ
 
	gdœtyV®ue_
;

68 
boŞ
 
	gdœtyLogV®ue_
;

69 
	gÿchedD”iv_
;

70 
	gÿchedV®ue_
;

71 
	gÿchedLogV®ue_
;

72 
	gA¼ay
<
	gRecursiveGroundF—tu»
*> 
	g·»Ás_
;

73 
	gA¼ay
<> 
	g·»ÁIndiûs_
;

77 şas 
	cRecursiveGroundF—tu»
 : 
public
 
GroundF—tu»


79 
public
:

80 
	$RecursiveGroundF—tu»
(
RecursiveF—tu»
* 
ã©u»Tem¶©e
,

81 
boŞ
 
doD”ivsOfLog
=
çl£
)

82 : 
	`ã©u»Tem¶©e_
(
ã©u»Tem¶©e
), 
	$doD”ivsOfLog_
(
doD”ivsOfLog
)

85 
vœtu®
 ~
	$RecursiveGroundF—tu»
(è{ 
	}
}

87 
vœtu®
 
	$compu‹V®ue
()

89 #ià
SIGMOID


90 
	`compu‹LogV®ue
();

91  
	`sigmoid
(
ÿchedSum_
);

93  
	`exp
(
	`compu‹LogV®ue
());

95 
	}
}

97 
vœtu®
 
	$compu‹LogV®ue
()

99 
ÿchedSum_
 = 0.0;

100 
subSums_
.
	`growToSize
(
chd»n_
.
	`size
());

102 
i
 = 0; i < 
chd»n_
.
	`size
(); i++) {

103 
cu¼F—tu»TÙ®
 = 0.0;

104 
j
 = 0; j < 
chd»n_
[
i
].
	`size
(); j++) {

107 
cu¼F—tu»TÙ®
 +ğ
chd»n_
[
i
][
j
]->
	`g‘V®ue
();

109 #ià
NORM


110 
ÿchedSum_
 +ğ
ã©u»Tem¶©e_
->
	`g‘Weight
(
i
è* 
cu¼F—tu»TÙ®


111 / 
chd»n_
[
i
].
	`size
();

113 
ÿchedSum_
 +ğ
ã©u»Tem¶©e_
->
	`g‘Weight
(
i
è* 
cu¼F—tu»TÙ®
;

115 
subSums_
[
i
] = 
cu¼F—tu»TÙ®
;

118 
RecursiveF—tu»
* 
»cF—tu»
 = (RecursiveF—tu»*)
ã©u»Tem¶©e_
;

122  
ÿchedSum_
 - 
»cF—tu»
->
	`g‘LogZ
();

123 
	}
}

125 
vœtu®
 
	$upd©e
(
idx
, 
ŞdV®ue
, 
ÃwV®ue
)

127 
dœtyD”iv_
 = 
Œue
;

129 ià(!
dœtyV®ue_
 || !
dœtyLogV®ue_
) {

130 
ŞdCachedV®ue
 = 
ÿchedV®ue_
;

131 #ià
NORM


132 
ÿchedSum_
 +ğ
ã©u»Tem¶©e_
->
	`g‘Weight
(
idx
)

133 * (
ÃwV®ue
 - 
ŞdV®ue
)

134 /
chd»n_
[
idx
].
	`size
();

136 
ÿchedSum_
 +ğ
ã©u»Tem¶©e_
->
	`g‘Weight
(
idx
)

137 * (
ÃwV®ue
 - 
ŞdV®ue
);

139 
subSums_
[
idx
] +ğ
ÃwV®ue
 - 
ŞdV®ue
;

141 
RecursiveF—tu»
* 
»cF—tu»
 = (RecursiveF—tu»*)
ã©u»Tem¶©e_
;

142 
ÿchedLogV®ue_
 = 
ÿchedSum_
 - 
»cF—tu»
->
	`g‘LogZ
();

143 #ià
SIGMOID


144 
ÿchedV®ue_
 = 
	`sigmoid
(
ÿchedSum_
);

146 
ÿchedV®ue_
 = 
	`exp
(
ÿchedLogV®ue_
);

148 
	`upd©eP¬’ts
(
ŞdCachedV®ue
, 
ÿchedV®ue_
);

150 
	}
}

152 
vœtu®
 
	$upd©eCouÁs
(
idx
, 
ŞdV®ue
, 
ÃwV®ue
)

154 ià((
dœtyV®ue_
 && 
dœtyLogV®ue_
è|| 
dœtyD”iv_
) {

155 
cout
 << "ERROR: cache must be up-to-date when calling "

160 
couÁs
 = 
ã©u»Tem¶©e_
->
	`g‘CouÁ
(
idx
);

165 
tÙ®P¬tŸl
 = 0.0;

169 
tÙ®V®ue
 = 0.0;

170 
w
 = 0; w < 
chd»n_
.
	`size
(); w++) {

171 
sum
 = 0.0;

172 
j
 = 0; j < 
chd»n_
[
w
].
	`size
(); j++) {

173 
sum
 +ğ
chd»n_
[
w
][
j
]->
	`g‘V®ue
();

175 
tÙ®V®ue
 +ğ
sum
 * 
ã©u»Tem¶©e_
->
	`g‘Weight
(
w
);

177 
cout
 << "Old: " << 
ÿchedSum_
 << 
’dl
;

178 
cout
 << "New: " << 
tÙ®V®ue
 << 
’dl
;

179 
tÙ®V®ue
 +ğ(
ŞdV®ue
 - 
ÃwV®ue
)

180 * 
ã©u»Tem¶©e_
->
	`g‘Weight
(
idx
);

181 
cout
 << "Compu‹d: " << 
tÙ®V®ue
 << 
’dl
;

185 
RecursiveF—tu»
* 
»cTem¶©e


186 ğ(
RecursiveF—tu»
*)
ã©u»Tem¶©e_
;

187 
tÙ®P¬tŸl
 = 
subSums_
[
idx
] - 
»cTem¶©e
->
	`g‘NÜm
(idx);

189 ià(!
doD”ivsOfLog_
) {

190 #ià
SIGMOID


191 
tÙ®P¬tŸl
 *ğ
	`g‘V®ue
() * (1.0 - getValue());

193 
tÙ®P¬tŸl
 *ğ
	`g‘V®ue
();

205 
couÁs
 -ğ
ÿchedD”iv_
 * 
tÙ®P¬tŸl
;

211 
ŞdCachedV®ue
 = 
ÿchedV®ue_
;

212 
ÿchedSum_
 +ğ
ã©u»Tem¶©e_
->
	`g‘Weight
(
idx
)

213 * (
ÃwV®ue
 - 
ŞdV®ue
);

214 
subSums_
[
idx
] +ğ
ÃwV®ue
 - 
ŞdV®ue
;

216 
RecursiveF—tu»
* 
»cF—tu»
 = (RecursiveF—tu»*)
ã©u»Tem¶©e_
;

217 
ÿchedLogV®ue_
 = 
ÿchedSum_
 - 
»cF—tu»
->
	`g‘LogZ
();

218 #ià
SIGMOID


219 
ÿchedV®ue_
 = 
	`sigmoid
(
ÿchedSum_
);

221 
ÿchedV®ue_
 = 
	`exp
(
ÿchedLogV®ue_
);

225 
	`upd©eP¬’tCouÁs
(
ŞdCachedV®ue
, 
ÿchedV®ue_
);

228 
ÿchedD”iv_
 = 0.0;

229 
i
 = 0; i < 
·»Ás_
.
	`size
(); i++) {

230 
ÿchedD”iv_
 +ğ
·»Ás_
[
i
]->
	`g‘D”iv
()

231 * 
·»Ás_
[
i
]->
	`g‘ChdD”iv
(
·»ÁIndiûs_
[i]);

234 ià(
·»Ás_
.
	`size
() == 0.0) {

235 
ÿchedD”iv_
 = 1.0;

240 
RecursiveF—tu»
* 
»cTem¶©e


241 ğ(
RecursiveF—tu»
*)
ã©u»Tem¶©e_
;

242 
tÙ®P¬tŸl
 = 
subSums_
[
idx
] - 
»cTem¶©e
->
	`g‘NÜm
(idx);

244 ià(!
doD”ivsOfLog_
) {

245 #ià
SIGMOID


246 
tÙ®P¬tŸl
 *ğ
	`g‘V®ue
() * (1.0 - getValue());

248 
tÙ®P¬tŸl
 *ğ
	`g‘V®ue
();

253 
couÁs
 +ğ
ÿchedD”iv_
 * 
tÙ®P¬tŸl
;

254 
ã©u»Tem¶©e_
->
	`£tCouÁ
(
idx
,
couÁs
);

255 
	}
}

258 
vœtu®
 
	$g‘ChdD”iv
(
i
)

260 
tÙ®P¬tŸl
 = 
ã©u»Tem¶©e_
->
	`g‘Weight
(
i
);

261 #ià
NORM


262 
tÙ®P¬tŸl
 /ğ
chd»n_
[
i
].
	`size
();

265 ià(
doD”ivsOfLog_
) {

266  
tÙ®P¬tŸl
;

268  
	`g‘V®ue
(è* 
tÙ®P¬tŸl
;

270 
	}
}

272 
vœtu®
 
	$addChd
(
chdIndex
, 
GroundF—tu»
* 
chd
)

274 
chd»n_
.
	`size
(è<ğ
chdIndex
) {

275 
chd»n_
.
	`­³nd
(
A¼ay
<
GroundF—tu»
*>());

278 
chd»n_
[
chdIndex
].
	`­³nd
(
chd
);

279 
chd
->
	`addP¬’t
(
this
, 
chdIndex
);

280 
	}
}

282 
vœtu®
 
	$compu‹P¬tŸlD”iv
(
fi
, 
wi
)

284 
tÙ®P¬tŸl
 = 0.0;

286 ià(
fi
 =ğ
ã©u»Tem¶©e_
->
	`g‘Id
()) {

288 ià(
dœtyLogV®ue_
 && 
dœtyV®ue_
) {

289 
	`compu‹LogV®ue
();

292 
RecursiveF—tu»
* 
»cTem¶©e


293 ğ(
RecursiveF—tu»
*)
ã©u»Tem¶©e_
;

294 
tÙ®P¬tŸl
 = 
subSums_
[
wi
] - 
»cTem¶©e
->
	`g‘NÜm
(wi);

295 #ià
NORM


296 
tÙ®P¬tŸl
 /ğ
chd»n_
[
wi
].
	`size
();

301 
	`as£¹
(
çl£
);

305 
i
 = 0; i < 
chd»n_
.
	`size
(); i++)

307 
ã©u»TÙ®
 = 0.0;

308 
j
 = 0; j < 
chd»n_
[
i
].
	`size
(); j++) {

309 
ã©u»TÙ®
 +ğ
chd»n_
[
i
][
j
]->
	`g‘CouÁs
(
fi
, 
wi
);

311 #ià
NORM


312 
tÙ®P¬tŸl
 +ğ
ã©u»TÙ®
 * 
ã©u»Tem¶©e_
->
	`g‘Weight
(
i
)

313 / 
chd»n_
[
i
].
	`size
();

315 
tÙ®P¬tŸl
 +ğ
ã©u»TÙ®
 * 
ã©u»Tem¶©e_
->
	`g‘Weight
(
i
);

320 ià(
doD”ivsOfLog_
) {

321  
tÙ®P¬tŸl
;

323 #ià
SIGMOID


324  
	`g‘V®ue
(è* (1.0 - g‘V®ue()è* 
tÙ®P¬tŸl
;

326  
	`g‘V®ue
(è* 
tÙ®P¬tŸl
;

329 
	}
}

331 
	g´Ùeùed
:

332 
A¼ay
<A¼ay<
GroundF—tu»
*> > 
chd»n_
;

333 
RecursiveF—tu»
* 
	gã©u»Tem¶©e_
;

334 
boŞ
 
	gdoD”ivsOfLog_
;

335 
	gÿchedSum_
;

336 
	gA¼ay
<> 
	gsubSums_
;

340 şas 
	cCÏu§lGroundF—tu»
 : 
public
 
RecursiveGroundF—tu»


342 
public
:

343 
	$CÏu§lGroundF—tu»
(
CÏu§lF—tu»
* 
ã©u»Tem¶©e
)

344 : 
	$RecursiveGroundF—tu»
(
ã©u»Tem¶©e
)

347 
vœtu®
 ~
	$CÏu§lGroundF—tu»
(è{ 
	}
}

350 
vœtu®
 
	$compu‹LogV®ue
() {

352 
	`as£¹
(
çl£
);

353 
	}
}

359 
vœtu®
 
	$compu‹V®ue
() {

361 
ÿchedSum_
 = 0.0;

362 
i
 = 0; i < 
chd»n_
.
	`size
(); i++) {

363 
ÿchedSum_
 +ğ
ã©u»Tem¶©e_
->
	`g‘Weight
(
i
)

364 * 
chd»n_
[
i
][0]->
	`g‘V®ue
();

366 #ià
SIGMOID


367  
	`sigmoid
(
ÿchedSum_
);

369 
CÏu§lF—tu»
* 
şau§lTem¶©e
 = (CÏu§lF—tu»*)
ã©u»Tem¶©e_
;

370  
	`exp
(
ÿchedSum_
 - 
şau§lTem¶©e
->
	`g‘LogZ
());

372 
	}
}

376 
vœtu®
 
	$g‘ChdD”iv
(
i
)

382 
	`as£¹
(
çl£
);

383 
weight_i
 = 
ã©u»Tem¶©e_
->
	`g‘Weight
(
i
);

384 
»t
 = 
	`g‘V®ue
(è* (
weight_i
 -

385 - 1.0/(1.0 + 
	`exp
(-
chd»n_
[
i
][0]->
	`g‘V®ue
())));

386  
»t
;

387 
	}
}

389 
vœtu®
 
	$compu‹P¬tŸlD”iv
(
fi
, 
wi
)

391 
CÏu§lF—tu»
* 
şau§lTem¶©e
 = (CÏu§lF—tu»*)
ã©u»Tem¶©e_
;

393 ià(
fi
 !ğ
şau§lTem¶©e
->
	`g‘Id
()) {

397 
	`as£¹
(
chd»n_
[
wi
].
	`size
() == 1);

398 #ià
SIGMOID


399  
	`g‘V®ue
() * (1.0 - getValue())

400 * 
chd»n_
[
wi
][0]->
	`g‘V®ue
();

402  
	`g‘V®ue
(è* (
chd»n_
[
wi
][0]->getValue() -

403 
şau§lTem¶©e
->
	`g‘NÜm
(
wi
));

405 
	}
}

407 
vœtu®
 
	$upd©e
(
idx
, 
ŞdV®ue
, 
ÃwV®ue
)

409 
dœtyD”iv_
 = 
Œue
;

410 ià(!
dœtyV®ue_
) {

411 
ŞdCachedV®ue
 = 
ÿchedV®ue_
;

413 
ŞdCachedSum
 = 
ÿchedSum_
;

415 
ÿchedSum_
 +ğ
ã©u»Tem¶©e_
->
	`g‘Weight
(
idx
)

416 * (
ÃwV®ue
 - 
ŞdV®ue
);

417 #ià
SIGMOID


418 
ÿchedV®ue_
 = 
	`sigmoid
(
ÿchedSum_
);

420 
CÏu§lF—tu»
* 
şau§lTem¶©e
 =

421 (
CÏu§lF—tu»
*è
ã©u»Tem¶©e_
;

422 
ÿchedV®ue_
 = 
	`exp
(
ÿchedSum_
 - 
şau§lTem¶©e
->
	`g‘LogZ
());

425 
ourCachedSum_
 = 
ÿchedSum_
;

426 
	`compu‹V®ue
();

427 ià(
	`çbs
(
ourCachedSum_
 - 
ÿchedSum_
) > 0.00001) {

428 
cout
 << "Sums‡re different!\n";

429 
cout
 << 
ourCachedSum_
 << 
’dl
;

430 
cout
 << 
ÿchedSum_
 << 
’dl
;

431 
cout
 << "Old: " << 
ŞdCachedSum
 << 
’dl
;

432 
cout
 << 
ŞdV®ue
 << " -> " << 
ÃwV®ue
 << 
’dl
;

433 
cout
 << 
ã©u»Tem¶©e_
->
	`g‘Weight
(
idx
è<< 
’dl
;

436 
	`upd©eP¬’ts
(
ŞdCachedV®ue
, 
ÿchedV®ue_
);

438 
	}
}

443 şas 
	cP»diÿ‹GroundF—tu»
 : 
public
 
GroundF—tu»


445 
public
:

446 
	$P»diÿ‹GroundF—tu»
(cÚ¡ 
P»diÿ‹
& 
´ed
)

447 : 
	`groundP»d_
(
´ed
), 
	$´edV®ue_
(
çl£
)

450 
vœtu®
 ~
	$P»diÿ‹GroundF—tu»
(è{ 
	}
}

452 
P»diÿ‹
* 
	$g‘P»diÿ‹
(è{  &
groundP»d_
; 
	}
}

453 
vœtu®
 
	$compu‹V®ue
(è{  
´edV®ue_
 ? 1.0 : 0.0; 
	}
}

454 
	$£tV®ue
(
boŞ
 
v®
)

456 ià(
´edV®ue_
 !ğ
v®
) {

457 
´edV®ue_
 = 
v®
;

458 
	`£tDœty
();

460 
	}
}

462 
	$£tV®ueAndUpd©e
(
boŞ
 
v®
)

464 ià(
´edV®ue_
 !ğ
v®
) {

465 
´edV®ue_
 = 
v®
;

467 ià(
v®
) {

468 
ÿchedV®ue_
 = 1.0;

469 
	`upd©eP¬’ts
(0.0, 1.0);

471 
ÿchedV®ue_
 = 0.0;

472 
	`upd©eP¬’ts
(1.0, 0.0);

475 
	}
}

477 
	$£tV®ueAndUpd©eCouÁs
(
boŞ
 
v®
)

479 ià(
´edV®ue_
 !ğ
v®
) {

480 
´edV®ue_
 = 
v®
;

482 ià(
v®
) {

483 
ÿchedV®ue_
 = 1.0;

484 
	`upd©eP¬’tCouÁs
(0.0, 1.0);

486 
ÿchedV®ue_
 = 0.0;

487 
	`upd©eP¬’tCouÁs
(1.0, 0.0);

490 
	}
}

492 
vœtu®
 
	$compu‹P¬tŸlD”iv
(
ã©u»Index
, 
weightIndex
)

493 {  0; 
	}
}

495 
	g´iv©e
:

496 
P»diÿ‹
 
groundP»d_
;

497 
boŞ
 
	g´edV®ue_
;

501 
šlše
 
GroundF—tu»
* 
	gP»diÿ‹F—tu»
::
cÚ¡ruùGroundF—tu»
(

502 
GroundRRF
* 
¼f
, cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

504 
P»diÿ‹GroundF—tu»
* 
	g»t
 = 
Ãw
 P»diÿ‹GroundF—tu»(
´ed_
);

505 
	g»t
->
£tV®ue
(
compu‹V®ue
(
groundšg
, 
db
));

506  
	g»t
;

509 şas 
	cCÚ¡ªtGroundF—tu»
 : 
public
 
GroundF—tu»


511 
public
:

512 
	$CÚ¡ªtGroundF—tu»
(
v®ue
)

513 : 
	$v®_
(
v®ue
)

516 
vœtu®
 ~
	$CÚ¡ªtGroundF—tu»
(è{ 
	}
}

518 
vœtu®
 
	$compu‹V®ue
(è{  
v®_
; 
	}
}

519 
vœtu®
 
	$compu‹P¬tŸlD”iv
(
ã©u»Index
, 
weightIndex
)

520 {  0; 
	}
}

522 
	g´Ùeùed
:

523 
v®_
;

526 
šlše
 
GroundF—tu»
* 
	gCÚ¡ªtF—tu»
::
cÚ¡ruùGroundF—tu»
(

527 
GroundRRF
* 
¼f
, cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

529  
Ãw
 
CÚ¡ªtGroundF—tu»
(
v®ue_
);

532 şas 
	cGroundRRF


534 
	mpublic
:

535 
GroundRRF
(
RRF
* 
¼f
, 
D©aba£
* 
db
);

537 
	$g‘V®ue
(è{  
roÙ_
->
	`g‘V®ue
(); }

539 
	$g‘LogV®ue
(è{  
roÙ_
->
	`g‘LogV®ue
(); 
	}
}

543 
g‘LogP£udoLik–ihood
(cÚ¡ 
A¼ay
<>& 
qu”yP»ds
);

544 
g‘LogP£udoLik–ihood
(cÚ¡ 
A¼ay
<
P»diÿ‹
*>& 
qu”yP»ds
);

546 
g‘CouÁs
(
A¼ay
<>& 
couÁs
 );

548 
g‘P£udoCouÁs
(
A¼ay
<>& 
couÁs
, cÚ¡ A¼ay<>& 
qu”yP»ds
,

549 
§m¶šgF¿c
);

550 
g‘P£udoCouÁsFa¡
(
A¼ay
<>& 
couÁs
,

551 cÚ¡ 
A¼ay
<>& 
qu”yP»ds
, 
§m¶šgF¿c
);

553 
	$g‘NumP»diÿ‹Groundšgs
(
´edIdx
) {

556  
®lF—tu»s_
[
´edIdx
-1].
	`size
();

557 
	}
}

559 
boŞ
 
	$g‘P»diÿ‹V®ue
(
´edIdx
, 
groundIdx
) {

562 ià(
®lF—tu»s_
[
´edIdx
-1][
groundIdx
] !ğ
NULL
) {

563  (((
P»diÿ‹GroundF—tu»
*)
®lF—tu»s_
[
´edIdx
-1][
groundIdx
])

564 ->
	`g‘V®ue
() != 0.0);

566  
çl£
;

568 
	}
}

570 
	$£tP»diÿ‹V®ue
(
´edIdx
, 
groundIdx
, 
boŞ
 
v®ue
) {

574 ià(
®lF—tu»s_
[
´edIdx
-1][
groundIdx
] !ğ
NULL
) {

575 ((
P»diÿ‹GroundF—tu»
*)
®lF—tu»s_
[
´edIdx
-1][
groundIdx
])

576 ->
	`£tV®ue
(
v®ue
);

578 
	}
}

580 
	$£tP»diÿ‹AndUpd©e
(
´edIdx
, 
groundIdx
, 
boŞ
 
v®ue
) {

583 ià(
®lF—tu»s_
[
´edIdx
-1][
groundIdx
] !ğ
NULL
) {

584 ((
P»diÿ‹GroundF—tu»
*)
®lF—tu»s_
[
´edIdx
-1][
groundIdx
])

585 ->
	`£tV®ueAndUpd©e
(
v®ue
);

588 
	}
}

590 
	$£tP»diÿ‹AndUpd©eCouÁs
(
´edIdx
, 
groundIdx
, 
boŞ
 
v®ue
) {

593 ià(
®lF—tu»s_
[
´edIdx
-1][
groundIdx
] !ğ
NULL
) {

594 ((
P»diÿ‹GroundF—tu»
*)
®lF—tu»s_
[
´edIdx
-1][
groundIdx
])

595 ->
	`£tV®ueAndUpd©eCouÁs
(
v®ue
);

598 
cout
 << "Feature was NULL! Possible bug.\n";

600 
	}
}

602 
GroundF—tu»
* 
g‘GroundF—tu»
(
F—tu»
* 
ã©u»
, 
A¼ay
<>& 
groundšg
)

604 
	gã©u»Idx
 = 
ã©u»
->
g‘Id
();

605 
	ggroundIdx
 = 
ã©u»
->
g‘GroundšgIndex
(
groundšg
, 
db_
);

607 
	g®lF—tu»s_
[
ã©u»Idx
].
size
(è<ğ
groundIdx
) {

608 
®lF—tu»s_
[
ã©u»Idx
].
­³nd
((
GroundF—tu»
*)
NULL
);

611 ià(
	g®lF—tu»s_
[
ã©u»Idx
][
groundIdx
] =ğ
NULL
) {

612 
®lF—tu»s_
[
ã©u»Idx
][
groundIdx
]

613 ğ
ã©u»
->
cÚ¡ruùGroundF—tu»
(
this
, 
groundšg
, 
db_
);

616  
	g®lF—tu»s_
[
ã©u»Idx
][
groundIdx
];

619 
	$g‘NumGroundšgs
(
ã©u»Id
) const {

620  
®lF—tu»s_
[
ã©u»Id
].
	`size
();

621 
	}
}

623 
	$dœtyAÎ
() {

624 
i
 = 0; i < 
®lF—tu»s_
.
	`size
(); i++) {

625 
j
 = 0; j < 
®lF—tu»s_
[
i
].
	`size
(); j++) {

626 ià(
®lF—tu»s_
[
i
][
j
] !ğ
NULL
) {

627 
®lF—tu»s_
[
i
][
j
]->
	`£tDœty
();

631 
	}
}

633 
	g´iv©e
:

634 
GroundF—tu»
* 
roÙ_
;

635 
RRF
* 
	g¼f_
;

636 
D©aba£
* 
	gdb_
;

637 
	gnumCouÁs_
;

639 
	gA¼ay
<A¼ay<
	gGroundF—tu»
*> > 
	g®lF—tu»s_
;

643 
šlše
 
GroundF—tu»
* 
	gRecursiveF—tu»
::
cÚ¡ruùGroundF—tu»
(

644 
GroundRRF
* 
¼f
, cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

646 
RecursiveGroundF—tu»
* 
	g»t
 = 
Ãw
 RecursiveGroundFeature(

647 
this
, 
doD”ivsOfLog_
);

649 ià(
	gnumGroundšgs_
.
size
() == 0) {

650 
ÿcheNumGroundšgs
(
db
);

654 
	gi
 = 0; i < 
g‘NumChd»n
(); i++) {

656 
	gA¼ay
<> 
	gchdGroundšg
;

657 
	gA¼aysAcûssÜ
<>* 
	ggroundšgI‹r
 =

658 
g‘ChdGroundšgI‹r
(
i
, 
groundšg
, 
db
);

661 
	ggroundšgI‹r
->
g‘NextCombš©iÚ
(
chdGroundšg
);

662 
	g»t
->
addChd
(
i
, 
¼f
->
g‘GroundF—tu»
(
chd»n_
[i],

663 
chdGroundšg
));

664 } 
	ggroundšgI‹r
->
hasNextCombš©iÚ
());

666 
»Ëa£ChdGroundšgI‹r
(
i
, 
groundšgI‹r
);

669  
	g»t
;

672 
šlše
 
GroundF—tu»
* 
	gCÏu§lF—tu»
::
cÚ¡ruùGroundF—tu»
(

673 
GroundRRF
* 
¼f
, cÚ¡ 
A¼ay
<>& 
groundšg
, 
D©aba£
* 
db
)

675 
CÏu§lGroundF—tu»
* 
	g»t
 = 
Ãw
 CÏu§lGroundF—tu»(
this
);

678 
	gi
 = 0; i < 
g‘NumChd»n
(); i++) {

680 
	gA¼ay
<> 
	gchdGroundšg
;

681 
	gA¼aysAcûssÜ
<>* 
	ggroundšgI‹r
 =

682 
g‘ChdGroundšgI‹r
(
i
, 
groundšg
, 
db
);

685 
	ggroundšgI‹r
->
g‘NextCombš©iÚ
(
chdGroundšg
);

686 
	g»t
->
addChd
(
i
, 
¼f
->
g‘GroundF—tu»
(
chd»n_
[i],

687 
chdGroundšg
));

688 } 
	ggroundšgI‹r
->
hasNextCombš©iÚ
());

690 
»Ëa£ChdGroundšgI‹r
(
i
, 
groundšgI‹r
);

693  
	g»t
;

697 
	gGroundF—tu»
::
	$g‘D”iv
()

699 ià(
dœtyD”iv_
) {

700 ià(
·»Ás_
.
	`size
() == 0) {

701 
ÿchedD”iv_
 = 1.0;

703 
ÿchedD”iv_
 = 0.0;

704 
i
 = 0; i < 
·»Ás_
.
	`size
(); i++) {

705 
ÿchedD”iv_
 +ğ
·»Ás_
[
i
]->
	`g‘D”iv
()

706 * 
·»Ás_
[
i
]->
	`g‘ChdD”iv
(
·»ÁIndiûs_
[i]);

709 
dœtyD”iv_
 = 
çl£
;

712  
ÿchedD”iv_
;

713 
	}
}

715 
	gGroundF—tu»
::
	$£tDœty
()

717 ià(!
dœtyD”iv_
 || !
dœtyV®ue_
 || !
dœtyLogV®ue_
) {

718 
dœtyD”iv_
 = 
Œue
;

719 
dœtyV®ue_
 = 
Œue
;

720 
dœtyLogV®ue_
 = 
Œue
;

721 
i
 = 0; i < 
·»Ás_
.
	`size
(); i++) {

722 
·»Ás_
[
i
]->
	`£tDœty
();

725 
	}
}

727 
	gGroundF—tu»
::
	$upd©eP¬’ts
(
ŞdV®ue
, 
ÃwV®ue
)

729 
i
 = 0; i < 
·»Ás_
.
	`size
(); i++) {

730 
·»Ás_
[
i
]->
	`upd©e
(
·»ÁIndiûs_
[i], 
ŞdV®ue
, 
ÃwV®ue
);

732 
	}
}

734 
	gGroundF—tu»
::
	$upd©eP¬’tCouÁs
(
ŞdV®ue
, 
ÃwV®ue
)

736 
i
 = 0; i < 
·»Ás_
.
	`size
(); i++) {

737 
·»Ás_
[
i
]->
	`upd©eCouÁs
(
·»ÁIndiûs_
[i], 
ŞdV®ue
, 
ÃwV®ue
);

739 
	}
}

	@rrf/lbfgsr.h

1 #iâdeà
LBFGSR_H


2 
	#LBFGSR_H


	)

4 
	~<cm©h
>

5 
	~<c¡dlib
>

6 
	~<f¡»am
>

7 
	~"tim”.h
"

8 
	~"gã©u».h
"

10 cÚ¡ 
	gLBFGSB_PRINT
 = 1;

18 şas 
	cLBFGSR


20 
	mpublic
:

21 
LBFGSR
(cÚ¡ & 
maxI‹r
, cÚ¡ & 
áŞ
, 
§m¶šgF¿c
,

22 
RRF
* cÚ¡& 
¼f
, 
GroundRRF
* cÚ¡& 
g¼f
,

23 cÚ¡ 
A¼ay
<>& 
qu”yP»ds
, cÚ¡ & 
numWts
,

24 
wtOff£t
, 
sigmaSq
, 
boŞ
 
ç¡
=
çl£
)

25 : 
maxI‹r_
(
maxI‹r
), 
áŞ_
(
áŞ
), 
§m¶šgF¿c_
(
§m¶šgF¿c
),

26 
¼f_
(
¼f
), 
g¼f_
(
g¼f
), 
wtOff£t_
(
wtOff£t
), 
sigmaSq_
(
sigmaSq
),

27 
p£udoFa¡_
(
ç¡
),

28 
nbd_
(
NULL
), 
iwa_
(NULL), 
l_
(NULL), 
u_
(NULL), 
g_
(NULL), 
wa_
(NULL),

29 
gA¼ay_
(
numWts
), 
	$qu”yP»ds_
(
qu”yP»ds
)

30 { 
	`š™
(
numWts
); }

33 ~
	$LBFGSR
(è{ 
	`de¡roy
(); 
	}
}

36 
	$£tMaxI‹r
(cÚ¡ & 
™”
è{ 
maxI‹r_
 = i‹r; 
	}
}

38 
	$£tFtŞ
(cÚ¡ & 
tŞ
è{ 
áŞ_
 =Ş; 
	}
}

41 
	$š™
(cÚ¡ & 
numWts
)

43 
	`de¡roy
();

44 
numWts_
 = 
numWts
;

45 
mmax
 = 17;

46 
nbd_
 = 
Ãw
 [
numWts_
+1];

47 
iwa_
 = 
Ãw
 [3*
numWts_
+1];

48 
l_
 = 
Ãw
 [
numWts_
+1];

49 
u_
 = 
Ãw
 [
numWts_
+1];

50 
g_
 = 
Ãw
 [
numWts_
+1];

51 
wa_
 = 
Ãw
 [2*
mmax
*
numWts_
+4*numWts_+12*mmax*mmax+12*mmax+1];

52 
	}
}

55 
	$»In™
(cÚ¡ & 
numWts
)

57 ià(
numWts_
 =ğ
numWts
) ;

58 
	`š™
(
numWts
);

59 
	}
}

62 
	$de¡roy
()

64 ià(
nbd_
 !ğ
NULL
è
d–‘e
 []‚bd_;

65 ià(
iwa_
 !ğ
NULL
è
d–‘e
 [] iwa_;

66 ià(
l_
 !ğ
NULL
è
d–‘e
 []†_;

67 ià(
u_
 !ğ
NULL
è
d–‘e
 [] u_;

68 ià(
g_
 !ğ
NULL
è
d–‘e
 [] g_;

69 ià(
wa_
 !ğ
NULL
è
d–‘e
 [] wa_;

70 
	}
}

73 
	$mšimize
(cÚ¡ & 
numWts
, * cÚ¡ & 
wts
, & 
™”
,
boŞ
& 
”rÜ
)

75 
	`»In™
(
numWts
);

76  
	`mšimize
(
wts
, 
™”
, 
”rÜ
);

77 
	}
}

80 
	$mšimize
(* cÚ¡ & 
wts
, & 
™”
, 
boŞ
& 
”rÜ
)

82 
”rÜ
 = 
çl£
;

83 
m
 = 5;

84 
f
;

85 
çùr
 = 0;

86 
pgtŞ
 = 0;

88 
of¡»am
* 
™fe
 = 
NULL
;

89 
ršt
 = 
LBFGSB_PRINT
;

90 ià(
ršt
 >ğ1è
™fe
 = 
Ãw
 
	`of¡»am
("iterate.dat");

93 
™”
 = 0;

96 
i
 = 0; i <ğ
numWts_
; i++è
nbd_
[i] = 0;

98 
	`¡rıy
(
sk_
,"START");

99 
i
 = 5; i <ğ60; i++è
sk_
[i]=' ';

101 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

102 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

104 
š™ŸlV®ue
 = 0, 
´evV®ue
 = 0, 
ÃwV®ue
;

105 
boŞ
 
fœ¡I‹r
 = 
Œue
;

108 
	`¡ºcmp
(
sk_
,"FG",2)==0 || strncmp(task_,"NEW_X",5)==0)

110 ià(
	`¡ºcmp
(
sk_
,"FG",2)==0)

112 
f
 = 
	`g‘V®ueAndG¿d›Á
(
g_
, 
wts
);

114 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

115 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

117 ià(
fœ¡I‹r
è{ fœ¡I‹¸ğ
çl£
; 
´evV®ue
 = 
f
; 
š™ŸlV®ue
 = f; }

123 ià(
™”
+1 > 
maxI‹r_
) ;

124 ++
™”
;

125 
ÃwV®ue
 = 
f
;

127 ià(
	`çbs
(
ÃwV®ue
-
´evV®ue
è< 
áŞ_
*fabs(prevValue)) ;

128 
´evV®ue
 = 
ÃwV®ue
;

130 
	`£tulb
(
numWts_
,
m
,
wts
,
l_
,
u_
,
nbd_
,
f
,
g_
,
çùr
,
pgtŞ
,
wa_
,
iwa_
,
sk_
,

131 
ršt
,
c§ve_
,
l§ve_
,
i§ve_
,
d§ve_
,
™fe
);

140 ià(
	`¡ºcmp
(
sk_
,"ABNO",4) == 0)

142 
cout
 << "ERROR: LBFGSB faed. R‘uºed ABNO" << 
’dl
;

143 
”rÜ
 = 
Œue
;

144  
š™ŸlV®ue
;

147 ià(
	`¡ºcmp
(
sk_
,"ERROR",5)==0)

149 
cout
 << "ERROR: LBFGSB faed. R‘uºed ERROR" << 
’dl
;

150 
”rÜ
 = 
Œue
;

151  
š™ŸlV®ue
;

154 ià(
	`¡ºcmp
(
sk_
,"CONV",4)==0)

159  
f
;

160 
	}
}

163 
	g´iv©e
:

164 
maxI‹r_
;

165 
	gáŞ_
;

166 
	g§m¶šgF¿c_
;

167 
RRF
* 
	g¼f_
;

168 
GroundRRF
* 
	gg¼f_
;

169 
	gnumWts_
;

170 
	gwtOff£t_
;

171 
	gsigmaSq_
;

172 
boŞ
 
	gp£udoFa¡_
;

175 * 
	gnbd_
;

176 * 
	giwa_
;

177 * 
	gl_
;

178 * 
	gu_
;

179 * 
	gg_
;

180 * 
	gwa_
;

183 
	gA¼ay
<> 
	ggA¼ay_
;

184 
	gA¼ay
<> 
	gqu”yP»ds_
;

186 
	gsk_
[61];

187 
	gc§ve_
[61];

188 
boŞ
 
	gl§ve_
[5];

189 
	gi§ve_
[45];

190 
	gd§ve_
[30];

193 
	g´iv©e
:

194 
	$g‘V®ueAndG¿d›Á
(* cÚ¡ & 
g
, cÚ¡ * cÚ¡ & 
wts
)

196 
i
 = 0; i < 
numWts_
; i++) {

198 
¼f_
->
	`£tWeight
(
i
 + 
wtOff£t_
, 
wts
[i+1]);

202 
g¼f_
->
	`dœtyAÎ
();

203 ià(
p£udoFa¡_
) {

204 
g¼f_
->
	`g‘P£udoCouÁsFa¡
(
gA¼ay_
, 
qu”yP»ds_
, 
§m¶šgF¿c_
);

206 
g¼f_
->
	`g‘P£udoCouÁs
(
gA¼ay_
, 
qu”yP»ds_
, 
§m¶šgF¿c_
);

211 
wÎ
 = 0.0;

212 
i
 = 0; i < 
numWts_
; i++) {

213 
g_
[
i
+1] = -
gA¼ay_
[˜+ 
wtOff£t_
] + 
wts
[i+1]/
sigmaSq_
;

214 
wÎ
 -ğ
wts
[
i
+1] * wts[i+1]/
sigmaSq_
;

217 
v®ue
 = -(
g¼f_
->
	`g‘LogP£udoLik–ihood
(
qu”yP»ds_
è+ 
wÎ
);

219 
	#VERBOSE_DEBUG
 0

	)

220 #ià
VERBOSE_DEBUG


221 
cout
 << "wts";

222 
i
 = 0; i < 
numWts_
; i++) {

223 
cout
 << " " << 
wts
[
i
+1];

225 
cout
 << "\nv® = " << 
v®ue
 << 
’dl
;

226 
cout
 << "grad";

227 
i
 = 0; i < 
numWts_
; i++) {

228 
cout
 << " " << 
g_
[
i
+1];

230 
cout
 << 
’dl
;

233 
cout
 << "G‘tšg v®ue: " << 
v®ue
 << 
’dl
;

235  
v®ue
;

236 
	}
}

239 
	$g‘Idx
(cÚ¡ & 
i
, cÚ¡ & 
j
, cÚ¡ & 
idim
)

241  (
j
-1)*
idim
 + 
i
;

242 
	}
}

245 
	$max
(cÚ¡ & 
a
, cÚ¡ & 
b
è{ ià×>=bè‡;  b; 
	}
}

247 
	$mš
(cÚ¡ & 
a
, cÚ¡ & 
b
è{ ià×<=bè‡;  b; 
	}
}

249 
	$mš
(cÚ¡ & 
a
, cÚ¡ & 
b
è{ ià×<=bè‡;  b; 
	}
}

251 
	$max
(cÚ¡ & 
a
, cÚ¡ & 
b
, cÚ¡ & 
c
)

253 ià(
a
 >ğ
b
 &&‡ >ğ
c
) ‡;

254 ià(
b
 >ğ
a
 && b >ğ
c
)  b;

255 
	`as£¹
(
c
 >ğ
a
 && c >ğ
b
);

256  
c
;

257 
	}
}

448 
	$£tulb
(cÚ¡ & 
n
, cÚ¡ & 
m
, * cÚ¡ & 
x
,

449 cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

450 cÚ¡ * cÚ¡ & 
nbd
, & 
f
, * cÚ¡ & 
g
,

451 cÚ¡ & 
çùr
, cÚ¡ & 
pgtŞ
,

452 * cÚ¡ & 
wa
, * cÚ¡ & 
iwa
,

453 * cÚ¡ & 
sk
, cÚ¡ & 
ršt
,

454 * cÚ¡ & 
c§ve
, 
boŞ
* cÚ¡ & 
l§ve
,

455 * cÚ¡ & 
i§ve
, * cÚ¡ & 
d§ve
,

456 
of¡»am
* 
™fe
)

458 
l1
,
l2
,
l3
,
lws
,
Ì
,
lz
,
É
,
ld
,
lsg
,
lwa
,
lyg
,

459 
lsgo
,
lwy
,
lsy
,
lss
,
lyy
,
lwt
,
lwn
,
l¢d
,
lygo
;

461 ià(
	`¡ºcmp
(
sk
,"START",5)==0)

463 
i§ve
[1] = 
m
*
n
;

464 
i§ve
[2] = 
m
*m;

465 
i§ve
[3] = 4*
m
*m;

466 
i§ve
[4] = 1;

467 
i§ve
[5] = isave[4] + isave[1];

468 
i§ve
[6] = isave[5] + isave[1];

469 
i§ve
[7] = isave[6] + isave[2];

470 
i§ve
[8] = isave[7] + isave[2];

471 
i§ve
[9] = isave[8] + isave[2];

472 
i§ve
[10] = isave[9] + isave[2];

473 
i§ve
[11] = isave[10] + isave[3];

474 
i§ve
[12] = isave[11] + isave[3];

475 
i§ve
[13] = i§ve[12] + 
n
;

476 
i§ve
[14] = i§ve[13] + 
n
;

477 
i§ve
[15] = i§ve[14] + 
n
;

478 
i§ve
[16] = i§ve[15] + 
n
;

479 
i§ve
[17] = i§ve[16] + 8*
m
;

480 
i§ve
[18] = i§ve[17] + 
m
;

481 
i§ve
[19] = i§ve[18] + 
m
;

482 
i§ve
[20] = i§ve[19] + 
m
;

484 
l1
 = 
i§ve
[1];

485 
l2
 = 
i§ve
[2];

486 
l3
 = 
i§ve
[3];

487 
lws
 = 
i§ve
[4];

488 
lwy
 = 
i§ve
[5];

489 
lsy
 = 
i§ve
[6];

490 
lss
 = 
i§ve
[7];

491 
lyy
 = 
i§ve
[8];

492 
lwt
 = 
i§ve
[9];

493 
lwn
 = 
i§ve
[10];

494 
l¢d
 = 
i§ve
[11];

495 
lz
 = 
i§ve
[12];

496 
Ì
 = 
i§ve
[13];

497 
ld
 = 
i§ve
[14];

498 
É
 = 
i§ve
[15];

499 
lwa
 = 
i§ve
[16];

500 
lsg
 = 
i§ve
[17];

501 
lsgo
 = 
i§ve
[18];

502 
lyg
 = 
i§ve
[19];

503 
lygo
 = 
i§ve
[20];

505 
tim”_
.
	`»£t
();

507 
	`mašlb
(
n
,
m
,
x
,
l
,
u
,
nbd
,
f
,
g
,
çùr
,
pgtŞ
,

508 &(
wa
[
lws
-1]),&(wa[
lwy
-1]),&(wa[
lsy
-1]),&(wa[
lss
-1]),&(wa[
lyy
-1]),

509 &(
wa
[
lwt
-1]),&(wa[
lwn
-1]),&(wa[
l¢d
-1]),&(wa[
lz
-1]),&(wa[
Ì
-1]),

510 &(
wa
[
ld
-1]),&(wa[
É
-1]),&(wa[
lwa
-1]),&(wa[
lsg
-1]),&(wa[
lsgo
-1]),

511 &(
wa
[
lyg
-1]),&(wa[
lygo
-1]),&(
iwa
[1-1]),&(iwa[
n
+1-1]),&(iwa[2*n+1-1]),

512 
sk
,
ršt
,
c§ve
,
l§ve
,&(
i§ve
[22-1]),
d§ve
, 
™fe
);

513 
	}
}

695 
	$mašlb
(cÚ¡ & 
n
, cÚ¡ & 
m
, * cÚ¡ & 
x
,

696 cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

697 cÚ¡ * cÚ¡ & 
nbd
, & 
f
, * cÚ¡ & 
g
,

698 cÚ¡ & 
çùr
, cÚ¡ & 
pgtŞ
,

699 * cÚ¡ & 
ws
, * cÚ¡ & 
wy
, * cÚ¡ & 
sy
,

700 * cÚ¡ & 
ss
, * cÚ¡ & 
yy
, * cÚ¡ & 
wt
,

701 * cÚ¡ & 
wn
, * cÚ¡ & 
¢d
, * cÚ¡ & 
z
,

702 * cÚ¡ & 
r
, * cÚ¡ & 
d
, * cÚ¡ & 
t
,

703 * cÚ¡ & 
wa
, * cÚ¡ & 
sg
, * cÚ¡& 
sgo
,

704 * cÚ¡ & 
yg
, * cÚ¡ & 
ygo
, * cÚ¡& 
šdex
,

705 * cÚ¡ & 
iwh”e
, * cÚ¡ & 
šdx2
, * cÚ¡& 
sk
,

706 cÚ¡ & 
ršt
, * cÚ¡& 
c§ve
, 
boŞ
 * cÚ¡& 
l§ve
,

707 * cÚ¡ & 
i§ve
, * cÚ¡ & 
d§ve
, 
of¡»am
* 
™fe
)

709 
boŞ
 
´jùd
,
ú¡nd
,
boxed
,
upd©d
,
wrk
;

710 
wÜd
[4];

711 
k
,
nštŞ
,
iback
,
nsk
,

712 
h—d
,
cŞ
,
™”
,
™a
,
iupd©
,

713 
nšt
,
nfgv
,
šfo
,
ifun
=0,

714 
iwÜd
,
nä“
,
Çù
,
—ve
,
ÃÁ”
;

715 
th‘a
,
fŞd
=0,
dr
,
¼
,
tŞ
,

716 
x¡•
,
sbgÄm
,
ddum
,
dnÜm
=0,
dtd
,
•smch
,

717 
ıu1
=0,
ıu2
,
ÿchyt
,
sbtime
,
Êscht
,
time1
,
time2
,

718 
gd
,
gdŞd
=0,
¡p
,
¡pmx
=0,
time
;

719 
Úe
=1.0,
z”o
=0.0;

721 ià(
ršt
 > 1è{ 
	`as£¹
(
™fe
); }

723 ià(
	`¡ºcmp
(
sk
,"START",5)==0)

725 
time1
 = 
tim”_
.
	`time
();

728 
•smch
 = 
	`dpm•s
();

735 
cŞ
 = 0;

736 
h—d
 = 1;

737 
th‘a
 = 
Úe
;

738 
iupd©
 = 0;

739 
upd©d
 = 
çl£
;

742 
™”
 = 0;

743 
nfgv
 = 0;

744 
nšt
 = 0;

745 
nštŞ
 = 0;

746 
nsk
 = 0;

747 
nä“
 = 
n
;

750 
tŞ
 = 
çùr
*
•smch
;

753 
ÿchyt
 = 0;

754 
sbtime
 = 0;

755 
Êscht
 = 0;

759 
	`¡rıy
(
wÜd
, "---");

762 
šfo
 = 0;

772 
	`”rşb
(
n
,
m
,
çùr
,
l
,
u
,
nbd
,
sk
,
šfo
,
k
);

773 ià(
	`¡ºcmp
(
sk
,"ERROR",5)==0)

775 
	`´n3lb
(
n
,
x
,
f
,
sk
,
ršt
,
šfo
,
™fe
,

776 
™”
,
nfgv
,
nštŞ
,
nsk
,
Çù
,
sbgÄm
,

777 
z”o
,
nšt
,
wÜd
,
iback
,
¡p
,
x¡•
,
k
,

778 
ÿchyt
,
sbtime
,
Êscht
);

782 
	`´n1lb
(
n
,
m
,
l
,
u
,
x
,
ršt
,
™fe
,
•smch
);

785 
	`aùive
(
n
,
l
,
u
,
nbd
,
x
,
iwh”e
,
ršt
,
´jùd
,
ú¡nd
,
boxed
) ;

793 
´jùd
 = 
l§ve
[1];

794 
ú¡nd
 = 
l§ve
[2];

795 
boxed
 = 
l§ve
[3];

796 
upd©d
 = 
l§ve
[4];

798 
nštŞ
 = 
i§ve
[1];

800 
iback
 = 
i§ve
[4];

801 
nsk
 = 
i§ve
[5];

802 
h—d
 = 
i§ve
[6];

803 
cŞ
 = 
i§ve
[7];

804 
™a
 = 
i§ve
[8];

805 
™”
 = 
i§ve
[9];

806 
iupd©
 = 
i§ve
[10];

807 
nšt
 = 
i§ve
[12];

808 
nfgv
 = 
i§ve
[13];

809 
šfo
 = 
i§ve
[14];

810 
ifun
 = 
i§ve
[15];

811 
iwÜd
 = 
i§ve
[16];

812 
nä“
 = 
i§ve
[17];

813 
Çù
 = 
i§ve
[18];

814 
—ve
 = 
i§ve
[19];

815 
ÃÁ”
 = 
i§ve
[20];

817 
th‘a
 = 
d§ve
[1];

818 
fŞd
 = 
d§ve
[2];

819 
tŞ
 = 
d§ve
[3];

820 
dnÜm
 = 
d§ve
[4];

821 
•smch
 = 
d§ve
[5];

822 
ıu1
 = 
d§ve
[6];

823 
ÿchyt
 = 
d§ve
[7];

824 
sbtime
 = 
d§ve
[8];

825 
Êscht
 = 
d§ve
[9];

826 
time1
 = 
d§ve
[10];

827 
gd
 = 
d§ve
[11];

828 
¡pmx
 = 
d§ve
[12];

829 
sbgÄm
 = 
d§ve
[13];

830 
¡p
 = 
d§ve
[14];

831 
gdŞd
 = 
d§ve
[15];

832 
dtd
 = 
d§ve
[16];

837 ià(
	`¡ºcmp
(
sk
,"FG_LN",5)==0è
gÙo66
;

838 ià(
	`¡ºcmp
(
sk
,"NEW_X",5)==0è
gÙo777
;

839 ià(
	`¡ºcmp
(
sk
,"FG_ST",5)==0è
gÙo111
;

840 ià(
	`¡ºcmp
(
sk
,"STOP",4)==0)

842 ià(
	`¡ºcmp
(&(
sk
[6]),"CPU",3)==0)

845 
	`dcİy
(
n
,
t
,1,
x
,1);

846 
	`dcİy
(
n
,
r
,1,
g
,1);

847 
f
 = 
fŞd
;

849 
gÙo999
;

855 
	`¡rıy
(
sk
, "FG_START");

857 
gÙo1000
;

859 
gÙo111
:

861 
nfgv
 = 1;

865 
	`´ojgr
(
n
,
l
,
u
,
nbd
,
x
,
g
,
sbgÄm
);

867 ià(
ršt
 >= 1)

869 
cout
 << "Aˆ™”©" << 
™”
 << ": f=" <<
f
<<", |´oj g|="<<
sbgÄm
<<
’dl
;

870 *
™fe
 << "Aˆ™”©" << 
™”
 << ":‚fgv=" << 
nfgv


871 << ", sbgÄm=" << 
sbgÄm
 << ", f=" << 
f
 << 
’dl
;

874 ià(
sbgÄm
 <ğ
pgtŞ
)

877 
	`¡rıy
(
sk
,"CONVERGENCE: NORM OF PROJECTED GRADIENT <= PGTOL");

878 
gÙo999
;

883 
gÙo222
:

884 ià(
ršt
 >ğ99è
cout
 << "ITERATION " << (
™”
 + 1è<< 
’dl
;

885 
iwÜd
 = -1;

887 ià(!
ú¡nd
 && 
cŞ
 > 0)

890 
	`dcİy
(
n
,
x
,1,
z
,1);

891 
wrk
 = 
upd©d
;

892 
nšt
 = 0;

893 
gÙo333
;

902 
ıu1
 = 
tim”_
.
	`time
();

904 
	`ÿuchy
(
n
,
x
,
l
,
u
,
nbd
,
g
,
šdx2
,
iwh”e
,
t
,
d
,
z
,

905 
m
,
wy
,
ws
,
sy
,
wt
,
th‘a
,
cŞ
,
h—d
,

906 &(
wa
[1-1]),&(wa[2*
m
+1-1]),&(wa[4*m+1-1]),&(wa[6*m+1-1]),
nšt
,

907 
sg
,
yg
,
ršt
,
sbgÄm
,
šfo
,
•smch
);

909 ià(
šfo
 > 0)

912 ià(
ršt
 >= 1)

913 
cout
 << "Singularriangular system detected; "

914 << "»äeshhlbfg memÜy‡nd„e¡¬ˆth™”©iÚ." <<
’dl
;

915 
šfo
 = 0;

916 
cŞ
 = 0;

917 
h—d
 = 1;

918 
th‘a
 = 
Úe
;

919 
iupd©
 = 0;

920 
upd©d
 = 
çl£
;

921 
ıu2
 = 
tim”_
.
	`time
();

922 
ÿchyt
 = cachyˆ+ 
ıu2
 - 
ıu1
;

923 
gÙo222
;

925 
ıu2
 = 
tim”_
.
	`time
();

926 
ÿchyt
 = cachyˆ+ 
ıu2
 - 
ıu1
;

927 
nštŞ
 =‚štŞ + 
nšt
;

932 
	`ä“v
(
n
,
nä“
,
šdex
,
ÃÁ”
,
—ve
,
šdx2
,

933 
iwh”e
,
wrk
,
upd©d
,
ú¡nd
,
ršt
,
™”
);

935 
Çù
 = 
n
 - 
nä“
;

937 
gÙo333
:

942 ià(
nä“
 =ğ0 || 
cŞ
 =ğ0è
gÙo555
;

950 
ıu1
 = 
tim”_
.
	`time
();

958 ià(
wrk
è
	`fÜmk
(
n
,
nä“
,
šdex
,
ÃÁ”
,
—ve
,
šdx2
,
iupd©
,

959 
upd©d
,
wn
,
¢d
,
m
,
ws
,
wy
,
sy
,
th‘a
,
cŞ
,
h—d
,
šfo
);

961 ià(
šfo
 != 0)

965 if(
ršt
 >= 1)

966 
cout
 << "Nonpositive definiteness in Cholesky factorization in formk;"

967 << "»äeshhlbfg memÜy‡nd„e¡¬ˆth™”©iÚ." << 
’dl
;

968 
šfo
 = 0;

969 
cŞ
 = 0;

970 
h—d
 = 1;

971 
th‘a
 = 
Úe
;

972 
iupd©
 = 0;

973 
upd©d
 = 
çl£
;

974 
ıu2
 = 
tim”_
.
	`time
() ;

975 
sbtime
 = sbtim+ 
ıu2
 - 
ıu1
;

976 
gÙo222
;

981 
	`cm´lb
(
n
,
m
,
x
,
g
,
ws
,
wy
,
sy
,
wt
,
z
,
r
,
wa
,
šdex
,

982 
th‘a
,
cŞ
,
h—d
,
nä“
,
ú¡nd
,
šfo
);

984 ià(
šfo
 !ğ0è
gÙo444
;

986 
	`subsm
(
n
,
m
,
nä“
,
šdex
,
l
,
u
,
nbd
,
z
,
r
,
ws
,
wy
,
th‘a
,

987 
cŞ
,
h—d
,
iwÜd
,
wa
,
wn
,
ršt
,
šfo
);

990 
gÙo444
:

991 ià(
šfo
 != 0)

995 if(
ršt
 >= 1)

996 
cout
 << "Singularriangular system detected; "

997 << "»äeshhlbfg memÜy‡nd„e¡¬ˆth™”©iÚ." <<
’dl
;

998 
šfo
 = 0;

999 
cŞ
 = 0;

1000 
h—d
 = 1;

1001 
th‘a
 = 
Úe
;

1002 
iupd©
 = 0;

1003 
upd©d
 = 
çl£
;

1004 
ıu2
 = 
tim”_
.
	`time
();

1005 
sbtime
 = sbtim+ 
ıu2
 - 
ıu1
;

1006 
gÙo222
;

1009 
ıu2
 = 
tim”_
.
	`time
();

1010 
sbtime
 = sbtim+ 
ıu2
 - 
ıu1
 ;

1011 
gÙo555
:

1021 
i
 = 1; i <ğ
n
; i++)

1022 
d
[
i
] = 
z
[i] - 
x
[i];

1024 
ıu1
 = 
tim”_
.
	`time
();

1025 
gÙo66
:

1027 
	`Ê¤lb
(
n
,
l
,
u
,
nbd
,
x
,
f
,
fŞd
,
gd
,
gdŞd
,
g
,
d
,
r
,
t
,
z
,
¡p
,
dnÜm
,

1028 
dtd
,
x¡•
,
¡pmx
,
™”
,
ifun
,
iback
,
nfgv
,
šfo
,
sk
,

1029 
boxed
,
ú¡nd
,
c§ve
,&(
i§ve
[22-1]),&(
d§ve
[17-1]));

1031 ià(
šfo
 !ğ0 || 
iback
 >= 20)

1034 
	`dcİy
(
n
,
t
,1,
x
,1);

1035 
	`dcİy
(
n
,
r
,1,
g
,1);

1036 
f
 = 
fŞd
;

1037 ià(
cŞ
 == 0)

1040 ià(
šfo
 == 0)

1042 
šfo
 = -9;

1044 
nfgv
 -= 1;

1045 
ifun
 -= 1;

1046 
iback
 -= 1;

1048 
	`¡rıy
(
sk
, "ABNORMAL_TERMINATION_IN_LNSRCH");

1049 
™”
 += 1;

1050 
gÙo999
;

1055 if(
ršt
 >= 1)

1056 
cout
 << "Bad direction inhe†ine search; "

1057 << "thlbfg memÜy‡nd„e¡¬ˆth™”©iÚ" << 
’dl
;

1058 ià(
šfo
 =ğ0è
nfgv
 =‚fgv - 1;

1059 
šfo
 = 0;

1060 
cŞ
 = 0;

1061 
h—d
 = 1;

1062 
th‘a
 = 
Úe
;

1063 
iupd©
 = 0;

1064 
upd©d
 = 
çl£
;

1065 
	`¡rıy
(
sk
, "RESTART_FROM_LNSRCH");

1066 
ıu2
 = 
tim”_
.
	`time
();

1067 
Êscht
 +ğ
ıu2
 - 
ıu1
;

1068 
gÙo222
;

1072 ià(
	`¡ºcmp
(
sk
,"FG_LN",5)==0)

1075 
gÙo1000
;

1080 
ıu2
 = 
tim”_
.
	`time
() ;

1081 
Êscht
 +ğ
ıu2
 - 
ıu1
;

1082 
™”
 += 1;

1086 
	`´ojgr
(
n
,
l
,
u
,
nbd
,
x
,
g
,
sbgÄm
);

1090 
	`´n2lb
(
n
,
x
,
f
,
g
,
ršt
,
™fe
,
™”
,
nfgv
,
Çù
,

1091 
sbgÄm
,
nšt
,
wÜd
,
iwÜd
,
iback
,
¡p
,
x¡•
);

1092 
gÙo1000
;

1094 
gÙo777
:

1098 ià(
sbgÄm
 <ğ
pgtŞ
)

1101 
	`¡rıy
(
sk
, "CONVERGENCE: NORM OF PROJECTED GRADIENT <= PGTOL");

1102 
gÙo999
;

1105 
ddum
 = 
	`max
(
	`çbs
(
fŞd
), fabs(
f
), 
Úe
);

1106 ià((
fŞd
 - 
f
è<ğ
tŞ
*
ddum
)

1109 
	`¡rıy
(
sk
, "CONVERGENCE: REL_REDUCTION_OF_F <= FACTR*EPSMCH");

1110 ià(
iback
 >ğ10è
šfo
 = -5;

1112 
gÙo999
;

1117 
i
 = 1; i <ğ
n
; i++)

1118 
r
[
i
] = 
g
[i] -„[i];

1119 
¼
 = 
	`ddÙ
(
n
,
r
,1,r,1);

1120 ià(
¡p
 =ğ
Úe
)

1122 
dr
 = 
gd
 - 
gdŞd
;

1123 
ddum
 = -
gdŞd
;

1127 
dr
 = (
gd
 - 
gdŞd
)*
¡p
;

1128 
	`dsÿl
(
n
,
¡p
,
d
,1);

1129 
ddum
 = -
gdŞd
*
¡p
;

1132 ià(
dr
 <ğ
•smch
*
ddum
)

1135 
nsk
 =‚skip + 1;

1136 
upd©d
 = 
çl£
;

1137 ià(
ršt
 >= 1)

1138 
cout
 << " ys=" << 
dr
 << " -gs=" <<
ddum
<<" BFSG upd©SKIPPED"<<
’dl
;

1139 
gÙo888
;

1148 
upd©d
 = 
Œue
;

1149 
iupd©
 += 1;

1153 
	`m©upd
(
n
,
m
,
ws
,
wy
,
sy
,
ss
,
d
,
r
,
™a
,

1154 
iupd©
,
cŞ
,
h—d
,
th‘a
,
¼
,
dr
,
¡p
,
dtd
);

1161 
	`fÜmt
(
m
,
wt
,
sy
,
ss
,
cŞ
,
th‘a
,
šfo
);

1163 ià(
šfo
 != 0)

1167 if(
ršt
 >= 1)

1168 
cout
 << "Nonpositive definiteness in Cholesky factorization in formt; "

1169 << "»äeshhlbfg memÜy‡nd„e¡¬ˆth™”©iÚ." << 
’dl
;

1170 
šfo
 = 0;

1171 
cŞ
 = 0;

1172 
h—d
 = 1;

1173 
th‘a
 = 
Úe
;

1174 
iupd©
 = 0;

1175 
upd©d
 = 
çl£
;

1176 
gÙo222
;

1184 
gÙo888
:

1188 
gÙo222
;

1190 
gÙo999
:

1191 
time2
 = 
tim”_
.
	`time
();

1192 
time
 = 
time2
 - 
time1
;

1193 
	`´n3lb
(
n
,
x
,
f
,
sk
,
ršt
,
šfo
,
™fe
,

1194 
™”
,
nfgv
,
nštŞ
,
nsk
,
Çù
,
sbgÄm
,

1195 
time
,
nšt
,
wÜd
,
iback
,
¡p
,
x¡•
,
k
,

1196 
ÿchyt
,
sbtime
,
Êscht
);

1197 
gÙo1000
:

1200 
l§ve
[1] = 
´jùd
;

1201 
l§ve
[2] = 
ú¡nd
;

1202 
l§ve
[3] = 
boxed
;

1203 
l§ve
[4] = 
upd©d
;

1205 
i§ve
[1] = 
nštŞ
;

1207 
i§ve
[4] = 
iback
;

1208 
i§ve
[5] = 
nsk
;

1209 
i§ve
[6] = 
h—d
;

1210 
i§ve
[7] = 
cŞ
;

1211 
i§ve
[8] = 
™a
;

1212 
i§ve
[9] = 
™”
;

1213 
i§ve
[10] = 
iupd©
;

1214 
i§ve
[12] = 
nšt
;

1215 
i§ve
[13] = 
nfgv
;

1216 
i§ve
[14] = 
šfo
;

1217 
i§ve
[15] = 
ifun
;

1218 
i§ve
[16] = 
iwÜd
;

1219 
i§ve
[17] = 
nä“
;

1220 
i§ve
[18] = 
Çù
;

1221 
i§ve
[19] = 
—ve
;

1222 
i§ve
[20] = 
ÃÁ”
;

1224 
d§ve
[1] = 
th‘a
;

1225 
d§ve
[2] = 
fŞd
;

1226 
d§ve
[3] = 
tŞ
;

1227 
d§ve
[4] = 
dnÜm
;

1228 
d§ve
[5] = 
•smch
;

1229 
d§ve
[6] = 
ıu1
;

1230 
d§ve
[7] = 
ÿchyt
;

1231 
d§ve
[8] = 
sbtime
;

1232 
d§ve
[9] = 
Êscht
;

1233 
d§ve
[10] = 
time1
;

1234 
d§ve
[11] = 
gd
;

1235 
d§ve
[12] = 
¡pmx
;

1236 
d§ve
[13] = 
sbgÄm
;

1237 
d§ve
[14] = 
¡p
;

1238 
d§ve
[15] = 
gdŞd
;

1239 
d§ve
[16] = 
dtd
;

1241 
	}
}

1271 
	$aùive
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
l
,

1272 cÚ¡ * cÚ¡ & 
u
, cÚ¡ * cÚ¡ & 
nbd
,

1273 * cÚ¡ & 
x
, * cÚ¡ & 
iwh”e
, cÚ¡ & 
ršt
,

1274 
boŞ
& 
´jùd
, boŞ& 
ú¡nd
, boŞ& 
boxed
)

1277 
nbdd
;

1278 
z”o
=0.0;

1281 
nbdd
 = 0;

1282 
´jùd
 = 
çl£
;

1283 
ú¡nd
 = 
çl£
;

1284 
boxed
 = 
Œue
;

1288 
i
 = 1; i <ğ
n
; i++)

1290 ià(
nbd
[
i
] > 0)

1292 ià(
nbd
[
i
] <ğ2 && 
x
[i] <ğ
l
[i])

1294 ià(
x
[
i
] < 
l
[i])

1296 
´jùd
 = 
Œue
;

1297 
x
[
i
] = 
l
[i];

1299 
nbdd
 += 1;

1302 ià(
nbd
[
i
] >ğ2 && 
x
[i] >ğ
u
[i])

1304 ià(
x
[
i
] > 
u
[i])

1306 
´jùd
 = 
Œue
;

1307 
x
[
i
] = 
u
[i];

1309 
nbdd
 += 1;

1316 
i
 = 1; i <ğ
n
; i++)

1318 ià(
nbd
[
i
] !ğ2è
boxed
 = 
çl£
;

1319 ià(
nbd
[
i
] == 0)

1322 
iwh”e
[
i
] = -1;

1327 
ú¡nd
 = 
Œue
;

1328 ià(
nbd
[
i
] =ğ2 && (
u
[i]-
l
[i]è<ğ
z”o
)

1331 
iwh”e
[
i
] = 3;

1334 
iwh”e
[
i
] = 0;

1338 ià(
ršt
 >= 0)

1340 ià(
´jùd
)

1341 
cout
 << "The initial X is infeasible. Restart with its…rojection."

1342 << 
’dl
;

1343 ià(!
ú¡nd
è
cout
 << "Thi ´obËm i uncÚ¡¿šed." << 
’dl
;

1346 ià(
ršt
 > 0)

1347 
cout
 << "AˆX0 " << 
nbdd
 << " v¬ŸbË ¬exaùly‡ˆthbounds" <<
’dl
;

1348 
	}
}

1409 
	$bmv
(cÚ¡ & 
m
, * cÚ¡ & 
sy
, * cÚ¡ & 
wt
,

1410 cÚ¡ & 
cŞ
, cÚ¡ * cÚ¡ & 
v
, * cÚ¡ & 
p
,

1411 & 
šfo
)

1414 
i2
;

1415 
sum
;

1417 ià(
cŞ
 == 0) ;

1423 
p
[
cŞ
+1] = 
v
[col+1];

1425 
i
 = 2; i <ğ
cŞ
; i++)

1427 
i2
 = 
cŞ
 + 
i
;

1428 
sum
 = 0;

1429 
k
 = 1; k <ğ
i
-1; k++)

1430 
sum
 +ğ
sy
[
	`g‘Idx
(
i
,
k
,
m
)]*
v
[k]/sy[getIdx(k,k,m)];

1432 
p
[
i2
] = 
v
[i2] + 
sum
;

1436 
	`dŒ¦
(
wt
,
m
,
cŞ
,&(
p
[cŞ+1-1]),11,
šfo
);

1437 ià(
šfo
 != 0) ;

1440 
i
 = 1; i <ğ
cŞ
; i++)

1441 
p
[
i
] = 
v
[i]/
	`sq¹
(
sy
[
	`g‘Idx
(i,i,
m
)]);

1447 
	`dŒ¦
(
wt
,
m
,
cŞ
,&(
p
[cŞ+1-1]),1,
šfo
);

1448 ià(
šfo
 != 0) ;

1452 
i
 = 1; i <ğ
cŞ
; i++)

1453 
p
[
i
] = -p[i]/
	`sq¹
(
sy
[
	`g‘Idx
(i,i,
m
)]);

1455 
i
 = 1; i <ğ
cŞ
; i++)

1457 
sum
 = 0;

1458 
k
 = 
i
+1; i <ğ
cŞ
; i++)

1459 
sum
 +ğ
sy
[
	`g‘Idx
(
k
,
i
,
m
)]*
p
[
cŞ
+k]/sy[getIdx(i,i,m)];

1460 
p
[
i
] +ğ
sum
;

1462 
	}
}

1642 
	$ÿuchy
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
x
,

1643 cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

1644 cÚ¡ * cÚ¡ & 
nbd
, cÚ¡ * cÚ¡ & 
g
,

1645 * cÚ¡ & 
iÜd”
, * cÚ¡ & 
iwh”e
,

1646 * cÚ¡ & 
t
, * cÚ¡ & 
d
, * cÚ¡ & 
xı
,

1647 cÚ¡ & 
m
, * cÚ¡ & 
wy
,

1648 * cÚ¡ & 
ws
, * cÚ¡ & 
sy
,

1649 * cÚ¡ & 
wt
, & 
th‘a
,

1650 cÚ¡ & 
cŞ
, cÚ¡ & 
h—d
, * cÚ¡ & 
p
,

1651 * cÚ¡ & 
c
, * cÚ¡ & 
wbp
,

1652 * cÚ¡ & 
v
, & 
nšt
, cÚ¡ * cÚ¡ & 
sg
,

1653 cÚ¡ * cÚ¡ & 
yg
, cÚ¡ & 
ršt
,

1654 cÚ¡ & 
sbgÄm
, & 
šfo
, cÚ¡ & 
•smch
)

1656 
boŞ
 
xlow”
,
xuµ”
,
bnded
;

1658 
cŞ2
,
nä“
,
nb»ak
,
pošŒ
,

1659 
ibp
,
Æeá
,
ibkmš
,
™”
;

1660 
f1
,
f2
,
dt
,
dtm
,
tsum
,
dibp
,
zibp
,
dibp2
,
bkmš
,

1661 
tu
=0,

=0,
wmc
,
wmp
,
wmw
,
tj
,
tj0
,
Ãggi
,

1662 
f2_Üg
;

1663 
Úe
=1,
z”o
=0;

1669 ià(
sbgÄm
 <ğ
z”o
)

1671 ià(
ršt
 >ğ0è
cout
 << "SubgnÜm = 0. GCP = X." << 
’dl
;

1672 
	`dcİy
(
n
,
x
,1,
xı
,1);

1675 
bnded
 = 
Œue
;

1676 
nä“
 = 
n
 + 1;

1677 
nb»ak
 = 0;

1678 
ibkmš
 = 0;

1679 
bkmš
 = 
z”o
;

1680 
cŞ2
 = 2*
cŞ
;

1681 
f1
 = 
z”o
;

1682 ià(
ršt
 >= 99)

1683 
cout
 << "---------------- CAUCHYƒÁ”ed-------------------" << 
’dl
;

1686 
i
 = 1; i <ğ
cŞ2
; i++)

1687 
p
[
i
] = 
z”o
;

1693 
i
 = 1; i <ğ
n
; i++)

1695 
Ãggi
 = -
g
[
i
];

1696 ià(
iwh”e
[
i
] != 3 && iwhere[i] != -1)

1700 ià(
nbd
[
i
] <ğ2è

 = 
x
[i] - 
l
[i];

1701 ià(
nbd
[
i
] >ğ2è
tu
 = 
u
[i] - 
x
[i];

1705 
xlow”
 = (
nbd
[
i
] <ğ2 && 

 <ğ
z”o
);

1706 
xuµ”
 = (
nbd
[
i
] >ğ2 && 
tu
 <ğ
z”o
);

1709 
iwh”e
[
i
] = 0;

1710 ià(
xlow”
)

1712 ià(
Ãggi
 <ğ
z”o
è
iwh”e
[
i
] = 1;

1715 ià(
xuµ”
)

1717 ià(
Ãggi
 >ğ
z”o
è
iwh”e
[
i
] = 2;

1721 ià(
	`çbs
(
Ãggi
è<ğ
z”o
è
iwh”e
[
i
] = -3;

1724 
pošŒ
 = 
h—d
;

1725 ià(
iwh”e
[
i
] != 0 && iwhere[i] != -1)

1726 
d
[
i
] = 
z”o
;

1729 
d
[
i
] = 
Ãggi
;

1730 
f1
 -ğ
Ãggi
*neggi;

1732 
j
 = 1; j <ğ
cŞ
; j++)

1734 
p
[
j
] +ğ
wy
[
	`g‘Idx
(
i
,
pošŒ
,
n
)] * 
Ãggi
;

1735 
p
[
cŞ
 + 
j
] +ğ
ws
[
	`g‘Idx
(
i
,
pošŒ
,
n
)] * 
Ãggi
;

1736 
pošŒ
 =…ošŒ%
m
 + 1;

1738 ià(
nbd
[
i
] <ğ2 &&‚bd[i] !ğ0 && 
Ãggi
 < 
z”o
)

1741 
nb»ak
 += 1;

1742 
iÜd”
[
nb»ak
] = 
i
;

1743 
t
[
nb»ak
] = 

/(-
Ãggi
);

1744 ià(
nb»ak
 =ğ1 || 
t
[nb»ak] < 
bkmš
)

1746 
bkmš
 = 
t
[
nb»ak
];

1747 
ibkmš
 = 
nb»ak
;

1751 ià(
nbd
[
i
] >ğ2 && 
Ãggi
 > 
z”o
)

1754 
nb»ak
 += 1;

1755 
iÜd”
[
nb»ak
] = 
i
;

1756 
t
[
nb»ak
] = 
tu
/
Ãggi
;

1757 ià(
nb»ak
 =ğ1 || 
t
[nb»ak] < 
bkmš
)

1759 
bkmš
 = 
t
[
nb»ak
];

1760 
ibkmš
 = 
nb»ak
;

1766 
nä“
 -= 1;

1767 
iÜd”
[
nä“
] = 
i
;

1768 ià(
	`çbs
(
Ãggi
è> 
z”o
è
bnded
 = 
çl£
;

1778 ià(
th‘a
 !ğ
Úe
)

1781 
	`dsÿl
(
cŞ
,
th‘a
,&(
p
[col+1-1]),1);

1786 
	`dcİy
(
n
,
x
,1,
xı
,1);

1788 ià(
nb»ak
 =ğ0 && 
nä“
 =ğ
n
 + 1)

1791 ià(
ršt
 > 100)

1793 
cout
 << "Cauchy X = ";

1794 
i
 = 1; i <ğ
n
; i++)

1795 
cout
 << 
xı
[
i
] << " ";

1796 
cout
 << 
’dl
;

1803 
j
 = 1; j <ğ
cŞ2
; j++)

1804 
c
[
j
] = 
z”o
;

1808 
f2
 = -
th‘a
*
f1
;

1809 
f2_Üg
 = 
f2
;

1810 ià(
cŞ
 > 0)

1812 
	`bmv
(
m
,
sy
,
wt
,
cŞ
,
p
,
v
,
šfo
);

1813 ià(
šfo
 != 0) ;

1814 
f2
 -ğ
	`ddÙ
(
cŞ2
,
v
,1,
p
,1);

1816 
dtm
 = -
f1
/
f2
;

1817 
tsum
 = 
z”o
;

1818 
nšt
 = 1;

1819 ià(
ršt
 >= 99)

1820 
cout
 << "Th”¬" << 
nb»ak
 << " b»akpošts" << 
’dl
;

1824 ià(
nb»ak
 =ğ0è
gÙo888
;

1826 
Æeá
 = 
nb»ak
;

1827 
™”
 = 1;

1829 
tj
 = 
z”o
;

1833 
gÙo777
:

1838 
tj0
 = 
tj
;

1839 ià(
™”
 == 1)

1844 
tj
 = 
bkmš
;

1845 
ibp
 = 
iÜd”
[
ibkmš
];

1849 ià(
™”
 == 2)

1853 ià(
ibkmš
 !ğ
nb»ak
)

1855 
t
[
ibkmš
] =[
nb»ak
];

1856 
iÜd”
[
ibkmš
] = iÜd”[
nb»ak
];

1862 
	`hpsŞb
(
Æeá
,
t
,
iÜd”
,
™”
-2);

1863 
tj
 = 
t
[
Æeá
];

1864 
ibp
 = 
iÜd”
[
Æeá
];

1867 
dt
 = 
tj
 - 
tj0
;

1869 ià(
dt
 !ğ
z”o
 && 
ršt
 >= 100)

1871 
cout
 << "P›û " << 
nšt
 << " --f1, f2‡t start…oint "

1872 << 
f1
 << "," << 
f2
 << 
’dl
;

1873 
cout
 << "Di¡ªûØthÃxˆb»ak…ošˆğ" << 
dt
 << 
’dl
;

1874 
cout
 << "Di¡ªûØth¡©iÚ¬y…ošˆğ" << 
dtm
 << 
’dl
;

1879 ià(
dtm
 < 
dt
è
gÙo888
;

1884 
tsum
 +ğ
dt
;

1885 
Æeá
 -= 1;

1886 
™”
 += 1;

1887 
dibp
 = 
d
[
ibp
];

1888 
d
[
ibp
] = 
z”o
;

1889 ià(
dibp
 > 
z”o
)

1891 
zibp
 = 
u
[
ibp
] - 
x
[ibp];

1892 
xı
[
ibp
] = 
u
[ibp];

1893 
iwh”e
[
ibp
] = 2;

1897 
zibp
 = 
l
[
ibp
] - 
x
[ibp];

1898 
xı
[
ibp
] = 
l
[ibp];

1899 
iwh”e
[
ibp
] = 1;

1901 ià(
ršt
 >ğ100è
cout
 << "V¬ŸbË " << 
ibp
 << " i fixed." << 
’dl
;

1902 ià(
Æeá
 =ğ0 && 
nb»ak
 =ğ
n
)

1905 
dtm
 = 
dt
;

1906 
gÙo999
;

1911 
nšt
 += 1;

1912 
dibp2
 = 
dibp
*dibp;

1917 
f1
 +ğ
dt
*
f2
 + 
dibp2
 - 
th‘a
*
dibp
*
zibp
;

1918 
f2
 -ğ
th‘a
*
dibp2
;

1920 ià(
cŞ
 > 0)

1923 
	`daxpy
(
cŞ2
,
dt
,
p
,1,
c
,1);

1927 
pošŒ
 = 
h—d
;

1928 
j
 = 1; j <ğ
cŞ
; j++)

1930 
wbp
[
j
] = 
wy
[
	`g‘Idx
(
ibp
,
pošŒ
,
n
)];

1931 
wbp
[
cŞ
 + 
j
] = 
th‘a
*
ws
[
	`g‘Idx
(
ibp
,
pošŒ
,
n
)];

1932 
pošŒ
 =…ošŒ%
m
 + 1;

1935 
	`bmv
(
m
,
sy
,
wt
,
cŞ
,
wbp
,
v
,
šfo
);

1936 ià(
šfo
 != 0) ;

1937 
wmc
 = 
	`ddÙ
(
cŞ2
,
c
,1,
v
,1);

1938 
wmp
 = 
	`ddÙ
(
cŞ2
,
p
,1,
v
,1);

1939 
wmw
 = 
	`ddÙ
(
cŞ2
,
wbp
,1,
v
,1);

1942 
	`daxpy
(
cŞ2
,-
dibp
,
wbp
,1,
p
,1);

1945 
f1
 +ğ
dibp
*
wmc
;

1946 
f2
 +ğ2.0*
dibp
*
wmp
 - 
dibp2
*
wmw
;

1949 
f2
 = 
	`max
(
•smch
*
f2_Üg
,f2);

1950 ià(
Æeá
 > 0)

1952 
dtm
 = -
f1
/
f2
;

1953 
gÙo777
;

1957 if(
bnded
)

1959 
f1
 = 
z”o
;

1960 
f2
 = 
z”o
;

1961 
dtm
 = 
z”o
;

1964 
dtm
 = -
f1
/
f2
;

1968 
gÙo888
:

1969 ià(
ršt
 >= 99)

1971 
cout
 << 
’dl
 << "GCP found inhis segment" <<ƒndl

1972 << "P›û " << 
nšt
 << " --f1, f2‡t start…oint "

1973 << 
f1
 << "," << 
f2
 << 
’dl


1974 << "Di¡ªûØth¡©iÚ¬y…ošˆğ" << 
dtm
 << 
’dl
;

1977 ià(
dtm
 <ğ
z”o
) dtm = zero;

1978 
tsum
 +ğ
dtm
;

1983 
	`daxpy
(
n
,
tsum
,
d
,1,
xı
,1);

1985 
gÙo999
:

1990 ià(
cŞ
 > 0è
	`daxpy
(
cŞ2
,
dtm
,
p
,1,
c
,1);

1991 ià(
ršt
 > 100)

1993 
cout
<< "Cauchy X = ";

1994 
i
 = 1; i <=
n
; i++)

1995 
cout
 << 
xı
[
i
] << " ";

1996 
cout
 << 
’dl
;

1998 ià(
ršt
 >= 99)

1999 
cout
 << "----------------ƒx™ CAUCHY----------------------" << 
’dl
;

2000 
	}
}

2027 
	$cm´lb
(cÚ¡ & 
n
, cÚ¡ & 
m
, cÚ¡ * cÚ¡ & 
x
,

2028 cÚ¡ * cÚ¡ & 
g
, * cÚ¡ & 
ws
,

2029 * cÚ¡ & 
wy
, * cÚ¡ & 
sy
,

2030 * cÚ¡ & 
wt
, cÚ¡ * cÚ¡ & 
z
,

2031 * cÚ¡ & 
r
, * cÚ¡ & 
wa
,

2032 cÚ¡ * cÚ¡ & 
šdex
, cÚ¡ & 
th‘a
,

2033 cÚ¡ & 
cŞ
, cÚ¡ & 
h—d
, cÚ¡ & 
nä“
,

2034 cÚ¡ 
boŞ
& 
ú¡nd
, & 
šfo
)

2037 
k
,
pošŒ
,
idx
;

2038 
a1
,
a2
;

2040 ià(!
ú¡nd
 && 
cŞ
 > 0)

2042 
i
 = 1; i <ğ
n
; i++)

2043 
r
[
i
] = -
g
[i];

2047 
i
 = 1; i <ğ
nä“
; i++)

2049 
k
 = 
šdex
[
i
];

2050 
r
[
i
] = -
th‘a
*(
z
[
k
] - 
x
[k]è- 
g
[k];

2052 
	`bmv
(
m
,
sy
,
wt
,
cŞ
,&(
wa
[2*m+1-1]),&(wa[1-1]),
šfo
);

2053 ià(
šfo
 != 0)

2055 
šfo
 = -8;

2058 
pošŒ
 = 
h—d
;

2059 
j
 = 1; j <ğ
cŞ
; j++)

2061 
a1
 = 
wa
[
j
];

2062 
a2
 = 
th‘a
*
wa
[
cŞ
 + 
j
];

2063 
i
 = 1; i <ğ
nä“
; i++)

2065 
k
 = 
šdex
[
i
];

2066 
idx
 = 
	`g‘Idx
(
k
,
pošŒ
,
n
);

2067 
r
[
i
] +ğ
wy
[
idx
]*
a1
 + 
ws
[idx]*
a2
;

2070 
pošŒ
 =…ošŒ%
m
 + 1;

2073 
	}
}

2095 
	$”rşb
(cÚ¡ & 
n
, cÚ¡ & 
m
, cÚ¡ & 
çùr
,

2096 cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

2097 cÚ¡ * cÚ¡ & 
nbd
, * cÚ¡ & 
sk
, & 
šfo
,

2098 & 
k
)

2102 
z”o
=0.0;

2106 ià(
n
 <ğ0è
	`¡rıy
(
sk
,"ERROR: N <= 0");

2107 ià(
m
 <ğ0è
	`¡rıy
(
sk
,"ERROR: M <= 0");

2108 ià(
çùr
 < 
z”o
è
	`¡rıy
(
sk
,"ERROR: FACTR < 0");

2111 
i
 = 1; i <ğ
n
; i++)

2113 ià(
nbd
[
i
] < 0 ||‚bd[i] > 3)

2116 
	`¡rıy
(
sk
,"ERROR: INVALID NBD");

2117 
šfo
 = -6;

2118 
k
 = 
i
;

2120 ià(
nbd
[
i
] == 2)

2122 ià(
l
[
i
] > 
u
[i])

2125 
	`¡rıy
(
sk
, "ERROR: NO FEASIBLE SOLUTION");

2126 
šfo
 = -7;

2127 
k
 = 
i
;

2131 
	}
}

2257 
	$fÜmk
(cÚ¡ & 
n
, cÚ¡ & 
nsub
, cÚ¡ * cÚ¡ & 
šd
,

2258 cÚ¡ & 
ÃÁ”
, cÚ¡ & 
—ve
,

2259 cÚ¡ * cÚ¡ & 
šdx2
, cÚ¡ & 
iupd©
,

2260 cÚ¡ 
boŞ
& 
upd©d
, * cÚ¡ & 
wn
,

2261 * cÚ¡ & 
wn1
, cÚ¡ & 
m
,

2262 * cÚ¡ & 
ws
, * cÚ¡ & 
wy
,

2263 * cÚ¡ & 
sy
, cÚ¡ & 
th‘a
,

2264 cÚ¡ & 
cŞ
, cÚ¡ & 
h—d
, & 
šfo
)

2267 
m2
,
Ár
,
j²Œ
,
iy
,
is
,
jy
,
js
,
is1
,
js1
,
k1
,

2268 
cŞ2
,
pbegš
,
³nd
,
dbegš
,
d’d
,
upş
;

2269 
idx1
, 
idx2
;

2270 
‹mp1
,
‹mp2
,
‹mp3
,
‹mp4
;

2272 
z”o
=0.0;

2274 
m2
 = 2*
m
;

2282 ià(
upd©d
)

2284 ià(
iupd©
 > 
m
)

2287 
jy
 = 1; jy <ğ
m
-1; jy++)

2289 
js
 = 
m
 + 
jy
;

2290 
	`dcİy
(
m
-
jy
,&(
wn1
[
	`g‘Idx
(jy+1,jy+1,
m2
)-1]),1,

2291 &(
wn1
[
	`g‘Idx
(
jy
,jy,
m2
)-1]),1);

2292 
	`dcİy
(
m
-
jy
,&(
wn1
[
	`g‘Idx
(
js
+1,js+1,
m2
)-1]),1,

2293 &(
wn1
[
	`g‘Idx
(
js
,js,
m2
)-1]), 1);

2294 
	`dcİy
(
m
-1, &(
wn1
[
	`g‘Idx
(m+2,
jy
+1,
m2
)-1]), 1,

2295 &(
wn1
[
	`g‘Idx
(
m
+1,
jy
,
m2
)-1]),1);

2300 
pbegš
 = 1;

2301 
³nd
 = 
nsub
;

2302 
dbegš
 = 
nsub
 + 1;

2303 
d’d
 = 
n
;

2304 
iy
 = 
cŞ
;

2305 
is
 = 
m
 + 
cŞ
;

2306 
Ár
 = 
h—d
 + 
cŞ
 - 1;

2307 ià(
Ár
 > 
m
) ipntr -= m ;

2308 
j²Œ
 = 
h—d
;

2310 
jy
 = 1; jy <ğ
cŞ
; jy++)

2312 
js
 = 
m
 + 
jy
;

2313 
‹mp1
 = 
z”o
;

2314 
‹mp2
 = 
z”o
;

2315 
‹mp3
 = 
z”o
;

2317 
k
 = 
pbegš
; k <ğ
³nd
; k++)

2319 
k1
 = 
šd
[
k
];

2320 
‹mp1
 +ğ
wy
[
	`g‘Idx
(
k1
,
Ár
,
n
)]*wy[g‘Idx(k1,
j²Œ
,n)];

2323 
k
 = 
dbegš
; k <ğ
d’d
; k++)

2325 
k1
 = 
šd
[
k
];

2326 
idx1
 = 
	`g‘Idx
(
k1
,
Ár
,
n
);

2327 
idx2
 = 
	`g‘Idx
(
k1
,
j²Œ
,
n
);

2328 
‹mp2
 +ğ
ws
[
idx1
] * ws[
idx2
];

2329 
‹mp3
 +ğ
ws
[
idx1
] * 
wy
[
idx2
];

2331 
wn1
[
	`g‘Idx
(
iy
,
jy
,
m2
)] = 
‹mp1
;

2332 
wn1
[
	`g‘Idx
(
is
,
js
,
m2
)] = 
‹mp2
;

2333 
wn1
[
	`g‘Idx
(
is
,
jy
,
m2
)] = 
‹mp3
;

2334 
j²Œ
 = j²Œ%
m
 + 1;

2338 
jy
 = 
cŞ
;

2339 
j²Œ
 = 
h—d
 + 
cŞ
 - 1;

2340 ià(
j²Œ
 > 
m
) jpntr -= m;

2341 
Ár
 = 
h—d
;

2342 
i
 = 1; i <ğ
cŞ
; i++)

2344 
is
 = 
m
 + 
i
;

2345 
‹mp3
 = 
z”o
;

2347 
k
 = 
pbegš
; k <ğ
³nd
; k++)

2349 
k1
 = 
šd
[
k
];

2350 
‹mp3
 +ğ
ws
[
	`g‘Idx
(
k1
,
Ár
,
n
)]*
wy
[g‘Idx(k1,
j²Œ
,n)];

2352 
Ár
 = i²Œ%
m
 + 1;

2353 
wn1
[
	`g‘Idx
(
is
,
jy
,
m2
)] = 
‹mp3
;

2355 
upş
 = 
cŞ
 - 1;

2358 
upş
 = 
cŞ
;

2362 
Ár
 = 
h—d
;

2364 
iy
 = 1; iy <ğ
upş
; iy++)

2366 
is
 = 
m
 + 
iy
;

2367 
j²Œ
 = 
h—d
;

2369 
jy
 = 1; jy <ğ
iy
; jy++)

2371 
js
 = 
m
 + 
jy
;

2372 
‹mp1
 = 
z”o
;

2373 
‹mp2
 = 
z”o
;

2374 
‹mp3
 = 
z”o
;

2375 
‹mp4
 = 
z”o
;

2376 
k
 = 1; k <ğ
ÃÁ”
; k++)

2378 
k1
 = 
šdx2
[
k
];

2379 
idx1
 = 
	`g‘Idx
(
k1
,
Ár
,
n
);

2380 
idx2
 = 
	`g‘Idx
(
k1
,
j²Œ
,
n
);

2381 
‹mp1
 +ğ
wy
[
idx1
]*wy[
idx2
];

2382 
‹mp2
 +ğ
ws
[
idx1
]*ws[
idx2
];

2384 
k
 = 
—ve
; k <ğ
n
; k++)

2386 
k1
 = 
šdx2
[
k
];

2387 
idx1
 = 
	`g‘Idx
(
k1
,
Ár
,
n
);

2388 
idx2
 = 
	`g‘Idx
(
k1
,
j²Œ
,
n
);

2389 
‹mp3
 +ğ
wy
[
idx1
]*wy[
idx2
];

2390 
‹mp4
 +ğ
ws
[
idx1
]*ws[
idx2
];

2392 
wn1
[
	`g‘Idx
(
iy
,
jy
,
m2
)] +ğ
‹mp1
 - 
‹mp3
;

2393 
wn1
[
	`g‘Idx
(
is
,
js
,
m2
)] +ğ
‹mp4
 - 
‹mp2
;

2394 
j²Œ
 = j²Œ%
m
 + 1;

2396 
Ár
 = i²Œ%
m
 + 1;

2399 
Ár
 = 
h—d
;

2401 
is
 = 
m
+1; i <ğm + 
upş
; is++)

2403 
j²Œ
 = 
h—d
;

2404 
jy
 = 1; jy <ğ
upş
; jy++)

2406 
‹mp1
 = 
z”o
;

2407 
‹mp3
 = 
z”o
;

2409 
k
 = 1; k <ğ
ÃÁ”
; k++)

2411 
k1
 = 
šdx2
[
k
];

2412 
‹mp1
 +ğ
ws
[
	`g‘Idx
(
k1
,
Ár
,
n
)]*
wy
[g‘Idx(k1,
j²Œ
,n)];

2414 
k
 = 
—ve
; k <ğ
n
; k++)

2416 
k1
 = 
šdx2
[
k
];

2417 
‹mp3
 +ğ
ws
[
	`g‘Idx
(
k1
,
Ár
,
n
)]*
wy
[g‘Idx(k1,
j²Œ
,n)];

2419 ià(
is
 <ğ
jy
 + 
m
)

2420 
wn1
[
	`g‘Idx
(
is
,
jy
,
m2
)] +ğ
‹mp1
 - 
‹mp3
;

2422 
wn1
[
	`g‘Idx
(
is
,
jy
,
m2
)] +ğ
‹mp3
 - 
‹mp1
;

2424 
j²Œ
 = j²Œ%
m
 + 1;

2426 
Ár
 = i²Œ%
m
 + 1;

2431 
iy
 = 1; iy <ğ
cŞ
; iy++)

2433 
is
 = 
cŞ
 + 
iy
;

2434 
is1
 = 
m
 + 
iy
;

2435 
jy
 = 1; jy <ğ
iy
; jy++)

2437 
js
 = 
cŞ
 + 
jy
;

2438 
js1
 = 
m
 + 
jy
;

2439 
wn
[
	`g‘Idx
(
jy
,
iy
,
m2
)] = 
wn1
[g‘Idx(iy,jy,m2)]/
th‘a
;

2440 
wn
[
	`g‘Idx
(
js
,
is
,
m2
)] = 
wn1
[g‘Idx(
is1
,
js1
,m2)]*
th‘a
;

2443 
jy
 = 1; jy <ğ
iy
-1; jy++)

2444 
wn
[
	`g‘Idx
(
jy
,
is
,
m2
)] = -
wn1
[g‘Idx(
is1
,jy,m2)];

2446 
jy
 = 
iy
; jy <ğ
cŞ
; jy++)

2447 
wn
[
	`g‘Idx
(
jy
,
is
,
m2
)] = 
wn1
[g‘Idx(
is1
,jy,m2)];

2448 
wn
[
	`g‘Idx
(
iy
,iy,
m2
)] +ğ
sy
[g‘Idx(iy,iy,
m
)];

2456 
	`dpoç
(
wn
,
m2
,
cŞ
,
šfo
);

2457 ià(
šfo
 != 0)

2459 
šfo
 = -1;

2464 
cŞ2
 = 2*
cŞ
;

2465 
js
 = 
cŞ
+1; j <ğ
cŞ2
; js++)

2466 
	`dŒ¦
(
wn
,
m2
,
cŞ
,&(wn[
	`g‘Idx
(1,
js
,m2)-1]),11,
šfo
);

2473 
is
 = 
cŞ
+1; i <ğ
cŞ2
; is++)

2474 
js
 = 
is
; j <ğ
cŞ2
; js++)

2475 
wn
[
	`g‘Idx
(
is
,
js
,
m2
)] +ğ
	`ddÙ
(
cŞ
,&(wn[getIdx(1,is,m2)-1]),1,

2476 &(
wn
[
	`g‘Idx
(1,
js
,
m2
)-1]),1);

2479 
	`dpoç
(&(
wn
[
	`g‘Idx
(
cŞ
+1,cŞ+1,
m2
)-1]),m2,cŞ,
šfo
);

2481 ià(
šfo
 != 0)

2483 
šfo
 = -2;

2486 
	}
}

2515 
	$fÜmt
(cÚ¡ & 
m
, * cÚ¡ & 
wt
, * cÚ¡& 
sy
,

2516 * cÚ¡ & 
ss
, cÚ¡ & 
cŞ
, cÚ¡ & 
th‘a
,

2517 & 
šfo
)

2520 
k1
, 
idx
;

2521 
ddum
;

2522 
z”o
=0.0;

2526 
j
 = 1; j <ğ
cŞ
; j++)

2528 
idx
 = 
	`g‘Idx
(1,
j
,
m
);

2529 
wt
[
idx
] = 
th‘a
*
ss
[idx];

2532 
i
 = 2; i <ğ
cŞ
; i++)

2533 
j
 = 
i
; j <ğ
cŞ
; j++)

2535 
k1
 = 
	`mš
(
i
,
j
) - 1;

2536 
ddum
 = 
z”o
;

2537 
k
 = 1; k <ğ
k1
; k++)

2538 
ddum
 +ğ
sy
[
	`g‘Idx
(
i
,
k
,
m
)]*sy[g‘Idx(
j
,k,m)]/sy[getIdx(k,k,m)];

2539 
wt
[
	`g‘Idx
(
i
,
j
,
m
)] = 
ddum
 + 
th‘a
*
ss
[getIdx(i,j,m)];

2545 
	`dpoç
(
wt
,
m
,
cŞ
,
šfo
);

2546 ià(
šfo
 != 0) info = -3;

2547 
	}
}

2588 
	$ä“v
(cÚ¡ & 
n
, & 
nä“
, * cÚ¡ & 
šdex
, & 
ÃÁ”
,

2589 & 
—ve
, * cÚ¡ & 
šdx2
, * cÚ¡ & 
iwh”e
,

2590 
boŞ
& 
wrk
, cÚ¡ boŞ& 
upd©d
, cÚ¡ boŞ& 
ú¡nd
,

2591 cÚ¡ & 
ršt
, cÚ¡ & 
™”
)

2594 
Ÿù
,
k
;

2596 
ÃÁ”
 = 0;

2597 
—ve
 = 
n
 + 1;

2598 ià(
™”
 > 0 && 
ú¡nd
)

2601 
i
 = 1; i <ğ
nä“
; i++)

2603 
k
 = 
šdex
[
i
];

2604 ià(
iwh”e
[
k
] > 0)

2606 
—ve
 -= 1;

2607 
šdx2
[
—ve
] = 
k
;

2608 ià(
ršt
 >= 100)

2609 
cout
 << "V¬ŸbË " << 
k
<<"†—ve th£ˆoàä“ v¬ŸbËs"<<
’dl
;

2613 
i
 = 1+
nä“
; i <ğ
n
; i++)

2615 
k
 = 
šdex
[
i
];

2616 ià(
iwh”e
[
k
] <= 0)

2618 
ÃÁ”
 += 1;

2619 
šdx2
[
ÃÁ”
] = 
k
;

2620 ià(
ršt
 >= 100)

2621 
cout
 << "V¬ŸbË " << 
k
<<"ƒÁ” th£ˆoàä“ v¬ŸbËs"<<
’dl
;

2624 ià(
ršt
 >= 99)

2625 
cout
 << 
n
+1-
—ve
 << " variables†eave; "

2626 << 
ÃÁ”
 << " v¬ŸbË ’‹r" << 
’dl
;

2628 
wrk
 = (
—ve
 < 
n
+1è|| (
ÃÁ”
 > 0è|| 
upd©d
;

2632 
nä“
 = 0;

2633 
Ÿù
 = 
n
 + 1;

2634 
i
 = 1; i <ğ
n
; i++)

2636 ià(
iwh”e
[
i
] <= 0)

2638 
nä“
 += 1;

2639 
šdex
[
nä“
] = 
i
;

2643 
Ÿù
 -= 1;

2644 
šdex
[
Ÿù
] = 
i
;

2648 ià(
ršt
 >= 99)

2649 
cout
 << 
nä“
 << " v¬ŸbË ¬ä“‡ˆGCP " << 
™”
 + 1 << 
’dl
;

2650 
	}
}

2695 
	$hpsŞb
(cÚ¡ & 
n
, * cÚ¡ & 
t
, * cÚ¡ & 
iÜd”
,

2696 cÚ¡ & 
ih—p
)

2699 
i
,
j
,
šdxš
,
šdxou
;

2700 
ddum
,
out
;

2702 ià(
ih—p
 == 0)

2705 
k
 = 2; k <ğ
n
; k++)

2707 
ddum
 = 
t
[
k
];

2708 
šdxš
 = 
iÜd”
[
k
];

2711 
i
 = 
k
;

2712 
gÙo10
:

2713 ià(
i
>1)

2715 
j
 = 
i
/2;

2716 ià(
ddum
 < 
t
[
j
])

2718 
t
[
i
] =[
j
];

2719 
iÜd”
[
i
] = iÜd”[
j
];

2720 
i
 = 
j
;

2721 
gÙo10
;

2725 
t
[
i
] = 
ddum
;

2726 
iÜd”
[
i
] = 
šdxš
;

2734 ià(
n
 > 1)

2736 
i
 = 1;

2737 
out
 = 
t
[1];

2738 
šdxou
 = 
iÜd”
[1];

2739 
ddum
 = 
t
[
n
];

2740 
šdxš
 = 
iÜd”
[
n
];

2743 
gÙo30
:

2744 
j
 = 
i
+i;

2745 ià(
j
 <ğ
n
-1)

2747 ià(
t
[
j
+1] <[j]) j = j+1;

2748 ià(
t
[
j
] < 
ddum
 )

2750 
t
[
i
] =[
j
];

2751 
iÜd”
[
i
] = iÜd”[
j
];

2752 
i
 = 
j
;

2753 
gÙo30
;

2756 
t
[
i
] = 
ddum
;

2757 
iÜd”
[
i
] = 
šdxš
;

2761 
t
[
n
] = 
out
;

2762 
iÜd”
[
n
] = 
šdxou
;

2764 
	}
}

2794 
	$Ê¤lb
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

2795 cÚ¡ * cÚ¡& 
nbd
, * cÚ¡ & 
x
, & 
f
,

2796 & 
fŞd
, & 
gd
, & 
gdŞd
, * cÚ¡& 
g
,

2797 * cÚ¡& 
d
, * cÚ¡& 
r
, * cÚ¡& 
t
,

2798 * cÚ¡& 
z
, & 
¡p
, & 
dnÜm
, & 
dtd
,

2799 & 
x¡•
, & 
¡pmx
, cÚ¡ & 
™”
, & 
ifun
,

2800 & 
iback
, & 
nfgv
, & 
šfo
, * cÚ¡ & 
sk
,

2801 cÚ¡ 
boŞ
& 
boxed
, cÚ¡ boŞ& 
ú¡nd
, * cÚ¡ & 
c§ve
,

2802 * cÚ¡ & 
i§ve
, * cÚ¡ & 
d§ve
)

2805 
a1
,
a2
;

2806 
Úe
=1.0,
z”o
=0.0,
big
=1e10;

2807 
áŞ
=1.0e-3,
gtŞ
=0.9,
xtŞ
=0.1;

2810 ià(
	`¡ºcmp
(
sk
,"FG_LN",5)==0è
gÙo556
;

2812 
dtd
 = 
	`ddÙ
(
n
,
d
,1,d,1);

2813 
dnÜm
 = 
	`sq¹
(
dtd
);

2817 
¡pmx
 = 
big
;

2818 ià(
ú¡nd
)

2820 ià(
™”
 == 0)

2821 
¡pmx
 = 
Úe
;

2824 
i
 = 1; i <ğ
n
; i++)

2826 
a1
 = 
d
[
i
];

2827 ià(
nbd
[
i
] != 0)

2829 ià(
a1
 < 
z”o
 && 
nbd
[
i
] <= 2)

2831 
a2
 = 
l
[
i
] - 
x
[i];

2832 ià(
a2
 >ğ
z”o
)

2833 
¡pmx
 = 
z”o
;

2835 ià(
a1
*
¡pmx
 < 
a2
)

2836 
¡pmx
 = 
a2
/
a1
;

2839 ià(
a1
 > 
z”o
 && 
nbd
[
i
] >= 2)

2841 
a2
 = 
u
[
i
] - 
x
[i];

2842 ià(
a2
 <ğ
z”o
)

2843 
¡pmx
 = 
z”o
;

2845 ià(
a1
*
¡pmx
 > 
a2
)

2846 
¡pmx
 = 
a2
/
a1
;

2853 ià(
™”
 =ğ0 && !
boxed
)

2854 
¡p
 = 
	`mš
(
Úe
/
dnÜm
, 
¡pmx
);

2856 
¡p
 = 
Úe
;

2858 
	`dcİy
(
n
,
x
,1,
t
,1);

2859 
	`dcİy
(
n
,
g
,1,
r
,1);

2860 
fŞd
 = 
f
;

2861 
ifun
 = 0;

2862 
iback
 = 0;

2863 
	`¡rıy
(
c§ve
,"START");

2864 
gÙo556
:

2865 
gd
 = 
	`ddÙ
(
n
,
g
,1,
d
,1);

2866 ià(
ifun
 == 0)

2868 
gdŞd
=
gd
;

2869 ià(
gd
 >ğ
z”o
)

2873 
šfo
 = -4;

2878 
	`dc¤ch
(
f
,
gd
,
¡p
,
áŞ
,
gtŞ
,
xtŞ
,
z”o
,
¡pmx
,
c§ve
,
i§ve
,
d§ve
);

2880 
x¡•
 = 
¡p
*
dnÜm
;

2881 ià(
	`¡ºcmp
(
c§ve
,"CONV",4) != 0 && strncmp(csave,"WARN",4) != 0)

2883 
	`¡rıy
(
sk
,"FG_LNSRCH");

2884 
ifun
 += 1;

2885 
nfgv
 += 1;

2886 
iback
 = 
ifun
 - 1;

2887 ià(
¡p
 =ğ
Úe
)

2888 
	`dcİy
(
n
,
z
,1,
x
,1);

2891 
i
 = 1; i <ğ
n
; i++)

2892 
x
[
i
] = 
¡p
*
d
[i] + 
t
[i];

2896 
	`¡rıy
(
sk
,"NEW_X");

2897 
	}
}

2924 
	$m©upd
(cÚ¡ & 
n
, cÚ¡ & 
m
, * cÚ¡ & 
ws
,

2925 * cÚ¡ & 
wy
, * cÚ¡ & 
sy
, * cÚ¡ & 
ss
,

2926 * cÚ¡ & 
d
, * cÚ¡ & 
r
, & 
™a
, & 
iupd©
,

2927 & 
cŞ
, & 
h—d
, & 
th‘a
, & 
¼
, & 
dr
,

2928 & 
¡p
, & 
dtd
)

2931 
pošŒ
;

2932 
Úe
=1.0;

2933 
idx
;

2936 ià(
iupd©
 <ğ
m
)

2938 
cŞ
 = 
iupd©
;

2939 
™a
 = (
h—d
+
iupd©
-2)%
m
 + 1;

2943 
™a
 = i%
m
 + 1;

2944 
h—d
 = h—d%
m
 + 1;

2948 
idx
 = 
	`g‘Idx
(1,
™a
,
n
)-1;

2949 
	`dcİy
(
n
,
d
,1,&(
ws
[
idx
]),1);

2950 
	`dcİy
(
n
,
r
,1,&(
wy
[
idx
]),1);

2953 
th‘a
 = 
¼
/
dr
;

2958 ià(
iupd©
 > 
m
)

2961 
j
 = 1; j <ğ
cŞ
-1; j++)

2963 
	`dcİy
(
j
,&(
ss
[
	`g‘Idx
(2,j+1,
m
)-1]),1,&(ss[getIdx(1,j,m)-1]),1);

2964 
	`dcİy
(
cŞ
-
j
,&(
sy
[
	`g‘Idx
(j+1,j+1,
m
)-1]),1,&(sy[getIdx(j,j,m)-1]),1);

2970 
pošŒ
 = 
h—d
;

2971 
j
 = 1; j <ğ
cŞ
-1; j++)

2973 
idx
 = 
	`g‘Idx
(1,
pošŒ
,
n
)-1;

2974 
sy
[
	`g‘Idx
(
cŞ
,
j
,
m
)] = 
	`ddÙ
(
n
,
d
,1,&(
wy
[
idx
]),1);

2975 
ss
[
	`g‘Idx
(
j
,
cŞ
,
m
)] = 
	`ddÙ
(
n
,&(
ws
[
idx
]),1,
d
,1);

2976 
pošŒ
 =…ošŒ%
m
 + 1;

2979 
idx
 = 
	`g‘Idx
(
cŞ
,cŞ,
m
);

2980 ià(
¡p
 =ğ
Úe
)

2981 
ss
[
idx
] = 
dtd
;

2983 
ss
[
idx
] = 
¡p
*¡p*
dtd
;

2985 
sy
[
idx
] = 
dr
;

2986 
	}
}

3010 
	$´n1lb
(cÚ¡ & 
n
, cÚ¡ & 
m
, cÚ¡ * cÚ¡ & 
l
,

3011 cÚ¡ * cÚ¡ & 
u
, cÚ¡ * cÚ¡ & 
x
,

3012 cÚ¡ & 
ršt
, 
of¡»am
* 
™fe
, cÚ¡ & 
•smch
)

3016 ià(
ršt
 >= 0)

3018 
cout
 << "RUNNING THE L-BFGS-B CODE, " << 
’dl


3019 << "•smch = machš´ecisiÚ" << 
’dl


3020 << "™ = i‹¿tiÚ‚umb”" << 
’dl


3021 << "nà =‚umb” oàfunùiÚƒv®u©iÚs" << 
’dl


3023 << 
’dl


3025 << 
’dl


3027 << 
’dl


3028 <<"cÚ = cÚv”ged, bnd =‡ bound wa »ached" << 
’dl


3030 << 
’dl


3031 << "¡•Èğ¡•†’gth u£d" << 
’dl


3032 << "t¡• =‚Üm oàthdi¥Ïûm’ˆÑÙ® s‹p)" << 
’dl


3033 << "´ojg =‚Üm oàth´ojeùed g¿d›Á" << 
’dl


3034 << "à = funùiÚ v®ue" << 
’dl


3035 << "Machš´ecisiÚ = " << 
•smch
 << 
’dl
;

3036 
cout
 << "N = " << 
n
 << ", M = " << 
m
 << 
’dl
;

3037 ià(
ršt
 >= 1)

3039 *
™fe
 << "RUNNING THE L-BFGS-B CODE,ƒpsmch = "

3040 << "™ = i‹¿tiÚ‚umb”" << 
’dl


3041 << "nà =‚umb” oàfunùiÚƒv®u©iÚs" << 
’dl


3043 << 
’dl


3045 << 
’dl


3047 << 
’dl


3048 <<"cÚ = cÚv”ged, bnd =‡ bound wa »ached" << 
’dl


3050 << 
’dl


3051 << "¡•Èğ¡•†’gth u£d" << 
’dl


3052 << "t¡• =‚Üm oàthdi¥Ïûm’ˆÑÙ® s‹p)" << 
’dl


3053 << "´ojg =‚Üm oàth´ojeùed g¿d›Á" << 
’dl


3054 << "à = funùiÚ v®ue" << 
’dl


3055 << "Machš´ecisiÚ = " << 
•smch
 << 
’dl
;

3056 *
™fe
 << "N = " << 
n
 << ", M = " << 
m
 << 
’dl
;

3057 *
™fe
 << " it‚f‚int‚act sub itls steplstep…rojg"

3058 << " f" << 
’dl
;

3059 ià(
ršt
 > 100)

3061 
cout
 << "L = ";

3062 
i
 = 1; i <ğ
n
; i++è
cout
 << 
l
[i] << " ";

3063 
cout
 << 
’dl
;

3064 
cout
 << "X0 = ";

3065 
i
 = 1; i <ğ
n
; i++è
cout
 << 
x
[i] << " ";

3066 
cout
 << 
’dl
;

3067 
cout
 << "U = ";

3068 
i
 = 1; i <ğ
n
; i++è
cout
 << 
u
[i] << " ";

3069 
cout
 << 
’dl
;

3073 
	}
}

3096 
	$´n2lb
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
x
, cÚ¡ & 
f
,

3097 cÚ¡ * cÚ¡ & 
g
, cÚ¡ & 
ršt
,

3098 
of¡»am
* 
™fe
, cÚ¡ & 
™”
, cÚ¡ & 
nfgv
,

3099 cÚ¡ & 
Çù
, cÚ¡ & 
sbgÄm
, cÚ¡ & 
nšt
,

3100 * cÚ¡ & 
wÜd
, cÚ¡ & 
iwÜd
, cÚ¡ & 
iback
,

3101 cÚ¡ & 
¡p
, cÚ¡ & 
x¡•
)

3104 
imod
;

3107 ià(
iwÜd
 == 0)

3110 
	`¡rıy
(
wÜd
, "con");

3113 ià(
iwÜd
 == 1)

3116 
	`¡rıy
(
wÜd
, "bnd");

3119 ià(
iwÜd
 == 5)

3122 
	`¡rıy
(
wÜd
, "TNT");

3126 
	`¡rıy
(
wÜd
, "---");

3128 ià(
ršt
 >= 99)

3130 
cout
 << "LINE SEARCH " << 
iback
 <<"imes;‚Üm oà¡• = " <<
x¡•
<<
’dl
;

3131 
cout
 << "Aˆ™”©" << 
™”
 << " f=" << 
f
 <<" |´oj g|="<<
sbgÄm
<<
’dl
;

3133 ià(
ršt
 > 100)

3135 
cout
 << "X = " << 
’dl
;

3136 
i
 = 1; i <ğ
n
; i++è
cout
 << 
x
[i] << " ";

3137 
cout
 << 
’dl
;

3138 
cout
 << "G = " << 
’dl
;

3139 
i
 = 1; i <ğ
n
; i++è
cout
 << 
g
[i] << " ";

3140 
cout
 << 
’dl
;

3144 ià(
ršt
 > 0)

3146 
imod
 = 
™”
%
ršt
;

3147 ià(
imod
 == 0) {

3148 
cout
 << "Aˆ™”©" << 
™”
 << " f="<<
f
<< " |´oj g|="<<
sbgÄm
<<
’dl
;

3151 ià(
ršt
 >= 1)

3152 *
™fe
 << " " << 
™”
 << " " << 
nfgv
 << " " << 
nšt
 << " " << 
Çù
 << " "

3153 << 
wÜd
 << " " << 
iback
 << " " << 
¡p
 << " " << 
x¡•
 << " "

3154 << 
sbgÄm
 << " " << 
f
 << 
’dl
;

3155 
	}
}

3179 
	$´n3lb
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
x
, & 
f
,

3180 cÚ¡ * cÚ¡ & 
sk
, cÚ¡ & 
ršt
,

3181 cÚ¡ & 
šfo
, 
of¡»am
* 
™fe
, cÚ¡ & 
™”
,

3182 cÚ¡ & 
nfgv
, cÚ¡ & 
nštŞ
, cÚ¡ & 
nsk
,

3183 cÚ¡ & 
Çù
, cÚ¡ & 
sbgÄm
, cÚ¡ & 
time
,

3184 cÚ¡ & 
nšt
, cÚ¡ * cÚ¡ & 
wÜd
, cÚ¡ & 
iback
,

3185 cÚ¡ & 
¡p
,cÚ¡ & 
x¡•
, cÚ¡ & 
k
,

3186 cÚ¡ & 
ÿchyt
, cÚ¡ & 
sbtime
, cÚ¡ & 
Êscht
)

3189 ià(
	`¡ºcmp
(
sk
,"ERROR",5)==0è
gÙo999
;

3191 ià(
ršt
 >= 0)

3193 
cout
 << " * * *"

3194 << "T™ =Ù®‚umb” oà™”©iÚs" << 
’dl


3195 << "Tnà =Ù®‚umb” oàfunùiÚƒv®u©iÚs" << 
’dl


3197 << " Cauchy s—rches" << 
’dl


3198 << "Sk =‚umb” oàBFGS upd©e sk³d" << 
’dl


3200 << " Cauchy…ošt" << 
’dl


3201 << "Projg =‚Üm oàthfš®…rojeùed g¿d›Á" << 
’dl


3202 << "F = fš® funùiÚ v®ue" << 
’dl


3203 << " * * *" << 
’dl
;

3205 
cout
 << " N T™ Tnà Tnšˆ Sk Naù Projg F" << 
’dl
;

3206 
cout
 << " " << 
n
 << " " << 
™”
 << " " << 
nfgv
 << " " << 
nštŞ
 << " "

3207 << 
nsk
 << " " << 
Çù
 << " " << 
sbgÄm
 << " " << 
f
 << 
’dl
;

3208 ià(
ršt
 >= 100)

3210 
cout
 << "X = ";

3211 
i
 = 1; i <ğ
n
; i++)

3212 
cout
 << 
x
[
i
] << " ";

3213 
cout
 << 
’dl
;

3215 ià(
ršt
 >ğ1è
cout
 << " F = " << 
f
 << 
’dl
;

3218 
gÙo999
:

3220 ià(
ršt
 >= 0)

3222 
cout
 << 
sk
 << 
’dl
;

3223 ià(
šfo
 != 0)

3225 ià(
šfo
 == -1)

3226 
cout
 << "Matrix in 1st Cholesky factorization in formk is‚ot "

3227 << "Pos. Def." << 
’dl
;

3228 ià(
šfo
 == -2)

3229 
cout
 << "Matrix in 2st Cholesky factorization in formk is‚ot "

3230 << "Pos. Def." << 
’dl
;

3231 ià(
šfo
 == -3)

3232 
cout
 << "Matrix inhe Cholesky factorization in formt is‚ot "

3233 << "Pos. Def." << 
’dl
;

3234 ià(
šfo
 == -4)

3235 
cout
 << "Derivative >= 0, backtracking†ine search impossible."

3236 << 
’dl
 << "Previous x, f‡nd g„estored." <<ƒndl

3238 <<"ev®u©iÚ;" << 
’dl


3239 << "2„oundšgƒ¼Ü domš©computiÚ." << 
’dl
;

3240 ià(
šfo
 == -5)

3241 
cout
 << "W¬nšg: mÜthª 10 funùiÚ‡nd g¿d›Á" << 
’dl


3243 << "may…ossibly bÿu£d by‡ bad s—rch dœeùiÚ."<<
’dl
;

3244 ià(
šfo
 == -6)

3245 
cout
 << " IÅuˆnbd(" << 
k
 << "èi šv®id."<<
’dl
;

3246 ià(
šfo
 == -7)

3247 
cout
 << "†(" << 
k
 << ") > u(" << k << "). No feasible solution."

3248 << 
’dl
;

3249 ià(
šfo
 == -8)

3250 
cout
 << "ThŒŸnguÏ¸sy¡em i sšguÏr" << 
’dl
;

3251 ià(
šfo
 == -9)

3252 
cout
 << " Lš£¬ch cªnÙ†oÿ‹‡Àadequ©pošˆaá”"<<
’dl


3254 << " g„e¡Üed." << 
’dl


3257 << 
’dl
;

3260 ià(
ršt
 >= 1)

3261 
cout
 << "Cauchyim" << 
ÿchyt
 << " secÚds."<<
’dl


3262 << "Sub¥aû mšimiz©iÚim" << 
sbtime
 << " secÚds."<<
’dl


3263 << "Lš£¬chim" << 
Êscht
 << " secÚds."<<
’dl
;

3265 
cout
 << "TÙ® U£¸tim" << 
time
 << " secÚds." << 
’dl
;

3267 ià(
ršt
 >= 1)

3269 ià(
šfo
 == -4 || info == -9)

3271 *
™fe
 << " " << 
n
 << " " << 
™”
 << " " << 
nfgv
 << " " << 
nštŞ


3272 << " " << 
nsk
 << " " << 
Çù
 << " " << 
sbgÄm
 << " " << 
f


3273 << 
’dl
;

3275 *
™fe
 << 
sk
 << 
’dl
;

3276 ià(
šfo
 != 0)

3278 ià(
šfo
 == -1)

3279 *
™fe
 << "Matrix in 1st Cholesky factorization in formk is‚ot"

3280 << " Pos. Def." << 
’dl
;

3281 ià(
šfo
 == -2)

3282 *
™fe
 << "Matrix in 2st Cholesky factorization in formk is‚ot"

3283 << " Pos. Def." << 
’dl
;

3284 ià(
šfo
 == -3)

3285 *
™fe
 << "Matrix inhe Cholesky factorization in formt is‚ot"

3286 << " Pos. Def." << 
’dl
;

3287 ià(
šfo
 == -4)

3288 *
™fe
 << "Derivative>=0, backtracking†ine search impossible."

3289 << 
’dl
 << "Previous x, f‡nd g„estored." <<ƒndl

3291 <<"ev®u©iÚ;" << 
’dl


3292 << "2„oundšgƒ¼Ü domš©computiÚ." << 
’dl
;

3293 ià(
šfo
 == -5)

3294 *
™fe
 << "W¬nšg: mÜthª 10 funùiÚ‡nd g¿d›Á" << 
’dl


3297 << 
’dl
;

3298 ià(
šfo
 == -8)

3299 
cout
 << "ThŒŸnguÏ¸sy¡em i sšguÏr" << 
’dl
;

3300 ià(
šfo
 == -9)

3301 
cout
 << " Line search cannot†ocate‡n‡dequate…oint‡fter"

3302 << 
’dl


3304 << "ªd g„e¡Üed." << 
’dl


3307 << 
’dl
;

3309 *
™fe
 << "TÙ® U£¸tim" << 
time
 << " secÚds." << 
’dl
;

3312 
	}
}

3335 
	$´ojgr
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

3336 cÚ¡ * cÚ¡ & 
nbd
, cÚ¡ * cÚ¡ & 
x
,

3337 cÚ¡ * cÚ¡ & 
g
, & 
sbgÄm
)

3340 
gi
;

3342 
z”o
=0.0;

3344 
sbgÄm
 = 
z”o
;

3345 
i
 = 1; i <ğ
n
; i++)

3347 
gi
 = 
g
[
i
];

3348 ià(
nbd
[
i
] != 0)

3350 ià(
gi
 < 
z”o
)

3352 ià(
nbd
[
i
] >ğ2è
gi
 = 
	`max
((
x
[i]-
u
[i]),gi);

3356 ià(
nbd
[
i
] <ğ2è
gi
 = 
	`mš
((
x
[i]-
l
[i]),gi);

3359 
sbgÄm
 = 
	`max
(sbgÄm,
	`çbs
(
gi
));

3361 
	}
}

3512 
	$subsm
(cÚ¡ & 
n
, cÚ¡ & 
m
, cÚ¡ & 
nsub
, cÚ¡ * cÚ¡& 
šd
,

3513 cÚ¡ * cÚ¡ & 
l
, cÚ¡ * cÚ¡ & 
u
,

3514 cÚ¡ * cÚ¡ & 
nbd
, * cÚ¡ & 
x
, * cÚ¡ & 
d
,

3515 * cÚ¡ & 
ws
, * cÚ¡ & 
wy
, cÚ¡ & 
th‘a
,

3516 cÚ¡ & 
cŞ
, cÚ¡ & 
h—d
, & 
iwÜd
, * cÚ¡ & 
wv
,

3517 * cÚ¡ & 
wn
, cÚ¡ & 
ršt
, & 
šfo
)

3520 
pošŒ
,
m2
,
cŞ2
,
ibd
=0,
js
,
k
;

3521 
®pha
,
dk
,
‹mp1
,
‹mp2
;

3522 
Úe
=1.0,
z”o
=0.0;

3523 
idx
;

3525 ià(
nsub
 <= 0) ;

3526 ià(
ršt
 >= 99)

3527 
cout
 << "----------------SUBSMƒÁ”ed-----------------" << 
’dl
;

3531 
pošŒ
 = 
h—d
;

3532 
i
 = 1; i <ğ
cŞ
; i++)

3534 
‹mp1
 = 
z”o
;

3535 
‹mp2
 = 
z”o
;

3536 
j
 = 1; j <ğ
nsub
; j++)

3538 
k
 = 
šd
[
j
];

3539 
idx
 = 
	`g‘Idx
(
k
,
pošŒ
,
n
);

3540 
‹mp1
 +ğ
wy
[
idx
]*
d
[
j
];

3541 
‹mp2
 +ğ
ws
[
idx
]*
d
[
j
];

3543 
wv
[
i
] = 
‹mp1
;

3544 
wv
[
cŞ
 + 
i
] = 
th‘a
*
‹mp2
;

3545 
pošŒ
 =…ošŒ%
m
 + 1;

3551 
m2
 = 2*
m
;

3552 
cŞ2
 = 2*
cŞ
;

3553 
	`dŒ¦
(
wn
,
m2
,
cŞ2
,
wv
,11,
šfo
);

3555 ià(
šfo
 != 0) ;

3556 
i
 = 1; i <ğ
cŞ
; i++)

3557 
wv
[
i
] = -wv[i];

3558 
	`dŒ¦
(
wn
,
m2
,
cŞ2
,
wv
,01,
šfo
);

3560 ià(
šfo
 != 0) ;

3564 
pošŒ
 = 
h—d
;

3565 
jy
 = 1; jy <ğ
cŞ
; jy++)

3567 
js
 = 
cŞ
 + 
jy
;

3568 
i
 = 1; i <ğ
nsub
; i++)

3570 
k
 = 
šd
[
i
];

3571 
idx
 = 
	`g‘Idx
(
k
,
pošŒ
,
n
);

3572 
d
[
i
] +ğ
wy
[
idx
]*
wv
[
jy
]/
th‘a
 + 
ws
[idx]*wv[
js
];

3574 
pošŒ
 =…ošŒ%
m
 + 1;

3577 
i
 = 1; i <ğ
nsub
; i++)

3578 
d
[
i
] /ğ
th‘a
;

3582 
®pha
 = 
Úe
;

3583 
‹mp1
 = 
®pha
;

3585 
i
 = 1; i <ğ
nsub
; i++)

3587 
k
 = 
šd
[
i
];

3588 
dk
 = 
d
[
i
];

3589 ià(
nbd
[
k
] != 0)

3591 ià(
dk
 < 
z”o
 && 
nbd
[
k
] <= 2)

3593 
‹mp2
 = 
l
[
k
] - 
x
[k];

3594 ià(
‹mp2
 >ğ
z”o
)

3595 
‹mp1
 = 
z”o
;

3597 ià(
dk
*
®pha
 < 
‹mp2
)

3598 
‹mp1
 = 
‹mp2
/
dk
;

3601 ià(
dk
 > 
z”o
 && 
nbd
[
k
] >= 2)

3603 
‹mp2
 = 
u
[
k
] - 
x
[k];

3604 ià(
‹mp2
 <ğ
z”o
)

3605 
‹mp1
 = 
z”o
;

3607 ià(
dk
*
®pha
 > 
‹mp2
)

3608 
‹mp1
 = 
‹mp2
/
dk
;

3610 ià(
‹mp1
 < 
®pha
)

3612 
®pha
 = 
‹mp1
;

3613 
ibd
 = 
i
;

3619 ià(
®pha
 < 
Úe
)

3621 
dk
 = 
d
[
ibd
];

3622 
k
 = 
šd
[
ibd
];

3623 ià(
dk
 > 
z”o
)

3625 
x
[
k
] = 
u
[k];

3626 
d
[
ibd
] = 
z”o
;

3629 ià(
dk
 < 
z”o
)

3631 
x
[
k
] = 
l
[k];

3632 
d
[
ibd
] = 
z”o
;

3636 
i
 = 1; i <ğ
nsub
; i++)

3638 
k
 = 
šd
[
i
];

3639 
x
[
k
] +ğ
®pha
*
d
[
i
];

3642 ià(
ršt
 >= 99)

3644 ià(
®pha
 < 
Úe
)

3645 
cout
 << "ALPHA = " << 
®pha
 << " backŒackØthBOX" << 
’dl
;

3647 
cout
 << "SM sŞutiÚ insidthbox" << 
’dl
;

3649 ià(
ršt
 >100)

3651 
cout
 << "Subspace solution X = ";

3652 
i
 = 1; i <ğ
n
; i++è
cout
 << 
x
[i] << " ";

3653 
cout
 << 
’dl
;

3657 ià(
®pha
 < 
Úe
)

3658 
iwÜd
 = 1;

3660 
iwÜd
 = 0;

3662 ià(
ršt
 >= 99)

3663 
cout
 << "----------------ex™ SUBSM --------------------" << 
’dl
;

3664 
	}
}

3800 
	$dc¤ch
(& 
f
, & 
g
, & 
¡p
, cÚ¡ & 
áŞ
,

3801 cÚ¡ & 
gtŞ
, cÚ¡ & 
xtŞ
, cÚ¡ & 
¡pmš
,

3802 cÚ¡ & 
¡pmax
, * cÚ¡ & 
sk
, * cÚ¡ & 
i§ve
,

3803 * cÚ¡ & 
d§ve
)

3805 
z”o
=0.0,
p5
=0.5,
p66
=0.66;

3806 
xŒ­l
=1.1,
xŒ­u
=4.0;

3808 
boŞ
 
b¿ckt
;

3809 
¡age
;

3810 
fš™
,
áe¡
,
fm
,
fx
,
fxm
,
fy
,
fym
,
gš™
,
g‹¡
,

3811 
gm
,
gx
,
gxm
,
gy
,
gym
,
¡x
,
¡y
,
¡mš
,
¡max
,
width
,
width1
;

3815 ià(
	`¡ºcmp
(
sk
,"START",5)==0)

3819 ià(
¡p
 < 
¡pmš
è
	`¡rıy
(
sk
, "ERROR: STP < STPMIN");

3820 ià(
¡p
 > 
¡pmax
è
	`¡rıy
(
sk
, "ERROR: STP > STPMAX");

3821 ià(
g
 >
z”o
è
	`¡rıy
(
sk
, "ERROR: INITIAL G >ZERO");

3822 ià(
áŞ
 < 
z”o
è
	`¡rıy
(
sk
, "ERROR: FTOL < ZERO");

3823 ià(
gtŞ
 < 
z”o
è
	`¡rıy
(
sk
, "ERROR: GTOL < ZERO");

3824 ià(
xtŞ
 < 
z”o
è
	`¡rıy
(
sk
, "ERROR: XTOL < ZERO");

3825 ià(
¡pmš
 < 
z”o
è
	`¡rıy
(
sk
, "ERROR: STPMIN < ZERO");

3826 ià(
¡pmax
 < 
¡pmš
è
	`¡rıy
(
sk
, "ERROR: STPMAX < STPMIN");

3829 ià(
	`¡ºcmp
(
sk
,"ERROR",5)==0) ;

3833 
b¿ckt
 = 
çl£
;

3834 
¡age
 = 1;

3835 
fš™
 = 
f
;

3836 
gš™
 = 
g
;

3837 
g‹¡
 = 
áŞ
*
gš™
;

3838 
width
 = 
¡pmax
 - 
¡pmš
;

3839 
width1
 = 
width
/
p5
;

3848 
¡x
 = 
z”o
;

3849 
fx
 = 
fš™
;

3850 
gx
 = 
gš™
;

3851 
¡y
 = 
z”o
;

3852 
fy
 = 
fš™
;

3853 
gy
 = 
gš™
;

3854 
¡mš
 = 
z”o
;

3855 
¡max
 = 
¡p
 + 
xŒ­u
*stp;

3856 
	`¡rıy
(
sk
, "FG");

3858 
gÙo1000
;

3864 ià(
i§ve
[1] == 1)

3865 
b¿ckt
 = 
Œue
;

3867 
b¿ckt
 = 
çl£
;

3869 
¡age
 = 
i§ve
[2];

3870 
gš™
 = 
d§ve
[1];

3871 
g‹¡
 = 
d§ve
[2];

3872 
gx
 = 
d§ve
[3];

3873 
gy
 = 
d§ve
[4];

3874 
fš™
 = 
d§ve
[5];

3875 
fx
 = 
d§ve
[6];

3876 
fy
 = 
d§ve
[7];

3877 
¡x
 = 
d§ve
[8];

3878 
¡y
 = 
d§ve
[9];

3879 
¡mš
 = 
d§ve
[10];

3880 
¡max
 = 
d§ve
[11];

3881 
width
 = 
d§ve
[12];

3882 
width1
 = 
d§ve
[13];

3888 
áe¡
 = 
fš™
 + 
¡p
*
g‹¡
;

3889 ià(
¡age
 =ğ1 && 
f
 <ğ
áe¡
 && 
g
 >ğ
z”o
) stage = 2;

3893 ià(
b¿ckt
 && (
¡p
 <ğ
¡mš
 || s >ğ
¡max
))

3894 
	`¡rıy
(
sk
, "WARNING: ROUNDING ERRORS PREVENT PROGRESS");

3895 ià(
b¿ckt
 && 
¡max
 - 
¡mš
 <ğ
xtŞ
*stmax)

3896 
	`¡rıy
(
sk
, "WARNING: XTOL TEST SATISFIED");

3897 ià(
¡p
 =ğ
¡pmax
 && 
f
 <ğ
áe¡
 && 
g
 <ğ
g‹¡
)

3898 
	`¡rıy
(
sk
, "WARNING: STP = STPMAX");

3899 ià(
¡p
 =ğ
¡pmš
 && (
f
 > 
áe¡
 || 
g
 >ğ
g‹¡
))

3900 
	`¡rıy
(
sk
, "WARNING: STP = STPMIN");

3904 ià(
f
 <ğ
áe¡
 && 
	`çbs
(
g
è<ğ
gtŞ
*(-
gš™
))

3905 
	`¡rıy
(
sk
, "CONVERGENCE");

3909 ià(
	`¡ºcmp
(
sk
,"WARN",4)==0 || sŒncmpÑask,"CONV",4)==0è
gÙo1000
;

3915 ià(
¡age
 =ğ1 && 
f
 <ğ
fx
 && f > 
áe¡
)

3919 
fm
 = 
f
 - 
¡p
*
g‹¡
;

3920 
fxm
 = 
fx
 - 
¡x
*
g‹¡
;

3921 
fym
 = 
fy
 - 
¡y
*
g‹¡
;

3922 
gm
 = 
g
 - 
g‹¡
;

3923 
gxm
 = 
gx
 - 
g‹¡
;

3924 
gym
 = 
gy
 - 
g‹¡
;

3928 
	`dc¡•
(
¡x
,
fxm
,
gxm
,
¡y
,
fym
,
gym
,
¡p
,
fm
,
gm
,

3929 
b¿ckt
,
¡mš
,
¡max
);

3933 
fx
 = 
fxm
 + 
¡x
*
g‹¡
;

3934 
fy
 = 
fym
 + 
¡y
*
g‹¡
;

3935 
gx
 = 
gxm
 + 
g‹¡
;

3936 
gy
 = 
gym
 + 
g‹¡
;

3942 
	`dc¡•
(
¡x
,
fx
,
gx
,
¡y
,
fy
,
gy
,
¡p
,
f
,
g
,

3943 
b¿ckt
,
¡mš
,
¡max
);

3948 ià(
b¿ckt
)

3950 ià(
	`çbs
(
¡y
-
¡x
è>ğ
p66
*
width1
è
¡p
 = stx + 
p5
*(sty - stx);

3951 
width1
 = 
width
;

3952 
width
 = 
	`çbs
(
¡y
-
¡x
);

3957 ià(
b¿ckt
)

3959 
¡mš
 = 
	`mš
(
¡x
,
¡y
);

3960 
¡max
 = 
	`max
(
¡x
,
¡y
);

3964 
¡mš
 = 
¡p
 + 
xŒ­l
*(¡°- 
¡x
);

3965 
¡max
 = 
¡p
 + 
xŒ­u
*(¡°- 
¡x
);

3970 
¡p
 = 
	`max
(¡p,
¡pmš
);

3971 
¡p
 = 
	`mš
(¡p,
¡pmax
);

3976 ià(
b¿ckt
 && (
¡p
 <ğ
¡mš
 || s >ğ
¡max
)

3977 || (
b¿ckt
 && 
¡max
-
¡mš
 <ğ
xtŞ
*¡max)è
¡p
 = 
¡x
;

3980 
	`¡rıy
(
sk
,"FG");

3982 
gÙo1000
:

3986 ià(
b¿ckt
)

3987 
i§ve
[1] = 1;

3989 
i§ve
[1] = 0;

3991 
i§ve
[2] = 
¡age
;

3992 
d§ve
[1] = 
gš™
;

3993 
d§ve
[2] = 
g‹¡
;

3994 
d§ve
[3] = 
gx
;

3995 
d§ve
[4] = 
gy
;

3996 
d§ve
[5] = 
fš™
;

3997 
d§ve
[6] = 
fx
;

3998 
d§ve
[7] = 
fy
;

3999 
d§ve
[8] = 
¡x
;

4000 
d§ve
[9] = 
¡y
;

4001 
d§ve
[10] = 
¡mš
;

4002 
d§ve
[11] = 
¡max
;

4003 
d§ve
[12] = 
width
;

4004 
d§ve
[13] = 
width1
;

4005 
	}
}

4101 
	$dc¡•
(& 
¡x
, & 
fx
, & 
dx
, & 
¡y
, & 
fy
,

4102 & 
dy
, & 
¡p
, cÚ¡ & 
å
, cÚ¡ & 
dp
,

4103 
boŞ
& 
b¿ckt
, cÚ¡ & 
¡pmš
, cÚ¡ & 
¡pmax
)

4105 
z”o
=0.0,
p66
=0.66,
two
=2.0,
th»e
=3.0;

4106 
gamma
,
p
,
q
,
r
,
s
,
sgnd
,
¡pc
,
¡pf
,
¡pq
,
th‘a
;

4108 
sgnd
 = 
dp
*(
dx
/
	`çbs
(dx));

4115 ià(
å
 > 
fx
)

4117 
th‘a
 = 
th»e
*(
fx
 - 
å
)/(
¡p
 - 
¡x
è+ 
dx
 + 
dp
;

4118 
s
 = 
	`max
(
	`çbs
(
th‘a
),çbs(
dx
),çbs(
dp
));

4119 
gamma
 = 
s
*
	`sq¹
Ğ(
th‘a
/s)*Ñh‘a/sè- (
dx
/s)*(
dp
/s) );

4120 ià(
¡p
 < 
¡x
è
gamma
 = -gamma;

4121 
p
 = (
gamma
 - 
dx
è+ 
th‘a
;

4122 
q
 = ((
gamma
 - 
dx
è+ gammaè+ 
dp
;

4123 
r
 = 
p
/
q
;

4124 
¡pc
 = 
¡x
 + 
r
*(
¡p
 - stx);

4125 
¡pq
 = 
¡x
 + ((
dx
/((
fx
 - 
å
)/(
¡p
 - stxè+ dx))/
two
)*(stp - stx);

4126 ià(
	`çbs
(
¡pc
-
¡x
è< fabs(
¡pq
-stx))

4127 
¡pf
 = 
¡pc
;

4129 
¡pf
 = 
¡pc
 + (
¡pq
 - sc)/
two
;

4130 
b¿ckt
 = 
Œue
;

4139 ià(
sgnd
 < 
z”o
)

4141 
th‘a
 = 
th»e
*(
fx
 - 
å
)/(
¡p
 - 
¡x
è+ 
dx
 + 
dp
;

4142 
s
 = 
	`max
(
	`çbs
(
th‘a
),çbs(
dx
),çbs(
dp
));

4143 
gamma
 = 
s
*
	`sq¹
Ğ(
th‘a
/s)*Ñh‘a/sè- (
dx
/s)*(
dp
/s) );

4144 ià(
¡p
 > 
¡x
è
gamma
 = -gamma;

4145 
p
 = (
gamma
 - 
dp
è+ 
th‘a
;

4146 
q
 = ((
gamma
 - 
dp
è+ gammaè+ 
dx
;

4147 
r
 = 
p
/
q
;

4148 
¡pc
 = 
¡p
 + 
r
*(
¡x
 - stp);

4149 
¡pq
 = 
¡p
 + (
dp
/(d°- 
dx
))*(
¡x
 - stp);

4150 ià(
	`çbs
(
¡pc
-
¡p
è> fabs(
¡pq
-stp))

4151 
¡pf
 = 
¡pc
;

4153 
¡pf
 = 
¡pq
;

4154 
b¿ckt
 = 
Œue
;

4161 ià(
	`çbs
(
dp
è< fabs(
dx
))

4168 
th‘a
 = 
th»e
*(
fx
 - 
å
)/(
¡p
 - 
¡x
è+ 
dx
 + 
dp
;

4169 
s
 = 
	`max
(
	`çbs
(
th‘a
),çbs(
dx
),çbs(
dp
));

4174 
gamma
 = 
s
*
	`sq¹
(
	`max
(
z”o
, (
th‘a
/s)*Ñh‘a/s)-(
dx
/s)*(
dp
/s)));

4175 ià(
¡p
 > 
¡x
è
gamma
 = -gamma;

4176 
p
 = (
gamma
 - 
dp
è+ 
th‘a
;

4177 
q
 = (
gamma
 + (
dx
 - 
dp
)) + gamma;

4178 
r
 = 
p
/
q
;

4179 ià(
r
 < 
z”o
 && 
gamma
 != zero)

4180 
¡pc
 = 
¡p
 + 
r
*(
¡x
 - stp);

4182 ià(
¡p
 > 
¡x
)

4183 
¡pc
 = 
¡pmax
;

4185 
¡pc
 = 
¡pmš
;

4187 
¡pq
 = 
¡p
 + (
dp
/(d°- 
dx
))*(
¡x
 - stp);

4189 ià(
b¿ckt
)

4196 ià(
	`çbs
(
¡pc
-
¡p
è< fabs(
¡pq
-stp))

4197 
¡pf
 = 
¡pc
;

4199 
¡pf
 = 
¡pq
;

4201 ià(
¡p
 > 
¡x
)

4202 
¡pf
 = 
	`mš
(
¡p
+
p66
*(
¡y
-stp),stpf);

4204 
¡pf
 = 
	`max
(
¡p
+
p66
*(
¡y
-stp),stpf);

4212 ià(
	`çbs
(
¡pc
-
¡p
è> fabs(
¡pq
-stp))

4213 
¡pf
 = 
¡pc
;

4215 
¡pf
 = 
¡pq
;

4217 
¡pf
 = 
	`mš
(
¡pmax
,stpf);

4218 
¡pf
 = 
	`max
(
¡pmš
,stpf);

4227 ià(
b¿ckt
)

4229 
th‘a
 = 
th»e
*(
å
 - 
fy
)/(
¡y
 - 
¡p
è+ 
dy
 + 
dp
;

4230 
s
 = 
	`max
(
	`çbs
(
th‘a
),çbs(
dy
),çbs(
dp
));

4231 
gamma
 = 
s
*
	`sq¹
((
th‘a
/s)*Ñh‘a/sè- (
dy
/s)*(
dp
/s));

4232 ià(
¡p
 > 
¡y
è
gamma
 = -gamma;

4233 
p
 = (
gamma
 - 
dp
è+ 
th‘a
;

4234 
q
 = ((
gamma
 - 
dp
è+ gammaè+ 
dy
;

4235 
r
 = 
p
/
q
;

4236 
¡pc
 = 
¡p
 + 
r
*(
¡y
 - stp);

4237 
¡pf
 = 
¡pc
;

4240 ià(
¡p
 > 
¡x
)

4241 
¡pf
 = 
¡pmax
;

4243 
¡pf
 = 
¡pmš
;

4248 ià(
å
 > 
fx
)

4250 
¡y
 = 
¡p
;

4251 
fy
 = 
å
;

4252 
dy
 = 
dp
;

4256 ià(
sgnd
 < 
z”o
)

4258 
¡y
 = 
¡x
;

4259 
fy
 = 
fx
;

4260 
dy
 = 
dx
;

4262 
¡x
 = 
¡p
;

4263 
fx
 = 
å
;

4264 
dx
 = 
dp
;

4269 
¡p
 = 
¡pf
;

4270 
	}
}

4303 
	$dÄm2
(& 
n
,* cÚ¡ & 
x
, & 
šcx
)

4306 
sÿË
 = 0.0;

4307 
ddÄm2
 = 0.0;

4309 
i
 = 1; i <ğ
n
; i+=
šcx
)

4310 
sÿË
 = 
	`max
(sÿË, 
	`çbs
(
x
[
i
]));

4312 ià(
sÿË
 =ğ0.0è 
ddÄm2
;

4314 
i
 = 1; i <ğ
n
; i+=
šcx
)

4315 
ddÄm2
 +ğ(
x
[
i
]/
sÿË
)*(x[i]/scale);

4317 
ddÄm2
 = 
sÿË
*
	`sq¹
(ddnrm2);

4318  
ddÄm2
;

4319 
	}
}

4352 
	$dpm•s
()

4355 
ib‘a
,
œnd
,
™
,
™emp
,
Ãg•
;

4356 
a
,
b
,
b‘a
,
b‘aš
,
b‘ah
,
‹mp
,
‹m·
,
‹mp1
,

4357 
z”o
=0.0,
Úe
=1.0,
two
=2.0;

4358 
ddpm•s
;

4362 
a
 = 
Úe
;

4363 
b
 = 
Úe
;

4364 
gÙo10
:

4365 
a
 =‡ +‡;

4366 
‹mp
 = 
a
 + 
Úe
;

4367 
‹mp1
 = 
‹mp
 - 
a
;

4368 ià(
‹mp1
 - 
Úe
 =ğ
z”o
è
gÙo10
;

4370 
gÙo20
:

4371 
b
 = b + b;

4372 
‹mp
 = 
a
 + 
b
;

4373 
™emp
 = (
‹mp
 - 
a
);

4374 ià(
™emp
 =ğ0è
gÙo20
;

4375 
ib‘a
 = 
™emp
;

4376 
b‘a
 = (
ib‘a
);

4380 
™
 = 0;

4381 
b
 = 
Úe
;

4382 
gÙo30
:

4383 
™
 += 1;

4384 
b
 *ğ
b‘a
;

4385 
‹mp
 = 
b
 + 
Úe
;

4386 
‹mp1
 = 
‹mp
 - 
b
;

4387 ià(
‹mp1
 - 
Úe
 =ğ
z”o
è
gÙo30
;

4388 
œnd
 = 0;

4389 
b‘ah
 = 
b‘a
/
two
;

4390 
‹mp
 = 
a
 + 
b‘ah
;

4391 ià(
‹mp
 - 
a
 !ğ
z”o
è
œnd
 = 1;

4392 
‹m·
 = 
a
 + 
b‘a
;

4393 
‹mp
 = 
‹m·
 + 
b‘ah
;

4394 ià((
œnd
 =ğ0è&& (
‹mp
 - 
‹m·
 !ğ
z”o
)) irnd = 2;

4398 
Ãg•
 = 
™
 + 3;

4399 
b‘aš
 = 
Úe
/
b‘a
;

4400 
a
 = 
Úe
;

4401 
i
 = 1; i <ğ
Ãg•
; i++)

4402 
a
 *ğ
b‘aš
;

4404 
gÙo50
:

4405 
‹mp
 = 
Úe
 + 
a
;

4406 ià(
‹mp
 - 
Úe
 !ğ
z”o
è
gÙo60
;

4407 
a
 *ğ
b‘a
;

4408 
gÙo50
;

4410 
gÙo60
:

4411 
ddpm•s
 = 
a
;

4412 ià((
ib‘a
 =ğ2è|| (
œnd
 =ğ0)è
gÙo70
;

4413 
a
 = (a*(
Úe
 +‡))/
two
;

4414 
‹mp
 = 
Úe
 + 
a
;

4415 ià(
‹mp
 - 
Úe
 !ğ
z”o
è
ddpm•s
 = 
a
;

4417 
gÙo70
:

4418  
ddpm•s
;

4419 
	}
}

4426 
	$daxpy
(cÚ¡ & 
n
, cÚ¡ & 
da
, cÚ¡ * cÚ¡ & 
dx
,

4427 cÚ¡ & 
šcx
, * cÚ¡ & 
dy
, cÚ¡ & 
šcy
)

4430 
ix
,
iy
,
m
,
mp1
;

4431 ià(
n
 <= 0) ;

4432 ià(
da
 == 0.0) ;

4433 if(
šcx
==1 && 
šcy
==1è
gÙo20
;

4438 
ix
 = 1;

4439 
iy
 = 1;

4440 if(
šcx
 < 0è
ix
 = (-
n
+1)*incx + 1;

4441 if(
šcy
 < 0è
iy
 = (-
n
+1)*incy + 1;

4443 
i
 = 1; i <ğ
n
; i++)

4445 
dy
[
iy
] +ğ
da
*
dx
[
ix
];

4446 
ix
 +ğ
šcx
;

4447 
iy
 +ğ
šcy
;

4454 
gÙo20
:

4455 
m
 = 
n
%4;

4456 ià(
m
 =ğ0è
gÙo40
;

4458 
i
 = 1; i <ğ
m
; i++)

4459 
dy
[
i
] +ğ
da
*
dx
[i];

4461 ià(
n
 < 4) ;

4463 
gÙo40
:

4464 
mp1
 = 
m
 + 1;

4466 
i
 = 
mp1
; i <ğ
n
; i+=4)

4468 
dy
[
i
] +ğ
da
*
dx
[i];

4469 
dy
[
i
 + 1] +ğ
da
*
dx
[i + 1];

4470 
dy
[
i
 + 2] +ğ
da
*
dx
[i + 2];

4471 
dy
[
i
 + 3] +ğ
da
*
dx
[i + 3];

4473 
	}
}

4480 
	$dcİy
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
dx
, cÚ¡ & 
šcx
,

4481 * cÚ¡ & 
dy
,cÚ¡ & 
šcy
)

4484 
ix
,
iy
,
m
,
mp1
;

4486 ià(
n
 <= 0) ;

4487 if(
šcx
==1 && 
šcy
==1è
gÙo20
;

4492 
ix
 = 1;

4493 
iy
 = 1;

4494 ià(
šcx
 < 0è
ix
 = (-
n
+1)*incx + 1;

4495 ià(
šcy
 < 0è
iy
 = (-
n
+1)*incy + 1;

4496 
i
 = 1; i <ğ
n
; i++)

4498 
dy
[
iy
] = 
dx
[
ix
];

4499 
ix
 +ğ
šcx
;

4500 
iy
 +ğ
šcy
;

4508 
gÙo20
:

4509 
m
 = 
n
%7;

4510 ià(
m
 =ğ0è
gÙo40
;

4511 
i
 = 1; i <ğ
m
; i++)

4512 
dy
[
i
] = 
dx
[i];

4514 ià(
n
 < 7) ;

4516 
gÙo40
:

4517 
mp1
 = 
m
 + 1;

4518 
i
 = 
mp1
; i <ğ
n
; i+=7)

4520 
dy
[
i
] = 
dx
[i];

4521 
dy
[
i
 + 1] = 
dx
[i + 1];

4522 
dy
[
i
 + 2] = 
dx
[i + 2];

4523 
dy
[
i
 + 3] = 
dx
[i + 3];

4524 
dy
[
i
 + 4] = 
dx
[i + 4];

4525 
dy
[
i
 + 5] = 
dx
[i + 5];

4526 
dy
[
i
 + 6] = 
dx
[i + 6];

4528 
	}
}

4535 
	$ddÙ
(cÚ¡ & 
n
, cÚ¡ * cÚ¡ & 
dx
, cÚ¡ & 
šcx
,

4536 cÚ¡ * cÚ¡ & 
dy
, cÚ¡ & 
šcy
)

4538 
d‹mp
;

4540 
ix
,
iy
,
m
,
mp1
;

4542 
dddÙ
 = 0.0;

4543 
d‹mp
 = 0.0;

4544 ià(
n
 <ğ0è 
dddÙ
;

4545 ià(
šcx
==1 && 
šcy
==1è
gÙo20
;

4550 
ix
 = 1;

4551 
iy
 = 1;

4552 ià(
šcx
 < 0è
ix
 = (-
n
+1)*incx + 1;

4553 ià(
šcy
 < 0è
iy
 = (-
n
+1)*incy + 1;

4555 
i
 = 1; i <ğ
n
; i++)

4557 
d‹mp
 +ğ
dx
[
ix
]*
dy
[
iy
];

4558 
ix
 +ğ
šcx
;

4559 
iy
 +ğ
šcy
;

4561 
dddÙ
 = 
d‹mp
;

4562  
dddÙ
;

4568 
gÙo20
:

4569 
m
 = 
n
%5;

4570 ià(
m
 =ğ0è
gÙo40
;

4572 
i
 = 1; i <ğ
m
; i++)

4573 
d‹mp
 +ğ
dx
[
i
]*
dy
[i];

4575 ifĞ
n
 < 5 ) 
gÙo60
;

4577 
gÙo40
:

4578 
mp1
 = 
m
 + 1;

4581 
i
 = 
mp1
; i <ğ
n
; i+=5)

4583 
d‹mp
 +ğ
dx
[
i
]*
dy
[i] + dx[i + 1]*dy[i + 1] +

4584 
dx
[
i
 + 2]*
dy
[i + 2] + dx[i + 3]*dy[i + 3] + dx[i + 4]*dy[i + 4];

4587 
gÙo60
:

4588 
dddÙ
 = 
d‹mp
;

4589  
dddÙ
;

4590 
	}
}

4635 
	$dpoç
(* cÚ¡ & 
a
, cÚ¡ & 
lda
, cÚ¡ & 
n
, & 
šfo
,

4636 
boŞ
 
sm®ËrM©rix
=
çl£
)

4638 
t
;

4639 
s
;

4641 
jm1
;

4642 
idx
;

4645 
j
 = 1; j <ğ
n
; j++)

4647 
šfo
 = 
j
;

4648 
s
 = 0.0;

4649 
jm1
 = 
j
 - 1;

4650 ià(
jm1
 < 1è
gÙo20
;

4651 
k
 = 1; k <ğ
jm1
; k++)

4653 
idx
 = 
	`g‘Idx
(
k
,
j
,
lda
);

4654 
t
 = 
a
[
idx
] - 
	`ddÙ
(
k
-1,&×[
	`g‘Idx
(1,k,
lda
)-1]),1,

4655 &(
a
[
	`g‘Idx
(1,
j
,
lda
)-1]),1);

4656 
t
 =/
a
[
	`g‘Idx
(
k
,k,
lda
)];

4657 
a
[
idx
] = 
t
;

4658 
s
 +ğ
t
*t;

4661 
gÙo20
:

4662 
idx
 = 
	`g‘Idx
(
j
,j,
lda
);

4663 
s
 = 
a
[
idx
] - s;

4666 ià(
s
 <ğ0.0è
gÙo40
;

4667 
a
[
idx
] = 
	`sq¹
(
s
);

4669 
šfo
 = 0;

4670 
gÙo40
:

4671 
t
 = 0;

4672 
	}
}

4680 
	$dsÿl
(cÚ¡ & 
n
, cÚ¡ & 
da
, * cÚ¡ & 
dx
,

4681 cÚ¡ & 
šcx
)

4684 
m
,
mp1
,
nšcx
;

4686 ià(
n
 <ğ0 || 
šcx
 <= 0) ;

4687 ià(
šcx
 =ğ1è
gÙo20
;

4691 
nšcx
 = 
n
*
šcx
;

4693 
i
 = 1; i <ğ
nšcx
; i+=
šcx
)

4694 
dx
[
i
] = 
da
*dx[i];

4701 
gÙo20
:

4702 
m
 = 
n
%5;

4703 ià(
m
 =ğ0è
gÙo40
;

4705 
i
 = 1; i <ğ
m
; i++)

4706 
dx
[
i
] = 
da
*dx[i];

4708 ià(
n
 < 5) ;

4710 
gÙo40
:

4711 
mp1
 = 
m
 + 1;

4712 
i
 = 
mp1
; i <ğ
n
; i+=5)

4714 
dx
[
i
] = 
da
*dx[i];

4715 
dx
[
i
 + 1] = 
da
*dx[i + 1];

4716 
dx
[
i
 + 2] = 
da
*dx[i + 2];

4717 
dx
[
i
 + 3] = 
da
*dx[i + 3];

4718 
dx
[
i
 + 4] = 
da
*dx[i + 4];

4720 
	}
}

4777 
	$dŒ¦
(* cÚ¡ & 
t
, cÚ¡ & 
ldt
, cÚ¡ & 
n
,

4778 * cÚ¡ &
b
, cÚ¡ & 
job
, & 
šfo
)

4780 
‹mp
;

4781 
cÿ£
,
j
;

4788 
šfo
 = 1; infØ<ğ
n
; info++)

4791 ià(
t
[
	`g‘Idx
(
šfo
,šfo,
ldt
)] =ğ0.0è
gÙo150
;

4793 
šfo
 = 0;

4797 
cÿ£
 = 1;

4798 ià(
job
%10 !ğ0è
cÿ£
 = 2;

4799 ià((
job
%100)/10 !ğ0è
cÿ£
 += 2;

4800 ià(
cÿ£
==1è
gÙo20
;

4801 ià(
cÿ£
==2è
gÙo50
;

4802 ià(
cÿ£
==3è
gÙo80
;

4803 ià(
cÿ£
==4è
gÙo110
;

4807 
gÙo20
:

4808 
b
[1] /ğ
t
[
	`g‘Idx
(1,1,
ldt
)];

4809 ià(
n
 < 2è
gÙo40
;

4810 
j
 = 2; j <ğ
n
; j++)

4812 
‹mp
 = -
b
[
j
-1];

4813 
	`daxpy
(
n
-
j
+1,
‹mp
,&(
t
[
	`g‘Idx
(j,j-1,
ldt
)-1]),1,&(
b
[j-1]),1);

4814 
b
[
j
] /ğ
t
[
	`g‘Idx
(j,j,
ldt
)];

4816 
gÙo40
:

4817 
gÙo140
;

4821 
gÙo50
:

4822 
b
[
n
] /ğ
t
[
	`g‘Idx
Ò,n,
ldt
)];

4823 ià(
n
 < 2è
gÙo70
;

4824 
jj
 = 2; jj <ğ
n
; jj++)

4826 
j
 = 
n
 - 
jj
 + 1;

4827 
‹mp
 = -
b
[
j
+1];

4828 
	`daxpy
(
j
,
‹mp
,&(
t
[
	`g‘Idx
(1,j+1,
ldt
)-1]),1,&(
b
[1-1]),1);

4829 
b
[
j
] /ğ
t
[
	`g‘Idx
(j,j,
ldt
)];

4832 
gÙo70
:

4833 
gÙo140
;

4837 
gÙo80
:

4838 
b
[
n
] /ğ
t
[
	`g‘Idx
Ò,n,
ldt
)];

4839 ià(
n
 < 2è
gÙo100
;

4840 
jj
 = 2; jj <ğ
n
; jj++)

4842 
j
 = 
n
 - 
jj
 + 1;

4843 
b
[
j
] = b[j] - 
	`ddÙ
(
jj
-1,&(
t
[
	`g‘Idx
(j+1,j,
ldt
)-1]),1,&(b[j+1-1]),1);

4844 
b
[
j
] /ğ
t
[
	`g‘Idx
(j,j,
ldt
)];

4846 
gÙo100
:

4847 
gÙo140
;

4851 
gÙo110
:

4852 
b
[1] /ğ
t
[
	`g‘Idx
(1,1,
ldt
)];

4853 ià(
n
 < 2è
gÙo130
;

4854 
j
 = 2; j <ğ
n
; j++)

4856 
b
[
j
] = b[j] - 
	`ddÙ
(j-1,&(
t
[
	`g‘Idx
(1,j,
ldt
)-1]),1,&(b[1-1]),1);

4857 
b
[
j
] /ğ
t
[
	`g‘Idx
(j,j,
ldt
)];

4860 
gÙo130
:

4862 ià(
çl£
);

4864 
gÙo140
:

4866 ià(
çl£
);

4868 
gÙo150
:

4870 ià(
çl£
);

4872 
	}
}

4874 
	g´iv©e
:

4875 
Tim”
 
tim”_
;

	@rrf/parentiter.h

1 #iâdeà
PARENTITER_H


2 
	#PARENTITER_H


	)

4 
	~"¬¿y.h
"

5 
	~"³rmutiÚ.h
"

6 
	~"¬¿y§cûssÜ.h
"

8 şas 
	cP¬’tI‹r


10 
	mpublic
:

11 
	$P¬’tI‹r
()

16 ~
	$P¬’tI‹r
()

19 
	}
}

21 
	$P¬’tI‹r
(cÚ¡ 
P¬’tI‹r
& 
Ùh”
)

22 : 
	`size_
(
Ùh”
.
size_
), 
	`fËrV®ues_
(Ùh”.
fËrV®ues_
),

23 
	`»qV®ues_
(
Ùh”
.
»qV®ues_
), 
	`»qGround_
(Ùh”.
»qGround_
),

24 
	`fËrGround_
(), 
	$fœ¡Time_
(
Ùh”
.
fœ¡Time_
)

26 
	`£tupFËrI‹r
();

27 
fËrGround_
.
	`g‘Combš©iÚIndex
() <

28 
Ùh”
.
fËrGround_
.
	`g‘Combš©iÚIndex
()) {

29 
fËrGround_
.
	`Ãxt
();

31 
	}
}

34 
P¬’tI‹r
(cÚ¡ 
A¼ay
<>& 
»quœed
, cÚ¡ A¼ay<>* 
fËr
, 
size
)

35 : 
size_
(
size
), 
fËrV®ues_
(*
fËr
), 
»qV®ues_
(
»quœed
),

36 
»qGround_
(), 
	$fœ¡Time_
(
Œue
)

38 
A¼ay
<> 
	`»quœedW™hS·ûs
(
»quœed
);

39 
i
 = 
»quœed
.
	`size
(); i < 
size
; i++) {

40 
»quœedW™hS·ûs
.
	`­³nd
(-2);

42 
»qGround_
.
	`£tV®ues
(
»quœedW™hS·ûs
);

43 
	`£tupFËrI‹r
();

44 
	}
}

46 
	$»£t
()

48 
»qGround_
.
	`»£t
();

49 
	`£tupFËrI‹r
();

50 
fœ¡Time_
 = 
Œue
;

51 
	}
}

53 
boŞ
 
	$hasNextGroundšg
() {

54  
fËrGround_
.
	`hasNextCombš©iÚ
(è|| 
»qGround_
.
	`hasNext
();

55 
	}
}

58 
boŞ
 
g‘NextGroundšg
(
A¼ay
<>& 
groundšg
)

60 
	ggroundšg
.
ş—r
();

61 
	ggroundšg
.
growToSize
(
size_
);

63 ià(
	gfœ¡Time_
 || !
	gfËrGround_
.
hasNextCombš©iÚ
()) {

64 
	g»qGround_
.
Ãxt
();

65 
£tupFËrI‹r
();

67 
	gfœ¡Time_
 = 
çl£
;

70 
	gA¼ay
<> 
	gfËrGroundšg
;

71 
	gfËrGround_
.
g‘NextCombš©iÚ
(
fËrGroundšg
);

74 
	gfËrIndex
 = 0;

75 
	gi
 = 0; i < 
	gsize_
; i++) {

76 ià(
	g»qGround_
[
i
] < 0) {

77 
	ggroundšg
[
i
] = 
fËrGroundšg
[
fËrIndex
++];

79 
	ggroundšg
[
i
] = 
»qGround_
[i];

83  
hasNextGroundšg
();

87 
	g´Ùeùed
:

88 
	$£tupFËrI‹r
()

98 
A¼ay
<> 
£’SoF¬
;

99 
fËrGround_
.
	`d–‘eA¼aysAndCË¬
();

100 
i
 = 0; i < 
size_
; i++) {

101 ià(
»qGround_
[
i
] >= 0) {

102 
£’SoF¬
.
	`­³nd
(
»qGround_
[
i
]);

104 
A¼ay
<>* 
v®Li¡
 = 
Ãw
 Array<>;

105 
fi
 = 0; f˜< 
fËrV®ues_
.
	`size
(); fi++) {

106 
boŞ
 
£’
 = 
çl£
;

107 
si
 = 0; s˜< 
£’SoF¬
.
	`size
(); si++) {

108 ià(
£’SoF¬
[
si
] =ğ
fËrV®ues_
[
fi
]) {

109 
£’
 = 
Œue
;

113 ià(!
£’
) {

114 
v®Li¡
->
	`­³nd
(
fËrV®ues_
[
fi
]);

118 
fËrGround_
.
	`­³ndA¼ay
(
v®Li¡
);

121 
	}
}

124 
	g´iv©e
:

125 
size_
;

126 
	gA¼ay
<> 
	gfËrV®ues_
;

127 
	gA¼ay
<> 
	g»qV®ues_
;

128 
	gP”mutiÚ
<> 
	g»qGround_
;

129 
	gA¼aysAcûssÜ
<> 
	gfËrGround_
;

130 
boŞ
 
	gfœ¡Time_
;

	@rrf/parentiter2.h

1 #iâdeà
PARENTITER2_H


2 
	#PARENTITER2_H


	)

4 
	~"·»Á™”.h
"

13 şas 
	cP¬’tI‹r2


15 
	mpublic
:

26 
P¬’tI‹r2
(cÚ¡ 
A¼ay
<A¼ay<> >& 
»quœed
,

27 cÚ¡ 
A¼ay
<A¼ay<>*>* 
fËr
, cÚ¡ A¼ay<>& 
ty³s
)

28 : 
fœ¡Time_
(
Œue
), 
size_
(
ty³s
.
	$size
())

31 
i
 = 0; i < 
ty³s
.
	`size
(); i++) {

32 
numP”Ty³_
.
	`size
(è<ğ
ty³s
[
i
]) {

33 
¬gM­_
.
	`­³nd
(
A¼ay
<>() );

34 
numP”Ty³_
.
	`­³nd
(0);

36 
numP”Ty³_
[
ty³s
[
i
]]++;

37 
¬gM­_
[
ty³s
[
i
]].
	`­³nd
(i);

41 
i
 = 0; i < 
numP”Ty³_
.
	`size
(); i++) {

42 
p™”s_
.
	`­³nd
(
	`P¬’tI‹r
(
»quœed
[
i
],

43 (*
fËr
)[
i
], 
numP”Ty³_
[i]));

48 
boŞ
 
	$hasNextGroundšg
()

51 
boŞ
 
hasNext
 = 
çl£
;

52 
i
 = 0; i < 
p™”s_
.
	`size
(); i++) {

53 ià(
p™”s_
[
i
].
	`hasNextGroundšg
()) {

54 
hasNext
 = 
Œue
;

58  
hasNext
;

59 
	}
}

62 
boŞ
 
g‘NextGroundšg
(
A¼ay
<>& 
groundšg
)

64 
	ggroundšg
.
ş—r
();

65 
	ggroundšg
.
growToSize
(
size_
);

67 ià(
	gfœ¡Time_
) {

69 
	gpgrounds_
.
ş—r
();

70 
	gpgrounds_
.
growToSize
(
p™”s_
.
size
());

73 
	gi
 = 0; i < 
	gp™”s_
.
size
(); i++) {

74 
	gp™”s_
[
i
].
g‘NextGroundšg
(
pgrounds_
[i]);

76 
	gfœ¡Time_
 = 
çl£
;

79 
	gi
 = 0; i < 
	gp™”s_
.
size
(); i++) {

80 ià(
	gnumP”Ty³_
[
i
] == 0) {

83 ià(
	gp™”s_
[
i
].
hasNextGroundšg
()) {

85 
	gp™”s_
[
i
].
g‘NextGroundšg
(
pgrounds_
[i]);

89 
	gp™”s_
[
i
].
»£t
();

90 
	gp™”s_
[
i
].
g‘NextGroundšg
(
pgrounds_
[i]);

96 
	gi
 = 0; i < 
	gnumP”Ty³_
.
size
(); i++) {

97 
	gj
 = 0; j < 
	gnumP”Ty³_
[
i
]; j++) {

98 
	ggroundšg
[
¬gM­_
[
i
][
j
]] = 
pgrounds_
[i][j];

102  
hasNextGroundšg
();

105 
	g´iv©e
:

106 
A¼ay
<
P¬’tI‹r
> 
p™”s_
;

107 
	gA¼ay
<A¼ay<> > 
	g¬gM­_
;

108 
	gA¼ay
<A¼ay<> > 
	gpgrounds_
;

109 
	gA¼ay
<> 
	gnumP”Ty³_
;

110 
boŞ
 
	gfœ¡Time_
;

111 
	gsize_
;

	@rrf/rrf.cpp

1 
	~"¼f.h
"

2 
	~"domaš.h
"

4 
RRF
* 
	gRRF
::
	$g’”©eTwoLev–
(
Domaš
* 
domaš
)

6 
RRF
* 
¼f
 = 
Ãw
 
	`RRF
();

10 
´ed
 = 1;…»d < 
domaš
->
	`g‘NumP»diÿ‹s
();…red++) {

11 
P»diÿ‹F—tu»
* 
´edF—t
 = 
Ãw
 
	`P»diÿ‹F—tu»
(

12 
domaš
->
	`g‘P»diÿ‹Tem¶©e
(
´ed
));

13 
¼f
->
maxF—tu»Id_
++;

14 
´edF—t
->
	`£tId
(
¼f
->
maxF—tu»Id_
);

15 
¼f
->
ã©u»A¼ay_
.
	`­³nd
(
´edF—t
);

19 
¼f
->
tİF—tu»_
 = 
Ãw
 
	`RecursiveF—tu»
("roÙ", 
Œue
, 
çl£
);

20 
¼f
->
maxF—tu»Id_
++;

21 
¼f
->
tİF—tu»_
->
	`£tId
Ôrf->
maxF—tu»Id_
);

22 
¼f
->
ã©u»A¼ay_
.
	`­³nd
Ôrf->
tİF—tu»_
);

24  
¼f
;

25 
	}
}

27 
	gRRF
::
addCom¶‘eF—tu»
(
A¼ay
<> 
ty³Ar™y
, 
Domaš
* 
domaš
,

28 cÚ¡ 
A¼ay
<>& 
qu”yP»ds
, 
numChd»n
)

30 
	gşau§lName
[100];

31 
¥rštf
(
şau§lName
, "f%d", ++
maxF—tu»Id_
);

32 
CÏu§lF—tu»
* 
	gã©u»
 = 
Ãw
 CÏu§lF—tu»(
şau§lName
);

34 
	gã©u»
->
£tId
(
maxF—tu»Id_
);

35 
	gA¼ay
<A¼ay<> > 
	g‹rmIndiûsByTy³
;

38 
	gi
 = 0; i < 
	gty³Ar™y
.
size
(); i++) {

41 
	gA¼ay
<> 
	gcu¼Ty³T”mIndiûs
;

42 
	gj
 = 0; j < 
	gty³Ar™y
[
i
]; j++) {

46 
	gã©u»
->
addT”mTy³
(
i
);

47 
	gcu¼Ty³T”mIndiûs
.
­³nd
(
ã©u»
->
g‘NumT”ms
() - 1);

51 
	g‹rmIndiûsByTy³
.
­³nd
(
cu¼Ty³T”mIndiûs
);

56 
	g´ed
 = 1;…»d < 
	gdomaš
->
g‘NumP»diÿ‹s
();…red++) {

58 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	g´edTemp
 =

59 
domaš
->
g‘P»diÿ‹Tem¶©e
(
´ed
);

65 
	gA¼aysAcûssÜ
<> 
	gm­I‹r
;

66 
	gi
 = 0; i < 
	g´edTemp
->
g‘NumT”ms
(); i++) {

67 
	g‹rmTy³
 = 
´edTemp
->
g‘T”mTy³AsIÁ
(
i
);

68 
	gm­I‹r
.
­³ndA¼ay
(&(
‹rmIndiûsByTy³
[
‹rmTy³
]));

77 
F—tu»
* 
	g´edF—tu»
 = 
ã©u»A¼ay_
[
´ed
-1];

78 
	gA¼ay
<> 
	gm­pšg
;

80 
	gm­I‹r
.
g‘NextCombš©iÚ
(
m­pšg
);

81 
	gã©u»
->
addChd
(
´edF—tu»
, 0, 
m­pšg
);

82 } 
	gm­I‹r
.
hasNextCombš©iÚ
());

85 
	gA¼ay
<> 
	gm­pšg
;

86 
	gi
 = 0; i < 
	gã©u»
->
g‘NumT”ms
(); i++) {

87 
	gm­pšg
.
­³nd
(-
i
 - 1);

89 ((
	gRecursiveF—tu»
*)
	gtİF—tu»_
)->
addChd
(
ã©u»
, 0.0, 
m­pšg
);

93 
	gA¼ay
<> 
	ggroundšg
;

94 
	gi
 = 0; i < 
	gã©u»
->
g‘NumT”ms
(); i++) {

95 
	gty³
 = 
ã©u»
->
g‘T”mTy³
(
i
);

97 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡ªts
 = 
domaš
->
g‘CÚ¡ªtsByTy³
(
ty³
);

98 
	ggroundšg
.
­³nd
((*
cÚ¡ªts
)[
¿nd
(è% cÚ¡ªts->
size
()]);

100 
	gã©u»
->
£tWeightsFromExam¶e
(
groundšg
, 
domaš
->
g‘DB
(), 
qu”yP»ds
, 
numChd»n
);

101 
	gtİF—tu»_
->
£tWeight
(
tİF—tu»_
->
g‘NumWeights
(è- 1, 
äªd
());

103 
	gã©u»A¼ay_
.
­³nd
(
ã©u»
);

106 
	gRRF
::
addRªdomF—tu»
(
numChd»n
, 
A¼ay
<> 
qu”yP»ds
,

107 
A¼ay
<> 
ty³Ar™y
, 
Domaš
* 
domaš
)

109 
CÏu§lF—tu»
* 
	gã©u»
 = 
NULL
;

111 
	gA¼ay
<A¼ay<> > 
	g‹rmIndiûsByTy³
;

113 
boŞ
 
	gqu”yP»dCho£n
 = 
çl£
;

114 !
	gqu”yP»dCho£n
) {

116 
	gã©u»
 = 
Ãw
 
CÏu§lF—tu»
;

119 
	gi
 = 0; i < 
	gty³Ar™y
.
size
(); i++) {

122 
	gA¼ay
<> 
	gcu¼Ty³T”mIndiûs
;

123 
	gj
 = 0; j < 
	gty³Ar™y
[
i
]; j++) {

127 
	gã©u»
->
addT”mTy³
(
i
);

128 
	gcu¼Ty³T”mIndiûs
.
­³nd
(
ã©u»
->
g‘NumT”ms
() - 1);

132 
	g‹rmIndiûsByTy³
.
­³nd
(
cu¼Ty³T”mIndiûs
);

136 
	gi
 = 0; i < 
	gnumChd»n
; i++) {

138 
	g´ed
 = ()(
¿nd
(è% (
domaš
->
g‘NumP»diÿ‹s
()-1)) + 1;

139 cÚ¡ 
P»diÿ‹Tem¶©e
* 
	g´edTemp
 =

140 
domaš
->
g‘P»diÿ‹Tem¶©e
(
´ed
);

143 
	gA¼ay
<> 
	gm­pšg
;

144 
	gi
 = 0; i < 
	g´edTemp
->
g‘NumT”ms
(); i++) {

145 
	g‹rmTy³
 = 
´edTemp
->
g‘T”mTy³AsIÁ
(
i
);

146 
	gnumT”ms
 = 
‹rmIndiûsByTy³
[
‹rmTy³
].
size
();

147 
	gm­pšg
.
­³nd
(
‹rmIndiûsByTy³
[
‹rmTy³
][
¿nd
(è% 
numT”ms
]);

150 
	gã©u»
->
addChd
(
ã©u»A¼ay_
[
´ed
], 0.0, 
m­pšg
);

153 ià(
	gqu”yP»ds
.
fšd
(
´ed
) != -1) {

154 
qu”yP»dCho£n
 = 
Œue
;

159 
	gã©u»
->
£tId
(++
maxF—tu»Id_
);

161 
	gA¼ay
<> 
	gm­pšg
;

162 
	gi
 = 0; i < 
	gã©u»
->
g‘NumT”ms
(); i++) {

163 
	gm­pšg
.
­³nd
(-
i
 - 1);

165 ((
	gRecursiveF—tu»
*)
	gtİF—tu»_
)->
addChd
(
ã©u»
, 0.0, 
m­pšg
);

168 
	gA¼ay
<> 
	ggroundšg
;

169 
	gi
 = 0; i < 
	gã©u»
->
g‘NumT”ms
(); i++) {

170 
	gty³
 = 
ã©u»
->
g‘T”mTy³
(
i
);

172 cÚ¡ 
	gA¼ay
<>* 
	gcÚ¡ªts
 = 
domaš
->
g‘CÚ¡ªtsByTy³
(
ty³
);

173 
	ggroundšg
.
­³nd
((*
cÚ¡ªts
)[
¿nd
(è% cÚ¡ªts->
size
()]);

175 
	gã©u»
->
£tWeightsFromExam¶e
(
groundšg
, 
domaš
->
g‘DB
(), 
qu”yP»ds
,

176 
numChd»n
);

177 
	gtİF—tu»_
->
£tWeight
(
tİF—tu»_
->
g‘NumWeights
(è- 1, 1.0 + 
äªd
());

179 
	gã©u»A¼ay_
.
­³nd
(
ã©u»
);

182 
	gRRF
::
g‘LogP£udoLik–ihood
(
D©aba£
* 
db
, cÚ¡ 
A¼ay
<>& 
qu”yP»ds
)

184 
	gA¼ay
<
	gP»diÿ‹
*> 
	g®lP»ds
;

185 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

186 
	gA¼ay
<
	gP»diÿ‹
*> 
	g´edA¼ay
;

187 
	gP»diÿ‹
::
ü—‹AÎGroundšgs
(
qu”yP»ds
[
i
], 
db
->
g‘Domaš
(),

188 
´edA¼ay
);

189 
	g®lP»ds
.
­³nd
(
´edA¼ay
);

192  
g‘LogP£udoLik–ihood
(
db
, 
®lP»ds
);

196 
	gRRF
::
g‘LogP£udoLik–ihood
(
D©aba£
* 
db
,

197 cÚ¡ 
A¼ay
<
P»diÿ‹
*>& 
®lP»ds
)

203 
	gÍl
 = 0.0;

205 
šv®id©eAÎ
();

206 
	glogTruthProb
 = 
g‘LogV®ue
(
db
);

209 
	gi
 = 0; i < 
	g®lP»ds
.
size
(); i++) {

211 
TruthV®ue
 
	gcu¼V®ue
 = 
db
->
g‘V®ue
(
®lP»ds
[
i
]);

212 
as£¹
(
cu¼V®ue
 !ğ
UNKNOWN
);

213 
TruthV®ue
 
	gÃwV®ue
 = (
cu¼V®ue
 =ğ
TRUE
è? 
FALSE
 : TRUE;

214 
	gdb
->
£tV®ue
(
®lP»ds
[
i
], 
ÃwV®ue
);

215 
chªgedP»diÿ‹
(
®lP»ds
[
i
], 
db
);

216 
	glogUÁruthProb
 = 
g‘LogV®ue
(
db
);

217 
	gdb
->
£tV®ue
(
®lP»ds
[
i
], 
cu¼V®ue
);

218 
chªgedP»diÿ‹
(
®lP»ds
[
i
], 
db
);

222 ià(
çbs
(
logUÁruthProb
 - 
logTruthProb
) > 100) {

223 
	gÍl
 +ğ
logUÁruthProb
 - 
logTruthProb
;

225 
	gÍl
 +ğ-
log
(1.0 + 
exp
(
logUÁruthProb
 - 
logTruthProb
));

228 
	gÍl
 +ğ
g‘P»diÿ‹LogLik–ihood
(
®lP»ds
[
i
], 
db
);

232  
	gÍl
/
	g®lP»ds
.
size
();

236 
	gRRF
::
g‘ExaùZ
(cÚ¡ 
Domaš
* 
domaš
, cÚ¡ 
A¼ay
<>& 
qu”yP»ds
,

237 
D©aba£
* 
ÜigDb
)

239 
	gA¼aysAcûssÜ
<
	gTruthV®ue
> 
	g´edV®ues
;

240 
	gA¼ay
<
	gTruthV®ue
> 
	gŒuthV®ues
;

241 
	gŒuthV®ues
.
­³nd
(
TRUE
);

242 
	gŒuthV®ues
.
­³nd
(
FALSE
);

244 
	gA¼ay
<
	gP»diÿ‹
*> 
	g®lP»ds
;

245 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

246 
	gA¼ay
<
	gP»diÿ‹
*> 
	g´edA¼ay
;

247 
	gP»diÿ‹
::
ü—‹AÎGroundšgs
(
qu”yP»ds
[
i
], 
domaš
, 
´edA¼ay
);

248 
	g®lP»ds
.
­³nd
(
´edA¼ay
);

251 
	gi
 = 0; i < 
	g®lP»ds
.
size
(); i++) {

252 
	g´edV®ues
.
­³ndA¼ay
(&
ŒuthV®ues
);

255 
	gZ
 = 0.0;

258 
	gA¼ay
<
	gboŞ
> 
	gşo£dWÜld
;

259 
	gi
 = 0; i < 
	gdomaš
->
g‘NumP»diÿ‹s
(); i++) {

260 
	gşo£dWÜld
.
­³nd
(
Œue
);

262 
D©aba£
* 
	gdb
 = 
Ãw
 D©aba£(
domaš
, 
şo£dWÜld
, 
Œue
);

265 ià(
	gÜigDb
 !ğ
NULL
) {

266 
i
 = 1; 
	gi
 < 
	gdomaš
->
g‘NumP»diÿ‹s
(); i++) {

267 
	gA¼ay
<
	gP»diÿ‹
*> 
	g´edA¼ay
;

268 
	gP»diÿ‹
::
ü—‹AÎGroundšgs
(
i
, 
domaš
, 
´edA¼ay
);

269 
	gj
 = 0; j < 
	g´edA¼ay
.
size
(); j++) {

270 
	gdb
->
£tV®ue
(
´edA¼ay
[
j
], 
ÜigDb
->
g‘V®ue
(predArray[j]));

272 
	g´edA¼ay
.
d–‘eI‹msAndCË¬
();

278 
	gA¼ay
<
	gTruthV®ue
> 
	gŒuthV®ues
;

279 
	g´edV®ues
.
g‘NextCombš©iÚ
(
ŒuthV®ues
);

280 
	gi
 = 0; i < 
	gŒuthV®ues
.
size
(); i++) {

281 
	gdb
->
£tV®ue
(
®lP»ds
[
i
], 
ŒuthV®ues
[i]);

284 
	gA¼ay
<> 
	gem±yGroundšg
;

285 
	gZ
 +ğ
tİF—tu»_
->
g‘V®ue
(
em±yGroundšg
, 
db
);

286 } 
	g´edV®ues
.
hasNextCombš©iÚ
());

288 
	g®lP»ds
.
d–‘eI‹msAndCË¬
();

290 
d–‘e
 
	gdb
;

292  
	gZ
;

295 
	gRRF
::
	$g‘ExaùZ
(cÚ¡ 
Domaš
* 
domaš
)

297 
A¼ay
<> 
®lP»ds
;

298 
i
 = 1; i < 
domaš
->
	`g‘NumP»diÿ‹s
(); i++) {

299 
®lP»ds
.
	`­³nd
(
i
);

301  
	`g‘ExaùZ
(
domaš
, 
®lP»ds
, 
NULL
);

302 
	}
}

304 
šlše
 
boŞ
 
	$i¢amebegš
(
c
) {

305  (
	`i§Íha
(
c
) || c == '_');

306 
	}
}

308 
šlše
 
boŞ
 
	$i¢ame
(
c
) {

309  (
	`i§Êum
(
c
) || c == '_');

310 
	}
}

312 * 
ÃxtChd
(* 
buf
, cÚ¡ 
A¼ay
<*>& 
v¬s
,

313 & 
weight
, 
¡ršg
& 
Çme
, 
A¼ay
<>& 
groundšg
)

315 * 
	gpbuf
;

316 
boŞ
 
	gisCÚ¡ªt
 = 
çl£
;

319 
is¥aû
(*
buf
)è{ 
	gbuf
++; }

320 
	gpbuf
 = 
buf
;

321 !
is¥aû
(*
pbuf
è&& *
	gpbuf
 != ')' && *pbuf) {…buf++; }

322 ià(*
	gpbuf
 == ')') {

323 
isCÚ¡ªt
 = 
Œue
;

325 *
	gpbuf
 = '\0';

326 
	gweight
 = 
©of
(
buf
);

327 
	gbuf
 = 
pbuf
 + 1;

329 #ià
PARSE_DEBUG


330 
	gcout
 << "R—d weight: " << 
	gweight
 << 
	g’dl
;

333 !
	gisCÚ¡ªt
 && 
is¥aû
(*
buf
)è{ 
	gbuf
++; }

334 ià(*
	gbuf
 == ')') {

335 
isCÚ¡ªt
 = 
Œue
;

337 ià(!
i¢amebegš
(*
buf
)) {

338 
	gisCÚ¡ªt
 = 
Œue
;

341 ià(!
	gisCÚ¡ªt
) {

343 * 
	gpbuf
 = 
buf
;

344 
i¢ame
(*
pbuf
)è{ 
	gpbuf
++; }

345 ià(*
	gpbuf
 != '(') {

346 
cout
 << "ERROR:ƒx³ùed '('; found '" << *
pbuf
 << "'.\n";

347  
	gNULL
;

350 *
	gpbuf
 = '\0';

351 
	gÇme
 = 
buf
;

352 
	gbuf
 = 
pbuf
 + 1;

354 #ià
PARSE_DEBUG


355 
	gcout
 << "R—d‚ame: " << 
	gÇme
 << 
	g’dl
;

359 
is¥aû
(*
buf
)è{ 
	gbuf
++; }

360 ià(*
	gbuf
 != ')') {

361 
pbuf
 = 
buf
;

362 
boŞ
 
	g¬gsDÚe
 = 
çl£
;

363 !
	g¬gsDÚe
) {

364 
i¢ame
(*
pbuf
)è{ 
	gpbuf
++; }

365 ià(*
	gpbuf
 !ğ',' && *
pbuf
 != ')') {

366 
cout
 << "ERROR:ƒx³ùed ','; found '" << *
pbuf
 << "'.\n";

367  
	gNULL
;

370 ià(*
	gpbuf
 == ')') {

371 
¬gsDÚe
 = 
Œue
;

375 *
	gpbuf
 = '\0';

376 
	gv¬Index
 = -1;

377 
	gi
 = 0; i < 
	gv¬s
.
size
(); i++) {

378 ià(!
¡rcmp
(
buf
, 
v¬s
[
i
])) {

379 
	gv¬Index
 = 
i
;

383 
	ggroundšg
.
­³nd
(
v¬Index
);

386 
	gpbuf
++;

387 
	gbuf
 = 
pbuf
;

391 
	gbuf
++;

394 
	gÇme
 = "";

399 
is¥aû
(*
buf
)è{ 
	gbuf
++; }

400 ià(*
	gbuf
 == '+') {

401  ++
buf
;

402 } ià(*
	gbuf
 =ğ')' || *
buf
 == '\n' || *buf == '\r' || *buf == '\0') {

403  
NULL
;

406 
	gcout
 << "ERROR:„—d \'" << *
	gbuf
 << "\';ƒxpected '+' or ')'.\n";

407  
	gNULL
;

413 
»adF—tu»
(
A¼ay
<
¡ršg
>& 
ty³s
, A¼ay<>& 
weights
,

414 
A¼ay
<
¡ršg
>& 
chd»n
, A¼ay<A¼ay<> >& 
m­pšg
,

415 
¡ršg
& 
Çme
, * 
buf
)

417 
	gty³s
.
ş—r
();

418 
	gweights
.
ş—r
();

419 
	gchd»n
.
ş—r
();

420 
	gm­pšg
.
ş—r
();

423 * 
	gpbuf
;

426 
is¥aû
(*
buf
)è{ 
	gbuf
++; }

427 
	gpbuf
 = 
buf
;

428 
i¢ame
(*
pbuf
)è{ 
	gpbuf
++; }

429 ià(*
	gpbuf
 != '(') {

430 
cout
 << "ERROR:ƒx³ùed ')';„—d '" << *
pbuf
 << "'.\n";

433 *
	gpbuf
 = '\0';

434 
	gÇme
 = 
buf
;

436 #ià
PARSE_DEBUG


437 
	gcout
 << "R—d f—tu»‚ame: " << 
	gÇme
 << 
	g’dl
;

441 
	gpbuf
++;

442 
	gbuf
 = 
pbuf
;

443 
	gA¼ay
<*> 
	gv¬s
;

444 
boŞ
 
	gdÚe
 = 
çl£
;

445 
is¥aû
(*
pbuf
)è{ ++
	gpbuf
; }

446 ià(*
	gpbuf
 == ')') {

447 
dÚe
 = 
Œue
;

451 *
	gbuf
 && !
	gdÚe
) {

453 * 
	gp2buf
;

458 
i¢ame
(*
pbuf
)è{ ++
	gpbuf
; }

461 
	gp2buf
 = 
pbuf
;

462 
is¥aû
(*
p2buf
)è{ ++
	gp2buf
; }

463 ià(*
	gp2buf
 != ':') {

464 
cout
 << "ERROR:ƒx³ùed ':';„—d '" << *
p2buf
 << "'\n";

467 
	gp2buf
++;

468 
is¥aû
(*
p2buf
)è{ ++
	gp2buf
; }

471 *
	gpbuf
 = '\0';

472 
	gv¬s
.
­³nd
(
buf
);

473 
	gpbuf
 = 
buf
 = 
p2buf
;

478 
i¢ame
(*
pbuf
)è{ ++
	gpbuf
; }

481 
	gp2buf
 = 
pbuf
;

482 
is¥aû
(*
p2buf
)è{ ++
	gp2buf
; }

483 ià((*
	gp2buf
 !ğ','è&& (*
p2buf
 != ')')) {

484 
cout
 << "ERROR:ƒx³ùed ',' o¸')';„—d '" << *
p2buf
 << "'.\n";

487 ià(*
	gp2buf
 == ')') {

488 
dÚe
 = 
Œue
;

490 
	gp2buf
++;

491 
is¥aû
(*
p2buf
)è{ ++
	gp2buf
; }

494 *
	gpbuf
 = '\0';

495 
	gty³s
.
­³nd
(
buf
);

496 
	gpbuf
 = 
buf
 = 
p2buf
;

500 *
	gbuf
 && *buà!ğ'('è{ 
buf
++; }

501 
	gbuf
++;

503 
	gbuf
) {

505 
	gweight
;

506 
	gA¼ay
<> 
	ggroundšg
;

507 
¡ršg
 
	gchdName
;

510 
	gbuf
 = 
ÃxtChd
(
buf
, 
v¬s
, 
weight
, 
chdName
, 
groundšg
);

512 
	gweights
.
­³nd
(
weight
);

513 
	gchd»n
.
­³nd
(
chdName
);

514 
	gm­pšg
.
­³nd
(
groundšg
);

520 
	gRRF
::
	$lßd
(
i¡»am
& 
š
, 
Domaš
* 
domaš
)

522 #ià
PARSE_DEBUG


523 
cout
 << "Loading RRF from file...\n";

531 
´ed
 = 1;…»d < 
domaš
->
	`g‘NumP»diÿ‹s
();…red++) {

532 
P»diÿ‹F—tu»
* 
´edF—t
 = 
Ãw
 
	`P»diÿ‹F—tu»
(

533 
domaš
->
	`g‘P»diÿ‹Tem¶©e
(
´ed
));

534 
maxF—tu»Id_
++;

535 
´edF—t
->
	`£tId
(
maxF—tu»Id_
);

536 
ã©u»A¼ay_
.
	`­³nd
(
´edF—t
);

541 
CÚ¡ªtF—tu»
* 
cÚF—tu»
 = 
Ãw
 
	`CÚ¡ªtF—tu»
(1.0);

542 
maxF—tu»Id_
++;

543 
cÚF—tu»
->
	`£tId
(
maxF—tu»Id_
);

544 
ã©u»A¼ay_
.
	`­³nd
(
cÚF—tu»
);

547 #ià
PARSE_DEBUG


548 
cout
 << "Created…redicate features.\n";

550 
fœ¡NÚP»dF—tu»
 = 
maxF—tu»Id_
+1;

553 
bufãr
[10240];

554 * 
buf
 = 
bufãr
;

557 
š
.
	`g‘lše
(
buf
, 10240);

561 
A¼ay
<A¼ay<
¡ršg
> > 
®lChd»n
;

562 
A¼ay
<A¼ay<> > 
®lWeights
;

563 
A¼ay
<A¼ay<A¼ay<> > > 
®lGroundšgs
;

569 
A¼ay
<
¡ršg
> 
‹rms
;

570 
A¼ay
<> 
weights
;

571 
A¼ay
<
¡ršg
> 
chd»n
;

572 
A¼ay
<A¼ay<> > 
groundšgs
;

573 
¡ršg
 
Çme
;

575 
š
.
	`g‘lše
(
buf
, 10240);

578 
	`is¥aû
(*
buf
)) { buf++; }

579 ià(
buf
[0] =ğ'}' || !
š
) { ; }

581 
	`»adF—tu»
(
‹rms
, 
weights
, 
chd»n
, 
groundšgs
, 
Çme
, 
buf
);

582 
RecursiveF—tu»
* 
ã©
;

583 ià(!
Çme
.
	`com·»
("root") || !name.compare("f0")) {

584 
ã©
 = 
Ãw
 
	`RecursiveF—tu»
(
Çme
.
	`c_¡r
(), 
Œue
, 
çl£
);

585 
tİF—tu»_
 = 
ã©
;

587 
ã©
 = 
Ãw
 
	`RecursiveF—tu»
(
Çme
.
	`c_¡r
(), 
çl£
, 
Œue
);

590 
ã©
->
	`£tId
(++
maxF—tu»Id_
);

591 
ã©u»A¼ay_
.
	`­³nd
(
ã©
);

592 
j
 = 0; j < 
‹rms
.
	`size
(); j++) {

593 
ty³
;

594 
ty³
 = 
	`©oi
(
‹rms
[
j
].
	`c_¡r
());

595 ià(
ty³
 < 1) {

596 
ty³
 = 
domaš
->
	`g‘Ty³Id
(
‹rms
[
j
].
	`c_¡r
());

598 ià(
ty³
 < 1) {

599 
cout
 << "ERROR: UnknowÀ‹rmy³ '" << 
‹rms
[
j
]

600 << "' fÜ f—tu» '" << 
Çme
 << "'.\n";

601 
ty³
 = 1;

603 
ã©
->
	`addT”mTy³
(
ty³
);

606 #ià
PARSE_DEBUG


607 
cout
 << "R—d f—tu»: " << 
Çme
 << 
’dl
;

608 
cout
 << "Terms: ";

609 
j
 = 0; j < 
‹rms
.
	`size
(); j++) {

610 
cout
 << 
‹rms
[
j
] << 
’dl
;

616 
®lChd»n
.
	`­³nd
(
chd»n
);

617 
®lWeights
.
	`­³nd
(
weights
);

618 
®lGroundšgs
.
	`­³nd
(
groundšgs
);

623 
i
 = 0; i < 
	`g‘NumF—tu»s
(è- 
fœ¡NÚP»dF—tu»
; i++) {

624 
j
 = 0; j < 
®lChd»n
[
i
].
	`size
(); j++) {

625 
F—tu»
* 
chd
 = 
	`g‘F—tu»
(
®lChd»n
[
i
][
j
].
	`c_¡r
());

626 ià(
chd
 =ğ
NULL
) {

627 
cout
 << "ERROR: unknowÀã©u» " << 
®lChd»n
[
i
][
j
] <<

629 
	`g‘F—tu»
(
i
 + 
fœ¡NÚP»dF—tu»
)->
	`g‘Name
() << ".\n";

631 
RecursiveF—tu»
* 
·»Á
 = (RecursiveF—tu»*)
	`g‘F—tu»
(

632 
i
 + 
fœ¡NÚP»dF—tu»
);

633 ià(
·»Á
 =ğ
NULL
) {

634 
cout
 << "ERROR: could‚ot find index "

635 << (
i
 + 
fœ¡NÚP»dF—tu»
) << " feature!\n";

637 
·»Á
->
	`addChd
(
chd
, 
®lWeights
[
i
][
j
], 
®lGroundšgs
[i][j]);

642 
cout
 << 
this
 << 
’dl
;

644 
	}
}

	@rrf/rrf.h

1 #iâdeà
RRF_H


2 
	#RRF_H


	)

3 
	#SIGMASQ
 10000

	)

37 
	~"ã©u».h
"

38 
	~"´ediÿ‹.h
"

39 
	~"´ediÿ‹‹m¶©e.h
"

40 
	~<m©h.h
>

41 
	~<io¡»am
>

42 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

44 şas 
	cRRF


46 
	m´iv©e
:

49 
RRF
(cÚ¡ RRF& 
Ùh”
);

51 
	mpublic
:

53 
	$RRF
(è{ 
maxF—tu»Id_
 = -1; 
tİF—tu»_
 = 
NULL
; }

55 ~
	$RRF
() {

56 
ã©u»A¼ay_
.
	`d–‘eI‹msAndCË¬
();

57 
	}
}

61 
lßd
(
i¡»am
& 
š
, 
Domaš
* 
domaš
);

72 
RRF
* 
g’”©eTwoLev–
(
Domaš
* 
domaš
);

75 
addRªdomF—tu»
(
numChd»n
, 
A¼ay
<> 
qu”yP»ds
,

76 
A¼ay
<> 
ty³Ar™y
, 
Domaš
* 
domaš
);

79 
addCom¶‘eF—tu»
(
A¼ay
<> 
ty³Ar™y
, 
Domaš
* 
domaš
,

80 cÚ¡ 
A¼ay
<>& 
qu”yP»ds
, 
numChd»n
);

82 
	$g‘V®ue
(
D©aba£
* 
db
) {

83 
A¼ay
<> 
em±yGroundšg
;

86  
tİF—tu»_
->
	`g‘V®ue
(
em±yGroundšg
, 
db
);

87 
	}
}

89 
	$g‘LogV®ue
(
D©aba£
* 
db
) {

90 
A¼ay
<> 
em±yGroundšg
;

93  
tİF—tu»_
->
	`g‘LogV®ue
(
em±yGroundšg
, 
db
);

94 
	}
}

97 
	$g‘ExaùLik–ihood
(
D©aba£
* 
db
) {

98  
	`g‘V®ue
(
db
è/ 
	`g‘ExaùZ
(db->
	`g‘Domaš
());

99 
	}
}

101 
g‘ExaùCÚd™iÚ®Lik–ihood
(
D©aba£
* 
db
,

102 cÚ¡ 
A¼ay
<>& 
qu”yP»ds
) {

103  
g‘V®ue
(
db
è/ 
g‘ExaùZ
(db->
g‘Domaš
(), 
qu”yP»ds
, db);

107 
g‘LogP£udoLik–ihood
(
D©aba£
* 
db
, cÚ¡ 
A¼ay
<>& 
qu”yP»ds
);

109 
g‘LogP£udoLik–ihood
(
D©aba£
* 
db
, cÚ¡ 
A¼ay
<
P»diÿ‹
*>&

110 
qu”yP»ds
);

115 
g‘GibbsLogLik–ihood
(
D©aba£
* 
db
, cÚ¡ 
A¼ay
<>& 
qu”yP»ds
);

118 
	$g‘WeightLogLik–ihood
(
sigmaSq
) const {

120 
Î
 = 0.0;

121 
i
 = 0; i < 
	`g‘NumWeights
(); i++) {

122 
Î
 -ğ
	`g‘Weight
(
i
è* g‘Weight(iè/ 
sigmaSq
;

124  
Î
;

125 
	}
}

127 
	$chªgedP»diÿ‹
(cÚ¡ 
P»diÿ‹
* 
´ed
, 
D©aba£
* 
db
) {

128 
A¼ay
<> 
groundšg
;

129 
i
 = 0; i < 
´ed
->
	`g‘NumT”ms
(); i++) {

130 
groundšg
.
	`­³nd
(
´ed
->
	`g‘T”m
(
i
)->
	`g‘Id
());

132 
ã©u»A¼ay_
[
´ed
->
	`g‘Id
()-1]->
	`šv®id©e
(
groundšg
, 
db
);

133 
	}
}

135 
	$šv®id©eAÎ
() {

137 
i
 = 0; i < 
	`g‘NumF—tu»s
(); i++) {

138 
ã©u»A¼ay_
[
i
]->
	`šv®id©eAÎ
();

140 
	}
}

143 
	$g‘P»diÿ‹LogLik–ihood
(cÚ¡ 
P»diÿ‹
* 
´ed
, 
D©aba£
* 
db
)

146 cÚ¡ 
Domaš
* 
domaš
 = 
db
->
	`g‘Domaš
();

147 
TruthV®ue
 
Üigš®V®ue
 = 
db
->
	`g‘V®ue
(
´ed
);

149 
RecursiveF—tu»
* 
roÙ
 = (RecursiveF—tu»*)
tİF—tu»_
;

151 
posWeightSum
 = 0.0;

152 
ÃgWeightSum
 = 0.0;

153 
A¼ay
<> 
nuÎGroundšg
;

154 
wi
 = 0; w˜< 
tİF—tu»_
->
	`g‘NumWeights
(); wi++)

156 
A¼aysAcûssÜ
<>* 
™”


157 ğ
roÙ
->
	`g‘ChdGroundšgI‹r
(
wi
, 
nuÎGroundšg
, 
db
);

160 
A¼ay
<> 
groundšg
;

163 
A¼ay
<> 
	`groundšg
(
roÙ
->
	`g‘Chd
(
wi
)->
	`g‘NumT”ms
());

164 
i
 = 0; i < 
roÙ
->
	`g‘Chd
(
wi
)->
	`g‘NumT”ms
(); i++) {

165 
groundšg
.
	`­³nd
(-1);

168 
™”
->
	`hasNextCombš©iÚ
()) {

170 
™”
->
	`g‘NextCombš©iÚ
(
groundšg
);

172 
i
 = 0; i < 
groundšg
.
	`size
(); i++) {

173 
groundšg
[
i
] = 
™”
->
	`g‘I‹m
(i);

175 
™”
->
	`Ãxt
();

181 
boŞ
 
®lT”msP»£Á
 = 
Œue
;

182 
i
 = 0; i < 
´ed
->
	`g‘NumT”ms
(); i++) {

183 
id
 = 
´ed
->
	`g‘T”m
(
i
)->
	`g‘Id
();

184 
boŞ
 
‹rmP»£Á
 = 
çl£
;

185 
j
 = 0; j < 
groundšg
.
	`size
(); j++) {

186 ià(
groundšg
[
j
] =ğ
id
) {

187 
‹rmP»£Á
 = 
Œue
;

192 ià(!
‹rmP»£Á
) {

193 
®lT”msP»£Á
 = 
çl£
;

198 ià(
®lT”msP»£Á
) {

199 
db
->
	`£tV®ue
(
´ed
, 
TRUE
);

200 
posWeightSum
 +ğ
roÙ
->
	`g‘Weight
(
wi
) *

201 
ã©u»A¼ay_
[
domaš
->
	`g‘NumP»diÿ‹s
()+
wi
]

202 ->
	`compu‹V®ue
(
groundšg
, 
db
);

203 
db
->
	`£tV®ue
(
´ed
, 
FALSE
);

204 
ÃgWeightSum
 +ğ
roÙ
->
	`g‘Weight
(
wi
) *

205 
ã©u»A¼ay_
[
domaš
->
	`g‘NumP»diÿ‹s
()+
wi
]

206 ->
	`compu‹V®ue
(
groundšg
, 
db
);

211 
db
->
	`£tV®ue
(
´ed
, 
Üigš®V®ue
);

213 ià(
Üigš®V®ue
 =ğ
TRUE
) {

214  -
	`log
(1.0 + 
	`exp
(
ÃgWeightSum
 - 
posWeightSum
));

216  -
	`log
(1.0 + 
	`exp
(
posWeightSum
 - 
ÃgWeightSum
));

218 
	}
}

225 
g‘ExaùZ
(cÚ¡ 
Domaš
* 
domaš
);

227 
g‘ExaùZ
(cÚ¡ 
Domaš
* 
domaš
, cÚ¡ 
A¼ay
<>& 
qu”yP»ds
,

228 
D©aba£
* 
ÜigDb
);

231 
g‘CouÁs
(
A¼ay
<>& 
couÁs
, 
D©aba£
* 
db
)

233 
	gA¼ay
<> 
	gem±yGroundšg
;

234 
	gcouÁs
.
ş—r
();

237 
	gi
 = 0; i < 
	gã©u»A¼ay_
.
size
(); i++) {

238 
	gj
 = 0; j < 
	gã©u»A¼ay_
[
i
]->
g‘NumWeights
(); j++) {

239 
	gcouÁs
.
­³nd
(
tİF—tu»_
->
g‘P¬tŸlD”iv
(

240 
i
, 
j
, 
em±yGroundšg
, 
db
));

245 
g‘P£udoCouÁs
(
A¼ay
<>& 
couÁs
, 
D©aba£
* 
db
,

246 
A¼ay
<
P»diÿ‹
*> 
qu”yP»ds
)

251 
	$£tWeight
(
idx
, 
wt
) {

253 
i
 = 0; i < 
ã©u»A¼ay_
.
	`size
(); i++) {

254 
numWeights
 = 
ã©u»A¼ay_
[
i
]->
	`g‘NumWeights
();

255 ià(
idx
 < 
numWeights
) {

256 
ã©u»A¼ay_
[
i
]->
	`£tWeight
(
idx
, 
wt
);

259 
idx
 -ğ
numWeights
;

264 
	`as£¹
(
çl£
);

265 
	}
}

267 
	$g‘Weight
(
idx
) const {

269 
i
 = 0; i < 
ã©u»A¼ay_
.
	`size
(); i++) {

270 
numWeights
 = 
ã©u»A¼ay_
[
i
]->
	`g‘NumWeights
();

271 ià(
idx
 < 
numWeights
) {

272  
ã©u»A¼ay_
[
i
]->
	`g‘Weight
(
idx
);

274 
idx
 -ğ
numWeights
;

279 
	`as£¹
(
çl£
);

281 
	}
}

283 
F—tu»
* 
	$g‘RoÙ
() {

284  
tİF—tu»_
;

285 
	}
}

287 
F—tu»
* 
	$g‘F—tu»
(
idx
) {

288 
	`as£¹
(
idx
 < 
ã©u»A¼ay_
.
	`size
());

289  
ã©u»A¼ay_
[
idx
];

290 
	}
}

292 cÚ¡ 
F—tu»
* 
	$g‘F—tu»
(
idx
) const {

293 
	`as£¹
(
idx
 < 
ã©u»A¼ay_
.
	`size
());

294  
ã©u»A¼ay_
[
idx
];

295 
	}
}

297 
F—tu»
* 
	$g‘F—tu»
(cÚ¡ * 
Çme
) {

298 
i
 = 0; i < 
ã©u»A¼ay_
.
	`size
(); i++) {

299 ià(!
	`¡rcmp
(
ã©u»A¼ay_
[
i
]->
	`g‘Name
(), 
Çme
)) {

300  
ã©u»A¼ay_
[
i
];

303  
NULL
;

304 
	}
}

306 cÚ¡ 
F—tu»
* 
	$g‘F—tu»
(cÚ¡ * 
Çme
) const {

307 
i
 = 0; i < 
ã©u»A¼ay_
.
	`size
(); i++) {

308 ià(!
	`¡rcmp
(
ã©u»A¼ay_
[
i
]->
	`g‘Name
(), 
Çme
)) {

309  
ã©u»A¼ay_
[
i
];

312  
NULL
;

313 
	}
}

315 
	$g‘NumF—tu»s
() const {

316  
ã©u»A¼ay_
.
	`size
();

317 
	}
}

319 
	$g‘NumWeights
() const {

321 
numWeights
 = 0;

322 
i
 = 0; i < 
ã©u»A¼ay_
.
	`size
(); i++) {

323 
numWeights
 +ğ
ã©u»A¼ay_
[
i
]->
	`g‘NumWeights
();

325  
numWeights
;

326 
	}
}

334 
	gA¼ay
<
	gF—tu»
*> 
	$g‘F—tu»A¼ay
(è{  
ã©u»A¼ay_
; 
	}
}

336 
	g´Ùeùed
:

337 
F—tu»
* 
tİF—tu»_
;

338 
	gmaxF—tu»Id_
;

339 
	gA¼ay
<
	gF—tu»
*> 
	gã©u»A¼ay_
;

343 
šlše
 
	go¡»am
& 
	gİ”©Ü
<<(o¡»am& 
	gout
, cÚ¡ 
RRF
* 
	g¼f
)

345 
	gout
 << "RRF {\n";

346 
	gi
 = 0;

347 
	gi
 < 
	g¼f
->
g‘NumF—tu»s
(); i++) {

348 
	g¼f
->
g‘F—tu»
(
i
)->
´št
(
out
);

350 
	gout
 << "}\n";

351  
	gout
;

	@rrf/testrrf.cpp

1 
	~"mÊ.h
"

2 
	~"fŞ.h
"

3 
	~"¼f.h
"

4 
	~"¿ndom.h
"

5 
	~<m©h.h
>

6 
	~"¬gum’ts.h
"

7 
	~"šãr.h
"

8 
	~"tim”.h
"

9 
	~"gã©u».h
"

10 
	~"lbfg¤.h
"

12 
	#BURN_IN
 100

	)

16 
	gÎcouÁ
 = 0;

19 
	#CMP_RRF
 0

	)

21 
	ešã»nûM‘hod
 { 
	mINF_ICM
, 
	mINF_GIBBS
, 
	mINF_EXACT
, 
	mINF_PSEUDO
, 
	mINF_MAX
 };

23 * 
	gaf’ame
 = 
NULL
;

24 * 
	gnÚEvidP»dsSŒ
 = "all";

25 * 
	gaInã»nûM‘hodSŒ
 = "p";

26 
	gaGibbsI‹rs
 = 100;

27 
	gnf
 = 20;

28 
	gšfM‘hod
 = 
INF_PSEUDO
;

29 
	gaAÍha
 = 0.1;

30 
boŞ
 
	gaRec
 = 
çl£
;

31 
boŞ
 
	gaGround
 = 
çl£
;

32 
	gaNumF—tu»s
 = 10;

33 
	gaP»dsP”F—tu»
 = 5;

34 
	gaSigmaSq
 = 100;

35 * 
	g©e¡CÚ¡ªt
 = 
NULL
;

36 * 
	gamod–F’ame
 = 
NULL
;

37 * 
	gaouutF’ame
 = 
NULL
;

38 
	gaMaxT¿šI‹rs
 = 10000;

39 
boŞ
 
	gaV”bo£
 = 
çl£
;

40 
	gaS“d
 = 1;

41 
boŞ
 
	gaT¿šTİLev–
 = 
çl£
;

42 
boŞ
 
	gaT¿šBÙtomLev–
 = 
çl£
;

43 
boŞ
 
	gaInãr
 = 
çl£
;

44 
boŞ
 
	gaLPL
 = 
çl£
;

45 
	gaSam¶šgF¿c
 = 1.0;

46 
boŞ
 
	gaP£udoFa¡
 = 
çl£
;

49 
ARGS
 
	gARGS
::
Args
[] =

51 
ARGS
("i", ARGS::
Req
, 
af’ame
, "input .mln file"),

52 
ARGS
("weights", ARGS::
O±
, 
amod–F’ame
,

54 
ARGS
("r", ARGS::
O±
, 
aouutF’ame
,

56 
ARGS
("Ã", ARGS::
O±
, 
nÚEvidP»dsSŒ
,

59 
ARGS
("šf", ARGS::
O±
, 
aInã»nûM‘hodSŒ
, "Inference methodo use\n"

61 
ARGS
("äac", ARGS::
O±
, 
aSam¶šgF¿c
,

63 
ARGS
("™”s", ARGS::
O±
, 
aGibbsI‹rs
,

65 
ARGS
("nf", ARGS::
O±
, 
aNumF—tu»s
, "Number of featureso use\n"),

66 
ARGS
("®pha", ARGS::
O±
, 
aAÍha
, "Learning„ate\n"),

67 
ARGS
("sigmasq", ARGS::
O±
, 
aSigmaSq
, "Large-weight…enalty\n"),

68 
ARGS
("»c", ARGS::
O±
, 
aRec
, "Compute counts„ecursively\n"),

69 
ARGS
("µf", ARGS::
O±
, 
aP»dsP”F—tu»
,

71 
ARGS
("ground", ARGS::
O±
, 
aGround
,

73 
ARGS
("‹¡", ARGS::
O±
, 
©e¡CÚ¡ªt
,

75 
ARGS
("Œaš™”s", ARGS::
O±
, 
aMaxT¿šI‹rs
,

77 
ARGS
("v", ARGS::
Tog
, 
aV”bo£
,

79 
ARGS
("£ed", ARGS::
O±
, 
aS“d
, "Random seed\n"),

80 
ARGS
("tİ", ARGS::
Tog
, 
aT¿šTİLev–
,

82 
ARGS
("bÙtom", ARGS::
Tog
, 
aT¿šBÙtomLev–
,

84 
ARGS
("šãr", ARGS::
Tog
, 
aInãr
,

86 
ARGS
("Íl", ARGS::
Tog
, 
aLPL
,

88 
ARGS
("f", ARGS::
Tog
, 
aP£udoFa¡
,

90 
ARGS
()

94 
	gA¼ay
<
	gTruthV®ue
> 
	gŒuthV®ues
;

95 
§veS‹
(
D©aba£
* 
db
, 
A¼ay
<
P»diÿ‹
*>& 
qu”yP»ds
)

97 
	gŒuthV®ues
.
ş—r
();

98 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

99 
	gŒuthV®ues
.
­³nd
(
db
->
g‘V®ue
(
qu”yP»ds
[
i
]));

103 
»¡ÜeS‹
(
D©aba£
* 
db
, 
A¼ay
<
P»diÿ‹
*>& 
qu”yP»ds
)

105 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

106 
	gdb
->
£tV®ue
(
qu”yP»ds
[
i
], 
ŒuthV®ues
[i]);

111 
runICMInã»nû
(
RRF
* 
¼f
, 
D©aba£
* 
db
, 
A¼ay
<
P»diÿ‹
*>& 
qu”yP»ds
)

114 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

115 
TruthV®ue
 
	gtv
 = (
äªd
(è< 0.5è? 
TRUE
 : 
FALSE
;

116 
	gdb
->
£tV®ue
(
qu”yP»ds
[
i
], 
tv
);

118 
	g¼f
->
šv®id©eAÎ
();

121 
boŞ
 
	gchªged
 = 
Œue
;

122 
	gchªged
) {

123 
	gchªged
 = 
çl£
;

125 
	gcu¼Lik–ihood
 = 
¼f
->
g‘LogV®ue
(
db
);

126 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

130 
TruthV®ue
 
	gŞdV®ue
 = 
db
->
g‘V®ue
(
qu”yP»ds
[
i
]);

131 
TruthV®ue
 
	gÃwV®ue
 = (
ŞdV®ue
 =ğ
TRUE
è? 
FALSE
 : TRUE;

133 
	gdb
->
£tV®ue
(
qu”yP»ds
[
i
], 
ÃwV®ue
);

134 
	g¼f
->
chªgedP»diÿ‹
(
qu”yP»ds
[
i
], 
db
);

135 
	gÃwLik–ihood
 = 
¼f
->
g‘LogV®ue
(
db
);

136 ià(
	gÃwLik–ihood
 > 
	gcu¼Lik–ihood
) {

138 
	gcu¼Lik–ihood
 = 
ÃwLik–ihood
;

139 
	gchªged
 = 
Œue
;

142 
	gdb
->
£tV®ue
(
qu”yP»ds
[
i
], 
ŞdV®ue
);

143 
	g¼f
->
chªgedP»diÿ‹
(
qu”yP»ds
[
i
], 
db
);

150 
runICMInã»nû
(
GroundRRF
* 
g¼f
, cÚ¡ 
A¼ay
<>& 
qu”yP»ds
,

151 
D©aba£
* 
db
, 
RRF
* 
¼f
)

154 
	gq
 = 0; q < 
	gqu”yP»ds
.
size
(); q++) {

155 #ià
CMP_RRF


156 
	gA¼ay
<
	gP»diÿ‹
*> 
	gqu”yGroundšgs
;

157 
	gP»diÿ‹
::
ü—‹AÎGroundšgs
(
qu”yP»ds
[
q
], 
db
->
g‘Domaš
(),

158 
qu”yGroundšgs
);

160 
	gj
 = 0; j < 
	gg¼f
->
g‘NumGroundšgs
(
qu”yP»ds
[
q
]-1); j++) {

161 
boŞ
 
	gtv
 = (
äªd
() < 0.5);

162 
	gg¼f
->
£tP»diÿ‹V®ue
(
qu”yP»ds
[
q
], 
j
, 
tv
);

163 #ià
CMP_RRF


164 
	gdb
->
£tV®ue
(
qu”yGroundšgs
[
j
], 
tv
 ? 
TRUE
 : 
FALSE
);

170 
boŞ
 
	gchªged
 = 
Œue
;

171 
	gchªged
) {

172 
	gchªged
 = 
çl£
;

174 
	gcu¼Lik–ihood
 = 
g¼f
->
g‘LogV®ue
();

175 #ià
CMP_RRF


176 
	g¼fLik–ihood
 = 
¼f
->
g‘LogV®ue
(
db
);

177 ià(
çbs
(
¼fLik–ihood
 - 
cu¼Lik–ihood
) > 0.00001) {

178 
	gcout
 << "Likelihoods differ!\n";

181 
	gq
 = 0; q < 
	gqu”yP»ds
.
size
(); q++) {

183 
	gi
 = 
qu”yP»ds
[
q
];

184 #ià
CMP_RRF


185 
	gA¼ay
<
	gP»diÿ‹
*> 
	gqu”yGroundšgs
;

186 
	gP»diÿ‹
::
ü—‹AÎGroundšgs
(
qu”yP»ds
[
q
], 
db
->
g‘Domaš
(),

187 
qu”yGroundšgs
);

189 
	gj
 = 0; j < 
	gg¼f
->
g‘NumGroundšgs
(
i
-1); j++) {

192 
boŞ
 
	gŞdV®ue
 = 
g¼f
->
g‘P»diÿ‹V®ue
(
i
, 
j
);

193 
	gg¼f
->
£tP»diÿ‹AndUpd©e
(
i
, 
j
, !
ŞdV®ue
);

196 
	gÃwLik–ihood
 = 
g¼f
->
g‘LogV®ue
();

197 #ià
CMP_RRF


198 
	gdb
->
£tV®ue
(
qu”yGroundšgs
[
j
], 
ŞdV®ue
 ? 
FALSE
 : 
TRUE
);

199 
	g¼fLik–ihood
 = 
¼f
->
g‘LogV®ue
(
db
);

200 ià(
çbs
(
¼fLik–ihood
 - 
ÃwLik–ihood
) > 0.00001) {

201 
	gcout
 << "Toggled†ikelihoods differ!\n";

204 ià(
	gÃwLik–ihood
 > 
	gcu¼Lik–ihood
) {

206 
	gcu¼Lik–ihood
 = 
ÃwLik–ihood
;

207 
	gchªged
 = 
Œue
;

210 
	gg¼f
->
£tP»diÿ‹AndUpd©e
(
i
, 
j
, 
ŞdV®ue
);

212 #ià
CMP_RRF


213 
	gdb
->
£tV®ue
(
qu”yGroundšgs
[
j
], 
ŞdV®ue
 ? 
TRUE
 : 
FALSE
);

222 
g‘ExaùCouÁs
(
RRF
* 
¼f
, 
D©aba£
* 
db
, 
A¼ay
<
P»diÿ‹
*>& 
qu”yP»ds
,

223 
A¼ay
<>& 
couÁs
)

226 
	g¼f
->
g‘CouÁs
(
couÁs
, 
db
);

227 
	gi
 = 0; i < 
	gcouÁs
.
size
(); i++) {

228 
	gcouÁs
[
i
] = 0.0;

232 
	gA¼aysAcûssÜ
<
	gTruthV®ue
> 
	g´edV®ues
;

233 
	gA¼ay
<
	gTruthV®ue
> 
	gŒuthV®ues
;

234 
	gŒuthV®ues
.
­³nd
(
TRUE
);

235 
	gŒuthV®ues
.
­³nd
(
FALSE
);

237 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

238 
	g´edV®ues
.
­³ndA¼ay
(&
ŒuthV®ues
);

241 
	gZ
 = 0.0;

245 
	gA¼ay
<
	gTruthV®ue
> 
	gŒuthV®ues
;

246 
	g´edV®ues
.
g‘NextCombš©iÚ
(
ŒuthV®ues
);

247 
	gi
 = 0; i < 
	gŒuthV®ues
.
size
(); i++) {

248 
	gdb
->
£tV®ue
(
qu”yP»ds
[
i
], 
ŒuthV®ues
[i]);

251 
	glik–ihood
 = 
¼f
->
g‘V®ue
(
db
);

252 
	gZ
 +ğ
lik–ihood
;

255 
	gA¼ay
<> 
	gÃwCouÁs
;

256 
	g¼f
->
g‘CouÁs
(
ÃwCouÁs
, 
db
);

257 
	gj
 = 0; j < 
	gÃwCouÁs
.
size
(); j++) {

258 
	gcouÁs
[
j
] +ğ
lik–ihood
 * 
ÃwCouÁs
[j];

263 } 
	g´edV®ues
.
hasNextCombš©iÚ
());

266 
	gj
 = 0; j < 
	gcouÁs
.
size
(); j++) {

267 
	gcouÁs
[
j
] /ğ
Z
;

271 
g‘GibbsCouÁs
(
RRF
* 
¼f
, 
D©aba£
* 
db
, 
A¼ay
<
P»diÿ‹
*>& 
qu”yP»ds
,

272 
A¼ay
<>& 
couÁs
)

275 
	gŞdLik–ihood
 = 
¼f
->
g‘V®ue
(
db
);

276 
	g¼f
->
g‘CouÁs
(
couÁs
, 
db
);

279 
	g™”
 = 0; i‹¸< 
	gaGibbsI‹rs
; iter++) {

280 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

283 
TruthV®ue
 
	gŞdV®ue
 = 
db
->
g‘V®ue
(
qu”yP»ds
[
i
]);

284 
TruthV®ue
 
	gÃwV®ue
 = (
ŞdV®ue
 =ğ
TRUE
è? 
FALSE
 : TRUE;

286 
	gdb
->
£tV®ue
(
qu”yP»ds
[
i
], 
ÃwV®ue
);

287 
	g¼f
->
chªgedP»diÿ‹
(
qu”yP»ds
[
i
], 
db
);

288 
	gÃwLik–ihood
 = 
¼f
->
g‘V®ue
(
db
);

289 
	g´ob
 = 
ÃwLik–ihood
/(
ŞdLik–ihood
 +‚ewLikelihood);

290 ià(
äªd
(è< 
	g´ob
) {

291 
	gŞdLik–ihood
 = 
ÃwLik–ihood
;

293 
	gdb
->
£tV®ue
(
qu”yP»ds
[
i
], 
ŞdV®ue
);

294 
	g¼f
->
chªgedP»diÿ‹
(
qu”yP»ds
[
i
], 
db
);

299 
	gA¼ay
<> 
	gÃwCouÁs
;

300 
	g¼f
->
g‘CouÁs
(
ÃwCouÁs
, 
db
);

301 
	gj
 = 0; j < 
	gÃwCouÁs
.
size
(); j++) {

302 
	gcouÁs
[
j
] +ğ
ÃwCouÁs
[j];

307 
	gj
 = 0; j < 
	gcouÁs
.
size
(); j++) {

308 
	gcouÁs
[
j
] /ğ(()
aGibbsI‹rs
+1.0);

312 
runGibbs
(
RRF
* 
¼f
, 
D©aba£
* 
db
, 
A¼ay
<
P»diÿ‹
*>& 
qu”yP»ds
,

313 
A¼ay
<>& 
couÁs
)

316 
	gŞdLik–ihood
 = 
¼f
->
g‘V®ue
(
db
);

317 
	gcouÁs
.
ş—r
();

320 
	g™”
 = 0; i‹¸< 
	gaGibbsI‹rs
; iter++) {

321 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

324 
TruthV®ue
 
	gŞdV®ue
 = 
db
->
g‘V®ue
(
qu”yP»ds
[
i
]);

325 
TruthV®ue
 
	gÃwV®ue
 = (
ŞdV®ue
 =ğ
TRUE
è? 
FALSE
 : TRUE;

326 
TruthV®ue
 
	gfš®V®ue
;

328 
	gdb
->
£tV®ue
(
qu”yP»ds
[
i
], 
ÃwV®ue
);

329 
	g¼f
->
chªgedP»diÿ‹
(
qu”yP»ds
[
i
], 
db
);

330 
	gÃwLik–ihood
 = 
¼f
->
g‘V®ue
(
db
);

331 
	g´ob
 = 
ÃwLik–ihood
/(
ŞdLik–ihood
 +‚ewLikelihood);

332 ià(
äªd
(è< 
	g´ob
) {

333 
	gŞdLik–ihood
 = 
ÃwLik–ihood
;

334 
	gfš®V®ue
 = 
ÃwV®ue
;

336 
	gdb
->
£tV®ue
(
qu”yP»ds
[
i
], 
ŞdV®ue
);

337 
	g¼f
->
chªgedP»diÿ‹
(
qu”yP»ds
[
i
], 
db
);

338 
	gfš®V®ue
 = 
ŞdV®ue
;

342 ià(
	gcouÁs
.
size
(è<ğ
i
) {

343 
couÁs
.
­³nd
(0.5);

345 ià(
	gfš®V®ue
 =ğ
TRUE
) {

346 
couÁs
[
i
]++;

352 
	gj
 = 0; j < 
	gcouÁs
.
size
(); j++) {

353 
	gcouÁs
[
j
] /ğ(()
aGibbsI‹rs
+1.0);

357 
g‘GibbsLogLik–ihood
(
RRF
* 
¼f
, 
D©aba£
* 
db
,

358 
A¼ay
<
P»diÿ‹
*>& 
qu”yP»ds
)

360 
	gA¼ay
<> 
	gcouÁs
;

362 
	gA¼ay
<
	gTruthV®ue
> 
	gŒueV®ues
;

364 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

365 
	gŒueV®ues
.
­³nd
(
db
->
g‘V®ue
(
qu”yP»ds
[
i
]));

367 
	gcouÁs
.
­³nd
(0.1);

369 
	gtÙ®
 = 0.2;

372 
runICMInã»nû
(
¼f
, 
db
, 
qu”yP»ds
);

375 
	g¼f
->
šv®id©eAÎ
();

376 
	gŞdLik–ihood
 = 
¼f
->
g‘LogV®ue
(
db
);

378 
	g™”
 = 0; i‹¸< 
	gaGibbsI‹rs
 + 
	gBURN_IN
; iter++) {

379 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

382 
TruthV®ue
 
	gŞdV®ue
 = 
db
->
g‘V®ue
(
qu”yP»ds
[
i
]);

383 
TruthV®ue
 
	gÃwV®ue
 = (
ŞdV®ue
 =ğ
TRUE
è? 
FALSE
 : TRUE;

384 
TruthV®ue
 
	gfš®V®ue
;

386 
	gdb
->
£tV®ue
(
qu”yP»ds
[
i
], 
ÃwV®ue
);

387 
	g¼f
->
chªgedP»diÿ‹
(
qu”yP»ds
[
i
], 
db
);

388 
	gÃwLik–ihood
 = 
¼f
->
g‘LogV®ue
(
db
);

389 
	g´ob
 = 1.0/(1.0 + 
exp
(
ŞdLik–ihood
 - 
ÃwLik–ihood
));

390 ià(
	gŞdLik–ihood
 - 
	gÃwLik–ihood
 > 100) {

391 
	g´ob
 = 0.0;

392 } ià(
	gŞdLik–ihood
 - 
	gÃwLik–ihood
 < -100) {

393 
	g´ob
 = 1.0;

395 ià(
äªd
(è< 
	g´ob
) {

396 
	gŞdLik–ihood
 = 
ÃwLik–ihood
;

397 
	gfš®V®ue
 = 
ÃwV®ue
;

399 
	gdb
->
£tV®ue
(
qu”yP»ds
[
i
], 
ŞdV®ue
);

400 
	g¼f
->
chªgedP»diÿ‹
(
qu”yP»ds
[
i
], 
db
);

401 
	gfš®V®ue
 = 
ŞdV®ue
;

404 ià(
	g™”
 >ğ
BURN_IN
 && 
fš®V®ue
) {

405 
couÁs
[
i
]++;

409 ià(
	g™”
 >ğ
BURN_IN
) {

410 
tÙ®
++;

414 
	gÎ
 = 0.0;

417 
	gj
 = 0; j < 
	gcouÁs
.
size
(); j++) {

419 ià(
	gŒueV®ues
[
j
]) {

420 
	gÎ
 +ğ
log
(
couÁs
[
j
]/
tÙ®
);

422 
	gÎ
 +ğ
log
(1.0 - 
couÁs
[
j
]/
tÙ®
);

425 
	gcout
 << *(
	gqu”yP»ds
[
j
]è<< " = " << 
	gŒueV®ues
[j]

426 << " (" << (
	gcouÁs
[
j
]/
	gtÙ®
) << ")\n";

432  
	gÎ
;

436 
g‘GibbsLogLik–ihood2
(
RRF
* 
¼f
, 
D©aba£
* 
db
,

437 
A¼ay
<
P»diÿ‹
*>& 
qu”yP»ds
)

439 
	gA¼ay
<> 
	gqu”yP»dId
;

440 
	gA¼ay
<> 
	gqu”yGroundId
;

442 
	gA¼ay
<> 
	gcouÁs
;

443 
	gA¼ay
<
	gTruthV®ue
> 
	gŒueV®ues
;

445 
	gÎ
 = 0.0;

447 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

448 
	gŒueV®ues
.
­³nd
(
db
->
g‘V®ue
(
qu”yP»ds
[
i
]));

451 
	gqu”yP»dId
.
­³nd
(
qu”yP»ds
[
i
]->
g‘Id
());

452 
	gA¼ay
<> 
	ggroundšg
;

453 
	gj
 = 0; j < 
	gqu”yP»ds
[
i
]->
g‘NumT”ms
(); j++) {

454 
	ggroundšg
.
­³nd
(
qu”yP»ds
[
i
]->
g‘T”m
(
j
)->
g‘Id
());

456 
	gqu”yGroundId
.
­³nd
(
¼f
->
g‘F—tu»
(
qu”yP»dId
[
i
]-1)->

457 
g‘GroundšgIndex
(
groundšg
, 
db
));

459 
	gcouÁs
.
­³nd
(0.1);

461 
	gtÙ®
 = 0.2;

464 
	gŒŸl
= 0;rial < 10;rial++) {

466 
	gA¼ay
<> 
	gq´eds
;

467 
	gq´eds
.
­³nd
(
qu”yP»ds
[0]->
g‘Id
());

468 
GroundRRF
* 
	gg¼f
 = 
Ãw
 GroundRRF(
¼f
, 
db
);

469 
	gg¼f
->
dœtyAÎ
();

471 
	gbe¡_Î
 = -1.0e100;

472 
	gš™
 = 0; init < 10; init++) {

473 
runICMInã»nû
(
g¼f
, 
q´eds
, 
db
, 
¼f
);

474 ià(
	gg¼f
->
g‘LogV®ue
(è> 
	gbe¡_Î
) {

475 
	gbe¡_Î
 = 
g¼f
->
g‘LogV®ue
();

476 
§veS‹
(
db
, 
qu”yP»ds
);

479 
»¡ÜeS‹
(
db
, 
qu”yP»ds
);

481 
	gŞdLik–ihood
 = 
g¼f
->
g‘LogV®ue
();

482 
	g™”
 = 0; i‹¸< 
	gaGibbsI‹rs
 + 
	gBURN_IN
; iter++) {

483 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

486 
boŞ
 
	gŞdV®ue
 = 
g¼f
->
g‘P»diÿ‹V®ue
(

487 
qu”yP»dId
[
i
], 
qu”yGroundId
[i]);

488 
boŞ
 
	gfš®V®ue
;

490 
	gg¼f
->
£tP»diÿ‹AndUpd©e
(
qu”yP»dId
[
i
], 
qu”yGroundId
[i],

491 !
ŞdV®ue
);

492 
	gÃwLik–ihood
 = 
g¼f
->
g‘LogV®ue
();

494 
	g´ob
 = 1.0/(1.0 + 
exp
(
ŞdLik–ihood
 - 
ÃwLik–ihood
));

495 ià(
	gŞdLik–ihood
 - 
	gÃwLik–ihood
 > 100) {

496 
	g´ob
 = 0.0;

497 } ià(
	gŞdLik–ihood
 - 
	gÃwLik–ihood
 < -100) {

498 
	g´ob
 = 1.0;

501 ià(
äªd
(è< 
	g´ob
) {

502 
	gŞdLik–ihood
 = 
ÃwLik–ihood
;

503 
	gfš®V®ue
 = !
ŞdV®ue
;

505 
	gg¼f
->
£tP»diÿ‹AndUpd©e
(
qu”yP»dId
[
i
],

506 
qu”yGroundId
[
i
], 
ŞdV®ue
);

507 
	gfš®V®ue
 = 
ŞdV®ue
;

510 ià(
	g™”
 >ğ
BURN_IN
 && 
fš®V®ue
) {

511 
couÁs
[
i
]++;

515 ià(
	g™”
 >ğ
BURN_IN
) {

516 
tÙ®
++;

522 
	gj
 = 0; j < 
	gcouÁs
.
size
(); j++) {

524 
	gcu¼_Î
;

525 ià(
	gŒueV®ues
[
j
]) {

526 
	gcu¼_Î
 = 
log
(
couÁs
[
j
]/
tÙ®
);

528 
	gcu¼_Î
 = 
log
(1.0 - 
couÁs
[
j
]/
tÙ®
);

530 
	gÎ
 +ğ
cu¼_Î
;

532 
	gqu”yP»ds
[
j
]->
´štW™hSŒV¬
(
cout
, 
db
->
g‘Domaš
());

533 
	gcout
 << " = " << 
	gŒueV®ues
[
j
]

534 << " (" << (
	gcouÁs
[
j
]/
	gtÙ®
è<< "è " << 
	gcu¼_Î
 << 
	g’dl
;

538  
	gÎ
;

542 
	#USE_LOGS
 1

	)

544 
g‘GibbsCouÁs
(
GroundRRF
* 
g¼f
, cÚ¡ 
A¼ay
<>& 
qu”yP»ds
,

545 
A¼ay
<>& 
couÁs
, 
D©aba£
* 
db
, 
RRF
* 
¼f
)

548 #ià
USE_LOGS


549 
	gŞdLik–ihood
 = 
g¼f
->
g‘LogV®ue
();

551 
	gŞdLik–ihood
 = 
g¼f
->
g‘V®ue
();

553 
	gg¼f
->
g‘CouÁs
(
couÁs
);

555 #ià
CMP_RRF


556 
	gA¼ay
<> 
	g¼fCouÁs
;

558 
	gq
 = 0; q < 
	gqu”yP»ds
.
size
(); q++) {

559 
	gi
 = 
qu”yP»ds
[
q
];

560 
	gA¼ay
<
	gP»diÿ‹
*> 
	gqu”yGroundšgs
;

561 
	gP»diÿ‹
::
ü—‹AÎGroundšgs
(
i
, 
db
->
g‘Domaš
(), 
qu”yGroundšgs
);

562 
	gj
 = 0; j < 
	gqu”yGroundšgs
.
size
(); j++) {

563 
boŞ
 
	gv®ue
 = 
g¼f
->
g‘P»diÿ‹V®ue
(
i
,
j
);

564 
	gdb
->
£tV®ue
(
qu”yGroundšgs
[
j
], 
v®ue
 ? 
TRUE
 : 
FALSE
);

569 
	gA¼ay
<> 
	gÃwCouÁs
;

570 
	g™”
 = 0; i‹¸< 
	gaGibbsI‹rs
; iter++) {

571 
	gq
 = 0; q < 
	gqu”yP»ds
.
size
(); q++) {

572 
	gi
 = 
qu”yP»ds
[
q
];

575 
	gj
 = 0; j < 
	gg¼f
->
g‘NumGroundšgs
(
i
-1); j++) {

578 
boŞ
 
	gŞdV®ue
 = 
g¼f
->
g‘P»diÿ‹V®ue
(
i
,
j
);

579 
	gg¼f
->
£tP»diÿ‹AndUpd©e
(
i
,
j
,!
ŞdV®ue
);

581 #ià
CMP_RRF


582 
	gdb
->
£tV®ue
(
qu”yGroundšgs
[
j
], 
ŞdV®ue
 ? 
FALSE
 : 
TRUE
);

585 #ià
USE_LOGS


586 
	gÃwLik–ihood
 = 
g¼f
->
g‘LogV®ue
();

588 
	gÃwLik–ihood
 = 
g¼f
->
g‘V®ue
();

591 #ià
CMP_RRF


592 
	g¼fLik–ihood
 = 
¼f
->
g‘V®ue
(
db
);

593 ià(
çbs
(
¼fLik–ihood
 - 
ÃwLik–ihood
) > 0.00001) {

594 
	gcout
 << "Different†ikelihoods: \n";

595 
	gcout
 << 
	g¼fLik–ihood
 << 
	g’dl
;

596 
	gcout
 << 
	gÃwLik–ihood
 << 
	g’dl
;

600 #ià
USE_LOGS


601 
	g´ob
 = 1.0/(1.0 + 
exp
(
ŞdLik–ihood
 - 
ÃwLik–ihood
));

602 ià(
	gŞdLik–ihood
 - 
	gÃwLik–ihood
 > 100) {

603 
	g´ob
 = 0.0;

604 } ià(
	gŞdLik–ihood
 - 
	gÃwLik–ihood
 < -100) {

605 
	g´ob
 = 1.0;

608 
	g´ob
 = 
ÃwLik–ihood
/(
ŞdLik–ihood
 +‚ewLikelihood);

611 ià(
äªd
(è< 
	g´ob
) {

612 
	gŞdLik–ihood
 = 
ÃwLik–ihood
;

614 
	gg¼f
->
£tP»diÿ‹AndUpd©e
(
i
,
j
,
ŞdV®ue
);

616 #ià
CMP_RRF


617 
	gdb
->
£tV®ue
(
qu”yGroundšgs
[
j
], 
ŞdV®ue
 ? 
TRUE
 : 
FALSE
);

621 #ià
CMP_RRF


622 
	gdb
->
£tV®ue
(
qu”yGroundšgs
[
j
],

623 
g¼f
->
g‘P»diÿ‹V®ue
(
i
,
j
è? 
TRUE
 : 
FALSE
);

628 ià(
	gg¼f
 =ğ
NULL
) {

629 
cout
 << "grrf is somehow NULL!\n";

633 
	gg¼f
->
dœtyAÎ
();

634 
	gg¼f
->
g‘CouÁs
(
ÃwCouÁs
);

635 #ià
CMP_RRF


636 
	g¼f
->
g‘CouÁs
(
¼fCouÁs
, 
db
);

638 
	gc
 = 0; c < 
	gÃwCouÁs
.
size
(); c++) {

639 #ià
CMP_RRF


640 ià(
çbs
(
ÃwCouÁs
[
c
] - 
¼fCouÁs
[c]) > 0.000001) {

641 
	gcout
 << "Difã»Á couÁ fÜ " << 
	gc
 << ":\n";

642 
	gcout
 << "Ground: " << 
	gÃwCouÁs
[
c
] << 
	g’dl
;

643 
	gcout
 << "True: " << 
	g¼fCouÁs
[
c
] << 
	g’dl
;

646 
	gcouÁs
[
c
] +ğ
ÃwCouÁs
[c];

651 
	gc
 = 0; c < 
	gcouÁs
.
size
(); c++) {

652 
	gcouÁs
[
c
] /ğ(()
aGibbsI‹rs
+1.0);

657 
runGibbs
(
GroundRRF
* 
g¼f
, cÚ¡ 
A¼ay
<>& 
qu”yP»ds
,

658 
A¼ay
<>& 
couÁs
, 
D©aba£
* 
db
)

661 
	gŞdLik–ihood
 = 
g¼f
->
g‘LogV®ue
();

663 
	gcouÁs
.
ş—r
();

664 
	g™”
 = 0; i‹¸< 
	gaGibbsI‹rs
; iter++) {

665 
	gcouÁIndex
 = 0;

666 
	gq
 = 0; q < 
	gqu”yP»ds
.
size
(); q++) {

667 
	gi
 = 
qu”yP»ds
[
q
];

670 
	gj
 = 0; j < 
	gg¼f
->
g‘NumGroundšgs
(
i
-1); j++) {

673 
boŞ
 
	gŞdV®ue
 = 
g¼f
->
g‘P»diÿ‹V®ue
(
i
,
j
);

674 
	gg¼f
->
£tP»diÿ‹AndUpd©e
(
i
,
j
,!
ŞdV®ue
);

676 
boŞ
 
	gfš®V®ue
;

678 
	gÃwLik–ihood
 = 
g¼f
->
g‘LogV®ue
();

679 
	g´ob
 = 1.0/(1.0 + 
exp
(
ŞdLik–ihood
 - 
ÃwLik–ihood
));

680 ià(
	gŞdLik–ihood
 - 
	gÃwLik–ihood
 > 100) {

681 
	g´ob
 = 0.0;

682 } ià(
	gŞdLik–ihood
 - 
	gÃwLik–ihood
 < -100) {

683 
	g´ob
 = 1.0;

686 ià(
äªd
(è< 
	g´ob
) {

687 
	gŞdLik–ihood
 = 
ÃwLik–ihood
;

688 
	gfš®V®ue
 = !
ŞdV®ue
;

690 
	gg¼f
->
£tP»diÿ‹AndUpd©e
(
i
,
j
,
ŞdV®ue
);

691 
	gfš®V®ue
 = 
ŞdV®ue
;

694 ià(
	gcouÁs
.
size
(è<ğ
couÁIndex
) {

695 
couÁs
.
­³nd
(0.5);

697 ià(
	gfš®V®ue
) {

698 
	gcouÁs
[
couÁIndex
]++;

700 
	gcouÁIndex
++;

704 ià(
	gg¼f
 =ğ
NULL
) {

705 
cout
 << "grrf is somehow NULL!\n";

710 
	gc
 = 0; c < 
	gcouÁs
.
size
(); c++) {

711 
	gcouÁs
[
c
] /ğ(()
aGibbsI‹rs
+1.0);

715 
	$süambËWeights
(
RRF
* 
¼f
)

718 
A¼ay
<
F—tu»
*> 
ã©u»s
 = 
¼f
->
	`g‘F—tu»A¼ay
();

719 
i
 = 0; i < 
ã©u»s
.
	`size
(); i++) {

720 
j
 = 0; j < 
ã©u»s
[
i
]->
	`g‘NumWeights
(); j++) {

722 
¿ndWt
 = 
	`äªd
() - 0.5;

723 
ã©u»s
[
i
]->
	`£tWeight
(
j
, 
¿ndWt
);

726 
	}
}

728 
ŒašRRF
(
RRF
* 
¼f
, 
D©aba£
* 
db
, cÚ¡ 
A¼ay
<>& 
qu”yP»ds
)

734 
	gA¼ay
<
	gP»diÿ‹
*> 
	g®lGroundšgs
;

735 
	gA¼ay
<
	gTruthV®ue
> 
	gŒueP»dV®ues
;

737 ià(
	gaRec
 || 
	gCMP_RRF
) {

738 cÚ¡ 
Domaš
* 
	gdomaš
 = 
db
->
g‘Domaš
();

739 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

742 
	gA¼ay
<
	gP»diÿ‹
*> 
	g´edGroundšgs
;

743 
	gP»diÿ‹
::
ü—‹AÎGroundšgs
(
qu”yP»ds
[
i
], 
domaš
, 
´edGroundšgs
);

744 
	g®lGroundšgs
.
­³nd
(
´edGroundšgs
);

747 
	gj
 = 0; j < 
	g´edGroundšgs
.
size
(); j++) {

748 
	gŒueP»dV®ues
.
­³nd
(
db
->
g‘V®ue
(
´edGroundšgs
[
j
]));

754 
GroundRRF
* 
	gg¼f
 = 
NULL
;

756 
GroundRRF
* 
	gŒueG¼f
 = 
NULL
;

758 
	gA¼ay
<A¼ay<
	gboŞ
> > 
	gŒueV®ues
;

761 ià(
	gaGround
) {

762 
	gg¼f
 = 
Ãw
 
GroundRRF
(
¼f
, 
db
);

764 
	gŒueG¼f
 = 
Ãw
 
GroundRRF
(
¼f
, 
db
);

767 
	gq
 = 0; q < 
	gqu”yP»ds
.
size
(); q++) {

768 
	gi
 = 
qu”yP»ds
[
q
];

769 
	gŒueV®ues
.
­³nd
(
A¼ay
<
boŞ
>());

770 
	gj
 = 0; j < 
	gg¼f
->
g‘NumGroundšgs
(
i
-1); j++) {

771 
	gŒueV®ues
[
q
].
­³nd
(
g¼f
->
g‘P»diÿ‹V®ue
(
i
,
j
));

778 ià(
	gšfM‘hod
 =ğ
INF_PSEUDO
) {

781 
cout
 << "ground†pl = "

782 << 
ŒueG¼f
->
g‘LogP£udoLik–ihood
(
qu”yP»ds
è<< 
’dl
;

785 
	gnumWeights
 = 
¼f
->
g‘NumWeights
();

786 
	gwts
[
numWeights
+1];

787 
	gi
 = 0; i < 
	gnumWeights
; i++) {

788 
	gwts
[
i
+1] = 
¼f
->
g‘Weight
(i);

792 
	gmšWt
 = 0;

793 
	gmaxWt
 = 
numWeights
;

795 ià(
	gaT¿šBÙtomLev–
) {

796 
	gmšWt
 = 
¼f
->
g‘RoÙ
()->
g‘NumWeights
();

798 ià(
	gaT¿šTİLev–
) {

799 
	gmaxWt
 = 
¼f
->
g‘RoÙ
()->
g‘NumWeights
();

803 
	g™”
;

804 
boŞ
 
	g”rÜ
;

805 
LBFGSR
 
sŞv”
(
aMaxT¿šI‹rs
, 1e-5, 
aSam¶šgF¿c
, 
¼f
, 
ŒueG¼f
,

806 
qu”yP»ds
, 
maxWt
 - 
mšWt
, mšWt, 
aSigmaSq
, 
aP£udoFa¡
);

807 
	gsŞv”
.
mšimize
(
wts
+
mšWt
, 
™”
, 
”rÜ
);

808 
	gcout
 << "I‹r »quœed: " << 
	g™”
 << 
	g’dl
;

811 
	gi
 = 0; i < 
	gnumWeights
; i++) {

812 
	g¼f
->
£tWeight
(
i
, 
wts
[i+1]);

815 
	gŒueG¼f
->
dœtyAÎ
();

818 
	gcout
 << "ground†pl = "

819 << 
	gŒueG¼f
->
g‘LogP£udoLik–ihood
(
qu”yP»ds
è<< 
	g’dl
;

824 
Tim”
 
	gtim”
;

825 
	gÏ¡Wr™eSec
 = 
tim”
.
time
();

826 
	g™”
 = 0; i‹¸< 
	gaMaxT¿šI‹rs
; iter++) {

828 
	gbegSec
 = 
tim”
.
time
();

831 
	gi
 = 0; i < 
	g¼f
->
g‘NumF—tu»s
(); i++) {

832 
	gcout
 << "F" << 
	gi
 << ":";

833 
F—tu»
* 
	gã©u»
 = 
¼f
->
g‘F—tu»
(
i
);

834 
	gj
 = 0; j < 
	gã©u»
->
g‘NumWeights
(); j++) {

835 
	gcout
 << " " << 
	gã©u»
->
g‘Weight
(
j
);

837 
	gcout
 << "\n";

842 ià(
	gaRec
) {

843 
	gcout
 << "»øÍÈğ" << 
	g¼f
->
g‘LogP£udoLik–ihood
(
db
, 
qu”yP»ds
)

844 << 
	g’dl
;

846 ià(
	gaGround
) {

848 
	gcout
 << "ground†¶ = " << 
	gg¼f
->
g‘LogP£udoLik–ihood
(
qu”yP»ds
)

849 << 
	g’dl
;

851 
	gcout
 << "ground†pl = "

852 << 
	gŒueG¼f
->
g‘LogP£udoLik–ihood
(
qu”yP»ds
è<< 
	g’dl
;

853 
	gcout
 << "ground†l = "

854 << 
	gŒueG¼f
->
g‘LogV®ue
(è<< 
	g’dl
;

857 ià(
	gÎcouÁ
++ % 100 == 0) {

858 
cout
 << "Î = " << 
log
(
¼f
->
g‘ExaùCÚd™iÚ®Lik–ihood
(
db
, 
qu”yP»ds
)è<< 
’dl
;

862 #ià
CMP_RRF


863 
	gcout
 << "»øÍÈğ" << 
	g¼f
->
g‘LogP£udoLik–ihood
(
db
, 
qu”yP»ds
)

864 << 
	g’dl
;

867 
	gcout
 << "wÎ = " << 
	g¼f
->
g‘WeightLogLik–ihood
(
aSigmaSq
è<< 
	g’dl
;

870 ià(
	gaRec
) {

871 ià(
	gšfM‘hod
 !ğ
INF_EXACT
) {

872 
runICMInã»nû
(
¼f
, 
db
, 
®lGroundšgs
);

875 ià(
	gaGround
) {

876 ià(
	gšfM‘hod
 =ğ
INF_ICM
) {

877 
runICMInã»nû
(
g¼f
, 
qu”yP»ds
, 
db
, 
¼f
);

882 
	gA¼ay
<> 
	ggroundInfCouÁs
;

883 
	gA¼ay
<> 
	g»cInfCouÁs
;

885 ià(
	gšfM‘hod
 =ğ
INF_GIBBS
) {

886 ià(
aRec
è{ 
g‘GibbsCouÁs
(
¼f
, 
db
, 
®lGroundšgs
, 
»cInfCouÁs
); }

887 ià(
	gaGround
è{ 
g‘GibbsCouÁs
(
g¼f
, 
qu”yP»ds
, 
groundInfCouÁs
,

888 
db
, 
¼f
); }

889 } ià(
	gšfM‘hod
 =ğ
INF_ICM
) {

890 ià(
aRec
è{ 
¼f
->
g‘CouÁs
(
»cInfCouÁs
, 
db
); }

891 ià(
	gaGround
è{ 
	gg¼f
->
g‘CouÁs
(
groundInfCouÁs
); }

892 } ià(
	gšfM‘hod
 =ğ
INF_EXACT
) {

893 ià(
aRec
è{ 
g‘ExaùCouÁs
(
¼f
, 
db
, 
®lGroundšgs
, 
»cInfCouÁs
); }

895 ià(
	gaGround
è{ 
	gcout
 << "ERROR:ƒxact inference‚ot supported for ground‚etwork.\n"; }

896 } ià(
	gšfM‘hod
 =ğ
INF_PSEUDO
) {

899 
cout
 << "ERROR: unknowÀšã»nû m‘hod " << 
šfM‘hod
 << 
’dl
;

904 ià(
	gaGround
) {

905 
	gq
 = 0; q < 
	gqu”yP»ds
.
size
(); q++) {

906 
	gj
 = 0; j < 
	gŒueV®ues
[
q
].
size
(); j++) {

907 
	gg¼f
->
£tP»diÿ‹V®ue
(
qu”yP»ds
[
q
], 
j
, 
ŒueV®ues
[q][j]);

913 ià(
	gaRec
 || 
	gCMP_RRF
)

916 
	gi
 = 0; i < 
	g®lGroundšgs
.
size
(); i++) {

917 
	gdb
->
£tV®ue
(
®lGroundšgs
[
i
], 
ŒueP»dV®ues
[i]);

919 
	g¼f
->
šv®id©eAÎ
();

923 
	gA¼ay
<> 
	ggroundTrueCouÁs
;

924 
	gA¼ay
<> 
	g»cTrueCouÁs
;

926 ià(
	gaGround
) {

928 
	gg¼f
->
g‘CouÁs
(
groundTrueCouÁs
);

930 ià(
	gšfM‘hod
 =ğ
INF_PSEUDO
) {

931 ià(
aP£udoFa¡
) {

932 
ŒueG¼f
->
g‘P£udoCouÁsFa¡
(
groundTrueCouÁs
,

933 
qu”yP»ds
, 
aSam¶šgF¿c
);

935 
	gŒueG¼f
->
g‘P£udoCouÁs
(
groundTrueCouÁs
, 
qu”yP»ds
,

936 
aSam¶šgF¿c
);

939 
	gŒueG¼f
->
g‘CouÁs
(
groundTrueCouÁs
);

943 ià(
	gaRec
) {

944 ià(
	gšfM‘hod
 =ğ
INF_PSEUDO
) {

946 
cout
 << "ERROR:…seudo-likelihood„equires ground RRF.\n";

948 
	g¼f
->
g‘CouÁs
(
»cTrueCouÁs
, 
db
);

953 
	giMš
 = 0;

954 
	giMax
 = 
aRec
 ? 
»cTrueCouÁs
.
size
(è: 
groundTrueCouÁs
.size();

956 ià(
	gaT¿šBÙtomLev–
) {

957 
	giMš
 = 
¼f
->
g‘RoÙ
()->
g‘NumWeights
();

959 ià(
	gaT¿šTİLev–
) {

960 
	giMax
 = 
¼f
->
g‘RoÙ
()->
g‘NumWeights
();

964 
	gA¼ay
<> 
	gg¿d›Á
;

965 
	gi
 = 0; i < 
	giMš
; i++) {

966 
	gg¿d›Á
.
­³nd
(0.0);

970 
	gsqËngth
 = 0.0;

971 
	gweightsum
 = 0.0;

972 
	gmaxIndex
 = 0;

973 
	gmaxTÙ®
 = 0.0;

974 
	gi
 = 
iMš
; i < 
	giMax
; i++)

976 #ià
CMP_RRF


978 ià(
	gaRec
 && 
	gaGround
) {

979 ià(2.0*
çbs
((
»cTrueCouÁs
[
i
] - 
groundTrueCouÁs
[i])/

980 (
»cTrueCouÁs
[
i
] + 
groundTrueCouÁs
[i])) > 0.01) {

981 
	gcout
 << "TrucouÁ oà" << 
	gi
 << " differ.\n";

983 ià(2.0*
çbs
(
»cInfCouÁs
[
i
] - 
groundInfCouÁs
[i]) > 0.0001) {

984 
	gcout
 << "Inã¼ed couÁ oà" << 
	gi
 << " differ:\n";

985 
	gcout
 << "Rec: " << 
	g»cInfCouÁs
[
i
] << 
	g’dl
;

986 
	gcout
 << "Ground: " << 
	ggroundInfCouÁs
[
i
] << 
	g’dl
;

989 
	g»cDiff
 = 
»cInfCouÁs
[
i
] - 
»cTrueCouÁs
[i];

990 
	ggroundDiff
 = 
groundInfCouÁs
[
i
] - 
groundTrueCouÁs
[i];

991 ià(2.0*
çbs
(
»cDiff
 - 
groundDiff
) > 0.0001) {

992 
	gcout
 << "G¿d›Á difãr Ú " << 
	gi
 << 
	g’dl
;

993 
	gcout
 << "Rec: " << 
	g»cDiff
 << 
	g’dl
;

994 
	gcout
 << "Ground: " << 
	ggroundDiff
 << 
	g’dl
;

998 
	gdiff
;

999 ià(
	gšfM‘hod
 =ğ
INF_PSEUDO
) {

1000 
diff
 = 
groundTrueCouÁs
[
i
];

1001 } ià(
	gaRec
) {

1002 
	gdiff
 = 
»cTrueCouÁs
[
i
] - 
»cInfCouÁs
[i];

1004 
	gdiff
 = 
groundTrueCouÁs
[
i
] - 
groundInfCouÁs
[i];

1006 
	gweight
 = 
¼f
->
g‘Weight
(
i
);

1007 
	gtÙ®
 = 
diff
 - 
weight
/
aSigmaSq
;

1008 
	gg¿d›Á
.
­³nd
(
tÙ®
);

1009 
	gsqËngth
 +ğ
tÙ®
 *otal;

1012 ià(
çbs
(
tÙ®
è> fabs(
maxTÙ®
)) {

1013 
	gmaxTÙ®
 = 
tÙ®
;

1014 
	gmaxIndex
 = 
i
;

1016 
	gweightsum
 +ğ
çbs
(
weight
);

1022 
	gcout
 << "Ïrge¡ chªgğ" << 
maxTÙ®
*
	gaAÍha
 << " (" << 
	gmaxIndex
 << ")\n";

1023 
	gcout
 << "sqËngth = " << 
sqËngth
*
aAÍha
*
	gaAÍha
 << 
	g’dl
;

1024 
	gcout
 << "Ëngth = " << 
sq¹
(
sqËngth
*
aAÍha
*aAÍhaè<< 
	g’dl
;

1025 
	gcout
 << "sum oàweight ğ" << 
	gweightsum
 << 
	g’dl
;

1028 
	gi
 = 
iMš
; i < 
	giMax
; i++)

1031 
	gweight
 = 
¼f
->
g‘Weight
(
i
);

1032 
	g¼f
->
£tWeight
(
i
, 
weight
 + 
g¿d›Á
[i]*
aAÍha


1039 ià(
	gaGround
) {

1040 
	gg¼f
->
dœtyAÎ
();

1042 
	gŒueG¼f
->
dœtyAÎ
();

1046 
	g¼f
->
šv®id©eAÎ
();

1049 
	gcout
 << "Time: ";

1050 
	gTim”
::
´štTime
(
cout
, 
tim”
.
time
(è- 
begSec
); 
	gcout
 << 
	g’dl
;

1052 ià(
	gaV”bo£
) {

1053 
	gcout
 << 
	g¼f
;

1056 ià(
	gtim”
.
time
(è- 
	gÏ¡Wr™eSec
 > 5) {

1057 
of¡»am
 
fout
(
aouutF’ame
);

1058 
	gfout
 << 
	g¼f
;

1059 
	gfout
.
şo£
();

1060 
	gÏ¡Wr™eSec
 = 
tim”
.
time
();

1066 
of¡»am
 
fout
(
aouutF’ame
);

1067 
	gfout
 << 
	g¼f
;

1069 ià(
	gaV”bo£
) {

1070 
	gcout
 << "Final model:\n";

1071 
	gcout
 << 
	g¼f
;

1073 
	gfout
.
şo£
();

1077 
šãrRRF
(
RRF
* 
¼f
, 
D©aba£
* 
db
, cÚ¡ 
A¼ay
<>& 
qu”yP»ds
)

1080 
	gA¼ay
<
	gP»diÿ‹
*> 
	g®lGroundšgs
;

1081 
	gA¼ay
<
	gTruthV®ue
> 
	gŒueP»dV®ues
;

1082 cÚ¡ 
Domaš
* 
	gdomaš
 = 
db
->
g‘Domaš
();

1086 
	gi
 = 0; i < 
	gqu”yP»ds
.
size
(); i++) {

1089 
	gA¼ay
<
	gP»diÿ‹
*> 
	g´edGroundšgs
;

1090 
	gP»diÿ‹
::
ü—‹AÎGroundšgs
(
qu”yP»ds
[
i
], 
domaš
, 
´edGroundšgs
);

1091 
	g®lGroundšgs
.
­³nd
(
´edGroundšgs
);

1094 
	gj
 = 0; j < 
	g´edGroundšgs
.
size
(); j++) {

1095 
	gŒueP»dV®ues
.
­³nd
(
db
->
g‘V®ue
(
´edGroundšgs
[
j
]));

1101 
GroundRRF
* 
	gg¼f
 = 
NULL
;

1103 
GroundRRF
* 
	gŒueG¼f
 = 
NULL
;

1105 
	gA¼ay
<A¼ay<
	gboŞ
> > 
	gŒueV®ues
;

1108 ià(
	gaGround
) {

1109 
	gg¼f
 = 
Ãw
 
GroundRRF
(
¼f
, 
db
);

1111 
	gŒueG¼f
 = 
Ãw
 
GroundRRF
(
¼f
, 
db
);

1114 
	gq
 = 0; q < 
	gqu”yP»ds
.
size
(); q++) {

1115 
	gi
 = 
qu”yP»ds
[
q
];

1116 
	gŒueV®ues
.
­³nd
(
A¼ay
<
boŞ
>());

1117 
	gj
 = 0; j < 
	gg¼f
->
g‘NumGroundšgs
(
i
-1); j++) {

1118 
	gŒueV®ues
[
q
].
­³nd
(
g¼f
->
g‘P»diÿ‹V®ue
(
i
,
j
));

1125 ià(
	gaRec
) {

1126 
runICMInã»nû
(
¼f
, 
db
, 
®lGroundšgs
);

1129 ià(
	gaGround
) {

1130 
runICMInã»nû
(
g¼f
, 
qu”yP»ds
, 
db
, 
¼f
);

1133 
	gA¼ay
<> 
	g»cInfCouÁs
;

1134 
	gA¼ay
<> 
	ggroundInfCouÁs
;

1136 
g‘GibbsLogLik–ihood2
(
¼f
, 
db
, 
®lGroundšgs
);

1139 ià(
	gšfM‘hod
 =ğ
INF_GIBBS
) {

1140 ià(
aRec
è{ 
runGibbs
(
¼f
, 
db
, 
®lGroundšgs
, 
»cInfCouÁs
); }

1141 ià(
	gaGround
è{ 
runGibbs
(
g¼f
, 
qu”yP»ds
, 
groundInfCouÁs
, 
db
); }

1142 } ià(
	gšfM‘hod
 =ğ
INF_ICM
) {

1149 
i
 = 0; 
	gi
 < 
	g®lGroundšgs
.
size
(); i++) {

1150 
	g®lGroundšgs
[
i
]->
´štW™hSŒV¬
(
cout
, 
domaš
);

1151 ià(
	gaGround
) {

1152 
	gcout
 << " " << 
	ggroundInfCouÁs
[
i
];

1154 ià(
	gaRec
) {

1155 
	gcout
 << " " << 
	g»cInfCouÁs
[
i
];

1157 
	gcout
 << 
	g’dl
;

1164 
	$maš
(
¬gc
, * 
¬gv
[])

1166 
ARGS
::
	`·r£
(
¬gc
, 
¬gv
, &
cout
);

1168 
aInã»nûM‘hodSŒ
[0]) {

1169 'i': 
šfM‘hod
 = 
INF_ICM
;

1171 'g': 
šfM‘hod
 = 
INF_GIBBS
;

1173 'e': 
šfM‘hod
 = 
INF_EXACT
;

1175 'p': 
šfM‘hod
 = 
INF_PSEUDO
;

1177 : 
cout
 << "ERROR: Unknown inference method "

1178 << 
aInã»nûM‘hodSŒ
 << 
’dl
;

1179 
	`ex™
(-1);

1182 ià(!
aRec
 && !
aGround
) {

1183 
aGround
 = 
Œue
;

1186 
	`¤ªd
(
aS“d
);

1189 
MLN
* 
mÊ
 = 
Ãw
 MLN;

1190 
Domaš
* 
domaš
 = 
Ãw
 Domain;

1191 
SŒšgHashA¼ay
* 
İ’WÜldP»dNames
 = 
Ãw
 
	`SŒšgHashA¼ay
();

1193 
SŒšgHashA¼ay
* 
qu”yP»dNames
 = 
Ãw
 
	`SŒšgHashA¼ay
();

1194 
	`runYYP¬£r
(
mÊ
, 
domaš
, 
af’ame
, 
Œue
,

1195 
İ’WÜldP»dNames
, 
qu”yP»dNames
, 
çl£
,

1196 
çl£
, 0, false,

1197 
NULL
, 
Œue
, 
çl£
);

1201 
A¼ay
<> 
qu”yP»ds
;

1202 ià(!
	`¡rcmp
(
nÚEvidP»dsSŒ
, "all")) {

1205 
i
 = 1; i < 
domaš
->
	`g‘NumP»diÿ‹s
(); i++) {

1206 
qu”yP»ds
.
	`­³nd
(
i
);

1209 
SŒšgHashA¼ay
 
nÚEvidP»dNames
;

1210 if(!
	`exŒaùP»dNames
(
nÚEvidP»dsSŒ
, 
NULL
, 
nÚEvidP»dNames
)) {

1211 
cout
 << "ERROR: failedoƒxtract‚on-evidence…redicate‚ames.\n";

1215 
i
 = 0; i < 
nÚEvidP»dNames
.
	`size
(); i++) {

1216 
´edId
 = 
domaš
->
	`g‘P»diÿ‹Id
Ğ
nÚEvidP»dNames
[
i
].
	`c_¡r
() );

1217 ià(
´edId
 < 0) {

1218 
cout
 << "Ignoring unrecognized query…redicate \""

1219 << 
nÚEvidP»dNames
[
i
] << "\".\n";

1221 
qu”yP»ds
.
	`­³nd
(
´edId
);

1227 
RRF
* 
¼f
;

1229 ià(
amod–F’ame
) {

1231 
cout
 << "Loading weights from file.\n";

1232 
¼f
 = 
Ãw
 
	`RRF
();

1233 
if¡»am
 
	`mod–In
(
amod–F’ame
);

1234 
¼f
->
	`lßd
(
mod–In
, 
domaš
);

1235 
mod–In
.
	`şo£
();

1240 
¼f
 = 
RRF
::
	`g’”©eTwoLev–
(
domaš
);

1241 
A¼ay
<> 
ty³Ar™y
;

1242 
ty³Ar™y
.
	`­³nd
(0);

1243 
ty³Ar™y
.
	`­³nd
(1);

1244 
i
 = 0; i < 
aNumF—tu»s
; i++) {

1245 
¼f
->
	`addCom¶‘eF—tu»
(
ty³Ar™y
, 
domaš
, 
qu”yP»ds
,

1246 
aP»dsP”F—tu»
);

1249 
cout
 << "ERROR:‚o†onger supported!\n";

1250 
	`ex™
(-1);

1255 ià(
©e¡CÚ¡ªt
) {

1257 
‹¡Id
 = 
domaš
->
	`g‘CÚ¡ªtId
(
©e¡CÚ¡ªt
);

1258 ià(
‹¡Id
 < 0) {

1259 
cout
 << "E¼Ü: unknowÀcÚ¡ªˆ\"" << 
©e¡CÚ¡ªt
 << "\"\n";

1263 
A¼ay
<
P»diÿ‹
*> 
groundQu”yP»ds
;

1264 
A¼ay
<> 
»q
;

1265 
»q
.
	`­³nd
(
‹¡Id
);

1268 
i
 = 0; i < 
qu”yP»ds
.
	`size
(); i++) {

1273 
cout
 << "req = ";

1274 
j
 = 0; j < 
»q
.
	`size
(); j++) {

1275 
cout
 << 
»q
[
j
] << " ";

1277 
cout
 << 
’dl
;

1281 
A¼ay
<> 
groundšg
;

1282 
™”
.
	`hasNextGroundšg
()) {

1285 
™”
.
	`g‘NextGroundšg
(
groundšg
);

1286 
P»diÿ‹
* 
´ed
 = 
Ãw
 
	`P»diÿ‹
(

1287 
domaš
->
	`g‘P»diÿ‹Tem¶©e
(
qu”yP»ds
[
i
]));

1288 
j
 = 0; j < 
groundšg
.
	`size
(); j++) {

1289 
´ed
->
	`£tT”mToCÚ¡ªt
(
j
, 
groundšg
[j]);

1293 
groundQu”yP»ds
.
	`­³nd
(
´ed
);

1297 
Íl
 = 
¼f
->
	`g‘LogP£udoLik–ihood
(
domaš
->
	`g‘DB
(),

1298 
groundQu”yP»ds
);

1301 
Î
;

1302 ià(
aGround
) {

1303 
Î
 = 
	`g‘GibbsLogLik–ihood2
(
¼f
, 
domaš
->
	`g‘DB
(),

1304 
groundQu”yP»ds
);

1306 
Î
 = 
	`g‘GibbsLogLik–ihood
(
¼f
, 
domaš
->
	`g‘DB
(),

1307 
groundQu”yP»ds
);

1309 
cout
 << "ÍÈğ" << 
Íl
 << 
’dl
;

1310 
cout
 << "Î = " << 
Î
 << 
’dl
;

1314 ià(
aInãr
) {

1315 
	`šãrRRF
(
¼f
, 
domaš
->
	`g‘DB
(), 
qu”yP»ds
);

1316 } ià(
aLPL
) {

1317 ià(
aGround
) {

1318 
GroundRRF
* 
g¼f
 = 
Ãw
 
	`GroundRRF
(
¼f
, 
domaš
->
	`g‘DB
());

1319 
cout
 << "ÍÈğ" << 
g¼f
->
	`g‘LogP£udoLik–ihood
(
qu”yP»ds
)

1320 << 
’dl
;

1322 
cout
 << "ERROR:…ll for‚on-ground RRF is‚ot yet supported!\n";

1325 ià(
aouutF’ame
 =ğ
NULL
) {

1326 
cout
 << "Warning: you should specify‡n output model filename "

1329 
	`ŒašRRF
(
¼f
, 
domaš
->
	`g‘DB
(), 
qu”yP»ds
);

1333 
	}
}

	@util/arguments.cpp

122 
	~<s¡»am
>

124 
	~<f¡»am
>

125 
	~<¡ddef.h
>

126 
	~<¡dlib.h
>

140 
	~<¡ršg.h
>

141 
	~<ùy³.h
>

144 
	~"¬gum’ts.h
"

146 
o¡»am
* 
	gARGS
::
pout
 = 
NULL
;

148 
boŞ
 
	gARGS
::
__¬gs__dummy__
;

149 
ARGS
 
	gARGS
::
END
(
NULL
,ARGS::
O±
,ARGS::
__¬gs__dummy__
, "");

151 * cÚ¡ 
	gARGS
::
NOFLAG
 = (*)"noflg";

152 * cÚ¡ 
	gARGS
::
NOFL_FOUND
 = (*)"nofl_fnd";

153 
boŞ
 
	gARGS
::
u§ge_ÿÎed
 = 
çl£
;

154 cÚ¡ 
	gARGS
::
Comm’tCh¬
 = '#';

155 
	gARGS
::
numArgs
 = 0;

156 
boŞ
* 
	gARGS
::
found
 = 
NULL
;

157 * 
	gARGS
::
´ogName
 = (*)"";

158 
¬gsAùiÚ
 
	gARGS
::
no_aùiÚ
;

159 
boŞ
 
	gARGS
::
ignÜeUnknownSw™ch
 = 
çl£
;

162 
	gARGS
::
	$š™
(cÚ¡ * 
m
, 
¬gKšd
 
r
, cÚ¡ * 
d
, 
¬gsAùiÚ
& 
a
)

164 
æag
 = 
m
;

165 
¬g_kšd
 = 
r
;

166 ià(
¬g_kšd
 =ğ
Tog
)

168 ià(
uc
.
ty³
 !ğ
uniÚCÏss
::
boŞ_t
)

170 
	`E¼Ü
("Internal: ARGS::ARGS()oggle‡rgument must be bool");

171 ::
	`ex™
(1);

174 
desütiÚ
 = 
d
;

175 ià(&
a
 =ğ&
no_aùiÚ
)

176 
aùiÚ
 = 
NULL
;

178 
aùiÚ
 = &
a
;

179 
	}
}

182 
	gARGS
::
	$ARGS
(è: 
	$uc
(
__¬gs__dummy__
)

184 
	`š™
(
NULL
,
ARGS
::
O±
,"",
no_aùiÚ
);

185 
	}
}

188 
	gARGS
::
	$ARGS
(cÚ¡ * 
m
 , 
¬gKšd
 
r
, 
uniÚCÏss
 
uş
, cÚ¡ * 
d
,

189 
¬gsAùiÚ
& 
a
): 
	$uc
(
uş
)

191 
	`š™
(
m
,
r
,
d
,
a
);

192 
	}
}

195 
	gARGS
::
	$ARGS
(
¬gKšd
 
r
, 
uniÚCÏss
 
uş
, cÚ¡ * 
d
, 
¬gsAùiÚ
& 
a
è: 
	$uc
(
uş
)

197 
	`š™
(
NOFLAG
,
r
,
d
,
a
);

198 
	}
}

201 
	gARGS
::
	$ARGS
(
uniÚCÏss
 
uş
, cÚ¡ * 
d
, 
¬gsAùiÚ
& 
a
è: 
	$uc
(
uş
)

203 
	`š™
(
NOFLAG
,
O±
,
d
,
a
);

204 
	}
}

207 
	gARGS
::
	$ARGS
(cÚ¡ 
ARGS
& 
a
è: 
	$uc
(
a
.
uc
)

209 
æag
 = 
a
.flag;

210 
¬g_kšd
 = 
a
.arg_kind;

211 
desütiÚ
 = 
a
.description;

212 
aùiÚ
 = 
a
.action;

213 
	}
}

216 
	gARGS
::
	$makeFound
()

218 ià(
found
 !ğ
NULL
)

220 
numArgs
 = 0;

221 
ARGS
* 
¬gs_™”
 = 
Args
;

222 
¬gs_™”
->
æag
 !ğ
NULL
)

224 
numArgs
 ++;

225 
¬gs_™”
++;

227 
found
 = 
Ãw
 
boŞ
[
numArgs
];

228 
i
 = 0; i < 
numArgs
; i++)

229 
found
[
i
] = 
çl£
;

230 
	}
}

235 
	gARGS
::
	$ş—nUp
()

237 
d–‘e
 [] 
found
;

238 
i
 = 0; i < 
numArgs
; i++)

240 ià(
Args
[
i
].
uc
.
ty³
 =ğ
uniÚCÏss
::
¡r_t
)

241 
d–‘e
 [] 
Args
[
i
].
uc
.
±r
->
¡ršg
;

243 
	}
}

246 
	gARGS
::
ArgsR‘Code


247 
ARGS
::
	$·r£FromCommªdLše
(
¬gc
, ** 
¬gv
)

249 
ARGS
::
ArgsR‘Code
 
»tCode
 = 
ARG_OK
;

251 ià(
¬gv
[0] !ğ
NULL
)

252 
´ogName
 = 
¬gv
[0];

253 
	`makeFound
();

254 
ARGS
* 
¬gs_™”
;

255 
i
 = 1; i < 
¬gc
;i++)

257 ià(
¬gv
[
i
][0] == '-')

259 * 
æag
 = 
¬gv
[
i
];

260 
¬gs_™”
 = 
	`fšdM©ch
(
Args
, &
æag
[1]);

261 ià(
¬gs_™”
 =ğ
NULL
)

263 ià(
ignÜeUnknownSw™ch
 =ğ
çl£
)

265 
	`E¼Ü
("UnknowÀsw™ch: ",
¬gv
[
i
]);

266  (
ARG_ERR
);

270 ià(
¬gs_™”
 =ğ(
ARGS
*)(-1))

272 
	`E¼Ü
("Ambiguou sw™ch: ",
¬gv
[
i
]);

273  (
ARG_ERR
);

277 * 
¬g
;

278 ià((
i
+1è>ğ
¬gc
è
¬g
 = 
NULL
;

279 
¬g
 = 
¬gv
[++
i
];

280 
ARGS
::
ArgsR‘Code
 
ok
;

281 
ok
 = 
	`¬gsSw™ch
(
¬gs_™”
,
¬g
,
i
, 
found
[¬gs_™” - 
Args
],
æag
);

282 ià(
ok
==
ARG_ERR
è
»tCode
 = ARG_ERR;

287 
¬gs_™”
 = 
Args
;

288 
¬gs_™”
->
æag
 !ğ
NULL
)

290 ià(
¬gs_™”
->
æag
 =ğ
NOFLAG
)

293 * 
¬g
 = 
¬gv
[
i
];

294 
dummy
;

295 
ARGS
::
ArgsR‘Code
 
ok
;

296 
ok
 = 
	`¬gsSw™ch
(
¬gs_™”
,
¬g
,
dummy
,
found
[¬gs_™”-
Args
],"");

297 ià(
ok
==
ARG_ERR
è
»tCode
 = ARG_ERR;

298 
¬gs_™”
->
æag
 = 
NOFL_FOUND
;

301 
¬gs_™”
++;

305 ià(
	`checkMissšg
())

306  
ARG_MISSING
;

307  
»tCode
;

308 
	}
}

311 
boŞ
 
	gARGS
::
	$checkMissšg
(
boŞ
 
´štMes§ge
)

313 
ARGS
* 
¬gs_™”
;

314 
¬gs_™”
 = 
Args
;

315 
boŞ
 
missšg
 = 
çl£
;

316 
¬gs_™”
->
æag
 !ğ
NULL
)

318 ià(!
found
[
¬gs_™”
-
Args
] &&‡rgs_™”->
¬g_kšd
 =ğ
Req
)

320 ià(
´štMes§ge
)

322 
o¡ršg¡»am
 
oss
;

323 ià(
	`noFÏgP
(
¬gs_™”
->
æag
)è
oss
 << "";

324 
oss
 << " -" << 
¬gs_™”
->
æag
;

325 
oss
 << " " << 
¬gs_™”
->
uc
.
ty³
;

326 
	`E¼Ü
("Requœed‡rgum’ˆmissšg:",
oss
.
	`¡r
().
	`c_¡r
());

328 
missšg
 = 
Œue
;

330 
¬gs_™”
++;

332  
missšg
;

333 
	}
}

340 
	gARGS
::
ArgsR‘Code
 
ARGS
::
	$·r£FromFe
(* 
feName
)

342 
	`makeFound
();

343 
if¡»am
 
	`ife
(
feName
);

344 ià(!
ife
)

346 
	`E¼Ü
("Cª'ˆf¬gum’ˆfe: ",
feName
);

347  
ARG_ERR
;

352 
bufãr
[512];

353 
bufãr_Üig
[512];

354 
c
;

355 
ife
.
	`good
())

357 
ife
.
	`g‘
(
bufãr
,512,'\n');

366 ià(
ife
.
	`g‘
(
c
) && c != '\n')

369 
	`E¼Ü
("LšËngthoØlÚg iÀfe: ",
feName
);

370  
ARG_ERR
;

372 ::
	`¡rıy
(
bufãr_Üig
,
bufãr
);

373 * 
bufå
 = 
bufãr
;

374 *
bufå
)

376 ià(*
bufå
 =ğ
Comm’tCh¬
)

377 *
bufå
 = '\0';

378 
bufå
++;

381 
bufå
 = 
bufãr
;

383 *
bufå
 == ' ' || *buffp == '\t')

384 
bufå
++;

386 * 
æag
 = 
bufå
;

387 * 
¬g
;

389 *
bufå
 && *buffp != ' ' && *buffp != '\t' && *buffp != ':')

390 
bufå
++;

391 ià(
bufå
 =ğ
æag
)

394 ià(*
bufå
)

397 ià(*
bufå
 == ':')

398 *
bufå
++ = '\0';

401 *
bufå
++ = '\0';

402 *
bufå
 && *buffp != ':')

403 
bufå
++;

404 ià(*
bufå
 == ':')

405 
bufå
++;

408 *
bufå
 == ' ' || *buffp == '\t')

409 
bufå
++;

412 ià(!*
bufå
)

413 
¬g
 = 
NULL
;

416 
¬g
 = 
bufå
;

418 *
bufå
 && *buffp != ' ' && *buffp != '\t')

419 
bufå
++;

420 *
bufå
 = '\0';

422 
ARGS
* 
¬gs_™”
 = 
	`fšdM©ch
(
Args
,
æag
);

423 ià(
¬gs_™”
 =ğ
NULL
)

425 
	`E¼Ü
("UnknowÀsw™ch iÀ",
feName
,": ",
æag
);

426  (
ARG_ERR
);

429 ià(
¬gs_™”
 =ğ(
ARGS
*)(-1))

431 
	`E¼Ü
("Ambiguou sw™ch iÀ",
feName
,": ",
æag
);

432  (
ARG_ERR
);

439 ià(
found
[
¬gs_™”
-
Args
] !ğ
Œue
)

441 
i
;

442 ià(
	`¬gsSw™ch
(
¬gs_™”
,
¬g
,
i
,
found
[¬gs_™” - 
Args
],
æag
)

443 !ğ
ARG_OK
)

445 
	`E¼Ü
("E¼Ü iÀ",
feName
);

446  (
ARG_ERR
);

452 ià(
	`checkMissšg
())

453  
ARG_MISSING
;

454  
ARG_OK
;

455 
	}
}

460 
ARGS
* 
	gARGS
::
	$fšdM©ch
(
ARGS
* 
ag
,*
æag
)

462 
æagËn
 = ::
	`¡¾’
(
æag
);

463 
ARGS
* 
¬gs_™”
 = 
ag
;

464 
numTaged
 = 0;

465 
Ï¡Taged
 = -1;

468 
¬gs_™”
->
æag
 !ğ
NULL
)

470 ià(!
	`noFÏgP
(
¬gs_™”
->
æag
))

472 ià(
	`¡¾’
(
¬gs_™”
->
æag
) == strlen(flag) &&

473 !::
	`¡ºcmp
(
¬gs_™”
->
æag
,æag,
æagËn
))

475 
numTaged
++;

476 
Ï¡Taged
 = (
¬gs_™”
 - 
ag
);

479 
¬gs_™”
++;

481 ià(
numTaged
 =ğ0è 
NULL
;

482 ià(
numTaged
 > 1è (
ARGS
*)(-1);

483  &
ag
[
Ï¡Taged
];

484 
	}
}

487 
	gARGS
::
ArgsR‘Code


488 
ARGS
::
	$¬gsSw™ch
(
ARGS
* 
¬gs_™”
, * 
¬g
, & 
šdex
, 
boŞ
& 
found
,

489 cÚ¡ * 
æag
)

491 
¬gs_™”
->
uc
.
ty³
)

494 
uniÚCÏss
::
boŞ_t
:

496 
boŞ
 
b
 = 
Œue
;

497 ià(
¬g
 =ğ
NULL
 ||

498 
¬g
[0] == '-')

501 ià(
¬gs_™”
->
¬g_kšd
 !ğ
Tog
)

502 
¬gs_™”
->
uc
.
±r
->
boŞ—n
 = 
Œue
;

504 
¬gs_™”
->
uc
.
±r
->
boŞ—n
 =

505 ((
¬gs_™”
->
uc
.
±r
->
boŞ—n
 =ğ
Œue
è? 
çl£
 :rue);

507 ià(
¬g
 !ğ
NULL
)

508 
šdex
--;

509 
found
 = 
Œue
;

510 ià(
¬gs_™”
->
aùiÚ
 !ğ
NULL
)

511 
¬gs_™”
->
aùiÚ
->
	`aù
×rgs_™”->
uc
.
±r
->
boŞ—n
);

517 ià(!
	`boŞabË
(
¬g
,
b
))

519 
	`E¼Ü
("BoŞ—À¬gum’ˆÃeded: ",
æag
," ",
¬g
);

520  
ARG_ERR
;

522 
¬gs_™”
->
uc
.
±r
->
boŞ—n
 = 
b
;

524 
found
 = 
Œue
;

525 ià(
¬gs_™”
->
aùiÚ
 !ğ
NULL
)

526 
¬gs_™”
->
aùiÚ
->
	`aù
×rgs_™”->
uc
.
±r
->
boŞ—n
);

530 
uniÚCÏss
::
ch¬_t
:

532 ià(
¬g
 =ğ
NULL
 ||

533 ::
	`¡¾’
(
¬g
) != 1)

535 
	`E¼Ü
("Ch¬aù”‡rgum’ˆÃeded: ",
æag
," ",
¬g
);

536  
ARG_ERR
;

539 
¬gs_™”
->
uc
.
±r
->
ch
 = 
¬g
[0];

541 
found
 = 
Œue
;

542 ià(
¬gs_™”
->
aùiÚ
 !ğ
NULL
)

543 
¬gs_™”
->
aùiÚ
->
	`aù
×rgs_™”->
uc
.
±r
->
ch
);

547 
uniÚCÏss
::
¡r_t
:

549 ià(
¬g
 =ğ
NULL
)

551 
	`E¼Ü
("SŒšg‡rgum’ˆÃeded: ",
æag
);

552  
ARG_ERR
;

554 
¬gs_™”
->
uc
.
±r
->
¡ršg
 =

555 ::
	`¡rıy
(
Ãw
 [
	`¡¾’
(
¬g
)+1],arg);

557 
found
 = 
Œue
;

558 ià(
¬gs_™”
->
aùiÚ
 !ğ
NULL
)

559 
¬gs_™”
->
aùiÚ
->
	`aù
×rgs_™”->
uc
.
±r
->
¡ršg
);

563 
uniÚCÏss
::
št_t
:

565 ià(
¬g
 =ğ
NULL
)

567 
	`E¼Ü
("IÁeg”‡rgum’ˆÃeded: ",
æag
);

568  
ARG_ERR
;

570 
n
;

571 
i¡ršg¡»am
 
	`i¡
(
¬g
);

572 ià(!(
i¡
 >> 
n
))

574 
	`E¼Ü
("IÁeg”‡rgum’ˆÃeded: ",
æag
," ",
¬g
);

575  
ARG_ERR
;

577 
¬gs_™”
->
uc
.
±r
->
š‹g”
 = 
n
;

579 
found
 = 
Œue
;

580 ià(
¬gs_™”
->
aùiÚ
 !ğ
NULL
)

581 
¬gs_™”
->
aùiÚ
->
	`aù
×rgs_™”->
uc
.
±r
->
š‹g”
);

585 
uniÚCÏss
::
ušt_t
:

587 ià(
¬g
 =ğ
NULL
)

589 
	`E¼Ü
("UnsigÃd iÁeg”‡rgum’ˆÃeded: ",
æag
);

590  
ARG_ERR
;

592 
n
;

593 
i¡ršg¡»am
 
	`i¡
(
¬g
);

594 ià(!(
i¡
 >> 
n
))

596 
	`E¼Ü
("UnsigÃd iÁeg”‡rgum’ˆÃeded: ",
æag
," ",
¬g
);

597  
ARG_ERR
;

599 
¬gs_™”
->
uc
.
±r
->
uš‹g”
 = 
n
;

601 
found
 = 
Œue
;

602 ià(
¬gs_™”
->
aùiÚ
 !ğ
NULL
)

603 
¬gs_™”
->
aùiÚ
->
	`aù
×rgs_™”->
uc
.
±r
->
uš‹g”
);

607 
uniÚCÏss
::
æßt_t
:

609 ià(
¬g
 =ğ
NULL
)

611 
	`E¼Ü
("R—Ènumb”‡rgum’ˆÃeded: ",
æag
);

612  
ARG_ERR
;

614 
f
;

615 
i¡ršg¡»am
 
	`i¡
(
¬g
);

616 ià(!(
i¡
 >> 
f
))

618 
	`E¼Ü
("Flßtšg…ošˆnumb”‡rgum’ˆÃeded: ",
æag
," ",
¬g
);

619  
ARG_ERR
;

621 
¬gs_™”
->
uc
.
±r
->
sšgË_´ec
 = 
f
;

623 
found
 = 
Œue
;

624 ià(
¬gs_™”
->
aùiÚ
 !ğ
NULL
)

625 
¬gs_™”
->
aùiÚ
->
	`aù
×rgs_™”->
uc
.
±r
->
sšgË_´ec
);

629 
uniÚCÏss
::
doubË_t
:

631 ià(
¬g
 =ğ
NULL
)

633 
	`E¼Ü
("R—Ènumb”‡rgum’ˆÃeded: ",
æag
);

634  
ARG_ERR
;

636 
d
;

637 
i¡ršg¡»am
 
	`i¡
(
¬g
);

638 ià(!(
i¡
 >> 
d
))

640 
	`E¼Ü
("IÁeg”‡rgum’ˆÃeded: ",
æag
," ",
¬g
);

641  
ARG_ERR
;

643 
¬gs_™”
->
uc
.
±r
->
doubË_´ec
 = 
d
;

645 
found
 = 
Œue
;

646 ià(
¬gs_™”
->
aùiÚ
 !ğ
NULL
)

647 
¬gs_™”
->
aùiÚ
->
	`aù
×rgs_™”->
uc
.
±r
->
doubË_´ec
);

651 
uniÚCÏss
::
aùiÚ_t
:

653 ((
¬gsAùiÚ
*)
¬gs_™”
->
uc
.
±r
)->
	`aù
();

654 ià(
¬g
 !ğ
NULL
)

655 
šdex
--;

656 
found
 = 
Œue
;

657 ià(
¬gs_™”
->
aùiÚ
 !ğ
NULL
)

658 
¬gs_™”
->
aùiÚ
->
	`aù
();

662 
	`E¼Ü
("Unknown internal‡rgument: Internalƒrror.");

663 ::
	`ex™
(1);

666  
ARG_OK
;

667 
	}
}

670 
boŞ
 
	gARGS
::
	$boŞabË
(* 
¡ršg
, 
boŞ
& 
v®ue
)

672 
boŞ
 
rc
;

673 
¬gËn
 = 
	`¡¾’
(
¡ršg
);

674 * 
upÿ£¬g
 = 
Ãw
 [
¬gËn
+1];

675 ::
	`¡rıy
(
upÿ£¬g
,
¡ršg
);

676 
i
 = 0;˜< 
¬gËn
; i++)

677 
upÿ£¬g
[
i
] = 
	`touµ”
(upcasearg[i]);

678 ià(!::
	`¡ºcmp
("TRUE", 
upÿ£¬g
, 
¬gËn
) ||

679 !::
	`¡ºcmp
("YES", 
upÿ£¬g
, 
¬gËn
) ||

680 !::
	`¡ºcmp
("ON", 
upÿ£¬g
, 
¬gËn
) ||

681 (
¬gËn
 =ğ1 && 
¡ršg
[0] == '1'))

683 
v®ue
 = 
Œue
;

684 
rc
 = 
Œue
;

687 ià(!::
	`¡ºcmp
("FALSE", 
upÿ£¬g
, 
¬gËn
) ||

688 !::
	`¡ºcmp
("NO", 
upÿ£¬g
, 
¬gËn
) ||

689 !::
	`¡ºcmp
("OFF", 
upÿ£¬g
, 
¬gËn
) ||

690 (
¬gËn
 =ğ1 && 
¡ršg
[0] == '0'))

692 
v®ue
 = 
çl£
;

693 
rc
 = 
Œue
;

697 
rc
 = 
çl£
;

699 
d–‘e
 [] 
upÿ£¬g
;

700  
rc
;

701 
	}
}

705 
boŞ
 
	gARGS
::
	$noFÏgP
(cÚ¡ * 
æg
)

708 ià(
æg
 =ğ
NOFLAG
 || flg =ğ
NOFL_FOUND
)

709  
Œue
;

711  
çl£
;

712 
	}
}

715 
	gARGS
::
	$E¼Ü
(cÚ¡ * 
s1
, cÚ¡ * 
s2
, cÚ¡ * 
s3
, cÚ¡ * 
s4
,

716 cÚ¡ * 
s5
)

718 
cout
 << "Argum’ˆ”rÜ: " << 
s1
;

719 ià(
s2
 !ğ
NULL
è
cout
 << s2;

720 ià(
s3
 !ğ
NULL
è
cout
 << s3;

721 ià(
s4
 !ğ
NULL
è
cout
 << s4;

722 ià(
s5
 !ğ
NULL
è
cout
 << s5;

723 
cout
 << "\n";

724 
	}
}

727 
	gARGS
::
	$u§ge
(
boŞ
 
fÜû
)

729 ià(
u§ge_ÿÎed
 && !
fÜû
)

731 
u§ge_ÿÎed
 = 
Œue
;

733 
cout
 << "U§ge: " << 
´ogName
 << " [[[-flag] [option]] ...]\n";

734 
cout
 << "Required: <>; Optional: []; Flagless‡rguments must be in order.\n";

736 
ARGS
* 
¬gs_™”
 = 
Args
;

737 
lÚge¡_v¬ŸtiÚ
 = 0;

739 
¬gs_™”
->
æag
 !ğ
NULL
)

741 
Ën
 = 0;

742 ià(!
	`noFÏgP
(
¬gs_™”
->
æag
))

745 
Ën
 +ğ::
	`¡¾’
(
¬gs_™”
->
æag
)+1;

746 ià(
¬gs_™”
->
uc
.
ty³
 !ğ
uniÚCÏss
::
aùiÚ_t
)

747 
Ën
 ++;

749 
Ën
 +ğ::
	`¡¾’
(
uniÚCÏss
::
	`ty³SŒ
(
¬gs_™”
->
uc
.
ty³
));

750 ià(
¬gs_™”
->
uc
.
ty³
 !ğ
uniÚCÏss
::
aùiÚ_t
)

751 
Ën
 += 2;

752 ià(
Ën
 > 
lÚge¡_v¬ŸtiÚ
)

753 
lÚge¡_v¬ŸtiÚ
 = 
Ën
;

754 
¬gs_™”
++;

757 
¬gs_™”
 = 
Args
;

758 
¬gs_™”
->
æag
 !ğ
NULL
)

760 
this_v¬ŸtiÚ
 = 0;

761 
b¿ck‘s
[2];

762 ià(
¬gs_™”
->
¬g_kšd
 =ğ
Req
)

764 
b¿ck‘s
[0] = '<';

765 
b¿ck‘s
[1] = '>';

769 
b¿ck‘s
[0] = '[';

770 
b¿ck‘s
[1] = ']';

772 
cout
 << " " << 
b¿ck‘s
[0];

774 ià(!
	`noFÏgP
(
¬gs_™”
->
æag
))

776 
cout
 << "-" << 
¬gs_™”
->
æag
;

778 
this_v¬ŸtiÚ
 = ::
	`¡¾’
(
¬gs_™”
->
æag
) + 1;

779 ià(
¬gs_™”
->
uc
.
ty³
 !ğ
uniÚCÏss
::
aùiÚ_t
)

781 
cout
 << " ";

782 
this_v¬ŸtiÚ
 ++;

785 
cout
 << 
¬gs_™”
->
uc
.
ty³
;

786 
this_v¬ŸtiÚ
 +ğ::
	`¡¾’
(
uniÚCÏss
::
	`ty³SŒ
(
¬gs_™”
->
uc
.
ty³
));

787 ià(
¬gs_™”
->
uc
.
ty³
 !ğ
uniÚCÏss
::
aùiÚ_t
)

790 
this_v¬ŸtiÚ
 += 2;

793 
cout
 << 
b¿ck‘s
[1];

794 
this_v¬ŸtiÚ
++ < 
lÚge¡_v¬ŸtiÚ
)

795 
cout
 << " ";

796 
cout
 << " ";

797 
cout
 << ((
¬gs_™”
->
desütiÚ
 =ğ
NULL
) ? "" :‡rgs_iter->description)

799 
¬gs_™”
++;

801 
	}
}

804 
	go¡»am
& 
	gİ”©Ü
 << (o¡»am& 
	gos
, 
	guniÚCÏss
::
¬gTy³
& 
t
)

806 ià(
t
 =ğ
uniÚCÏss
::
aùiÚ_t
)

807  
os
;

808 
	gb¿ck‘s
[2];

810 ià(
	gt
 =ğ
uniÚCÏss
::
boŞ_t
)

812 
b¿ck‘s
[0] = '[';

813 
	gb¿ck‘s
[1] = ']';

817 
	gb¿ck‘s
[0] = '<';

818 
	gb¿ck‘s
[1] = '>';

820 
	gos
 << 
	gb¿ck‘s
[0] << 
	guniÚCÏss
::
ty³SŒ
(
t
è<< 
b¿ck‘s
[1];

821  
	gos
;

825 cÚ¡ * 
	guniÚCÏss
::
ty³SŒ
(
uniÚCÏss
::
¬gTy³
 
©
)

827 
©
)

829 
uniÚCÏss
::
boŞ_t
:  "bool";

830 
	guniÚCÏss
::
ch¬_t
:  "char";

831 
	guniÚCÏss
::
¡r_t
:  "string";

832 
	guniÚCÏss
::
št_t
:  "integer";

833 
	guniÚCÏss
::
æßt_t
:  "float";

834 
	guniÚCÏss
::
doubË_t
:  "double";

835 
	guniÚCÏss
::
aùiÚ_t
:  "";

841 
	go¡»am
& 
	gİ”©Ü
 << (o¡»am& 
	gos
, 
ARGS
* 
	g¬gs
)

843 
ARGS
* 
	g¬gs_™”
 = 
¬gs
;

844 
	g¬gs_™”
->
	gæag
 !ğ
NULL
)

846 
os
 << *
¬gs_™”
;

847 
	g¬gs_™”
 ++;

849  
	gos
;

853 
	go¡»am
& 
	gİ”©Ü
 << (o¡»am& 
	gos
, 
	gARGS
& 
	g¬g
)

855 ià(!
	gARGS
::
noFÏgP
(
¬g
.
æag
))

856 
os
 << 
¬g
.
æag
;

857 
	gos
 << ':';

858 
	gos
 << 
	guniÚCÏss
::
ty³SŒ
(
¬g
.
uc
.
ty³
) << " = ";

859 
	g¬g
.
	guc
.
	gty³
)

861 
	guniÚCÏss
::
boŞ_t
:

862 
os
 << 
¬g
.
uc
.
±r
->
boŞ—n
; ;

863 
	guniÚCÏss
::
ch¬_t
:

864 
os
 << 
¬g
.
uc
.
±r
->
ch
; ;

865 
	guniÚCÏss
::
¡r_t
:

866 
os
 << (
¬g
.
uc
.
±r
->
¡ršg
 =ğ
NULL
 ? "" :‡rg.uc.ptr->string); ;

867 
	guniÚCÏss
::
št_t
:

868 
os
 << 
¬g
.
uc
.
±r
->
š‹g”
; ;

869 
	guniÚCÏss
::
æßt_t
:

870 
os
 << 
¬g
.
uc
.
±r
->
sšgË_´ec
; ;

871 
	guniÚCÏss
::
doubË_t
:

872 
os
 << 
¬g
.
uc
.
±r
->
doubË_´ec
; ;

873 
	guniÚCÏss
::
aùiÚ_t
:

878 
	gos
 << "; // " << ((
	g¬g
.
	gdesütiÚ
 =ğ
NULL
è? "" : 
¬g
.
desütiÚ
)

880  
	gos
;

887 
	gARGS
::
	$·r£
(
¬gc
, ** 
¬gv
, *& 
¬gsF•
, 
o¡»am
* 
´out
)

889 
pout
=
´out
;

890 
ArgsR‘Code
 
rc
;

891 
rc
 = 
	`·r£FromCommªdLše
(
¬gc
,
¬gv
);

892 ià(
¬gsF•
 !ğ
NULL
)

893 
rc
 = 
	`·r£FromFe
(
¬gsF•
);

894 ià(
rc
 =ğ
ARG_MISSING
)

895 
ARGS
::
	`´štMissšg
();

896 ià(
rc
 !ğ
ARG_OK
)

898 
ARGS
::
	`u§ge
();

899 ::
	`ex™
(1);

902 ià(!
pout
) ;

903 
ARGS
* 
¬gs_™”
 = 
Args
;

904 *
pout
 << "-----------------…¬am‘” ----------------" << 
’dl
;

905 
¬gs_™”
->
æag
 !ğ
NULL
)

907 
¬gs_™”
->
uc
.
ty³
)

909 
uniÚCÏss
::
boŞ_t
:

911 *
pout
 << "-" << 
¬gs_™”
->
æag
 << " = " <<‡rgs_™”->
uc
.
±r
->
boŞ—n


912 << 
’dl
;

915 
uniÚCÏss
::
ch¬_t
:

917 *
pout
 << "-" << 
¬gs_™”
->
æag
 << " = " <<‡rgs_™”->
uc
.
±r
->
ch
<<
’dl
;

920 
uniÚCÏss
::
¡r_t
:

922 cÚ¡ * 
¡r
=(
¬gs_™”
->
uc
.
±r
->
¡ršg
) ?args_iter->uc.ptr->string:"";

923 *
pout
 << "-" << 
¬gs_™”
->
æag
 << " = " << 
¡r
 << 
’dl
;

926 
uniÚCÏss
::
št_t
:

928 *
pout
 << "-" << 
¬gs_™”
->
æag
 << " = " <<‡rgs_™”->
uc
.
±r
->
š‹g”


929 << 
’dl
;

932 
uniÚCÏss
::
ušt_t
:

934 *
pout
 << "-" << 
¬gs_™”
->
æag
 << " = " <<‡rgs_™”->
uc
.
±r
->
uš‹g”


935 << 
’dl
;

938 
uniÚCÏss
::
æßt_t
:

940 *
pout
 << "-" << 
¬gs_™”
->
æag
 << " = "

941 << 
¬gs_™”
->
uc
.
±r
->
sšgË_´ec
 << 
’dl
;

944 
uniÚCÏss
::
doubË_t
:

946 *
pout
 << "-" << 
¬gs_™”
->
æag
 << " = "

947 << 
¬gs_™”
->
uc
.
±r
->
doubË_´ec
 << 
’dl
;

952 
cout
 << "unknowÀ·¿m" << 
’dl
;

955 
¬gs_™”
++;

957 *
pout
 << "-----------------ƒnd oà·¿m‘” ----------------" << 
’dl
;

959 
	}
}

962 
	g¬gsAùiÚ
::
AùiÚR‘Code
 
¬gsAùiÚ
::
	$§tisfy
(* 
æag
)

964 
ARGS
* 
¬gs_™”
;

965 
¬gs_™”
 = 
ARGS
::
	`fšdM©ch
(ARGS::
Args
,
æag
);

966 ià(
¬gs_™”
 =ğ
NULL
 ||‡rgs_™” =ğ(
ARGS
*)(-1))

967  
ERR
;

968 
ARGS
::
found
[
¬gs_™”
 - ARGS::
Args
] = 
Œue
;

969  
OK
;

970 
	}
}

973 
	g¬gsAùiÚ
::
AùiÚR‘Code


974 
¬gsAùiÚ
::
£tArg
(* 
æag
, 
uniÚCÏss
::
¬gTy³
 
t
, uniÚCÏss::
¬gU
 
au
)

976 
ARGS
* 
¬gs_™”
;

977 
	g¬gs_™”
 = 
ARGS
::
fšdM©ch
(ARGS::
Args
,
æag
);

978 ià(
	g¬gs_™”
 =ğ
NULL
 || 
¬gs_™”
 =ğ(
ARGS
*)(-1))

979  
ERR
;

980 ià(
	g¬gs_™”
->
	guc
.
	gty³
 !ğ
t
)

981  
ERR
;

982 
	gARGS
::
found
[
¬gs_™”
 - 
ARGS
::
Args
] = 
Œue
;

983 
	gt
)

985 
	guniÚCÏss
::
boŞ_t
:

986 
¬gs_™”
->
uc
.
±r
->
boŞ—n
 = 
au
.boolean;

987 ià(
	g¬gs_™”
->
	gaùiÚ
 !ğ
NULL
)

988 
¬gs_™”
->
aùiÚ
->
aù
×rgs_™”->
uc
.
±r
->
boŞ—n
);

990 
	guniÚCÏss
::
ch¬_t
:

991 
¬gs_™”
->
uc
.
±r
->
ch
 = 
au
.ch;

992 ià(
	g¬gs_™”
->
	gaùiÚ
 !ğ
NULL
)

993 
¬gs_™”
->
aùiÚ
->
aù
×rgs_™”->
uc
.
±r
->
ch
);

995 
	guniÚCÏss
::
¡r_t
:

996 
¬gs_™”
->
uc
.
±r
->
¡ršg
 = 
au
.string;

997 ià(
	g¬gs_™”
->
	gaùiÚ
 !ğ
NULL
)

998 
¬gs_™”
->
aùiÚ
->
aù
×rgs_™”->
uc
.
±r
->
¡ršg
);

1000 
	guniÚCÏss
::
št_t
:

1001 
¬gs_™”
->
uc
.
±r
->
š‹g”
 = 
au
.integer;

1002 ià(
	g¬gs_™”
->
	gaùiÚ
 !ğ
NULL
)

1003 
¬gs_™”
->
aùiÚ
->
aù
×rgs_™”->
uc
.
±r
->
š‹g”
);

1005 
	guniÚCÏss
::
æßt_t
:

1006 
¬gs_™”
->
uc
.
±r
->
sšgË_´ec
 = 
au
.single_prec;

1007 ià(
	g¬gs_™”
->
	gaùiÚ
 !ğ
NULL
)

1008 
¬gs_™”
->
aùiÚ
->
aù
×rgs_™”->
uc
.
±r
->
sšgË_´ec
);

1010 
	guniÚCÏss
::
doubË_t
:

1011 
¬gs_™”
->
uc
.
±r
->
doubË_´ec
 = 
au
.double_prec;

1012 ià(
	g¬gs_™”
->
	gaùiÚ
 !ğ
NULL
)

1013 
¬gs_™”
->
aùiÚ
->
aù
×rgs_™”->
uc
.
±r
->
doubË_´ec
);

1015 
	guniÚCÏss
::
aùiÚ_t
:

1020  
	gOK
;

1024 
	g¬gsAùiÚ
::
AùiÚR‘Code
 
¬gsAùiÚ
::
	$£tArg
(* 
æag
, 
boŞ
 
b
)

1026 
uniÚCÏss
::
¬gU
 
au
;

1027 
au
.
boŞ—n
 = 
b
;

1028  
	`£tArg
(
æag
,
uniÚCÏss
::
boŞ_t
,
au
);

1029 
	}
}

1032 
	g¬gsAùiÚ
::
AùiÚR‘Code
 
¬gsAùiÚ
::
	$£tArg
(* 
æag
,
c
)

1034 
uniÚCÏss
::
¬gU
 
au
;

1035 
au
.
ch
 = 
c
;

1036  
	`£tArg
(
æag
,
uniÚCÏss
::
ch¬_t
,
au
);

1037 
	}
}

1040 
	g¬gsAùiÚ
::
AùiÚR‘Code
 
¬gsAùiÚ
::
	$£tArg
(* 
æag
, * 
¡r
)

1042 
uniÚCÏss
::
¬gU
 
au
;

1043 
au
.
¡ršg
 = 
¡r
;

1044  
	`£tArg
(
æag
,
uniÚCÏss
::
¡r_t
,
au
);

1045 
	}
}

1048 
	g¬gsAùiÚ
::
AùiÚR‘Code
 
¬gsAùiÚ
::
	$£tArg
(* 
æag
, 
i
)

1050 
uniÚCÏss
::
¬gU
 
au
;

1051 
au
.
š‹g”
 = 
i
;

1052  
	`£tArg
(
æag
,
uniÚCÏss
::
št_t
,
au
);

1053 
	}
}

1056 
	g¬gsAùiÚ
::
AùiÚR‘Code
 
¬gsAùiÚ
::
	$£tArg
(* 
æag
,
f
)

1058 
uniÚCÏss
::
¬gU
 
au
;

1059 
au
.
sšgË_´ec
 = 
f
;

1060  
	`£tArg
(
æag
,
uniÚCÏss
::
æßt_t
,
au
);

1061 
	}
}

1064 
	g¬gsAùiÚ
::
AùiÚR‘Code
 
¬gsAùiÚ
::
	$£tArg
(* 
æag
,
d
)

1066 
uniÚCÏss
::
¬gU
 
au
;

1067 
au
.
doubË_´ec
 = 
d
;

1068  
	`£tArg
(
æag
,
uniÚCÏss
::
doubË_t
,
au
);

1069 
	}
}

1072 #ifdeà
MAIN


1074 şas 
	cmyAùiÚ
 : 
public
 
¬gsAùiÚ


1076 * 
¡r
;

1077 
	mpublic
:

1078 
	$myAùiÚ
(*
a
è{ 
¡r
 =‡; }

1080 
	$aù
(è{ 
cout
 << "IÀvoid myAùiÚ::aù(è:" << 
¡r
 << '\n'; 
	}
}

1082 
	$aù
(
boŞ
& 
b
)

1084 
cout
 << "IÀvoid myAùiÚ::aù(boŞ&), b = " << 
b
 << ": " << 
¡r
 << '\n';

1085 
	}
}

1087 
	$aù
(& 
f
)

1089 
cout
 << "IÀvoid myAùiÚ::aù(æßt&), f = " << 
f
 << ": " << 
¡r
 << '\n';

1090 
	`£tArg
("doub",()
f
);

1091 
	}
}

1095 
	gbufSize
 = 3;

1096 
	gbuffSize
 = 3;

1097 * 
	gbÏ
 = "BARSTR";

1098 
boŞ
 
	gŒuth
 = 
çl£
;

1099 
	gchr
 = 'c';

1100 
	gæt
 = 2.3;

1101 
	gdob
 = .4;

1102 
boŞ
 
	gtoggË1
 = 
çl£
;

1103 
boŞ
 
	gtoggË2
 = 
Œue
;

1105 * 
	gnf¡r
 = "OSTRTesting";

1106 
	gnfšt
 = 5;

1107 
boŞ
 
	gnfboŞ
 = 
çl£
;

1108 
	gnfch¬
 = 'C';

1109 
	gnfæßt
 = 3.4;

1110 
	gnfdoubË
 = 4.5;

1112 * 
	g¬gsFe
 = 
NULL
;

1114 
myAùiÚ
 
ma1
("toggle 2‡ction");

1115 
myAùiÚ
 
ma2
("action 1‡ction");

1116 
myAùiÚ
 
ma3
("set doub‡ction");

1118 
ARGS
 
	gARGS
::
Args
[] =

1120 
ARGS
("buffSize",ARGS::
Req
, 
buffSize
, "The buffer size"),

1121 
ARGS
("bufSize", ARGS::
Req
, 
bufSize
, "The bufer size"),

1122 
ARGS
("bÏ", ARGS::
O±
, 
bÏ
, "The bla"),

1123 
ARGS
("Œuth", ARGS::
O±
, 
Œuth
, "Aruth value"),

1124 
ARGS
("ch¬s", ARGS::
O±
, 
chr
, "A char"),

1125 
ARGS
("sšg", ARGS::
O±
, 
æt
, "A sšgË…»c", 
ma3
),

1126 
ARGS
("doub", ARGS::
Req
, 
dob
, "A double…rec"),

1127 
ARGS
("toggË1", ARGS::
Tog
, 
toggË1
, "toggle1"),

1128 
ARGS
("toggË2", ARGS::
Tog
, 
toggË2
, "toggË2", 
ma1
),

1129 
ARGS
("aùiÚ", ARGS::
O±
, 
ma2
, "action 1"),

1130 
ARGS
("¬gsFe",ARGS::
O±
, 
¬gsFe
, "Arguments file"),

1135 
ARGS
(ARGS::
Req
, 
nf¡r
, "No flag string"),

1136 
ARGS
(ARGS::
O±
, 
nfšt
, "No flag int"),

1137 
ARGS
(ARGS::
O±
, 
nfboŞ
, "No flag bool"),

1138 
ARGS
(ARGS::
O±
, 
nfch¬
, "No flag char"),

1139 
ARGS
(ARGS::
O±
, 
nfæßt
, "No flag float"),

1140 
ARGS
(ARGS::
O±
, 
nfdoubË
, "No flag double"),

1144 
ARGS
()

1148 
	$maš
(
¬gc
, * 
¬gv
[])

1150 
ARGS
::
	`·r£
(
¬gc
,
¬gv
,
¬gsFe
);

1151 
cout
 << 
ARGS
::
Args
;

1152 
	}
}

	@util/arguments.h

84 #iâdeà
ARGS_h


85 
	#ARGS_h


	)

90 
	~<io¡»am
>

91 
usšg
 
Çme¥aû
 
	g¡d
;

98 
şass
 
	gARGS
;

99 
şass
 
	g¬gsAùiÚ
;

100 
o¡»am
& 
İ”©Ü
 << (o¡»am& 
os
, 
ARGS
*);

101 
o¡»am
& 
İ”©Ü
 << (o¡»am& 
os
, 
ARGS
&);

104 şas 
	cuniÚCÏss


106 
ä›nd
 
şass
 
	mARGS
;

107 
ä›nd
 
şass
 
	m¬gsAùiÚ
;

108 
ä›nd
 
	mo¡»am
& 
	mİ”©Ü
 << (o¡»am&, 
	mARGS
*);

109 
ä›nd
 
	mo¡»am
& 
	mİ”©Ü
 << (o¡»am&, 
	mARGS
&);

111 
	mpublic
:

112 
	e¬gTy³


113 { 
boŞ_t
, 
	mch¬_t
, 
	m¡r_t
, 
	mšt_t
, 
	mušt_t
, 
	mæßt_t
, 
	mdoubË_t
, 
	maùiÚ_t
 };

115 
	g´iv©e
:

116 
	u¬gU


118 
boŞ
 
boŞ—n
;

119 
	gch
;

120 * 
	g¡ršg
;

121 
	gš‹g”
;

122 
	guš‹g”
;

123 
	gsšgË_´ec
;

124 
	gdoubË_´ec
;

125 
¬gsAùiÚ
* 
	gaùiÚ
;

128 
¬gU
* 
	g±r
;

129 
¬gTy³
 
	gty³
;

130 cÚ¡ * 
ty³SŒ
(
uniÚCÏss
::
¬gTy³
);

131 
ä›nd
 
	go¡»am
& 
	gİ”©Ü
 << (o¡»am&, 
	guniÚCÏss
::
¬gTy³
&);

133 
	gpublic
:

134 
	$uniÚCÏss
(
boŞ
& 
b
è{ 
±r
 = (
¬gU
*)&b; 
ty³
 = 
boŞ_t
; 
	}
}

135 
	$uniÚCÏss
(& 
c
è{ 
±r
 = (
¬gU
*)&c; 
ty³
 = 
ch¬_t
; 
	}
}

136 
	$uniÚCÏss
(*& 
s
è{ 
±r
 = (
¬gU
*)&s; 
ty³
 = 
¡r_t
; 
	}
}

137 
	$uniÚCÏss
(& 
i
è{ 
±r
 = (
¬gU
*)&i; 
ty³
 = 
št_t
; 
	}
}

138 
	$uniÚCÏss
(& 
i
è{ 
±r
 = (
¬gU
*)&i; 
ty³
 = 
ušt_t
; 
	}
}

139 
	$uniÚCÏss
(& 
f
è{ 
±r
 = (
¬gU
*)&f; 
ty³
 = 
æßt_t
; 
	}
}

140 
	$uniÚCÏss
(& 
d
è{ 
±r
 = (
¬gU
*)&d; 
ty³
 = 
doubË_t
; 
	}
}

141 
	$uniÚCÏss
(
¬gsAùiÚ
& 
a
è{ 
±r
 = (
¬gU
*)&a; 
ty³
 = 
aùiÚ_t
; 
	}
}

145 
o¡»am
& 
İ”©Ü
 << (o¡»am&, 
uniÚCÏss
::
¬gTy³
&);

147 şas 
	c¬gsAùiÚ


149 
	eAùiÚR‘Code
 { 
	mOK
, 
	mERR
 };

150 
	gpublic
:

151 
vœtu®
 ~
	$¬gsAùiÚ
(è{
	}
}

152 
´iv©e
:

153 
AùiÚR‘Code
 
£tArg
(*, 
uniÚCÏss
::
¬gTy³
, uniÚCÏss::
¬gU
);

155 
	g´Ùeùed
:

156 
AùiÚR‘Code
 
£tArg
(*, 
boŞ
);

157 
AùiÚR‘Code
 
£tArg
(*, );

158 
AùiÚR‘Code
 
£tArg
(*, *);

159 
AùiÚR‘Code
 
£tArg
(*, );

160 
AùiÚR‘Code
 
£tArg
(*, );

161 
AùiÚR‘Code
 
£tArg
(*, );

162 
AùiÚR‘Code
 
§tisfy
(*);

164 
	gpublic
:

165 
vœtu®
 
	$aù
(è{
	}
}

166 
vœtu®
 
	$aù
(
boŞ
& 
b
è{ b = b;
	}
}

167 
vœtu®
 
	$aù
(& 
c
è{ c = c; 
	}
}

168 
vœtu®
 
	$aù
(*& 
¡r
è{ sŒ = sŒ; 
	}
}

169 
vœtu®
 
	$aù
(& 
i
è{ i = i; 
	}
}

170 
vœtu®
 
	$aù
(& 
ui
è{ u˜ğui; 
	}
}

171 
vœtu®
 
	$aù
(& 
f
è{ f = f; 
	}
}

172 
vœtu®
 
	$aù
(& 
d
è{ d = d; 
	}
}

177 şas 
	cARGS


179 
ä›nd
 
şass
 
	muniÚCÏss
;

180 
ä›nd
 
şass
 
	m¬gsAùiÚ
;

182 
	mpublic
:

184 
	e¬gKšd
 { 
O±
, 
	mReq
, 
	mTog
 };

185 
	eArgsR‘Code
 { 
	gARG_MISSING
, 
	gARG_OK
, 
	gARG_ERR
 };

186 
ARGS
 
	gArgs
[];

187 
ARGS
 
	gEND
;

189 
	g´iv©e
:

191 * cÚ¡ 
NOFLAG
;

192 * cÚ¡ 
	gNOFL_FOUND
;

193 cÚ¡ 
	gComm’tCh¬
;

194 
boŞ
 
	gu§ge_ÿÎed
;

195 
	gnumArgs
;

196 
boŞ
* 
	gfound
;

197 * 
	g´ogName
;

198 
boŞ
 
	gignÜeUnknownSw™ch
;

201 cÚ¡ * 
	gæag
;

202 
¬gKšd
 
	g¬g_kšd
;

203 
uniÚCÏss
 
	guc
;

204 cÚ¡ * 
	gdesütiÚ
;

205 
¬gsAùiÚ
* 
	gaùiÚ
;

208 
¬gsAùiÚ
 
	gno_aùiÚ
;

209 
boŞ
 
	g__¬gs__dummy__
;

211 
o¡»am
* 
	gpout
;

213 
	gpublic
:

214 
ARGS
(cÚ¡ *,
¬gKšd
, 
uniÚCÏss
, cÚ¡ *
d
=
NULL
,

215 
¬gsAùiÚ
&
a
=
no_aùiÚ
);

216 
ARGS
(
¬gKšd
, 
uniÚCÏss
, cÚ¡ *
d
=
NULL
, 
¬gsAùiÚ
&
a
=
no_aùiÚ
);

217 
ARGS
(
uniÚCÏss
, cÚ¡ *
d
=
NULL
, 
¬gsAùiÚ
&
a
=
no_aùiÚ
);

218 
ARGS
(const ARGS&);

219 
ARGS
();

221 
ş—nUp
();

222 
ArgsR‘Code
 
·r£FromCommªdLše
(,**);

223 
ArgsR‘Code
 
·r£FromFe
(*
f
="argsFile");

224 
·r£
(, **, *&, 
o¡»am
* 
´out
=
NULL
);

225 
	$·r£
(
i
, **
c
, 
o¡»am
* 
´out
=
NULL
)

226 { *
d
=
NULL
; 
	`·r£
(
i
,
c
,d, 
´out
); 
	}
}

227 
	$´štMissšg
(è{ 
	`checkMissšg
(
Œue
); 
	}
}

228 
u§ge
(
boŞ
 
fÜû
=
çl£
);

229 
	$ignÜeUnknownFÏg
(è{ 
ignÜeUnknownSw™ch
 = 
Œue
; 
	}
}

230 
	$»g¬dUnknownFÏg
(è{ 
ignÜeUnknownSw™ch
 = 
çl£
; 
	}
}

232 
	g´iv©e
:

233 
š™
(cÚ¡ *, 
¬gKšd
, cÚ¡ *, 
¬gsAùiÚ
&);

234 
E¼Ü
(cÚ¡ *, cÚ¡ *
s2
=
NULL
, cÚ¡ *
s3
=NULL,

235 cÚ¡ *
s4
=
NULL
, cÚ¡ *
s5
=NULL);

237 
boŞ
 
noFÏgP
(const *);

238 
ArgsR‘Code
 
¬gsSw™ch
(
ARGS
*, *, &, 
boŞ
&, const *);

239 
ARGS
* 
fšdM©ch
(ARGS*, *);

240 
makeFound
();

241 
boŞ
 
checkMissšg
(boŞ 
´štMes§ge
=
çl£
);

242 
boŞ
 
boŞabË
(* 
¡ršg
, boŞ&
v®ue
);

243 
ä›nd
 
	go¡»am
& 
	gİ”©Ü
 << (o¡»am&,
	gARGS
*);

244 
ä›nd
 
	go¡»am
& 
	gİ”©Ü
 << (o¡»am&,
	gARGS
&);

	@util/array.h

66 #iâdeà
ARRAY_H_JUN_21_2005


67 
	#ARRAY_H_JUN_21_2005


	)

69 
	~<¡dlib.h
>

70 
	~<as£¹.h
>

71 
	~<io¡»am
>

72 
	~"¿ndom.h
"

73 
usšg
 
Çme¥aû
 
	g¡d
;

76 
	g‹m¶©e
 <
ty³Çme
 
	gTy³
>

77 şas 
	cA¼ay


79 
	mpublic
:

80 
	$A¼ay
(cÚ¡ & 
š™Size
=0)

82 
™ems_
 = 
NULL
;

83 
maxI‹ms_
 = 0;

84 
numI‹ms_
 = 0;

85 ià(
š™Size
 > 0è
	`®loÿ‹MemÜy
(initSize);

88 
	$A¼ay
(cÚ¡ & 
š™Size
, cÚ¡ 
Ty³
& 
fl
)

90 
™ems_
 = 
NULL
;

91 
maxI‹ms_
 = 0;

92 
numI‹ms_
 = 0;

93 
	`growToSize
(
š™Size
, 
fl
);

94 
	}
}

99 
	$A¼ay
(
Ty³
* 
d©a
, 
numd©a
)

101 
™ems_
 = 
d©a
;

102 
maxI‹ms_
 = 
numd©a
;

103 
numI‹ms_
 = 
numd©a
;

104 
	}
}

107 
A¼ay
(cÚ¡ A¼ay<
Ty³
>& 
x
)

109 ià(
	gx
.
	gnumI‹ms_
 == 0)

111 
™ems_
 = 
NULL
;

112 
	gmaxI‹ms_
 = 0;

113 
	gnumI‹ms_
 = 0;

114 
®loÿ‹MemÜy
(0);

117 
	g™ems_
 = 
Ãw
 
Ty³
[
x
.
numI‹ms_
];

120 
	gi
 = 0; i < 
	gx
.
	gnumI‹ms_
; i++è
	g™ems_
[
i
] = 
x
.
™ems_
[i];

121 
	gnumI‹ms_
 = 
x
.
numI‹ms_
;

122 
	gmaxI‹ms_
 = 
numI‹ms_
;

126 
	gA¼ay
<
	gTy³
>& 
	gİ”©Ü
=(cÚ¡ 
A¼ay
<
Ty³
>& 
x
)

128 ià(
™ems_
 =ğ
x
.items_) {

129  *
this
;

132 ià(
	g™ems_
) {

133 
	gd–‘e
 [] 
	g™ems_
;

137 ià(
	gx
.
	gnumI‹ms_
 == 0)

139 
™ems_
 = 
NULL
;

140 
	gmaxI‹ms_
 = 0;

141 
	gnumI‹ms_
 = 0;

142 
®loÿ‹MemÜy
(0);

143  *
	gthis
;

145 
	g™ems_
 = 
Ãw
 
Ty³
[
x
.
numI‹ms_
];

148 
	gi
 = 0; i < 
	gx
.
	gnumI‹ms_
; i++è
	g™ems_
[
i
] = 
x
.
™ems_
[i];

149 
	gnumI‹ms_
 = 
x
.
numI‹ms_
;

150 
	gmaxI‹ms_
 = 
numI‹ms_
;

152  *
	gthis
;

157 ~
	$A¼ay
(è{ ià(
™ems_
è
d–‘e
 [] i‹ms_; 
	}
}

161 
	$­³nd
(
Ty³
 
™em
)

163 ià(
numI‹ms_
 =ğ
maxI‹ms_
)

164 
	`®loÿ‹MemÜy
(
maxI‹ms_
*2+1);

165 
™ems_
[
numI‹ms_
++] = 
™em
;

166  
numI‹ms_
-1;

167 
	}
}

170 
­³nd
(cÚ¡ 
A¼ay
<
Ty³
>& 
ÃwI‹ms
)

172 
	gÜigSize
 = 
numI‹ms_
;

173 
	gÃwI‹msSize
 = 
ÃwI‹ms
.
numI‹ms_
;

174 
growToSize
(
ÜigSize
+
ÃwI‹msSize
);

177 
	gi
 = 0; i<
	gÃwI‹msSize
;i++è
	g™ems_
[
ÜigSize
+
i
] = 
ÃwI‹ms
.
™ems_
[i];

182 
­³nd
(cÚ¡ 
A¼ay
<
Ty³
>* cÚ¡ & 
™ems
) {‡ppend(*items); }

185 
cİyFrom
(cÚ¡ 
A¼ay
<
Ty³
>& 
™ems
è{ 
ş—r
(); 
­³nd
(items); }

188 
boŞ
 
	$growToSize
(cÚ¡ & 
ÃwSize
)

190 ià(
ÃwSize
 <ğ
numI‹ms_
è 
çl£
;

192 ià(
ÃwSize
 <ğ
maxI‹ms_
)

193 
numI‹ms_
 = 
ÃwSize
;

196 
	`®loÿ‹MemÜy
(
ÃwSize
);

197 
numI‹ms_
 = 
ÃwSize
;

199  
Œue
;

200 
	}
}

203 
boŞ
 
	$growToSize
(cÚ¡ & 
ÃwSize
, 
Ty³
 
fl
)

205 ià(
ÃwSize
 <ğ
numI‹ms_
è 
çl£
;

206 
ÜigNumI‹ms
 = 
numI‹ms_
;

207 
	`growToSize
(
ÃwSize
);

208 
i
 = 
ÜigNumI‹ms
; i < 
numI‹ms_
; i++)

209 
™ems_
[
i
] = 
fl
;

210  
Œue
;

211 
	}
}

214 
boŞ
 
	$shrškToSize
(cÚ¡ & 
ÃwSize
)

216 ià(
ÃwSize
 >ğ
numI‹ms_
è 
çl£
;

217 
	`®loÿ‹MemÜy
(
ÃwSize
);

218 
numI‹ms_
 = 
ÃwSize
;

219  
Œue
;

220 
	}
}

223 
	$ş—r
(è{ 
numI‹ms_
 = 0; 
	}
}

224 
	$ş—rAndCom´ess
(è{ 
numI‹ms_
 = 0; 
	`com´ess
(); 
	}
}

229 
	$d–‘eI‹msAndCË¬
()

231 
i
 = 0; i < 
numI‹ms_
; i++)

232 ià(
™ems_
[
i
]è
d–‘e
 items_[i];

233 
	`ş—r
();

234 
	}
}

239 
	$d–‘eI‹msAndCË¬Com´ess
()

241 
i
 = 0; i < 
numI‹ms_
; i++)

242 ià(
™ems_
[
i
]è
d–‘e
 items_[i];

243 
	`ş—r
();

244 
	`com´ess
();

245 
	}
}

248 
	$size
(ècÚ¡ {  
numI‹ms_
; 
	}
}

250 
	$maxI‹ms
(ècÚ¡ {  
maxI‹ms_
; 
	}
}

252 
boŞ
 
	$em±y
(ècÚ¡ {  
	`size
()==0; 
	}
}

255 
	gTy³
& 
	$™em
(cÚ¡ & 
šdex
) const

257 
	`as£¹
(
šdex
 < 
numI‹ms_
);

258  
™ems_
[
šdex
];

259 
	}
}

262 
	gTy³
& 
	gİ”©Ü
[](cÚ¡ & 
	gšdex
ècÚ¡ {  
™em
(
šdex
); }

265 
	gTy³
& 
	$Ï¡I‹m
(ècÚ¡ {  
™ems_
[
numI‹ms_
-1]; 
	}
}

269 cÚ¡ 
Ty³
* 
	$g‘I‹ms
(ècÚ¡ {  
™ems_
; 
	}
}

281 
	$fšd
(
Ty³
 cÚ¡ & 
™em
) const

283 
i
 = 0; i < 
numI‹ms_
; i++)

284 ià(
™ems_
[
i
] =ğ
™em
)  i;

286 
	}
}

290 
boŞ
 
	$cÚšs
(
Ty³
 cÚ¡ & 
™em
ècÚ¡ {  
	`fšd
(™emè>ğ0;
	}
}

296 
boŞ
 
	$­³ndUnique
(
Ty³
 
™em
)

298 ià(!
	`cÚšs
(
™em
))

300 
	`­³nd
(
™em
);

301  
Œue
;

303  
çl£
;

304 
	}
}

307 
­³ndUnique
(
A¼ay
<
Ty³
>& 
™ems
)

309 
	gi
 = 0; i < 
	g™ems
.
size
(); i++)

310 
­³ndUnique
(
™ems
.
™em
(
i
));

314 
­³ndUnique
(
A¼ay
<
Ty³
>* 
™ems
) {‡ppendUnique(*items); }

317 
	$»moveAÎNuÎ
()

321 
cu¼’tIndex
 = 0;

322 
i
 = 0; i < 
numI‹ms_
; i++)

324 ià(
	`™em
(
i
è!ğ
NULL
)

325 
	`™em
(
cu¼’tIndex
++èğ™em(
i
);

327 
numI‹ms_
 = 
cu¼’tIndex
;

328 
	}
}

331 
Ty³
 
	$»moveI‹m
(cÚ¡ & 
šdex
)

333 
Ty³
 
»movedI‹m
 = 
	`™em
(
šdex
);

334 
i
 = 
šdex
+1; i < 
numI‹ms_
; i++è
™ems_
[i-1] = items_[i];

335 
numI‹ms_
--;

336  
»movedI‹m
;

344 
	}
}

347 
Ty³
 
	$»moveLa¡I‹m
(è{  
	`»moveI‹m
(
numI‹ms_
-1); 
	}
}

352 
Ty³
 
	$»moveI‹mFa¡DisÜd”
(cÚ¡ & 
šdex
)

354 
Ty³
 
»movedI‹m
 = 
	`™em
(
šdex
);

355 
	`™em
(
šdex
èğ™em(
numI‹ms_
-1);

356 
numI‹ms_
--;

357  
»movedI‹m
;

358 
	}
}

362 
	$com´ess
(è{ ià(
maxI‹ms_
 > 
numI‹ms_
è
	`®loÿ‹MemÜy
ÒumI‹ms_); 
	}
}

366 
	$shufæe
()

368 
i
 = 0; i < 
numI‹ms_
; i++)

371 
sw­w™h
 = 
Rªdom
::
	`¿ndomOÃOf
(
numI‹ms_
);

372 
Ty³
 
tmp
;

373 
tmp
 = 
™ems_
[
i
];

374 
™ems_
[
i
] = i‹ms_[
sw­w™h
];

375 
™ems_
[
sw­w™h
] = 
tmp
;

377 
	}
}

381 
	$g‘MaxIndex
()

383 
	`as£¹
(
numI‹ms_
 > 0);

384 
max
 = 0;

385 
i
 = 1; i < 
numI‹ms_
; i++)

387 ià(
™ems_
[
i
] > i‹ms_[
max
])

388 
max
 = 
i
;

390  
max
;

391 
	}
}

395 
Ty³
 
	$g‘MaxV®ue
()

397 
	`as£¹
(
numI‹ms_
 > 0);

398 
Ty³
 
max
 = 
™ems_
[0];

399 
i
 = 1; i < 
numI‹ms_
; i++)

401 ià(
™ems_
[
i
] > 
max
)

402 
max
 = 
™ems_
[
i
];

404  
max
;

405 
	}
}

409 
	$quicksÜt
(è{ 
	`quicksÜt
(0,
numI‹ms_
-1); 
	}
}

412 
	$rquicksÜt
(è{ 
	`rquicksÜt
(0,
numI‹ms_
-1); 
	}
}

415 
	$bubbËSÜt
()

417 
Ty³
 
‹mpI‹m
;

418 
i
 = 0; i < 
numI‹ms_
; i++)

419 
j
 = 
i
+1; j < 
numI‹ms_
; j++)

420 ià(
™ems_
[
i
] > i‹ms_[
j
])

422 
‹mpI‹m
 = 
™ems_
[
i
];

423 
™ems_
[
i
] = i‹ms_[
j
];

424 
™ems_
[
j
] = 
‹mpI‹m
;

426 
	}
}

430 
	$rbubbËSÜt
()

432 
Ty³
 
‹mpI‹m
;

433 
i
 = 0; i < 
numI‹ms_
; i++)

434 
j
 = 
i
+1; j < 
numI‹ms_
; j++)

435 ià(
™ems_
[
i
] < i‹ms_[
j
])

437 
‹mpI‹m
 = 
™ems_
[
i
];

438 
™ems_
[
i
] = i‹ms_[
j
];

439 
™ems_
[
j
] = 
‹mpI‹m
;

441 
	}
}

445 
	g´iv©e
:

446 
	$Œunÿ‹
(cÚ¡ & 
ÃwNumI‹ms
)

448 
	`as£¹
(
ÃwNumI‹ms
 <ğ
numI‹ms_
);

449 
numI‹ms_
 = 
ÃwNumI‹ms
;

450 
	}
}

454 
	$®loÿ‹MemÜy
(cÚ¡ & 
ÃwSize
)

456 ià(
ÃwSize
 > 0)

458 ià(
ÃwSize
 >ğ
numI‹ms_
)

460 
Ty³
* 
‹mpI‹ms
 = 
Ãw
 Ty³[
ÃwSize
];

461 ià(
numI‹ms_
 > 0)

465 
i
 = 0; i < 
numI‹ms_
; i++è
‹mpI‹ms
[i] = 
™ems_
[i];

467 ià(
™ems_
è
d–‘e
 [] items_;

468 
™ems_
 = 
‹mpI‹ms
;

469 
maxI‹ms_
 = 
ÃwSize
;

473 
Ty³
* 
‹mpI‹ms
 = 
Ãw
 Ty³[
ÃwSize
];

474 ià(
numI‹ms_
 > 0)

478 
i
 = 0; i < 
ÃwSize
; i++è
‹mpI‹ms
[i] = 
™ems_
[i];

480 ià(
™ems_
è
d–‘e
 [] items_;

481 
™ems_
 = 
‹mpI‹ms
;

482 
maxI‹ms_
 = 
ÃwSize
;

483 
numI‹ms_
 = 
ÃwSize
;

488 ià(
™ems_
è
d–‘e
 [] items_;

489 
™ems_
 = 
NULL
;

490 
maxI‹ms_
 = 0;

491 
numI‹ms_
 = 0;

493 
	}
}

496 
	$quicksÜt
(cÚ¡ & 
l
, cÚ¡ & 
r
)

498 ià(
l
 >ğ
r
) ;

499 
Ty³
 
tmp
 = 
™ems_
[
l
];

500 
™ems_
[
l
] = i‹ms_[Ö+
r
)/2];

501 
™ems_
[(
l
+
r
)/2] = 
tmp
;

503 
Ï¡
 = 
l
;

504 
i
 = 
l
+1; i <ğ
r
; i++)

505 ià(
™ems_
[
i
] < i‹ms_[
l
])

507 ++
Ï¡
;

508 
tmp
 = 
™ems_
[
Ï¡
];

509 
™ems_
[
Ï¡
] = i‹ms_[
i
];

510 
™ems_
[
i
] = 
tmp
;

513 
tmp
 = 
™ems_
[
l
];

514 
™ems_
[
l
] = i‹ms_[
Ï¡
];

515 
™ems_
[
Ï¡
] = 
tmp
;

516 
	`quicksÜt
(
l
, 
Ï¡
-1);

517 
	`quicksÜt
(
Ï¡
+1, 
r
);

518 
	}
}

521 
	$rquicksÜt
(cÚ¡ & 
l
, cÚ¡ & 
r
)

523 ià(
l
 >ğ
r
) ;

524 
Ty³
 
tmp
 = 
™ems_
[
l
];

525 
™ems_
[
l
] = i‹ms_[Ö+
r
)/2];

526 
™ems_
[(
l
+
r
)/2] = 
tmp
;

528 
Ï¡
 = 
l
;

529 
i
 = 
l
+1; i <ğ
r
; i++)

530 ià(
™ems_
[
i
] > i‹ms_[
l
])

532 ++
Ï¡
;

533 
Ty³
 
tmp
 = 
™ems_
[
Ï¡
];

534 
™ems_
[
Ï¡
] = i‹ms_[
i
];

535 
™ems_
[
i
] = 
tmp
;

538 
tmp
 = 
™ems_
[
l
];

539 
™ems_
[
l
] = i‹ms_[
Ï¡
];

540 
™ems_
[
Ï¡
] = 
tmp
;

541 
	`rquicksÜt
(
l
, 
Ï¡
-1);

542 
	`rquicksÜt
(
Ï¡
+1, 
r
);

543 
	}
}

546 
	g´iv©e
:

547 
Ty³
* 
™ems_
;

548 
	gmaxI‹ms_
;

549 
	gnumI‹ms_
;

556 
	g‹m¶©e
<
ty³Çme
 
	gT
>

557 
wr™eA¼ay
(cÚ¡ 
A¼ay
<
T
*>& 
¬¿y
, 
o¡»am
& 
out
, * 
b‘w“n
,

558 cÚ¡ & 
d–im™”
)

560 
	gout
 << 
	g¬¿y
.
size
(è<< 
	gd–im™”
;

561 
	gi
 = 0; i < 
	g¬¿y
.
size
(); i++)

563 
	g¬¿y
.
™em
(
i
)->
§ve
(
out
);

564 ià(
	gb‘w“n
è
	gout
 << between;

569 
	g‹m¶©e
<
ty³Çme
 
	gT
>

570 
wr™eA¼ay
(cÚ¡ 
A¼ay
<
T
*>& 
¬¿y
, 
o¡»am
& 
out
, * 
b‘w“n
=
NULL
)

571 { 
wr™eA¼ay
(
¬¿y
, 
out
, 
b‘w“n
, '\n'); }

574 
	g‹m¶©e
<
ty³Çme
 
	gT
>

575 
»adA¼ay
(
A¼ay
<
T
*>& 
¬¿y
, 
i¡»am
& 
š
)

577 
	gnumI‹ms
;

578 
	gš
 >> 
	gnumI‹ms
;

579 
	gi
 = 0; i < 
	gnumI‹ms
 && 
	gš
.
good
(); i++)

581 
T
* 
	gx
 = 
Ãw
 T;

582 
	gx
->
lßd
(
š
);

583 
	g¬¿y
.
­³nd
(
x
);

588 
	g‹m¶©e
<
ty³Çme
 
	gT
>

589 
wr™eA¼ay
(cÚ¡ 
A¼ay
<
T
>& 
¬¿y
, 
o¡»am
& 
out
, * 
b‘w“n
,

590 cÚ¡ & 
d–im™”
)

592 
	gout
 << 
	g¬¿y
.
Size
(è<< 
	gd–im™”
;

593 
	gi
 = 0; i < 
	g¬¿y
.
Size
(); i++)

595 
	g¬¿y
.
™em
(
i
).
§ve
(
out
);

596 ià(
	gb‘w“n
è
	gout
 << between;

601 
	g‹m¶©e
<
ty³Çme
 
	gT
>

602 
wr™eA¼ay
(cÚ¡ 
A¼ay
<
T
>& 
¬¿y
, 
o¡»am
& 
out
, * 
b‘w“n
=
NULL
)

603 { 
wr™eA¼ay
(
¬¿y
, 
out
, 
b‘w“n
, '\n'); }

606 
	g‹m¶©e
<
ty³Çme
 
	gT
>

607 
»adA¼ay
(
A¼ay
<
T
>& 
¬¿y
, 
i¡»am
& 
š
)

609 
	gnumI‹ms
;

610 
	gš
 >> 
	gnumI‹ms
;

611 
	gi
 = 0; i < 
	gnumI‹ms
 && 
	gš
.
good
(); i++)

613 
T
 
	gx
;

614 
	gx
.
lßd
(
š
);

615 
	g¬¿y
.
­³nd
(
x
);

620 
	g‹m¶©e
<
ty³Çme
 
	gT
>

621 
wr™eBasicA¼ay
(cÚ¡ 
A¼ay
<
T
>& 
¬¿y
, 
o¡»am
& 
out
, * 
b‘w“n
,

622 cÚ¡ & 
d–im™”
)

624 
	gout
 << 
	g¬¿y
.
Size
(è<< 
	gd–im™”
;

625 
	gi
 = 0; i < 
	g¬¿y
.
Size
(); i++)

627 
	gout
 << 
	g¬¿y
.
™em
(
i
) << " ";

628 ià(
	gb‘w“n
è
	gout
 << between;

633 
	g‹m¶©e
<
ty³Çme
 
	gT
>

634 
wr™eBasicA¼ay
(cÚ¡ 
A¼ay
<
T
>& 
¬¿y
, 
o¡»am
& 
out
, * 
b‘w“n
=
NULL
)

635 { 
wr™eBasicA¼ay
(
¬¿y
, 
out
, 
b‘w“n
, '\n'); }

638 
	g‹m¶©e
<
ty³Çme
 
	gT
>

639 
»adBasicA¼ay
(
A¼ay
<
T
>& 
¬¿y
, 
i¡»am
& 
š
)

641 
	gnumI‹ms
=0;

642 
	gš
 >> 
	gnumI‹ms
;

643 
	gi
 = 0; i < 
	gnumI‹ms
 && 
	gš
.
good
(); i++)

645 
T
 
	gx
;

646 
	gš
 >> 
	gx
;

647 
	g¬¿y
.
­³nd
(
x
);

649 ià(!
	gš
.
good
())

650 
	gcout
 << "ERROR:„—dBasicA¼ay(). IÅuˆnÙ good." << 
	g’dl
;

654 
	g‹m¶©e
 <
ty³Çme
 
	gty³
>

655 
	go¡»am
& 
´štA¼ay
(cÚ¡ 
A¼ay
<
ty³
>& 
¬¿y
, 
o¡»am
& 
out
)

657  
´štA¼ay
(
¬¿y
, 0, 
out
);

661 
	g‹m¶©e
 <
ty³Çme
 
	gty³
>

662 
	go¡»am
& 
´štA¼ay
(cÚ¡ 
A¼ay
<
ty³
>& 
¬¿y
, 
begšIndex
, 
o¡»am
& 
out
)

664 
	gd–im™”
 = ' ';

665 
	gi
 = 
begšIndex
; i < 
	g¬¿y
.
size
(); i++)

667 
	gout
 << 
	g¬¿y
[
i
] << 
	gd–im™”
;

669  
	gout
;

673 
	g‹m¶©e
 <
ty³Çme
 
	gty³
>

674 
g‘NumA¼ayA¼ayEËm’ts
(cÚ¡ 
A¼ay
<A¼ay<
ty³
>*> & 
–em’tsA¼
)

676 
	gnumEËm’ts
 = 0;

677 
	gi
 = 0; i < 
	g–em’tsA¼
.
size
(); i++)

679 
	gnumEËm’ts
 +ğ
–em’tsA¼
[
i
]->
size
();

681  
	gnumEËm’ts
;

	@util/arraysaccessor.h

66 #iâdeà
ARRAYSACCESSOR_H_OCT_17_2005


67 
	#ARRAYSACCESSOR_H_OCT_17_2005


	)

69 
	~"¬¿y.h
"

72 
	g‹m¶©e
 <
ty³Çme
 
	gTy³
>

73 şas 
	cA¼aysAcûssÜ


75 
	mpublic
:

76 
	$A¼aysAcûssÜ
(è: 
	`¬¿ys_
(
Ãw
 
A¼ay
<cÚ¡ A¼ay<
Ty³
>*>),

77 
	`šdexes_
(
Ãw
 
A¼ay
<>),

78 
	`™emIdx_
(0), 
	`ä“ze_
(
çl£
), 
	`»£t_
(çl£), 
	$noComb_
(
Œue
){}

80 ~
	$A¼aysAcûssÜ
(è{ 
d–‘e
 
¬¿ys_
; d–‘
šdexes_
; 
	}
}

83 
­³ndA¼ay
(cÚ¡ 
A¼ay
<
Ty³
>* cÚ¡ & 
¬r
)

85 
as£¹
(!
ä“ze_
);

86 ià(
	g¬¿ys_
->
size
() == 0)

88 ià(
¬r
->
size
(è=ğ0è
noComb_
 = 
Œue
;

89 
	gnoComb_
 = 
çl£
;

93 ià(
	g¬r
->
size
(è=ğ0è
noComb_
 = 
Œue
;

95 
	g¬¿ys_
->
­³nd
(
¬r
);

99 cÚ¡ 
	gA¼ay
<
	gTy³
>* 
	$g‘A¼ay
(cÚ¡ & 
idx
ècÚ¡ {  (*
¬¿ys_
)[idx]; 
	}
}

101 
	$g‘NumA¼ays
(ècÚ¡ {  
¬¿ys_
->
	`size
();
	}
}

104 
	$ş—r
()

106 
¬¿ys_
->
	`ş—r
();

107 
šdexes_
->
	`ş—r
();

108 
™emIdx_
 = 0;

109 
ä“ze_
 = 
çl£
;

110 
noComb_
 = 
Œue
;

111 
	}
}

114 
	$d–‘eA¼aysAndCË¬
()

116 
i
 = 0; i < 
¬¿ys_
->
	`size
(); i++)

117 
	`d–‘e
 (*
¬¿ys_
)[
i
];

118 
	`ş—r
();

119 
	}
}

123 
	$»£t
(è{ 
»£t_
 = 
Œue
; 
	}
}

128 
boŞ
 
g‘NextCombš©iÚ
(
A¼ay
<
Ty³
>& 
™emA¼
, A¼ay<>* 
idxA¼
=
NULL
)

130 ià(
noComb_
è 
çl£
;

131 ià(!
	gä“ze_
è
´•¬eAcûss
();

132 ià(
	g»£t_
è{„e£t_ = 
çl£
; 
´•¬eAcûss
(); }

133 ià((*
	gšdexes_
)[0] < 0è 
	gçl£
;

134 
	g™emA¼
.
ş—r
();

135 ià(
	gidxA¼
èidxA¼->
ş—r
();

136 
	gi
 = 0; i < 
	g¬¿ys_
->
size
(); i++)

138 
	g™emA¼
.
­³nd
Ğ(*((*
¬¿ys_
)[
i
]))[ (*
šdexes_
)[i] ] );

139 ià(
	gidxA¼
èidxA¼->
­³nd
((*
šdexes_
)[
i
]);

142 
	gi
 = 
¬¿ys_
->
size
()-1; i >= 0; i--)

144 (*
	gšdexes_
)[
i
]++;

145 ià((*
	gšdexes_
)[
i
] < (*
	g¬¿ys_
)[i]->
size
()è 
	gŒue
;

146 (*
	gšdexes_
)[
i
] = 0;

148 (*
	gšdexes_
)[0] = -1;

149  
	gŒue
;

153 
	$numI‹msInCombš©iÚ
(ècÚ¡ {  (*
¬¿ys_
)[0]->
	`size
(); 
	}
}

156 
boŞ
 
	$hasNextCombš©iÚ
()

158 ià(
noComb_
è 
çl£
;

159 ià(!
ä“ze_
è
	`´•¬eAcûss
();

160 ià(
»£t_
è{„e£t_ = 
çl£
; 
	`´•¬eAcûss
(); }

161 ià((*
šdexes_
)[0] < 0è 
çl£
;

162 
™emIdx_
 = 0;

163  
Œue
;

164 
	}
}

167 
boŞ
 
	$ÃxtI‹mInCombš©iÚ
(
Ty³
& 
™em
, &
idx
)

169 ià(
™emIdx_
 >ğ
šdexes_
->
	`size
())

171 
i
 = 
¬¿ys_
->
	`size
()-1; i >= 0; i--)

173 (*
šdexes_
)[
i
]++;

174 ià((*
šdexes_
)[
i
] < (*
¬¿ys_
)[i]->
	`size
()è 
çl£
;

175 (*
šdexes_
)[
i
] = 0;

177 (*
šdexes_
)[0] = -1;

178  
çl£
;

182 
idx
 = (*
šdexes_
)[
™emIdx_
];

183 
™em
 = (*((*
¬¿ys_
)[
™emIdx_
]))[
idx
];

184 
™emIdx_
++;

185  
Œue
;

186 
	}
}

189 
boŞ
 
	$ÃxtI‹mInCombš©iÚ
(
Ty³
& 
™em
)

191 
i
;

192  
	`ÃxtI‹mInCombš©iÚ
(
™em
,
i
);

193 
	}
}

196 
	$numCombš©iÚs
() const

198 ià(
¬¿ys_
->
	`size
() == 0)  0;

199 
n
 = 1;

200 
i
 = 0; i < 
¬¿ys_
->
	`size
(); i++)

201 
n
 *ğ(*
¬¿ys_
)[
i
]->
	`size
();

202  
n
;

203 
	}
}

206 
	g´iv©e
:

208 
	$´•¬eAcûss
()

210 
ä“ze_
 = 
Œue
;

211 ià(
noComb_
 || 
¬¿ys_
->
	`size
() == 0) ;

212 
šdexes_
->
	`growToSize
(
¬¿ys_
->
	`size
());

213 
i
 = 0; i < 
¬¿ys_
->
	`size
(); i++è(*
šdexes_
)[i] = 0;

216 
	}
}

218 
	g´iv©e
:

221 
A¼ay
<cÚ¡ A¼ay<
Ty³
>*>* 
¬¿ys_
;

222 
	gA¼ay
<>* 
	gšdexes_
;

223 
	g™emIdx_
;

224 
boŞ
 
	gä“ze_
;

225 
boŞ
 
	g»£t_
;

226 
boŞ
 
	gnoComb_
;

	@util/complex.h

67 
	~<io¡»am
>

68 
	~<cm©h
>

69 
	~"¿ndom.h
"

70 
	~"¬¿y.h
"

71 şas 
	cCom¶ex


74 
	mpublic
:

76 
	$Com¶ex
(è: 
	`_»®
(0), 
	$_imag
(0) {}

77 
ex¶ic™
 
	$Com¶ex
Ğ
r
è: 
	`_»®
Ô), 
	$_imag
(0è{
	}
}

78 
	$Com¶ex
(
r
, 
i
è: 
	`_»®
Ô), 
	$_imag
(
i
è{
	}
}

80 
	gCom¶ex
& 
	gİ”©Ü
+=(cÚ¡ & 
d
)

82 
_»®
 +ğ
d
;

83  *
	gthis
;

86 
	gCom¶ex
& 
	gİ”©Ü
+=(cÚ¡ 
Com¶ex
& 
c
)

88 
_»®
 +ğ
c
._real;

89 
	g_imag
 +ğ
c
.
_imag
;

90  *
	gthis
;

93 
	gCom¶ex
& 
	gİ”©Ü
-=(cÚ¡ &
d
)

95 
_»®
 -ğ
d
;

96  *
	gthis
;

99 
	gCom¶ex
& 
	gİ”©Ü
-=(cÚ¡ 
Com¶ex
& 
c
)

101 
_»®
 -ğ
c
._real;

102 
	g_imag
 -ğ
c
.
_imag
;

103  *
	gthis
;

106 
	gCom¶ex
& 
	gİ”©Ü
*=(cÚ¡ & 
d
)

108 
_»®
 *ğ
d
;

109 
	g_imag
 *ğ
d
;

110  *
	gthis
;

113 
	gCom¶ex
& 
	gİ”©Ü
*=(cÚ¡ 
Com¶ex
& 
c
)

115 
»
 = 
_»®
;

116 
	gim
 = 
_imag
;

117 
	g_»®
 = 
»
 * 
c
.
_»®
 - 
im
 * c.
_imag
;

118 
	g_imag
 = 
»
 * 
c
.
_imag
 + 
im
 * c.
_»®
;

119  *
	gthis
;

122 
	gCom¶ex
& 
	gİ”©Ü
/=(cÚ¡ & 
d
)

124 
_»®
 /ğ
d
;

125 
	g_imag
 /ğ
d
;

126  *
	gthis
;

129 
	gCom¶ex
& 
	gİ”©Ü
/=(cÚ¡ 
Com¶ex
& 
c
)

131 
»
 = 
_»®
;

132 
	gim
 = 
_imag
;

133 
	gd
 = 
c
.
_»®
 * c._»® + c.
_imag
 * c._imag;

134 
	g_»®
 = (
»
 * 
c
.
_»®
 + 
im
 * c.
_imag
è/ 
d
;

135 
	g_imag
 = (
im
 * 
c
.
_»®
 - 
»
 * c.
_imag
è/ 
d
;

136  *
	gthis
;

139 
Com¶ex
 
	$CÚj
() const

141  
	`Com¶ex
(
_»®
, -
_imag
);

142 
	}
}

144 
Com¶ex
 
	$T¿nsToRadiusAngË
() const

146 ià(
_»®
 =ğ0 && 
_imag
 == 0)

148  
	`Com¶ex
(0,0);

151 
r
 = 
	`sq¹
(
_»®
*_»® + 
_imag
*_imag);

152 
sšx
 = 
_imag
 / 
r
;

153 
®pha
 = 
	`asš
(
sšx
);

154 ià(
®pha
 >=0)

156 ià(
_»®
 < 0)

158 
®pha
 = 
PI
 -‡lpha;

163 ià(
_»®
 < 0)

165 
®pha
 = -®ph¨+ 
PI
;

169 
®pha
 = 2*
PI
 +‡lpha;

173  
	`Com¶ex
(
r
, 
®pha
);

174 
	}
}

176 
	gA¼ay
<
	gCom¶ex
> 
	$Sq¹
() const

179 
A¼ay
<
Com¶ex
> 
roÙs
;

181 ià(
_»®
 =ğ0 && 
_imag
 == 0)

183 
roÙs
.
	`­³nd
(
	`Com¶ex
(0,0));

184  
roÙs
;

189 
Com¶ex
 
¿
 = 
	`T¿nsToRadiusAngË
();

190 
rRoÙ
 = 
	`sq¹
(
¿
.
	`R—l
());

193 
i
 = 0; i < 2; i++)

195 
ªgË
 = (
¿
.
	`Imag
(è+ 2*(
i
)*
PI
)/2;

196 
»®
 = 
rRoÙ
 * 
	`cos
(
ªgË
);

197 
imag
 = 
rRoÙ
 * 
	`sš
(
ªgË
);

198 
roÙs
.
	`­³nd
(
	`Com¶ex
(
»®
,
imag
));

201  
roÙs
;

202 
	}
}

204 
	gA¼ay
<
	gCom¶ex
> 
	$RoÙ
(
k
) const

206 
A¼ay
<
Com¶ex
> 
roÙs
;

207 ià(
_»®
 =ğ0 && 
_imag
 == 0)

209 
roÙs
.
	`­³nd
(
	`Com¶ex
(0,0));

210  
roÙs
;

212 
Com¶ex
 
¿
 = 
	`T¿nsToRadiusAngË
();

213 
rRoÙ
 = 
	`sq¹
(
¿
.
	`R—l
());

216 
i
 = 0; i < 
k
; i++)

218 
ªgË
 = (
¿
.
	`Imag
(è+ 2*(
i
)*
PI
)/(
k
);

219 
»®
 = 
rRoÙ
 * 
	`cos
(
ªgË
);

220 
imag
 = 
rRoÙ
 * 
	`sš
(
ªgË
);

221 
roÙs
.
	`­³nd
(
	`Com¶ex
(
»®
,
imag
));

224  
roÙs
;

225 
	}
}

226 
	$R—l
(ècÚ¡ {  
_»®
; 
	}
}

227 
	$Imag
(ècÚ¡ {  
_imag
; 
	}
}

228 
	$R—l
(cÚ¡ & 
»
è{ 
_»®
 =„; 
	}
}

229 
	$Imag
(cÚ¡ & 
im
è{ 
_imag
 = im ; 
	}
}

230 
	$S‘
(cÚ¡ & 
»
, cÚ¡ & 
im
){ 
_»®
 =„e; 
_imag
 = im ; 
	}
}

231 
	$Modsq
(ècÚ¡ {  
_»®
*_»® + 
_imag
 * _imag ; 
	}
}

232 
	$Mod
(ècÚ¡ {  
	`sq¹
(
_»®
*_»® + 
_imag
 * _imag); 
	}
}

234 
	g´iv©e
:

235 
_»®
;

236 
	g_imag
;

240 
šlše
 
Com¶ex
 
	gİ”©Ü
+(cÚ¡ 
	gCom¶ex
& 
	gc
)

242  
Com¶ex
(
c
.
R—l
(), c.
Imag
());

245 
šlše
 
Com¶ex
 
	gİ”©Ü
-(cÚ¡ 
	gCom¶ex
& 
	gc
)

247  
Com¶ex
(-
c
.
R—l
(), -c.
Imag
());

250 
šlše
 
Com¶ex
 
	gİ”©Ü
+(cÚ¡ 
	gCom¶ex
& 
	gc
, cÚ¡ & 
	gd
)

252  
Com¶ex
(
c
.
R—l
(è+ 
d
, c.
Imag
());

255 
šlše
 
Com¶ex
 
	gİ”©Ü
+(cÚ¡ & 
	gd
, cÚ¡ 
	gCom¶ex
& 
	gc
)

257  
Com¶ex
(
d
 + 
c
.
R—l
(), c.
Imag
());

260 
šlše
 
Com¶ex
 
	gİ”©Ü
+(cÚ¡ 
	gCom¶ex
& 
	gc1
, cÚ¡ Com¶ex& 
	gc2
)

262  
Com¶ex
(
c1
.
R—l
(è+ 
c2
.R—l(), c1.
Imag
() + c2.Imag());

265 
šlše
 
Com¶ex
 
	gİ”©Ü
-(cÚ¡ 
	gCom¶ex
& 
	gc
, cÚ¡ & 
	gd
)

267  
Com¶ex
(
c
.
R—l
(è- 
d
, c.
Imag
());

270 
šlše
 
Com¶ex
 
	gİ”©Ü
-(cÚ¡ & 
	gd
, cÚ¡ 
	gCom¶ex
& 
	gc
)

272  
Com¶ex
(
d
 - 
c
.
R—l
(), -c.
Imag
());

275 
šlše
 
Com¶ex
 
	gİ”©Ü
-(cÚ¡ 
	gCom¶ex
& 
	gc1
, cÚ¡ Com¶ex& 
	gc2
)

277  
Com¶ex
(
c1
.
R—l
(è- 
c2
.R—l(), c1.
Imag
() - c2.Imag());

281 
šlše
 
Com¶ex
 
	gİ”©Ü
*(cÚ¡ 
	gCom¶ex
& 
	gc
, cÚ¡ & 
	gd
)

283  
Com¶ex
(
c
.
R—l
(è* 
d
, c.
Imag
() * d);

286 
šlše
 
Com¶ex
 
	gİ”©Ü
*(cÚ¡ & 
	gd
, cÚ¡ 
	gCom¶ex
& 
	gc
)

288  
Com¶ex
(
c
.
R—l
(è* 
d
, c.
Imag
() * d);

291 
šlše
 
Com¶ex
 
	gİ”©Ü
*(cÚ¡ 
	gCom¶ex
& 
	gc1
, cÚ¡ Com¶ex& 
	gc2
)

293 
	g»®
 = 
c1
.
R—l
(è* 
c2
.R—l(è- c1.
Imag
() * c2.Imag();

294 
	gimag
 = 
c1
.
R—l
(è* 
c2
.
Imag
() + c1.Imag() * c2.Real();

295  
Com¶ex
(
»®
, 
imag
);

298 
šlše
 
Com¶ex
 
	gİ”©Ü
/(cÚ¡ 
	gCom¶ex
& 
	gc
, cÚ¡ & 
	gd
)

300  
Com¶ex
(
c
.
R—l
(è/ 
d
, c.
Imag
() / d);

303 
šlše
 
Com¶ex
 
	gİ”©Ü
/(cÚ¡ & 
	gd
, cÚ¡ 
	gCom¶ex
& 
	gc
)

305 
	gdd
 = 
c
.
R—l
(è* c.R—l(è+ c.
Imag
() * c.Imag();

306  
Com¶ex
((
d
 * 
c
.
R—l
())/
dd
, (-d * c.
Imag
())/dd);

309 
šlše
 
Com¶ex
 
	gİ”©Ü
/(cÚ¡ 
	gCom¶ex
& 
	gc1
, cÚ¡ Com¶ex& 
	gc2
)

311 
	gd
 = 
c2
.
R—l
(è* c2.R—l(è+ c2.
Imag
() * c2.Imag();

312 
	g»®
 = (
c1
.
R—l
(è* 
c2
.R—l(è+ c1.
Imag
(è* c2.Imag()è/ 
d
;

313 
	gimag
 = (
c1
.
Imag
(è* 
c2
.
R—l
(è- c1.R—l(è* c2.Imag()è/ 
d
;

314  
Com¶ex
(
»®
, 
imag
);

317 
šlše
 
	$»®
(cÚ¡ 
Com¶ex
 &
c
)

319  
c
.
	`R—l
();

320 
	}
}

322 
šlše
 
	$imag
(cÚ¡ 
Com¶ex
 &
c
)

324  
c
.
	`Imag
();

325 
	}
}

327 
šlše
 
	$abs
(cÚ¡ 
Com¶ex
 &
c
)

329  
	`sq¹
(
c
.
	`R—l
(è* c.R—l(è+ c.
	`Imag
() * c.Imag());

330 
	}
}

332 
šlše
 
	$nÜm
(cÚ¡ 
Com¶ex
 &
c
)

334  
c
.
	`R—l
(è* c.R—l(è+ c.
	`Imag
() * c.Imag();

335 
	}
}

337 
šlše
 
Com¶ex
 
	$cÚj
(cÚ¡ 
Com¶ex
 &
c
)

339  
	`Com¶ex
(
c
.
	`R—l
(), -c.
	`Imag
());

340 
	}
}

342 
šlše
 
	go¡»am
 &
	gİ”©Ü
<<(o¡»am &
	gos
, cÚ¡ 
	gCom¶ex
 &
	gc
)

344 
	gos
<<
	gc
.
R—l
()<<"+"<<c.
Imag
()<<"i";

345  
	gos
;

	@util/constdualmap.h

67 #iâdeà
CONSTDUALMAP_H_JUN_21_2005


68 
	#CONSTDUALMAP_H_JUN_21_2005


	)

71 
	~<lim™s
>

72 
	~<ext/hash_m­
>

74 
	~"¬¿y.h
"

75 
	~"¡ršt.h
"

79 
	ghash_m­
<cÚ¡ 
	tSŒIÁ
*, , 
	tHashSŒIÁ
, 
	tEqu®SŒIÁ
> 
	tSŒIÁToIÁM­
;

83 şas 
	cCÚ¡Du®M­


85 
	mpublic
:

86 
	$CÚ¡Du®M­
()

88 
štToSŒIÁA¼_
 = 
Ãw
 
A¼ay
<cÚ¡ 
SŒIÁ
*>;

89 
¡rIÁToIÁM­_
 = 
Ãw
 
SŒIÁToIÁM­
;

93 ~
	$CÚ¡Du®M­
()

95 
i
 = 0; i < 
štToSŒIÁA¼_
->
	`size
(); i++)

96 
	`d–‘e
 (*
štToSŒIÁA¼_
)[
i
];

97 
d–‘e
 
štToSŒIÁA¼_
;

98 
d–‘e
 
¡rIÁToIÁM­_
;

99 
	}
}

104 cÚ¡ * 
	$g‘SŒ
(cÚ¡ & 
i
)

106 ià(0 <ğ
i
 && i < 
štToSŒIÁA¼_
->
	`size
())

107  (*
štToSŒIÁA¼_
)[
i
]->
¡r_
;

108  
NULL
;

109 
	}
}

114 
	gA¼ay
<>* 
	$g‘IÁ2
(cÚ¡ & 
i
)

116 ià(0 <ğ
i
 && i < 
štToSŒIÁA¼_
->
	`size
())

117  (*
štToSŒIÁA¼_
)[
i
]->
šts_
;

118  
NULL
;

119 
	}
}

123 
	gA¼ay
<>* 
	$g‘IÁ2
(cÚ¡ * cÚ¡ & 
s
)

125 
i
 = 
	`g‘IÁ
(
s
);

126 ià(
i
 < 0è 
NULL
;

127  
	`g‘IÁ2
(
i
);

128 
	}
}

134 
	$g‘IÁ
(cÚ¡ * cÚ¡ & 
s
)

136 
SŒIÁ
 
	`¡r
(
s
);

137 
SŒIÁToIÁM­
::
™”©Ü
 
™
;

138 ià((
™
=
¡rIÁToIÁM­_
->
	`fšd
(&
¡r
)è=ğ¡rIÁToIÁM­_->
	`’d
())

140  (*
™
).
£cÚd
;

141 
	}
}

147 
	$š£¹
(cÚ¡ * cÚ¡ & 
s
, cÚ¡ & 
ii
)

150 
A¼ay
<>* 
ŞdIÁs
 = 
	`g‘IÁ2
(
s
);

151 ià(
ŞdIÁs
 !ğ
NULL
)

153 ià(!
ŞdIÁs
->
	`cÚšs
(
ii
))

154 
ŞdIÁs
->
	`­³nd
(
ii
);

155 
SŒIÁ
 
	`¡r
(
s
);

156 
SŒIÁToIÁM­
::
™”©Ü
 
™
;

157 
™
 = 
¡rIÁToIÁM­_
->
	`fšd
(&
¡r
);

158  (*
™
).
£cÚd
;

161 
SŒIÁ
* 
¡rIÁ
 = 
Ãw
 
	`SŒIÁ
(
s
,
ii
);

163 
SŒIÁToIÁM­
::
™”©Ü
 
™
;

164 ià((
™
=
¡rIÁToIÁM­_
->
	`fšd
(
¡rIÁ
)è!ğ¡rIÁToIÁM­_->
	`’d
())

166 
cout
 << "Warning: In ConstDualMap::insert(),riedo insert duplicate "

167 << 
¡rIÁ
->
¡r_
 << ",…»v id " << (*
™
).
£cÚd
 << 
’dl
;

168 
d–‘e
 
¡rIÁ
;

172 ià((()
štToSŒIÁA¼_
->
	`size
()è>ğ
num”ic_lim™s
<>::
	`max
())

174 
cout
 << "Error: In ConstDualMap::insert(),„each int max†imit when "

175 << "š£¹šg " << 
¡rIÁ
->
¡r_
 << 
’dl
;

176 
d–‘e
 
¡rIÁ
;

177 
	`ex™
(-1);

180 
štToSŒIÁA¼_
->
	`­³nd
(
¡rIÁ
);

181 
i
 = 
štToSŒIÁA¼_
->
	`size
()-1;

182 (*
¡rIÁToIÁM­_
)[
¡rIÁ
] = 
i
;

183  
i
;

184 
	}
}

187 
	$g‘NumIÁ
(ècÚ¡ {  
štToSŒIÁA¼_
->
	`size
(); 
	}
}

190 cÚ¡ 
	gA¼ay
<cÚ¡ 
	gSŒIÁ
*>* 
	$g‘IÁToSŒIÁA¼
() const

192  
štToSŒIÁA¼_
;

193 
	}
}

197 cÚ¡ 
	gA¼ay
<cÚ¡ *>* 
	$g‘IÁToSŒA¼
() const

199 
A¼ay
<cÚ¡ *>* 
a
 = 
Ãw
 Array<const *>;

200 
i
 = 0; i < 
štToSŒIÁA¼_
->
	`size
(); i++)

201 
a
->
	`­³nd
((*
štToSŒIÁA¼_
)[
i
]->
¡r_
);

202  
a
;

203 
	}
}

216 
	$com´ess
(è{ 
štToSŒIÁA¼_
->
	`com´ess
(); 
	}
}

218 
	g´iv©e
:

219 
A¼ay
<cÚ¡ 
SŒIÁ
*>* 
štToSŒIÁA¼_
;

220 
SŒIÁToIÁM­
* 
	g¡rIÁToIÁM­_
;

	@util/dualmap.h

66 #iâdeà
DUALMAP_H_JUN_21_2005


67 
	#DUALMAP_H_JUN_21_2005


	)

70 
	~<lim™s
>

71 
	~<ext/hash_m­
>

72 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

73 
	~"¬¿y.h
"

74 
	~"equ®¡r.h
"

77 
	ghash_m­
<cÚ¡ *, , 
	thash
<cÚ¡ *>, 
	tEqu®SŒ
> 
	tSŒToIÁM­
;

81 şas 
	cDu®M­


83 
	mpublic
:

84 
	$Du®M­
(è: 
	`štToSŒA¼_
(
Ãw
 
A¼ay
<const *>),

85 
	$¡rToIÁM­_
(
Ãw
 
SŒToIÁM­
) {}

88 
	$Du®M­
(cÚ¡ 
Du®M­
& 
dm
)

90 
štToSŒA¼_
 = 
Ãw
 
A¼ay
<const *>;

91 
¡rToIÁM­_
 = 
Ãw
 
SŒToIÁM­
;

92 
i
 = 0; i < 
dm
.
štToSŒA¼_
->
	`size
(); i++)

93 
	`š£¹
((*(
dm
.
štToSŒA¼_
))[
i
]);

94 
	`com´ess
();

95 
	}
}

98 ~
	$Du®M­
()

100 
i
 = 0; i < 
štToSŒA¼_
->
	`size
(); i++)

101 
d–‘e
 [] (*
štToSŒA¼_
)[
i
];

102 
d–‘e
 
štToSŒA¼_
;

103 
d–‘e
 
¡rToIÁM­_
;

104 
	}
}

109 cÚ¡ * 
	$g‘SŒ
(cÚ¡ & 
i
) const

111 ià(0<ğ
i
 && i < 
štToSŒA¼_
->
	`size
())

112  (*
štToSŒA¼_
)[
i
];

113  
NULL
;

114 
	}
}

120 
	$g‘IÁ
(cÚ¡ * cÚ¡ & 
¡r
) const

122 
SŒToIÁM­
::
™”©Ü
 
™
;

123 ià((
™
=
¡rToIÁM­_
->
	`fšd
(
¡r
)è=ğ¡rToIÁM­_->
	`’d
())

125  (*
™
).
£cÚd
;

126 
	}
}

132 
	$š£¹
(cÚ¡ * cÚ¡ & 
¡r
)

134 
SŒToIÁM­
::
™”©Ü
 
™
;

135 ià((
™
=
¡rToIÁM­_
->
	`fšd
(
¡r
)è!ğ¡rToIÁM­_->
	`’d
())

137 
cout
 << "Warning: In DualMap::insert(),riedo insert duplicate "

138 << 
¡r
 << ",…»v id " << (*
™
).
£cÚd
 << 
’dl
;

142 ià((()
štToSŒA¼_
->
	`size
()è>ğ
num”ic_lim™s
<>::
	`max
())

144 
cout
 << "Error: In DualMap::insert(),„each int max†imit when inserting "

145 << 
¡r
 << 
’dl
;

146 
	`ex™
(-1);

149 * 
s
 = 
Ãw
 [
	`¡¾’
(
¡r
)+1];

150 
	`¡rıy
(
s
,
¡r
);

151 
štToSŒA¼_
->
	`­³nd
(
s
);

152 
i
 = 
štToSŒA¼_
->
	`size
()-1;

153 (*
¡rToIÁM­_
)[
s
] = 
i
;

154  
i
;

155 
	}
}

158 
	$g‘NumIÁ
(ècÚ¡ {  
štToSŒA¼_
->
	`size
(); 
	}
}

161 cÚ¡ 
	gA¼ay
<cÚ¡ *>* 
	$g‘IÁToSŒA¼
(ècÚ¡ {  
štToSŒA¼_
; 
	}
}

163 
	$com´ess
(è{ 
štToSŒA¼_
->
	`com´ess
(); 
	}
}

166 
	g´iv©e
:

167 
A¼ay
<cÚ¡ *>* 
štToSŒA¼_
;

168 
SŒToIÁM­
* 
	g¡rToIÁM­_
;

	@util/equalstr.h

66 #iâdeà
EQUALSTR_H_JUN_23_2005


67 
	#EQUALSTR_H_JUN_23_2005


	)

69 
	~<c¡ršg
>

71 şas 
	cEqu®SŒ


73 
	mpublic
:

74 
boŞ
 
	$İ”©Ü
()(cÚ¡ * cÚ¡ & 
s1
, cÚ¡ * cÚ¡ & 
s2
) const

76  
	`¡rcmp
(
s1
, 
s2
) == 0;

78 
	}
};

	@util/hash.h

66 #iâdeà
HASH_H_JUN_28_2005


67 
	#HASH_H_JUN_28_2005


	)

69 
	~"¬¿y.h
"

72 şas 
	cHash


74 
	mpublic
:

75 
hash
(cÚ¡ 
A¼ay
<>& 
¬r
)

77 
hashCode
 = 1;

78 
	msize
 = 
¬r
.
size
();

79 
	mi
 = 0; i < 
	msize
; i++)

80 
	mhashCode
 = 31*
hashCode
 + 
¬r
[
i
];

81  
	mhashCode
;

85 
hash
(cÚ¡ 
A¼ay
<>& 
¬r
)

87 
	ghashCode
 = 1;

88 
	gsize
 = 
¬r
.
size
();

89 
	gi
 = 0; i < 
	gsize
; i++)

90 
	ghashCode
 = 31*
hashCode
 + 
¬r
[
i
];

91  
	ghashCode
;

97 
	gIÁPaœHash
 :

98 
public
 
uÇry_funùiÚ
< 
·œ
<, >, 
	gsize_t
 >

100 
size_t
 
İ”©Ü
()(cÚ¡ 
	g·œ
<, > 
	gp
) const

102  
	gp
.
	gfœ¡
 * 31 +….
	g£cÚd
;

	@util/hasharray.h

66 #iâdeà
HASHARRAY_H_JUL_19_2005


67 
	#HASHARRAY_H_JUL_19_2005


	)

69 
	~<¡dlib.h
>

70 
	~<as£¹.h
>

71 
	~<io¡»am
>

72 
	~<¡ršg
>

73 
	~"¿ndom.h
"

74 
usšg
 
Çme¥aû
 
	g¡d
;

75 
	~<ext/hash_m­
>

76 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

80 
	g‹m¶©e
 <
ty³Çme
 
	gTy³
, 
şass
 
	gHashFn
, cÏs 
	gEqu®Fn
>

81 şas 
	cHashA¼ay


83 
	mpublic
:

84 
	$HashA¼ay
(cÚ¡ & 
š™Size
=0è: 
	`™ems_
(
NULL
), 
	`maxI‹ms_
(0), 
	`numI‹ms_
(0),

85 
	`m­_
(
Ãw
 
hash_m­
<
Ty³
,,
HashFn
,
Equ®Fn
>)

86 { 
	`®loÿ‹MemÜy
(
š™Size
); }

89 
	`HashA¼ay
(cÚ¡ 
HashA¼ay
<
Ty³
, 
HashFn
, 
Equ®Fn
>& 
x
)

91 ià(
x
.
numI‹ms_
 == 0)

93 
™ems_
 = 
NULL
;

94 
maxI‹ms_
 = 0;

95 
numI‹ms_
 = 0;

96 
	`®loÿ‹MemÜy
(0);

97 
m­_
 = 
Ãw
 
hash_m­
<
Ty³
, , 
HashFn
, 
Equ®Fn
>;

101 
™ems_
 = 
Ãw
 
Ty³
[
x
.
numI‹ms_
];

104 
i
 = 0; i < 
x
.
numI‹ms_
; i++è
™ems_
[i] = x.items_[i];

105 
numI‹ms_
 = 
x
.numItems_;

106 
maxI‹ms_
 = 
numI‹ms_
;

107 
m­_
 = 
Ãw
 
hash_m­
<
Ty³
, , 
HashFn
, 
Equ®Fn
>;

108 
i
 = 0; i < 
numI‹ms_
; i++)

109 (*
m­_
)[
™ems_
[
i
]] = i;

110 
	`as£¹
(
m­_
->
	`size
(è=ğ(è
numI‹ms_
);

111 
	}
}

115 ~
	$HashA¼ay
(è{ ià(
™ems_
è
d–‘e
 [] i‹ms_; d–‘
m­_
; 
	}
}

119 
	$­³nd
(
Ty³
 
™em
)

121 ià(
m­_
->
	`fšd
(
™em
è!ğm­_->
	`’d
())  -1;

123 ià(
numI‹ms_
 =ğ
maxI‹ms_
)

124 
	`®loÿ‹MemÜy
(
maxI‹ms_
*2+1);

125 
™ems_
[
numI‹ms_
++] = 
™em
;

126 (*
m­_
)[
™em
] = 
numI‹ms_
-1;

128 
	`as£¹
(
m­_
->
	`size
(è=ğ(è
numI‹ms_
);

129  
numI‹ms_
-1;

130 
	}
}

133 
	$­³nd
(
Ty³
 
™em
, cÚ¡ & 
max
)

135 ià(
m­_
->
	`fšd
(
™em
è!ğm­_->
	`’d
())  -1;

137 ià(
numI‹ms_
 =ğ
maxI‹ms_
)

139 
ÃwNumI‹ms
 = 
maxI‹ms_
*2+1;

140 ià(
ÃwNumI‹ms
 > 
max
)‚ewNumItems = max;

141 
	`®loÿ‹MemÜy
(
ÃwNumI‹ms
);

143 
™ems_
[
numI‹ms_
++] = 
™em
;

144 (*
m­_
)[
™em
] = 
numI‹ms_
-1;

145 
	`as£¹
(
m­_
->
	`size
(è=ğ(è
numI‹ms_
);

146  
numI‹ms_
-1;

147 
	}
}

152 
­³nd
(cÚ¡ 
HashA¼ay
<
Ty³
, 
HashFn
, 
Equ®Fn
>& 
ÃwI‹ms
)

154 
	gn
 = 0;

155 
	gi
 = 0; i < 
	gÃwI‹ms
.
size
(); i++)

156 ià(
­³nd
(
ÃwI‹ms
[
i
]è>ğ0è
n
++;

157  
	gn
;

161 
­³nd
(cÚ¡ 
HashA¼ay
<
Ty³
, 
HashFn
, 
Equ®Fn
>* cÚ¡ & 
™ems
)

162 {  
­³nd
(*
™ems
); }

168 
cİyFrom
(cÚ¡ 
HashA¼ay
<
Ty³
, 
HashFn
, 
Equ®Fn
>& 
™ems
)

170 
ş—r
();

171  
­³nd
(
™ems
);

175 
	gHashA¼ay
<
	gTy³
, 
	gHashFn
, 
	gEqu®Fn
>&

176 
	gİ”©Ü
=(cÚ¡ 
HashA¼ay
<
Ty³
, 
	gHashFn
, 
	gEqu®Fn
>& 
	gx
)

178 
cİyFrom
(
x
);

179  *
	gthis
;

183 
boŞ
 
	$growToSize
(cÚ¡ & 
ÃwSize
)

185 ià(
ÃwSize
 <ğ
numI‹ms_
è 
çl£
;

187 ià(
ÃwSize
 <ğ
maxI‹ms_
)

188 
numI‹ms_
 = 
ÃwSize
;

191 
	`®loÿ‹MemÜy
(
ÃwSize
);

192 
numI‹ms_
 = 
ÃwSize
;

194  
Œue
;

195 
	}
}

198 
boŞ
 
	$growToSize
(cÚ¡ & 
ÃwSize
, 
Ty³
 
fl
)

200 
ÜigNumI‹ms
 = 
numI‹ms_
;

201 if(!
	`growToSize
(
ÃwSize
)è 
çl£
;

202 
i
 = 
ÜigNumI‹ms
; i < 
numI‹ms_
; i++)

203 
™ems_
[
i
] = 
fl
;

204  
Œue
;

205 
	}
}

209 
	$ş—r
(è{ 
numI‹ms_
 = 0; 
m­_
->
	`ş—r
(); 
	}
}

212 
	$ş—rAndCom´ess
(è{ 
numI‹ms_
 = 0; 
m­_
->
	`ş—r
(); 
	`com´ess
(); 
	}
}

217 
	$d–‘eI‹msAndCË¬
()

219 
i
 = 0; i < 
numI‹ms_
; i++)

220 ià(
™ems_
[
i
]è
d–‘e
 items_[i];

221 
	`ş—r
();

222 
	`as£¹
(
m­_
->
	`size
(è=ğ(è
numI‹ms_
);

223 
	}
}

227 
	$d–‘eI‹msAndCË¬Com´ess
()

229 
i
 = 0; i < 
numI‹ms_
; i++)

230 ià(
™ems_
[
i
]è
d–‘e
 items_[i];

231 
	`ş—r
();

232 
	`as£¹
(
m­_
->
	`size
(è=ğ(è
numI‹ms_
);

233 
	`com´ess
();

234 
	}
}

237 
	$size
(ècÚ¡ {  
numI‹ms_
; 
	}
}

239 
boŞ
 
	$em±y
(ècÚ¡ {  
	`size
()==0; 
	}
}

244 cÚ¡ 
	gTy³
& 
	gİ”©Ü
[](cÚ¡ & 
	gšdex
ècÚ¡ {  
™em
(
šdex
); }

247 
	gTy³
& 
	$Ï¡I‹m
(ècÚ¡ {  
™ems_
[
numI‹ms_
-1]; 
	}
}

251 cÚ¡ 
Ty³
* 
	$g‘I‹ms
(ècÚ¡ {  
™ems_
; 
	}
}

259 
	$fšd
(
Ty³
 cÚ¡ & 
™em
) const

261 
ty³Çme
 
hash_m­
<
Ty³
, , 
HashFn
, 
Equ®Fn
>::
™”©Ü
 
™
=
m­_
->
	`fšd
(
™em
);

262 ià(
™
 =ğ
m­_
->
	`’d
())  -1;

263 
	`as£¹
((*
™
).
£cÚd
 >= 0);

264  (*
™
).
£cÚd
;

265 
	}
}

268 
boŞ
 
	$cÚšs
(
Ty³
 cÚ¡ & 
™em
ècÚ¡ {  
	`fšd
(™emè>ğ0;
	}
}

271 
Ty³
 
	$»moveI‹m
(cÚ¡ & 
šdex
)

274 
Ty³
 
»movedI‹m
 = 
™ems_
[
šdex
];

275 
m­_
->
	`”a£
(m­_->
	`fšd
(
™ems_
[
šdex
]));

276 
i
 = 
šdex
+1; i < 
numI‹ms_
; i++è
™ems_
[i-1] = items_[i];

283 
numI‹ms_
--;

286 
ty³Çme
 
hash_m­
<
Ty³
, , 
HashFn
, 
Equ®Fn
>::
™”©Ü
 
™
;

287 
i
 = 
šdex
; i < 
numI‹ms_
; i++)

289 
™
 = 
m­_
->
	`fšd
(
™ems_
[
i
]);

290 
	`as£¹
(
™
 !ğ
m­_
->
	`’d
());

291 
	`as£¹
((*
™
).
£cÚd
-1==
i
);

292 (*
™
).
£cÚd
 = 
i
;

295 
	`as£¹
(
m­_
->
	`size
(è=ğ()
numI‹ms_
);

296  
»movedI‹m
;

297 
	}
}

302 
Ty³
 
	$»moveIÅutI‹m
(
Ty³
 & 
™em
)

304 
idx
 = 
	`fšd
(
™em
);

305 ià(
idx
 < 0è 
NULL
;

306  
	`»moveI‹m
(
idx
);

307 
	}
}

309 
Ty³
 
	$»moveLa¡I‹m
(è{  
	`»moveI‹m
(
numI‹ms_
-1); 
	}
}

312 
Ty³
 
	$»moveI‹mFa¡DisÜd”
(cÚ¡ & 
šdex
)

314 
Ty³
 
»movedI‹m
 = 
™ems_
[
šdex
];

315 
m­_
->
	`”a£
(m­_->
	`fšd
(
™ems_
[
šdex
]));

317 ià(
numI‹ms_
 > 1 && 
šdex
 !=‚umItems_-1)

319 
m­_
->
	`”a£
(m­_->
	`fšd
(
™ems_
[
numI‹ms_
-1]));

320 (*
m­_
)[
™ems_
[
numI‹ms_
-1]] = 
šdex
;

321 
	`™em
(
šdex
èğ™em(
numI‹ms_
-1);

324 
numI‹ms_
--;

325 
	`as£¹
(
m­_
->
	`size
(è=ğ()
numI‹ms_
);

326  
»movedI‹m
;

327 
	}
}

331 
Ty³
 
	$»moveIÅutI‹mFa¡DisÜd”
(
Ty³
 & 
™em
)

333 
idx
 = 
	`fšd
(
™em
);

334 ià(
idx
 < 0è 
NULL
;

335  
	`»moveI‹mFa¡DisÜd”
(
idx
);

336 
	}
}

340 
	$com´ess
(è{ ià(
maxI‹ms_
 > 
numI‹ms_
è
	`®loÿ‹MemÜy
ÒumI‹ms_); 
	}
}

344 
	$shufæe
()

346 
i
 = 0; i < 
numI‹ms_
; i++)

349 
sw­w™h
 = 
Rªdom
::
	`¿ndomOÃOf
(
numI‹ms_
);

350 
Ty³
 
tmp
;

351 
tmp
 = 
™ems_
[
i
];

352 
™ems_
[
i
] = i‹ms_[
sw­w™h
];

353 
™ems_
[
sw­w™h
] = 
tmp
;

355 
	}
}

359 
	$g‘MaxIndex
()

361 
	`as£¹
(
numI‹ms_
 > 0);

362 
max
 = 0;

363 
i
 = 1; i < 
numI‹ms_
; i++)

365 ià(
™ems_
[
i
] > i‹ms_[
max
])

366 
max
 = 
i
;

368  
max
;

369 
	}
}

373 
Ty³
 
	$g‘MaxV®ue
()

375 
	`as£¹
(
numI‹ms_
 > 0);

376 
Ty³
 
max
 = 
™ems_
[0];

377 
i
 = 1; i < 
numI‹ms_
; i++)

379 ià(
™ems_
[
i
] > 
max
)

380 
max
 = 
™ems_
[
i
];

382  
max
;

383 
	}
}

386 
	g´iv©e
:

387 
Ty³
& 
	$™em
(cÚ¡ & 
šdex
) const

389 
	`as£¹
(
šdex
 < 
numI‹ms_
);

390  
™ems_
[
šdex
];

391 
	}
}

394 
	$®loÿ‹MemÜy
(cÚ¡ & 
ÃwSize
)

396 ià(
ÃwSize
 > 0)

398 ià(
ÃwSize
 >ğ
numI‹ms_
)

400 
Ty³
* 
‹mpI‹ms
 = 
Ãw
 Ty³[
ÃwSize
];

401 ià(
numI‹ms_
 > 0)

405 
i
 = 0; i < 
numI‹ms_
; i++è
‹mpI‹ms
[i] = 
™ems_
[i];

407 
d–‘e
 [] 
™ems_
;

408 
™ems_
 = 
‹mpI‹ms
;

409 
maxI‹ms_
 = 
ÃwSize
;

413 
Ty³
* 
‹mpI‹ms
 = 
Ãw
 Ty³[
ÃwSize
];

414 ià(
numI‹ms_
 > 0)

418 
i
 = 0; i < 
ÃwSize
; i++è
‹mpI‹ms
[i] = 
™ems_
[i];

420 
d–‘e
 [] 
™ems_
;

421 
™ems_
 = 
‹mpI‹ms
;

422 
maxI‹ms_
 = 
ÃwSize
;

423 
numI‹ms_
 = 
ÃwSize
;

428 
d–‘e
 [] 
™ems_
;

429 
™ems_
 = 
NULL
;

430 
maxI‹ms_
 = 0;

431 
numI‹ms_
 = 0;

433 
	}
}

436 
	g´iv©e
:

437 
Ty³
* 
™ems_
;

438 
	gmaxI‹ms_
;

439 
	gnumI‹ms_
;

441 
	ghash_m­
<
	gTy³
, , 
	gHashFn
, 
	gEqu®Fn
>* 
	gm­_
;

448 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
şass
 
	gHashFn
, cÏs 
	gEqu®Fn
>

449 
wr™eHashA¼ay
(cÚ¡ 
HashA¼ay
<
T
*,
HashFn
,
Equ®Fn
>& 
¬¿y
, 
o¡»am
& 
out
,

450 * 
b‘w“n
, cÚ¡ & 
d–im™”
)

452 
	gout
 << 
	g¬¿y
.
size
(è<< 
	gd–im™”
;

453 
	gi
 = 0; i < 
	g¬¿y
.
size
(); i++)

455 
	g¬¿y
.
™em
(
i
)->
§ve
(
out
);

456 ià(
	gb‘w“n
è
	gout
 << between;

461 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
şass
 
	gHashFn
, cÏs 
	gEqu®Fn
>

462 
wr™eA¼ay
(
HashA¼ay
<
T
*,
HashFn
,
Equ®Fn
>& 
¬¿y
, 
o¡»am
& 
out
,

463 * 
b‘w“n
=
NULL
)

464 { 
wr™eA¼ay
(
¬¿y
, 
out
, 
b‘w“n
, '\n'); }

467 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
şass
 
	gHashFn
, cÏs 
	gEqu®Fn
>

468 
»adA¼ay
(
HashA¼ay
<
T
*,
HashFn
,
Equ®Fn
>& 
¬¿y
, 
i¡»am
& 
š
)

470 
	gnumI‹ms
;

471 
	gš
 >> 
	gnumI‹ms
;

472 
	gi
 = 0; i < 
	gnumI‹ms
 && 
	gš
.
good
(); i++)

474 
T
* 
	gx
 = 
Ãw
 T;

475 
	gx
->
lßd
(
š
);

476 
	g¬¿y
.
­³nd
(
x
);

481 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
şass
 
	gHashFn
, cÏs 
	gEqu®Fn
>

482 
wr™eA¼ay
(
HashA¼ay
<
T
,
HashFn
,
Equ®Fn
>& 
¬¿y
, 
o¡»am
& 
out
,

483 * 
b‘w“n
, cÚ¡ & 
d–im™”
)

485 
	gout
 << 
	g¬¿y
.
Size
(è<< 
	gd–im™”
;

486 
	gi
 = 0; i < 
	g¬¿y
.
Size
(); i++)

488 
	g¬¿y
.
™em
(
i
).
§ve
(
out
);

489 ià(
	gb‘w“n
è
	gout
 << between;

494 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
şass
 
	gHashFn
, cÏs 
	gEqu®Fn
>

495 
wr™eA¼ay
(
HashA¼ay
<
T
,
HashFn
,
Equ®Fn
>& 
¬¿y
, 
o¡»am
& 
out
,

496 * 
b‘w“n
=
NULL
)

497 { 
wr™eA¼ay
(
¬¿y
, 
out
, 
b‘w“n
, '\n'); }

500 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
şass
 
	gHashFn
, cÏs 
	gEqu®Fn
>

501 
»adA¼ay
(
HashA¼ay
<
T
,
HashFn
,
Equ®Fn
>& 
¬¿y
, 
i¡»am
& 
š
)

503 
	gnumI‹ms
;

504 
	gš
 >> 
	gnumI‹ms
;

505 
	gi
 = 0; i < 
	gnumI‹ms
 && 
	gš
.
good
(); i++)

507 
T
 
	gx
;

508 
	gx
.
lßd
(
š
);

509 
	g¬¿y
.
­³nd
(
x
);

514 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
şass
 
	gHashFn
, cÏs 
	gEqu®Fn
>

515 
wr™eBasicA¼ay
(
HashA¼ay
<
T
,
HashFn
,
Equ®Fn
>& 
¬¿y
, 
o¡»am
& 
out
,

516 * 
b‘w“n
, cÚ¡ & 
d–im™”
)

518 
	gout
 << 
	g¬¿y
.
Size
(è<< 
	gd–im™”
;

519 
	gi
 = 0; i < 
	g¬¿y
.
Size
(); i++)

521 
	gout
 << 
	g¬¿y
.
™em
(
i
) << " ";

522 ià(
	gb‘w“n
è
	gout
 << between;

527 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
şass
 
	gHashFn
, cÏs 
	gEqu®Fn
>

528 
wr™eBasicA¼ay
(
HashA¼ay
<
T
,
HashFn
,
Equ®Fn
>& 
¬¿y
, 
o¡»am
& 
out
,

529 * 
b‘w“n
=
NULL
)

530 { 
wr™eBasicA¼ay
(
¬¿y
, 
out
, 
b‘w“n
, '\n'); }

533 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
şass
 
	gHashFn
, cÏs 
	gEqu®Fn
>

534 
»adBasicA¼ay
(
HashA¼ay
<
T
,
HashFn
,
Equ®Fn
>& 
¬¿y
, 
i¡»am
& 
š
)

536 
	gnumI‹ms
=0;

537 
	gš
 >> 
	gnumI‹ms
;

538 
	gi
 = 0; i < 
	gnumI‹ms
 && 
	gš
.
good
(); i++)

540 
T
 
	gx
;

541 
	gš
 >> 
	gx
;

542 
	g¬¿y
.
­³nd
(
x
);

544 ià(!
	gš
.
good
())

545 
	gcout
 << "ERROR:„—dBasicA¼ay(). IÅuˆnÙ good." << 
	g’dl
;

	@util/hashint.h

66 #iâdeà
HASHINT_H_NOV_10_2005


67 
	#HASHINT_H_NOV_10_2005


	)

69 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

70 
	~"hash¬¿y.h
"

71 
	~"hash.h
"

72 
	~<¡ršg.h
>

74 şas 
	cHashIÁ


76 
	mpublic
:

77 
size_t
 
	$İ”©Ü
()(cÚ¡ & 
i
ècÚ¡ {  
hash
<>()(i); }

78 
	}
};

80 şas 
	cEqu®IÁ


82 
	mpublic
:

83 
boŞ
 
	$İ”©Ü
()(cÚ¡ & 
i1
, cÚ¡ & 
i2
) const {  (i1 == i2); }

84 
	}
};

86 
	gHashA¼ay
<, 
	tHashIÁ
, 
	tEqu®IÁ
> 
	tIÁHashA¼ay
;

89 şas 
	cHashIÁA¼ay


91 
	mpublic
:

92 
size_t
 
	$İ”©Ü
()(
A¼ay
<>* cÚ¡ & 
¬r1
) const

94  
Hash
::
	`hash
(*
¬r1
);

96 
	}
};

99 şas 
	cEqu®IÁA¼ay


101 
	mpublic
:

102 
boŞ
 
	$İ”©Ü
()(
A¼ay
<>* cÚ¡ & 
¬r1
, A¼ay<>* cÚ¡ & 
¬r2
) const

104 ià(
¬r1
->
	`size
(è!ğ
¬r2
->size()è 
çl£
;

105 cÚ¡ * 
™ems1
 = 
¬r1
->
	`g‘I‹ms
();

106 cÚ¡ * 
™ems2
 = 
¬r2
->
	`g‘I‹ms
();

107  (
	`memcmp
(
™ems1
, 
™ems2
, 
¬r1
->
	`size
()*()) == 0);

109 
	}
};

111 
	gHashA¼ay
<
	tA¼ay
<> *, 
	tHashIÁA¼ay
, 
	tEqu®IÁA¼ay
> 
	tIÁA¼ayHashA¼ay
;

112 
	ghash_m­
<
	tA¼ay
<>*, , 
	tHashIÁA¼ay
, 
	tEqu®IÁA¼ay
> 
	tIÁA¼ayToIÁM­
;

	@util/hashlist.h

66 #iâdeà
HASHLIST_H_JUL_20_2005


67 
	#HASHLIST_H_JUL_20_2005


	)

69 
	~<li¡
>

70 
	~<ext/hash_m­
>

71 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

75 
	g‹m¶©e
 <
ty³Çme
 
	gTy³
, 
şass
 
	gHashFn
, cÏs 
	gEqu®Fn
>

76 şas 
	cHashLi¡


78 
	mpublic
:

79 
	$HashLi¡
()

80 : 
	`m­_
(
Ãw
 
hash_m­
<
Ty³
, 
ty³Çme
 
li¡
<Ty³>::
™”©Ü
, 
HashFn
, 
Equ®Fn
>),

81 
	`li¡_
(
Ãw
 
li¡
<
Ty³
>) {}

82 ~
	$HashLi¡
(è{ 
d–‘e
 
m­_
; d–‘
li¡_
; 
	}
}

85 
	gTy³
& 
	$äÚt
(è{  
li¡_
->
	`äÚt
(); 
	}
}

86 
	gTy³
& 
	$back
Ğè{  
li¡_
->
	`back
(); 
	}
}

88 
ty³Çme
 
	gli¡
<
	gTy³
>::
™”©Ü
 
	$begš
(è{  
li¡_
->
	`begš
(); 
	}
}

89 
ty³Çme
 
	gli¡
<
	gTy³
>::
™”©Ü
 
	$’d
(è{  
li¡_
->
	`’d
(); 
	}
}

90 
ty³Çme
 
	gli¡
<
	gTy³
>::
»v”£_™”©Ü
 
	$rbegš
(è{  
li¡_
->
	`rbegš
(); 
	}
}

91 
ty³Çme
 
	gli¡
<
	gTy³
>::
»v”£_™”©Ü
 
	$»nd
(è{  
li¡_
->
	`»nd
(); 
	}
}

94 cÚ¡ 
	gli¡
<
	gTy³
>* 
	$g‘Li¡
(ècÚ¡ {  
li¡_
; 
	}
}

96 
boŞ
 
	$cÚšs
(cÚ¡ 
Ty³
& 
v®
) const

97 {  (
m­_
->
	`fšd
(
v®
è!ğm­_->
	`’d
()); 
	}
}

100 
Ty³
* 
	$fšd
(cÚ¡ 
Ty³
& 
v®
) const

102 
ty³Çme


103 
hash_m­
<
Ty³
, 
ty³Çme
 
li¡
<Ty³>::
™”©Ü
, 
HashFn
, 
Equ®Fn
>::iterator

104 
m™
 = 
m­_
->
	`fšd
(
v®
);

106 ià(
m™
 =ğ
m­_
->
	`’d
()è 
NULL
;

107  (
Ty³
*)(&((*
m™
).
fœ¡
));

108 
	}
}

111 
ty³Çme
 
	gli¡
<
	gTy³
>::
™”©Ü
 
	$fšdLi¡I‹¿tÜ
(cÚ¡ 
Ty³
& 
v®
) const

113 
ty³Çme


114 
hash_m­
<
Ty³
, 
ty³Çme
 
li¡
<Ty³>::
™”©Ü
, 
HashFn
, 
Equ®Fn
>::iterator

115 
m™
 = 
m­_
->
	`fšd
(
v®
);

117 ià(
m™
 =ğ
m­_
->
	`’d
()è 
NULL
;

118  (
Ty³
*)(&((*
m™
).
fœ¡
));

119 
	}
}

122 
	$ş—r
(è{ 
m­_
->
	`ş—r
(); 
li¡_
->ş—r(); 
	}
}

125 
	$d–‘eCÚ‹ÁsAndCË¬
()

127 
ty³Çme
 
li¡
<
Ty³
>::
™”©Ü
 
™
 = 
li¡_
->
	`begš
();

128 ; 
™
 !ğ
li¡_
->
	`’d
(); it++è
d–‘e
 *it;

129 
m­_
->
	`ş—r
();

130 
li¡_
->
	`ş—r
();

131 
	`as£¹
(
m­_
->
	`size
(è=ğ
li¡_
->size());

132 
	}
}

135 
boŞ
 
	$em±y
(ècÚ¡ {  
li¡_
->
	`em±y
(); 
	}
}

139 
boŞ
 
	$”a£
(cÚ¡ 
Ty³
& 
v®
, cÚ¡ 
boŞ
& 
d–‘eV®
=
çl£
)

141 
ty³Çme


142 
hash_m­
<
Ty³
, 
ty³Çme
 
li¡
<Ty³>::
™”©Ü
, 
HashFn
, 
Equ®Fn
>::iterator

143 
m™
 = 
m­_
->
	`fšd
(
v®
);

145 ià(
m™
 =ğ
m­_
->
	`’d
()è 
çl£
;

146 
ty³Çme
 
li¡
<
Ty³
>::
™”©Ü
 
l™
 = (*
m™
).
£cÚd
;

147 
li¡_
->
	`”a£
(
l™
);

148 
m­_
->
	`”a£
(
m™
);

149 
	`as£¹
(
m­_
->
	`size
(è=ğ
li¡_
->size());

150 ià(
d–‘eV®
è
d–‘e
 *
l™
;

151  
Œue
;

152 
	}
}

155 
boŞ
 
	$”a£AndD–‘e
(cÚ¡ 
Ty³
& 
v®
è{  
	`”a£
(v®, 
Œue
); 
	}
}

159 
boŞ
 
š£¹
(
ty³Çme
 
li¡
<
Ty³
>::
™”©Ü
 
loc
, cÚ¡ Ty³& 
v®
)

161 ià(
cÚšs
(
v®
)è 
	gçl£
;

162 
	gli¡_
->
š£¹
(
loc
, 
v®
);

163 (*
	gm­_
)[
v®
] = --
loc
;

164 
as£¹
(
m­_
->
size
(è=ğ
li¡_
->size());

165  
	gŒue
;

169 
	$maxSize
() const

171 ià(
m­_
->
	`max_size
(è< 
li¡_
->max_size())  map_->max_size();

172  
li¡_
->
	`max_size
();

173 
	}
}

176 
	$pİBack
()

178 
Ty³
& 
v®
 = 
li¡_
->
	`back
();

179 
li¡_
->
	`pİ_back
();

180 
ty³Çme


181 
hash_m­
<
Ty³
,
ty³Çme
 
li¡
<Ty³>::
™”©Ü
, 
HashFn
, 
Equ®Fn
>::iterator

182 
m™
 = 
m­_
->
	`fšd
(
v®
);

183 
	`as£¹
(
m™
 !ğ
m­_
->
	`’d
());

184 
m­_
->
	`”a£
(
m™
);

185 
	`as£¹
(
m­_
->
	`size
(è=ğ
li¡_
->size());

186 
	}
}

189 
	$pİFrÚt
()

191 
Ty³
& 
v®
 = 
li¡_
->
	`äÚt
();

192 
li¡_
->
	`pİ_äÚt
();

193 
ty³Çme


194 
hash_m­
<
Ty³
,
ty³Çme
 
li¡
<Ty³>::
™”©Ü
, 
HashFn
, 
Equ®Fn
>::iterator

195 
m™
 = 
m­_
->
	`fšd
(
v®
);

196 
	`as£¹
(
m™
 !ğ
m­_
->
	`’d
());

197 
m­_
->
	`”a£
(
m™
);

198 
	`as£¹
(
m­_
->
	`size
(è=ğ
li¡_
->size());

199 
	}
}

202 
boŞ
 
	$pushBack
(cÚ¡ 
Ty³
& 
v®
)

204 ià(
	`cÚšs
(
v®
)è 
çl£
;

205 
li¡_
->
	`push_back
(
v®
);

206 
ty³Çme
 
li¡
<
Ty³
>::
™”©Ü
 
l™
 = 
li¡_
->
	`’d
();

207 (*
m­_
)[
v®
] = --
l™
;

208 
	`as£¹
(
m­_
->
	`size
(è=ğ
li¡_
->size());

209  
Œue
;

210 
	}
}

213 
boŞ
 
	$pushFrÚt
(cÚ¡ 
Ty³
& 
v®
)

215 ià(
	`cÚšs
(
v®
)è 
çl£
;

216 
li¡_
->
	`push_äÚt
(
v®
);

217 (*
m­_
)[
v®
] = 
li¡_
->
	`begš
();

218 
	`as£¹
(
m­_
->
	`size
(è=ğ
li¡_
->size());

219  
Œue
;

220 
	}
}

223 
	$»v”£
(è{ 
li¡_
->
	`»v”£
(); 
	}
}

225 
	$size
(è{ 
	`as£¹
(
m­_
->
	`size
(è=ğ
li¡_
->size()); †i¡_->size(); 
	}
}

228 
	g´iv©e
:

230 
hash_m­
<
Ty³
, 
ty³Çme
 
	gli¡
<
	gTy³
>::
™”©Ü
, 
	gHashFn
, 
	gEqu®Fn
>* 
	gm­_
;

231 
	gli¡
<
	gTy³
>* 
	gli¡_
;

	@util/hashstring.h

66 #iâdeà
HASHSTRING_H_JUL_10_2004


67 
	#HASHSTRING_H_JUL_10_2004


	)

69 
	~<¡ršg
>

70 
	~<ext/hash_£t
>

71 
	~<ext/hash_m­
>

72 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

73 
	~"hash¬¿y.h
"

75 şas 
	cHashSŒšg


77 
	mpublic
:

78 
size_t
 
	$İ”©Ü
()(
¡ršg
 cÚ¡& 
¡r
) const

80  
hash
<cÚ¡ *>()(
¡r
.
	`c_¡r
());

82 
	}
};

84 şas 
	cEqu®SŒšg


86 
	mpublic
:

87 
boŞ
 
	$İ”©Ü
()(
¡ršg
 cÚ¡ & 
s1
, sŒšg cÚ¡ & 
s2
) const

89  (
s1
.
	`com·»
(
s2
)==0);

91 
	}
};

93 
	ghash_£t
<
	t¡ršg
, 
	tHashSŒšg
, 
	tEqu®SŒšg
> 
	tSŒšgS‘
;

94 
	ghash_m­
<
	t¡ršg
, , 
	tHashSŒšg
, 
	tEqu®SŒšg
> 
	tSŒšgToIÁM­
;

95 
	gHashA¼ay
<
	t¡ršg
, 
	tHashSŒšg
, 
	tEqu®SŒšg
> 
	tSŒšgHashA¼ay
;

	@util/meanvariance.h

66 #iâdeà
MEANVARIANCE_H_SEP_30_2005


67 
	#MEANVARIANCE_H_SEP_30_2005


	)

70 şas 
	cM—nV¬Ÿnû


72 
	mpublic
:

73 
	$M—nV¬Ÿnû
(è: 
	`tÙ®X_
(0), 
	`tÙ®XSqu¬ed_
(0), 
	$numV®ues_
(0) {}

75 
	$»£t
(è{ 
tÙ®X_
 = 0; 
tÙ®XSqu¬ed_
 = 0; 
numV®ues_
 = 0; 
	}
}

77 
	$­³ndV®ue
(cÚ¡ & 
x
)

79 
tÙ®X_
 +ğ
x
;

80 
tÙ®XSqu¬ed_
 +ğ
x
*x;

81 
numV®ues_
++;

82 
	}
}

84 
	$g‘NumV®ues
(ècÚ¡ {  
numV®ues_
; 
	}
}

85 
	$£tNumV®ues
(cÚ¡ & 
n
è{ 
numV®ues_
 =‚; 
	}
}

86 
	$g‘M—n
(ècÚ¡ {  
tÙ®X_
 / 
numV®ues_
; 
	}
}

88 
	$g‘V¬Ÿnû
()

91 
m—nXSqu¬ed
 = 
tÙ®XSqu¬ed_
/
numV®ues_
;

92 
m—nX
 = 
tÙ®X_
/
numV®ues_
;

93  ((()
numV®ues_
)/ÒumV®ues_-1)è* (
m—nXSqu¬ed
 - 
m—nX
*meanX);

94 
	}
}

96 
	g´iv©e
:

97 
tÙ®X_
;

98 
	gtÙ®XSqu¬ed_
;

99 
	gnumV®ues_
;

	@util/multdarray.h

66 #iâdeà
MULTIDARRAY_H_SEP_12_2005


67 
	#MULTIDARRAY_H_SEP_12_2005


	)

69 
	~"¬¿y.h
"

72 
	g‹m¶©e
 <
ty³Çme
 
	gTy³
>

73 şas 
	cMuÉDA¼ay


75 
	mpublic
:

77 
MuÉDA¼ay
(cÚ¡ 
A¼ay
<>* cÚ¡ & 
dim
)

79 
¬r_
 = 
Ãw
 
A¼ay
<
Ty³
>;

80 
	mn
 = 1;

81 
	mi
 = 0; i < 
	mdim
->
size
(); i++è
	mn
 *ğ(*
dim
)[
i
];

82 
	m¬r_
->
growToSize
(
n
);

84 
	mmuÉl›r_
 = 
Ãw
 
A¼ay
<>;

85 
	mi
 = 0; i < 
	mdim
->
size
(); i++)

87 
	mn
 /ğ(*
dim
)[
i
];

88 
	mmuÉl›r_
->
­³nd
(
n
);

93 ~
	$MuÉDA¼ay
()

95 ià(
muÉl›r_
è
d–‘e
 multiplier_;

96 ià(
¬r_
è
d–‘e
‡rr_;

97 
	}
}

100 cÚ¡ 
	gA¼ay
<
	gTy³
>* 
	$g‘1DA¼ay
(è{  
¬r_
; 
	}
}

103 
Ty³
 
g‘I‹m
(cÚ¡ 
A¼ay
<>* cÚ¡ & 
šdexes
) const

104 {  (*
	g¬r_
)[
g‘Index
(
šdexes
)]; }

107 
£tI‹m
(cÚ¡ 
A¼ay
<>* cÚ¡ & 
šdexes
, cÚ¡ 
Ty³
& 
™em
)

108 { (*
	g¬r_
)[
g‘Index
(
šdexes
)] = 
™em
; }

111 
addI‹m
(cÚ¡ 
A¼ay
<>* cÚ¡ & 
šdexes
, cÚ¡ 
Ty³
& 
™em
)

112 { (*
	g¬r_
)[
g‘Index
(
šdexes
)] +ğ
™em
; }

115 
	g´iv©e
:

116 
g‘Index
(cÚ¡ 
A¼ay
<>* cÚ¡ & 
šdexes
) const

118 
as£¹
(
šdexes
->
size
(è=ğ
muÉl›r_
->size());

119 
	gidx
 = 0;

120 
	gi
 = 0; i < 
	gšdexes
->
size
(); i++)

121 
	gidx
 +ğ(*
šdexes
)[
i
] * (*
muÉl›r_
)[i];

122  
	gidx
;

126 
	g´iv©e
:

127 
A¼ay
<>* 
muÉl›r_
;

128 
	gA¼ay
<
	gTy³
>* 
	g¬r_
;

	@util/permutation.h

66 #iâdeà
PERMUTATION_H


67 
	#PERMUTATION_H


	)

68 
	~"¬¿y.h
"

69 
	~"¬¿y§cûssÜ.h
"

75 
	g‹m¶©e
<
ty³Çme
 
	gTy³
>

76 şas 
	cP”mutiÚ


78 
	mpublic
:

79 
	$P”mutiÚ
()

80 : 
	$hasNext_
(
çl£
)

83 
	`P”mutiÚ
(cÚ¡ 
A¼ay
<
Ty³
>& 
v®s
)

84 { 
	`£tV®ues
(
v®s
); 
	}
}

87 
£tV®ues
(cÚ¡ 
A¼ay
<
Ty³
>& 
v®s
)

89 
	gv®ues_
 = 
v®s
;

91 
	g³rm_
.
ş—r
();

92 
	g³rm_
.
growToSize
(
v®ues_
.
size
());

93 
	gfËd_
.
ş—r
();

94 
	gfËd_
.
growToSize
(
v®ues_
.
size
());

98 
	g´evDu¶iÿ‹_
.
ş—r
();

99 
	gnumL©”Du¶iÿ‹s_
.
ş—r
();

100 
	gi
 = 0; i < 
	gv®ues_
.
size
(); i++) {

101 
	g´evDu¶iÿ‹
 = -1;

102 
	gj
 = 0; j < 
	gi
; j++) {

103 ià(
	gv®ues_
[
j
] =ğ
v®ues_
[
i
]) {

104 
´evDu¶iÿ‹
 = 
j
;

105 
	gnumL©”Du¶iÿ‹s_
[
j
]++;

108 
	g´evDu¶iÿ‹_
.
­³nd
(
´evDu¶iÿ‹
);

109 
	gnumL©”Du¶iÿ‹s_
.
­³nd
(0);

112 
»£t
();

115 
	$»£t
()

117 
sks_
.
	`ş—r
();

118 
sks_
.
	`growToSize
(
v®ues_
.
	`size
());

121 
i
 = 0; i < 
sks_
.
	`size
(); i++) {

122 
sks_
[
i
] = 0;

125 
i
 = 0; i < 
v®ues_
.
	`size
(); i++) {

126 
³rm_
[
i
] = 
v®ues_
[i];

130 
hasNext_
 = 
Œue
;

131 
	}
}

133 ~
	$P”mutiÚ
(è{ 
	}
}

135 
	$size
() {

136  
v®ues_
.
	`size
();

137 
	}
}

139 
boŞ
 
	$hasNext
() {

140  
hasNext_
;

141 
	}
}

144 
	$Ãxt
() {

147 
hasNext_
 = 
çl£
;

148 
i
 = 
	`size
() - 2; i >= 0; i--) {

149 
sks_
[
i
]++;

150 
numSks
 = 
sks_
[
i
];

152 
´evIndex
 = 
i
;

153 
´evDu¶iÿ‹_
[
´evIndex
] >= 0) {

154 
numSks
 +ğ
sks_
[
´evDu¶iÿ‹_
[
´evIndex
]];

155 
´evIndex
 = 
´evDu¶iÿ‹_
[prevIndex];

157 ià(
numSks
 < 
	`size
(è- 
i
 - 
numL©”Du¶iÿ‹s_
[i]) {

158 
hasNext_
 = 
Œue
;

161 
sks_
[
i
] = 0;

166 
i
 = 0; i < 
	`size
(); i++) {

167 
fËd_
[
i
] = 
çl£
;

170 
i
 = 0; i < 
	`size
(); i++) {

171 
numSks
 = 
sks_
[
i
];

172 ià(
´evDu¶iÿ‹_
[
i
] >= 0) {

173 
numSks
 +ğ
sks_
[
´evDu¶iÿ‹_
[
i
]];

175 
cu¼Index
 = 0;

176 
numSks
 > 0 || 
fËd_
[
cu¼Index
]) {

177 ià(!
fËd_
[
cu¼Index
]) {

178 
numSks
--;

180 
cu¼Index
++;

181 
	`as£¹
 (
cu¼Index
 < 
	`size
());

183 
³rm_
[
cu¼Index
] = 
v®ues_
[
i
];

184 
fËd_
[
cu¼Index
] = 
Œue
;

186 
	}
}

188 
Ty³
 
	gİ”©Ü
[](
	gidx
) {

189  
	g³rm_
[
idx
];

193 
	g´iv©e
:

194 
boŞ
 
hasNext_
;

195 
	gA¼ay
<> 
	gsks_
;

196 
	gA¼ay
<
	gTy³
> 
	gv®ues_
;

197 
	gA¼ay
<
	gboŞ
> 
	gfËd_
;

198 
	gA¼ay
<
	gTy³
> 
	g³rm_
;

199 
	gA¼ay
<> 
	g´evDu¶iÿ‹_
;

200 
	gA¼ay
<> 
	gnumL©”Du¶iÿ‹s_
;

	@util/powerset.cpp

66 
	~"pow”£t.h
"

67 
Pow”S‘
* 
	gPow”S‘
::
ps_
 = 
NULL
;

	@util/powerset.h

66 #iâdeà
POWERSET_H_SEP_6_2005


67 
	#POWERSET_H_SEP_6_2005


	)

69 
	~"¬¿y.h
"

72 cÚ¡ 
	gMAX_SIZE_TO_STORE
 = 10;

75 
	sPow”S‘In¡ªûV¬s


77 
	m‹mpMaxSize
;

78 
	msizeIdx
;

79 
	mÏ¡NumIdx
;

80 
	mcombIdx
;

81 
boŞ
 
	msm®lSizeFœ¡
;

85 şas 
	cPow”S‘


88 
	mpublic
:

89 
	$Pow”S‘
(è: 
	`£tSizeA¼_
(
Ãw
 
A¼ay
<Array<Array<Array<>*>*>*>)

91 
š¡ªûV¬s_
.
‹mpMaxSize
 = 0;

92 
š¡ªûV¬s_
.
sizeIdx
 = 1;

93 
š¡ªûV¬s_
.
Ï¡NumIdx
 = 0;

94 
š¡ªûV¬s_
.
combIdx
 = 0;

98 
public
:

99 
Pow”S‘
* 
	$g‘Pow”S‘
()

101 ià(
ps_
 =ğ
NULL
èps_ = 
Ãw
 
Pow”S‘
;

102  
ps_
;

103 
	}
}

105 
	$d–‘ePow”S‘
(è{ ià(
ps_
è
d–‘e
…s_; 
	}
}

108 ~
	$Pow”S‘
()

110 
i
 = 0; i < 
£tSizeA¼_
->
	`size
(); i++)

112 ià((*
£tSizeA¼_
)[
i
] =ğ
NULL
) ;

113 
j
 = 0; j < (*
£tSizeA¼_
)[
i
]->
	`size
(); j++)

115 ià((*(*
£tSizeA¼_
)[
i
])[
j
] =ğ
NULL
) ;

116 
k
 = 0; k < (*(*
£tSizeA¼_
)[
i
])[
j
]->
	`size
(); k++)

117 
	`d–‘e
 (*(*(*
£tSizeA¼_
)[
i
])[
j
])[
k
];

118 
	`d–‘e
 (*(*
£tSizeA¼_
)[
i
])[
j
];

120 
	`d–‘e
 (*
£tSizeA¼_
)[
i
];

122 
d–‘e
 
£tSizeA¼_
;

123 
	}
}

126 
	$ü—‹
(cÚ¡ & 
maxSize
)

128 
curMaxSize
 = 
£tSizeA¼_
->
	`size
()-1;

131 ià(
maxSize
 <ğ
curMaxSize
) ;

132 
£tSizeA¼_
->
	`growToSize
(
maxSize
+1, 
NULL
);

135 ià(
curMaxSize
 < 0è(*
£tSizeA¼_
)[1] = 
Ãw
 
A¼ay
<Array<Array<>*>*>;

136 
A¼ay
<A¼ay<A¼ay<>*>*>* 
un™Combs
 = (*
£tSizeA¼_
)[1];

137 
un™Combs
->
	`growToSize
(
maxSize
,
NULL
);

138 
i
 = (
curMaxSize
<0)?0:curMaxSize; i < 
maxSize
; i++)

140 
A¼ay
<A¼ay<>*>* 
un™Comb
 = 
Ãw
 Array<Array<>*>;

141 
un™Comb
->
	`­³nd
(
Ãw
 
A¼ay
<>);

142 
un™Comb
->
	`Ï¡I‹m
()->
	`­³nd
(
i
);

143 
un™Comb
->
	`Ï¡I‹m
()->
	`com´ess
();

144 
un™Comb
->
	`com´ess
();

145 (*
un™Combs
)[
i
] = 
un™Comb
;

147 ià(
curMaxSize
 < 0) curMaxSize = 1;

150 
s
 = 2; s <ğ
maxSize
; s++)

152 
»maššgSize
 = 
s
-1;

153 
A¼ay
<A¼ay<A¼ay<>*>*>* 
combs
 = (*
£tSizeA¼_
)[
»maššgSize
];

156 
i
 = 
curMaxSize
; i < 
maxSize
; i++)

158 
j
 = 0; j < 
i
; j++)

160 
A¼ay
<A¼ay<>*>* 
combsEndInJ
 = (*
combs
)[
j
];

162 ià(
combsEndInJ
 =ğ
NULL
) ;

163 
k
 = 0; k < 
combsEndInJ
->
	`size
(); k++)

165 
A¼ay
<>* 
comb
 = (*
combsEndInJ
)[
k
];

166 
	`as£¹
 (
comb
->
	`Ï¡I‹m
(è=ğ
j
);

167 
	`as£¹
 (
comb
->
	`Ï¡I‹m
(è< 
i
);

168 
A¼ay
<>* 
ÃwComb
 = 
Ãw
 A¼ay<>(*
comb
);

169 
ÃwComb
->
	`­³nd
(
i
);

170 
ÃwComb
->
	`com´ess
();

171 
	`as£¹
(
ÃwComb
->
	`size
(è=ğ
s
);

172 ià((*
£tSizeA¼_
)[
s
] =ğ
NULL
)

173 (*
£tSizeA¼_
)[
s
] = 
Ãw
 
A¼ay
<Array<Array<>*>*>;

174 ià((*
£tSizeA¼_
)[
s
]->
	`size
(è< 
maxSize
)

175 (*
£tSizeA¼_
)[
s
]->
	`growToSize
(
maxSize
,
NULL
);

176 ià((*(*
£tSizeA¼_
)[
s
])[
i
] =ğ
NULL
)

177 (*(*
£tSizeA¼_
)[
s
])[
i
] = 
Ãw
 
A¼ay
<Array<>*>;

178 (*(*
£tSizeA¼_
)[
s
])[
i
]->
	`­³nd
(
ÃwComb
);

180 (*(*
£tSizeA¼_
)[
s
])[
i
]->
	`com´ess
();

184 
	}
}

187 
	$de¡roy
()

189 ià(
£tSizeA¼_
->
	`size
()-1 <ğ
MAX_SIZE_TO_STORE
) ;

191 
i
 = 0; i < 
£tSizeA¼_
->
	`size
(); i++)

193 ià((*
£tSizeA¼_
)[
i
] =ğ
NULL
) ;

195 ià(
i
 <ğ
MAX_SIZE_TO_STORE
)

197 
j
 = 
MAX_SIZE_TO_STORE
; j < (*
£tSizeA¼_
)[
i
]->
	`size
(); j++)

199 ià((*(*
£tSizeA¼_
)[
i
])[
j
] =ğ
NULL
) ;

200 
k
 = 0; k < (*(*
£tSizeA¼_
)[
i
])[
j
]->
	`size
(); k++)

201 
	`d–‘e
 (*(*(*
£tSizeA¼_
)[
i
])[
j
])[
k
];

202 
	`d–‘e
 (*(*
£tSizeA¼_
)[
i
])[
j
];

204 (*
£tSizeA¼_
)[
i
]->
	`shrškToSize
(
MAX_SIZE_TO_STORE
);

208 
j
 = 0; j < (*
£tSizeA¼_
)[
i
]->
	`size
(); j++)

210 ià((*(*
£tSizeA¼_
)[
i
])[
j
] =ğ
NULL
) ;

211 
k
 = 0; k < (*(*
£tSizeA¼_
)[
i
])[
j
]->
	`size
(); k++)

212 
	`d–‘e
 (*(*(*
£tSizeA¼_
)[
i
])[
j
])[
k
];

213 
	`d–‘e
 (*(*
£tSizeA¼_
)[
i
])[
j
];

215 
	`d–‘e
 (*
£tSizeA¼_
)[
i
];

218 
£tSizeA¼_
->
	`shrškToSize
(
MAX_SIZE_TO_STORE
+1);

219 
	}
}

222 
	$´•¬eAcûss
(cÚ¡ & 
‹mpMaxSize
, 
Pow”S‘In¡ªûV¬s
& 
š¡V¬s
,

223 cÚ¡ 
boŞ
& 
sm®lSizeFœ¡
=
Œue
)

225 ià(
‹mpMaxSize
 > 
£tSizeA¼_
->
	`size
()-1)

226 
	`ü—‹
(
‹mpMaxSize
);

228 
š¡V¬s
.
‹mpMaxSize
 =empMaxSize;

229 
š¡V¬s
.
sizeIdx
 = (
sm®lSizeFœ¡
è? 1 : 
‹mpMaxSize
;

230 
š¡V¬s
.
Ï¡NumIdx
 = in¡V¬s.
sizeIdx
 - 1;

231 
š¡V¬s
.
combIdx
 = -1;

232 
š¡V¬s
.
sm®lSizeFœ¡
 = smallSizeFirst;

233 
	}
}

236 
	$´•¬eAcûss
(cÚ¡ & 
‹mpMaxSize
, cÚ¡ 
boŞ
& 
sm®lSizeFœ¡
=
Œue
)

237 { 
	`´•¬eAcûss
(
‹mpMaxSize
, 
š¡ªûV¬s_
, 
sm®lSizeFœ¡
); 
	}
}

240 
boŞ
 
g‘NextS‘
(cÚ¡ 
A¼ay
<>*& 
£t
, 
Pow”S‘In¡ªûV¬s
& 
š¡V¬s
)

242 & 
	g‹mpMaxSize
 = 
š¡V¬s
.
‹mpMaxSize
;

243 & 
	gsizeIdx
 = 
š¡V¬s
.
sizeIdx
;

244 & 
	gÏ¡NumIdx
 = 
š¡V¬s
.
Ï¡NumIdx
;

245 & 
	gcombIdx
 = 
š¡V¬s
.
combIdx
;

246 
	gboŞ
& 
	gsm®lSizeFœ¡
 = 
š¡V¬s
.
sm®lSizeFœ¡
;

248 ià(++
	gcombIdx
 >ğ(*(*
£tSizeA¼_
)[
sizeIdx
])[
Ï¡NumIdx
]->
size
())

250 
combIdx
 = 0;

251 ++
	gÏ¡NumIdx
;

252 
	gÏ¡NumIdx
 =ğ
‹mpMaxSize
 ||

253 (
Ï¡NumIdx
 < 
‹mpMaxSize
 &&

254 (*(*
£tSizeA¼_
)[
sizeIdx
])[
Ï¡NumIdx
] =ğ
NULL
 ))

256 ++
Ï¡NumIdx
;

257 ià(
	gÏ¡NumIdx
 >ğ
‹mpMaxSize
)

259 ià(
sm®lSizeFœ¡
)

261 
Ï¡NumIdx
 = 
sizeIdx
 - 1;

262 ++
	gsizeIdx
 <ğ
‹mpMaxSize
 && (*
£tSizeA¼_
)[
sizeIdx
]==
NULL
);

263 ià(
	gsizeIdx
 > 
	g‹mpMaxSize
è 
	gçl£
;

267 
	gÏ¡NumIdx
 = 
sizeIdx
 - 2;

268 --
	gsizeIdx
 >ğ1 && (*
£tSizeA¼_
)[
sizeIdx
]==
NULL
);

269 ià(
	gsizeIdx
 < 1è 
	gçl£
;

272 ià((*(*
	g£tSizeA¼_
)[
sizeIdx
])[
Ï¡NumIdx
] !ğ
NULL
) ;

275 
	g£t
 = (*(*(*
£tSizeA¼_
)[
sizeIdx
])[
Ï¡NumIdx
])[
combIdx
];

276  
	gŒue
;

280 
boŞ
 
g‘NextS‘
(cÚ¡ 
A¼ay
<>*& 
£t
)

281 {  
g‘NextS‘
(
£t
, 
š¡ªûV¬s_
); }

284 
	gA¼ay
<A¼ay<A¼ay<A¼ay<>*>*>*>* 
	$g‘S‘SizeA¼
() const

285 {  
£tSizeA¼_
; 
	}
}

288 
	go¡»am
& 
	$´št
(
o¡»am
& 
out
) const

290 
n
 = 0;

291 
i
 = 0; i < 
£tSizeA¼_
->
	`size
(); i++)

293 ià((*
£tSizeA¼_
)[
i
] =ğ
NULL
) ;

294 
j
 = 0; j < (*
£tSizeA¼_
)[
i
]->
	`size
(); j++)

296 ià((*(*
£tSizeA¼_
)[
i
])[
j
] !ğ
NULL
)

298 
k
 = 0; k < (*(*
£tSizeA¼_
)[
i
])[
j
]->
	`size
(); k++)

300 
cout
 << 
n
++ << ": ";

301 
l
 = 0;† < (*(*(*
£tSizeA¼_
)[
i
])[
j
])[
k
]->
	`size
();†++)

302 
cout
 << (*(*(*(*
£tSizeA¼_
)[
i
])[
j
])[
k
])[
l
] << " ";

303 
cout
 << 
’dl
;

308  
out
;

309 
	}
}

312 
	g´iv©e
:

313 
Pow”S‘
* 
ps_
;

316 
	gA¼ay
<A¼ay<A¼ay<A¼ay<>*>*>*>* 
	g£tSizeA¼_
;

318 
Pow”S‘In¡ªûV¬s
 
	gš¡ªûV¬s_
;

322 
šlše


323 
	go¡»am
& 
	gİ”©Ü
<<(o¡»am& 
	gout
, cÚ¡ 
	gPow”S‘
& 
	gp
è{ ….
´št
(
out
); }

	@util/random.cpp

67 
	~"¿ndom.h
"

68 
	~"m©h.h
"

70 
boŞ
 
	gExtRªdom
::
devŸ‹_avaabË
 = 
çl£
;

72 
	gExtRªdom
::
£cÚd_devŸ‹
 = 0;

74 
	gExtRªdom
::
	$unifÜmRªdom
()

76 
u
;

77 
u
 = ()
	`¿nd
(è/ ()
RAND_MAX
;

78  
u
;

79 
	}
}

81 
	gExtRªdom
::
	$gaussRªdom
(
mu
, 
sd
)

84 ià(
devŸ‹_avaabË
)

86 
devŸ‹_avaabË
 = 
çl£
;

87  
mu
 + 
£cÚd_devŸ‹
 * 
sd
;

91 
v1
, 
v2
, 
rsq
;

94 
v1
 = 2.0 * 
	`unifÜmRªdom
() - 1.0;

95 
v2
 = 2.0 * 
	`unifÜmRªdom
() - 1.0;

96 
rsq
 = 
v1
*v1 + 
v2
*v2;

98 
rsq
 >= 1.0 ||„sq == 0.0);

99 
çc
 = 
	`sq¹
(-2.0*
	`log
(
rsq
)/rsq);

100 
£cÚd_devŸ‹
 = 
v1
 * 
çc
;

101 
devŸ‹_avaabË
 = 
Œue
;

102  
mu
 + 
v2
 * 
çc
 * 
sd
;

104 
	}
}

106 
	gExtRªdom
::
	$expRªdom
(
Ïmbda
)

109 
num
;

111 
num
 = 
	`unifÜmRªdom
();

112 
num
 == 0.0);

113  -
	`log
(
num
è/ 
Ïmbda
;

114 
	}
}

116 
	gExtRªdom
::
	$Compu‹Gauss
(
mu
, 
sigma
, 
x
)

118 
»
;

119 
»
 = 
x
 - 
mu
;

120 
»
 *=„e;

121 
»
 = -»/(2*
sigma
*sigma);

122 
»
 = 
	`exp
(re);

124 
»
 =„e/(
sigma
 * 
	`sq¹
(2*
PI
));

126  
»
;

127 
	}
}

130 
	gExtRªdom
::
	$Compu‹LnGauss
(
mu
, 
sigma
, 
v1
, 
v2
,

131 
x
)

133 
»
;

136 iàĞ
x
 < 
v1
 || x > 
v2
 )

138  -
BigV®ue
;

144 
»
 = 
x
 - 
mu
;

145 
»
 *=„e;

146 
»
 =„/ (2 * 
sigma
 * sigma);

148 
»
 = -re;

151  
»
;

152 
	}
}

154 
	gExtRªdom
::
	$GaussŸnIÁeg¿l
(
mu
, 
sigma
, 
v1
,

155 
v2
)

157 
»
 = 0;

158 
x
;

159 
d–
;

160 
d–
 = (
v2
-
v1
)/
INTEGRALSTEP
;

161 
i
;

162  
i
 = 0; i < 
INTEGRALSTEP
; i++ )

164 
x
 = 
v1
 + ()
i
 * 
d–
;

165 
»
 =„+ 
	`Compu‹Gauss
(
mu
, 
sigma
,
x
è* 
d–
;

167  
»
;

168 
	}
}

170 
	gExtRªdom
::
GaussŸnP¬aL—ºšg
(&
mu
, &
sigma
, &
v1
,

171 &
v2
, 
veùÜ
<> 
Td©a
)

173 
	gNumOfTD©a
 = 
Td©a
.
size
();

174 
	gi
;

175 
	gveùÜ
<>::
™”©Ü
 
f™”
 = 
Td©a
.
begš
();

176 
	gv1
 = 
Td©a
[0];

177 
	gv2
 = 
Td©a
[0];

179 
	gmu
 = 0;

180 
	gi
 = 0; i < 
	gNumOfTD©a
; i++)

182 
	gmu
 +ğ*(
f™”
+
i
);

183 ià(
	gv1
 > 
	gTd©a
[
i
])

185 
	gv1
 = 
Td©a
[
i
];

188 ià(
	gv2
 < 
	gTd©a
[
i
])

190 
	gv2
 = 
Td©a
[
i
];

193 
	gmu
 /ğ
NumOfTD©a
;

195 
	gsigma
 = 0;

196 
	gi
 = 0; i < 
	gNumOfTD©a
; i++)

198 
	gsigma
 +ğ
pow
(*(
f™”
+
i
)-
mu
, 2);

200 
	gsigma
 /ğ()(
NumOfTD©a
-1);

201 
	gsigma
 = 
sq¹
(
sigma
);

	@util/random.h

66 #iâdeà
RANDOM_H_JUN_21_2005


67 
	#RANDOM_H_JUN_21_2005


	)

69 
	~<c¡dlib
>

70 
	~<io¡»am
>

71 
	~<veùÜ
>

72 
usšg
 
Çme¥aû
 
	g¡d
;

74 
	#PI
 3.1415926

	)

75 
	#INTEGRALSTEP
 1000

	)

76 
	#BigV®ue
 900000000

	)

77 
	#BigV®ue2
 50000

	)

78 
	#NÜm®izeBa£
 10

	)

80 şas 
	cRªdom


82 
	mpublic
:

83 
	$Rªdom
(è: 
	$š™Num_
(0) {}

84 ~
	$Rªdom
(è{
	}
}

87 
	$š™
(cÚ¡ & 
š™Num
)

89 ià(
š™Num_
 < 0)

91 
cout
 << "WARNING: you can only call Random::init() once. Ignoring call."

92 << 
’dl
;

96 ià(
š™Num
 >= 0)

98 
cout
 << "Random::init()ƒxpects‡‚egative‚umber but is given "

99 << 
š™Num
 << 
’dl
;

100 
	`ex™
(-1);

103 
š™Num_
 = 
š™Num
;

106 
num2_
 = 123456789;

107 
a_
 = 0;

109 
	`¿ndomA
(&
š™Num_
);

111 
	}
}

115 
	$¿ndom
()

117  
	`¿ndomA
(&
š™Num_
);

119 
	}
}

122 
	$¿ndomOÃOf
(cÚ¡ & 
a
è{  (è× * 
	`¿ndom
()); 
	}
}

125 
	g´iv©e
:

126 
	$¿ndomA
(* 
š™Num
)

128 
c
;

129 
d
;

130 
tmp
;

132 ià(*
š™Num
 <ğ0 || !
a_
)

134 ià(-(*
š™Num
) < 1)

135 *
š™Num
 = 1;

137 *
š™Num
 = -(*initNum);

139 
c
 = 32+7; c >= 0; c--)

141 
d
 = (*
š™Num
)/127773;

142 *
š™Num
 = 16807 * (*š™Num - 
d
*127773) - 2836*d;

144 ià(*
š™Num
 < 0)

145 *
š™Num
 += 2147483647;

147 ià(
c
 < 32)

148 
b_
[
c
] = *
š™Num
;

150 
a_
 = 
b_
[0];

152 
d
 = (*
š™Num
)/127773;

153 *
š™Num
 = 16807 * (*š™Num - 
d
*127773) - 2836*d;

154 ià(*
š™Num
 < 0)

155 *
š™Num
 += 2147483647;

156 
c
 = 
a_
 / (1 + (2147483647-1)/ 32);

157 
a_
 = 
b_
[
c
];

158 
b_
[
c
] = *
š™Num
;

159 ià((
tmp
 = (1.0/2147483647)*
a_
) > (1.0 - 1.2e-7))

162  
tmp
;

163 
	}
}

166 
	$¿ndomB
(* 
š™Num
)

168 
c
;

169 
d
;

170 
tmp
;

172 ià(*
š™Num
 <= 0)

174 ià(-(*
š™Num
) < 1)

175 *
š™Num
 = 1;

177 *
š™Num
 = -(*initNum);

179 
num2_
 = (*
š™Num
);

181 
c
 = 32+7; c >= 0; c--)

183 
d
 = (*
š™Num
)/53668;

184 *
š™Num
 = 40014 * (*š™Num-
d
*53668) - d*12211;

186 ià(*
š™Num
 < 0)

187 *
š™Num
 += 2147483563;

189 ià(
c
 < 32)

190 
b_
[
c
] = *
š™Num
;

192 
a_
 = 
b_
[0];

195 
d
 = (*
š™Num
)/53668;

196 *
š™Num
 = 40014 * (*š™Num-
d
*53668) - d*12211;

197 ià(*
š™Num
 < 0) *initNum += 2147483563;

198 
d
 = 
num2_
/52774;

199 
num2_
 = 40692 * (num2_-
d
*52774) - d*3791;

200 ià(
num2_
 < 0)

201 
num2_
 += 2147483399;

202 
c
 = 
a_
 / (1 + (2147483563-1)/32);

203 
a_
 = 
b_
[
c
] - 
num2_
;

204 
b_
[
c
] = *
š™Num
;

205 ià(
a_
 < 1)‡_ += (2147483563-1);

206 ià((
tmp
 = (1.0/2147483563)*
a_
) > (1.0 - 1.2e-7))

209  
tmp
;

210 
	}
}

213 
	g´iv©e
:

214 
š™Num_
;

215 
	gnum2_
;

216 
	ga_
;

217 
	gb_
[32];

221 şas 
	cExtRªdom


223 
	mpublic
:

226 
unifÜmRªdom
();

229 
gaussRªdom
(
mu
, 
sd
);

232 
expRªdom
(
Ïmbda
);

235 
Compu‹Gauss
(
mu
, 
sigma
, 
x
);

238 
Compu‹LnGauss
(
mu
, 
sigma
, 
v1
, 
v2
, 
x
);

241 
GaussŸnIÁeg¿l
(
mu
, 
sigma
, 
v1
, 
v2
);

244 
GaussŸnP¬aL—ºšg
(&
mu
, &
sigma
, &
v1
, &
v2
, 
veùÜ
<> 
Td©a
);

247 
	m´iv©e
:

248 
boŞ
 
devŸ‹_avaabË
;

249 
	m£cÚd_devŸ‹
;

	@util/strint.h

67 #iâdeà
STRINT_H_JUN_27_2005


68 
	#STRINT_H_JUN_21_2005


	)

70 
	~<c¡dlib
>

71 
	~<ext/hash_m­
>

72 
usšg
 
Çme¥aû
 
	g__gnu_cxx
;

75 
	sSŒIÁ


77 
	mpublic
:

78 
SŒIÁ
(è: 
¡r_
(
NULL
), 
šts_
(NULL) {}

80 
SŒIÁ
(cÚ¡ * cÚ¡ & 
s
, cÚ¡ & 
i
)

82 
	m¡r_
 = 
Ãw
 [
¡¾’
(
s
)+1];

83 
¡rıy
(
¡r_
,
s
);

84 
	mšts_
 = 
Ãw
 
A¼ay
<>;

85 
	mšts_
->
­³nd
(
i
);

88 
SŒIÁ
(cÚ¡ * cÚ¡ & 
s
)

90 
	m¡r_
 = 
Ãw
 [
¡¾’
(
s
)+1];

91 
¡rıy
(
¡r_
,
s
);

92 
	mšts_
 = 
NULL
;

95 ~
SŒIÁ
(è{ 
	md–‘e
 [] 
	m¡r_
; 
d–‘e
 
	mšts_
; }

97 
addIÁ
(cÚ¡ & 
i
)

99 
	mšts_
->
­³nd
(
i
);

102 * 
	m¡r_
;

103 
	mA¼ay
<>* 
	mšts_
;

107 şas 
	cHashSŒIÁ


109 
	mpublic
:

110 
size_t
 
	$İ”©Ü
()(cÚ¡ 
SŒIÁ
* cÚ¡ & 
s
) const

112  
hash
<cÚ¡ *>()(
s
->
¡r_
);

114 
	}
};

117 şas 
	cEqu®SŒIÁ


119 
	mpublic
:

120 
boŞ
 
	$İ”©Ü
()(cÚ¡ 
SŒIÁ
* cÚ¡ & 
s1
, cÚ¡ SŒIÁ* cÚ¡ & 
s2
) const

122  
	`¡rcmp
(
s1
->
¡r_
, 
s2
->str_) == 0;

124 
	}
};

	@util/timer.h

66 #iâdeà
TIMER_H_AUG_17_2005


67 
	#TIMER_H_AUG_17_2005


	)

69 
	~<o¡»am
>

70 
usšg
 
Çme¥aû
 
	g¡d
;

71 
	~<sys/times.h
>

72 
	~<uni¡d.h
>

74 şas 
	cTim”


76 
	mpublic
:

77 
	$Tim”
()

79 
	`times
(&
¡¬‰ime_
);

80 
ticksP”SecÚd_
 = 
	`syscÚf
(
_SC_CLK_TCK
);

82 ~
	$Tim”
(è{
	}
}

84 
	$»£t
(è{ 
	`times
(&
¡¬‰ime_
); 
	}
}

87 
	$time
()

89 
tms
 
’dtime
;

90 
	`times
(&
’dtime
);

91 
şock_t
 
diff
 = 
’dtime
.
tms_utime
 - 
¡¬‰ime_
.tms_utime;

92 
£cÚds
 = (()
diff
è/ 
ticksP”SecÚd_
;

93  
£cÚds
;

94 
	}
}

96 
	$´štTime
(
o¡»am
& 
out
, cÚ¡ & 
£c
)

98 ià(
£c
 < 60è
out
 << sec << " secs";

100 ià(
£c
 < 3600è
out
 << (sec/60) << " mins, " << sec-(sec/60)*60

103 ià(
£c
 < 86400è
out
 << (sec/3600) << " hrs, "

104 << (
£c
-(sec/3600)*3600)/60.0 << " mins";

105 
out
 << (
£c
/86400) << " days, "

106 << (
£c
-(sec/86400)*86400)/3600.0 << " hrs";

107 
	}
}

109 
	g´iv©e
:

110 
tms
 
¡¬‰ime_
;

111 
	gticksP”SecÚd_
;

	@util/util.h

66 #iâdeà
UTIL_H_OCT_17_2005


67 
	#UTIL_H_OCT_17_2005


	)

69 
	~<¡ršg
>

70 
usšg
 
Çme¥aû
 
	g¡d
;

71 
	~<s¡»am
>

72 
	~<sys/time.h
>

73 
	~<sys/»sourû.h
>

75 şas 
	cUt


77 
	mpublic
:

79 
boŞ
 
	$sub¡r
(cÚ¡ 
¡ršg
& 
´ed
, & 
cur
, sŒšg& 
out¡r
,

80 cÚ¡ * cÚ¡ & 
d–im™”
)

82 
out¡r
.
	`ş—r
();

83 
cur
 < 
´ed
.
	`Ëngth
(è&& 
	`is¥aû
Õ»d.
	`©
(cur))) cur++;

84 
¡ršg
::
size_ty³
 
dÉ
 = 
´ed
.
	`fšd
(
d–im™”
, 
cur
);

85 ià(
dÉ
 =ğ
¡ršg
::
Åos
è 
çl£
;

86 
cur2
 = 
dÉ
-1;

87 
cur2
 >ğ0 && 
	`is¥aû
(
´ed
.
	`©
(cur2))) cur2--;

88 ià(
cur2
 < 
cur
è 
çl£
;

89 
out¡r
 = 
´ed
.
	`sub¡r
(
cur
, 
cur2
+1-cur);

90 
cur
 = 
dÉ
+1;

91  
Œue
;

95 
¡ršg
 
	$Œim
(cÚ¡ 
¡ršg
& 
¡r
)

97 ià(
¡r
.
	`em±y
())  str;

98 
É
 = 0;

99 
É
 < ()
¡r
.
	`Ëngth
(è&& 
	`is¥aû
(¡r.
	`©
(lt)))†t++;

100 
¹
 = 
¡r
.
	`Ëngth
()-1;

101 
¹
 >ğ0 && 
	`is¥aû
(
¡r
.
	`©
(rt)))„t--;

102  
¡r
.
	`sub¡r
(
É
, 
¹
+1-lt);

103 
	}
}

106 
¡ršg
 
	$štToSŒšg
(
i
) {

107 
o¡ršg¡»am
 
mySŒ—m
;

108 
mySŒ—m
<<
i
;

109  
mySŒ—m
.
	`¡r
();

110 
	}
}

113 
¡ršg
 
	$doubËToSŒšg
(
i
) {

114 
o¡ršg¡»am
 
mySŒ—m
;

115 
mySŒ—m
<<
i
;

116  
mySŒ—m
.
	`¡r
();

117 
	}
}

119 
	$çùÜŸl
(
n
)

121 
f
 = 1;

122 
i
 = 1; i <ğ
n
; i++)

123 
f
 = f*
i
;

124  
f
;

125 
	}
}

127 
	$³rmu‹
(
n
, 
k
)

129 
»suÉ
 = 1;

130 ià(
n
 =ğ0 || 
k
 == 0)

131  
»suÉ
;

132 
i
 = 
n
; i > (n-
k
); i--)

133 
»suÉ
 =„esuÉ*
i
;

134  
»suÉ
;

135 
	}
}

137 
	$–­£d_£cÚds
()

139 
ªsw”
;

141 
ru§ge
 
´og_ru§ge
;

142 
´ev_ru§ge_£cÚds
 = 0;

143 
´ev_ru§ge_miüo_£cÚds
 = 0;

145 
	`g‘ru§ge
(0, &
´og_ru§ge
);

146 
ªsw”
 = ()(
´og_ru§ge
.
ru_utime
.
tv_£c
-
´ev_ru§ge_£cÚds
)

147 + (()(
´og_ru§ge
.
ru_utime
.
tv_u£c
-
´ev_ru§ge_miüo_£cÚds
))

149 
´ev_ru§ge_£cÚds
 = 
´og_ru§ge
.
ru_utime
.
tv_£c
 ;

150 
´ev_ru§ge_miüo_£cÚds
 = 
´og_ru§ge
.
ru_utime
.
tv_u£c
 ;

151  
ªsw”
;

152 
	}
}

	@/usr/include/assert.h

22 #ifdef 
_ASSERT_H


24 #undeà
_ASSERT_H


25 #undeà
as£¹


26 #undeà
__ASSERT_VOID_CAST


28 #ifdef 
__USE_GNU


29 #undeà
as£¹_³¼Ü


34 
	#_ASSERT_H
 1

	)

35 
	~<ã©u»s.h
>

37 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,95)

38 
	#__ASSERT_VOID_CAST
 
¡©ic_ÿ¡
<>

	)

40 
	#__ASSERT_VOID_CAST
 ()

	)

48 #ifdef 
NDEBUG


50 
	#as£¹
(
ex´
è(
	`__ASSERT_VOID_CAST
 (0))

	)

58 #ifdef 
__USE_GNU


59 
	#as£¹_³¼Ü
(
”ºum
è(
	`__ASSERT_VOID_CAST
 (0))

	)

64 #iâdeà
_ASSERT_H_DECLS


65 
	#_ASSERT_H_DECLS


	)

66 
__BEGIN_DECLS


69 
	$__as£¹_ç
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
,

70 
__lše
, cÚ¡ *
__funùiÚ
)

71 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

74 
	$__as£¹_³¼Ü_ç
 (
__”ºum
, cÚ¡ *
__fe
,

75 
__lše
, cÚ¡ *
__funùiÚ
)

76 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

81 
	$__as£¹
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
, 
__lše
)

82 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

85 
__END_DECLS


88 
	#as£¹
(
ex´
) \

89 ((
ex´
) \

90 ? 
	`__ASSERT_VOID_CAST
 (0) \

91 : 
	`__as£¹_ç
 (
	`__STRING
(
ex´
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

93 #ifdef 
__USE_GNU


94 
	#as£¹_³¼Ü
(
”ºum
) \

95 (!(
”ºum
) \

96 ? 
	`__ASSERT_VOID_CAST
 (0) \

97 : 
	`__as£¹_³¼Ü_ç
 ((
”ºum
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

105 #ià
defšed
 
__ılu¥lus
 ? 
	`__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

106 
	#__ASSERT_FUNCTION
 
__PRETTY_FUNCTION__


	)

108 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

109 
	#__ASSERT_FUNCTION
 
__func__


	)

111 
	#__ASSERT_FUNCTION
 ((cÚ¡ *è0)

	)

118 #ià
defšed
 
__USE_ISOC11
 && !defšed 
__ılu¥lus


120 #undeà
¡©ic_as£¹


121 
	#¡©ic_as£¹
 
_Stic_as£¹


	)

	@/usr/include/complex.h

22 #iâdeà
_COMPLEX_H


23 
	#_COMPLEX_H
 1

	)

25 
	~<ã©u»s.h
>

28 
	~<b™s/m©hdef.h
>

30 
	g__BEGIN_DECLS


35 #ià
__GNUC_PREREQ
 (2, 7) && !__GNUC_PREREQ (2, 97)

36 
	#_Com¶ex
 
__com¶ex__


	)

39 
	#com¶ex
 
_Com¶ex


	)

44 
	#_Com¶ex_I
 (
__ex‹nsiÚ__
 1.0
iF
)

	)

48 #undeà
I


49 
	#I
 
_Com¶ex_I


	)

51 #ià
defšed
 
__USE_ISOC11
 && 
__GNUC_PREREQ
 (4, 7)

53 
	#CMPLX
(
x
, 
y
è
	`__butš_com¶ex
 ((è(x), (è(y))

	)

54 
	#CMPLXF
(
x
, 
y
è
	`__butš_com¶ex
 ((è(x), (è(y))

	)

55 
	#CMPLXL
(
x
, 
y
è
	`__butš_com¶ex
 ((è(x), (è(y))

	)

63 
	#__MATHCALL
(
funùiÚ
, 
¬gs
) \

64 
	`__MATHDECL
 (
_MdoubË_com¶ex_
,
funùiÚ
, 
¬gs
)

	)

65 
	#__MATHDECL
(
ty³
, 
funùiÚ
, 
¬gs
) \

66 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
, 
¬gs
); \

67 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
), 
¬gs
)

	)

68 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
, 
¬gs
) \

69 
ty³
 
	`__MATH_PRECNAME
(
funùiÚ
è
¬gs
 
__THROW


	)

71 
	#_MdoubË_
 

	)

72 
	#__MATH_PRECNAME
(
Çme
è
	)
name

73 
	~<b™s/cm©hÿÎs.h
>

74 #undeà
_MdoubË_


75 #undeà
__MATH_PRECNAME


78 #iâdeà
_Mæßt_


79 
	#_Mæßt_
 

	)

81 
	#_MdoubË_
 
_Mæßt_


	)

82 
	#__MATH_PRECNAME
(
Çme
èÇme##
f


	)

83 
	~<b™s/cm©hÿÎs.h
>

84 #undeà
_MdoubË_


85 #undeà
__MATH_PRECNAME


89 #ià!(
defšed
 
__NO_LONG_DOUBLE_MATH
 && defšed 
_LIBC
) \

90 || 
defšed
 
__LDBL_COMPAT


91 #ifdeà
__LDBL_COMPAT


92 #undeà
__MATHDECL_1


93 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
, 
¬gs
) \

94 
ty³
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
funùiÚ
), 
¬gs
, funùiÚ)

	)

97 #iâdeà
_MlÚg_doubË_


98 
	#_MlÚg_doubË_
 

	)

100 
	#_MdoubË_
 
_MlÚg_doubË_


	)

101 
	#__MATH_PRECNAME
(
Çme
èÇme##
l


	)

102 
	~<b™s/cm©hÿÎs.h
>

104 #undeà
_MdoubË_


105 #undeà
__MATH_PRECNAME


106 #undeà
__MATHDECL_1


107 #undeà
__MATHDECL


108 #undeà
__MATHCALL


110 
__END_DECLS


	@/usr/include/ctype.h

22 #iâdef 
_CTYPE_H


23 
	#_CTYPE_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 
	g__BEGIN_DECLS


30 #iâdeà
_ISb™


39 
	~<’dŸn.h
>

40 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


41 
	#_ISb™
(
b™
è(1 << (b™))

	)

43 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

48 
	m_ISuµ”
 = 
_ISb™
 (0),

49 
	m_ISlow”
 = 
_ISb™
 (1),

50 
	m_IS®pha
 = 
_ISb™
 (2),

51 
	m_ISdig™
 = 
_ISb™
 (3),

52 
	m_ISxdig™
 = 
_ISb™
 (4),

53 
	m_IS¥aû
 = 
_ISb™
 (5),

54 
	m_IS´št
 = 
_ISb™
 (6),

55 
	m_ISg¿ph
 = 
_ISb™
 (7),

56 
	m_ISbÏnk
 = 
_ISb™
 (8),

57 
	m_ISúŒl
 = 
_ISb™
 (9),

58 
	m_ISpunù
 = 
_ISb™
 (10),

59 
	m_IS®num
 = 
_ISb™
 (11)

79 cÚ¡ **
	$__ùy³_b_loc
 ()

80 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

81 cÚ¡ 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

82 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

83 cÚ¡ 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

84 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

87 #iâdeà
__ılu¥lus


88 
	#__isùy³
(
c
, 
ty³
) \

89 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

90 #–ià
defšed
 
__USE_EXTERN_INLINES


91 
	#__isùy³_f
(
ty³
) \

92 
__ex‹º_šlše
 \

93 
is
##
	`ty³
 (
__c
è
__THROW
 \

95  (*
	`__ùy³_b_loc
 ())[(è(
__c
)] & (è
_IS
##
ty³
; \

96 
	}

	)
}

99 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

100 
	#__tßscii
(
c
è((cè& 0x7fè

	)

102 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

104 
__BEGIN_NAMESPACE_STD


110 
__exùy³
 (
i§Êum
);

111 
__exùy³
 (
i§Íha
);

112 
__exùy³
 (
isúŒl
);

113 
__exùy³
 (
isdig™
);

114 
__exùy³
 (
i¦ow”
);

115 
__exùy³
 (
isg¿ph
);

116 
__exùy³
 (
i¥ršt
);

117 
__exùy³
 (
i¥unù
);

118 
__exùy³
 (
is¥aû
);

119 
__exùy³
 (
isuµ”
);

120 
__exùy³
 (
isxdig™
);

124 
	$tŞow”
 (
__c
è
__THROW
;

127 
	$touµ”
 (
__c
è
__THROW
;

129 
__END_NAMESPACE_STD


133 #ifdef 
__USE_ISOC99


134 
__BEGIN_NAMESPACE_C99


136 
	`__exùy³
 (
isbÏnk
);

138 
__END_NAMESPACE_C99


141 #ifdeà
__USE_GNU


143 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

146 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


150 
	$i§scii
 (
__c
è
__THROW
;

154 
	$tßscii
 (
__c
è
__THROW
;

158 
	`__exùy³
 (
_touµ”
);

159 
	`__exùy³
 (
_tŞow”
);

163 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

164 (
__ex‹nsiÚ__
 \

165 ({ 
__»s
; \

166 ià( (
c
) > 1) \

168 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

170 
__c
 = (
c
); \

171 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

174 
__»s
 = 
f
 
¬gs
; \

177 
__»s
 = (
a
)[(è(
c
)]; \

178 
__»s
; 
	}
}))

	)

180 #ià!
defšed
 
__NO_CTYPE


181 #ifdeà
__isùy³_f


182 
	$__isùy³_f
 (
®num
)

183 
	$__isùy³_f
 (
®pha
)

184 
	$__isùy³_f
 (
úŒl
)

185 
	$__isùy³_f
 (
dig™
)

186 
	$__isùy³_f
 (
low”
)

187 
	$__isùy³_f
 (
g¿ph
)

188 
	$__isùy³_f
 (
´št
)

189 
	$__isùy³_f
 (
punù
)

190 
	$__isùy³_f
 (
¥aû
)

191 
	$__isùy³_f
 (
uµ”
)

192 
	$__isùy³_f
 (
xdig™
)

193 #ifdeà
__USE_ISOC99


194 
	$__isùy³_f
 (
bÏnk
)

196 #–ià
defšed
 
__isùy³


197 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

198 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

199 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

200 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

201 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

202 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

203 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

204 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

205 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

206 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

207 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

208 #ifdeà
__USE_ISOC99


209 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

213 #ifdeà
__USE_EXTERN_INLINES


214 
__ex‹º_šlše
 

215 
	`__NTH
 (
	$tŞow”
 (
__c
))

217  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

218 
	}
}

220 
__ex‹º_šlše
 

221 
__NTH
 (
	$touµ”
 (
__c
))

223  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

224 
	}
}

227 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


228 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

229 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

232 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


233 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

234 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

236 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

237 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

243 #ifdeà
__USE_XOPEN2K8


257 
	~<xloÿË.h
>

261 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

262 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

264 
	#__exùy³_l
(
Çme
) \

265 
	`Çme
 (, 
__loÿË_t
è
__THROW


	)

271 
__exùy³_l
 (
i§Êum_l
);

272 
__exùy³_l
 (
i§Íha_l
);

273 
__exùy³_l
 (
isúŒl_l
);

274 
__exùy³_l
 (
isdig™_l
);

275 
__exùy³_l
 (
i¦ow”_l
);

276 
__exùy³_l
 (
isg¿ph_l
);

277 
__exùy³_l
 (
i¥ršt_l
);

278 
__exùy³_l
 (
i¥unù_l
);

279 
__exùy³_l
 (
is¥aû_l
);

280 
__exùy³_l
 (
isuµ”_l
);

281 
__exùy³_l
 (
isxdig™_l
);

283 
__exùy³_l
 (
isbÏnk_l
);

287 
	$__tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

288 
	$tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

291 
	$__touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

292 
	$touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

294 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


295 
	#__tŞow”_l
(
c
, 
loÿË
) \

296 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

297 
	#__touµ”_l
(
c
, 
loÿË
) \

298 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

299 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

300 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

304 #iâdeà
__NO_CTYPE


305 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

306 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

307 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

308 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

309 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

310 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

311 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

312 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

313 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

314 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

315 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

317 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

319 #ifdeà
__USE_MISC


320 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

321 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

324 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

325 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

326 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

327 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

328 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

329 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

330 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

331 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

332 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

333 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

334 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

336 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

338 #ifdeà
__USE_MISC


339 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

340 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

347 
__END_DECLS


	@/usr/include/dlfcn.h

19 #iâdef 
_DLFCN_H


20 
	#_DLFCN_H
 1

	)

22 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

27 
	~<b™s/dlfú.h
>

30 #ifdeà
__USE_GNU


35 
	#RTLD_NEXT
 ((*è-1l)

	)

40 
	#RTLD_DEFAULT
 ((*è0)

	)

44 
	tLmid_t
;

47 
	#LM_ID_BASE
 0

	)

48 
	#LM_ID_NEWLM
 -1

	)

52 
__BEGIN_DECLS


56 *
	$dlİ’
 (cÚ¡ *
__fe
, 
__mode
è
__THROWNL
;

60 
	$dlşo£
 (*
__hªdË
è
__THROWNL
 
	`__nÚnuÎ
 ((1));

64 *
	$dlsym
 (*
__»¡riù
 
__hªdË
,

65 cÚ¡ *
__»¡riù
 
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((2));

67 #ifdeà
__USE_GNU


69 *
	$dlmİ’
 (
Lmid_t
 
__nsid
, cÚ¡ *
__fe
, 
__mode
è
__THROWNL
;

73 *
	$dlvsym
 (*
__»¡riù
 
__hªdË
,

74 cÚ¡ *
__»¡riù
 
__Çme
,

75 cÚ¡ *
__»¡riù
 
__v”siÚ
)

76 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

82 *
	$dË¼Ü
 (è
__THROW
;

85 #ifdeà
__USE_GNU


90 cÚ¡ *
dli_âame
;

91 *
dli_fba£
;

92 cÚ¡ *
dli_¢ame
;

93 *
dli_§ddr
;

94 } 
	tDl_šfo
;

98 
	$dÏddr
 (cÚ¡ *
__add»ss
, 
Dl_šfo
 *
__šfo
)

99 
__THROW
 
	`__nÚnuÎ
 ((2));

102 
	$dÏddr1
 (cÚ¡ *
__add»ss
, 
Dl_šfo
 *
__šfo
,

103 **
__exŒa_šfo
, 
__æags
è
__THROW
 
	`__nÚnuÎ
 ((2));

111 
RTLD_DL_SYMENT
 = 1,

114 
RTLD_DL_LINKMAP
 = 2

123 
	$dlšfo
 (*
__»¡riù
 
__hªdË
,

124 
__»que¡
, *
__»¡riù
 
__¬g
)

125 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

131 
RTLD_DI_LMID
 = 1,

135 
RTLD_DI_LINKMAP
 = 2,

137 
RTLD_DI_CONFIGADDR
 = 3,

144 
RTLD_DI_SERINFO
 = 4,

145 
RTLD_DI_SERINFOSIZE
 = 5,

149 
RTLD_DI_ORIGIN
 = 6,

151 
RTLD_DI_PROFILENAME
 = 7,

152 
RTLD_DI_PROFILEOUT
 = 8,

157 
RTLD_DI_TLS_MODID
 = 9,

163 
RTLD_DI_TLS_DATA
 = 10,

165 
RTLD_DI_MAX
 = 10

173 *
dls_Çme
;

174 
dls_æags
;

175 } 
	tDl_£½©h
;

181 
size_t
 
dls_size
;

182 
dls_út
;

183 
Dl_£½©h
 
dls_£½©h
[1];

184 } 
	tDl_£ršfo
;

188 
__END_DECLS


	@/usr/include/errno.h

22 #iâdef 
_ERRNO_H


26 #iâdef 
__Ãed_Em©h


27 
	#_ERRNO_H
 1

	)

28 
	~<ã©u»s.h
>

31 
	g__BEGIN_DECLS


35 
	~<b™s/”ºo.h
>

36 #undeà
__Ãed_Em©h


38 #ifdef 
_ERRNO_H


45 #iâdef 
”ºo


46 
”ºo
;

49 #ifdeà
__USE_GNU


54 *
´og¿m_švoÿtiÚ_Çme
, *
´og¿m_švoÿtiÚ_shÜt_Çme
;

58 
	g__END_DECLS


66 #ià
defšed
 
__USE_GNU
 || defšed 
__Ãed_”rÜ_t


67 #iâdeà
__”rÜ_t_defšed


68 
	t”rÜ_t
;

69 
	#__”rÜ_t_defšed
 1

	)

71 #undeà
__Ãed_”rÜ_t


	@/usr/include/inttypes.h

22 #iâdeà
_INTTYPES_H


23 
	#_INTTYPES_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	~<¡dšt.h
>

30 #iâdeà
____gwch¬_t_defšed


31 #ifdeà
__ılu¥lus


32 
	#__gwch¬_t
 
wch¬_t


	)

33 #–ià
defšed
 
__WCHAR_TYPE__


34 
__WCHAR_TYPE__
 
	t__gwch¬_t
;

36 
	#__Ãed_wch¬_t


	)

37 
	~<¡ddef.h
>

38 
wch¬_t
 
	t__gwch¬_t
;

40 
	#____gwch¬_t_defšed
 1

	)

43 #ià
__WORDSIZE
 == 64

44 
	#__PRI64_PREFIX
 "l"

	)

45 
	#__PRIPTR_PREFIX
 "l"

	)

47 
	#__PRI64_PREFIX
 "Î"

	)

48 
	#__PRIPTR_PREFIX


	)

54 
	#PRId8
 "d"

	)

55 
	#PRId16
 "d"

	)

56 
	#PRId32
 "d"

	)

57 
	#PRId64
 
__PRI64_PREFIX
 "d"

	)

59 
	#PRIdLEAST8
 "d"

	)

60 
	#PRIdLEAST16
 "d"

	)

61 
	#PRIdLEAST32
 "d"

	)

62 
	#PRIdLEAST64
 
__PRI64_PREFIX
 "d"

	)

64 
	#PRIdFAST8
 "d"

	)

65 
	#PRIdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

66 
	#PRIdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

67 
	#PRIdFAST64
 
__PRI64_PREFIX
 "d"

	)

70 
	#PRIi8
 "i"

	)

71 
	#PRIi16
 "i"

	)

72 
	#PRIi32
 "i"

	)

73 
	#PRIi64
 
__PRI64_PREFIX
 "i"

	)

75 
	#PRIiLEAST8
 "i"

	)

76 
	#PRIiLEAST16
 "i"

	)

77 
	#PRIiLEAST32
 "i"

	)

78 
	#PRIiLEAST64
 
__PRI64_PREFIX
 "i"

	)

80 
	#PRIiFAST8
 "i"

	)

81 
	#PRIiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

82 
	#PRIiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

83 
	#PRIiFAST64
 
__PRI64_PREFIX
 "i"

	)

86 
	#PRIo8
 "o"

	)

87 
	#PRIo16
 "o"

	)

88 
	#PRIo32
 "o"

	)

89 
	#PRIo64
 
__PRI64_PREFIX
 "o"

	)

91 
	#PRIoLEAST8
 "o"

	)

92 
	#PRIoLEAST16
 "o"

	)

93 
	#PRIoLEAST32
 "o"

	)

94 
	#PRIoLEAST64
 
__PRI64_PREFIX
 "o"

	)

96 
	#PRIoFAST8
 "o"

	)

97 
	#PRIoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

98 
	#PRIoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

99 
	#PRIoFAST64
 
__PRI64_PREFIX
 "o"

	)

102 
	#PRIu8
 "u"

	)

103 
	#PRIu16
 "u"

	)

104 
	#PRIu32
 "u"

	)

105 
	#PRIu64
 
__PRI64_PREFIX
 "u"

	)

107 
	#PRIuLEAST8
 "u"

	)

108 
	#PRIuLEAST16
 "u"

	)

109 
	#PRIuLEAST32
 "u"

	)

110 
	#PRIuLEAST64
 
__PRI64_PREFIX
 "u"

	)

112 
	#PRIuFAST8
 "u"

	)

113 
	#PRIuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

114 
	#PRIuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

115 
	#PRIuFAST64
 
__PRI64_PREFIX
 "u"

	)

118 
	#PRIx8
 "x"

	)

119 
	#PRIx16
 "x"

	)

120 
	#PRIx32
 "x"

	)

121 
	#PRIx64
 
__PRI64_PREFIX
 "x"

	)

123 
	#PRIxLEAST8
 "x"

	)

124 
	#PRIxLEAST16
 "x"

	)

125 
	#PRIxLEAST32
 "x"

	)

126 
	#PRIxLEAST64
 
__PRI64_PREFIX
 "x"

	)

128 
	#PRIxFAST8
 "x"

	)

129 
	#PRIxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

130 
	#PRIxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

131 
	#PRIxFAST64
 
__PRI64_PREFIX
 "x"

	)

134 
	#PRIX8
 "X"

	)

135 
	#PRIX16
 "X"

	)

136 
	#PRIX32
 "X"

	)

137 
	#PRIX64
 
__PRI64_PREFIX
 "X"

	)

139 
	#PRIXLEAST8
 "X"

	)

140 
	#PRIXLEAST16
 "X"

	)

141 
	#PRIXLEAST32
 "X"

	)

142 
	#PRIXLEAST64
 
__PRI64_PREFIX
 "X"

	)

144 
	#PRIXFAST8
 "X"

	)

145 
	#PRIXFAST16
 
__PRIPTR_PREFIX
 "X"

	)

146 
	#PRIXFAST32
 
__PRIPTR_PREFIX
 "X"

	)

147 
	#PRIXFAST64
 
__PRI64_PREFIX
 "X"

	)

151 
	#PRIdMAX
 
__PRI64_PREFIX
 "d"

	)

152 
	#PRIiMAX
 
__PRI64_PREFIX
 "i"

	)

153 
	#PRIoMAX
 
__PRI64_PREFIX
 "o"

	)

154 
	#PRIuMAX
 
__PRI64_PREFIX
 "u"

	)

155 
	#PRIxMAX
 
__PRI64_PREFIX
 "x"

	)

156 
	#PRIXMAX
 
__PRI64_PREFIX
 "X"

	)

160 
	#PRIdPTR
 
__PRIPTR_PREFIX
 "d"

	)

161 
	#PRIiPTR
 
__PRIPTR_PREFIX
 "i"

	)

162 
	#PRIoPTR
 
__PRIPTR_PREFIX
 "o"

	)

163 
	#PRIuPTR
 
__PRIPTR_PREFIX
 "u"

	)

164 
	#PRIxPTR
 
__PRIPTR_PREFIX
 "x"

	)

165 
	#PRIXPTR
 
__PRIPTR_PREFIX
 "X"

	)

171 
	#SCNd8
 "hhd"

	)

172 
	#SCNd16
 "hd"

	)

173 
	#SCNd32
 "d"

	)

174 
	#SCNd64
 
__PRI64_PREFIX
 "d"

	)

176 
	#SCNdLEAST8
 "hhd"

	)

177 
	#SCNdLEAST16
 "hd"

	)

178 
	#SCNdLEAST32
 "d"

	)

179 
	#SCNdLEAST64
 
__PRI64_PREFIX
 "d"

	)

181 
	#SCNdFAST8
 "hhd"

	)

182 
	#SCNdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

183 
	#SCNdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

184 
	#SCNdFAST64
 
__PRI64_PREFIX
 "d"

	)

187 
	#SCNi8
 "hhi"

	)

188 
	#SCNi16
 "hi"

	)

189 
	#SCNi32
 "i"

	)

190 
	#SCNi64
 
__PRI64_PREFIX
 "i"

	)

192 
	#SCNiLEAST8
 "hhi"

	)

193 
	#SCNiLEAST16
 "hi"

	)

194 
	#SCNiLEAST32
 "i"

	)

195 
	#SCNiLEAST64
 
__PRI64_PREFIX
 "i"

	)

197 
	#SCNiFAST8
 "hhi"

	)

198 
	#SCNiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

199 
	#SCNiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

200 
	#SCNiFAST64
 
__PRI64_PREFIX
 "i"

	)

203 
	#SCNu8
 "hhu"

	)

204 
	#SCNu16
 "hu"

	)

205 
	#SCNu32
 "u"

	)

206 
	#SCNu64
 
__PRI64_PREFIX
 "u"

	)

208 
	#SCNuLEAST8
 "hhu"

	)

209 
	#SCNuLEAST16
 "hu"

	)

210 
	#SCNuLEAST32
 "u"

	)

211 
	#SCNuLEAST64
 
__PRI64_PREFIX
 "u"

	)

213 
	#SCNuFAST8
 "hhu"

	)

214 
	#SCNuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

215 
	#SCNuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

216 
	#SCNuFAST64
 
__PRI64_PREFIX
 "u"

	)

219 
	#SCNo8
 "hho"

	)

220 
	#SCNo16
 "ho"

	)

221 
	#SCNo32
 "o"

	)

222 
	#SCNo64
 
__PRI64_PREFIX
 "o"

	)

224 
	#SCNoLEAST8
 "hho"

	)

225 
	#SCNoLEAST16
 "ho"

	)

226 
	#SCNoLEAST32
 "o"

	)

227 
	#SCNoLEAST64
 
__PRI64_PREFIX
 "o"

	)

229 
	#SCNoFAST8
 "hho"

	)

230 
	#SCNoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

231 
	#SCNoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

232 
	#SCNoFAST64
 
__PRI64_PREFIX
 "o"

	)

235 
	#SCNx8
 "hhx"

	)

236 
	#SCNx16
 "hx"

	)

237 
	#SCNx32
 "x"

	)

238 
	#SCNx64
 
__PRI64_PREFIX
 "x"

	)

240 
	#SCNxLEAST8
 "hhx"

	)

241 
	#SCNxLEAST16
 "hx"

	)

242 
	#SCNxLEAST32
 "x"

	)

243 
	#SCNxLEAST64
 
__PRI64_PREFIX
 "x"

	)

245 
	#SCNxFAST8
 "hhx"

	)

246 
	#SCNxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

247 
	#SCNxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

248 
	#SCNxFAST64
 
__PRI64_PREFIX
 "x"

	)

252 
	#SCNdMAX
 
__PRI64_PREFIX
 "d"

	)

253 
	#SCNiMAX
 
__PRI64_PREFIX
 "i"

	)

254 
	#SCNoMAX
 
__PRI64_PREFIX
 "o"

	)

255 
	#SCNuMAX
 
__PRI64_PREFIX
 "u"

	)

256 
	#SCNxMAX
 
__PRI64_PREFIX
 "x"

	)

259 
	#SCNdPTR
 
__PRIPTR_PREFIX
 "d"

	)

260 
	#SCNiPTR
 
__PRIPTR_PREFIX
 "i"

	)

261 
	#SCNoPTR
 
__PRIPTR_PREFIX
 "o"

	)

262 
	#SCNuPTR
 
__PRIPTR_PREFIX
 "u"

	)

263 
	#SCNxPTR
 
__PRIPTR_PREFIX
 "x"

	)

266 
	g__BEGIN_DECLS


268 #ià
__WORDSIZE
 == 64

273 
	mquÙ
;

274 
	m»m
;

275 } 
	timaxdiv_t
;

282 
__ex‹nsiÚ__
 
	mquÙ
;

283 
__ex‹nsiÚ__
 
	m»m
;

284 } 
	timaxdiv_t
;

290 
štmax_t
 
	$imaxabs
 (
štmax_t
 
__n
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

293 
imaxdiv_t
 
	$imaxdiv
 (
štmax_t
 
__num”
, iÁmax_ˆ
__d’om
)

294 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

297 
štmax_t
 
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

298 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

301 
uštmax_t
 
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

302 ** 
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

305 
štmax_t
 
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

306 
__gwch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

307 
__THROW
;

310 
uštmax_t
 
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

311 
__gwch¬_t
 ** 
__»¡riù
 
__’d±r
, 
__ba£
)

312 
__THROW
;

314 #ifdeà
__USE_EXTERN_INLINES


316 #ià
__WORDSIZE
 == 64

318 
	$__¡¹Ş_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

319 **
__»¡riù
 
__’d±r
,

320 
__ba£
, 
__group
)

321 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

323 
__ex‹º_šlše
 
štmax_t


324 
	`__NTH
 (
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

325 
ba£
))

327  
	`__¡¹Ş_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

328 
	}
}

330 
	$__¡¹oul_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

331 ** 
__»¡riù
 
__’d±r
,

332 
__ba£
, 
__group
)

333 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

335 
__ex‹º_šlše
 
uštmax_t


336 
	`__NTH
 (
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

337 
ba£
))

339  
	`__¡¹oul_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

340 
	}
}

342 
	$__wc¡Ş_š‹º®
 (cÚ¡ 
__gwch¬_t
 * 
__»¡riù
 
__ÅŒ
,

343 
__gwch¬_t
 **
__»¡riù
 
__’d±r
,

344 
__ba£
, 
__group
)

345 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

347 
__ex‹º_šlše
 
štmax_t


348 
	`__NTH
 (
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

349 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

351  
	`__wc¡Ş_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

352 
	}
}

354 
	$__wc¡oul_š‹º®
 (cÚ¡ 
__gwch¬_t
 *

355 
__»¡riù
 
__ÅŒ
,

356 
__gwch¬_t
 **

357 
__»¡riù
 
__’d±r
,

358 
__ba£
, 
__group
)

359 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

361 
__ex‹º_šlše
 
uštmax_t


362 
	`__NTH
 (
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

363 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

365  
	`__wc¡oul_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

366 
	}
}

370 
__ex‹nsiÚ__


371 
	$__¡¹Şl_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

372 **
__»¡riù
 
__’d±r
,

373 
__ba£
, 
__group
)

374 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

376 
__ex‹º_šlše
 
štmax_t


377 
	`__NTH
 (
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

378 
ba£
))

380  
	`__¡¹Şl_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

381 
	}
}

383 
__ex‹nsiÚ__


384 
	$__¡¹ouÎ_š‹º®
 (const *

385 
__»¡riù
 
__ÅŒ
,

387 
__»¡riù
 
__’d±r
,

388 
__ba£
,

389 
__group
)

390 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

392 
__ex‹º_šlše
 
uštmax_t


393 
	`__NTH
 (
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

394 
ba£
))

396  
	`__¡¹ouÎ_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

397 
	}
}

399 
__ex‹nsiÚ__


400 
	$__wc¡Şl_š‹º®
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

401 
__gwch¬_t
 **
__»¡riù
 
__’d±r
,

402 
__ba£
, 
__group
)

403 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

405 
__ex‹º_šlše
 
štmax_t


406 
	`__NTH
 (
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

407 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

409  
	`__wc¡Şl_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

410 
	}
}

413 
__ex‹nsiÚ__


414 
	$__wc¡ouÎ_š‹º®
 (cÚ¡ 
__gwch¬_t
 *

415 
__»¡riù
 
__ÅŒ
,

416 
__gwch¬_t
 **

417 
__»¡riù
 
__’d±r
,

418 
__ba£
,

419 
__group
)

420 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

422 
__ex‹º_šlše
 
uštmax_t


423 
	`__NTH
 (
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

424 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

426  
	`__wc¡ouÎ_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

427 
	}
}

432 
	g__END_DECLS


	@/usr/include/libintl.h

20 #iâdeà
_LIBINTL_H


21 
	#_LIBINTL_H
 1

	)

23 
	~<ã©u»s.h
>

27 
	#__USE_GNU_GETTEXT
 1

	)

31 
	#__GNU_GETTEXT_SUPPORTED_REVISION
(
majÜ
) \

32 ((
majÜ
è=ğ0 ? 1 : -1)

	)

34 
__BEGIN_DECLS


39 *
	$g‘‹xt
 (cÚ¡ *
__msgid
)

40 
__THROW
 
	`__©Œibu‹_fÜm©_¬g__
 (1);

44 *
	$dg‘‹xt
 (cÚ¡ *
__domašÇme
, cÚ¡ *
__msgid
)

45 
__THROW
 
	`__©Œibu‹_fÜm©_¬g__
 (2);

46 *
	$__dg‘‹xt
 (cÚ¡ *
__domašÇme
, cÚ¡ *
__msgid
)

47 
__THROW
 
	`__©Œibu‹_fÜm©_¬g__
 (2);

51 *
	$dcg‘‹xt
 (cÚ¡ *
__domašÇme
,

52 cÚ¡ *
__msgid
, 
__ÿ‹gÜy
)

53 
__THROW
 
	`__©Œibu‹_fÜm©_¬g__
 (2);

54 *
	$__dcg‘‹xt
 (cÚ¡ *
__domašÇme
,

55 cÚ¡ *
__msgid
, 
__ÿ‹gÜy
)

56 
__THROW
 
	`__©Œibu‹_fÜm©_¬g__
 (2);

61 *
	$ng‘‹xt
 (cÚ¡ *
__msgid1
, cÚ¡ *
__msgid2
,

62 
__n
)

63 
__THROW
 
	$__©Œibu‹_fÜm©_¬g__
 (1è
	`__©Œibu‹_fÜm©_¬g__
 (2);

67 *
	$dng‘‹xt
 (cÚ¡ *
__domašÇme
, cÚ¡ *
__msgid1
,

68 cÚ¡ *
__msgid2
, 
__n
)

69 
__THROW
 
	$__©Œibu‹_fÜm©_¬g__
 (2è
	`__©Œibu‹_fÜm©_¬g__
 (3);

73 *
	$dúg‘‹xt
 (cÚ¡ *
__domašÇme
, cÚ¡ *
__msgid1
,

74 cÚ¡ *
__msgid2
, 
__n
,

75 
__ÿ‹gÜy
)

76 
__THROW
 
	$__©Œibu‹_fÜm©_¬g__
 (2è
	`__©Œibu‹_fÜm©_¬g__
 (3);

82 *
	$‹xtdomaš
 (cÚ¡ *
__domašÇme
è
__THROW
;

86 *
	$bšd‹xtdomaš
 (cÚ¡ *
__domašÇme
,

87 cÚ¡ *
__dœÇme
è
__THROW
;

91 *
	$bšd_‹xtdomaš_code£t
 (cÚ¡ *
__domašÇme
,

92 cÚ¡ *
__code£t
è
__THROW
;

96 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


99 
	#__Ãed_NULL


	)

100 
	~<¡ddef.h
>

103 
	~<loÿË.h
>

109 
	#g‘‹xt
(
msgid
è
	`dg‘‹xt
 (
NULL
, msgid)

	)

111 
	#dg‘‹xt
(
domašÇme
, 
msgid
) \

112 
	`dcg‘‹xt
 (
domašÇme
, 
msgid
, 
LC_MESSAGES
)

	)

114 
	#ng‘‹xt
(
msgid1
, 
msgid2
, 
n
è
	`dng‘‹xt
 (
NULL
, msgid1, msgid2,‚)

	)

116 
	#dng‘‹xt
(
domašÇme
, 
msgid1
, 
msgid2
, 
n
) \

117 
	`dúg‘‹xt
 (
domašÇme
, 
msgid1
, 
msgid2
, 
n
, 
LC_MESSAGES
)

	)

121 
__END_DECLS


	@/usr/include/link.h

20 #iâdef 
_LINK_H


21 
	#_LINK_H
 1

	)

23 
	~<ã©u»s.h
>

24 
	~<–f.h
>

25 
	~<dlfú.h
>

26 
	~<sys/ty³s.h
>

30 
	#ElfW
(
ty³
è
	`_ElfW
 (
Elf
, 
__ELF_NATIVE_CLASS
,y³)

	)

31 
	#_ElfW
(
e
,
w
,
t
è
	`_ElfW_1
 (e, w, 
_
##t)

	)

32 
	#_ElfW_1
(
e
,
w
,
t
èe##w##
	)
t

34 
	~<b™s/–fşass.h
>

35 
	~<b™s/lšk.h
>

42 
	sr_debug


44 
	mr_v”siÚ
;

46 
lšk_m­
 *
	mr_m­
;

53 
ElfW
(
Addr
è
	mr_brk
;

58 
	mRT_CONSISTENT
,

59 
	mRT_ADD
,

60 
	mRT_DELETE


61 } 
	mr_¡©e
;

63 
ElfW
(
Addr
è
	mr_ldba£
;

67 
r_debug
 
_r_debug
;

76 
	$ElfW
(
Dyn
è
_DYNAMIC
[];

84 
	slšk_m­


89 
	`ElfW
(
Addr
è
l_addr
;

91 *
l_Çme
;

92 
	`ElfW
(
Dyn
è*
l_ld
;

93 
lšk_m­
 *
l_Ãxt
, *
l_´ev
;

96 #ifdeà
__USE_GNU


99 
	#LAV_CURRENT
 1

	)

104 
LA_ACT_CONSISTENT
,

105 
LA_ACT_ADD
,

106 
LA_ACT_DELETE


112 
LA_SER_ORIG
 = 0x01,

113 
LA_SER_LIBPATH
 = 0x02,

114 
LA_SER_RUNPATH
 = 0x04,

115 
LA_SER_CONFIG
 = 0x08,

116 
LA_SER_DEFAULT
 = 0x40,

117 
LA_SER_SECURE
 = 0x80

123 
LA_FLG_BINDTO
 = 0x01,

124 
LA_FLG_BINDFROM
 = 0x02

130 
LA_SYMB_NOPLTENTER
 = 0x01,

131 
LA_SYMB_NOPLTEXIT
 = 0x02,

132 
LA_SYMB_STRUCTCALL
 = 0x04,

133 
LA_SYMB_DLSYM
 = 0x08,

134 
LA_SYMB_ALTVALUE
 = 0x10

138 
	sdl_phdr_šfo


140 
	`ElfW
(
Addr
è
dÍi_addr
;

141 cÚ¡ *
dÍi_Çme
;

142 cÚ¡ 
	`ElfW
(
Phdr
è*
dÍi_phdr
;

143 
	`ElfW
(
H®f
è
dÍi_phnum
;

151 
__ex‹nsiÚ__
 
dÍi_adds
;

153 
__ex‹nsiÚ__
 
dÍi_subs
;

157 
size_t
 
dÍi_s_modid
;

162 *
dÍi_s_d©a
;

165 
__BEGIN_DECLS


167 
	`dl_™”©e_phdr
 ((*
__ÿÎback
è(
dl_phdr_šfo
 *,

168 
size_t
, *),

169 *
__d©a
);

175 
	`Ï_v”siÚ
 (
__v”siÚ
);

176 
	`Ï_aùiv™y
 (
ušŒ_t
 *
__cook›
, 
__æag
);

177 *
	`Ï_obj£¬ch
 (cÚ¡ *
__Çme
, 
ušŒ_t
 *
__cook›
,

178 
__æag
);

179 
	`Ï_objİ’
 (
lšk_m­
 *
__m­
, 
Lmid_t
 
__lmid
,

180 
ušŒ_t
 *
__cook›
);

181 
	`Ï_´eš™
 (
ušŒ_t
 *
__cook›
);

182 
ušŒ_t
 
	`Ï_symbšd32
 (
Elf32_Sym
 *
__sym
, 
__ndx
,

183 
ušŒ_t
 *
__»fcook
, ušŒ_ˆ*
__defcook
,

184 *
__æags
, cÚ¡ *
__symÇme
);

185 
ušŒ_t
 
	`Ï_symbšd64
 (
Elf64_Sym
 *
__sym
, 
__ndx
,

186 
ušŒ_t
 *
__»fcook
, ušŒ_ˆ*
__defcook
,

187 *
__æags
, cÚ¡ *
__symÇme
);

188 
	`Ï_objşo£
 (
ušŒ_t
 *
__cook›
);

190 
__END_DECLS


	@/usr/include/math.h

23 #iâdef 
_MATH_H


24 
	#_MATH_H
 1

	)

26 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


32 
	~<b™s/huge_v®.h
>

33 #ifdeà
__USE_ISOC99


34 
	~<b™s/huge_v®f.h
>

35 
	~<b™s/huge_v®l.h
>

38 
	~<b™s/šf.h
>

41 
	~<b™s/Çn.h
>

45 
	~<b™s/m©hdef.h
>

52 
	#__MATHCALL
(
funùiÚ
,
suffix
, 
¬gs
) \

53 
	`__MATHDECL
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
)

	)

54 
	#__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

55 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
); \

56 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
)

	)

57 
	#__MATHCALLX
(
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

58 
	`__MATHDECLX
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
)

	)

59 
	#__MATHDECLX
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

60 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
); \

61 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
)

	)

62 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

63 
ty³
 
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
è
¬gs
 
__THROW


	)

65 
	#_MdoubË_
 

	)

66 
	#__MATH_PRECNAME
(
Çme
,
r
è
	`__CONCAT
Òame,r)

	)

67 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_STD


	)

68 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_STD


	)

69 
	~<b™s/m©hÿÎs.h
>

70 #undeà
_MdoubË_


71 #undeà
_MdoubË_BEGIN_NAMESPACE


72 #undeà
_MdoubË_END_NAMESPACE


73 #undeà
__MATH_PRECNAME


75 #ifdeà
__USE_ISOC99


81 #iâdeà
_Mæßt_


82 
	#_Mæßt_
 

	)

84 
	#_MdoubË_
 
_Mæßt_


	)

85 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f
##
	)
r

86 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

87 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

88 
	~<b™s/m©hÿÎs.h
>

89 #undeà
_MdoubË_


90 #undeà
_MdoubË_BEGIN_NAMESPACE


91 #undeà
_MdoubË_END_NAMESPACE


92 #undeà
__MATH_PRECNAME


94 #ià!(
defšed
 
__NO_LONG_DOUBLE_MATH
 && defšed 
_LIBC
) \

95 || 
defšed
 
__LDBL_COMPAT
 \

96 || 
defšed
 
_LIBC_TEST


97 #ifdeà
__LDBL_COMPAT


99 #ifdeà
__USE_ISOC99


100 
	$__Ædbl_Ãx‰ow¬df
 (
__x
, 
__y
)

101 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

102 #ifdeà
__REDIRECT_NTH


103 
	`__REDIRECT_NTH
 (
Ãx‰ow¬df
, (
__x
, 
__y
),

104 
__Ædbl_Ãx‰ow¬df
)

105 
	`__©Œibu‹__
 ((
__cÚ¡__
));

106 
	`__REDIRECT_NTH
 (
Ãx‰ow¬d
, (
__x
, 
__y
),

107 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

108 
	`__REDIRECT_NTH
 (
Ãx‰ow¬dl
,

109 (
__x
, 
__y
),

110 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

114 #undeà
__MATHDECL_1


115 
	#__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
®Ÿs
) \

116 
ty³
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
), \

117 
¬gs
, 
®Ÿs
)

	)

118 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

119 
	`__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
	`__CONCAT
(funùiÚ,suffix))

	)

125 #iâdeà
_MlÚg_doubË_


126 
	#_MlÚg_doubË_
 

	)

128 
	#_MdoubË_
 
_MlÚg_doubË_


	)

129 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
l
##
	)
r

130 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

131 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

132 
	#__MATH_DECLARE_LDOUBLE
 1

	)

133 
	~<b™s/m©hÿÎs.h
>

134 #undeà
_MdoubË_


135 #undeà
_MdoubË_BEGIN_NAMESPACE


136 #undeà
_MdoubË_END_NAMESPACE


137 #undeà
__MATH_PRECNAME


142 #undeà
__MATHDECL_1


143 #undeà
__MATHDECL


144 #undeà
__MATHCALL


147 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


149 
signgam
;

154 #ifdeà
__USE_ISOC99


192 
FP_NAN
 =

193 
	#FP_NAN
 0

	)

194 
FP_NAN
,

195 
FP_INFINITE
 =

196 
	#FP_INFINITE
 1

	)

197 
FP_INFINITE
,

198 
FP_ZERO
 =

199 
	#FP_ZERO
 2

	)

200 
FP_ZERO
,

201 
FP_SUBNORMAL
 =

202 
	#FP_SUBNORMAL
 3

	)

203 
FP_SUBNORMAL
,

204 
FP_NORMAL
 =

205 
	#FP_NORMAL
 4

	)

206 
FP_NORMAL


210 #ifdeà
__NO_LONG_DOUBLE_MATH


211 
	#åşassify
(
x
) \

212 ( (
x
è=ğ (è? 
	`__åşassifyf
 (xè: 
	`__åşassify
 (x))

	)

214 
	#åşassify
(
x
) \

215 ( (
x
) ==  () \

216 ? 
	`__åşassifyf
 (
x
) \

217 :  (
x
) ==  () \

218 ? 
	`__åşassify
 (
x
è: 
	`__åşassifyl
 (x))

	)

222 #ifdeà
__NO_LONG_DOUBLE_MATH


223 
	#signb™
(
x
) \

224 ( (
x
è=ğ (è? 
	`__signb™f
 (xè: 
	`__signb™
 (x))

	)

226 
	#signb™
(
x
) \

227 ( (
x
) ==  () \

228 ? 
	`__signb™f
 (
x
) \

229 :  (
x
) ==  () \

230 ? 
	`__signb™
 (
x
è: 
	`__signb™l
 (x))

	)

234 #ifdeà
__NO_LONG_DOUBLE_MATH


235 
	#isfš™e
(
x
) \

236 ( (
x
è=ğ (è? 
	`__fš™ef
 (xè: 
	`__fš™e
 (x))

	)

238 
	#isfš™e
(
x
) \

239 ( (
x
) ==  () \

240 ? 
	`__fš™ef
 (
x
) \

241 :  (
x
) ==  () \

242 ? 
	`__fš™e
 (
x
è: 
	`__fš™–
 (x))

	)

246 
	#i¢Üm®
(
x
è(
	`åşassify
 (xè=ğ
FP_NORMAL
)

	)

250 #ifdeà
__NO_LONG_DOUBLE_MATH


251 
	#i¢ª
(
x
) \

252 ( (
x
è=ğ (è? 
	`__i¢ªf
 (xè: 
	`__i¢ª
 (x))

	)

254 
	#i¢ª
(
x
) \

255 ( (
x
) ==  () \

256 ? 
	`__i¢ªf
 (
x
) \

257 :  (
x
) ==  () \

258 ? 
	`__i¢ª
 (
x
è: 
	`__i¢ªl
 (x))

	)

262 #ifdeà
__NO_LONG_DOUBLE_MATH


263 
	#isšf
(
x
) \

264 ( (
x
è=ğ (è? 
	`__isšff
 (xè: 
	`__isšf
 (x))

	)

266 
	#isšf
(
x
) \

267 ( (
x
) ==  () \

268 ? 
	`__isšff
 (
x
) \

269 :  (
x
) ==  () \

270 ? 
	`__isšf
 (
x
è: 
	`__isšæ
 (x))

	)

274 
	#MATH_ERRNO
 1

	)

275 
	#MATH_ERREXCEPT
 2

	)

280 #iâdeà
__FAST_MATH__


281 
	#m©h_”rhªdlšg
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

286 #ifdeà
__USE_GNU


288 #ifdeà
__NO_LONG_DOUBLE_MATH


289 
	#issigÇlšg
(
x
) \

290 ( (
x
è=ğ (è? 
	`__issigÇlšgf
 (xè: 
	`__issigÇlšg
 (x))

	)

292 
	#issigÇlšg
(
x
) \

293 ( (
x
) ==  () \

294 ? 
	`__issigÇlšgf
 (
x
) \

295 :  (
x
) ==  () \

296 ? 
	`__issigÇlšg
 (
x
è: 
	`__issigÇlšgl
 (x))

	)

300 #ifdef 
__USE_MISC


304 
_IEEE_
 = -1,

305 
_SVID_
,

306 
_XOPEN_
,

307 
_POSIX_
,

308 
_ISOC_


309 } 
	t_LIB_VERSION_TYPE
;

314 
_LIB_VERSION_TYPE
 
_LIB_VERSION
;

318 #ifdeà
__USE_MISC


324 #ifdeà
__ılu¥lus


325 
__exû±iÚ


327 
exû±iÚ


330 
ty³
;

331 *
Çme
;

332 
¬g1
;

333 
¬g2
;

334 
»tv®
;

335 
	}
};

337 #ifdeà
__ılu¥lus


338 
	$m©h”r
 (
__exû±iÚ
 *
__exc
è
	`throw
 ();

340 
	`m©h”r
 (
exû±iÚ
 *
__exc
);

343 
	#X_TLOSS
 1.41484755040568800000e+16

	)

346 
	#DOMAIN
 1

	)

347 
	#SING
 2

	)

348 
	#OVERFLOW
 3

	)

349 
	#UNDERFLOW
 4

	)

350 
	#TLOSS
 5

	)

351 
	#PLOSS
 6

	)

354 
	#HUGE
 3.40282347e+38F

	)

358 #ifdeà
__USE_XOPEN


360 
	#MAXFLOAT
 3.40282347e+38F

	)

367 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


368 
	#M_E
 2.7182818284590452354

	)

369 
	#M_LOG2E
 1.4426950408889634074

	)

370 
	#M_LOG10E
 0.43429448190325182765

	)

371 
	#M_LN2
 0.69314718055994530942

	)

372 
	#M_LN10
 2.30258509299404568402

	)

373 
	#M_PI
 3.14159265358979323846

	)

374 
	#M_PI_2
 1.57079632679489661923

	)

375 
	#M_PI_4
 0.78539816339744830962

	)

376 
	#M_1_PI
 0.31830988618379067154

	)

377 
	#M_2_PI
 0.63661977236758134308

	)

378 
	#M_2_SQRTPI
 1.12837916709551257390

	)

379 
	#M_SQRT2
 1.41421356237309504880

	)

380 
	#M_SQRT1_2
 0.70710678118654752440

	)

386 #ifdeà
__USE_GNU


387 
	#M_El
 2.718281828459045235360287471352662498L

	)

388 
	#M_LOG2El
 1.442695040888963407359924681001892137L

	)

389 
	#M_LOG10El
 0.434294481903251827651128918916605082L

	)

390 
	#M_LN2l
 0.693147180559945309417232121458176568L

	)

391 
	#M_LN10l
 2.302585092994045684017991454684364208L

	)

392 
	#M_PIl
 3.141592653589793238462643383279502884L

	)

393 
	#M_PI_2l
 1.570796326794896619231321691639751442L

	)

394 
	#M_PI_4l
 0.785398163397448309615660845819875721L

	)

395 
	#M_1_PIl
 0.318309886183790671537767526745028724L

	)

396 
	#M_2_PIl
 0.636619772367581343075535053490057448L

	)

397 
	#M_2_SQRTPIl
 1.128379167095512573896158903121545172L

	)

398 
	#M_SQRT2l
 1.414213562373095048801688724209698079L

	)

399 
	#M_SQRT1_2l
 0.707106781186547524400844362104849039L

	)

406 #ià
defšed
 
__STRICT_ANSI__
 && !defšed 
__NO_MATH_INLINES


407 
	#__NO_MATH_INLINES
 1

	)

410 #ià
defšed
 
__USE_ISOC99
 && 
	`__GNUC_PREREQ
(2,97)

417 
	#isg»©”
(
x
, 
y
è
	`__butš_isg»©”
(x, y)

	)

418 
	#isg»©”equ®
(
x
, 
y
è
	`__butš_isg»©”equ®
(x, y)

	)

419 
	#i¦ess
(
x
, 
y
è
	`__butš_i¦ess
(x, y)

	)

420 
	#i¦es£qu®
(
x
, 
y
è
	`__butš_i¦es£qu®
(x, y)

	)

421 
	#i¦essg»©”
(
x
, 
y
è
	`__butš_i¦essg»©”
(x, y)

	)

422 
	#isunÜd”ed
(
u
, 
v
è
	`__butš_isunÜd”ed
(u, v)

	)

426 #ifdeà
__USE_EXTERN_INLINES


427 
	~<b™s/m©hšlše.h
>

432 #ià
defšed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0

433 
	~<b™s/m©h-fš™e.h
>

436 #ifdeà
__USE_ISOC99


440 #iâdeà
isg»©”


441 
	#isg»©”
(
x
, 
y
) \

442 (
__ex‹nsiÚ__
 \

443 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

444 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x > __y; 
	}
}))

	)

448 #iâdeà
isg»©”equ®


449 
	#isg»©”equ®
(
x
, 
y
) \

450 (
__ex‹nsiÚ__
 \

451 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

452 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x >ğ__y; }))

	)

456 #iâdeà
i¦ess


457 
	#i¦ess
(
x
, 
y
) \

458 (
__ex‹nsiÚ__
 \

459 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

460 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x < __y; }))

	)

464 #iâdeà
i¦es£qu®


465 
	#i¦es£qu®
(
x
, 
y
) \

466 (
__ex‹nsiÚ__
 \

467 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

468 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x <ğ__y; }))

	)

472 #iâdeà
i¦essg»©”


473 
	#i¦essg»©”
(
x
, 
y
) \

474 (
__ex‹nsiÚ__
 \

475 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

476 !
	`isunÜd”ed
 (
__x
, 
__y
è&& (__x < __y || __y < __x); }))

	)

480 #iâdeà
isunÜd”ed


481 
	#isunÜd”ed
(
u
, 
v
) \

482 (
__ex‹nsiÚ__
 \

483 ({ 
	`__ty³of__
(
u
è
__u
 = (u); __ty³of__(
v
è
__v
 = (v); \

484 
	`åşassify
 (
__u
è=ğ
FP_NAN
 || fpşassify (
__v
è=ğFP_NAN; }))

	)

489 
	g__END_DECLS


	@/usr/include/setjmp.h

22 #iâdef 
_SETJMP_H


23 
	#_SETJMP_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/£tjmp.h
>

30 
	~<b™s/sig£t.h
>

34 
	s__jmp_buf_g


40 
__jmp_buf
 
	m__jmpbuf
;

41 
	m__mask_was_§ved
;

42 
__sig£t_t
 
	m__§ved_mask
;

46 
__BEGIN_NAMESPACE_STD


48 
__jmp_buf_g
 
	tjmp_buf
[1];

52 
	$£tjmp
 (
jmp_buf
 
__’v
è
__THROWNL
;

54 
__END_NAMESPACE_STD


59 
	$__sig£tjmp
 (
__jmp_buf_g
 
__’v
[1], 
__§vemask
è
__THROWNL
;

63 
	$_£tjmp
 (
__jmp_buf_g
 
__’v
[1]è
__THROWNL
;

67 
	#£tjmp
(
’v
è
	`_£tjmp
 (’v)

	)

70 
__BEGIN_NAMESPACE_STD


74 
	$lÚgjmp
 (
__jmp_buf_g
 
__’v
[1], 
__v®
)

75 
__THROWNL
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

77 
__END_NAMESPACE_STD


79 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


83 
	$_lÚgjmp
 (
__jmp_buf_g
 
__’v
[1], 
__v®
)

84 
__THROWNL
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

88 #ifdef 
__USE_POSIX


92 
__jmp_buf_g
 
	tsigjmp_buf
[1];

96 
	#sig£tjmp
(
’v
, 
§vemask
è
	`__sig£tjmp
 (’v, savemask)

	)

102 
	$siglÚgjmp
 (
sigjmp_buf
 
__’v
, 
__v®
)

103 
__THROWNL
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

108 #ià
__USE_FORTIFY_LEVEL
 > 0

109 
	~<b™s/£tjmp2.h
>

112 
__END_DECLS


	@/usr/include/signal.h

22 #iâdef 
_SIGNAL_H


24 #ià!
defšed
 
__Ãed_sig_©omic_t
 && !defšed 
__Ãed_sig£t_t


25 
	#_SIGNAL_H


	)

28 
	~<ã©u»s.h
>

30 
	g__BEGIN_DECLS


32 
	~<b™s/sig£t.h
>

36 #ià
defšed
 
__Ãed_sig_©omic_t
 || defšed 
_SIGNAL_H


37 #iâdeà
__sig_©omic_t_defšed


38 
	#__sig_©omic_t_defšed


	)

39 
__BEGIN_NAMESPACE_STD


40 
__sig_©omic_t
 
	tsig_©omic_t
;

41 
	g__END_NAMESPACE_STD


43 #undeà
__Ãed_sig_©omic_t


46 #ià
defšed
 
__Ãed_sig£t_t
 || (defšed 
_SIGNAL_H
 && defšed 
__USE_POSIX
)

47 #iâdeà
__sig£t_t_defšed


48 
	#__sig£t_t_defšed


	)

49 
__sig£t_t
 
	tsig£t_t
;

51 #undeà
__Ãed_sig£t_t


54 #ifdeà
_SIGNAL_H


56 
	~<b™s/ty³s.h
>

57 
	~<b™s/signum.h
>

59 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


60 #iâdeà
__pid_t_defšed


61 
__pid_t
 
	tpid_t
;

62 
	#__pid_t_defšed


	)

64 #ifdeà
__USE_XOPEN


66 #iâdeà
__uid_t_defšed


67 
__uid_t
 
	tuid_t
;

68 
	#__uid_t_defšed


	)

72 #ifdeà
__USE_POSIX199309


74 
	#__Ãed_time¥ec


	)

75 
	~<time.h
>

78 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_XOPEN_EXTENDED


80 
	~<b™s/sigšfo.h
>

85 (*
	t__sighªdËr_t
) ();

90 
__sighªdËr_t
 
	$__sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

91 
__THROW
;

92 #ifdeà
__USE_GNU


93 
__sighªdËr_t
 
	$sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

94 
__THROW
;

100 
__BEGIN_NAMESPACE_STD


101 #ifdeà
__USE_MISC


102 
__sighªdËr_t
 
	$sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

103 
__THROW
;

106 #ifdeà
__REDIRECT_NTH


107 
__sighªdËr_t
 
	`__REDIRECT_NTH
 (
sigÇl
,

108 (
__sig
, 
__sighªdËr_t
 
__hªdËr
),

109 
__sysv_sigÇl
);

111 
	#sigÇl
 
__sysv_sigÇl


	)

114 
__END_NAMESPACE_STD


116 #ifdeà
__USE_XOPEN


119 
__sighªdËr_t
 
	$bsd_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

120 
__THROW
;

126 #ifdeà
__USE_POSIX


127 
	$kl
 (
__pid_t
 
__pid
, 
__sig
è
__THROW
;

130 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


134 
	$kÍg
 (
__pid_t
 
__pg½
, 
__sig
è
__THROW
;

137 
__BEGIN_NAMESPACE_STD


139 
	$¿i£
 (
__sig
è
__THROW
;

140 
__END_NAMESPACE_STD


142 #ifdeà
__USE_MISC


144 
__sighªdËr_t
 
	$ssigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

145 
__THROW
;

146 
	$gsigÇl
 (
__sig
è
__THROW
;

149 #ifdeà
__USE_XOPEN2K


151 
	`psigÇl
 (
__sig
, cÚ¡ *
__s
);

154 #ifdeà
__USE_XOPEN2K


156 
	`psigšfo
 (cÚ¡ 
sigšfo_t
 *
__pšfo
, cÚ¡ *
__s
);

168 #ifdeà
__USE_XOPEN


169 #ifdeà
__GNUC__


170 
	$sig·u£
 (
__sig
è
	`__asm__
 ("__xpg_sigpause");

172 
	`__sig·u£
 (
__sig_Ü_mask
, 
__is_sig
);

174 
	#sig·u£
(
sig
è
	`__sig·u£
 ((sig), 1)

	)

179 #ifdeà
__USE_MISC


186 
	#sigmask
(
sig
è
	`__sigmask
(sig)

	)

189 
	$sigblock
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

192 
	$sig£tmask
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

195 
	$sigg‘mask
 (è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

199 #ifdeà
__USE_MISC


200 
	#NSIG
 
_NSIG


	)

203 #ifdeà
__USE_GNU


204 
__sighªdËr_t
 
	tsighªdËr_t
;

208 #ifdeà
__USE_MISC


209 
__sighªdËr_t
 
	tsig_t
;

212 #ifdeà
__USE_POSIX


215 
	$sigem±y£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

218 
	$sigfl£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

221 
	$sigadd£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

224 
	$sigd–£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

227 
	$sigismemb”
 (cÚ¡ 
sig£t_t
 *
__£t
, 
__signo
)

228 
__THROW
 
	`__nÚnuÎ
 ((1));

230 #ifdeà
__USE_GNU


232 
	$sigi£m±y£t
 (cÚ¡ 
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

235 
	$sigªd£t
 (
sig£t_t
 *
__£t
, cÚ¡ sig£t_ˆ*
__Ëá
,

236 cÚ¡ 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

239 
	$sigÜ£t
 (
sig£t_t
 *
__£t
, cÚ¡ sig£t_ˆ*
__Ëá
,

240 cÚ¡ 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

245 
	~<b™s/sigaùiÚ.h
>

248 
	$sig´ocmask
 (
__how
, cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

249 
sig£t_t
 *
__»¡riù
 
__o£t
è
__THROW
;

256 
	$sigsu¥’d
 (cÚ¡ 
sig£t_t
 *
__£t
è
	`__nÚnuÎ
 ((1));

259 
	$sigaùiÚ
 (
__sig
, cÚ¡ 
sigaùiÚ
 *
__»¡riù
 
__aù
,

260 
sigaùiÚ
 *
__»¡riù
 
__ßù
è
__THROW
;

263 
	$sig³ndšg
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

270 
	$sigwa™
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
, *__»¡riù 
__sig
)

271 
	`__nÚnuÎ
 ((1, 2));

273 #ifdeà
__USE_POSIX199309


278 
	$sigwa™šfo
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

279 
sigšfo_t
 *
__»¡riù
 
__šfo
è
	`__nÚnuÎ
 ((1));

286 
	$sigtimedwa™
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

287 
sigšfo_t
 *
__»¡riù
 
__šfo
,

288 cÚ¡ 
time¥ec
 *
__»¡riù
 
__timeout
)

289 
	`__nÚnuÎ
 ((1));

293 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, cÚ¡ 
sigv®
 
__v®
)

294 
__THROW
;

299 #ifdeà
__USE_MISC


303 cÚ¡ *cÚ¡ 
_sys_sigli¡
[
_NSIG
];

304 cÚ¡ *cÚ¡ 
sys_sigli¡
[
_NSIG
];

308 
	~<b™s/sigcÚ‹xt.h
>

311 
	$sig»tuº
 (
sigcÚ‹xt
 *
__sı
è
__THROW
;

316 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


317 
	#__Ãed_size_t


	)

318 
	~<¡ddef.h
>

323 
	$sigš‹¼u±
 (
__sig
, 
__š‹¼u±
è
__THROW
;

325 
	~<b™s/sig¡ack.h
>

326 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


328 
	~<sys/ucÚ‹xt.h
>

334 
	$sig¡ack
 (
sig¡ack
 *
__ss
, sig¡ack *
__oss
)

335 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

339 
	$sig®t¡ack
 (cÚ¡ 
sig®t¡ack
 *
__»¡riù
 
__ss
,

340 
sig®t¡ack
 *
__»¡riù
 
__oss
è
__THROW
;

344 #ifdeà
__USE_XOPEN_EXTENDED


348 
	$sighŞd
 (
__sig
è
__THROW
;

351 
	$sig»l£
 (
__sig
è
__THROW
;

354 
	$sigignÜe
 (
__sig
è
__THROW
;

357 
__sighªdËr_t
 
	$sig£t
 (
__sig
, 
__sighªdËr_t
 
__di¥
è
__THROW
;

360 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


363 
	~<b™s/±h»adty³s.h
>

364 
	~<b™s/sigth»ad.h
>

371 
	$__libc_cu¼’t_sig¹mš
 (è
__THROW
;

373 
	$__libc_cu¼’t_sig¹max
 (è
__THROW
;

377 
__END_DECLS


	@/usr/include/stdio.h

23 #iâdeà
_STDIO_H


25 #ià!
defšed
 
__Ãed_FILE
 && !defšed 
__Ãed___FILE


26 
	#_STDIO_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	~<b™s/ty³s.h
>

36 
	#__Ãed_FILE


	)

37 
	#__Ãed___FILE


	)

41 #ià!
defšed
 
__FILE_defšed
 && defšed 
__Ãed_FILE


44 
	g_IO_FILE
;

46 
__BEGIN_NAMESPACE_STD


48 
_IO_FILE
 
	tFILE
;

49 
	g__END_NAMESPACE_STD


50 #ià
defšed
 
__USE_LARGEFILE64
 || defšed 
__USE_POSIX
 \

51 || 
defšed
 
	g__USE_ISOC99
 || defšed 
	g__USE_XOPEN
 \

52 || 
defšed
 
__USE_POSIX2


53 
	$__USING_NAMESPACE_STD
(
FILE
)

56 
	#__FILE_defšed
 1

	)

58 #undeà
__Ãed_FILE


61 #ià!
defšed
 
____FILE_defšed
 && defšed 
__Ãed___FILE


64 
_IO_FILE
 
	t__FILE
;

66 
	#____FILE_defšed
 1

	)

68 #undeà
__Ãed___FILE


71 #ifdef 
_STDIO_H


72 
	#_STDIO_USES_IOSTREAM


	)

74 
	~<libio.h
>

76 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


77 #ifdeà
__GNUC__


78 #iâdeà
_VA_LIST_DEFINED


79 
_G_va_li¡
 
	tva_li¡
;

80 
	#_VA_LIST_DEFINED


	)

83 
	~<¡d¬g.h
>

87 #ifdeà
__USE_XOPEN2K8


88 #iâdeà
__off_t_defšed


89 #iâdeà
__USE_FILE_OFFSET64


90 
__off_t
 
	toff_t
;

92 
__off64_t
 
	toff_t
;

94 
	#__off_t_defšed


	)

96 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


97 
__off64_t
 
	toff64_t
;

98 
	#__off64_t_defšed


	)

101 #iâdeà
__ssize_t_defšed


102 
__ssize_t
 
	tssize_t
;

103 
	#__ssize_t_defšed


	)

108 
__BEGIN_NAMESPACE_STD


109 #iâdeà
__USE_FILE_OFFSET64


110 
_G_åos_t
 
	tåos_t
;

112 
_G_åos64_t
 
	tåos_t
;

114 
__END_NAMESPACE_STD


115 #ifdeà
__USE_LARGEFILE64


116 
_G_åos64_t
 
	tåos64_t
;

120 
	#_IOFBF
 0

	)

121 
	#_IOLBF
 1

	)

122 
	#_IONBF
 2

	)

126 #iâdeà
BUFSIZ


127 
	#BUFSIZ
 
_IO_BUFSIZ


	)

133 #iâdeà
EOF


134 
	#EOF
 (-1)

	)

140 
	#SEEK_SET
 0

	)

141 
	#SEEK_CUR
 1

	)

142 
	#SEEK_END
 2

	)

143 #ifdeà
__USE_GNU


144 
	#SEEK_DATA
 3

	)

145 
	#SEEK_HOLE
 4

	)

149 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


151 
	#P_tmpdœ
 "/tmp"

	)

164 
	~<b™s/¡dio_lim.h
>

168 
_IO_FILE
 *
¡dš
;

169 
_IO_FILE
 *
¡dout
;

170 
_IO_FILE
 *
¡d”r
;

172 
	#¡dš
 
¡dš


	)

173 
	#¡dout
 
¡dout


	)

174 
	#¡d”r
 
¡d”r


	)

176 
__BEGIN_NAMESPACE_STD


178 
	$»move
 (cÚ¡ *
__f’ame
è
__THROW
;

180 
	$»Çme
 (cÚ¡ *
__Şd
, cÚ¡ *
__Ãw
è
__THROW
;

181 
__END_NAMESPACE_STD


183 #ifdeà
__USE_ATFILE


185 
	$»Çm—t
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

186 cÚ¡ *
__Ãw
è
__THROW
;

189 
__BEGIN_NAMESPACE_STD


194 #iâdeà
__USE_FILE_OFFSET64


195 
FILE
 *
	$tmpfe
 (è
__wur
;

197 #ifdeà
__REDIRECT


198 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
è
__wur
;

200 
	#tmpfe
 
tmpfe64


	)

204 #ifdeà
__USE_LARGEFILE64


205 
FILE
 *
	$tmpfe64
 (è
__wur
;

209 *
	$tm²am
 (*
__s
è
__THROW
 
__wur
;

210 
__END_NAMESPACE_STD


212 #ifdeà
__USE_MISC


215 *
	$tm²am_r
 (*
__s
è
__THROW
 
__wur
;

219 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


227 *
	$‹m²am
 (cÚ¡ *
__dœ
, cÚ¡ *
__pfx
)

228 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

232 
__BEGIN_NAMESPACE_STD


237 
	`fşo£
 (
FILE
 *
__¡»am
);

242 
	`fæush
 (
FILE
 *
__¡»am
);

243 
__END_NAMESPACE_STD


245 #ifdeà
__USE_MISC


252 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

255 #ifdeà
__USE_GNU


262 
	`fşo£®l
 ();

266 
__BEGIN_NAMESPACE_STD


267 #iâdeà
__USE_FILE_OFFSET64


272 
FILE
 *
	$fİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

273 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

278 
FILE
 *
	$äeİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

279 cÚ¡ *
__»¡riù
 
__modes
,

280 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

282 #ifdeà
__REDIRECT


283 
FILE
 *
	`__REDIRECT
 (
fİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

284 cÚ¡ *
__»¡riù
 
__modes
), 
fİ’64
)

285 
__wur
;

286 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

287 cÚ¡ *
__»¡riù
 
__modes
,

288 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

289 
__wur
;

291 
	#fİ’
 
fİ’64


	)

292 
	#äeİ’
 
äeİ’64


	)

295 
__END_NAMESPACE_STD


296 #ifdeà
__USE_LARGEFILE64


297 
FILE
 *
	$fİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

298 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

299 
FILE
 *
	$äeİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

300 cÚ¡ *
__»¡riù
 
__modes
,

301 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

304 #ifdef 
__USE_POSIX


306 
FILE
 *
	$fdİ’
 (
__fd
, cÚ¡ *
__modes
è
__THROW
 
__wur
;

309 #ifdef 
__USE_GNU


312 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

313 cÚ¡ *
__»¡riù
 
__modes
,

314 
_IO_cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW
 
__wur
;

317 #ifdeà
__USE_XOPEN2K8


319 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, cÚ¡ *
__modes
)

320 
__THROW
 
__wur
;

325 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
 
__wur
;

329 
__BEGIN_NAMESPACE_STD


332 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

336 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

337 
__modes
, 
size_t
 
__n
è
__THROW
;

338 
__END_NAMESPACE_STD


340 #ifdef 
__USE_MISC


343 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

344 
size_t
 
__size
è
__THROW
;

347 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

351 
__BEGIN_NAMESPACE_STD


356 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

357 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

362 
	`´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

364 
	$¥rštf
 (*
__»¡riù
 
__s
,

365 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROWNL
;

371 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

372 
_G_va_li¡
 
__¬g
);

377 
	`v´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
);

379 
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

380 
_G_va_li¡
 
__¬g
è
__THROWNL
;

381 
__END_NAMESPACE_STD


383 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_UNIX98


384 
__BEGIN_NAMESPACE_C99


386 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

387 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

388 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

390 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

391 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

392 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

393 
__END_NAMESPACE_C99


396 #ifdeà
__USE_GNU


399 
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__f
,

400 
_G_va_li¡
 
__¬g
)

401 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

402 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

403 cÚ¡ *
__»¡riù
 
__fmt
, ...)

404 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

405 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

406 cÚ¡ *
__»¡riù
 
__fmt
, ...)

407 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

410 #ifdeà
__USE_XOPEN2K8


412 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
,

413 
_G_va_li¡
 
__¬g
)

414 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

415 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

416 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

420 
__BEGIN_NAMESPACE_STD


425 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

426 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

431 
	$sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

433 
	$ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

434 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

436 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

437 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

438 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

439 #ifdeà
__REDIRECT


443 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

444 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

445 
__isoc99_fsÿnf
è
__wur
;

446 
	`__REDIRECT
 (
sÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

447 
__isoc99_sÿnf
è
__wur
;

448 
	`__REDIRECT_NTH
 (
ssÿnf
, (cÚ¡ *
__»¡riù
 
__s
,

449 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

450 
__isoc99_ssÿnf
);

452 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

453 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

454 
	$__isoc99_sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

455 
	$__isoc99_ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

456 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

457 
	#fsÿnf
 
__isoc99_fsÿnf


	)

458 
	#sÿnf
 
__isoc99_sÿnf


	)

459 
	#ssÿnf
 
__isoc99_ssÿnf


	)

463 
__END_NAMESPACE_STD


465 #ifdef 
__USE_ISOC99


466 
__BEGIN_NAMESPACE_C99


471 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

472 
_G_va_li¡
 
__¬g
)

473 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

479 
	$vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

480 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

483 
	$vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

484 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

485 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

487 #ià!
defšed
 
__USE_GNU
 \

488 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

489 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

490 #ifdeà
__REDIRECT


494 
	`__REDIRECT
 (
vfsÿnf
,

495 (
FILE
 *
__»¡riù
 
__s
,

496 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

497 
__isoc99_vfsÿnf
)

498 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

499 
	`__REDIRECT
 (
vsÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
,

500 
_G_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

501 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

502 
	`__REDIRECT_NTH
 (
vssÿnf
,

503 (cÚ¡ *
__»¡riù
 
__s
,

504 cÚ¡ *
__»¡riù
 
__fÜm©
,

505 
_G_va_li¡
 
__¬g
), 
__isoc99_vssÿnf
)

506 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

508 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

509 cÚ¡ *
__»¡riù
 
__fÜm©
,

510 
_G_va_li¡
 
__¬g
è
__wur
;

511 
	$__isoc99_vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
,

512 
_G_va_li¡
 
__¬g
è
__wur
;

513 
	$__isoc99_vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

514 cÚ¡ *
__»¡riù
 
__fÜm©
,

515 
_G_va_li¡
 
__¬g
è
__THROW
;

516 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

517 
	#vsÿnf
 
__isoc99_vsÿnf


	)

518 
	#vssÿnf
 
__isoc99_vssÿnf


	)

522 
__END_NAMESPACE_C99


526 
__BEGIN_NAMESPACE_STD


531 
	`fg‘c
 (
FILE
 *
__¡»am
);

532 
	`g‘c
 (
FILE
 *
__¡»am
);

538 
	`g‘ch¬
 ();

539 
__END_NAMESPACE_STD


543 
	#g‘c
(
_å
è
	`_IO_g‘c
 (_å)

	)

545 #ifdeà
__USE_POSIX


550 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

551 
	`g‘ch¬_uÆocked
 ();

554 #ifdeà
__USE_MISC


561 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

565 
__BEGIN_NAMESPACE_STD


573 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

574 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

580 
	`putch¬
 (
__c
);

581 
__END_NAMESPACE_STD


585 
	#putc
(
_ch
, 
_å
è
	`_IO_putc
 (_ch, _å)

	)

587 #ifdeà
__USE_MISC


594 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

597 #ifdeà
__USE_POSIX


602 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

603 
	`putch¬_uÆocked
 (
__c
);

607 #ià
defšed
 
__USE_MISC
 \

608 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

610 
	`g‘w
 (
FILE
 *
__¡»am
);

613 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

617 
__BEGIN_NAMESPACE_STD


622 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

623 
__wur
;

625 #ià!
defšed
 
__USE_ISOC11
 \

626 || (
defšed
 
__ılu¥lus
 && __cplusplus <= 201103L)

638 *
	$g‘s
 (*
__s
è
__wur
 
__©Œibu‹_d•»ÿ‹d__
;

640 
__END_NAMESPACE_STD


642 #ifdeà
__USE_GNU


649 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

650 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

654 #ifdef 
__USE_XOPEN2K8


665 
_IO_ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

666 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

667 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

668 
_IO_ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

669 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

670 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

678 
_IO_ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

679 
size_t
 *
__»¡riù
 
__n
,

680 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

684 
__BEGIN_NAMESPACE_STD


689 
	`åuts
 (cÚ¡ *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

695 
	`puts
 (cÚ¡ *
__s
);

702 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

709 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

710 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

715 
size_t
 
	`fwr™e
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

716 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
);

717 
__END_NAMESPACE_STD


719 #ifdeà
__USE_GNU


726 
	`åuts_uÆocked
 (cÚ¡ *
__»¡riù
 
__s
,

727 
FILE
 *
__»¡riù
 
__¡»am
);

730 #ifdeà
__USE_MISC


737 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

738 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

739 
size_t
 
	`fwr™e_uÆocked
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

740 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
);

744 
__BEGIN_NAMESPACE_STD


749 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

754 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

759 
	`»wšd
 (
FILE
 *
__¡»am
);

760 
__END_NAMESPACE_STD


767 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


768 #iâdeà
__USE_FILE_OFFSET64


773 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

778 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

780 #ifdeà
__REDIRECT


781 
	`__REDIRECT
 (
f£eko
,

782 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

783 
f£eko64
);

784 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

786 
	#f£eko
 
f£eko64


	)

787 
	#á–lo
 
á–lo64


	)

792 
__BEGIN_NAMESPACE_STD


793 #iâdeà
__USE_FILE_OFFSET64


798 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

803 
	`f£os
 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
);

805 #ifdeà
__REDIRECT


806 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

807 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

808 
	`__REDIRECT
 (
f£os
,

809 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
), 
f£os64
);

811 
	#fg‘pos
 
fg‘pos64


	)

812 
	#f£os
 
f£os64


	)

815 
__END_NAMESPACE_STD


817 #ifdeà
__USE_LARGEFILE64


818 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

819 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

820 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

821 
	`f£os64
 (
FILE
 *
__¡»am
, cÚ¡ 
åos64_t
 *
__pos
);

824 
__BEGIN_NAMESPACE_STD


826 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

828 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

830 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

831 
__END_NAMESPACE_STD


833 #ifdeà
__USE_MISC


835 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

836 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

837 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

841 
__BEGIN_NAMESPACE_STD


846 
	`³¼Ü
 (cÚ¡ *
__s
);

847 
__END_NAMESPACE_STD


853 
	~<b™s/sys_”¾i¡.h
>

856 #ifdef 
__USE_POSIX


858 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

861 #ifdeà
__USE_MISC


863 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

867 #ifdeà
__USE_POSIX2


872 
FILE
 *
	$pİ’
 (cÚ¡ *
__commªd
, cÚ¡ *
__modes
è
__wur
;

878 
	`pşo£
 (
FILE
 *
__¡»am
);

882 #ifdef 
__USE_POSIX


884 *
	$ù”mid
 (*
__s
è
__THROW
;

888 #ifdeà
__USE_XOPEN


890 *
	`cu£rid
 (*
__s
);

894 #ifdef 
__USE_GNU


895 
ob¡ack
;

898 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

899 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

900 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

901 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

902 cÚ¡ *
__»¡riù
 
__fÜm©
,

903 
_G_va_li¡
 
__¬gs
)

904 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

908 #ifdeà
__USE_POSIX


912 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

916 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

919 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

922 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


926 
	#__Ãed_g‘İt


	)

927 
	~<g‘İt.h
>

932 #ifdeà
__USE_EXTERN_INLINES


933 
	~<b™s/¡dio.h
>

935 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


936 
	~<b™s/¡dio2.h
>

938 #ifdeà
__LDBL_COMPAT


939 
	~<b™s/¡dio-ldbl.h
>

942 
__END_DECLS


	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

34 
	g__BEGIN_DECLS


36 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


37 
	#_STDLIB_H
 1

	)

39 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


41 
	~<b™s/wa™æags.h
>

42 
	~<b™s/wa™¡©us.h
>

44 #ifdeà
__USE_MISC


49 #ià
defšed
 
__GNUC__
 && !defšed 
__ılu¥lus


50 
	#__WAIT_INT
(
¡©us
) \

51 (
	`__ex‹nsiÚ__
 (((uniÚ { 
	`__ty³of
(
¡©us
è
__š
; 
__i
; }) \

52 { .
__š
 = (
¡©us
è}).
__i
))

	)

54 
	#__WAIT_INT
(
¡©us
è(*(*è&(¡©us))

	)

62 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2 || defšed 
__ılu¥lus


63 
	#__WAIT_STATUS
 *

	)

64 
	#__WAIT_STATUS_DEFN
 *

	)

69 
wa™
 *
	m__u±r
;

70 *
	m__Œ
;

71 } 
	t__WAIT_STATUS
 
	t__©Œibu‹__
 ((
	t__Œª¥¬’t_uniÚ__
));

72 
	#__WAIT_STATUS_DEFN
 *

	)

77 
	#__WAIT_INT
(
¡©us
è(¡©us)

	)

78 
	#__WAIT_STATUS
 *

	)

79 
	#__WAIT_STATUS_DEFN
 *

	)

84 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (¡©us))

	)

85 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (
	`__WAIT_INT
 (¡©us))

	)

86 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (
	`__WAIT_INT
 (¡©us))

	)

87 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (
	`__WAIT_INT
 (¡©us))

	)

88 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (¡©us))

	)

89 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (¡©us))

	)

90 #ifdeà
__WIFCONTINUED


91 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (¡©us))

	)

95 
__BEGIN_NAMESPACE_STD


99 
	mquÙ
;

100 
	m»m
;

101 } 
	tdiv_t
;

104 #iâdeà
__ldiv_t_defšed


107 
	mquÙ
;

108 
	m»m
;

109 } 
	tldiv_t
;

110 
	#__ldiv_t_defšed
 1

	)

112 
	g__END_NAMESPACE_STD


114 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


115 
__BEGIN_NAMESPACE_C99


117 
__ex‹nsiÚ__
 struct

119 
	mquÙ
;

120 
	m»m
;

121 } 
	tÎdiv_t
;

122 
	#__Îdiv_t_defšed
 1

	)

123 
	g__END_NAMESPACE_C99


128 
	#RAND_MAX
 2147483647

	)

133 
	#EXIT_FAILURE
 1

	)

134 
	#EXIT_SUCCESS
 0

	)

138 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

139 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

142 
__BEGIN_NAMESPACE_STD


144 
	$©of
 (cÚ¡ *
__ÅŒ
)

145 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

147 
	$©oi
 (cÚ¡ *
__ÅŒ
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

150 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

151 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

152 
__END_NAMESPACE_STD


154 #ifdeà
__USE_ISOC99


155 
__BEGIN_NAMESPACE_C99


157 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

158 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

159 
__END_NAMESPACE_C99


162 
__BEGIN_NAMESPACE_STD


164 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

167 
__END_NAMESPACE_STD


169 #ifdef 
__USE_ISOC99


170 
__BEGIN_NAMESPACE_C99


172 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

173 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

175 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

176 **
__»¡riù
 
__’d±r
)

177 
__THROW
 
	`__nÚnuÎ
 ((1));

178 
__END_NAMESPACE_C99


181 
__BEGIN_NAMESPACE_STD


183 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

184 **
__»¡riù
 
__’d±r
, 
__ba£
)

185 
__THROW
 
	`__nÚnuÎ
 ((1));

187 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

190 
__END_NAMESPACE_STD


192 #ifdeà
__USE_MISC


194 
__ex‹nsiÚ__


195 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

196 **
__»¡riù
 
__’d±r
, 
__ba£
)

197 
__THROW
 
	`__nÚnuÎ
 ((1));

199 
__ex‹nsiÚ__


200 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

205 #ifdeà
__USE_ISOC99


206 
__BEGIN_NAMESPACE_C99


208 
__ex‹nsiÚ__


209 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

210 **
__»¡riù
 
__’d±r
, 
__ba£
)

211 
__THROW
 
	`__nÚnuÎ
 ((1));

213 
__ex‹nsiÚ__


214 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

215 **
__»¡riù
 
__’d±r
, 
__ba£
)

216 
__THROW
 
	`__nÚnuÎ
 ((1));

217 
__END_NAMESPACE_C99


221 #ifdeà
__USE_GNU


235 
	~<xloÿË.h
>

239 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

240 **
__»¡riù
 
__’d±r
, 
__ba£
,

241 
__loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

243 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

244 **
__»¡riù
 
__’d±r
,

245 
__ba£
, 
__loÿË_t
 
__loc
)

246 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

248 
__ex‹nsiÚ__


249 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

250 **
__»¡riù
 
__’d±r
, 
__ba£
,

251 
__loÿË_t
 
__loc
)

252 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

254 
__ex‹nsiÚ__


255 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

256 **
__»¡riù
 
__’d±r
,

257 
__ba£
, 
__loÿË_t
 
__loc
)

258 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

260 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

261 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

262 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

264 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

265 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

266 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

268 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

269 **
__»¡riù
 
__’d±r
,

270 
__loÿË_t
 
__loc
)

271 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

275 #ifdeà
__USE_EXTERN_INLINES


276 
__BEGIN_NAMESPACE_STD


277 
__ex‹º_šlše
 

278 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

280  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

281 
	}
}

282 
__ex‹º_šlše
 

283 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

285  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

286 
	}
}

287 
	g__END_NAMESPACE_STD


289 #ifdeà
__USE_ISOC99


290 
__BEGIN_NAMESPACE_C99


291 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

292 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

294  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

295 
	}
}

296 
	g__END_NAMESPACE_C99


301 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


305 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

308 
	$a64l
 (cÚ¡ *
__s
)

309 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

313 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


314 
	~<sys/ty³s.h
>

321 
	$¿ndom
 (è
__THROW
;

324 
	$¤ªdom
 (
__£ed
è
__THROW
;

330 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

331 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

335 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

338 #ifdeà
__USE_MISC


343 
	s¿ndom_d©a


345 
št32_t
 *
åŒ
;

346 
št32_t
 *
½Œ
;

347 
št32_t
 *
¡©e
;

348 
¿nd_ty³
;

349 
¿nd_deg
;

350 
¿nd_£p
;

351 
št32_t
 *
’d_±r
;

354 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

355 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

357 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

358 
__THROW
 
	`__nÚnuÎ
 ((2));

360 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

361 
size_t
 
__¡©–’
,

362 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

363 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

365 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

366 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

367 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

372 
__BEGIN_NAMESPACE_STD


374 
	$¿nd
 (è
__THROW
;

376 
	$¤ªd
 (
__£ed
è
__THROW
;

377 
__END_NAMESPACE_STD


379 #ifdeà
__USE_POSIX


381 
	$¿nd_r
 (*
__£ed
è
__THROW
;

385 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


389 
	$d¿nd48
 (è
__THROW
;

390 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

393 
	$Ìªd48
 (è
__THROW
;

394 
	$Äªd48
 (
__xsubi
[3])

395 
__THROW
 
	`__nÚnuÎ
 ((1));

398 
	$m¿nd48
 (è
__THROW
;

399 
	$j¿nd48
 (
__xsubi
[3])

400 
__THROW
 
	`__nÚnuÎ
 ((1));

403 
	$¤ªd48
 (
__£edv®
è
__THROW
;

404 *
	$£ed48
 (
__£ed16v
[3])

405 
__THROW
 
	`__nÚnuÎ
 ((1));

406 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

408 #ifdeà
__USE_MISC


412 
	sd¿nd48_d©a


414 
__x
[3];

415 
__Şd_x
[3];

416 
__c
;

417 
__š™
;

418 
__ex‹nsiÚ__
 
__a
;

423 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

424 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

425 
	$”ªd48_r
 (
__xsubi
[3],

426 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

427 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

430 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

431 *
__»¡riù
 
__»suÉ
)

432 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

433 
	$Äªd48_r
 (
__xsubi
[3],

434 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

435 *
__»¡riù
 
__»suÉ
)

436 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

439 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

440 *
__»¡riù
 
__»suÉ
)

441 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

442 
	$j¿nd48_r
 (
__xsubi
[3],

443 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

444 *
__»¡riù
 
__»suÉ
)

445 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

448 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

449 
__THROW
 
	`__nÚnuÎ
 ((2));

451 
	$£ed48_r
 (
__£ed16v
[3],

452 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

454 
	$lcÚg48_r
 (
__·¿m
[7],

455 
d¿nd48_d©a
 *
__bufãr
)

456 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

462 #iâdeà
__m®loc_ªd_ÿÎoc_defšed


463 
	#__m®loc_ªd_ÿÎoc_defšed


	)

464 
__BEGIN_NAMESPACE_STD


466 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

468 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

469 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

470 
__END_NAMESPACE_STD


473 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


474 
__BEGIN_NAMESPACE_STD


480 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

481 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

483 
	$ä“
 (*
__±r
è
__THROW
;

484 
__END_NAMESPACE_STD


486 #ifdef 
__USE_MISC


488 
	$cä“
 (*
__±r
è
__THROW
;

491 #ifdeà
__USE_MISC


492 
	~<®loÿ.h
>

495 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

496 || 
defšed
 
__USE_MISC


498 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

501 #ifdeà
__USE_XOPEN2K


503 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

504 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

507 #ifdeà
__USE_ISOC11


509 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

510 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_size__
 ((2)è
__wur
;

513 
__BEGIN_NAMESPACE_STD


515 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

519 
	`©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

521 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


523 #ifdeà
__ılu¥lus


524 "C++" 
	`©_quick_ex™
 ((*
__func
) ())

525 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

527 
	`©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

530 
__END_NAMESPACE_STD


532 #ifdef 
__USE_MISC


535 
	`Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

536 
__THROW
 
	`__nÚnuÎ
 ((1));

539 
__BEGIN_NAMESPACE_STD


543 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

545 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


549 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

551 
__END_NAMESPACE_STD


553 #ifdeà
__USE_ISOC99


554 
__BEGIN_NAMESPACE_C99


557 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

558 
__END_NAMESPACE_C99


562 
__BEGIN_NAMESPACE_STD


564 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

565 
__END_NAMESPACE_STD


567 #ifdeà
__USE_GNU


570 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

571 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

574 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


578 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

581 #ifdeà
__USE_XOPEN2K


584 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

585 
__THROW
 
	`__nÚnuÎ
 ((2));

588 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

591 #ifdef 
__USE_MISC


595 
	$ş—»nv
 (è
__THROW
;

599 #ià
defšed
 
__USE_MISC
 \

600 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

606 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

609 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


618 #iâdeà
__USE_FILE_OFFSET64


619 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

621 #ifdeà
__REDIRECT


622 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

623 
	`__nÚnuÎ
 ((1)è
__wur
;

625 
	#mk¡emp
 
mk¡emp64


	)

628 #ifdeà
__USE_LARGEFILE64


629 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

633 #ifdeà
__USE_MISC


640 #iâdeà
__USE_FILE_OFFSET64


641 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

643 #ifdeà
__REDIRECT


644 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

645 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

647 
	#mk¡emps
 
mk¡emps64


	)

650 #ifdeà
__USE_LARGEFILE64


651 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

652 
	`__nÚnuÎ
 ((1)è
__wur
;

656 #ifdeà
__USE_XOPEN2K8


662 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

665 #ifdeà
__USE_GNU


672 #iâdeà
__USE_FILE_OFFSET64


673 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

675 #ifdeà
__REDIRECT


676 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

677 
	`__nÚnuÎ
 ((1)è
__wur
;

679 
	#mko¡emp
 
mko¡emp64


	)

682 #ifdeà
__USE_LARGEFILE64


683 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

692 #iâdeà
__USE_FILE_OFFSET64


693 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

694 
	`__nÚnuÎ
 ((1)è
__wur
;

696 #ifdeà
__REDIRECT


697 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

698 
__æags
), 
mko¡emps64
)

699 
	`__nÚnuÎ
 ((1)è
__wur
;

701 
	#mko¡emps
 
mko¡emps64


	)

704 #ifdeà
__USE_LARGEFILE64


705 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

706 
	`__nÚnuÎ
 ((1)è
__wur
;

711 
__BEGIN_NAMESPACE_STD


716 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

717 
__END_NAMESPACE_STD


720 #ifdef 
__USE_GNU


723 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

724 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

727 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


733 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

734 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

739 #iâdeà
__COMPAR_FN_T


740 
	#__COMPAR_FN_T


	)

741 (*
	t__com·r_â_t
) (const *, const *);

743 #ifdef 
__USE_GNU


744 
__com·r_â_t
 
	tcom·risÚ_â_t
;

747 #ifdeà
__USE_GNU


748 (*
	t__com·r_d_â_t
) (const *, const *, *);

751 
__BEGIN_NAMESPACE_STD


754 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

755 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

756 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

758 #ifdeà
__USE_EXTERN_INLINES


759 
	~<b™s/¡dlib-b£¬ch.h
>

764 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

765 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

766 #ifdeà
__USE_GNU


767 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

768 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

769 
	`__nÚnuÎ
 ((1, 4));

774 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

775 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

776 
__END_NAMESPACE_STD


778 #ifdeà
__USE_ISOC99


779 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

780 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

784 
__BEGIN_NAMESPACE_STD


788 
div_t
 
	$div
 (
__num”
, 
__d’om
)

789 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

790 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

791 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

792 
__END_NAMESPACE_STD


794 #ifdeà
__USE_ISOC99


795 
__BEGIN_NAMESPACE_C99


796 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

797 
__d’om
)

798 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

799 
__END_NAMESPACE_C99


803 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

804 || 
defšed
 
__USE_MISC


811 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

812 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

817 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

818 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

823 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

824 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

827 #ifdeà
__USE_MISC


829 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

830 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

831 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

832 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

833 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

834 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

835 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

836 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

841 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

842 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

843 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

844 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

845 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

846 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

848 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

849 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

850 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

851 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

852 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

853 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

854 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

855 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

859 
__BEGIN_NAMESPACE_STD


862 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
;

865 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

866 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

869 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
;

873 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

874 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

876 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

877 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

878 
__THROW
;

879 
__END_NAMESPACE_STD


882 #ifdeà
__USE_MISC


887 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

891 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


898 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

899 *cÚ¡ *
__»¡riù
 
__tok’s
,

900 **
__»¡riù
 
__v®u•
)

901 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

905 #ifdeà
__USE_XOPEN


907 
	$£tkey
 (cÚ¡ *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

913 #ifdeà
__USE_XOPEN2KXSI


915 
	$posix_İ’±
 (
__oæag
è
__wur
;

918 #ifdeà
__USE_XOPEN


923 
	$g¿Á±
 (
__fd
è
__THROW
;

927 
	$uÆock±
 (
__fd
è
__THROW
;

932 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

935 #ifdeà
__USE_GNU


939 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

940 
__THROW
 
	`__nÚnuÎ
 ((2));

943 
	`g‘±
 ();

946 #ifdeà
__USE_MISC


950 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

951 
__THROW
 
	`__nÚnuÎ
 ((1));

954 
	~<b™s/¡dlib-æßt.h
>

957 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


958 
	~<b™s/¡dlib.h
>

960 #ifdeà
__LDBL_COMPAT


961 
	~<b™s/¡dlib-ldbl.h
>

965 #undeà
__Ãed_m®loc_ªd_ÿÎoc


967 
__END_DECLS


	@/usr/include/string.h

22 #iâdef 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


30 
	#__Ãed_size_t


	)

31 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

39 #ià
defšed
 
__ılu¥lus
 && (__ılu¥lu >ğ199711L || 
__GNUC_PREREQ
 (4, 4))

40 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

44 
__BEGIN_NAMESPACE_STD


46 *
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

47 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

50 *
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

51 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

52 
__END_NAMESPACE_STD


57 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


58 *
	$memcıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

59 
__c
, 
size_t
 
__n
)

60 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

64 
__BEGIN_NAMESPACE_STD


66 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

69 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

70 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

73 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


76 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

77 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

78 cÚ¡ *
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

79 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

81 #ifdeà
__OPTIMIZE__


82 
__ex‹º_®ways_šlše
 *

83 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


85  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

88 
__ex‹º_®ways_šlše
 const *

89 
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


91  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

94 
	}
}

96 *
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

97 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

99 
__END_NAMESPACE_STD


101 #ifdeà
__USE_GNU


104 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


105 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

106 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

107 "C++" cÚ¡ *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

108 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

110 *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

111 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

115 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


116 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

117 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

118 "C++" cÚ¡ *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

119 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

121 *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

122 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

127 
__BEGIN_NAMESPACE_STD


129 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

130 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

132 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

133 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

134 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

137 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

138 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

140 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

141 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

144 
	$¡rcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

145 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

147 
	$¡ºcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

151 
	$¡rcŞl
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

152 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

154 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

155 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

156 
__THROW
 
	`__nÚnuÎ
 ((2));

157 
__END_NAMESPACE_STD


159 #ifdeà
__USE_XOPEN2K8


163 
	~<xloÿË.h
>

166 
	$¡rcŞl_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
__loÿË_t
 
__l
)

167 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

169 
size_t
 
	$¡rxäm_l
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

170 
__loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

173 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


175 *
	$¡rdup
 (cÚ¡ *
__s
)

176 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

182 #ià
defšed
 
__USE_XOPEN2K8


183 *
	$¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

184 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

187 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


189 
	#¡rdu·
(
s
) \

190 (
__ex‹nsiÚ__
 \

192 cÚ¡ *
__Şd
 = (
s
); \

193 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

194 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

195 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

196 
	}
}))

	)

199 
	#¡ºdu·
(
s
, 
n
) \

200 (
__ex‹nsiÚ__
 \

202 cÚ¡ *
__Şd
 = (
s
); \

203 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

204 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

205 
__Ãw
[
__Ën
] = '\0'; \

206 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

207 }))

	)

210 
	g__BEGIN_NAMESPACE_STD


212 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


215 *
¡rchr
 (*
__s
, 
__c
)

216 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

217 cÚ¡ *
¡rchr
 (cÚ¡ *
__s
, 
__c
)

218 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

220 #ifdeà
__OPTIMIZE__


221 
__ex‹º_®ways_šlše
 *

222 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


224  
__butš_¡rchr
 (
__s
, 
__c
);

227 
__ex‹º_®ways_šlše
 const *

228 
¡rchr
 (cÚ¡ *
__s
, 
__c
è
	g__THROW


230  
__butš_¡rchr
 (
__s
, 
__c
);

235 *
	$¡rchr
 (cÚ¡ *
__s
, 
__c
)

236 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

239 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


242 *
	`¡¼chr
 (*
__s
, 
__c
)

243 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

244 cÚ¡ *
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
)

245 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

247 #ifdeà
__OPTIMIZE__


248 
__ex‹º_®ways_šlše
 *

249 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


251  
	`__butš_¡¼chr
 (
__s
, 
__c
);

254 
__ex‹º_®ways_šlše
 const *

255 
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
è
__THROW


257  
	`__butš_¡¼chr
 (
__s
, 
__c
);

260 
	}
}

262 *
	$¡¼chr
 (cÚ¡ *
__s
, 
__c
)

263 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

265 
__END_NAMESPACE_STD


267 #ifdeà
__USE_GNU


270 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


271 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

272 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

273 "C++" cÚ¡ *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

274 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

276 *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

277 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

281 
__BEGIN_NAMESPACE_STD


284 
size_t
 
	$¡rc¥n
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

285 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

288 
size_t
 
	$¡r¥n
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

289 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

291 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


294 *
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
)

295 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

296 cÚ¡ *
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

297 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

299 #ifdeà
__OPTIMIZE__


300 
__ex‹º_®ways_šlše
 *

301 
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
è
__THROW


303  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

306 
__ex‹º_®ways_šlše
 const *

307 
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
è
__THROW


309  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

312 
	}
}

314 *
	$¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

315 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

318 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


321 *
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

322 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

323 cÚ¡ *
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

324 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

326 #ifdeà
__OPTIMIZE__


327 
__ex‹º_®ways_šlše
 *

328 
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


330  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

333 
__ex‹º_®ways_šlše
 const *

334 
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


336  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

339 
	}
}

341 *
	$¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

342 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

347 *
	$¡¹ok
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
)

348 
__THROW
 
	`__nÚnuÎ
 ((2));

349 
__END_NAMESPACE_STD


353 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

354 cÚ¡ *
__»¡riù
 
__d–im
,

355 **
__»¡riù
 
__§ve_±r
)

356 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

357 #ifdeà
__USE_POSIX


358 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
,

359 **
__»¡riù
 
__§ve_±r
)

360 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

363 #ifdeà
__USE_GNU


365 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


366 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

367 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

368 "C++" cÚ¡ *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
,

369 cÚ¡ *
__ÃedË
)

370 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

372 *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

373 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

377 #ifdeà
__USE_GNU


381 *
	$memmem
 (cÚ¡ *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

382 cÚ¡ *
__ÃedË
, 
size_t
 
__ÃedËËn
)

383 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3));

387 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

388 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

389 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

390 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

391 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

392 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

396 
__BEGIN_NAMESPACE_STD


398 
size_t
 
	$¡¾’
 (cÚ¡ *
__s
)

399 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

400 
__END_NAMESPACE_STD


402 #ifdef 
__USE_XOPEN2K8


405 
size_t
 
	$¡ºËn
 (cÚ¡ *
__¡ršg
, 
size_t
 
__maxËn
)

406 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

410 
__BEGIN_NAMESPACE_STD


412 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

413 
__END_NAMESPACE_STD


414 #ifdeà
__USE_XOPEN2K


422 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


425 #ifdeà
__REDIRECT_NTH


426 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

427 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

428 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2));

430 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

431 
__THROW
 
	`__nÚnuÎ
 ((2));

432 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

437 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

438 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

442 #ifdeà
__USE_XOPEN2K8


444 *
	$¡»¼Ü_l
 (
__”ºum
, 
__loÿË_t
 
__l
è
__THROW
;

450 
	$__bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

452 #ifdeà
__USE_MISC


454 
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__n
)

455 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

458 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

461 
	$bcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

462 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

465 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


468 *
	`šdex
 (*
__s
, 
__c
)

469 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

470 cÚ¡ *
	`šdex
 (cÚ¡ *
__s
, 
__c
)

471 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

473 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


474 
__ex‹º_®ways_šlše
 *

475 
	`šdex
 (*
__s
, 
__c
è
__THROW


477  
	`__butš_šdex
 (
__s
, 
__c
);

480 
__ex‹º_®ways_šlše
 const *

481 
	`šdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


483  
	`__butš_šdex
 (
__s
, 
__c
);

486 
	}
}

488 *
	$šdex
 (cÚ¡ *
__s
, 
__c
)

489 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

493 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


496 *
	`ršdex
 (*
__s
, 
__c
)

497 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

498 cÚ¡ *
	`ršdex
 (cÚ¡ *
__s
, 
__c
)

499 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

501 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


502 
__ex‹º_®ways_šlše
 *

503 
	`ršdex
 (*
__s
, 
__c
è
__THROW


505  
	`__butš_ršdex
 (
__s
, 
__c
);

508 
__ex‹º_®ways_šlše
 const *

509 
	`ršdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


511  
	`__butš_ršdex
 (
__s
, 
__c
);

514 
	}
}

516 *
	$ršdex
 (cÚ¡ *
__s
, 
__c
)

517 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

522 
	$ffs
 (
__i
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

526 #ifdef 
__USE_GNU


527 
	$ff¦
 (
__l
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

528 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

529 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

533 
	$¡rÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

534 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

537 
	$¡ºÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

538 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

541 #ifdef 
__USE_GNU


544 
	$¡rÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

545 
__loÿË_t
 
__loc
)

546 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

548 
	$¡ºÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

549 
size_t
 
__n
, 
__loÿË_t
 
__loc
)

550 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

553 #ifdef 
__USE_MISC


556 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

557 cÚ¡ *
__»¡riù
 
__d–im
)

558 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

561 #ifdef 
__USE_XOPEN2K8


563 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

566 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

567 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

568 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

569 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

573 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

574 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

575 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

576 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

577 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

578 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

581 #ifdef 
__USE_GNU


583 
	$¡rv”scmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

584 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

587 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

590 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

592 #iâdeà
ba£Çme


597 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


598 "C++" *
	$ba£Çme
 (*
__f’ame
)

599 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

600 "C++" cÚ¡ *
	$ba£Çme
 (cÚ¡ *
__f’ame
)

601 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

603 *
	$ba£Çme
 (cÚ¡ *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

609 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

610 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__OPTIMIZE_SIZE__
 \

611 && !
defšed
 
__NO_INLINE__
 && !defšed 
__ılu¥lus


631 
	~<b™s/¡ršg.h
>

634 
	~<b™s/¡ršg2.h
>

637 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


639 
	~<b™s/¡ršg3.h
>

643 
__END_DECLS


	@/usr/include/sys/resource.h

18 #iâdef 
_SYS_RESOURCE_H


19 
	#_SYS_RESOURCE_H
 1

	)

21 
	~<ã©u»s.h
>

24 
	~<b™s/»sourû.h
>

26 #iâdeà
__id_t_defšed


27 
__id_t
 
	tid_t
;

28 
	#__id_t_defšed


	)

31 
	g__BEGIN_DECLS


37 #ià
defšed
 
__USE_GNU
 && !defšed 
__ılu¥lus


38 
__¾im™_»sourû
 
	t__¾im™_»sourû_t
;

39 
__ru§ge_who
 
	t__ru§ge_who_t
;

40 
__´iÜ™y_which
 
	t__´iÜ™y_which_t
;

42 
	t__¾im™_»sourû_t
;

43 
	t__ru§ge_who_t
;

44 
	t__´iÜ™y_which_t
;

49 #iâdeà
__USE_FILE_OFFSET64


50 
	$g‘¾im™
 (
__¾im™_»sourû_t
 
__»sourû
,

51 
¾im™
 *
__¾im™s
è
__THROW
;

53 #ifdeà
__REDIRECT_NTH


54 
	`__REDIRECT_NTH
 (
g‘¾im™
, (
__¾im™_»sourû_t
 
__»sourû
,

55 
¾im™
 *
__¾im™s
), 
g‘¾im™64
);

57 
	#g‘¾im™
 
g‘¾im™64


	)

60 #ifdeà
__USE_LARGEFILE64


61 
	$g‘¾im™64
 (
__¾im™_»sourû_t
 
__»sourû
,

62 
¾im™64
 *
__¾im™s
è
__THROW
;

68 #iâdeà
__USE_FILE_OFFSET64


69 
	$£Œlim™
 (
__¾im™_»sourû_t
 
__»sourû
,

70 cÚ¡ 
¾im™
 *
__¾im™s
è
__THROW
;

72 #ifdeà
__REDIRECT_NTH


73 
	`__REDIRECT_NTH
 (
£Œlim™
, (
__¾im™_»sourû_t
 
__»sourû
,

74 cÚ¡ 
¾im™
 *
__¾im™s
),

75 
£Œlim™64
);

77 
	#£Œlim™
 
£Œlim™64


	)

80 #ifdeà
__USE_LARGEFILE64


81 
	$£Œlim™64
 (
__¾im™_»sourû_t
 
__»sourû
,

82 cÚ¡ 
¾im™64
 *
__¾im™s
è
__THROW
;

87 
	$g‘ru§ge
 (
__ru§ge_who_t
 
__who
, 
ru§ge
 *
__u§ge
è
__THROW
;

93 
	$g‘´iÜ™y
 (
__´iÜ™y_which_t
 
__which
, 
id_t
 
__who
è
__THROW
;

97 
	$£riÜ™y
 (
__´iÜ™y_which_t
 
__which
, 
id_t
 
__who
, 
__´io
)

98 
__THROW
;

100 
__END_DECLS


	@/usr/include/sys/time.h

18 #iâdeà
_SYS_TIME_H


19 
	#_SYS_TIME_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	~<b™s/ty³s.h
>

24 
	#__Ãed_time_t


	)

25 
	~<time.h
>

26 
	#__Ãed_timev®


	)

27 
	~<b™s/time.h
>

29 
	~<sys/£Ëù.h
>

31 #iâdeà
__su£cÚds_t_defšed


32 
__su£cÚds_t
 
	tsu£cÚds_t
;

33 
	#__su£cÚds_t_defšed


	)

37 
	g__BEGIN_DECLS


39 #ifdeà
__USE_GNU


41 
	#TIMEVAL_TO_TIMESPEC
(
tv
, 
ts
) { \

42 (
ts
)->
tv_£c
 = (
tv
)->tv_sec; \

43 (
ts
)->
tv_n£c
 = (
tv
)->
tv_u£c
 * 1000; \

44 }

	)

45 
	#TIMESPEC_TO_TIMEVAL
(
tv
, 
ts
) { \

46 (
tv
)->
tv_£c
 = (
ts
)->tv_sec; \

47 (
tv
)->
tv_u£c
 = (
ts
)->
tv_n£c
 / 1000; \

48 }

	)

52 #ifdeà
__USE_MISC


55 
	stimezÚe


57 
	mtz_mšu‹swe¡
;

58 
	mtz_d¡time
;

61 
timezÚe
 *
	t__»¡riù
 
	t__timezÚe_±r_t
;

63 *
	t__»¡riù
 
	t__timezÚe_±r_t
;

71 
	$g‘timeofday
 (
timev®
 *
__»¡riù
 
__tv
,

72 
__timezÚe_±r_t
 
__tz
è
__THROW
 
	`__nÚnuÎ
 ((1));

74 #ifdeà
__USE_MISC


77 
	$£‰imeofday
 (cÚ¡ 
timev®
 *
__tv
,

78 cÚ¡ 
timezÚe
 *
__tz
)

79 
__THROW
;

85 
	$adjtime
 (cÚ¡ 
timev®
 *
__d–
,

86 
timev®
 *
__Şdd–
è
__THROW
;

91 
	e__™im”_which


94 
ITIMER_REAL
 = 0,

95 
	#ITIMER_REAL
 
ITIMER_REAL


	)

97 
ITIMER_VIRTUAL
 = 1,

98 
	#ITIMER_VIRTUAL
 
ITIMER_VIRTUAL


	)

101 
ITIMER_PROF
 = 2

102 
	#ITIMER_PROF
 
ITIMER_PROF


	)

107 
	s™im”v®


110 
timev®
 
™_š‹rv®
;

112 
timev®
 
™_v®ue
;

115 #ià
defšed
 
__USE_GNU
 && !defšed 
__ılu¥lus


118 
__™im”_which
 
	t__™im”_which_t
;

120 
	t__™im”_which_t
;

125 
	$g‘™im”
 (
__™im”_which_t
 
__which
,

126 
™im”v®
 *
__v®ue
è
__THROW
;

131 
	$£t™im”
 (
__™im”_which_t
 
__which
,

132 cÚ¡ 
™im”v®
 *
__»¡riù
 
__Ãw
,

133 
™im”v®
 *
__»¡riù
 
__Şd
è
__THROW
;

138 
	$utimes
 (cÚ¡ *
__fe
, cÚ¡ 
timev®
 
__tvp
[2])

139 
__THROW
 
	`__nÚnuÎ
 ((1));

141 #ifdeà
__USE_MISC


143 
	$lutimes
 (cÚ¡ *
__fe
, cÚ¡ 
timev®
 
__tvp
[2])

144 
__THROW
 
	`__nÚnuÎ
 ((1));

147 
	$futimes
 (
__fd
, cÚ¡ 
timev®
 
__tvp
[2]è
__THROW
;

150 #ifdeà
__USE_GNU


154 
	$futime§t
 (
__fd
, cÚ¡ *
__fe
,

155 cÚ¡ 
timev®
 
__tvp
[2]è
__THROW
;

159 #ifdeà
__USE_MISC


162 
	#tim”is£t
(
tvp
è(Ñvp)->
tv_£c
 || (tvp)->
tv_u£c
)

	)

163 
	#tim”ş—r
(
tvp
è(Ñvp)->
tv_£c
 = (tvp)->
tv_u£c
 = 0)

	)

164 
	#tim”cmp
(
a
, 
b
, 
CMP
) \

165 (((
a
)->
tv_£c
 =ğ(
b
)->tv_sec) ? \

166 ((
a
)->
tv_u£c
 
	`CMP
 (
b
)->tv_usec) : \

167 ((
a
)->
tv_£c
 
	`CMP
 (
b
)->tv_£c))

	)

168 
	#tim”add
(
a
, 
b
, 
»suÉ
) \

170 (
»suÉ
)->
tv_£c
 = (
a
)->tv_£ø+ (
b
)->tv_sec; \

171 (
»suÉ
)->
tv_u£c
 = (
a
)->tv_u£ø+ (
b
)->tv_usec; \

172 ià((
»suÉ
)->
tv_u£c
 >= 1000000) \

174 ++(
»suÉ
)->
tv_£c
; \

175 (
»suÉ
)->
tv_u£c
 -= 1000000; \

177 
	}
} 0)

	)

178 
	#tim”sub
(
a
, 
b
, 
»suÉ
) \

180 (
»suÉ
)->
tv_£c
 = (
a
)->tv_£ø- (
b
)->tv_sec; \

181 (
»suÉ
)->
tv_u£c
 = (
a
)->tv_u£ø- (
b
)->tv_usec; \

182 ià((
»suÉ
)->
tv_u£c
 < 0) { \

183 --(
»suÉ
)->
tv_£c
; \

184 (
»suÉ
)->
tv_u£c
 += 1000000; \

186 } 0)

	)

189 
	g__END_DECLS


	@/usr/include/sys/times.h

22 #iâdef 
_SYS_TIMES_H


23 
	#_SYS_TIMES_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	#__Ãed_şock_t


	)

28 
	~<time.h
>

31 
__BEGIN_DECLS


34 
	stms


36 
şock_t
 
	mtms_utime
;

37 
şock_t
 
	mtms_¡ime
;

39 
şock_t
 
	mtms_cutime
;

40 
şock_t
 
	mtms_c¡ime
;

48 
şock_t
 
	$times
 (
tms
 *
__bufãr
è
__THROW
;

50 
__END_DECLS


	@/usr/include/sys/types.h

22 #iâdef 
_SYS_TYPES_H


23 
	#_SYS_TYPES_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

31 #ifdef 
__USE_MISC


32 #iâdeà
__u_ch¬_defšed


33 
__u_ch¬
 
	tu_ch¬
;

34 
__u_shÜt
 
	tu_shÜt
;

35 
__u_št
 
	tu_št
;

36 
__u_lÚg
 
	tu_lÚg
;

37 
__quad_t
 
	tquad_t
;

38 
__u_quad_t
 
	tu_quad_t
;

39 
__fsid_t
 
	tfsid_t
;

40 
	#__u_ch¬_defšed


	)

44 
__loff_t
 
	tloff_t
;

46 #iâdeà
__šo_t_defšed


47 #iâdeà
__USE_FILE_OFFSET64


48 
__šo_t
 
	tšo_t
;

50 
__šo64_t
 
	tšo_t
;

52 
	#__šo_t_defšed


	)

54 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__šo64_t_defšed


55 
__šo64_t
 
	tšo64_t
;

56 
	#__šo64_t_defšed


	)

59 #iâdeà
__dev_t_defšed


60 
__dev_t
 
	tdev_t
;

61 
	#__dev_t_defšed


	)

64 #iâdeà
__gid_t_defšed


65 
__gid_t
 
	tgid_t
;

66 
	#__gid_t_defšed


	)

69 #iâdeà
__mode_t_defšed


70 
__mode_t
 
	tmode_t
;

71 
	#__mode_t_defšed


	)

74 #iâdeà
__Æšk_t_defšed


75 
__Æšk_t
 
	tÆšk_t
;

76 
	#__Æšk_t_defšed


	)

79 #iâdeà
__uid_t_defšed


80 
__uid_t
 
	tuid_t
;

81 
	#__uid_t_defšed


	)

84 #iâdeà
__off_t_defšed


85 #iâdeà
__USE_FILE_OFFSET64


86 
__off_t
 
	toff_t
;

88 
__off64_t
 
	toff_t
;

90 
	#__off_t_defšed


	)

92 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


93 
__off64_t
 
	toff64_t
;

94 
	#__off64_t_defšed


	)

97 #iâdeà
__pid_t_defšed


98 
__pid_t
 
	tpid_t
;

99 
	#__pid_t_defšed


	)

102 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
) \

103 && !
defšed
 
__id_t_defšed


104 
__id_t
 
	tid_t
;

105 
	#__id_t_defšed


	)

108 #iâdeà
__ssize_t_defšed


109 
__ssize_t
 
	tssize_t
;

110 
	#__ssize_t_defšed


	)

113 #ifdef 
__USE_MISC


114 #iâdeà
__daddr_t_defšed


115 
__daddr_t
 
	tdaddr_t
;

116 
__ÿddr_t
 
	tÿddr_t
;

117 
	#__daddr_t_defšed


	)

121 #ià(
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN
è&& !defšed 
__key_t_defšed


122 
__key_t
 
	tkey_t
;

123 
	#__key_t_defšed


	)

126 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


127 
	#__Ãed_şock_t


	)

129 
	#__Ãed_time_t


	)

130 
	#__Ãed_tim”_t


	)

131 
	#__Ãed_şockid_t


	)

132 
	~<time.h
>

134 #ifdeà
__USE_XOPEN


135 #iâdeà
__u£cÚds_t_defšed


136 
__u£cÚds_t
 
	tu£cÚds_t
;

137 
	#__u£cÚds_t_defšed


	)

139 #iâdeà
__su£cÚds_t_defšed


140 
__su£cÚds_t
 
	tsu£cÚds_t
;

141 
	#__su£cÚds_t_defšed


	)

145 
	#__Ãed_size_t


	)

146 
	~<¡ddef.h
>

148 #ifdeà
__USE_MISC


150 
	tulÚg
;

151 
	tushÜt
;

152 
	tušt
;

157 #ià!
__GNUC_PREREQ
 (2, 7)

160 #iâdeà
__št8_t_defšed


161 
	#__št8_t_defšed


	)

162 
	tšt8_t
;

163 
	tšt16_t
;

164 
	tšt32_t
;

165 #ià
__WORDSIZE
 == 64

166 
	tšt64_t
;

168 
__ex‹nsiÚ__
 
	tšt64_t
;

173 
	tu_št8_t
;

174 
	tu_št16_t
;

175 
	tu_št32_t
;

176 #ià
__WORDSIZE
 == 64

177 
	tu_št64_t
;

179 
__ex‹nsiÚ__
 
	tu_št64_t
;

182 
	t»gi¡”_t
;

187 
	#__štN_t
(
N
, 
MODE
) \

188 ##
	tN
##
	t_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	tMODE
)))

	)

189 
	t__u_štN_t
(
	tN
, 
	tMODE
) \

190 
	tu_št
##
	tN
##
	t_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	tMODE
)))

	)

192 #iâdeà
	t__št8_t_defšed


193 
	t__št8_t_defšed


	)

194 
	t__štN_t
 (8, 
	t__QI__
);

195 
__štN_t
 (16, 
__HI__
);

196 
__štN_t
 (32, 
__SI__
);

197 
__štN_t
 (64, 
__DI__
);

200 
__u_štN_t
 (8, 
__QI__
);

201 
__u_štN_t
 (16, 
__HI__
);

202 
__u_štN_t
 (32, 
__SI__
);

203 
__u_štN_t
 (64, 
__DI__
);

205 
	t»gi¡”_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__wÜd__
)));

211 
	#__BIT_TYPES_DEFINED__
 1

	)

214 #ifdef 
__USE_MISC


216 
	~<’dŸn.h
>

219 
	~<sys/£Ëù.h
>

222 
	~<sys/sysmaüos.h
>

226 #ià(
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8
) \

227 && !
defšed
 
__blksize_t_defšed


228 
__blksize_t
 
	tblksize_t
;

229 
	#__blksize_t_defšed


	)

233 #iâdeà
__USE_FILE_OFFSET64


234 #iâdeà
__blkút_t_defšed


235 
__blkút_t
 
	tblkút_t
;

236 
	#__blkút_t_defšed


	)

238 #iâdeà
__fsblkút_t_defšed


239 
__fsblkút_t
 
	tfsblkút_t
;

240 
	#__fsblkút_t_defšed


	)

242 #iâdeà
__fsfút_t_defšed


243 
__fsfút_t
 
	tfsfút_t
;

244 
	#__fsfút_t_defšed


	)

247 #iâdeà
__blkút_t_defšed


248 
__blkút64_t
 
	tblkút_t
;

249 
	#__blkút_t_defšed


	)

251 #iâdeà
__fsblkút_t_defšed


252 
__fsblkút64_t
 
	tfsblkút_t
;

253 
	#__fsblkút_t_defšed


	)

255 #iâdeà
__fsfút_t_defšed


256 
__fsfút64_t
 
	tfsfút_t
;

257 
	#__fsfút_t_defšed


	)

261 #ifdeà
__USE_LARGEFILE64


262 
__blkút64_t
 
	tblkút64_t
;

263 
__fsblkút64_t
 
	tfsblkút64_t
;

264 
__fsfút64_t
 
	tfsfút64_t
;

269 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


270 
	~<b™s/±h»adty³s.h
>

273 
	g__END_DECLS


	@/usr/include/term.h

41 #iâdeà
NCURSES_TERM_H_šş


42 
	#NCURSES_TERM_H_šş
 1

	)

44 #undeà
NCURSES_VERSION


45 
	#NCURSES_VERSION
 "5.9"

	)

47 
	~<ncur£s_dÎ.h
>

49 #ifdeà
__ılu¥lus


57 #undeà
NCURSES_CONST


58 
	#NCURSES_CONST
 cÚ¡

	)

60 #undeà
NCURSES_SBOOL


61 
	#NCURSES_SBOOL
 

	)

63 #undeà
NCURSES_USE_DATABASE


64 
	#NCURSES_USE_DATABASE
 1

	)

66 #undeà
NCURSES_USE_TERMCAP


67 
	#NCURSES_USE_TERMCAP
 0

	)

69 #undeà
NCURSES_XNAMES


70 
	#NCURSES_XNAMES
 1

	)

75 #undeà
TTY


76 #undeà
SET_TTY


77 #undeà
GET_TTY


83 #undeà
TERMIOS


84 
	#TERMIOS
 1

	)

86 
	~<‹rmios.h
>

87 
	#TTY
 
‹rmios


	)

94 #undeà
TERMIOS


95 
	#TERMIOS
 1

	)

97 
	~<‹rmio.h
>

98 
	#TTY
 
‹rmio


	)

102 #ià
__MINGW32__


103 
	~<ncur£s_mšgw.h
>

104 
	#TTY
 
‹rmios


	)

106 #undeà
TERMIOS


107 
	~<sg‰y.h
>

108 
	~<sys/ioùl.h
>

109 
	#TTY
 
sg‰yb


	)

115 #ifdeà
TERMIOS


116 
	#GET_TTY
(
fd
, 
buf
è
	`tcg‘©Œ
(fd, buf)

	)

117 
	#SET_TTY
(
fd
, 
buf
è
	`tc£‰r
(fd, 
TCSADRAIN
, buf)

	)

119 
	#GET_TTY
(
fd
, 
buf
è
	`g‰y
(fd, buf)

	)

120 
	#SET_TTY
(
fd
, 
buf
è
	`¡ty
(fd, buf)

	)

123 
	#NAMESIZE
 256

	)

125 
	#CUR
 
cur_‹rm
->
ty³
.

	)

127 
	#auto_Ëá_m¬gš
 
CUR
 
BoŞ—ns
[0]

	)

128 
	#auto_right_m¬gš
 
CUR
 
BoŞ—ns
[1]

	)

129 
	#no_esc_ùlc
 
CUR
 
BoŞ—ns
[2]

	)

130 
	#ûŞ_¡ªdout_gl™ch
 
CUR
 
BoŞ—ns
[3]

	)

131 
	#—t_Ãwlše_gl™ch
 
CUR
 
BoŞ—ns
[4]

	)

132 
	#”a£_ov”¡rike
 
CUR
 
BoŞ—ns
[5]

	)

133 
	#g’”ic_ty³
 
CUR
 
BoŞ—ns
[6]

	)

134 
	#h¬d_cİy
 
CUR
 
BoŞ—ns
[7]

	)

135 
	#has_m‘a_key
 
CUR
 
BoŞ—ns
[8]

	)

136 
	#has_¡©us_lše
 
CUR
 
BoŞ—ns
[9]

	)

137 
	#š£¹_nuÎ_gl™ch
 
CUR
 
BoŞ—ns
[10]

	)

138 
	#memÜy_above
 
CUR
 
BoŞ—ns
[11]

	)

139 
	#memÜy_b–ow
 
CUR
 
BoŞ—ns
[12]

	)

140 
	#move_š£¹_mode
 
CUR
 
BoŞ—ns
[13]

	)

141 
	#move_¡ªdout_mode
 
CUR
 
BoŞ—ns
[14]

	)

142 
	#ov”_¡rike
 
CUR
 
BoŞ—ns
[15]

	)

143 
	#¡©us_lše_esc_ok
 
CUR
 
BoŞ—ns
[16]

	)

144 
	#de¡_bs_magic_smso
 
CUR
 
BoŞ—ns
[17]

	)

145 
	#tde_gl™ch
 
CUR
 
BoŞ—ns
[18]

	)

146 
	#Œª¥¬’t_und”lše
 
CUR
 
BoŞ—ns
[19]

	)

147 
	#xÚ_xoff
 
CUR
 
BoŞ—ns
[20]

	)

148 
	#Ãeds_xÚ_xoff
 
CUR
 
BoŞ—ns
[21]

	)

149 
	#´Œ_s’t
 
CUR
 
BoŞ—ns
[22]

	)

150 
	#h¬d_cursÜ
 
CUR
 
BoŞ—ns
[23]

	)

151 
	#nÚ_»v_rmcup
 
CUR
 
BoŞ—ns
[24]

	)

152 
	#no_·d_ch¬
 
CUR
 
BoŞ—ns
[25]

	)

153 
	#nÚ_de¡_süŞl_»giÚ
 
CUR
 
BoŞ—ns
[26]

	)

154 
	#ÿn_chªge
 
CUR
 
BoŞ—ns
[27]

	)

155 
	#back_cŞÜ_”a£
 
CUR
 
BoŞ—ns
[28]

	)

156 
	#hue_lighŠess_§tu¿tiÚ
 
CUR
 
BoŞ—ns
[29]

	)

157 
	#cŞ_addr_gl™ch
 
CUR
 
BoŞ—ns
[30]

	)

158 
	#ü_ÿnûls_miüo_mode
 
CUR
 
BoŞ—ns
[31]

	)

159 
	#has_´št_wh“l
 
CUR
 
BoŞ—ns
[32]

	)

160 
	#row_addr_gl™ch
 
CUR
 
BoŞ—ns
[33]

	)

161 
	#£mi_auto_right_m¬gš
 
CUR
 
BoŞ—ns
[34]

	)

162 
	#ıi_chªges_»s
 
CUR
 
BoŞ—ns
[35]

	)

163 
	#Íi_chªges_»s
 
CUR
 
BoŞ—ns
[36]

	)

164 
	#cŞumns
 
CUR
 
Numb”s
[0]

	)

165 
	#š™_bs
 
CUR
 
Numb”s
[1]

	)

166 
	#lšes
 
CUR
 
Numb”s
[2]

	)

167 
	#lšes_of_memÜy
 
CUR
 
Numb”s
[3]

	)

168 
	#magic_cook›_gl™ch
 
CUR
 
Numb”s
[4]

	)

169 
	#·ddšg_baud_¿‹
 
CUR
 
Numb”s
[5]

	)

170 
	#vœtu®_‹rmš®
 
CUR
 
Numb”s
[6]

	)

171 
	#width_¡©us_lše
 
CUR
 
Numb”s
[7]

	)

172 
	#num_Ïb–s
 
CUR
 
Numb”s
[8]

	)

173 
	#Ïb–_height
 
CUR
 
Numb”s
[9]

	)

174 
	#Ïb–_width
 
CUR
 
Numb”s
[10]

	)

175 
	#max_©Œibu‹s
 
CUR
 
Numb”s
[11]

	)

176 
	#maximum_wšdows
 
CUR
 
Numb”s
[12]

	)

177 
	#max_cŞÜs
 
CUR
 
Numb”s
[13]

	)

178 
	#max_·œs
 
CUR
 
Numb”s
[14]

	)

179 
	#no_cŞÜ_video
 
CUR
 
Numb”s
[15]

	)

180 
	#bufãr_ÿ·c™y
 
CUR
 
Numb”s
[16]

	)

181 
	#dÙ_v”t_¥acšg
 
CUR
 
Numb”s
[17]

	)

182 
	#dÙ_hÜz_¥acšg
 
CUR
 
Numb”s
[18]

	)

183 
	#max_miüo_add»ss
 
CUR
 
Numb”s
[19]

	)

184 
	#max_miüo_jump
 
CUR
 
Numb”s
[20]

	)

185 
	#miüo_cŞ_size
 
CUR
 
Numb”s
[21]

	)

186 
	#miüo_lše_size
 
CUR
 
Numb”s
[22]

	)

187 
	#numb”_of_pšs
 
CUR
 
Numb”s
[23]

	)

188 
	#ouut_»s_ch¬
 
CUR
 
Numb”s
[24]

	)

189 
	#ouut_»s_lše
 
CUR
 
Numb”s
[25]

	)

190 
	#ouut_»s_hÜz_šch
 
CUR
 
Numb”s
[26]

	)

191 
	#ouut_»s_v”t_šch
 
CUR
 
Numb”s
[27]

	)

192 
	#´št_¿‹
 
CUR
 
Numb”s
[28]

	)

193 
	#wide_ch¬_size
 
CUR
 
Numb”s
[29]

	)

194 
	#bu‰Ús
 
CUR
 
Numb”s
[30]

	)

195 
	#b™_image_’twššg
 
CUR
 
Numb”s
[31]

	)

196 
	#b™_image_ty³
 
CUR
 
Numb”s
[32]

	)

197 
	#back_b
 
CUR
 
SŒšgs
[0]

	)

198 
	#b–l
 
CUR
 
SŒšgs
[1]

	)

199 
	#ÿ¼Ÿge_»tuº
 
CUR
 
SŒšgs
[2]

	)

200 
	#chªge_süŞl_»giÚ
 
CUR
 
SŒšgs
[3]

	)

201 
	#ş—r_®l_bs
 
CUR
 
SŒšgs
[4]

	)

202 
	#ş—r_sü“n
 
CUR
 
SŒšgs
[5]

	)

203 
	#şr_eŞ
 
CUR
 
SŒšgs
[6]

	)

204 
	#şr_eos
 
CUR
 
SŒšgs
[7]

	)

205 
	#cŞumn_add»ss
 
CUR
 
SŒšgs
[8]

	)

206 
	#commªd_ch¬aù”
 
CUR
 
SŒšgs
[9]

	)

207 
	#cursÜ_add»ss
 
CUR
 
SŒšgs
[10]

	)

208 
	#cursÜ_down
 
CUR
 
SŒšgs
[11]

	)

209 
	#cursÜ_home
 
CUR
 
SŒšgs
[12]

	)

210 
	#cursÜ_švisibË
 
CUR
 
SŒšgs
[13]

	)

211 
	#cursÜ_Ëá
 
CUR
 
SŒšgs
[14]

	)

212 
	#cursÜ_mem_add»ss
 
CUR
 
SŒšgs
[15]

	)

213 
	#cursÜ_nÜm®
 
CUR
 
SŒšgs
[16]

	)

214 
	#cursÜ_right
 
CUR
 
SŒšgs
[17]

	)

215 
	#cursÜ_to_Î
 
CUR
 
SŒšgs
[18]

	)

216 
	#cursÜ_up
 
CUR
 
SŒšgs
[19]

	)

217 
	#cursÜ_visibË
 
CUR
 
SŒšgs
[20]

	)

218 
	#d–‘e_ch¬aù”
 
CUR
 
SŒšgs
[21]

	)

219 
	#d–‘e_lše
 
CUR
 
SŒšgs
[22]

	)

220 
	#dis_¡©us_lše
 
CUR
 
SŒšgs
[23]

	)

221 
	#down_h®f_lše
 
CUR
 
SŒšgs
[24]

	)

222 
	#’‹r_®t_ch¬£t_mode
 
CUR
 
SŒšgs
[25]

	)

223 
	#’‹r_blšk_mode
 
CUR
 
SŒšgs
[26]

	)

224 
	#’‹r_bŞd_mode
 
CUR
 
SŒšgs
[27]

	)

225 
	#’‹r_ÿ_mode
 
CUR
 
SŒšgs
[28]

	)

226 
	#’‹r_d–‘e_mode
 
CUR
 
SŒšgs
[29]

	)

227 
	#’‹r_dim_mode
 
CUR
 
SŒšgs
[30]

	)

228 
	#’‹r_š£¹_mode
 
CUR
 
SŒšgs
[31]

	)

229 
	#’‹r_£cu»_mode
 
CUR
 
SŒšgs
[32]

	)

230 
	#’‹r_´Ùeùed_mode
 
CUR
 
SŒšgs
[33]

	)

231 
	#’‹r_»v”£_mode
 
CUR
 
SŒšgs
[34]

	)

232 
	#’‹r_¡ªdout_mode
 
CUR
 
SŒšgs
[35]

	)

233 
	#’‹r_und”lše_mode
 
CUR
 
SŒšgs
[36]

	)

234 
	#”a£_ch¬s
 
CUR
 
SŒšgs
[37]

	)

235 
	#ex™_®t_ch¬£t_mode
 
CUR
 
SŒšgs
[38]

	)

236 
	#ex™_©Œibu‹_mode
 
CUR
 
SŒšgs
[39]

	)

237 
	#ex™_ÿ_mode
 
CUR
 
SŒšgs
[40]

	)

238 
	#ex™_d–‘e_mode
 
CUR
 
SŒšgs
[41]

	)

239 
	#ex™_š£¹_mode
 
CUR
 
SŒšgs
[42]

	)

240 
	#ex™_¡ªdout_mode
 
CUR
 
SŒšgs
[43]

	)

241 
	#ex™_und”lše_mode
 
CUR
 
SŒšgs
[44]

	)

242 
	#æash_sü“n
 
CUR
 
SŒšgs
[45]

	)

243 
	#fÜm_ãed
 
CUR
 
SŒšgs
[46]

	)

244 
	#äom_¡©us_lše
 
CUR
 
SŒšgs
[47]

	)

245 
	#š™_1¡ršg
 
CUR
 
SŒšgs
[48]

	)

246 
	#š™_2¡ršg
 
CUR
 
SŒšgs
[49]

	)

247 
	#š™_3¡ršg
 
CUR
 
SŒšgs
[50]

	)

248 
	#š™_fe
 
CUR
 
SŒšgs
[51]

	)

249 
	#š£¹_ch¬aù”
 
CUR
 
SŒšgs
[52]

	)

250 
	#š£¹_lše
 
CUR
 
SŒšgs
[53]

	)

251 
	#š£¹_·ddšg
 
CUR
 
SŒšgs
[54]

	)

252 
	#key_back¥aû
 
CUR
 
SŒšgs
[55]

	)

253 
	#key_ÿb
 
CUR
 
SŒšgs
[56]

	)

254 
	#key_ş—r
 
CUR
 
SŒšgs
[57]

	)

255 
	#key_ùab
 
CUR
 
SŒšgs
[58]

	)

256 
	#key_dc
 
CUR
 
SŒšgs
[59]

	)

257 
	#key_dl
 
CUR
 
SŒšgs
[60]

	)

258 
	#key_down
 
CUR
 
SŒšgs
[61]

	)

259 
	#key_eic
 
CUR
 
SŒšgs
[62]

	)

260 
	#key_eŞ
 
CUR
 
SŒšgs
[63]

	)

261 
	#key_eos
 
CUR
 
SŒšgs
[64]

	)

262 
	#key_f0
 
CUR
 
SŒšgs
[65]

	)

263 
	#key_f1
 
CUR
 
SŒšgs
[66]

	)

264 
	#key_f10
 
CUR
 
SŒšgs
[67]

	)

265 
	#key_f2
 
CUR
 
SŒšgs
[68]

	)

266 
	#key_f3
 
CUR
 
SŒšgs
[69]

	)

267 
	#key_f4
 
CUR
 
SŒšgs
[70]

	)

268 
	#key_f5
 
CUR
 
SŒšgs
[71]

	)

269 
	#key_f6
 
CUR
 
SŒšgs
[72]

	)

270 
	#key_f7
 
CUR
 
SŒšgs
[73]

	)

271 
	#key_f8
 
CUR
 
SŒšgs
[74]

	)

272 
	#key_f9
 
CUR
 
SŒšgs
[75]

	)

273 
	#key_home
 
CUR
 
SŒšgs
[76]

	)

274 
	#key_ic
 
CUR
 
SŒšgs
[77]

	)

275 
	#key_
 
CUR
 
SŒšgs
[78]

	)

276 
	#key_Ëá
 
CUR
 
SŒšgs
[79]

	)

277 
	#key_Î
 
CUR
 
SŒšgs
[80]

	)

278 
	#key_Åage
 
CUR
 
SŒšgs
[81]

	)

279 
	#key_µage
 
CUR
 
SŒšgs
[82]

	)

280 
	#key_right
 
CUR
 
SŒšgs
[83]

	)

281 
	#key_sf
 
CUR
 
SŒšgs
[84]

	)

282 
	#key_¤
 
CUR
 
SŒšgs
[85]

	)

283 
	#key_¡ab
 
CUR
 
SŒšgs
[86]

	)

284 
	#key_up
 
CUR
 
SŒšgs
[87]

	)

285 
	#key·d_loÿl
 
CUR
 
SŒšgs
[88]

	)

286 
	#key·d_xm™
 
CUR
 
SŒšgs
[89]

	)

287 
	#Ïb_f0
 
CUR
 
SŒšgs
[90]

	)

288 
	#Ïb_f1
 
CUR
 
SŒšgs
[91]

	)

289 
	#Ïb_f10
 
CUR
 
SŒšgs
[92]

	)

290 
	#Ïb_f2
 
CUR
 
SŒšgs
[93]

	)

291 
	#Ïb_f3
 
CUR
 
SŒšgs
[94]

	)

292 
	#Ïb_f4
 
CUR
 
SŒšgs
[95]

	)

293 
	#Ïb_f5
 
CUR
 
SŒšgs
[96]

	)

294 
	#Ïb_f6
 
CUR
 
SŒšgs
[97]

	)

295 
	#Ïb_f7
 
CUR
 
SŒšgs
[98]

	)

296 
	#Ïb_f8
 
CUR
 
SŒšgs
[99]

	)

297 
	#Ïb_f9
 
CUR
 
SŒšgs
[100]

	)

298 
	#m‘a_off
 
CUR
 
SŒšgs
[101]

	)

299 
	#m‘a_Ú
 
CUR
 
SŒšgs
[102]

	)

300 
	#Ãwlše
 
CUR
 
SŒšgs
[103]

	)

301 
	#·d_ch¬
 
CUR
 
SŒšgs
[104]

	)

302 
	#·rm_dch
 
CUR
 
SŒšgs
[105]

	)

303 
	#·rm_d–‘e_lše
 
CUR
 
SŒšgs
[106]

	)

304 
	#·rm_down_cursÜ
 
CUR
 
SŒšgs
[107]

	)

305 
	#·rm_ich
 
CUR
 
SŒšgs
[108]

	)

306 
	#·rm_šdex
 
CUR
 
SŒšgs
[109]

	)

307 
	#·rm_š£¹_lše
 
CUR
 
SŒšgs
[110]

	)

308 
	#·rm_Ëá_cursÜ
 
CUR
 
SŒšgs
[111]

	)

309 
	#·rm_right_cursÜ
 
CUR
 
SŒšgs
[112]

	)

310 
	#·rm_ršdex
 
CUR
 
SŒšgs
[113]

	)

311 
	#·rm_up_cursÜ
 
CUR
 
SŒšgs
[114]

	)

312 
	#pkey_key
 
CUR
 
SŒšgs
[115]

	)

313 
	#pkey_loÿl
 
CUR
 
SŒšgs
[116]

	)

314 
	#pkey_xm™
 
CUR
 
SŒšgs
[117]

	)

315 
	#´št_sü“n
 
CUR
 
SŒšgs
[118]

	)

316 
	#´Œ_off
 
CUR
 
SŒšgs
[119]

	)

317 
	#´Œ_Ú
 
CUR
 
SŒšgs
[120]

	)

318 
	#»³©_ch¬
 
CUR
 
SŒšgs
[121]

	)

319 
	#»£t_1¡ršg
 
CUR
 
SŒšgs
[122]

	)

320 
	#»£t_2¡ršg
 
CUR
 
SŒšgs
[123]

	)

321 
	#»£t_3¡ršg
 
CUR
 
SŒšgs
[124]

	)

322 
	#»£t_fe
 
CUR
 
SŒšgs
[125]

	)

323 
	#»¡Üe_cursÜ
 
CUR
 
SŒšgs
[126]

	)

324 
	#row_add»ss
 
CUR
 
SŒšgs
[127]

	)

325 
	#§ve_cursÜ
 
CUR
 
SŒšgs
[128]

	)

326 
	#süŞl_fÜw¬d
 
CUR
 
SŒšgs
[129]

	)

327 
	#süŞl_»v”£
 
CUR
 
SŒšgs
[130]

	)

328 
	#£t_©Œibu‹s
 
CUR
 
SŒšgs
[131]

	)

329 
	#£t_b
 
CUR
 
SŒšgs
[132]

	)

330 
	#£t_wšdow
 
CUR
 
SŒšgs
[133]

	)

331 
	#b
 
CUR
 
SŒšgs
[134]

	)

332 
	#to_¡©us_lše
 
CUR
 
SŒšgs
[135]

	)

333 
	#und”lše_ch¬
 
CUR
 
SŒšgs
[136]

	)

334 
	#up_h®f_lše
 
CUR
 
SŒšgs
[137]

	)

335 
	#š™_´og
 
CUR
 
SŒšgs
[138]

	)

336 
	#key_a1
 
CUR
 
SŒšgs
[139]

	)

337 
	#key_a3
 
CUR
 
SŒšgs
[140]

	)

338 
	#key_b2
 
CUR
 
SŒšgs
[141]

	)

339 
	#key_c1
 
CUR
 
SŒšgs
[142]

	)

340 
	#key_c3
 
CUR
 
SŒšgs
[143]

	)

341 
	#´Œ_nÚ
 
CUR
 
SŒšgs
[144]

	)

342 
	#ch¬_·ddšg
 
CUR
 
SŒšgs
[145]

	)

343 
	#acs_ch¬s
 
CUR
 
SŒšgs
[146]

	)

344 
	#¶ab_nÜm
 
CUR
 
SŒšgs
[147]

	)

345 
	#key_bb
 
CUR
 
SŒšgs
[148]

	)

346 
	#’‹r_xÚ_mode
 
CUR
 
SŒšgs
[149]

	)

347 
	#ex™_xÚ_mode
 
CUR
 
SŒšgs
[150]

	)

348 
	#’‹r_am_mode
 
CUR
 
SŒšgs
[151]

	)

349 
	#ex™_am_mode
 
CUR
 
SŒšgs
[152]

	)

350 
	#xÚ_ch¬aù”
 
CUR
 
SŒšgs
[153]

	)

351 
	#xoff_ch¬aù”
 
CUR
 
SŒšgs
[154]

	)

352 
	#’a_acs
 
CUR
 
SŒšgs
[155]

	)

353 
	#Ïb–_Ú
 
CUR
 
SŒšgs
[156]

	)

354 
	#Ïb–_off
 
CUR
 
SŒšgs
[157]

	)

355 
	#key_beg
 
CUR
 
SŒšgs
[158]

	)

356 
	#key_ÿnûl
 
CUR
 
SŒšgs
[159]

	)

357 
	#key_şo£
 
CUR
 
SŒšgs
[160]

	)

358 
	#key_commªd
 
CUR
 
SŒšgs
[161]

	)

359 
	#key_cİy
 
CUR
 
SŒšgs
[162]

	)

360 
	#key_ü—‹
 
CUR
 
SŒšgs
[163]

	)

361 
	#key_’d
 
CUR
 
SŒšgs
[164]

	)

362 
	#key_’‹r
 
CUR
 
SŒšgs
[165]

	)

363 
	#key_ex™
 
CUR
 
SŒšgs
[166]

	)

364 
	#key_fšd
 
CUR
 
SŒšgs
[167]

	)

365 
	#key_h–p
 
CUR
 
SŒšgs
[168]

	)

366 
	#key_m¬k
 
CUR
 
SŒšgs
[169]

	)

367 
	#key_mes§ge
 
CUR
 
SŒšgs
[170]

	)

368 
	#key_move
 
CUR
 
SŒšgs
[171]

	)

369 
	#key_Ãxt
 
CUR
 
SŒšgs
[172]

	)

370 
	#key_İ’
 
CUR
 
SŒšgs
[173]

	)

371 
	#key_İtiÚs
 
CUR
 
SŒšgs
[174]

	)

372 
	#key_´evious
 
CUR
 
SŒšgs
[175]

	)

373 
	#key_´št
 
CUR
 
SŒšgs
[176]

	)

374 
	#key_»do
 
CUR
 
SŒšgs
[177]

	)

375 
	#key_»ã»nû
 
CUR
 
SŒšgs
[178]

	)

376 
	#key_»äesh
 
CUR
 
SŒšgs
[179]

	)

377 
	#key_»¶aû
 
CUR
 
SŒšgs
[180]

	)

378 
	#key_»¡¬t
 
CUR
 
SŒšgs
[181]

	)

379 
	#key_»sume
 
CUR
 
SŒšgs
[182]

	)

380 
	#key_§ve
 
CUR
 
SŒšgs
[183]

	)

381 
	#key_su¥’d
 
CUR
 
SŒšgs
[184]

	)

382 
	#key_undo
 
CUR
 
SŒšgs
[185]

	)

383 
	#key_sbeg
 
CUR
 
SŒšgs
[186]

	)

384 
	#key_sÿnûl
 
CUR
 
SŒšgs
[187]

	)

385 
	#key_scommªd
 
CUR
 
SŒšgs
[188]

	)

386 
	#key_scİy
 
CUR
 
SŒšgs
[189]

	)

387 
	#key_sü—‹
 
CUR
 
SŒšgs
[190]

	)

388 
	#key_sdc
 
CUR
 
SŒšgs
[191]

	)

389 
	#key_sdl
 
CUR
 
SŒšgs
[192]

	)

390 
	#key_£Ëù
 
CUR
 
SŒšgs
[193]

	)

391 
	#key_£nd
 
CUR
 
SŒšgs
[194]

	)

392 
	#key_£Ş
 
CUR
 
SŒšgs
[195]

	)

393 
	#key_£x™
 
CUR
 
SŒšgs
[196]

	)

394 
	#key_sfšd
 
CUR
 
SŒšgs
[197]

	)

395 
	#key_sh–p
 
CUR
 
SŒšgs
[198]

	)

396 
	#key_shome
 
CUR
 
SŒšgs
[199]

	)

397 
	#key_sic
 
CUR
 
SŒšgs
[200]

	)

398 
	#key_¦eá
 
CUR
 
SŒšgs
[201]

	)

399 
	#key_smes§ge
 
CUR
 
SŒšgs
[202]

	)

400 
	#key_smove
 
CUR
 
SŒšgs
[203]

	)

401 
	#key_¢ext
 
CUR
 
SŒšgs
[204]

	)

402 
	#key_sİtiÚs
 
CUR
 
SŒšgs
[205]

	)

403 
	#key_¥»vious
 
CUR
 
SŒšgs
[206]

	)

404 
	#key_¥ršt
 
CUR
 
SŒšgs
[207]

	)

405 
	#key_¤edo
 
CUR
 
SŒšgs
[208]

	)

406 
	#key_¤•Ïû
 
CUR
 
SŒšgs
[209]

	)

407 
	#key_¤ight
 
CUR
 
SŒšgs
[210]

	)

408 
	#key_¤sume
 
CUR
 
SŒšgs
[211]

	)

409 
	#key_s§ve
 
CUR
 
SŒšgs
[212]

	)

410 
	#key_ssu¥’d
 
CUR
 
SŒšgs
[213]

	)

411 
	#key_sundo
 
CUR
 
SŒšgs
[214]

	)

412 
	#»q_fÜ_šput
 
CUR
 
SŒšgs
[215]

	)

413 
	#key_f11
 
CUR
 
SŒšgs
[216]

	)

414 
	#key_f12
 
CUR
 
SŒšgs
[217]

	)

415 
	#key_f13
 
CUR
 
SŒšgs
[218]

	)

416 
	#key_f14
 
CUR
 
SŒšgs
[219]

	)

417 
	#key_f15
 
CUR
 
SŒšgs
[220]

	)

418 
	#key_f16
 
CUR
 
SŒšgs
[221]

	)

419 
	#key_f17
 
CUR
 
SŒšgs
[222]

	)

420 
	#key_f18
 
CUR
 
SŒšgs
[223]

	)

421 
	#key_f19
 
CUR
 
SŒšgs
[224]

	)

422 
	#key_f20
 
CUR
 
SŒšgs
[225]

	)

423 
	#key_f21
 
CUR
 
SŒšgs
[226]

	)

424 
	#key_f22
 
CUR
 
SŒšgs
[227]

	)

425 
	#key_f23
 
CUR
 
SŒšgs
[228]

	)

426 
	#key_f24
 
CUR
 
SŒšgs
[229]

	)

427 
	#key_f25
 
CUR
 
SŒšgs
[230]

	)

428 
	#key_f26
 
CUR
 
SŒšgs
[231]

	)

429 
	#key_f27
 
CUR
 
SŒšgs
[232]

	)

430 
	#key_f28
 
CUR
 
SŒšgs
[233]

	)

431 
	#key_f29
 
CUR
 
SŒšgs
[234]

	)

432 
	#key_f30
 
CUR
 
SŒšgs
[235]

	)

433 
	#key_f31
 
CUR
 
SŒšgs
[236]

	)

434 
	#key_f32
 
CUR
 
SŒšgs
[237]

	)

435 
	#key_f33
 
CUR
 
SŒšgs
[238]

	)

436 
	#key_f34
 
CUR
 
SŒšgs
[239]

	)

437 
	#key_f35
 
CUR
 
SŒšgs
[240]

	)

438 
	#key_f36
 
CUR
 
SŒšgs
[241]

	)

439 
	#key_f37
 
CUR
 
SŒšgs
[242]

	)

440 
	#key_f38
 
CUR
 
SŒšgs
[243]

	)

441 
	#key_f39
 
CUR
 
SŒšgs
[244]

	)

442 
	#key_f40
 
CUR
 
SŒšgs
[245]

	)

443 
	#key_f41
 
CUR
 
SŒšgs
[246]

	)

444 
	#key_f42
 
CUR
 
SŒšgs
[247]

	)

445 
	#key_f43
 
CUR
 
SŒšgs
[248]

	)

446 
	#key_f44
 
CUR
 
SŒšgs
[249]

	)

447 
	#key_f45
 
CUR
 
SŒšgs
[250]

	)

448 
	#key_f46
 
CUR
 
SŒšgs
[251]

	)

449 
	#key_f47
 
CUR
 
SŒšgs
[252]

	)

450 
	#key_f48
 
CUR
 
SŒšgs
[253]

	)

451 
	#key_f49
 
CUR
 
SŒšgs
[254]

	)

452 
	#key_f50
 
CUR
 
SŒšgs
[255]

	)

453 
	#key_f51
 
CUR
 
SŒšgs
[256]

	)

454 
	#key_f52
 
CUR
 
SŒšgs
[257]

	)

455 
	#key_f53
 
CUR
 
SŒšgs
[258]

	)

456 
	#key_f54
 
CUR
 
SŒšgs
[259]

	)

457 
	#key_f55
 
CUR
 
SŒšgs
[260]

	)

458 
	#key_f56
 
CUR
 
SŒšgs
[261]

	)

459 
	#key_f57
 
CUR
 
SŒšgs
[262]

	)

460 
	#key_f58
 
CUR
 
SŒšgs
[263]

	)

461 
	#key_f59
 
CUR
 
SŒšgs
[264]

	)

462 
	#key_f60
 
CUR
 
SŒšgs
[265]

	)

463 
	#key_f61
 
CUR
 
SŒšgs
[266]

	)

464 
	#key_f62
 
CUR
 
SŒšgs
[267]

	)

465 
	#key_f63
 
CUR
 
SŒšgs
[268]

	)

466 
	#şr_bŞ
 
CUR
 
SŒšgs
[269]

	)

467 
	#ş—r_m¬gšs
 
CUR
 
SŒšgs
[270]

	)

468 
	#£t_Ëá_m¬gš
 
CUR
 
SŒšgs
[271]

	)

469 
	#£t_right_m¬gš
 
CUR
 
SŒšgs
[272]

	)

470 
	#Ïb–_fÜm©
 
CUR
 
SŒšgs
[273]

	)

471 
	#£t_şock
 
CUR
 
SŒšgs
[274]

	)

472 
	#di¥Ïy_şock
 
CUR
 
SŒšgs
[275]

	)

473 
	#»move_şock
 
CUR
 
SŒšgs
[276]

	)

474 
	#ü—‹_wšdow
 
CUR
 
SŒšgs
[277]

	)

475 
	#gÙo_wšdow
 
CUR
 
SŒšgs
[278]

	)

476 
	#hªgup
 
CUR
 
SŒšgs
[279]

	)

477 
	#dŸl_phÚe
 
CUR
 
SŒšgs
[280]

	)

478 
	#quick_dŸl
 
CUR
 
SŒšgs
[281]

	)

479 
	#tÚe
 
CUR
 
SŒšgs
[282]

	)

480 
	#pul£
 
CUR
 
SŒšgs
[283]

	)

481 
	#æash_hook
 
CUR
 
SŒšgs
[284]

	)

482 
	#fixed_·u£
 
CUR
 
SŒšgs
[285]

	)

483 
	#wa™_tÚe
 
CUR
 
SŒšgs
[286]

	)

484 
	#u£r0
 
CUR
 
SŒšgs
[287]

	)

485 
	#u£r1
 
CUR
 
SŒšgs
[288]

	)

486 
	#u£r2
 
CUR
 
SŒšgs
[289]

	)

487 
	#u£r3
 
CUR
 
SŒšgs
[290]

	)

488 
	#u£r4
 
CUR
 
SŒšgs
[291]

	)

489 
	#u£r5
 
CUR
 
SŒšgs
[292]

	)

490 
	#u£r6
 
CUR
 
SŒšgs
[293]

	)

491 
	#u£r7
 
CUR
 
SŒšgs
[294]

	)

492 
	#u£r8
 
CUR
 
SŒšgs
[295]

	)

493 
	#u£r9
 
CUR
 
SŒšgs
[296]

	)

494 
	#Üig_·œ
 
CUR
 
SŒšgs
[297]

	)

495 
	#Üig_cŞÜs
 
CUR
 
SŒšgs
[298]

	)

496 
	#š™Ÿlize_cŞÜ
 
CUR
 
SŒšgs
[299]

	)

497 
	#š™Ÿlize_·œ
 
CUR
 
SŒšgs
[300]

	)

498 
	#£t_cŞÜ_·œ
 
CUR
 
SŒšgs
[301]

	)

499 
	#£t_fÜeground
 
CUR
 
SŒšgs
[302]

	)

500 
	#£t_background
 
CUR
 
SŒšgs
[303]

	)

501 
	#chªge_ch¬_p™ch
 
CUR
 
SŒšgs
[304]

	)

502 
	#chªge_lše_p™ch
 
CUR
 
SŒšgs
[305]

	)

503 
	#chªge_»s_hÜz
 
CUR
 
SŒšgs
[306]

	)

504 
	#chªge_»s_v”t
 
CUR
 
SŒšgs
[307]

	)

505 
	#defše_ch¬
 
CUR
 
SŒšgs
[308]

	)

506 
	#’‹r_doubËwide_mode
 
CUR
 
SŒšgs
[309]

	)

507 
	#’‹r_d¿á_qu®™y
 
CUR
 
SŒšgs
[310]

	)

508 
	#’‹r_™®ics_mode
 
CUR
 
SŒšgs
[311]

	)

509 
	#’‹r_Ëáw¬d_mode
 
CUR
 
SŒšgs
[312]

	)

510 
	#’‹r_miüo_mode
 
CUR
 
SŒšgs
[313]

	)

511 
	#’‹r_Ã¬_Ë‰”_qu®™y
 
CUR
 
SŒšgs
[314]

	)

512 
	#’‹r_nÜm®_qu®™y
 
CUR
 
SŒšgs
[315]

	)

513 
	#’‹r_shadow_mode
 
CUR
 
SŒšgs
[316]

	)

514 
	#’‹r_subsüt_mode
 
CUR
 
SŒšgs
[317]

	)

515 
	#’‹r_su³rsüt_mode
 
CUR
 
SŒšgs
[318]

	)

516 
	#’‹r_upw¬d_mode
 
CUR
 
SŒšgs
[319]

	)

517 
	#ex™_doubËwide_mode
 
CUR
 
SŒšgs
[320]

	)

518 
	#ex™_™®ics_mode
 
CUR
 
SŒšgs
[321]

	)

519 
	#ex™_Ëáw¬d_mode
 
CUR
 
SŒšgs
[322]

	)

520 
	#ex™_miüo_mode
 
CUR
 
SŒšgs
[323]

	)

521 
	#ex™_shadow_mode
 
CUR
 
SŒšgs
[324]

	)

522 
	#ex™_subsüt_mode
 
CUR
 
SŒšgs
[325]

	)

523 
	#ex™_su³rsüt_mode
 
CUR
 
SŒšgs
[326]

	)

524 
	#ex™_upw¬d_mode
 
CUR
 
SŒšgs
[327]

	)

525 
	#miüo_cŞumn_add»ss
 
CUR
 
SŒšgs
[328]

	)

526 
	#miüo_down
 
CUR
 
SŒšgs
[329]

	)

527 
	#miüo_Ëá
 
CUR
 
SŒšgs
[330]

	)

528 
	#miüo_right
 
CUR
 
SŒšgs
[331]

	)

529 
	#miüo_row_add»ss
 
CUR
 
SŒšgs
[332]

	)

530 
	#miüo_up
 
CUR
 
SŒšgs
[333]

	)

531 
	#Üd”_of_pšs
 
CUR
 
SŒšgs
[334]

	)

532 
	#·rm_down_miüo
 
CUR
 
SŒšgs
[335]

	)

533 
	#·rm_Ëá_miüo
 
CUR
 
SŒšgs
[336]

	)

534 
	#·rm_right_miüo
 
CUR
 
SŒšgs
[337]

	)

535 
	#·rm_up_miüo
 
CUR
 
SŒšgs
[338]

	)

536 
	#£Ëù_ch¬_£t
 
CUR
 
SŒšgs
[339]

	)

537 
	#£t_bÙtom_m¬gš
 
CUR
 
SŒšgs
[340]

	)

538 
	#£t_bÙtom_m¬gš_·rm
 
CUR
 
SŒšgs
[341]

	)

539 
	#£t_Ëá_m¬gš_·rm
 
CUR
 
SŒšgs
[342]

	)

540 
	#£t_right_m¬gš_·rm
 
CUR
 
SŒšgs
[343]

	)

541 
	#£t_tİ_m¬gš
 
CUR
 
SŒšgs
[344]

	)

542 
	#£t_tİ_m¬gš_·rm
 
CUR
 
SŒšgs
[345]

	)

543 
	#¡¬t_b™_image
 
CUR
 
SŒšgs
[346]

	)

544 
	#¡¬t_ch¬_£t_def
 
CUR
 
SŒšgs
[347]

	)

545 
	#¡İ_b™_image
 
CUR
 
SŒšgs
[348]

	)

546 
	#¡İ_ch¬_£t_def
 
CUR
 
SŒšgs
[349]

	)

547 
	#subsüt_ch¬aù”s
 
CUR
 
SŒšgs
[350]

	)

548 
	#su³rsüt_ch¬aù”s
 
CUR
 
SŒšgs
[351]

	)

549 
	#the£_ÿu£_ü
 
CUR
 
SŒšgs
[352]

	)

550 
	#z”o_mÙiÚ
 
CUR
 
SŒšgs
[353]

	)

551 
	#ch¬_£t_Çmes
 
CUR
 
SŒšgs
[354]

	)

552 
	#key_mou£
 
CUR
 
SŒšgs
[355]

	)

553 
	#mou£_šfo
 
CUR
 
SŒšgs
[356]

	)

554 
	#»q_mou£_pos
 
CUR
 
SŒšgs
[357]

	)

555 
	#g‘_mou£
 
CUR
 
SŒšgs
[358]

	)

556 
	#£t_a_fÜeground
 
CUR
 
SŒšgs
[359]

	)

557 
	#£t_a_background
 
CUR
 
SŒšgs
[360]

	)

558 
	#pkey_¶ab
 
CUR
 
SŒšgs
[361]

	)

559 
	#deviû_ty³
 
CUR
 
SŒšgs
[362]

	)

560 
	#code_£t_š™
 
CUR
 
SŒšgs
[363]

	)

561 
	#£t0_des_£q
 
CUR
 
SŒšgs
[364]

	)

562 
	#£t1_des_£q
 
CUR
 
SŒšgs
[365]

	)

563 
	#£t2_des_£q
 
CUR
 
SŒšgs
[366]

	)

564 
	#£t3_des_£q
 
CUR
 
SŒšgs
[367]

	)

565 
	#£t_Ì_m¬gš
 
CUR
 
SŒšgs
[368]

	)

566 
	#£t_tb_m¬gš
 
CUR
 
SŒšgs
[369]

	)

567 
	#b™_image_»³©
 
CUR
 
SŒšgs
[370]

	)

568 
	#b™_image_Ãwlše
 
CUR
 
SŒšgs
[371]

	)

569 
	#b™_image_ÿ¼Ÿge_»tuº
 
CUR
 
SŒšgs
[372]

	)

570 
	#cŞÜ_Çmes
 
CUR
 
SŒšgs
[373]

	)

571 
	#defše_b™_image_»giÚ
 
CUR
 
SŒšgs
[374]

	)

572 
	#’d_b™_image_»giÚ
 
CUR
 
SŒšgs
[375]

	)

573 
	#£t_cŞÜ_bªd
 
CUR
 
SŒšgs
[376]

	)

574 
	#£t_·ge_Ëngth
 
CUR
 
SŒšgs
[377]

	)

575 
	#di¥Ïy_pc_ch¬
 
CUR
 
SŒšgs
[378]

	)

576 
	#’‹r_pc_ch¬£t_mode
 
CUR
 
SŒšgs
[379]

	)

577 
	#ex™_pc_ch¬£t_mode
 
CUR
 
SŒšgs
[380]

	)

578 
	#’‹r_sÿncode_mode
 
CUR
 
SŒšgs
[381]

	)

579 
	#ex™_sÿncode_mode
 
CUR
 
SŒšgs
[382]

	)

580 
	#pc_‹rm_İtiÚs
 
CUR
 
SŒšgs
[383]

	)

581 
	#sÿncode_esÿ³
 
CUR
 
SŒšgs
[384]

	)

582 
	#®t_sÿncode_esc
 
CUR
 
SŒšgs
[385]

	)

583 
	#’‹r_hÜizÚl_hl_mode
 
CUR
 
SŒšgs
[386]

	)

584 
	#’‹r_Ëá_hl_mode
 
CUR
 
SŒšgs
[387]

	)

585 
	#’‹r_low_hl_mode
 
CUR
 
SŒšgs
[388]

	)

586 
	#’‹r_right_hl_mode
 
CUR
 
SŒšgs
[389]

	)

587 
	#’‹r_tİ_hl_mode
 
CUR
 
SŒšgs
[390]

	)

588 
	#’‹r_v”tiÿl_hl_mode
 
CUR
 
SŒšgs
[391]

	)

589 
	#£t_a_©Œibu‹s
 
CUR
 
SŒšgs
[392]

	)

590 
	#£t_pgËn_šch
 
CUR
 
SŒšgs
[393]

	)

592 
	#BOOLWRITE
 37

	)

593 
	#NUMWRITE
 33

	)

594 
	#STRWRITE
 394

	)

597 
	#b“hive_gl™ch
 
no_esc_ùlc


	)

598 
	#‹Ë¿y_gl™ch
 
de¡_bs_magic_smso


	)

599 
	#miüo_ch¬_size
 
miüo_cŞ_size


	)

601 #ifdeà
__INTERNAL_CAPS_VISIBLE


602 
	#‹rmÿp_š™2
 
CUR
 
SŒšgs
[394]

	)

603 
	#‹rmÿp_»£t
 
CUR
 
SŒšgs
[395]

	)

604 
	#magic_cook›_gl™ch_ul
 
CUR
 
Numb”s
[33]

	)

605 
	#back¥aûs_w™h_bs
 
CUR
 
BoŞ—ns
[37]

	)

606 
	#üt_no_süŞlšg
 
CUR
 
BoŞ—ns
[38]

	)

607 
	#no_cÜ»ùly_wÜkšg_ü
 
CUR
 
BoŞ—ns
[39]

	)

608 
	#ÿ¼Ÿge_»tuº_d–ay
 
CUR
 
Numb”s
[34]

	)

609 
	#Ãw_lše_d–ay
 
CUR
 
Numb”s
[35]

	)

610 
	#lšeãed_if_nÙ_lf
 
CUR
 
SŒšgs
[396]

	)

611 
	#back¥aû_if_nÙ_bs
 
CUR
 
SŒšgs
[397]

	)

612 
	#gnu_has_m‘a_key
 
CUR
 
BoŞ—ns
[40]

	)

613 
	#lšeãed_is_Ãwlše
 
CUR
 
BoŞ—ns
[41]

	)

614 
	#back¥aû_d–ay
 
CUR
 
Numb”s
[36]

	)

615 
	#hÜizÚl_b_d–ay
 
CUR
 
Numb”s
[37]

	)

616 
	#numb”_of_funùiÚ_keys
 
CUR
 
Numb”s
[38]

	)

617 
	#Ùh”_nÚ_funùiÚ_keys
 
CUR
 
SŒšgs
[398]

	)

618 
	#¬row_key_m­
 
CUR
 
SŒšgs
[399]

	)

619 
	#has_h¬dw¬e_bs
 
CUR
 
BoŞ—ns
[42]

	)

620 
	#»tuº_dÛs_şr_eŞ
 
CUR
 
BoŞ—ns
[43]

	)

621 
	#acs_ulcÜÃr
 
CUR
 
SŒšgs
[400]

	)

622 
	#acs_ÎcÜÃr
 
CUR
 
SŒšgs
[401]

	)

623 
	#acs_urcÜÃr
 
CUR
 
SŒšgs
[402]

	)

624 
	#acs_ÌcÜÃr
 
CUR
 
SŒšgs
[403]

	)

625 
	#acs_É“
 
CUR
 
SŒšgs
[404]

	)

626 
	#acs_¹“
 
CUR
 
SŒšgs
[405]

	)

627 
	#acs_b‹e
 
CUR
 
SŒšgs
[406]

	)

628 
	#acs_‰“
 
CUR
 
SŒšgs
[407]

	)

629 
	#acs_hlše
 
CUR
 
SŒšgs
[408]

	)

630 
	#acs_vlše
 
CUR
 
SŒšgs
[409]

	)

631 
	#acs_¶us
 
CUR
 
SŒšgs
[410]

	)

632 
	#memÜy_lock
 
CUR
 
SŒšgs
[411]

	)

633 
	#memÜy_uÆock
 
CUR
 
SŒšgs
[412]

	)

634 
	#box_ch¬s_1
 
CUR
 
SŒšgs
[413]

	)

641 
	#BOOLCOUNT
 44

	)

642 
	#NUMCOUNT
 39

	)

643 
	#STRCOUNT
 414

	)

646 
	#acs_ch¬s_šdex
 146

	)

648 
	s‹rmty³
 {

649 *
‹rm_Çmes
;

650 *
¡r_bË
;

651 
NCURSES_SBOOL
 *
BoŞ—ns
;

652 *
Numb”s
;

653 **
SŒšgs
;

655 #ià
NCURSES_XNAMES


656 *
ext_¡r_bË
;

657 **
ext_Names
;

659 
num_BoŞ—ns
;

660 
num_Numb”s
;

661 
num_SŒšgs
;

663 
ext_BoŞ—ns
;

664 
ext_Numb”s
;

665 
ext_SŒšgs
;

668 } 
	tTERMTYPE
;

670 
	s‹rm
 {

671 
TERMTYPE
 
ty³
;

672 
Fedes
;

673 
TTY
 
O‰yb
,

674 
N‰yb
;

675 
_baud¿‹
;

676 * 
_‹rmÇme
;

677 } 
	tTERMINAL
;

680 
NCURSES_EXPORT_VAR
(
TERMINAL
 *è
cur_‹rm
;

682 
NCURSES_WRAPPED_VAR
(
TERMINAL
 *, 
cur_‹rm
);

683 
	#cur_‹rm
 
	`NCURSES_PUBLIC_VAR
(
	`cur_‹rm
())

	)

685 
NCURSES_EXPORT_VAR
(
TERMINAL
 *è
cur_‹rm
;

689 
NCURSES_WRAPPED_VAR
(
NCURSES_CONST
 * cÚ¡ *, 
boŞÇmes
);

690 
NCURSES_WRAPPED_VAR
(
NCURSES_CONST
 * cÚ¡ *, 
boŞcodes
);

691 
NCURSES_WRAPPED_VAR
(
NCURSES_CONST
 * cÚ¡ *, 
boŞâames
);

692 
NCURSES_WRAPPED_VAR
(
NCURSES_CONST
 * cÚ¡ *, 
numÇmes
);

693 
NCURSES_WRAPPED_VAR
(
NCURSES_CONST
 * cÚ¡ *, 
numcodes
);

694 
NCURSES_WRAPPED_VAR
(
NCURSES_CONST
 * cÚ¡ *, 
numâames
);

695 
NCURSES_WRAPPED_VAR
(
NCURSES_CONST
 * cÚ¡ *, 
¡ºames
);

696 
NCURSES_WRAPPED_VAR
(
NCURSES_CONST
 * cÚ¡ *, 
¡rcodes
);

697 
NCURSES_WRAPPED_VAR
(
NCURSES_CONST
 * cÚ¡ *, 
¡râames
);

699 
	#boŞÇmes
 
	`NCURSES_PUBLIC_VAR
(
	`boŞÇmes
())

	)

700 
	#boŞcodes
 
	`NCURSES_PUBLIC_VAR
(
	`boŞcodes
())

	)

701 
	#boŞâames
 
	`NCURSES_PUBLIC_VAR
(
	`boŞâames
())

	)

702 
	#numÇmes
 
	`NCURSES_PUBLIC_VAR
(
	`numÇmes
())

	)

703 
	#numcodes
 
	`NCURSES_PUBLIC_VAR
(
	`numcodes
())

	)

704 
	#numâames
 
	`NCURSES_PUBLIC_VAR
(
	`numâames
())

	)

705 
	#¡ºames
 
	`NCURSES_PUBLIC_VAR
(
	`¡ºames
())

	)

706 
	#¡rcodes
 
	`NCURSES_PUBLIC_VAR
(
	`¡rcodes
())

	)

707 
	#¡râames
 
	`NCURSES_PUBLIC_VAR
(
	`¡râames
())

	)

711 
NCURSES_EXPORT_VAR
(
NCURSES_CONST
 * cÚ¡ ) 
boŞÇmes
[];

712 
NCURSES_EXPORT_VAR
(
NCURSES_CONST
 * cÚ¡ ) 
boŞcodes
[];

713 
NCURSES_EXPORT_VAR
(
NCURSES_CONST
 * cÚ¡ ) 
boŞâames
[];

714 
NCURSES_EXPORT_VAR
(
NCURSES_CONST
 * cÚ¡ ) 
numÇmes
[];

715 
NCURSES_EXPORT_VAR
(
NCURSES_CONST
 * cÚ¡ ) 
numcodes
[];

716 
NCURSES_EXPORT_VAR
(
NCURSES_CONST
 * cÚ¡ ) 
numâames
[];

717 
NCURSES_EXPORT_VAR
(
NCURSES_CONST
 * cÚ¡ ) 
¡ºames
[];

718 
NCURSES_EXPORT_VAR
(
NCURSES_CONST
 * cÚ¡ ) 
¡rcodes
[];

719 
NCURSES_EXPORT_VAR
(
NCURSES_CONST
 * cÚ¡ ) 
¡râames
[];

724 
NCURSES_EXPORT
(è
_nc_£t_‰y_mode
 (
TTY
 *
buf
);

725 
NCURSES_EXPORT
(è
_nc_g‘_‰y_mode
 (
TTY
 *
buf
);

726 
NCURSES_EXPORT
(è
_nc_»ad_’Œy
 (cÚ¡ * cÚ¡, * cÚ¡, 
TERMTYPE
 *const);

727 
NCURSES_EXPORT
(è
_nc_»ad_fe_’Œy
 (cÚ¡ *cÚ¡, 
TERMTYPE
 *);

728 
NCURSES_EXPORT
(è
_nc_š™_‹rmty³
 (
TERMTYPE
 *const);

729 
NCURSES_EXPORT
(è
_nc_»ad_‹rmty³
 (
TERMTYPE
 *, *, );

730 
NCURSES_EXPORT
(*è
_nc_fœ¡_Çme
 (const *const);

731 
NCURSES_EXPORT
(è
_nc_Çme_m©ch
 (const *const, const *const, const *const);

732 
NCURSES_EXPORT
(cÚ¡ 
TERMTYPE
 *è
_nc_çÎback
 (const *);

735 
NCURSES_EXPORT
(
TERMINAL
 *è
£t_cu¹”m
 (TERMINAL *);

736 
NCURSES_EXPORT
(è
d–_cu¹”m
 (
TERMINAL
 *);

739 
NCURSES_EXPORT
(è
»¡¬‰”m
 (
NCURSES_CONST
 *, , *);

740 
NCURSES_EXPORT
(è
£tu±”m
 (
NCURSES_CONST
 *,,*);

743 #ià!
defšed
(
__NCURSES_H
)

744 
NCURSES_EXPORT
(*è
tig‘¡r
 (
NCURSES_CONST
 *);

745 
NCURSES_EXPORT_VAR
(è
‰yty³
[];

746 
NCURSES_EXPORT
(è
pu
 (const *);

747 
NCURSES_EXPORT
(è
tig‘æag
 (
NCURSES_CONST
 *);

748 
NCURSES_EXPORT
(è
tig‘num
 (
NCURSES_CONST
 *);

751 
NCURSES_EXPORT
(*è
¬m
 (
NCURSES_CONST
 *, ...);

753 
NCURSES_EXPORT
(*è
¬m
 (
NCURSES_CONST
 *, ,,,,,,,,);

754 
NCURSES_EXPORT
(*è
¬m_v¬¬gs
 (
NCURSES_CONST
 *, ...);

757 
NCURSES_EXPORT
(*è
t¬m
 (const *, ...);

762 #ià!
defšed
(
NCURSES_TERMCAP_H_šş
)

763 
NCURSES_EXPORT
(*è
tg‘¡r
 (
NCURSES_CONST
 *, **);

764 
NCURSES_EXPORT
(*è
tgÙo
 (const *, , );

765 
NCURSES_EXPORT
(è
tg‘’t
 (*, const *);

766 
NCURSES_EXPORT
(è
tg‘æag
 (
NCURSES_CONST
 *);

767 
NCURSES_EXPORT
(è
tg‘num
 (
NCURSES_CONST
 *);

768 
NCURSES_EXPORT
(è
uts
 (const *, , (*)());

774 #ià
defšed
(
NCURSES_SP_FUNCS
) && (NCURSES_SP_FUNCS != 0)

776 
NCURSES_EXPORT
(*è
NCURSES_SP_NAME
(
tig‘¡r
è(
SCREEN
*, 
NCURSES_CONST
 *);

777 
NCURSES_EXPORT
(è
NCURSES_SP_NAME
(
pu
è(
SCREEN
*, const *);

778 
NCURSES_EXPORT
(è
NCURSES_SP_NAME
(
tig‘æag
è(
SCREEN
*, 
NCURSES_CONST
 *);

779 
NCURSES_EXPORT
(è
NCURSES_SP_NAME
(
tig‘num
è(
SCREEN
*, 
NCURSES_CONST
 *);

782 
NCURSES_EXPORT
(*è
NCURSES_SP_NAME
(
¬m
è(
SCREEN
*, 
NCURSES_CONST
 *, ...);

784 
NCURSES_EXPORT
(*è
NCURSES_SP_NAME
(
¬m
è(
SCREEN
*, 
NCURSES_CONST
 *, ,,,,,,,,);

785 
NCURSES_EXPORT
(*è
NCURSES_SP_NAME
(
¬m_v¬¬gs
è(
SCREEN
*, 
NCURSES_CONST
 *, ...);

789 
NCURSES_EXPORT
(*è
NCURSES_SP_NAME
(
tg‘¡r
è(
SCREEN
*, 
NCURSES_CONST
 *, **);

790 
NCURSES_EXPORT
(*è
NCURSES_SP_NAME
(
tgÙo
è(
SCREEN
*, const *, , );

791 
NCURSES_EXPORT
(è
NCURSES_SP_NAME
(
tg‘’t
è(
SCREEN
*, *, const *);

792 
NCURSES_EXPORT
(è
NCURSES_SP_NAME
(
tg‘æag
è(
SCREEN
*, 
NCURSES_CONST
 *);

793 
NCURSES_EXPORT
(è
NCURSES_SP_NAME
(
tg‘num
è(
SCREEN
*, 
NCURSES_CONST
 *);

794 
NCURSES_EXPORT
(è
NCURSES_SP_NAME
(
uts
è(
SCREEN
*, cÚ¡ *, , 
NCURSES_SP_OUTC
);

796 
NCURSES_EXPORT
(
TERMINAL
 *è
NCURSES_SP_NAME
(
£t_cu¹”m
è(
SCREEN
*, TERMINAL *);

797 
NCURSES_EXPORT
(è
NCURSES_SP_NAME
(
d–_cu¹”m
è(
SCREEN
*, 
TERMINAL
 *);

799 
NCURSES_EXPORT
(è
NCURSES_SP_NAME
(
»¡¬‰”m
è(
SCREEN
*, 
NCURSES_CONST
 *, , *);

802 #ifdeà
__ılu¥lus


	@/usr/include/time.h

22 #iâdef 
_TIME_H


24 #ià(! 
defšed
 
__Ãed_time_t
 && !defšed 
__Ãed_şock_t
 && \

25 ! 
defšed
 
	g__Ãed_time¥ec
)

26 
	#_TIME_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


33 #ifdef 
_TIME_H


35 
	#__Ãed_size_t


	)

36 
	#__Ãed_NULL


	)

37 
	~<¡ddef.h
>

41 
	~<b™s/time.h
>

44 #ià!
defšed
 
__STRICT_ANSI__
 && !defšed 
__USE_XOPEN2K


45 #iâdeà
CLK_TCK


46 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

52 #ià!
defšed
 
__şock_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_şock_t
)

53 
	#__şock_t_defšed
 1

	)

55 
	~<b™s/ty³s.h
>

57 
__BEGIN_NAMESPACE_STD


59 
__şock_t
 
	tşock_t
;

60 
	g__END_NAMESPACE_STD


61 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX


62 
	$__USING_NAMESPACE_STD
(
şock_t
)

66 #undeà
__Ãed_şock_t


68 #ià!
defšed
 
__time_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_time_t
)

69 
	#__time_t_defšed
 1

	)

71 
	~<b™s/ty³s.h
>

73 
__BEGIN_NAMESPACE_STD


75 
__time_t
 
	ttime_t
;

76 
__END_NAMESPACE_STD


77 #ifdeà
__USE_POSIX


78 
	$__USING_NAMESPACE_STD
(
time_t
)

82 #undeà
__Ãed_time_t


84 #ià!
defšed
 
__şockid_t_defšed
 && \

85 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_şockid_t
)

86 
	#__şockid_t_defšed
 1

	)

88 
	~<b™s/ty³s.h
>

91 
__şockid_t
 
	tşockid_t
;

94 #undeà
__şockid_time_t


96 #ià!
defšed
 
__tim”_t_defšed
 && \

97 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_tim”_t
)

98 
	#__tim”_t_defšed
 1

	)

100 
	~<b™s/ty³s.h
>

103 
__tim”_t
 
	ttim”_t
;

106 #undeà
__Ãed_tim”_t


109 #ià(!
defšed
 
__time¥ec_defšed
 \

110 && ((
defšed
 
_TIME_H
 \

111 && (
defšed
 
__USE_POSIX199309
 \

112 || 
defšed
 
__USE_ISOC11
)) \

113 || 
defšed
 
__Ãed_time¥ec
))

114 
	#__time¥ec_defšed
 1

	)

116 
	~<b™s/ty³s.h
>

120 
	stime¥ec


122 
__time_t
 
tv_£c
;

123 
__sysÿÎ_¦Úg_t
 
tv_n£c
;

127 #undeà
__Ãed_time¥ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mš
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_mÚ
;

140 
tm_y—r
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd¡
;

145 #ifdef 
__USE_MISC


146 
tm_gmtoff
;

147 cÚ¡ *
tm_zÚe
;

149 
__tm_gmtoff
;

150 cÚ¡ *
__tm_zÚe
;

153 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifdeà
__USE_POSIX199309


161 
	s™im”¥ec


163 
time¥ec
 
™_š‹rv®
;

164 
time¥ec
 
™_v®ue
;

168 
sigev’t
;

172 #ifdeà
__USE_XOPEN2K


173 #iâdeà
__pid_t_defšed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_defšed


	)

180 #ifdeà
__USE_ISOC11


182 
	#TIME_UTC
 1

	)

186 
__BEGIN_NAMESPACE_STD


189 
şock_t
 
	$şock
 (è
__THROW
;

192 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

195 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

196 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

199 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

205 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

206 cÚ¡ *
__»¡riù
 
__fÜm©
,

207 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

208 
__END_NAMESPACE_STD


210 #ifdeà
__USE_XOPEN


213 *
	$¡½time
 (cÚ¡ *
__»¡riù
 
__s
,

214 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
)

215 
__THROW
;

218 #ifdeà
__USE_XOPEN2K8


221 
	~<xloÿË.h
>

223 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

224 cÚ¡ *
__»¡riù
 
__fÜm©
,

225 cÚ¡ 
tm
 *
__»¡riù
 
__
,

226 
__loÿË_t
 
__loc
è
__THROW
;

229 #ifdeà
__USE_GNU


230 *
	$¡½time_l
 (cÚ¡ *
__»¡riù
 
__s
,

231 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
,

232 
__loÿË_t
 
__loc
è
__THROW
;

236 
__BEGIN_NAMESPACE_STD


239 
tm
 *
	$gmtime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

243 
tm
 *
	$loÿÉime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

244 
__END_NAMESPACE_STD


246 #ifdeà
__USE_POSIX


249 
tm
 *
	$gmtime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

250 
tm
 *
__»¡riù
 
__
è
__THROW
;

254 
tm
 *
	$loÿÉime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

255 
tm
 *
__»¡riù
 
__
è
__THROW
;

258 
__BEGIN_NAMESPACE_STD


261 *
	$asùime
 (cÚ¡ 
tm
 *
__
è
__THROW
;

264 *
	$ùime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

265 
__END_NAMESPACE_STD


267 #ifdeà
__USE_POSIX


272 *
	$asùime_r
 (cÚ¡ 
tm
 *
__»¡riù
 
__
,

273 *
__»¡riù
 
__buf
è
__THROW
;

276 *
	$ùime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

277 *
__»¡riù
 
__buf
è
__THROW
;

282 *
__tzÇme
[2];

283 
__daylight
;

284 
__timezÚe
;

287 #ifdef 
__USE_POSIX


289 *
tzÇme
[2];

293 
	$tz£t
 (è
__THROW
;

296 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


297 
daylight
;

298 
timezÚe
;

301 #ifdeà
__USE_MISC


304 
	$¡ime
 (cÚ¡ 
time_t
 *
__wh’
è
__THROW
;

310 
	#__i¦—p
(
y—r
) \

311 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

314 #ifdeà
__USE_MISC


319 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

322 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

325 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

329 #ifdeà
__USE_POSIX199309


334 
	`Çno¦“p
 (cÚ¡ 
time¥ec
 *
__»que¡ed_time
,

335 
time¥ec
 *
__»maššg
);

339 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

342 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

345 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, cÚ¡ 
time¥ec
 *
__
)

346 
__THROW
;

348 #ifdeà
__USE_XOPEN2K


353 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

354 cÚ¡ 
time¥ec
 *
__»q
,

355 
time¥ec
 *
__»m
);

358 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

363 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

364 
sigev’t
 *
__»¡riù
 
__evp
,

365 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

368 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

371 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

372 cÚ¡ 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

373 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

376 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

377 
__THROW
;

380 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

384 #ifdeà
__USE_ISOC11


386 
	$time¥ec_g‘
 (
time¥ec
 *
__ts
, 
__ba£
)

387 
__THROW
 
	`__nÚnuÎ
 ((1));

391 #ifdeà
__USE_XOPEN_EXTENDED


403 
g‘d©e_”r
;

412 
tm
 *
	`g‘d©e
 (cÚ¡ *
__¡ršg
);

415 #ifdeà
__USE_GNU


426 
	`g‘d©e_r
 (cÚ¡ *
__»¡riù
 
__¡ršg
,

427 
tm
 *
__»¡riù
 
__»sbuå
);

430 
__END_DECLS


	@/usr/include/unistd.h

22 #iâdef 
_UNISTD_H


23 
	#_UNISTD_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


32 #ifdeà
__USE_XOPEN2K8


34 
	#_POSIX_VERSION
 200809L

	)

35 #–ià
defšed
 
__USE_XOPEN2K


37 
	#_POSIX_VERSION
 200112L

	)

38 #–ià
defšed
 
__USE_POSIX199506


40 
	#_POSIX_VERSION
 199506L

	)

41 #–ià
defšed
 
__USE_POSIX199309


43 
	#_POSIX_VERSION
 199309L

	)

46 
	#_POSIX_VERSION
 199009L

	)

52 #ifdeà
__USE_XOPEN2K8


53 
	#__POSIX2_THIS_VERSION
 200809L

	)

55 #–ià
defšed
 
__USE_XOPEN2K


57 
	#__POSIX2_THIS_VERSION
 200112L

	)

58 #–ià
defšed
 
__USE_POSIX199506


60 
	#__POSIX2_THIS_VERSION
 199506L

	)

63 
	#__POSIX2_THIS_VERSION
 199209L

	)

67 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

71 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

75 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

79 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

83 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

86 #ifdeà
__USE_XOPEN2K8


87 
	#_XOPEN_VERSION
 700

	)

88 #–ià
defšed
 
__USE_XOPEN2K


89 
	#_XOPEN_VERSION
 600

	)

90 #–ià
defšed
 
__USE_UNIX98


91 
	#_XOPEN_VERSION
 500

	)

93 
	#_XOPEN_VERSION
 4

	)

97 
	#_XOPEN_XCU_VERSION
 4

	)

100 
	#_XOPEN_XPG2
 1

	)

101 
	#_XOPEN_XPG3
 1

	)

102 
	#_XOPEN_XPG4
 1

	)

105 
	#_XOPEN_UNIX
 1

	)

108 
	#_XOPEN_CRYPT
 1

	)

112 
	#_XOPEN_ENH_I18N
 1

	)

115 
	#_XOPEN_LEGACY
 1

	)

202 
	~<b™s/posix_İt.h
>

205 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


206 
	~<b™s/’vœÚm’ts.h
>

210 
	#STDIN_FILENO
 0

	)

211 
	#STDOUT_FILENO
 1

	)

212 
	#STDERR_FILENO
 2

	)

217 
	~<b™s/ty³s.h
>

219 #iâdef 
__ssize_t_defšed


220 
__ssize_t
 
	tssize_t
;

221 
	#__ssize_t_defšed


	)

224 
	#__Ãed_size_t


	)

225 
	#__Ãed_NULL


	)

226 
	~<¡ddef.h
>

228 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


231 #iâdeà
__gid_t_defšed


232 
__gid_t
 
	tgid_t
;

233 
	#__gid_t_defšed


	)

236 #iâdeà
__uid_t_defšed


237 
__uid_t
 
	tuid_t
;

238 
	#__uid_t_defšed


	)

241 #iâdeà
__off_t_defšed


242 #iâdeà
__USE_FILE_OFFSET64


243 
__off_t
 
	toff_t
;

245 
__off64_t
 
	toff_t
;

247 
	#__off_t_defšed


	)

249 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


250 
__off64_t
 
	toff64_t
;

251 
	#__off64_t_defšed


	)

254 #iâdeà
__u£cÚds_t_defšed


255 
__u£cÚds_t
 
	tu£cÚds_t
;

256 
	#__u£cÚds_t_defšed


	)

259 #iâdeà
__pid_t_defšed


260 
__pid_t
 
	tpid_t
;

261 
	#__pid_t_defšed


	)

265 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


266 #iâdeà
__šŒ_t_defšed


267 
__šŒ_t
 
	tšŒ_t
;

268 
	#__šŒ_t_defšed


	)

272 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


273 #iâdeà
__sockËn_t_defšed


274 
__sockËn_t
 
	tsockËn_t
;

275 
	#__sockËn_t_defšed


	)

281 
	#R_OK
 4

	)

282 
	#W_OK
 2

	)

283 
	#X_OK
 1

	)

284 
	#F_OK
 0

	)

287 
	$acûss
 (cÚ¡ *
__Çme
, 
__ty³
è
__THROW
 
	`__nÚnuÎ
 ((1));

289 #ifdeà
__USE_GNU


292 
	$euidacûss
 (cÚ¡ *
__Çme
, 
__ty³
)

293 
__THROW
 
	`__nÚnuÎ
 ((1));

296 
	$—cûss
 (cÚ¡ *
__Çme
, 
__ty³
)

297 
__THROW
 
	`__nÚnuÎ
 ((1));

300 #ifdeà
__USE_ATFILE


304 
	$çcûs§t
 (
__fd
, cÚ¡ *
__fe
, 
__ty³
, 
__æag
)

305 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

310 #iâdef 
_STDIO_H


311 
	#SEEK_SET
 0

	)

312 
	#SEEK_CUR
 1

	)

313 
	#SEEK_END
 2

	)

314 #ifdeà
__USE_GNU


315 
	#SEEK_DATA
 3

	)

316 
	#SEEK_HOLE
 4

	)

320 #ià
defšed
 
__USE_MISC
 && !defšed 
L_SET


322 
	#L_SET
 
SEEK_SET


	)

323 
	#L_INCR
 
SEEK_CUR


	)

324 
	#L_XTND
 
SEEK_END


	)

333 #iâdeà
__USE_FILE_OFFSET64


334 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__wh’û
è
__THROW
;

336 #ifdeà
__REDIRECT_NTH


337 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

338 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
),

339 
l£ek64
);

341 
	#l£ek
 
l£ek64


	)

344 #ifdeà
__USE_LARGEFILE64


345 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
)

346 
__THROW
;

353 
	`şo£
 (
__fd
);

360 
ssize_t
 
	$»ad
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
è
__wur
;

366 
ssize_t
 
	$wr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
è
__wur
;

368 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


369 #iâdeà
__USE_FILE_OFFSET64


376 
ssize_t
 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

377 
__off_t
 
__off£t
è
__wur
;

384 
ssize_t
 
	$pwr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

385 
__off_t
 
__off£t
è
__wur
;

387 #ifdeà
__REDIRECT


388 
ssize_t
 
	`__REDIRECT
 (
´—d
, (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

389 
__off64_t
 
__off£t
),

390 
´—d64
è
__wur
;

391 
ssize_t
 
	`__REDIRECT
 (
pwr™e
, (
__fd
, cÚ¡ *
__buf
,

392 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
),

393 
pwr™e64
è
__wur
;

395 
	#´—d
 
´—d64


	)

396 
	#pwr™e
 
pwr™e64


	)

400 #ifdeà
__USE_LARGEFILE64


404 
ssize_t
 
	$´—d64
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

405 
__off64_t
 
__off£t
è
__wur
;

408 
ssize_t
 
	$pwr™e64
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

409 
__off64_t
 
__off£t
è
__wur
;

417 
	$pe
 (
__pedes
[2]è
__THROW
 
__wur
;

419 #ifdeà
__USE_GNU


422 
	$pe2
 (
__pedes
[2], 
__æags
è
__THROW
 
__wur
;

432 
	$®¬m
 (
__£cÚds
è
__THROW
;

444 
	`¦“p
 (
__£cÚds
);

446 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

447 || 
defšed
 
__USE_MISC


452 
__u£cÚds_t
 
	$u®¬m
 (
__u£cÚds_t
 
__v®ue
, __u£cÚds_ˆ
__š‹rv®
)

453 
__THROW
;

460 
	`u¦“p
 (
__u£cÚds_t
 
__u£cÚds
);

469 
	`·u£
 ();

473 
	$chown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

474 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

476 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


478 
	$fchown
 (
__fd
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
è
__THROW
 
__wur
;

483 
	$lchown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

484 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

488 #ifdeà
__USE_ATFILE


491 
	$fchowÇt
 (
__fd
, cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
,

492 
__gid_t
 
__group
, 
__æag
)

493 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

497 
	$chdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

499 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


501 
	$fchdœ
 (
__fd
è
__THROW
 
__wur
;

511 *
	$g‘cwd
 (*
__buf
, 
size_t
 
__size
è
__THROW
 
__wur
;

513 #ifdef 
__USE_GNU


517 *
	$g‘_cu¼’t_dœ_Çme
 (è
__THROW
;

520 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

521 || 
defšed
 
__USE_MISC


525 *
	$g‘wd
 (*
__buf
)

526 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
 
__wur
;

531 
	$dup
 (
__fd
è
__THROW
 
__wur
;

534 
	$dup2
 (
__fd
, 
__fd2
è
__THROW
;

536 #ifdeà
__USE_GNU


539 
	$dup3
 (
__fd
, 
__fd2
, 
__æags
è
__THROW
;

543 **
__’vœÚ
;

544 #ifdeà
__USE_GNU


545 **
’vœÚ
;

551 
	$execve
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[],

552 *cÚ¡ 
__’vp
[]è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

554 #ifdeà
__USE_XOPEN2K8


557 
	$ãxecve
 (
__fd
, *cÚ¡ 
__¬gv
[], *cÚ¡ 
__’vp
[])

558 
__THROW
 
	`__nÚnuÎ
 ((2));

563 
	$execv
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[])

564 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

568 
	$exeşe
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

569 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

573 
	$exeş
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

574 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

578 
	$execvp
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[])

579 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

584 
	$exeşp
 (cÚ¡ *
__fe
, cÚ¡ *
__¬g
, ...)

585 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

587 #ifdeà
__USE_GNU


590 
	$execv³
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[],

591 *cÚ¡ 
__’vp
[])

592 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

596 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


598 
	$niû
 (
__šc
è
__THROW
 
__wur
;

603 
	$_ex™
 (
__¡©us
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

609 
	~<b™s/cÚâame.h
>

612 
	$·thcÚf
 (cÚ¡ *
__·th
, 
__Çme
)

613 
__THROW
 
	`__nÚnuÎ
 ((1));

616 
	$å©hcÚf
 (
__fd
, 
__Çme
è
__THROW
;

619 
	$syscÚf
 (
__Çme
è
__THROW
;

621 #ifdef 
__USE_POSIX2


623 
size_t
 
	$cÚf¡r
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
è
__THROW
;

628 
__pid_t
 
	$g‘pid
 (è
__THROW
;

631 
__pid_t
 
	$g‘µid
 (è
__THROW
;

634 
__pid_t
 
	$g‘pg½
 (è
__THROW
;

637 
__pid_t
 
	$__g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

638 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


639 
__pid_t
 
	$g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

646 
	$£gid
 (
__pid_t
 
__pid
, __pid_ˆ
__pgid
è
__THROW
;

648 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


660 
	$£g½
 (è
__THROW
;

667 
__pid_t
 
	$£tsid
 (è
__THROW
;

669 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


671 
__pid_t
 
	$g‘sid
 (
__pid_t
 
__pid
è
__THROW
;

675 
__uid_t
 
	$g‘uid
 (è
__THROW
;

678 
__uid_t
 
	$g‘euid
 (è
__THROW
;

681 
__gid_t
 
	$g‘gid
 (è
__THROW
;

684 
__gid_t
 
	$g‘egid
 (è
__THROW
;

689 
	$g‘groups
 (
__size
, 
__gid_t
 
__li¡
[]è
__THROW
 
__wur
;

691 #ifdef 
__USE_GNU


693 
	$group_memb”
 (
__gid_t
 
__gid
è
__THROW
;

700 
	$£tuid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

702 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


705 
	$£Œeuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
è
__THROW
 
__wur
;

708 #ifdeà
__USE_XOPEN2K


710 
	$£‹uid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

717 
	$£tgid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

719 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


722 
	$£Œegid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
è
__THROW
 
__wur
;

725 #ifdeà
__USE_XOPEN2K


727 
	$£‹gid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

730 #ifdeà
__USE_GNU


733 
	$g‘»suid
 (
__uid_t
 *
__ruid
, __uid_ˆ*
__euid
, __uid_ˆ*
__suid
)

734 
__THROW
;

738 
	$g‘»sgid
 (
__gid_t
 *
__rgid
, __gid_ˆ*
__egid
, __gid_ˆ*
__sgid
)

739 
__THROW
;

743 
	$£Œesuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
, __uid_ˆ
__suid
)

744 
__THROW
 
__wur
;

748 
	$£Œesgid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
, __gid_ˆ
__sgid
)

749 
__THROW
 
__wur
;

756 
__pid_t
 
	$fÜk
 (è
__THROWNL
;

758 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

759 || 
defšed
 
__USE_MISC


764 
__pid_t
 
	$vfÜk
 (è
__THROW
;

770 *
	$‰yÇme
 (
__fd
è
__THROW
;

774 
	$‰yÇme_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

775 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

779 
	$i§‰y
 (
__fd
è
__THROW
;

781 #ià
defšed
 
__USE_MISC
 \

782 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_UNIX98
)

785 
	$‰y¦Ù
 (è
__THROW
;

790 
	$lšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

791 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

793 #ifdeà
__USE_ATFILE


796 
	$lšk©
 (
__äomfd
, cÚ¡ *
__äom
, 
__tofd
,

797 cÚ¡ *
__to
, 
__æags
)

798 
__THROW
 
	`__nÚnuÎ
 ((2, 4)è
__wur
;

801 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


803 
	$symlšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

804 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

809 
ssize_t
 
	$»adlšk
 (cÚ¡ *
__»¡riù
 
__·th
,

810 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

811 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

814 #ifdeà
__USE_ATFILE


816 
	$symlšk©
 (cÚ¡ *
__äom
, 
__tofd
,

817 cÚ¡ *
__to
è
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

820 
ssize_t
 
	$»adlšk©
 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

821 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

822 
__THROW
 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

826 
	$uÆšk
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

828 #ifdeà
__USE_ATFILE


830 
	$uÆšk©
 (
__fd
, cÚ¡ *
__Çme
, 
__æag
)

831 
__THROW
 
	`__nÚnuÎ
 ((2));

835 
	$rmdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1));

839 
__pid_t
 
	$tcg‘pg½
 (
__fd
è
__THROW
;

842 
	$tc£g½
 (
__fd
, 
__pid_t
 
__pg½_id
è
__THROW
;

849 *
	`g‘logš
 ();

850 #ià
defšed
 
__USE_REENTRANT
 || defšed 
__USE_POSIX199506


857 
	$g‘logš_r
 (*
__Çme
, 
size_t
 
__Çme_Ën
è
	`__nÚnuÎ
 ((1));

860 #ifdef 
__USE_MISC


862 
	$£ogš
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

866 #ifdef 
__USE_POSIX2


870 
	#__Ãed_g‘İt


	)

871 
	~<g‘İt.h
>

875 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


879 
	$g‘ho¡Çme
 (*
__Çme
, 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((1));

883 #ià
defšed
 
__USE_MISC


886 
	$£tho¡Çme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

887 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

891 
	$£tho¡id
 (
__id
è
__THROW
 
__wur
;

897 
	$g‘domašÇme
 (*
__Çme
, 
size_t
 
__Ën
)

898 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

899 
	$£tdomašÇme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

900 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

906 
	$vhªgup
 (è
__THROW
;

909 
	$»voke
 (cÚ¡ *
__fe
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

917 
	$´of
 (*
__§m¶e_bufãr
, 
size_t
 
__size
,

918 
size_t
 
__off£t
, 
__sÿË
)

919 
__THROW
 
	`__nÚnuÎ
 ((1));

925 
	$acù
 (cÚ¡ *
__Çme
è
__THROW
;

929 *
	$g‘u£rsh–l
 (è
__THROW
;

930 
	$’du£rsh–l
 (è
__THROW
;

931 
	$£tu£rsh–l
 (è
__THROW
;

937 
	$d«mÚ
 (
__nochdœ
, 
__noşo£
è
__THROW
 
__wur
;

941 #ià
defšed
 
__USE_MISC
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

944 
	$chroÙ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

948 *
	$g‘·ss
 (cÚ¡ *
__´om±
è
	`__nÚnuÎ
 ((1));

956 
	`fsync
 (
__fd
);

959 #ifdeà
__USE_GNU


962 
	$syncfs
 (
__fd
è
__THROW
;

966 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


969 
	`g‘ho¡id
 ();

972 
	$sync
 (è
__THROW
;

975 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K


978 
	$g‘·gesize
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

983 
	$g‘dbËsize
 (è
__THROW
;

989 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


992 #iâdeà
__USE_FILE_OFFSET64


993 
	$Œunÿ‹
 (cÚ¡ *
__fe
, 
__off_t
 
__Ëngth
)

994 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

996 #ifdeà
__REDIRECT_NTH


997 
	`__REDIRECT_NTH
 (
Œunÿ‹
,

998 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
),

999 
Œunÿ‹64
è
	`__nÚnuÎ
 ((1)è
__wur
;

1001 
	#Œunÿ‹
 
Œunÿ‹64


	)

1004 #ifdeà
__USE_LARGEFILE64


1005 
	$Œunÿ‹64
 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
)

1006 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1011 #ià
defšed
 
__USE_POSIX199309
 \

1012 || 
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


1015 #iâdeà
__USE_FILE_OFFSET64


1016 
	$árunÿ‹
 (
__fd
, 
__off_t
 
__Ëngth
è
__THROW
 
__wur
;

1018 #ifdeà
__REDIRECT_NTH


1019 
	`__REDIRECT_NTH
 (
árunÿ‹
, (
__fd
, 
__off64_t
 
__Ëngth
),

1020 
árunÿ‹64
è
__wur
;

1022 
	#árunÿ‹
 
árunÿ‹64


	)

1025 #ifdeà
__USE_LARGEFILE64


1026 
	$árunÿ‹64
 (
__fd
, 
__off64_t
 
__Ëngth
è
__THROW
 
__wur
;

1032 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

1033 || 
defšed
 
__USE_MISC


1037 
	$brk
 (*
__addr
è
__THROW
 
__wur
;

1043 *
	$sbrk
 (
šŒ_t
 
__d–
è
__THROW
;

1047 #ifdeà
__USE_MISC


1058 
	$sysÿÎ
 (
__sy¢o
, ...è
__THROW
;

1063 #ià(
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
è&& !defšed 
F_LOCK


1075 
	#F_ULOCK
 0

	)

1076 
	#F_LOCK
 1

	)

1077 
	#F_TLOCK
 2

	)

1078 
	#F_TEST
 3

	)

1080 #iâdeà
__USE_FILE_OFFSET64


1081 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Ën
è
__wur
;

1083 #ifdeà
__REDIRECT


1084 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
),

1085 
lockf64
è
__wur
;

1087 
	#lockf
 
lockf64


	)

1090 #ifdeà
__USE_LARGEFILE64


1091 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
è
__wur
;

1096 #ifdeà
__USE_GNU


1101 
	#TEMP_FAILURE_RETRY
(
ex´essiÚ
) \

1102 (
__ex‹nsiÚ__
 \

1103 ({ 
__»suÉ
; \

1104 dØ
__»suÉ
 = (è(
ex´essiÚ
); \

1105 
__»suÉ
 =ğ-1L && 
”ºo
 =ğ
EINTR
); \

1106 
__»suÉ
; 
	}
}))

	)

1109 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_UNIX98


1112 
fd©async
 (
__fdes
);

1118 #ifdef 
__USE_XOPEN


1120 *
	$üy±
 (cÚ¡ *
__key
, cÚ¡ *
__§É
)

1121 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1125 
	$’üy±
 (*
__glibc_block
, 
__edæag
)

1126 
__THROW
 
	`__nÚnuÎ
 ((1));

1133 
	$swab
 (cÚ¡ *
__»¡riù
 
__äom
, *__»¡riù 
__to
,

1134 
ssize_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1140 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K


1142 *
	$ù”mid
 (*
__s
è
__THROW
;

1147 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1148 
	~<b™s/uni¡d.h
>

1151 
__END_DECLS


	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/bits/cmathcalls.h

43 #iâdeà
_COMPLEX_H


47 
	#_MdoubË_com¶ex_
 
_MdoubË_
 
_Com¶ex


	)

53 
__MATHCALL
 (
ÿcos
, (
_MdoubË_com¶ex_
 
__z
));

55 
__MATHCALL
 (
ÿsš
, (
_MdoubË_com¶ex_
 
__z
));

57 
__MATHCALL
 (
ÿn
, (
_MdoubË_com¶ex_
 
__z
));

60 
__MATHCALL
 (
ccos
, (
_MdoubË_com¶ex_
 
__z
));

62 
__MATHCALL
 (
csš
, (
_MdoubË_com¶ex_
 
__z
));

64 
__MATHCALL
 (
ùª
, (
_MdoubË_com¶ex_
 
__z
));

70 
__MATHCALL
 (
ÿcosh
, (
_MdoubË_com¶ex_
 
__z
));

72 
__MATHCALL
 (
ÿsšh
, (
_MdoubË_com¶ex_
 
__z
));

74 
__MATHCALL
 (
ÿnh
, (
_MdoubË_com¶ex_
 
__z
));

77 
__MATHCALL
 (
ccosh
, (
_MdoubË_com¶ex_
 
__z
));

79 
__MATHCALL
 (
csšh
, (
_MdoubË_com¶ex_
 
__z
));

81 
__MATHCALL
 (
ùªh
, (
_MdoubË_com¶ex_
 
__z
));

87 
__MATHCALL
 (
ûxp
, (
_MdoubË_com¶ex_
 
__z
));

90 
__MATHCALL
 (
şog
, (
_MdoubË_com¶ex_
 
__z
));

92 #ifdeà
__USE_GNU


95 
__MATHCALL
 (
şog10
, (
_MdoubË_com¶ex_
 
__z
));

101 
__MATHCALL
 (
ıow
, (
_MdoubË_com¶ex_
 
__x
, _MdoubË_com¶ex_ 
__y
));

104 
__MATHCALL
 (
csq¹
, (
_MdoubË_com¶ex_
 
__z
));

110 
__MATHDECL
 (
_MdoubË_
,
ÿbs
, (
_MdoubË_com¶ex_
 
__z
));

113 
__MATHDECL
 (
_MdoubË_
,
ÿrg
, (
_MdoubË_com¶ex_
 
__z
));

116 
__MATHCALL
 (
cÚj
, (
_MdoubË_com¶ex_
 
__z
));

119 
__MATHCALL
 (
ıroj
, (
_MdoubË_com¶ex_
 
__z
));

125 
__MATHDECL
 (
_MdoubË_
,
cimag
, (
_MdoubË_com¶ex_
 
__z
));

128 
__MATHDECL
 (
_MdoubË_
,
ü—l
, (
_MdoubË_com¶ex_
 
__z
));

134 #ià
defšed
 
__GNUC__
 && !
__GNUC_PREREQ
 (2, 97è&& defšed 
__OPTIMIZE__
 \

135 && 
defšed
 
__ex‹º_šlše


138 
__ex‹º_šlše
 
_MdoubË_


139 
	$__MATH_PRECNAME
(
cimag
è(
_MdoubË_com¶ex_
 
__z
è
__THROW


141  
__imag__
 
__z
;

142 
	}
}

145 
__ex‹º_šlše
 
_MdoubË_


146 
	$__MATH_PRECNAME
(
ü—l
è(
_MdoubË_com¶ex_
 
__z
è
__THROW


148  
__»®__
 
__z
;

149 
	}
}

152 
__ex‹º_šlše
 
_MdoubË_com¶ex_


153 
	$__MATH_PRECNAME
(
cÚj
è(
_MdoubË_com¶ex_
 
__z
è
__THROW


155  
__ex‹nsiÚ__
 ~
__z
;

156 
	}
}

	@/usr/include/bits/confname.h

19 #iâdeà
_UNISTD_H


26 
	m_PC_LINK_MAX
,

27 
	#_PC_LINK_MAX
 
_PC_LINK_MAX


	)

28 
	m_PC_MAX_CANON
,

29 
	#_PC_MAX_CANON
 
_PC_MAX_CANON


	)

30 
	m_PC_MAX_INPUT
,

31 
	#_PC_MAX_INPUT
 
_PC_MAX_INPUT


	)

32 
	m_PC_NAME_MAX
,

33 
	#_PC_NAME_MAX
 
_PC_NAME_MAX


	)

34 
	m_PC_PATH_MAX
,

35 
	#_PC_PATH_MAX
 
_PC_PATH_MAX


	)

36 
	m_PC_PIPE_BUF
,

37 
	#_PC_PIPE_BUF
 
_PC_PIPE_BUF


	)

38 
	m_PC_CHOWN_RESTRICTED
,

39 
	#_PC_CHOWN_RESTRICTED
 
_PC_CHOWN_RESTRICTED


	)

40 
	m_PC_NO_TRUNC
,

41 
	#_PC_NO_TRUNC
 
_PC_NO_TRUNC


	)

42 
	m_PC_VDISABLE
,

43 
	#_PC_VDISABLE
 
_PC_VDISABLE


	)

44 
	m_PC_SYNC_IO
,

45 
	#_PC_SYNC_IO
 
_PC_SYNC_IO


	)

46 
	m_PC_ASYNC_IO
,

47 
	#_PC_ASYNC_IO
 
_PC_ASYNC_IO


	)

48 
	m_PC_PRIO_IO
,

49 
	#_PC_PRIO_IO
 
_PC_PRIO_IO


	)

50 
	m_PC_SOCK_MAXBUF
,

51 
	#_PC_SOCK_MAXBUF
 
_PC_SOCK_MAXBUF


	)

52 
	m_PC_FILESIZEBITS
,

53 
	#_PC_FILESIZEBITS
 
_PC_FILESIZEBITS


	)

54 
	m_PC_REC_INCR_XFER_SIZE
,

55 
	#_PC_REC_INCR_XFER_SIZE
 
_PC_REC_INCR_XFER_SIZE


	)

56 
	m_PC_REC_MAX_XFER_SIZE
,

57 
	#_PC_REC_MAX_XFER_SIZE
 
_PC_REC_MAX_XFER_SIZE


	)

58 
	m_PC_REC_MIN_XFER_SIZE
,

59 
	#_PC_REC_MIN_XFER_SIZE
 
_PC_REC_MIN_XFER_SIZE


	)

60 
	m_PC_REC_XFER_ALIGN
,

61 
	#_PC_REC_XFER_ALIGN
 
_PC_REC_XFER_ALIGN


	)

62 
	m_PC_ALLOC_SIZE_MIN
,

63 
	#_PC_ALLOC_SIZE_MIN
 
_PC_ALLOC_SIZE_MIN


	)

64 
	m_PC_SYMLINK_MAX
,

65 
	#_PC_SYMLINK_MAX
 
_PC_SYMLINK_MAX


	)

66 
	m_PC_2_SYMLINKS


67 
	#_PC_2_SYMLINKS
 
_PC_2_SYMLINKS


	)

73 
	m_SC_ARG_MAX
,

74 
	#_SC_ARG_MAX
 
_SC_ARG_MAX


	)

75 
	m_SC_CHILD_MAX
,

76 
	#_SC_CHILD_MAX
 
_SC_CHILD_MAX


	)

77 
	m_SC_CLK_TCK
,

78 
	#_SC_CLK_TCK
 
_SC_CLK_TCK


	)

79 
	m_SC_NGROUPS_MAX
,

80 
	#_SC_NGROUPS_MAX
 
_SC_NGROUPS_MAX


	)

81 
	m_SC_OPEN_MAX
,

82 
	#_SC_OPEN_MAX
 
_SC_OPEN_MAX


	)

83 
	m_SC_STREAM_MAX
,

84 
	#_SC_STREAM_MAX
 
_SC_STREAM_MAX


	)

85 
	m_SC_TZNAME_MAX
,

86 
	#_SC_TZNAME_MAX
 
_SC_TZNAME_MAX


	)

87 
	m_SC_JOB_CONTROL
,

88 
	#_SC_JOB_CONTROL
 
_SC_JOB_CONTROL


	)

89 
	m_SC_SAVED_IDS
,

90 
	#_SC_SAVED_IDS
 
_SC_SAVED_IDS


	)

91 
	m_SC_REALTIME_SIGNALS
,

92 
	#_SC_REALTIME_SIGNALS
 
_SC_REALTIME_SIGNALS


	)

93 
	m_SC_PRIORITY_SCHEDULING
,

94 
	#_SC_PRIORITY_SCHEDULING
 
_SC_PRIORITY_SCHEDULING


	)

95 
	m_SC_TIMERS
,

96 
	#_SC_TIMERS
 
_SC_TIMERS


	)

97 
	m_SC_ASYNCHRONOUS_IO
,

98 
	#_SC_ASYNCHRONOUS_IO
 
_SC_ASYNCHRONOUS_IO


	)

99 
	m_SC_PRIORITIZED_IO
,

100 
	#_SC_PRIORITIZED_IO
 
_SC_PRIORITIZED_IO


	)

101 
	m_SC_SYNCHRONIZED_IO
,

102 
	#_SC_SYNCHRONIZED_IO
 
_SC_SYNCHRONIZED_IO


	)

103 
	m_SC_FSYNC
,

104 
	#_SC_FSYNC
 
_SC_FSYNC


	)

105 
	m_SC_MAPPED_FILES
,

106 
	#_SC_MAPPED_FILES
 
_SC_MAPPED_FILES


	)

107 
	m_SC_MEMLOCK
,

108 
	#_SC_MEMLOCK
 
_SC_MEMLOCK


	)

109 
	m_SC_MEMLOCK_RANGE
,

110 
	#_SC_MEMLOCK_RANGE
 
_SC_MEMLOCK_RANGE


	)

111 
	m_SC_MEMORY_PROTECTION
,

112 
	#_SC_MEMORY_PROTECTION
 
_SC_MEMORY_PROTECTION


	)

113 
	m_SC_MESSAGE_PASSING
,

114 
	#_SC_MESSAGE_PASSING
 
_SC_MESSAGE_PASSING


	)

115 
	m_SC_SEMAPHORES
,

116 
	#_SC_SEMAPHORES
 
_SC_SEMAPHORES


	)

117 
	m_SC_SHARED_MEMORY_OBJECTS
,

118 
	#_SC_SHARED_MEMORY_OBJECTS
 
_SC_SHARED_MEMORY_OBJECTS


	)

119 
	m_SC_AIO_LISTIO_MAX
,

120 
	#_SC_AIO_LISTIO_MAX
 
_SC_AIO_LISTIO_MAX


	)

121 
	m_SC_AIO_MAX
,

122 
	#_SC_AIO_MAX
 
_SC_AIO_MAX


	)

123 
	m_SC_AIO_PRIO_DELTA_MAX
,

124 
	#_SC_AIO_PRIO_DELTA_MAX
 
_SC_AIO_PRIO_DELTA_MAX


	)

125 
	m_SC_DELAYTIMER_MAX
,

126 
	#_SC_DELAYTIMER_MAX
 
_SC_DELAYTIMER_MAX


	)

127 
	m_SC_MQ_OPEN_MAX
,

128 
	#_SC_MQ_OPEN_MAX
 
_SC_MQ_OPEN_MAX


	)

129 
	m_SC_MQ_PRIO_MAX
,

130 
	#_SC_MQ_PRIO_MAX
 
_SC_MQ_PRIO_MAX


	)

131 
	m_SC_VERSION
,

132 
	#_SC_VERSION
 
_SC_VERSION


	)

133 
	m_SC_PAGESIZE
,

134 
	#_SC_PAGESIZE
 
_SC_PAGESIZE


	)

135 
	#_SC_PAGE_SIZE
 
_SC_PAGESIZE


	)

136 
	m_SC_RTSIG_MAX
,

137 
	#_SC_RTSIG_MAX
 
_SC_RTSIG_MAX


	)

138 
	m_SC_SEM_NSEMS_MAX
,

139 
	#_SC_SEM_NSEMS_MAX
 
_SC_SEM_NSEMS_MAX


	)

140 
	m_SC_SEM_VALUE_MAX
,

141 
	#_SC_SEM_VALUE_MAX
 
_SC_SEM_VALUE_MAX


	)

142 
	m_SC_SIGQUEUE_MAX
,

143 
	#_SC_SIGQUEUE_MAX
 
_SC_SIGQUEUE_MAX


	)

144 
	m_SC_TIMER_MAX
,

145 
	#_SC_TIMER_MAX
 
_SC_TIMER_MAX


	)

149 
	m_SC_BC_BASE_MAX
,

150 
	#_SC_BC_BASE_MAX
 
_SC_BC_BASE_MAX


	)

151 
	m_SC_BC_DIM_MAX
,

152 
	#_SC_BC_DIM_MAX
 
_SC_BC_DIM_MAX


	)

153 
	m_SC_BC_SCALE_MAX
,

154 
	#_SC_BC_SCALE_MAX
 
_SC_BC_SCALE_MAX


	)

155 
	m_SC_BC_STRING_MAX
,

156 
	#_SC_BC_STRING_MAX
 
_SC_BC_STRING_MAX


	)

157 
	m_SC_COLL_WEIGHTS_MAX
,

158 
	#_SC_COLL_WEIGHTS_MAX
 
_SC_COLL_WEIGHTS_MAX


	)

159 
	m_SC_EQUIV_CLASS_MAX
,

160 
	#_SC_EQUIV_CLASS_MAX
 
_SC_EQUIV_CLASS_MAX


	)

161 
	m_SC_EXPR_NEST_MAX
,

162 
	#_SC_EXPR_NEST_MAX
 
_SC_EXPR_NEST_MAX


	)

163 
	m_SC_LINE_MAX
,

164 
	#_SC_LINE_MAX
 
_SC_LINE_MAX


	)

165 
	m_SC_RE_DUP_MAX
,

166 
	#_SC_RE_DUP_MAX
 
_SC_RE_DUP_MAX


	)

167 
	m_SC_CHARCLASS_NAME_MAX
,

168 
	#_SC_CHARCLASS_NAME_MAX
 
_SC_CHARCLASS_NAME_MAX


	)

170 
	m_SC_2_VERSION
,

171 
	#_SC_2_VERSION
 
_SC_2_VERSION


	)

172 
	m_SC_2_C_BIND
,

173 
	#_SC_2_C_BIND
 
_SC_2_C_BIND


	)

174 
	m_SC_2_C_DEV
,

175 
	#_SC_2_C_DEV
 
_SC_2_C_DEV


	)

176 
	m_SC_2_FORT_DEV
,

177 
	#_SC_2_FORT_DEV
 
_SC_2_FORT_DEV


	)

178 
	m_SC_2_FORT_RUN
,

179 
	#_SC_2_FORT_RUN
 
_SC_2_FORT_RUN


	)

180 
	m_SC_2_SW_DEV
,

181 
	#_SC_2_SW_DEV
 
_SC_2_SW_DEV


	)

182 
	m_SC_2_LOCALEDEF
,

183 
	#_SC_2_LOCALEDEF
 
_SC_2_LOCALEDEF


	)

185 
	m_SC_PII
,

186 
	#_SC_PII
 
_SC_PII


	)

187 
	m_SC_PII_XTI
,

188 
	#_SC_PII_XTI
 
_SC_PII_XTI


	)

189 
	m_SC_PII_SOCKET
,

190 
	#_SC_PII_SOCKET
 
_SC_PII_SOCKET


	)

191 
	m_SC_PII_INTERNET
,

192 
	#_SC_PII_INTERNET
 
_SC_PII_INTERNET


	)

193 
	m_SC_PII_OSI
,

194 
	#_SC_PII_OSI
 
_SC_PII_OSI


	)

195 
	m_SC_POLL
,

196 
	#_SC_POLL
 
_SC_POLL


	)

197 
	m_SC_SELECT
,

198 
	#_SC_SELECT
 
_SC_SELECT


	)

199 
	m_SC_UIO_MAXIOV
,

200 
	#_SC_UIO_MAXIOV
 
_SC_UIO_MAXIOV


	)

201 
	m_SC_IOV_MAX
 = 
_SC_UIO_MAXIOV
,

202 
	#_SC_IOV_MAX
 
_SC_IOV_MAX


	)

203 
	m_SC_PII_INTERNET_STREAM
,

204 
	#_SC_PII_INTERNET_STREAM
 
_SC_PII_INTERNET_STREAM


	)

205 
	m_SC_PII_INTERNET_DGRAM
,

206 
	#_SC_PII_INTERNET_DGRAM
 
_SC_PII_INTERNET_DGRAM


	)

207 
	m_SC_PII_OSI_COTS
,

208 
	#_SC_PII_OSI_COTS
 
_SC_PII_OSI_COTS


	)

209 
	m_SC_PII_OSI_CLTS
,

210 
	#_SC_PII_OSI_CLTS
 
_SC_PII_OSI_CLTS


	)

211 
	m_SC_PII_OSI_M
,

212 
	#_SC_PII_OSI_M
 
_SC_PII_OSI_M


	)

213 
	m_SC_T_IOV_MAX
,

214 
	#_SC_T_IOV_MAX
 
_SC_T_IOV_MAX


	)

217 
	m_SC_THREADS
,

218 
	#_SC_THREADS
 
_SC_THREADS


	)

219 
	m_SC_THREAD_SAFE_FUNCTIONS
,

220 
	#_SC_THREAD_SAFE_FUNCTIONS
 
_SC_THREAD_SAFE_FUNCTIONS


	)

221 
	m_SC_GETGR_R_SIZE_MAX
,

222 
	#_SC_GETGR_R_SIZE_MAX
 
_SC_GETGR_R_SIZE_MAX


	)

223 
	m_SC_GETPW_R_SIZE_MAX
,

224 
	#_SC_GETPW_R_SIZE_MAX
 
_SC_GETPW_R_SIZE_MAX


	)

225 
	m_SC_LOGIN_NAME_MAX
,

226 
	#_SC_LOGIN_NAME_MAX
 
_SC_LOGIN_NAME_MAX


	)

227 
	m_SC_TTY_NAME_MAX
,

228 
	#_SC_TTY_NAME_MAX
 
_SC_TTY_NAME_MAX


	)

229 
	m_SC_THREAD_DESTRUCTOR_ITERATIONS
,

230 
	#_SC_THREAD_DESTRUCTOR_ITERATIONS
 
_SC_THREAD_DESTRUCTOR_ITERATIONS


	)

231 
	m_SC_THREAD_KEYS_MAX
,

232 
	#_SC_THREAD_KEYS_MAX
 
_SC_THREAD_KEYS_MAX


	)

233 
	m_SC_THREAD_STACK_MIN
,

234 
	#_SC_THREAD_STACK_MIN
 
_SC_THREAD_STACK_MIN


	)

235 
	m_SC_THREAD_THREADS_MAX
,

236 
	#_SC_THREAD_THREADS_MAX
 
_SC_THREAD_THREADS_MAX


	)

237 
	m_SC_THREAD_ATTR_STACKADDR
,

238 
	#_SC_THREAD_ATTR_STACKADDR
 
_SC_THREAD_ATTR_STACKADDR


	)

239 
	m_SC_THREAD_ATTR_STACKSIZE
,

240 
	#_SC_THREAD_ATTR_STACKSIZE
 
_SC_THREAD_ATTR_STACKSIZE


	)

241 
	m_SC_THREAD_PRIORITY_SCHEDULING
,

242 
	#_SC_THREAD_PRIORITY_SCHEDULING
 
_SC_THREAD_PRIORITY_SCHEDULING


	)

243 
	m_SC_THREAD_PRIO_INHERIT
,

244 
	#_SC_THREAD_PRIO_INHERIT
 
_SC_THREAD_PRIO_INHERIT


	)

245 
	m_SC_THREAD_PRIO_PROTECT
,

246 
	#_SC_THREAD_PRIO_PROTECT
 
_SC_THREAD_PRIO_PROTECT


	)

247 
	m_SC_THREAD_PROCESS_SHARED
,

248 
	#_SC_THREAD_PROCESS_SHARED
 
_SC_THREAD_PROCESS_SHARED


	)

250 
	m_SC_NPROCESSORS_CONF
,

251 
	#_SC_NPROCESSORS_CONF
 
_SC_NPROCESSORS_CONF


	)

252 
	m_SC_NPROCESSORS_ONLN
,

253 
	#_SC_NPROCESSORS_ONLN
 
_SC_NPROCESSORS_ONLN


	)

254 
	m_SC_PHYS_PAGES
,

255 
	#_SC_PHYS_PAGES
 
_SC_PHYS_PAGES


	)

256 
	m_SC_AVPHYS_PAGES
,

257 
	#_SC_AVPHYS_PAGES
 
_SC_AVPHYS_PAGES


	)

258 
	m_SC_ATEXIT_MAX
,

259 
	#_SC_ATEXIT_MAX
 
_SC_ATEXIT_MAX


	)

260 
	m_SC_PASS_MAX
,

261 
	#_SC_PASS_MAX
 
_SC_PASS_MAX


	)

263 
	m_SC_XOPEN_VERSION
,

264 
	#_SC_XOPEN_VERSION
 
_SC_XOPEN_VERSION


	)

265 
	m_SC_XOPEN_XCU_VERSION
,

266 
	#_SC_XOPEN_XCU_VERSION
 
_SC_XOPEN_XCU_VERSION


	)

267 
	m_SC_XOPEN_UNIX
,

268 
	#_SC_XOPEN_UNIX
 
_SC_XOPEN_UNIX


	)

269 
	m_SC_XOPEN_CRYPT
,

270 
	#_SC_XOPEN_CRYPT
 
_SC_XOPEN_CRYPT


	)

271 
	m_SC_XOPEN_ENH_I18N
,

272 
	#_SC_XOPEN_ENH_I18N
 
_SC_XOPEN_ENH_I18N


	)

273 
	m_SC_XOPEN_SHM
,

274 
	#_SC_XOPEN_SHM
 
_SC_XOPEN_SHM


	)

276 
	m_SC_2_CHAR_TERM
,

277 
	#_SC_2_CHAR_TERM
 
_SC_2_CHAR_TERM


	)

278 
	m_SC_2_C_VERSION
,

279 
	#_SC_2_C_VERSION
 
_SC_2_C_VERSION


	)

280 
	m_SC_2_UPE
,

281 
	#_SC_2_UPE
 
_SC_2_UPE


	)

283 
	m_SC_XOPEN_XPG2
,

284 
	#_SC_XOPEN_XPG2
 
_SC_XOPEN_XPG2


	)

285 
	m_SC_XOPEN_XPG3
,

286 
	#_SC_XOPEN_XPG3
 
_SC_XOPEN_XPG3


	)

287 
	m_SC_XOPEN_XPG4
,

288 
	#_SC_XOPEN_XPG4
 
_SC_XOPEN_XPG4


	)

290 
	m_SC_CHAR_BIT
,

291 
	#_SC_CHAR_BIT
 
_SC_CHAR_BIT


	)

292 
	m_SC_CHAR_MAX
,

293 
	#_SC_CHAR_MAX
 
_SC_CHAR_MAX


	)

294 
	m_SC_CHAR_MIN
,

295 
	#_SC_CHAR_MIN
 
_SC_CHAR_MIN


	)

296 
	m_SC_INT_MAX
,

297 
	#_SC_INT_MAX
 
_SC_INT_MAX


	)

298 
	m_SC_INT_MIN
,

299 
	#_SC_INT_MIN
 
_SC_INT_MIN


	)

300 
	m_SC_LONG_BIT
,

301 
	#_SC_LONG_BIT
 
_SC_LONG_BIT


	)

302 
	m_SC_WORD_BIT
,

303 
	#_SC_WORD_BIT
 
_SC_WORD_BIT


	)

304 
	m_SC_MB_LEN_MAX
,

305 
	#_SC_MB_LEN_MAX
 
_SC_MB_LEN_MAX


	)

306 
	m_SC_NZERO
,

307 
	#_SC_NZERO
 
_SC_NZERO


	)

308 
	m_SC_SSIZE_MAX
,

309 
	#_SC_SSIZE_MAX
 
_SC_SSIZE_MAX


	)

310 
	m_SC_SCHAR_MAX
,

311 
	#_SC_SCHAR_MAX
 
_SC_SCHAR_MAX


	)

312 
	m_SC_SCHAR_MIN
,

313 
	#_SC_SCHAR_MIN
 
_SC_SCHAR_MIN


	)

314 
	m_SC_SHRT_MAX
,

315 
	#_SC_SHRT_MAX
 
_SC_SHRT_MAX


	)

316 
	m_SC_SHRT_MIN
,

317 
	#_SC_SHRT_MIN
 
_SC_SHRT_MIN


	)

318 
	m_SC_UCHAR_MAX
,

319 
	#_SC_UCHAR_MAX
 
_SC_UCHAR_MAX


	)

320 
	m_SC_UINT_MAX
,

321 
	#_SC_UINT_MAX
 
_SC_UINT_MAX


	)

322 
	m_SC_ULONG_MAX
,

323 
	#_SC_ULONG_MAX
 
_SC_ULONG_MAX


	)

324 
	m_SC_USHRT_MAX
,

325 
	#_SC_USHRT_MAX
 
_SC_USHRT_MAX


	)

327 
	m_SC_NL_ARGMAX
,

328 
	#_SC_NL_ARGMAX
 
_SC_NL_ARGMAX


	)

329 
	m_SC_NL_LANGMAX
,

330 
	#_SC_NL_LANGMAX
 
_SC_NL_LANGMAX


	)

331 
	m_SC_NL_MSGMAX
,

332 
	#_SC_NL_MSGMAX
 
_SC_NL_MSGMAX


	)

333 
	m_SC_NL_NMAX
,

334 
	#_SC_NL_NMAX
 
_SC_NL_NMAX


	)

335 
	m_SC_NL_SETMAX
,

336 
	#_SC_NL_SETMAX
 
_SC_NL_SETMAX


	)

337 
	m_SC_NL_TEXTMAX
,

338 
	#_SC_NL_TEXTMAX
 
_SC_NL_TEXTMAX


	)

340 
	m_SC_XBS5_ILP32_OFF32
,

341 
	#_SC_XBS5_ILP32_OFF32
 
_SC_XBS5_ILP32_OFF32


	)

342 
	m_SC_XBS5_ILP32_OFFBIG
,

343 
	#_SC_XBS5_ILP32_OFFBIG
 
_SC_XBS5_ILP32_OFFBIG


	)

344 
	m_SC_XBS5_LP64_OFF64
,

345 
	#_SC_XBS5_LP64_OFF64
 
_SC_XBS5_LP64_OFF64


	)

346 
	m_SC_XBS5_LPBIG_OFFBIG
,

347 
	#_SC_XBS5_LPBIG_OFFBIG
 
_SC_XBS5_LPBIG_OFFBIG


	)

349 
	m_SC_XOPEN_LEGACY
,

350 
	#_SC_XOPEN_LEGACY
 
_SC_XOPEN_LEGACY


	)

351 
	m_SC_XOPEN_REALTIME
,

352 
	#_SC_XOPEN_REALTIME
 
_SC_XOPEN_REALTIME


	)

353 
	m_SC_XOPEN_REALTIME_THREADS
,

354 
	#_SC_XOPEN_REALTIME_THREADS
 
_SC_XOPEN_REALTIME_THREADS


	)

356 
	m_SC_ADVISORY_INFO
,

357 
	#_SC_ADVISORY_INFO
 
_SC_ADVISORY_INFO


	)

358 
	m_SC_BARRIERS
,

359 
	#_SC_BARRIERS
 
_SC_BARRIERS


	)

360 
	m_SC_BASE
,

361 
	#_SC_BASE
 
_SC_BASE


	)

362 
	m_SC_C_LANG_SUPPORT
,

363 
	#_SC_C_LANG_SUPPORT
 
_SC_C_LANG_SUPPORT


	)

364 
	m_SC_C_LANG_SUPPORT_R
,

365 
	#_SC_C_LANG_SUPPORT_R
 
_SC_C_LANG_SUPPORT_R


	)

366 
	m_SC_CLOCK_SELECTION
,

367 
	#_SC_CLOCK_SELECTION
 
_SC_CLOCK_SELECTION


	)

368 
	m_SC_CPUTIME
,

369 
	#_SC_CPUTIME
 
_SC_CPUTIME


	)

370 
	m_SC_THREAD_CPUTIME
,

371 
	#_SC_THREAD_CPUTIME
 
_SC_THREAD_CPUTIME


	)

372 
	m_SC_DEVICE_IO
,

373 
	#_SC_DEVICE_IO
 
_SC_DEVICE_IO


	)

374 
	m_SC_DEVICE_SPECIFIC
,

375 
	#_SC_DEVICE_SPECIFIC
 
_SC_DEVICE_SPECIFIC


	)

376 
	m_SC_DEVICE_SPECIFIC_R
,

377 
	#_SC_DEVICE_SPECIFIC_R
 
_SC_DEVICE_SPECIFIC_R


	)

378 
	m_SC_FD_MGMT
,

379 
	#_SC_FD_MGMT
 
_SC_FD_MGMT


	)

380 
	m_SC_FIFO
,

381 
	#_SC_FIFO
 
_SC_FIFO


	)

382 
	m_SC_PIPE
,

383 
	#_SC_PIPE
 
_SC_PIPE


	)

384 
	m_SC_FILE_ATTRIBUTES
,

385 
	#_SC_FILE_ATTRIBUTES
 
_SC_FILE_ATTRIBUTES


	)

386 
	m_SC_FILE_LOCKING
,

387 
	#_SC_FILE_LOCKING
 
_SC_FILE_LOCKING


	)

388 
	m_SC_FILE_SYSTEM
,

389 
	#_SC_FILE_SYSTEM
 
_SC_FILE_SYSTEM


	)

390 
	m_SC_MONOTONIC_CLOCK
,

391 
	#_SC_MONOTONIC_CLOCK
 
_SC_MONOTONIC_CLOCK


	)

392 
	m_SC_MULTI_PROCESS
,

393 
	#_SC_MULTI_PROCESS
 
_SC_MULTI_PROCESS


	)

394 
	m_SC_SINGLE_PROCESS
,

395 
	#_SC_SINGLE_PROCESS
 
_SC_SINGLE_PROCESS


	)

396 
	m_SC_NETWORKING
,

397 
	#_SC_NETWORKING
 
_SC_NETWORKING


	)

398 
	m_SC_READER_WRITER_LOCKS
,

399 
	#_SC_READER_WRITER_LOCKS
 
_SC_READER_WRITER_LOCKS


	)

400 
	m_SC_SPIN_LOCKS
,

401 
	#_SC_SPIN_LOCKS
 
_SC_SPIN_LOCKS


	)

402 
	m_SC_REGEXP
,

403 
	#_SC_REGEXP
 
_SC_REGEXP


	)

404 
	m_SC_REGEX_VERSION
,

405 
	#_SC_REGEX_VERSION
 
_SC_REGEX_VERSION


	)

406 
	m_SC_SHELL
,

407 
	#_SC_SHELL
 
_SC_SHELL


	)

408 
	m_SC_SIGNALS
,

409 
	#_SC_SIGNALS
 
_SC_SIGNALS


	)

410 
	m_SC_SPAWN
,

411 
	#_SC_SPAWN
 
_SC_SPAWN


	)

412 
	m_SC_SPORADIC_SERVER
,

413 
	#_SC_SPORADIC_SERVER
 
_SC_SPORADIC_SERVER


	)

414 
	m_SC_THREAD_SPORADIC_SERVER
,

415 
	#_SC_THREAD_SPORADIC_SERVER
 
_SC_THREAD_SPORADIC_SERVER


	)

416 
	m_SC_SYSTEM_DATABASE
,

417 
	#_SC_SYSTEM_DATABASE
 
_SC_SYSTEM_DATABASE


	)

418 
	m_SC_SYSTEM_DATABASE_R
,

419 
	#_SC_SYSTEM_DATABASE_R
 
_SC_SYSTEM_DATABASE_R


	)

420 
	m_SC_TIMEOUTS
,

421 
	#_SC_TIMEOUTS
 
_SC_TIMEOUTS


	)

422 
	m_SC_TYPED_MEMORY_OBJECTS
,

423 
	#_SC_TYPED_MEMORY_OBJECTS
 
_SC_TYPED_MEMORY_OBJECTS


	)

424 
	m_SC_USER_GROUPS
,

425 
	#_SC_USER_GROUPS
 
_SC_USER_GROUPS


	)

426 
	m_SC_USER_GROUPS_R
,

427 
	#_SC_USER_GROUPS_R
 
_SC_USER_GROUPS_R


	)

428 
	m_SC_2_PBS
,

429 
	#_SC_2_PBS
 
_SC_2_PBS


	)

430 
	m_SC_2_PBS_ACCOUNTING
,

431 
	#_SC_2_PBS_ACCOUNTING
 
_SC_2_PBS_ACCOUNTING


	)

432 
	m_SC_2_PBS_LOCATE
,

433 
	#_SC_2_PBS_LOCATE
 
_SC_2_PBS_LOCATE


	)

434 
	m_SC_2_PBS_MESSAGE
,

435 
	#_SC_2_PBS_MESSAGE
 
_SC_2_PBS_MESSAGE


	)

436 
	m_SC_2_PBS_TRACK
,

437 
	#_SC_2_PBS_TRACK
 
_SC_2_PBS_TRACK


	)

438 
	m_SC_SYMLOOP_MAX
,

439 
	#_SC_SYMLOOP_MAX
 
_SC_SYMLOOP_MAX


	)

440 
	m_SC_STREAMS
,

441 
	#_SC_STREAMS
 
_SC_STREAMS


	)

442 
	m_SC_2_PBS_CHECKPOINT
,

443 
	#_SC_2_PBS_CHECKPOINT
 
_SC_2_PBS_CHECKPOINT


	)

445 
	m_SC_V6_ILP32_OFF32
,

446 
	#_SC_V6_ILP32_OFF32
 
_SC_V6_ILP32_OFF32


	)

447 
	m_SC_V6_ILP32_OFFBIG
,

448 
	#_SC_V6_ILP32_OFFBIG
 
_SC_V6_ILP32_OFFBIG


	)

449 
	m_SC_V6_LP64_OFF64
,

450 
	#_SC_V6_LP64_OFF64
 
_SC_V6_LP64_OFF64


	)

451 
	m_SC_V6_LPBIG_OFFBIG
,

452 
	#_SC_V6_LPBIG_OFFBIG
 
_SC_V6_LPBIG_OFFBIG


	)

454 
	m_SC_HOST_NAME_MAX
,

455 
	#_SC_HOST_NAME_MAX
 
_SC_HOST_NAME_MAX


	)

456 
	m_SC_TRACE
,

457 
	#_SC_TRACE
 
_SC_TRACE


	)

458 
	m_SC_TRACE_EVENT_FILTER
,

459 
	#_SC_TRACE_EVENT_FILTER
 
_SC_TRACE_EVENT_FILTER


	)

460 
	m_SC_TRACE_INHERIT
,

461 
	#_SC_TRACE_INHERIT
 
_SC_TRACE_INHERIT


	)

462 
	m_SC_TRACE_LOG
,

463 
	#_SC_TRACE_LOG
 
_SC_TRACE_LOG


	)

465 
	m_SC_LEVEL1_ICACHE_SIZE
,

466 
	#_SC_LEVEL1_ICACHE_SIZE
 
_SC_LEVEL1_ICACHE_SIZE


	)

467 
	m_SC_LEVEL1_ICACHE_ASSOC
,

468 
	#_SC_LEVEL1_ICACHE_ASSOC
 
_SC_LEVEL1_ICACHE_ASSOC


	)

469 
	m_SC_LEVEL1_ICACHE_LINESIZE
,

470 
	#_SC_LEVEL1_ICACHE_LINESIZE
 
_SC_LEVEL1_ICACHE_LINESIZE


	)

471 
	m_SC_LEVEL1_DCACHE_SIZE
,

472 
	#_SC_LEVEL1_DCACHE_SIZE
 
_SC_LEVEL1_DCACHE_SIZE


	)

473 
	m_SC_LEVEL1_DCACHE_ASSOC
,

474 
	#_SC_LEVEL1_DCACHE_ASSOC
 
_SC_LEVEL1_DCACHE_ASSOC


	)

475 
	m_SC_LEVEL1_DCACHE_LINESIZE
,

476 
	#_SC_LEVEL1_DCACHE_LINESIZE
 
_SC_LEVEL1_DCACHE_LINESIZE


	)

477 
	m_SC_LEVEL2_CACHE_SIZE
,

478 
	#_SC_LEVEL2_CACHE_SIZE
 
_SC_LEVEL2_CACHE_SIZE


	)

479 
	m_SC_LEVEL2_CACHE_ASSOC
,

480 
	#_SC_LEVEL2_CACHE_ASSOC
 
_SC_LEVEL2_CACHE_ASSOC


	)

481 
	m_SC_LEVEL2_CACHE_LINESIZE
,

482 
	#_SC_LEVEL2_CACHE_LINESIZE
 
_SC_LEVEL2_CACHE_LINESIZE


	)

483 
	m_SC_LEVEL3_CACHE_SIZE
,

484 
	#_SC_LEVEL3_CACHE_SIZE
 
_SC_LEVEL3_CACHE_SIZE


	)

485 
	m_SC_LEVEL3_CACHE_ASSOC
,

486 
	#_SC_LEVEL3_CACHE_ASSOC
 
_SC_LEVEL3_CACHE_ASSOC


	)

487 
	m_SC_LEVEL3_CACHE_LINESIZE
,

488 
	#_SC_LEVEL3_CACHE_LINESIZE
 
_SC_LEVEL3_CACHE_LINESIZE


	)

489 
	m_SC_LEVEL4_CACHE_SIZE
,

490 
	#_SC_LEVEL4_CACHE_SIZE
 
_SC_LEVEL4_CACHE_SIZE


	)

491 
	m_SC_LEVEL4_CACHE_ASSOC
,

492 
	#_SC_LEVEL4_CACHE_ASSOC
 
_SC_LEVEL4_CACHE_ASSOC


	)

493 
	m_SC_LEVEL4_CACHE_LINESIZE
,

494 
	#_SC_LEVEL4_CACHE_LINESIZE
 
_SC_LEVEL4_CACHE_LINESIZE


	)

497 
	m_SC_IPV6
 = 
_SC_LEVEL1_ICACHE_SIZE
 + 50,

498 
	#_SC_IPV6
 
_SC_IPV6


	)

499 
	m_SC_RAW_SOCKETS
,

500 
	#_SC_RAW_SOCKETS
 
_SC_RAW_SOCKETS


	)

502 
	m_SC_V7_ILP32_OFF32
,

503 
	#_SC_V7_ILP32_OFF32
 
_SC_V7_ILP32_OFF32


	)

504 
	m_SC_V7_ILP32_OFFBIG
,

505 
	#_SC_V7_ILP32_OFFBIG
 
_SC_V7_ILP32_OFFBIG


	)

506 
	m_SC_V7_LP64_OFF64
,

507 
	#_SC_V7_LP64_OFF64
 
_SC_V7_LP64_OFF64


	)

508 
	m_SC_V7_LPBIG_OFFBIG
,

509 
	#_SC_V7_LPBIG_OFFBIG
 
_SC_V7_LPBIG_OFFBIG


	)

511 
	m_SC_SS_REPL_MAX
,

512 
	#_SC_SS_REPL_MAX
 
_SC_SS_REPL_MAX


	)

514 
	m_SC_TRACE_EVENT_NAME_MAX
,

515 
	#_SC_TRACE_EVENT_NAME_MAX
 
_SC_TRACE_EVENT_NAME_MAX


	)

516 
	m_SC_TRACE_NAME_MAX
,

517 
	#_SC_TRACE_NAME_MAX
 
_SC_TRACE_NAME_MAX


	)

518 
	m_SC_TRACE_SYS_MAX
,

519 
	#_SC_TRACE_SYS_MAX
 
_SC_TRACE_SYS_MAX


	)

520 
	m_SC_TRACE_USER_EVENT_MAX
,

521 
	#_SC_TRACE_USER_EVENT_MAX
 
_SC_TRACE_USER_EVENT_MAX


	)

523 
	m_SC_XOPEN_STREAMS
,

524 
	#_SC_XOPEN_STREAMS
 
_SC_XOPEN_STREAMS


	)

526 
	m_SC_THREAD_ROBUST_PRIO_INHERIT
,

527 
	#_SC_THREAD_ROBUST_PRIO_INHERIT
 
_SC_THREAD_ROBUST_PRIO_INHERIT


	)

528 
	m_SC_THREAD_ROBUST_PRIO_PROTECT


529 
	#_SC_THREAD_ROBUST_PRIO_PROTECT
 
_SC_THREAD_ROBUST_PRIO_PROTECT


	)

535 
	m_CS_PATH
,

536 
	#_CS_PATH
 
_CS_PATH


	)

538 
	m_CS_V6_WIDTH_RESTRICTED_ENVS
,

539 
	#_CS_V6_WIDTH_RESTRICTED_ENVS
 
_CS_V6_WIDTH_RESTRICTED_ENVS


	)

540 
	#_CS_POSIX_V6_WIDTH_RESTRICTED_ENVS
 
_CS_V6_WIDTH_RESTRICTED_ENVS


	)

542 
	m_CS_GNU_LIBC_VERSION
,

543 
	#_CS_GNU_LIBC_VERSION
 
_CS_GNU_LIBC_VERSION


	)

544 
	m_CS_GNU_LIBPTHREAD_VERSION
,

545 
	#_CS_GNU_LIBPTHREAD_VERSION
 
_CS_GNU_LIBPTHREAD_VERSION


	)

547 
	m_CS_V5_WIDTH_RESTRICTED_ENVS
,

548 
	#_CS_V5_WIDTH_RESTRICTED_ENVS
 
_CS_V5_WIDTH_RESTRICTED_ENVS


	)

549 
	#_CS_POSIX_V5_WIDTH_RESTRICTED_ENVS
 
_CS_V5_WIDTH_RESTRICTED_ENVS


	)

551 
	m_CS_V7_WIDTH_RESTRICTED_ENVS
,

552 
	#_CS_V7_WIDTH_RESTRICTED_ENVS
 
_CS_V7_WIDTH_RESTRICTED_ENVS


	)

553 
	#_CS_POSIX_V7_WIDTH_RESTRICTED_ENVS
 
_CS_V7_WIDTH_RESTRICTED_ENVS


	)

555 
	m_CS_LFS_CFLAGS
 = 1000,

556 
	#_CS_LFS_CFLAGS
 
_CS_LFS_CFLAGS


	)

557 
	m_CS_LFS_LDFLAGS
,

558 
	#_CS_LFS_LDFLAGS
 
_CS_LFS_LDFLAGS


	)

559 
	m_CS_LFS_LIBS
,

560 
	#_CS_LFS_LIBS
 
_CS_LFS_LIBS


	)

561 
	m_CS_LFS_LINTFLAGS
,

562 
	#_CS_LFS_LINTFLAGS
 
_CS_LFS_LINTFLAGS


	)

563 
	m_CS_LFS64_CFLAGS
,

564 
	#_CS_LFS64_CFLAGS
 
_CS_LFS64_CFLAGS


	)

565 
	m_CS_LFS64_LDFLAGS
,

566 
	#_CS_LFS64_LDFLAGS
 
_CS_LFS64_LDFLAGS


	)

567 
	m_CS_LFS64_LIBS
,

568 
	#_CS_LFS64_LIBS
 
_CS_LFS64_LIBS


	)

569 
	m_CS_LFS64_LINTFLAGS
,

570 
	#_CS_LFS64_LINTFLAGS
 
_CS_LFS64_LINTFLAGS


	)

572 
	m_CS_XBS5_ILP32_OFF32_CFLAGS
 = 1100,

573 
	#_CS_XBS5_ILP32_OFF32_CFLAGS
 
_CS_XBS5_ILP32_OFF32_CFLAGS


	)

574 
	m_CS_XBS5_ILP32_OFF32_LDFLAGS
,

575 
	#_CS_XBS5_ILP32_OFF32_LDFLAGS
 
_CS_XBS5_ILP32_OFF32_LDFLAGS


	)

576 
	m_CS_XBS5_ILP32_OFF32_LIBS
,

577 
	#_CS_XBS5_ILP32_OFF32_LIBS
 
_CS_XBS5_ILP32_OFF32_LIBS


	)

578 
	m_CS_XBS5_ILP32_OFF32_LINTFLAGS
,

579 
	#_CS_XBS5_ILP32_OFF32_LINTFLAGS
 
_CS_XBS5_ILP32_OFF32_LINTFLAGS


	)

580 
	m_CS_XBS5_ILP32_OFFBIG_CFLAGS
,

581 
	#_CS_XBS5_ILP32_OFFBIG_CFLAGS
 
_CS_XBS5_ILP32_OFFBIG_CFLAGS


	)

582 
	m_CS_XBS5_ILP32_OFFBIG_LDFLAGS
,

583 
	#_CS_XBS5_ILP32_OFFBIG_LDFLAGS
 
_CS_XBS5_ILP32_OFFBIG_LDFLAGS


	)

584 
	m_CS_XBS5_ILP32_OFFBIG_LIBS
,

585 
	#_CS_XBS5_ILP32_OFFBIG_LIBS
 
_CS_XBS5_ILP32_OFFBIG_LIBS


	)

586 
	m_CS_XBS5_ILP32_OFFBIG_LINTFLAGS
,

587 
	#_CS_XBS5_ILP32_OFFBIG_LINTFLAGS
 
_CS_XBS5_ILP32_OFFBIG_LINTFLAGS


	)

588 
	m_CS_XBS5_LP64_OFF64_CFLAGS
,

589 
	#_CS_XBS5_LP64_OFF64_CFLAGS
 
_CS_XBS5_LP64_OFF64_CFLAGS


	)

590 
	m_CS_XBS5_LP64_OFF64_LDFLAGS
,

591 
	#_CS_XBS5_LP64_OFF64_LDFLAGS
 
_CS_XBS5_LP64_OFF64_LDFLAGS


	)

592 
	m_CS_XBS5_LP64_OFF64_LIBS
,

593 
	#_CS_XBS5_LP64_OFF64_LIBS
 
_CS_XBS5_LP64_OFF64_LIBS


	)

594 
	m_CS_XBS5_LP64_OFF64_LINTFLAGS
,

595 
	#_CS_XBS5_LP64_OFF64_LINTFLAGS
 
_CS_XBS5_LP64_OFF64_LINTFLAGS


	)

596 
	m_CS_XBS5_LPBIG_OFFBIG_CFLAGS
,

597 
	#_CS_XBS5_LPBIG_OFFBIG_CFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_CFLAGS


	)

598 
	m_CS_XBS5_LPBIG_OFFBIG_LDFLAGS
,

599 
	#_CS_XBS5_LPBIG_OFFBIG_LDFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_LDFLAGS


	)

600 
	m_CS_XBS5_LPBIG_OFFBIG_LIBS
,

601 
	#_CS_XBS5_LPBIG_OFFBIG_LIBS
 
_CS_XBS5_LPBIG_OFFBIG_LIBS


	)

602 
	m_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS
,

603 
	#_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS


	)

605 
	m_CS_POSIX_V6_ILP32_OFF32_CFLAGS
,

606 
	#_CS_POSIX_V6_ILP32_OFF32_CFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_CFLAGS


	)

607 
	m_CS_POSIX_V6_ILP32_OFF32_LDFLAGS
,

608 
	#_CS_POSIX_V6_ILP32_OFF32_LDFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_LDFLAGS


	)

609 
	m_CS_POSIX_V6_ILP32_OFF32_LIBS
,

610 
	#_CS_POSIX_V6_ILP32_OFF32_LIBS
 
_CS_POSIX_V6_ILP32_OFF32_LIBS


	)

611 
	m_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS
,

612 
	#_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS


	)

613 
	m_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS
,

614 
	#_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS


	)

615 
	m_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS
,

616 
	#_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS


	)

617 
	m_CS_POSIX_V6_ILP32_OFFBIG_LIBS
,

618 
	#_CS_POSIX_V6_ILP32_OFFBIG_LIBS
 
_CS_POSIX_V6_ILP32_OFFBIG_LIBS


	)

619 
	m_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS
,

620 
	#_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS


	)

621 
	m_CS_POSIX_V6_LP64_OFF64_CFLAGS
,

622 
	#_CS_POSIX_V6_LP64_OFF64_CFLAGS
 
_CS_POSIX_V6_LP64_OFF64_CFLAGS


	)

623 
	m_CS_POSIX_V6_LP64_OFF64_LDFLAGS
,

624 
	#_CS_POSIX_V6_LP64_OFF64_LDFLAGS
 
_CS_POSIX_V6_LP64_OFF64_LDFLAGS


	)

625 
	m_CS_POSIX_V6_LP64_OFF64_LIBS
,

626 
	#_CS_POSIX_V6_LP64_OFF64_LIBS
 
_CS_POSIX_V6_LP64_OFF64_LIBS


	)

627 
	m_CS_POSIX_V6_LP64_OFF64_LINTFLAGS
,

628 
	#_CS_POSIX_V6_LP64_OFF64_LINTFLAGS
 
_CS_POSIX_V6_LP64_OFF64_LINTFLAGS


	)

629 
	m_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS
,

630 
	#_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS


	)

631 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS
,

632 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS


	)

633 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LIBS
,

634 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LIBS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LIBS


	)

635 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS
,

636 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS


	)

638 
	m_CS_POSIX_V7_ILP32_OFF32_CFLAGS
,

639 
	#_CS_POSIX_V7_ILP32_OFF32_CFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_CFLAGS


	)

640 
	m_CS_POSIX_V7_ILP32_OFF32_LDFLAGS
,

641 
	#_CS_POSIX_V7_ILP32_OFF32_LDFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_LDFLAGS


	)

642 
	m_CS_POSIX_V7_ILP32_OFF32_LIBS
,

643 
	#_CS_POSIX_V7_ILP32_OFF32_LIBS
 
_CS_POSIX_V7_ILP32_OFF32_LIBS


	)

644 
	m_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS
,

645 
	#_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS


	)

646 
	m_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS
,

647 
	#_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS


	)

648 
	m_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS
,

649 
	#_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS


	)

650 
	m_CS_POSIX_V7_ILP32_OFFBIG_LIBS
,

651 
	#_CS_POSIX_V7_ILP32_OFFBIG_LIBS
 
_CS_POSIX_V7_ILP32_OFFBIG_LIBS


	)

652 
	m_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS
,

653 
	#_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS


	)

654 
	m_CS_POSIX_V7_LP64_OFF64_CFLAGS
,

655 
	#_CS_POSIX_V7_LP64_OFF64_CFLAGS
 
_CS_POSIX_V7_LP64_OFF64_CFLAGS


	)

656 
	m_CS_POSIX_V7_LP64_OFF64_LDFLAGS
,

657 
	#_CS_POSIX_V7_LP64_OFF64_LDFLAGS
 
_CS_POSIX_V7_LP64_OFF64_LDFLAGS


	)

658 
	m_CS_POSIX_V7_LP64_OFF64_LIBS
,

659 
	#_CS_POSIX_V7_LP64_OFF64_LIBS
 
_CS_POSIX_V7_LP64_OFF64_LIBS


	)

660 
	m_CS_POSIX_V7_LP64_OFF64_LINTFLAGS
,

661 
	#_CS_POSIX_V7_LP64_OFF64_LINTFLAGS
 
_CS_POSIX_V7_LP64_OFF64_LINTFLAGS


	)

662 
	m_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS
,

663 
	#_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS


	)

664 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS
,

665 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS


	)

666 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LIBS
,

667 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LIBS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LIBS


	)

668 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS
,

669 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS


	)

671 
	m_CS_V6_ENV
,

672 
	#_CS_V6_ENV
 
_CS_V6_ENV


	)

673 
	m_CS_V7_ENV


674 
	#_CS_V7_ENV
 
_CS_V7_ENV


	)

	@/usr/include/bits/dlfcn.h

19 #iâdeà
_DLFCN_H


24 
	#RTLD_LAZY
 0x00001

	)

25 
	#RTLD_NOW
 0x00002

	)

26 
	#RTLD_BINDING_MASK
 0x3

	)

27 
	#RTLD_NOLOAD
 0x00004

	)

28 
	#RTLD_DEEPBIND
 0x00008

	)

33 
	#RTLD_GLOBAL
 0x00100

	)

38 
	#RTLD_LOCAL
 0

	)

41 
	#RTLD_NODELETE
 0x01000

	)

43 #ifdeà
__USE_GNU


54 
	#DL_CALL_FCT
(
fùp
, 
¬gs
) \

55 (
	`_dl_mcouÁ_w¿µ”_check
 ((*è(
fùp
)), (*(fùp)è
¬gs
)

	)

57 
__BEGIN_DECLS


60 
	$_dl_mcouÁ_w¿µ”_check
 (*
__£låc
è
__THROW
;

62 
__END_DECLS


	@/usr/include/bits/elfclass.h

5 #iâdeà
_LINK_H


9 
	~<b™s/wÜdsize.h
>

11 
	#__ELF_NATIVE_CLASS
 
__WORDSIZE


	)

14 
ušt32_t
 
	tElf_Symndx
;

	@/usr/include/bits/environments.h

18 #iâdeà
_UNISTD_H


22 
	~<b™s/wÜdsize.h
>

42 #ià
__WORDSIZE
 == 64

56 
	#_POSIX_V7_LPBIG_OFFBIG
 -1

	)

57 
	#_POSIX_V6_LPBIG_OFFBIG
 -1

	)

58 
	#_XBS5_LPBIG_OFFBIG
 -1

	)

61 
	#_POSIX_V7_LP64_OFF64
 1

	)

62 
	#_POSIX_V6_LP64_OFF64
 1

	)

63 
	#_XBS5_LP64_OFF64
 1

	)

69 
	#_POSIX_V7_ILP32_OFFBIG
 1

	)

70 
	#_POSIX_V6_ILP32_OFFBIG
 1

	)

71 
	#_XBS5_ILP32_OFFBIG
 1

	)

73 #iâdeà
__x86_64__


75 
	#_POSIX_V7_ILP32_OFF32
 1

	)

76 
	#_POSIX_V6_ILP32_OFF32
 1

	)

77 
	#_XBS5_ILP32_OFF32
 1

	)

95 
	#__ILP32_OFF32_CFLAGS
 "-m32"

	)

96 
	#__ILP32_OFF32_LDFLAGS
 "-m32"

	)

97 #ià
defšed
 
__x86_64__
 && defšed 
__ILP32__


98 
	#__ILP32_OFFBIG_CFLAGS
 "-mx32"

	)

99 
	#__ILP32_OFFBIG_LDFLAGS
 "-mx32"

	)

101 
	#__ILP32_OFFBIG_CFLAGS
 "-m32 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64"

	)

102 
	#__ILP32_OFFBIG_LDFLAGS
 "-m32"

	)

104 
	#__LP64_OFF64_CFLAGS
 "-m64"

	)

105 
	#__LP64_OFF64_LDFLAGS
 "-m64"

	)

	@/usr/include/bits/errno.h

19 #ifdeà
_ERRNO_H


21 #undeà
EDOM


22 #undeà
EILSEQ


23 #undeà
ERANGE


24 
	~<lšux/”ºo.h
>

27 
	#ENOTSUP
 
EOPNOTSUPP


	)

30 #iâdeà
ECANCELED


31 
	#ECANCELED
 125

	)

35 #iâdeà
EOWNERDEAD


36 
	#EOWNERDEAD
 130

	)

37 
	#ENOTRECOVERABLE
 131

	)

40 #iâdeà
ERFKILL


41 
	#ERFKILL
 132

	)

44 #iâdeà
EHWPOISON


45 
	#EHWPOISON
 133

	)

48 #iâdeà
__ASSEMBLER__


50 *
	$__”ºo_loÿtiÚ
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

52 #ià!
defšed
 
_LIBC
 || defšed 
_LIBC_REENTRANT


54 
	#”ºo
 (*
	`__”ºo_loÿtiÚ
 ())

	)

59 #ià!
defšed
 
_ERRNO_H
 && defšed 
__Ãed_Em©h


63 
	#EDOM
 33

	)

64 
	#EILSEQ
 84

	)

65 
	#ERANGE
 34

	)

	@/usr/include/bits/huge_val.h

20 #iâdeà
_MATH_H


26 #ià
__GNUC_PREREQ
(3,3)

27 
	#HUGE_VAL
 (
	`__butš_huge_v®
())

	)

28 #–ià
__GNUC_PREREQ
(2,96)

29 
	#HUGE_VAL
 (
__ex‹nsiÚ__
 0x1.0
p2047
)

	)

30 #–ià
defšed
 
__GNUC__


32 
	#HUGE_VAL
 \

33 (
__ex‹nsiÚ__
 \

34 ((uniÚ { 
__l
 
	`__©Œibu‹__
((
	`__mode__
(
__DI__
))); 
__d
; }) \

35 { 
__l
: 0x7ff0000000000000ULL }).
__d
)

	)

39 
	~<’dŸn.h
>

41 uniÚ { 
	m__c
[8]; 
	m__d
; } 
	t__huge_v®_t
;

43 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


44 
	#__HUGE_VAL_by‹s
 { 0x7f, 0xf0, 0, 0, 0, 0, 0, 0 }

	)

46 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


47 
	#__HUGE_VAL_by‹s
 { 0, 0, 0, 0, 0, 0, 0xf0, 0x7à}

	)

50 
__huge_v®_t
 
	g__huge_v®
 = { 
__HUGE_VAL_by‹s
 };

51 
	#HUGE_VAL
 (
__huge_v®
.
__d
)

	)

	@/usr/include/bits/huge_valf.h

20 #iâdeà
_MATH_H


26 #ià
__GNUC_PREREQ
(3,3)

27 
	#HUGE_VALF
 (
	`__butš_huge_v®f
())

	)

28 #–ià
__GNUC_PREREQ
(2,96)

29 
	#HUGE_VALF
 (
__ex‹nsiÚ__
 0x1.0
p255f
)

	)

30 #–ià
defšed
 
__GNUC__


32 
	#HUGE_VALF
 \

33 (
__ex‹nsiÚ__
 \

34 ((uniÚ { 
__l
 
	`__©Œibu‹__
((
	`__mode__
(
__SI__
))); 
__d
; }) \

35 { 
__l
: 0x7f800000UL }).
__d
)

	)

39 uniÚ { 
	m__c
[4]; 
	m__f
; } 
	t__huge_v®f_t
;

41 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


42 
	#__HUGE_VALF_by‹s
 { 0x7f, 0x80, 0, 0 }

	)

44 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


45 
	#__HUGE_VALF_by‹s
 { 0, 0, 0x80, 0x7à}

	)

48 
__huge_v®f_t
 
	g__huge_v®f
 = { 
__HUGE_VALF_by‹s
 };

49 
	#HUGE_VALF
 (
__huge_v®f
.
__f
)

	)

	@/usr/include/bits/huge_vall.h

20 #iâdeà
_MATH_H


24 #ià
__GNUC_PREREQ
(3,3)

25 
	#HUGE_VALL
 (
	`__butš_huge_v®l
())

	)

26 #–ià
__GNUC_PREREQ
(2,96)

27 
	#HUGE_VALL
 (
__ex‹nsiÚ__
 0x1.0
p32767L
)

	)

30 
	#__HUGE_VALL_by‹s
 { 0, 0, 0, 0, 0, 0, 0, 0x80, 0xff, 0x7f, 0, 0 }

	)

32 
	#__huge_v®l_t
 uniÚ { 
__c
[12]; 
__ld
; }

	)

33 #ifdeà
__GNUC__


34 
	#HUGE_VALL
 (
__ex‹nsiÚ__
 \

35 ((
__huge_v®l_t
è{ 
__c
: 
__HUGE_VALL_by‹s
 }).
__ld
)

	)

37 
__huge_v®l_t
 
	g__huge_v®l
 = { 
__HUGE_VALL_by‹s
 };

38 
	#HUGE_VALL
 (
__huge_v®l
.
__ld
)

	)

	@/usr/include/bits/inf.h

19 #iâdeà
_MATH_H


25 #ià
__GNUC_PREREQ
(3,3)

26 
	#INFINITY
 (
	`__butš_šff
())

	)

28 
	#INFINITY
 
HUGE_VALF


	)

	@/usr/include/bits/link.h

18 #iâdef 
_LINK_H


23 #iâdeà
__x86_64__


25 
	sLa_i86_»gs


27 
ušt32_t
 
	mÌ_edx
;

28 
ušt32_t
 
	mÌ_ecx
;

29 
ušt32_t
 
	mÌ_—x
;

30 
ušt32_t
 
	mÌ_ebp
;

31 
ušt32_t
 
	mÌ_e¥
;

32 } 
	tLa_i86_»gs
;

35 
	sLa_i86_»tv®


37 
ušt32_t
 
	mÌv_—x
;

38 
ušt32_t
 
	mÌv_edx
;

39 
	mÌv_¡0
;

40 
	mÌv_¡1
;

41 } 
	tLa_i86_»tv®
;

44 
__BEGIN_DECLS


46 
Elf32_Addr
 
Ï_i86_gnu_¶‹Á”
 (
Elf32_Sym
 *
__sym
, 
__ndx
,

47 
ušŒ_t
 *
__»fcook
,

48 
ušŒ_t
 *
__defcook
,

49 
La_i86_»gs
 *
__»gs
,

50 *
__æags
,

51 cÚ¡ *
__symÇme
,

52 *
__äamesiz•
);

53 
Ï_i86_gnu_¶‹x™
 (
Elf32_Sym
 *
__sym
, 
__ndx
,

54 
ušŒ_t
 *
__»fcook
,

55 
ušŒ_t
 *
__defcook
,

56 cÚ¡ 
La_i86_»gs
 *
__š»gs
,

57 
La_i86_»tv®
 *
__ouŒegs
,

58 cÚ¡ *
symÇme
);

60 
	g__END_DECLS


65 #ià
__GNUC_PREREQ
 (4,0)

66 
	tLa_x86_64_xmm
 
	t__©Œibu‹__
 ((
	t__veùÜ_size__
 (16)));

67 
	tLa_x86_64_ymm


68 
	t__©Œibu‹__
 ((
	t__veùÜ_size__
 (32), 
	t__®igÃd__
 (16)));

69 
	tLa_x86_64_zmm


70 
	t__©Œibu‹__
 ((
	t__veùÜ_size__
 (64), 
	t__®igÃd__
 (16)));

72 
	tLa_x86_64_xmm
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__V4SF__
)));

77 #ià
__GNUC_PREREQ
 (4,0)

78 
La_x86_64_ymm
 
	mymm
[2];

79 
La_x86_64_zmm
 
	mzmm
[1];

81 
La_x86_64_xmm
 
	mxmm
[4];

82 } 
	tLa_x86_64_veùÜ
 
	t__©Œibu‹__
 ((
	t__®igÃd__
 (16)));

84 
	sLa_x86_64_»gs


86 
ušt64_t
 
	mÌ_rdx
;

87 
ušt64_t
 
	mÌ_r8
;

88 
ušt64_t
 
	mÌ_r9
;

89 
ušt64_t
 
	mÌ_rcx
;

90 
ušt64_t
 
	mÌ_rsi
;

91 
ušt64_t
 
	mÌ_rdi
;

92 
ušt64_t
 
	mÌ_rbp
;

93 
ušt64_t
 
	mÌ_r¥
;

94 
La_x86_64_xmm
 
	mÌ_xmm
[8];

95 
La_x86_64_veùÜ
 
	mÌ_veùÜ
[8];

96 #iâdeà
__ILP32__


97 
__št128_t
 
	mÌ_bnd
[4];

99 } 
	tLa_x86_64_»gs
;

102 
	sLa_x86_64_»tv®


104 
ušt64_t
 
	mÌv_¿x
;

105 
ušt64_t
 
	mÌv_rdx
;

106 
La_x86_64_xmm
 
	mÌv_xmm0
;

107 
La_x86_64_xmm
 
	mÌv_xmm1
;

108 
	mÌv_¡0
;

109 
	mÌv_¡1
;

110 
La_x86_64_veùÜ
 
	mÌv_veùÜ0
;

111 
La_x86_64_veùÜ
 
	mÌv_veùÜ1
;

112 #iâdeà
__ILP32__


113 
__št128_t
 
	mÌv_bnd0
;

114 
__št128_t
 
	mÌv_bnd1
;

116 } 
	tLa_x86_64_»tv®
;

118 
	#La_x32_»gs
 
La_x86_64_»gs


	)

119 
	#La_x32_»tv®
 
La_x86_64_»tv®


	)

121 
__BEGIN_DECLS


123 
Elf64_Addr
 
Ï_x86_64_gnu_¶‹Á”
 (
Elf64_Sym
 *
__sym
,

124 
__ndx
,

125 
ušŒ_t
 *
__»fcook
,

126 
ušŒ_t
 *
__defcook
,

127 
La_x86_64_»gs
 *
__»gs
,

128 *
__æags
,

129 cÚ¡ *
__symÇme
,

130 *
__äamesiz•
);

131 
Ï_x86_64_gnu_¶‹x™
 (
Elf64_Sym
 *
__sym
,

132 
__ndx
,

133 
ušŒ_t
 *
__»fcook
,

134 
ušŒ_t
 *
__defcook
,

135 cÚ¡ 
La_x86_64_»gs
 *
__š»gs
,

136 
La_x86_64_»tv®
 *
__ouŒegs
,

137 cÚ¡ *
__symÇme
);

139 
Elf32_Addr
 
Ï_x32_gnu_¶‹Á”
 (
Elf32_Sym
 *
__sym
,

140 
__ndx
,

141 
ušŒ_t
 *
__»fcook
,

142 
ušŒ_t
 *
__defcook
,

143 
La_x32_»gs
 *
__»gs
,

144 *
__æags
,

145 cÚ¡ *
__symÇme
,

146 *
__äamesiz•
);

147 
Ï_x32_gnu_¶‹x™
 (
Elf32_Sym
 *
__sym
,

148 
__ndx
,

149 
ušŒ_t
 *
__»fcook
,

150 
ušŒ_t
 *
__defcook
,

151 cÚ¡ 
La_x32_»gs
 *
__š»gs
,

152 
La_x32_»tv®
 *
__ouŒegs
,

153 cÚ¡ *
__symÇme
);

155 
	g__END_DECLS


	@/usr/include/bits/math-finite.h

19 #iâdeà
_MATH_H


24 
__REDIRECT_NTH
 (
acos
, (), 
__acos_fš™e
);

25 
__REDIRECT_NTH
 (
acosf
, (), 
__acosf_fš™e
);

26 #ifdeà
__MATH_DECLARE_LDOUBLE


27 #ifdeà
__NO_LONG_DOUBLE_MATH


28 
__REDIRECT_NTH
 (
aco¦
, (), 
__acos_fš™e
);

30 
__REDIRECT_NTH
 (
aco¦
, (), 
__aco¦_fš™e
);

34 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


36 
__REDIRECT_NTH
 (
acosh
, (), 
__acosh_fš™e
);

37 
__REDIRECT_NTH
 (
acoshf
, (), 
__acoshf_fš™e
);

38 #ifdeà
__MATH_DECLARE_LDOUBLE


39 #ifdeà
__NO_LONG_DOUBLE_MATH


40 
__REDIRECT_NTH
 (
acoshl
, (), 
__acosh_fš™e
);

42 
__REDIRECT_NTH
 (
acoshl
, (), 
__acoshl_fš™e
);

48 
__REDIRECT_NTH
 (
asš
, (), 
__asš_fš™e
);

49 
__REDIRECT_NTH
 (
asšf
, (), 
__asšf_fš™e
);

50 #ifdeà
__MATH_DECLARE_LDOUBLE


51 #ifdeà
__NO_LONG_DOUBLE_MATH


52 
__REDIRECT_NTH
 (
asšl
, (), 
__asš_fš™e
);

54 
__REDIRECT_NTH
 (
asšl
, (), 
__asšl_fš™e
);

59 
__REDIRECT_NTH
 (
©ª2
, (, ), 
__©ª2_fš™e
);

60 
__REDIRECT_NTH
 (
©ª2f
, (, ), 
__©ª2f_fš™e
);

61 #ifdeà
__MATH_DECLARE_LDOUBLE


62 #ifdeà
__NO_LONG_DOUBLE_MATH


63 
__REDIRECT_NTH
 (
©ª2l
, (, ),

64 
__©ª2_fš™e
);

66 
__REDIRECT_NTH
 (
©ª2l
, (, ),

67 
__©ª2l_fš™e
);

71 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


73 
__REDIRECT_NTH
 (
©ªh
, (), 
__©ªh_fš™e
);

74 
__REDIRECT_NTH
 (
©ªhf
, (), 
__©ªhf_fš™e
);

75 #ifdeà
__MATH_DECLARE_LDOUBLE


76 #ifdeà
__NO_LONG_DOUBLE_MATH


77 
__REDIRECT_NTH
 (
©ªhl
, (), 
__©ªh_fš™e
);

79 
__REDIRECT_NTH
 (
©ªhl
, (), 
__©ªhl_fš™e
);

85 
__REDIRECT_NTH
 (
cosh
, (), 
__cosh_fš™e
);

86 
__REDIRECT_NTH
 (
coshf
, (), 
__coshf_fš™e
);

87 #ifdeà
__MATH_DECLARE_LDOUBLE


88 #ifdeà
__NO_LONG_DOUBLE_MATH


89 
__REDIRECT_NTH
 (
coshl
, (), 
__cosh_fš™e
);

91 
__REDIRECT_NTH
 (
coshl
, (), 
__coshl_fš™e
);

96 
__REDIRECT_NTH
 (
exp
, (), 
__exp_fš™e
);

97 
__REDIRECT_NTH
 (
expf
, (), 
__expf_fš™e
);

98 #ifdeà
__MATH_DECLARE_LDOUBLE


99 #ifdeà
__NO_LONG_DOUBLE_MATH


100 
__REDIRECT_NTH
 (
ex¶
, (), 
__exp_fš™e
);

102 
__REDIRECT_NTH
 (
ex¶
, (), 
__ex¶_fš™e
);

106 #ifdeà
__USE_GNU


108 
__REDIRECT_NTH
 (
exp10
, (), 
__exp10_fš™e
);

109 
__REDIRECT_NTH
 (
exp10f
, (), 
__exp10f_fš™e
);

110 #ifdeà
__MATH_DECLARE_LDOUBLE


111 #ifdeà
__NO_LONG_DOUBLE_MATH


112 
__REDIRECT_NTH
 (
exp10l
, (), 
__exp10_fš™e
);

114 
__REDIRECT_NTH
 (
exp10l
, (), 
__exp10l_fš™e
);

119 
__REDIRECT_NTH
 (
pow10
, (), 
__exp10_fš™e
);

120 
__REDIRECT_NTH
 (
pow10f
, (), 
__exp10f_fš™e
);

121 #ifdeà
__MATH_DECLARE_LDOUBLE


122 #ifdeà
__NO_LONG_DOUBLE_MATH


123 
__REDIRECT_NTH
 (
pow10l
, (), 
__exp10_fš™e
);

125 
__REDIRECT_NTH
 (
pow10l
, (), 
__exp10l_fš™e
);

130 #ifdeà
__USE_ISOC99


132 
__REDIRECT_NTH
 (
exp2
, (), 
__exp2_fš™e
);

133 
__REDIRECT_NTH
 (
exp2f
, (), 
__exp2f_fš™e
);

134 #ifdeà
__MATH_DECLARE_LDOUBLE


135 #ifdeà
__NO_LONG_DOUBLE_MATH


136 
__REDIRECT_NTH
 (
exp2l
, (), 
__exp2_fš™e
);

138 
__REDIRECT_NTH
 (
exp2l
, (), 
__exp2l_fš™e
);

144 
__REDIRECT_NTH
 (
fmod
, (, ), 
__fmod_fš™e
);

145 
__REDIRECT_NTH
 (
fmodf
, (, ), 
__fmodf_fš™e
);

146 #ifdeà
__MATH_DECLARE_LDOUBLE


147 #ifdeà
__NO_LONG_DOUBLE_MATH


148 
__REDIRECT_NTH
 (
fmodl
, (, ),

149 
__fmod_fš™e
);

151 
__REDIRECT_NTH
 (
fmodl
, (, ),

152 
__fmodl_fš™e
);

156 #ifdeà
__USE_ISOC99


158 
__REDIRECT_NTH
 (
hypÙ
, (, ), 
__hypÙ_fš™e
);

159 
__REDIRECT_NTH
 (
hypÙf
, (, ), 
__hypÙf_fš™e
);

160 #ifdeà
__MATH_DECLARE_LDOUBLE


161 #ifdeà
__NO_LONG_DOUBLE_MATH


162 
__REDIRECT_NTH
 (
hypÙl
, (, ),

163 
__hypÙ_fš™e
);

165 
__REDIRECT_NTH
 (
hypÙl
, (, ),

166 
__hypÙl_fš™e
);

171 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


173 
__REDIRECT_NTH
 (
j0
, (), 
__j0_fš™e
);

174 
__REDIRECT_NTH
 (
j0f
, (), 
__j0f_fš™e
);

175 #ifdeà
__MATH_DECLARE_LDOUBLE


176 #ifdeà
__NO_LONG_DOUBLE_MATH


177 
__REDIRECT_NTH
 (
j0l
, (), 
__j0_fš™e
);

179 
__REDIRECT_NTH
 (
j0l
, (), 
__j0l_fš™e
);

184 
__REDIRECT_NTH
 (
y0
, (), 
__y0_fš™e
);

185 
__REDIRECT_NTH
 (
y0f
, (), 
__y0f_fš™e
);

186 #ifdeà
__MATH_DECLARE_LDOUBLE


187 #ifdeà
__NO_LONG_DOUBLE_MATH


188 
__REDIRECT_NTH
 (
y0l
, (), 
__y0_fš™e
);

190 
__REDIRECT_NTH
 (
y0l
, (), 
__y0l_fš™e
);

195 
__REDIRECT_NTH
 (
j1
, (), 
__j1_fš™e
);

196 
__REDIRECT_NTH
 (
j1f
, (), 
__j1f_fš™e
);

197 #ifdeà
__MATH_DECLARE_LDOUBLE


198 #ifdeà
__NO_LONG_DOUBLE_MATH


199 
__REDIRECT_NTH
 (
j1l
, (), 
__j1_fš™e
);

201 
__REDIRECT_NTH
 (
j1l
, (), 
__j1l_fš™e
);

206 
__REDIRECT_NTH
 (
y1
, (), 
__y1_fš™e
);

207 
__REDIRECT_NTH
 (
y1f
, (), 
__y1f_fš™e
);

208 #ifdeà
__MATH_DECLARE_LDOUBLE


209 #ifdeà
__NO_LONG_DOUBLE_MATH


210 
__REDIRECT_NTH
 (
y1l
, (), 
__y1_fš™e
);

212 
__REDIRECT_NTH
 (
y1l
, (), 
__y1l_fš™e
);

217 
__REDIRECT_NTH
 (
jn
, (, ), 
__jn_fš™e
);

218 
__REDIRECT_NTH
 (
jnf
, (, ), 
__jnf_fš™e
);

219 #ifdeà
__MATH_DECLARE_LDOUBLE


220 #ifdeà
__NO_LONG_DOUBLE_MATH


221 
__REDIRECT_NTH
 (
jÆ
, (, ), 
__jn_fš™e
);

223 
__REDIRECT_NTH
 (
jÆ
, (, ), 
__jÆ_fš™e
);

228 
__REDIRECT_NTH
 (
yn
, (, ), 
__yn_fš™e
);

229 
__REDIRECT_NTH
 (
ynf
, (, ), 
__ynf_fš™e
);

230 #ifdeà
__MATH_DECLARE_LDOUBLE


231 #ifdeà
__NO_LONG_DOUBLE_MATH


232 
__REDIRECT_NTH
 (
yÆ
, (, ), 
__yn_fš™e
);

234 
__REDIRECT_NTH
 (
yÆ
, (, ), 
__yÆ_fš™e
);

239 #ifdeà
__USE_MISC


241 
__REDIRECT_NTH
 (
lgamma_r
, (, *), 
__lgamma_r_fš™e
);

242 
__REDIRECT_NTH
 (
lgammaf_r
, (, *), 
__lgammaf_r_fš™e
);

243 #ifdeà
__MATH_DECLARE_LDOUBLE


244 #ifdeà
__NO_LONG_DOUBLE_MATH


245 
__REDIRECT_NTH
 (
lgamm®_r
, (, *),

246 
__lgamma_r_fš™e
);

248 
__REDIRECT_NTH
 (
lgamm®_r
, (, *),

249 
__lgamm®_r_fš™e
);

254 #ià((
defšed
 
__USE_XOPEN
 || defšed 
__USE_ISOC99
) \

255 && 
defšed
 
	g__ex‹º_®ways_šlše
)

257 
__ex‹º_®ways_šlše
 
__NTH
 (
	$lgamma
 (
__d
))

259 #ifdeà
__USE_ISOC99


260 
__loÿl_signgam
 = 0;

261  
	`lgamma_r
 (
__d
, &
__loÿl_signgam
);

263  
	`lgamma_r
 (
__d
, &
signgam
);

265 
	}
}

266 
__ex‹º_®ways_šlše
 
__NTH
 (
	$lgammaf
 (
__d
))

268 #ifdeà
__USE_ISOC99


269 
__loÿl_signgam
 = 0;

270  
	`lgammaf_r
 (
__d
, &
__loÿl_signgam
);

272  
	`lgammaf_r
 (
__d
, &
signgam
);

274 
	}
}

275 #ifdeà
__MATH_DECLARE_LDOUBLE


276 
__ex‹º_®ways_šlše
 
__NTH
 (
	$lgamm®
 (
__d
))

278 #ifdeà
__USE_ISOC99


279 
__loÿl_signgam
 = 0;

280  
	`lgamm®_r
 (
__d
, &
__loÿl_signgam
);

282  
	`lgamm®_r
 (
__d
, &
signgam
);

284 
	}
}

288 #ià((
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN
) \

289 && 
defšed
 
	g__ex‹º_®ways_šlše
)

291 
__ex‹º_®ways_šlše
 
__NTH
 (
	$gamma
 (
__d
))

293 #ifdeà
__USE_ISOC99


294 
__loÿl_signgam
 = 0;

295  
	`lgamma_r
 (
__d
, &
__loÿl_signgam
);

297  
	`lgamma_r
 (
__d
, &
signgam
);

299 
	}
}

300 
__ex‹º_®ways_šlše
 
__NTH
 (
	$gammaf
 (
__d
))

302 #ifdeà
__USE_ISOC99


303 
__loÿl_signgam
 = 0;

304  
	`lgammaf_r
 (
__d
, &
__loÿl_signgam
);

306  
	`lgammaf_r
 (
__d
, &
signgam
);

308 
	}
}

309 #ifdeà
__MATH_DECLARE_LDOUBLE


310 
__ex‹º_®ways_šlše
 
__NTH
 (
	$gamm®
 (
__d
))

312 #ifdeà
__USE_ISOC99


313 
__loÿl_signgam
 = 0;

314  
	`lgamm®_r
 (
__d
, &
__loÿl_signgam
);

316  
	`lgamm®_r
 (
__d
, &
signgam
);

318 
	}
}

323 
__REDIRECT_NTH
 (
log
, (), 
__log_fš™e
);

324 
__REDIRECT_NTH
 (
logf
, (), 
__logf_fš™e
);

325 #ifdeà
__MATH_DECLARE_LDOUBLE


326 #ifdeà
__NO_LONG_DOUBLE_MATH


327 
__REDIRECT_NTH
 (
logl
, (), 
__log_fš™e
);

329 
__REDIRECT_NTH
 (
logl
, (), 
__logl_fš™e
);

334 
__REDIRECT_NTH
 (
log10
, (), 
__log10_fš™e
);

335 
__REDIRECT_NTH
 (
log10f
, (), 
__log10f_fš™e
);

336 #ifdeà
__MATH_DECLARE_LDOUBLE


337 #ifdeà
__NO_LONG_DOUBLE_MATH


338 
__REDIRECT_NTH
 (
log10l
, (), 
__log10_fš™e
);

340 
__REDIRECT_NTH
 (
log10l
, (), 
__log10l_fš™e
);

344 #ifdeà
__USE_ISOC99


346 
__REDIRECT_NTH
 (
log2
, (), 
__log2_fš™e
);

347 
__REDIRECT_NTH
 (
log2f
, (), 
__log2f_fš™e
);

348 #ifdeà
__MATH_DECLARE_LDOUBLE


349 #ifdeà
__NO_LONG_DOUBLE_MATH


350 
__REDIRECT_NTH
 (
log2l
, (), 
__log2_fš™e
);

352 
__REDIRECT_NTH
 (
log2l
, (), 
__log2l_fš™e
);

358 
__REDIRECT_NTH
 (
ldexp
, (, ), 
sÿlbn
);

359 
__REDIRECT_NTH
 (
ldexpf
, (, ), 
sÿlbnf
);

360 #ifdeà
__MATH_DECLARE_LDOUBLE


361 
__REDIRECT_NTH
 (
ldex¶
, (, ), 
sÿlbÆ
);

365 
__REDIRECT_NTH
 (
pow
, (, ), 
__pow_fš™e
);

366 
__REDIRECT_NTH
 (
powf
, (, ), 
__powf_fš™e
);

367 #ifdeà
__MATH_DECLARE_LDOUBLE


368 #ifdeà
__NO_LONG_DOUBLE_MATH


369 
__REDIRECT_NTH
 (
powl
, (, ),

370 
__pow_fš™e
);

372 
__REDIRECT_NTH
 (
powl
, (, ),

373 
__powl_fš™e
);

378 
__REDIRECT_NTH
 (
»mašd”
, (, ), 
__»mašd”_fš™e
);

379 
__REDIRECT_NTH
 (
»mašd”f
, (, ), 
__»mašd”f_fš™e
);

380 #ifdeà
__MATH_DECLARE_LDOUBLE


381 #ifdeà
__NO_LONG_DOUBLE_MATH


382 
__REDIRECT_NTH
 (
»mašd”l
, (, ),

383 
__»mašd”_fš™e
);

385 
__REDIRECT_NTH
 (
»mašd”l
, (, ),

386 
__»mašd”l_fš™e
);

390 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


392 
__REDIRECT_NTH
 (
sÿlb
, (, ), 
__sÿlb_fš™e
);

393 
__REDIRECT_NTH
 (
sÿlbf
, (, ), 
__sÿlbf_fš™e
);

394 #ifdeà
__MATH_DECLARE_LDOUBLE


395 #ifdeà
__NO_LONG_DOUBLE_MATH


396 
__REDIRECT_NTH
 (
sÿlbl
, (, ),

397 
__sÿlb_fš™e
);

399 
__REDIRECT_NTH
 (
sÿlbl
, (, ),

400 
__sÿlbl_fš™e
);

406 
__REDIRECT_NTH
 (
sšh
, (), 
__sšh_fš™e
);

407 
__REDIRECT_NTH
 (
sšhf
, (), 
__sšhf_fš™e
);

408 #ifdeà
__MATH_DECLARE_LDOUBLE


409 #ifdeà
__NO_LONG_DOUBLE_MATH


410 
__REDIRECT_NTH
 (
sšhl
, (), 
__sšh_fš™e
);

412 
__REDIRECT_NTH
 (
sšhl
, (), 
__sšhl_fš™e
);

417 
__REDIRECT_NTH
 (
sq¹
, (), 
__sq¹_fš™e
);

418 
__REDIRECT_NTH
 (
sq¹f
, (), 
__sq¹f_fš™e
);

419 #ifdeà
__MATH_DECLARE_LDOUBLE


420 #ifdeà
__NO_LONG_DOUBLE_MATH


421 
__REDIRECT_NTH
 (
sq¹l
, (), 
__sq¹_fš™e
);

423 
__REDIRECT_NTH
 (
sq¹l
, (), 
__sq¹l_fš™e
);

427 #ià
defšed
 
__USE_ISOC99
 && defšed 
__ex‹º_®ways_šlše


429 
__gamma_r_fš™e
 (, *);

430 
__ex‹º_®ways_šlše
 
__NTH
 (
	$tgamma
 (
__d
))

432 
__loÿl_signgam
 = 0;

433 
__»s
 = 
	`__gamma_r_fš™e
 (
__d
, &
__loÿl_signgam
);

434  
__loÿl_signgam
 < 0 ? -
__»s
 : __res;

435 
	}
}

436 
__gammaf_r_fš™e
 (, *);

437 
__ex‹º_®ways_šlše
 
__NTH
 (
	$tgammaf
 (
__d
))

439 
__loÿl_signgam
 = 0;

440 
__»s
 = 
	`__gammaf_r_fš™e
 (
__d
, &
__loÿl_signgam
);

441  
__loÿl_signgam
 < 0 ? -
__»s
 : __res;

442 
	}
}

443 #ifdeà
__MATH_DECLARE_LDOUBLE


444 
__gamm®_r_fš™e
 (, *);

445 
__ex‹º_®ways_šlše
 
__NTH
 (
	$tgamm®
 (
__d
))

447 
__loÿl_signgam
 = 0;

448 #ifdeà
__NO_LONG_DOUBLE_MATH


449 
__»s
 = 
	`__gamma_r_fš™e
 (
__d
, &
__loÿl_signgam
);

451 
__»s
 = 
	`__gamm®_r_fš™e
 (
__d
, &
__loÿl_signgam
);

453  
__loÿl_signgam
 < 0 ? -
__»s
 : __res;

454 
	}
}

	@/usr/include/bits/mathcalls.h

45 #iâdeà
_MATH_H


52 
_MdoubË_BEGIN_NAMESPACE


54 
__MATHCALL
 (
acos
,, (
_MdoubË_
 
__x
));

56 
__MATHCALL
 (
asš
,, (
_MdoubË_
 
__x
));

58 
__MATHCALL
 (
©ª
,, (
_MdoubË_
 
__x
));

60 
__MATHCALL
 (
©ª2
,, (
_MdoubË_
 
__y
, _MdoubË_ 
__x
));

63 
__MATHCALL
 (
cos
,, (
_MdoubË_
 
__x
));

65 
__MATHCALL
 (
sš
,, (
_MdoubË_
 
__x
));

67 
__MATHCALL
 (
n
,, (
_MdoubË_
 
__x
));

72 
__MATHCALL
 (
cosh
,, (
_MdoubË_
 
__x
));

74 
__MATHCALL
 (
sšh
,, (
_MdoubË_
 
__x
));

76 
__MATHCALL
 (
nh
,, (
_MdoubË_
 
__x
));

77 
	g_MdoubË_END_NAMESPACE


79 #ifdeà
__USE_GNU


81 
__MATHDECL
 (,
sšcos
,,

82 (
_MdoubË_
 
__x
, _MdoubË_ *
__sšx
, _MdoubË_ *
__cosx
));

85 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


86 
__BEGIN_NAMESPACE_C99


88 
__MATHCALL
 (
acosh
,, (
_MdoubË_
 
__x
));

90 
__MATHCALL
 (
asšh
,, (
_MdoubË_
 
__x
));

92 
__MATHCALL
 (
©ªh
,, (
_MdoubË_
 
__x
));

93 
	g__END_NAMESPACE_C99


98 
_MdoubË_BEGIN_NAMESPACE


100 
__MATHCALL
 (
exp
,, (
_MdoubË_
 
__x
));

103 
__MATHCALL
 (
äexp
,, (
_MdoubË_
 
__x
, *
__expÚ’t
));

106 
__MATHCALL
 (
ldexp
,, (
_MdoubË_
 
__x
, 
__expÚ’t
));

109 
__MATHCALL
 (
log
,, (
_MdoubË_
 
__x
));

112 
__MATHCALL
 (
log10
,, (
_MdoubË_
 
__x
));

115 
__MATHCALL
 (
modf
,, (
_MdoubË_
 
__x
, _MdoubË_ *
__Œ
)è
__nÚnuÎ
 ((2));

116 
	g_MdoubË_END_NAMESPACE


118 #ifdeà
__USE_GNU


120 
__MATHCALL
 (
exp10
,, (
_MdoubË_
 
__x
));

122 
__MATHCALL
 (
pow10
,, (
_MdoubË_
 
__x
));

125 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


126 
__BEGIN_NAMESPACE_C99


128 
__MATHCALL
 (
expm1
,, (
_MdoubË_
 
__x
));

131 
__MATHCALL
 (
log1p
,, (
_MdoubË_
 
__x
));

134 
__MATHCALL
 (
logb
,, (
_MdoubË_
 
__x
));

135 
	g__END_NAMESPACE_C99


138 #ifdeà
__USE_ISOC99


139 
__BEGIN_NAMESPACE_C99


141 
__MATHCALL
 (
exp2
,, (
_MdoubË_
 
__x
));

144 
__MATHCALL
 (
log2
,, (
_MdoubË_
 
__x
));

145 
	g__END_NAMESPACE_C99


151 
_MdoubË_BEGIN_NAMESPACE


153 
__MATHCALL
 (
pow
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

156 
__MATHCALL
 (
sq¹
,, (
_MdoubË_
 
__x
));

157 
	g_MdoubË_END_NAMESPACE


159 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_ISOC99


160 
__BEGIN_NAMESPACE_C99


162 
__MATHCALL
 (
hypÙ
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

163 
	g__END_NAMESPACE_C99


166 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


167 
__BEGIN_NAMESPACE_C99


169 
__MATHCALL
 (
cb¹
,, (
_MdoubË_
 
__x
));

170 
	g__END_NAMESPACE_C99


176 
_MdoubË_BEGIN_NAMESPACE


178 
__MATHCALLX
 (
û
,, (
_MdoubË_
 
__x
), (
__cÚ¡__
));

181 
__MATHCALLX
 (
çbs
,, (
_MdoubË_
 
__x
), (
__cÚ¡__
));

184 
__MATHCALLX
 (
æoÜ
,, (
_MdoubË_
 
__x
), (
__cÚ¡__
));

187 
__MATHCALL
 (
fmod
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

192 
__MATHDECL_1
 (,
__isšf
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

195 
__MATHDECL_1
 (,
__fš™e
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

196 
	g_MdoubË_END_NAMESPACE


198 #ifdeà
__USE_MISC


201 
__MATHDECL_1
 (,
isšf
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

204 
__MATHDECL_1
 (,
fš™e
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

207 
__MATHCALL
 (
d»m
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

211 
__MATHCALL
 (
signifiÿnd
,, (
_MdoubË_
 
__x
));

214 #ifdeà
__USE_ISOC99


215 
__BEGIN_NAMESPACE_C99


217 
__MATHCALLX
 (
cİysign
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
), (
__cÚ¡__
));

218 
	g__END_NAMESPACE_C99


221 #ifdeà
__USE_ISOC99


222 
__BEGIN_NAMESPACE_C99


224 
__MATHCALLX
 (
Çn
,, (cÚ¡ *
__gb
), (
__cÚ¡__
));

225 
	g__END_NAMESPACE_C99


230 
__MATHDECL_1
 (,
__i¢ª
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

232 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


234 
__MATHDECL_1
 (,
i¢ª
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

237 
__MATHCALL
 (
j0
,, (
_MdoubË_
));

238 
__MATHCALL
 (
j1
,, (
_MdoubË_
));

239 
__MATHCALL
 (
jn
,, (, 
_MdoubË_
));

240 
__MATHCALL
 (
y0
,, (
_MdoubË_
));

241 
__MATHCALL
 (
y1
,, (
_MdoubË_
));

242 
__MATHCALL
 (
yn
,, (, 
_MdoubË_
));

246 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_ISOC99


247 
__BEGIN_NAMESPACE_C99


249 
__MATHCALL
 (
”f
,, (
_MdoubË_
));

250 
__MATHCALL
 (
”fc
,, (
_MdoubË_
));

251 
__MATHCALL
 (
lgamma
,, (
_MdoubË_
));

252 
	g__END_NAMESPACE_C99


255 #ifdeà
__USE_ISOC99


256 
__BEGIN_NAMESPACE_C99


258 
__MATHCALL
 (
tgamma
,, (
_MdoubË_
));

259 
	g__END_NAMESPACE_C99


262 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


264 
__MATHCALL
 (
gamma
,, (
_MdoubË_
));

267 #ifdeà
__USE_MISC


271 
__MATHCALL
 (
lgamma
,
_r
, (
_MdoubË_
, *
__signgamp
));

275 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


276 
__BEGIN_NAMESPACE_C99


279 
__MATHCALL
 (
ršt
,, (
_MdoubË_
 
__x
));

282 
__MATHCALLX
 (
Ãxá”
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
), (
__cÚ¡__
));

283 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__LDBL_COMPAT


284 
__MATHCALLX
 (
Ãx‰ow¬d
,, (
_MdoubË_
 
__x
, 
__y
), (
__cÚ¡__
));

288 
__MATHCALL
 (
»mašd”
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

290 #ifdeà
__USE_ISOC99


292 
__MATHCALL
 (
sÿlbn
,, (
_MdoubË_
 
__x
, 
__n
));

296 
__MATHDECL
 (,
ogb
,, (
_MdoubË_
 
__x
));

299 #ifdeà
__USE_ISOC99


301 
__MATHCALL
 (
sÿlbÊ
,, (
_MdoubË_
 
__x
, 
__n
));

305 
__MATHCALL
 (
Ã¬byšt
,, (
_MdoubË_
 
__x
));

309 
__MATHCALLX
 (
round
,, (
_MdoubË_
 
__x
), (
__cÚ¡__
));

313 
__MATHCALLX
 (
Œunc
,, (
_MdoubË_
 
__x
), (
__cÚ¡__
));

318 
__MATHCALL
 (
»mquo
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
, *
__quo
));

325 
__MATHDECL
 (,
Ìšt
,, (
_MdoubË_
 
__x
));

326 
__ex‹nsiÚ__


327 
__MATHDECL
 (,
Îršt
,, (
_MdoubË_
 
__x
));

331 
__MATHDECL
 (,
Ìound
,, (
_MdoubË_
 
__x
));

332 
__ex‹nsiÚ__


333 
__MATHDECL
 (,
Îround
,, (
_MdoubË_
 
__x
));

337 
__MATHCALL
 (
fdim
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

340 
__MATHCALLX
 (
fmax
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
), (
__cÚ¡__
));

343 
__MATHCALLX
 (
fmš
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
), (
__cÚ¡__
));

347 
__MATHDECL_1
 (, 
__åşassify
,, (
_MdoubË_
 
__v®ue
))

348 
__©Œibu‹__
 ((
__cÚ¡__
));

351 
__MATHDECL_1
 (, 
__signb™
,, (
_MdoubË_
 
__v®ue
))

352 
__©Œibu‹__
 ((
__cÚ¡__
));

356 
__MATHCALL
 (
fma
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
, _MdoubË_ 
__z
));

359 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


360 
	g__END_NAMESPACE_C99


363 #ifdeà
__USE_GNU


365 
__MATHDECL_1
 (, 
__issigÇlšg
,, (
_MdoubË_
 
__v®ue
))

366 
__©Œibu‹__
 ((
__cÚ¡__
));

369 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


371 
__MATHCALL
 (
sÿlb
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__n
));

	@/usr/include/bits/mathdef.h

18 #ià!
defšed
 
_MATH_H
 && !defšed 
_COMPLEX_H


22 #ià
defšed
 
__USE_ISOC99
 && defšed 
_MATH_H
 && !defšed 
_MATH_H_MATHDEF


23 
	#_MATH_H_MATHDEF
 1

	)

25 #ià
defšed
 
__x86_64__
 || (defšed 
__FLT_EVAL_METHOD__
 && __FLT_EVAL_METHOD__ == 0)

28 
	tæßt_t
;

29 
	tdoubË_t
;

35 
	tæßt_t
;

37 
	tdoubË_t
;

42 
	#FP_ILOGB0
 (-2147483647 - 1)

	)

43 
	#FP_ILOGBNAN
 (-2147483647 - 1)

	)

47 #ifdeà
__FP_FAST_FMA


48 
	#FP_FAST_FMA
 1

	)

51 #ifdeà
__FP_FAST_FMAF


52 
	#FP_FAST_FMAF
 1

	)

55 #ifdeà
__FP_FAST_FMAL


56 
	#FP_FAST_FMAL
 1

	)

	@/usr/include/bits/mathinline.h

19 #iâdeà
_MATH_H


23 #iâdeà
__ex‹º_®ways_šlše


24 
	#__MATH_INLINE
 
__šlše


	)

26 
	#__MATH_INLINE
 
__ex‹º_®ways_šlše


	)

30 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__
 && __GNUC__ >= 2

32 #ià!
__GNUC_PREREQ
 (2,97)

37 #undeà
isg»©”


38 #undeà
isg»©”equ®


39 #undeà
i¦ess


40 #undeà
i¦es£qu®


41 #undeà
i¦essg»©”


42 #undeà
isunÜd”ed


43 #ifdeà
__i686__


46 
	#isg»©”
(
x
, 
y
) \

47 ({ 
__»suÉ
; \

48 
	`__asm__
 ("fucomip %%st(1), %%st; seta %%al" \

49 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st"); \

50 
__»suÉ
; })

	)

51 
	#isg»©”equ®
(
x
, 
y
) \

52 ({ 
__»suÉ
; \

53 
	`__asm__
 ("fucomip %%st(1), %%st; setae %%al" \

54 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st"); \

55 
__»suÉ
; })

	)

57 
	#i¦ess
(
x
, 
y
) \

58 ({ 
__»suÉ
; \

59 
	`__asm__
 ("fucomip %%st(1), %%st; seta %%al" \

60 : "÷" (
__»suÉ
è: "u" (
x
), "t" (
y
) : "cc", "st"); \

61 
__»suÉ
; })

	)

63 
	#i¦es£qu®
(
x
, 
y
) \

64 ({ 
__»suÉ
; \

65 
	`__asm__
 ("fucomip %%st(1), %%st; setae %%al" \

66 : "÷" (
__»suÉ
è: "u" (
x
), "t" (
y
) : "cc", "st"); \

67 
__»suÉ
; })

	)

69 
	#i¦essg»©”
(
x
, 
y
) \

70 ({ 
__»suÉ
; \

71 
	`__asm__
 ("fucomip %%st(1), %%st; setne %%al" \

72 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st"); \

73 
__»suÉ
; })

	)

75 
	#isunÜd”ed
(
x
, 
y
) \

76 ({ 
__»suÉ
; \

77 
	`__asm__
 ("fucomip %%st(1), %%st; setp %%al" \

78 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st"); \

79 
__»suÉ
; })

	)

82 
	#isg»©”
(
x
, 
y
) \

83 ({ 
__»suÉ
; \

84 
	`__asm__
 ("fucompp; fnstsw;estb $0x45, %%ah; setz %%al" \

85 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

86 
__»suÉ
; })

	)

88 
	#isg»©”equ®
(
x
, 
y
) \

89 ({ 
__»suÉ
; \

90 
	`__asm__
 ("fucompp; fnstsw;estb $0x05, %%ah; setz %%al" \

91 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

92 
__»suÉ
; })

	)

94 
	#i¦ess
(
x
, 
y
) \

95 ({ 
__»suÉ
; \

96 
	`__asm__
 ("fucompp; fnstsw;estb $0x45, %%ah; setz %%al" \

97 : "÷" (
__»suÉ
è: "u" (
x
), "t" (
y
) : "cc", "st", "st(1)"); \

98 
__»suÉ
; })

	)

100 
	#i¦es£qu®
(
x
, 
y
) \

101 ({ 
__»suÉ
; \

102 
	`__asm__
 ("fucompp; fnstsw;estb $0x05, %%ah; setz %%al" \

103 : "÷" (
__»suÉ
è: "u" (
x
), "t" (
y
) : "cc", "st", "st(1)"); \

104 
__»suÉ
; })

	)

106 
	#i¦essg»©”
(
x
, 
y
) \

107 ({ 
__»suÉ
; \

108 
	`__asm__
 ("fucompp; fnstsw;estb $0x44, %%ah; setz %%al" \

109 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

110 
__»suÉ
; })

	)

112 
	#isunÜd”ed
(
x
, 
y
) \

113 ({ 
__»suÉ
; \

114 
	`__asm__
 ("fucompp; fnstsw; sahf; setp %%al" \

115 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

116 
__»suÉ
; })

	)

122 #ià
__GNUC_PREREQ
 (2, 8)

123 
__BEGIN_NAMESPACE_C99


126 
__MATH_INLINE
 

127 
__NTH
 (
	$__signb™f
 (
__x
))

129 #ifdeà
__SSE2_MATH__


130 
__m
;

131 
	`__asm
 ("pmovmskb %1, %0" : "ô" (
__m
è: "x" (
__x
));

132  (
__m
 & 0x8) != 0;

134 
__ex‹nsiÚ__
 uniÚ { 
__f
; 
__i
; } 
__u
 = { __f: 
__x
 };

135  
__u
.
__i
 < 0;

137 
	}
}

138 
__MATH_INLINE
 

139 
__NTH
 (
	$__signb™
 (
__x
))

141 #ifdeà
__SSE2_MATH__


142 
__m
;

143 
	`__asm
 ("pmovmskb %1, %0" : "ô" (
__m
è: "x" (
__x
));

144  (
__m
 & 0x80) != 0;

146 
__ex‹nsiÚ__
 uniÚ { 
__d
; 
__i
[2]; } 
__u
 = { __d: 
__x
 };

147  
__u
.
__i
[1] < 0;

149 
	}
}

150 
__MATH_INLINE
 

151 
__NTH
 (
	$__signb™l
 (
__x
))

153 
__ex‹nsiÚ__
 uniÚ { 
__l
; 
__i
[3]; } 
__u
 = { __l: 
__x
 };

154  (
__u
.
__i
[2] & 0x8000) != 0;

155 
	}
}

157 
	g__END_NAMESPACE_C99


164 #ià
__GNUC_PREREQ
 (2, 8)

165 #ià!
__GNUC_PREREQ
 (3, 4è&& !
defšed
 
__NO_MATH_INLINES
 \

166 && 
defšed
 
	g__OPTIMIZE__


170 #ifdeà
__USE_ISOC99


171 
	g__BEGIN_NAMESPACE_C99


174 #ifdeà
__SSE_MATH__


175 
__MATH_INLINE
 

176 
__NTH
 (
	$Ìštf
 (
__x
))

178 
__»s
;

183 
__asm
 
	`__vŞ©e__
 ("cvtss2s˜%1, %0" : "ô" (
__»s
è: "xm" (
__x
));

184  
__»s
;

185 
	}
}

187 #ifdeà
__SSE2_MATH__


188 
__MATH_INLINE
 

189 
__NTH
 (
	$Ìšt
 (
__x
))

191 
__»s
;

196 
__asm
 
	`__vŞ©e__
 ("cvtsd2s˜%1, %0" : "ô" (
__»s
è: "xm" (
__x
));

197  
__»s
;

198 
	}
}

200 #ifdeà
__x86_64__


201 
__ex‹nsiÚ__


202 
__MATH_INLINE
 

203 
__NTH
 (
	$Îrštf
 (
__x
))

205 
__»s
;

210 
__asm
 
	`__vŞ©e__
 ("cvtss2s˜%1, %0" : "ô" (
__»s
è: "xm" (
__x
));

211  
__»s
;

212 
	}
}

213 
__ex‹nsiÚ__


214 
__MATH_INLINE
 

215 
__NTH
 (
	$Îršt
 (
__x
))

217 
__»s
;

222 
__asm
 
	`__vŞ©e__
 ("cvtsd2s˜%1, %0" : "ô" (
__»s
è: "xm" (
__x
));

223  
__»s
;

224 
	}
}

227 #ià
defšed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0 \

228 && 
defšed
 
__SSE2_MATH__


230 
__MATH_INLINE
 

231 
__NTH
 (
	$fmaxf
 (
__x
, 
__y
))

233 #ifdeà
__AVX__


234 
__»s
;

235 
	`__asm
 ("vmaxs %2, %1, %0" : "=x" (
__»s
è: "x" (
x
), "xm" (
__y
));

236  
__»s
;

238 
	`__asm
 ("maxs %1, %0" : "+x" (
__x
è: "xm" (
__y
));

239  
__x
;

241 
	}
}

242 
__MATH_INLINE
 

243 
__NTH
 (
	$fmax
 (
__x
, 
__y
))

245 #ifdeà
__AVX__


246 
__»s
;

247 
	`__asm
 ("vmaxsd %2, %1, %0" : "=x" (
__»s
è: "x" (
x
), "xm" (
__y
));

248  
__»s
;

250 
	`__asm
 ("maxsd %1, %0" : "+x" (
__x
è: "xm" (
__y
));

251  
__x
;

253 
	}
}

256 
__MATH_INLINE
 

257 
__NTH
 (
	$fmšf
 (
__x
, 
__y
))

259 #ifdeà
__AVX__


260 
__»s
;

261 
	`__asm
 ("vmšs %2, %1, %0" : "=x" (
__»s
è: "x" (
x
), "xm" (
__y
));

262  
__»s
;

264 
	`__asm
 ("mšs %1, %0" : "+x" (
__x
è: "xm" (
__y
));

265  
__x
;

267 
	}
}

268 
__MATH_INLINE
 

269 
__NTH
 (
	$fmš
 (
__x
, 
__y
))

271 #ifdeà
__AVX__


272 
__»s
;

273 
	`__asm
 ("vmšsd %2, %1, %0" : "=x" (
__»s
è: "x" (
x
), "xm" (
__y
));

274  
__»s
;

276 
	`__asm
 ("mšsd %1, %0" : "+x" (
__x
è: "xm" (
__y
));

277  
__x
;

279 
	}
}

282 
	g__END_NAMESPACE_C99


285 #ià
defšed
 
__SSE4_1__
 && defšed 
__SSE2_MATH__


286 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


287 
__BEGIN_NAMESPACE_C99


290 
__MATH_INLINE
 

291 
__NTH
 (
	$ršt
 (
__x
))

293 
__»s
;

298 
__asm
 
	`__vŞ©e__
 ("roundsd $4, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

299  
__»s
;

300 
	}
}

301 
__MATH_INLINE
 

302 
__NTH
 (
	$rštf
 (
__x
))

304 
__»s
;

309 
__asm
 
	`__vŞ©e__
 ("rounds $4, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

310  
__»s
;

311 
	}
}

313 #ifdeà
__USE_ISOC99


315 
__MATH_INLINE
 

316 
__NTH
 (
	$Ã¬byšt
 (
__x
))

318 
__»s
;

323 
__asm
 
	`__vŞ©e__
 ("roundsd $0xc, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

324  
__»s
;

325 
	}
}

326 
__MATH_INLINE
 

327 
__NTH
 (
	$Ã¬byštf
 (
__x
))

329 
__»s
;

334 
__asm
 
	`__vŞ©e__
 ("rounds $0xc, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

335  
__»s
;

336 
	}
}

339 
	g__END_NAMESPACE_C99


342 
__BEGIN_NAMESPACE_STD


344 
__MATH_INLINE
 

345 
__NTH
 (
	$û
 (
__x
))

347 
__»s
;

348 
	`__asm
 ("roundsd $2, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

349  
__»s
;

350 
	}
}

351 
__END_NAMESPACE_STD


353 
__BEGIN_NAMESPACE_C99


354 
__MATH_INLINE
 

355 
__NTH
 (
	$ûf
 (
__x
))

357 
__»s
;

358 
	`__asm
 ("rounds $2, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

359  
__»s
;

360 
	}
}

361 
__END_NAMESPACE_C99


363 
__BEGIN_NAMESPACE_STD


365 
__MATH_INLINE
 

366 
__NTH
 (
	$æoÜ
 (
__x
))

368 
__»s
;

369 
	`__asm
 ("roundsd $1, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

370  
__»s
;

371 
	}
}

372 
__END_NAMESPACE_STD


374 
__BEGIN_NAMESPACE_C99


375 
__MATH_INLINE
 

376 
__NTH
 (
	$æoÜf
 (
__x
))

378 
__»s
;

379 
	`__asm
 ("rounds $1, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

380  
__»s
;

381 
	}
}

382 
	g__END_NAMESPACE_C99


390 #ià!
defšed
 
__SSE2_MATH__
 && !defšed 
__x86_64__


391 #ià((!
defšed
 
__NO_MATH_INLINES
 || defšed 
__LIBC_INTERNAL_MATH_INLINES
) \

392 && 
defšed
 
	g__OPTIMIZE__
)

396 #undeà
m©h_”rhªdlšg


405 #ifdeà
__USE_ISOC99


406 
	#__šlše_m©hİ
(
func
, 
İ
) \

407 
	`__šlše_m©hİ_
 (, 
func
, 
İ
) \

408 
	`__šlše_m©hİ_
 (, 
	`__CONCAT
(
func
,
f
), 
İ
) \

409 
	`__šlše_m©hİ_
 (, 
	`__CONCAT
(
func
,
l
), 
İ
)

	)

410 
	#__šlše_m©hİNP
(
func
, 
İ
) \

411 
	`__šlše_m©hİNP_
 (, 
func
, 
İ
) \

412 
	`__šlše_m©hİNP_
 (, 
	`__CONCAT
(
func
,
f
), 
İ
) \

413 
	`__šlše_m©hİNP_
 (, 
	`__CONCAT
(
func
,
l
), 
İ
)

	)

415 
	#__šlše_m©hİ
(
func
, 
İ
) \

416 
	`__šlše_m©hİ_
 (, 
func
, 
İ
)

	)

417 
	#__šlše_m©hİNP
(
func
, 
İ
) \

418 
	`__šlše_m©hİNP_
 (, 
func
, 
İ
)

	)

421 
	#__šlše_m©hİ_
(
æßt_ty³
, 
func
, 
İ
) \

422 
	`__šlše_m©hİ_deş_
 (
æßt_ty³
, 
func
, 
İ
, "0" (
__x
))

	)

423 
	#__šlše_m©hİNP_
(
æßt_ty³
, 
func
, 
İ
) \

424 
	`__šlše_m©hİ_deşNP_
 (
æßt_ty³
, 
func
, 
İ
, "0" (
__x
))

	)

427 #ifdeà
__USE_ISOC99


428 
	#__šlše_m©hİ_deş
(
func
, 
İ
, 
·¿ms
...) \

429 
	`__šlše_m©hİ_deş_
 (, 
func
, 
İ
, 
·¿ms
) \

430 
	`__šlše_m©hİ_deş_
 (, 
	`__CONCAT
(
func
,
f
), 
İ
, 
·¿ms
) \

431 
	`__šlše_m©hİ_deş_
 (, 
	`__CONCAT
(
func
,
l
), 
İ
, 
·¿ms
)

	)

432 
	#__šlše_m©hİ_deşNP
(
func
, 
İ
, 
·¿ms
...) \

433 
	`__šlše_m©hİ_deşNP_
 (, 
func
, 
İ
, 
·¿ms
) \

434 
	`__šlše_m©hİ_deşNP_
 (, 
	`__CONCAT
(
func
,
f
), 
İ
, 
·¿ms
) \

435 
	`__šlše_m©hİ_deşNP_
 (, 
	`__CONCAT
(
func
,
l
), 
İ
, 
·¿ms
)

	)

437 
	#__šlše_m©hİ_deş
(
func
, 
İ
, 
·¿ms
...) \

438 
	`__šlše_m©hİ_deş_
 (, 
func
, 
İ
, 
·¿ms
)

	)

439 
	#__šlše_m©hİ_deşNP
(
func
, 
İ
, 
·¿ms
...) \

440 
	`__šlše_m©hİ_deşNP_
 (, 
func
, 
İ
, 
·¿ms
)

	)

443 
	#__šlše_m©hİ_deş_
(
æßt_ty³
, 
func
, 
İ
, 
·¿ms
...) \

444 
__MATH_INLINE
 
æßt_ty³
 
	`func
 (æßt_ty³è
__THROW
; \

445 
	`__šlše_m©hİ_deşNP_
 (
æßt_ty³
, 
func
, 
İ
, 
·¿ms
)

	)

447 
	#__šlše_m©hİ_deşNP_
(
æßt_ty³
, 
func
, 
İ
, 
·¿ms
...) \

448 
__MATH_INLINE
 
æßt_ty³
 
	`__NTH
 (
	`func
 (æßt_ty³ 
__x
)) \

450 
æßt_ty³
 
__»suÉ
; \

451 
__asm
 
	`__vŞ©e__
 (
İ
 : "ñ" (
__»suÉ
è: 
·¿ms
); \

452  
__»suÉ
; \

453 }

	)

456 #ifdeà
__USE_ISOC99


457 
	#__šlše_m©hcode
(
func
, 
¬g
, 
code
) \

458 
	`__šlše_m©hcode_
 (, 
func
, 
¬g
, 
code
) \

459 
	`__šlše_m©hcode_
 (, 
	`__CONCAT
(
func
,
f
), 
¬g
, 
code
) \

460 
	`__šlše_m©hcode_
 (, 
	`__CONCAT
(
func
,
l
), 
¬g
, 
code
)

	)

461 
	#__šlše_m©hcodeNP
(
func
, 
¬g
, 
code
) \

462 
	`__šlše_m©hcodeNP_
 (, 
func
, 
¬g
, 
code
) \

463 
	`__šlše_m©hcodeNP_
 (, 
	`__CONCAT
(
func
,
f
), 
¬g
, 
code
) \

464 
	`__šlše_m©hcodeNP_
 (, 
	`__CONCAT
(
func
,
l
), 
¬g
, 
code
)

	)

465 
	#__šlše_m©hcode2
(
func
, 
¬g1
, 
¬g2
, 
code
) \

466 
	`__šlše_m©hcode2_
 (, 
func
, 
¬g1
, 
¬g2
, 
code
) \

467 
	`__šlše_m©hcode2_
 (, 
	`__CONCAT
(
func
,
f
), 
¬g1
, 
¬g2
, 
code
) \

468 
	`__šlše_m©hcode2_
 (, 
	`__CONCAT
(
func
,
l
), 
¬g1
, 
¬g2
, 
code
)

	)

469 
	#__šlše_m©hcodeNP2
(
func
, 
¬g1
, 
¬g2
, 
code
) \

470 
	`__šlše_m©hcodeNP2_
 (, 
func
, 
¬g1
, 
¬g2
, 
code
) \

471 
	`__šlše_m©hcodeNP2_
 (, 
	`__CONCAT
(
func
,
f
), 
¬g1
, 
¬g2
, 
code
) \

472 
	`__šlše_m©hcodeNP2_
 (, 
	`__CONCAT
(
func
,
l
), 
¬g1
, 
¬g2
, 
code
)

	)

473 
	#__šlše_m©hcode3
(
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

474 
	`__šlše_m©hcode3_
 (, 
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

475 
	`__šlše_m©hcode3_
 (, 
	`__CONCAT
(
func
,
f
), 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

476 
	`__šlše_m©hcode3_
 (, 
	`__CONCAT
(
func
,
l
), 
¬g1
, 
¬g2
, 
¬g3
, 
code
)

	)

477 
	#__šlše_m©hcodeNP3
(
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

478 
	`__šlše_m©hcodeNP3_
 (, 
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

479 
	`__šlše_m©hcodeNP3_
 (, 
	`__CONCAT
(
func
,
f
), 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

480 
	`__šlše_m©hcodeNP3_
 (, 
	`__CONCAT
(
func
,
l
), 
¬g1
, 
¬g2
, 
¬g3
, 
code
)

	)

482 
	#__šlše_m©hcode
(
func
, 
¬g
, 
code
) \

483 
	`__šlše_m©hcode_
 (, 
func
, (
¬g
), 
code
)

	)

484 
	#__šlše_m©hcodeNP
(
func
, 
¬g
, 
code
) \

485 
	`__šlše_m©hcodeNP_
 (, 
func
, (
¬g
), 
code
)

	)

486 
	#__šlše_m©hcode2
(
func
, 
¬g1
, 
¬g2
, 
code
) \

487 
	`__šlše_m©hcode2_
 (, 
func
, 
¬g1
, 
¬g2
, 
code
)

	)

488 
	#__šlše_m©hcodeNP2
(
func
, 
¬g1
, 
¬g2
, 
code
) \

489 
	`__šlše_m©hcodeNP2_
 (, 
func
, 
¬g1
, 
¬g2
, 
code
)

	)

490 
	#__šlše_m©hcode3
(
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

491 
	`__šlše_m©hcode3_
 (, 
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
)

	)

492 
	#__šlše_m©hcodeNP3
(
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

493 
	`__šlše_m©hcodeNP3_
 (, 
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
)

	)

496 
	#__šlše_m©hcode_
(
æßt_ty³
, 
func
, 
¬g
, 
code
) \

497 
__MATH_INLINE
 
æßt_ty³
 
	`func
 (æßt_ty³è
__THROW
; \

498 
	`__šlše_m©hcodeNP_
(
æßt_ty³
, 
func
, 
¬g
, 
code
)

	)

500 
	#__šlše_m©hcodeNP_
(
æßt_ty³
, 
func
, 
¬g
, 
code
) \

501 
__MATH_INLINE
 
æßt_ty³
 
	`__NTH
 (
	`func
 (æßt_ty³ 
¬g
)) \

503 
code
; \

504 }

	)

507 
	#__šlše_m©hcode2_
(
æßt_ty³
, 
func
, 
¬g1
, 
¬g2
, 
code
) \

508 
__MATH_INLINE
 
æßt_ty³
 
	`func
 (æßt_ty³, flßt_ty³è
__THROW
; \

509 
	`__šlše_m©hcodeNP2_
 (
æßt_ty³
, 
func
, 
¬g1
, 
¬g2
, 
code
)

	)

511 
	#__šlše_m©hcodeNP2_
(
æßt_ty³
, 
func
, 
¬g1
, 
¬g2
, 
code
) \

512 
__MATH_INLINE
 
æßt_ty³
 
	`__NTH
 (
	`func
 (æßt_ty³ 
¬g1
, flßt_ty³ 
¬g2
)) \

514 
code
; \

515 }

	)

517 
	#__šlše_m©hcode3_
(
æßt_ty³
, 
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

518 
__MATH_INLINE
 
æßt_ty³
 
	`func
 (æßt_ty³, flßt_ty³, flßt_ty³è
__THROW
; \

519 
	`__šlše_m©hcodeNP3_
(
æßt_ty³
, 
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
)

	)

521 
	#__šlše_m©hcodeNP3_
(
æßt_ty³
, 
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

522 
__MATH_INLINE
 
æßt_ty³
 
	`__NTH
 (
	`func
 (æßt_ty³ 
¬g1
, flßt_ty³ 
¬g2
, \

523 
æßt_ty³
 
¬g3
)) \

525 
code
; \

526 }

	)

530 #ià!
defšed
 
__NO_MATH_INLINES
 && defšed 
__OPTIMIZE__


534 #ifdeà
__FAST_MATH__


535 #ifdeà
__USE_GNU


536 
	#__sšcos_code
 \

537 
__co¤
; \

538 
__sšr
; \

539 
__swtmp
; \

540 
__asm
 
__vŞ©e__
 \

555 : "ñ" (
__co¤
), "=u" (
__sšr
), "÷" (
__swtmp
è: "0" (
__x
)); \

556 *
__sšx
 = 
__sšr
; \

557 *
__cosx
 = 
__co¤


	)

559 
__MATH_INLINE
 

560 
__NTH
 (
	$__sšcos
 (
__x
, *
__sšx
, *
__cosx
))

562 
__sšcos_code
;

563 
	}
}

565 
__MATH_INLINE
 

566 
__NTH
 (
	$__sšcosf
 (
__x
, *
__sšx
, *
__cosx
))

568 
__sšcos_code
;

569 
	}
}

571 
__MATH_INLINE
 

572 
__NTH
 (
	$__sšco¦
 (
__x
, *
__sšx
, *
__cosx
))

574 
__sšcos_code
;

575 
	}
}

582 #ià
__GNUC_PREREQ
 (3, 5)

583 
	#__expm1_code
 \

584 
__‹mp
; \

585 
__‹mp
 = 
	`__butš_expm1l
 (
__x
); \

586  
__‹mp
 ? __‹m°: 
__x


	)

588 
	#__expm1_code
 \

589 
__v®ue
; \

590 
__expÚ’t
; \

591 
__‹mp
; \

592 
__asm
 
__vŞ©e__
 \

601 : "ñ" (
__v®ue
), "=u" (
__expÚ’t
è: "0" (
__x
)); \

602 
__asm
 
__vŞ©e__
 \

604 : "ñ" (
__‹mp
è: "0" (1.0), "u" (
__expÚ’t
)); \

605 
__‹mp
 -= 1.0; \

606 
__‹mp
 +ğ
__v®ue
; \

607  
__‹mp
 ? __‹m°: 
__x


	)

609 
	$__šlše_m©hcodeNP_
 (, 
__expm1l
, 
__x
, 
__expm1_code
)

611 #ià
	`__GNUC_PREREQ
 (3, 4)

612 
	`__šlše_m©hcodeNP_
 (, 
__ex¶
, 
__x
,  
	$__butš_ex¶
 (
__x
))

614 
	#__exp_code
 \

615 
__v®ue
; \

616 
__expÚ’t
; \

617 
__asm
 
__vŞ©e__
 \

625 : "ñ" (
__v®ue
), "=u" (
__expÚ’t
è: "0" (
__x
)); \

626 
__v®ue
 += 1.0; \

627 
__asm
 
__vŞ©e__
 \

629 : "ñ" (
__v®ue
è: "0" (__v®ue), "u" (
__expÚ’t
)); \

630  
__v®ue


	)

631 
	$__šlše_m©hcodeNP
 (
exp
, 
__x
, 
__exp_code
)

632 
	$__šlše_m©hcodeNP_
 (, 
__ex¶
, 
__x
, 
__exp_code
)

636 #ià!
	`__GNUC_PREREQ
 (3, 5)

637 
	`__šlše_m©hcodeNP
 (
n
, 
__x
, \

638 
__v®ue
; \

639 
__v®ue2
 
	`__©Œibu‹__
 ((
__unu£d__
)); \

640 
__asm
 
__vŞ©e__
 \

642 : "ñ" (
__v®ue2
), "=u" (
__v®ue
è: "0" (
__x
)); \

643  
__v®ue
)

648 #ià
	`__GNUC_PREREQ
 (3, 4)

649 
	`__šlše_m©hcodeNP2_
 (, 
__©ª2l
, 
__y
, 
__x
,

650  
	$__butš_©ª2l
 (
__y
, 
__x
))

652 
	#__©ª2_code
 \

653 
__v®ue
; \

654 
__asm
 
__vŞ©e__
 \

656 : "ñ" (
__v®ue
è: "0" (
__x
), "u" (
__y
) : "st(1)"); \

657  
__v®ue


	)

658 #ifdeà
__FAST_MATH__


659 
	$__šlše_m©hcodeNP2
 (
©ª2
, 
__y
, 
__x
, 
__©ª2_code
)

661 
	$__šlše_m©hcodeNP2_
 (, 
__©ª2l
, 
__y
, 
__x
, 
__©ª2_code
)

665 #ià
defšed
 
__FAST_MATH__
 && !
	`__GNUC_PREREQ
 (3, 5)

666 
	`__šlše_m©hcodeNP2
 (
fmod
, 
__x
, 
__y
, \

667 
__v®ue
; \

668 
__asm
 
__vŞ©e__
 \

673 : "ñ" (
__v®ue
è: "0" (
__x
), "u" (
__y
) : "ax", "cc"); \

674  
__v®ue
)

678 #ifdeà
__FAST_MATH__


679 #ià!
	`__GNUC_PREREQ
 (3,3)

680 
	`__šlše_m©hİNP
 (
sq¹
, "fsqrt")

681 
	`__šlše_m©hİNP_
 (, 
__sq¹l
, "fsqrt")

682 
	#__libc_sq¹l
(
n
è
	`__sq¹l
 (n)

	)

684 
	#__libc_sq¹l
(
n
è
	`__butš_sq¹l
 (n)

	)

688 #ià
	`__GNUC_PREREQ
 (2, 8)

689 
	`__šlše_m©hcodeNP_
 (, 
çbs
, 
__x
,  
	$__butš_çbs
 (
__x
))

690 #ifdeà
__USE_ISOC99


691 
	`__šlše_m©hcodeNP_
 (, 
çbsf
, 
__x
,  
	$__butš_çbsf
 (
__x
))

692 
	`__šlše_m©hcodeNP_
 (, 
çb¦
, 
__x
,  
	$__butš_çb¦
 (
__x
))

694 
	`__šlše_m©hcodeNP_
 (, 
__çb¦
, 
__x
,  
	$__butš_çb¦
 (
__x
))

696 
	`__šlše_m©hİ
 (
çbs
, "fabs")

697 
	`__šlše_m©hİ_
 (, 
__çb¦
, "fabs")

700 #ifdeà
__FAST_MATH__


701 #ià!
	`__GNUC_PREREQ
 (3, 4)

703 
	`__šlše_m©hİNP
 (
sš
, "fsin")

705 
	`__šlše_m©hİNP
 (
cos
, "fcos")

707 
	`__šlše_m©hİ_deşNP
 (
log
, "ædÊ2; fxch; fyl2x", "0" (
__x
) : "st(1)")

710 #ià!
	`__GNUC_PREREQ
 (3, 5)

711 
	`__šlše_m©hİ_deşNP
 (
log10
, "ædlg2; fxch; fyl2x", "0" (
__x
) : "st(1)")

713 
	`__šlše_m©hcodeNP
 (
asš
, 
__x
,  
	`__©ª2l
 (__x, 
	`__libc_sq¹l
 (1.0 - __x * __x)))

714 
	`__šlše_m©hcodeNP
 (
acos
, 
__x
,  
	`__©ª2l
 (
	`__libc_sq¹l
 (1.0 - __x * __x), __x))

717 #ià!
	`__GNUC_PREREQ
 (3, 4)

718 
	`__šlše_m©hİ_deşNP
 (
©ª
, "æd1; f·n", "0" (
__x
) : "st(1)")

722 
	`__šlše_m©hcode_
 (, 
__sgn1l
, 
__x
, \

723 
__ex‹nsiÚ__
 uniÚ { 
__xld
; 
__xi
[3]; } 
__n
 = \

724 { 
__xld
: 
__x
 
	}
}; \

725 
	g__n
.
	g__xi
[2] = (
__n
.
__xi
[2] & 0x8000) | 0x3fff; \

726 
	g__n
.
	g__xi
[1] = 0x80000000; \

727 
	g__n
.
	g__xi
[0] = 0; \

728  
	g__n
.
	g__xld
)

731 #ifdeà
__FAST_MATH__


733 
__šlše_m©hcodeNP
 (
sšh
, 
__x
, \

734 
__exm1
 = 
__expm1l
 (
__çb¦
 (
__x
)); \

735  0.5 * (
__exm1
 / (__exm1 + 1.0è+ __exm1è* 
	$__sgn1l
 (
__x
))

737 
	`__šlše_m©hcodeNP
 (
cosh
, 
__x
, \

738 
__ex
 = 
	`__ex¶
 (
__x
); \

739  0.5 * (
__ex
 + 1.0 / __ex))

741 
	`__šlše_m©hcodeNP
 (
nh
, 
__x
, \

742 
__exm1
 = 
	`__expm1l
 (-
	`__çb¦
 (
__x
 + __x)); \

743  
__exm1
 / (__exm1 + 2.0è* 
	`__sgn1l
 (-
__x
))

746 
	`__šlše_m©hcodeNP
 (
æoÜ
, 
__x
, \

747 
__v®ue
; \

748 
__ignÜe
; \

749 
__cw
; \

750 
__cwtmp
; \

751 
__asm
 
	`__vŞ©e
 ("fnstcw %3\n\t" \

759 : "ñ" (
__v®ue
), "=&q" (
__ignÜe
), "=m" (
__cwtmp
), \

760 "=m" (
__cw
) \

761 : "0" (
__x
)); \

762  
__v®ue
)

764 
	`__šlše_m©hcodeNP
 (
û
, 
__x
, \

765 
__v®ue
; \

766 
__ignÜe
; \

767 
__cw
; \

768 
__cwtmp
; \

769 
__asm
 
	`__vŞ©e
 ("fnstcw %3\n\t" \

777 : "ñ" (
__v®ue
), "=&q" (
__ignÜe
), "=m" (
__cwtmp
), \

778 "=m" (
__cw
) \

779 : "0" (
__x
)); \

780  
__v®ue
)

782 #ifdeà
__FAST_MATH__


783 
	#__ldexp_code
 \

784 
__v®ue
; \

785 
__asm
 
__vŞ©e__
 \

787 : "ñ" (
__v®ue
è: "0" (
__x
), "u" ((è
__y
)); \

788  
__v®ue


	)

790 
__MATH_INLINE
 

791 
	`__NTH
 (
	$ldexp
 (
__x
, 
__y
))

793 
__ldexp_code
;

794 
	}
}

799 #ifdeà
__USE_ISOC99


801 #ifdeà
__FAST_MATH__


802 
	$__šlše_m©hcodeNP
 (
expm1
, 
__x
, 
__expm1_code
)

806 
	#__M_SQRT2
 1.41421356237309504880L

	)

808 #ià!
	`__GNUC_PREREQ
 (3, 5)

809 
	`__šlše_m©hcodeNP
 (
log1p
, 
__x
, \

810 
__v®ue
; \

811 ià(
	`__çb¦
 (
__x
è>ğ1.0 - 0.5 * 
__M_SQRT2
) \

812 
__v®ue
 = 
	`logl
 (1.0 + 
__x
); \

814 
__asm
 
__vŞ©e__
 \

818 : "ñ" (
__v®ue
è: "0" (
__x
) : "st(1)"); \

819  
__v®ue
)

824 
	`__šlše_m©hcodeNP
 (
asšh
, 
__x
, \

825 
__y
 = 
	`__çb¦
 (
__x
); \

826  (
	`log1¶
 (
__y
 * __y / (
	`__libc_sq¹l
 (__y * __y + 1.0) + 1.0) + __y) \

827 * 
	$__sgn1l
 (
__x
)))

829 
	`__šlše_m©hcodeNP
 (
acosh
, 
__x
, \

830  
	`logl
 (
__x
 + 
	`__libc_sq¹l
 (__x - 1.0) * __libc_sqrtl (__x + 1.0)))

832 
	`__šlše_m©hcodeNP
 (
©ªh
, 
__x
, \

833 
__y
 = 
	`__çb¦
 (
__x
); \

834  -0.5 * 
	`log1¶
 (-(
__y
 + __yè/ (1.0 + __y)è* 
	$__sgn1l
 (
__x
))

837 
	`__šlše_m©hcodeNP2
 (
hypÙ
, 
__x
, 
__y
,

838  
	`__libc_sq¹l
 (
__x
 * __x + 
__y
 * __y))

840 #ià!
	`__GNUC_PREREQ
 (3, 5)

841 
	`__šlše_m©hcodeNP
(
logb
, 
__x
, \

842 
__v®ue
; \

843 
__junk
; \

844 
__asm
 
__vŞ©e__
 \

846 : "ñ" (
__junk
), "=u" (
__v®ue
è: "0" (
__x
)); \

847  
__v®ue
)

853 #ifdeà
__USE_ISOC99


854 #ifdeà
__FAST_MATH__


856 #ià!
	`__GNUC_PREREQ
 (3, 5)

857 
	`__šlše_m©hİ_deşNP
 (
log2
, "æd1; fxch; fyl2x", "0" (
__x
) : "st(1)")

860 
__MATH_INLINE
 

861 
	`__NTH
 (
	$ldexpf
 (
__x
, 
__y
))

863 
__ldexp_code
;

864 
	}
}

866 
__MATH_INLINE
 

867 
__NTH
 (
	$ldex¶
 (
__x
, 
__y
))

869 
__ldexp_code
;

870 
	}
}

872 
__šlše_m©hİNP
 (
ršt
, "frndint")

875 
	#__Ìšt_code
 \

876 
__ÌšŒes
; \

877 
__asm__
 
__vŞ©e__
 \

879 : "=m" (
__ÌšŒes
è: "t" (
__x
) : "st"); \

880  
__ÌšŒes


	)

881 
__MATH_INLINE
 

882 
__NTH
 (
	$Ìštf
 (
__x
))

884 
__Ìšt_code
;

885 
	}
}

886 
__MATH_INLINE
 

887 
__NTH
 (
	$Ìšt
 (
__x
))

889 
__Ìšt_code
;

890 
	}
}

891 
__MATH_INLINE
 

892 
__NTH
 (
	$Ìš
 (
__x
))

894 
__Ìšt_code
;

895 
	}
}

896 #undeà
__Ìšt_code


898 
	#__Îršt_code
 \

899 
__ÎršŒes
; \

900 
__asm__
 
__vŞ©e__
 \

902 : "=m" (
__ÎršŒes
è: "t" (
__x
) : "st"); \

903  
__ÎršŒes


	)

904 
__ex‹nsiÚ__


905 
__MATH_INLINE
 

906 
__NTH
 (
	$Îrštf
 (
__x
))

908 
__Îršt_code
;

909 
	}
}

910 
__ex‹nsiÚ__


911 
__MATH_INLINE
 

912 
__NTH
 (
	$Îršt
 (
__x
))

914 
__Îršt_code
;

915 
	}
}

916 
__ex‹nsiÚ__


917 
__MATH_INLINE
 

918 
__NTH
 (
	$Îrš
 (
__x
))

920 
__Îršt_code
;

921 
	}
}

922 #undeà
__Îršt_code


927 #ifdeà
__USE_MISC


929 #ià
defšed
 
__FAST_MATH__
 && !
__GNUC_PREREQ
 (3, 5)

930 
__šlše_m©hcodeNP2
 (
d»m
, 
__x
, 
__y
, \

931 
__v®ue
; \

932 
__şobb”ed
; \

933 
__asm
 
__vŞ©e__
 \

938 : "ñ" (
__v®ue
), "=&a" (
__şobb”ed
è: "0" (
__x
), "u" (
__y
) : "cc"); \

939  
__v®ue
)

944 
__MATH_INLINE
 

945 
__NTH
 (
	$__fš™e
 (
__x
))

947  (
__ex‹nsiÚ__


948 (((((uniÚ { 
__d
; 
__i
[2]; }è{__d: 
__x
}).__i[1]

950 
	}
}

955 #undeà
__©ª2_code


956 #ifdeà
__FAST_MATH__


957 #undeà
__expm1_code


958 #undeà
__exp_code


959 #undeà
__sšcos_code


966 #ifdeà
__LIBC_INTERNAL_MATH_INLINES


967 
__šlše_m©hİ
 (
__›“754_sq¹
, "fsqrt")

968 
__šlše_m©hcode2
 (
__›“754_©ª2
, 
__y
, 
__x
,

969 
__v®ue
;

970 
__asm
 
__vŞ©e__
 ("fpatan\n\t"

971 : "ñ" (
__v®ue
)

972 : "0" (
__x
), "u" (
__y
) : "st(1)");

973  
__v®ue
;)

	@/usr/include/bits/nan.h

19 #iâdeà
_MATH_H


26 #ià
__GNUC_PREREQ
(3,3)

28 
	#NAN
 (
	`__butš_Çnf
 (""))

	)

30 #–ià
defšed
 
__GNUC__


32 
	#NAN
 \

33 (
__ex‹nsiÚ__
 \

34 ((uniÚ { 
__l
 
	`__©Œibu‹__
 ((
	`__mode__
 (
__SI__
))); 
__d
; }) \

35 { 
__l
: 0x7fc00000UL }).
__d
)

	)

39 
	~<’dŸn.h
>

41 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


42 
	#__qÇn_by‹s
 { 0x7f, 0xc0, 0, 0 }

	)

44 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


45 
	#__qÇn_by‹s
 { 0, 0, 0xc0, 0x7à}

	)

48 uniÚ { 
	m__c
[4]; 
	m__d
; } 
__qÇn_uniÚ


49 
__©Œibu‹__
 ((
__unu£d__
)èğ{ 
__qÇn_by‹s
 };

50 
	#NAN
 (
__qÇn_uniÚ
.
__d
)

	)

	@/usr/include/bits/posix_opt.h

19 #iâdef 
_BITS_POSIX_OPT_H


20 
	#_BITS_POSIX_OPT_H
 1

	)

23 
	#_POSIX_JOB_CONTROL
 1

	)

26 
	#_POSIX_SAVED_IDS
 1

	)

29 
	#_POSIX_PRIORITY_SCHEDULING
 200809L

	)

32 
	#_POSIX_SYNCHRONIZED_IO
 200809L

	)

35 
	#_POSIX_FSYNC
 200809L

	)

38 
	#_POSIX_MAPPED_FILES
 200809L

	)

41 
	#_POSIX_MEMLOCK
 200809L

	)

44 
	#_POSIX_MEMLOCK_RANGE
 200809L

	)

47 
	#_POSIX_MEMORY_PROTECTION
 200809L

	)

50 
	#_POSIX_CHOWN_RESTRICTED
 0

	)

54 
	#_POSIX_VDISABLE
 '\0'

	)

57 
	#_POSIX_NO_TRUNC
 1

	)

60 
	#_XOPEN_REALTIME
 1

	)

63 
	#_XOPEN_REALTIME_THREADS
 1

	)

66 
	#_XOPEN_SHM
 1

	)

69 
	#_POSIX_THREADS
 200809L

	)

72 
	#_POSIX_REENTRANT_FUNCTIONS
 1

	)

73 
	#_POSIX_THREAD_SAFE_FUNCTIONS
 200809L

	)

76 
	#_POSIX_THREAD_PRIORITY_SCHEDULING
 200809L

	)

79 
	#_POSIX_THREAD_ATTR_STACKSIZE
 200809L

	)

82 
	#_POSIX_THREAD_ATTR_STACKADDR
 200809L

	)

85 
	#_POSIX_THREAD_PRIO_INHERIT
 200809L

	)

89 
	#_POSIX_THREAD_PRIO_PROTECT
 200809L

	)

91 #ifdeà
__USE_XOPEN2K8


93 
	#_POSIX_THREAD_ROBUST_PRIO_INHERIT
 200809L

	)

96 
	#_POSIX_THREAD_ROBUST_PRIO_PROTECT
 -1

	)

100 
	#_POSIX_SEMAPHORES
 200809L

	)

103 
	#_POSIX_REALTIME_SIGNALS
 200809L

	)

106 
	#_POSIX_ASYNCHRONOUS_IO
 200809L

	)

107 
	#_POSIX_ASYNC_IO
 1

	)

109 
	#_LFS_ASYNCHRONOUS_IO
 1

	)

111 
	#_POSIX_PRIORITIZED_IO
 200809L

	)

114 
	#_LFS64_ASYNCHRONOUS_IO
 1

	)

117 
	#_LFS_LARGEFILE
 1

	)

118 
	#_LFS64_LARGEFILE
 1

	)

119 
	#_LFS64_STDIO
 1

	)

122 
	#_POSIX_SHARED_MEMORY_OBJECTS
 200809L

	)

125 
	#_POSIX_CPUTIME
 0

	)

128 
	#_POSIX_THREAD_CPUTIME
 0

	)

131 
	#_POSIX_REGEXP
 1

	)

134 
	#_POSIX_READER_WRITER_LOCKS
 200809L

	)

137 
	#_POSIX_SHELL
 1

	)

140 
	#_POSIX_TIMEOUTS
 200809L

	)

143 
	#_POSIX_SPIN_LOCKS
 200809L

	)

146 
	#_POSIX_SPAWN
 200809L

	)

149 
	#_POSIX_TIMERS
 200809L

	)

152 
	#_POSIX_BARRIERS
 200809L

	)

155 
	#_POSIX_MESSAGE_PASSING
 200809L

	)

158 
	#_POSIX_THREAD_PROCESS_SHARED
 200809L

	)

161 
	#_POSIX_MONOTONIC_CLOCK
 0

	)

164 
	#_POSIX_CLOCK_SELECTION
 200809L

	)

167 
	#_POSIX_ADVISORY_INFO
 200809L

	)

170 
	#_POSIX_IPV6
 200809L

	)

173 
	#_POSIX_RAW_SOCKETS
 200809L

	)

176 
	#_POSIX2_CHAR_TERM
 200809L

	)

179 
	#_POSIX_SPORADIC_SERVER
 -1

	)

180 
	#_POSIX_THREAD_SPORADIC_SERVER
 -1

	)

183 
	#_POSIX_TRACE
 -1

	)

184 
	#_POSIX_TRACE_EVENT_FILTER
 -1

	)

185 
	#_POSIX_TRACE_INHERIT
 -1

	)

186 
	#_POSIX_TRACE_LOG
 -1

	)

189 
	#_POSIX_TYPED_MEMORY_OBJECTS
 -1

	)

	@/usr/include/bits/pthreadtypes.h

18 #iâdeà
_BITS_PTHREADTYPES_H


19 
	#_BITS_PTHREADTYPES_H
 1

	)

21 
	~<b™s/wÜdsize.h
>

23 #ifdeà
__x86_64__


24 #ià
__WORDSIZE
 == 64

25 
	#__SIZEOF_PTHREAD_ATTR_T
 56

	)

26 
	#__SIZEOF_PTHREAD_MUTEX_T
 40

	)

27 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

28 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

29 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

30 
	#__SIZEOF_PTHREAD_RWLOCK_T
 56

	)

31 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

32 
	#__SIZEOF_PTHREAD_BARRIER_T
 32

	)

33 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

35 
	#__SIZEOF_PTHREAD_ATTR_T
 32

	)

36 
	#__SIZEOF_PTHREAD_MUTEX_T
 32

	)

37 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

38 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

39 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

40 
	#__SIZEOF_PTHREAD_RWLOCK_T
 44

	)

41 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

42 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

43 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

46 
	#__SIZEOF_PTHREAD_ATTR_T
 36

	)

47 
	#__SIZEOF_PTHREAD_MUTEX_T
 24

	)

48 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

49 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

50 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

51 
	#__SIZEOF_PTHREAD_RWLOCK_T
 32

	)

52 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

53 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

54 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

60 
	t±h»ad_t
;

63 
	u±h»ad_©Œ_t


65 
	m__size
[
__SIZEOF_PTHREAD_ATTR_T
];

66 
	m__®ign
;

68 #iâdeà
__have_±h»ad_©Œ_t


69 
±h»ad_©Œ_t
 
	t±h»ad_©Œ_t
;

70 
	#__have_±h»ad_©Œ_t
 1

	)

74 #ifdeà
__x86_64__


75 
	s__±h»ad_š‹º®_li¡


77 
__±h»ad_š‹º®_li¡
 *
	m__´ev
;

78 
__±h»ad_š‹º®_li¡
 *
	m__Ãxt
;

79 } 
	t__±h»ad_li¡_t
;

81 
	s__±h»ad_š‹º®_¦i¡


83 
__±h»ad_š‹º®_¦i¡
 *
	m__Ãxt
;

84 } 
	t__±h»ad_¦i¡_t
;

92 
	s__±h»ad_mu‹x_s


94 
	m__lock
;

95 
	m__couÁ
;

96 
	m__owÃr
;

97 #ifdeà
__x86_64__


98 
	m__nu£rs
;

102 
	m__kšd
;

103 #ifdeà
__x86_64__


104 
	m__¥šs
;

105 
	m__–isiÚ
;

106 
__±h»ad_li¡_t
 
	m__li¡
;

107 
	#__PTHREAD_MUTEX_HAVE_PREV
 1

	)

109 
	#__PTHREAD_SPINS
 0, 0

	)

111 
	m__nu£rs
;

112 
__ex‹nsiÚ__
 union

116 
	m__e¥šs
;

117 
	m__–isiÚ
;

118 
	#__¥šs
 
__–isiÚ_d©a
.
__e¥šs


	)

119 
	#__–isiÚ
 
__–isiÚ_d©a
.
__–isiÚ


	)

120 
	#__PTHREAD_SPINS
 { 0, 0 }

	)

121 } 
	m__–isiÚ_d©a
;

122 
__±h»ad_¦i¡_t
 
	m__li¡
;

125 } 
	m__d©a
;

126 
	m__size
[
__SIZEOF_PTHREAD_MUTEX_T
];

127 
	m__®ign
;

128 } 
	t±h»ad_mu‹x_t
;

132 
	m__size
[
__SIZEOF_PTHREAD_MUTEXATTR_T
];

133 
	m__®ign
;

134 } 
	t±h»ad_mu‹x©Œ_t
;

143 
	m__lock
;

144 
	m__fu‹x
;

145 
__ex‹nsiÚ__
 
	m__tÙ®_£q
;

146 
__ex‹nsiÚ__
 
	m__wakeup_£q
;

147 
__ex‹nsiÚ__
 
	m__wok’_£q
;

148 *
	m__mu‹x
;

149 
	m__nwa™”s
;

150 
	m__brßdÿ¡_£q
;

151 } 
	m__d©a
;

152 
	m__size
[
__SIZEOF_PTHREAD_COND_T
];

153 
__ex‹nsiÚ__
 
	m__®ign
;

154 } 
	t±h»ad_cÚd_t
;

158 
	m__size
[
__SIZEOF_PTHREAD_CONDATTR_T
];

159 
	m__®ign
;

160 } 
	t±h»ad_cÚd©Œ_t
;

164 
	t±h»ad_key_t
;

168 
	t±h»ad_Úû_t
;

171 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


176 #ifdeà
__x86_64__


179 
	m__lock
;

180 
	m__Ä_»ad”s
;

181 
	m__»ad”s_wakeup
;

182 
	m__wr™”_wakeup
;

183 
	m__Ä_»ad”s_queued
;

184 
	m__Ä_wr™”s_queued
;

185 
	m__wr™”
;

186 
	m__sh¬ed
;

187 sigÃd 
	m__rw–isiÚ
;

188 #ifdeà 
__ILP32__


189 
	m__·d1
[3];

190 
	#__PTHREAD_RWLOCK_ELISION_EXTRA
 0, { 0, 0, 0 }

	)

192 
	m__·d1
[7];

193 
	#__PTHREAD_RWLOCK_ELISION_EXTRA
 0, { 0, 0, 0, 0, 0, 0, 0 }

	)

195 
	m__·d2
;

198 
	m__æags
;

199 
	#__PTHREAD_RWLOCK_INT_FLAGS_SHARED
 1

	)

200 } 
	m__d©a
;

204 
	m__lock
;

205 
	m__Ä_»ad”s
;

206 
	m__»ad”s_wakeup
;

207 
	m__wr™”_wakeup
;

208 
	m__Ä_»ad”s_queued
;

209 
	m__Ä_wr™”s_queued
;

212 
	m__æags
;

213 
	m__sh¬ed
;

214 sigÃd 
	m__rw–isiÚ
;

215 
	#__PTHREAD_RWLOCK_ELISION_EXTRA
 0

	)

216 
	m__·d2
;

217 
	m__wr™”
;

218 } 
	m__d©a
;

220 
	m__size
[
__SIZEOF_PTHREAD_RWLOCK_T
];

221 
	m__®ign
;

222 } 
	t±h»ad_rwlock_t
;

226 
	m__size
[
__SIZEOF_PTHREAD_RWLOCKATTR_T
];

227 
	m__®ign
;

228 } 
	t±h»ad_rwlock©Œ_t
;

232 #ifdeà
__USE_XOPEN2K


234 vŞ©
	t±h»ad_¥šlock_t
;

241 
	m__size
[
__SIZEOF_PTHREAD_BARRIER_T
];

242 
	m__®ign
;

243 } 
	t±h»ad_b¬r›r_t
;

247 
	m__size
[
__SIZEOF_PTHREAD_BARRIERATTR_T
];

248 
	m__®ign
;

249 } 
	t±h»ad_b¬r›¿‰r_t
;

253 #iâdeà
__x86_64__


255 
	#__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
	`__»g·rm__
 (1)))

	)

	@/usr/include/bits/resource.h

19 #iâdeà
_SYS_RESOURCE_H


23 
	~<b™s/ty³s.h
>

31 
	e__¾im™_»sourû


34 
	mRLIMIT_CPU
 = 0,

35 
	#RLIMIT_CPU
 
RLIMIT_CPU


	)

38 
	mRLIMIT_FSIZE
 = 1,

39 
	#RLIMIT_FSIZE
 
RLIMIT_FSIZE


	)

42 
	mRLIMIT_DATA
 = 2,

43 
	#RLIMIT_DATA
 
RLIMIT_DATA


	)

46 
	mRLIMIT_STACK
 = 3,

47 
	#RLIMIT_STACK
 
RLIMIT_STACK


	)

50 
	mRLIMIT_CORE
 = 4,

51 
	#RLIMIT_CORE
 
RLIMIT_CORE


	)

57 
	m__RLIMIT_RSS
 = 5,

58 
	#RLIMIT_RSS
 
__RLIMIT_RSS


	)

61 
	mRLIMIT_NOFILE
 = 7,

62 
	m__RLIMIT_OFILE
 = 
RLIMIT_NOFILE
,

63 
	#RLIMIT_NOFILE
 
RLIMIT_NOFILE


	)

64 
	#RLIMIT_OFILE
 
__RLIMIT_OFILE


	)

67 
	mRLIMIT_AS
 = 9,

68 
	#RLIMIT_AS
 
RLIMIT_AS


	)

71 
	m__RLIMIT_NPROC
 = 6,

72 
	#RLIMIT_NPROC
 
__RLIMIT_NPROC


	)

75 
	m__RLIMIT_MEMLOCK
 = 8,

76 
	#RLIMIT_MEMLOCK
 
__RLIMIT_MEMLOCK


	)

79 
	m__RLIMIT_LOCKS
 = 10,

80 
	#RLIMIT_LOCKS
 
__RLIMIT_LOCKS


	)

83 
	m__RLIMIT_SIGPENDING
 = 11,

84 
	#RLIMIT_SIGPENDING
 
__RLIMIT_SIGPENDING


	)

87 
	m__RLIMIT_MSGQUEUE
 = 12,

88 
	#RLIMIT_MSGQUEUE
 
__RLIMIT_MSGQUEUE


	)

93 
	m__RLIMIT_NICE
 = 13,

94 
	#RLIMIT_NICE
 
__RLIMIT_NICE


	)

98 
	m__RLIMIT_RTPRIO
 = 14,

99 
	#RLIMIT_RTPRIO
 
__RLIMIT_RTPRIO


	)

104 
	m__RLIMIT_RTTIME
 = 15,

105 
	#RLIMIT_RTTIME
 
__RLIMIT_RTTIME


	)

107 
	m__RLIMIT_NLIMITS
 = 16,

108 
	m__RLIM_NLIMITS
 = 
__RLIMIT_NLIMITS


109 
	#RLIMIT_NLIMITS
 
__RLIMIT_NLIMITS


	)

110 
	#RLIM_NLIMITS
 
__RLIM_NLIMITS


	)

114 #iâdeà
__USE_FILE_OFFSET64


115 
	#RLIM_INFINITY
 ((
__¾im_t
è-1)

	)

117 
	#RLIM_INFINITY
 0xffffffffffffffffuLL

	)

120 #ifdeà
__USE_LARGEFILE64


121 
	#RLIM64_INFINITY
 0xffffffffffffffffuLL

	)

125 
	#RLIM_SAVED_MAX
 
RLIM_INFINITY


	)

126 
	#RLIM_SAVED_CUR
 
RLIM_INFINITY


	)

130 #iâdeà
__USE_FILE_OFFSET64


131 
__¾im_t
 
	t¾im_t
;

133 
__¾im64_t
 
	t¾im_t
;

135 #ifdeà
__USE_LARGEFILE64


136 
__¾im64_t
 
	t¾im64_t
;

139 
	s¾im™


142 
¾im_t
 
	m¾im_cur
;

144 
¾im_t
 
	m¾im_max
;

147 #ifdeà
__USE_LARGEFILE64


148 
	s¾im™64


151 
¾im64_t
 
	m¾im_cur
;

153 
¾im64_t
 
	m¾im_max
;

158 
	e__ru§ge_who


161 
	mRUSAGE_SELF
 = 0,

162 
	#RUSAGE_SELF
 
RUSAGE_SELF


	)

165 
	mRUSAGE_CHILDREN
 = -1

166 
	#RUSAGE_CHILDREN
 
RUSAGE_CHILDREN


	)

168 #ifdeà
__USE_GNU


171 
	mRUSAGE_THREAD
 = 1

172 
	#RUSAGE_THREAD
 
RUSAGE_THREAD


	)

174 
	#RUSAGE_LWP
 
RUSAGE_THREAD


	)

178 
	#__Ãed_timev®


	)

179 
	~<b™s/time.h
>

187 
	sru§ge


190 
timev®
 
	mru_utime
;

192 
timev®
 
	mru_¡ime
;

194 
__ex‹nsiÚ__
 union

196 
	mru_maxrss
;

197 
__sysÿÎ_¦Úg_t
 
	m__ru_maxrss_wÜd
;

202 
__ex‹nsiÚ__
 union

204 
	mru_ixrss
;

205 
__sysÿÎ_¦Úg_t
 
	m__ru_ixrss_wÜd
;

208 
__ex‹nsiÚ__
 union

210 
	mru_idrss
;

211 
__sysÿÎ_¦Úg_t
 
	m__ru_idrss_wÜd
;

214 
__ex‹nsiÚ__
 union

216 
	mru_i¤ss
;

217 
__sysÿÎ_¦Úg_t
 
	m__ru_i¤ss_wÜd
;

221 
__ex‹nsiÚ__
 union

223 
	mru_mšæt
;

224 
__sysÿÎ_¦Úg_t
 
	m__ru_mšæt_wÜd
;

227 
__ex‹nsiÚ__
 union

229 
	mru_majæt
;

230 
__sysÿÎ_¦Úg_t
 
	m__ru_majæt_wÜd
;

233 
__ex‹nsiÚ__
 union

235 
	mru_nsw­
;

236 
__sysÿÎ_¦Úg_t
 
	m__ru_nsw­_wÜd
;

240 
__ex‹nsiÚ__
 union

242 
	mru_šblock
;

243 
__sysÿÎ_¦Úg_t
 
	m__ru_šblock_wÜd
;

246 
__ex‹nsiÚ__
 union

248 
	mru_oublock
;

249 
__sysÿÎ_¦Úg_t
 
	m__ru_oublock_wÜd
;

252 
__ex‹nsiÚ__
 union

254 
	mru_msg¢d
;

255 
__sysÿÎ_¦Úg_t
 
	m__ru_msg¢d_wÜd
;

258 
__ex‹nsiÚ__
 union

260 
	mru_msgrcv
;

261 
__sysÿÎ_¦Úg_t
 
	m__ru_msgrcv_wÜd
;

264 
__ex‹nsiÚ__
 union

266 
	mru_nsigÇls
;

267 
__sysÿÎ_¦Úg_t
 
	m__ru_nsigÇls_wÜd
;

272 
__ex‹nsiÚ__
 union

274 
	mru_nvcsw
;

275 
__sysÿÎ_¦Úg_t
 
	m__ru_nvcsw_wÜd
;

279 
__ex‹nsiÚ__
 union

281 
	mru_nivcsw
;

282 
__sysÿÎ_¦Úg_t
 
	m__ru_nivcsw_wÜd
;

287 
	#PRIO_MIN
 -20

	)

288 
	#PRIO_MAX
 20

	)

292 
	e__´iÜ™y_which


294 
	mPRIO_PROCESS
 = 0,

295 
	#PRIO_PROCESS
 
PRIO_PROCESS


	)

296 
	mPRIO_PGRP
 = 1,

297 
	#PRIO_PGRP
 
PRIO_PGRP


	)

298 
	mPRIO_USER
 = 2

299 
	#PRIO_USER
 
PRIO_USER


	)

303 
	g__BEGIN_DECLS


305 #ifdeà
__USE_GNU


307 #iâdeà
__USE_FILE_OFFSET64


308 
	$´lim™
 (
__pid_t
 
__pid
, 
__¾im™_»sourû
 
__»sourû
,

309 cÚ¡ 
¾im™
 *
__Ãw_lim™
,

310 
¾im™
 *
__Şd_lim™
è
__THROW
;

312 #ifdeà
__REDIRECT_NTH


313 
	`__REDIRECT_NTH
 (
´lim™
, (
__pid_t
 
__pid
,

314 
__¾im™_»sourû
 
__»sourû
,

315 cÚ¡ 
¾im™
 *
__Ãw_lim™
,

316 
¾im™
 *
__Şd_lim™
), 
´lim™64
);

318 
	#´lim™
 
´lim™64


	)

321 #ifdeà
__USE_LARGEFILE64


322 
	$´lim™64
 (
__pid_t
 
__pid
, 
__¾im™_»sourû
 
__»sourû
,

323 cÚ¡ 
¾im™64
 *
__Ãw_lim™
,

324 
¾im™64
 *
__Şd_lim™
è
__THROW
;

328 
__END_DECLS


	@/usr/include/bits/setjmp.h

19 #iâdeà
_BITS_SETJMP_H


20 
	#_BITS_SETJMP_H
 1

	)

22 #ià!
defšed
 
_SETJMP_H
 && !defšed 
_PTHREAD_H


26 
	~<b™s/wÜdsize.h
>

28 #iâdeà
_ASM


30 #ià
__WORDSIZE
 == 64

31 
	t__jmp_buf
[8];

32 #–ià
defšed
 
__x86_64__


33 
__ex‹nsiÚ__
 
	t__jmp_buf
[8];

35 
	t__jmp_buf
[6];

	@/usr/include/bits/setjmp2.h

19 #iâdeà
_SETJMP_H


24 #ifdeà
__REDIRECT_NTH


25 
__REDIRECT_NTHNL
 (
lÚgjmp
,

26 (
__jmp_buf_g
 
__’v
[1], 
__v®
),

27 
__lÚgjmp_chk
è
__©Œibu‹__
 ((
__nÜ‘uº__
));

28 
__REDIRECT_NTHNL
 (
_lÚgjmp
,

29 (
__jmp_buf_g
 
__’v
[1], 
__v®
),

30 
__lÚgjmp_chk
è
__©Œibu‹__
 ((
__nÜ‘uº__
));

31 
__REDIRECT_NTHNL
 (
siglÚgjmp
,

32 (
__jmp_buf_g
 
__’v
[1], 
__v®
),

33 
__lÚgjmp_chk
è
__©Œibu‹__
 ((
__nÜ‘uº__
));

35 
__lÚgjmp_chk
 (
__jmp_buf_g
 
__’v
[1], 
__v®
),

36 
__THROWNL
 
__©Œibu‹__
 ((
__nÜ‘uº__
));

37 
	#lÚgjmp
 
__lÚgjmp_chk


	)

38 
	#_lÚgjmp
 
__lÚgjmp_chk


	)

39 
	#siglÚgjmp
 
__lÚgjmp_chk


	)

	@/usr/include/bits/sigaction.h

19 #iâdeà
_SIGNAL_H


24 
	ssigaùiÚ


27 #ifdeà
__USE_POSIX199309


31 
__sighªdËr_t
 
	m§_hªdËr
;

33 (*
	m§_sigaùiÚ
è(, 
	msigšfo_t
 *, *);

35 
	m__sigaùiÚ_hªdËr
;

36 
	#§_hªdËr
 
__sigaùiÚ_hªdËr
.
§_hªdËr


	)

37 
	#§_sigaùiÚ
 
__sigaùiÚ_hªdËr
.
§_sigaùiÚ


	)

39 
__sighªdËr_t
 
	m§_hªdËr
;

43 
__sig£t_t
 
	m§_mask
;

46 
	m§_æags
;

49 (*
	m§_»¡Ü”
) ();

53 
	#SA_NOCLDSTOP
 1

	)

54 
	#SA_NOCLDWAIT
 2

	)

55 
	#SA_SIGINFO
 4

	)

57 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_MISC


58 
	#SA_ONSTACK
 0x08000000

	)

60 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


61 
	#SA_RESTART
 0x10000000

	)

62 
	#SA_NODEFER
 0x40000000

	)

64 
	#SA_RESETHAND
 0x80000000

	)

66 #ifdeà
__USE_MISC


67 
	#SA_INTERRUPT
 0x20000000

	)

70 
	#SA_NOMASK
 
SA_NODEFER


	)

71 
	#SA_ONESHOT
 
SA_RESETHAND


	)

72 
	#SA_STACK
 
SA_ONSTACK


	)

76 
	#SIG_BLOCK
 0

	)

77 
	#SIG_UNBLOCK
 1

	)

78 
	#SIG_SETMASK
 2

	)

	@/usr/include/bits/sigcontext.h

18 #iâdeà
_BITS_SIGCONTEXT_H


19 
	#_BITS_SIGCONTEXT_H
 1

	)

21 #ià!
defšed
 
_SIGNAL_H
 && !defšed 
_SYS_UCONTEXT_H


25 
	#FP_XSTATE_MAGIC1
 0x46505853U

	)

26 
	#FP_XSTATE_MAGIC2
 0x46505845U

	)

27 
	#FP_XSTATE_MAGIC2_SIZE
 (
FP_XSTATE_MAGIC2
)

	)

29 
	s_åx_sw_by‹s


31 
__ušt32_t
 
	mmagic1
;

32 
__ušt32_t
 
	mex‹nded_size
;

33 
__ušt64_t
 
	mx¡©e_bv
;

34 
__ušt32_t
 
	mx¡©e_size
;

35 
__ušt32_t
 
	m·ddšg
[7];

38 
	s_å»g


40 
	msignifiÿnd
[4];

41 
	mexpÚ’t
;

44 
	s_åx»g


46 
	msignifiÿnd
[4];

47 
	mexpÚ’t
;

48 
	m·ddšg
[3];

51 
	s_xmm»g


53 
__ušt32_t
 
	m–em’t
[4];

58 #iâdeà
__x86_64__


60 
	s_å¡©e


63 
__ušt32_t
 
	mcw
;

64 
__ušt32_t
 
	msw
;

65 
__ušt32_t
 
	mg
;

66 
__ušt32_t
 
	moff
;

67 
__ušt32_t
 
	mcs£l
;

68 
__ušt32_t
 
	md©aoff
;

69 
__ušt32_t
 
	md©a£l
;

70 
_å»g
 
	m_¡
[8];

71 
	m¡©us
;

72 
	mmagic
;

75 
__ušt32_t
 
	m_fx¤_’v
[6];

76 
__ušt32_t
 
	mmxc¤
;

77 
__ušt32_t
 
	m»£rved
;

78 
_åx»g
 
	m_fx¤_¡
[8];

79 
_xmm»g
 
	m_xmm
[8];

80 
__ušt32_t
 
	m·ddšg
[56];

83 #iâdeà
sigcÚ‹xt_¡ruù


88 
	#sigcÚ‹xt_¡ruù
 
sigcÚ‹xt


	)

91 
	#X86_FXSR_MAGIC
 0x0000

	)

93 
	ssigcÚ‹xt


95 
	mgs
, 
	m__gsh
;

96 
	mfs
, 
	m__fsh
;

97 
	mes
, 
	m__esh
;

98 
	mds
, 
	m__dsh
;

99 
	medi
;

100 
	mesi
;

101 
	mebp
;

102 
	me¥
;

103 
	mebx
;

104 
	medx
;

105 
	mecx
;

106 
	m—x
;

107 
	mŒ­no
;

108 
	m”r
;

109 
	me
;

110 
	mcs
, 
	m__csh
;

111 
	meæags
;

112 
	me¥_©_sigÇl
;

113 
	mss
, 
	m__ssh
;

114 
_å¡©e
 * 
	må¡©e
;

115 
	mŞdmask
;

116 
	mü2
;

121 
	s_å¡©e


124 
__ušt16_t
 
	mcwd
;

125 
__ušt16_t
 
	mswd
;

126 
__ušt16_t
 
	máw
;

127 
__ušt16_t
 
	mfİ
;

128 
__ušt64_t
 
	mr
;

129 
__ušt64_t
 
	mrdp
;

130 
__ušt32_t
 
	mmxc¤
;

131 
__ušt32_t
 
	mmxü_mask
;

132 
_åx»g
 
	m_¡
[8];

133 
_xmm»g
 
	m_xmm
[16];

134 
__ušt32_t
 
	m·ddšg
[24];

137 
	ssigcÚ‹xt


139 
__ušt64_t
 
	mr8
;

140 
__ušt64_t
 
	mr9
;

141 
__ušt64_t
 
	mr10
;

142 
__ušt64_t
 
	mr11
;

143 
__ušt64_t
 
	mr12
;

144 
__ušt64_t
 
	mr13
;

145 
__ušt64_t
 
	mr14
;

146 
__ušt64_t
 
	mr15
;

147 
__ušt64_t
 
	mrdi
;

148 
__ušt64_t
 
	mrsi
;

149 
__ušt64_t
 
	mrbp
;

150 
__ušt64_t
 
	mrbx
;

151 
__ušt64_t
 
	mrdx
;

152 
__ušt64_t
 
	m¿x
;

153 
__ušt64_t
 
	mrcx
;

154 
__ušt64_t
 
	mr¥
;

155 
__ušt64_t
 
	mr
;

156 
__ušt64_t
 
	meæags
;

157 
	mcs
;

158 
	mgs
;

159 
	mfs
;

160 
	m__·d0
;

161 
__ušt64_t
 
	m”r
;

162 
__ušt64_t
 
	mŒ­no
;

163 
__ušt64_t
 
	mŞdmask
;

164 
__ušt64_t
 
	mü2
;

165 
__ex‹nsiÚ__
 union

167 
_å¡©e
 * 
	må¡©e
;

168 
__ušt64_t
 
	m__å¡©e_wÜd
;

170 
__ušt64_t
 
	m__»£rved1
 [8];

175 
	s_x§ve_hdr


177 
__ušt64_t
 
	mx¡©e_bv
;

178 
__ušt64_t
 
	m»£rved1
[2];

179 
__ušt64_t
 
	m»£rved2
[5];

182 
	s_ymmh_¡©e


184 
__ušt32_t
 
	mymmh_¥aû
[64];

187 
	s_x¡©e


189 
_å¡©e
 
	må¡©e
;

190 
_x§ve_hdr
 
	mx¡©e_hdr
;

191 
_ymmh_¡©e
 
	mymmh
;

	@/usr/include/bits/siginfo.h

19 #ià!
defšed
 
_SIGNAL_H
 && !defšed 
__Ãed_sigšfo_t
 \

20 && !
defšed
 
	g__Ãed_sigev’t_t


24 
	~<b™s/wÜdsize.h
>

26 #ià(!
defšed
 
__have_sigv®_t
 \

27 && (
defšed
 
	g_SIGNAL_H
 || defšed 
	g__Ãed_sigšfo_t
 \

28 || 
defšed
 
	g__Ãed_sigev’t_t
))

29 
	#__have_sigv®_t
 1

	)

32 
	usigv®


34 
	msiv®_št
;

35 *
	msiv®_±r
;

36 } 
	tsigv®_t
;

39 #ià(!
defšed
 
__have_sigšfo_t
 \

40 && (
defšed
 
	g_SIGNAL_H
 || defšed 
	g__Ãed_sigšfo_t
))

41 
	#__have_sigšfo_t
 1

	)

43 
	#__SI_MAX_SIZE
 128

	)

44 #ià
__WORDSIZE
 == 64

45 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()è- 4)

	)

47 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()è- 3)

	)

50 #ià
defšed
 
__x86_64__
 && 
__WORDSIZE
 == 32

55 
__şock_t
 
	t__©Œibu‹__
 ((
	t__®igÃd__
 (4))è
	t__sigchld_şock_t
;

56 
	#__SI_ALIGNMENT
 
	`__©Œibu‹__
 ((
	`__®igÃd__
 (8)))

	)

58 
__şock_t
 
	t__sigchld_şock_t
;

59 
	#__SI_ALIGNMENT


	)

64 
si_signo
;

65 
si_”ºo
;

67 
si_code
;

71 
_·d
[
__SI_PAD_SIZE
];

76 
__pid_t
 
si_pid
;

77 
__uid_t
 
si_uid
;

78 } 
_kl
;

83 
si_tid
;

84 
si_ov”run
;

85 
sigv®_t
 
si_sigv®
;

86 } 
_tim”
;

91 
__pid_t
 
si_pid
;

92 
__uid_t
 
si_uid
;

93 
sigv®_t
 
si_sigv®
;

94 } 
_¹
;

99 
__pid_t
 
si_pid
;

100 
__uid_t
 
si_uid
;

101 
si_¡©us
;

102 
__sigchld_şock_t
 
si_utime
;

103 
__sigchld_şock_t
 
si_¡ime
;

104 } 
_sigchld
;

109 *
si_addr
;

110 
si_addr_lsb
;

111 } 
_sigçuÉ
;

116 
si_bªd
;

117 
si_fd
;

118 } 
_sigpŞl
;

123 *
_ÿÎ_addr
;

124 
_sysÿÎ
;

125 
_¬ch
;

126 } 
_sigsys
;

127 } 
_sif›lds
;

128 } 
	tsigšfo_t
 
	t__SI_ALIGNMENT
;

132 
	#si_pid
 
_sif›lds
.
_kl
.
si_pid


	)

133 
	#si_uid
 
_sif›lds
.
_kl
.
si_uid


	)

134 
	#si_tim”id
 
_sif›lds
.
_tim”
.
si_tid


	)

135 
	#si_ov”run
 
_sif›lds
.
_tim”
.
si_ov”run


	)

136 
	#si_¡©us
 
_sif›lds
.
_sigchld
.
si_¡©us


	)

137 
	#si_utime
 
_sif›lds
.
_sigchld
.
si_utime


	)

138 
	#si_¡ime
 
_sif›lds
.
_sigchld
.
si_¡ime


	)

139 
	#si_v®ue
 
_sif›lds
.
_¹
.
si_sigv®


	)

140 
	#si_št
 
_sif›lds
.
_¹
.
si_sigv®
.
siv®_št


	)

141 
	#si_±r
 
_sif›lds
.
_¹
.
si_sigv®
.
siv®_±r


	)

142 
	#si_addr
 
_sif›lds
.
_sigçuÉ
.
si_addr


	)

143 
	#si_addr_lsb
 
_sif›lds
.
_sigçuÉ
.
si_addr_lsb


	)

144 
	#si_bªd
 
_sif›lds
.
_sigpŞl
.
si_bªd


	)

145 
	#si_fd
 
_sif›lds
.
_sigpŞl
.
si_fd


	)

146 
	#si_ÿÎ_addr
 
_sif›lds
.
_sigsys
.
_ÿÎ_addr


	)

147 
	#si_sysÿÎ
 
_sif›lds
.
_sigsys
.
_sysÿÎ


	)

148 
	#si_¬ch
 
_sif›lds
.
_sigsys
.
_¬ch


	)

155 
SI_ASYNCNL
 = -60,

156 
	#SI_ASYNCNL
 
SI_ASYNCNL


	)

157 
SI_TKILL
 = -6,

158 
	#SI_TKILL
 
SI_TKILL


	)

159 
SI_SIGIO
,

160 
	#SI_SIGIO
 
SI_SIGIO


	)

161 
SI_ASYNCIO
,

162 
	#SI_ASYNCIO
 
SI_ASYNCIO


	)

163 
SI_MESGQ
,

164 
	#SI_MESGQ
 
SI_MESGQ


	)

165 
SI_TIMER
,

166 
	#SI_TIMER
 
SI_TIMER


	)

167 
SI_QUEUE
,

168 
	#SI_QUEUE
 
SI_QUEUE


	)

169 
SI_USER
,

170 
	#SI_USER
 
SI_USER


	)

171 
SI_KERNEL
 = 0x80

172 
	#SI_KERNEL
 
SI_KERNEL


	)

176 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


180 
ILL_ILLOPC
 = 1,

181 
	#ILL_ILLOPC
 
ILL_ILLOPC


	)

182 
ILL_ILLOPN
,

183 
	#ILL_ILLOPN
 
ILL_ILLOPN


	)

184 
ILL_ILLADR
,

185 
	#ILL_ILLADR
 
ILL_ILLADR


	)

186 
ILL_ILLTRP
,

187 
	#ILL_ILLTRP
 
ILL_ILLTRP


	)

188 
ILL_PRVOPC
,

189 
	#ILL_PRVOPC
 
ILL_PRVOPC


	)

190 
ILL_PRVREG
,

191 
	#ILL_PRVREG
 
ILL_PRVREG


	)

192 
ILL_COPROC
,

193 
	#ILL_COPROC
 
ILL_COPROC


	)

194 
ILL_BADSTK


195 
	#ILL_BADSTK
 
ILL_BADSTK


	)

201 
FPE_INTDIV
 = 1,

202 
	#FPE_INTDIV
 
FPE_INTDIV


	)

203 
FPE_INTOVF
,

204 
	#FPE_INTOVF
 
FPE_INTOVF


	)

205 
FPE_FLTDIV
,

206 
	#FPE_FLTDIV
 
FPE_FLTDIV


	)

207 
FPE_FLTOVF
,

208 
	#FPE_FLTOVF
 
FPE_FLTOVF


	)

209 
FPE_FLTUND
,

210 
	#FPE_FLTUND
 
FPE_FLTUND


	)

211 
FPE_FLTRES
,

212 
	#FPE_FLTRES
 
FPE_FLTRES


	)

213 
FPE_FLTINV
,

214 
	#FPE_FLTINV
 
FPE_FLTINV


	)

215 
FPE_FLTSUB


216 
	#FPE_FLTSUB
 
FPE_FLTSUB


	)

222 
SEGV_MAPERR
 = 1,

223 
	#SEGV_MAPERR
 
SEGV_MAPERR


	)

224 
SEGV_ACCERR


225 
	#SEGV_ACCERR
 
SEGV_ACCERR


	)

231 
BUS_ADRALN
 = 1,

232 
	#BUS_ADRALN
 
BUS_ADRALN


	)

233 
BUS_ADRERR
,

234 
	#BUS_ADRERR
 
BUS_ADRERR


	)

235 
BUS_OBJERR
,

236 
	#BUS_OBJERR
 
BUS_OBJERR


	)

237 
BUS_MCEERR_AR
,

238 
	#BUS_MCEERR_AR
 
BUS_MCEERR_AR


	)

239 
BUS_MCEERR_AO


240 
	#BUS_MCEERR_AO
 
BUS_MCEERR_AO


	)

244 #ifdeà
__USE_XOPEN_EXTENDED


248 
TRAP_BRKPT
 = 1,

249 
	#TRAP_BRKPT
 
TRAP_BRKPT


	)

250 
TRAP_TRACE


251 
	#TRAP_TRACE
 
TRAP_TRACE


	)

255 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


259 
CLD_EXITED
 = 1,

260 
	#CLD_EXITED
 
CLD_EXITED


	)

261 
CLD_KILLED
,

262 
	#CLD_KILLED
 
CLD_KILLED


	)

263 
CLD_DUMPED
,

264 
	#CLD_DUMPED
 
CLD_DUMPED


	)

265 
CLD_TRAPPED
,

266 
	#CLD_TRAPPED
 
CLD_TRAPPED


	)

267 
CLD_STOPPED
,

268 
	#CLD_STOPPED
 
CLD_STOPPED


	)

269 
CLD_CONTINUED


270 
	#CLD_CONTINUED
 
CLD_CONTINUED


	)

276 
POLL_IN
 = 1,

277 
	#POLL_IN
 
POLL_IN


	)

278 
POLL_OUT
,

279 
	#POLL_OUT
 
POLL_OUT


	)

280 
POLL_MSG
,

281 
	#POLL_MSG
 
POLL_MSG


	)

282 
POLL_ERR
,

283 
	#POLL_ERR
 
POLL_ERR


	)

284 
POLL_PRI
,

285 
	#POLL_PRI
 
POLL_PRI


	)

286 
POLL_HUP


287 
	#POLL_HUP
 
POLL_HUP


	)

291 #undeà
__Ãed_sigšfo_t


295 #ià(
defšed
 
_SIGNAL_H
 || defšed 
__Ãed_sigev’t_t
) \

296 && !
defšed
 
__have_sigev’t_t


297 
	#__have_sigev’t_t
 1

	)

300 
	#__SIGEV_MAX_SIZE
 64

	)

301 #ià
__WORDSIZE
 == 64

302 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()è- 4)

	)

304 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()è- 3)

	)

308 #iâdeà
__have_±h»ad_©Œ_t


309 
±h»ad_©Œ_t
 
	t±h»ad_©Œ_t
;

310 
	#__have_±h»ad_©Œ_t
 1

	)

313 
	ssigev’t


315 
sigv®_t
 
sigev_v®ue
;

316 
sigev_signo
;

317 
sigev_nÙify
;

321 
_·d
[
__SIGEV_PAD_SIZE
];

325 
__pid_t
 
_tid
;

329 (*
_funùiÚ
è(
sigv®_t
);

330 
±h»ad_©Œ_t
 *
_©Œibu‹
;

331 } 
_sigev_th»ad
;

332 } 
_sigev_un
;

333 } 
	tsigev’t_t
;

336 
	#sigev_nÙify_funùiÚ
 
_sigev_un
.
_sigev_th»ad
.
_funùiÚ


	)

337 
	#sigev_nÙify_©Œibu‹s
 
_sigev_un
.
_sigev_th»ad
.
_©Œibu‹


	)

342 
SIGEV_SIGNAL
 = 0,

343 
	#SIGEV_SIGNAL
 
SIGEV_SIGNAL


	)

344 
SIGEV_NONE
,

345 
	#SIGEV_NONE
 
SIGEV_NONE


	)

346 
SIGEV_THREAD
,

347 
	#SIGEV_THREAD
 
SIGEV_THREAD


	)

349 
SIGEV_THREAD_ID
 = 4

350 
	#SIGEV_THREAD_ID
 
SIGEV_THREAD_ID


	)

	@/usr/include/bits/signum.h

19 #ifdef 
_SIGNAL_H


22 
	#SIG_ERR
 ((
__sighªdËr_t
è-1è

	)

23 
	#SIG_DFL
 ((
__sighªdËr_t
è0è

	)

24 
	#SIG_IGN
 ((
__sighªdËr_t
è1è

	)

26 #ifdeà
__USE_UNIX98


27 
	#SIG_HOLD
 ((
__sighªdËr_t
è2è

	)

32 
	#SIGHUP
 1

	)

33 
	#SIGINT
 2

	)

34 
	#SIGQUIT
 3

	)

35 
	#SIGILL
 4

	)

36 
	#SIGTRAP
 5

	)

37 
	#SIGABRT
 6

	)

38 
	#SIGIOT
 6

	)

39 
	#SIGBUS
 7

	)

40 
	#SIGFPE
 8

	)

41 
	#SIGKILL
 9

	)

42 
	#SIGUSR1
 10

	)

43 
	#SIGSEGV
 11

	)

44 
	#SIGUSR2
 12

	)

45 
	#SIGPIPE
 13

	)

46 
	#SIGALRM
 14

	)

47 
	#SIGTERM
 15

	)

48 
	#SIGSTKFLT
 16

	)

49 
	#SIGCLD
 
SIGCHLD


	)

50 
	#SIGCHLD
 17

	)

51 
	#SIGCONT
 18

	)

52 
	#SIGSTOP
 19

	)

53 
	#SIGTSTP
 20

	)

54 
	#SIGTTIN
 21

	)

55 
	#SIGTTOU
 22

	)

56 
	#SIGURG
 23

	)

57 
	#SIGXCPU
 24

	)

58 
	#SIGXFSZ
 25

	)

59 
	#SIGVTALRM
 26

	)

60 
	#SIGPROF
 27

	)

61 
	#SIGWINCH
 28

	)

62 
	#SIGPOLL
 
SIGIO


	)

63 
	#SIGIO
 29

	)

64 
	#SIGPWR
 30

	)

65 
	#SIGSYS
 31

	)

66 
	#SIGUNUSED
 31

	)

68 
	#_NSIG
 65

	)

71 
	#SIGRTMIN
 (
	`__libc_cu¼’t_sig¹mš
 ())

	)

72 
	#SIGRTMAX
 (
	`__libc_cu¼’t_sig¹max
 ())

	)

76 
	#__SIGRTMIN
 32

	)

77 
	#__SIGRTMAX
 (
_NSIG
 - 1)

	)

	@/usr/include/bits/sigset.h

19 #iâdef 
_SIGSET_H_ty³s


20 
	#_SIGSET_H_ty³s
 1

	)

22 
	t__sig_©omic_t
;

26 
	#_SIGSET_NWORDS
 (1024 / (8 *  ()))

	)

29 
	m__v®
[
_SIGSET_NWORDS
];

30 } 
	t__sig£t_t
;

41 #ià!
defšed
 
_SIGSET_H_âs
 && defšed 
_SIGNAL_H


42 
	#_SIGSET_H_âs
 1

	)

44 #iâdeà
_EXTERN_INLINE


45 
	#_EXTERN_INLINE
 
__ex‹º_šlše


	)

49 
	#__sigmask
(
sig
) \

50 (((è1è<< (((
sig
è- 1è% (8 *  ())))

	)

53 
	#__sigwÜd
(
sig
è(((sigè- 1è/ (8 *  ()))

	)

55 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

56 
	#__sigem±y£t
(
£t
) \

57 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

58 
sig£t_t
 *
__£t
 = (
£t
); \

59 --
__út
 >ğ0è
__£t
->
__v®
[__cnt] = 0; \

60 0; }))

	)

61 
	#__sigfl£t
(
£t
) \

62 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

63 
sig£t_t
 *
__£t
 = (
£t
); \

64 --
__út
 >ğ0è
__£t
->
__v®
[__cnt] = ~0UL; \

65 0; }))

	)

67 #ifdeà
__USE_GNU


71 
	#__sigi£m±y£t
(
£t
) \

72 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

73 cÚ¡ 
sig£t_t
 *
__£t
 = (
£t
); \

74 
__»t
 = 
__£t
->
__v®
[--
__út
]; \

75 !
__»t
 && --
__út
 >= 0) \

76 
__»t
 = 
__£t
->
__v®
[
__út
]; \

77 
__»t
 =ğ0; }))

	)

78 
	#__sigªd£t
(
de¡
, 
Ëá
, 
right
) \

79 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

80 
sig£t_t
 *
__de¡
 = (
de¡
); \

81 cÚ¡ 
sig£t_t
 *
__Ëá
 = (
Ëá
); \

82 cÚ¡ 
sig£t_t
 *
__right
 = (
right
); \

83 --
__út
 >= 0) \

84 
__de¡
->
__v®
[
__út
] = (
__Ëá
->__val[__cnt] \

85 & 
__right
->
__v®
[
__út
]); \

86 0; }))

	)

87 
	#__sigÜ£t
(
de¡
, 
Ëá
, 
right
) \

88 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

89 
sig£t_t
 *
__de¡
 = (
de¡
); \

90 cÚ¡ 
sig£t_t
 *
__Ëá
 = (
Ëá
); \

91 cÚ¡ 
sig£t_t
 *
__right
 = (
right
); \

92 --
__út
 >= 0) \

93 
__de¡
->
__v®
[
__út
] = (
__Ëá
->__val[__cnt] \

94 | 
__right
->
__v®
[
__út
]); \

95 0; }))

	)

102 
__sigismemb”
 (cÚ¡ 
__sig£t_t
 *, );

103 
__sigadd£t
 (
__sig£t_t
 *, );

104 
__sigd–£t
 (
__sig£t_t
 *, );

106 #ifdeà
__USE_EXTERN_INLINES


107 
	#__SIGSETFN
(
NAME
, 
BODY
, 
CONST
) \

108 
_EXTERN_INLINE
 \

109 
	`NAME
 (
CONST
 
__sig£t_t
 *
__£t
, 
__sig
) \

111 
__mask
 = 
	`__sigmask
 (
__sig
); \

112 
__wÜd
 = 
	`__sigwÜd
 (
__sig
); \

113  
BODY
; \

114 }

	)

116 
__SIGSETFN
 (
__sigismemb”
, (
__£t
->
__v®
[
__wÜd
] & 
__mask
) ? 1 : 0, const)

117 
__SIGSETFN
 (
__sigadd£t
, ((
__£t
->
__v®
[
__wÜd
] |ğ
__mask
), 0), )

118 
__SIGSETFN
 (
__sigd–£t
, ((
__£t
->
__v®
[
__wÜd
] &ğ~
__mask
), 0), )

120 #undeà
__SIGSETFN


	@/usr/include/bits/sigstack.h

19 #iâdeà
_SIGNAL_H


25 
	ssig¡ack


27 *
	mss_¥
;

28 
	mss_Ú¡ack
;

35 
	mSS_ONSTACK
 = 1,

36 
	#SS_ONSTACK
 
SS_ONSTACK


	)

37 
	mSS_DISABLE


38 
	#SS_DISABLE
 
SS_DISABLE


	)

42 
	#MINSIGSTKSZ
 2048

	)

45 
	#SIGSTKSZ
 8192

	)

49 
	ssig®t¡ack


51 *
	mss_¥
;

52 
	mss_æags
;

53 
size_t
 
	mss_size
;

54 } 
	t¡ack_t
;

	@/usr/include/bits/sigthread.h

19 #iâdeà
_BITS_SIGTHREAD_H


20 
	#_BITS_SIGTHREAD_H
 1

	)

22 #ià!
defšed
 
_SIGNAL_H
 && !defšed 
_PTHREAD_H


30 
	$±h»ad_sigmask
 (
__how
,

31 cÚ¡ 
__sig£t_t
 *
__»¡riù
 
__Ãwmask
,

32 
__sig£t_t
 *
__»¡riù
 
__Şdmask
)
__THROW
;

35 
	$±h»ad_kl
 (
±h»ad_t
 
__th»adid
, 
__signo
è
__THROW
;

37 #ifdeà
__USE_GNU


39 
	$±h»ad_sigqueue
 (
±h»ad_t
 
__th»adid
, 
__signo
,

40 cÚ¡ 
sigv®
 
__v®ue
è
__THROW
;

	@/usr/include/bits/stdio-ldbl.h

19 #iâdeà
_STDIO_H


23 
__BEGIN_NAMESPACE_STD


24 
	$__LDBL_REDIR_DECL
 (
årštf
)

25 
	$__LDBL_REDIR_DECL
 (
´štf
)

26 
	$__LDBL_REDIR_DECL
 (
¥rštf
)

27 
	$__LDBL_REDIR_DECL
 (
vårštf
)

28 
	$__LDBL_REDIR_DECL
 (
v´štf
)

29 
	$__LDBL_REDIR_DECL
 (
v¥rštf
)

30 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

31 && !
defšed
 
__REDIRECT
 \

32 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

33 
	$__LDBL_REDIR1_DECL
 (
fsÿnf
, 
__Ædbl___isoc99_fsÿnf
)

34 
	$__LDBL_REDIR1_DECL
 (
sÿnf
, 
__Ædbl___isoc99_sÿnf
)

35 
	$__LDBL_REDIR1_DECL
 (
ssÿnf
, 
__Ædbl___isoc99_ssÿnf
)

37 
	$__LDBL_REDIR_DECL
 (
fsÿnf
)

38 
	$__LDBL_REDIR_DECL
 (
sÿnf
)

39 
	$__LDBL_REDIR_DECL
 (
ssÿnf
)

41 
__END_NAMESPACE_STD


43 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_UNIX98


44 
__BEGIN_NAMESPACE_C99


45 
	$__LDBL_REDIR_DECL
 (
¢´štf
)

46 
	$__LDBL_REDIR_DECL
 (
v¢´štf
)

47 
__END_NAMESPACE_C99


50 #ifdef 
__USE_ISOC99


51 
__BEGIN_NAMESPACE_C99


52 #ià!
defšed
 
__USE_GNU
 && !defšed 
__REDIRECT
 \

53 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

54 
	$__LDBL_REDIR1_DECL
 (
vfsÿnf
, 
__Ædbl___isoc99_vfsÿnf
)

55 
	$__LDBL_REDIR1_DECL
 (
vsÿnf
, 
__Ædbl___isoc99_vsÿnf
)

56 
	$__LDBL_REDIR1_DECL
 (
vssÿnf
, 
__Ædbl___isoc99_vssÿnf
)

58 
	$__LDBL_REDIR_DECL
 (
vfsÿnf
)

59 
	$__LDBL_REDIR_DECL
 (
vssÿnf
)

60 
	$__LDBL_REDIR_DECL
 (
vsÿnf
)

62 
__END_NAMESPACE_C99


65 #ifdeà
__USE_XOPEN2K8


66 
	$__LDBL_REDIR_DECL
 (
vd´štf
)

67 
	$__LDBL_REDIR_DECL
 (
d´štf
)

70 #ifdeà
__USE_GNU


71 
	$__LDBL_REDIR_DECL
 (
va¥rštf
)

72 
	$__LDBL_REDIR_DECL
 (
__a¥rštf
)

73 
	$__LDBL_REDIR_DECL
 (
a¥rštf
)

74 
	$__LDBL_REDIR_DECL
 (
ob¡ack_´štf
)

75 
	$__LDBL_REDIR_DECL
 (
ob¡ack_v´štf
)

78 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


79 
	$__LDBL_REDIR_DECL
 (
__¥rštf_chk
)

80 
	$__LDBL_REDIR_DECL
 (
__v¥rštf_chk
)

81 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_UNIX98


82 
	$__LDBL_REDIR_DECL
 (
__¢´štf_chk
)

83 
	$__LDBL_REDIR_DECL
 (
__v¢´štf_chk
)

85 #ià
__USE_FORTIFY_LEVEL
 > 1

86 
	$__LDBL_REDIR_DECL
 (
__årštf_chk
)

87 
	$__LDBL_REDIR_DECL
 (
__´štf_chk
)

88 
	$__LDBL_REDIR_DECL
 (
__vårštf_chk
)

89 
	$__LDBL_REDIR_DECL
 (
__v´štf_chk
)

90 #ifdeà
__USE_XOPEN2K8


91 
	$__LDBL_REDIR_DECL
 (
__d´štf_chk
)

92 
	$__LDBL_REDIR_DECL
 (
__vd´štf_chk
)

94 #ifdeà
__USE_GNU


95 
	$__LDBL_REDIR_DECL
 (
__a¥rštf_chk
)

96 
	$__LDBL_REDIR_DECL
 (
__va¥rštf_chk
)

97 
	$__LDBL_REDIR_DECL
 (
__ob¡ack_´štf_chk
)

98 
	$__LDBL_REDIR_DECL
 (
__ob¡ack_v´štf_chk
)

	@/usr/include/bits/stdio.h

19 #iâdeà
_STDIO_H


23 #iâdeà
__ex‹º_šlše


24 
	#__STDIO_INLINE
 
šlše


	)

26 
	#__STDIO_INLINE
 
__ex‹º_šlše


	)

30 #ifdeà
__USE_EXTERN_INLINES


33 #ià!(
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ
)

35 
__STDIO_INLINE
 

36 
	$v´štf
 (cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

38  
	`vårštf
 (
¡dout
, 
__fmt
, 
__¬g
);

39 
	}
}

43 
__STDIO_INLINE
 

44 
	$g‘ch¬
 ()

46  
	`_IO_g‘c
 (
¡dš
);

47 
	}
}

50 #ifdeà
__USE_MISC


52 
__STDIO_INLINE
 

53 
	$fg‘c_uÆocked
 (
FILE
 *
__å
)

55  
	`_IO_g‘c_uÆocked
 (
__å
);

56 
	}
}

60 #ifdeà
__USE_POSIX


62 
__STDIO_INLINE
 

63 
	$g‘c_uÆocked
 (
FILE
 *
__å
)

65  
	`_IO_g‘c_uÆocked
 (
__å
);

66 
	}
}

69 
__STDIO_INLINE
 

70 
	$g‘ch¬_uÆocked
 ()

72  
	`_IO_g‘c_uÆocked
 (
¡dš
);

73 
	}
}

78 
__STDIO_INLINE
 

79 
	$putch¬
 (
__c
)

81  
	`_IO_putc
 (
__c
, 
¡dout
);

82 
	}
}

85 #ifdeà
__USE_MISC


87 
__STDIO_INLINE
 

88 
	$åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
)

90  
	`_IO_putc_uÆocked
 (
__c
, 
__¡»am
);

91 
	}
}

95 #ifdeà
__USE_POSIX


97 
__STDIO_INLINE
 

98 
	$putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
)

100  
	`_IO_putc_uÆocked
 (
__c
, 
__¡»am
);

101 
	}
}

104 
__STDIO_INLINE
 

105 
	$putch¬_uÆocked
 (
__c
)

107  
	`_IO_putc_uÆocked
 (
__c
, 
¡dout
);

108 
	}
}

112 #ifdef 
__USE_GNU


114 
__STDIO_INLINE
 
_IO_ssize_t


115 
	$g‘lše
 (**
__lš•Œ
, 
size_t
 *
__n
, 
FILE
 *
__¡»am
)

117  
	`__g‘d–im
 (
__lš•Œ
, 
__n
, '\n', 
__¡»am
);

118 
	}
}

122 #ifdeà
__USE_MISC


124 
__STDIO_INLINE
 

125 
__NTH
 (
	$ãof_uÆocked
 (
FILE
 *
__¡»am
))

127  
	`_IO_ãof_uÆocked
 (
__¡»am
);

128 
	}
}

131 
__STDIO_INLINE
 

132 
__NTH
 (
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
))

134  
	`_IO_ã¼Ü_uÆocked
 (
__¡»am
);

135 
	}
}

141 #ià
defšed
 
__USE_MISC
 && defšed 
__GNUC__
 && defšed 
__OPTIMIZE__
 \

142 && !
defšed
 
	g__ılu¥lus


144 
	#ä—d_uÆocked
(
±r
, 
size
, 
n
, 
¡»am
) \

145 (
	`__ex‹nsiÚ__
 ((
	`__butš_cÚ¡ªt_p
 (
size
è&& __butš_cÚ¡ªt_°(
n
) \

146 && (
size_t
è(
size
è* (size_tè(
n
) <= 8 \

147 && (
size_t
è(
size
) != 0) \

148 ? ({ *
__±r
 = (*è(
±r
); \

149 
FILE
 *
__¡»am
 = (
¡»am
); \

150 
size_t
 
__út
; \

151 
__út
 = (
size_t
è(
size
è* (size_tè(
n
); \

152 
__út
 > 0; --__cnt) \

154 
__c
 = 
	`_IO_g‘c_uÆocked
 (
__¡»am
); \

155 ià(
__c
 =ğ
EOF
) \

157 *
__±r
++ = 
__c
; \

159 ((
size_t
è(
size
è* (size_tè(
n
è- 
__út
) \

160 / (
size_t
è(
size
); }) \

161 : (((
	`__butš_cÚ¡ªt_p
 (
size
è&& (
size_t
) (size) == 0) \

162 || (
	`__butš_cÚ¡ªt_p
 (
n
è&& (
size_t
) (n) == 0)) \

164 ? ((è(
±r
), (è(
¡»am
), (è(
size
), \

165 (è(
n
), (
size_t
) 0) \

166 : 
	`ä—d_uÆocked
 (
±r
, 
size
, 
n
, 
¡»am
))))

	)

168 
	#fwr™e_uÆocked
(
±r
, 
size
, 
n
, 
¡»am
) \

169 (
	`__ex‹nsiÚ__
 ((
	`__butš_cÚ¡ªt_p
 (
size
è&& __butš_cÚ¡ªt_°(
n
) \

170 && (
size_t
è(
size
è* (size_tè(
n
) <= 8 \

171 && (
size_t
è(
size
) != 0) \

172 ? ({ cÚ¡ *
__±r
 = (cÚ¡ *è(
±r
); \

173 
FILE
 *
__¡»am
 = (
¡»am
); \

174 
size_t
 
__út
; \

175 
__út
 = (
size_t
è(
size
è* (size_tè(
n
); \

176 
__út
 > 0; --__cnt) \

177 ià(
	`_IO_putc_uÆocked
 (*
__±r
++, 
__¡»am
è=ğ
EOF
) \

179 ((
size_t
è(
size
è* (size_tè(
n
è- 
__út
) \

180 / (
size_t
è(
size
); }) \

181 : (((
	`__butš_cÚ¡ªt_p
 (
size
è&& (
size_t
) (size) == 0) \

182 || (
	`__butš_cÚ¡ªt_p
 (
n
è&& (
size_t
) (n) == 0)) \

184 ? ((è(
±r
), (è(
¡»am
), (è(
size
), \

185 (è(
n
), (
size_t
) 0) \

186 : 
	`fwr™e_uÆocked
 (
±r
, 
size
, 
n
, 
¡»am
))))

	)

190 #undeà
__STDIO_INLINE


	@/usr/include/bits/stdio2.h

19 #iâdeà
_STDIO_H


23 
	$__¥rštf_chk
 (*
__»¡riù
 
__s
, 
__æag
, 
size_t
 
__¦’
,

24 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

25 
	$__v¥rštf_chk
 (*
__»¡riù
 
__s
, 
__æag
, 
size_t
 
__¦’
,

26 cÚ¡ *
__»¡riù
 
__fÜm©
,

27 
_G_va_li¡
 
__­
è
__THROW
;

29 #ifdeà
__va_¬g_·ck


30 
__fÜtify_funùiÚ
 

31 
	`__NTH
 (
	$¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fmt
, ...))

33  
	`__butš___¥rštf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

34 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¬g_·ck
 ());

35 
	}
}

36 #–ià!
defšed
 
__ılu¥lus


37 
	#¥rštf
(
¡r
, ...) \

38 
	`__butš___¥rštf_chk
 (
¡r
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

39 
__VA_ARGS__
)

	)

42 
__fÜtify_funùiÚ
 

43 
__NTH
 (
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fmt
,

44 
_G_va_li¡
 
__­
))

46  
	`__butš___v¥rštf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

47 
	`__bos
 (
__s
), 
__fmt
, 
__­
);

48 
	}
}

50 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_UNIX98


52 
	$__¢´štf_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__n
, 
__æag
,

53 
size_t
 
__¦’
, cÚ¡ *
__»¡riù
 
__fÜm©
,

54 ...è
__THROW
;

55 
	$__v¢´štf_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__n
, 
__æag
,

56 
size_t
 
__¦’
, cÚ¡ *
__»¡riù
 
__fÜm©
,

57 
_G_va_li¡
 
__­
è
__THROW
;

59 #ifdeà
__va_¬g_·ck


60 
__fÜtify_funùiÚ
 

61 
	`__NTH
 (
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__n
,

62 cÚ¡ *
__»¡riù
 
__fmt
, ...))

64  
	`__butš___¢´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

65 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¬g_·ck
 ());

66 
	}
}

67 #–ià!
defšed
 
__ılu¥lus


68 
	#¢´štf
(
¡r
, 
Ën
, ...) \

69 
	`__butš___¢´štf_chk
 (
¡r
, 
Ën
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

70 
__VA_ARGS__
)

	)

73 
__fÜtify_funùiÚ
 

74 
__NTH
 (
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__n
,

75 cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
))

77  
	`__butš___v¢´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

78 
	`__bos
 (
__s
), 
__fmt
, 
__­
);

79 
	}
}

83 #ià
__USE_FORTIFY_LEVEL
 > 1

85 
__årštf_chk
 (
FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

86 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

87 
__´štf_chk
 (
__æag
, cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

88 
__vårštf_chk
 (
FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

89 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__­
);

90 
__v´štf_chk
 (
__æag
, cÚ¡ *
__»¡riù
 
__fÜm©
,

91 
_G_va_li¡
 
__­
);

93 #ifdeà
__va_¬g_·ck


94 
__fÜtify_funùiÚ
 

95 
	$årštf
 (
FILE
 *
__»¡riù
 
__¡»am
, cÚ¡ *__»¡riù 
__fmt
, ...)

97  
	`__årštf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

98 
	`__va_¬g_·ck
 ());

99 
	}
}

101 
__fÜtify_funùiÚ
 

102 
	$´štf
 (cÚ¡ *
__»¡riù
 
__fmt
, ...)

104  
	`__´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¬g_·ck
 ());

105 
	}
}

106 #–ià!
defšed
 
__ılu¥lus


107 
	#´štf
(...) \

108 
	`__´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

109 
	#årštf
(
¡»am
, ...) \

110 
	`__årštf_chk
 (
¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

113 
__fÜtify_funùiÚ
 

114 
	$v´štf
 (cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

116 #ifdeà
__USE_EXTERN_INLINES


117  
	`__vårštf_chk
 (
¡dout
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

119  
	`__v´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

121 
	}
}

123 
__fÜtify_funùiÚ
 

124 
	$vårštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

125 cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

127  
	`__vårštf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

128 
	}
}

130 #ifdeà
__USE_XOPEN2K8


131 
	$__d´štf_chk
 (
__fd
, 
__æag
, cÚ¡ *
__»¡riù
 
__fmt
,

132 ...è
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

133 
	$__vd´štf_chk
 (
__fd
, 
__æag
,

134 cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

135 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

137 #ifdeà
__va_¬g_·ck


138 
__fÜtify_funùiÚ
 

139 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

141  
	`__d´štf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

142 
	`__va_¬g_·ck
 ());

143 
	}
}

144 #–ià!
defšed
 
__ılu¥lus


145 
	#d´štf
(
fd
, ...) \

146 
	`__d´štf_chk
 (
fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

149 
__fÜtify_funùiÚ
 

150 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

152  
	`__vd´štf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

153 
	}
}

156 #ifdeà
__USE_GNU


158 
	$__a¥rštf_chk
 (**
__»¡riù
 
__±r
, 
__æag
,

159 cÚ¡ *
__»¡riù
 
__fmt
, ...)

160 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 3, 4))è
__wur
;

161 
	$__va¥rštf_chk
 (**
__»¡riù
 
__±r
, 
__æag
,

162 cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

163 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 3, 0))è
__wur
;

164 
	$__ob¡ack_´štf_chk
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

165 
__æag
, cÚ¡ *
__»¡riù
 
__fÜm©
,

167 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

168 
	$__ob¡ack_v´štf_chk
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

169 
__æag
,

170 cÚ¡ *
__»¡riù
 
__fÜm©
,

171 
_G_va_li¡
 
__¬gs
)

172 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

174 #ifdeà
__va_¬g_·ck


175 
__fÜtify_funùiÚ
 

176 
	`__NTH
 (
	$a¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__fmt
, ...))

178  
	`__a¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

179 
	`__va_¬g_·ck
 ());

180 
	}
}

182 
__fÜtify_funùiÚ
 

183 
__NTH
 (
	$__a¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__fmt
,

186  
	`__a¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

187 
	`__va_¬g_·ck
 ());

188 
	}
}

190 
__fÜtify_funùiÚ
 

191 
__NTH
 (
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

192 cÚ¡ *
__»¡riù
 
__fmt
, ...))

194  
	`__ob¡ack_´štf_chk
 (
__ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

195 
	`__va_¬g_·ck
 ());

196 
	}
}

197 #–ià!
defšed
 
__ılu¥lus


198 
	#a¥rštf
(
±r
, ...) \

199 
	`__a¥rštf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

200 
	#__a¥rštf
(
±r
, ...) \

201 
	`__a¥rštf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

202 
	#ob¡ack_´štf
(
ob¡ack
, ...) \

203 
	`__ob¡ack_´štf_chk
 (
ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

206 
__fÜtify_funùiÚ
 

207 
__NTH
 (
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__fmt
,

208 
_G_va_li¡
 
__­
))

210  
	`__va¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

211 
	}
}

213 
__fÜtify_funùiÚ
 

214 
__NTH
 (
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

215 cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
))

217  
	`__ob¡ack_v´štf_chk
 (
__ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

218 
__­
);

219 
	}
}

225 #ià!
defšed
 
__USE_ISOC11
 \

226 || (
defšed
 
	g__ılu¥lus
 && __ılu¥lu <ğ201103L && !defšed 
__USE_GNU
)

227 *
	$__g‘s_chk
 (*
__¡r
, 
size_t
è
__wur
;

228 *
	`__REDIRECT
 (
__g‘s_w¬n
, (*
__¡r
), 
g‘s
)

229 
__wur
 
	`__w¬Ç‰r
 ("please use fgets or getline instead, gets can't "

232 
__fÜtify_funùiÚ
 
__wur
 *

233 
	$g‘s
 (*
__¡r
)

235 ià(
	`__bos
 (
__¡r
è!ğ(
size_t
) -1)

236  
	`__g‘s_chk
 (
__¡r
, 
	`__bos
 (__str));

237  
	`__g‘s_w¬n
 (
__¡r
);

238 
	}
}

241 *
	$__fg‘s_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

242 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

243 *
	`__REDIRECT
 (
__fg‘s_®Ÿs
,

244 (*
__»¡riù
 
__s
, 
__n
,

245 
FILE
 *
__»¡riù
 
__¡»am
), 
fg‘s
è
__wur
;

246 *
	`__REDIRECT
 (
__fg‘s_chk_w¬n
,

247 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

248 
FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘s_chk
)

249 
__wur
 
	`__w¬Ç‰r
 ("fgets called with bigger sizehan†ength "

252 
__fÜtify_funùiÚ
 
__wur
 *

253 
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

255 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

257 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

258  
	`__fg‘s_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

260 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
))

261  
	`__fg‘s_chk_w¬n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

263  
	`__fg‘s_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

264 
	}
}

266 
size_t
 
	$__ä—d_chk
 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

267 
size_t
 
__size
, size_ˆ
__n
,

268 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

269 
size_t
 
	`__REDIRECT
 (
__ä—d_®Ÿs
,

270 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

271 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
),

272 
ä—d
è
__wur
;

273 
size_t
 
	`__REDIRECT
 (
__ä—d_chk_w¬n
,

274 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

275 
size_t
 
__size
, size_ˆ
__n
,

276 
FILE
 *
__»¡riù
 
__¡»am
),

277 
__ä—d_chk
)

278 
__wur
 
	`__w¬Ç‰r
 ("fread called with bigger size *‚membhan†ength "

281 
__fÜtify_funùiÚ
 
__wur
 
size_t


282 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
, size_ˆ
__n
,

283 
FILE
 *
__»¡riù
 
__¡»am
)

285 ià(
	`__bos0
 (
__±r
è!ğ(
size_t
) -1)

287 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
)

288 || !
	`__butš_cÚ¡ªt_p
 (
__n
)

289 || (
__size
 | 
__n
è>ğ(((
size_t
) 1) << (8 *  (size_t) / 2)))

290  
	`__ä—d_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__¡»am
);

292 ià(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

293  
	`__ä—d_chk_w¬n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__¡»am
);

295  
	`__ä—d_®Ÿs
 (
__±r
, 
__size
, 
__n
, 
__¡»am
);

296 
	}
}

298 #ifdeà
__USE_GNU


299 *
	$__fg‘s_uÆocked_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__size
,

300 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

301 *
	`__REDIRECT
 (
__fg‘s_uÆocked_®Ÿs
,

302 (*
__»¡riù
 
__s
, 
__n
,

303 
FILE
 *
__»¡riù
 
__¡»am
), 
fg‘s_uÆocked
è
__wur
;

304 *
	`__REDIRECT
 (
__fg‘s_uÆocked_chk_w¬n
,

305 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

306 
FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘s_uÆocked_chk
)

307 
__wur
 
	`__w¬Ç‰r
 ("fgets_unlocked called with bigger sizehan†ength "

310 
__fÜtify_funùiÚ
 
__wur
 *

311 
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

313 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

315 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

316  
	`__fg‘s_uÆocked_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

318 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
))

319  
	`__fg‘s_uÆocked_chk_w¬n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

321  
	`__fg‘s_uÆocked_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

322 
	}
}

325 #ifdeà
__USE_MISC


326 #undeà
ä—d_uÆocked


327 
size_t
 
	$__ä—d_uÆocked_chk
 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

328 
size_t
 
__size
, size_ˆ
__n
,

329 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

330 
size_t
 
	`__REDIRECT
 (
__ä—d_uÆocked_®Ÿs
,

331 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

332 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
),

333 
ä—d_uÆocked
è
__wur
;

334 
size_t
 
	`__REDIRECT
 (
__ä—d_uÆocked_chk_w¬n
,

335 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

336 
size_t
 
__size
, size_ˆ
__n
,

337 
FILE
 *
__»¡riù
 
__¡»am
),

338 
__ä—d_uÆocked_chk
)

339 
__wur
 
	`__w¬Ç‰r
 ("fread_unlocked called with bigger size *‚membhan "

342 
__fÜtify_funùiÚ
 
__wur
 
size_t


343 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
, size_ˆ
__n
,

344 
FILE
 *
__»¡riù
 
__¡»am
)

346 ià(
	`__bos0
 (
__±r
è!ğ(
size_t
) -1)

348 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
)

349 || !
	`__butš_cÚ¡ªt_p
 (
__n
)

350 || (
__size
 | 
__n
è>ğ(((
size_t
) 1) << (8 *  (size_t) / 2)))

351  
	`__ä—d_uÆocked_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

352 
__¡»am
);

354 ià(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

355  
	`__ä—d_uÆocked_chk_w¬n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

356 
__¡»am
);

359 #ifdeà
__USE_EXTERN_INLINES


360 ià(
	`__butš_cÚ¡ªt_p
 (
__size
)

361 && 
	`__butš_cÚ¡ªt_p
 (
__n
)

362 && (
__size
 | 
__n
è< (((
size_t
) 1) << (8 *  (size_t) / 2))

363 && 
__size
 * 
__n
 <= 8)

365 
size_t
 
__út
 = 
__size
 * 
__n
;

366 *
__ıŒ
 = (*è
__±r
;

367 ià(
__út
 == 0)

370 ; 
__út
 > 0; --__cnt)

372 
__c
 = 
	`_IO_g‘c_uÆocked
 (
__¡»am
);

373 ià(
__c
 =ğ
EOF
)

375 *
__ıŒ
++ = 
__c
;

377  (
__ıŒ
 - (*è
__±r
è/ 
__size
;

380  
	`__ä—d_uÆocked_®Ÿs
 (
__±r
, 
__size
, 
__n
, 
__¡»am
);

381 
	}
}

	@/usr/include/bits/stdio_lim.h

18 #ià!
defšed
 
_STDIO_H
 && !defšed 
__Ãed_FOPEN_MAX
 && !defšed 
__Ãed_IOV_MAX


22 #ifdeà
_STDIO_H


23 
	#L_tm²am
 20

	)

24 
	#TMP_MAX
 238328

	)

25 
	#FILENAME_MAX
 4096

	)

27 #ifdeà
__USE_POSIX


28 
	#L_ù”mid
 9

	)

29 #ià!
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_GNU


30 
	#L_cu£rid
 9

	)

35 #ià
defšed
 
__Ãed_FOPEN_MAX
 || defšed 
_STDIO_H


36 #undeà
FOPEN_MAX


37 
	#FOPEN_MAX
 16

	)

40 #ià
defšed
 
__Ãed_IOV_MAX
 && !defšed 
IOV_MAX


41 
	#IOV_MAX
 1024

	)

	@/usr/include/bits/stdlib-bsearch.h

19 
__ex‹º_šlše
 *

20 
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

21 
__com·r_â_t
 
__com·r
)

23 
size_t
 
__l
, 
__u
, 
__idx
;

24 cÚ¡ *
__p
;

25 
__com·risÚ
;

27 
__l
 = 0;

28 
__u
 = 
__nmemb
;

29 
__l
 < 
__u
)

31 
__idx
 = (
__l
 + 
__u
) / 2;

32 
__p
 = (*è(((cÚ¡ *è
__ba£
è+ (
__idx
 * 
__size
));

33 
__com·risÚ
 = (*
__com·r
è(
__key
, 
__p
);

34 ià(
__com·risÚ
 < 0)

35 
__u
 = 
__idx
;

36 ià(
__com·risÚ
 > 0)

37 
__l
 = 
__idx
 + 1;

39  (*è
__p
;

42  
NULL
;

43 
	}
}

	@/usr/include/bits/stdlib-float.h

19 #iâdeà
_STDLIB_H


23 #ifdeà
__USE_EXTERN_INLINES


24 
__BEGIN_NAMESPACE_STD


25 
__ex‹º_šlše
 

26 
__NTH
 (
	$©of
 (cÚ¡ *
__ÅŒ
))

28  
	`¡¹od
 (
__ÅŒ
, (**è
NULL
);

29 
	}
}

30 
	g__END_NAMESPACE_STD


	@/usr/include/bits/stdlib-ldbl.h

19 #iâdeà
_STDLIB_H


23 #ifdef 
__USE_ISOC99


24 
__BEGIN_NAMESPACE_C99


25 
	$__LDBL_REDIR1_DECL
 (
¡¹Şd
, 
¡¹od
)

26 
__END_NAMESPACE_C99


29 #ifdeà
__USE_GNU


30 
	$__LDBL_REDIR1_DECL
 (
¡¹Şd_l
, 
¡¹od_l
)

33 #ifdeà
__USE_MISC


34 
	$__LDBL_REDIR1_DECL
 (
qecvt
, 
ecvt
)

35 
	$__LDBL_REDIR1_DECL
 (
qfcvt
, 
fcvt
)

36 
	$__LDBL_REDIR1_DECL
 (
qgcvt
, 
gcvt
)

37 
	$__LDBL_REDIR1_DECL
 (
qecvt_r
, 
ecvt_r
)

38 
	$__LDBL_REDIR1_DECL
 (
qfcvt_r
, 
fcvt_r
)

	@/usr/include/bits/stdlib.h

19 #iâdeà
_STDLIB_H


23 *
	$__»®·th_chk
 (cÚ¡ *
__»¡riù
 
__Çme
,

24 *
__»¡riù
 
__»sŞved
,

25 
size_t
 
__»sŞvedËn
è
__THROW
 
__wur
;

26 *
	`__REDIRECT_NTH
 (
__»®·th_®Ÿs
,

27 (cÚ¡ *
__»¡riù
 
__Çme
,

28 *
__»¡riù
 
__»sŞved
), 
»®·th
è
__wur
;

29 *
	`__REDIRECT_NTH
 (
__»®·th_chk_w¬n
,

30 (cÚ¡ *
__»¡riù
 
__Çme
,

31 *
__»¡riù
 
__»sŞved
,

32 
size_t
 
__»sŞvedËn
), 
__»®·th_chk
è
__wur


33 
	`__w¬Ç‰r
 ("second‡rgument of„ealpath must beƒither NULL or‡t "

36 
__fÜtify_funùiÚ
 
__wur
 *

37 
	`__NTH
 (
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
, *__»¡riù 
__»sŞved
))

39 ià(
	`__bos
 (
__»sŞved
è!ğ(
size_t
) -1)

41 #ià
defšed
 
_LIBC_LIMITS_H_
 && defšed 
PATH_MAX


42 ià(
	`__bos
 (
__»sŞved
è< 
PATH_MAX
)

43  
	`__»®·th_chk_w¬n
 (
__Çme
, 
__»sŞved
, 
	`__bos
 (__resolved));

45  
	`__»®·th_chk
 (
__Çme
, 
__»sŞved
, 
	`__bos
 (__resolved));

48  
	`__»®·th_®Ÿs
 (
__Çme
, 
__»sŞved
);

49 
	}
}

52 
	$__±¢ame_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

53 
size_t
 
__Ä—l
è
__THROW
 
	`__nÚnuÎ
 ((2));

54 
	`__REDIRECT_NTH
 (
__±¢ame_r_®Ÿs
, (
__fd
, *
__buf
,

55 
size_t
 
__buæ’
), 
±¢ame_r
)

56 
	`__nÚnuÎ
 ((2));

57 
	`__REDIRECT_NTH
 (
__±¢ame_r_chk_w¬n
,

58 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

59 
size_t
 
__Ä—l
), 
__±¢ame_r_chk
)

60 
	`__nÚnuÎ
 ((2)è
	`__w¬Ç‰r
 ("ptsname_r called with buflen biggerhan "

63 
__fÜtify_funùiÚ
 

64 
	`__NTH
 (
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
))

66 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

68 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

69  
	`__±¢ame_r_chk
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

70 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

71  
	`__±¢ame_r_chk_w¬n
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

73  
	`__±¢ame_r_®Ÿs
 (
__fd
, 
__buf
, 
__buæ’
);

74 
	}
}

77 
	$__wùomb_chk
 (*
__s
, 
wch¬_t
 
__wch¬
, 
size_t
 
__buæ’
)

78 
__THROW
 
__wur
;

79 
	`__REDIRECT_NTH
 (
__wùomb_®Ÿs
, (*
__s
, 
wch¬_t
 
__wch¬
),

80 
wùomb
è
__wur
;

82 
__fÜtify_funùiÚ
 
__wur
 

83 
	`__NTH
 (
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
))

88 
	#__STDLIB_MB_LEN_MAX
 16

	)

89 #ià
defšed
 
MB_LEN_MAX
 && MB_LEN_MAX !ğ
__STDLIB_MB_LEN_MAX


92 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 && 
__STDLIB_MB_LEN_MAX
 > __bos (__s))

93  
	`__wùomb_chk
 (
__s
, 
__wch¬
, 
	`__bos
 (__s));

94  
	`__wùomb_®Ÿs
 (
__s
, 
__wch¬
);

95 
	}
}

98 
size_t
 
	$__mb¡owcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

99 cÚ¡ *
__»¡riù
 
__¤c
,

100 
size_t
 
__Ën
, size_ˆ
__d¡Ën
è
__THROW
;

101 
size_t
 
	`__REDIRECT_NTH
 (
__mb¡owcs_®Ÿs
,

102 (
wch¬_t
 *
__»¡riù
 
__d¡
,

103 cÚ¡ *
__»¡riù
 
__¤c
,

104 
size_t
 
__Ën
), 
mb¡owcs
);

105 
size_t
 
	`__REDIRECT_NTH
 (
__mb¡owcs_chk_w¬n
,

106 (
wch¬_t
 *
__»¡riù
 
__d¡
,

107 cÚ¡ *
__»¡riù
 
__¤c
,

108 
size_t
 
__Ën
, size_ˆ
__d¡Ën
), 
__mb¡owcs_chk
)

109 
	`__w¬Ç‰r
 ("mbstowcs called with dst buffer smallerhan†en "

112 
__fÜtify_funùiÚ
 
size_t


113 
	`__NTH
 (
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, cÚ¡ *__»¡riù 
__¤c
,

114 
size_t
 
__Ën
))

116 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

118 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

119  
	`__mb¡owcs_chk
 (
__d¡
, 
__¤c
, 
__Ën
,

120 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

122 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

123  
	`__mb¡owcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
,

124 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

126  
	`__mb¡owcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
);

127 
	}
}

130 
size_t
 
	$__wc¡ombs_chk
 (*
__»¡riù
 
__d¡
,

131 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

132 
size_t
 
__Ën
, size_ˆ
__d¡Ën
è
__THROW
;

133 
size_t
 
	`__REDIRECT_NTH
 (
__wc¡ombs_®Ÿs
,

134 (*
__»¡riù
 
__d¡
,

135 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

136 
size_t
 
__Ën
), 
wc¡ombs
);

137 
size_t
 
	`__REDIRECT_NTH
 (
__wc¡ombs_chk_w¬n
,

138 (*
__»¡riù
 
__d¡
,

139 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

140 
size_t
 
__Ën
, size_ˆ
__d¡Ën
), 
__wc¡ombs_chk
)

141 
	`__w¬Ç‰r
 ("wcstombs called with dst buffer smallerhan†en");

143 
__fÜtify_funùiÚ
 
size_t


144 
	`__NTH
 (
	$wc¡ombs
 (*
__»¡riù
 
__d¡
, cÚ¡ 
wch¬_t
 *__»¡riù 
__¤c
,

145 
size_t
 
__Ën
))

147 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

149 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

150  
	`__wc¡ombs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dst));

151 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

152  
	`__wc¡ombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dst));

154  
	`__wc¡ombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
);

155 
	}
}

	@/usr/include/bits/string.h

19 #iâdeà
_STRING_H


24 
	#_STRING_ARCH_uÇligÃd
 1

	)

28 #ià!
defšed
 
__x86_64__
 && (defšed 
__i486__
 || defšed 
__³Áium__
 \

29 || 
defšed
 
	g__³Áium´o__
 || defšed 
	g__³Áium4__
 \

30 || 
defšed
 
	g__nocÚa__
 || defšed 
	g__©om__
 \

31 || 
defšed
 
	g__cÜe2__
 || defšed 
	g__cÜei7__
 \

32 || 
defšed
 
	g__§ndybridge__
 || defšed 
	g__hasw–l__
 \

33 || 
defšed
 
	g__bÚÃÎ__
 || defšed 
	g__sv”mÚt__
 \

34 || 
defšed
 
	g__k6__
 || defšed 
	g__geode__
 \

35 || 
defšed
 
	g__k8__
 || defšed 
	g__©hlÚ__
 \

36 || 
defšed
 
	g__amdçm10__
 || defšed 
	g__bdv”1__
 \

37 || 
defšed
 
	g__bdv”2__
 || defšed 
	g__bdv”3__
 \

38 || 
defšed
 
	g__bdv”4__
 || defšed 
	g__btv”1__
 \

39 || 
defšed
 
	g__btv”2__
)

43 #ià!
defšed
 
__NO_STRING_INLINES
 && defšed 
__USE_STRING_INLINES
 \

44 && 
defšed
 
	g__GNUC__
 && __GNUC__ >= 2

46 #iâdeà
__STRING_INLINE


47 #iâdeà
__ex‹º_šlše


48 
	#__STRING_INLINE
 
šlše


	)

50 
	#__STRING_INLINE
 
__ex‹º_šlše


	)

55 
	#__STRING_SMALL_GET16
(
¤c
, 
idx
) \

56 ((((cÚ¡ *è(
¤c
))[
idx
 + 1] << 8) \

57 | ((cÚ¡ *è(
¤c
))[
idx
])

	)

58 
	#__STRING_SMALL_GET32
(
¤c
, 
idx
) \

59 (((((cÚ¡ *è(
¤c
))[
idx
 + 3] << 8 \

60 | ((cÚ¡ *è(
¤c
))[
idx
 + 2]) << 8 \

61 | ((cÚ¡ *è(
¤c
))[
idx
 + 1]) << 8 \

62 | ((cÚ¡ *è(
¤c
))[
idx
])

	)

66 
	#_HAVE_STRING_ARCH_memıy
 1

	)

67 
	#memıy
(
de¡
, 
¤c
, 
n
) \

68 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) \

69 ? 
	`__memıy_c
 ((
de¡
), (
¤c
), (
n
)) \

70 : 
	`__memıy_g
 ((
de¡
), (
¤c
), (
n
))))

	)

71 
	#__memıy_c
(
de¡
, 
¤c
, 
n
) \

72 ((
n
) == 0 \

73 ? (
de¡
) \

74 : (((
n
) % 4 == 0) \

75 ? 
	`__memıy_by4
 (
de¡
, 
¤c
, 
n
) \

76 : (((
n
) % 2 == 0) \

77 ? 
	`__memıy_by2
 (
de¡
, 
¤c
, 
n
) \

78 : 
	`__memıy_g
 (
de¡
, 
¤c
, 
n
))))

	)

80 
__STRING_INLINE
 *
__memıy_by4
 (*
__de¡
, cÚ¡ *
__¤c
,

81 
size_t
 
__n
);

83 
__STRING_INLINE
 *

84 
	$__memıy_by4
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

86 
__d0
, 
__d1
;

87 *
__tmp
 = 
__de¡
;

88 
__asm__
 
__vŞ©e__


96 : "=&r" (
__d0
), "=&r" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__d1
)

97 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__n
 / 4)

99  
__de¡
;

100 
	}
}

102 
__STRING_INLINE
 *
__memıy_by2
 (*
__de¡
, cÚ¡ *
__¤c
,

103 
size_t
 
__n
);

105 
__STRING_INLINE
 *

106 
	$__memıy_by2
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

108 
__d0
, 
__d1
;

109 *
__tmp
 = 
__de¡
;

110 
__asm__
 
__vŞ©e__


123 : "=&q" (
__d0
), "=&r" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__d1
)

124 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__n
 / 2)

126  
__de¡
;

127 
	}
}

129 
__STRING_INLINE
 *
__memıy_g
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
);

131 
__STRING_INLINE
 *

132 
	$__memıy_g
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

134 
__d0
, 
__d1
, 
__d2
;

135 *
__tmp
 = 
__de¡
;

136 
__asm__
 
__vŞ©e__


147 : "=&c" (
__d0
), "=&D" (
__d1
), "=&S" (
__d2
),

148 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__de¡
)

149 : "0" (
__n
), "1" (
__tmp
), "2" (
__¤c
),

150 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__¤c
)

152  
__de¡
;

153 
	}
}

155 
	#_HAVE_STRING_ARCH_memmove
 1

	)

156 #iâdeà
_FORCE_INLINES


159 
	#memmove
(
de¡
, 
¤c
, 
n
è
	`__memmove_g
 (de¡, src,‚)

	)

161 
__STRING_INLINE
 *
	$__memmove_g
 (*, cÚ¡ *, 
size_t
)

162 
	`__asm__
 ("memmove");

164 
__STRING_INLINE
 *

165 
	$__memmove_g
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

167 
__d0
, 
__d1
, 
__d2
;

168 *
__tmp
 = 
__de¡
;

169 ià(
__de¡
 < 
__¤c
)

170 
__asm__
 
__vŞ©e__


173 : "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
),

174 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__de¡
)

175 : "0" (
__n
), "1" (
__¤c
), "2" (
__tmp
),

176 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__¤c
));

178 
__asm__
 
__vŞ©e__


182 : "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
),

183 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__de¡
)

184 : "0" (
__n
), "1" (__À- 1 + (cÚ¡ *è
__¤c
),

185 "2" (
__n
 - 1 + (*è
__tmp
),

186 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__¤c
));

187  
__de¡
;

188 
	}
}

192 
	#_HAVE_STRING_ARCH_memcmp
 1

	)

193 #iâdeà
_FORCE_INLINES


194 #iâdeà
__PIC__


196 
__STRING_INLINE
 

197 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

199 
__d0
, 
__d1
, 
__d2
;

200 
__»s
;

201 
__asm__
 
__vŞ©e__


209 : "=&a" (
__»s
), "=&S" (
__d0
), "=&D" (
__d1
), "=&c" (
__d2
)

210 : "0" (0), "1" (
__s1
), "2" (
__s2
), "3" (
__n
),

211 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s1
),

212 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s2
)

214  
__»s
;

215 
	}
}

220 
	#_HAVE_STRING_ARCH_mem£t
 1

	)

221 
	#_USE_STRING_ARCH_mem£t
 1

	)

222 
	#mem£t
(
s
, 
c
, 
n
) \

223 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) && (n) <= 16 \

224 ? ((
n
) == 1 \

225 ? 
	`__mem£t_c1
 ((
s
), (
c
)) \

226 : 
	`__mem£t_gc
 ((
s
), (
c
), (
n
))) \

227 : (
	`__butš_cÚ¡ªt_p
 (
c
) \

228 ? (
	`__butš_cÚ¡ªt_p
 (
n
) \

229 ? 
	`__mem£t_cú
 ((
s
), (
c
), (
n
)) \

230 : 
	`mem£t
 ((
s
), (
c
), (
n
))) \

231 : (
	`__butš_cÚ¡ªt_p
 (
n
) \

232 ? 
	`__mem£t_gú
 ((
s
), (
c
), (
n
)) \

233 : 
	`mem£t
 ((
s
), (
c
), (
n
))))))

	)

235 
	#__mem£t_c1
(
s
, 
c
è({ *
__s
 = (s); \

236 *((*è
__s
èğ(è(
c
); \

237 
__s
; })

	)

239 
	#__mem£t_gc
(
s
, 
c
, 
n
) \

240 ({ *
__s
 = (
s
); \

242 
__ui
; \

243 
__usi
; \

244 
__uc
; \

245 } *
__u
 = 
__s
; \

246 
__c
 = ((è((è(
c
))) * 0x01010101; \

252 ià((
n
) == 3 || (n) >= 5) \

253 
__asm__
 
	`__vŞ©e__
 ("" : "ô" (
__c
) : "0" (__c)); \

256 
n
) \

259 
__u
->
__ui
 = 
__c
; \

260 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

262 
__u
->
__ui
 = 
__c
; \

263 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

265 
__u
->
__ui
 = 
__c
; \

266 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

268 
__u
->
__usi
 = (è
__c
; \

269 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

270 
__u
->
__uc
 = (è
__c
; \

274 
__u
->
__ui
 = 
__c
; \

275 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

277 
__u
->
__ui
 = 
__c
; \

278 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

280 
__u
->
__ui
 = 
__c
; \

281 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

283 
__u
->
__usi
 = (è
__c
; \

287 
__u
->
__ui
 = 
__c
; \

288 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

290 
__u
->
__ui
 = 
__c
; \

291 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

293 
__u
->
__ui
 = 
__c
; \

294 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

296 
__u
->
__uc
 = (è
__c
; \

300 
__u
->
__ui
 = 
__c
; \

301 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

303 
__u
->
__ui
 = 
__c
; \

304 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

306 
__u
->
__ui
 = 
__c
; \

307 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

309 
__u
->
__ui
 = 
__c
; \

314 
__s
; })

	)

316 
	#__mem£t_cú
(
s
, 
c
, 
n
) \

317 (((
n
) % 4 == 0) \

318 ? 
	`__mem£t_cú_by4
 (
s
, ((è((è(
c
))) * 0x01010101,\

319 
n
) \

320 : (((
n
) % 2 == 0) \

321 ? 
	`__mem£t_cú_by2
 (
s
, \

322 ((è((è(
c
))) * 0x01010101,\

323 
n
) \

324 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

326 
__STRING_INLINE
 *
__mem£t_cú_by4
 (*
__s
, 
__c
,

327 
size_t
 
__n
);

329 
__STRING_INLINE
 *

330 
	$__mem£t_cú_by4
 (*
__s
, 
__c
, 
size_t
 
__n
)

332 *
__tmp
 = 
__s
;

333 
__d0
;

334 #ifdeà
__i686__


335 
__asm__
 
__vŞ©e__


338 : "=&a" (
__c
), "=&D" (
__tmp
), "=&c" (
__d0
),

339 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

340 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

343 
__asm__
 
__vŞ©e__


349 : "=&r" (
__c
), "=&r" (
__tmp
), "=&r" (
__d0
),

350 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

351 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

354  
__s
;

355 
	}
}

357 
__STRING_INLINE
 *
__mem£t_cú_by2
 (*
__s
, 
__c
,

358 
size_t
 
__n
);

360 
__STRING_INLINE
 *

361 
	$__mem£t_cú_by2
 (*
__s
, 
__c
, 
size_t
 
__n
)

363 
__d0
, 
__d1
;

364 *
__tmp
 = 
__s
;

365 #ifdeà
__i686__


366 
__asm__
 
__vŞ©e__


370 : "=&a" (
__d0
), "=&D" (
__tmp
), "=&c" (
__d1
),

371 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

372 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

375 
__asm__
 
__vŞ©e__


381 : "=&q" (
__d0
), "=&r" (
__tmp
), "=&r" (
__d1
),

382 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

383 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

386  
__s
;

387 
	}
}

389 
	#__mem£t_gú
(
s
, 
c
, 
n
) \

390 (((
n
) % 4 == 0) \

391 ? 
	`__mem£t_gú_by4
 (
s
, 
c
, 
n
) \

392 : (((
n
) % 2 == 0) \

393 ? 
	`__mem£t_gú_by2
 (
s
, 
c
, 
n
) \

394 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

396 
__STRING_INLINE
 *
__mem£t_gú_by4
 (*
__s
, 
__c
, 
size_t
 
__n
);

398 
__STRING_INLINE
 *

399 
	$__mem£t_gú_by4
 (*
__s
, 
__c
, 
size_t
 
__n
)

401 *
__tmp
 = 
__s
;

402 
__d0
;

403 
__asm__
 
__vŞ©e__


413 : "=&q" (
__c
), "=&r" (
__tmp
), "=&r" (
__d0
),

414 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

415 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

417  
__s
;

418 
	}
}

420 
__STRING_INLINE
 *
__mem£t_gú_by2
 (*
__s
, 
__c
, 
size_t
 
__n
);

422 
__STRING_INLINE
 *

423 
	$__mem£t_gú_by2
 (*
__s
, 
__c
, 
size_t
 
__n
)

425 
__d0
, 
__d1
;

426 *
__tmp
 = 
__s
;

427 
__asm__
 
__vŞ©e__


438 : "=&q" (
__d0
), "=&r" (
__tmp
), "=&r" (
__d1
),

439 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

440 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

442  
__s
;

443 
	}
}

447 
	#_HAVE_STRING_ARCH_memchr
 1

	)

448 #iâdeà
_FORCE_INLINES


449 
__STRING_INLINE
 *

450 
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

452 
__d0
;

453 #ifdeà
__i686__


454 
__d1
;

456 *
__»s
;

457 ià(
__n
 == 0)

458  
NULL
;

459 #ifdeà
__i686__


460 
__asm__
 
__vŞ©e__


464 : "=D" (
__»s
), "=&c" (
__d0
), "=&r" (
__d1
)

465 : "a" (
__c
), "0" (
__s
), "1" (
__n
), "2" (1),

466 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

469 
__asm__
 
__vŞ©e__


475 : "=D" (
__»s
), "=&c" (
__d0
)

476 : "a" (
__c
), "0" (
__s
), "1" (
__n
),

477 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

480  
__»s
 - 1;

481 
	}
}

484 
	#_HAVE_STRING_ARCH_memrchr
 1

	)

485 #iâdeà
_FORCE_INLINES


486 
__STRING_INLINE
 *
__memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
);

488 
__STRING_INLINE
 *

489 
	$__memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

491 
__d0
;

492 #ifdeà
__i686__


493 
__d1
;

495 *
__»s
;

496 ià(
__n
 == 0)

497  
NULL
;

498 #ifdeà
__i686__


499 
__asm__
 
__vŞ©e__


505 : "=D" (
__»s
), "=&c" (
__d0
), "=&r" (
__d1
)

506 : "a" (
__c
), "0" (
__s
 + 
__n
 - 1), "1" (__n), "2" (-1),

507 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

510 
__asm__
 
__vŞ©e__


517 : "=D" (
__»s
), "=&c" (
__d0
)

518 : "a" (
__c
), "0" (
__s
 + 
__n
 - 1), "1" (__n),

519 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

522  
__»s
;

523 
	}
}

524 #ifdeà
__USE_GNU


525 
	#memrchr
(
s
, 
c
, 
n
è
	`__memrchr
 ((s), (c), (n))

	)

530 
	#_HAVE_STRING_ARCH_¿wmemchr
 1

	)

531 
__STRING_INLINE
 *
__¿wmemchr
 (cÚ¡ *
__s
, 
__c
);

533 #iâdeà
_FORCE_INLINES


534 
__STRING_INLINE
 *

535 
	$__¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

537 
__d0
;

538 *
__»s
;

539 
__asm__
 
__vŞ©e__


542 : "=D" (
__»s
), "=&c" (
__d0
)

543 : "a" (
__c
), "0" (
__s
), "1" (0xffffffff),

544 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

546  
__»s
 - 1;

547 
	}
}

548 #ifdeà
__USE_GNU


549 
__STRING_INLINE
 *

550 
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

552  
	`__¿wmemchr
 (
__s
, 
__c
);

553 
	}
}

559 
	#_HAVE_STRING_ARCH_¡¾’
 1

	)

560 
	#¡¾’
(
¡r
) \

561 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¡r
) \

562 ? 
	`__butš_¡¾’
 (
¡r
) \

563 : 
	`__¡¾’_g
 (
¡r
)))

	)

564 
__STRING_INLINE
 
size_t
 
__¡¾’_g
 (cÚ¡ *
__¡r
);

566 
__STRING_INLINE
 
size_t


567 
	$__¡¾’_g
 (cÚ¡ *
__¡r
)

569 
__dummy
;

570 cÚ¡ *
__tmp
 = 
__¡r
;

571 
__asm__
 
__vŞ©e__


577 : "ô" (
__tmp
), "=&q" (
__dummy
)

578 : "0" (
__¡r
),

579 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__¡r
)

581  
__tmp
 - 
__¡r
 - 1;

582 
	}
}

586 
	#_HAVE_STRING_ARCH_¡rıy
 1

	)

587 
	#¡rıy
(
de¡
, 
¤c
) \

588 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

589 ? ( ((
¤c
)[0]è=ğ1 && 
	`¡¾’
 (src) + 1 <= 8 \

590 ? 
	`__¡rıy_a_sm®l
 ((
de¡
), (
¤c
), 
	`¡¾’
 (src) + 1) \

591 : (*è
	`memıy
 ((*è(
de¡
), \

592 (cÚ¡ *è(
¤c
), \

593 
	`¡¾’
 (
¤c
) + 1)) \

594 : 
	`__¡rıy_g
 ((
de¡
), (
¤c
))))

	)

596 
	#__¡rıy_a_sm®l
(
de¡
, 
¤c
, 
¤ş’
) \

597 (
	`__ex‹nsiÚ__
 ({ *
__de¡
 = (
de¡
); \

599 
__ui
; \

600 
__usi
; \

601 
__uc
; \

602 
__c
; \

603 } *
__u
 = (*è
__de¡
; \

604 
¤ş’
) \

607 
__u
->
__uc
 = '\0'; \

610 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 0); \

613 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 0); \

614 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

615 
__u
->
__uc
 = '\0'; \

618 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

621 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

622 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

623 
__u
->
__uc
 = '\0'; \

626 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

627 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

628 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 4); \

631 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

632 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

633 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 4); \

634 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

635 
__u
->
__uc
 = '\0'; \

638 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

639 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

640 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 4); \

643 (*è
__de¡
; }))

	)

645 
__STRING_INLINE
 *
__¡rıy_g
 (*
__de¡
, cÚ¡ *
__¤c
);

647 
__STRING_INLINE
 *

648 
	$__¡rıy_g
 (*
__de¡
, cÚ¡ *
__¤c
)

650 *
__tmp
 = 
__de¡
;

651 
__dummy
;

652 
__asm__
 
__vŞ©e__


661 : "=&r" (
__¤c
), "=&r" (
__tmp
), "=&q" (
__dummy
),

662 "=m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__de¡
)

663 : "0" (
__¤c
), "1" (
__tmp
),

664 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__¤c
)

666  
__de¡
;

667 
	}
}

670 #ifdeà
__USE_GNU


671 
	#_HAVE_STRING_ARCH_¡pıy
 1

	)

673 
	#__¡pıy
(
de¡
, 
¤c
) \

674 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

675 ? (
	`¡¾’
 (
¤c
) + 1 <= 8 \

676 ? 
	`__¡pıy_a_sm®l
 ((
de¡
), (
¤c
), 
	`¡¾’
 (src) + 1) \

677 : 
	`__¡pıy_c
 ((
de¡
), (
¤c
), 
	`¡¾’
 (src) + 1)) \

678 : 
	`__¡pıy_g
 ((
de¡
), (
¤c
))))

	)

679 
	#__¡pıy_c
(
de¡
, 
¤c
, 
¤ş’
) \

680 ((
¤ş’
) % 4 == 0 \

681 ? 
	`__mempıy_by4
 (
de¡
, 
¤c
, 
¤ş’
) - 1 \

682 : ((
¤ş’
) % 2 == 0 \

683 ? 
	`__mempıy_by2
 (
de¡
, 
¤c
, 
¤ş’
) - 1 \

684 : 
	`__mempıy_byn
 (
de¡
, 
¤c
, 
¤ş’
è- 1))

	)

687 
	#¡pıy
(
de¡
, 
¤c
è
	`__¡pıy
 ((de¡), (¤c))

	)

689 
	#__¡pıy_a_sm®l
(
de¡
, 
¤c
, 
¤ş’
) \

690 (
	`__ex‹nsiÚ__
 ({ union { \

691 
__ui
; \

692 
__usi
; \

693 
__uc
; \

694 
__c
; \

695 } *
__u
 = (*è(
de¡
); \

696 
¤ş’
) \

699 
__u
->
__uc
 = '\0'; \

702 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 0); \

703 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1); \

706 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 0); \

707 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

708 
__u
->
__uc
 = '\0'; \

711 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

712 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3); \

715 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

716 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

717 
__u
->
__uc
 = '\0'; \

720 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

721 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

722 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 4); \

723 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1); \

726 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

727 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

728 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 4); \

729 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

730 
__u
->
__uc
 = '\0'; \

733 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

734 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

735 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 4); \

736 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3); \

739 (*è
__u
; }))

	)

741 
__STRING_INLINE
 *
__mempıy_by4
 (*
__de¡
, cÚ¡ *
__¤c
,

742 
size_t
 
__¤ş’
);

744 
__STRING_INLINE
 *

745 
	$__mempıy_by4
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__¤ş’
)

747 *
__tmp
 = 
__de¡
;

748 
__d0
, 
__d1
;

749 
__asm__
 
__vŞ©e__


757 : "=&r" (
__d0
), "ô" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__d1
)

758 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__¤ş’
 / 4)

760  
__tmp
;

761 
	}
}

763 
__STRING_INLINE
 *
__mempıy_by2
 (*
__de¡
, cÚ¡ *
__¤c
,

764 
size_t
 
__¤ş’
);

766 
__STRING_INLINE
 *

767 
	$__mempıy_by2
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__¤ş’
)

769 *
__tmp
 = 
__de¡
;

770 
__d0
, 
__d1
;

771 
__asm__
 
__vŞ©e__


784 : "=&q" (
__d0
), "ô" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__d1
),

785 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__de¡
)

786 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__¤ş’
 / 2),

787 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

789  
__tmp
 + 2;

790 
	}
}

792 
__STRING_INLINE
 *
__mempıy_byn
 (*
__de¡
, cÚ¡ *
__¤c
,

793 
size_t
 
__¤ş’
);

795 
__STRING_INLINE
 *

796 
	$__mempıy_byn
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__¤ş’
)

798 
__d0
, 
__d1
;

799 *
__tmp
 = 
__de¡
;

800 
__asm__
 
__vŞ©e__


811 : "=D" (
__tmp
), "=&c" (
__d0
), "=&S" (
__d1
),

812 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__de¡
)

813 : "0" (
__tmp
), "1" (
__¤ş’
), "2" (
__¤c
),

814 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

816  
__tmp
;

817 
	}
}

819 
__STRING_INLINE
 *
__¡pıy_g
 (*
__de¡
, cÚ¡ *
__¤c
);

821 
__STRING_INLINE
 *

822 
	$__¡pıy_g
 (*
__de¡
, cÚ¡ *
__¤c
)

824 *
__tmp
 = 
__de¡
;

825 
__dummy
;

826 
__asm__
 
__vŞ©e__


835 : "=&r" (
__¤c
), "ô" (
__tmp
), "=&q" (
__dummy
),

836 "=m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__de¡
)

837 : "0" (
__¤c
), "1" (
__tmp
),

838 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__¤c
)

840  
__tmp
 - 1;

841 
	}
}

846 
	#_HAVE_STRING_ARCH_¡ºıy
 1

	)

847 
	#¡ºıy
(
de¡
, 
¤c
, 
n
) \

848 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

849 ? ((
	`¡¾’
 (
¤c
è+ 1 >ğ((
size_t
è(
n
)) \

850 ? (*è
	`memıy
 ((*è(
de¡
), \

851 (cÚ¡ *è(
¤c
), 
n
) \

852 : 
	`__¡ºıy_cg
 ((
de¡
), (
¤c
), 
	`¡¾’
 (¤cè+ 1, 
n
))) \

853 : 
	`__¡ºıy_gg
 ((
de¡
), (
¤c
), 
n
)))

	)

854 
	#__¡ºıy_cg
(
de¡
, 
¤c
, 
¤ş’
, 
n
) \

855 (((
¤ş’
) % 4 == 0) \

856 ? 
	`__¡ºıy_by4
 (
de¡
, 
¤c
, 
¤ş’
, 
n
) \

857 : (((
¤ş’
) % 2 == 0) \

858 ? 
	`__¡ºıy_by2
 (
de¡
, 
¤c
, 
¤ş’
, 
n
) \

859 : 
	`__¡ºıy_byn
 (
de¡
, 
¤c
, 
¤ş’
, 
n
)))

	)

861 
__STRING_INLINE
 *
__¡ºıy_by4
 (*
__de¡
, cÚ¡ 
__¤c
[],

862 
size_t
 
__¤ş’
, size_ˆ
__n
);

864 
__STRING_INLINE
 *

865 
	$__¡ºıy_by4
 (*
__de¡
, cÚ¡ 
__¤c
[], 
size_t
 
__¤ş’
, size_ˆ
__n
)

867 *
__tmp
 = 
__de¡
;

868 
__dummy1
, 
__dummy2
;

869 
__asm__
 
__vŞ©e__


877 : "=&r" (
__dummy1
), "ô" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__dummy2
),

878 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__de¡
)

879 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__¤ş’
 / 4),

880 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

882 (è
	`mem£t
 (
__tmp
, '\0', 
__n
 - 
__¤ş’
);

883  
__de¡
;

884 
	}
}

886 
__STRING_INLINE
 *
__¡ºıy_by2
 (*
__de¡
, cÚ¡ 
__¤c
[],

887 
size_t
 
__¤ş’
, size_ˆ
__n
);

889 
__STRING_INLINE
 *

890 
	$__¡ºıy_by2
 (*
__de¡
, cÚ¡ 
__¤c
[], 
size_t
 
__¤ş’
, size_ˆ
__n
)

892 *
__tmp
 = 
__de¡
;

893 
__dummy1
, 
__dummy2
;

894 
__asm__
 
__vŞ©e__


907 : "=&q" (
__dummy1
), "ô" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__dummy2
),

908 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__de¡
)

909 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__¤ş’
 / 2),

910 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

912 (è
	`mem£t
 (
__tmp
 + 2, '\0', 
__n
 - 
__¤ş’
);

913  
__de¡
;

914 
	}
}

916 
__STRING_INLINE
 *
__¡ºıy_byn
 (*
__de¡
, cÚ¡ 
__¤c
[],

917 
size_t
 
__¤ş’
, size_ˆ
__n
);

919 
__STRING_INLINE
 *

920 
	$__¡ºıy_byn
 (*
__de¡
, cÚ¡ 
__¤c
[], 
size_t
 
__¤ş’
, size_ˆ
__n
)

922 
__d0
, 
__d1
;

923 *
__tmp
 = 
__de¡
;

924 
__asm__
 
__vŞ©e__


935 : "=D" (
__tmp
), "=&c" (
__d0
), "=&S" (
__d1
),

936 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__de¡
)

937 : "1" (
__¤ş’
), "0" (
__tmp
),"2" (
__¤c
),

938 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

940 (è
	`mem£t
 (
__tmp
, '\0', 
__n
 - 
__¤ş’
);

941  
__de¡
;

942 
	}
}

944 
__STRING_INLINE
 *
__¡ºıy_gg
 (*
__de¡
, cÚ¡ *
__¤c
,

945 
size_t
 
__n
);

947 
__STRING_INLINE
 *

948 
	$__¡ºıy_gg
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

950 *
__tmp
 = 
__de¡
;

951 
__dummy
;

952 ià(
__n
 > 0)

953 
__asm__
 
__vŞ©e__


969 : "=&r" (
__¤c
), "=&r" (
__tmp
), "=&q" (
__dummy
), "=&r" (
__n
)

970 : "0" (
__¤c
), "1" (
__tmp
), "3" (
__n
)

973  
__de¡
;

974 
	}
}

978 
	#_HAVE_STRING_ARCH_¡rÿt
 1

	)

979 
	#¡rÿt
(
de¡
, 
¤c
) \

980 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

981 ? 
	`__¡rÿt_c
 ((
de¡
), (
¤c
), 
	`¡¾’
 (src) + 1) \

982 : 
	`__¡rÿt_g
 ((
de¡
), (
¤c
))))

	)

984 
__STRING_INLINE
 *
__¡rÿt_c
 (*
__de¡
, cÚ¡ 
__¤c
[],

985 
size_t
 
__¤ş’
);

987 
__STRING_INLINE
 *

988 
	$__¡rÿt_c
 (*
__de¡
, cÚ¡ 
__¤c
[], 
size_t
 
__¤ş’
)

990 #ifdeà
__i686__


991 
__d0
;

992 *
__tmp
;

993 
__asm__
 
__vŞ©e__


995 : "=D" (
__tmp
), "=&c" (
__d0
),

996 "=m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__de¡
)

997 : "0" (
__de¡
), "1" (0xffffffff), "a" (0),

998 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

1000 --
__tmp
;

1002 *
__tmp
 = 
__de¡
 - 1;

1003 
__asm__
 
__vŞ©e__


1008 : "ô" (
__tmp
),

1009 "=m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__de¡
)

1010 : "0" (
__tmp
),

1011 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

1014 (è
	`memıy
 (
__tmp
, 
__¤c
, 
__¤ş’
);

1015  
__de¡
;

1016 
	}
}

1018 
__STRING_INLINE
 *
__¡rÿt_g
 (*
__de¡
, cÚ¡ *
__¤c
);

1020 
__STRING_INLINE
 *

1021 
	$__¡rÿt_g
 (*
__de¡
, cÚ¡ *
__¤c
)

1023 *
__tmp
 = 
__de¡
 - 1;

1024 
__dummy
;

1025 
__asm__
 
__vŞ©e__


1037 : "=&q" (
__dummy
), "=&r" (
__tmp
), "=&r" (
__¤c
),

1038 "=m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__de¡
)

1039 : "1" (
__tmp
), "2" (
__¤c
),

1040 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__¤c
)

1042  
__de¡
;

1043 
	}
}

1047 
	#_HAVE_STRING_ARCH_¡ºÿt
 1

	)

1048 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
) \

1049 (
	`__ex‹nsiÚ__
 ({ *
__de¡
 = (
de¡
); \

1050 
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

1051 ? (
	`¡¾’
 (
¤c
è< ((
size_t
è(
n
)) \

1052 ? 
	`¡rÿt
 (
__de¡
, (
¤c
)) \

1053 : (*(*)
	`__mempıy
 (
	`¡rchr
 (
__de¡
, '\0'), \

1054 (cÚ¡ *è(
¤c
), \

1055 (
n
)èğ0, 
__de¡
)) \

1056 : 
	`__¡ºÿt_g
 (
__de¡
, (
¤c
), (
n
)); }))

	)

1058 
__STRING_INLINE
 *
__¡ºÿt_g
 (*
__de¡
, cÚ¡ 
__¤c
[],

1059 
size_t
 
__n
);

1061 
__STRING_INLINE
 *

1062 
	$__¡ºÿt_g
 (*
__de¡
, cÚ¡ 
__¤c
[], 
size_t
 
__n
)

1064 *
__tmp
 = 
__de¡
;

1065 
__dummy
;

1066 #ifdeà
__i686__


1067 
__asm__
 
__vŞ©e__


1081 : "=&a" (
__dummy
), "=&D" (
__tmp
), "=&S" (
__¤c
), "=&c" (
__n
)

1082 : "g" (
__n
), "0" (0), "1" (
__tmp
), "2" (
__¤c
), "3" (0xffffffff)

1085 --
__tmp
;

1086 
__asm__
 
__vŞ©e__


1103 : "=&q" (
__dummy
), "=&r" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__n
)

1104 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__n
)

1107  
__de¡
;

1108 
	}
}

1112 
	#_HAVE_STRING_ARCH_¡rcmp
 1

	)

1113 
	#¡rcmp
(
s1
, 
s2
) \

1114 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& __butš_cÚ¡ªt_°(
s2
) \

1115 && ( ((
s1
)[0]è!ğ1 || 
	`¡¾’
 (s1) >= 4) \

1116 && ( ((
s2
)[0]è!ğ1 || 
	`¡¾’
 (s2) >= 4) \

1117 ? 
	`memcmp
 ((cÚ¡ *è(
s1
), (cÚ¡ *è(
s2
), \

1118 (
	`¡¾’
 (
s1
è< sŒËÀ(
s2
) \

1119 ? 
	`¡¾’
 (
s1
è: sŒËÀ(
s2
)) + 1) \

1120 : (
	`__butš_cÚ¡ªt_p
 (
s1
) &&  ((s1)[0]) == 1 \

1121 &&  ((
s2
)[0]è=ğ1 && 
	`¡¾’
 (
s1
) < 4 \

1122 ? (
	`__butš_cÚ¡ªt_p
 (
s2
) &&  ((s2)[0]) == 1 \

1123 ? 
	`__¡rcmp_cc
 ((cÚ¡ *è(
s1
), \

1124 (cÚ¡ *è(
s2
), \

1125 
	`¡¾’
 (
s1
)) \

1126 : 
	`__¡rcmp_cg
 ((cÚ¡ *è(
s1
), \

1127 (cÚ¡ *è(
s2
), \

1128 
	`¡¾’
 (
s1
))) \

1129 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&&  ((
s1
)[0]) == 1 \

1130 &&  ((
s2
)[0]è=ğ1 && 
	`¡¾’
 (s2) < 4 \

1131 ? (
	`__butš_cÚ¡ªt_p
 (
s1
) \

1132 ? 
	`__¡rcmp_cc
 ((cÚ¡ *è(
s1
), \

1133 (cÚ¡ *è(
s2
), \

1134 
	`¡¾’
 (
s2
)) \

1135 : 
	`__¡rcmp_gc
 ((cÚ¡ *è(
s1
), \

1136 (cÚ¡ *è(
s2
), \

1137 
	`¡¾’
 (
s2
))) \

1138 : 
	`__¡rcmp_gg
 ((
s1
), (
s2
))))))

	)

1140 
	#__¡rcmp_cc
(
s1
, 
s2
, 
l
) \

1141 (
	`__ex‹nsiÚ__
 ({ 
__»suÉ
 = (
s1
)[0] - (
s2
)[0]; \

1142 ià(
l
 > 0 && 
__»suÉ
 == 0) \

1144 
__»suÉ
 = (
s1
)[1] - (
s2
)[1]; \

1145 ià(
l
 > 1 && 
__»suÉ
 == 0) \

1147 
__»suÉ
 = (
s1
)[2] - (
s2
)[2]; \

1148 ià(
l
 > 2 && 
__»suÉ
 == 0) \

1149 
__»suÉ
 = (
s1
)[3] - (
s2
)[3]; \

1152 
__»suÉ
; }))

	)

1154 
	#__¡rcmp_cg
(
s1
, 
s2
, 
l1
) \

1155 (
	`__ex‹nsiÚ__
 ({ cÚ¡ *
__s2
 = (
s2
); \

1156 
__»suÉ
 = (
s1
)[0] - 
__s2
[0]; \

1157 ià(
l1
 > 0 && 
__»suÉ
 == 0) \

1159 
__»suÉ
 = (
s1
)[1] - 
__s2
[1]; \

1160 ià(
l1
 > 1 && 
__»suÉ
 == 0) \

1162 
__»suÉ
 = (
s1
)[2] - 
__s2
[2]; \

1163 ià(
l1
 > 2 && 
__»suÉ
 == 0) \

1164 
__»suÉ
 = (
s1
)[3] - 
__s2
[3]; \

1167 
__»suÉ
; }))

	)

1169 
	#__¡rcmp_gc
(
s1
, 
s2
, 
l2
) \

1170 (
	`__ex‹nsiÚ__
 ({ cÚ¡ *
__s1
 = (
s1
); \

1171 
__»suÉ
 = 
__s1
[0] - (
s2
)[0]; \

1172 ià(
l2
 > 0 && 
__»suÉ
 == 0) \

1174 
__»suÉ
 = 
__s1
[1] - (
s2
)[1]; \

1175 ià(
l2
 > 1 && 
__»suÉ
 == 0) \

1177 
__»suÉ
 = 
__s1
[2] - (
s2
)[2]; \

1178 ià(
l2
 > 2 && 
__»suÉ
 == 0) \

1179 
__»suÉ
 = 
__s1
[3] - (
s2
)[3]; \

1182 
__»suÉ
; }))

	)

1184 
__STRING_INLINE
 
__¡rcmp_gg
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
);

1186 
__STRING_INLINE
 

1187 
	$__¡rcmp_gg
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

1189 
__»s
;

1190 
__asm__
 
__vŞ©e__


1206 : "=q" (
__»s
), "=&r" (
__s1
), "=&r" (
__s2
)

1207 : "1" (
__s1
), "2" (
__s2
),

1208 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s1
),

1209 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s2
)

1211  
__»s
;

1212 
	}
}

1216 
	#_HAVE_STRING_ARCH_¡ºcmp
 1

	)

1217 
	#¡ºcmp
(
s1
, 
s2
, 
n
) \

1218 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`¡¾’
 (s1è< ((
size_t
è(
n
)) \

1219 ? 
	`¡rcmp
 ((
s1
), (
s2
)) \

1220 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`¡¾’
 (s2è< ((
size_t
è(
n
))\

1221 ? 
	`¡rcmp
 ((
s1
), (
s2
)) \

1222 : 
	`__¡ºcmp_g
 ((
s1
), (
s2
), (
n
)))))

	)

1224 
__STRING_INLINE
 
__¡ºcmp_g
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

1225 
size_t
 
__n
);

1227 
__STRING_INLINE
 

1228 
	$__¡ºcmp_g
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

1230 
__»s
;

1231 
__asm__
 
__vŞ©e__


1250 : "=q" (
__»s
), "=&r" (
__s1
), "=&r" (
__s2
), "=&r" (
__n
)

1251 : "1" (
__s1
), "2" (
__s2
), "3" (
__n
),

1252 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s1
),

1253 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s2
)

1255  
__»s
;

1256 
	}
}

1260 
	#_HAVE_STRING_ARCH_¡rchr
 1

	)

1261 
	#_USE_STRING_ARCH_¡rchr
 1

	)

1262 
	#¡rchr
(
s
, 
c
) \

1263 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) \

1264 ? ((
c
) == '\0' \

1265 ? (*è
	`__¿wmemchr
 ((
s
), (
c
)) \

1266 : 
	`__¡rchr_c
 ((
s
), ((
c
) & 0xff) << 8)) \

1267 : 
	`__¡rchr_g
 ((
s
), (
c
))))

	)

1269 
__STRING_INLINE
 *
__¡rchr_c
 (cÚ¡ *
__s
, 
__c
);

1271 
__STRING_INLINE
 *

1272 
	$__¡rchr_c
 (cÚ¡ *
__s
, 
__c
)

1274 
__d0
;

1275 *
__»s
;

1276 
__asm__
 
__vŞ©e__


1286 : "ô" (
__»s
), "=&a" (
__d0
)

1287 : "0" (
__s
), "1" (
__c
),

1288 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1290  
__»s
;

1291 
	}
}

1293 
__STRING_INLINE
 *
__¡rchr_g
 (cÚ¡ *
__s
, 
__c
);

1295 
__STRING_INLINE
 *

1296 
	$__¡rchr_g
 (cÚ¡ *
__s
, 
__c
)

1298 
__d0
;

1299 *
__»s
;

1300 
__asm__
 
__vŞ©e__


1311 : "ô" (
__»s
), "=&a" (
__d0
)

1312 : "0" (
__s
), "1" (
__c
),

1313 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1315  
__»s
;

1316 
	}
}

1320 
	#_HAVE_STRING_ARCH_¡rchºul
 1

	)

1321 
	#__¡rchºul
(
s
, 
c
) \

1322 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) \

1323 ? ((
c
) == '\0' \

1324 ? (*è
	`__¿wmemchr
 ((
s
), 
c
) \

1325 : 
	`__¡rchºul_c
 ((
s
), ((
c
) & 0xff) << 8)) \

1326 : 
	`__¡rchºul_g
 ((
s
), 
c
)))

	)

1328 
__STRING_INLINE
 *
__¡rchºul_c
 (cÚ¡ *
__s
, 
__c
);

1330 
__STRING_INLINE
 *

1331 
	$__¡rchºul_c
 (cÚ¡ *
__s
, 
__c
)

1333 
__d0
;

1334 *
__»s
;

1335 
__asm__
 
__vŞ©e__


1345 : "ô" (
__»s
), "=&a" (
__d0
)

1346 : "0" (
__s
), "1" (
__c
),

1347 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1349  
__»s
;

1350 
	}
}

1352 
__STRING_INLINE
 *
__¡rchºul_g
 (cÚ¡ *
__s
, 
__c
);

1354 
__STRING_INLINE
 *

1355 
	$__¡rchºul_g
 (cÚ¡ *
__s
, 
__c
)

1357 
__d0
;

1358 *
__»s
;

1359 
__asm__
 
__vŞ©e__


1370 : "ô" (
__»s
), "=&a" (
__d0
)

1371 : "0" (
__s
), "1" (
__c
),

1372 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1374  
__»s
;

1375 
	}
}

1376 #ifdeà
__USE_GNU


1377 
	#¡rchºul
(
s
, 
c
è
	`__¡rchºul
 ((s), (c))

	)

1381 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


1383 
	#_HAVE_STRING_ARCH_šdex
 1

	)

1384 
	#šdex
(
s
, 
c
) \

1385 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) \

1386 ? 
	`__¡rchr_c
 ((
s
), ((
c
) & 0xff) << 8) \

1387 : 
	`__¡rchr_g
 ((
s
), (
c
))))

	)

1392 
	#_HAVE_STRING_ARCH_¡¼chr
 1

	)

1393 
	#¡¼chr
(
s
, 
c
) \

1394 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) \

1395 ? 
	`__¡¼chr_c
 ((
s
), ((
c
) & 0xff) << 8) \

1396 : 
	`__¡¼chr_g
 ((
s
), (
c
))))

	)

1398 #ifdeà
__i686__


1399 
__STRING_INLINE
 *
__¡¼chr_c
 (cÚ¡ *
__s
, 
__c
);

1401 
__STRING_INLINE
 *

1402 
	$__¡¼chr_c
 (cÚ¡ *
__s
, 
__c
)

1404 
__d0
, 
__d1
;

1405 *
__»s
;

1406 
__asm__
 
__vŞ©e__


1414 : "=d" (
__»s
), "=&S" (
__d0
), "=&a" (
__d1
)

1415 : "0" (1), "1" (
__s
), "2" (
__c
),

1416 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1418  
__»s
 - 1;

1419 
	}
}

1421 
__STRING_INLINE
 *
__¡¼chr_g
 (cÚ¡ *
__s
, 
__c
);

1423 
__STRING_INLINE
 *

1424 
	$__¡¼chr_g
 (cÚ¡ *
__s
, 
__c
)

1426 
__d0
, 
__d1
;

1427 *
__»s
;

1428 
__asm__
 
__vŞ©e__


1437 : "=d" (
__»s
), "=&S" (
__d0
), "=&a" (
__d1
)

1438 : "0" (1), "1" (
__s
), "2" (
__c
),

1439 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1441  
__»s
 - 1;

1442 
	}
}

1444 
__STRING_INLINE
 *
__¡¼chr_c
 (cÚ¡ *
__s
, 
__c
);

1446 
__STRING_INLINE
 *

1447 
	$__¡¼chr_c
 (cÚ¡ *
__s
, 
__c
)

1449 
__d0
, 
__d1
;

1450 *
__»s
;

1451 
__asm__
 
__vŞ©e__


1461 : "=d" (
__»s
), "=&S" (
__d0
), "=&a" (
__d1
)

1462 : "0" (0), "1" (
__s
), "2" (
__c
),

1463 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1465  
__»s
;

1466 
	}
}

1468 
__STRING_INLINE
 *
__¡¼chr_g
 (cÚ¡ *
__s
, 
__c
);

1470 
__STRING_INLINE
 *

1471 
	$__¡¼chr_g
 (cÚ¡ *
__s
, 
__c
)

1473 
__d0
, 
__d1
;

1474 *
__»s
;

1475 
__asm__
 
__vŞ©e__


1486 : "ô" (
__»s
), "=&S" (
__d0
), "=&a" (
__d1
)

1487 : "0" (0), "1" (
__s
), "2" (
__c
),

1488 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1490  
__»s
;

1491 
	}
}

1495 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


1497 
	#_HAVE_STRING_ARCH_ršdex
 1

	)

1498 
	#ršdex
(
s
, 
c
) \

1499 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) \

1500 ? 
	`__¡¼chr_c
 ((
s
), ((
c
) & 0xff) << 8) \

1501 : 
	`__¡¼chr_g
 ((
s
), (
c
))))

	)

1507 
	#_HAVE_STRING_ARCH_¡rc¥n
 1

	)

1508 
	#¡rc¥n
(
s
, 
»jeù
) \

1509 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
»jeù
) &&  ((reject)[0]) == 1 \

1510 ? ((
»jeù
)[0] == '\0' \

1511 ? 
	`¡¾’
 (
s
) \

1512 : ((
»jeù
)[1] == '\0' \

1513 ? 
	`__¡rc¥n_c1
 ((
s
), (((
»jeù
)[0] << 8) & 0xff00)) \

1514 : 
	`__¡rc¥n_cg
 ((
s
), (
»jeù
), 
	`¡¾’
 (reject)))) \

1515 : 
	`__¡rc¥n_g
 ((
s
), (
»jeù
))))

	)

1517 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c1
 (cÚ¡ *
__s
, 
__»jeù
);

1519 #iâdeà
_FORCE_INLINES


1520 
__STRING_INLINE
 
size_t


1521 
	$__¡rc¥n_c1
 (cÚ¡ *
__s
, 
__»jeù
)

1523 
__d0
;

1524 *
__»s
;

1525 
__asm__
 
__vŞ©e__


1534 : "ô" (
__»s
), "=&a" (
__d0
)

1535 : "0" (
__s
), "1" (
__»jeù
),

1536 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1538  (
__»s
 - 1è- 
__s
;

1539 
	}
}

1542 
__STRING_INLINE
 
size_t
 
__¡rc¥n_cg
 (cÚ¡ *
__s
, cÚ¡ 
__»jeù
[],

1543 
size_t
 
__»jeù_Ën
);

1545 
__STRING_INLINE
 
size_t


1546 
	$__¡rc¥n_cg
 (cÚ¡ *
__s
, cÚ¡ 
__»jeù
[], 
size_t
 
__»jeù_Ën
)

1548 
__d0
, 
__d1
, 
__d2
;

1549 cÚ¡ *
__»s
;

1550 
__asm__
 
__vŞ©e__


1561 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1562 : "0" (
__s
), "d" (
__»jeù
), "g" (
__»jeù_Ën
)

1564  (
__»s
 - 1è- 
__s
;

1565 
	}
}

1567 
__STRING_INLINE
 
size_t
 
__¡rc¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
);

1568 #ifdeà
__PIC__


1570 
__STRING_INLINE
 
size_t


1571 
	$__¡rc¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

1573 
__d0
, 
__d1
, 
__d2
;

1574 cÚ¡ *
__»s
;

1575 
__asm__
 
__vŞ©e__


1592 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1593 : "r" (
__»jeù
), "0" (
__s
), "1" (0), "2" (0xffffffff)

1595  (
__»s
 - 1è- 
__s
;

1596 
	}
}

1598 
__STRING_INLINE
 
size_t


1599 
	$__¡rc¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

1601 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1602 cÚ¡ *
__»s
;

1603 
__asm__
 
__vŞ©e__


1617 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
), "=&d" (
__d3
)

1618 : "0" (
__s
), "1" (0), "2" (0xffffffff), "3" (
__»jeù
), "b" (__reject)

1621  (
__»s
 - 1è- 
__s
;

1622 
	}
}

1628 
	#_HAVE_STRING_ARCH_¡r¥n
 1

	)

1629 
	#¡r¥n
(
s
, 
acû±
) \

1630 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
acû±
) &&  ((accept)[0]) == 1 \

1631 ? ((
acû±
)[0] == '\0' \

1632 ? ((è(
s
), 0) \

1633 : ((
acû±
)[1] == '\0' \

1634 ? 
	`__¡r¥n_c1
 ((
s
), (((
acû±
)[0] << 8 ) & 0xff00)) \

1635 : 
	`__¡r¥n_cg
 ((
s
), (
acû±
), 
	`¡¾’
 (accept)))) \

1636 : 
	`__¡r¥n_g
 ((
s
), (
acû±
))))

	)

1638 #iâdeà
_FORCE_INLINES


1639 
__STRING_INLINE
 
size_t
 
__¡r¥n_c1
 (cÚ¡ *
__s
, 
__acû±
);

1641 
__STRING_INLINE
 
size_t


1642 
	$__¡r¥n_c1
 (cÚ¡ *
__s
, 
__acû±
)

1644 
__d0
;

1645 *
__»s
;

1647 
__asm__
 
__vŞ©e__


1653 : "ô" (
__»s
), "=&q" (
__d0
)

1654 : "0" (
__s
), "1" (
__acû±
),

1655 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1657  (
__»s
 - 1è- 
__s
;

1658 
	}
}

1661 
__STRING_INLINE
 
size_t
 
__¡r¥n_cg
 (cÚ¡ *
__s
, cÚ¡ 
__acû±
[],

1662 
size_t
 
__acû±_Ën
);

1664 
__STRING_INLINE
 
size_t


1665 
	$__¡r¥n_cg
 (cÚ¡ *
__s
, cÚ¡ 
__acû±
[], 
size_t
 
__acû±_Ën
)

1667 
__d0
, 
__d1
, 
__d2
;

1668 cÚ¡ *
__»s
;

1669 
__asm__
 
__vŞ©e__


1680 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1681 : "0" (
__s
), "g" (
__acû±
), "g" (
__acû±_Ën
),

1684 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
),

1685 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__acû±_Ën
]; } *)
__acû±
)

1687  (
__»s
 - 1è- 
__s
;

1688 
	}
}

1690 
__STRING_INLINE
 
size_t
 
__¡r¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
);

1691 #ifdeà
__PIC__


1693 
__STRING_INLINE
 
size_t


1694 
	$__¡r¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

1696 
__d0
, 
__d1
, 
__d2
;

1697 cÚ¡ *
__»s
;

1698 
__asm__
 
__vŞ©e__


1714 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1715 : "d" (
__acû±
), "0" (
__s
), "1" (0), "2" (0xffffffff), "3" (__accept)

1717  (
__»s
 - 1è- 
__s
;

1718 
	}
}

1720 
__STRING_INLINE
 
size_t


1721 
	$__¡r¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

1723 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1724 cÚ¡ *
__»s
;

1725 
__asm__
 
__vŞ©e__


1739 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
), "=&d" (
__d3
)

1740 : "0" (
__s
), "1" (0), "2" (0xffffffff), "3" (
__acû±
), "b" (__accept)

1742  (
__»s
 - 1è- 
__s
;

1743 
	}
}

1748 
	#_HAVE_STRING_ARCH_¡½brk
 1

	)

1749 
	#¡½brk
(
s
, 
acû±
) \

1750 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
acû±
) &&  ((accept)[0]) == 1 \

1751 ? ((
acû±
)[0] == '\0' \

1752 ? ((è(
s
), (*) 0) \

1753 : ((
acû±
)[1] == '\0' \

1754 ? 
	`¡rchr
 ((
s
), (
acû±
)[0]) \

1755 : 
	`__¡½brk_cg
 ((
s
), (
acû±
), 
	`¡¾’
 (accept)))) \

1756 : 
	`__¡½brk_g
 ((
s
), (
acû±
))))

	)

1758 
__STRING_INLINE
 *
__¡½brk_cg
 (cÚ¡ *
__s
, cÚ¡ 
__acû±
[],

1759 
size_t
 
__acû±_Ën
);

1761 
__STRING_INLINE
 *

1762 
	$__¡½brk_cg
 (cÚ¡ *
__s
, cÚ¡ 
__acû±
[], 
size_t
 
__acû±_Ën
)

1764 
__d0
, 
__d1
, 
__d2
;

1765 *
__»s
;

1766 
__asm__
 
__vŞ©e__


1781 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1782 : "0" (
__s
), "d" (
__acû±
), "g" (
__acû±_Ën
)

1784  
__»s
;

1785 
	}
}

1787 
__STRING_INLINE
 *
__¡½brk_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
);

1788 #ifdeà
__PIC__


1790 
__STRING_INLINE
 *

1791 
	$__¡½brk_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

1793 
__d0
, 
__d1
, 
__d2
;

1794 *
__»s
;

1795 
__asm__
 
__vŞ©e__


1816 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1817 : "d" (
__acû±
), "0" (
__s
), "1" (0), "2" (0xffffffff)

1819  
__»s
;

1820 
	}
}

1822 
__STRING_INLINE
 *

1823 
	$__¡½brk_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

1825 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1826 *
__»s
;

1827 
__asm__
 
__vŞ©e__


1846 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&d" (
__d2
), "=&D" (
__d3
)

1847 : "0" (
__s
), "1" (0), "2" (0xffffffff), "b" (
__acû±
)

1849  
__»s
;

1850 
	}
}

1855 
	#_HAVE_STRING_ARCH_¡r¡r
 1

	)

1856 
	#¡r¡r
(
hay¡ack
, 
ÃedË
) \

1857 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
ÃedË
) &&  ((needle)[0]) == 1 \

1858 ? ((
ÃedË
)[0] == '\0' \

1859 ? (
hay¡ack
) \

1860 : ((
ÃedË
)[1] == '\0' \

1861 ? 
	`¡rchr
 ((
hay¡ack
), (
ÃedË
)[0]) \

1862 : 
	`__¡r¡r_cg
 ((
hay¡ack
), (
ÃedË
), \

1863 
	`¡¾’
 (
ÃedË
)))) \

1864 : 
	`__¡r¡r_g
 ((
hay¡ack
), (
ÃedË
))))

	)

1868 
__STRING_INLINE
 *
__¡r¡r_cg
 (cÚ¡ *
__hay¡ack
,

1869 cÚ¡ 
__ÃedË
[],

1870 
size_t
 
__ÃedË_Ën
);

1872 
__STRING_INLINE
 *

1873 
	$__¡r¡r_cg
 (cÚ¡ *
__hay¡ack
, cÚ¡ 
__ÃedË
[],

1874 
size_t
 
__ÃedË_Ën
)

1876 
__d0
, 
__d1
, 
__d2
;

1877 *
__»s
;

1878 
__asm__
 
__vŞ©e__


1891 : "=&a" (
__»s
), "=&S" (
__d0
), "=&D" (
__d1
), "=&c" (
__d2
)

1892 : "g" (
__ÃedË_Ën
), "1" (
__hay¡ack
), "d" (
__ÃedË
)

1894  
__»s
;

1895 
	}
}

1897 
__STRING_INLINE
 *
__¡r¡r_g
 (cÚ¡ *
__hay¡ack
,

1898 cÚ¡ *
__ÃedË
);

1899 #ifdeà
__PIC__


1901 
__STRING_INLINE
 *

1902 
	$__¡r¡r_g
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

1904 
__d0
, 
__d1
, 
__d2
;

1905 *
__»s
;

1906 
__asm__
 
__vŞ©e__


1925 : "=&a" (
__»s
), "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
)

1926 : "0" (0), "1" (0xffffffff), "2" (
__hay¡ack
), "3" (
__ÃedË
),

1927 "d" (
__ÃedË
)

1929  
__»s
;

1930 
	}
}

1932 
__STRING_INLINE
 *

1933 
	$__¡r¡r_g
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

1935 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1936 *
__»s
;

1937 
__asm__
 
__vŞ©e__


1954 : "=&a" (
__»s
), "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
), "=&d" (
__d3
)

1955 : "0" (0), "1" (0xffffffff), "2" (
__hay¡ack
), "3" (
__ÃedË
),

1956 "b" (
__ÃedË
)

1958  
__»s
;

1959 
	}
}

1965 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


1966 #ifdeà
__i686__


1967 
	#_HAVE_STRING_ARCH_ffs
 1

	)

1968 
	#ffs
(
wÜd
è(
	`__butš_cÚ¡ªt_p
 (word) \

1969 ? 
	`__butš_ffs
 (
wÜd
) \

1970 : ({ 
__út
, 
__tmp
; \

1971 
__asm__
 
__vŞ©e__
 \

1974 : "=&r" (
__út
), "ô" (
__tmp
) \

1975 : "rm" (
wÜd
), "1" (-1)); \

1976 
__út
 + 1; }))

	)

1978 #iâdeà
ff¦


1979 
	#ff¦
(
wÜd
è
	`ffs
(wÜd)

	)

1984 #iâdeà
_FORCE_INLINES


1985 #undeà
__STRING_INLINE


	@/usr/include/bits/string2.h

20 #iâdeà
_STRING_H


24 #iâdeà
__NO_STRING_INLINES


41 #iâdeà
__STRING_INLINE


42 #ifdeà
__ılu¥lus


43 
	#__STRING_INLINE
 
šlše


	)

45 
	#__STRING_INLINE
 
__ex‹º_šlše


	)

49 #ià
_STRING_ARCH_uÇligÃd


51 
	~<’dŸn.h
>

52 
	~<b™s/ty³s.h
>

54 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


55 
	#__STRING2_SMALL_GET16
(
¤c
, 
idx
) \

56 (((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 1] << 8 \

57 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
])

	)

58 
	#__STRING2_SMALL_GET32
(
¤c
, 
idx
) \

59 (((((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 3] << 8 \

60 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 2]) << 8 \

61 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 1]) << 8 \

62 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
])

	)

64 
	#__STRING2_SMALL_GET16
(
¤c
, 
idx
) \

65 (((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
] << 8 \

66 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 1])

	)

67 
	#__STRING2_SMALL_GET32
(
¤c
, 
idx
) \

68 (((((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
] << 8 \

69 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 1]) << 8 \

70 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 2]) << 8 \

71 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 3])

	)

76 
	#__STRING2_COPY_TYPE
(
N
) \

77 ¡ruù { 
__¬r
[
N
]; } \

78 
	t__©Œibu‹__
 ((
	t__·cked__
)è
	t__STRING2_COPY_ARR
##
	tN


	)

79 
	t__STRING2_COPY_TYPE
 (2);

80 
__STRING2_COPY_TYPE
 (3);

81 
__STRING2_COPY_TYPE
 (4);

82 
__STRING2_COPY_TYPE
 (5);

83 
__STRING2_COPY_TYPE
 (6);

84 
__STRING2_COPY_TYPE
 (7);

85 
__STRING2_COPY_TYPE
 (8);

86 #undeà
__STRING2_COPY_TYPE


92 
	#__¡ršg2_1b±r_p
(
__x
) \

93 ((
size_t
)(cÚ¡ *)((
__x
è+ 1è- (size_t)(cÚ¡ *)(__xè=ğ1)

	)

96 #ià!
defšed
 
_HAVE_STRING_ARCH_mem£t


97 #ià!
__GNUC_PREREQ
 (3, 0)

98 #ià
_STRING_ARCH_uÇligÃd


99 
	#mem£t
(
s
, 
c
, 
n
) \

100 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) && (n) <= 16 \

101 ? ((
n
) == 1 \

102 ? 
	`__mem£t_1
 (
s
, 
c
) \

103 : 
	`__mem£t_gc
 (
s
, 
c
, 
n
)) \

104 : (
	`__butš_cÚ¡ªt_p
 (
c
) && (c) == '\0' \

105 ? ({ *
__s
 = (
s
); 
	`__bz”o
 (__s, 
n
); __s; }) \

106 : 
	`mem£t
 (
s
, 
c
, 
n
))))

	)

108 
	#__mem£t_1
(
s
, 
c
è({ *
__s
 = (s); \

109 *((
__ušt8_t
 *è
__s
èğ(__ušt8_tè
c
; __s; })

	)

111 
	#__mem£t_gc
(
s
, 
c
, 
n
) \

112 ({ *
__s
 = (
s
); \

114 
__ui
; \

115 
__usi
; \

116 
__uc
; \

117 } *
__u
 = 
__s
; \

118 
__ušt8_t
 
__c
 = (__ušt8_tè(
c
); \

121 (è(
n
)) \

124 
__u
->
__ui
 = 
__c
 * 0x01010101; \

125 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

127 
__u
->
__ui
 = 
__c
 * 0x01010101; \

128 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

130 
__u
->
__ui
 = 
__c
 * 0x01010101; \

131 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

133 
__u
->
__usi
 = (è
__c
 * 0x0101; \

134 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

135 
__u
->
__uc
 = (è
__c
; \

139 
__u
->
__ui
 = 
__c
 * 0x01010101; \

140 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

142 
__u
->
__ui
 = 
__c
 * 0x01010101; \

143 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

145 
__u
->
__ui
 = 
__c
 * 0x01010101; \

146 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

148 
__u
->
__usi
 = (è
__c
 * 0x0101; \

152 
__u
->
__ui
 = 
__c
 * 0x01010101; \

153 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

155 
__u
->
__ui
 = 
__c
 * 0x01010101; \

156 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

158 
__u
->
__ui
 = 
__c
 * 0x01010101; \

159 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

161 
__u
->
__uc
 = (è
__c
; \

165 
__u
->
__ui
 = 
__c
 * 0x01010101; \

166 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

168 
__u
->
__ui
 = 
__c
 * 0x01010101; \

169 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

171 
__u
->
__ui
 = 
__c
 * 0x01010101; \

172 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

174 
__u
->
__ui
 = 
__c
 * 0x01010101; \

179 
__s
; })

	)

181 
	#mem£t
(
s
, 
c
, 
n
) \

182 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) && (c) == '\0' \

183 ? ({ *
__s
 = (
s
); 
	`__bz”o
 (__s, 
n
); __s; }) \

184 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

193 #ià
__GNUC_PREREQ
 (2, 91)

194 
	#__bz”o
(
s
, 
n
è
	`__butš_mem£t
 (s, '\0',‚)

	)

202 #ifdeà
__USE_GNU


203 #ià!
defšed
 
_HAVE_STRING_ARCH_mempıy
 || defšed 
_FORCE_INLINES


204 #iâdeà
_HAVE_STRING_ARCH_mempıy


205 #ià
__GNUC_PREREQ
 (3, 4)

206 
	#__mempıy
(
de¡
, 
¤c
, 
n
è
	`__butš_mempıy
 (de¡, src,‚)

	)

207 #–ià
__GNUC_PREREQ
 (3, 0)

208 
	#__mempıy
(
de¡
, 
¤c
, 
n
) \

209 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

210 && 
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
n
 <= 8 \

211 ? 
	`__butš_memıy
 (
de¡
, 
¤c
, 
n
) + (n) \

212 : 
	`__mempıy
 (
de¡
, 
¤c
, 
n
)))

	)

214 
	#__mempıy
(
de¡
, 
¤c
, 
n
) \

215 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

216 && 
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
n
 <= 8 \

217 ? 
	`__mempıy_sm®l
 (
de¡
, 
	`__mempıy_¬gs
 (
¤c
), 
n
) \

218 : 
	`__mempıy
 (
de¡
, 
¤c
, 
n
)))

	)

222 
	#mempıy
(
de¡
, 
¤c
, 
n
è
	`__mempıy
 (de¡, src,‚)

	)

225 #ià!
__GNUC_PREREQ
 (3, 0è|| 
defšed
 
_FORCE_INLINES


226 #ià
_STRING_ARCH_uÇligÃd


227 #iâdeà
_FORCE_INLINES


228 
	#__mempıy_¬gs
(
¤c
) \

229 ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[2], \

230 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[6], \

231 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 0), \

232 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 4), \

233 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 0), \

234 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 4)

	)

236 
__STRING_INLINE
 *
__mempıy_sm®l
 (*, , , , ,

237 
__ušt16_t
, __ušt16_t, 
__ušt32_t
,

238 
__ušt32_t
, 
size_t
);

239 
__STRING_INLINE
 *

240 
	$__mempıy_sm®l
 (*
__de¡1
,

241 
__¤c0_1
, 
__¤c2_1
, 
__¤c4_1
, 
__¤c6_1
,

242 
__ušt16_t
 
__¤c0_2
, __ušt16_ˆ
__¤c4_2
,

243 
__ušt32_t
 
__¤c0_4
, __ušt32_ˆ
__¤c4_4
,

244 
size_t
 
__¤ş’
)

247 
__ušt32_t
 
__ui
;

248 
__ušt16_t
 
__usi
;

249 
__uc
;

250 
__c
;

251 } *
__u
 = 
__de¡1
;

252 (è
__¤ş’
)

255 
__u
->
__c
 = 
__¤c0_1
;

256 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

259 
__u
->
__usi
 = 
__¤c0_2
;

260 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

263 
__u
->
__usi
 = 
__¤c0_2
;

264 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

265 
__u
->
__c
 = 
__¤c2_1
;

266 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

269 
__u
->
__ui
 = 
__¤c0_4
;

270 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

273 
__u
->
__ui
 = 
__¤c0_4
;

274 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

275 
__u
->
__c
 = 
__¤c4_1
;

276 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

279 
__u
->
__ui
 = 
__¤c0_4
;

280 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

281 
__u
->
__usi
 = 
__¤c4_2
;

282 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

285 
__u
->
__ui
 = 
__¤c0_4
;

286 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

287 
__u
->
__usi
 = 
__¤c4_2
;

288 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

289 
__u
->
__c
 = 
__¤c6_1
;

290 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

293 
__u
->
__ui
 = 
__¤c0_4
;

294 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

295 
__u
->
__ui
 = 
__¤c4_4
;

296 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

299  (*è
__u
;

300 
	}
}

302 #iâdeà
_FORCE_INLINES


303 
	#__mempıy_¬gs
(
¤c
) \

304 ((cÚ¡ *è(
¤c
))[0], \

305 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR2
) \

306 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1] } }), \

307 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR3
) \

308 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

309 ((cÚ¡ *è(
¤c
))[2] } }), \

310 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR4
) \

311 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

312 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3] } }), \

313 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR5
) \

314 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

315 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

316 ((cÚ¡ *è(
¤c
))[4] } }), \

317 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR6
) \

318 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

319 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

320 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5] } }), \

321 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR7
) \

322 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

323 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

324 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

325 ((cÚ¡ *è(
¤c
))[6] } }), \

326 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR8
) \

327 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

328 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

329 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

330 ((cÚ¡ *è(
¤c
))[6], ((cÚ¡ *è(¤c))[7] } })

	)

332 
__STRING_INLINE
 *
__mempıy_sm®l
 (*, , 
__STRING2_COPY_ARR2
,

333 
__STRING2_COPY_ARR3
,

334 
__STRING2_COPY_ARR4
,

335 
__STRING2_COPY_ARR5
,

336 
__STRING2_COPY_ARR6
,

337 
__STRING2_COPY_ARR7
,

338 
__STRING2_COPY_ARR8
, 
size_t
);

339 
__STRING_INLINE
 *

340 
	$__mempıy_sm®l
 (*
__de¡
, 
__¤c1
,

341 
__STRING2_COPY_ARR2
 
__¤c2
, 
__STRING2_COPY_ARR3
 
__¤c3
,

342 
__STRING2_COPY_ARR4
 
__¤c4
, 
__STRING2_COPY_ARR5
 
__¤c5
,

343 
__STRING2_COPY_ARR6
 
__¤c6
, 
__STRING2_COPY_ARR7
 
__¤c7
,

344 
__STRING2_COPY_ARR8
 
__¤c8
, 
size_t
 
__¤ş’
)

347 
__c
;

348 
__STRING2_COPY_ARR2
 
__sÿ2
;

349 
__STRING2_COPY_ARR3
 
__sÿ3
;

350 
__STRING2_COPY_ARR4
 
__sÿ4
;

351 
__STRING2_COPY_ARR5
 
__sÿ5
;

352 
__STRING2_COPY_ARR6
 
__sÿ6
;

353 
__STRING2_COPY_ARR7
 
__sÿ7
;

354 
__STRING2_COPY_ARR8
 
__sÿ8
;

355 } *
__u
 = 
__de¡
;

356 (è
__¤ş’
)

359 
__u
->
__c
 = 
__¤c1
;

362 
__ex‹nsiÚ__
 
__u
->
__sÿ2
 = 
__¤c2
;

365 
__ex‹nsiÚ__
 
__u
->
__sÿ3
 = 
__¤c3
;

368 
__ex‹nsiÚ__
 
__u
->
__sÿ4
 = 
__¤c4
;

371 
__ex‹nsiÚ__
 
__u
->
__sÿ5
 = 
__¤c5
;

374 
__ex‹nsiÚ__
 
__u
->
__sÿ6
 = 
__¤c6
;

377 
__ex‹nsiÚ__
 
__u
->
__sÿ7
 = 
__¤c7
;

380 
__ex‹nsiÚ__
 
__u
->
__sÿ8
 = 
__¤c8
;

383  
	`__ex‹nsiÚ__
 ((*è
__u
 + 
__¤ş’
);

384 
	}
}

392 #iâdeà
_HAVE_STRING_ARCH_¡rchr


393 *
__¿wmemchr
 (cÚ¡ *
__s
, 
__c
);

394 #ià
__GNUC_PREREQ
 (3, 2)

395 
	#¡rchr
(
s
, 
c
) \

396 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
è&& !__butš_cÚ¡ªt_°(
s
) \

397 && (
c
) == '\0' \

398 ? (*è
	`__¿wmemchr
 (
s
, 
c
) \

399 : 
	`__butš_¡rchr
 (
s
, 
c
)))

	)

401 
	#¡rchr
(
s
, 
c
) \

402 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) && (c) == '\0' \

403 ? (*è
	`__¿wmemchr
 (
s
, 
c
) \

404 : 
	`¡rchr
 (
s
, 
c
)))

	)

410 #ià(!
defšed
 
_HAVE_STRING_ARCH_¡rıy
 && !
__GNUC_PREREQ
 (3, 0)) \

411 || 
defšed
 
	g_FORCE_INLINES


412 #ià!
defšed
 
_HAVE_STRING_ARCH_¡rıy
 && !
__GNUC_PREREQ
 (3, 0)

413 
	#¡rıy
(
de¡
, 
¤c
) \

414 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

415 ? (
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
	`¡¾’
 (src) + 1 <= 8 \

416 ? 
	`__¡rıy_sm®l
 (
de¡
, 
	`__¡rıy_¬gs
 (
¤c
), \

417 
	`¡¾’
 (
¤c
) + 1) \

418 : (*è
	`memıy
 (
de¡
, 
¤c
, 
	`¡¾’
 (src) + 1)) \

419 : 
	`¡rıy
 (
de¡
, 
¤c
)))

	)

422 #ià
_STRING_ARCH_uÇligÃd


423 #iâdeà
_FORCE_INLINES


424 
	#__¡rıy_¬gs
(
¤c
) \

425 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 0), \

426 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 4), \

427 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 0), \

428 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 4)

	)

430 
__STRING_INLINE
 *
__¡rıy_sm®l
 (*, 
__ušt16_t
, __uint16_t,

431 
__ušt32_t
, __ušt32_t, 
size_t
);

432 
__STRING_INLINE
 *

433 
	$__¡rıy_sm®l
 (*
__de¡
,

434 
__ušt16_t
 
__¤c0_2
, __ušt16_ˆ
__¤c4_2
,

435 
__ušt32_t
 
__¤c0_4
, __ušt32_ˆ
__¤c4_4
,

436 
size_t
 
__¤ş’
)

439 
__ušt32_t
 
__ui
;

440 
__ušt16_t
 
__usi
;

441 
__uc
;

442 } *
__u
 = (*è
__de¡
;

443 (è
__¤ş’
)

446 
__u
->
__uc
 = '\0';

449 
__u
->
__usi
 = 
__¤c0_2
;

452 
__u
->
__usi
 = 
__¤c0_2
;

453 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

454 
__u
->
__uc
 = '\0';

457 
__u
->
__ui
 = 
__¤c0_4
;

460 
__u
->
__ui
 = 
__¤c0_4
;

461 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

462 
__u
->
__uc
 = '\0';

465 
__u
->
__ui
 = 
__¤c0_4
;

466 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

467 
__u
->
__usi
 = 
__¤c4_2
;

470 
__u
->
__ui
 = 
__¤c0_4
;

471 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

472 
__u
->
__usi
 = 
__¤c4_2
;

473 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

474 
__u
->
__uc
 = '\0';

477 
__u
->
__ui
 = 
__¤c0_4
;

478 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

479 
__u
->
__ui
 = 
__¤c4_4
;

482  
__de¡
;

483 
	}
}

485 #iâdeà
_FORCE_INLINES


486 
	#__¡rıy_¬gs
(
¤c
) \

487 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR2
) \

488 { { ((cÚ¡ *è(
¤c
))[0], '\0' } }), \

489 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR3
) \

490 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

492 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR4
) \

493 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

494 ((cÚ¡ *è(
¤c
))[2], '\0' } }), \

495 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR5
) \

496 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

497 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

499 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR6
) \

500 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

501 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

502 ((cÚ¡ *è(
¤c
))[4], '\0' } }), \

503 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR7
) \

504 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

505 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

506 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

508 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR8
) \

509 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

510 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

511 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

512 ((cÚ¡ *è(
¤c
))[6], '\0' } })

	)

514 
__STRING_INLINE
 *
__¡rıy_sm®l
 (*, 
__STRING2_COPY_ARR2
,

515 
__STRING2_COPY_ARR3
,

516 
__STRING2_COPY_ARR4
,

517 
__STRING2_COPY_ARR5
,

518 
__STRING2_COPY_ARR6
,

519 
__STRING2_COPY_ARR7
,

520 
__STRING2_COPY_ARR8
, 
size_t
);

521 
__STRING_INLINE
 *

522 
	$__¡rıy_sm®l
 (*
__de¡
,

523 
__STRING2_COPY_ARR2
 
__¤c2
, 
__STRING2_COPY_ARR3
 
__¤c3
,

524 
__STRING2_COPY_ARR4
 
__¤c4
, 
__STRING2_COPY_ARR5
 
__¤c5
,

525 
__STRING2_COPY_ARR6
 
__¤c6
, 
__STRING2_COPY_ARR7
 
__¤c7
,

526 
__STRING2_COPY_ARR8
 
__¤c8
, 
size_t
 
__¤ş’
)

529 
__c
;

530 
__STRING2_COPY_ARR2
 
__sÿ2
;

531 
__STRING2_COPY_ARR3
 
__sÿ3
;

532 
__STRING2_COPY_ARR4
 
__sÿ4
;

533 
__STRING2_COPY_ARR5
 
__sÿ5
;

534 
__STRING2_COPY_ARR6
 
__sÿ6
;

535 
__STRING2_COPY_ARR7
 
__sÿ7
;

536 
__STRING2_COPY_ARR8
 
__sÿ8
;

537 } *
__u
 = (*è
__de¡
;

538 (è
__¤ş’
)

541 
__u
->
__c
 = '\0';

544 
__ex‹nsiÚ__
 
__u
->
__sÿ2
 = 
__¤c2
;

547 
__ex‹nsiÚ__
 
__u
->
__sÿ3
 = 
__¤c3
;

550 
__ex‹nsiÚ__
 
__u
->
__sÿ4
 = 
__¤c4
;

553 
__ex‹nsiÚ__
 
__u
->
__sÿ5
 = 
__¤c5
;

556 
__ex‹nsiÚ__
 
__u
->
__sÿ6
 = 
__¤c6
;

559 
__ex‹nsiÚ__
 
__u
->
__sÿ7
 = 
__¤c7
;

562 
__ex‹nsiÚ__
 
__u
->
__sÿ8
 = 
__¤c8
;

565  
__de¡
;

566 
	}
}

572 #ifdeà
__USE_GNU


573 #ià!
defšed
 
_HAVE_STRING_ARCH_¡pıy
 || defšed 
_FORCE_INLINES


574 #iâdeà
_HAVE_STRING_ARCH_¡pıy


575 #ià
__GNUC_PREREQ
 (3, 4)

576 
	#__¡pıy
(
de¡
, 
¤c
è
	`__butš_¡pıy
 (de¡, src)

	)

577 #–ià
__GNUC_PREREQ
 (3, 0)

578 
	#__¡pıy
(
de¡
, 
¤c
) \

579 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

580 ? (
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
	`¡¾’
 (src) + 1 <= 8 \

581 ? 
	`__butš_¡rıy
 (
de¡
, 
¤c
è+ 
	`¡¾’
 (src) \

582 : ((*è(
__mempıy
è(
de¡
, 
¤c
, 
	`¡¾’
 (src) + 1) \

584 : 
	`__¡pıy
 (
de¡
, 
¤c
)))

	)

586 
	#__¡pıy
(
de¡
, 
¤c
) \

587 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

588 ? (
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
	`¡¾’
 (src) + 1 <= 8 \

589 ? 
	`__¡pıy_sm®l
 (
de¡
, 
	`__¡pıy_¬gs
 (
¤c
), \

590 
	`¡¾’
 (
¤c
) + 1) \

591 : ((*è(
__mempıy
è(
de¡
, 
¤c
, 
	`¡¾’
 (src) + 1) \

593 : 
	`__¡pıy
 (
de¡
, 
¤c
)))

	)

597 
	#¡pıy
(
de¡
, 
¤c
è
	`__¡pıy
 (de¡, src)

	)

600 #ià!
__GNUC_PREREQ
 (3, 0è|| 
defšed
 
_FORCE_INLINES


601 #ià
_STRING_ARCH_uÇligÃd


602 #iâdeà
_FORCE_INLINES


603 
	#__¡pıy_¬gs
(
¤c
) \

604 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 0), \

605 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 4), \

606 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 0), \

607 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 4)

	)

609 
__STRING_INLINE
 *
__¡pıy_sm®l
 (*, 
__ušt16_t
, __uint16_t,

610 
__ušt32_t
, __ušt32_t, 
size_t
);

611 
__STRING_INLINE
 *

612 
	$__¡pıy_sm®l
 (*
__de¡
,

613 
__ušt16_t
 
__¤c0_2
, __ušt16_ˆ
__¤c4_2
,

614 
__ušt32_t
 
__¤c0_4
, __ušt32_ˆ
__¤c4_4
,

615 
size_t
 
__¤ş’
)

618 
__ui
;

619 
__usi
;

620 
__uc
;

621 
__c
;

622 } *
__u
 = (*è
__de¡
;

623 (è
__¤ş’
)

626 
__u
->
__uc
 = '\0';

629 
__u
->
__usi
 = 
__¤c0_2
;

630 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

633 
__u
->
__usi
 = 
__¤c0_2
;

634 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

635 
__u
->
__uc
 = '\0';

638 
__u
->
__ui
 = 
__¤c0_4
;

639 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3);

642 
__u
->
__ui
 = 
__¤c0_4
;

643 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

644 
__u
->
__uc
 = '\0';

647 
__u
->
__ui
 = 
__¤c0_4
;

648 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

649 
__u
->
__usi
 = 
__¤c4_2
;

650 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

653 
__u
->
__ui
 = 
__¤c0_4
;

654 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

655 
__u
->
__usi
 = 
__¤c4_2
;

656 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

657 
__u
->
__uc
 = '\0';

660 
__u
->
__ui
 = 
__¤c0_4
;

661 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

662 
__u
->
__ui
 = 
__¤c4_4
;

663 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3);

666  &
__u
->
__c
;

667 
	}
}

669 #iâdeà
_FORCE_INLINES


670 
	#__¡pıy_¬gs
(
¤c
) \

671 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR2
) \

672 { { ((cÚ¡ *è(
¤c
))[0], '\0' } }), \

673 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR3
) \

674 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

676 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR4
) \

677 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

678 ((cÚ¡ *è(
¤c
))[2], '\0' } }), \

679 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR5
) \

680 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

681 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

683 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR6
) \

684 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

685 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

686 ((cÚ¡ *è(
¤c
))[4], '\0' } }), \

687 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR7
) \

688 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

689 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

690 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

692 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR8
) \

693 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

694 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

695 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

696 ((cÚ¡ *è(
¤c
))[6], '\0' } })

	)

698 
__STRING_INLINE
 *
__¡pıy_sm®l
 (*, 
__STRING2_COPY_ARR2
,

699 
__STRING2_COPY_ARR3
,

700 
__STRING2_COPY_ARR4
,

701 
__STRING2_COPY_ARR5
,

702 
__STRING2_COPY_ARR6
,

703 
__STRING2_COPY_ARR7
,

704 
__STRING2_COPY_ARR8
, 
size_t
);

705 
__STRING_INLINE
 *

706 
	$__¡pıy_sm®l
 (*
__de¡
,

707 
__STRING2_COPY_ARR2
 
__¤c2
, 
__STRING2_COPY_ARR3
 
__¤c3
,

708 
__STRING2_COPY_ARR4
 
__¤c4
, 
__STRING2_COPY_ARR5
 
__¤c5
,

709 
__STRING2_COPY_ARR6
 
__¤c6
, 
__STRING2_COPY_ARR7
 
__¤c7
,

710 
__STRING2_COPY_ARR8
 
__¤c8
, 
size_t
 
__¤ş’
)

713 
__c
;

714 
__STRING2_COPY_ARR2
 
__sÿ2
;

715 
__STRING2_COPY_ARR3
 
__sÿ3
;

716 
__STRING2_COPY_ARR4
 
__sÿ4
;

717 
__STRING2_COPY_ARR5
 
__sÿ5
;

718 
__STRING2_COPY_ARR6
 
__sÿ6
;

719 
__STRING2_COPY_ARR7
 
__sÿ7
;

720 
__STRING2_COPY_ARR8
 
__sÿ8
;

721 } *
__u
 = (*è
__de¡
;

722 (è
__¤ş’
)

725 
__u
->
__c
 = '\0';

728 
__ex‹nsiÚ__
 
__u
->
__sÿ2
 = 
__¤c2
;

731 
__ex‹nsiÚ__
 
__u
->
__sÿ3
 = 
__¤c3
;

734 
__ex‹nsiÚ__
 
__u
->
__sÿ4
 = 
__¤c4
;

737 
__ex‹nsiÚ__
 
__u
->
__sÿ5
 = 
__¤c5
;

740 
__ex‹nsiÚ__
 
__u
->
__sÿ6
 = 
__¤c6
;

743 
__ex‹nsiÚ__
 
__u
->
__sÿ7
 = 
__¤c7
;

746 
__ex‹nsiÚ__
 
__u
->
__sÿ8
 = 
__¤c8
;

749  
__de¡
 + 
__¤ş’
 - 1;

750 
	}
}

758 #iâdeà
_HAVE_STRING_ARCH_¡ºıy


759 #ià
__GNUC_PREREQ
 (3, 2)

760 
	#¡ºıy
(
de¡
, 
¤c
, 
n
è
	`__butš_¡ºıy
 (de¡, src,‚)

	)

762 
	#¡ºıy
(
de¡
, 
¤c
, 
n
) \

763 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

764 ? (
	`¡¾’
 (
¤c
è+ 1 >ğ((
size_t
è(
n
)) \

765 ? (*è
	`memıy
 (
de¡
, 
¤c
, 
n
) \

766 : 
	`¡ºıy
 (
de¡
, 
¤c
, 
n
)) \

767 : 
	`¡ºıy
 (
de¡
, 
¤c
, 
n
)))

	)

773 #iâdeà
_HAVE_STRING_ARCH_¡ºÿt


774 #ifdeà
_USE_STRING_ARCH_¡rchr


775 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
) \

776 (
	`__ex‹nsiÚ__
 ({ *
__de¡
 = (
de¡
); \

777 
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

778 ? (
	`¡¾’
 (
¤c
è< ((
size_t
è(
n
)) \

779 ? 
	`¡rÿt
 (
__de¡
, 
¤c
) \

780 : (*((*è
	`__mempıy
 (
	`¡rchr
 (
__de¡
, '\0'), \

781 
¤c
, 
n
)èğ'\0', 
__de¡
)) \

782 : 
	`¡ºÿt
 (
de¡
, 
¤c
, 
n
); }))

	)

783 #–ià
__GNUC_PREREQ
 (3, 2)

784 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
è
	`__butš_¡ºÿt
 (de¡, src,‚)

	)

786 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
) \

787 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

788 ? (
	`¡¾’
 (
¤c
è< ((
size_t
è(
n
)) \

789 ? 
	`¡rÿt
 (
de¡
, 
¤c
) \

790 : 
	`¡ºÿt
 (
de¡
, 
¤c
, 
n
)) \

791 : 
	`¡ºÿt
 (
de¡
, 
¤c
, 
n
)))

	)

797 #iâdeà
_HAVE_STRING_ARCH_¡rcmp


798 #ià
__GNUC_PREREQ
 (3, 2)

799 
	#¡rcmp
(
s1
, 
s2
) \

800 
__ex‹nsiÚ__
 \

801 ({ 
size_t
 
__s1_Ën
, 
__s2_Ën
; \

802 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& __butš_cÚ¡ªt_°(
s2
) \

803 && (
__s1_Ën
 = 
	`__butš_¡¾’
 (
s1
), 
__s2_Ën
 = __butš_¡¾’ (
s2
), \

804 (!
	`__¡ršg2_1b±r_p
 (
s1
è|| 
__s1_Ën
 >= 4) \

805 && (!
	`__¡ršg2_1b±r_p
 (
s2
è|| 
__s2_Ën
 >= 4)) \

806 ? 
	`__butš_¡rcmp
 (
s1
, 
s2
) \

807 : (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

808 && (
__s1_Ën
 = 
	`__butš_¡¾’
 (
s1
), __s1_len < 4) \

809 ? (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

810 ? 
	`__butš_¡rcmp
 (
s1
, 
s2
) \

811 : 
	`__¡rcmp_cg
 (
s1
, 
s2
, 
__s1_Ën
)) \

812 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

813 && (
__s2_Ën
 = 
	`__butš_¡¾’
 (
s2
), __s2_len < 4) \

814 ? (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

815 ? 
	`__butš_¡rcmp
 (
s1
, 
s2
) \

816 : 
	`__¡rcmp_gc
 (
s1
, 
s2
, 
__s2_Ën
)) \

817 : 
	`__butš_¡rcmp
 (
s1
, 
s2
)))); })

	)

819 
	#¡rcmp
(
s1
, 
s2
) \

820 
__ex‹nsiÚ__
 \

821 ({ 
size_t
 
__s1_Ën
, 
__s2_Ën
; \

822 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& __butš_cÚ¡ªt_°(
s2
) \

823 && (
__s1_Ën
 = 
	`¡¾’
 (
s1
), 
__s2_Ën
 = sŒËÀ(
s2
), \

824 (!
	`__¡ršg2_1b±r_p
 (
s1
è|| 
__s1_Ën
 >= 4) \

825 && (!
	`__¡ršg2_1b±r_p
 (
s2
è|| 
__s2_Ën
 >= 4)) \

826 ? 
	`memcmp
 ((cÚ¡ *è(
s1
), (cÚ¡ *è(
s2
), \

827 (
__s1_Ën
 < 
__s2_Ën
 ? __s1_len : __s2_len) + 1) \

828 : (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

829 && (
__s1_Ën
 = 
	`¡¾’
 (
s1
), __s1_len < 4) \

830 ? (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

831 ? 
	`__¡rcmp_cc
 (
s1
, 
s2
, 
__s1_Ën
) \

832 : 
	`__¡rcmp_cg
 (
s1
, 
s2
, 
__s1_Ën
)) \

833 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

834 && (
__s2_Ën
 = 
	`¡¾’
 (
s2
), __s2_len < 4) \

835 ? (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

836 ? 
	`__¡rcmp_cc
 (
s1
, 
s2
, 
__s2_Ën
) \

837 : 
	`__¡rcmp_gc
 (
s1
, 
s2
, 
__s2_Ën
)) \

838 : 
	`¡rcmp
 (
s1
, 
s2
)))); })

	)

841 
	#__¡rcmp_cc
(
s1
, 
s2
, 
l
) \

842 (
	`__ex‹nsiÚ__
 ({ 
__»suÉ
 = \

843 (((cÚ¡ *è(cÚ¡ *è(
s1
))[0] \

844 - ((cÚ¡ *è(cÚ¡ *)(
s2
))[0]); \

845 ià(
l
 > 0 && 
__»suÉ
 == 0) \

847 
__»suÉ
 = (((const *) \

848 (cÚ¡ *è(
s1
))[1] \

850 (cÚ¡ *è(
s2
))[1]); \

851 ià(
l
 > 1 && 
__»suÉ
 == 0) \

853 
__»suÉ
 = \

855 (cÚ¡ *è(
s1
))[2] \

857 (cÚ¡ *è(
s2
))[2]); \

858 ià(
l
 > 2 && 
__»suÉ
 == 0) \

859 
__»suÉ
 = \

861 (cÚ¡ *è(
s1
))[3] \

863 (cÚ¡ *è(
s2
))[3]); \

866 
__»suÉ
; }))

	)

868 
	#__¡rcmp_cg
(
s1
, 
s2
, 
l1
) \

869 (
	`__ex‹nsiÚ__
 ({ cÚ¡ *
__s2
 = \

870 (cÚ¡ *è(cÚ¡ *è(
s2
); \

871 
__»suÉ
 = \

872 (((cÚ¡ *è(cÚ¡ *è(
s1
))[0] \

873 - 
__s2
[0]); \

874 ià(
l1
 > 0 && 
__»suÉ
 == 0) \

876 
__»suÉ
 = (((const *) \

877 (cÚ¡ *è(
s1
))[1] - 
__s2
[1]); \

878 ià(
l1
 > 1 && 
__»suÉ
 == 0) \

880 
__»suÉ
 = (((const *) \

881 (cÚ¡ *è(
s1
))[2] - 
__s2
[2]); \

882 ià(
l1
 > 2 && 
__»suÉ
 == 0) \

883 
__»suÉ
 = (((const *) \

884 (cÚ¡ *è(
s1
))[3] \

885 - 
__s2
[3]); \

888 
__»suÉ
; }))

	)

890 
	#__¡rcmp_gc
(
s1
, 
s2
, 
l2
è(- 
	`__¡rcmp_cg
 (s2, s1,†2))

	)

895 #iâdeà
_HAVE_STRING_ARCH_¡ºcmp


896 
	#¡ºcmp
(
s1
, 
s2
, 
n
) \

897 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) \

898 && ((
	`__butš_cÚ¡ªt_p
 (
s1
) \

899 && 
	`¡¾’
 (
s1
è< ((
size_t
è(
n
))) \

900 || (
	`__butš_cÚ¡ªt_p
 (
s2
) \

901 && 
	`¡¾’
 (
s2
è< ((
size_t
è(
n
)))) \

902 ? 
	`¡rcmp
 (
s1
, 
s2
è: 
	`¡ºcmp
 (s1, s2, 
n
)))

	)

908 #ià!
defšed
 
_HAVE_STRING_ARCH_¡rc¥n
 || defšed 
_FORCE_INLINES


909 #iâdeà
_HAVE_STRING_ARCH_¡rc¥n


910 #ià
__GNUC_PREREQ
 (3, 2)

911 
	#¡rc¥n
(
s
, 
»jeù
) \

912 
__ex‹nsiÚ__
 \

913 ({ 
__r0
, 
__r1
, 
__r2
; \

914 (
	`__butš_cÚ¡ªt_p
 (
»jeù
è&& 
	`__¡ršg2_1b±r_p
 (reject) \

915 ? ((
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s)) \

916 ? 
	`__butš_¡rc¥n
 (
s
, 
»jeù
) \

917 : ((
__r0
 = ((cÚ¡ *è(
»jeù
))[0], __r0 == '\0') \

918 ? 
	`¡¾’
 (
s
) \

919 : ((
__r1
 = ((cÚ¡ *è(
»jeù
))[1], __r1 == '\0') \

920 ? 
	`__¡rc¥n_c1
 (
s
, 
__r0
) \

921 : ((
__r2
 = ((cÚ¡ *è(
»jeù
))[2], __r2 == '\0') \

922 ? 
	`__¡rc¥n_c2
 (
s
, 
__r0
, 
__r1
) \

923 : (((cÚ¡ *è(
»jeù
))[3] == '\0' \

924 ? 
	`__¡rc¥n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

925 : 
	`__butš_¡rc¥n
 (
s
, 
»jeù
)))))) \

926 : 
	`__butš_¡rc¥n
 (
s
, 
»jeù
)); })

	)

928 
	#¡rc¥n
(
s
, 
»jeù
) \

929 
__ex‹nsiÚ__
 \

930 ({ 
__r0
, 
__r1
, 
__r2
; \

931 (
	`__butš_cÚ¡ªt_p
 (
»jeù
è&& 
	`__¡ršg2_1b±r_p
 (reject) \

932 ? ((
__r0
 = ((cÚ¡ *è(
»jeù
))[0], __r0 == '\0') \

933 ? 
	`¡¾’
 (
s
) \

934 : ((
__r1
 = ((cÚ¡ *è(
»jeù
))[1], __r1 == '\0') \

935 ? 
	`__¡rc¥n_c1
 (
s
, 
__r0
) \

936 : ((
__r2
 = ((cÚ¡ *è(
»jeù
))[2], __r2 == '\0') \

937 ? 
	`__¡rc¥n_c2
 (
s
, 
__r0
, 
__r1
) \

938 : (((cÚ¡ *è(
»jeù
))[3] == '\0' \

939 ? 
	`__¡rc¥n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

940 : 
	`¡rc¥n
 (
s
, 
»jeù
))))) \

941 : 
	`¡rc¥n
 (
s
, 
»jeù
)); })

	)

945 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c1
 (cÚ¡ *
__s
, 
__»jeù
);

946 
__STRING_INLINE
 
size_t


947 
	$__¡rc¥n_c1
 (cÚ¡ *
__s
, 
__»jeù
)

949 
size_t
 
__»suÉ
 = 0;

950 
__s
[
__»suÉ
] !ğ'\0' && __s[__»suÉ] !ğ
__»jeù
)

951 ++
__»suÉ
;

952  
__»suÉ
;

953 
	}
}

955 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c2
 (cÚ¡ *
__s
, 
__»jeù1
,

956 
__»jeù2
);

957 
__STRING_INLINE
 
size_t


958 
	$__¡rc¥n_c2
 (cÚ¡ *
__s
, 
__»jeù1
, 
__»jeù2
)

960 
size_t
 
__»suÉ
 = 0;

961 
__s
[
__»suÉ
] !ğ'\0' && __s[__»suÉ] !ğ
__»jeù1


962 && 
__s
[
__»suÉ
] !ğ
__»jeù2
)

963 ++
__»suÉ
;

964  
__»suÉ
;

965 
	}
}

967 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c3
 (cÚ¡ *
__s
, 
__»jeù1
,

968 
__»jeù2
, 
__»jeù3
);

969 
__STRING_INLINE
 
size_t


970 
	$__¡rc¥n_c3
 (cÚ¡ *
__s
, 
__»jeù1
, 
__»jeù2
,

971 
__»jeù3
)

973 
size_t
 
__»suÉ
 = 0;

974 
__s
[
__»suÉ
] !ğ'\0' && __s[__»suÉ] !ğ
__»jeù1


975 && 
__s
[
__»suÉ
] !ğ
__»jeù2
 && __s[__»suÉ] !ğ
__»jeù3
)

976 ++
__»suÉ
;

977  
__»suÉ
;

978 
	}
}

984 #ià!
defšed
 
_HAVE_STRING_ARCH_¡r¥n
 || defšed 
_FORCE_INLINES


985 #iâdeà
_HAVE_STRING_ARCH_¡r¥n


986 #ià
__GNUC_PREREQ
 (3, 2)

987 
	#¡r¥n
(
s
, 
acû±
) \

988 
__ex‹nsiÚ__
 \

989 ({ 
__a0
, 
__a1
, 
__a2
; \

990 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

991 ? ((
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s)) \

992 ? 
	`__butš_¡r¥n
 (
s
, 
acû±
) \

993 : ((
__a0
 = ((cÚ¡ *è(
acû±
))[0], __a0 == '\0') \

994 ? ((è(
s
), (
size_t
) 0) \

995 : ((
__a1
 = ((cÚ¡ *è(
acû±
))[1], __a1 == '\0') \

996 ? 
	`__¡r¥n_c1
 (
s
, 
__a0
) \

997 : ((
__a2
 = ((cÚ¡ *è(
acû±
))[2], __a2 == '\0') \

998 ? 
	`__¡r¥n_c2
 (
s
, 
__a0
, 
__a1
) \

999 : (((cÚ¡ *è(
acû±
))[3] == '\0' \

1000 ? 
	`__¡r¥n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1001 : 
	`__butš_¡r¥n
 (
s
, 
acû±
)))))) \

1002 : 
	`__butš_¡r¥n
 (
s
, 
acû±
)); })

	)

1004 
	#¡r¥n
(
s
, 
acû±
) \

1005 
__ex‹nsiÚ__
 \

1006 ({ 
__a0
, 
__a1
, 
__a2
; \

1007 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1008 ? ((
__a0
 = ((cÚ¡ *è(
acû±
))[0], __a0 == '\0') \

1009 ? ((è(
s
), (
size_t
) 0) \

1010 : ((
__a1
 = ((cÚ¡ *è(
acû±
))[1], __a1 == '\0') \

1011 ? 
	`__¡r¥n_c1
 (
s
, 
__a0
) \

1012 : ((
__a2
 = ((cÚ¡ *è(
acû±
))[2], __a2 == '\0') \

1013 ? 
	`__¡r¥n_c2
 (
s
, 
__a0
, 
__a1
) \

1014 : (((cÚ¡ *è(
acû±
))[3] == '\0' \

1015 ? 
	`__¡r¥n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1016 : 
	`¡r¥n
 (
s
, 
acû±
))))) \

1017 : 
	`¡r¥n
 (
s
, 
acû±
)); })

	)

1021 
__STRING_INLINE
 
size_t
 
__¡r¥n_c1
 (cÚ¡ *
__s
, 
__acû±
);

1022 
__STRING_INLINE
 
size_t


1023 
	$__¡r¥n_c1
 (cÚ¡ *
__s
, 
__acû±
)

1025 
size_t
 
__»suÉ
 = 0;

1027 
__s
[
__»suÉ
] =ğ
__acû±
)

1028 ++
__»suÉ
;

1029  
__»suÉ
;

1030 
	}
}

1032 
__STRING_INLINE
 
size_t
 
__¡r¥n_c2
 (cÚ¡ *
__s
, 
__acû±1
,

1033 
__acû±2
);

1034 
__STRING_INLINE
 
size_t


1035 
	$__¡r¥n_c2
 (cÚ¡ *
__s
, 
__acû±1
, 
__acû±2
)

1037 
size_t
 
__»suÉ
 = 0;

1039 
__s
[
__»suÉ
] =ğ
__acû±1
 || __s[__»suÉ] =ğ
__acû±2
)

1040 ++
__»suÉ
;

1041  
__»suÉ
;

1042 
	}
}

1044 
__STRING_INLINE
 
size_t
 
__¡r¥n_c3
 (cÚ¡ *
__s
, 
__acû±1
,

1045 
__acû±2
, 
__acû±3
);

1046 
__STRING_INLINE
 
size_t


1047 
	$__¡r¥n_c3
 (cÚ¡ *
__s
, 
__acû±1
, 
__acû±2
, 
__acû±3
)

1049 
size_t
 
__»suÉ
 = 0;

1051 
__s
[
__»suÉ
] =ğ
__acû±1
 || __s[__»suÉ] =ğ
__acû±2


1052 || 
__s
[
__»suÉ
] =ğ
__acû±3
)

1053 ++
__»suÉ
;

1054  
__»suÉ
;

1055 
	}
}

1060 #ià!
defšed
 
_HAVE_STRING_ARCH_¡½brk
 || defšed 
_FORCE_INLINES


1061 #iâdeà
_HAVE_STRING_ARCH_¡½brk


1062 #ià
__GNUC_PREREQ
 (3, 2)

1063 
	#¡½brk
(
s
, 
acû±
) \

1064 
__ex‹nsiÚ__
 \

1065 ({ 
__a0
, 
__a1
, 
__a2
; \

1066 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1067 ? ((
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s)) \

1068 ? 
	`__butš_¡½brk
 (
s
, 
acû±
) \

1069 : ((
__a0
 = ((cÚ¡ *è(
acû±
))[0], __a0 == '\0') \

1070 ? ((è(
s
), (*è
NULL
) \

1071 : ((
__a1
 = ((cÚ¡ *è(
acû±
))[1], __a1 == '\0') \

1072 ? 
	`__butš_¡rchr
 (
s
, 
__a0
) \

1073 : ((
__a2
 = ((cÚ¡ *è(
acû±
))[2], __a2 == '\0') \

1074 ? 
	`__¡½brk_c2
 (
s
, 
__a0
, 
__a1
) \

1075 : (((cÚ¡ *è(
acû±
))[3] == '\0' \

1076 ? 
	`__¡½brk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1077 : 
	`__butš_¡½brk
 (
s
, 
acû±
)))))) \

1078 : 
	`__butš_¡½brk
 (
s
, 
acû±
)); })

	)

1080 
	#¡½brk
(
s
, 
acû±
) \

1081 
__ex‹nsiÚ__
 \

1082 ({ 
__a0
, 
__a1
, 
__a2
; \

1083 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1084 ? ((
__a0
 = ((cÚ¡ *è(
acû±
))[0], __a0 == '\0') \

1085 ? ((è(
s
), (*è
NULL
) \

1086 : ((
__a1
 = ((cÚ¡ *è(
acû±
))[1], __a1 == '\0') \

1087 ? 
	`¡rchr
 (
s
, 
__a0
) \

1088 : ((
__a2
 = ((cÚ¡ *è(
acû±
))[2], __a2 == '\0') \

1089 ? 
	`__¡½brk_c2
 (
s
, 
__a0
, 
__a1
) \

1090 : (((cÚ¡ *è(
acû±
))[3] == '\0' \

1091 ? 
	`__¡½brk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1092 : 
	`¡½brk
 (
s
, 
acû±
))))) \

1093 : 
	`¡½brk
 (
s
, 
acû±
)); })

	)

1097 
__STRING_INLINE
 *
__¡½brk_c2
 (cÚ¡ *
__s
, 
__acû±1
,

1098 
__acû±2
);

1099 
__STRING_INLINE
 *

1100 
	$__¡½brk_c2
 (cÚ¡ *
__s
, 
__acû±1
, 
__acû±2
)

1103 *
__s
 !ğ'\0' && *__ !ğ
__acû±1
 && *__ !ğ
__acû±2
)

1104 ++
__s
;

1105  *
__s
 =ğ'\0' ? 
NULL
 : (*è(
size_t
) __s;

1106 
	}
}

1108 
__STRING_INLINE
 *
__¡½brk_c3
 (cÚ¡ *
__s
, 
__acû±1
,

1109 
__acû±2
, 
__acû±3
);

1110 
__STRING_INLINE
 *

1111 
	$__¡½brk_c3
 (cÚ¡ *
__s
, 
__acû±1
, 
__acû±2
, 
__acû±3
)

1114 *
__s
 !ğ'\0' && *__ !ğ
__acû±1
 && *__ !ğ
__acû±2


1115 && *
__s
 !ğ
__acû±3
)

1116 ++
__s
;

1117  *
__s
 =ğ'\0' ? 
NULL
 : (*è(
size_t
) __s;

1118 
	}
}

1124 #ià!
defšed
 
_HAVE_STRING_ARCH_¡r¡r
 && !
__GNUC_PREREQ
 (2, 97)

1125 
	#¡r¡r
(
hay¡ack
, 
ÃedË
) \

1126 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
ÃedË
è&& 
	`__¡ršg2_1b±r_p
 (needle) \

1127 ? (((cÚ¡ *è(
ÃedË
))[0] == '\0' \

1128 ? (*è(
size_t
è(
hay¡ack
) \

1129 : (((cÚ¡ *è(
ÃedË
))[1] == '\0' \

1130 ? 
	`¡rchr
 (
hay¡ack
, \

1131 ((cÚ¡ *è(
ÃedË
))[0]) \

1132 : 
	`¡r¡r
 (
hay¡ack
, 
ÃedË
))) \

1133 : 
	`¡r¡r
 (
hay¡ack
, 
ÃedË
)))

	)

1137 #ià!
defšed
 
_HAVE_STRING_ARCH_¡¹ok_r
 || defšed 
_FORCE_INLINES


1138 #iâdeà
_HAVE_STRING_ARCH_¡¹ok_r


1139 
	#__¡¹ok_r
(
s
, 
£p
, 
Ãx
) \

1140 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
£p
è&& 
	`__¡ršg2_1b±r_p
 (sep) \

1141 && ((cÚ¡ *è(
£p
))[0] != '\0' \

1142 && ((cÚ¡ *è(
£p
))[1] == '\0' \

1143 ? 
	`__¡¹ok_r_1c
 (
s
, ((cÚ¡ *è(
£p
))[0], 
Ãx
) \

1144 : 
	`__¡¹ok_r
 (
s
, 
£p
, 
Ãx
)))

	)

1147 
__STRING_INLINE
 *
__¡¹ok_r_1c
 (*
__s
, 
__£p
, **
__Ãx
);

1148 
__STRING_INLINE
 *

1149 
	$__¡¹ok_r_1c
 (*
__s
, 
__£p
, **
__Ãx
)

1151 *
__»suÉ
;

1152 ià(
__s
 =ğ
NULL
)

1153 
__s
 = *
__Ãx
;

1154 *
__s
 =ğ
__£p
)

1155 ++
__s
;

1156 
__»suÉ
 = 
NULL
;

1157 ià(*
__s
 != '\0')

1159 
__»suÉ
 = 
__s
++;

1160 *
__s
 != '\0')

1161 ià(*
__s
++ =ğ
__£p
)

1163 
__s
[-1] = '\0';

1167 *
__Ãx
 = 
__s
;

1168  
__»suÉ
;

1169 
	}
}

1170 #ifdeà
__USE_POSIX


1171 
	#¡¹ok_r
(
s
, 
£p
, 
Ãx
è
	`__¡¹ok_r
 (s, s•,‚ex)

	)

1176 #ià!
defšed
 
_HAVE_STRING_ARCH_¡r£p
 || defšed 
_FORCE_INLINES


1177 #iâdeà
_HAVE_STRING_ARCH_¡r£p


1179 *
__¡r£p_g
 (**
__¡ršgp
, cÚ¡ *
__d–im
);

1180 
	#__¡r£p
(
s
, 
»jeù
) \

1181 
__ex‹nsiÚ__
 \

1182 ({ 
__r0
, 
__r1
, 
__r2
; \

1183 (
	`__butš_cÚ¡ªt_p
 (
»jeù
è&& 
	`__¡ršg2_1b±r_p
 (reject) \

1184 && (
__r0
 = ((cÚ¡ *è(
»jeù
))[0], \

1185 ((cÚ¡ *è(
»jeù
))[0] != '\0') \

1186 ? ((
__r1
 = ((cÚ¡ *è(
»jeù
))[1], \

1187 ((cÚ¡ *è(
»jeù
))[1] == '\0') \

1188 ? 
	`__¡r£p_1c
 (
s
, 
__r0
) \

1189 : ((
__r2
 = ((cÚ¡ *è(
»jeù
))[2], __r2 == '\0') \

1190 ? 
	`__¡r£p_2c
 (
s
, 
__r0
, 
__r1
) \

1191 : (((cÚ¡ *è(
»jeù
))[3] == '\0' \

1192 ? 
	`__¡r£p_3c
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

1193 : 
	`__¡r£p_g
 (
s
, 
»jeù
)))) \

1194 : 
	`__¡r£p_g
 (
s
, 
»jeù
)); })

	)

1197 
__STRING_INLINE
 *
__¡r£p_1c
 (**
__s
, 
__»jeù
);

1198 
__STRING_INLINE
 *

1199 
	$__¡r£p_1c
 (**
__s
, 
__»jeù
)

1201 *
__»tv®
 = *
__s
;

1202 ià(
__»tv®
 !ğ
NULL
 && (*
__s
 = 
	`¡rchr
 (__»tv®, 
__»jeù
)) != NULL)

1203 *(*
__s
)++ = '\0';

1204  
__»tv®
;

1205 
	}
}

1207 
__STRING_INLINE
 *
__¡r£p_2c
 (**
__s
, 
__»jeù1
, 
__»jeù2
);

1208 
__STRING_INLINE
 *

1209 
	$__¡r£p_2c
 (**
__s
, 
__»jeù1
, 
__»jeù2
)

1211 *
__»tv®
 = *
__s
;

1212 ià(
__»tv®
 !ğ
NULL
)

1214 *
__ı
 = 
__»tv®
;

1217 ià(*
__ı
 == '\0')

1219 
__ı
 = 
NULL
;

1222 ià(*
__ı
 =ğ
__»jeù1
 || *__ı =ğ
__»jeù2
)

1224 *
__ı
++ = '\0';

1227 ++
__ı
;

1229 *
__s
 = 
__ı
;

1231  
__»tv®
;

1232 
	}
}

1234 
__STRING_INLINE
 *
__¡r£p_3c
 (**
__s
, 
__»jeù1
, 
__»jeù2
,

1235 
__»jeù3
);

1236 
__STRING_INLINE
 *

1237 
	$__¡r£p_3c
 (**
__s
, 
__»jeù1
, 
__»jeù2
, 
__»jeù3
)

1239 *
__»tv®
 = *
__s
;

1240 ià(
__»tv®
 !ğ
NULL
)

1242 *
__ı
 = 
__»tv®
;

1245 ià(*
__ı
 == '\0')

1247 
__ı
 = 
NULL
;

1250 ià(*
__ı
 =ğ
__»jeù1
 || *__ı =ğ
__»jeù2
 || *__ı =ğ
__»jeù3
)

1252 *
__ı
++ = '\0';

1255 ++
__ı
;

1257 *
__s
 = 
__ı
;

1259  
__»tv®
;

1260 
	}
}

1261 #ifdeà
__USE_MISC


1262 
	#¡r£p
(
s
, 
»jeù
è
	`__¡r£p
 (s,„ejeù)

	)

1269 #ifdeà
__USE_MISC


1271 #ià!
defšed
 
_HAVE_STRING_ARCH_¡rdup
 || !defšed 
_HAVE_STRING_ARCH_¡ºdup


1272 
	#__Ãed_m®loc_ªd_ÿÎoc


	)

1273 
	~<¡dlib.h
>

1276 #iâdeà
_HAVE_STRING_ARCH_¡rdup


1278 *
	$__¡rdup
 (cÚ¡ *
__¡ršg
è
__THROW
 
__©Œibu‹_m®loc__
;

1279 
	#__¡rdup
(
s
) \

1280 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s) \

1281 ? (((cÚ¡ *è(
s
))[0] == '\0' \

1282 ? (*è
	`ÿÎoc
 ((
size_t
) 1, (size_t) 1) \

1283 : ({ 
size_t
 
__Ën
 = 
	`¡¾’
 (
s
) + 1; \

1284 *
__»tv®
 = (*è
	`m®loc
 (
__Ën
); \

1285 ià(
__»tv®
 !ğ
NULL
) \

1286 
__»tv®
 = (*è
	`memıy
 (__»tv®, 
s
, 
__Ën
); \

1287 
__»tv®
; 
	}
})) \

1288 : 
	`__¡rdup
 (
s
)))

	)

1290 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


1291 
	#¡rdup
(
s
è
	`__¡rdup
 (s)

	)

1295 #iâdeà
_HAVE_STRING_ARCH_¡ºdup


1297 *
	$__¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

1298 
__THROW
 
__©Œibu‹_m®loc__
;

1299 
	#__¡ºdup
(
s
, 
n
) \

1300 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s) \

1301 ? (((cÚ¡ *è(
s
))[0] == '\0' \

1302 ? (*è
	`ÿÎoc
 ((
size_t
) 1, (size_t) 1) \

1303 : ({ 
size_t
 
__Ën
 = 
	`¡¾’
 (
s
) + 1; \

1304 
size_t
 
__n
 = (
n
); \

1305 *
__»tv®
; \

1306 ià(
__n
 < 
__Ën
) \

1307 
__Ën
 = 
__n
 + 1; \

1308 
__»tv®
 = (*è
	`m®loc
 (
__Ën
); \

1309 ià(
__»tv®
 !ğ
NULL
) \

1311 
__»tv®
[
__Ën
 - 1] = '\0'; \

1312 
__»tv®
 = (*è
	`memıy
 (__»tv®, 
s
, \

1313 
__Ën
 - 1); \

1315 
__»tv®
; 
	}
})) \

1316 : 
	`__¡ºdup
 (
s
, 
n
)))

	)

1318 #ifdeà
__USE_XOPEN2K8


1319 
	#¡ºdup
(
s
, 
n
è
	`__¡ºdup
 (s,‚)

	)

1325 #iâdeà
_FORCE_INLINES


1326 #undeà
__STRING_INLINE


	@/usr/include/bits/string3.h

18 #iâdeà
_STRING_H


22 #ià!
__GNUC_PREREQ
 (5,0)

23 
__w¬ndeş
 (
__w¬n_mem£t_z”o_Ën
,

27 #iâdeà
__ılu¥lus


31 #undeà
memıy


32 #undeà
memmove


33 #undeà
mem£t


34 #undeà
¡rÿt


35 #undeà
¡rıy


36 #undeà
¡ºÿt


37 #undeà
¡ºıy


38 #ifdeà
__USE_GNU


39 #undeà
mempıy


40 #undeà
¡pıy


42 #ifdeà
__USE_MISC


43 #undeà
bcİy


44 #undeà
bz”o


49 
__fÜtify_funùiÚ
 *

50 
__NTH
 (
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

51 
size_t
 
__Ën
))

53  
	`__butš___memıy_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

54 
	}
}

56 
__fÜtify_funùiÚ
 *

57 
__NTH
 (
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__Ën
))

59  
	`__butš___memmove_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

60 
	}
}

62 #ifdeà
__USE_GNU


63 
__fÜtify_funùiÚ
 *

64 
__NTH
 (
	$mempıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

65 
size_t
 
__Ën
))

67  
	`__butš___mempıy_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

68 
	}
}

77 
__fÜtify_funùiÚ
 *

78 
__NTH
 (
	$mem£t
 (*
__de¡
, 
__ch
, 
size_t
 
__Ën
))

82 #ià!
	`__GNUC_PREREQ
 (5,0)

83 ià(
	`__butš_cÚ¡ªt_p
 (
__Ën
) && __len == 0

84 && (!
	`__butš_cÚ¡ªt_p
 (
__ch
) || __ch != 0))

86 
	`__w¬n_mem£t_z”o_Ën
 ();

87  
__de¡
;

90  
	`__butš___mem£t_chk
 (
__de¡
, 
__ch
, 
__Ën
, 
	`__bos0
 (__dest));

91 
	}
}

93 #ifdeà
__USE_MISC


94 
__fÜtify_funùiÚ
 

95 
__NTH
 (
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__Ën
))

97 (è
	`__butš___memmove_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

98 
	}
}

100 
__fÜtify_funùiÚ
 

101 
__NTH
 (
	$bz”o
 (*
__de¡
, 
size_t
 
__Ën
))

103 (è
	`__butš___mem£t_chk
 (
__de¡
, '\0', 
__Ën
, 
	`__bos0
 (__dest));

104 
	}
}

107 
__fÜtify_funùiÚ
 *

108 
__NTH
 (
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
))

110  
	`__butš___¡rıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__dest));

111 
	}
}

113 #ifdeà
__USE_GNU


114 
__fÜtify_funùiÚ
 *

115 
__NTH
 (
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
))

117  
	`__butš___¡pıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__dest));

118 
	}
}

122 
__fÜtify_funùiÚ
 *

123 
__NTH
 (
	$¡ºıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

124 
size_t
 
__Ën
))

126  
	`__butš___¡ºıy_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dest));

127 
	}
}

130 *
	$__¡²ıy_chk
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

131 
size_t
 
__de¡Ën
è
__THROW
;

132 *
	`__REDIRECT_NTH
 (
__¡²ıy_®Ÿs
, (*
__de¡
, cÚ¡ *
__¤c
,

133 
size_t
 
__n
), 
¡²ıy
);

135 
__fÜtify_funùiÚ
 *

136 
	`__NTH
 (
	$¡²ıy
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
))

138 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1

139 && (!
	`__butš_cÚ¡ªt_p
 (
__n
è|| __À<ğ
	`__bos
 (
__de¡
)))

140  
	`__¡²ıy_chk
 (
__de¡
, 
__¤c
, 
__n
, 
	`__bos
 (__dest));

141  
	`__¡²ıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

142 
	}
}

145 
__fÜtify_funùiÚ
 *

146 
__NTH
 (
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
))

148  
	`__butš___¡rÿt_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__dest));

149 
	}
}

152 
__fÜtify_funùiÚ
 *

153 
__NTH
 (
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

154 
size_t
 
__Ën
))

156  
	`__butš___¡ºÿt_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dest));

157 
	}
}

	@/usr/include/bits/sys_errlist.h

19 #iâdeà
_STDIO_H


25 #ifdeà 
__USE_MISC


26 
sys_Ã¼
;

27 cÚ¡ *cÚ¡ 
sys_”¾i¡
[];

29 #ifdeà 
__USE_GNU


30 
_sys_Ã¼
;

31 cÚ¡ *cÚ¡ 
_sys_”¾i¡
[];

	@/usr/include/bits/time.h

23 #ià
defšed
 
__Ãed_timev®
 || defšed 
__USE_GNU


24 #iâdeà
_STRUCT_TIMEVAL


25 
	#_STRUCT_TIMEVAL
 1

	)

26 
	~<b™s/ty³s.h
>

30 
	stimev®


32 
__time_t
 
	mtv_£c
;

33 
__su£cÚds_t
 
	mtv_u£c
;

38 #iâdeà
__Ãed_timev®


39 #iâdeà
_BITS_TIME_H


40 
	#_BITS_TIME_H
 1

	)

48 
	#CLOCKS_PER_SEC
 ((
şock_t
è1000000)

	)

50 #ià(!
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_POSIX
) \

51 && !
defšed
 
	g__USE_XOPEN2K


54 
	~<b™s/ty³s.h
>

55 
__syscÚf
 ();

56 
	#CLK_TCK
 ((
__şock_t
è
	`__syscÚf
 (2)è

	)

59 #ifdeà
__USE_POSIX199309


61 
	#CLOCK_REALTIME
 0

	)

63 
	#CLOCK_MONOTONIC
 1

	)

65 
	#CLOCK_PROCESS_CPUTIME_ID
 2

	)

67 
	#CLOCK_THREAD_CPUTIME_ID
 3

	)

69 
	#CLOCK_MONOTONIC_RAW
 4

	)

71 
	#CLOCK_REALTIME_COARSE
 5

	)

73 
	#CLOCK_MONOTONIC_COARSE
 6

	)

75 
	#CLOCK_BOOTTIME
 7

	)

77 
	#CLOCK_REALTIME_ALARM
 8

	)

79 
	#CLOCK_BOOTTIME_ALARM
 9

	)

81 
	#CLOCK_TAI
 11

	)

84 
	#TIMER_ABSTIME
 1

	)

87 #ifdeà
__USE_GNU


88 
	~<b™s/timex.h
>

90 
__BEGIN_DECLS


93 
	$şock_adjtime
 (
__şockid_t
 
__şock_id
, 
timex
 *
__utx
è
__THROW
;

95 
__END_DECLS


101 #undeà
__Ãed_timev®


	@/usr/include/bits/types.h

23 #iâdef 
_BITS_TYPES_H


24 
	#_BITS_TYPES_H
 1

	)

26 
	~<ã©u»s.h
>

27 
	~<b™s/wÜdsize.h
>

30 
	t__u_ch¬
;

31 
	t__u_shÜt
;

32 
	t__u_št
;

33 
	t__u_lÚg
;

36 sigÃd 
	t__št8_t
;

37 
	t__ušt8_t
;

38 sigÃd 
	t__št16_t
;

39 
	t__ušt16_t
;

40 sigÃd 
	t__št32_t
;

41 
	t__ušt32_t
;

42 #ià
__WORDSIZE
 == 64

43 sigÃd 
	t__št64_t
;

44 
	t__ušt64_t
;

46 
__ex‹nsiÚ__
 sigÃd 
	t__št64_t
;

47 
__ex‹nsiÚ__
 
	t__ušt64_t
;

51 #ià
__WORDSIZE
 == 64

52 
	t__quad_t
;

53 
	t__u_quad_t
;

55 
__ex‹nsiÚ__
 
	t__quad_t
;

56 
__ex‹nsiÚ__
 
	t__u_quad_t
;

89 
	#__S16_TYPE
 

	)

90 
	#__U16_TYPE
 

	)

91 
	#__S32_TYPE
 

	)

92 
	#__U32_TYPE
 

	)

93 
	#__SLONGWORD_TYPE
 

	)

94 
	#__ULONGWORD_TYPE
 

	)

95 #ià
__WORDSIZE
 == 32

96 
	#__SQUAD_TYPE
 
__quad_t


	)

97 
	#__UQUAD_TYPE
 
__u_quad_t


	)

98 
	#__SWORD_TYPE
 

	)

99 
	#__UWORD_TYPE
 

	)

100 
	#__SLONG32_TYPE
 

	)

101 
	#__ULONG32_TYPE
 

	)

102 
	#__S64_TYPE
 
__quad_t


	)

103 
	#__U64_TYPE
 
__u_quad_t


	)

106 
	#__STD_TYPE
 
__ex‹nsiÚ__
 

	)

107 #–ià
__WORDSIZE
 == 64

108 
	t__SQUAD_TYPE
 

	)

109 
	t__UQUAD_TYPE
 

	)

110 
	t__SWORD_TYPE
 

	)

111 
	t__UWORD_TYPE
 

	)

112 
	t__SLONG32_TYPE
 

	)

113 
	t__ULONG32_TYPE
 

	)

114 
	t__S64_TYPE
 

	)

115 
	t__U64_TYPE
 

	)

117 
	t__STD_TYPE
 

	)

121 
	~<b™s/ty³sizes.h
>

124 
__STD_TYPE
 
	t__DEV_T_TYPE
 
	t__dev_t
;

125 
__STD_TYPE
 
__UID_T_TYPE
 
	g__uid_t
;

126 
__STD_TYPE
 
__GID_T_TYPE
 
	g__gid_t
;

127 
__STD_TYPE
 
__INO_T_TYPE
 
	g__šo_t
;

128 
__STD_TYPE
 
__INO64_T_TYPE
 
	g__šo64_t
;

129 
__STD_TYPE
 
__MODE_T_TYPE
 
	g__mode_t
;

130 
__STD_TYPE
 
__NLINK_T_TYPE
 
	g__Æšk_t
;

131 
__STD_TYPE
 
__OFF_T_TYPE
 
	g__off_t
;

132 
__STD_TYPE
 
__OFF64_T_TYPE
 
	g__off64_t
;

133 
__STD_TYPE
 
__PID_T_TYPE
 
	g__pid_t
;

134 
__STD_TYPE
 
__FSID_T_TYPE
 
	g__fsid_t
;

135 
__STD_TYPE
 
__CLOCK_T_TYPE
 
	g__şock_t
;

136 
__STD_TYPE
 
__RLIM_T_TYPE
 
	g__¾im_t
;

137 
__STD_TYPE
 
__RLIM64_T_TYPE
 
	g__¾im64_t
;

138 
__STD_TYPE
 
__ID_T_TYPE
 
	g__id_t
;

139 
__STD_TYPE
 
__TIME_T_TYPE
 
	g__time_t
;

140 
__STD_TYPE
 
__USECONDS_T_TYPE
 
	g__u£cÚds_t
;

141 
__STD_TYPE
 
__SUSECONDS_T_TYPE
 
	g__su£cÚds_t
;

143 
__STD_TYPE
 
__DADDR_T_TYPE
 
	g__daddr_t
;

144 
__STD_TYPE
 
__KEY_T_TYPE
 
	g__key_t
;

147 
__STD_TYPE
 
__CLOCKID_T_TYPE
 
	g__şockid_t
;

150 
__STD_TYPE
 
__TIMER_T_TYPE
 
	g__tim”_t
;

153 
__STD_TYPE
 
__BLKSIZE_T_TYPE
 
	g__blksize_t
;

158 
__STD_TYPE
 
__BLKCNT_T_TYPE
 
	g__blkút_t
;

159 
__STD_TYPE
 
__BLKCNT64_T_TYPE
 
	g__blkút64_t
;

162 
__STD_TYPE
 
__FSBLKCNT_T_TYPE
 
	g__fsblkút_t
;

163 
__STD_TYPE
 
__FSBLKCNT64_T_TYPE
 
	g__fsblkút64_t
;

166 
__STD_TYPE
 
__FSFILCNT_T_TYPE
 
	g__fsfút_t
;

167 
__STD_TYPE
 
__FSFILCNT64_T_TYPE
 
	g__fsfút64_t
;

170 
__STD_TYPE
 
__FSWORD_T_TYPE
 
	g__fswÜd_t
;

172 
__STD_TYPE
 
__SSIZE_T_TYPE
 
	g__ssize_t
;

175 
__STD_TYPE
 
__SYSCALL_SLONG_TYPE
 
	g__sysÿÎ_¦Úg_t
;

177 
__STD_TYPE
 
__SYSCALL_ULONG_TYPE
 
	g__sysÿÎ_ulÚg_t
;

181 
__off64_t
 
	t__loff_t
;

182 
__quad_t
 *
	t__qaddr_t
;

183 *
	t__ÿddr_t
;

186 
__STD_TYPE
 
__SWORD_TYPE
 
	g__šŒ_t
;

189 
__STD_TYPE
 
__U32_TYPE
 
	g__sockËn_t
;

192 #undeà
__STD_TYPE


	@/usr/include/bits/unistd.h

19 #iâdeà
_UNISTD_H


23 
ssize_t
 
	$__»ad_chk
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

24 
size_t
 
__buæ’
è
__wur
;

25 
ssize_t
 
	`__REDIRECT
 (
__»ad_®Ÿs
, (
__fd
, *
__buf
,

26 
size_t
 
__nby‹s
), 
»ad
è
__wur
;

27 
ssize_t
 
	`__REDIRECT
 (
__»ad_chk_w¬n
,

28 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

29 
size_t
 
__buæ’
), 
__»ad_chk
)

30 
__wur
 
	`__w¬Ç‰r
 ("read called with bigger†engthhan size of "

33 
__fÜtify_funùiÚ
 
__wur
 
ssize_t


34 
	$»ad
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
)

36 ià(
	`__bos0
 (
__buf
è!ğ(
size_t
) -1)

38 ià(!
	`__butš_cÚ¡ªt_p
 (
__nby‹s
))

39  
	`__»ad_chk
 (
__fd
, 
__buf
, 
__nby‹s
, 
	`__bos0
 (__buf));

41 ià(
__nby‹s
 > 
	`__bos0
 (
__buf
))

42  
	`__»ad_chk_w¬n
 (
__fd
, 
__buf
, 
__nby‹s
, 
	`__bos0
 (__buf));

44  
	`__»ad_®Ÿs
 (
__fd
, 
__buf
, 
__nby‹s
);

45 
	}
}

47 #ifdeà
__USE_UNIX98


48 
ssize_t
 
	$__´—d_chk
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

49 
__off_t
 
__off£t
, 
size_t
 
__bufsize
è
__wur
;

50 
ssize_t
 
	$__´—d64_chk
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

51 
__off64_t
 
__off£t
, 
size_t
 
__bufsize
è
__wur
;

52 
ssize_t
 
	`__REDIRECT
 (
__´—d_®Ÿs
,

53 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

54 
__off_t
 
__off£t
), 
´—d
è
__wur
;

55 
ssize_t
 
	`__REDIRECT
 (
__´—d64_®Ÿs
,

56 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

57 
__off64_t
 
__off£t
), 
´—d64
è
__wur
;

58 
ssize_t
 
	`__REDIRECT
 (
__´—d_chk_w¬n
,

59 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

60 
__off_t
 
__off£t
, 
size_t
 
__bufsize
), 
__´—d_chk
)

61 
__wur
 
	`__w¬Ç‰r
 ("pread called with bigger†engthhan size of "

63 
ssize_t
 
	`__REDIRECT
 (
__´—d64_chk_w¬n
,

64 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

65 
__off64_t
 
__off£t
, 
size_t
 
__bufsize
),

66 
__´—d64_chk
)

67 
__wur
 
	`__w¬Ç‰r
 ("pread64 called with bigger†engthhan size of "

70 #iâdeà
__USE_FILE_OFFSET64


71 
__fÜtify_funùiÚ
 
__wur
 
ssize_t


72 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
, 
__off_t
 
__off£t
)

74 ià(
	`__bos0
 (
__buf
è!ğ(
size_t
) -1)

76 ià(!
	`__butš_cÚ¡ªt_p
 (
__nby‹s
))

77  
	`__´—d_chk
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
, 
	`__bos0
 (__buf));

79 iàĞ
__nby‹s
 > 
	`__bos0
 (
__buf
))

80  
	`__´—d_chk_w¬n
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
,

81 
	`__bos0
 (
__buf
));

83  
	`__´—d_®Ÿs
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
);

84 
	}
}

86 
__fÜtify_funùiÚ
 
__wur
 
ssize_t


87 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
)

89 ià(
	`__bos0
 (
__buf
è!ğ(
size_t
) -1)

91 ià(!
	`__butš_cÚ¡ªt_p
 (
__nby‹s
))

92  
	`__´—d64_chk
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
, 
	`__bos0
 (__buf));

94 iàĞ
__nby‹s
 > 
	`__bos0
 (
__buf
))

95  
	`__´—d64_chk_w¬n
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
,

96 
	`__bos0
 (
__buf
));

99  
	`__´—d64_®Ÿs
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
);

100 
	}
}

103 #ifdeà
__USE_LARGEFILE64


104 
__fÜtify_funùiÚ
 
__wur
 
ssize_t


105 
	$´—d64
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
)

107 ià(
	`__bos0
 (
__buf
è!ğ(
size_t
) -1)

109 ià(!
	`__butš_cÚ¡ªt_p
 (
__nby‹s
))

110  
	`__´—d64_chk
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
, 
	`__bos0
 (__buf));

112 iàĞ
__nby‹s
 > 
	`__bos0
 (
__buf
))

113  
	`__´—d64_chk_w¬n
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
,

114 
	`__bos0
 (
__buf
));

117  
	`__´—d64_®Ÿs
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
);

118 
	}
}

122 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


123 
ssize_t
 
	$__»adlšk_chk
 (cÚ¡ *
__»¡riù
 
__·th
,

124 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
,

125 
size_t
 
__buæ’
)

126 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

127 
ssize_t
 
	`__REDIRECT_NTH
 (
__»adlšk_®Ÿs
,

128 (cÚ¡ *
__»¡riù
 
__·th
,

129 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
), 
»adlšk
)

130 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

131 
ssize_t
 
	`__REDIRECT_NTH
 (
__»adlšk_chk_w¬n
,

132 (cÚ¡ *
__»¡riù
 
__·th
,

133 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
,

134 
size_t
 
__buæ’
), 
__»adlšk_chk
)

135 
	`__nÚnuÎ
 ((1, 2)è
__wur
 
	`__w¬Ç‰r
 ("readlink called with bigger†ength "

138 
__fÜtify_funùiÚ
 
	`__nÚnuÎ
 ((1, 2)è
__wur
 
ssize_t


139 
	`__NTH
 (
	$»adlšk
 (cÚ¡ *
__»¡riù
 
__·th
, *__»¡riù 
__buf
,

140 
size_t
 
__Ën
))

142 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

144 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

145  
	`__»adlšk_chk
 (
__·th
, 
__buf
, 
__Ën
, 
	`__bos
 (__buf));

147 iàĞ
__Ën
 > 
	`__bos
 (
__buf
))

148  
	`__»adlšk_chk_w¬n
 (
__·th
, 
__buf
, 
__Ën
, 
	`__bos
 (__buf));

150  
	`__»adlšk_®Ÿs
 (
__·th
, 
__buf
, 
__Ën
);

151 
	}
}

154 #ifdeà
__USE_ATFILE


155 
ssize_t
 
	$__»adlšk©_chk
 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

156 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
,

157 
size_t
 
__buæ’
)

158 
__THROW
 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

159 
ssize_t
 
	`__REDIRECT_NTH
 (
__»adlšk©_®Ÿs
,

160 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

161 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
),

162 
»adlšk©
)

163 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

164 
ssize_t
 
	`__REDIRECT_NTH
 (
__»adlšk©_chk_w¬n
,

165 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

166 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
,

167 
size_t
 
__buæ’
), 
__»adlšk©_chk
)

168 
	`__nÚnuÎ
 ((2, 3)è
__wur
 
	`__w¬Ç‰r
 ("readlinkat called with bigger "

172 
__fÜtify_funùiÚ
 
	`__nÚnuÎ
 ((2, 3)è
__wur
 
ssize_t


173 
	`__NTH
 (
	$»adlšk©
 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

174 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
))

176 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

178 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

179  
	`__»adlšk©_chk
 (
__fd
, 
__·th
, 
__buf
, 
__Ën
, 
	`__bos
 (__buf));

181 ià(
__Ën
 > 
	`__bos
 (
__buf
))

182  
	`__»adlšk©_chk_w¬n
 (
__fd
, 
__·th
, 
__buf
, 
__Ën
,

183 
	`__bos
 (
__buf
));

185  
	`__»adlšk©_®Ÿs
 (
__fd
, 
__·th
, 
__buf
, 
__Ën
);

186 
	}
}

189 *
	$__g‘cwd_chk
 (*
__buf
, 
size_t
 
__size
, size_ˆ
__buæ’
)

190 
__THROW
 
__wur
;

191 *
	`__REDIRECT_NTH
 (
__g‘cwd_®Ÿs
,

192 (*
__buf
, 
size_t
 
__size
), 
g‘cwd
è
__wur
;

193 *
	`__REDIRECT_NTH
 (
__g‘cwd_chk_w¬n
,

194 (*
__buf
, 
size_t
 
__size
, size_ˆ
__buæ’
),

195 
__g‘cwd_chk
)

196 
__wur
 
	`__w¬Ç‰r
 ("getcwd caller with bigger†engthhan size of "

199 
__fÜtify_funùiÚ
 
__wur
 *

200 
	`__NTH
 (
	$g‘cwd
 (*
__buf
, 
size_t
 
__size
))

202 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

204 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
))

205  
	`__g‘cwd_chk
 (
__buf
, 
__size
, 
	`__bos
 (__buf));

207 ià(
__size
 > 
	`__bos
 (
__buf
))

208  
	`__g‘cwd_chk_w¬n
 (
__buf
, 
__size
, 
	`__bos
 (__buf));

210  
	`__g‘cwd_®Ÿs
 (
__buf
, 
__size
);

211 
	}
}

213 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


214 *
	$__g‘wd_chk
 (*
__buf
, 
size_t
 
buæ’
)

215 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

216 *
	`__REDIRECT_NTH
 (
__g‘wd_w¬n
, (*
__buf
), 
g‘wd
)

217 
	`__nÚnuÎ
 ((1)è
__wur
 
	`__w¬Ç‰r
 ("please use getcwd instead,‡s getwd "

220 
__fÜtify_funùiÚ
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
 
__wur
 *

221 
	`__NTH
 (
	$g‘wd
 (*
__buf
))

223 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

224  
	`__g‘wd_chk
 (
__buf
, 
	`__bos
 (__buf));

225  
	`__g‘wd_w¬n
 (
__buf
);

226 
	}
}

229 
size_t
 
	$__cÚf¡r_chk
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
,

230 
size_t
 
__buæ’
è
__THROW
;

231 
size_t
 
	`__REDIRECT_NTH
 (
__cÚf¡r_®Ÿs
, (
__Çme
, *
__buf
,

232 
size_t
 
__Ën
), 
cÚf¡r
);

233 
size_t
 
	`__REDIRECT_NTH
 (
__cÚf¡r_chk_w¬n
,

234 (
__Çme
, *
__buf
, 
size_t
 
__Ën
,

235 
size_t
 
__buæ’
), 
__cÚf¡r_chk
)

236 
	`__w¬Ç‰r
 ("confstr called with bigger†engthhan size of destination "

239 
__fÜtify_funùiÚ
 
size_t


240 
	`__NTH
 (
	$cÚf¡r
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
))

242 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

244 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

245  
	`__cÚf¡r_chk
 (
__Çme
, 
__buf
, 
__Ën
, 
	`__bos
 (__buf));

247 ià(
	`__bos
 (
__buf
è< 
__Ën
)

248  
	`__cÚf¡r_chk_w¬n
 (
__Çme
, 
__buf
, 
__Ën
, 
	`__bos
 (__buf));

250  
	`__cÚf¡r_®Ÿs
 (
__Çme
, 
__buf
, 
__Ën
);

251 
	}
}

254 
	$__g‘groups_chk
 (
__size
, 
__gid_t
 
__li¡
[], 
size_t
 
__li¡Ën
)

255 
__THROW
 
__wur
;

256 
	`__REDIRECT_NTH
 (
__g‘groups_®Ÿs
, (
__size
, 
__gid_t
 
__li¡
[]),

257 
g‘groups
è
__wur
;

258 
	`__REDIRECT_NTH
 (
__g‘groups_chk_w¬n
,

259 (
__size
, 
__gid_t
 
__li¡
[], 
size_t
 
__li¡Ën
),

260 
__g‘groups_chk
)

261 
__wur
 
	`__w¬Ç‰r
 ("getgroups called with bigger group counthan what "

264 
__fÜtify_funùiÚ
 

265 
	`__NTH
 (
	$g‘groups
 (
__size
, 
__gid_t
 
__li¡
[]))

267 ià(
	`__bos
 (
__li¡
è!ğ(
size_t
) -1)

269 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
) || __size < 0)

270  
	`__g‘groups_chk
 (
__size
, 
__li¡
, 
	`__bos
 (__list));

272 ià(
__size
 *  (
__gid_t
è> 
	`__bos
 (
__li¡
))

273  
	`__g‘groups_chk_w¬n
 (
__size
, 
__li¡
, 
	`__bos
 (__list));

275  
	`__g‘groups_®Ÿs
 (
__size
, 
__li¡
);

276 
	}
}

279 
	$__‰yÇme_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

280 
size_t
 
__Ä—l
è
__THROW
 
	`__nÚnuÎ
 ((2));

281 
	`__REDIRECT_NTH
 (
__‰yÇme_r_®Ÿs
, (
__fd
, *
__buf
,

282 
size_t
 
__buæ’
), 
‰yÇme_r
)

283 
	`__nÚnuÎ
 ((2));

284 
	`__REDIRECT_NTH
 (
__‰yÇme_r_chk_w¬n
,

285 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

286 
size_t
 
__Ä—l
), 
__‰yÇme_r_chk
)

287 
	`__nÚnuÎ
 ((2)è
	`__w¬Ç‰r
 ("ttyname_r called with bigger buflenhan "

290 
__fÜtify_funùiÚ
 

291 
	`__NTH
 (
	$‰yÇme_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
))

293 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

295 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

296  
	`__‰yÇme_r_chk
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

298 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

299  
	`__‰yÇme_r_chk_w¬n
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

301  
	`__‰yÇme_r_®Ÿs
 (
__fd
, 
__buf
, 
__buæ’
);

302 
	}
}

305 #ià
defšed
 
__USE_REENTRANT
 || defšed 
__USE_POSIX199506


306 
	$__g‘logš_r_chk
 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
)

307 
	`__nÚnuÎ
 ((1));

308 
	`__REDIRECT
 (
__g‘logš_r_®Ÿs
, (*
__buf
, 
size_t
 
__buæ’
),

309 
g‘logš_r
è
	`__nÚnuÎ
 ((1));

310 
	`__REDIRECT
 (
__g‘logš_r_chk_w¬n
,

311 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
),

312 
__g‘logš_r_chk
)

313 
	`__nÚnuÎ
 ((1)è
	`__w¬Ç‰r
 ("getlogin_r called with bigger buflenhan "

316 
__fÜtify_funùiÚ
 

317 
	$g‘logš_r
 (*
__buf
, 
size_t
 
__buæ’
)

319 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

321 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

322  
	`__g‘logš_r_chk
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

324 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

325  
	`__g‘logš_r_chk_w¬n
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

327  
	`__g‘logš_r_®Ÿs
 (
__buf
, 
__buæ’
);

328 
	}
}

332 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_UNIX98


333 
	$__g‘ho¡Çme_chk
 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
)

334 
__THROW
 
	`__nÚnuÎ
 ((1));

335 
	`__REDIRECT_NTH
 (
__g‘ho¡Çme_®Ÿs
, (*
__buf
, 
size_t
 
__buæ’
),

336 
g‘ho¡Çme
è
	`__nÚnuÎ
 ((1));

337 
	`__REDIRECT_NTH
 (
__g‘ho¡Çme_chk_w¬n
,

338 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
),

339 
__g‘ho¡Çme_chk
)

340 
	`__nÚnuÎ
 ((1)è
	`__w¬Ç‰r
 ("gethostname called with bigger buflenhan "

343 
__fÜtify_funùiÚ
 

344 
	`__NTH
 (
	$g‘ho¡Çme
 (*
__buf
, 
size_t
 
__buæ’
))

346 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

348 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

349  
	`__g‘ho¡Çme_chk
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

351 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

352  
	`__g‘ho¡Çme_chk_w¬n
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

354  
	`__g‘ho¡Çme_®Ÿs
 (
__buf
, 
__buæ’
);

355 
	}
}

359 #ià
defšed
 
__USE_MISC
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_UNIX98
)

360 
	$__g‘domašÇme_chk
 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
)

361 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

362 
	`__REDIRECT_NTH
 (
__g‘domašÇme_®Ÿs
, (*
__buf
,

363 
size_t
 
__buæ’
),

364 
g‘domašÇme
è
	`__nÚnuÎ
 ((1)è
__wur
;

365 
	`__REDIRECT_NTH
 (
__g‘domašÇme_chk_w¬n
,

366 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
),

367 
__g‘domašÇme_chk
)

368 
	`__nÚnuÎ
 ((1)è
__wur
 
	`__w¬Ç‰r
 ("getdomainname called with bigger "

372 
__fÜtify_funùiÚ
 

373 
	`__NTH
 (
	$g‘domašÇme
 (*
__buf
, 
size_t
 
__buæ’
))

375 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

377 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

378  
	`__g‘domašÇme_chk
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

380 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

381  
	`__g‘domašÇme_chk_w¬n
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

383  
	`__g‘domašÇme_®Ÿs
 (
__buf
, 
__buæ’
);

384 
	}
}

	@/usr/include/bits/waitflags.h

19 #ià!
defšed
 
_SYS_WAIT_H
 && !defšed 
_STDLIB_H


25 
	#WNOHANG
 1

	)

26 
	#WUNTRACED
 2

	)

29 
	#WSTOPPED
 2

	)

30 
	#WEXITED
 4

	)

31 
	#WCONTINUED
 8

	)

32 
	#WNOWAIT
 0x01000000

	)

34 
	#__WNOTHREAD
 0x20000000

	)

36 
	#__WALL
 0x40000000

	)

37 
	#__WCLONE
 0x80000000

	)

40 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


41 #iâdeà
__ENUM_IDTYPE_T


42 
	#__ENUM_IDTYPE_T
 1

	)

46 #undeà
P_ALL


47 #undeà
P_PID


48 #undeà
P_PGID


52 
	mP_ALL
,

53 
	mP_PID
,

54 
	mP_PGID


55 } 
	tidty³_t
;

	@/usr/include/bits/waitstatus.h

19 #ià!
defšed
 
_SYS_WAIT_H
 && !defšed 
_STDLIB_H


28 
	#__WEXITSTATUS
(
¡©us
è(((¡©usè& 0xff00è>> 8)

	)

31 
	#__WTERMSIG
(
¡©us
è((¡©usè& 0x7f)

	)

34 
	#__WSTOPSIG
(
¡©us
è
	`__WEXITSTATUS
(¡©us)

	)

37 
	#__WIFEXITED
(
¡©us
è(
	`__WTERMSIG
(¡©usè=ğ0)

	)

40 
	#__WIFSIGNALED
(
¡©us
) \

41 (((sigÃd è(((
¡©us
è& 0x7fè+ 1è>> 1è> 0)

	)

44 
	#__WIFSTOPPED
(
¡©us
è(((¡©usè& 0xffè=ğ0x7f)

	)

48 #ifdeà
WCONTINUED


49 
	#__WIFCONTINUED
(
¡©us
è((¡©usè=ğ
__W_CONTINUED
)

	)

53 
	#__WCOREDUMP
(
¡©us
è((¡©usè& 
__WCOREFLAG
)

	)

56 
	#__W_EXITCODE
(
»t
, 
sig
è(Ô‘è<< 8 | (sig))

	)

57 
	#__W_STOPCODE
(
sig
è((sigè<< 8 | 0x7f)

	)

58 
	#__W_CONTINUED
 0xffff

	)

59 
	#__WCOREFLAG
 0x80

	)

62 #ifdef 
__USE_MISC


64 
	~<’dŸn.h
>

66 
	uwa™


68 
	mw_¡©us
;

71 #if 
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


72 
	m__w_‹rmsig
:7;

73 
	m__w_cÜedump
:1;

74 
	m__w_»tcode
:8;

77 #if 
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


79 
	m__w_»tcode
:8;

80 
	m__w_cÜedump
:1;

81 
	m__w_‹rmsig
:7;

83 } 
	m__wa™_‹rmš©ed
;

86 #if 
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


87 
	m__w_¡İv®
:8;

88 
	m__w_¡İsig
:8;

91 #if 
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


93 
	m__w_¡İsig
:8;

94 
	m__w_¡İv®
:8;

96 } 
	m__wa™_¡İ³d
;

99 
	#w_‹rmsig
 
__wa™_‹rmš©ed
.
__w_‹rmsig


	)

100 
	#w_cÜedump
 
__wa™_‹rmš©ed
.
__w_cÜedump


	)

101 
	#w_»tcode
 
__wa™_‹rmš©ed
.
__w_»tcode


	)

102 
	#w_¡İsig
 
__wa™_¡İ³d
.
__w_¡İsig


	)

103 
	#w_¡İv®
 
__wa™_¡İ³d
.
__w_¡İv®


	)

	@/usr/include/elf.h

19 #iâdeà
_ELF_H


20 
	#_ELF_H
 1

	)

22 
	~<ã©u»s.h
>

24 
	g__BEGIN_DECLS


28 
	~<¡dšt.h
>

31 
ušt16_t
 
	tElf32_H®f
;

32 
ušt16_t
 
	tElf64_H®f
;

35 
ušt32_t
 
	tElf32_WÜd
;

36 
št32_t
 
	tElf32_SwÜd
;

37 
ušt32_t
 
	tElf64_WÜd
;

38 
št32_t
 
	tElf64_SwÜd
;

41 
ušt64_t
 
	tElf32_XwÜd
;

42 
št64_t
 
	tElf32_SxwÜd
;

43 
ušt64_t
 
	tElf64_XwÜd
;

44 
št64_t
 
	tElf64_SxwÜd
;

47 
ušt32_t
 
	tElf32_Addr
;

48 
ušt64_t
 
	tElf64_Addr
;

51 
ušt32_t
 
	tElf32_Off
;

52 
ušt64_t
 
	tElf64_Off
;

55 
ušt16_t
 
	tElf32_SeùiÚ
;

56 
ušt16_t
 
	tElf64_SeùiÚ
;

59 
Elf32_H®f
 
	tElf32_V”sym
;

60 
Elf64_H®f
 
	tElf64_V”sym
;

65 
	#EI_NIDENT
 (16)

	)

69 
	me_id’t
[
EI_NIDENT
];

70 
Elf32_H®f
 
	me_ty³
;

71 
Elf32_H®f
 
	me_machše
;

72 
Elf32_WÜd
 
	me_v”siÚ
;

73 
Elf32_Addr
 
	me_’Œy
;

74 
Elf32_Off
 
	me_phoff
;

75 
Elf32_Off
 
	me_shoff
;

76 
Elf32_WÜd
 
	me_æags
;

77 
Elf32_H®f
 
	me_ehsize
;

78 
Elf32_H®f
 
	me_ph’tsize
;

79 
Elf32_H®f
 
	me_phnum
;

80 
Elf32_H®f
 
	me_sh’tsize
;

81 
Elf32_H®f
 
	me_shnum
;

82 
Elf32_H®f
 
	me_sh¡ºdx
;

83 } 
	tElf32_Ehdr
;

87 
	me_id’t
[
EI_NIDENT
];

88 
Elf64_H®f
 
	me_ty³
;

89 
Elf64_H®f
 
	me_machše
;

90 
Elf64_WÜd
 
	me_v”siÚ
;

91 
Elf64_Addr
 
	me_’Œy
;

92 
Elf64_Off
 
	me_phoff
;

93 
Elf64_Off
 
	me_shoff
;

94 
Elf64_WÜd
 
	me_æags
;

95 
Elf64_H®f
 
	me_ehsize
;

96 
Elf64_H®f
 
	me_ph’tsize
;

97 
Elf64_H®f
 
	me_phnum
;

98 
Elf64_H®f
 
	me_sh’tsize
;

99 
Elf64_H®f
 
	me_shnum
;

100 
Elf64_H®f
 
	me_sh¡ºdx
;

101 } 
	tElf64_Ehdr
;

107 
	#EI_MAG0
 0

	)

108 
	#ELFMAG0
 0x7à

	)

110 
	#EI_MAG1
 1

	)

111 
	#ELFMAG1
 'E'

	)

113 
	#EI_MAG2
 2

	)

114 
	#ELFMAG2
 'L'

	)

116 
	#EI_MAG3
 3

	)

117 
	#ELFMAG3
 'F'

	)

120 
	#ELFMAG
 "\177ELF"

	)

121 
	#SELFMAG
 4

	)

123 
	#EI_CLASS
 4

	)

124 
	#ELFCLASSNONE
 0

	)

125 
	#ELFCLASS32
 1

	)

126 
	#ELFCLASS64
 2

	)

127 
	#ELFCLASSNUM
 3

	)

129 
	#EI_DATA
 5

	)

130 
	#ELFDATANONE
 0

	)

131 
	#ELFDATA2LSB
 1

	)

132 
	#ELFDATA2MSB
 2

	)

133 
	#ELFDATANUM
 3

	)

135 
	#EI_VERSION
 6

	)

138 
	#EI_OSABI
 7

	)

139 
	#ELFOSABI_NONE
 0

	)

140 
	#ELFOSABI_SYSV
 0

	)

141 
	#ELFOSABI_HPUX
 1

	)

142 
	#ELFOSABI_NETBSD
 2

	)

143 
	#ELFOSABI_GNU
 3

	)

144 
	#ELFOSABI_LINUX
 
ELFOSABI_GNU


	)

145 
	#ELFOSABI_SOLARIS
 6

	)

146 
	#ELFOSABI_AIX
 7

	)

147 
	#ELFOSABI_IRIX
 8

	)

148 
	#ELFOSABI_FREEBSD
 9

	)

149 
	#ELFOSABI_TRU64
 10

	)

150 
	#ELFOSABI_MODESTO
 11

	)

151 
	#ELFOSABI_OPENBSD
 12

	)

152 
	#ELFOSABI_ARM_AEABI
 64

	)

153 
	#ELFOSABI_ARM
 97

	)

154 
	#ELFOSABI_STANDALONE
 255

	)

156 
	#EI_ABIVERSION
 8

	)

158 
	#EI_PAD
 9

	)

162 
	#ET_NONE
 0

	)

163 
	#ET_REL
 1

	)

164 
	#ET_EXEC
 2

	)

165 
	#ET_DYN
 3

	)

166 
	#ET_CORE
 4

	)

167 
	#ET_NUM
 5

	)

168 
	#ET_LOOS
 0xã00

	)

169 
	#ET_HIOS
 0xãfà

	)

170 
	#ET_LOPROC
 0xff00

	)

171 
	#ET_HIPROC
 0xfffà

	)

175 
	#EM_NONE
 0

	)

176 
	#EM_M32
 1

	)

177 
	#EM_SPARC
 2

	)

178 
	#EM_386
 3

	)

179 
	#EM_68K
 4

	)

180 
	#EM_88K
 5

	)

181 
	#EM_860
 7

	)

182 
	#EM_MIPS
 8

	)

183 
	#EM_S370
 9

	)

184 
	#EM_MIPS_RS3_LE
 10

	)

186 
	#EM_PARISC
 15

	)

187 
	#EM_VPP500
 17

	)

188 
	#EM_SPARC32PLUS
 18

	)

189 
	#EM_960
 19

	)

190 
	#EM_PPC
 20

	)

191 
	#EM_PPC64
 21

	)

192 
	#EM_S390
 22

	)

194 
	#EM_V800
 36

	)

195 
	#EM_FR20
 37

	)

196 
	#EM_RH32
 38

	)

197 
	#EM_RCE
 39

	)

198 
	#EM_ARM
 40

	)

199 
	#EM_FAKE_ALPHA
 41

	)

200 
	#EM_SH
 42

	)

201 
	#EM_SPARCV9
 43

	)

202 
	#EM_TRICORE
 44

	)

203 
	#EM_ARC
 45

	)

204 
	#EM_H8_300
 46

	)

205 
	#EM_H8_300H
 47

	)

206 
	#EM_H8S
 48

	)

207 
	#EM_H8_500
 49

	)

208 
	#EM_IA_64
 50

	)

209 
	#EM_MIPS_X
 51

	)

210 
	#EM_COLDFIRE
 52

	)

211 
	#EM_68HC12
 53

	)

212 
	#EM_MMA
 54

	)

213 
	#EM_PCP
 55

	)

214 
	#EM_NCPU
 56

	)

215 
	#EM_NDR1
 57

	)

216 
	#EM_STARCORE
 58

	)

217 
	#EM_ME16
 59

	)

218 
	#EM_ST100
 60

	)

219 
	#EM_TINYJ
 61

	)

220 
	#EM_X86_64
 62

	)

221 
	#EM_PDSP
 63

	)

223 
	#EM_FX66
 66

	)

224 
	#EM_ST9PLUS
 67

	)

225 
	#EM_ST7
 68

	)

226 
	#EM_68HC16
 69

	)

227 
	#EM_68HC11
 70

	)

228 
	#EM_68HC08
 71

	)

229 
	#EM_68HC05
 72

	)

230 
	#EM_SVX
 73

	)

231 
	#EM_ST19
 74

	)

232 
	#EM_VAX
 75

	)

233 
	#EM_CRIS
 76

	)

234 
	#EM_JAVELIN
 77

	)

235 
	#EM_FIREPATH
 78

	)

236 
	#EM_ZSP
 79

	)

237 
	#EM_MMIX
 80

	)

238 
	#EM_HUANY
 81

	)

239 
	#EM_PRISM
 82

	)

240 
	#EM_AVR
 83

	)

241 
	#EM_FR30
 84

	)

242 
	#EM_D10V
 85

	)

243 
	#EM_D30V
 86

	)

244 
	#EM_V850
 87

	)

245 
	#EM_M32R
 88

	)

246 
	#EM_MN10300
 89

	)

247 
	#EM_MN10200
 90

	)

248 
	#EM_PJ
 91

	)

249 
	#EM_OPENRISC
 92

	)

250 
	#EM_ARC_A5
 93

	)

251 
	#EM_XTENSA
 94

	)

252 
	#EM_ALTERA_NIOS2
 113

	)

253 
	#EM_AARCH64
 183

	)

254 
	#EM_TILEPRO
 188

	)

255 
	#EM_MICROBLAZE
 189

	)

256 
	#EM_TILEGX
 191

	)

257 
	#EM_NUM
 192

	)

263 
	#EM_ALPHA
 0x9026

	)

267 
	#EV_NONE
 0

	)

268 
	#EV_CURRENT
 1

	)

269 
	#EV_NUM
 2

	)

275 
Elf32_WÜd
 
	msh_Çme
;

276 
Elf32_WÜd
 
	msh_ty³
;

277 
Elf32_WÜd
 
	msh_æags
;

278 
Elf32_Addr
 
	msh_addr
;

279 
Elf32_Off
 
	msh_off£t
;

280 
Elf32_WÜd
 
	msh_size
;

281 
Elf32_WÜd
 
	msh_lšk
;

282 
Elf32_WÜd
 
	msh_šfo
;

283 
Elf32_WÜd
 
	msh_add¿lign
;

284 
Elf32_WÜd
 
	msh_’tsize
;

285 } 
	tElf32_Shdr
;

289 
Elf64_WÜd
 
	msh_Çme
;

290 
Elf64_WÜd
 
	msh_ty³
;

291 
Elf64_XwÜd
 
	msh_æags
;

292 
Elf64_Addr
 
	msh_addr
;

293 
Elf64_Off
 
	msh_off£t
;

294 
Elf64_XwÜd
 
	msh_size
;

295 
Elf64_WÜd
 
	msh_lšk
;

296 
Elf64_WÜd
 
	msh_šfo
;

297 
Elf64_XwÜd
 
	msh_add¿lign
;

298 
Elf64_XwÜd
 
	msh_’tsize
;

299 } 
	tElf64_Shdr
;

303 
	#SHN_UNDEF
 0

	)

304 
	#SHN_LORESERVE
 0xff00

	)

305 
	#SHN_LOPROC
 0xff00

	)

306 
	#SHN_BEFORE
 0xff00

	)

308 
	#SHN_AFTER
 0xff01

	)

310 
	#SHN_HIPROC
 0xff1à

	)

311 
	#SHN_LOOS
 0xff20

	)

312 
	#SHN_HIOS
 0xff3à

	)

313 
	#SHN_ABS
 0xfff1

	)

314 
	#SHN_COMMON
 0xfff2

	)

315 
	#SHN_XINDEX
 0xfffà

	)

316 
	#SHN_HIRESERVE
 0xfffà

	)

320 
	#SHT_NULL
 0

	)

321 
	#SHT_PROGBITS
 1

	)

322 
	#SHT_SYMTAB
 2

	)

323 
	#SHT_STRTAB
 3

	)

324 
	#SHT_RELA
 4

	)

325 
	#SHT_HASH
 5

	)

326 
	#SHT_DYNAMIC
 6

	)

327 
	#SHT_NOTE
 7

	)

328 
	#SHT_NOBITS
 8

	)

329 
	#SHT_REL
 9

	)

330 
	#SHT_SHLIB
 10

	)

331 
	#SHT_DYNSYM
 11

	)

332 
	#SHT_INIT_ARRAY
 14

	)

333 
	#SHT_FINI_ARRAY
 15

	)

334 
	#SHT_PREINIT_ARRAY
 16

	)

335 
	#SHT_GROUP
 17

	)

336 
	#SHT_SYMTAB_SHNDX
 18

	)

337 
	#SHT_NUM
 19

	)

338 
	#SHT_LOOS
 0x60000000

	)

339 
	#SHT_GNU_ATTRIBUTES
 0x6ffffff5

	)

340 
	#SHT_GNU_HASH
 0x6ffffff6

	)

341 
	#SHT_GNU_LIBLIST
 0x6ffffff7

	)

342 
	#SHT_CHECKSUM
 0x6ffffff8

	)

343 
	#SHT_LOSUNW
 0x6fffffç

	)

344 
	#SHT_SUNW_move
 0x6fffffç

	)

345 
	#SHT_SUNW_COMDAT
 0x6ffffffb

	)

346 
	#SHT_SUNW_symšfo
 0x6ffffffc

	)

347 
	#SHT_GNU_v”def
 0x6ffffffd

	)

348 
	#SHT_GNU_v”Ãed
 0x6fffffã

	)

349 
	#SHT_GNU_v”sym
 0x6ffffffà

	)

350 
	#SHT_HISUNW
 0x6ffffffà

	)

351 
	#SHT_HIOS
 0x6ffffffà

	)

352 
	#SHT_LOPROC
 0x70000000

	)

353 
	#SHT_HIPROC
 0x7ffffffà

	)

354 
	#SHT_LOUSER
 0x80000000

	)

355 
	#SHT_HIUSER
 0x8ffffffà

	)

359 
	#SHF_WRITE
 (1 << 0è

	)

360 
	#SHF_ALLOC
 (1 << 1è

	)

361 
	#SHF_EXECINSTR
 (1 << 2è

	)

362 
	#SHF_MERGE
 (1 << 4è

	)

363 
	#SHF_STRINGS
 (1 << 5è

	)

364 
	#SHF_INFO_LINK
 (1 << 6è

	)

365 
	#SHF_LINK_ORDER
 (1 << 7è

	)

366 
	#SHF_OS_NONCONFORMING
 (1 << 8è

	)

368 
	#SHF_GROUP
 (1 << 9è

	)

369 
	#SHF_TLS
 (1 << 10è

	)

370 
	#SHF_MASKOS
 0x0ff00000

	)

371 
	#SHF_MASKPROC
 0xf0000000

	)

372 
	#SHF_ORDERED
 (1 << 30è

	)

374 
	#SHF_EXCLUDE
 (1 << 31è

	)

378 
	#GRP_COMDAT
 0x1

	)

384 
Elf32_WÜd
 
	m¡_Çme
;

385 
Elf32_Addr
 
	m¡_v®ue
;

386 
Elf32_WÜd
 
	m¡_size
;

387 
	m¡_šfo
;

388 
	m¡_Ùh”
;

389 
Elf32_SeùiÚ
 
	m¡_shndx
;

390 } 
	tElf32_Sym
;

394 
Elf64_WÜd
 
	m¡_Çme
;

395 
	m¡_šfo
;

396 
	m¡_Ùh”
;

397 
Elf64_SeùiÚ
 
	m¡_shndx
;

398 
Elf64_Addr
 
	m¡_v®ue
;

399 
Elf64_XwÜd
 
	m¡_size
;

400 } 
	tElf64_Sym
;

407 
Elf32_H®f
 
	msi_boundto
;

408 
Elf32_H®f
 
	msi_æags
;

409 } 
	tElf32_Symšfo
;

413 
Elf64_H®f
 
	msi_boundto
;

414 
Elf64_H®f
 
	msi_æags
;

415 } 
	tElf64_Symšfo
;

418 
	#SYMINFO_BT_SELF
 0xfffà

	)

419 
	#SYMINFO_BT_PARENT
 0xffã

	)

420 
	#SYMINFO_BT_LOWRESERVE
 0xff00

	)

423 
	#SYMINFO_FLG_DIRECT
 0x0001

	)

424 
	#SYMINFO_FLG_PASSTHRU
 0x0002

	)

425 
	#SYMINFO_FLG_COPY
 0x0004

	)

426 
	#SYMINFO_FLG_LAZYLOAD
 0x0008

	)

429 
	#SYMINFO_NONE
 0

	)

430 
	#SYMINFO_CURRENT
 1

	)

431 
	#SYMINFO_NUM
 2

	)

436 
	#ELF32_ST_BIND
(
v®
è(((è(v®)è>> 4)

	)

437 
	#ELF32_ST_TYPE
(
v®
è((v®è& 0xf)

	)

438 
	#ELF32_ST_INFO
(
bšd
, 
ty³
è(((bšdè<< 4è+ (Ñy³è& 0xf))

	)

441 
	#ELF64_ST_BIND
(
v®
è
	`ELF32_ST_BIND
 (v®)

	)

442 
	#ELF64_ST_TYPE
(
v®
è
	`ELF32_ST_TYPE
 (v®)

	)

443 
	#ELF64_ST_INFO
(
bšd
, 
ty³
è
	`ELF32_ST_INFO
 ((bšd), (ty³))

	)

447 
	#STB_LOCAL
 0

	)

448 
	#STB_GLOBAL
 1

	)

449 
	#STB_WEAK
 2

	)

450 
	#STB_NUM
 3

	)

451 
	#STB_LOOS
 10

	)

452 
	#STB_GNU_UNIQUE
 10

	)

453 
	#STB_HIOS
 12

	)

454 
	#STB_LOPROC
 13

	)

455 
	#STB_HIPROC
 15

	)

459 
	#STT_NOTYPE
 0

	)

460 
	#STT_OBJECT
 1

	)

461 
	#STT_FUNC
 2

	)

462 
	#STT_SECTION
 3

	)

463 
	#STT_FILE
 4

	)

464 
	#STT_COMMON
 5

	)

465 
	#STT_TLS
 6

	)

466 
	#STT_NUM
 7

	)

467 
	#STT_LOOS
 10

	)

468 
	#STT_GNU_IFUNC
 10

	)

469 
	#STT_HIOS
 12

	)

470 
	#STT_LOPROC
 13

	)

471 
	#STT_HIPROC
 15

	)

478 
	#STN_UNDEF
 0

	)

483 
	#ELF32_ST_VISIBILITY
(
o
è((oè& 0x03)

	)

486 
	#ELF64_ST_VISIBILITY
(
o
è
	`ELF32_ST_VISIBILITY
 (o)

	)

489 
	#STV_DEFAULT
 0

	)

490 
	#STV_INTERNAL
 1

	)

491 
	#STV_HIDDEN
 2

	)

492 
	#STV_PROTECTED
 3

	)

499 
Elf32_Addr
 
	mr_off£t
;

500 
Elf32_WÜd
 
	mr_šfo
;

501 } 
	tElf32_R–
;

510 
Elf64_Addr
 
	mr_off£t
;

511 
Elf64_XwÜd
 
	mr_šfo
;

512 } 
	tElf64_R–
;

518 
Elf32_Addr
 
	mr_off£t
;

519 
Elf32_WÜd
 
	mr_šfo
;

520 
Elf32_SwÜd
 
	mr_add’d
;

521 } 
	tElf32_R–a
;

525 
Elf64_Addr
 
	mr_off£t
;

526 
Elf64_XwÜd
 
	mr_šfo
;

527 
Elf64_SxwÜd
 
	mr_add’d
;

528 } 
	tElf64_R–a
;

532 
	#ELF32_R_SYM
(
v®
è((v®è>> 8)

	)

533 
	#ELF32_R_TYPE
(
v®
è((v®è& 0xff)

	)

534 
	#ELF32_R_INFO
(
sym
, 
ty³
è(((symè<< 8è+ (Ñy³è& 0xff))

	)

536 
	#ELF64_R_SYM
(
i
è((iè>> 32)

	)

537 
	#ELF64_R_TYPE
(
i
è((iè& 0xffffffff)

	)

538 
	#ELF64_R_INFO
(
sym
,
ty³
è((((
Elf64_XwÜd
è(sym)è<< 32è+ (ty³))

	)

544 
Elf32_WÜd
 
	mp_ty³
;

545 
Elf32_Off
 
	mp_off£t
;

546 
Elf32_Addr
 
	mp_vaddr
;

547 
Elf32_Addr
 
	mp_·ddr
;

548 
Elf32_WÜd
 
	mp_fesz
;

549 
Elf32_WÜd
 
	mp_memsz
;

550 
Elf32_WÜd
 
	mp_æags
;

551 
Elf32_WÜd
 
	mp_®ign
;

552 } 
	tElf32_Phdr
;

556 
Elf64_WÜd
 
	mp_ty³
;

557 
Elf64_WÜd
 
	mp_æags
;

558 
Elf64_Off
 
	mp_off£t
;

559 
Elf64_Addr
 
	mp_vaddr
;

560 
Elf64_Addr
 
	mp_·ddr
;

561 
Elf64_XwÜd
 
	mp_fesz
;

562 
Elf64_XwÜd
 
	mp_memsz
;

563 
Elf64_XwÜd
 
	mp_®ign
;

564 } 
	tElf64_Phdr
;

570 
	#PN_XNUM
 0xffff

	)

574 
	#PT_NULL
 0

	)

575 
	#PT_LOAD
 1

	)

576 
	#PT_DYNAMIC
 2

	)

577 
	#PT_INTERP
 3

	)

578 
	#PT_NOTE
 4

	)

579 
	#PT_SHLIB
 5

	)

580 
	#PT_PHDR
 6

	)

581 
	#PT_TLS
 7

	)

582 
	#PT_NUM
 8

	)

583 
	#PT_LOOS
 0x60000000

	)

584 
	#PT_GNU_EH_FRAME
 0x6474e550

	)

585 
	#PT_GNU_STACK
 0x6474e551

	)

586 
	#PT_GNU_RELRO
 0x6474e552

	)

587 
	#PT_LOSUNW
 0x6fffffç

	)

588 
	#PT_SUNWBSS
 0x6fffffç

	)

589 
	#PT_SUNWSTACK
 0x6ffffffb

	)

590 
	#PT_HISUNW
 0x6fffffff

	)

591 
	#PT_HIOS
 0x6ffffffà

	)

592 
	#PT_LOPROC
 0x70000000

	)

593 
	#PT_HIPROC
 0x7ffffffà

	)

597 
	#PF_X
 (1 << 0è

	)

598 
	#PF_W
 (1 << 1è

	)

599 
	#PF_R
 (1 << 2è

	)

600 
	#PF_MASKOS
 0x0ff00000

	)

601 
	#PF_MASKPROC
 0xf0000000

	)

605 
	#NT_PRSTATUS
 1

	)

606 
	#NT_FPREGSET
 2

	)

607 
	#NT_PRPSINFO
 3

	)

608 
	#NT_PRXREG
 4

	)

609 
	#NT_TASKSTRUCT
 4

	)

610 
	#NT_PLATFORM
 5

	)

611 
	#NT_AUXV
 6

	)

612 
	#NT_GWINDOWS
 7

	)

613 
	#NT_ASRS
 8

	)

614 
	#NT_PSTATUS
 10

	)

615 
	#NT_PSINFO
 13

	)

616 
	#NT_PRCRED
 14

	)

617 
	#NT_UTSNAME
 15

	)

618 
	#NT_LWPSTATUS
 16

	)

619 
	#NT_LWPSINFO
 17

	)

620 
	#NT_PRFPXREG
 20

	)

621 
	#NT_SIGINFO
 0x53494749

	)

623 
	#NT_FILE
 0x46494c45

	)

625 
	#NT_PRXFPREG
 0x46e62b7à

	)

626 
	#NT_PPC_VMX
 0x100

	)

627 
	#NT_PPC_SPE
 0x101

	)

628 
	#NT_PPC_VSX
 0x102

	)

629 
	#NT_386_TLS
 0x200

	)

630 
	#NT_386_IOPERM
 0x201

	)

631 
	#NT_X86_XSTATE
 0x202

	)

632 
	#NT_S390_HIGH_GPRS
 0x300

	)

633 
	#NT_S390_TIMER
 0x301

	)

634 
	#NT_S390_TODCMP
 0x302

	)

635 
	#NT_S390_TODPREG
 0x303

	)

636 
	#NT_S390_CTRS
 0x304

	)

637 
	#NT_S390_PREFIX
 0x305

	)

638 
	#NT_S390_LAST_BREAK
 0x306

	)

639 
	#NT_S390_SYSTEM_CALL
 0x307

	)

640 
	#NT_S390_TDB
 0x308

	)

641 
	#NT_ARM_VFP
 0x400

	)

642 
	#NT_ARM_TLS
 0x401

	)

643 
	#NT_ARM_HW_BREAK
 0x402

	)

644 
	#NT_ARM_HW_WATCH
 0x403

	)

648 
	#NT_VERSION
 1

	)

655 
Elf32_SwÜd
 
	md_g
;

658 
Elf32_WÜd
 
	md_v®
;

659 
Elf32_Addr
 
	md_±r
;

660 } 
	md_un
;

661 } 
	tElf32_Dyn
;

665 
Elf64_SxwÜd
 
	md_g
;

668 
Elf64_XwÜd
 
	md_v®
;

669 
Elf64_Addr
 
	md_±r
;

670 } 
	md_un
;

671 } 
	tElf64_Dyn
;

675 
	#DT_NULL
 0

	)

676 
	#DT_NEEDED
 1

	)

677 
	#DT_PLTRELSZ
 2

	)

678 
	#DT_PLTGOT
 3

	)

679 
	#DT_HASH
 4

	)

680 
	#DT_STRTAB
 5

	)

681 
	#DT_SYMTAB
 6

	)

682 
	#DT_RELA
 7

	)

683 
	#DT_RELASZ
 8

	)

684 
	#DT_RELAENT
 9

	)

685 
	#DT_STRSZ
 10

	)

686 
	#DT_SYMENT
 11

	)

687 
	#DT_INIT
 12

	)

688 
	#DT_FINI
 13

	)

689 
	#DT_SONAME
 14

	)

690 
	#DT_RPATH
 15

	)

691 
	#DT_SYMBOLIC
 16

	)

692 
	#DT_REL
 17

	)

693 
	#DT_RELSZ
 18

	)

694 
	#DT_RELENT
 19

	)

695 
	#DT_PLTREL
 20

	)

696 
	#DT_DEBUG
 21

	)

697 
	#DT_TEXTREL
 22

	)

698 
	#DT_JMPREL
 23

	)

699 
	#DT_BIND_NOW
 24

	)

700 
	#DT_INIT_ARRAY
 25

	)

701 
	#DT_FINI_ARRAY
 26

	)

702 
	#DT_INIT_ARRAYSZ
 27

	)

703 
	#DT_FINI_ARRAYSZ
 28

	)

704 
	#DT_RUNPATH
 29

	)

705 
	#DT_FLAGS
 30

	)

706 
	#DT_ENCODING
 32

	)

707 
	#DT_PREINIT_ARRAY
 32

	)

708 
	#DT_PREINIT_ARRAYSZ
 33

	)

709 
	#DT_NUM
 34

	)

710 
	#DT_LOOS
 0x6000000d

	)

711 
	#DT_HIOS
 0x6ffff000

	)

712 
	#DT_LOPROC
 0x70000000

	)

713 
	#DT_HIPROC
 0x7ffffffà

	)

714 
	#DT_PROCNUM
 
DT_MIPS_NUM


	)

719 
	#DT_VALRNGLO
 0x6ffffd00

	)

720 
	#DT_GNU_PRELINKED
 0x6ffffdf5

	)

721 
	#DT_GNU_CONFLICTSZ
 0x6ffffdf6

	)

722 
	#DT_GNU_LIBLISTSZ
 0x6ffffdf7

	)

723 
	#DT_CHECKSUM
 0x6ffffdf8

	)

724 
	#DT_PLTPADSZ
 0x6ffffdf9

	)

725 
	#DT_MOVEENT
 0x6ffffdç

	)

726 
	#DT_MOVESZ
 0x6ffffdfb

	)

727 
	#DT_FEATURE_1
 0x6ffffdfø

	)

728 
	#DT_POSFLAG_1
 0x6ffffdfd

	)

730 
	#DT_SYMINSZ
 0x6ffffdã

	)

731 
	#DT_SYMINENT
 0x6ffffdfà

	)

732 
	#DT_VALRNGHI
 0x6ffffdff

	)

733 
	#DT_VALTAGIDX
(
g
è(
DT_VALRNGHI
 - (g)è

	)

734 
	#DT_VALNUM
 12

	)

741 
	#DT_ADDRRNGLO
 0x6fffã00

	)

742 
	#DT_GNU_HASH
 0x6fffãf5

	)

743 
	#DT_TLSDESC_PLT
 0x6fffãf6

	)

744 
	#DT_TLSDESC_GOT
 0x6fffãf7

	)

745 
	#DT_GNU_CONFLICT
 0x6fffãf8

	)

746 
	#DT_GNU_LIBLIST
 0x6fffãf9

	)

747 
	#DT_CONFIG
 0x6fffãç

	)

748 
	#DT_DEPAUDIT
 0x6fffãfb

	)

749 
	#DT_AUDIT
 0x6fffãfø

	)

750 
	#DT_PLTPAD
 0x6fffãfd

	)

751 
	#DT_MOVETAB
 0x6fffãã

	)

752 
	#DT_SYMINFO
 0x6fffãfà

	)

753 
	#DT_ADDRRNGHI
 0x6fffãff

	)

754 
	#DT_ADDRTAGIDX
(
g
è(
DT_ADDRRNGHI
 - (g)è

	)

755 
	#DT_ADDRNUM
 11

	)

759 
	#DT_VERSYM
 0x6ffffff0

	)

761 
	#DT_RELACOUNT
 0x6ffffff9

	)

762 
	#DT_RELCOUNT
 0x6fffffç

	)

765 
	#DT_FLAGS_1
 0x6ffffffb

	)

766 
	#DT_VERDEF
 0x6ffffffø

	)

768 
	#DT_VERDEFNUM
 0x6ffffffd

	)

769 
	#DT_VERNEED
 0x6fffffã

	)

771 
	#DT_VERNEEDNUM
 0x6ffffffà

	)

772 
	#DT_VERSIONTAGIDX
(
g
è(
DT_VERNEEDNUM
 - (g)è

	)

773 
	#DT_VERSIONTAGNUM
 16

	)

777 
	#DT_AUXILIARY
 0x7ffffffd

	)

778 
	#DT_FILTER
 0x7ffffffà

	)

779 
	#DT_EXTRATAGIDX
(
g
è((
Elf32_WÜd
)-((
Elf32_SwÜd
èÑagè<<1>>1)-1)

	)

780 
	#DT_EXTRANUM
 3

	)

783 
	#DF_ORIGIN
 0x00000001

	)

784 
	#DF_SYMBOLIC
 0x00000002

	)

785 
	#DF_TEXTREL
 0x00000004

	)

786 
	#DF_BIND_NOW
 0x00000008

	)

787 
	#DF_STATIC_TLS
 0x00000010

	)

791 
	#DF_1_NOW
 0x00000001

	)

792 
	#DF_1_GLOBAL
 0x00000002

	)

793 
	#DF_1_GROUP
 0x00000004

	)

794 
	#DF_1_NODELETE
 0x00000008

	)

795 
	#DF_1_LOADFLTR
 0x00000010

	)

796 
	#DF_1_INITFIRST
 0x00000020

	)

797 
	#DF_1_NOOPEN
 0x00000040

	)

798 
	#DF_1_ORIGIN
 0x00000080

	)

799 
	#DF_1_DIRECT
 0x00000100

	)

800 
	#DF_1_TRANS
 0x00000200

	)

801 
	#DF_1_INTERPOSE
 0x00000400

	)

802 
	#DF_1_NODEFLIB
 0x00000800

	)

803 
	#DF_1_NODUMP
 0x00001000

	)

804 
	#DF_1_CONFALT
 0x00002000

	)

805 
	#DF_1_ENDFILTEE
 0x00004000

	)

806 
	#DF_1_DISPRELDNE
 0x00008000

	)

807 
	#DF_1_DISPRELPND
 0x00010000

	)

808 
	#DF_1_NODIRECT
 0x00020000

	)

809 
	#DF_1_IGNMULDEF
 0x00040000

	)

810 
	#DF_1_NOKSYMS
 0x00080000

	)

811 
	#DF_1_NOHDR
 0x00100000

	)

812 
	#DF_1_EDITED
 0x00200000

	)

813 
	#DF_1_NORELOC
 0x00400000

	)

814 
	#DF_1_SYMINTPOSE
 0x00800000

	)

815 
	#DF_1_GLOBAUDIT
 0x01000000

	)

816 
	#DF_1_SINGLETON
 0x02000000

	)

819 
	#DTF_1_PARINIT
 0x00000001

	)

820 
	#DTF_1_CONFEXP
 0x00000002

	)

823 
	#DF_P1_LAZYLOAD
 0x00000001

	)

824 
	#DF_P1_GROUPPERM
 0x00000002

	)

831 
Elf32_H®f
 
	mvd_v”siÚ
;

832 
Elf32_H®f
 
	mvd_æags
;

833 
Elf32_H®f
 
	mvd_ndx
;

834 
Elf32_H®f
 
	mvd_út
;

835 
Elf32_WÜd
 
	mvd_hash
;

836 
Elf32_WÜd
 
	mvd_aux
;

837 
Elf32_WÜd
 
	mvd_Ãxt
;

839 } 
	tElf32_V”def
;

843 
Elf64_H®f
 
	mvd_v”siÚ
;

844 
Elf64_H®f
 
	mvd_æags
;

845 
Elf64_H®f
 
	mvd_ndx
;

846 
Elf64_H®f
 
	mvd_út
;

847 
Elf64_WÜd
 
	mvd_hash
;

848 
Elf64_WÜd
 
	mvd_aux
;

849 
Elf64_WÜd
 
	mvd_Ãxt
;

851 } 
	tElf64_V”def
;

855 
	#VER_DEF_NONE
 0

	)

856 
	#VER_DEF_CURRENT
 1

	)

857 
	#VER_DEF_NUM
 2

	)

860 
	#VER_FLG_BASE
 0x1

	)

861 
	#VER_FLG_WEAK
 0x2

	)

864 
	#VER_NDX_LOCAL
 0

	)

865 
	#VER_NDX_GLOBAL
 1

	)

866 
	#VER_NDX_LORESERVE
 0xff00

	)

867 
	#VER_NDX_ELIMINATE
 0xff01

	)

873 
Elf32_WÜd
 
	mvda_Çme
;

874 
Elf32_WÜd
 
	mvda_Ãxt
;

876 } 
	tElf32_V”daux
;

880 
Elf64_WÜd
 
	mvda_Çme
;

881 
Elf64_WÜd
 
	mvda_Ãxt
;

883 } 
	tElf64_V”daux
;

890 
Elf32_H®f
 
	mvn_v”siÚ
;

891 
Elf32_H®f
 
	mvn_út
;

892 
Elf32_WÜd
 
	mvn_fe
;

894 
Elf32_WÜd
 
	mvn_aux
;

895 
Elf32_WÜd
 
	mvn_Ãxt
;

897 } 
	tElf32_V”Ãed
;

901 
Elf64_H®f
 
	mvn_v”siÚ
;

902 
Elf64_H®f
 
	mvn_út
;

903 
Elf64_WÜd
 
	mvn_fe
;

905 
Elf64_WÜd
 
	mvn_aux
;

906 
Elf64_WÜd
 
	mvn_Ãxt
;

908 } 
	tElf64_V”Ãed
;

912 
	#VER_NEED_NONE
 0

	)

913 
	#VER_NEED_CURRENT
 1

	)

914 
	#VER_NEED_NUM
 2

	)

920 
Elf32_WÜd
 
	mvÇ_hash
;

921 
Elf32_H®f
 
	mvÇ_æags
;

922 
Elf32_H®f
 
	mvÇ_Ùh”
;

923 
Elf32_WÜd
 
	mvÇ_Çme
;

924 
Elf32_WÜd
 
	mvÇ_Ãxt
;

926 } 
	tElf32_V”Çux
;

930 
Elf64_WÜd
 
	mvÇ_hash
;

931 
Elf64_H®f
 
	mvÇ_æags
;

932 
Elf64_H®f
 
	mvÇ_Ùh”
;

933 
Elf64_WÜd
 
	mvÇ_Çme
;

934 
Elf64_WÜd
 
	mvÇ_Ãxt
;

936 } 
	tElf64_V”Çux
;

940 
	#VER_FLG_WEAK
 0x2

	)

954 
ušt32_t
 
	ma_ty³
;

957 
ušt32_t
 
	ma_v®
;

961 } 
	ma_un
;

962 } 
	tElf32_auxv_t
;

966 
ušt64_t
 
	ma_ty³
;

969 
ušt64_t
 
	ma_v®
;

973 } 
	ma_un
;

974 } 
	tElf64_auxv_t
;

976 
	~<b™s/auxv.h
>

982 
Elf32_WÜd
 
	mn_Çmesz
;

983 
Elf32_WÜd
 
	mn_descsz
;

984 
Elf32_WÜd
 
	mn_ty³
;

985 } 
	tElf32_Nhdr
;

989 
Elf64_WÜd
 
	mn_Çmesz
;

990 
Elf64_WÜd
 
	mn_descsz
;

991 
Elf64_WÜd
 
	mn_ty³
;

992 } 
	tElf64_Nhdr
;

997 
	#ELF_NOTE_SOLARIS
 "SUNW SŞ¬is"

	)

1000 
	#ELF_NOTE_GNU
 "GNU"

	)

1006 
	#ELF_NOTE_PAGESIZE_HINT
 1

	)

1017 
	#NT_GNU_ABI_TAG
 1

	)

1018 
	#ELF_NOTE_ABI
 
NT_GNU_ABI_TAG


	)

1022 
	#ELF_NOTE_OS_LINUX
 0

	)

1023 
	#ELF_NOTE_OS_GNU
 1

	)

1024 
	#ELF_NOTE_OS_SOLARIS2
 2

	)

1025 
	#ELF_NOTE_OS_FREEBSD
 3

	)

1033 
	#NT_GNU_HWCAP
 2

	)

1037 
	#NT_GNU_BUILD_ID
 3

	)

1040 
	#NT_GNU_GOLD_VERSION
 4

	)

1046 
Elf32_XwÜd
 
	mm_v®ue
;

1047 
Elf32_WÜd
 
	mm_šfo
;

1048 
Elf32_WÜd
 
	mm_poff£t
;

1049 
Elf32_H®f
 
	mm_»³©
;

1050 
Elf32_H®f
 
	mm_¡ride
;

1051 } 
	tElf32_Move
;

1055 
Elf64_XwÜd
 
	mm_v®ue
;

1056 
Elf64_XwÜd
 
	mm_šfo
;

1057 
Elf64_XwÜd
 
	mm_poff£t
;

1058 
Elf64_H®f
 
	mm_»³©
;

1059 
Elf64_H®f
 
	mm_¡ride
;

1060 } 
	tElf64_Move
;

1063 
	#ELF32_M_SYM
(
šfo
è((šfoè>> 8)

	)

1064 
	#ELF32_M_SIZE
(
šfo
è((è(šfo))

	)

1065 
	#ELF32_M_INFO
(
sym
, 
size
è(((symè<< 8è+ (è(size))

	)

1067 
	#ELF64_M_SYM
(
šfo
è
	`ELF32_M_SYM
 (šfo)

	)

1068 
	#ELF64_M_SIZE
(
šfo
è
	`ELF32_M_SIZE
 (šfo)

	)

1069 
	#ELF64_M_INFO
(
sym
, 
size
è
	`ELF32_M_INFO
 (sym, size)

	)

1075 
	#EF_CPU32
 0x00810000

	)

1079 
	#R_68K_NONE
 0

	)

1080 
	#R_68K_32
 1

	)

1081 
	#R_68K_16
 2

	)

1082 
	#R_68K_8
 3

	)

1083 
	#R_68K_PC32
 4

	)

1084 
	#R_68K_PC16
 5

	)

1085 
	#R_68K_PC8
 6

	)

1086 
	#R_68K_GOT32
 7

	)

1087 
	#R_68K_GOT16
 8

	)

1088 
	#R_68K_GOT8
 9

	)

1089 
	#R_68K_GOT32O
 10

	)

1090 
	#R_68K_GOT16O
 11

	)

1091 
	#R_68K_GOT8O
 12

	)

1092 
	#R_68K_PLT32
 13

	)

1093 
	#R_68K_PLT16
 14

	)

1094 
	#R_68K_PLT8
 15

	)

1095 
	#R_68K_PLT32O
 16

	)

1096 
	#R_68K_PLT16O
 17

	)

1097 
	#R_68K_PLT8O
 18

	)

1098 
	#R_68K_COPY
 19

	)

1099 
	#R_68K_GLOB_DAT
 20

	)

1100 
	#R_68K_JMP_SLOT
 21

	)

1101 
	#R_68K_RELATIVE
 22

	)

1102 
	#R_68K_TLS_GD32
 25

	)

1103 
	#R_68K_TLS_GD16
 26

	)

1104 
	#R_68K_TLS_GD8
 27

	)

1105 
	#R_68K_TLS_LDM32
 28

	)

1106 
	#R_68K_TLS_LDM16
 29

	)

1107 
	#R_68K_TLS_LDM8
 30

	)

1108 
	#R_68K_TLS_LDO32
 31

	)

1109 
	#R_68K_TLS_LDO16
 32

	)

1110 
	#R_68K_TLS_LDO8
 33

	)

1111 
	#R_68K_TLS_IE32
 34

	)

1112 
	#R_68K_TLS_IE16
 35

	)

1113 
	#R_68K_TLS_IE8
 36

	)

1114 
	#R_68K_TLS_LE32
 37

	)

1116 
	#R_68K_TLS_LE16
 38

	)

1118 
	#R_68K_TLS_LE8
 39

	)

1120 
	#R_68K_TLS_DTPMOD32
 40

	)

1121 
	#R_68K_TLS_DTPREL32
 41

	)

1122 
	#R_68K_TLS_TPREL32
 42

	)

1124 
	#R_68K_NUM
 43

	)

1130 
	#R_386_NONE
 0

	)

1131 
	#R_386_32
 1

	)

1132 
	#R_386_PC32
 2

	)

1133 
	#R_386_GOT32
 3

	)

1134 
	#R_386_PLT32
 4

	)

1135 
	#R_386_COPY
 5

	)

1136 
	#R_386_GLOB_DAT
 6

	)

1137 
	#R_386_JMP_SLOT
 7

	)

1138 
	#R_386_RELATIVE
 8

	)

1139 
	#R_386_GOTOFF
 9

	)

1140 
	#R_386_GOTPC
 10

	)

1141 
	#R_386_32PLT
 11

	)

1142 
	#R_386_TLS_TPOFF
 14

	)

1143 
	#R_386_TLS_IE
 15

	)

1145 
	#R_386_TLS_GOTIE
 16

	)

1147 
	#R_386_TLS_LE
 17

	)

1149 
	#R_386_TLS_GD
 18

	)

1151 
	#R_386_TLS_LDM
 19

	)

1154 
	#R_386_16
 20

	)

1155 
	#R_386_PC16
 21

	)

1156 
	#R_386_8
 22

	)

1157 
	#R_386_PC8
 23

	)

1158 
	#R_386_TLS_GD_32
 24

	)

1160 
	#R_386_TLS_GD_PUSH
 25

	)

1161 
	#R_386_TLS_GD_CALL
 26

	)

1163 
	#R_386_TLS_GD_POP
 27

	)

1164 
	#R_386_TLS_LDM_32
 28

	)

1166 
	#R_386_TLS_LDM_PUSH
 29

	)

1167 
	#R_386_TLS_LDM_CALL
 30

	)

1169 
	#R_386_TLS_LDM_POP
 31

	)

1170 
	#R_386_TLS_LDO_32
 32

	)

1171 
	#R_386_TLS_IE_32
 33

	)

1173 
	#R_386_TLS_LE_32
 34

	)

1175 
	#R_386_TLS_DTPMOD32
 35

	)

1176 
	#R_386_TLS_DTPOFF32
 36

	)

1177 
	#R_386_TLS_TPOFF32
 37

	)

1178 
	#R_386_SIZE32
 38

	)

1179 
	#R_386_TLS_GOTDESC
 39

	)

1180 
	#R_386_TLS_DESC_CALL
 40

	)

1183 
	#R_386_TLS_DESC
 41

	)

1187 
	#R_386_IRELATIVE
 42

	)

1189 
	#R_386_NUM
 43

	)

1195 
	#STT_SPARC_REGISTER
 13

	)

1199 
	#EF_SPARCV9_MM
 3

	)

1200 
	#EF_SPARCV9_TSO
 0

	)

1201 
	#EF_SPARCV9_PSO
 1

	)

1202 
	#EF_SPARCV9_RMO
 2

	)

1203 
	#EF_SPARC_LEDATA
 0x800000

	)

1204 
	#EF_SPARC_EXT_MASK
 0xFFFF00

	)

1205 
	#EF_SPARC_32PLUS
 0x000100

	)

1206 
	#EF_SPARC_SUN_US1
 0x000200

	)

1207 
	#EF_SPARC_HAL_R1
 0x000400

	)

1208 
	#EF_SPARC_SUN_US3
 0x000800

	)

1212 
	#R_SPARC_NONE
 0

	)

1213 
	#R_SPARC_8
 1

	)

1214 
	#R_SPARC_16
 2

	)

1215 
	#R_SPARC_32
 3

	)

1216 
	#R_SPARC_DISP8
 4

	)

1217 
	#R_SPARC_DISP16
 5

	)

1218 
	#R_SPARC_DISP32
 6

	)

1219 
	#R_SPARC_WDISP30
 7

	)

1220 
	#R_SPARC_WDISP22
 8

	)

1221 
	#R_SPARC_HI22
 9

	)

1222 
	#R_SPARC_22
 10

	)

1223 
	#R_SPARC_13
 11

	)

1224 
	#R_SPARC_LO10
 12

	)

1225 
	#R_SPARC_GOT10
 13

	)

1226 
	#R_SPARC_GOT13
 14

	)

1227 
	#R_SPARC_GOT22
 15

	)

1228 
	#R_SPARC_PC10
 16

	)

1229 
	#R_SPARC_PC22
 17

	)

1230 
	#R_SPARC_WPLT30
 18

	)

1231 
	#R_SPARC_COPY
 19

	)

1232 
	#R_SPARC_GLOB_DAT
 20

	)

1233 
	#R_SPARC_JMP_SLOT
 21

	)

1234 
	#R_SPARC_RELATIVE
 22

	)

1235 
	#R_SPARC_UA32
 23

	)

1239 
	#R_SPARC_PLT32
 24

	)

1240 
	#R_SPARC_HIPLT22
 25

	)

1241 
	#R_SPARC_LOPLT10
 26

	)

1242 
	#R_SPARC_PCPLT32
 27

	)

1243 
	#R_SPARC_PCPLT22
 28

	)

1244 
	#R_SPARC_PCPLT10
 29

	)

1245 
	#R_SPARC_10
 30

	)

1246 
	#R_SPARC_11
 31

	)

1247 
	#R_SPARC_64
 32

	)

1248 
	#R_SPARC_OLO10
 33

	)

1249 
	#R_SPARC_HH22
 34

	)

1250 
	#R_SPARC_HM10
 35

	)

1251 
	#R_SPARC_LM22
 36

	)

1252 
	#R_SPARC_PC_HH22
 37

	)

1253 
	#R_SPARC_PC_HM10
 38

	)

1254 
	#R_SPARC_PC_LM22
 39

	)

1255 
	#R_SPARC_WDISP16
 40

	)

1256 
	#R_SPARC_WDISP19
 41

	)

1257 
	#R_SPARC_GLOB_JMP
 42

	)

1258 
	#R_SPARC_7
 43

	)

1259 
	#R_SPARC_5
 44

	)

1260 
	#R_SPARC_6
 45

	)

1261 
	#R_SPARC_DISP64
 46

	)

1262 
	#R_SPARC_PLT64
 47

	)

1263 
	#R_SPARC_HIX22
 48

	)

1264 
	#R_SPARC_LOX10
 49

	)

1265 
	#R_SPARC_H44
 50

	)

1266 
	#R_SPARC_M44
 51

	)

1267 
	#R_SPARC_L44
 52

	)

1268 
	#R_SPARC_REGISTER
 53

	)

1269 
	#R_SPARC_UA64
 54

	)

1270 
	#R_SPARC_UA16
 55

	)

1271 
	#R_SPARC_TLS_GD_HI22
 56

	)

1272 
	#R_SPARC_TLS_GD_LO10
 57

	)

1273 
	#R_SPARC_TLS_GD_ADD
 58

	)

1274 
	#R_SPARC_TLS_GD_CALL
 59

	)

1275 
	#R_SPARC_TLS_LDM_HI22
 60

	)

1276 
	#R_SPARC_TLS_LDM_LO10
 61

	)

1277 
	#R_SPARC_TLS_LDM_ADD
 62

	)

1278 
	#R_SPARC_TLS_LDM_CALL
 63

	)

1279 
	#R_SPARC_TLS_LDO_HIX22
 64

	)

1280 
	#R_SPARC_TLS_LDO_LOX10
 65

	)

1281 
	#R_SPARC_TLS_LDO_ADD
 66

	)

1282 
	#R_SPARC_TLS_IE_HI22
 67

	)

1283 
	#R_SPARC_TLS_IE_LO10
 68

	)

1284 
	#R_SPARC_TLS_IE_LD
 69

	)

1285 
	#R_SPARC_TLS_IE_LDX
 70

	)

1286 
	#R_SPARC_TLS_IE_ADD
 71

	)

1287 
	#R_SPARC_TLS_LE_HIX22
 72

	)

1288 
	#R_SPARC_TLS_LE_LOX10
 73

	)

1289 
	#R_SPARC_TLS_DTPMOD32
 74

	)

1290 
	#R_SPARC_TLS_DTPMOD64
 75

	)

1291 
	#R_SPARC_TLS_DTPOFF32
 76

	)

1292 
	#R_SPARC_TLS_DTPOFF64
 77

	)

1293 
	#R_SPARC_TLS_TPOFF32
 78

	)

1294 
	#R_SPARC_TLS_TPOFF64
 79

	)

1295 
	#R_SPARC_GOTDATA_HIX22
 80

	)

1296 
	#R_SPARC_GOTDATA_LOX10
 81

	)

1297 
	#R_SPARC_GOTDATA_OP_HIX22
 82

	)

1298 
	#R_SPARC_GOTDATA_OP_LOX10
 83

	)

1299 
	#R_SPARC_GOTDATA_OP
 84

	)

1300 
	#R_SPARC_H34
 85

	)

1301 
	#R_SPARC_SIZE32
 86

	)

1302 
	#R_SPARC_SIZE64
 87

	)

1303 
	#R_SPARC_WDISP10
 88

	)

1304 
	#R_SPARC_JMP_IREL
 248

	)

1305 
	#R_SPARC_IRELATIVE
 249

	)

1306 
	#R_SPARC_GNU_VTINHERIT
 250

	)

1307 
	#R_SPARC_GNU_VTENTRY
 251

	)

1308 
	#R_SPARC_REV32
 252

	)

1310 
	#R_SPARC_NUM
 253

	)

1314 
	#DT_SPARC_REGISTER
 0x70000001

	)

1315 
	#DT_SPARC_NUM
 2

	)

1321 
	#EF_MIPS_NOREORDER
 1

	)

1322 
	#EF_MIPS_PIC
 2

	)

1323 
	#EF_MIPS_CPIC
 4

	)

1324 
	#EF_MIPS_XGOT
 8

	)

1325 
	#EF_MIPS_64BIT_WHIRL
 16

	)

1326 
	#EF_MIPS_ABI2
 32

	)

1327 
	#EF_MIPS_ABI_ON32
 64

	)

1328 
	#EF_MIPS_FP64
 512

	)

1329 
	#EF_MIPS_NAN2008
 1024

	)

1330 
	#EF_MIPS_ARCH
 0xf0000000

	)

1334 
	#EF_MIPS_ARCH_1
 0x00000000

	)

1335 
	#EF_MIPS_ARCH_2
 0x10000000

	)

1336 
	#EF_MIPS_ARCH_3
 0x20000000

	)

1337 
	#EF_MIPS_ARCH_4
 0x30000000

	)

1338 
	#EF_MIPS_ARCH_5
 0x40000000

	)

1339 
	#EF_MIPS_ARCH_32
 0x50000000

	)

1340 
	#EF_MIPS_ARCH_64
 0x60000000

	)

1341 
	#EF_MIPS_ARCH_32R2
 0x70000000

	)

1342 
	#EF_MIPS_ARCH_64R2
 0x80000000

	)

1346 
	#E_MIPS_ARCH_1
 
EF_MIPS_ARCH_1


	)

1347 
	#E_MIPS_ARCH_2
 
EF_MIPS_ARCH_2


	)

1348 
	#E_MIPS_ARCH_3
 
EF_MIPS_ARCH_3


	)

1349 
	#E_MIPS_ARCH_4
 
EF_MIPS_ARCH_4


	)

1350 
	#E_MIPS_ARCH_5
 
EF_MIPS_ARCH_5


	)

1351 
	#E_MIPS_ARCH_32
 
EF_MIPS_ARCH_32


	)

1352 
	#E_MIPS_ARCH_64
 
EF_MIPS_ARCH_64


	)

1356 
	#SHN_MIPS_ACOMMON
 0xff00

	)

1357 
	#SHN_MIPS_TEXT
 0xff01

	)

1358 
	#SHN_MIPS_DATA
 0xff02

	)

1359 
	#SHN_MIPS_SCOMMON
 0xff03

	)

1360 
	#SHN_MIPS_SUNDEFINED
 0xff04

	)

1364 
	#SHT_MIPS_LIBLIST
 0x70000000

	)

1365 
	#SHT_MIPS_MSYM
 0x70000001

	)

1366 
	#SHT_MIPS_CONFLICT
 0x70000002

	)

1367 
	#SHT_MIPS_GPTAB
 0x70000003

	)

1368 
	#SHT_MIPS_UCODE
 0x70000004

	)

1369 
	#SHT_MIPS_DEBUG
 0x70000005

	)

1370 
	#SHT_MIPS_REGINFO
 0x70000006

	)

1371 
	#SHT_MIPS_PACKAGE
 0x70000007

	)

1372 
	#SHT_MIPS_PACKSYM
 0x70000008

	)

1373 
	#SHT_MIPS_RELD
 0x70000009

	)

1374 
	#SHT_MIPS_IFACE
 0x7000000b

	)

1375 
	#SHT_MIPS_CONTENT
 0x7000000c

	)

1376 
	#SHT_MIPS_OPTIONS
 0x7000000d

	)

1377 
	#SHT_MIPS_SHDR
 0x70000010

	)

1378 
	#SHT_MIPS_FDESC
 0x70000011

	)

1379 
	#SHT_MIPS_EXTSYM
 0x70000012

	)

1380 
	#SHT_MIPS_DENSE
 0x70000013

	)

1381 
	#SHT_MIPS_PDESC
 0x70000014

	)

1382 
	#SHT_MIPS_LOCSYM
 0x70000015

	)

1383 
	#SHT_MIPS_AUXSYM
 0x70000016

	)

1384 
	#SHT_MIPS_OPTSYM
 0x70000017

	)

1385 
	#SHT_MIPS_LOCSTR
 0x70000018

	)

1386 
	#SHT_MIPS_LINE
 0x70000019

	)

1387 
	#SHT_MIPS_RFDESC
 0x7000001a

	)

1388 
	#SHT_MIPS_DELTASYM
 0x7000001b

	)

1389 
	#SHT_MIPS_DELTAINST
 0x7000001c

	)

1390 
	#SHT_MIPS_DELTACLASS
 0x7000001d

	)

1391 
	#SHT_MIPS_DWARF
 0x7000001

	)

1392 
	#SHT_MIPS_DELTADECL
 0x7000001f

	)

1393 
	#SHT_MIPS_SYMBOL_LIB
 0x70000020

	)

1394 
	#SHT_MIPS_EVENTS
 0x70000021

	)

1395 
	#SHT_MIPS_TRANSLATE
 0x70000022

	)

1396 
	#SHT_MIPS_PIXIE
 0x70000023

	)

1397 
	#SHT_MIPS_XLATE
 0x70000024

	)

1398 
	#SHT_MIPS_XLATE_DEBUG
 0x70000025

	)

1399 
	#SHT_MIPS_WHIRL
 0x70000026

	)

1400 
	#SHT_MIPS_EH_REGION
 0x70000027

	)

1401 
	#SHT_MIPS_XLATE_OLD
 0x70000028

	)

1402 
	#SHT_MIPS_PDR_EXCEPTION
 0x70000029

	)

1406 
	#SHF_MIPS_GPREL
 0x10000000

	)

1407 
	#SHF_MIPS_MERGE
 0x20000000

	)

1408 
	#SHF_MIPS_ADDR
 0x40000000

	)

1409 
	#SHF_MIPS_STRINGS
 0x80000000

	)

1410 
	#SHF_MIPS_NOSTRIP
 0x08000000

	)

1411 
	#SHF_MIPS_LOCAL
 0x04000000

	)

1412 
	#SHF_MIPS_NAMES
 0x02000000

	)

1413 
	#SHF_MIPS_NODUPE
 0x01000000

	)

1419 
	#STO_MIPS_DEFAULT
 0x0

	)

1420 
	#STO_MIPS_INTERNAL
 0x1

	)

1421 
	#STO_MIPS_HIDDEN
 0x2

	)

1422 
	#STO_MIPS_PROTECTED
 0x3

	)

1423 
	#STO_MIPS_PLT
 0x8

	)

1424 
	#STO_MIPS_SC_ALIGN_UNUSED
 0xff

	)

1427 
	#STB_MIPS_SPLIT_COMMON
 13

	)

1435 
Elf32_WÜd
 
	mgt_cu¼’t_g_v®ue
;

1436 
Elf32_WÜd
 
	mgt_unu£d
;

1437 } 
	mgt_h—d”
;

1440 
Elf32_WÜd
 
	mgt_g_v®ue
;

1441 
Elf32_WÜd
 
	mgt_by‹s
;

1442 } 
	mgt_’Œy
;

1443 } 
	tElf32_g±ab
;

1449 
Elf32_WÜd
 
	mri_g´mask
;

1450 
Elf32_WÜd
 
	mri_ırmask
[4];

1451 
Elf32_SwÜd
 
	mri_gp_v®ue
;

1452 } 
	tElf32_RegInfo
;

1458 
	mkšd
;

1460 
	msize
;

1461 
Elf32_SeùiÚ
 
	m£ùiÚ
;

1463 
Elf32_WÜd
 
	mšfo
;

1464 } 
	tElf_O±iÚs
;

1468 
	#ODK_NULL
 0

	)

1469 
	#ODK_REGINFO
 1

	)

1470 
	#ODK_EXCEPTIONS
 2

	)

1471 
	#ODK_PAD
 3

	)

1472 
	#ODK_HWPATCH
 4

	)

1473 
	#ODK_FILL
 5

	)

1474 
	#ODK_TAGS
 6

	)

1475 
	#ODK_HWAND
 7

	)

1476 
	#ODK_HWOR
 8

	)

1480 
	#OEX_FPU_MIN
 0x1à

	)

1481 
	#OEX_FPU_MAX
 0x1f00

	)

1482 
	#OEX_PAGE0
 0x10000

	)

1483 
	#OEX_SMM
 0x20000

	)

1484 
	#OEX_FPDBUG
 0x40000

	)

1485 
	#OEX_PRECISEFP
 
OEX_FPDBUG


	)

1486 
	#OEX_DISMISS
 0x80000

	)

1488 
	#OEX_FPU_INVAL
 0x10

	)

1489 
	#OEX_FPU_DIV0
 0x08

	)

1490 
	#OEX_FPU_OFLO
 0x04

	)

1491 
	#OEX_FPU_UFLO
 0x02

	)

1492 
	#OEX_FPU_INEX
 0x01

	)

1496 
	#OHW_R4KEOP
 0x1

	)

1497 
	#OHW_R8KPFETCH
 0x2

	)

1498 
	#OHW_R5KEOP
 0x4

	)

1499 
	#OHW_R5KCVTL
 0x8

	)

1501 
	#OPAD_PREFIX
 0x1

	)

1502 
	#OPAD_POSTFIX
 0x2

	)

1503 
	#OPAD_SYMBOL
 0x4

	)

1509 
Elf32_WÜd
 
	mhwp_æags1
;

1510 
Elf32_WÜd
 
	mhwp_æags2
;

1511 } 
	tElf_O±iÚs_Hw
;

1515 
	#OHWA0_R4KEOP_CHECKED
 0x00000001

	)

1516 
	#OHWA1_R4KEOP_CLEAN
 0x00000002

	)

1520 
	#R_MIPS_NONE
 0

	)

1521 
	#R_MIPS_16
 1

	)

1522 
	#R_MIPS_32
 2

	)

1523 
	#R_MIPS_REL32
 3

	)

1524 
	#R_MIPS_26
 4

	)

1525 
	#R_MIPS_HI16
 5

	)

1526 
	#R_MIPS_LO16
 6

	)

1527 
	#R_MIPS_GPREL16
 7

	)

1528 
	#R_MIPS_LITERAL
 8

	)

1529 
	#R_MIPS_GOT16
 9

	)

1530 
	#R_MIPS_PC16
 10

	)

1531 
	#R_MIPS_CALL16
 11

	)

1532 
	#R_MIPS_GPREL32
 12

	)

1534 
	#R_MIPS_SHIFT5
 16

	)

1535 
	#R_MIPS_SHIFT6
 17

	)

1536 
	#R_MIPS_64
 18

	)

1537 
	#R_MIPS_GOT_DISP
 19

	)

1538 
	#R_MIPS_GOT_PAGE
 20

	)

1539 
	#R_MIPS_GOT_OFST
 21

	)

1540 
	#R_MIPS_GOT_HI16
 22

	)

1541 
	#R_MIPS_GOT_LO16
 23

	)

1542 
	#R_MIPS_SUB
 24

	)

1543 
	#R_MIPS_INSERT_A
 25

	)

1544 
	#R_MIPS_INSERT_B
 26

	)

1545 
	#R_MIPS_DELETE
 27

	)

1546 
	#R_MIPS_HIGHER
 28

	)

1547 
	#R_MIPS_HIGHEST
 29

	)

1548 
	#R_MIPS_CALL_HI16
 30

	)

1549 
	#R_MIPS_CALL_LO16
 31

	)

1550 
	#R_MIPS_SCN_DISP
 32

	)

1551 
	#R_MIPS_REL16
 33

	)

1552 
	#R_MIPS_ADD_IMMEDIATE
 34

	)

1553 
	#R_MIPS_PJUMP
 35

	)

1554 
	#R_MIPS_RELGOT
 36

	)

1555 
	#R_MIPS_JALR
 37

	)

1556 
	#R_MIPS_TLS_DTPMOD32
 38

	)

1557 
	#R_MIPS_TLS_DTPREL32
 39

	)

1558 
	#R_MIPS_TLS_DTPMOD64
 40

	)

1559 
	#R_MIPS_TLS_DTPREL64
 41

	)

1560 
	#R_MIPS_TLS_GD
 42

	)

1561 
	#R_MIPS_TLS_LDM
 43

	)

1562 
	#R_MIPS_TLS_DTPREL_HI16
 44

	)

1563 
	#R_MIPS_TLS_DTPREL_LO16
 45

	)

1564 
	#R_MIPS_TLS_GOTTPREL
 46

	)

1565 
	#R_MIPS_TLS_TPREL32
 47

	)

1566 
	#R_MIPS_TLS_TPREL64
 48

	)

1567 
	#R_MIPS_TLS_TPREL_HI16
 49

	)

1568 
	#R_MIPS_TLS_TPREL_LO16
 50

	)

1569 
	#R_MIPS_GLOB_DAT
 51

	)

1570 
	#R_MIPS_COPY
 126

	)

1571 
	#R_MIPS_JUMP_SLOT
 127

	)

1573 
	#R_MIPS_NUM
 128

	)

1577 
	#PT_MIPS_REGINFO
 0x70000000

	)

1578 
	#PT_MIPS_RTPROC
 0x70000001

	)

1579 
	#PT_MIPS_OPTIONS
 0x70000002

	)

1580 
	#PT_MIPS_ABIFLAGS
 0x70000003

	)

1584 
	#PF_MIPS_LOCAL
 0x10000000

	)

1588 
	#DT_MIPS_RLD_VERSION
 0x70000001

	)

1589 
	#DT_MIPS_TIME_STAMP
 0x70000002

	)

1590 
	#DT_MIPS_ICHECKSUM
 0x70000003

	)

1591 
	#DT_MIPS_IVERSION
 0x70000004

	)

1592 
	#DT_MIPS_FLAGS
 0x70000005

	)

1593 
	#DT_MIPS_BASE_ADDRESS
 0x70000006

	)

1594 
	#DT_MIPS_MSYM
 0x70000007

	)

1595 
	#DT_MIPS_CONFLICT
 0x70000008

	)

1596 
	#DT_MIPS_LIBLIST
 0x70000009

	)

1597 
	#DT_MIPS_LOCAL_GOTNO
 0x7000000¨

	)

1598 
	#DT_MIPS_CONFLICTNO
 0x7000000b

	)

1599 
	#DT_MIPS_LIBLISTNO
 0x70000010

	)

1600 
	#DT_MIPS_SYMTABNO
 0x70000011

	)

1601 
	#DT_MIPS_UNREFEXTNO
 0x70000012

	)

1602 
	#DT_MIPS_GOTSYM
 0x70000013

	)

1603 
	#DT_MIPS_HIPAGENO
 0x70000014

	)

1604 
	#DT_MIPS_RLD_MAP
 0x70000016

	)

1605 
	#DT_MIPS_DELTA_CLASS
 0x70000017

	)

1606 
	#DT_MIPS_DELTA_CLASS_NO
 0x70000018

	)

1608 
	#DT_MIPS_DELTA_INSTANCE
 0x70000019

	)

1609 
	#DT_MIPS_DELTA_INSTANCE_NO
 0x7000001¨

	)

1611 
	#DT_MIPS_DELTA_RELOC
 0x7000001b

	)

1612 
	#DT_MIPS_DELTA_RELOC_NO
 0x7000001ø

	)

1614 
	#DT_MIPS_DELTA_SYM
 0x7000001d

	)

1616 
	#DT_MIPS_DELTA_SYM_NO
 0x7000001

	)

1618 
	#DT_MIPS_DELTA_CLASSSYM
 0x70000020

	)

1620 
	#DT_MIPS_DELTA_CLASSSYM_NO
 0x70000021

	)

1622 
	#DT_MIPS_CXX_FLAGS
 0x70000022

	)

1623 
	#DT_MIPS_PIXIE_INIT
 0x70000023

	)

1624 
	#DT_MIPS_SYMBOL_LIB
 0x70000024

	)

1625 
	#DT_MIPS_LOCALPAGE_GOTIDX
 0x70000025

	)

1626 
	#DT_MIPS_LOCAL_GOTIDX
 0x70000026

	)

1627 
	#DT_MIPS_HIDDEN_GOTIDX
 0x70000027

	)

1628 
	#DT_MIPS_PROTECTED_GOTIDX
 0x70000028

	)

1629 
	#DT_MIPS_OPTIONS
 0x70000029

	)

1630 
	#DT_MIPS_INTERFACE
 0x7000002¨

	)

1631 
	#DT_MIPS_DYNSTR_ALIGN
 0x7000002b

	)

1632 
	#DT_MIPS_INTERFACE_SIZE
 0x7000002ø

	)

1633 
	#DT_MIPS_RLD_TEXT_RESOLVE_ADDR
 0x7000002d

	)

1635 
	#DT_MIPS_PERF_SUFFIX
 0x7000002

	)

1637 
	#DT_MIPS_COMPACT_SIZE
 0x7000002à

	)

1638 
	#DT_MIPS_GP_VALUE
 0x70000030

	)

1639 
	#DT_MIPS_AUX_DYNAMIC
 0x70000031

	)

1641 
	#DT_MIPS_PLTGOT
 0x70000032

	)

1645 
	#DT_MIPS_RWPLT
 0x70000034

	)

1646 
	#DT_MIPS_NUM
 0x35

	)

1650 
	#RHF_NONE
 0

	)

1651 
	#RHF_QUICKSTART
 (1 << 0è

	)

1652 
	#RHF_NOTPOT
 (1 << 1è

	)

1653 
	#RHF_NO_LIBRARY_REPLACEMENT
 (1 << 2è

	)

1654 
	#RHF_NO_MOVE
 (1 << 3)

	)

1655 
	#RHF_SGI_ONLY
 (1 << 4)

	)

1656 
	#RHF_GUARANTEE_INIT
 (1 << 5)

	)

1657 
	#RHF_DELTA_C_PLUS_PLUS
 (1 << 6)

	)

1658 
	#RHF_GUARANTEE_START_INIT
 (1 << 7)

	)

1659 
	#RHF_PIXIE
 (1 << 8)

	)

1660 
	#RHF_DEFAULT_DELAY_LOAD
 (1 << 9)

	)

1661 
	#RHF_REQUICKSTART
 (1 << 10)

	)

1662 
	#RHF_REQUICKSTARTED
 (1 << 11)

	)

1663 
	#RHF_CORD
 (1 << 12)

	)

1664 
	#RHF_NO_UNRES_UNDEF
 (1 << 13)

	)

1665 
	#RHF_RLD_ORDER_SAFE
 (1 << 14)

	)

1671 
Elf32_WÜd
 
	ml_Çme
;

1672 
Elf32_WÜd
 
	ml_time_¡amp
;

1673 
Elf32_WÜd
 
	ml_checksum
;

1674 
Elf32_WÜd
 
	ml_v”siÚ
;

1675 
Elf32_WÜd
 
	ml_æags
;

1676 } 
	tElf32_Lib
;

1680 
Elf64_WÜd
 
	ml_Çme
;

1681 
Elf64_WÜd
 
	ml_time_¡amp
;

1682 
Elf64_WÜd
 
	ml_checksum
;

1683 
Elf64_WÜd
 
	ml_v”siÚ
;

1684 
Elf64_WÜd
 
	ml_æags
;

1685 } 
	tElf64_Lib
;

1690 
	#LL_NONE
 0

	)

1691 
	#LL_EXACT_MATCH
 (1 << 0è

	)

1692 
	#LL_IGNORE_INT_VER
 (1 << 1è

	)

1693 
	#LL_REQUIRE_MINOR
 (1 << 2)

	)

1694 
	#LL_EXPORTS
 (1 << 3)

	)

1695 
	#LL_DELAY_LOAD
 (1 << 4)

	)

1696 
	#LL_DELTA
 (1 << 5)

	)

1700 
Elf32_Addr
 
	tElf32_CÚæiù
;

1705 
Elf32_H®f
 
	mv”siÚ
;

1707 
	mi§_Ëv–
;

1709 
	mi§_»v
;

1711 
	mg´_size
;

1713 
	mır1_size
;

1715 
	mır2_size
;

1717 
	må_abi
;

1719 
Elf32_WÜd
 
	mi§_ext
;

1721 
Elf32_WÜd
 
	ma£s
;

1723 
Elf32_WÜd
 
	mæags1
;

1724 
Elf32_WÜd
 
	mæags2
;

1725 } 
	tElf_MIPS_ABIFÏgs_v0
;

1729 
	#MIPS_AFL_REG_NONE
 0x00

	)

1730 
	#MIPS_AFL_REG_32
 0x01

	)

1731 
	#MIPS_AFL_REG_64
 0x02

	)

1732 
	#MIPS_AFL_REG_128
 0x03

	)

1736 
	#MIPS_AFL_ASE_DSP
 0x00000001

	)

1737 
	#MIPS_AFL_ASE_DSPR2
 0x00000002

	)

1738 
	#MIPS_AFL_ASE_EVA
 0x00000004

	)

1739 
	#MIPS_AFL_ASE_MCU
 0x00000008

	)

1740 
	#MIPS_AFL_ASE_MDMX
 0x00000010

	)

1741 
	#MIPS_AFL_ASE_MIPS3D
 0x00000020

	)

1742 
	#MIPS_AFL_ASE_MT
 0x00000040

	)

1743 
	#MIPS_AFL_ASE_SMARTMIPS
 0x00000080

	)

1744 
	#MIPS_AFL_ASE_VIRT
 0x00000100

	)

1745 
	#MIPS_AFL_ASE_MSA
 0x00000200

	)

1746 
	#MIPS_AFL_ASE_MIPS16
 0x00000400

	)

1747 
	#MIPS_AFL_ASE_MICROMIPS
 0x00000800

	)

1748 
	#MIPS_AFL_ASE_XPA
 0x00001000

	)

1749 
	#MIPS_AFL_ASE_MASK
 0x00001ffà

	)

1753 
	#MIPS_AFL_EXT_XLR
 1

	)

1754 
	#MIPS_AFL_EXT_OCTEON2
 2

	)

1755 
	#MIPS_AFL_EXT_OCTEONP
 3

	)

1756 
	#MIPS_AFL_EXT_LOONGSON_3A
 4

	)

1757 
	#MIPS_AFL_EXT_OCTEON
 5

	)

1758 
	#MIPS_AFL_EXT_5900
 6

	)

1759 
	#MIPS_AFL_EXT_4650
 7

	)

1760 
	#MIPS_AFL_EXT_4010
 8

	)

1761 
	#MIPS_AFL_EXT_4100
 9

	)

1762 
	#MIPS_AFL_EXT_3900
 10

	)

1763 
	#MIPS_AFL_EXT_10000
 11

	)

1764 
	#MIPS_AFL_EXT_SB1
 12

	)

1765 
	#MIPS_AFL_EXT_4111
 13

	)

1766 
	#MIPS_AFL_EXT_4120
 14

	)

1767 
	#MIPS_AFL_EXT_5400
 15

	)

1768 
	#MIPS_AFL_EXT_5500
 16

	)

1769 
	#MIPS_AFL_EXT_LOONGSON_2E
 17

	)

1770 
	#MIPS_AFL_EXT_LOONGSON_2F
 18

	)

1773 
	#MIPS_AFL_FLAGS1_ODDSPREG
 1

	)

1779 
	mV®_GNU_MIPS_ABI_FP_ANY
 = 0,

1781 
	mV®_GNU_MIPS_ABI_FP_DOUBLE
 = 1,

1783 
	mV®_GNU_MIPS_ABI_FP_SINGLE
 = 2,

1785 
	mV®_GNU_MIPS_ABI_FP_SOFT
 = 3,

1787 
	mV®_GNU_MIPS_ABI_FP_OLD_64
 = 4,

1789 
	mV®_GNU_MIPS_ABI_FP_XX
 = 5,

1791 
	mV®_GNU_MIPS_ABI_FP_64
 = 6,

1793 
	mV®_GNU_MIPS_ABI_FP_64A
 = 7,

1795 
	mV®_GNU_MIPS_ABI_FP_MAX
 = 7

1802 
	#EF_PARISC_TRAPNIL
 0x00010000

	)

1803 
	#EF_PARISC_EXT
 0x00020000

	)

1804 
	#EF_PARISC_LSB
 0x00040000

	)

1805 
	#EF_PARISC_WIDE
 0x00080000

	)

1806 
	#EF_PARISC_NO_KABP
 0x00100000

	)

1808 
	#EF_PARISC_LAZYSWAP
 0x00400000

	)

1809 
	#EF_PARISC_ARCH
 0x0000fffà

	)

1813 
	#EFA_PARISC_1_0
 0x020b

	)

1814 
	#EFA_PARISC_1_1
 0x0210

	)

1815 
	#EFA_PARISC_2_0
 0x0214

	)

1819 
	#SHN_PARISC_ANSI_COMMON
 0xff00

	)

1821 
	#SHN_PARISC_HUGE_COMMON
 0xff01

	)

1825 
	#SHT_PARISC_EXT
 0x70000000

	)

1826 
	#SHT_PARISC_UNWIND
 0x70000001

	)

1827 
	#SHT_PARISC_DOC
 0x70000002

	)

1831 
	#SHF_PARISC_SHORT
 0x20000000

	)

1832 
	#SHF_PARISC_HUGE
 0x40000000

	)

1833 
	#SHF_PARISC_SBP
 0x80000000

	)

1837 
	#STT_PARISC_MILLICODE
 13

	)

1839 
	#STT_HP_OPAQUE
 (
STT_LOOS
 + 0x1)

	)

1840 
	#STT_HP_STUB
 (
STT_LOOS
 + 0x2)

	)

1844 
	#R_PARISC_NONE
 0

	)

1845 
	#R_PARISC_DIR32
 1

	)

1846 
	#R_PARISC_DIR21L
 2

	)

1847 
	#R_PARISC_DIR17R
 3

	)

1848 
	#R_PARISC_DIR17F
 4

	)

1849 
	#R_PARISC_DIR14R
 6

	)

1850 
	#R_PARISC_PCREL32
 9

	)

1851 
	#R_PARISC_PCREL21L
 10

	)

1852 
	#R_PARISC_PCREL17R
 11

	)

1853 
	#R_PARISC_PCREL17F
 12

	)

1854 
	#R_PARISC_PCREL14R
 14

	)

1855 
	#R_PARISC_DPREL21L
 18

	)

1856 
	#R_PARISC_DPREL14R
 22

	)

1857 
	#R_PARISC_GPREL21L
 26

	)

1858 
	#R_PARISC_GPREL14R
 30

	)

1859 
	#R_PARISC_LTOFF21L
 34

	)

1860 
	#R_PARISC_LTOFF14R
 38

	)

1861 
	#R_PARISC_SECREL32
 41

	)

1862 
	#R_PARISC_SEGBASE
 48

	)

1863 
	#R_PARISC_SEGREL32
 49

	)

1864 
	#R_PARISC_PLTOFF21L
 50

	)

1865 
	#R_PARISC_PLTOFF14R
 54

	)

1866 
	#R_PARISC_LTOFF_FPTR32
 57

	)

1867 
	#R_PARISC_LTOFF_FPTR21L
 58

	)

1868 
	#R_PARISC_LTOFF_FPTR14R
 62

	)

1869 
	#R_PARISC_FPTR64
 64

	)

1870 
	#R_PARISC_PLABEL32
 65

	)

1871 
	#R_PARISC_PLABEL21L
 66

	)

1872 
	#R_PARISC_PLABEL14R
 70

	)

1873 
	#R_PARISC_PCREL64
 72

	)

1874 
	#R_PARISC_PCREL22F
 74

	)

1875 
	#R_PARISC_PCREL14WR
 75

	)

1876 
	#R_PARISC_PCREL14DR
 76

	)

1877 
	#R_PARISC_PCREL16F
 77

	)

1878 
	#R_PARISC_PCREL16WF
 78

	)

1879 
	#R_PARISC_PCREL16DF
 79

	)

1880 
	#R_PARISC_DIR64
 80

	)

1881 
	#R_PARISC_DIR14WR
 83

	)

1882 
	#R_PARISC_DIR14DR
 84

	)

1883 
	#R_PARISC_DIR16F
 85

	)

1884 
	#R_PARISC_DIR16WF
 86

	)

1885 
	#R_PARISC_DIR16DF
 87

	)

1886 
	#R_PARISC_GPREL64
 88

	)

1887 
	#R_PARISC_GPREL14WR
 91

	)

1888 
	#R_PARISC_GPREL14DR
 92

	)

1889 
	#R_PARISC_GPREL16F
 93

	)

1890 
	#R_PARISC_GPREL16WF
 94

	)

1891 
	#R_PARISC_GPREL16DF
 95

	)

1892 
	#R_PARISC_LTOFF64
 96

	)

1893 
	#R_PARISC_LTOFF14WR
 99

	)

1894 
	#R_PARISC_LTOFF14DR
 100

	)

1895 
	#R_PARISC_LTOFF16F
 101

	)

1896 
	#R_PARISC_LTOFF16WF
 102

	)

1897 
	#R_PARISC_LTOFF16DF
 103

	)

1898 
	#R_PARISC_SECREL64
 104

	)

1899 
	#R_PARISC_SEGREL64
 112

	)

1900 
	#R_PARISC_PLTOFF14WR
 115

	)

1901 
	#R_PARISC_PLTOFF14DR
 116

	)

1902 
	#R_PARISC_PLTOFF16F
 117

	)

1903 
	#R_PARISC_PLTOFF16WF
 118

	)

1904 
	#R_PARISC_PLTOFF16DF
 119

	)

1905 
	#R_PARISC_LTOFF_FPTR64
 120

	)

1906 
	#R_PARISC_LTOFF_FPTR14WR
 123

	)

1907 
	#R_PARISC_LTOFF_FPTR14DR
 124

	)

1908 
	#R_PARISC_LTOFF_FPTR16F
 125

	)

1909 
	#R_PARISC_LTOFF_FPTR16WF
 126

	)

1910 
	#R_PARISC_LTOFF_FPTR16DF
 127

	)

1911 
	#R_PARISC_LORESERVE
 128

	)

1912 
	#R_PARISC_COPY
 128

	)

1913 
	#R_PARISC_IPLT
 129

	)

1914 
	#R_PARISC_EPLT
 130

	)

1915 
	#R_PARISC_TPREL32
 153

	)

1916 
	#R_PARISC_TPREL21L
 154

	)

1917 
	#R_PARISC_TPREL14R
 158

	)

1918 
	#R_PARISC_LTOFF_TP21L
 162

	)

1919 
	#R_PARISC_LTOFF_TP14R
 166

	)

1920 
	#R_PARISC_LTOFF_TP14F
 167

	)

1921 
	#R_PARISC_TPREL64
 216

	)

1922 
	#R_PARISC_TPREL14WR
 219

	)

1923 
	#R_PARISC_TPREL14DR
 220

	)

1924 
	#R_PARISC_TPREL16F
 221

	)

1925 
	#R_PARISC_TPREL16WF
 222

	)

1926 
	#R_PARISC_TPREL16DF
 223

	)

1927 
	#R_PARISC_LTOFF_TP64
 224

	)

1928 
	#R_PARISC_LTOFF_TP14WR
 227

	)

1929 
	#R_PARISC_LTOFF_TP14DR
 228

	)

1930 
	#R_PARISC_LTOFF_TP16F
 229

	)

1931 
	#R_PARISC_LTOFF_TP16WF
 230

	)

1932 
	#R_PARISC_LTOFF_TP16DF
 231

	)

1933 
	#R_PARISC_GNU_VTENTRY
 232

	)

1934 
	#R_PARISC_GNU_VTINHERIT
 233

	)

1935 
	#R_PARISC_TLS_GD21L
 234

	)

1936 
	#R_PARISC_TLS_GD14R
 235

	)

1937 
	#R_PARISC_TLS_GDCALL
 236

	)

1938 
	#R_PARISC_TLS_LDM21L
 237

	)

1939 
	#R_PARISC_TLS_LDM14R
 238

	)

1940 
	#R_PARISC_TLS_LDMCALL
 239

	)

1941 
	#R_PARISC_TLS_LDO21L
 240

	)

1942 
	#R_PARISC_TLS_LDO14R
 241

	)

1943 
	#R_PARISC_TLS_DTPMOD32
 242

	)

1944 
	#R_PARISC_TLS_DTPMOD64
 243

	)

1945 
	#R_PARISC_TLS_DTPOFF32
 244

	)

1946 
	#R_PARISC_TLS_DTPOFF64
 245

	)

1947 
	#R_PARISC_TLS_LE21L
 
R_PARISC_TPREL21L


	)

1948 
	#R_PARISC_TLS_LE14R
 
R_PARISC_TPREL14R


	)

1949 
	#R_PARISC_TLS_IE21L
 
R_PARISC_LTOFF_TP21L


	)

1950 
	#R_PARISC_TLS_IE14R
 
R_PARISC_LTOFF_TP14R


	)

1951 
	#R_PARISC_TLS_TPREL32
 
R_PARISC_TPREL32


	)

1952 
	#R_PARISC_TLS_TPREL64
 
R_PARISC_TPREL64


	)

1953 
	#R_PARISC_HIRESERVE
 255

	)

1957 
	#PT_HP_TLS
 (
PT_LOOS
 + 0x0)

	)

1958 
	#PT_HP_CORE_NONE
 (
PT_LOOS
 + 0x1)

	)

1959 
	#PT_HP_CORE_VERSION
 (
PT_LOOS
 + 0x2)

	)

1960 
	#PT_HP_CORE_KERNEL
 (
PT_LOOS
 + 0x3)

	)

1961 
	#PT_HP_CORE_COMM
 (
PT_LOOS
 + 0x4)

	)

1962 
	#PT_HP_CORE_PROC
 (
PT_LOOS
 + 0x5)

	)

1963 
	#PT_HP_CORE_LOADABLE
 (
PT_LOOS
 + 0x6)

	)

1964 
	#PT_HP_CORE_STACK
 (
PT_LOOS
 + 0x7)

	)

1965 
	#PT_HP_CORE_SHM
 (
PT_LOOS
 + 0x8)

	)

1966 
	#PT_HP_CORE_MMF
 (
PT_LOOS
 + 0x9)

	)

1967 
	#PT_HP_PARALLEL
 (
PT_LOOS
 + 0x10)

	)

1968 
	#PT_HP_FASTBIND
 (
PT_LOOS
 + 0x11)

	)

1969 
	#PT_HP_OPT_ANNOT
 (
PT_LOOS
 + 0x12)

	)

1970 
	#PT_HP_HSL_ANNOT
 (
PT_LOOS
 + 0x13)

	)

1971 
	#PT_HP_STACK
 (
PT_LOOS
 + 0x14)

	)

1973 
	#PT_PARISC_ARCHEXT
 0x70000000

	)

1974 
	#PT_PARISC_UNWIND
 0x70000001

	)

1978 
	#PF_PARISC_SBP
 0x08000000

	)

1980 
	#PF_HP_PAGE_SIZE
 0x00100000

	)

1981 
	#PF_HP_FAR_SHARED
 0x00200000

	)

1982 
	#PF_HP_NEAR_SHARED
 0x00400000

	)

1983 
	#PF_HP_CODE
 0x01000000

	)

1984 
	#PF_HP_MODIFY
 0x02000000

	)

1985 
	#PF_HP_LAZYSWAP
 0x04000000

	)

1986 
	#PF_HP_SBP
 0x08000000

	)

1993 
	#EF_ALPHA_32BIT
 1

	)

1994 
	#EF_ALPHA_CANRELAX
 2

	)

1999 
	#SHT_ALPHA_DEBUG
 0x70000001

	)

2000 
	#SHT_ALPHA_REGINFO
 0x70000002

	)

2004 
	#SHF_ALPHA_GPREL
 0x10000000

	)

2007 
	#STO_ALPHA_NOPV
 0x80

	)

2008 
	#STO_ALPHA_STD_GPLOAD
 0x88

	)

2012 
	#R_ALPHA_NONE
 0

	)

2013 
	#R_ALPHA_REFLONG
 1

	)

2014 
	#R_ALPHA_REFQUAD
 2

	)

2015 
	#R_ALPHA_GPREL32
 3

	)

2016 
	#R_ALPHA_LITERAL
 4

	)

2017 
	#R_ALPHA_LITUSE
 5

	)

2018 
	#R_ALPHA_GPDISP
 6

	)

2019 
	#R_ALPHA_BRADDR
 7

	)

2020 
	#R_ALPHA_HINT
 8

	)

2021 
	#R_ALPHA_SREL16
 9

	)

2022 
	#R_ALPHA_SREL32
 10

	)

2023 
	#R_ALPHA_SREL64
 11

	)

2024 
	#R_ALPHA_GPRELHIGH
 17

	)

2025 
	#R_ALPHA_GPRELLOW
 18

	)

2026 
	#R_ALPHA_GPREL16
 19

	)

2027 
	#R_ALPHA_COPY
 24

	)

2028 
	#R_ALPHA_GLOB_DAT
 25

	)

2029 
	#R_ALPHA_JMP_SLOT
 26

	)

2030 
	#R_ALPHA_RELATIVE
 27

	)

2031 
	#R_ALPHA_TLS_GD_HI
 28

	)

2032 
	#R_ALPHA_TLSGD
 29

	)

2033 
	#R_ALPHA_TLS_LDM
 30

	)

2034 
	#R_ALPHA_DTPMOD64
 31

	)

2035 
	#R_ALPHA_GOTDTPREL
 32

	)

2036 
	#R_ALPHA_DTPREL64
 33

	)

2037 
	#R_ALPHA_DTPRELHI
 34

	)

2038 
	#R_ALPHA_DTPRELLO
 35

	)

2039 
	#R_ALPHA_DTPREL16
 36

	)

2040 
	#R_ALPHA_GOTTPREL
 37

	)

2041 
	#R_ALPHA_TPREL64
 38

	)

2042 
	#R_ALPHA_TPRELHI
 39

	)

2043 
	#R_ALPHA_TPRELLO
 40

	)

2044 
	#R_ALPHA_TPREL16
 41

	)

2046 
	#R_ALPHA_NUM
 46

	)

2049 
	#LITUSE_ALPHA_ADDR
 0

	)

2050 
	#LITUSE_ALPHA_BASE
 1

	)

2051 
	#LITUSE_ALPHA_BYTOFF
 2

	)

2052 
	#LITUSE_ALPHA_JSR
 3

	)

2053 
	#LITUSE_ALPHA_TLS_GD
 4

	)

2054 
	#LITUSE_ALPHA_TLS_LDM
 5

	)

2057 
	#DT_ALPHA_PLTRO
 (
DT_LOPROC
 + 0)

	)

2058 
	#DT_ALPHA_NUM
 1

	)

2063 
	#EF_PPC_EMB
 0x80000000

	)

2066 
	#EF_PPC_RELOCATABLE
 0x00010000

	)

2067 
	#EF_PPC_RELOCATABLE_LIB
 0x00008000

	)

2071 
	#R_PPC_NONE
 0

	)

2072 
	#R_PPC_ADDR32
 1

	)

2073 
	#R_PPC_ADDR24
 2

	)

2074 
	#R_PPC_ADDR16
 3

	)

2075 
	#R_PPC_ADDR16_LO
 4

	)

2076 
	#R_PPC_ADDR16_HI
 5

	)

2077 
	#R_PPC_ADDR16_HA
 6

	)

2078 
	#R_PPC_ADDR14
 7

	)

2079 
	#R_PPC_ADDR14_BRTAKEN
 8

	)

2080 
	#R_PPC_ADDR14_BRNTAKEN
 9

	)

2081 
	#R_PPC_REL24
 10

	)

2082 
	#R_PPC_REL14
 11

	)

2083 
	#R_PPC_REL14_BRTAKEN
 12

	)

2084 
	#R_PPC_REL14_BRNTAKEN
 13

	)

2085 
	#R_PPC_GOT16
 14

	)

2086 
	#R_PPC_GOT16_LO
 15

	)

2087 
	#R_PPC_GOT16_HI
 16

	)

2088 
	#R_PPC_GOT16_HA
 17

	)

2089 
	#R_PPC_PLTREL24
 18

	)

2090 
	#R_PPC_COPY
 19

	)

2091 
	#R_PPC_GLOB_DAT
 20

	)

2092 
	#R_PPC_JMP_SLOT
 21

	)

2093 
	#R_PPC_RELATIVE
 22

	)

2094 
	#R_PPC_LOCAL24PC
 23

	)

2095 
	#R_PPC_UADDR32
 24

	)

2096 
	#R_PPC_UADDR16
 25

	)

2097 
	#R_PPC_REL32
 26

	)

2098 
	#R_PPC_PLT32
 27

	)

2099 
	#R_PPC_PLTREL32
 28

	)

2100 
	#R_PPC_PLT16_LO
 29

	)

2101 
	#R_PPC_PLT16_HI
 30

	)

2102 
	#R_PPC_PLT16_HA
 31

	)

2103 
	#R_PPC_SDAREL16
 32

	)

2104 
	#R_PPC_SECTOFF
 33

	)

2105 
	#R_PPC_SECTOFF_LO
 34

	)

2106 
	#R_PPC_SECTOFF_HI
 35

	)

2107 
	#R_PPC_SECTOFF_HA
 36

	)

2110 
	#R_PPC_TLS
 67

	)

2111 
	#R_PPC_DTPMOD32
 68

	)

2112 
	#R_PPC_TPREL16
 69

	)

2113 
	#R_PPC_TPREL16_LO
 70

	)

2114 
	#R_PPC_TPREL16_HI
 71

	)

2115 
	#R_PPC_TPREL16_HA
 72

	)

2116 
	#R_PPC_TPREL32
 73

	)

2117 
	#R_PPC_DTPREL16
 74

	)

2118 
	#R_PPC_DTPREL16_LO
 75

	)

2119 
	#R_PPC_DTPREL16_HI
 76

	)

2120 
	#R_PPC_DTPREL16_HA
 77

	)

2121 
	#R_PPC_DTPREL32
 78

	)

2122 
	#R_PPC_GOT_TLSGD16
 79

	)

2123 
	#R_PPC_GOT_TLSGD16_LO
 80

	)

2124 
	#R_PPC_GOT_TLSGD16_HI
 81

	)

2125 
	#R_PPC_GOT_TLSGD16_HA
 82

	)

2126 
	#R_PPC_GOT_TLSLD16
 83

	)

2127 
	#R_PPC_GOT_TLSLD16_LO
 84

	)

2128 
	#R_PPC_GOT_TLSLD16_HI
 85

	)

2129 
	#R_PPC_GOT_TLSLD16_HA
 86

	)

2130 
	#R_PPC_GOT_TPREL16
 87

	)

2131 
	#R_PPC_GOT_TPREL16_LO
 88

	)

2132 
	#R_PPC_GOT_TPREL16_HI
 89

	)

2133 
	#R_PPC_GOT_TPREL16_HA
 90

	)

2134 
	#R_PPC_GOT_DTPREL16
 91

	)

2135 
	#R_PPC_GOT_DTPREL16_LO
 92

	)

2136 
	#R_PPC_GOT_DTPREL16_HI
 93

	)

2137 
	#R_PPC_GOT_DTPREL16_HA
 94

	)

2141 
	#R_PPC_EMB_NADDR32
 101

	)

2142 
	#R_PPC_EMB_NADDR16
 102

	)

2143 
	#R_PPC_EMB_NADDR16_LO
 103

	)

2144 
	#R_PPC_EMB_NADDR16_HI
 104

	)

2145 
	#R_PPC_EMB_NADDR16_HA
 105

	)

2146 
	#R_PPC_EMB_SDAI16
 106

	)

2147 
	#R_PPC_EMB_SDA2I16
 107

	)

2148 
	#R_PPC_EMB_SDA2REL
 108

	)

2149 
	#R_PPC_EMB_SDA21
 109

	)

2150 
	#R_PPC_EMB_MRKREF
 110

	)

2151 
	#R_PPC_EMB_RELSEC16
 111

	)

2152 
	#R_PPC_EMB_RELST_LO
 112

	)

2153 
	#R_PPC_EMB_RELST_HI
 113

	)

2154 
	#R_PPC_EMB_RELST_HA
 114

	)

2155 
	#R_PPC_EMB_BIT_FLD
 115

	)

2156 
	#R_PPC_EMB_RELSDA
 116

	)

2159 
	#R_PPC_DIAB_SDA21_LO
 180

	)

2160 
	#R_PPC_DIAB_SDA21_HI
 181

	)

2161 
	#R_PPC_DIAB_SDA21_HA
 182

	)

2162 
	#R_PPC_DIAB_RELSDA_LO
 183

	)

2163 
	#R_PPC_DIAB_RELSDA_HI
 184

	)

2164 
	#R_PPC_DIAB_RELSDA_HA
 185

	)

2167 
	#R_PPC_IRELATIVE
 248

	)

2170 
	#R_PPC_REL16
 249

	)

2171 
	#R_PPC_REL16_LO
 250

	)

2172 
	#R_PPC_REL16_HI
 251

	)

2173 
	#R_PPC_REL16_HA
 252

	)

2177 
	#R_PPC_TOC16
 255

	)

2180 
	#DT_PPC_GOT
 (
DT_LOPROC
 + 0)

	)

2181 
	#DT_PPC_NUM
 1

	)

2184 
	#R_PPC64_NONE
 
R_PPC_NONE


	)

2185 
	#R_PPC64_ADDR32
 
R_PPC_ADDR32


	)

2186 
	#R_PPC64_ADDR24
 
R_PPC_ADDR24


	)

2187 
	#R_PPC64_ADDR16
 
R_PPC_ADDR16


	)

2188 
	#R_PPC64_ADDR16_LO
 
R_PPC_ADDR16_LO


	)

2189 
	#R_PPC64_ADDR16_HI
 
R_PPC_ADDR16_HI


	)

2190 
	#R_PPC64_ADDR16_HA
 
R_PPC_ADDR16_HA


	)

2191 
	#R_PPC64_ADDR14
 
R_PPC_ADDR14


	)

2192 
	#R_PPC64_ADDR14_BRTAKEN
 
R_PPC_ADDR14_BRTAKEN


	)

2193 
	#R_PPC64_ADDR14_BRNTAKEN
 
R_PPC_ADDR14_BRNTAKEN


	)

2194 
	#R_PPC64_REL24
 
R_PPC_REL24


	)

2195 
	#R_PPC64_REL14
 
R_PPC_REL14


	)

2196 
	#R_PPC64_REL14_BRTAKEN
 
R_PPC_REL14_BRTAKEN


	)

2197 
	#R_PPC64_REL14_BRNTAKEN
 
R_PPC_REL14_BRNTAKEN


	)

2198 
	#R_PPC64_GOT16
 
R_PPC_GOT16


	)

2199 
	#R_PPC64_GOT16_LO
 
R_PPC_GOT16_LO


	)

2200 
	#R_PPC64_GOT16_HI
 
R_PPC_GOT16_HI


	)

2201 
	#R_PPC64_GOT16_HA
 
R_PPC_GOT16_HA


	)

2203 
	#R_PPC64_COPY
 
R_PPC_COPY


	)

2204 
	#R_PPC64_GLOB_DAT
 
R_PPC_GLOB_DAT


	)

2205 
	#R_PPC64_JMP_SLOT
 
R_PPC_JMP_SLOT


	)

2206 
	#R_PPC64_RELATIVE
 
R_PPC_RELATIVE


	)

2208 
	#R_PPC64_UADDR32
 
R_PPC_UADDR32


	)

2209 
	#R_PPC64_UADDR16
 
R_PPC_UADDR16


	)

2210 
	#R_PPC64_REL32
 
R_PPC_REL32


	)

2211 
	#R_PPC64_PLT32
 
R_PPC_PLT32


	)

2212 
	#R_PPC64_PLTREL32
 
R_PPC_PLTREL32


	)

2213 
	#R_PPC64_PLT16_LO
 
R_PPC_PLT16_LO


	)

2214 
	#R_PPC64_PLT16_HI
 
R_PPC_PLT16_HI


	)

2215 
	#R_PPC64_PLT16_HA
 
R_PPC_PLT16_HA


	)

2217 
	#R_PPC64_SECTOFF
 
R_PPC_SECTOFF


	)

2218 
	#R_PPC64_SECTOFF_LO
 
R_PPC_SECTOFF_LO


	)

2219 
	#R_PPC64_SECTOFF_HI
 
R_PPC_SECTOFF_HI


	)

2220 
	#R_PPC64_SECTOFF_HA
 
R_PPC_SECTOFF_HA


	)

2221 
	#R_PPC64_ADDR30
 37

	)

2222 
	#R_PPC64_ADDR64
 38

	)

2223 
	#R_PPC64_ADDR16_HIGHER
 39

	)

2224 
	#R_PPC64_ADDR16_HIGHERA
 40

	)

2225 
	#R_PPC64_ADDR16_HIGHEST
 41

	)

2226 
	#R_PPC64_ADDR16_HIGHESTA
 42

	)

2227 
	#R_PPC64_UADDR64
 43

	)

2228 
	#R_PPC64_REL64
 44

	)

2229 
	#R_PPC64_PLT64
 45

	)

2230 
	#R_PPC64_PLTREL64
 46

	)

2231 
	#R_PPC64_TOC16
 47

	)

2232 
	#R_PPC64_TOC16_LO
 48

	)

2233 
	#R_PPC64_TOC16_HI
 49

	)

2234 
	#R_PPC64_TOC16_HA
 50

	)

2235 
	#R_PPC64_TOC
 51

	)

2236 
	#R_PPC64_PLTGOT16
 52

	)

2237 
	#R_PPC64_PLTGOT16_LO
 53

	)

2238 
	#R_PPC64_PLTGOT16_HI
 54

	)

2239 
	#R_PPC64_PLTGOT16_HA
 55

	)

2241 
	#R_PPC64_ADDR16_DS
 56

	)

2242 
	#R_PPC64_ADDR16_LO_DS
 57

	)

2243 
	#R_PPC64_GOT16_DS
 58

	)

2244 
	#R_PPC64_GOT16_LO_DS
 59

	)

2245 
	#R_PPC64_PLT16_LO_DS
 60

	)

2246 
	#R_PPC64_SECTOFF_DS
 61

	)

2247 
	#R_PPC64_SECTOFF_LO_DS
 62

	)

2248 
	#R_PPC64_TOC16_DS
 63

	)

2249 
	#R_PPC64_TOC16_LO_DS
 64

	)

2250 
	#R_PPC64_PLTGOT16_DS
 65

	)

2251 
	#R_PPC64_PLTGOT16_LO_DS
 66

	)

2254 
	#R_PPC64_TLS
 67

	)

2255 
	#R_PPC64_DTPMOD64
 68

	)

2256 
	#R_PPC64_TPREL16
 69

	)

2257 
	#R_PPC64_TPREL16_LO
 70

	)

2258 
	#R_PPC64_TPREL16_HI
 71

	)

2259 
	#R_PPC64_TPREL16_HA
 72

	)

2260 
	#R_PPC64_TPREL64
 73

	)

2261 
	#R_PPC64_DTPREL16
 74

	)

2262 
	#R_PPC64_DTPREL16_LO
 75

	)

2263 
	#R_PPC64_DTPREL16_HI
 76

	)

2264 
	#R_PPC64_DTPREL16_HA
 77

	)

2265 
	#R_PPC64_DTPREL64
 78

	)

2266 
	#R_PPC64_GOT_TLSGD16
 79

	)

2267 
	#R_PPC64_GOT_TLSGD16_LO
 80

	)

2268 
	#R_PPC64_GOT_TLSGD16_HI
 81

	)

2269 
	#R_PPC64_GOT_TLSGD16_HA
 82

	)

2270 
	#R_PPC64_GOT_TLSLD16
 83

	)

2271 
	#R_PPC64_GOT_TLSLD16_LO
 84

	)

2272 
	#R_PPC64_GOT_TLSLD16_HI
 85

	)

2273 
	#R_PPC64_GOT_TLSLD16_HA
 86

	)

2274 
	#R_PPC64_GOT_TPREL16_DS
 87

	)

2275 
	#R_PPC64_GOT_TPREL16_LO_DS
 88

	)

2276 
	#R_PPC64_GOT_TPREL16_HI
 89

	)

2277 
	#R_PPC64_GOT_TPREL16_HA
 90

	)

2278 
	#R_PPC64_GOT_DTPREL16_DS
 91

	)

2279 
	#R_PPC64_GOT_DTPREL16_LO_DS
 92

	)

2280 
	#R_PPC64_GOT_DTPREL16_HI
 93

	)

2281 
	#R_PPC64_GOT_DTPREL16_HA
 94

	)

2282 
	#R_PPC64_TPREL16_DS
 95

	)

2283 
	#R_PPC64_TPREL16_LO_DS
 96

	)

2284 
	#R_PPC64_TPREL16_HIGHER
 97

	)

2285 
	#R_PPC64_TPREL16_HIGHERA
 98

	)

2286 
	#R_PPC64_TPREL16_HIGHEST
 99

	)

2287 
	#R_PPC64_TPREL16_HIGHESTA
 100

	)

2288 
	#R_PPC64_DTPREL16_DS
 101

	)

2289 
	#R_PPC64_DTPREL16_LO_DS
 102

	)

2290 
	#R_PPC64_DTPREL16_HIGHER
 103

	)

2291 
	#R_PPC64_DTPREL16_HIGHERA
 104

	)

2292 
	#R_PPC64_DTPREL16_HIGHEST
 105

	)

2293 
	#R_PPC64_DTPREL16_HIGHESTA
 106

	)

2294 
	#R_PPC64_TLSGD
 107

	)

2295 
	#R_PPC64_TLSLD
 108

	)

2296 
	#R_PPC64_TOCSAVE
 109

	)

2299 
	#R_PPC64_ADDR16_HIGH
 110

	)

2300 
	#R_PPC64_ADDR16_HIGHA
 111

	)

2301 
	#R_PPC64_TPREL16_HIGH
 112

	)

2302 
	#R_PPC64_TPREL16_HIGHA
 113

	)

2303 
	#R_PPC64_DTPREL16_HIGH
 114

	)

2304 
	#R_PPC64_DTPREL16_HIGHA
 115

	)

2307 
	#R_PPC64_JMP_IREL
 247

	)

2308 
	#R_PPC64_IRELATIVE
 248

	)

2309 
	#R_PPC64_REL16
 249

	)

2310 
	#R_PPC64_REL16_LO
 250

	)

2311 
	#R_PPC64_REL16_HI
 251

	)

2312 
	#R_PPC64_REL16_HA
 252

	)

2318 
	#EF_PPC64_ABI
 3

	)

2321 
	#DT_PPC64_GLINK
 (
DT_LOPROC
 + 0)

	)

2322 
	#DT_PPC64_OPD
 (
DT_LOPROC
 + 1)

	)

2323 
	#DT_PPC64_OPDSZ
 (
DT_LOPROC
 + 2)

	)

2324 
	#DT_PPC64_OPT
 (
DT_LOPROC
 + 3)

	)

2325 
	#DT_PPC64_NUM
 4

	)

2328 
	#PPC64_OPT_TLS
 1

	)

2329 
	#PPC64_OPT_MULTI_TOC
 2

	)

2332 
	#STO_PPC64_LOCAL_BIT
 5

	)

2333 
	#STO_PPC64_LOCAL_MASK
 (7 << 
STO_PPC64_LOCAL_BIT
)

	)

2334 
	#PPC64_LOCAL_ENTRY_OFFSET
(
Ùh”
) \

2335 (((1 << (((
Ùh”
è& 
STO_PPC64_LOCAL_MASK
è>> 
STO_PPC64_LOCAL_BIT
)è>> 2è<< 2)

	)

2341 
	#EF_ARM_RELEXEC
 0x01

	)

2342 
	#EF_ARM_HASENTRY
 0x02

	)

2343 
	#EF_ARM_INTERWORK
 0x04

	)

2344 
	#EF_ARM_APCS_26
 0x08

	)

2345 
	#EF_ARM_APCS_FLOAT
 0x10

	)

2346 
	#EF_ARM_PIC
 0x20

	)

2347 
	#EF_ARM_ALIGN8
 0x40

	)

2348 
	#EF_ARM_NEW_ABI
 0x80

	)

2349 
	#EF_ARM_OLD_ABI
 0x100

	)

2350 
	#EF_ARM_SOFT_FLOAT
 0x200

	)

2351 
	#EF_ARM_VFP_FLOAT
 0x400

	)

2352 
	#EF_ARM_MAVERICK_FLOAT
 0x800

	)

2354 
	#EF_ARM_ABI_FLOAT_SOFT
 0x200

	)

2355 
	#EF_ARM_ABI_FLOAT_HARD
 0x400

	)

2360 
	#EF_ARM_SYMSARESORTED
 0x04

	)

2361 
	#EF_ARM_DYNSYMSUSESEGIDX
 0x08

	)

2362 
	#EF_ARM_MAPSYMSFIRST
 0x10

	)

2363 
	#EF_ARM_EABIMASK
 0XFF000000

	)

2366 
	#EF_ARM_BE8
 0x00800000

	)

2367 
	#EF_ARM_LE8
 0x00400000

	)

2369 
	#EF_ARM_EABI_VERSION
(
æags
è((æagsè& 
EF_ARM_EABIMASK
)

	)

2370 
	#EF_ARM_EABI_UNKNOWN
 0x00000000

	)

2371 
	#EF_ARM_EABI_VER1
 0x01000000

	)

2372 
	#EF_ARM_EABI_VER2
 0x02000000

	)

2373 
	#EF_ARM_EABI_VER3
 0x03000000

	)

2374 
	#EF_ARM_EABI_VER4
 0x04000000

	)

2375 
	#EF_ARM_EABI_VER5
 0x05000000

	)

2378 
	#STT_ARM_TFUNC
 
STT_LOPROC


	)

2379 
	#STT_ARM_16BIT
 
STT_HIPROC


	)

2382 
	#SHF_ARM_ENTRYSECT
 0x10000000

	)

2383 
	#SHF_ARM_COMDEF
 0x80000000

	)

2387 
	#PF_ARM_SB
 0x10000000

	)

2389 
	#PF_ARM_PI
 0x20000000

	)

2390 
	#PF_ARM_ABS
 0x40000000

	)

2393 
	#PT_ARM_EXIDX
 (
PT_LOPROC
 + 1è

	)

2396 
	#SHT_ARM_EXIDX
 (
SHT_LOPROC
 + 1è

	)

2397 
	#SHT_ARM_PREEMPTMAP
 (
SHT_LOPROC
 + 2è

	)

2398 
	#SHT_ARM_ATTRIBUTES
 (
SHT_LOPROC
 + 3è

	)

2403 
	#R_AARCH64_NONE
 0

	)

2406 
	#R_AARCH64_P32_ABS32
 1

	)

2407 
	#R_AARCH64_P32_COPY
 180

	)

2408 
	#R_AARCH64_P32_GLOB_DAT
 181

	)

2409 
	#R_AARCH64_P32_JUMP_SLOT
 182

	)

2410 
	#R_AARCH64_P32_RELATIVE
 183

	)

2411 
	#R_AARCH64_P32_TLS_DTPMOD
 184

	)

2412 
	#R_AARCH64_P32_TLS_DTPREL
 185

	)

2413 
	#R_AARCH64_P32_TLS_TPREL
 186

	)

2414 
	#R_AARCH64_P32_TLSDESC
 187

	)

2415 
	#R_AARCH64_P32_IRELATIVE
 188

	)

2418 
	#R_AARCH64_ABS64
 257

	)

2419 
	#R_AARCH64_ABS32
 258

	)

2420 
	#R_AARCH64_ABS16
 259

	)

2421 
	#R_AARCH64_PREL64
 260

	)

2422 
	#R_AARCH64_PREL32
 261

	)

2423 
	#R_AARCH64_PREL16
 262

	)

2424 
	#R_AARCH64_MOVW_UABS_G0
 263

	)

2425 
	#R_AARCH64_MOVW_UABS_G0_NC
 264

	)

2426 
	#R_AARCH64_MOVW_UABS_G1
 265

	)

2427 
	#R_AARCH64_MOVW_UABS_G1_NC
 266

	)

2428 
	#R_AARCH64_MOVW_UABS_G2
 267

	)

2429 
	#R_AARCH64_MOVW_UABS_G2_NC
 268

	)

2430 
	#R_AARCH64_MOVW_UABS_G3
 269

	)

2431 
	#R_AARCH64_MOVW_SABS_G0
 270

	)

2432 
	#R_AARCH64_MOVW_SABS_G1
 271

	)

2433 
	#R_AARCH64_MOVW_SABS_G2
 272

	)

2434 
	#R_AARCH64_LD_PREL_LO19
 273

	)

2435 
	#R_AARCH64_ADR_PREL_LO21
 274

	)

2436 
	#R_AARCH64_ADR_PREL_PG_HI21
 275

	)

2437 
	#R_AARCH64_ADR_PREL_PG_HI21_NC
 276

	)

2438 
	#R_AARCH64_ADD_ABS_LO12_NC
 277

	)

2439 
	#R_AARCH64_LDST8_ABS_LO12_NC
 278

	)

2440 
	#R_AARCH64_TSTBR14
 279

	)

2441 
	#R_AARCH64_CONDBR19
 280

	)

2442 
	#R_AARCH64_JUMP26
 282

	)

2443 
	#R_AARCH64_CALL26
 283

	)

2444 
	#R_AARCH64_LDST16_ABS_LO12_NC
 284

	)

2445 
	#R_AARCH64_LDST32_ABS_LO12_NC
 285

	)

2446 
	#R_AARCH64_LDST64_ABS_LO12_NC
 286

	)

2447 
	#R_AARCH64_MOVW_PREL_G0
 287

	)

2448 
	#R_AARCH64_MOVW_PREL_G0_NC
 288

	)

2449 
	#R_AARCH64_MOVW_PREL_G1
 289

	)

2450 
	#R_AARCH64_MOVW_PREL_G1_NC
 290

	)

2451 
	#R_AARCH64_MOVW_PREL_G2
 291

	)

2452 
	#R_AARCH64_MOVW_PREL_G2_NC
 292

	)

2453 
	#R_AARCH64_MOVW_PREL_G3
 293

	)

2454 
	#R_AARCH64_LDST128_ABS_LO12_NC
 299

	)

2455 
	#R_AARCH64_MOVW_GOTOFF_G0
 300

	)

2456 
	#R_AARCH64_MOVW_GOTOFF_G0_NC
 301

	)

2457 
	#R_AARCH64_MOVW_GOTOFF_G1
 302

	)

2458 
	#R_AARCH64_MOVW_GOTOFF_G1_NC
 303

	)

2459 
	#R_AARCH64_MOVW_GOTOFF_G2
 304

	)

2460 
	#R_AARCH64_MOVW_GOTOFF_G2_NC
 305

	)

2461 
	#R_AARCH64_MOVW_GOTOFF_G3
 306

	)

2462 
	#R_AARCH64_GOTREL64
 307

	)

2463 
	#R_AARCH64_GOTREL32
 308

	)

2464 
	#R_AARCH64_GOT_LD_PREL19
 309

	)

2465 
	#R_AARCH64_LD64_GOTOFF_LO15
 310

	)

2466 
	#R_AARCH64_ADR_GOT_PAGE
 311

	)

2467 
	#R_AARCH64_LD64_GOT_LO12_NC
 312

	)

2468 
	#R_AARCH64_LD64_GOTPAGE_LO15
 313

	)

2469 
	#R_AARCH64_TLSGD_ADR_PREL21
 512

	)

2470 
	#R_AARCH64_TLSGD_ADR_PAGE21
 513

	)

2471 
	#R_AARCH64_TLSGD_ADD_LO12_NC
 514

	)

2472 
	#R_AARCH64_TLSGD_MOVW_G1
 515

	)

2473 
	#R_AARCH64_TLSGD_MOVW_G0_NC
 516

	)

2474 
	#R_AARCH64_TLSLD_ADR_PREL21
 517

	)

2475 
	#R_AARCH64_TLSLD_ADR_PAGE21
 518

	)

2476 
	#R_AARCH64_TLSLD_ADD_LO12_NC
 519

	)

2477 
	#R_AARCH64_TLSLD_MOVW_G1
 520

	)

2478 
	#R_AARCH64_TLSLD_MOVW_G0_NC
 521

	)

2479 
	#R_AARCH64_TLSLD_LD_PREL19
 522

	)

2480 
	#R_AARCH64_TLSLD_MOVW_DTPREL_G2
 523

	)

2481 
	#R_AARCH64_TLSLD_MOVW_DTPREL_G1
 524

	)

2482 
	#R_AARCH64_TLSLD_MOVW_DTPREL_G1_NC
 525

	)

2483 
	#R_AARCH64_TLSLD_MOVW_DTPREL_G0
 526

	)

2484 
	#R_AARCH64_TLSLD_MOVW_DTPREL_G0_NC
 527

	)

2485 
	#R_AARCH64_TLSLD_ADD_DTPREL_HI12
 528

	)

2486 
	#R_AARCH64_TLSLD_ADD_DTPREL_LO12
 529

	)

2487 
	#R_AARCH64_TLSLD_ADD_DTPREL_LO12_NC
 530

	)

2488 
	#R_AARCH64_TLSLD_LDST8_DTPREL_LO12
 531

	)

2489 
	#R_AARCH64_TLSLD_LDST8_DTPREL_LO12_NC
 532

	)

2490 
	#R_AARCH64_TLSLD_LDST16_DTPREL_LO12
 533

	)

2491 
	#R_AARCH64_TLSLD_LDST16_DTPREL_LO12_NC
 534

	)

2492 
	#R_AARCH64_TLSLD_LDST32_DTPREL_LO12
 535

	)

2493 
	#R_AARCH64_TLSLD_LDST32_DTPREL_LO12_NC
 536

	)

2494 
	#R_AARCH64_TLSLD_LDST64_DTPREL_LO12
 537

	)

2495 
	#R_AARCH64_TLSLD_LDST64_DTPREL_LO12_NC
 538

	)

2496 
	#R_AARCH64_TLSIE_MOVW_GOTTPREL_G1
 539

	)

2497 
	#R_AARCH64_TLSIE_MOVW_GOTTPREL_G0_NC
 540

	)

2498 
	#R_AARCH64_TLSIE_ADR_GOTTPREL_PAGE21
 541

	)

2499 
	#R_AARCH64_TLSIE_LD64_GOTTPREL_LO12_NC
 542

	)

2500 
	#R_AARCH64_TLSIE_LD_GOTTPREL_PREL19
 543

	)

2501 
	#R_AARCH64_TLSLE_MOVW_TPREL_G2
 544

	)

2502 
	#R_AARCH64_TLSLE_MOVW_TPREL_G1
 545

	)

2503 
	#R_AARCH64_TLSLE_MOVW_TPREL_G1_NC
 546

	)

2504 
	#R_AARCH64_TLSLE_MOVW_TPREL_G0
 547

	)

2505 
	#R_AARCH64_TLSLE_MOVW_TPREL_G0_NC
 548

	)

2506 
	#R_AARCH64_TLSLE_ADD_TPREL_HI12
 549

	)

2507 
	#R_AARCH64_TLSLE_ADD_TPREL_LO12
 550

	)

2508 
	#R_AARCH64_TLSLE_ADD_TPREL_LO12_NC
 551

	)

2509 
	#R_AARCH64_TLSLE_LDST8_TPREL_LO12
 552

	)

2510 
	#R_AARCH64_TLSLE_LDST8_TPREL_LO12_NC
 553

	)

2511 
	#R_AARCH64_TLSLE_LDST16_TPREL_LO12
 554

	)

2512 
	#R_AARCH64_TLSLE_LDST16_TPREL_LO12_NC
 555

	)

2513 
	#R_AARCH64_TLSLE_LDST32_TPREL_LO12
 556

	)

2514 
	#R_AARCH64_TLSLE_LDST32_TPREL_LO12_NC
 557

	)

2515 
	#R_AARCH64_TLSLE_LDST64_TPREL_LO12
 558

	)

2516 
	#R_AARCH64_TLSLE_LDST64_TPREL_LO12_NC
 559

	)

2517 
	#R_AARCH64_TLSDESC_LD_PREL19
 560

	)

2518 
	#R_AARCH64_TLSDESC_ADR_PREL21
 561

	)

2519 
	#R_AARCH64_TLSDESC_ADR_PAGE21
 562

	)

2520 
	#R_AARCH64_TLSDESC_LD64_LO12
 563

	)

2521 
	#R_AARCH64_TLSDESC_ADD_LO12
 564

	)

2522 
	#R_AARCH64_TLSDESC_OFF_G1
 565

	)

2523 
	#R_AARCH64_TLSDESC_OFF_G0_NC
 566

	)

2524 
	#R_AARCH64_TLSDESC_LDR
 567

	)

2525 
	#R_AARCH64_TLSDESC_ADD
 568

	)

2526 
	#R_AARCH64_TLSDESC_CALL
 569

	)

2527 
	#R_AARCH64_TLSLE_LDST128_TPREL_LO12
 570

	)

2528 
	#R_AARCH64_TLSLE_LDST128_TPREL_LO12_NC
 571

	)

2529 
	#R_AARCH64_TLSLD_LDST128_DTPREL_LO12
 572

	)

2530 
	#R_AARCH64_TLSLD_LDST128_DTPREL_LO12_NC
 573

	)

2531 
	#R_AARCH64_COPY
 1024

	)

2532 
	#R_AARCH64_GLOB_DAT
 1025

	)

2533 
	#R_AARCH64_JUMP_SLOT
 1026

	)

2534 
	#R_AARCH64_RELATIVE
 1027

	)

2535 
	#R_AARCH64_TLS_DTPMOD
 1028

	)

2536 
	#R_AARCH64_TLS_DTPREL
 1029

	)

2537 
	#R_AARCH64_TLS_TPREL
 1030

	)

2538 
	#R_AARCH64_TLSDESC
 1031

	)

2539 
	#R_AARCH64_IRELATIVE
 1032

	)

2543 
	#R_ARM_NONE
 0

	)

2544 
	#R_ARM_PC24
 1

	)

2546 
	#R_ARM_ABS32
 2

	)

2547 
	#R_ARM_REL32
 3

	)

2548 
	#R_ARM_PC13
 4

	)

2549 
	#R_ARM_ABS16
 5

	)

2550 
	#R_ARM_ABS12
 6

	)

2551 
	#R_ARM_THM_ABS5
 7

	)

2552 
	#R_ARM_ABS8
 8

	)

2553 
	#R_ARM_SBREL32
 9

	)

2554 
	#R_ARM_THM_PC22
 10

	)

2555 
	#R_ARM_THM_PC8
 11

	)

2557 
	#R_ARM_AMP_VCALL9
 12

	)

2558 
	#R_ARM_SWI24
 13

	)

2559 
	#R_ARM_TLS_DESC
 13

	)

2560 
	#R_ARM_THM_SWI8
 14

	)

2561 
	#R_ARM_XPC25
 15

	)

2562 
	#R_ARM_THM_XPC22
 16

	)

2563 
	#R_ARM_TLS_DTPMOD32
 17

	)

2564 
	#R_ARM_TLS_DTPOFF32
 18

	)

2565 
	#R_ARM_TLS_TPOFF32
 19

	)

2566 
	#R_ARM_COPY
 20

	)

2567 
	#R_ARM_GLOB_DAT
 21

	)

2568 
	#R_ARM_JUMP_SLOT
 22

	)

2569 
	#R_ARM_RELATIVE
 23

	)

2570 
	#R_ARM_GOTOFF
 24

	)

2571 
	#R_ARM_GOTPC
 25

	)

2572 
	#R_ARM_GOT32
 26

	)

2573 
	#R_ARM_PLT32
 27

	)

2574 
	#R_ARM_CALL
 28

	)

2575 
	#R_ARM_JUMP24
 29

	)

2577 
	#R_ARM_THM_JUMP24
 30

	)

2578 
	#R_ARM_BASE_ABS
 31

	)

2579 
	#R_ARM_ALU_PCREL_7_0
 32

	)

2580 
	#R_ARM_ALU_PCREL_15_8
 33

	)

2581 
	#R_ARM_ALU_PCREL_23_15
 34

	)

2582 
	#R_ARM_LDR_SBREL_11_0
 35

	)

2583 
	#R_ARM_ALU_SBREL_19_12
 36

	)

2584 
	#R_ARM_ALU_SBREL_27_20
 37

	)

2585 
	#R_ARM_TARGET1
 38

	)

2586 
	#R_ARM_SBREL31
 39

	)

2587 
	#R_ARM_V4BX
 40

	)

2588 
	#R_ARM_TARGET2
 41

	)

2589 
	#R_ARM_PREL31
 42

	)

2590 
	#R_ARM_MOVW_ABS_NC
 43

	)

2591 
	#R_ARM_MOVT_ABS
 44

	)

2592 
	#R_ARM_MOVW_PREL_NC
 45

	)

2593 
	#R_ARM_MOVT_PREL
 46

	)

2594 
	#R_ARM_THM_MOVW_ABS_NC
 47

	)

2595 
	#R_ARM_THM_MOVT_ABS
 48

	)

2597 
	#R_ARM_THM_MOVW_PREL_NC
 49

	)

2599 
	#R_ARM_THM_MOVT_PREL
 50

	)

2601 
	#R_ARM_THM_JUMP19
 51

	)

2603 
	#R_ARM_THM_JUMP6
 52

	)

2605 
	#R_ARM_THM_ALU_PREL_11_0
 53

	)

2607 
	#R_ARM_THM_PC12
 54

	)

2609 
	#R_ARM_ABS32_NOI
 55

	)

2610 
	#R_ARM_REL32_NOI
 56

	)

2611 
	#R_ARM_ALU_PC_G0_NC
 57

	)

2612 
	#R_ARM_ALU_PC_G0
 58

	)

2613 
	#R_ARM_ALU_PC_G1_NC
 59

	)

2614 
	#R_ARM_ALU_PC_G1
 60

	)

2615 
	#R_ARM_ALU_PC_G2
 61

	)

2616 
	#R_ARM_LDR_PC_G1
 62

	)

2617 
	#R_ARM_LDR_PC_G2
 63

	)

2618 
	#R_ARM_LDRS_PC_G0
 64

	)

2620 
	#R_ARM_LDRS_PC_G1
 65

	)

2622 
	#R_ARM_LDRS_PC_G2
 66

	)

2624 
	#R_ARM_LDC_PC_G0
 67

	)

2625 
	#R_ARM_LDC_PC_G1
 68

	)

2626 
	#R_ARM_LDC_PC_G2
 69

	)

2627 
	#R_ARM_ALU_SB_G0_NC
 70

	)

2628 
	#R_ARM_ALU_SB_G0
 71

	)

2629 
	#R_ARM_ALU_SB_G1_NC
 72

	)

2630 
	#R_ARM_ALU_SB_G1
 73

	)

2631 
	#R_ARM_ALU_SB_G2
 74

	)

2632 
	#R_ARM_LDR_SB_G0
 75

	)

2634 
	#R_ARM_LDR_SB_G1
 76

	)

2636 
	#R_ARM_LDR_SB_G2
 77

	)

2638 
	#R_ARM_LDRS_SB_G0
 78

	)

2640 
	#R_ARM_LDRS_SB_G1
 79

	)

2642 
	#R_ARM_LDRS_SB_G2
 80

	)

2644 
	#R_ARM_LDC_SB_G0
 81

	)

2645 
	#R_ARM_LDC_SB_G1
 82

	)

2646 
	#R_ARM_LDC_SB_G2
 83

	)

2647 
	#R_ARM_MOVW_BREL_NC
 84

	)

2649 
	#R_ARM_MOVT_BREL
 85

	)

2651 
	#R_ARM_MOVW_BREL
 86

	)

2653 
	#R_ARM_THM_MOVW_BREL_NC
 87

	)

2655 
	#R_ARM_THM_MOVT_BREL
 88

	)

2657 
	#R_ARM_THM_MOVW_BREL
 89

	)

2659 
	#R_ARM_TLS_GOTDESC
 90

	)

2660 
	#R_ARM_TLS_CALL
 91

	)

2661 
	#R_ARM_TLS_DESCSEQ
 92

	)

2662 
	#R_ARM_THM_TLS_CALL
 93

	)

2663 
	#R_ARM_PLT32_ABS
 94

	)

2664 
	#R_ARM_GOT_ABS
 95

	)

2665 
	#R_ARM_GOT_PREL
 96

	)

2666 
	#R_ARM_GOT_BREL12
 97

	)

2668 
	#R_ARM_GOTOFF12
 98

	)

2670 
	#R_ARM_GOTRELAX
 99

	)

2671 
	#R_ARM_GNU_VTENTRY
 100

	)

2672 
	#R_ARM_GNU_VTINHERIT
 101

	)

2673 
	#R_ARM_THM_PC11
 102

	)

2674 
	#R_ARM_THM_PC9
 103

	)

2676 
	#R_ARM_TLS_GD32
 104

	)

2678 
	#R_ARM_TLS_LDM32
 105

	)

2680 
	#R_ARM_TLS_LDO32
 106

	)

2682 
	#R_ARM_TLS_IE32
 107

	)

2684 
	#R_ARM_TLS_LE32
 108

	)

2686 
	#R_ARM_TLS_LDO12
 109

	)

2688 
	#R_ARM_TLS_LE12
 110

	)

2690 
	#R_ARM_TLS_IE12GP
 111

	)

2692 
	#R_ARM_ME_TOO
 128

	)

2693 
	#R_ARM_THM_TLS_DESCSEQ
 129

	)

2694 
	#R_ARM_THM_TLS_DESCSEQ16
 129

	)

2695 
	#R_ARM_THM_TLS_DESCSEQ32
 130

	)

2696 
	#R_ARM_THM_GOT_BREL12
 131

	)

2698 
	#R_ARM_IRELATIVE
 160

	)

2699 
	#R_ARM_RXPC25
 249

	)

2700 
	#R_ARM_RSBREL32
 250

	)

2701 
	#R_ARM_THM_RPC22
 251

	)

2702 
	#R_ARM_RREL32
 252

	)

2703 
	#R_ARM_RABS22
 253

	)

2704 
	#R_ARM_RPC24
 254

	)

2705 
	#R_ARM_RBASE
 255

	)

2707 
	#R_ARM_NUM
 256

	)

2712 
	#EF_IA_64_MASKOS
 0x0000000à

	)

2713 
	#EF_IA_64_ABI64
 0x00000010

	)

2714 
	#EF_IA_64_ARCH
 0xff000000

	)

2717 
	#PT_IA_64_ARCHEXT
 (
PT_LOPROC
 + 0è

	)

2718 
	#PT_IA_64_UNWIND
 (
PT_LOPROC
 + 1è

	)

2719 
	#PT_IA_64_HP_OPT_ANOT
 (
PT_LOOS
 + 0x12)

	)

2720 
	#PT_IA_64_HP_HSL_ANOT
 (
PT_LOOS
 + 0x13)

	)

2721 
	#PT_IA_64_HP_STACK
 (
PT_LOOS
 + 0x14)

	)

2724 
	#PF_IA_64_NORECOV
 0x80000000

	)

2727 
	#SHT_IA_64_EXT
 (
SHT_LOPROC
 + 0è

	)

2728 
	#SHT_IA_64_UNWIND
 (
SHT_LOPROC
 + 1è

	)

2731 
	#SHF_IA_64_SHORT
 0x10000000

	)

2732 
	#SHF_IA_64_NORECOV
 0x20000000

	)

2735 
	#DT_IA_64_PLT_RESERVE
 (
DT_LOPROC
 + 0)

	)

2736 
	#DT_IA_64_NUM
 1

	)

2739 
	#R_IA64_NONE
 0x00

	)

2740 
	#R_IA64_IMM14
 0x21

	)

2741 
	#R_IA64_IMM22
 0x22

	)

2742 
	#R_IA64_IMM64
 0x23

	)

2743 
	#R_IA64_DIR32MSB
 0x24

	)

2744 
	#R_IA64_DIR32LSB
 0x25

	)

2745 
	#R_IA64_DIR64MSB
 0x26

	)

2746 
	#R_IA64_DIR64LSB
 0x27

	)

2747 
	#R_IA64_GPREL22
 0x2¨

	)

2748 
	#R_IA64_GPREL64I
 0x2b

	)

2749 
	#R_IA64_GPREL32MSB
 0x2ø

	)

2750 
	#R_IA64_GPREL32LSB
 0x2d

	)

2751 
	#R_IA64_GPREL64MSB
 0x2

	)

2752 
	#R_IA64_GPREL64LSB
 0x2à

	)

2753 
	#R_IA64_LTOFF22
 0x32

	)

2754 
	#R_IA64_LTOFF64I
 0x33

	)

2755 
	#R_IA64_PLTOFF22
 0x3¨

	)

2756 
	#R_IA64_PLTOFF64I
 0x3b

	)

2757 
	#R_IA64_PLTOFF64MSB
 0x3

	)

2758 
	#R_IA64_PLTOFF64LSB
 0x3à

	)

2759 
	#R_IA64_FPTR64I
 0x43

	)

2760 
	#R_IA64_FPTR32MSB
 0x44

	)

2761 
	#R_IA64_FPTR32LSB
 0x45

	)

2762 
	#R_IA64_FPTR64MSB
 0x46

	)

2763 
	#R_IA64_FPTR64LSB
 0x47

	)

2764 
	#R_IA64_PCREL60B
 0x48

	)

2765 
	#R_IA64_PCREL21B
 0x49

	)

2766 
	#R_IA64_PCREL21M
 0x4¨

	)

2767 
	#R_IA64_PCREL21F
 0x4b

	)

2768 
	#R_IA64_PCREL32MSB
 0x4ø

	)

2769 
	#R_IA64_PCREL32LSB
 0x4d

	)

2770 
	#R_IA64_PCREL64MSB
 0x4

	)

2771 
	#R_IA64_PCREL64LSB
 0x4à

	)

2772 
	#R_IA64_LTOFF_FPTR22
 0x52

	)

2773 
	#R_IA64_LTOFF_FPTR64I
 0x53

	)

2774 
	#R_IA64_LTOFF_FPTR32MSB
 0x54

	)

2775 
	#R_IA64_LTOFF_FPTR32LSB
 0x55

	)

2776 
	#R_IA64_LTOFF_FPTR64MSB
 0x56

	)

2777 
	#R_IA64_LTOFF_FPTR64LSB
 0x57

	)

2778 
	#R_IA64_SEGREL32MSB
 0x5ø

	)

2779 
	#R_IA64_SEGREL32LSB
 0x5d

	)

2780 
	#R_IA64_SEGREL64MSB
 0x5

	)

2781 
	#R_IA64_SEGREL64LSB
 0x5à

	)

2782 
	#R_IA64_SECREL32MSB
 0x64

	)

2783 
	#R_IA64_SECREL32LSB
 0x65

	)

2784 
	#R_IA64_SECREL64MSB
 0x66

	)

2785 
	#R_IA64_SECREL64LSB
 0x67

	)

2786 
	#R_IA64_REL32MSB
 0x6ø

	)

2787 
	#R_IA64_REL32LSB
 0x6d

	)

2788 
	#R_IA64_REL64MSB
 0x6

	)

2789 
	#R_IA64_REL64LSB
 0x6à

	)

2790 
	#R_IA64_LTV32MSB
 0x74

	)

2791 
	#R_IA64_LTV32LSB
 0x75

	)

2792 
	#R_IA64_LTV64MSB
 0x76

	)

2793 
	#R_IA64_LTV64LSB
 0x77

	)

2794 
	#R_IA64_PCREL21BI
 0x79

	)

2795 
	#R_IA64_PCREL22
 0x7¨

	)

2796 
	#R_IA64_PCREL64I
 0x7b

	)

2797 
	#R_IA64_IPLTMSB
 0x80

	)

2798 
	#R_IA64_IPLTLSB
 0x81

	)

2799 
	#R_IA64_COPY
 0x84

	)

2800 
	#R_IA64_SUB
 0x85

	)

2801 
	#R_IA64_LTOFF22X
 0x86

	)

2802 
	#R_IA64_LDXMOV
 0x87

	)

2803 
	#R_IA64_TPREL14
 0x91

	)

2804 
	#R_IA64_TPREL22
 0x92

	)

2805 
	#R_IA64_TPREL64I
 0x93

	)

2806 
	#R_IA64_TPREL64MSB
 0x96

	)

2807 
	#R_IA64_TPREL64LSB
 0x97

	)

2808 
	#R_IA64_LTOFF_TPREL22
 0x9¨

	)

2809 
	#R_IA64_DTPMOD64MSB
 0xa6

	)

2810 
	#R_IA64_DTPMOD64LSB
 0xa7

	)

2811 
	#R_IA64_LTOFF_DTPMOD22
 0x¯

	)

2812 
	#R_IA64_DTPREL14
 0xb1

	)

2813 
	#R_IA64_DTPREL22
 0xb2

	)

2814 
	#R_IA64_DTPREL64I
 0xb3

	)

2815 
	#R_IA64_DTPREL32MSB
 0xb4

	)

2816 
	#R_IA64_DTPREL32LSB
 0xb5

	)

2817 
	#R_IA64_DTPREL64MSB
 0xb6

	)

2818 
	#R_IA64_DTPREL64LSB
 0xb7

	)

2819 
	#R_IA64_LTOFF_DTPREL22
 0xb¨

	)

2824 
	#EF_SH_MACH_MASK
 0x1f

	)

2825 
	#EF_SH_UNKNOWN
 0x0

	)

2826 
	#EF_SH1
 0x1

	)

2827 
	#EF_SH2
 0x2

	)

2828 
	#EF_SH3
 0x3

	)

2829 
	#EF_SH_DSP
 0x4

	)

2830 
	#EF_SH3_DSP
 0x5

	)

2831 
	#EF_SH4AL_DSP
 0x6

	)

2832 
	#EF_SH3E
 0x8

	)

2833 
	#EF_SH4
 0x9

	)

2834 
	#EF_SH2E
 0xb

	)

2835 
	#EF_SH4A
 0xc

	)

2836 
	#EF_SH2A
 0xd

	)

2837 
	#EF_SH4_NOFPU
 0x10

	)

2838 
	#EF_SH4A_NOFPU
 0x11

	)

2839 
	#EF_SH4_NOMMU_NOFPU
 0x12

	)

2840 
	#EF_SH2A_NOFPU
 0x13

	)

2841 
	#EF_SH3_NOMMU
 0x14

	)

2842 
	#EF_SH2A_SH4_NOFPU
 0x15

	)

2843 
	#EF_SH2A_SH3_NOFPU
 0x16

	)

2844 
	#EF_SH2A_SH4
 0x17

	)

2845 
	#EF_SH2A_SH3E
 0x18

	)

2848 
	#R_SH_NONE
 0

	)

2849 
	#R_SH_DIR32
 1

	)

2850 
	#R_SH_REL32
 2

	)

2851 
	#R_SH_DIR8WPN
 3

	)

2852 
	#R_SH_IND12W
 4

	)

2853 
	#R_SH_DIR8WPL
 5

	)

2854 
	#R_SH_DIR8WPZ
 6

	)

2855 
	#R_SH_DIR8BP
 7

	)

2856 
	#R_SH_DIR8W
 8

	)

2857 
	#R_SH_DIR8L
 9

	)

2858 
	#R_SH_SWITCH16
 25

	)

2859 
	#R_SH_SWITCH32
 26

	)

2860 
	#R_SH_USES
 27

	)

2861 
	#R_SH_COUNT
 28

	)

2862 
	#R_SH_ALIGN
 29

	)

2863 
	#R_SH_CODE
 30

	)

2864 
	#R_SH_DATA
 31

	)

2865 
	#R_SH_LABEL
 32

	)

2866 
	#R_SH_SWITCH8
 33

	)

2867 
	#R_SH_GNU_VTINHERIT
 34

	)

2868 
	#R_SH_GNU_VTENTRY
 35

	)

2869 
	#R_SH_TLS_GD_32
 144

	)

2870 
	#R_SH_TLS_LD_32
 145

	)

2871 
	#R_SH_TLS_LDO_32
 146

	)

2872 
	#R_SH_TLS_IE_32
 147

	)

2873 
	#R_SH_TLS_LE_32
 148

	)

2874 
	#R_SH_TLS_DTPMOD32
 149

	)

2875 
	#R_SH_TLS_DTPOFF32
 150

	)

2876 
	#R_SH_TLS_TPOFF32
 151

	)

2877 
	#R_SH_GOT32
 160

	)

2878 
	#R_SH_PLT32
 161

	)

2879 
	#R_SH_COPY
 162

	)

2880 
	#R_SH_GLOB_DAT
 163

	)

2881 
	#R_SH_JMP_SLOT
 164

	)

2882 
	#R_SH_RELATIVE
 165

	)

2883 
	#R_SH_GOTOFF
 166

	)

2884 
	#R_SH_GOTPC
 167

	)

2886 
	#R_SH_NUM
 256

	)

2892 
	#EF_S390_HIGH_GPRS
 0x00000001

	)

2896 
	#R_390_NONE
 0

	)

2897 
	#R_390_8
 1

	)

2898 
	#R_390_12
 2

	)

2899 
	#R_390_16
 3

	)

2900 
	#R_390_32
 4

	)

2901 
	#R_390_PC32
 5

	)

2902 
	#R_390_GOT12
 6

	)

2903 
	#R_390_GOT32
 7

	)

2904 
	#R_390_PLT32
 8

	)

2905 
	#R_390_COPY
 9

	)

2906 
	#R_390_GLOB_DAT
 10

	)

2907 
	#R_390_JMP_SLOT
 11

	)

2908 
	#R_390_RELATIVE
 12

	)

2909 
	#R_390_GOTOFF32
 13

	)

2910 
	#R_390_GOTPC
 14

	)

2911 
	#R_390_GOT16
 15

	)

2912 
	#R_390_PC16
 16

	)

2913 
	#R_390_PC16DBL
 17

	)

2914 
	#R_390_PLT16DBL
 18

	)

2915 
	#R_390_PC32DBL
 19

	)

2916 
	#R_390_PLT32DBL
 20

	)

2917 
	#R_390_GOTPCDBL
 21

	)

2918 
	#R_390_64
 22

	)

2919 
	#R_390_PC64
 23

	)

2920 
	#R_390_GOT64
 24

	)

2921 
	#R_390_PLT64
 25

	)

2922 
	#R_390_GOTENT
 26

	)

2923 
	#R_390_GOTOFF16
 27

	)

2924 
	#R_390_GOTOFF64
 28

	)

2925 
	#R_390_GOTPLT12
 29

	)

2926 
	#R_390_GOTPLT16
 30

	)

2927 
	#R_390_GOTPLT32
 31

	)

2928 
	#R_390_GOTPLT64
 32

	)

2929 
	#R_390_GOTPLTENT
 33

	)

2930 
	#R_390_PLTOFF16
 34

	)

2931 
	#R_390_PLTOFF32
 35

	)

2932 
	#R_390_PLTOFF64
 36

	)

2933 
	#R_390_TLS_LOAD
 37

	)

2934 
	#R_390_TLS_GDCALL
 38

	)

2936 
	#R_390_TLS_LDCALL
 39

	)

2938 
	#R_390_TLS_GD32
 40

	)

2940 
	#R_390_TLS_GD64
 41

	)

2942 
	#R_390_TLS_GOTIE12
 42

	)

2944 
	#R_390_TLS_GOTIE32
 43

	)

2946 
	#R_390_TLS_GOTIE64
 44

	)

2948 
	#R_390_TLS_LDM32
 45

	)

2950 
	#R_390_TLS_LDM64
 46

	)

2952 
	#R_390_TLS_IE32
 47

	)

2954 
	#R_390_TLS_IE64
 48

	)

2956 
	#R_390_TLS_IEENT
 49

	)

2958 
	#R_390_TLS_LE32
 50

	)

2960 
	#R_390_TLS_LE64
 51

	)

2962 
	#R_390_TLS_LDO32
 52

	)

2964 
	#R_390_TLS_LDO64
 53

	)

2966 
	#R_390_TLS_DTPMOD
 54

	)

2967 
	#R_390_TLS_DTPOFF
 55

	)

2968 
	#R_390_TLS_TPOFF
 56

	)

2970 
	#R_390_20
 57

	)

2971 
	#R_390_GOT20
 58

	)

2972 
	#R_390_GOTPLT20
 59

	)

2973 
	#R_390_TLS_GOTIE20
 60

	)

2975 
	#R_390_IRELATIVE
 61

	)

2977 
	#R_390_NUM
 62

	)

2981 
	#R_CRIS_NONE
 0

	)

2982 
	#R_CRIS_8
 1

	)

2983 
	#R_CRIS_16
 2

	)

2984 
	#R_CRIS_32
 3

	)

2985 
	#R_CRIS_8_PCREL
 4

	)

2986 
	#R_CRIS_16_PCREL
 5

	)

2987 
	#R_CRIS_32_PCREL
 6

	)

2988 
	#R_CRIS_GNU_VTINHERIT
 7

	)

2989 
	#R_CRIS_GNU_VTENTRY
 8

	)

2990 
	#R_CRIS_COPY
 9

	)

2991 
	#R_CRIS_GLOB_DAT
 10

	)

2992 
	#R_CRIS_JUMP_SLOT
 11

	)

2993 
	#R_CRIS_RELATIVE
 12

	)

2994 
	#R_CRIS_16_GOT
 13

	)

2995 
	#R_CRIS_32_GOT
 14

	)

2996 
	#R_CRIS_16_GOTPLT
 15

	)

2997 
	#R_CRIS_32_GOTPLT
 16

	)

2998 
	#R_CRIS_32_GOTREL
 17

	)

2999 
	#R_CRIS_32_PLT_GOTREL
 18

	)

3000 
	#R_CRIS_32_PLT_PCREL
 19

	)

3002 
	#R_CRIS_NUM
 20

	)

3006 
	#R_X86_64_NONE
 0

	)

3007 
	#R_X86_64_64
 1

	)

3008 
	#R_X86_64_PC32
 2

	)

3009 
	#R_X86_64_GOT32
 3

	)

3010 
	#R_X86_64_PLT32
 4

	)

3011 
	#R_X86_64_COPY
 5

	)

3012 
	#R_X86_64_GLOB_DAT
 6

	)

3013 
	#R_X86_64_JUMP_SLOT
 7

	)

3014 
	#R_X86_64_RELATIVE
 8

	)

3015 
	#R_X86_64_GOTPCREL
 9

	)

3017 
	#R_X86_64_32
 10

	)

3018 
	#R_X86_64_32S
 11

	)

3019 
	#R_X86_64_16
 12

	)

3020 
	#R_X86_64_PC16
 13

	)

3021 
	#R_X86_64_8
 14

	)

3022 
	#R_X86_64_PC8
 15

	)

3023 
	#R_X86_64_DTPMOD64
 16

	)

3024 
	#R_X86_64_DTPOFF64
 17

	)

3025 
	#R_X86_64_TPOFF64
 18

	)

3026 
	#R_X86_64_TLSGD
 19

	)

3028 
	#R_X86_64_TLSLD
 20

	)

3030 
	#R_X86_64_DTPOFF32
 21

	)

3031 
	#R_X86_64_GOTTPOFF
 22

	)

3033 
	#R_X86_64_TPOFF32
 23

	)

3034 
	#R_X86_64_PC64
 24

	)

3035 
	#R_X86_64_GOTOFF64
 25

	)

3036 
	#R_X86_64_GOTPC32
 26

	)

3038 
	#R_X86_64_GOT64
 27

	)

3039 
	#R_X86_64_GOTPCREL64
 28

	)

3041 
	#R_X86_64_GOTPC64
 29

	)

3042 
	#R_X86_64_GOTPLT64
 30

	)

3043 
	#R_X86_64_PLTOFF64
 31

	)

3045 
	#R_X86_64_SIZE32
 32

	)

3046 
	#R_X86_64_SIZE64
 33

	)

3047 
	#R_X86_64_GOTPC32_TLSDESC
 34

	)

3048 
	#R_X86_64_TLSDESC_CALL
 35

	)

3050 
	#R_X86_64_TLSDESC
 36

	)

3051 
	#R_X86_64_IRELATIVE
 37

	)

3052 
	#R_X86_64_RELATIVE64
 38

	)

3054 
	#R_X86_64_NUM
 39

	)

3058 
	#R_MN10300_NONE
 0

	)

3059 
	#R_MN10300_32
 1

	)

3060 
	#R_MN10300_16
 2

	)

3061 
	#R_MN10300_8
 3

	)

3062 
	#R_MN10300_PCREL32
 4

	)

3063 
	#R_MN10300_PCREL16
 5

	)

3064 
	#R_MN10300_PCREL8
 6

	)

3065 
	#R_MN10300_GNU_VTINHERIT
 7

	)

3066 
	#R_MN10300_GNU_VTENTRY
 8

	)

3067 
	#R_MN10300_24
 9

	)

3068 
	#R_MN10300_GOTPC32
 10

	)

3069 
	#R_MN10300_GOTPC16
 11

	)

3070 
	#R_MN10300_GOTOFF32
 12

	)

3071 
	#R_MN10300_GOTOFF24
 13

	)

3072 
	#R_MN10300_GOTOFF16
 14

	)

3073 
	#R_MN10300_PLT32
 15

	)

3074 
	#R_MN10300_PLT16
 16

	)

3075 
	#R_MN10300_GOT32
 17

	)

3076 
	#R_MN10300_GOT24
 18

	)

3077 
	#R_MN10300_GOT16
 19

	)

3078 
	#R_MN10300_COPY
 20

	)

3079 
	#R_MN10300_GLOB_DAT
 21

	)

3080 
	#R_MN10300_JMP_SLOT
 22

	)

3081 
	#R_MN10300_RELATIVE
 23

	)

3082 
	#R_MN10300_TLS_GD
 24

	)

3083 
	#R_MN10300_TLS_LD
 25

	)

3084 
	#R_MN10300_TLS_LDO
 26

	)

3085 
	#R_MN10300_TLS_GOTIE
 27

	)

3087 
	#R_MN10300_TLS_IE
 28

	)

3089 
	#R_MN10300_TLS_LE
 29

	)

3091 
	#R_MN10300_TLS_DTPMOD
 30

	)

3092 
	#R_MN10300_TLS_DTPOFF
 31

	)

3093 
	#R_MN10300_TLS_TPOFF
 32

	)

3094 
	#R_MN10300_SYM_DIFF
 33

	)

3096 
	#R_MN10300_ALIGN
 34

	)

3098 
	#R_MN10300_NUM
 35

	)

3102 
	#R_M32R_NONE
 0

	)

3103 
	#R_M32R_16
 1

	)

3104 
	#R_M32R_32
 2

	)

3105 
	#R_M32R_24
 3

	)

3106 
	#R_M32R_10_PCREL
 4

	)

3107 
	#R_M32R_18_PCREL
 5

	)

3108 
	#R_M32R_26_PCREL
 6

	)

3109 
	#R_M32R_HI16_ULO
 7

	)

3110 
	#R_M32R_HI16_SLO
 8

	)

3111 
	#R_M32R_LO16
 9

	)

3112 
	#R_M32R_SDA16
 10

	)

3113 
	#R_M32R_GNU_VTINHERIT
 11

	)

3114 
	#R_M32R_GNU_VTENTRY
 12

	)

3116 
	#R_M32R_16_RELA
 33

	)

3117 
	#R_M32R_32_RELA
 34

	)

3118 
	#R_M32R_24_RELA
 35

	)

3119 
	#R_M32R_10_PCREL_RELA
 36

	)

3120 
	#R_M32R_18_PCREL_RELA
 37

	)

3121 
	#R_M32R_26_PCREL_RELA
 38

	)

3122 
	#R_M32R_HI16_ULO_RELA
 39

	)

3123 
	#R_M32R_HI16_SLO_RELA
 40

	)

3124 
	#R_M32R_LO16_RELA
 41

	)

3125 
	#R_M32R_SDA16_RELA
 42

	)

3126 
	#R_M32R_RELA_GNU_VTINHERIT
 43

	)

3127 
	#R_M32R_RELA_GNU_VTENTRY
 44

	)

3128 
	#R_M32R_REL32
 45

	)

3130 
	#R_M32R_GOT24
 48

	)

3131 
	#R_M32R_26_PLTREL
 49

	)

3132 
	#R_M32R_COPY
 50

	)

3133 
	#R_M32R_GLOB_DAT
 51

	)

3134 
	#R_M32R_JMP_SLOT
 52

	)

3135 
	#R_M32R_RELATIVE
 53

	)

3136 
	#R_M32R_GOTOFF
 54

	)

3137 
	#R_M32R_GOTPC24
 55

	)

3138 
	#R_M32R_GOT16_HI_ULO
 56

	)

3140 
	#R_M32R_GOT16_HI_SLO
 57

	)

3142 
	#R_M32R_GOT16_LO
 58

	)

3143 
	#R_M32R_GOTPC_HI_ULO
 59

	)

3145 
	#R_M32R_GOTPC_HI_SLO
 60

	)

3147 
	#R_M32R_GOTPC_LO
 61

	)

3149 
	#R_M32R_GOTOFF_HI_ULO
 62

	)

3151 
	#R_M32R_GOTOFF_HI_SLO
 63

	)

3153 
	#R_M32R_GOTOFF_LO
 64

	)

3154 
	#R_M32R_NUM
 256

	)

3157 
	#R_MICROBLAZE_NONE
 0

	)

3158 
	#R_MICROBLAZE_32
 1

	)

3159 
	#R_MICROBLAZE_32_PCREL
 2

	)

3160 
	#R_MICROBLAZE_64_PCREL
 3

	)

3161 
	#R_MICROBLAZE_32_PCREL_LO
 4

	)

3162 
	#R_MICROBLAZE_64
 5

	)

3163 
	#R_MICROBLAZE_32_LO
 6

	)

3164 
	#R_MICROBLAZE_SRO32
 7

	)

3165 
	#R_MICROBLAZE_SRW32
 8

	)

3166 
	#R_MICROBLAZE_64_NONE
 9

	)

3167 
	#R_MICROBLAZE_32_SYM_OP_SYM
 10

	)

3168 
	#R_MICROBLAZE_GNU_VTINHERIT
 11

	)

3169 
	#R_MICROBLAZE_GNU_VTENTRY
 12

	)

3170 
	#R_MICROBLAZE_GOTPC_64
 13

	)

3171 
	#R_MICROBLAZE_GOT_64
 14

	)

3172 
	#R_MICROBLAZE_PLT_64
 15

	)

3173 
	#R_MICROBLAZE_REL
 16

	)

3174 
	#R_MICROBLAZE_JUMP_SLOT
 17

	)

3175 
	#R_MICROBLAZE_GLOB_DAT
 18

	)

3176 
	#R_MICROBLAZE_GOTOFF_64
 19

	)

3177 
	#R_MICROBLAZE_GOTOFF_32
 20

	)

3178 
	#R_MICROBLAZE_COPY
 21

	)

3179 
	#R_MICROBLAZE_TLS
 22

	)

3180 
	#R_MICROBLAZE_TLSGD
 23

	)

3181 
	#R_MICROBLAZE_TLSLD
 24

	)

3182 
	#R_MICROBLAZE_TLSDTPMOD32
 25

	)

3183 
	#R_MICROBLAZE_TLSDTPREL32
 26

	)

3184 
	#R_MICROBLAZE_TLSDTPREL64
 27

	)

3185 
	#R_MICROBLAZE_TLSGOTTPREL32
 28

	)

3186 
	#R_MICROBLAZE_TLSTPREL32
 29

	)

3189 
	#DT_NIOS2_GP
 0x70000002

	)

3192 
	#R_NIOS2_NONE
 0

	)

3193 
	#R_NIOS2_S16
 1

	)

3194 
	#R_NIOS2_U16
 2

	)

3195 
	#R_NIOS2_PCREL16
 3

	)

3196 
	#R_NIOS2_CALL26
 4

	)

3197 
	#R_NIOS2_IMM5
 5

	)

3198 
	#R_NIOS2_CACHE_OPX
 6

	)

3199 
	#R_NIOS2_IMM6
 7

	)

3200 
	#R_NIOS2_IMM8
 8

	)

3201 
	#R_NIOS2_HI16
 9

	)

3202 
	#R_NIOS2_LO16
 10

	)

3203 
	#R_NIOS2_HIADJ16
 11

	)

3204 
	#R_NIOS2_BFD_RELOC_32
 12

	)

3205 
	#R_NIOS2_BFD_RELOC_16
 13

	)

3206 
	#R_NIOS2_BFD_RELOC_8
 14

	)

3207 
	#R_NIOS2_GPREL
 15

	)

3208 
	#R_NIOS2_GNU_VTINHERIT
 16

	)

3209 
	#R_NIOS2_GNU_VTENTRY
 17

	)

3210 
	#R_NIOS2_UJMP
 18

	)

3211 
	#R_NIOS2_CJMP
 19

	)

3212 
	#R_NIOS2_CALLR
 20

	)

3213 
	#R_NIOS2_ALIGN
 21

	)

3215 
	#R_NIOS2_GOT16
 22

	)

3216 
	#R_NIOS2_CALL16
 23

	)

3217 
	#R_NIOS2_GOTOFF_LO
 24

	)

3218 
	#R_NIOS2_GOTOFF_HA
 25

	)

3219 
	#R_NIOS2_PCREL_LO
 26

	)

3220 
	#R_NIOS2_PCREL_HA
 27

	)

3221 
	#R_NIOS2_TLS_GD16
 28

	)

3222 
	#R_NIOS2_TLS_LDM16
 29

	)

3223 
	#R_NIOS2_TLS_LDO16
 30

	)

3224 
	#R_NIOS2_TLS_IE16
 31

	)

3225 
	#R_NIOS2_TLS_LE16
 32

	)

3226 
	#R_NIOS2_TLS_DTPMOD
 33

	)

3227 
	#R_NIOS2_TLS_DTPREL
 34

	)

3228 
	#R_NIOS2_TLS_TPREL
 35

	)

3229 
	#R_NIOS2_COPY
 36

	)

3230 
	#R_NIOS2_GLOB_DAT
 37

	)

3231 
	#R_NIOS2_JUMP_SLOT
 38

	)

3232 
	#R_NIOS2_RELATIVE
 39

	)

3233 
	#R_NIOS2_GOTOFF
 40

	)

3234 
	#R_NIOS2_CALL26_NOAT
 41

	)

3235 
	#R_NIOS2_GOT_LO
 42

	)

3236 
	#R_NIOS2_GOT_HA
 43

	)

3237 
	#R_NIOS2_CALL_LO
 44

	)

3238 
	#R_NIOS2_CALL_HA
 45

	)

3241 
	#R_TILEPRO_NONE
 0

	)

3242 
	#R_TILEPRO_32
 1

	)

3243 
	#R_TILEPRO_16
 2

	)

3244 
	#R_TILEPRO_8
 3

	)

3245 
	#R_TILEPRO_32_PCREL
 4

	)

3246 
	#R_TILEPRO_16_PCREL
 5

	)

3247 
	#R_TILEPRO_8_PCREL
 6

	)

3248 
	#R_TILEPRO_LO16
 7

	)

3249 
	#R_TILEPRO_HI16
 8

	)

3250 
	#R_TILEPRO_HA16
 9

	)

3251 
	#R_TILEPRO_COPY
 10

	)

3252 
	#R_TILEPRO_GLOB_DAT
 11

	)

3253 
	#R_TILEPRO_JMP_SLOT
 12

	)

3254 
	#R_TILEPRO_RELATIVE
 13

	)

3255 
	#R_TILEPRO_BROFF_X1
 14

	)

3256 
	#R_TILEPRO_JOFFLONG_X1
 15

	)

3257 
	#R_TILEPRO_JOFFLONG_X1_PLT
 16

	)

3258 
	#R_TILEPRO_IMM8_X0
 17

	)

3259 
	#R_TILEPRO_IMM8_Y0
 18

	)

3260 
	#R_TILEPRO_IMM8_X1
 19

	)

3261 
	#R_TILEPRO_IMM8_Y1
 20

	)

3262 
	#R_TILEPRO_MT_IMM15_X1
 21

	)

3263 
	#R_TILEPRO_MF_IMM15_X1
 22

	)

3264 
	#R_TILEPRO_IMM16_X0
 23

	)

3265 
	#R_TILEPRO_IMM16_X1
 24

	)

3266 
	#R_TILEPRO_IMM16_X0_LO
 25

	)

3267 
	#R_TILEPRO_IMM16_X1_LO
 26

	)

3268 
	#R_TILEPRO_IMM16_X0_HI
 27

	)

3269 
	#R_TILEPRO_IMM16_X1_HI
 28

	)

3270 
	#R_TILEPRO_IMM16_X0_HA
 29

	)

3271 
	#R_TILEPRO_IMM16_X1_HA
 30

	)

3272 
	#R_TILEPRO_IMM16_X0_PCREL
 31

	)

3273 
	#R_TILEPRO_IMM16_X1_PCREL
 32

	)

3274 
	#R_TILEPRO_IMM16_X0_LO_PCREL
 33

	)

3275 
	#R_TILEPRO_IMM16_X1_LO_PCREL
 34

	)

3276 
	#R_TILEPRO_IMM16_X0_HI_PCREL
 35

	)

3277 
	#R_TILEPRO_IMM16_X1_HI_PCREL
 36

	)

3278 
	#R_TILEPRO_IMM16_X0_HA_PCREL
 37

	)

3279 
	#R_TILEPRO_IMM16_X1_HA_PCREL
 38

	)

3280 
	#R_TILEPRO_IMM16_X0_GOT
 39

	)

3281 
	#R_TILEPRO_IMM16_X1_GOT
 40

	)

3282 
	#R_TILEPRO_IMM16_X0_GOT_LO
 41

	)

3283 
	#R_TILEPRO_IMM16_X1_GOT_LO
 42

	)

3284 
	#R_TILEPRO_IMM16_X0_GOT_HI
 43

	)

3285 
	#R_TILEPRO_IMM16_X1_GOT_HI
 44

	)

3286 
	#R_TILEPRO_IMM16_X0_GOT_HA
 45

	)

3287 
	#R_TILEPRO_IMM16_X1_GOT_HA
 46

	)

3288 
	#R_TILEPRO_MMSTART_X0
 47

	)

3289 
	#R_TILEPRO_MMEND_X0
 48

	)

3290 
	#R_TILEPRO_MMSTART_X1
 49

	)

3291 
	#R_TILEPRO_MMEND_X1
 50

	)

3292 
	#R_TILEPRO_SHAMT_X0
 51

	)

3293 
	#R_TILEPRO_SHAMT_X1
 52

	)

3294 
	#R_TILEPRO_SHAMT_Y0
 53

	)

3295 
	#R_TILEPRO_SHAMT_Y1
 54

	)

3296 
	#R_TILEPRO_DEST_IMM8_X1
 55

	)

3298 
	#R_TILEPRO_TLS_GD_CALL
 60

	)

3299 
	#R_TILEPRO_IMM8_X0_TLS_GD_ADD
 61

	)

3300 
	#R_TILEPRO_IMM8_X1_TLS_GD_ADD
 62

	)

3301 
	#R_TILEPRO_IMM8_Y0_TLS_GD_ADD
 63

	)

3302 
	#R_TILEPRO_IMM8_Y1_TLS_GD_ADD
 64

	)

3303 
	#R_TILEPRO_TLS_IE_LOAD
 65

	)

3304 
	#R_TILEPRO_IMM16_X0_TLS_GD
 66

	)

3305 
	#R_TILEPRO_IMM16_X1_TLS_GD
 67

	)

3306 
	#R_TILEPRO_IMM16_X0_TLS_GD_LO
 68

	)

3307 
	#R_TILEPRO_IMM16_X1_TLS_GD_LO
 69

	)

3308 
	#R_TILEPRO_IMM16_X0_TLS_GD_HI
 70

	)

3309 
	#R_TILEPRO_IMM16_X1_TLS_GD_HI
 71

	)

3310 
	#R_TILEPRO_IMM16_X0_TLS_GD_HA
 72

	)

3311 
	#R_TILEPRO_IMM16_X1_TLS_GD_HA
 73

	)

3312 
	#R_TILEPRO_IMM16_X0_TLS_IE
 74

	)

3313 
	#R_TILEPRO_IMM16_X1_TLS_IE
 75

	)

3314 
	#R_TILEPRO_IMM16_X0_TLS_IE_LO
 76

	)

3315 
	#R_TILEPRO_IMM16_X1_TLS_IE_LO
 77

	)

3316 
	#R_TILEPRO_IMM16_X0_TLS_IE_HI
 78

	)

3317 
	#R_TILEPRO_IMM16_X1_TLS_IE_HI
 79

	)

3318 
	#R_TILEPRO_IMM16_X0_TLS_IE_HA
 80

	)

3319 
	#R_TILEPRO_IMM16_X1_TLS_IE_HA
 81

	)

3320 
	#R_TILEPRO_TLS_DTPMOD32
 82

	)

3321 
	#R_TILEPRO_TLS_DTPOFF32
 83

	)

3322 
	#R_TILEPRO_TLS_TPOFF32
 84

	)

3323 
	#R_TILEPRO_IMM16_X0_TLS_LE
 85

	)

3324 
	#R_TILEPRO_IMM16_X1_TLS_LE
 86

	)

3325 
	#R_TILEPRO_IMM16_X0_TLS_LE_LO
 87

	)

3326 
	#R_TILEPRO_IMM16_X1_TLS_LE_LO
 88

	)

3327 
	#R_TILEPRO_IMM16_X0_TLS_LE_HI
 89

	)

3328 
	#R_TILEPRO_IMM16_X1_TLS_LE_HI
 90

	)

3329 
	#R_TILEPRO_IMM16_X0_TLS_LE_HA
 91

	)

3330 
	#R_TILEPRO_IMM16_X1_TLS_LE_HA
 92

	)

3332 
	#R_TILEPRO_GNU_VTINHERIT
 128

	)

3333 
	#R_TILEPRO_GNU_VTENTRY
 129

	)

3335 
	#R_TILEPRO_NUM
 130

	)

3339 
	#R_TILEGX_NONE
 0

	)

3340 
	#R_TILEGX_64
 1

	)

3341 
	#R_TILEGX_32
 2

	)

3342 
	#R_TILEGX_16
 3

	)

3343 
	#R_TILEGX_8
 4

	)

3344 
	#R_TILEGX_64_PCREL
 5

	)

3345 
	#R_TILEGX_32_PCREL
 6

	)

3346 
	#R_TILEGX_16_PCREL
 7

	)

3347 
	#R_TILEGX_8_PCREL
 8

	)

3348 
	#R_TILEGX_HW0
 9

	)

3349 
	#R_TILEGX_HW1
 10

	)

3350 
	#R_TILEGX_HW2
 11

	)

3351 
	#R_TILEGX_HW3
 12

	)

3352 
	#R_TILEGX_HW0_LAST
 13

	)

3353 
	#R_TILEGX_HW1_LAST
 14

	)

3354 
	#R_TILEGX_HW2_LAST
 15

	)

3355 
	#R_TILEGX_COPY
 16

	)

3356 
	#R_TILEGX_GLOB_DAT
 17

	)

3357 
	#R_TILEGX_JMP_SLOT
 18

	)

3358 
	#R_TILEGX_RELATIVE
 19

	)

3359 
	#R_TILEGX_BROFF_X1
 20

	)

3360 
	#R_TILEGX_JUMPOFF_X1
 21

	)

3361 
	#R_TILEGX_JUMPOFF_X1_PLT
 22

	)

3362 
	#R_TILEGX_IMM8_X0
 23

	)

3363 
	#R_TILEGX_IMM8_Y0
 24

	)

3364 
	#R_TILEGX_IMM8_X1
 25

	)

3365 
	#R_TILEGX_IMM8_Y1
 26

	)

3366 
	#R_TILEGX_DEST_IMM8_X1
 27

	)

3367 
	#R_TILEGX_MT_IMM14_X1
 28

	)

3368 
	#R_TILEGX_MF_IMM14_X1
 29

	)

3369 
	#R_TILEGX_MMSTART_X0
 30

	)

3370 
	#R_TILEGX_MMEND_X0
 31

	)

3371 
	#R_TILEGX_SHAMT_X0
 32

	)

3372 
	#R_TILEGX_SHAMT_X1
 33

	)

3373 
	#R_TILEGX_SHAMT_Y0
 34

	)

3374 
	#R_TILEGX_SHAMT_Y1
 35

	)

3375 
	#R_TILEGX_IMM16_X0_HW0
 36

	)

3376 
	#R_TILEGX_IMM16_X1_HW0
 37

	)

3377 
	#R_TILEGX_IMM16_X0_HW1
 38

	)

3378 
	#R_TILEGX_IMM16_X1_HW1
 39

	)

3379 
	#R_TILEGX_IMM16_X0_HW2
 40

	)

3380 
	#R_TILEGX_IMM16_X1_HW2
 41

	)

3381 
	#R_TILEGX_IMM16_X0_HW3
 42

	)

3382 
	#R_TILEGX_IMM16_X1_HW3
 43

	)

3383 
	#R_TILEGX_IMM16_X0_HW0_LAST
 44

	)

3384 
	#R_TILEGX_IMM16_X1_HW0_LAST
 45

	)

3385 
	#R_TILEGX_IMM16_X0_HW1_LAST
 46

	)

3386 
	#R_TILEGX_IMM16_X1_HW1_LAST
 47

	)

3387 
	#R_TILEGX_IMM16_X0_HW2_LAST
 48

	)

3388 
	#R_TILEGX_IMM16_X1_HW2_LAST
 49

	)

3389 
	#R_TILEGX_IMM16_X0_HW0_PCREL
 50

	)

3390 
	#R_TILEGX_IMM16_X1_HW0_PCREL
 51

	)

3391 
	#R_TILEGX_IMM16_X0_HW1_PCREL
 52

	)

3392 
	#R_TILEGX_IMM16_X1_HW1_PCREL
 53

	)

3393 
	#R_TILEGX_IMM16_X0_HW2_PCREL
 54

	)

3394 
	#R_TILEGX_IMM16_X1_HW2_PCREL
 55

	)

3395 
	#R_TILEGX_IMM16_X0_HW3_PCREL
 56

	)

3396 
	#R_TILEGX_IMM16_X1_HW3_PCREL
 57

	)

3397 
	#R_TILEGX_IMM16_X0_HW0_LAST_PCREL
 58

	)

3398 
	#R_TILEGX_IMM16_X1_HW0_LAST_PCREL
 59

	)

3399 
	#R_TILEGX_IMM16_X0_HW1_LAST_PCREL
 60

	)

3400 
	#R_TILEGX_IMM16_X1_HW1_LAST_PCREL
 61

	)

3401 
	#R_TILEGX_IMM16_X0_HW2_LAST_PCREL
 62

	)

3402 
	#R_TILEGX_IMM16_X1_HW2_LAST_PCREL
 63

	)

3403 
	#R_TILEGX_IMM16_X0_HW0_GOT
 64

	)

3404 
	#R_TILEGX_IMM16_X1_HW0_GOT
 65

	)

3405 
	#R_TILEGX_IMM16_X0_HW0_PLT_PCREL
 66

	)

3406 
	#R_TILEGX_IMM16_X1_HW0_PLT_PCREL
 67

	)

3407 
	#R_TILEGX_IMM16_X0_HW1_PLT_PCREL
 68

	)

3408 
	#R_TILEGX_IMM16_X1_HW1_PLT_PCREL
 69

	)

3409 
	#R_TILEGX_IMM16_X0_HW2_PLT_PCREL
 70

	)

3410 
	#R_TILEGX_IMM16_X1_HW2_PLT_PCREL
 71

	)

3411 
	#R_TILEGX_IMM16_X0_HW0_LAST_GOT
 72

	)

3412 
	#R_TILEGX_IMM16_X1_HW0_LAST_GOT
 73

	)

3413 
	#R_TILEGX_IMM16_X0_HW1_LAST_GOT
 74

	)

3414 
	#R_TILEGX_IMM16_X1_HW1_LAST_GOT
 75

	)

3415 
	#R_TILEGX_IMM16_X0_HW3_PLT_PCREL
 76

	)

3416 
	#R_TILEGX_IMM16_X1_HW3_PLT_PCREL
 77

	)

3417 
	#R_TILEGX_IMM16_X0_HW0_TLS_GD
 78

	)

3418 
	#R_TILEGX_IMM16_X1_HW0_TLS_GD
 79

	)

3419 
	#R_TILEGX_IMM16_X0_HW0_TLS_LE
 80

	)

3420 
	#R_TILEGX_IMM16_X1_HW0_TLS_LE
 81

	)

3421 
	#R_TILEGX_IMM16_X0_HW0_LAST_TLS_LE
 82

	)

3422 
	#R_TILEGX_IMM16_X1_HW0_LAST_TLS_LE
 83

	)

3423 
	#R_TILEGX_IMM16_X0_HW1_LAST_TLS_LE
 84

	)

3424 
	#R_TILEGX_IMM16_X1_HW1_LAST_TLS_LE
 85

	)

3425 
	#R_TILEGX_IMM16_X0_HW0_LAST_TLS_GD
 86

	)

3426 
	#R_TILEGX_IMM16_X1_HW0_LAST_TLS_GD
 87

	)

3427 
	#R_TILEGX_IMM16_X0_HW1_LAST_TLS_GD
 88

	)

3428 
	#R_TILEGX_IMM16_X1_HW1_LAST_TLS_GD
 89

	)

3430 
	#R_TILEGX_IMM16_X0_HW0_TLS_IE
 92

	)

3431 
	#R_TILEGX_IMM16_X1_HW0_TLS_IE
 93

	)

3432 
	#R_TILEGX_IMM16_X0_HW0_LAST_PLT_PCREL
 94

	)

3433 
	#R_TILEGX_IMM16_X1_HW0_LAST_PLT_PCREL
 95

	)

3434 
	#R_TILEGX_IMM16_X0_HW1_LAST_PLT_PCREL
 96

	)

3435 
	#R_TILEGX_IMM16_X1_HW1_LAST_PLT_PCREL
 97

	)

3436 
	#R_TILEGX_IMM16_X0_HW2_LAST_PLT_PCREL
 98

	)

3437 
	#R_TILEGX_IMM16_X1_HW2_LAST_PLT_PCREL
 99

	)

3438 
	#R_TILEGX_IMM16_X0_HW0_LAST_TLS_IE
 100

	)

3439 
	#R_TILEGX_IMM16_X1_HW0_LAST_TLS_IE
 101

	)

3440 
	#R_TILEGX_IMM16_X0_HW1_LAST_TLS_IE
 102

	)

3441 
	#R_TILEGX_IMM16_X1_HW1_LAST_TLS_IE
 103

	)

3443 
	#R_TILEGX_TLS_DTPMOD64
 106

	)

3444 
	#R_TILEGX_TLS_DTPOFF64
 107

	)

3445 
	#R_TILEGX_TLS_TPOFF64
 108

	)

3446 
	#R_TILEGX_TLS_DTPMOD32
 109

	)

3447 
	#R_TILEGX_TLS_DTPOFF32
 110

	)

3448 
	#R_TILEGX_TLS_TPOFF32
 111

	)

3449 
	#R_TILEGX_TLS_GD_CALL
 112

	)

3450 
	#R_TILEGX_IMM8_X0_TLS_GD_ADD
 113

	)

3451 
	#R_TILEGX_IMM8_X1_TLS_GD_ADD
 114

	)

3452 
	#R_TILEGX_IMM8_Y0_TLS_GD_ADD
 115

	)

3453 
	#R_TILEGX_IMM8_Y1_TLS_GD_ADD
 116

	)

3454 
	#R_TILEGX_TLS_IE_LOAD
 117

	)

3455 
	#R_TILEGX_IMM8_X0_TLS_ADD
 118

	)

3456 
	#R_TILEGX_IMM8_X1_TLS_ADD
 119

	)

3457 
	#R_TILEGX_IMM8_Y0_TLS_ADD
 120

	)

3458 
	#R_TILEGX_IMM8_Y1_TLS_ADD
 121

	)

3460 
	#R_TILEGX_GNU_VTINHERIT
 128

	)

3461 
	#R_TILEGX_GNU_VTENTRY
 129

	)

3463 
	#R_TILEGX_NUM
 130

	)

3466 
	g__END_DECLS


	@/usr/include/endian.h

18 #iâdef 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<ã©u»s.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<b™s/’dŸn.h
>

40 #iâdeà
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_MISC


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èLO, 
	)
HI

53 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èHI, 
	)
LO

58 #ià
defšed
 
__USE_MISC
 && !defšed 
__ASSEMBLER__


60 
	~<b™s/by‹sw­.h
>

62 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


63 
	#htobe16
(
x
è
	`__bsw­_16
 (x)

	)

64 
	#htŞe16
(
x
è(x)

	)

65 
	#be16toh
(
x
è
	`__bsw­_16
 (x)

	)

66 
	#Ë16toh
(
x
è(x)

	)

68 
	#htobe32
(
x
è
	`__bsw­_32
 (x)

	)

69 
	#htŞe32
(
x
è(x)

	)

70 
	#be32toh
(
x
è
	`__bsw­_32
 (x)

	)

71 
	#Ë32toh
(
x
è(x)

	)

73 
	#htobe64
(
x
è
	`__bsw­_64
 (x)

	)

74 
	#htŞe64
(
x
è(x)

	)

75 
	#be64toh
(
x
è
	`__bsw­_64
 (x)

	)

76 
	#Ë64toh
(
x
è(x)

	)

79 
	#htobe16
(
x
è(x)

	)

80 
	#htŞe16
(
x
è
	`__bsw­_16
 (x)

	)

81 
	#be16toh
(
x
è(x)

	)

82 
	#Ë16toh
(
x
è
	`__bsw­_16
 (x)

	)

84 
	#htobe32
(
x
è(x)

	)

85 
	#htŞe32
(
x
è
	`__bsw­_32
 (x)

	)

86 
	#be32toh
(
x
è(x)

	)

87 
	#Ë32toh
(
x
è
	`__bsw­_32
 (x)

	)

89 
	#htobe64
(
x
è(x)

	)

90 
	#htŞe64
(
x
è
	`__bsw­_64
 (x)

	)

91 
	#be64toh
(
x
è(x)

	)

92 
	#Ë64toh
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

97 #undeà
__USE_ISOC11


98 #undeà
__USE_ISOC99


99 #undeà
__USE_ISOC95


100 #undeà
__USE_ISOCXX11


101 #undeà
__USE_POSIX


102 #undeà
__USE_POSIX2


103 #undeà
__USE_POSIX199309


104 #undeà
__USE_POSIX199506


105 #undeà
__USE_XOPEN


106 #undeà
__USE_XOPEN_EXTENDED


107 #undeà
__USE_UNIX98


108 #undeà
__USE_XOPEN2K


109 #undeà
__USE_XOPEN2KXSI


110 #undeà
__USE_XOPEN2K8


111 #undeà
__USE_XOPEN2K8XSI


112 #undeà
__USE_LARGEFILE


113 #undeà
__USE_LARGEFILE64


114 #undeà
__USE_FILE_OFFSET64


115 #undeà
__USE_MISC


116 #undeà
__USE_ATFILE


117 #undeà
__USE_GNU


118 #undeà
__USE_REENTRANT


119 #undeà
__USE_FORTIFY_LEVEL


120 #undeà
__KERNEL_STRICT_NAMES


124 #iâdeà
_LOOSE_KERNEL_NAMES


125 
	#__KERNEL_STRICT_NAMES


	)

135 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


136 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

137 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

139 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

146 #ià(
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE
) \

147 && !
defšed
 
	g_DEFAULT_SOURCE


152 #undeà
_DEFAULT_SOURCE


153 
	#_DEFAULT_SOURCE
 1

	)

157 #ifdeà
_GNU_SOURCE


158 #undeà
_ISOC95_SOURCE


159 
	#_ISOC95_SOURCE
 1

	)

160 #undeà
_ISOC99_SOURCE


161 
	#_ISOC99_SOURCE
 1

	)

162 #undeà
_ISOC11_SOURCE


163 
	#_ISOC11_SOURCE
 1

	)

164 #undeà
_POSIX_SOURCE


165 
	#_POSIX_SOURCE
 1

	)

166 #undeà
_POSIX_C_SOURCE


167 
	#_POSIX_C_SOURCE
 200809L

	)

168 #undeà
_XOPEN_SOURCE


169 
	#_XOPEN_SOURCE
 700

	)

170 #undeà
_XOPEN_SOURCE_EXTENDED


171 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

172 #undeà
_LARGEFILE64_SOURCE


173 
	#_LARGEFILE64_SOURCE
 1

	)

174 #undeà
_DEFAULT_SOURCE


175 
	#_DEFAULT_SOURCE
 1

	)

176 #undeà
_ATFILE_SOURCE


177 
	#_ATFILE_SOURCE
 1

	)

182 #ià(
defšed
 
_DEFAULT_SOURCE
 \

183 || (!
defšed
 
	g__STRICT_ANSI__
 \

184 && !
defšed
 
	g_ISOC99_SOURCE
 \

185 && !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 \

186 && !
defšed
 
	g_XOPEN_SOURCE
))

187 #undeà
_DEFAULT_SOURCE


188 
	#_DEFAULT_SOURCE
 1

	)

192 #ià(
defšed
 
_ISOC11_SOURCE
 \

193 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

194 
	#__USE_ISOC11
 1

	)

198 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

199 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

200 
	#__USE_ISOC99
 1

	)

204 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

205 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

206 
	#__USE_ISOC95
 1

	)

213 #ià((
defšed
 
__ılu¥lus
 && __cplusplus >= 201103L) \

214 || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__
)

215 
	#__USE_ISOCXX11
 1

	)

221 #ifdeà
_DEFAULT_SOURCE


222 #ià!
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE


223 
	#__USE_POSIX_IMPLICITLY
 1

	)

225 #undeà
_POSIX_SOURCE


226 
	#_POSIX_SOURCE
 1

	)

227 #undeà
_POSIX_C_SOURCE


228 
	#_POSIX_C_SOURCE
 200809L

	)

230 #ià((!
defšed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

231 !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

232 
	#_POSIX_SOURCE
 1

	)

233 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

234 
	#_POSIX_C_SOURCE
 2

	)

235 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

236 
	#_POSIX_C_SOURCE
 199506L

	)

237 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

238 
	#_POSIX_C_SOURCE
 200112L

	)

240 
	#_POSIX_C_SOURCE
 200809L

	)

242 
	#__USE_POSIX_IMPLICITLY
 1

	)

245 #ià
defšed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >ğ1 || defšed 
_XOPEN_SOURCE


246 
	#__USE_POSIX
 1

	)

249 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


250 
	#__USE_POSIX2
 1

	)

253 #ià(
_POSIX_C_SOURCE
 - 0) >= 199309L

254 
	#__USE_POSIX199309
 1

	)

257 #ià(
_POSIX_C_SOURCE
 - 0) >= 199506L

258 
	#__USE_POSIX199506
 1

	)

261 #ià(
_POSIX_C_SOURCE
 - 0) >= 200112L

262 
	#__USE_XOPEN2K
 1

	)

263 #undeà
__USE_ISOC95


264 
	#__USE_ISOC95
 1

	)

265 #undeà
__USE_ISOC99


266 
	#__USE_ISOC99
 1

	)

269 #ià(
_POSIX_C_SOURCE
 - 0) >= 200809L

270 
	#__USE_XOPEN2K8
 1

	)

271 #undeà
_ATFILE_SOURCE


272 
	#_ATFILE_SOURCE
 1

	)

275 #ifdef 
_XOPEN_SOURCE


276 
	#__USE_XOPEN
 1

	)

277 #ià(
_XOPEN_SOURCE
 - 0) >= 500

278 
	#__USE_XOPEN_EXTENDED
 1

	)

279 
	#__USE_UNIX98
 1

	)

280 #undeà
_LARGEFILE_SOURCE


281 
	#_LARGEFILE_SOURCE
 1

	)

282 #ià(
_XOPEN_SOURCE
 - 0) >= 600

283 #ià(
_XOPEN_SOURCE
 - 0) >= 700

284 
	#__USE_XOPEN2K8
 1

	)

285 
	#__USE_XOPEN2K8XSI
 1

	)

287 
	#__USE_XOPEN2K
 1

	)

288 
	#__USE_XOPEN2KXSI
 1

	)

289 #undeà
__USE_ISOC95


290 
	#__USE_ISOC95
 1

	)

291 #undeà
__USE_ISOC99


292 
	#__USE_ISOC99
 1

	)

295 #ifdeà
_XOPEN_SOURCE_EXTENDED


296 
	#__USE_XOPEN_EXTENDED
 1

	)

301 #ifdeà
_LARGEFILE_SOURCE


302 
	#__USE_LARGEFILE
 1

	)

305 #ifdeà
_LARGEFILE64_SOURCE


306 
	#__USE_LARGEFILE64
 1

	)

309 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

310 
	#__USE_FILE_OFFSET64
 1

	)

313 #ià
defšed
 
_DEFAULT_SOURCE


314 
	#__USE_MISC
 1

	)

317 #ifdef 
_ATFILE_SOURCE


318 
	#__USE_ATFILE
 1

	)

321 #ifdef 
_GNU_SOURCE


322 
	#__USE_GNU
 1

	)

325 #ià
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE


326 
	#__USE_REENTRANT
 1

	)

329 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

330 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

331 #ià
_FORTIFY_SOURCE
 > 1

332 
	#__USE_FORTIFY_LEVEL
 2

	)

334 
	#__USE_FORTIFY_LEVEL
 1

	)

337 
	#__USE_FORTIFY_LEVEL
 0

	)

342 
	~<¡dc-´edef.h
>

350 #undeà
__GNU_LIBRARY__


351 
	#__GNU_LIBRARY__
 6

	)

355 
	#__GLIBC__
 2

	)

356 
	#__GLIBC_MINOR__
 21

	)

358 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

359 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

362 #iâdeà
__ASSEMBLER__


363 #iâdeà
_SYS_CDEFS_H


364 
	~<sys/cdefs.h
>

369 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


370 
	#__USE_LARGEFILE
 1

	)

371 
	#__USE_LARGEFILE64
 1

	)

377 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

378 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

379 && 
defšed
 
	g__ex‹º_šlše


380 
	#__USE_EXTERN_INLINES
 1

	)

388 
	~<gnu/¡ubs.h
>

	@/usr/include/getopt.h

19 #iâdeà
_GETOPT_H


21 #iâdeà
__Ãed_g‘İt


22 
	#_GETOPT_H
 1

	)

32 #ià!
defšed
 
__GNU_LIBRARY__


33 
	~<ùy³.h
>

36 #iâdeà
__THROW


37 #iâdeà
__GNUC_PREREQ


38 
	#__GNUC_PREREQ
(
maj
, 
mš
è(0)

	)

40 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

41 
	#__THROW
 
	`throw
 ()

	)

43 
	#__THROW


	)

47 #ifdef 
__ılu¥lus


57 *
İrg
;

71 
İtšd
;

76 
İ‹¼
;

80 
İtİt
;

82 #iâdeà
__Ãed_g‘İt


104 
	sİtiÚ


106 cÚ¡ *
	gÇme
;

109 
	ghas_¬g
;

110 *
	gæag
;

111 
	gv®
;

116 
	#no_¬gum’t
 0

	)

117 
	#»quœed_¬gum’t
 1

	)

118 
	#İtiÚ®_¬gum’t
 2

	)

146 #ifdeà
__GNU_LIBRARY__


150 
g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
, cÚ¡ *
__shÜtİts
)

151 
__THROW
;

153 #ià
defšed
 
__Ãed_g‘İt
 && defšed 
__USE_POSIX2
 \

154 && !
defšed
 
	g__USE_POSIX_IMPLICITLY
 && !defšed 
	g__USE_GNU


158 #ifdeà
__REDIRECT


159 
__REDIRECT_NTH
 (
g‘İt
, (
___¬gc
, *cÚ¡ *
___¬gv
,

160 cÚ¡ *
__shÜtİts
),

161 
__posix_g‘İt
);

163 
__posix_g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
,

164 cÚ¡ *
__shÜtİts
è
__THROW
;

165 
	#g‘İt
 
__posix_g‘İt


	)

169 
g‘İt
 ();

172 #iâdeà
__Ãed_g‘İt


173 
g‘İt_lÚg
 (
___¬gc
, *cÚ¡ *
___¬gv
,

174 cÚ¡ *
__shÜtİts
,

175 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

176 
__THROW
;

177 
g‘İt_lÚg_Úly
 (
___¬gc
, *cÚ¡ *
___¬gv
,

178 cÚ¡ *
__shÜtİts
,

179 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

180 
__THROW
;

184 #ifdef 
__ılu¥lus


189 #undeà
__Ãed_g‘İt


	@/usr/include/libio.h

28 #iâdeà
_IO_STDIO_H


29 
	#_IO_STDIO_H


	)

31 
	~<_G_cÚfig.h
>

33 
	#_IO_åos_t
 
_G_åos_t


	)

34 
	#_IO_åos64_t
 
_G_åos64_t


	)

35 
	#_IO_size_t
 
size_t


	)

36 
	#_IO_ssize_t
 
__ssize_t


	)

37 
	#_IO_off_t
 
__off_t


	)

38 
	#_IO_off64_t
 
__off64_t


	)

39 
	#_IO_pid_t
 
__pid_t


	)

40 
	#_IO_uid_t
 
__uid_t


	)

41 
	#_IO_icÚv_t
 
_G_icÚv_t


	)

42 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

43 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

44 
	#_IO_va_li¡
 
_G_va_li¡


	)

45 
	#_IO_wšt_t
 
wšt_t


	)

48 
	#__Ãed___va_li¡


	)

49 
	~<¡d¬g.h
>

50 #ifdeà
__GNUC_VA_LIST


51 #undeà
_IO_va_li¡


52 
	#_IO_va_li¡
 
__gnuc_va_li¡


	)

55 #iâdeà
__P


56 
	~<sys/cdefs.h
>

59 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

61 #iâdeà
EOF


62 
	#EOF
 (-1)

	)

64 #iâdeà
NULL


65 #ià
defšed
 
__GNUG__
 && \

66 (
	g__GNUC__
 > 2 || (__GNUC__ =ğ2 && 
__GNUC_MINOR__
 >= 8))

67 
	#NULL
 (
__nuÎ
)

	)

69 #ià!
defšed
(
__ılu¥lus
)

70 
	#NULL
 ((*)0)

	)

72 
	#NULL
 (0)

	)

77 
	#_IOS_INPUT
 1

	)

78 
	#_IOS_OUTPUT
 2

	)

79 
	#_IOS_ATEND
 4

	)

80 
	#_IOS_APPEND
 8

	)

81 
	#_IOS_TRUNC
 16

	)

82 
	#_IOS_NOCREATE
 32

	)

83 
	#_IOS_NOREPLACE
 64

	)

84 
	#_IOS_BIN
 128

	)

92 
	#_IO_MAGIC
 0xFBAD0000

	)

93 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

94 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

95 
	#_IO_USER_BUF
 1

	)

96 
	#_IO_UNBUFFERED
 2

	)

97 
	#_IO_NO_READS
 4

	)

98 
	#_IO_NO_WRITES
 8

	)

99 
	#_IO_EOF_SEEN
 0x10

	)

100 
	#_IO_ERR_SEEN
 0x20

	)

101 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

102 
	#_IO_LINKED
 0x80

	)

103 
	#_IO_IN_BACKUP
 0x100

	)

104 
	#_IO_LINE_BUF
 0x200

	)

105 
	#_IO_TIED_PUT_GET
 0x400

	)

106 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

107 
	#_IO_IS_APPENDING
 0x1000

	)

108 
	#_IO_IS_FILEBUF
 0x2000

	)

109 
	#_IO_BAD_SEEN
 0x4000

	)

110 
	#_IO_USER_LOCK
 0x8000

	)

112 
	#_IO_FLAGS2_MMAP
 1

	)

113 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

114 #ifdeà
_LIBC


115 
	#_IO_FLAGS2_FORTIFY
 4

	)

117 
	#_IO_FLAGS2_USER_WBUF
 8

	)

118 #ifdeà
_LIBC


119 
	#_IO_FLAGS2_SCANF_STD
 16

	)

120 
	#_IO_FLAGS2_NOCLOSE
 32

	)

121 
	#_IO_FLAGS2_CLOEXEC
 64

	)

125 
	#_IO_SKIPWS
 01

	)

126 
	#_IO_LEFT
 02

	)

127 
	#_IO_RIGHT
 04

	)

128 
	#_IO_INTERNAL
 010

	)

129 
	#_IO_DEC
 020

	)

130 
	#_IO_OCT
 040

	)

131 
	#_IO_HEX
 0100

	)

132 
	#_IO_SHOWBASE
 0200

	)

133 
	#_IO_SHOWPOINT
 0400

	)

134 
	#_IO_UPPERCASE
 01000

	)

135 
	#_IO_SHOWPOS
 02000

	)

136 
	#_IO_SCIENTIFIC
 04000

	)

137 
	#_IO_FIXED
 010000

	)

138 
	#_IO_UNITBUF
 020000

	)

139 
	#_IO_STDIO
 040000

	)

140 
	#_IO_DONT_CLOSE
 0100000

	)

141 
	#_IO_BOOLALPHA
 0200000

	)

144 
_IO_jump_t
; 
	g_IO_FILE
;

147 #ifdeà
_IO_MTSAFE_IO


148 #ià
defšed
 
__GLIBC__
 && __GLIBC__ >= 2

149 
	~<b™s/¡dio-lock.h
>

154 
	t_IO_lock_t
;

160 
	s_IO_m¬k”
 {

161 
_IO_m¬k”
 *
	m_Ãxt
;

162 
_IO_FILE
 *
	m_sbuf
;

166 
	m_pos
;

168 
£t_¡»ampos
(
¡»ampos
 
¥
è{ 
	m_¥os
 = sp; }

169 
£t_off£t
(
off£t
è{ 
	m_pos
 = off£t; 
	m_¥os
 = (
¡»ampos
)(-2); }

170 
	mpublic
:

171 
¡»amm¬k”
(
¡»ambuf
 *
sb
);

172 ~
¡»amm¬k”
();

173 
§všg
(è{  
	m_¥os
 == -2; }

174 
d–
(
¡»amm¬k”
&);

175 
d–
();

180 
	e__codecvt_»suÉ


182 
	m__codecvt_ok
,

183 
	m__codecvt_·¹Ÿl
,

184 
	m__codecvt_”rÜ
,

185 
	m__codecvt_nocÚv


188 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


191 
	s_IO_codecvt


193 (*
	m__codecvt_de¡r
è(
	m_IO_codecvt
 *);

194 
__codecvt_»suÉ
 (*
__codecvt_do_out
è(
	m_IO_codecvt
 *,

195 
	m__mb¡©e_t
 *,

196 cÚ¡ 
	mwch¬_t
 *,

197 cÚ¡ 
	mwch¬_t
 *,

198 cÚ¡ 
	mwch¬_t
 **, *,

200 
__codecvt_»suÉ
 (*
__codecvt_do_unshiá
è(
	m_IO_codecvt
 *,

201 
	m__mb¡©e_t
 *, *,

203 
__codecvt_»suÉ
 (*
__codecvt_do_š
è(
	m_IO_codecvt
 *,

204 
	m__mb¡©e_t
 *,

206 cÚ¡ **, 
	mwch¬_t
 *,

207 
	mwch¬_t
 *, wchar_t **);

208 (*
	m__codecvt_do_’codšg
è(
	m_IO_codecvt
 *);

209 (*
	m__codecvt_do_®ways_nocÚv
è(
	m_IO_codecvt
 *);

210 (*
	m__codecvt_do_Ëngth
è(
	m_IO_codecvt
 *, 
	m__mb¡©e_t
 *,

211 cÚ¡ *, cÚ¡ *, 
	m_IO_size_t
);

212 (*
	m__codecvt_do_max_Ëngth
è(
	m_IO_codecvt
 *);

214 
_IO_icÚv_t
 
	m__cd_š
;

215 
_IO_icÚv_t
 
	m__cd_out
;

219 
	s_IO_wide_d©a


221 
wch¬_t
 *
	m_IO_»ad_±r
;

222 
wch¬_t
 *
	m_IO_»ad_’d
;

223 
wch¬_t
 *
	m_IO_»ad_ba£
;

224 
wch¬_t
 *
	m_IO_wr™e_ba£
;

225 
wch¬_t
 *
	m_IO_wr™e_±r
;

226 
wch¬_t
 *
	m_IO_wr™e_’d
;

227 
wch¬_t
 *
	m_IO_buf_ba£
;

228 
wch¬_t
 *
	m_IO_buf_’d
;

230 
wch¬_t
 *
	m_IO_§ve_ba£
;

231 
wch¬_t
 *
	m_IO_backup_ba£
;

233 
wch¬_t
 *
	m_IO_§ve_’d
;

235 
__mb¡©e_t
 
	m_IO_¡©e
;

236 
__mb¡©e_t
 
	m_IO_Ï¡_¡©e
;

237 
_IO_codecvt
 
	m_codecvt
;

239 
wch¬_t
 
	m_shÜtbuf
[1];

241 cÚ¡ 
_IO_jump_t
 *
	m_wide_vbË
;

245 
	s_IO_FILE
 {

246 
	m_æags
;

247 
	#_IO_fe_æags
 
_æags


	)

251 * 
	m_IO_»ad_±r
;

252 * 
	m_IO_»ad_’d
;

253 * 
	m_IO_»ad_ba£
;

254 * 
	m_IO_wr™e_ba£
;

255 * 
	m_IO_wr™e_±r
;

256 * 
	m_IO_wr™e_’d
;

257 * 
	m_IO_buf_ba£
;

258 * 
	m_IO_buf_’d
;

260 *
	m_IO_§ve_ba£
;

261 *
	m_IO_backup_ba£
;

262 *
	m_IO_§ve_’d
;

264 
_IO_m¬k”
 *
	m_m¬k”s
;

266 
_IO_FILE
 *
	m_chaš
;

268 
	m_f’o
;

270 
	m_blksize
;

272 
	m_æags2
;

274 
_IO_off_t
 
	m_Şd_off£t
;

276 
	#__HAVE_COLUMN


	)

278 
	m_cur_cŞumn
;

279 sigÃd 
	m_vbË_off£t
;

280 
	m_shÜtbuf
[1];

284 
_IO_lock_t
 *
	m_lock
;

285 #ifdeà
_IO_USE_OLD_IO_FILE


288 
	s_IO_FILE_com¶‘e


290 
_IO_FILE
 
	m_fe
;

292 #ià
defšed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

293 
_IO_off64_t
 
	m_off£t
;

294 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


296 
_IO_codecvt
 *
	m_codecvt
;

297 
_IO_wide_d©a
 *
	m_wide_d©a
;

298 
_IO_FILE
 *
	m_ä“»s_li¡
;

299 *
	m_ä“»s_buf
;

300 
size_t
 
	m_ä“»s_size
;

302 *
	m__·d1
;

303 *
	m__·d2
;

304 *
	m__·d3
;

305 *
	m__·d4
;

306 
size_t
 
	m__·d5
;

308 
	m_mode
;

310 
	m_unu£d2
[15 *  (è- 4 *  (*è-  (
size_t
)];

314 #iâdeà
__ılu¥lus


315 
_IO_FILE
 
	t_IO_FILE
;

318 
	g_IO_FILE_¶us
;

320 
_IO_FILE_¶us
 
_IO_2_1_¡dš_
;

321 
_IO_FILE_¶us
 
_IO_2_1_¡dout_
;

322 
_IO_FILE_¶us
 
_IO_2_1_¡d”r_
;

323 #iâdeà
_LIBC


324 
	#_IO_¡dš
 ((
_IO_FILE
*)(&
_IO_2_1_¡dš_
))

	)

325 
	#_IO_¡dout
 ((
_IO_FILE
*)(&
_IO_2_1_¡dout_
))

	)

326 
	#_IO_¡d”r
 ((
_IO_FILE
*)(&
_IO_2_1_¡d”r_
))

	)

328 
_IO_FILE
 *
_IO_¡dš
 
©Œibu‹_hidd’
;

329 
_IO_FILE
 *
_IO_¡dout
 
©Œibu‹_hidd’
;

330 
_IO_FILE
 *
_IO_¡d”r
 
©Œibu‹_hidd’
;

338 
__ssize_t
 
	t__io_»ad_â
 (*
	t__cook›
, *
	t__buf
, 
	tsize_t
 
	t__nby‹s
);

346 
__ssize_t
 
	t__io_wr™e_â
 (*
	t__cook›
, cÚ¡ *
	t__buf
,

347 
	tsize_t
 
	t__n
);

355 
	t__io_£ek_â
 (*
	t__cook›
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

358 
	t__io_şo£_â
 (*
	t__cook›
);

361 #ifdeà
_GNU_SOURCE


363 
__io_»ad_â
 
	tcook›_»ad_funùiÚ_t
;

364 
__io_wr™e_â
 
	tcook›_wr™e_funùiÚ_t
;

365 
__io_£ek_â
 
	tcook›_£ek_funùiÚ_t
;

366 
__io_şo£_â
 
	tcook›_şo£_funùiÚ_t
;

371 
__io_»ad_â
 *
	m»ad
;

372 
__io_wr™e_â
 *
	mwr™e
;

373 
__io_£ek_â
 *
	m£ek
;

374 
__io_şo£_â
 *
	mşo£
;

375 } 
	t_IO_cook›_io_funùiÚs_t
;

376 
_IO_cook›_io_funùiÚs_t
 
	tcook›_io_funùiÚs_t
;

378 
	g_IO_cook›_fe
;

381 
_IO_cook›_š™
 (
_IO_cook›_fe
 *
__cfe
, 
__»ad_wr™e
,

382 *
__cook›
, 
_IO_cook›_io_funùiÚs_t
 
__âs
);

386 #ifdeà
__ılu¥lus


390 
__und”æow
 (
_IO_FILE
 *);

391 
__uæow
 (
_IO_FILE
 *);

392 
__ov”æow
 (
_IO_FILE
 *, );

393 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


394 
_IO_wšt_t
 
__wund”æow
 (
_IO_FILE
 *);

395 
_IO_wšt_t
 
__wuæow
 (
_IO_FILE
 *);

396 
_IO_wšt_t
 
__wov”æow
 (
_IO_FILE
 *, _IO_wint_t);

399 #ià 
__GNUC__
 >= 3

400 
	#_IO_BE
(
ex´
, 
»s
è
	`__butš_ex³ù
 (Óx´),„es)

	)

402 
	#_IO_BE
(
ex´
, 
»s
èÓx´)

	)

405 
	#_IO_g‘c_uÆocked
(
_å
) \

406 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

407 ? 
	`__uæow
 (
_å
è: *(*è(_å)->
_IO_»ad_±r
++)

	)

408 
	#_IO_³ekc_uÆocked
(
_å
) \

409 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

410 && 
	`__und”æow
 (
_å
è=ğ
EOF
 ? EOF \

411 : *(*è(
_å
)->
_IO_»ad_±r
)

	)

412 
	#_IO_putc_uÆocked
(
_ch
, 
_å
) \

413 (
	`_IO_BE
 ((
_å
)->
_IO_wr™e_±r
 >ğ(_å)->
_IO_wr™e_’d
, 0) \

414 ? 
	`__ov”æow
 (
_å
, (è(
_ch
)) \

415 : (è(*(
_å
)->
_IO_wr™e_±r
++ = (
_ch
)))

	)

417 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


418 
	#_IO_g‘wc_uÆocked
(
_å
) \

419 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

420 || ((
_å
)->
_wide_d©a
->
_IO_»ad_±r
 \

421 >ğ(
_å
)->
_wide_d©a
->
_IO_»ad_’d
), 0) \

422 ? 
	`__wuæow
 (
_å
è: (
_IO_wšt_t
è*(_å)->
_wide_d©a
->
_IO_»ad_±r
++)

	)

423 
	#_IO_putwc_uÆocked
(
_wch
, 
_å
) \

424 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

425 || ((
_å
)->
_wide_d©a
->
_IO_wr™e_±r
 \

426 >ğ(
_å
)->
_wide_d©a
->
_IO_wr™e_’d
), 0) \

427 ? 
	`__wov”æow
 (
_å
, 
_wch
) \

428 : (
_IO_wšt_t
è(*(
_å
)->
_wide_d©a
->
_IO_wr™e_±r
++ = (
_wch
)))

	)

431 
	#_IO_ãof_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_EOF_SEEN
è!ğ0)

	)

432 
	#_IO_ã¼Ü_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_ERR_SEEN
è!ğ0)

	)

434 
_IO_g‘c
 (
_IO_FILE
 *
__å
);

435 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__å
);

436 
_IO_ãof
 (
_IO_FILE
 *
__å
è
__THROW
;

437 
_IO_ã¼Ü
 (
_IO_FILE
 *
__å
è
__THROW
;

439 
_IO_³ekc_locked
 (
_IO_FILE
 *
__å
);

442 
	#_IO_PENDING_OUTPUT_COUNT
(
_å
) \

443 ((
_å
)->
_IO_wr™e_±r
 - (_å)->
_IO_wr™e_ba£
)

	)

445 
_IO_æockfe
 (
_IO_FILE
 *è
__THROW
;

446 
_IO_fuÆockfe
 (
_IO_FILE
 *è
__THROW
;

447 
_IO_árylockfe
 (
_IO_FILE
 *è
__THROW
;

449 #ifdeà
_IO_MTSAFE_IO


450 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_locked
 (_å)

	)

451 
	#_IO_æockfe
(
_å
) \

452 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_æockfe
 (_å)

	)

453 
	#_IO_fuÆockfe
(
_å
) \

454 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_fuÆockfe
 (_å)

	)

456 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_uÆocked
 (_å)

	)

457 
	#_IO_æockfe
(
_å
è

	)

458 
	#_IO_fuÆockfe
(
_å
è

	)

459 
	#_IO_árylockfe
(
_å
è

	)

460 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
è

	)

461 
	#_IO_ş—nup_»giÚ_’d
(
_Do™
è

	)

464 
_IO_vfsÿnf
 (
_IO_FILE
 * 
__»¡riù
, const * __restrict,

465 
_IO_va_li¡
, *
__»¡riù
);

466 
_IO_vårštf
 (
_IO_FILE
 *
__»¡riù
, const *__restrict,

467 
_IO_va_li¡
);

468 
_IO_ssize_t
 
_IO_·dn
 (
_IO_FILE
 *, , _IO_ssize_t);

469 
_IO_size_t
 
_IO_sg‘n
 (
_IO_FILE
 *, *, _IO_size_t);

471 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

472 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

474 
_IO_ä“_backup_¬—
 (
_IO_FILE
 *è
__THROW
;

476 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


477 
_IO_wšt_t
 
_IO_g‘wc
 (
_IO_FILE
 *
__å
);

478 
_IO_wšt_t
 
_IO_putwc
 (
wch¬_t
 
__wc
, 
_IO_FILE
 *
__å
);

479 
_IO_fwide
 (
_IO_FILE
 *
__å
, 
__mode
è
__THROW
;

480 #ià
__GNUC__
 >= 2

483 #ià
defšed
 
_LIBC
 && defšed 
SHARED


484 
	~<shlib-com·t.h
>

485 #ià
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

486 
	#_IO_fwide_maybe_šcom·tibË
 \

487 (
	`__butš_ex³ù
 (&
_IO_¡dš_u£d
 =ğ
NULL
, 0))

	)

488 cÚ¡ 
_IO_¡dš_u£d
;

489 
w—k_ex‹º
 (
_IO_¡dš_u£d
);

492 #iâdeà
_IO_fwide_maybe_šcom·tibË


493 
	#_IO_fwide_maybe_šcom·tibË
 (0)

	)

497 
	#_IO_fwide
(
__å
, 
__mode
) \

498 ({ 
__»suÉ
 = (
__mode
); \

499 ià(
__»suÉ
 < 0 && ! 
_IO_fwide_maybe_šcom·tibË
) \

501 ià((
__å
)->
_mode
 == 0) \

503 (
__å
)->
_mode
 = -1; \

504 
__»suÉ
 = (
__å
)->
_mode
; \

506 ià(
	`__butš_cÚ¡ªt_p
 (
__mode
) && (__mode) == 0) \

507 
__»suÉ
 = 
_IO_fwide_maybe_šcom·tibË
 ? -1 : (
__å
)->
_mode
; \

509 
__»suÉ
 = 
	`_IO_fwide
 (
__å
, __result); \

510 
__»suÉ
; })

	)

513 
_IO_vfwsÿnf
 (
_IO_FILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict,

514 
_IO_va_li¡
, *
__»¡riù
);

515 
_IO_vfw´štf
 (
_IO_FILE
 *
__»¡riù
, cÚ¡ 
wch¬_t
 *__restrict,

516 
_IO_va_li¡
);

517 
_IO_ssize_t
 
_IO_w·dn
 (
_IO_FILE
 *, 
wšt_t
, _IO_ssize_t);

518 
_IO_ä“_wbackup_¬—
 (
_IO_FILE
 *è
__THROW
;

521 #ifdeà
__LDBL_COMPAT


522 
	~<b™s/libio-ldbl.h
>

525 #ifdeà
__ılu¥lus


	@/usr/include/locale.h

22 #iâdef 
_LOCALE_H


23 
	#_LOCALE_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	#__Ãed_NULL


	)

28 
	~<¡ddef.h
>

29 
	~<b™s/loÿË.h
>

31 
	g__BEGIN_DECLS


35 
	#LC_CTYPE
 
__LC_CTYPE


	)

36 
	#LC_NUMERIC
 
__LC_NUMERIC


	)

37 
	#LC_TIME
 
__LC_TIME


	)

38 
	#LC_COLLATE
 
__LC_COLLATE


	)

39 
	#LC_MONETARY
 
__LC_MONETARY


	)

40 
	#LC_MESSAGES
 
__LC_MESSAGES


	)

41 
	#LC_ALL
 
__LC_ALL


	)

42 
	#LC_PAPER
 
__LC_PAPER


	)

43 
	#LC_NAME
 
__LC_NAME


	)

44 
	#LC_ADDRESS
 
__LC_ADDRESS


	)

45 
	#LC_TELEPHONE
 
__LC_TELEPHONE


	)

46 
	#LC_MEASUREMENT
 
__LC_MEASUREMENT


	)

47 
	#LC_IDENTIFICATION
 
__LC_IDENTIFICATION


	)

50 
__BEGIN_NAMESPACE_STD


53 
	slcÚv


57 *
	mdecim®_pošt
;

58 *
	mthou§nds_£p
;

64 *
	mgroupšg
;

70 *
	mšt_cu¼_symbŞ
;

71 *
	mcu¼’cy_symbŞ
;

72 *
	mmÚ_decim®_pošt
;

73 *
	mmÚ_thou§nds_£p
;

74 *
	mmÚ_groupšg
;

75 *
	mpos™ive_sign
;

76 *
	mÃg©ive_sign
;

77 
	mšt_äac_dig™s
;

78 
	mäac_dig™s
;

80 
	mp_cs_´eûdes
;

82 
	mp_£p_by_¥aû
;

84 
	mn_cs_´eûdes
;

86 
	mn_£p_by_¥aû
;

93 
	mp_sign_po¢
;

94 
	mn_sign_po¢
;

95 #ifdeà
__USE_ISOC99


97 
	mšt_p_cs_´eûdes
;

99 
	mšt_p_£p_by_¥aû
;

101 
	mšt_n_cs_´eûdes
;

103 
	mšt_n_£p_by_¥aû
;

110 
	mšt_p_sign_po¢
;

111 
	mšt_n_sign_po¢
;

113 
	m__št_p_cs_´eûdes
;

114 
	m__št_p_£p_by_¥aû
;

115 
	m__št_n_cs_´eûdes
;

116 
	m__št_n_£p_by_¥aû
;

117 
	m__št_p_sign_po¢
;

118 
	m__št_n_sign_po¢
;

124 *
	$£oÿË
 (
__ÿ‹gÜy
, cÚ¡ *
__loÿË
è
__THROW
;

127 
lcÚv
 *
	$loÿËcÚv
 (è
__THROW
;

129 
__END_NAMESPACE_STD


132 #ifdef 
__USE_XOPEN2K8


145 
	~<xloÿË.h
>

151 
__loÿË_t
 
	$ÃwloÿË
 (
__ÿ‹gÜy_mask
, cÚ¡ *
__loÿË
,

152 
__loÿË_t
 
__ba£
è
__THROW
;

158 
	#LC_CTYPE_MASK
 (1 << 
__LC_CTYPE
)

	)

159 
	#LC_NUMERIC_MASK
 (1 << 
__LC_NUMERIC
)

	)

160 
	#LC_TIME_MASK
 (1 << 
__LC_TIME
)

	)

161 
	#LC_COLLATE_MASK
 (1 << 
__LC_COLLATE
)

	)

162 
	#LC_MONETARY_MASK
 (1 << 
__LC_MONETARY
)

	)

163 
	#LC_MESSAGES_MASK
 (1 << 
__LC_MESSAGES
)

	)

164 
	#LC_PAPER_MASK
 (1 << 
__LC_PAPER
)

	)

165 
	#LC_NAME_MASK
 (1 << 
__LC_NAME
)

	)

166 
	#LC_ADDRESS_MASK
 (1 << 
__LC_ADDRESS
)

	)

167 
	#LC_TELEPHONE_MASK
 (1 << 
__LC_TELEPHONE
)

	)

168 
	#LC_MEASUREMENT_MASK
 (1 << 
__LC_MEASUREMENT
)

	)

169 
	#LC_IDENTIFICATION_MASK
 (1 << 
__LC_IDENTIFICATION
)

	)

170 
	#LC_ALL_MASK
 (
LC_CTYPE_MASK
 \

171 | 
LC_NUMERIC_MASK
 \

172 | 
LC_TIME_MASK
 \

173 | 
LC_COLLATE_MASK
 \

174 | 
LC_MONETARY_MASK
 \

175 | 
LC_MESSAGES_MASK
 \

176 | 
LC_PAPER_MASK
 \

177 | 
LC_NAME_MASK
 \

178 | 
LC_ADDRESS_MASK
 \

179 | 
LC_TELEPHONE_MASK
 \

180 | 
LC_MEASUREMENT_MASK
 \

181 | 
LC_IDENTIFICATION_MASK
 \

182 )

	)

186 
__loÿË_t
 
	$du¶oÿË
 (
__loÿË_t
 
__d©a£t
è
__THROW
;

190 
	$ä“loÿË
 (
__loÿË_t
 
__d©a£t
è
__THROW
;

197 
__loÿË_t
 
	$u£loÿË
 (
__loÿË_t
 
__d©a£t
è
__THROW
;

201 
	#LC_GLOBAL_LOCALE
 ((
__loÿË_t
è-1L)

	)

205 
__END_DECLS


	@/usr/include/ncurses_dll.h

30 #iâdeà
NCURSES_DLL_H_šş


31 
	#NCURSES_DLL_H_šş
 1

	)

37 
	#NCURSES_PUBLIC_VAR
(
Çme
è
_nc_
##
	)
name

38 
	#NCURSES_WRAPPED_VAR
(
ty³
,
Çme
èty³ 
	`NCURSES_PUBLIC_VAR
Òame)()

	)

44 #undeà
NCURSES_DLL


45 
	#NCURSES_STATIC


	)

47 #ià
defšed
(
__CYGWIN__
è|| defšed(
__MINGW32__
)

48 #ià
defšed
(
NCURSES_DLL
)

49 #ià
defšed
(
NCURSES_STATIC
)

50 #undeà
NCURSES_STATIC


53 #undeà
NCURSES_IMPEXP


54 #undeà
NCURSES_API


55 #undeà
NCURSES_EXPORT


56 #undeà
NCURSES_EXPORT_VAR


57 #ià
defšed
(
NCURSES_DLL
)

59 
	#NCURSES_IMPEXP
 
	`__deş¥ec
(
dÎexpÜt
)

	)

60 #–ià
defšed
(
NCURSES_STATIC
)

62 
	#NCURSES_IMPEXP


	)

65 
	#NCURSES_IMPEXP
 
	`__deş¥ec
(
dÎimpÜt
)

	)

67 
	#NCURSES_API
 
__cdeş


	)

68 
	#NCURSES_EXPORT
(
ty³
è
NCURSES_IMPEXP
y³ 
NCURSES_API


	)

69 
	#NCURSES_EXPORT_VAR
(
ty³
è
NCURSES_IMPEXP
 
	)
type

73 #ià!
defšed
(
NCURSES_IMPEXP
)

74 
	#NCURSES_IMPEXP


	)

76 #ià!
defšed
(
NCURSES_API
)

77 
	#NCURSES_API


	)

79 #ià!
defšed
(
NCURSES_EXPORT
)

80 
	#NCURSES_EXPORT
(
ty³
è
NCURSES_IMPEXP
y³ 
NCURSES_API


	)

82 #ià!
defšed
(
NCURSES_EXPORT_VAR
)

83 
	#NCURSES_EXPORT_VAR
(
ty³
è
NCURSES_IMPEXP
 
	)
type

	@/usr/include/sgtty.h

18 #iâdef 
_SGTTY_H


19 
	#_SGTTY_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	~<sys/ioùl.h
>

27 
	gsg‰yb
;

29 
__BEGIN_DECLS


32 
	$g‰y
 (
__fd
, 
sg‰yb
 *
__·¿ms
è
__THROW
;

35 
	$¡ty
 (
__fd
, cÚ¡ 
sg‰yb
 *
__·¿ms
è
__THROW
;

38 
__END_DECLS


	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/wch¬.h
>

27 
	~<b™s/wÜdsize.h
>

34 #iâdeà
__št8_t_defšed


35 
	#__št8_t_defšed


	)

36 sigÃd 
	tšt8_t
;

37 
	tšt16_t
;

38 
	tšt32_t
;

39 #ià
__WORDSIZE
 == 64

40 
	tšt64_t
;

42 
__ex‹nsiÚ__


43 
	tšt64_t
;

48 
	tušt8_t
;

49 
	tušt16_t
;

50 #iâdeà
__ušt32_t_defšed


51 
	tušt32_t
;

52 
	#__ušt32_t_defšed


	)

54 #ià
__WORDSIZE
 == 64

55 
	tušt64_t
;

57 
__ex‹nsiÚ__


58 
	tušt64_t
;

65 sigÃd 
	tšt_Ëa¡8_t
;

66 
	tšt_Ëa¡16_t
;

67 
	tšt_Ëa¡32_t
;

68 #ià
__WORDSIZE
 == 64

69 
	tšt_Ëa¡64_t
;

71 
__ex‹nsiÚ__


72 
	tšt_Ëa¡64_t
;

76 
	tušt_Ëa¡8_t
;

77 
	tušt_Ëa¡16_t
;

78 
	tušt_Ëa¡32_t
;

79 #ià
__WORDSIZE
 == 64

80 
	tušt_Ëa¡64_t
;

82 
__ex‹nsiÚ__


83 
	tušt_Ëa¡64_t
;

90 sigÃd 
	tšt_ç¡8_t
;

91 #ià
__WORDSIZE
 == 64

92 
	tšt_ç¡16_t
;

93 
	tšt_ç¡32_t
;

94 
	tšt_ç¡64_t
;

96 
	tšt_ç¡16_t
;

97 
	tšt_ç¡32_t
;

98 
__ex‹nsiÚ__


99 
	tšt_ç¡64_t
;

103 
	tušt_ç¡8_t
;

104 #ià
__WORDSIZE
 == 64

105 
	tušt_ç¡16_t
;

106 
	tušt_ç¡32_t
;

107 
	tušt_ç¡64_t
;

109 
	tušt_ç¡16_t
;

110 
	tušt_ç¡32_t
;

111 
__ex‹nsiÚ__


112 
	tušt_ç¡64_t
;

117 #ià
__WORDSIZE
 == 64

118 #iâdeà
__šŒ_t_defšed


119 
	tšŒ_t
;

120 
	#__šŒ_t_defšed


	)

122 
	tušŒ_t
;

124 #iâdeà
__šŒ_t_defšed


125 
	tšŒ_t
;

126 
	#__šŒ_t_defšed


	)

128 
	tušŒ_t
;

133 #ià
__WORDSIZE
 == 64

134 
	tštmax_t
;

135 
	tuštmax_t
;

137 
__ex‹nsiÚ__


138 
	tštmax_t
;

139 
__ex‹nsiÚ__


140 
	tuštmax_t
;

144 #ià
__WORDSIZE
 == 64

145 
	#__INT64_C
(
c
èø## 
L


	)

146 
	#__UINT64_C
(
c
èø## 
UL


	)

148 
	#__INT64_C
(
c
èø## 
LL


	)

149 
	#__UINT64_C
(
c
èø## 
ULL


	)

155 
	#INT8_MIN
 (-128)

	)

156 
	#INT16_MIN
 (-32767-1)

	)

157 
	#INT32_MIN
 (-2147483647-1)

	)

158 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

160 
	#INT8_MAX
 (127)

	)

161 
	#INT16_MAX
 (32767)

	)

162 
	#INT32_MAX
 (2147483647)

	)

163 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

166 
	#UINT8_MAX
 (255)

	)

167 
	#UINT16_MAX
 (65535)

	)

168 
	#UINT32_MAX
 (4294967295U)

	)

169 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

173 
	#INT_LEAST8_MIN
 (-128)

	)

174 
	#INT_LEAST16_MIN
 (-32767-1)

	)

175 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

176 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

178 
	#INT_LEAST8_MAX
 (127)

	)

179 
	#INT_LEAST16_MAX
 (32767)

	)

180 
	#INT_LEAST32_MAX
 (2147483647)

	)

181 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

184 
	#UINT_LEAST8_MAX
 (255)

	)

185 
	#UINT_LEAST16_MAX
 (65535)

	)

186 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

187 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

191 
	#INT_FAST8_MIN
 (-128)

	)

192 #ià
__WORDSIZE
 == 64

193 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

194 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

196 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

197 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

199 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

201 
	#INT_FAST8_MAX
 (127)

	)

202 #ià
__WORDSIZE
 == 64

203 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

204 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

206 
	#INT_FAST16_MAX
 (2147483647)

	)

207 
	#INT_FAST32_MAX
 (2147483647)

	)

209 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

212 
	#UINT_FAST8_MAX
 (255)

	)

213 #ià
__WORDSIZE
 == 64

214 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

215 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

217 
	#UINT_FAST16_MAX
 (4294967295U)

	)

218 
	#UINT_FAST32_MAX
 (4294967295U)

	)

220 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

224 #ià
__WORDSIZE
 == 64

225 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

226 
	#INTPTR_MAX
 (9223372036854775807L)

	)

227 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

229 
	#INTPTR_MIN
 (-2147483647-1)

	)

230 
	#INTPTR_MAX
 (2147483647)

	)

231 
	#UINTPTR_MAX
 (4294967295U)

	)

236 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

238 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

241 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

247 #ià
__WORDSIZE
 == 64

248 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

249 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

251 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

252 
	#PTRDIFF_MAX
 (2147483647)

	)

256 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

257 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

260 #ià
__WORDSIZE
 == 64

261 
	#SIZE_MAX
 (18446744073709551615UL)

	)

263 #ifdeà
__WORDSIZE32_SIZE_ULONG


264 
	#SIZE_MAX
 (4294967295UL)

	)

266 
	#SIZE_MAX
 (4294967295U)

	)

271 #iâdeà
WCHAR_MIN


273 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

274 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

278 
	#WINT_MIN
 (0u)

	)

279 
	#WINT_MAX
 (4294967295u)

	)

282 
	#INT8_C
(
c
è
	)
c

283 
	#INT16_C
(
c
è
	)
c

284 
	#INT32_C
(
c
è
	)
c

285 #ià
__WORDSIZE
 == 64

286 
	#INT64_C
(
c
èø## 
L


	)

288 
	#INT64_C
(
c
èø## 
LL


	)

292 
	#UINT8_C
(
c
è
	)
c

293 
	#UINT16_C
(
c
è
	)
c

294 
	#UINT32_C
(
c
èø## 
U


	)

295 #ià
__WORDSIZE
 == 64

296 
	#UINT64_C
(
c
èø## 
UL


	)

298 
	#UINT64_C
(
c
èø## 
ULL


	)

302 #ià
__WORDSIZE
 == 64

303 
	#INTMAX_C
(
c
èø## 
L


	)

304 
	#UINTMAX_C
(
c
èø## 
UL


	)

306 
	#INTMAX_C
(
c
èø## 
LL


	)

307 
	#UINTMAX_C
(
c
èø## 
ULL


	)

	@/usr/include/sys/ioctl.h

18 #iâdef 
_SYS_IOCTL_H


19 
	#_SYS_IOCTL_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	g__BEGIN_DECLS


26 
	~<b™s/ioùls.h
>

29 
	~<b™s/ioùl-ty³s.h
>

36 
	~<sys/‰ydeçuÉs.h
>

41 
	$ioùl
 (
__fd
, 
__»que¡
, ...è
__THROW
;

43 
__END_DECLS


	@/usr/include/sys/select.h

21 #iâdeà
_SYS_SELECT_H


22 
	#_SYS_SELECT_H
 1

	)

24 
	~<ã©u»s.h
>

27 
	~<b™s/ty³s.h
>

30 
	~<b™s/£Ëù.h
>

33 
	~<b™s/sig£t.h
>

35 #iâdeà
__sig£t_t_defšed


36 
	#__sig£t_t_defšed


	)

37 
__sig£t_t
 
	tsig£t_t
;

41 
	#__Ãed_time_t


	)

42 
	#__Ãed_time¥ec


	)

43 
	~<time.h
>

44 
	#__Ãed_timev®


	)

45 
	~<b™s/time.h
>

47 #iâdeà
__su£cÚds_t_defšed


48 
__su£cÚds_t
 
	tsu£cÚds_t
;

49 
	#__su£cÚds_t_defšed


	)

54 
	t__fd_mask
;

57 #undeà
__NFDBITS


59 
	#__NFDBITS
 (8 * (è (
__fd_mask
))

	)

60 
	#__FD_ELT
(
d
è((dè/ 
__NFDBITS
)

	)

61 
	#__FD_MASK
(
d
è((
__fd_mask
è(1UL << ((dè% 
__NFDBITS
)))

	)

68 #ifdeà
__USE_XOPEN


69 
__fd_mask
 
	mfds_b™s
[
__FD_SETSIZE
 / 
__NFDBITS
];

70 
	#__FDS_BITS
(
£t
è((£t)->
fds_b™s
)

	)

72 
__fd_mask
 
	m__fds_b™s
[
__FD_SETSIZE
 / 
__NFDBITS
];

73 
	#__FDS_BITS
(
£t
è((£t)->
__fds_b™s
)

	)

75 } 
	tfd_£t
;

78 
	#FD_SETSIZE
 
__FD_SETSIZE


	)

80 #ifdeà
__USE_MISC


82 
__fd_mask
 
	tfd_mask
;

85 
	#NFDBITS
 
__NFDBITS


	)

90 
	#FD_SET
(
fd
, 
fd£
è
	`__FD_SET
 (fd, fd£)

	)

91 
	#FD_CLR
(
fd
, 
fd£
è
	`__FD_CLR
 (fd, fd£)

	)

92 
	#FD_ISSET
(
fd
, 
fd£
è
	`__FD_ISSET
 (fd, fd£)

	)

93 
	#FD_ZERO
(
fd£
è
	`__FD_ZERO
 (fd£)

	)

96 
__BEGIN_DECLS


106 
£Ëù
 (
__nfds
, 
fd_£t
 *
__»¡riù
 
__»adfds
,

107 
fd_£t
 *
__»¡riù
 
__wr™efds
,

108 
fd_£t
 *
__»¡riù
 
__exû±fds
,

109 
timev®
 *
__»¡riù
 
__timeout
);

111 #ifdeà
__USE_XOPEN2K


118 
p£Ëù
 (
__nfds
, 
fd_£t
 *
__»¡riù
 
__»adfds
,

119 
fd_£t
 *
__»¡riù
 
__wr™efds
,

120 
fd_£t
 *
__»¡riù
 
__exû±fds
,

121 cÚ¡ 
time¥ec
 *
__»¡riù
 
__timeout
,

122 cÚ¡ 
__sig£t_t
 *
__»¡riù
 
__sigmask
);

127 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__GNUC__


128 
	~<b™s/£Ëù2.h
>

131 
	g__END_DECLS


	@/usr/include/sys/sysmacros.h

19 #iâdeà
_SYS_SYSMACROS_H


20 
	#_SYS_SYSMACROS_H
 1

	)

22 
	~<ã©u»s.h
>

24 
__BEGIN_DECLS


26 
__ex‹nsiÚ__


27 
	$gnu_dev_majÜ
 (
__dev
)

28 
__THROW
 
__©Œibu‹_cÚ¡__
;

29 
__ex‹nsiÚ__


30 
	$gnu_dev_mšÜ
 (
__dev
)

31 
__THROW
 
__©Œibu‹_cÚ¡__
;

32 
__ex‹nsiÚ__


33 
	$gnu_dev_makedev
 (
__majÜ
,

34 
__mšÜ
)

35 
__THROW
 
__©Œibu‹_cÚ¡__
;

37 #ifdeà
__USE_EXTERN_INLINES


38 
__ex‹nsiÚ__
 
__ex‹º_šlše
 
__©Œibu‹_cÚ¡__
 

39 
	`__NTH
 (
	$gnu_dev_majÜ
 (
__dev
))

41  ((
__dev
 >> 8) & 0xfff) | (() (__dev >> 32) & ~0xfff);

42 
	}
}

44 
__ex‹nsiÚ__
 
__ex‹º_šlše
 
__©Œibu‹_cÚ¡__
 

45 
__NTH
 (
	$gnu_dev_mšÜ
 (
__dev
))

47  (
__dev
 & 0xff) | (() (__dev >> 12) & ~0xff);

48 
	}
}

50 
__ex‹nsiÚ__
 
__ex‹º_šlše
 
__©Œibu‹_cÚ¡__
 

51 
__NTH
 (
	$gnu_dev_makedev
 (
__majÜ
, 
__mšÜ
))

53  ((
__mšÜ
 & 0xffè| ((
__majÜ
 & 0xfff) << 8)

54 | (((è(
__mšÜ
 & ~0xff)) << 12)

55 | (((è(
__majÜ
 & ~0xfff)) << 32));

56 
	}
}

58 
	g__END_DECLS


61 
	#majÜ
(
dev
è
	`gnu_dev_majÜ
 (dev)

	)

62 
	#mšÜ
(
dev
è
	`gnu_dev_mšÜ
 (dev)

	)

63 
	#makedev
(
maj
, 
mš
è
	`gnu_dev_makedev
 (maj, mš)

	)

	@/usr/include/sys/ucontext.h

18 #iâdeà
_SYS_UCONTEXT_H


19 
	#_SYS_UCONTEXT_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<sigÇl.h
>

26 
	~<b™s/sigcÚ‹xt.h
>

28 #ifdeà
__x86_64__


31 
__ex‹nsiÚ__
 
	tg»g_t
;

34 
	#NGREG
 23

	)

37 
g»g_t
 
	tg»g£t_t
[
NGREG
];

39 #ifdeà
__USE_GNU


43 
	mREG_R8
 = 0,

44 
	#REG_R8
 
REG_R8


	)

45 
	mREG_R9
,

46 
	#REG_R9
 
REG_R9


	)

47 
	mREG_R10
,

48 
	#REG_R10
 
REG_R10


	)

49 
	mREG_R11
,

50 
	#REG_R11
 
REG_R11


	)

51 
	mREG_R12
,

52 
	#REG_R12
 
REG_R12


	)

53 
	mREG_R13
,

54 
	#REG_R13
 
REG_R13


	)

55 
	mREG_R14
,

56 
	#REG_R14
 
REG_R14


	)

57 
	mREG_R15
,

58 
	#REG_R15
 
REG_R15


	)

59 
	mREG_RDI
,

60 
	#REG_RDI
 
REG_RDI


	)

61 
	mREG_RSI
,

62 
	#REG_RSI
 
REG_RSI


	)

63 
	mREG_RBP
,

64 
	#REG_RBP
 
REG_RBP


	)

65 
	mREG_RBX
,

66 
	#REG_RBX
 
REG_RBX


	)

67 
	mREG_RDX
,

68 
	#REG_RDX
 
REG_RDX


	)

69 
	mREG_RAX
,

70 
	#REG_RAX
 
REG_RAX


	)

71 
	mREG_RCX
,

72 
	#REG_RCX
 
REG_RCX


	)

73 
	mREG_RSP
,

74 
	#REG_RSP
 
REG_RSP


	)

75 
	mREG_RIP
,

76 
	#REG_RIP
 
REG_RIP


	)

77 
	mREG_EFL
,

78 
	#REG_EFL
 
REG_EFL


	)

79 
	mREG_CSGSFS
,

80 
	#REG_CSGSFS
 
REG_CSGSFS


	)

81 
	mREG_ERR
,

82 
	#REG_ERR
 
REG_ERR


	)

83 
	mREG_TRAPNO
,

84 
	#REG_TRAPNO
 
REG_TRAPNO


	)

85 
	mREG_OLDMASK
,

86 
	#REG_OLDMASK
 
REG_OLDMASK


	)

87 
	mREG_CR2


88 
	#REG_CR2
 
REG_CR2


	)

92 
	s_libc_åx»g


94 
	msignifiÿnd
[4];

95 
	mexpÚ’t
;

96 
	m·ddšg
[3];

99 
	s_libc_xmm»g


101 
__ušt32_t
 
	m–em’t
[4];

104 
	s_libc_å¡©e


107 
__ušt16_t
 
	mcwd
;

108 
__ušt16_t
 
	mswd
;

109 
__ušt16_t
 
	máw
;

110 
__ušt16_t
 
	mfİ
;

111 
__ušt64_t
 
	mr
;

112 
__ušt64_t
 
	mrdp
;

113 
__ušt32_t
 
	mmxc¤
;

114 
__ušt32_t
 
	mmxü_mask
;

115 
_libc_åx»g
 
	m_¡
[8];

116 
_libc_xmm»g
 
	m_xmm
[16];

117 
__ušt32_t
 
	m·ddšg
[24];

121 
_libc_å¡©e
 *
	tå»g£t_t
;

126 
g»g£t_t
 
	mg»gs
;

128 
å»g£t_t
 
	må»gs
;

129 
__ex‹nsiÚ__
 
	m__»£rved1
 [8];

130 } 
	tmcÚ‹xt_t
;

133 
	sucÚ‹xt


135 
	muc_æags
;

136 
ucÚ‹xt
 *
	muc_lšk
;

137 
¡ack_t
 
	muc_¡ack
;

138 
mcÚ‹xt_t
 
	muc_mcÚ‹xt
;

139 
__sig£t_t
 
	muc_sigmask
;

140 
_libc_å¡©e
 
	m__å»gs_mem
;

141 } 
	tucÚ‹xt_t
;

146 
	tg»g_t
;

149 
	#NGREG
 19

	)

152 
g»g_t
 
	tg»g£t_t
[
NGREG
];

154 #ifdeà
__USE_GNU


158 
	mREG_GS
 = 0,

159 
	#REG_GS
 
REG_GS


	)

160 
	mREG_FS
,

161 
	#REG_FS
 
REG_FS


	)

162 
	mREG_ES
,

163 
	#REG_ES
 
REG_ES


	)

164 
	mREG_DS
,

165 
	#REG_DS
 
REG_DS


	)

166 
	mREG_EDI
,

167 
	#REG_EDI
 
REG_EDI


	)

168 
	mREG_ESI
,

169 
	#REG_ESI
 
REG_ESI


	)

170 
	mREG_EBP
,

171 
	#REG_EBP
 
REG_EBP


	)

172 
	mREG_ESP
,

173 
	#REG_ESP
 
REG_ESP


	)

174 
	mREG_EBX
,

175 
	#REG_EBX
 
REG_EBX


	)

176 
	mREG_EDX
,

177 
	#REG_EDX
 
REG_EDX


	)

178 
	mREG_ECX
,

179 
	#REG_ECX
 
REG_ECX


	)

180 
	mREG_EAX
,

181 
	#REG_EAX
 
REG_EAX


	)

182 
	mREG_TRAPNO
,

183 
	#REG_TRAPNO
 
REG_TRAPNO


	)

184 
	mREG_ERR
,

185 
	#REG_ERR
 
REG_ERR


	)

186 
	mREG_EIP
,

187 
	#REG_EIP
 
REG_EIP


	)

188 
	mREG_CS
,

189 
	#REG_CS
 
REG_CS


	)

190 
	mREG_EFL
,

191 
	#REG_EFL
 
REG_EFL


	)

192 
	mREG_UESP
,

193 
	#REG_UESP
 
REG_UESP


	)

194 
	mREG_SS


195 
	#REG_SS
 
REG_SS


	)

200 
	s_libc_å»g


202 
	msignifiÿnd
[4];

203 
	mexpÚ’t
;

206 
	s_libc_å¡©e


208 
	mcw
;

209 
	msw
;

210 
	mg
;

211 
	moff
;

212 
	mcs£l
;

213 
	md©aoff
;

214 
	md©a£l
;

215 
_libc_å»g
 
	m_¡
[8];

216 
	m¡©us
;

220 
_libc_å¡©e
 *
	tå»g£t_t
;

225 
g»g£t_t
 
	mg»gs
;

228 
å»g£t_t
 
	må»gs
;

229 
	mŞdmask
;

230 
	mü2
;

231 } 
	tmcÚ‹xt_t
;

234 
	sucÚ‹xt


236 
	muc_æags
;

237 
ucÚ‹xt
 *
	muc_lšk
;

238 
¡ack_t
 
	muc_¡ack
;

239 
mcÚ‹xt_t
 
	muc_mcÚ‹xt
;

240 
__sig£t_t
 
	muc_sigmask
;

241 
_libc_å¡©e
 
	m__å»gs_mem
;

242 } 
	tucÚ‹xt_t
;

	@/usr/include/termio.h

5 
	~<‹rmios.h
>

6 
	~<sys/ioùl.h
>

	@/usr/include/termios.h

22 #iâdef 
_TERMIOS_H


23 
	#_TERMIOS_H
 1

	)

25 
	~<ã©u»s.h
>

26 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


28 
	~<b™s/ty³s.h
>

29 #iâdeà
__pid_t_defšed


30 
__pid_t
 
	tpid_t
;

31 
	#__pid_t_defšed


	)

35 
	g__BEGIN_DECLS


39 
	~<b™s/‹rmios.h
>

41 #ifdeà
__USE_MISC


44 
	#CCEQ
(
v®
, 
c
è((cè=ğ(v®è&& (v®è!ğ
_POSIX_VDISABLE
)

	)

48 
¥“d_t
 
	$cfg‘o¥“d
 (cÚ¡ 
‹rmios
 *
__‹rmios_p
è
__THROW
;

51 
¥“d_t
 
	$cfg‘i¥“d
 (cÚ¡ 
‹rmios
 *
__‹rmios_p
è
__THROW
;

54 
	$cf£to¥“d
 (
‹rmios
 *
__‹rmios_p
, 
¥“d_t
 
__¥“d
è
__THROW
;

57 
	$cf£ti¥“d
 (
‹rmios
 *
__‹rmios_p
, 
¥“d_t
 
__¥“d
è
__THROW
;

59 #ifdef 
__USE_MISC


61 
	$cf£t¥“d
 (
‹rmios
 *
__‹rmios_p
, 
¥“d_t
 
__¥“d
è
__THROW
;

66 
	$tcg‘©Œ
 (
__fd
, 
‹rmios
 *
__‹rmios_p
è
__THROW
;

70 
	$tc£‰r
 (
__fd
, 
__İtiÚ®_aùiÚs
,

71 cÚ¡ 
‹rmios
 *
__‹rmios_p
è
__THROW
;

74 #ifdef 
__USE_MISC


76 
	$cfmak”aw
 (
‹rmios
 *
__‹rmios_p
è
__THROW
;

80 
	$tc£ndb»ak
 (
__fd
, 
__du¿tiÚ
è
__THROW
;

86 
	`tcd¿š
 (
__fd
);

90 
	$tcæush
 (
__fd
, 
__queue_£ËùÜ
è
__THROW
;

94 
	$tcæow
 (
__fd
, 
__aùiÚ
è
__THROW
;

97 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


99 
__pid_t
 
	$tcg‘sid
 (
__fd
è
__THROW
;

103 #ifdeà
__USE_MISC


104 
	~<sys/‰ydeçuÉs.h
>

107 
__END_DECLS


	@/usr/include/xlocale.h

20 #iâdeà
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loÿË_¡ruù


30 
__loÿË_d©a
 *
	m__loÿËs
[13];

33 cÚ¡ *
	m__ùy³_b
;

34 cÚ¡ *
	m__ùy³_tŞow”
;

35 cÚ¡ *
	m__ùy³_touµ”
;

38 cÚ¡ *
	m__Çmes
[13];

39 } *
	t__loÿË_t
;

42 
__loÿË_t
 
	tloÿË_t
;

	@/usr/include/_G_config.h

4 #iâdeà
_G_cÚfig_h


5 
	#_G_cÚfig_h
 1

	)

9 
	~<b™s/ty³s.h
>

10 
	#__Ãed_size_t


	)

11 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


12 
	#__Ãed_wch¬_t


	)

14 
	#__Ãed_NULL


	)

15 
	~<¡ddef.h
>

16 
	#__Ãed_mb¡©e_t


	)

17 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


18 
	#__Ãed_wšt_t


	)

20 
	~<wch¬.h
>

23 
__off_t
 
	m__pos
;

24 
__mb¡©e_t
 
	m__¡©e
;

25 } 
	t_G_åos_t
;

28 
__off64_t
 
	m__pos
;

29 
__mb¡©e_t
 
	m__¡©e
;

30 } 
	t_G_åos64_t
;

31 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


32 
	~<gcÚv.h
>

35 
__gcÚv_šfo
 
	m__cd
;

38 
__gcÚv_šfo
 
	m__cd
;

39 
__gcÚv_¡•_d©a
 
	m__d©a
;

40 } 
	m__combšed
;

41 } 
	t_G_icÚv_t
;

46 
	#_G_va_li¡
 
__gnuc_va_li¡


	)

48 
	#_G_HAVE_MMAP
 1

	)

49 
	#_G_HAVE_MREMAP
 1

	)

51 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

54 
	#_G_HAVE_ST_BLKSIZE
 
	`defšed
 (
_STATBUF_ST_BLKSIZE
)

	)

56 
	#_G_BUFSIZ
 8192

	)

	@/usr/include/bits/auxv.h

20 
	#AT_NULL
 0

	)

21 
	#AT_IGNORE
 1

	)

22 
	#AT_EXECFD
 2

	)

23 
	#AT_PHDR
 3

	)

24 
	#AT_PHENT
 4

	)

25 
	#AT_PHNUM
 5

	)

26 
	#AT_PAGESZ
 6

	)

27 
	#AT_BASE
 7

	)

28 
	#AT_FLAGS
 8

	)

29 
	#AT_ENTRY
 9

	)

30 
	#AT_NOTELF
 10

	)

31 
	#AT_UID
 11

	)

32 
	#AT_EUID
 12

	)

33 
	#AT_GID
 13

	)

34 
	#AT_EGID
 14

	)

35 
	#AT_CLKTCK
 17

	)

38 
	#AT_PLATFORM
 15

	)

39 
	#AT_HWCAP
 16

	)

44 
	#AT_FPUCW
 18

	)

47 
	#AT_DCACHEBSIZE
 19

	)

48 
	#AT_ICACHEBSIZE
 20

	)

49 
	#AT_UCACHEBSIZE
 21

	)

53 
	#AT_IGNOREPPC
 22

	)

55 
	#AT_SECURE
 23

	)

57 
	#AT_BASE_PLATFORM
 24

	)

59 
	#AT_RANDOM
 25

	)

61 
	#AT_HWCAP2
 26

	)

64 
	#AT_EXECFN
 31

	)

68 
	#AT_SYSINFO
 32

	)

69 
	#AT_SYSINFO_EHDR
 33

	)

73 
	#AT_L1I_CACHESHAPE
 34

	)

74 
	#AT_L1D_CACHESHAPE
 35

	)

75 
	#AT_L2_CACHESHAPE
 36

	)

76 
	#AT_L3_CACHESHAPE
 37

	)

	@/usr/include/bits/byteswap.h

19 #ià!
defšed
 
_BYTESWAP_H
 && !defšed 
_NETINET_IN_H
 && !defšed 
_ENDIAN_H


23 #iâdeà
_BITS_BYTESWAP_H


24 
	#_BITS_BYTESWAP_H
 1

	)

26 
	~<ã©u»s.h
>

27 
	~<b™s/ty³s.h
>

28 
	~<b™s/wÜdsize.h
>

31 
	#__bsw­_cÚ¡ªt_16
(
x
) \

32 ((è((((
x
è>> 8è& 0xffè| (((xè& 0xffè<< 8)))

	)

35 
	~<b™s/by‹sw­-16.h
>

38 
	#__bsw­_cÚ¡ªt_32
(
x
) \

39 ((((
x
) & 0xff000000) >> 24) | (((x) & 0x00ff0000) >> 8) | \

40 (((
x
è& 0x0000ff00è<< 8è| (((xè& 0x000000ffè<< 24))

	)

42 #ifdeà
__GNUC__


43 #ià
__GNUC_PREREQ
 (4, 3)

44 
__šlše
 

45 
	$__bsw­_32
 (
__bsx
)

47  
	`__butš_bsw­32
 (
__bsx
);

48 
	}
}

49 #–ià
__GNUC__
 >= 2

50 #ià
__WORDSIZE
 =ğ64 || (
defšed
 
__i486__
 || defšed 
__³Áium__
 \

51 || 
defšed
 
	g__³Áium´o__
 || defšed 
	g__³Áium4__
 \

52 || 
defšed
 
	g__k8__
 || defšed 
	g__©hlÚ__
 \

53 || 
defšed
 
	g__k6__
 || defšed 
	g__nocÚa__
 \

54 || 
defšed
 
	g__cÜe2__
 || defšed 
	g__geode__
 \

55 || 
defšed
 
	g__amdçm10__
)

58 
	#__bsw­_32
(
x
) \

59 (
__ex‹nsiÚ__
 \

60 ({ 
__v
, 
__x
 = (
x
); \

61 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

62 
__v
 = 
	`__bsw­_cÚ¡ªt_32
 (
__x
); \

64 
	`__asm__
 ("bsw­ %0" : "ô" (
__v
è: "0" (
__x
)); \

65 
__v
; }))

	)

67 
	#__bsw­_32
(
x
) \

68 (
__ex‹nsiÚ__
 \

69 ({ 
__v
, 
__x
 = (
x
); \

70 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

71 
__v
 = 
	`__bsw­_cÚ¡ªt_32
 (
__x
); \

73 
	`__asm__
 ("rorw $8, %w0;" \

76 : "ô" (
__v
) \

77 : "0" (
__x
) \

79 
__v
; }))

	)

82 
	#__bsw­_32
(
x
) \

83 (
__ex‹nsiÚ__
 \

84 ({ 
__x
 = (
x
); 
	`__bsw­_cÚ¡ªt_32
 (__x); }))

	)

87 
__šlše
 

88 
	$__bsw­_32
 (
__bsx
)

90  
	`__bsw­_cÚ¡ªt_32
 (
__bsx
);

91 
	}
}

95 #ià
__GNUC_PREREQ
 (2, 0)

97 
	#__bsw­_cÚ¡ªt_64
(
x
) \

98 (
	`__ex‹nsiÚ__
 ((((
x
) & 0xff00000000000000ull) >> 56) \

99 | (((
x
) & 0x00ff000000000000ull) >> 40) \

100 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

101 | (((
x
) & 0x000000ff00000000ull) >> 8) \

102 | (((
x
) & 0x00000000ff000000ull) << 8) \

103 | (((
x
) & 0x0000000000ff0000ull) << 24) \

104 | (((
x
) & 0x000000000000ff00ull) << 40) \

105 | (((
x
è& 0x00000000000000ffuÎè<< 56)))

	)

107 #ià
__GNUC_PREREQ
 (4, 3)

108 
__šlše
 
__ušt64_t


109 
	$__bsw­_64
 (
__ušt64_t
 
__bsx
)

111  
	`__butš_bsw­64
 (
__bsx
);

112 
	}
}

113 #–ià
__WORDSIZE
 == 64

114 
	#__bsw­_64
(
x
) \

115 (
__ex‹nsiÚ__
 \

116 ({ 
__ušt64_t
 
__v
, 
__x
 = (
x
); \

117 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

118 
__v
 = 
	`__bsw­_cÚ¡ªt_64
 (
__x
); \

120 
	`__asm__
 ("bsw­ %q0" : "ô" (
__v
è: "0" (
__x
)); \

121 
__v
; }))

	)

123 
	#__bsw­_64
(
x
) \

124 (
__ex‹nsiÚ__
 \

125 ({ uniÚ { 
__ex‹nsiÚ__
 
__ušt64_t
 
__Î
; \

126 
__l
[2]; } 
__w
, 
__r
; \

127 ià(
	`__butš_cÚ¡ªt_p
 (
x
)) \

128 
__r
.
__Î
 = 
	`__bsw­_cÚ¡ªt_64
 (
x
); \

131 
__w
.
__Î
 = (
x
); \

132 
__r
.
__l
[0] = 
	`__bsw­_32
 (
__w
.__l[1]); \

133 
__r
.
__l
[1] = 
	`__bsw­_32
 (
__w
.__l[0]); \

135 
__r
.
__Î
; }))

	)

138 
	#__bsw­_cÚ¡ªt_64
(
x
) \

139 ((((
x
) & 0xff00000000000000ull) >> 56) \

140 | (((
x
) & 0x00ff000000000000ull) >> 40) \

141 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

142 | (((
x
) & 0x000000ff00000000ull) >> 8) \

143 | (((
x
) & 0x00000000ff000000ull) << 8) \

144 | (((
x
) & 0x0000000000ff0000ull) << 24) \

145 | (((
x
) & 0x000000000000ff00ull) << 40) \

146 | (((
x
è& 0x00000000000000ffuÎè<< 56))

	)

148 
__šlše
 
__ušt64_t


149 
	$__bsw­_64
 (
__ušt64_t
 
__bsx
)

151  
	`__bsw­_cÚ¡ªt_64
 (
__bsx
);

152 
	}
}

	@/usr/include/bits/endian.h

3 #iâdeà
_ENDIAN_H


7 
	#__BYTE_ORDER
 
__LITTLE_ENDIAN


	)

	@/usr/include/bits/ioctl-types.h

19 #iâdeà
_SYS_IOCTL_H


24 
	~<asm/ioùls.h
>

27 
	swšsize


29 
	mws_row
;

30 
	mws_cŞ
;

31 
	mws_xpix–
;

32 
	mws_ypix–
;

35 
	#NCC
 8

	)

36 
	s‹rmio


38 
	mc_iæag
;

39 
	mc_oæag
;

40 
	mc_cæag
;

41 
	mc_læag
;

42 
	mc_lše
;

43 
	mc_cc
[
NCC
];

47 
	#TIOCM_LE
 0x001

	)

48 
	#TIOCM_DTR
 0x002

	)

49 
	#TIOCM_RTS
 0x004

	)

50 
	#TIOCM_ST
 0x008

	)

51 
	#TIOCM_SR
 0x010

	)

52 
	#TIOCM_CTS
 0x020

	)

53 
	#TIOCM_CAR
 0x040

	)

54 
	#TIOCM_RNG
 0x080

	)

55 
	#TIOCM_DSR
 0x100

	)

56 
	#TIOCM_CD
 
TIOCM_CAR


	)

57 
	#TIOCM_RI
 
TIOCM_RNG


	)

62 
	#N_TTY
 0

	)

63 
	#N_SLIP
 1

	)

64 
	#N_MOUSE
 2

	)

65 
	#N_PPP
 3

	)

66 
	#N_STRIP
 4

	)

67 
	#N_AX25
 5

	)

68 
	#N_X25
 6

	)

69 
	#N_6PACK
 7

	)

70 
	#N_MASC
 8

	)

71 
	#N_R3964
 9

	)

72 
	#N_PROFIBUS_FDL
 10

	)

73 
	#N_IRDA
 11

	)

74 
	#N_SMSBLOCK
 12

	)

75 
	#N_HDLC
 13

	)

76 
	#N_SYNC_PPP
 14

	)

77 
	#N_HCI
 15

	)

	@/usr/include/bits/ioctls.h

18 #iâdeà
_SYS_IOCTL_H


23 
	~<asm/ioùls.h
>

26 
	#SIOCADDRT
 0x890B

	)

27 
	#SIOCDELRT
 0x890C

	)

28 
	#SIOCRTMSG
 0x890D

	)

31 
	#SIOCGIFNAME
 0x8910

	)

32 
	#SIOCSIFLINK
 0x8911

	)

33 
	#SIOCGIFCONF
 0x8912

	)

34 
	#SIOCGIFFLAGS
 0x8913

	)

35 
	#SIOCSIFFLAGS
 0x8914

	)

36 
	#SIOCGIFADDR
 0x8915

	)

37 
	#SIOCSIFADDR
 0x8916

	)

38 
	#SIOCGIFDSTADDR
 0x8917

	)

39 
	#SIOCSIFDSTADDR
 0x8918

	)

40 
	#SIOCGIFBRDADDR
 0x8919

	)

41 
	#SIOCSIFBRDADDR
 0x891¨

	)

42 
	#SIOCGIFNETMASK
 0x891b

	)

43 
	#SIOCSIFNETMASK
 0x891ø

	)

44 
	#SIOCGIFMETRIC
 0x891d

	)

45 
	#SIOCSIFMETRIC
 0x891

	)

46 
	#SIOCGIFMEM
 0x891à

	)

47 
	#SIOCSIFMEM
 0x8920

	)

48 
	#SIOCGIFMTU
 0x8921

	)

49 
	#SIOCSIFMTU
 0x8922

	)

50 
	#SIOCSIFNAME
 0x8923

	)

51 
	#SIOCSIFHWADDR
 0x8924

	)

52 
	#SIOCGIFENCAP
 0x8925

	)

53 
	#SIOCSIFENCAP
 0x8926

	)

54 
	#SIOCGIFHWADDR
 0x8927

	)

55 
	#SIOCGIFSLAVE
 0x8929

	)

56 
	#SIOCSIFSLAVE
 0x8930

	)

57 
	#SIOCADDMULTI
 0x8931

	)

58 
	#SIOCDELMULTI
 0x8932

	)

59 
	#SIOCGIFINDEX
 0x8933

	)

60 
	#SIOGIFINDEX
 
SIOCGIFINDEX


	)

61 
	#SIOCSIFPFLAGS
 0x8934

	)

62 
	#SIOCGIFPFLAGS
 0x8935

	)

63 
	#SIOCDIFADDR
 0x8936

	)

64 
	#SIOCSIFHWBROADCAST
 0x8937

	)

65 
	#SIOCGIFCOUNT
 0x8938

	)

67 
	#SIOCGIFBR
 0x8940

	)

68 
	#SIOCSIFBR
 0x8941

	)

70 
	#SIOCGIFTXQLEN
 0x8942

	)

71 
	#SIOCSIFTXQLEN
 0x8943

	)

76 
	#SIOCDARP
 0x8953

	)

77 
	#SIOCGARP
 0x8954

	)

78 
	#SIOCSARP
 0x8955

	)

81 
	#SIOCDRARP
 0x8960

	)

82 
	#SIOCGRARP
 0x8961

	)

83 
	#SIOCSRARP
 0x8962

	)

87 
	#SIOCGIFMAP
 0x8970

	)

88 
	#SIOCSIFMAP
 0x8971

	)

92 
	#SIOCADDDLCI
 0x8980

	)

93 
	#SIOCDELDLCI
 0x8981

	)

102 
	#SIOCDEVPRIVATE
 0x89F0

	)

108 
	#SIOCPROTOPRIVATE
 0x89E0

	)

	@/usr/include/bits/libio-ldbl.h

19 #iâdeà
_IO_STDIO_H


23 
	$__LDBL_REDIR_DECL
 (
_IO_vfsÿnf
)

24 
	`__LDBL_REDIR_DECL
 (
_IO_vårštf
)

	@/usr/include/bits/locale.h

19 #ià!
defšed
 
_LOCALE_H
 && !defšed 
_LANGINFO_H


23 #iâdeà
_BITS_LOCALE_H


24 
	#_BITS_LOCALE_H
 1

	)

26 
	#__LC_CTYPE
 0

	)

27 
	#__LC_NUMERIC
 1

	)

28 
	#__LC_TIME
 2

	)

29 
	#__LC_COLLATE
 3

	)

30 
	#__LC_MONETARY
 4

	)

31 
	#__LC_MESSAGES
 5

	)

32 
	#__LC_ALL
 6

	)

33 
	#__LC_PAPER
 7

	)

34 
	#__LC_NAME
 8

	)

35 
	#__LC_ADDRESS
 9

	)

36 
	#__LC_TELEPHONE
 10

	)

37 
	#__LC_MEASUREMENT
 11

	)

38 
	#__LC_IDENTIFICATION
 12

	)

	@/usr/include/bits/select.h

18 #iâdeà
_SYS_SELECT_H


22 
	~<b™s/wÜdsize.h
>

25 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

27 #ià
__WORDSIZE
 == 64

28 
	#__FD_ZERO_STOS
 "¡osq"

	)

30 
	#__FD_ZERO_STOS
 "¡o¦"

	)

33 
	#__FD_ZERO
(
fd¥
) \

35 
__d0
, 
__d1
; \

36 
__asm__
 
	`__vŞ©e__
 ("şd;„•; " 
__FD_ZERO_STOS
 \

37 : "=c" (
__d0
), "=D" (
__d1
) \

38 : "a" (0), "0" ( (
fd_£t
) \

39 /  (
__fd_mask
)), \

40 "1" (&
	`__FDS_BITS
 (
fd¥
)[0]) \

42 } 0)

	)

48 
	#__FD_ZERO
(
£t
) \

50 
__i
; \

51 
fd_£t
 *
__¬r
 = (
£t
); \

52 
__i
 = 0; __˜<  (
fd_£t
è/  (
__fd_mask
); ++__i) \

53 
	`__FDS_BITS
 (
__¬r
)[
__i
] = 0; \

54 } 0)

	)

58 
	#__FD_SET
(
d
, 
£t
) \

59 ((è(
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] |ğ
	`__FD_MASK
 (d)))

	)

60 
	#__FD_CLR
(
d
, 
£t
) \

61 ((è(
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] &ğ~
	`__FD_MASK
 (d)))

	)

62 
	#__FD_ISSET
(
d
, 
£t
) \

63 ((
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] & 
	`__FD_MASK
 (d)è!ğ0)

	)

	@/usr/include/bits/select2.h

19 #iâdeà
_SYS_SELECT_H


24 
__fd–t_chk
 (
__d
);

25 
	$__fd–t_w¬n
 (
__d
)

26 
	`__w¬Ç‰r
 ("bit outside of fd_set selected");

27 #undeà
__FD_ELT


28 
	#__FD_ELT
(
d
) \

29 
__ex‹nsiÚ__
 \

30 ({ 
__d
 = (
d
); \

31 (
	`__butš_cÚ¡ªt_p
 (
__d
) \

32 ? (0 <ğ
__d
 && __d < 
__FD_SETSIZE
 \

33 ? (
__d
 / 
__NFDBITS
) \

34 : 
	`__fd–t_w¬n
 (
__d
)) \

35 : 
	`__fd–t_chk
 (
__d
)); 
	}
})

	)

	@/usr/include/bits/stdio-lock.h

19 #iâdeà
_BITS_STDIO_LOCK_H


20 
	#_BITS_STDIO_LOCK_H
 1

	)

22 
	~<b™s/libc-lock.h
>

23 
	~<lowËv–lock.h
>

27 
	#_IO_lock_šex³nsive
 1

	)

29 ¡ruù { 
	mlock
; 
	mút
; *
	mowÃr
; } 
	t_IO_lock_t
;

31 
	#_IO_lock_š™Ÿliz”
 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

33 
	#_IO_lock_š™
(
_Çme
) \

34 ((è((
_Çme
èğ(
_IO_lock_t
è
_IO_lock_š™Ÿliz”
))

	)

36 
	#_IO_lock_fši
(
_Çme
) \

37 ((è0)

	)

39 
	#_IO_lock_lock
(
_Çme
) \

41 *
__£lf
 = 
THREAD_SELF
; \

42 ià((
_Çme
).
owÃr
 !ğ
__£lf
) \

44 
	`Îl_lock
 ((
_Çme
).
lock
, 
LLL_PRIVATE
); \

45 (
_Çme
).
owÃr
 = 
__£lf
; \

47 ++(
_Çme
).
út
; \

48 } 0)

	)

50 
	#_IO_lock_Œylock
(
_Çme
) \

52 
__»suÉ
 = 0; \

53 *
__£lf
 = 
THREAD_SELF
; \

54 ià((
_Çme
).
owÃr
 !ğ
__£lf
) \

56 ià(
	`Îl_Œylock
 ((
_Çme
).
lock
) == 0) \

58 (
_Çme
).
owÃr
 = 
__£lf
; \

59 (
_Çme
).
út
 = 1; \

62 
__»suÉ
 = 
EBUSY
; \

65 ++(
_Çme
).
út
; \

66 
__»suÉ
; \

67 })

	)

69 
	#_IO_lock_uÆock
(
_Çme
) \

71 ià(--(
_Çme
).
út
 == 0) \

73 (
_Çme
).
owÃr
 = 
NULL
; \

74 
	`Îl_uÆock
 ((
_Çme
).
lock
, 
LLL_PRIVATE
); \

76 } 0)

	)

80 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
) \

81 
	`__libc_ş—nup_»giÚ_¡¬t
 (((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0, 
_fù
, _å)

	)

82 
	#_IO_ş—nup_»giÚ_¡¬t_nßrg
(
_fù
) \

83 
	`__libc_ş—nup_»giÚ_¡¬t
 (1, 
_fù
, 
NULL
)

	)

84 
	#_IO_ş—nup_»giÚ_’d
(
_do™
) \

85 
	`__libc_ş—nup_»giÚ_’d
 (
_do™
)

	)

87 #ià
defšed
 
_LIBC
 && 
IS_IN
 (
libc
)

89 #ifdeà
__EXCEPTIONS


90 
	#_IO_acquœe_lock
(
_å
) \

92 
_IO_FILE
 *
_IO_acquœe_lock_fe
 \

93 
	`__©Œibu‹__
((
	`ş—nup
 (
_IO_acquœe_lock_fù
))) \

94 ğ(
_å
); \

95 
	`_IO_æockfe
 (
_IO_acquœe_lock_fe
);

	)

96 
	#_IO_acquœe_lock_ş—r_æags2
(
_å
) \

98 
_IO_FILE
 *
_IO_acquœe_lock_fe
 \

99 
	`__©Œibu‹__
((
	`ş—nup
 (
_IO_acquœe_lock_ş—r_æags2_fù
))) \

100 ğ(
_å
); \

101 
	`_IO_æockfe
 (
_IO_acquœe_lock_fe
);

	)

103 
	#_IO_acquœe_lock
(
_å
è
_IO_acquœe_lock_Ãeds_exû±iÚs_’abËd


	)

104 
	#_IO_acquœe_lock_ş—r_æags2
(
_å
è
	`_IO_acquœe_lock
 (_å)

	)

106 
	#_IO_»Ëa£_lock
(
_å
è; } 0)

	)

	@/usr/include/bits/termios.h

19 #iâdeà
_TERMIOS_H


23 
	tcc_t
;

24 
	t¥“d_t
;

25 
	ttcæag_t
;

27 
	#NCCS
 32

	)

28 
	s‹rmios


30 
tcæag_t
 
	mc_iæag
;

31 
tcæag_t
 
	mc_oæag
;

32 
tcæag_t
 
	mc_cæag
;

33 
tcæag_t
 
	mc_læag
;

34 
cc_t
 
	mc_lše
;

35 
cc_t
 
	mc_cc
[
NCCS
];

36 
¥“d_t
 
	mc_i¥“d
;

37 
¥“d_t
 
	mc_o¥“d
;

38 
	#_HAVE_STRUCT_TERMIOS_C_ISPEED
 1

	)

39 
	#_HAVE_STRUCT_TERMIOS_C_OSPEED
 1

	)

43 
	#VINTR
 0

	)

44 
	#VQUIT
 1

	)

45 
	#VERASE
 2

	)

46 
	#VKILL
 3

	)

47 
	#VEOF
 4

	)

48 
	#VTIME
 5

	)

49 
	#VMIN
 6

	)

50 
	#VSWTC
 7

	)

51 
	#VSTART
 8

	)

52 
	#VSTOP
 9

	)

53 
	#VSUSP
 10

	)

54 
	#VEOL
 11

	)

55 
	#VREPRINT
 12

	)

56 
	#VDISCARD
 13

	)

57 
	#VWERASE
 14

	)

58 
	#VLNEXT
 15

	)

59 
	#VEOL2
 16

	)

62 
	#IGNBRK
 0000001

	)

63 
	#BRKINT
 0000002

	)

64 
	#IGNPAR
 0000004

	)

65 
	#PARMRK
 0000010

	)

66 
	#INPCK
 0000020

	)

67 
	#ISTRIP
 0000040

	)

68 
	#INLCR
 0000100

	)

69 
	#IGNCR
 0000200

	)

70 
	#ICRNL
 0000400

	)

71 
	#IUCLC
 0001000

	)

72 
	#IXON
 0002000

	)

73 
	#IXANY
 0004000

	)

74 
	#IXOFF
 0010000

	)

75 
	#IMAXBEL
 0020000

	)

76 
	#IUTF8
 0040000

	)

79 
	#OPOST
 0000001

	)

80 
	#OLCUC
 0000002

	)

81 
	#ONLCR
 0000004

	)

82 
	#OCRNL
 0000010

	)

83 
	#ONOCR
 0000020

	)

84 
	#ONLRET
 0000040

	)

85 
	#OFILL
 0000100

	)

86 
	#OFDEL
 0000200

	)

87 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


88 
	#NLDLY
 0000400

	)

89 
	#NL0
 0000000

	)

90 
	#NL1
 0000400

	)

91 
	#CRDLY
 0003000

	)

92 
	#CR0
 0000000

	)

93 
	#CR1
 0001000

	)

94 
	#CR2
 0002000

	)

95 
	#CR3
 0003000

	)

96 
	#TABDLY
 0014000

	)

97 
	#TAB0
 0000000

	)

98 
	#TAB1
 0004000

	)

99 
	#TAB2
 0010000

	)

100 
	#TAB3
 0014000

	)

101 
	#BSDLY
 0020000

	)

102 
	#BS0
 0000000

	)

103 
	#BS1
 0020000

	)

104 
	#FFDLY
 0100000

	)

105 
	#FF0
 0000000

	)

106 
	#FF1
 0100000

	)

109 
	#VTDLY
 0040000

	)

110 
	#VT0
 0000000

	)

111 
	#VT1
 0040000

	)

113 #ifdeà
__USE_MISC


114 
	#XTABS
 0014000

	)

118 #ifdeà
__USE_MISC


119 
	#CBAUD
 0010017

	)

121 
	#B0
 0000000

	)

122 
	#B50
 0000001

	)

123 
	#B75
 0000002

	)

124 
	#B110
 0000003

	)

125 
	#B134
 0000004

	)

126 
	#B150
 0000005

	)

127 
	#B200
 0000006

	)

128 
	#B300
 0000007

	)

129 
	#B600
 0000010

	)

130 
	#B1200
 0000011

	)

131 
	#B1800
 0000012

	)

132 
	#B2400
 0000013

	)

133 
	#B4800
 0000014

	)

134 
	#B9600
 0000015

	)

135 
	#B19200
 0000016

	)

136 
	#B38400
 0000017

	)

137 #ifdeà
__USE_MISC


138 
	#EXTA
 
B19200


	)

139 
	#EXTB
 
B38400


	)

141 
	#CSIZE
 0000060

	)

142 
	#CS5
 0000000

	)

143 
	#CS6
 0000020

	)

144 
	#CS7
 0000040

	)

145 
	#CS8
 0000060

	)

146 
	#CSTOPB
 0000100

	)

147 
	#CREAD
 0000200

	)

148 
	#PARENB
 0000400

	)

149 
	#PARODD
 0001000

	)

150 
	#HUPCL
 0002000

	)

151 
	#CLOCAL
 0004000

	)

152 #ifdeà
__USE_MISC


153 
	#CBAUDEX
 0010000

	)

155 
	#B57600
 0010001

	)

156 
	#B115200
 0010002

	)

157 
	#B230400
 0010003

	)

158 
	#B460800
 0010004

	)

159 
	#B500000
 0010005

	)

160 
	#B576000
 0010006

	)

161 
	#B921600
 0010007

	)

162 
	#B1000000
 0010010

	)

163 
	#B1152000
 0010011

	)

164 
	#B1500000
 0010012

	)

165 
	#B2000000
 0010013

	)

166 
	#B2500000
 0010014

	)

167 
	#B3000000
 0010015

	)

168 
	#B3500000
 0010016

	)

169 
	#B4000000
 0010017

	)

170 
	#__MAX_BAUD
 
B4000000


	)

171 #ifdeà
__USE_MISC


172 
	#CIBAUD
 002003600000

	)

173 
	#CMSPAR
 010000000000

	)

174 
	#CRTSCTS
 020000000000

	)

178 
	#ISIG
 0000001

	)

179 
	#ICANON
 0000002

	)

180 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


181 
	#XCASE
 0000004

	)

183 
	#ECHO
 0000010

	)

184 
	#ECHOE
 0000020

	)

185 
	#ECHOK
 0000040

	)

186 
	#ECHONL
 0000100

	)

187 
	#NOFLSH
 0000200

	)

188 
	#TOSTOP
 0000400

	)

189 #ifdeà
__USE_MISC


190 
	#ECHOCTL
 0001000

	)

191 
	#ECHOPRT
 0002000

	)

192 
	#ECHOKE
 0004000

	)

193 
	#FLUSHO
 0010000

	)

194 
	#PENDIN
 0040000

	)

196 
	#IEXTEN
 0100000

	)

197 #ifdeà
__USE_MISC


198 
	#EXTPROC
 0200000

	)

202 
	#TCOOFF
 0

	)

203 
	#TCOON
 1

	)

204 
	#TCIOFF
 2

	)

205 
	#TCION
 3

	)

208 
	#TCIFLUSH
 0

	)

209 
	#TCOFLUSH
 1

	)

210 
	#TCIOFLUSH
 2

	)

213 
	#TCSANOW
 0

	)

214 
	#TCSADRAIN
 1

	)

215 
	#TCSAFLUSH
 2

	)

218 
	#_IOT_‹rmios
 \

219 
	`_IOT
 (
	`_IOTS
 (
cæag_t
), 4, _IOTS (
cc_t
), 
NCCS
, _IOTS (
¥“d_t
), 2)

	)

	@/usr/include/bits/timex.h

18 #iâdef 
_BITS_TIMEX_H


19 
	#_BITS_TIMEX_H
 1

	)

21 
	~<b™s/ty³s.h
>

25 
	stimex


27 
	mmodes
;

28 
__sysÿÎ_¦Úg_t
 
	moff£t
;

29 
__sysÿÎ_¦Úg_t
 
	mäeq
;

30 
__sysÿÎ_¦Úg_t
 
	mmax”rÜ
;

31 
__sysÿÎ_¦Úg_t
 
	me¡”rÜ
;

32 
	m¡©us
;

33 
__sysÿÎ_¦Úg_t
 
	mcÚ¡ªt
;

34 
__sysÿÎ_¦Úg_t
 
	m´ecisiÚ
;

35 
__sysÿÎ_¦Úg_t
 
	mtŞ”ªû
;

36 
timev®
 
	mtime
;

37 
__sysÿÎ_¦Úg_t
 
	mtick
;

38 
__sysÿÎ_¦Úg_t
 
	mµsäeq
;

39 
__sysÿÎ_¦Úg_t
 
	mj™‹r
;

40 
	mshiá
;

41 
__sysÿÎ_¦Úg_t
 
	m¡ab
;

42 
__sysÿÎ_¦Úg_t
 
	mj™út
;

43 
__sysÿÎ_¦Úg_t
 
	mÿlút
;

44 
__sysÿÎ_¦Úg_t
 
	m”rút
;

45 
__sysÿÎ_¦Úg_t
 
	m¡bút
;

47 
	mi
;

56 
	#ADJ_OFFSET
 0x0001

	)

57 
	#ADJ_FREQUENCY
 0x0002

	)

58 
	#ADJ_MAXERROR
 0x0004

	)

59 
	#ADJ_ESTERROR
 0x0008

	)

60 
	#ADJ_STATUS
 0x0010

	)

61 
	#ADJ_TIMECONST
 0x0020

	)

62 
	#ADJ_TAI
 0x0080

	)

63 
	#ADJ_MICRO
 0x1000

	)

64 
	#ADJ_NANO
 0x2000

	)

65 
	#ADJ_TICK
 0x4000

	)

66 
	#ADJ_OFFSET_SINGLESHOT
 0x8001

	)

67 
	#ADJ_OFFSET_SS_READ
 0xa001

	)

70 
	#MOD_OFFSET
 
ADJ_OFFSET


	)

71 
	#MOD_FREQUENCY
 
ADJ_FREQUENCY


	)

72 
	#MOD_MAXERROR
 
ADJ_MAXERROR


	)

73 
	#MOD_ESTERROR
 
ADJ_ESTERROR


	)

74 
	#MOD_STATUS
 
ADJ_STATUS


	)

75 
	#MOD_TIMECONST
 
ADJ_TIMECONST


	)

76 
	#MOD_CLKB
 
ADJ_TICK


	)

77 
	#MOD_CLKA
 
ADJ_OFFSET_SINGLESHOT


	)

78 
	#MOD_TAI
 
ADJ_TAI


	)

79 
	#MOD_MICRO
 
ADJ_MICRO


	)

80 
	#MOD_NANO
 
ADJ_NANO


	)

84 
	#STA_PLL
 0x0001

	)

85 
	#STA_PPSFREQ
 0x0002

	)

86 
	#STA_PPSTIME
 0x0004

	)

87 
	#STA_FLL
 0x0008

	)

89 
	#STA_INS
 0x0010

	)

90 
	#STA_DEL
 0x0020

	)

91 
	#STA_UNSYNC
 0x0040

	)

92 
	#STA_FREQHOLD
 0x0080

	)

94 
	#STA_PPSSIGNAL
 0x0100

	)

95 
	#STA_PPSJITTER
 0x0200

	)

96 
	#STA_PPSWANDER
 0x0400

	)

97 
	#STA_PPSERROR
 0x0800

	)

99 
	#STA_CLOCKERR
 0x1000

	)

100 
	#STA_NANO
 0x2000

	)

101 
	#STA_MODE
 0x4000

	)

102 
	#STA_CLK
 0x8000

	)

105 
	#STA_RONLY
 (
STA_PPSSIGNAL
 | 
STA_PPSJITTER
 | 
STA_PPSWANDER
 | \

106 
STA_PPSERROR
 | 
STA_CLOCKERR
 | 
STA_NANO
 | 
STA_MODE
 | 
STA_CLK
)

	)

	@/usr/include/bits/typesizes.h

19 #iâdeà
_BITS_TYPES_H


23 #iâdef 
_BITS_TYPESIZES_H


24 
	#_BITS_TYPESIZES_H
 1

	)

30 #ià
defšed
 
__x86_64__
 && defšed 
__ILP32__


31 
	#__SYSCALL_SLONG_TYPE
 
__SQUAD_TYPE


	)

32 
	#__SYSCALL_ULONG_TYPE
 
__UQUAD_TYPE


	)

34 
	#__SYSCALL_SLONG_TYPE
 
__SLONGWORD_TYPE


	)

35 
	#__SYSCALL_ULONG_TYPE
 
__ULONGWORD_TYPE


	)

38 
	#__DEV_T_TYPE
 
__UQUAD_TYPE


	)

39 
	#__UID_T_TYPE
 
__U32_TYPE


	)

40 
	#__GID_T_TYPE
 
__U32_TYPE


	)

41 
	#__INO_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

42 
	#__INO64_T_TYPE
 
__UQUAD_TYPE


	)

43 
	#__MODE_T_TYPE
 
__U32_TYPE


	)

44 #ifdeà
__x86_64__


45 
	#__NLINK_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

46 
	#__FSWORD_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

48 
	#__NLINK_T_TYPE
 
__UWORD_TYPE


	)

49 
	#__FSWORD_T_TYPE
 
__SWORD_TYPE


	)

51 
	#__OFF_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

52 
	#__OFF64_T_TYPE
 
__SQUAD_TYPE


	)

53 
	#__PID_T_TYPE
 
__S32_TYPE


	)

54 
	#__RLIM_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

55 
	#__RLIM64_T_TYPE
 
__UQUAD_TYPE


	)

56 
	#__BLKCNT_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

57 
	#__BLKCNT64_T_TYPE
 
__SQUAD_TYPE


	)

58 
	#__FSBLKCNT_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

59 
	#__FSBLKCNT64_T_TYPE
 
__UQUAD_TYPE


	)

60 
	#__FSFILCNT_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

61 
	#__FSFILCNT64_T_TYPE
 
__UQUAD_TYPE


	)

62 
	#__ID_T_TYPE
 
__U32_TYPE


	)

63 
	#__CLOCK_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

64 
	#__TIME_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

65 
	#__USECONDS_T_TYPE
 
__U32_TYPE


	)

66 
	#__SUSECONDS_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

67 
	#__DADDR_T_TYPE
 
__S32_TYPE


	)

68 
	#__KEY_T_TYPE
 
__S32_TYPE


	)

69 
	#__CLOCKID_T_TYPE
 
__S32_TYPE


	)

70 
	#__TIMER_T_TYPE
 *

	)

71 
	#__BLKSIZE_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

72 
	#__FSID_T_TYPE
 sŒuù { 
__v®
[2]; }

	)

73 
	#__SSIZE_T_TYPE
 
__SWORD_TYPE


	)

75 #ifdeà
__x86_64__


79 
	#__OFF_T_MATCHES_OFF64_T
 1

	)

82 
	#__INO_T_MATCHES_INO64_T
 1

	)

86 
	#__FD_SETSIZE
 1024

	)

	@/usr/include/bits/wchar.h

19 #iâdeà
_BITS_WCHAR_H


20 
	#_BITS_WCHAR_H
 1

	)

33 #ifdeà
__WCHAR_MAX__


34 
	#__WCHAR_MAX
 
__WCHAR_MAX__


	)

35 #–ià
L
'\0' - 1 > 0

36 
	#__WCHAR_MAX
 (0xffffffffu + 
L
'\0')

	)

38 
	#__WCHAR_MAX
 (0x7ffffffà+ 
L
'\0')

	)

41 #ifdeà
__WCHAR_MIN__


42 
	#__WCHAR_MIN
 
__WCHAR_MIN__


	)

43 #–ià
L
'\0' - 1 > 0

44 
	#__WCHAR_MIN
 (
L
'\0' + 0)

	)

46 
	#__WCHAR_MIN
 (-
__WCHAR_MAX
 - 1)

	)

	@/usr/include/bits/wordsize.h

3 #ià
defšed
 
__x86_64__
 && !defšed 
__ILP32__


4 
	#__WORDSIZE
 64

	)

6 
	#__WORDSIZE
 32

	)

9 #ifdeà
__x86_64__


10 
	#__WORDSIZE_TIME64_COMPAT32
 1

	)

12 
	#__SYSCALL_WORDSIZE
 64

	)

	@/usr/include/gnu/stubs.h

6 #ià!
defšed
 
__x86_64__


7 
	~<gnu/¡ubs-32.h
>

9 #ià
defšed
 
__x86_64__
 && defšed 
__LP64__


10 
	~<gnu/¡ubs-64.h
>

12 #ià
defšed
 
__x86_64__
 && defšed 
__ILP32__


13 
	~<gnu/¡ubs-x32.h
>

	@/usr/include/linux/errno.h

1 
	~<asm/”ºo.h
>

	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifdeà
__GCC_IEC_559


37 #ià
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifdeà
__GCC_IEC_559_COMPLEX


45 #ià
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

54 
	#__STDC_ISO_10646__
 201103L

	)

57 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/sys/cdefs.h

18 #iâdef 
_SYS_CDEFS_H


19 
	#_SYS_CDEFS_H
 1

	)

22 #iâdeà
_FEATURES_H


23 
	~<ã©u»s.h
>

29 #ià
defšed
 
__GNUC__
 && !defšed 
__STDC__


34 #undeà
__P


35 #undeà
__PMT


37 #ifdeà
__GNUC__


41 #ià
__GNUC_PREREQ
 (4, 6è&& !
defšed
 
_LIBC


42 
	#__LEAF
 , 
__Ëaf__


	)

43 
	#__LEAF_ATTR
 
	`__©Œibu‹__
 ((
__Ëaf__
))

	)

45 
	#__LEAF


	)

46 
	#__LEAF_ATTR


	)

54 #ià!
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (3, 3)

55 
	#__THROW
 
	`__©Œibu‹__
 ((
__nÙhrow__
 
__LEAF
))

	)

56 
	#__THROWNL
 
	`__©Œibu‹__
 ((
__nÙhrow__
))

	)

57 
	#__NTH
(
fù
è
	`__©Œibu‹__
 ((
__nÙhrow__
 
__LEAF
)è
	)
fct

59 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

60 
	#__THROW
 
	`throw
 ()

	)

61 
	#__THROWNL
 
	`throw
 ()

	)

62 
	#__NTH
(
fù
è
__LEAF_ATTR
 fù 
	`throw
 ()

	)

64 
	#__THROW


	)

65 
	#__THROWNL


	)

66 
	#__NTH
(
fù
è
	)
fct

72 
	#__šlše


	)

74 
	#__THROW


	)

75 
	#__THROWNL


	)

76 
	#__NTH
(
fù
è
	)
fct

82 
	#__P
(
¬gs
è
	)
args

83 
	#__PMT
(
¬gs
è
	)
args

88 
	#__CONCAT
(
x
,
y
èx ## 
	)
y

89 
	#__STRING
(
x
è#x

	)

92 
	#__±r_t
 *

	)

93 
	#__lÚg_doubË_t
 

	)

97 #ifdef 
__ılu¥lus


98 
	#__BEGIN_DECLS
 "C" {

	)

99 
	#__END_DECLS
 }

	)

101 
	#__BEGIN_DECLS


	)

102 
	#__END_DECLS


	)

111 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES


112 
	#__BEGIN_NAMESPACE_STD
 
Çme¥aû
 
¡d
 {

	)

113 
	#__END_NAMESPACE_STD
 }

	)

114 
	#__USING_NAMESPACE_STD
(
Çme
è
usšg
 
¡d
::Çme;

	)

115 
	#__BEGIN_NAMESPACE_C99
 
Çme¥aû
 
__c99
 {

	)

116 
	#__END_NAMESPACE_C99
 }

	)

117 
	#__USING_NAMESPACE_C99
(
Çme
è
usšg
 
__c99
::Çme;

	)

122 
	#__BEGIN_NAMESPACE_STD


	)

123 
	#__END_NAMESPACE_STD


	)

124 
	#__USING_NAMESPACE_STD
(
Çme
)

	)

125 
	#__BEGIN_NAMESPACE_C99


	)

126 
	#__END_NAMESPACE_C99


	)

127 
	#__USING_NAMESPACE_C99
(
Çme
)

	)

132 
	#__bos
(
±r
è
	`__butš_objeù_size
 (±r, 
__USE_FORTIFY_LEVEL
 > 1)

	)

133 
	#__bos0
(
±r
è
	`__butš_objeù_size
 (±r, 0)

	)

135 #ià
__GNUC_PREREQ
 (4,3)

136 
	#__w¬ndeş
(
Çme
, 
msg
) \

137 
	`Çme
 (è
	`__©Œibu‹__
((
	`__w¬nšg__
 (
msg
)))

	)

138 
	#__w¬Ç‰r
(
msg
è
	`__©Œibu‹__
((
	`__w¬nšg__
 (msg)))

	)

139 
	#__”rÜdeş
(
Çme
, 
msg
) \

140 
	`Çme
 (è
	`__©Œibu‹__
((
	`__”rÜ__
 (
msg
)))

	)

142 
	#__w¬ndeş
(
Çme
, 
msg
è
	`Çme
 ()

	)

143 
	#__w¬Ç‰r
(
msg
)

	)

144 
	#__”rÜdeş
(
Çme
, 
msg
è
	`Çme
 ()

	)

148 #ià
__GNUC_PREREQ
 (2,97)

150 
	#__æex¬r
 []

	)

152 #ifdeà
__GNUC__


153 
	#__æex¬r
 [0]

	)

155 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

156 
	#__æex¬r
 []

	)

159 
	#__æex¬r
 [1]

	)

175 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

177 
	#__REDIRECT
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm´ÙØ
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

178 #ifdeà
__ılu¥lus


179 
	#__REDIRECT_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
) \

180 
Çme
 
´Ùo
 
__THROW
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

181 
	#__REDIRECT_NTHNL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

182 
Çme
 
´Ùo
 
__THROWNL
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

184 
	#__REDIRECT_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
) \

185 
Çme
 
´Ùo
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs)è
__THROW


	)

186 
	#__REDIRECT_NTHNL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

187 
Çme
 
´Ùo
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs)è
__THROWNL


	)

189 
	#__ASMNAME
(
úame
è
	`__ASMNAME2
 (
__USER_LABEL_PREFIX__
, cÇme)

	)

190 
	#__ASMNAME2
(
´efix
, 
úame
è
	`__STRING
 (´efixè
	)
cname

203 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

204 
	#__©Œibu‹__
(
xyz
è

	)

210 #ià
__GNUC_PREREQ
 (2,96)

211 
	#__©Œibu‹_m®loc__
 
	`__©Œibu‹__
 ((
__m®loc__
))

	)

213 
	#__©Œibu‹_m®loc__


	)

218 #ià
__GNUC_PREREQ
 (4, 3)

219 
	#__©Œibu‹_®loc_size__
(
·¿ms
) \

220 
	`__©Œibu‹__
 ((
__®loc_size__
 
·¿ms
))

	)

222 
	#__©Œibu‹_®loc_size__
(
·¿ms
è

	)

228 #ià
__GNUC_PREREQ
 (2,96)

229 
	#__©Œibu‹_pu»__
 
	`__©Œibu‹__
 ((
__pu»__
))

	)

231 
	#__©Œibu‹_pu»__


	)

235 #ià
__GNUC_PREREQ
 (2,5)

236 
	#__©Œibu‹_cÚ¡__
 
	`__©Œibu‹__
 ((
__cÚ¡__
))

	)

238 
	#__©Œibu‹_cÚ¡__


	)

244 #ià
__GNUC_PREREQ
 (3,1)

245 
	#__©Œibu‹_u£d__
 
	`__©Œibu‹__
 ((
__u£d__
))

	)

246 
	#__©Œibu‹_nošlše__
 
	`__©Œibu‹__
 ((
__nošlše__
))

	)

248 
	#__©Œibu‹_u£d__
 
	`__©Œibu‹__
 ((
__unu£d__
))

	)

249 
	#__©Œibu‹_nošlše__


	)

253 #ià
__GNUC_PREREQ
 (3,2)

254 
	#__©Œibu‹_d•»ÿ‹d__
 
	`__©Œibu‹__
 ((
__d•»ÿ‹d__
))

	)

256 
	#__©Œibu‹_d•»ÿ‹d__


	)

265 #ià
__GNUC_PREREQ
 (2,8)

266 
	#__©Œibu‹_fÜm©_¬g__
(
x
è
	`__©Œibu‹__
 ((
	`__fÜm©_¬g__
 (x)))

	)

268 
	#__©Œibu‹_fÜm©_¬g__
(
x
è

	)

275 #ià
__GNUC_PREREQ
 (2,97)

276 
	#__©Œibu‹_fÜm©_¡rfmÚ__
(
a
,
b
) \

277 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__¡rfmÚ__
, 
a
, 
b
)))

	)

279 
	#__©Œibu‹_fÜm©_¡rfmÚ__
(
a
,
b
è

	)

284 #ià
__GNUC_PREREQ
 (3,3)

285 
	#__nÚnuÎ
(
·¿ms
è
	`__©Œibu‹__
 ((
__nÚnuÎ__
…¬ams))

	)

287 
	#__nÚnuÎ
(
·¿ms
)

	)

292 #ià
__GNUC_PREREQ
 (3,4)

293 
	#__©Œibu‹_w¬n_unu£d_»suÉ__
 \

294 
	`__©Œibu‹__
 ((
__w¬n_unu£d_»suÉ__
))

	)

295 #ià
__USE_FORTIFY_LEVEL
 > 0

296 
	#__wur
 
__©Œibu‹_w¬n_unu£d_»suÉ__


	)

299 
	#__©Œibu‹_w¬n_unu£d_»suÉ__


	)

301 #iâdeà
__wur


302 
	#__wur


	)

306 #ià
__GNUC_PREREQ
 (3,2)

307 
	#__®ways_šlše
 
__šlše
 
	`__©Œibu‹__
 ((
__®ways_šlše__
))

	)

309 
	#__®ways_šlše
 
__šlše


	)

314 #ià
__GNUC_PREREQ
 (4,3)

315 
	#__©Œibu‹_¬tificŸl__
 
	`__©Œibu‹__
 ((
__¬tificŸl__
))

	)

317 
	#__©Œibu‹_¬tificŸl__


	)

329 #ià(!
defšed
 
__ılu¥lus
 || 
__GNUC_PREREQ
 (4,3) \

330 || (
defšed
 
__şªg__
 && (defšed 
__GNUC_STDC_INLINE__
 \

331 || 
defšed
 
__GNUC_GNU_INLINE__
)))

332 #ià
defšed
 
__GNUC_STDC_INLINE__
 || defšed 
__ılu¥lus


333 
	#__ex‹º_šlše
 
__šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
))

	)

334 
	#__ex‹º_®ways_šlše
 \

335 
__®ways_šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
))

	)

337 
	#__ex‹º_šlše
 
__šlše


	)

338 
	#__ex‹º_®ways_šlše
 
__®ways_šlše


	)

342 #ifdeà
__ex‹º_®ways_šlše


343 
	#__fÜtify_funùiÚ
 
__ex‹º_®ways_šlše
 
__©Œibu‹_¬tificŸl__


	)

348 #ià
__GNUC_PREREQ
 (4,3)

349 
	#__va_¬g_·ck
(è
	`__butš_va_¬g_·ck
 ()

	)

350 
	#__va_¬g_·ck_Ën
(è
	`__butš_va_¬g_·ck_Ën
 ()

	)

357 #ià!
__GNUC_PREREQ
 (2,8)

358 
	#__ex‹nsiÚ__


	)

362 #ià!
__GNUC_PREREQ
 (2,92)

363 
	#__»¡riù


	)

369 #ià
__GNUC_PREREQ
 (3,1è&& !
defšed
 
__GNUG__


370 
	#__»¡riù_¬r
 
__»¡riù


	)

372 #ifdeà
__GNUC__


373 
	#__»¡riù_¬r


	)

375 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

376 
	#__»¡riù_¬r
 
»¡riù


	)

379 
	#__»¡riù_¬r


	)

384 #ià
__GNUC__
 >= 3

385 
	#__glibc_uÆik–y
(
cÚd
è
	`__butš_ex³ù
 ((cÚd), 0)

	)

386 
	#__glibc_lik–y
(
cÚd
è
	`__butš_ex³ù
 ((cÚd), 1)

	)

388 
	#__glibc_uÆik–y
(
cÚd
è(cÚd)

	)

389 
	#__glibc_lik–y
(
cÚd
è(cÚd)

	)

392 #ià(!
defšed
 
_NÜ‘uº
 \

393 && (
defšed
 
__STDC_VERSION__
 ? __STDC_VERSION__ : 0) < 201112 \

394 && !
	$__GNUC_PREREQ
 (4,7))

395 #ià
	`__GNUC_PREREQ
 (2,8)

396 
	#_NÜ‘uº
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
))

	)

398 
	#_NÜ‘uº


	)

402 
	~<b™s/wÜdsize.h
>

404 #ià
defšed
 
__LONG_DOUBLE_MATH_OPTIONAL
 && defšed 
__NO_LONG_DOUBLE_MATH


405 
	#__LDBL_COMPAT
 1

	)

406 #ifdeà
__REDIRECT


407 
	#__LDBL_REDIR1
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT
 (Çme,…rÙo,‡lŸs)

	)

408 
	#__LDBL_REDIR
(
Çme
, 
´Ùo
) \

409 
	`__LDBL_REDIR1
 (
Çme
, 
´Ùo
, 
__Ædbl_
##Çme)

	)

410 
	#__LDBL_REDIR1_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT_NTH
 (Çme,…rÙo,‡lŸs)

	)

411 
	#__LDBL_REDIR_NTH
(
Çme
, 
´Ùo
) \

412 
	`__LDBL_REDIR1_NTH
 (
Çme
, 
´Ùo
, 
__Ædbl_
##Çme)

	)

413 
	#__LDBL_REDIR1_DECL
(
Çme
, 
®Ÿs
) \

414 
	`__ty³of
 (
Çme
èÇm
	`__asm
 (
	`__ASMNAME
 (#®Ÿs));

	)

415 
	#__LDBL_REDIR_DECL
(
Çme
) \

416 
	`__ty³of
 (
Çme
èÇm
	`__asm
 (
	`__ASMNAME
 ("__Ædbl_" #Çme));

	)

417 
	#__REDIRECT_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

418 
	`__LDBL_REDIR1
 (
Çme
, 
´Ùo
, 
__Ædbl_
##
®Ÿs
)

	)

419 
	#__REDIRECT_NTH_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

420 
	`__LDBL_REDIR1_NTH
 (
Çme
, 
´Ùo
, 
__Ædbl_
##
®Ÿs
)

	)

423 #ià!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT


424 
	#__LDBL_REDIR1
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm
	)
proto

425 
	#__LDBL_REDIR
(
Çme
, 
´Ùo
èÇm
	)
proto

426 
	#__LDBL_REDIR1_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm´ÙØ
__THROW


	)

427 
	#__LDBL_REDIR_NTH
(
Çme
, 
´Ùo
èÇm´ÙØ
__THROW


	)

428 
	#__LDBL_REDIR_DECL
(
Çme
)

	)

429 #ifdeà
__REDIRECT


430 
	#__REDIRECT_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT
 (Çme,…rÙo,‡lŸs)

	)

431 
	#__REDIRECT_NTH_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

432 
	`__REDIRECT_NTH
 (
Çme
, 
´Ùo
, 
®Ÿs
)

	)

	@/usr/include/sys/ttydefaults.h

40 #iâdeà
_SYS_TTYDEFAULTS_H_


41 
	#_SYS_TTYDEFAULTS_H_


	)

46 
	#TTYDEF_IFLAG
 (
BRKINT
 | 
ISTRIP
 | 
ICRNL
 | 
IMAXBEL
 | 
IXON
 | 
IXANY
)

	)

47 
	#TTYDEF_OFLAG
 (
OPOST
 | 
ONLCR
 | 
XTABS
)

	)

48 
	#TTYDEF_LFLAG
 (
ECHO
 | 
ICANON
 | 
ISIG
 | 
IEXTEN
 | 
ECHOE
|
ECHOKE
|
ECHOCTL
)

	)

49 
	#TTYDEF_CFLAG
 (
CREAD
 | 
CS7
 | 
PARENB
 | 
HUPCL
)

	)

50 
	#TTYDEF_SPEED
 (
B9600
)

	)

55 
	#CTRL
(
x
è(x&037)

	)

56 
	#CEOF
 
	`CTRL
('d')

	)

57 #ifdeà
_POSIX_VDISABLE


58 
	#CEOL
 
_POSIX_VDISABLE


	)

60 
	#CEOL
 '\0'

	)

62 
	#CERASE
 0177

	)

63 
	#CINTR
 
	`CTRL
('c')

	)

64 #ifdeà
_POSIX_VDISABLE


65 
	#CSTATUS
 
_POSIX_VDISABLE


	)

67 
	#CSTATUS
 '\0'

	)

69 
	#CKILL
 
	`CTRL
('u')

	)

70 
	#CMIN
 1

	)

71 
	#CQUIT
 034

	)

72 
	#CSUSP
 
	`CTRL
('z')

	)

73 
	#CTIME
 0

	)

74 
	#CDSUSP
 
	`CTRL
('y')

	)

75 
	#CSTART
 
	`CTRL
('q')

	)

76 
	#CSTOP
 
	`CTRL
('s')

	)

77 
	#CLNEXT
 
	`CTRL
('v')

	)

78 
	#CDISCARD
 
	`CTRL
('o')

	)

79 
	#CWERASE
 
	`CTRL
('w')

	)

80 
	#CREPRINT
 
	`CTRL
('r')

	)

81 
	#CEOT
 
CEOF


	)

83 
	#CBRK
 
CEOL


	)

84 
	#CRPRNT
 
CREPRINT


	)

85 
	#CFLUSH
 
CDISCARD


	)

93 #ifdeà
TTYDEFCHARS


94 
cc_t
 
	g‰ydefch¬s
[
NCCS
] = {

95 
CEOF
, 
CEOL
, CEOL, 
CERASE
, 
CWERASE
, 
CKILL
, 
CREPRINT
,

96 
_POSIX_VDISABLE
, 
CINTR
, 
CQUIT
, 
CSUSP
, 
CDSUSP
, 
CSTART
, 
CSTOP
, 
CLNEXT
,

97 
CDISCARD
, 
CMIN
, 
CTIME
, 
CSTATUS
, 
_POSIX_VDISABLE


99 #undeà
TTYDEFCHARS


	@/usr/include/asm/errno.h

1 
	~<asm-g’”ic/”ºo.h
>

	@/usr/include/asm/ioctls.h

1 
	~<asm-g’”ic/ioùls.h
>

	@/usr/include/bits/byteswap-16.h

19 #iâdeà
_BITS_BYTESWAP_H


23 #ifdeà
__GNUC__


24 #ià
__GNUC__
 >= 2

25 
	#__bsw­_16
(
x
) \

26 (
__ex‹nsiÚ__
 \

27 ({ 
__v
, 
__x
 = (è(
x
); \

28 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

29 
__v
 = 
	`__bsw­_cÚ¡ªt_16
 (
__x
); \

31 
	`__asm__
 ("rorw $8, %w0" \

32 : "ô" (
__v
) \

33 : "0" (
__x
) \

35 
__v
; }))

	)

38 
	#__bsw­_16
(
x
) \

39 (
__ex‹nsiÚ__
 \

40 ({ 
__x
 = (è(
x
); \

41 
	`__bsw­_cÚ¡ªt_16
 (
__x
); }))

	)

44 
__šlše
 

45 
	$__bsw­_16
 (
__bsx
)

47  
	`__bsw­_cÚ¡ªt_16
 (
__bsx
);

48 
	}
}

	@/usr/include/bits/libc-lock.h

19 #iâdeà
_BITS_LIBC_LOCK_H


20 
	#_BITS_LIBC_LOCK_H
 1

	)

22 
	~<±h»ad.h
>

23 
	#__Ãed_NULL


	)

24 
	~<¡ddef.h
>

28 #ià
defšed
 
_LIBC
 || defšed 
_IO_MTSAFE_IO


29 #ià(!
IS_IN
 (
libc
è&& !IS_IN (
lib±h»ad
)è|| !
defšed
 
_LIBC


30 ¡ruù { 
±h»ad_mu‹x_t
 
	mmu‹x
; } 
	t__libc_lock_»cursive_t
;

32 ¡ruù { 
	mlock
; 
	mút
; *
	mowÃr
; } 
	t__libc_lock_»cursive_t
;

35 
__libc_lock_»cursive_İaque__
 
	t__libc_lock_»cursive_t
;

45 
	#__libc_lock_defše_»cursive
(
CLASS
,
NAME
) \

46 
CLASS
 
__libc_lock_»cursive_t
 
NAME
;

	)

50 #ià
defšed
 
_LIBC
 && (
IS_IN
 (
libc
è|| IS_IN (
lib±h»ad
))

51 
	#__libc_lock_defše_š™Ÿlized_»cursive
(
CLASS
, 
NAME
) \

52 
CLASS
 
__libc_lock_»cursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

53 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

54 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

56 
	#__libc_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

57 
CLASS
 
__libc_lock_»cursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

58 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

59 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

63 #ià
defšed
 
_LIBC
 && (
IS_IN
 (
libc
è|| IS_IN (
lib±h»ad
))

64 
	#__libc_lock_š™_»cursive
(
NAME
) \

65 ((è((
NAME
èğ(
__libc_lock_»cursive_t
è
_LIBC_LOCK_RECURSIVE_INITIALIZER
))

	)

67 
	#__libc_lock_š™_»cursive
(
NAME
) \

69 ià(
__±h»ad_mu‹x_š™
 !ğ
NULL
) \

71 
±h»ad_mu‹x©Œ_t
 
__©Œ
; \

72 
	`__±h»ad_mu‹x©Œ_š™
 (&
__©Œ
); \

73 
	`__±h»ad_mu‹x©Œ_£‰y³
 (&
__©Œ
, 
PTHREAD_MUTEX_RECURSIVE_NP
); \

74 
	`__±h»ad_mu‹x_š™
 (&(
NAME
).
mu‹x
, &
__©Œ
); \

75 
	`__±h»ad_mu‹x©Œ_de¡roy
 (&
__©Œ
); \

77 } 0)

	)

81 #ià
defšed
 
_LIBC
 && (
IS_IN
 (
libc
è|| IS_IN (
lib±h»ad
))

82 
	#__libc_lock_fši_»cursive
(
NAME
è((è0)

	)

84 
	#__libc_lock_fši_»cursive
(
NAME
) \

85 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_de¡roy
, (&(
NAME
).
mu‹x
), 0)

	)

89 #ià
defšed
 
_LIBC
 && (
IS_IN
 (
libc
è|| IS_IN (
lib±h»ad
))

90 
	#__libc_lock_lock_»cursive
(
NAME
) \

92 *
£lf
 = 
THREAD_SELF
; \

93 ià((
NAME
).
owÃr
 !ğ
£lf
) \

95 
	`Îl_lock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

96 (
NAME
).
owÃr
 = 
£lf
; \

98 ++(
NAME
).
út
; \

99 } 0)

	)

101 
	#__libc_lock_lock_»cursive
(
NAME
) \

102 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_lock
, (&(
NAME
).
mu‹x
), 0)

	)

106 #ià
defšed
 
_LIBC
 && (
IS_IN
 (
libc
è|| IS_IN (
lib±h»ad
))

107 
	#__libc_lock_Œylock_»cursive
(
NAME
) \

109 
»suÉ
 = 0; \

110 *
£lf
 = 
THREAD_SELF
; \

111 ià((
NAME
).
owÃr
 !ğ
£lf
) \

113 ià(
	`Îl_Œylock
 ((
NAME
).
lock
) == 0) \

115 (
NAME
).
owÃr
 = 
£lf
; \

116 (
NAME
).
út
 = 1; \

119 
»suÉ
 = 
EBUSY
; \

122 ++(
NAME
).
út
; \

123 
»suÉ
; \

124 })

	)

126 
	#__libc_lock_Œylock_»cursive
(
NAME
) \

127 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_Œylock
, (&(
NAME
).
mu‹x
), 0)

	)

131 #ià
defšed
 
_LIBC
 && (
IS_IN
 (
libc
è|| IS_IN (
lib±h»ad
))

133 
	#__libc_lock_uÆock_»cursive
(
NAME
) \

135 ià(--(
NAME
).
út
 == 0) \

137 (
NAME
).
owÃr
 = 
NULL
; \

138 
	`Îl_uÆock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

140 } 0)

	)

142 
	#__libc_lock_uÆock_»cursive
(
NAME
) \

143 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_uÆock
, (&(
NAME
).
mu‹x
), 0)

	)

150 
_±h»ad_ş—nup_push_deãr
 (
_±h»ad_ş—nup_bufãr
 *
bufãr
,

151 (*
routše
è(*), *
¬g
);

152 
	`_±h»ad_ş—nup_pİ_»¡Üe
 (
_±h»ad_ş—nup_bufãr
 *
bufãr
,

153 
execu‹
);

156 
	#__libc_ş—nup_»giÚ_¡¬t
(
DOIT
, 
FCT
, 
ARG
) \

157 { 
_±h»ad_ş—nup_bufãr
 
_bufãr
; \

158 
_ava
; \

159 ià(
DOIT
) { \

160 
_ava
 = 
	`PTFAVAIL
 (
_±h»ad_ş—nup_push_deãr
); \

161 ià(
_ava
) { \

162 
	`__libc_±f_ÿÎ_®ways
 (
_±h»ad_ş—nup_push_deãr
, (&
_bufãr
, 
FCT
, \

163 
ARG
)); \

165 
_bufãr
.
__routše
 = (
FCT
); \

166 
_bufãr
.
__¬g
 = (
ARG
); \

169 
_ava
 = 0; \

170 }

	)

173 
	#__libc_ş—nup_»giÚ_’d
(
DOIT
) \

174 ià(
_ava
) { \

175 
	`__libc_±f_ÿÎ_®ways
 (
_±h»ad_ş—nup_pİ_»¡Üe
, (&
_bufãr
, 
DOIT
));\

176 } ià(
DOIT
) \

177 
_bufãr
.
	`__routše
 (_bufãr.
__¬g
); \

178 
	}

	)
}

183 #ifdeà
_LIBC


184 
	~"libc-lockP.h
"

	@/usr/include/gconv.h

22 #iâdeà
_GCONV_H


23 
	#_GCONV_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	#__Ãed_mb¡©e_t


	)

27 
	#__Ãed_wšt_t


	)

28 
	~<wch¬.h
>

29 
	#__Ãed_size_t


	)

30 
	#__Ãed_wch¬_t


	)

31 
	~<¡ddef.h
>

34 
	#__UNKNOWN_10646_CHAR
 ((
wch¬_t
è0xfffd)

	)

39 
	m__GCONV_OK
 = 0,

40 
	m__GCONV_NOCONV
,

41 
	m__GCONV_NODB
,

42 
	m__GCONV_NOMEM
,

44 
	m__GCONV_EMPTY_INPUT
,

45 
	m__GCONV_FULL_OUTPUT
,

46 
	m__GCONV_ILLEGAL_INPUT
,

47 
	m__GCONV_INCOMPLETE_INPUT
,

49 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

50 
	m__GCONV_INTERNAL_ERROR


57 
	m__GCONV_IS_LAST
 = 0x0001,

58 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

59 
	m__GCONV_SWAP
 = 0x0004,

60 
	m__GCONV_TRANSLIT
 = 0x0008

65 
	g__gcÚv_¡•
;

66 
	g__gcÚv_¡•_d©a
;

67 
	g__gcÚv_lßded_objeù
;

71 (*
	t__gcÚv_fù
è(
	t__gcÚv_¡•
 *, 
	t__gcÚv_¡•_d©a
 *,

73 **, 
	tsize_t
 *, , );

76 
	$wšt_t
 (*
	t__gcÚv_btowc_fù
è(
	t__gcÚv_¡•
 *, );

79 (*
	t__gcÚv_š™_fù
è(
	t__gcÚv_¡•
 *);

80 (*
	t__gcÚv_’d_fù
è(
	t__gcÚv_¡•
 *);

84 
	s__gcÚv_¡•


86 
__gcÚv_lßded_objeù
 *
__shlib_hªdË
;

87 cÚ¡ *
__modÇme
;

89 
__couÁ”
;

91 *
__äom_Çme
;

92 *
__to_Çme
;

94 
__gcÚv_fù
 
__fù
;

95 
__gcÚv_btowc_fù
 
__btowc_fù
;

96 
__gcÚv_š™_fù
 
__š™_fù
;

97 
__gcÚv_’d_fù
 
__’d_fù
;

101 
__mš_Ãeded_äom
;

102 
__max_Ãeded_äom
;

103 
__mš_Ãeded_to
;

104 
__max_Ãeded_to
;

107 
__¡©eful
;

109 *
__d©a
;

114 
	s__gcÚv_¡•_d©a


116 *
__outbuf
;

117 *
__outbuãnd
;

121 
__æags
;

125 
__švoÿtiÚ_couÁ”
;

129 
__š‹º®_u£
;

131 
__mb¡©e_t
 *
__¡©•
;

132 
__mb¡©e_t
 
__¡©e
;

138 
	s__gcÚv_šfo


140 
size_t
 
__n¡•s
;

141 
__gcÚv_¡•
 *
__¡•s
;

142 
__ex‹nsiÚ__
 
__gcÚv_¡•_d©a
 
__d©a
 
__æex¬r
;

143 } *
	t__gcÚv_t
;

146 
	`__gcÚv_Œª¦™”©e
 (
__gcÚv_¡•
 *
¡•
,

147 
__gcÚv_¡•_d©a
 *
¡•_d©a
,

148 cÚ¡ *
šbuf¡¬t
,

149 cÚ¡ **
šbuå
,

150 cÚ¡ *
šbuãnd
,

151 **
outbuf¡¬t
,

152 
size_t
 *
œ»v”sibË
);

	@/usr/include/gnu/stubs-32.h

6 #ifdeà
_LIBC


7 #”rÜ 
AµliÿtiÚs
 
may
 
nÙ
 
defše
 
the
 
maüo
 
_LIBC


10 
	#__¡ub_chæags


	)

11 
	#__¡ub_ç‰ach


	)

12 
	#__¡ub_fchæags


	)

13 
	#__¡ub_fd‘ach


	)

14 
	#__¡ub_g‰y


	)

15 
	#__¡ub_lchmod


	)

16 
	#__¡ub_»voke


	)

17 
	#__¡ub_£ogš


	)

18 
	#__¡ub_sig»tuº


	)

19 
	#__¡ub_s¡k


	)

20 
	#__¡ub_¡ty


	)

	@/usr/include/gnu/stubs-64.h

6 #ifdeà
_LIBC


7 #”rÜ 
AµliÿtiÚs
 
may
 
nÙ
 
defše
 
the
 
maüo
 
_LIBC


10 
	#__¡ub_bdæush


	)

11 
	#__¡ub_chæags


	)

12 
	#__¡ub_ç‰ach


	)

13 
	#__¡ub_fchæags


	)

14 
	#__¡ub_fd‘ach


	)

15 
	#__¡ub_g‘msg


	)

16 
	#__¡ub_g‰y


	)

17 
	#__¡ub_lchmod


	)

18 
	#__¡ub_putmsg


	)

19 
	#__¡ub_»voke


	)

20 
	#__¡ub_£ogš


	)

21 
	#__¡ub_sig»tuº


	)

22 
	#__¡ub_s¡k


	)

23 
	#__¡ub_¡ty


	)

	@/usr/include/gnu/stubs-x32.h

6 #ifdeà
_LIBC


7 #”rÜ 
AµliÿtiÚs
 
may
 
nÙ
 
defše
 
the
 
maüo
 
_LIBC


10 
	#__¡ub_bdæush


	)

11 
	#__¡ub_chæags


	)

12 
	#__¡ub_ü—‹_moduË


	)

13 
	#__¡ub_ç‰ach


	)

14 
	#__¡ub_fchæags


	)

15 
	#__¡ub_fd‘ach


	)

16 
	#__¡ub_g‘_k”Ãl_syms


	)

17 
	#__¡ub_g‘msg


	)

18 
	#__¡ub_g‰y


	)

19 
	#__¡ub_lchmod


	)

20 
	#__¡ub_nfs£rvùl


	)

21 
	#__¡ub_putmsg


	)

22 
	#__¡ub_qu”y_moduË


	)

23 
	#__¡ub_»voke


	)

24 
	#__¡ub_£ogš


	)

25 
	#__¡ub_sig»tuº


	)

26 
	#__¡ub_s¡k


	)

27 
	#__¡ub_¡ty


	)

28 
	#__¡ub_u£lib


	)

	@/usr/include/wchar.h

23 #iâdeà
_WCHAR_H


25 #ià!
defšed
 
__Ãed_mb¡©e_t
 && !defšed 
__Ãed_wšt_t


26 
	#_WCHAR_H
 1

	)

27 
	~<ã©u»s.h
>

30 #ifdeà
_WCHAR_H


32 
	#__Ãed___FILE


	)

33 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


34 
	#__Ãed_FILE


	)

36 
	~<¡dio.h
>

38 
	#__Ãed___va_li¡


	)

39 
	~<¡d¬g.h
>

41 
	~<b™s/wch¬.h
>

44 
	#__Ãed_size_t


	)

45 
	#__Ãed_wch¬_t


	)

46 
	#__Ãed_NULL


	)

48 #ià
defšed
 
_WCHAR_H
 || defšed 
__Ãed_wšt_t
 || !defšed 
__WINT_TYPE__


49 #undeà
__Ãed_wšt_t


50 
	#__Ãed_wšt_t


	)

51 
	~<¡ddef.h
>

55 #iâdeà
_WINT_T


60 
	#_WINT_T


	)

61 
	twšt_t
;

65 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES
 \

66 && 
defšed
 
__WINT_TYPE__


67 
__BEGIN_NAMESPACE_STD


68 
__WINT_TYPE__
 
	twšt_t
;

69 
	g__END_NAMESPACE_STD


74 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

75 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

79 #ià(
defšed
 
_WCHAR_H
 || defšed 
__Ãed_mb¡©e_t
è&& !defšed 
____mb¡©e_t_defšed


80 
	#____mb¡©e_t_defšed
 1

	)

84 
	m__couÁ
;

87 #ifdeà
__WINT_TYPE__


88 
__WINT_TYPE__
 
	m__wch
;

90 
wšt_t
 
	m__wch
;

92 
	m__wchb
[4];

93 } 
	m__v®ue
;

94 } 
	t__mb¡©e_t
;

96 #undeà
__Ãed_mb¡©e_t


101 #ifdeà
_WCHAR_H


103 #iâdeà
__mb¡©e_t_defšed


104 
__BEGIN_NAMESPACE_C99


106 
__mb¡©e_t
 
	tmb¡©e_t
;

107 
	g__END_NAMESPACE_C99


108 
	#__mb¡©e_t_defšed
 1

	)

111 #ifdeà
__USE_GNU


112 
	$__USING_NAMESPACE_C99
(
mb¡©e_t
)

115 #iâdeà
WCHAR_MIN


117 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

118 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

121 #iâdeà
WEOF


122 
	#WEOF
 (0xffffffffu)

	)

127 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_UNIX98


128 
	~<wùy³.h
>

132 
__BEGIN_DECLS


134 
__BEGIN_NAMESPACE_STD


137 
tm
;

138 
__END_NAMESPACE_STD


142 
	$__USING_NAMESPACE_STD
(
tm
)

145 
__BEGIN_NAMESPACE_STD


147 
wch¬_t
 *
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

148 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

150 
wch¬_t
 *
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

151 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

152 
__THROW
;

155 
wch¬_t
 *
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

156 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

158 
wch¬_t
 *
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

159 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

160 
__THROW
;

163 
	$wcscmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
)

164 
__THROW
 
__©Œibu‹_pu»__
;

166 
	$wc¢cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

167 
__THROW
 
__©Œibu‹_pu»__
;

168 
__END_NAMESPACE_STD


170 #ifdeà
__USE_XOPEN2K8


172 
	$wcsÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

175 
	$wc¢ÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

176 
size_t
 
__n
è
__THROW
;

180 
	~<xloÿË.h
>

182 
	$wcsÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

183 
__loÿË_t
 
__loc
è
__THROW
;

185 
	$wc¢ÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

186 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

189 
__BEGIN_NAMESPACE_STD


192 
	$wcscŞl
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

196 
size_t
 
	$wcsxäm
 (
wch¬_t
 *
__»¡riù
 
__s1
,

197 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

198 
__END_NAMESPACE_STD


200 #ifdeà
__USE_XOPEN2K8


206 
	$wcscŞl_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

207 
__loÿË_t
 
__loc
è
__THROW
;

212 
size_t
 
	$wcsxäm_l
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

213 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

216 
wch¬_t
 *
	$wcsdup
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_m®loc__
;

219 
__BEGIN_NAMESPACE_STD


221 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


222 "C++" 
wch¬_t
 *
	$wcschr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

223 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

224 "C++" cÚ¡ 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

225 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

227 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

228 
__THROW
 
__©Œibu‹_pu»__
;

231 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


232 "C++" 
wch¬_t
 *
	$wc¤chr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

233 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

234 "C++" cÚ¡ 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

235 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

237 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

238 
__THROW
 
__©Œibu‹_pu»__
;

240 
__END_NAMESPACE_STD


242 #ifdeà
__USE_GNU


245 
wch¬_t
 *
	$wcschºul
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__wc
)

246 
__THROW
 
__©Œibu‹_pu»__
;

249 
__BEGIN_NAMESPACE_STD


252 
size_t
 
	$wcsc¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__»jeù
)

253 
__THROW
 
__©Œibu‹_pu»__
;

256 
size_t
 
	$wcs¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

257 
__THROW
 
__©Œibu‹_pu»__
;

259 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


260 "C++" 
wch¬_t
 *
	$wc¥brk
 (
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

261 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

262 "C++" cÚ¡ 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
,

263 cÚ¡ 
wch¬_t
 *
__acû±
)

264 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

266 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

267 
__THROW
 
__©Œibu‹_pu»__
;

270 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


271 "C++" 
wch¬_t
 *
	$wcs¡r
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

272 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

273 "C++" cÚ¡ 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

274 cÚ¡ 
wch¬_t
 *
__ÃedË
)

275 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

277 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

278 
__THROW
 
__©Œibu‹_pu»__
;

282 
wch¬_t
 *
	$wc¡ok
 (
wch¬_t
 *
__»¡riù
 
__s
,

283 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__d–im
,

284 
wch¬_t
 **
__»¡riù
 
__±r
è
__THROW
;

287 
size_t
 
	$wc¦’
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_pu»__
;

288 
__END_NAMESPACE_STD


290 #ifdeà
__USE_XOPEN


292 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


293 "C++" 
wch¬_t
 *
	$wcswcs
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

294 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

295 "C++" cÚ¡ 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

296 cÚ¡ 
wch¬_t
 *
__ÃedË
)

297 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

299 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

300 
__THROW
 
__©Œibu‹_pu»__
;

304 #ifdeà
__USE_XOPEN2K8


306 
size_t
 
	$wc¢Ën
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__maxËn
)

307 
__THROW
 
__©Œibu‹_pu»__
;

311 
__BEGIN_NAMESPACE_STD


313 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


314 "C++" 
wch¬_t
 *
	$wmemchr
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

316 "C++" cÚ¡ 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
,

317 
size_t
 
__n
)

318 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

320 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

321 
__THROW
 
__©Œibu‹_pu»__
;

325 
	$wmemcmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

326 
__THROW
 
__©Œibu‹_pu»__
;

329 
wch¬_t
 *
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

330 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

334 
wch¬_t
 *
	$wmemmove
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

335 
__THROW
;

338 
wch¬_t
 *
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
è
__THROW
;

339 
__END_NAMESPACE_STD


341 #ifdeà
__USE_GNU


344 
wch¬_t
 *
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

345 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

346 
__THROW
;

350 
__BEGIN_NAMESPACE_STD


353 
wšt_t
 
	$btowc
 (
__c
è
__THROW
;

357 
	$wùob
 (
wšt_t
 
__c
è
__THROW
;

361 
	$mbsš™
 (cÚ¡ 
mb¡©e_t
 *
__ps
è
__THROW
 
__©Œibu‹_pu»__
;

365 
size_t
 
	$mb¹owc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

366 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

367 
mb¡©e_t
 *
__»¡riù
 
__p
è
__THROW
;

370 
size_t
 
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wc
,

371 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

374 
size_t
 
	$__mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

375 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

376 
size_t
 
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

377 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

378 
__END_NAMESPACE_STD


380 #ifdeà
__USE_EXTERN_INLINES


386 
wšt_t
 
	$__btowc_®Ÿs
 (
__c
è
	`__asm
 ("btowc");

387 
__ex‹º_šlše
 
wšt_t


388 
	`__NTH
 (
	$btowc
 (
__c
))

389 {  (
	`__butš_cÚ¡ªt_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

390 ? (
wšt_t
è
__c
 : 
	`__btowc_®Ÿs
 (__c)); 
	}
}

392 
	$__wùob_®Ÿs
 (
wšt_t
 
__c
è
	`__asm
 ("wctob");

393 
__ex‹º_šlše
 

394 
	`__NTH
 (
	$wùob
 (
wšt_t
 
__wc
))

395 {  (
	`__butš_cÚ¡ªt_p
 (
__wc
è&& __wø>ğ
L
'\0' && __wc <= L'\x7f'

396 ? (è
__wc
 : 
	`__wùob_®Ÿs
 (__wc)); 
	}
}

398 
__ex‹º_šlše
 
size_t


399 
__NTH
 (
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

400 
mb¡©e_t
 *
__»¡riù
 
__ps
))

401 {  (
__ps
 !ğ
NULL


402 ? 
	`mb¹owc
 (
NULL
, 
__s
, 
__n
, 
__ps
è: 
	`__mb¾’
 (__s, __n, NULL)); 
	}
}

405 
__BEGIN_NAMESPACE_STD


408 
size_t
 
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

409 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

410 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

414 
size_t
 
	$wc¤tombs
 (*
__»¡riù
 
__d¡
,

415 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

416 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

417 
__END_NAMESPACE_STD


420 #ifdef 
__USE_XOPEN2K8


423 
size_t
 
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

424 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

425 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

429 
size_t
 
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
,

430 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

431 
size_t
 
__nwc
, size_ˆ
__Ën
,

432 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

437 #ifdeà
__USE_XOPEN


439 
	$wcwidth
 (
wch¬_t
 
__c
è
__THROW
;

443 
	$wcswidth
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__n
è
__THROW
;

447 
__BEGIN_NAMESPACE_STD


450 
	$wc¡od
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

451 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

452 
__END_NAMESPACE_STD


454 #ifdeà
__USE_ISOC99


455 
__BEGIN_NAMESPACE_C99


457 
	$wc¡of
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

458 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

459 
	$wc¡Şd
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

460 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

461 
__END_NAMESPACE_C99


465 
__BEGIN_NAMESPACE_STD


468 
	$wc¡Ş
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

469 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

473 
	$wc¡oul
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

474 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

475 
__THROW
;

476 
__END_NAMESPACE_STD


478 #ifdeà
__USE_ISOC99


479 
__BEGIN_NAMESPACE_C99


482 
__ex‹nsiÚ__


483 
	$wc¡Şl
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

484 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

485 
__THROW
;

489 
__ex‹nsiÚ__


490 
	$wc¡ouÎ
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

491 
wch¬_t
 **
__»¡riù
 
__’d±r
,

492 
__ba£
è
__THROW
;

493 
__END_NAMESPACE_C99


496 #ifdeà
__USE_GNU


499 
__ex‹nsiÚ__


500 
	$wc¡oq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

501 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

502 
__THROW
;

506 
__ex‹nsiÚ__


507 
	$wc¡ouq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

508 
wch¬_t
 **
__»¡riù
 
__’d±r
,

509 
__ba£
è
__THROW
;

512 #ifdeà
__USE_GNU


526 
	~<xloÿË.h
>

530 
	$wc¡Ş_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

531 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
,

532 
__loÿË_t
 
__loc
è
__THROW
;

534 
	$wc¡oul_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

535 
wch¬_t
 **
__»¡riù
 
__’d±r
,

536 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

538 
__ex‹nsiÚ__


539 
	$wc¡Şl_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

540 
wch¬_t
 **
__»¡riù
 
__’d±r
,

541 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

543 
__ex‹nsiÚ__


544 
	$wc¡ouÎ_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

545 
wch¬_t
 **
__»¡riù
 
__’d±r
,

546 
__ba£
, 
__loÿË_t
 
__loc
)

547 
__THROW
;

549 
	$wc¡od_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

550 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

551 
__THROW
;

553 
	$wc¡of_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

554 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

555 
__THROW
;

557 
	$wc¡Şd_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

558 
wch¬_t
 **
__»¡riù
 
__’d±r
,

559 
__loÿË_t
 
__loc
è
__THROW
;

563 #ifdeà
__USE_XOPEN2K8


566 
wch¬_t
 *
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

567 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

571 
wch¬_t
 *
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

572 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

573 
__THROW
;

580 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
;

583 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


584 
__BEGIN_NAMESPACE_STD


587 
	$fwide
 (
__FILE
 *
__å
, 
__mode
è
__THROW
;

594 
	`fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

595 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

601 
	`w´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

604 
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

605 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

606 
__THROW
 ;

612 
	`vfw´štf
 (
__FILE
 *
__»¡riù
 
__s
,

613 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

614 
__gnuc_va_li¡
 
__¬g
)

620 
	`vw´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

621 
__gnuc_va_li¡
 
__¬g
)

625 
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

626 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

627 
__gnuc_va_li¡
 
__¬g
)

628 
__THROW
 ;

635 
	`fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

636 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

642 
	`wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

645 
	$swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

646 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

647 
__THROW
 ;

649 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

650 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

651 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

652 #ifdeà
__REDIRECT


656 
	`__REDIRECT
 (
fwsÿnf
, (
__FILE
 *
__»¡riù
 
__¡»am
,

657 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

658 
__isoc99_fwsÿnf
)

660 
	`__REDIRECT
 (
wsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

661 
__isoc99_wsÿnf
)

663 
	`__REDIRECT_NTH
 (
swsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

664 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

665 ...), 
__isoc99_swsÿnf
)

668 
	`__isoc99_fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

669 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

670 
	`__isoc99_wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

671 
	$__isoc99_swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

672 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

673 
__THROW
;

674 
	#fwsÿnf
 
__isoc99_fwsÿnf


	)

675 
	#wsÿnf
 
__isoc99_wsÿnf


	)

676 
	#swsÿnf
 
__isoc99_swsÿnf


	)

680 
__END_NAMESPACE_STD


683 #ifdeà
__USE_ISOC99


684 
__BEGIN_NAMESPACE_C99


689 
	`vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

690 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

691 
__gnuc_va_li¡
 
__¬g
)

697 
	`vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

698 
__gnuc_va_li¡
 
__¬g
)

701 
	$vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

702 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

703 
__gnuc_va_li¡
 
__¬g
)

704 
__THROW
 ;

706 #ià!
defšed
 
__USE_GNU
 \

707 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

708 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

709 #ifdeà
__REDIRECT


710 
	`__REDIRECT
 (
vfwsÿnf
, (
__FILE
 *
__»¡riù
 
__s
,

711 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

712 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vfwsÿnf
)

714 
	`__REDIRECT
 (
vwsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

715 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vwsÿnf
)

717 
	`__REDIRECT_NTH
 (
vswsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

718 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

719 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vswsÿnf
)

722 
	`__isoc99_vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

723 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

724 
__gnuc_va_li¡
 
__¬g
);

725 
	`__isoc99_vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

726 
__gnuc_va_li¡
 
__¬g
);

727 
	$__isoc99_vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

728 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

729 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

730 
	#vfwsÿnf
 
__isoc99_vfwsÿnf


	)

731 
	#vwsÿnf
 
__isoc99_vwsÿnf


	)

732 
	#vswsÿnf
 
__isoc99_vswsÿnf


	)

736 
__END_NAMESPACE_C99


740 
__BEGIN_NAMESPACE_STD


745 
wšt_t
 
	`fg‘wc
 (
__FILE
 *
__¡»am
);

746 
wšt_t
 
	`g‘wc
 (
__FILE
 *
__¡»am
);

752 
wšt_t
 
	`g‘wch¬
 ();

759 
wšt_t
 
	`åutwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

760 
wšt_t
 
	`putwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

766 
wšt_t
 
	`putwch¬
 (
wch¬_t
 
__wc
);

774 
wch¬_t
 *
	`fg‘ws
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

775 
__FILE
 *
__»¡riù
 
__¡»am
);

781 
	`åutws
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

782 
__FILE
 *
__»¡riù
 
__¡»am
);

789 
wšt_t
 
	`ung‘wc
 (wšt_ˆ
__wc
, 
__FILE
 *
__¡»am
);

790 
__END_NAMESPACE_STD


793 #ifdeà
__USE_GNU


801 
wšt_t
 
	`g‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

802 
wšt_t
 
	`g‘wch¬_uÆocked
 ();

810 
wšt_t
 
	`fg‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

818 
wšt_t
 
	`åutwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

827 
wšt_t
 
	`putwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

828 
wšt_t
 
	`putwch¬_uÆocked
 (
wch¬_t
 
__wc
);

837 
wch¬_t
 *
	`fg‘ws_uÆocked
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

838 
__FILE
 *
__»¡riù
 
__¡»am
);

846 
	`åutws_uÆocked
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

847 
__FILE
 *
__»¡riù
 
__¡»am
);

851 
__BEGIN_NAMESPACE_C99


855 
size_t
 
	$wcsáime
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

856 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

857 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

858 
__END_NAMESPACE_C99


860 #ifdeà
__USE_GNU


861 
	~<xloÿË.h
>

865 
size_t
 
	$wcsáime_l
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

866 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

867 cÚ¡ 
tm
 *
__»¡riù
 
__
,

868 
__loÿË_t
 
__loc
è
__THROW
;

877 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_GNU


878 
	#__Ãed_iswxxx


	)

879 
	~<wùy³.h
>

883 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


884 
	~<b™s/wch¬2.h
>

887 #ifdeà
__LDBL_COMPAT


888 
	~<b™s/wch¬-ldbl.h
>

891 
__END_DECLS


899 #undeà
__Ãed_mb¡©e_t


900 #undeà
__Ãed_wšt_t


	@/usr/include/asm-generic/errno.h

1 #iâdeà
_ASM_GENERIC_ERRNO_H


2 
	#_ASM_GENERIC_ERRNO_H


	)

4 
	~<asm-g’”ic/”ºo-ba£.h
>

6 
	#EDEADLK
 35

	)

7 
	#ENAMETOOLONG
 36

	)

8 
	#ENOLCK
 37

	)

9 
	#ENOSYS
 38

	)

10 
	#ENOTEMPTY
 39

	)

11 
	#ELOOP
 40

	)

12 
	#EWOULDBLOCK
 
EAGAIN


	)

13 
	#ENOMSG
 42

	)

14 
	#EIDRM
 43

	)

15 
	#ECHRNG
 44

	)

16 
	#EL2NSYNC
 45

	)

17 
	#EL3HLT
 46

	)

18 
	#EL3RST
 47

	)

19 
	#ELNRNG
 48

	)

20 
	#EUNATCH
 49

	)

21 
	#ENOCSI
 50

	)

22 
	#EL2HLT
 51

	)

23 
	#EBADE
 52

	)

24 
	#EBADR
 53

	)

25 
	#EXFULL
 54

	)

26 
	#ENOANO
 55

	)

27 
	#EBADRQC
 56

	)

28 
	#EBADSLT
 57

	)

30 
	#EDEADLOCK
 
EDEADLK


	)

32 
	#EBFONT
 59

	)

33 
	#ENOSTR
 60

	)

34 
	#ENODATA
 61

	)

35 
	#ETIME
 62

	)

36 
	#ENOSR
 63

	)

37 
	#ENONET
 64

	)

38 
	#ENOPKG
 65

	)

39 
	#EREMOTE
 66

	)

40 
	#ENOLINK
 67

	)

41 
	#EADV
 68

	)

42 
	#ESRMNT
 69

	)

43 
	#ECOMM
 70

	)

44 
	#EPROTO
 71

	)

45 
	#EMULTIHOP
 72

	)

46 
	#EDOTDOT
 73

	)

47 
	#EBADMSG
 74

	)

48 
	#EOVERFLOW
 75

	)

49 
	#ENOTUNIQ
 76

	)

50 
	#EBADFD
 77

	)

51 
	#EREMCHG
 78

	)

52 
	#ELIBACC
 79

	)

53 
	#ELIBBAD
 80

	)

54 
	#ELIBSCN
 81

	)

55 
	#ELIBMAX
 82

	)

56 
	#ELIBEXEC
 83

	)

57 
	#EILSEQ
 84

	)

58 
	#ERESTART
 85

	)

59 
	#ESTRPIPE
 86

	)

60 
	#EUSERS
 87

	)

61 
	#ENOTSOCK
 88

	)

62 
	#EDESTADDRREQ
 89

	)

63 
	#EMSGSIZE
 90

	)

64 
	#EPROTOTYPE
 91

	)

65 
	#ENOPROTOOPT
 92

	)

66 
	#EPROTONOSUPPORT
 93

	)

67 
	#ESOCKTNOSUPPORT
 94

	)

68 
	#EOPNOTSUPP
 95

	)

69 
	#EPFNOSUPPORT
 96

	)

70 
	#EAFNOSUPPORT
 97

	)

71 
	#EADDRINUSE
 98

	)

72 
	#EADDRNOTAVAIL
 99

	)

73 
	#ENETDOWN
 100

	)

74 
	#ENETUNREACH
 101

	)

75 
	#ENETRESET
 102

	)

76 
	#ECONNABORTED
 103

	)

77 
	#ECONNRESET
 104

	)

78 
	#ENOBUFS
 105

	)

79 
	#EISCONN
 106

	)

80 
	#ENOTCONN
 107

	)

81 
	#ESHUTDOWN
 108

	)

82 
	#ETOOMANYREFS
 109

	)

83 
	#ETIMEDOUT
 110

	)

84 
	#ECONNREFUSED
 111

	)

85 
	#EHOSTDOWN
 112

	)

86 
	#EHOSTUNREACH
 113

	)

87 
	#EALREADY
 114

	)

88 
	#EINPROGRESS
 115

	)

89 
	#ESTALE
 116

	)

90 
	#EUCLEAN
 117

	)

91 
	#ENOTNAM
 118

	)

92 
	#ENAVAIL
 119

	)

93 
	#EISNAM
 120

	)

94 
	#EREMOTEIO
 121

	)

95 
	#EDQUOT
 122

	)

97 
	#ENOMEDIUM
 123

	)

98 
	#EMEDIUMTYPE
 124

	)

99 
	#ECANCELED
 125

	)

100 
	#ENOKEY
 126

	)

101 
	#EKEYEXPIRED
 127

	)

102 
	#EKEYREVOKED
 128

	)

103 
	#EKEYREJECTED
 129

	)

106 
	#EOWNERDEAD
 130

	)

107 
	#ENOTRECOVERABLE
 131

	)

109 
	#ERFKILL
 132

	)

111 
	#EHWPOISON
 133

	)

	@/usr/include/asm-generic/ioctls.h

1 #iâdeà
__ASM_GENERIC_IOCTLS_H


2 
	#__ASM_GENERIC_IOCTLS_H


	)

4 
	~<lšux/ioùl.h
>

19 
	#TCGETS
 0x5401

	)

20 
	#TCSETS
 0x5402

	)

21 
	#TCSETSW
 0x5403

	)

22 
	#TCSETSF
 0x5404

	)

23 
	#TCGETA
 0x5405

	)

24 
	#TCSETA
 0x5406

	)

25 
	#TCSETAW
 0x5407

	)

26 
	#TCSETAF
 0x5408

	)

27 
	#TCSBRK
 0x5409

	)

28 
	#TCXONC
 0x540A

	)

29 
	#TCFLSH
 0x540B

	)

30 
	#TIOCEXCL
 0x540C

	)

31 
	#TIOCNXCL
 0x540D

	)

32 
	#TIOCSCTTY
 0x540E

	)

33 
	#TIOCGPGRP
 0x540F

	)

34 
	#TIOCSPGRP
 0x5410

	)

35 
	#TIOCOUTQ
 0x5411

	)

36 
	#TIOCSTI
 0x5412

	)

37 
	#TIOCGWINSZ
 0x5413

	)

38 
	#TIOCSWINSZ
 0x5414

	)

39 
	#TIOCMGET
 0x5415

	)

40 
	#TIOCMBIS
 0x5416

	)

41 
	#TIOCMBIC
 0x5417

	)

42 
	#TIOCMSET
 0x5418

	)

43 
	#TIOCGSOFTCAR
 0x5419

	)

44 
	#TIOCSSOFTCAR
 0x541A

	)

45 
	#FIONREAD
 0x541B

	)

46 
	#TIOCINQ
 
FIONREAD


	)

47 
	#TIOCLINUX
 0x541C

	)

48 
	#TIOCCONS
 0x541D

	)

49 
	#TIOCGSERIAL
 0x541E

	)

50 
	#TIOCSSERIAL
 0x541F

	)

51 
	#TIOCPKT
 0x5420

	)

52 
	#FIONBIO
 0x5421

	)

53 
	#TIOCNOTTY
 0x5422

	)

54 
	#TIOCSETD
 0x5423

	)

55 
	#TIOCGETD
 0x5424

	)

56 
	#TCSBRKP
 0x5425

	)

57 
	#TIOCSBRK
 0x5427

	)

58 
	#TIOCCBRK
 0x5428

	)

59 
	#TIOCGSID
 0x5429

	)

60 
	#TCGETS2
 
	`_IOR
('T', 0x2A, 
‹rmios2
)

	)

61 
	#TCSETS2
 
	`_IOW
('T', 0x2B, 
‹rmios2
)

	)

62 
	#TCSETSW2
 
	`_IOW
('T', 0x2C, 
‹rmios2
)

	)

63 
	#TCSETSF2
 
	`_IOW
('T', 0x2D, 
‹rmios2
)

	)

64 
	#TIOCGRS485
 0x542E

	)

65 #iâdeà
TIOCSRS485


66 
	#TIOCSRS485
 0x542F

	)

68 
	#TIOCGPTN
 
	`_IOR
('T', 0x30, è

	)

69 
	#TIOCSPTLCK
 
	`_IOW
('T', 0x31, è

	)

70 
	#TIOCGDEV
 
	`_IOR
('T', 0x32, è

	)

71 
	#TCGETX
 0x5432

	)

72 
	#TCSETX
 0x5433

	)

73 
	#TCSETXF
 0x5434

	)

74 
	#TCSETXW
 0x5435

	)

75 
	#TIOCSIG
 
	`_IOW
('T', 0x36, è

	)

76 
	#TIOCVHANGUP
 0x5437

	)

77 
	#TIOCGPKT
 
	`_IOR
('T', 0x38, è

	)

78 
	#TIOCGPTLCK
 
	`_IOR
('T', 0x39, è

	)

79 
	#TIOCGEXCL
 
	`_IOR
('T', 0x40, è

	)

81 
	#FIONCLEX
 0x5450

	)

82 
	#FIOCLEX
 0x5451

	)

83 
	#FIOASYNC
 0x5452

	)

84 
	#TIOCSERCONFIG
 0x5453

	)

85 
	#TIOCSERGWILD
 0x5454

	)

86 
	#TIOCSERSWILD
 0x5455

	)

87 
	#TIOCGLCKTRMIOS
 0x5456

	)

88 
	#TIOCSLCKTRMIOS
 0x5457

	)

89 
	#TIOCSERGSTRUCT
 0x5458

	)

90 
	#TIOCSERGETLSR
 0x5459

	)

91 
	#TIOCSERGETMULTI
 0x545A

	)

92 
	#TIOCSERSETMULTI
 0x545B

	)

94 
	#TIOCMIWAIT
 0x545C

	)

95 
	#TIOCGICOUNT
 0x545D

	)

101 #iâdeà
FIOQSIZE


102 
	#FIOQSIZE
 0x5460

	)

106 
	#TIOCPKT_DATA
 0

	)

107 
	#TIOCPKT_FLUSHREAD
 1

	)

108 
	#TIOCPKT_FLUSHWRITE
 2

	)

109 
	#TIOCPKT_STOP
 4

	)

110 
	#TIOCPKT_START
 8

	)

111 
	#TIOCPKT_NOSTOP
 16

	)

112 
	#TIOCPKT_DOSTOP
 32

	)

113 
	#TIOCPKT_IOCTL
 64

	)

115 
	#TIOCSER_TEMT
 0x01

	)

	@/usr/include/bits/wchar-ldbl.h

19 #iâdeà
_WCHAR_H


23 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


24 
__BEGIN_NAMESPACE_C99


25 
__LDBL_REDIR_DECL
 (
fw´štf
);

26 
__LDBL_REDIR_DECL
 (
w´štf
);

27 
__LDBL_REDIR_DECL
 (
sw´štf
);

28 
__LDBL_REDIR_DECL
 (
vfw´štf
);

29 
__LDBL_REDIR_DECL
 (
vw´štf
);

30 
__LDBL_REDIR_DECL
 (
vsw´štf
);

31 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

32 && !
defšed
 
	g__REDIRECT
 \

33 && (
defšed
 
	g__STRICT_ANSI__
 || defšed 
	g__USE_XOPEN2K
)

34 
	$__LDBL_REDIR1_DECL
 (
fwsÿnf
, 
__Ædbl___isoc99_fwsÿnf
)

35 
	$__LDBL_REDIR1_DECL
 (
wsÿnf
, 
__Ædbl___isoc99_wsÿnf
)

36 
	$__LDBL_REDIR1_DECL
 (
swsÿnf
, 
__Ædbl___isoc99_swsÿnf
)

38 
	`__LDBL_REDIR_DECL
 (
fwsÿnf
);

39 
	`__LDBL_REDIR_DECL
 (
wsÿnf
);

40 
	`__LDBL_REDIR_DECL
 (
swsÿnf
);

42 
__END_NAMESPACE_C99


45 #ifdeà
__USE_ISOC99


46 
__BEGIN_NAMESPACE_C99


47 
	`__LDBL_REDIR1_DECL
 (
wc¡Şd
, 
wc¡od
);

48 #ià!
defšed
 
__USE_GNU
 && !defšed 
__REDIRECT
 \

49 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

50 
	$__LDBL_REDIR1_DECL
 (
vfwsÿnf
, 
__Ædbl___isoc99_vfwsÿnf
)

51 
	$__LDBL_REDIR1_DECL
 (
vwsÿnf
, 
__Ædbl___isoc99_vwsÿnf
)

52 
	$__LDBL_REDIR1_DECL
 (
vswsÿnf
, 
__Ædbl___isoc99_vswsÿnf
)

54 
	`__LDBL_REDIR_DECL
 (
vfwsÿnf
);

55 
	`__LDBL_REDIR_DECL
 (
vwsÿnf
);

56 
	`__LDBL_REDIR_DECL
 (
vswsÿnf
);

58 
__END_NAMESPACE_C99


61 #ifdeà
__USE_GNU


62 
	`__LDBL_REDIR1_DECL
 (
wc¡Şd_l
, 
wc¡od_l
);

65 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


66 
	$__LDBL_REDIR_DECL
 (
__sw´štf_chk
)

67 
	$__LDBL_REDIR_DECL
 (
__vsw´štf_chk
)

68 #ià
__USE_FORTIFY_LEVEL
 > 1

69 
	$__LDBL_REDIR_DECL
 (
__fw´štf_chk
)

70 
	$__LDBL_REDIR_DECL
 (
__w´štf_chk
)

71 
	$__LDBL_REDIR_DECL
 (
__vfw´štf_chk
)

72 
	$__LDBL_REDIR_DECL
 (
__vw´štf_chk
)

	@/usr/include/bits/wchar2.h

19 #iâdeà
_WCHAR_H


24 
wch¬_t
 *
	$__wmemıy_chk
 (
wch¬_t
 *
__»¡riù
 
__s1
,

25 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

26 
size_t
 
__ns1
è
__THROW
;

27 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemıy_®Ÿs
,

28 (
wch¬_t
 *
__»¡riù
 
__s1
,

29 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
),

30 
wmemıy
);

31 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemıy_chk_w¬n
,

32 (
wch¬_t
 *
__»¡riù
 
__s1
,

33 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

34 
size_t
 
__ns1
), 
__wmemıy_chk
)

35 
	`__w¬Ç‰r
 ("wmemcpy called with†ength biggerhan size of destination "

38 
__fÜtify_funùiÚ
 
wch¬_t
 *

39 
	`__NTH
 (
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
, cÚ¡ wch¬_ˆ*__»¡riù 
__s2
,

40 
size_t
 
__n
))

42 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

44 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

45  
	`__wmemıy_chk
 (
__s1
, 
__s2
, 
__n
,

46 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

48 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

49  
	`__wmemıy_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

50 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

52  
	`__wmemıy_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

53 
	}
}

56 
wch¬_t
 *
	$__wmemmove_chk
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

57 
size_t
 
__n
, size_ˆ
__ns1
è
__THROW
;

58 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_®Ÿs
, (wch¬_ˆ*
__s1
,

59 cÚ¡ 
wch¬_t
 *
__s2
,

60 
size_t
 
__n
), 
wmemmove
);

61 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_chk_w¬n
,

62 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

63 
size_t
 
__n
, size_ˆ
__ns1
), 
__wmemmove_chk
)

64 
	`__w¬Ç‰r
 ("wmemmove called with†ength biggerhan size of destination "

67 
__fÜtify_funùiÚ
 
wch¬_t
 *

68 
	`__NTH
 (
	$wmemmove
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
))

70 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

72 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

73  
	`__wmemmove_chk
 (
__s1
, 
__s2
, 
__n
,

74 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

76 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

77  
	`__wmemmove_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

78 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

80  
	`__wmemmove_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

81 
	}
}

84 #ifdeà
__USE_GNU


85 
wch¬_t
 *
	$__wmempıy_chk
 (
wch¬_t
 *
__»¡riù
 
__s1
,

86 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

87 
size_t
 
__ns1
è
__THROW
;

88 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmempıy_®Ÿs
,

89 (
wch¬_t
 *
__»¡riù
 
__s1
,

90 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
,

91 
size_t
 
__n
), 
wmempıy
);

92 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmempıy_chk_w¬n
,

93 (
wch¬_t
 *
__»¡riù
 
__s1
,

94 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

95 
size_t
 
__ns1
), 
__wmempıy_chk
)

96 
	`__w¬Ç‰r
 ("wmempcpy called with†ength biggerhan size of destination "

99 
__fÜtify_funùiÚ
 
wch¬_t
 *

100 
	`__NTH
 (
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
, cÚ¡ wch¬_ˆ*__»¡riù 
__s2
,

101 
size_t
 
__n
))

103 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

105 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

106  
	`__wmempıy_chk
 (
__s1
, 
__s2
, 
__n
,

107 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

109 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

110  
	`__wmempıy_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

111 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

113  
	`__wmempıy_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

114 
	}
}

118 
wch¬_t
 *
	$__wmem£t_chk
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
,

119 
size_t
 
__ns
è
__THROW
;

120 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_®Ÿs
, (wch¬_ˆ*
__s
, wch¬_ˆ
__c
,

121 
size_t
 
__n
), 
wmem£t
);

122 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_chk_w¬n
,

123 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
,

124 
size_t
 
__ns
), 
__wmem£t_chk
)

125 
	`__w¬Ç‰r
 ("wmemset called with†ength biggerhan size of destination "

128 
__fÜtify_funùiÚ
 
wch¬_t
 *

129 
	`__NTH
 (
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
))

131 ià(
	`__bos0
 (
__s
è!ğ(
size_t
) -1)

133 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

134  
	`__wmem£t_chk
 (
__s
, 
__c
, 
__n
, 
	`__bos0
 (__sè/  (
wch¬_t
));

136 ià(
__n
 > 
	`__bos0
 (
__s
è/  (
wch¬_t
))

137  
	`__wmem£t_chk_w¬n
 (
__s
, 
__c
, 
__n
,

138 
	`__bos0
 (
__s
è/  (
wch¬_t
));

140  
	`__wmem£t_®Ÿs
 (
__s
, 
__c
, 
__n
);

141 
	}
}

144 
wch¬_t
 *
	$__wcsıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

145 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

146 
size_t
 
__n
è
__THROW
;

147 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wcsıy_®Ÿs
,

148 (
wch¬_t
 *
__»¡riù
 
__de¡
,

149 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wcsıy
);

151 
__fÜtify_funùiÚ
 
wch¬_t
 *

152 
	`__NTH
 (
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
))

154 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

155  
	`__wcsıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

156  
	`__wcsıy_®Ÿs
 (
__de¡
, 
__¤c
);

157 
	}
}

160 
wch¬_t
 *
	$__wııy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

161 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

162 
size_t
 
__de¡Ën
è
__THROW
;

163 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wııy_®Ÿs
,

164 (
wch¬_t
 *
__»¡riù
 
__de¡
,

165 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wııy
);

167 
__fÜtify_funùiÚ
 
wch¬_t
 *

168 
	`__NTH
 (
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
))

170 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

171  
	`__wııy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

172  
	`__wııy_®Ÿs
 (
__de¡
, 
__¤c
);

173 
	}
}

176 
wch¬_t
 *
	$__wc¢ıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

177 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
,

178 
size_t
 
__de¡Ën
è
__THROW
;

179 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ıy_®Ÿs
,

180 (
wch¬_t
 *
__»¡riù
 
__de¡
,

181 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

182 
size_t
 
__n
), 
wc¢ıy
);

183 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ıy_chk_w¬n
,

184 (
wch¬_t
 *
__»¡riù
 
__de¡
,

185 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

186 
size_t
 
__n
, size_ˆ
__de¡Ën
), 
__wc¢ıy_chk
)

187 
	`__w¬Ç‰r
 ("wcsncpy called with†ength biggerhan size of destination "

190 
__fÜtify_funùiÚ
 
wch¬_t
 *

191 
	`__NTH
 (
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
,

192 
size_t
 
__n
))

194 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

196 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

197  
	`__wc¢ıy_chk
 (
__de¡
, 
__¤c
, 
__n
,

198 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

199 ià(
__n
 > 
	`__bos
 (
__de¡
è/  (
wch¬_t
))

200  
	`__wc¢ıy_chk_w¬n
 (
__de¡
, 
__¤c
, 
__n
,

201 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

203  
	`__wc¢ıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

204 
	}
}

207 
wch¬_t
 *
	$__wınıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

208 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
,

209 
size_t
 
__de¡Ën
è
__THROW
;

210 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wınıy_®Ÿs
,

211 (
wch¬_t
 *
__»¡riù
 
__de¡
,

212 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

213 
size_t
 
__n
), 
wınıy
);

214 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wınıy_chk_w¬n
,

215 (
wch¬_t
 *
__»¡riù
 
__de¡
,

216 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

217 
size_t
 
__n
, size_ˆ
__de¡Ën
), 
__wınıy_chk
)

218 
	`__w¬Ç‰r
 ("wcpncpy called with†ength biggerhan size of destination "

221 
__fÜtify_funùiÚ
 
wch¬_t
 *

222 
	`__NTH
 (
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
,

223 
size_t
 
__n
))

225 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

227 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

228  
	`__wınıy_chk
 (
__de¡
, 
__¤c
, 
__n
,

229 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

230 ià(
__n
 > 
	`__bos
 (
__de¡
è/  (
wch¬_t
))

231  
	`__wınıy_chk_w¬n
 (
__de¡
, 
__¤c
, 
__n
,

232 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

234  
	`__wınıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

235 
	}
}

238 
wch¬_t
 *
	$__wcsÿt_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

239 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

240 
size_t
 
__de¡Ën
è
__THROW
;

241 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wcsÿt_®Ÿs
,

242 (
wch¬_t
 *
__»¡riù
 
__de¡
,

243 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wcsÿt
);

245 
__fÜtify_funùiÚ
 
wch¬_t
 *

246 
	`__NTH
 (
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
))

248 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

249  
	`__wcsÿt_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

250  
	`__wcsÿt_®Ÿs
 (
__de¡
, 
__¤c
);

251 
	}
}

254 
wch¬_t
 *
	$__wc¢ÿt_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

255 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

256 
size_t
 
__n
, size_ˆ
__de¡Ën
è
__THROW
;

257 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ÿt_®Ÿs
,

258 (
wch¬_t
 *
__»¡riù
 
__de¡
,

259 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

260 
size_t
 
__n
), 
wc¢ÿt
);

262 
__fÜtify_funùiÚ
 
wch¬_t
 *

263 
	`__NTH
 (
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
,

264 
size_t
 
__n
))

266 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

267  
	`__wc¢ÿt_chk
 (
__de¡
, 
__¤c
, 
__n
,

268 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

269  
	`__wc¢ÿt_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

270 
	}
}

273 
	$__sw´štf_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

274 
__æag
, 
size_t
 
__s_Ën
,

275 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

276 
__THROW
 ;

278 
	`__REDIRECT_NTH_LDBL
 (
__sw´štf_®Ÿs
,

279 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

280 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, ...),

281 
sw´štf
);

283 #ifdeà
__va_¬g_·ck


284 
__fÜtify_funùiÚ
 

285 
	`__NTH
 (
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

286 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, ...))

288 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1)

289  
	`__sw´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

290 
	`__bos
 (
__s
è/  (
wch¬_t
),

291 
__fmt
, 
	`__va_¬g_·ck
 ());

292  
	`__sw´štf_®Ÿs
 (
__s
, 
__n
, 
__fmt
, 
	`__va_¬g_·ck
 ());

293 
	}
}

294 #–ià!
defšed
 
__ılu¥lus


296 
	#sw´štf
(
s
, 
n
, ...) \

297 (
	`__bos
 (
s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1 \

298 ? 
	`__sw´štf_chk
 (
s
, 
n
, 
__USE_FORTIFY_LEVEL
 - 1, \

299 
	`__bos
 (
s
è/  (
wch¬_t
), 
__VA_ARGS__
) \

300 : 
	`sw´štf
 (
s
, 
n
, 
__VA_ARGS__
))

	)

303 
	$__vsw´štf_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

304 
__æag
, 
size_t
 
__s_Ën
,

305 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

306 
__gnuc_va_li¡
 
__¬g
)

307 
__THROW
 ;

309 
	`__REDIRECT_NTH_LDBL
 (
__vsw´štf_®Ÿs
,

310 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

311 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
,

312 
__gnuc_va_li¡
 
__­
), 
vsw´štf
);

314 
__fÜtify_funùiÚ
 

315 
	`__NTH
 (
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

316 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
))

318 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1)

319  
	`__vsw´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

320 
	`__bos
 (
__s
è/  (
wch¬_t
), 
__fmt
, 
__­
);

321  
	`__vsw´štf_®Ÿs
 (
__s
, 
__n
, 
__fmt
, 
__­
);

322 
	}
}

325 #ià
__USE_FORTIFY_LEVEL
 > 1

327 
__fw´štf_chk
 (
__FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

328 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

329 
__w´štf_chk
 (
__æag
, cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

331 
__vfw´štf_chk
 (
__FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

332 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

333 
__gnuc_va_li¡
 
__­
);

334 
__vw´štf_chk
 (
__æag
, cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

335 
__gnuc_va_li¡
 
__­
);

337 #ifdeà
__va_¬g_·ck


338 
__fÜtify_funùiÚ
 

339 
	$w´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, ...)

341  
	`__w´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¬g_·ck
 ());

342 
	}
}

344 
__fÜtify_funùiÚ
 

345 
	$fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
, cÚ¡ 
wch¬_t
 *__»¡riù 
__fmt
, ...)

347  
	`__fw´štf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

348 
	`__va_¬g_·ck
 ());

349 
	}
}

350 #–ià!
defšed
 
__ılu¥lus


351 
	#w´štf
(...) \

352 
	`__w´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

353 
	#fw´štf
(
¡»am
, ...) \

354 
	`__fw´štf_chk
 (
¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

357 
__fÜtify_funùiÚ
 

358 
	$vw´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
)

360  
	`__vw´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

361 
	}
}

363 
__fÜtify_funùiÚ
 

364 
	$vfw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

365 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
)

367  
	`__vfw´štf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

368 
	}
}

372 
wch¬_t
 *
	$__fg‘ws_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

373 
__FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

374 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_®Ÿs
,

375 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
,

376 
__FILE
 *
__»¡riù
 
__¡»am
), 
fg‘ws
è
__wur
;

377 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_chk_w¬n
,

378 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

379 
__FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘ws_chk
)

380 
__wur
 
	`__w¬Ç‰r
 ("fgetws called with bigger sizehan†ength "

383 
__fÜtify_funùiÚ
 
__wur
 
wch¬_t
 *

384 
	$fg‘ws
 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
, 
__FILE
 *__»¡riù 
__¡»am
)

386 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

388 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

389  
	`__fg‘ws_chk
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

390 
__n
, 
__¡»am
);

392 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
è/  (
wch¬_t
))

393  
	`__fg‘ws_chk_w¬n
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

394 
__n
, 
__¡»am
);

396  
	`__fg‘ws_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

397 
	}
}

399 #ifdeà
__USE_GNU


400 
wch¬_t
 *
	$__fg‘ws_uÆocked_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
,

401 
__n
, 
__FILE
 *
__»¡riù
 
__¡»am
)

402 
__wur
;

403 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_uÆocked_®Ÿs
,

404 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
,

405 
__FILE
 *
__»¡riù
 
__¡»am
), 
fg‘ws_uÆocked
)

406 
__wur
;

407 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_uÆocked_chk_w¬n
,

408 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

409 
__FILE
 *
__»¡riù
 
__¡»am
),

410 
__fg‘ws_uÆocked_chk
)

411 
__wur
 
	`__w¬Ç‰r
 ("fgetws_unlocked called with bigger sizehan†ength "

414 
__fÜtify_funùiÚ
 
__wur
 
wch¬_t
 *

415 
	$fg‘ws_uÆocked
 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
, 
__FILE
 *__»¡riù 
__¡»am
)

417 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

419 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

420  
	`__fg‘ws_uÆocked_chk
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

421 
__n
, 
__¡»am
);

423 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
è/  (
wch¬_t
))

424  
	`__fg‘ws_uÆocked_chk_w¬n
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

425 
__n
, 
__¡»am
);

427  
	`__fg‘ws_uÆocked_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

428 
	}
}

432 
size_t
 
	$__wütomb_chk
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wch¬
,

433 
mb¡©e_t
 *
__»¡riù
 
__p
,

434 
size_t
 
__buæ’
è
__THROW
 
__wur
;

435 
size_t
 
	`__REDIRECT_NTH
 (
__wütomb_®Ÿs
,

436 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wch¬
,

437 
mb¡©e_t
 *
__»¡riù
 
__ps
), 
wütomb
è
__wur
;

439 
__fÜtify_funùiÚ
 
__wur
 
size_t


440 
	`__NTH
 (
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wch¬
,

441 
mb¡©e_t
 *
__»¡riù
 
__ps
))

446 
	#__WCHAR_MB_LEN_MAX
 16

	)

447 #ià
defšed
 
MB_LEN_MAX
 && MB_LEN_MAX !ğ
__WCHAR_MB_LEN_MAX


450 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 && 
__WCHAR_MB_LEN_MAX
 > __bos (__s))

451  
	`__wütomb_chk
 (
__s
, 
__wch¬
, 
__ps
, 
	`__bos
 (__s));

452  
	`__wütomb_®Ÿs
 (
__s
, 
__wch¬
, 
__ps
);

453 
	}
}

456 
size_t
 
	$__mb¤towcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

457 cÚ¡ **
__»¡riù
 
__¤c
,

458 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

459 
size_t
 
__d¡Ën
è
__THROW
;

460 
size_t
 
	`__REDIRECT_NTH
 (
__mb¤towcs_®Ÿs
,

461 (
wch¬_t
 *
__»¡riù
 
__d¡
,

462 cÚ¡ **
__»¡riù
 
__¤c
,

463 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

464 
mb¤towcs
);

465 
size_t
 
	`__REDIRECT_NTH
 (
__mb¤towcs_chk_w¬n
,

466 (
wch¬_t
 *
__»¡riù
 
__d¡
,

467 cÚ¡ **
__»¡riù
 
__¤c
,

468 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

469 
size_t
 
__d¡Ën
), 
__mb¤towcs_chk
)

470 
	`__w¬Ç‰r
 ("mbsrtowcs called with dst buffer smallerhan†en "

473 
__fÜtify_funùiÚ
 
size_t


474 
	`__NTH
 (
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, cÚ¡ **__»¡riù 
__¤c
,

475 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

477 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

479 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

480  
	`__mb¤towcs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
,

481 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

483 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

484  
	`__mb¤towcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
,

485 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

487  
	`__mb¤towcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
);

488 
	}
}

491 
size_t
 
	$__wc¤tombs_chk
 (*
__»¡riù
 
__d¡
,

492 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

493 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

494 
size_t
 
__d¡Ën
è
__THROW
;

495 
size_t
 
	`__REDIRECT_NTH
 (
__wc¤tombs_®Ÿs
,

496 (*
__»¡riù
 
__d¡
,

497 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

498 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

499 
wc¤tombs
);

500 
size_t
 
	`__REDIRECT_NTH
 (
__wc¤tombs_chk_w¬n
,

501 (*
__»¡riù
 
__d¡
,

502 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

503 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

504 
size_t
 
__d¡Ën
), 
__wc¤tombs_chk
)

505 
	`__w¬Ç‰r
 ("wcsrtombs called with dst buffer smallerhan†en");

507 
__fÜtify_funùiÚ
 
size_t


508 
	`__NTH
 (
	$wc¤tombs
 (*
__»¡riù
 
__d¡
, cÚ¡ 
wch¬_t
 **__»¡riù 
__¤c
,

509 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

511 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

513 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

514  
	`__wc¤tombs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
, 
	`__bos
 (__dst));

516 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

517  
	`__wc¤tombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
, 
	`__bos
 (__dst));

519  
	`__wc¤tombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
);

520 
	}
}

523 #ifdeà
__USE_GNU


524 
size_t
 
	$__mb¢¹owcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

525 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

526 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

527 
size_t
 
__d¡Ën
è
__THROW
;

528 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢¹owcs_®Ÿs
,

529 (
wch¬_t
 *
__»¡riù
 
__d¡
,

530 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

531 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

532 
mb¢¹owcs
);

533 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢¹owcs_chk_w¬n
,

534 (
wch¬_t
 *
__»¡riù
 
__d¡
,

535 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

536 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

537 
size_t
 
__d¡Ën
), 
__mb¢¹owcs_chk
)

538 
	`__w¬Ç‰r
 ("mbsnrtowcs called with dst buffer smallerhan†en "

541 
__fÜtify_funùiÚ
 
size_t


542 
	`__NTH
 (
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, cÚ¡ **__»¡riù 
__¤c
,

543 
size_t
 
__nmc
, size_ˆ
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

545 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

547 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

548  
	`__mb¢¹owcs_chk
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
,

549 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

551 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

552  
	`__mb¢¹owcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
,

553 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

555  
	`__mb¢¹owcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
);

556 
	}
}

559 
size_t
 
	$__wc¢¹ombs_chk
 (*
__»¡riù
 
__d¡
,

560 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

561 
size_t
 
__nwc
, size_ˆ
__Ën
,

562 
mb¡©e_t
 *
__»¡riù
 
__ps
, 
size_t
 
__d¡Ën
)

563 
__THROW
;

564 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢¹ombs_®Ÿs
,

565 (*
__»¡riù
 
__d¡
,

566 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

567 
size_t
 
__nwc
, size_ˆ
__Ën
,

568 
mb¡©e_t
 *
__»¡riù
 
__ps
), 
wc¢¹ombs
);

569 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢¹ombs_chk_w¬n
,

570 (*
__»¡riù
 
__d¡
,

571 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

572 
size_t
 
__nwc
, size_ˆ
__Ën
,

573 
mb¡©e_t
 *
__»¡riù
 
__ps
,

574 
size_t
 
__d¡Ën
), 
__wc¢¹ombs_chk
)

575 
	`__w¬Ç‰r
 ("wcsnrtombs called with dst buffer smallerhan†en");

577 
__fÜtify_funùiÚ
 
size_t


578 
	`__NTH
 (
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
, cÚ¡ 
wch¬_t
 **__»¡riù 
__¤c
,

579 
size_t
 
__nwc
, size_ˆ
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

581 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

583 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

584  
	`__wc¢¹ombs_chk
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
,

585 
	`__bos
 (
__d¡
));

587 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

588  
	`__wc¢¹ombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
,

589 
	`__bos
 (
__d¡
));

591  
	`__wc¢¹ombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
);

592 
	}
}

	@/usr/include/pthread.h

18 #iâdeà
_PTHREAD_H


19 
	#_PTHREAD_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<’dŸn.h
>

23 
	~<sched.h
>

24 
	~<time.h
>

26 
	~<b™s/±h»adty³s.h
>

27 
	~<b™s/£tjmp.h
>

28 
	~<b™s/wÜdsize.h
>

34 
	mPTHREAD_CREATE_JOINABLE
,

35 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

36 
	mPTHREAD_CREATE_DETACHED


37 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

44 
	mPTHREAD_MUTEX_TIMED_NP
,

45 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

46 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

47 
	mPTHREAD_MUTEX_ADAPTIVE_NP


48 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


50 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

51 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

52 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

53 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


55 #ifdeà
__USE_GNU


57 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


62 #ifdeà
__USE_XOPEN2K


66 
	mPTHREAD_MUTEX_STALLED
,

67 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

68 
	mPTHREAD_MUTEX_ROBUST
,

69 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


74 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


78 
	mPTHREAD_PRIO_NONE
,

79 
	mPTHREAD_PRIO_INHERIT
,

80 
	mPTHREAD_PRIO_PROTECT


85 #ifdeà
__PTHREAD_MUTEX_HAVE_PREV


86 
	#PTHREAD_MUTEX_INITIALIZER
 \

87 { { 0, 0, 0, 0, 0, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

88 #ifdeà
__USE_GNU


89 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

90 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

91 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

92 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

93 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

94 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

95 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

96 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

100 
	#PTHREAD_MUTEX_INITIALIZER
 \

101 { { 0, 0, 0, 0, 0, { 
__PTHREAD_SPINS
 } } }

	)

102 #ifdeà
__USE_GNU


103 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

104 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

105 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

106 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

107 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

108 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

115 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


118 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

119 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

120 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

121 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


127 #iâdeà
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


128 #ià
__WORDSIZE
 == 64

129 
	#__PTHREAD_RWLOCK_INT_FLAGS_SHARED
 1

	)

134 
	#PTHREAD_RWLOCK_INITIALIZER
 \

135 { { 0, 0, 0, 0, 0, 0, 0, 0, 
__PTHREAD_RWLOCK_ELISION_EXTRA
, 0, 0 } }

	)

136 #ifdeà
__USE_GNU


137 #ifdeà
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


138 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

139 { { 0, 0, 0, 0, 0, 0, 0, 0, 
__PTHREAD_RWLOCK_ELISION_EXTRA
, 0, \

140 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

142 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


143 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

144 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

145 0, 
__PTHREAD_RWLOCK_ELISION_EXTRA
, 0, 0 } }

	)

147 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

148 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

149 0 } }

	)

159 
	mPTHREAD_INHERIT_SCHED
,

160 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

161 
	mPTHREAD_EXPLICIT_SCHED


162 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

169 
	mPTHREAD_SCOPE_SYSTEM
,

170 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

171 
	mPTHREAD_SCOPE_PROCESS


172 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

179 
	mPTHREAD_PROCESS_PRIVATE
,

180 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

181 
	mPTHREAD_PROCESS_SHARED


182 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

188 
	#PTHREAD_COND_INITIALIZER
 { { 0, 0, 0, 0, 0, (*è0, 0, 0 } }

	)

192 
	s_±h»ad_ş—nup_bufãr


194 (*
	m__routše
) (*);

195 *
	m__¬g
;

196 
	m__ÿnûÉy³
;

197 
_±h»ad_ş—nup_bufãr
 *
	m__´ev
;

203 
	mPTHREAD_CANCEL_ENABLE
,

204 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

205 
	mPTHREAD_CANCEL_DISABLE


206 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

210 
	mPTHREAD_CANCEL_DEFERRED
,

211 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

212 
	mPTHREAD_CANCEL_ASYNCHRONOUS


213 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

215 
	#PTHREAD_CANCELED
 ((*è-1)

	)

219 
	#PTHREAD_ONCE_INIT
 0

	)

222 #ifdeà
__USE_XOPEN2K


226 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

230 
__BEGIN_DECLS


235 
±h»ad_ü—‹
 (
±h»ad_t
 *
__»¡riù
 
__Ãwth»ad
,

236 cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

237 *(*
__¡¬t_routše
) (*),

238 *
__»¡riù
 
__¬g
è
__THROWNL
 
__nÚnuÎ
 ((1, 3));

244 
	$±h»ad_ex™
 (*
__»tv®
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

252 
	`±h»ad_još
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
);

254 #ifdeà
__USE_GNU


257 
	$±h»ad_Œyjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
è
__THROW
;

265 
	`±h»ad_timedjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

266 cÚ¡ 
time¥ec
 *
__ab¡ime
);

273 
	$±h»ad_d‘ach
 (
±h»ad_t
 
__th
è
__THROW
;

277 
±h»ad_t
 
	$±h»ad_£lf
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

280 
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
)

281 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

289 
	$±h»ad_©Œ_š™
 (
±h»ad_©Œ_t
 *
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

292 
	$±h»ad_©Œ_de¡roy
 (
±h»ad_©Œ_t
 *
__©Œ
)

293 
__THROW
 
	`__nÚnuÎ
 ((1));

296 
	$±h»ad_©Œ_g‘d‘ach¡©e
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

297 *
__d‘ach¡©e
)

298 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

301 
	$±h»ad_©Œ_£td‘ach¡©e
 (
±h»ad_©Œ_t
 *
__©Œ
,

302 
__d‘ach¡©e
)

303 
__THROW
 
	`__nÚnuÎ
 ((1));

307 
	$±h»ad_©Œ_g‘gu¬dsize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

308 
size_t
 *
__gu¬dsize
)

309 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

312 
	$±h»ad_©Œ_£tgu¬dsize
 (
±h»ad_©Œ_t
 *
__©Œ
,

313 
size_t
 
__gu¬dsize
)

314 
__THROW
 
	`__nÚnuÎ
 ((1));

318 
	$±h»ad_©Œ_g‘sched·¿m
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

319 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

320 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

323 
	$±h»ad_©Œ_£tsched·¿m
 (
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

324 cÚ¡ 
sched_·¿m
 *
__»¡riù


325 
__·¿m
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

328 
	$±h»ad_©Œ_g‘schedpŞicy
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


329 
__©Œ
, *
__»¡riù
 
__pŞicy
)

330 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

333 
	$±h»ad_©Œ_£tschedpŞicy
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__pŞicy
)

334 
__THROW
 
	`__nÚnuÎ
 ((1));

337 
	$±h»ad_©Œ_g‘šh”™sched
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


338 
__©Œ
, *
__»¡riù
 
__šh”™
)

339 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

342 
	$±h»ad_©Œ_£tšh”™sched
 (
±h»ad_©Œ_t
 *
__©Œ
,

343 
__šh”™
)

344 
__THROW
 
	`__nÚnuÎ
 ((1));

348 
	$±h»ad_©Œ_g‘scİe
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

349 *
__»¡riù
 
__scİe
)

350 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

353 
	$±h»ad_©Œ_£tscİe
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__scİe
)

354 
__THROW
 
	`__nÚnuÎ
 ((1));

357 
	$±h»ad_©Œ_g‘¡ackaddr
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


358 
__©Œ
, **
__»¡riù
 
__¡ackaddr
)

359 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__©Œibu‹_d•»ÿ‹d__
;

365 
	$±h»ad_©Œ_£t¡ackaddr
 (
±h»ad_©Œ_t
 *
__©Œ
,

366 *
__¡ackaddr
)

367 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
;

370 
	$±h»ad_©Œ_g‘¡acksize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


371 
__©Œ
, 
size_t
 *
__»¡riù
 
__¡acksize
)

372 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

377 
	$±h»ad_©Œ_£t¡acksize
 (
±h»ad_©Œ_t
 *
__©Œ
,

378 
size_t
 
__¡acksize
)

379 
__THROW
 
	`__nÚnuÎ
 ((1));

381 #ifdeà
__USE_XOPEN2K


383 
	$±h»ad_©Œ_g‘¡ack
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

384 **
__»¡riù
 
__¡ackaddr
,

385 
size_t
 *
__»¡riù
 
__¡acksize
)

386 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

391 
	$±h»ad_©Œ_£t¡ack
 (
±h»ad_©Œ_t
 *
__©Œ
, *
__¡ackaddr
,

392 
size_t
 
__¡acksize
è
__THROW
 
	`__nÚnuÎ
 ((1));

395 #ifdeà
__USE_GNU


398 
	$±h»ad_©Œ_£ffš™y_Å
 (
±h»ad_©Œ_t
 *
__©Œ
,

399 
size_t
 
__ıu£tsize
,

400 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

401 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

405 
	$±h»ad_©Œ_g‘affš™y_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

406 
size_t
 
__ıu£tsize
,

407 
ıu_£t_t
 *
__ıu£t
)

408 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

411 
	$±h»ad_g‘©Œ_deçuÉ_Å
 (
±h»ad_©Œ_t
 *
__©Œ
)

412 
__THROW
 
	`__nÚnuÎ
 ((1));

416 
	$±h»ad_£‰r_deçuÉ_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
)

417 
__THROW
 
	`__nÚnuÎ
 ((1));

422 
	$±h»ad_g‘©Œ_Å
 (
±h»ad_t
 
__th
, 
±h»ad_©Œ_t
 *
__©Œ
)

423 
__THROW
 
	`__nÚnuÎ
 ((2));

431 
	$±h»ad_£tsched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
, 
__pŞicy
,

432 cÚ¡ 
sched_·¿m
 *
__·¿m
)

433 
__THROW
 
	`__nÚnuÎ
 ((3));

436 
	$±h»ad_g‘sched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
,

437 *
__»¡riù
 
__pŞicy
,

438 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

439 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

442 
	$±h»ad_£tsched´io
 (
±h»ad_t
 
__rg‘_th»ad
, 
__´io
)

443 
__THROW
;

446 #ifdeà
__USE_GNU


448 
	$±h»ad_g‘Çme_Å
 (
±h»ad_t
 
__rg‘_th»ad
, *
__buf
,

449 
size_t
 
__buæ’
)

450 
__THROW
 
	`__nÚnuÎ
 ((2));

453 
	$±h»ad_£Šame_Å
 (
±h»ad_t
 
__rg‘_th»ad
, cÚ¡ *
__Çme
)

454 
__THROW
 
	`__nÚnuÎ
 ((2));

458 #ifdeà
__USE_UNIX98


460 
	$±h»ad_g‘cÚcu¼’cy
 (è
__THROW
;

463 
	$±h»ad_£tcÚcu¼’cy
 (
__Ëv–
è
__THROW
;

466 #ifdeà
__USE_GNU


471 
	$±h»ad_y›ld
 (è
__THROW
;

476 
	$±h»ad_£ffš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

477 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

478 
__THROW
 
	`__nÚnuÎ
 ((3));

481 
	$±h»ad_g‘affš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

482 
ıu_£t_t
 *
__ıu£t
)

483 
__THROW
 
	`__nÚnuÎ
 ((3));

496 
	`±h»ad_Úû
 (
±h»ad_Úû_t
 *
__Úû_cÚŒŞ
,

497 (*
__š™_routše
è()è
	`__nÚnuÎ
 ((1, 2));

508 
	`±h»ad_£tÿnûl¡©e
 (
__¡©e
, *
__Şd¡©e
);

512 
	`±h»ad_£tÿnûÉy³
 (
__ty³
, *
__Şdty³
);

515 
	`±h»ad_ÿnûl
 (
±h»ad_t
 
__th
);

520 
	`±h»ad_‹¡ÿnûl
 ();

529 
__jmp_buf
 
__ÿnûl_jmp_buf
;

530 
__mask_was_§ved
;

531 } 
__ÿnûl_jmp_buf
[1];

532 *
__·d
[4];

533 } 
	t__±h»ad_unwšd_buf_t
 
	t__©Œibu‹__
 ((
	t__®igÃd__
));

536 #iâdeà
__ş—nup_fù_©Œibu‹


537 
	#__ş—nup_fù_©Œibu‹


	)

542 
	s__±h»ad_ş—nup_äame


544 (*
__ÿnûl_routše
) (*);

545 *
__ÿnûl_¬g
;

546 
__do_™
;

547 
__ÿnûl_ty³
;

550 #ià
defšed
 
__GNUC__
 && defšed 
__EXCEPTIONS


551 #ifdeà
__ılu¥lus


553 şas 
	c__±h»ad_ş—nup_şass


555 (*
__ÿnûl_routše
) (*);

556 *
__ÿnûl_¬g
;

557 
__do_™
;

558 
__ÿnûl_ty³
;

560 
public
:

561 
	`__±h»ad_ş—nup_şass
 ((*
__fù
è(*), *
__¬g
)

562 : 
	`__ÿnûl_routše
 (
__fù
), 
	`__ÿnûl_¬g
 (
__¬g
), 
	$__do_™
 (1) { }

563 ~
	$__±h»ad_ş—nup_şass
 (è{ ià(
__do_™
è
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); 
	}
}

564 
	$__£tdo™
 (
__Ãwv®
è{ 
__do_™
 = __Ãwv®; 
	}
}

565 
	$__deãr
 (è{ 
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
,

566 &
__ÿnûl_ty³
); 
	}
}

567 
	$__»¡Üe
 (ècÚ¡ { 
	`±h»ad_£tÿnûÉy³
 (
__ÿnûl_ty³
, 0); 
	}
}

577 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

579 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
)

	)

583 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

584 
__şäame
.
	`__£tdo™
 (
execu‹
); \

585 } 0)

	)

587 #ifdeà
__USE_GNU


591 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

593 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
); \

594 
__şäame
.
	`__deãr
 ()

	)

599 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

600 
__şäame
.
	`__»¡Üe
 (); \

601 
__şäame
.
	`__£tdo™
 (
execu‹
); \

602 } 0)

	)

609 
__ex‹º_šlše
 

610 
	$__±h»ad_ş—nup_routše
 (
__±h»ad_ş—nup_äame
 *
__äame
)

612 ià(
__äame
->
__do_™
)

613 
__äame
->
	`__ÿnûl_routše
 (__äame->
__ÿnûl_¬g
);

614 
	}
}

623 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

625 
__±h»ad_ş—nup_äame
 
__şäame
 \

626 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

627 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

628 .
__do_™
 = 1 };

	)

632 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

633 
__şäame
.
__do_™
 = (
execu‹
); \

634 } 0)

	)

636 #ifdeà
__USE_GNU


640 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

642 
__±h»ad_ş—nup_äame
 
__şäame
 \

643 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

644 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

645 .
__do_™
 = 1 }; \

646 (è
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
, \

647 &
__şäame
.
__ÿnûl_ty³
)

	)

652 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

653 (è
	`±h»ad_£tÿnûÉy³
 (
__şäame
.
__ÿnûl_ty³
, 
NULL
); \

654 
__şäame
.
__do_™
 = (
execu‹
); \

655 } 0)

	)

666 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

668 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

669 (*
__ÿnûl_routše
è(*èğ(
routše
); \

670 *
__ÿnûl_¬g
 = (
¬g
); \

671 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

672 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

673 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

675 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

676 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

680 
	`__±h»ad_»gi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

681 dØ{

	)

682 
__±h»ad_»gi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

683 
__ş—nup_fù_©Œibu‹
;

687 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

690 
	`__±h»ad_uÄegi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

691 ià(
execu‹
) \

692 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

693 } 0)

	)

694 
	$__±h»ad_uÄegi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

695 
__ş—nup_fù_©Œibu‹
;

697 #ifdeà
__USE_GNU


701 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

703 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

704 (*
__ÿnûl_routše
è(*èğ(
routše
); \

705 *
__ÿnûl_¬g
 = (
¬g
); \

706 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

707 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

708 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

710 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

711 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

715 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (&
__ÿnûl_buf
); \

716 dØ{

	)

717 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

718 
__ş—nup_fù_©Œibu‹
;

723 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

726 
	`__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (&
__ÿnûl_buf
); \

727 ià(
execu‹
) \

728 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

729 
	}
} 0)

	)

730 
	$__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

731 
__ş—nup_fù_©Œibu‹
;

735 
	$__±h»ad_unwšd_Ãxt
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

736 
__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
))

737 #iâdeà
SHARED


738 
	`__©Œibu‹__
 ((
__w—k__
))

744 
__jmp_buf_g
;

745 
	$__sig£tjmp
 (
__jmp_buf_g
 *
__’v
, 
__§vemask
è
__THROWNL
;

751 
	$±h»ad_mu‹x_š™
 (
±h»ad_mu‹x_t
 *
__mu‹x
,

752 cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__mu‹x©Œ
)

753 
__THROW
 
	`__nÚnuÎ
 ((1));

756 
	$±h»ad_mu‹x_de¡roy
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

757 
__THROW
 
	`__nÚnuÎ
 ((1));

760 
	$±h»ad_mu‹x_Œylock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

761 
__THROWNL
 
	`__nÚnuÎ
 ((1));

764 
	$±h»ad_mu‹x_lock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

765 
__THROWNL
 
	`__nÚnuÎ
 ((1));

767 #ifdeà
__USE_XOPEN2K


769 
	$±h»ad_mu‹x_timedlock
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

770 cÚ¡ 
time¥ec
 *
__»¡riù


771 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

775 
	$±h»ad_mu‹x_uÆock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

776 
__THROWNL
 
	`__nÚnuÎ
 ((1));

780 
	$±h»ad_mu‹x_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x_t
 *

781 
__»¡riù
 
__mu‹x
,

782 *
__»¡riù
 
__´ioûšg
)

783 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

787 
	$±h»ad_mu‹x_£rioûšg
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

788 
__´ioûšg
,

789 *
__»¡riù
 
__Şd_ûšg
)

790 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

793 #ifdeà
__USE_XOPEN2K8


795 
	$±h»ad_mu‹x_cÚsi¡’t
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

796 
__THROW
 
	`__nÚnuÎ
 ((1));

797 #ifdeà
__USE_GNU


798 
	$±h»ad_mu‹x_cÚsi¡’t_Å
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

799 
__THROW
 
	`__nÚnuÎ
 ((1));

808 
	$±h»ad_mu‹x©Œ_š™
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

809 
__THROW
 
	`__nÚnuÎ
 ((1));

812 
	$±h»ad_mu‹x©Œ_de¡roy
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

813 
__THROW
 
	`__nÚnuÎ
 ((1));

816 
	$±h»ad_mu‹x©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

817 
__»¡riù
 
__©Œ
,

818 *
__»¡riù
 
__psh¬ed
)

819 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

822 
	$±h»ad_mu‹x©Œ_£sh¬ed
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

823 
__psh¬ed
)

824 
__THROW
 
	`__nÚnuÎ
 ((1));

826 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


828 
	$±h»ad_mu‹x©Œ_g‘ty³
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__»¡riù


829 
__©Œ
, *
__»¡riù
 
__kšd
)

830 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

835 
	$±h»ad_mu‹x©Œ_£‰y³
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
, 
__kšd
)

836 
__THROW
 
	`__nÚnuÎ
 ((1));

840 
	$±h»ad_mu‹x©Œ_g‘´ÙocŞ
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

841 
__»¡riù
 
__©Œ
,

842 *
__»¡riù
 
__´ÙocŞ
)

843 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

847 
	$±h»ad_mu‹x©Œ_£rÙocŞ
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

848 
__´ÙocŞ
)

849 
__THROW
 
	`__nÚnuÎ
 ((1));

852 
	$±h»ad_mu‹x©Œ_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

853 
__»¡riù
 
__©Œ
,

854 *
__»¡riù
 
__´ioûšg
)

855 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

858 
	$±h»ad_mu‹x©Œ_£rioûšg
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

859 
__´ioûšg
)

860 
__THROW
 
	`__nÚnuÎ
 ((1));

862 #ifdeà
__USE_XOPEN2K


864 
	$±h»ad_mu‹x©Œ_g‘robu¡
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

865 *
__robu¡Ãss
)

866 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

867 #ifdeà
__USE_GNU


868 
	$±h»ad_mu‹x©Œ_g‘robu¡_Å
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

869 *
__robu¡Ãss
)

870 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

874 
	$±h»ad_mu‹x©Œ_£Œobu¡
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

875 
__robu¡Ãss
)

876 
__THROW
 
	`__nÚnuÎ
 ((1));

877 #ifdeà
__USE_GNU


878 
	$±h»ad_mu‹x©Œ_£Œobu¡_Å
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

879 
__robu¡Ãss
)

880 
__THROW
 
	`__nÚnuÎ
 ((1));

885 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


890 
	$±h»ad_rwlock_š™
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

891 cÚ¡ 
±h»ad_rwlock©Œ_t
 *
__»¡riù


892 
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

895 
	$±h»ad_rwlock_de¡roy
 (
±h»ad_rwlock_t
 *
__rwlock
)

896 
__THROW
 
	`__nÚnuÎ
 ((1));

899 
	$±h»ad_rwlock_rdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

900 
__THROWNL
 
	`__nÚnuÎ
 ((1));

903 
	$±h»ad_rwlock_Œyrdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

904 
__THROWNL
 
	`__nÚnuÎ
 ((1));

906 #ifdeà
__USE_XOPEN2K


908 
	$±h»ad_rwlock_timedrdlock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

909 cÚ¡ 
time¥ec
 *
__»¡riù


910 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

914 
	$±h»ad_rwlock_w¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

915 
__THROWNL
 
	`__nÚnuÎ
 ((1));

918 
	$±h»ad_rwlock_Œyw¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

919 
__THROWNL
 
	`__nÚnuÎ
 ((1));

921 #ifdeà
__USE_XOPEN2K


923 
	$±h»ad_rwlock_timedw¾ock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

924 cÚ¡ 
time¥ec
 *
__»¡riù


925 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

929 
	$±h»ad_rwlock_uÆock
 (
±h»ad_rwlock_t
 *
__rwlock
)

930 
__THROWNL
 
	`__nÚnuÎ
 ((1));

936 
	$±h»ad_rwlock©Œ_š™
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

937 
__THROW
 
	`__nÚnuÎ
 ((1));

940 
	$±h»ad_rwlock©Œ_de¡roy
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

941 
__THROW
 
	`__nÚnuÎ
 ((1));

944 
	$±h»ad_rwlock©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

945 
__»¡riù
 
__©Œ
,

946 *
__»¡riù
 
__psh¬ed
)

947 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

950 
	$±h»ad_rwlock©Œ_£sh¬ed
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

951 
__psh¬ed
)

952 
__THROW
 
	`__nÚnuÎ
 ((1));

955 
	$±h»ad_rwlock©Œ_g‘kšd_Å
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

956 
__»¡riù
 
__©Œ
,

957 *
__»¡riù
 
__´ef
)

958 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

961 
	$±h»ad_rwlock©Œ_£tkšd_Å
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

962 
__´ef
è
__THROW
 
	`__nÚnuÎ
 ((1));

970 
	$±h»ad_cÚd_š™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

971 cÚ¡ 
±h»ad_cÚd©Œ_t
 *
__»¡riù
 
__cÚd_©Œ
)

972 
__THROW
 
	`__nÚnuÎ
 ((1));

975 
	$±h»ad_cÚd_de¡roy
 (
±h»ad_cÚd_t
 *
__cÚd
)

976 
__THROW
 
	`__nÚnuÎ
 ((1));

979 
	$±h»ad_cÚd_sigÇl
 (
±h»ad_cÚd_t
 *
__cÚd
)

980 
__THROWNL
 
	`__nÚnuÎ
 ((1));

983 
	$±h»ad_cÚd_brßdÿ¡
 (
±h»ad_cÚd_t
 *
__cÚd
)

984 
__THROWNL
 
	`__nÚnuÎ
 ((1));

991 
	$±h»ad_cÚd_wa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

992 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
)

993 
	`__nÚnuÎ
 ((1, 2));

1002 
	$±h»ad_cÚd_timedwa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1003 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

1004 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
)

1005 
	`__nÚnuÎ
 ((1, 2, 3));

1010 
	$±h»ad_cÚd©Œ_š™
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1011 
__THROW
 
	`__nÚnuÎ
 ((1));

1014 
	$±h»ad_cÚd©Œ_de¡roy
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1015 
__THROW
 
	`__nÚnuÎ
 ((1));

1018 
	$±h»ad_cÚd©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1019 
__»¡riù
 
__©Œ
,

1020 *
__»¡riù
 
__psh¬ed
)

1021 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1024 
	$±h»ad_cÚd©Œ_£sh¬ed
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1025 
__psh¬ed
è
__THROW
 
	`__nÚnuÎ
 ((1));

1027 #ifdeà
__USE_XOPEN2K


1029 
	$±h»ad_cÚd©Œ_g‘şock
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1030 
__»¡riù
 
__©Œ
,

1031 
__şockid_t
 *
__»¡riù
 
__şock_id
)

1032 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1035 
	$±h»ad_cÚd©Œ_£tşock
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1036 
__şockid_t
 
__şock_id
)

1037 
__THROW
 
	`__nÚnuÎ
 ((1));

1041 #ifdeà
__USE_XOPEN2K


1046 
	$±h»ad_¥š_š™
 (
±h»ad_¥šlock_t
 *
__lock
, 
__psh¬ed
)

1047 
__THROW
 
	`__nÚnuÎ
 ((1));

1050 
	$±h»ad_¥š_de¡roy
 (
±h»ad_¥šlock_t
 *
__lock
)

1051 
__THROW
 
	`__nÚnuÎ
 ((1));

1054 
	$±h»ad_¥š_lock
 (
±h»ad_¥šlock_t
 *
__lock
)

1055 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1058 
	$±h»ad_¥š_Œylock
 (
±h»ad_¥šlock_t
 *
__lock
)

1059 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1062 
	$±h»ad_¥š_uÆock
 (
±h»ad_¥šlock_t
 *
__lock
)

1063 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1070 
	$±h»ad_b¬r›r_š™
 (
±h»ad_b¬r›r_t
 *
__»¡riù
 
__b¬r›r
,

1071 cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *
__»¡riù


1072 
__©Œ
, 
__couÁ
)

1073 
__THROW
 
	`__nÚnuÎ
 ((1));

1076 
	$±h»ad_b¬r›r_de¡roy
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1077 
__THROW
 
	`__nÚnuÎ
 ((1));

1080 
	$±h»ad_b¬r›r_wa™
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1081 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1085 
	$±h»ad_b¬r›¿‰r_š™
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1086 
__THROW
 
	`__nÚnuÎ
 ((1));

1089 
	$±h»ad_b¬r›¿‰r_de¡roy
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1090 
__THROW
 
	`__nÚnuÎ
 ((1));

1093 
	$±h»ad_b¬r›¿‰r_g‘psh¬ed
 (cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *

1094 
__»¡riù
 
__©Œ
,

1095 *
__»¡riù
 
__psh¬ed
)

1096 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1099 
	$±h»ad_b¬r›¿‰r_£sh¬ed
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
,

1100 
__psh¬ed
)

1101 
__THROW
 
	`__nÚnuÎ
 ((1));

1113 
	`±h»ad_key_ü—‹
 (
±h»ad_key_t
 *
__key
,

1114 (*
__de¡r_funùiÚ
) (*))

1115 
__THROW
 
	`__nÚnuÎ
 ((1));

1118 
	$±h»ad_key_d–‘e
 (
±h»ad_key_t
 
__key
è
__THROW
;

1121 *
	$±h»ad_g‘¥ecific
 (
±h»ad_key_t
 
__key
è
__THROW
;

1124 
	$±h»ad_£t¥ecific
 (
±h»ad_key_t
 
__key
,

1125 cÚ¡ *
__poš‹r
è
__THROW
 ;

1128 #ifdeà
__USE_XOPEN2K


1130 
	$±h»ad_g‘ıuşockid
 (
±h»ad_t
 
__th»ad_id
,

1131 
__şockid_t
 *
__şock_id
)

1132 
__THROW
 
	`__nÚnuÎ
 ((2));

1147 
	`±h»ad_©fÜk
 ((*
__´•¬e
) (),

1148 (*
__·»Á
) (),

1149 (*
__chd
è()è
__THROW
;

1152 #ifdeà
__USE_EXTERN_INLINES


1154 
__ex‹º_šlše
 

1155 
	`__NTH
 (
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
))

1157  
__th»ad1
 =ğ
__th»ad2
;

1158 
	}
}

1161 
	g__END_DECLS


	@/usr/include/wctype.h

23 #iâdeà
_WCTYPE_H


25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 #iâdeà
__Ãed_iswxxx


29 
	#_WCTYPE_H
 1

	)

32 
	#__Ãed_wšt_t


	)

33 
	~<wch¬.h
>

37 #iâdeà
WEOF


38 
	#WEOF
 (0xffffffffu)

	)

41 #undeà
__Ãed_iswxxx


46 #iâdeà
__iswxxx_defšed


47 
	#__iswxxx_defšed
 1

	)

49 
__BEGIN_NAMESPACE_C99


52 
	twùy³_t
;

53 
	g__END_NAMESPACE_C99


55 #iâdeà
_ISwb™


60 
	~<’dŸn.h
>

61 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


62 
	#_ISwb™
(
b™
è(1 << (b™))

	)

64 
	#_ISwb™
(
b™
) \

65 ((
b™
) < 8 ? () ((1UL << (bit)) << 24) \

66 : ((
b™
) < 16 ? () ((1UL << (bit)) << 8) \

67 : ((
b™
) < 24 ? () ((1UL << (bit)) >> 8) \

68 : (è((1UL << (
b™
)è>> 24))))

	)

73 
	m__ISwuµ”
 = 0,

74 
	m__ISwlow”
 = 1,

75 
	m__ISw®pha
 = 2,

76 
	m__ISwdig™
 = 3,

77 
	m__ISwxdig™
 = 4,

78 
	m__ISw¥aû
 = 5,

79 
	m__ISw´št
 = 6,

80 
	m__ISwg¿ph
 = 7,

81 
	m__ISwbÏnk
 = 8,

82 
	m__ISwúŒl
 = 9,

83 
	m__ISwpunù
 = 10,

84 
	m__ISw®num
 = 11,

86 
	m_ISwuµ”
 = 
_ISwb™
 (
__ISwuµ”
),

87 
	m_ISwlow”
 = 
_ISwb™
 (
__ISwlow”
),

88 
	m_ISw®pha
 = 
_ISwb™
 (
__ISw®pha
),

89 
	m_ISwdig™
 = 
_ISwb™
 (
__ISwdig™
),

90 
	m_ISwxdig™
 = 
_ISwb™
 (
__ISwxdig™
),

91 
	m_ISw¥aû
 = 
_ISwb™
 (
__ISw¥aû
),

92 
	m_ISw´št
 = 
_ISwb™
 (
__ISw´št
),

93 
	m_ISwg¿ph
 = 
_ISwb™
 (
__ISwg¿ph
),

94 
	m_ISwbÏnk
 = 
_ISwb™
 (
__ISwbÏnk
),

95 
	m_ISwúŒl
 = 
_ISwb™
 (
__ISwúŒl
),

96 
	m_ISwpunù
 = 
_ISwb™
 (
__ISwpunù
),

97 
	m_ISw®num
 = 
_ISwb™
 (
__ISw®num
)

102 
__BEGIN_DECLS


104 
__BEGIN_NAMESPACE_C99


111 
	$isw®num
 (
wšt_t
 
__wc
è
__THROW
;

117 
	$isw®pha
 (
wšt_t
 
__wc
è
__THROW
;

120 
	$iswúŒl
 (
wšt_t
 
__wc
è
__THROW
;

124 
	$iswdig™
 (
wšt_t
 
__wc
è
__THROW
;

128 
	$iswg¿ph
 (
wšt_t
 
__wc
è
__THROW
;

133 
	$iswlow”
 (
wšt_t
 
__wc
è
__THROW
;

136 
	$isw´št
 (
wšt_t
 
__wc
è
__THROW
;

141 
	$iswpunù
 (
wšt_t
 
__wc
è
__THROW
;

146 
	$isw¥aû
 (
wšt_t
 
__wc
è
__THROW
;

151 
	$iswuµ”
 (
wšt_t
 
__wc
è
__THROW
;

156 
	$iswxdig™
 (
wšt_t
 
__wc
è
__THROW
;

161 #ifdeà
__USE_ISOC99


162 
	$iswbÏnk
 (
wšt_t
 
__wc
è
__THROW
;

171 
wùy³_t
 
	$wùy³
 (cÚ¡ *
__´İ”ty
è
__THROW
;

175 
	$iswùy³
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
è
__THROW
;

176 
__END_NAMESPACE_C99


183 
__BEGIN_NAMESPACE_C99


186 cÚ¡ 
	t__št32_t
 *
	twù¿ns_t
;

187 
__END_NAMESPACE_C99


188 #ifdeà
__USE_GNU


189 
	$__USING_NAMESPACE_C99
(
wù¿ns_t
)

192 
__BEGIN_NAMESPACE_C99


194 
wšt_t
 
	$towlow”
 (
wšt_t
 
__wc
è
__THROW
;

197 
wšt_t
 
	$towuµ”
 (
wšt_t
 
__wc
è
__THROW
;

198 
__END_NAMESPACE_C99


200 
__END_DECLS


207 #ifdeà
_WCTYPE_H


213 
__BEGIN_DECLS


215 
__BEGIN_NAMESPACE_C99


218 
wù¿ns_t
 
	$wù¿ns
 (cÚ¡ *
__´İ”ty
è
__THROW
;

221 
wšt_t
 
	$towù¿ns
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
è
__THROW
;

222 
__END_NAMESPACE_C99


224 #ifdeà
__USE_XOPEN2K8


226 
	~<xloÿË.h
>

230 
	$isw®num_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

236 
	$isw®pha_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

239 
	$iswúŒl_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

243 
	$iswdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

247 
	$iswg¿ph_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

252 
	$iswlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

255 
	$isw´št_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

260 
	$iswpunù_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

265 
	$isw¥aû_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

270 
	$iswuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

275 
	$iswxdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

280 
	$iswbÏnk_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

284 
wùy³_t
 
	$wùy³_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

285 
__THROW
;

289 
	$iswùy³_l
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
, 
__loÿË_t
 
__loÿË
)

290 
__THROW
;

298 
wšt_t
 
	$towlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

301 
wšt_t
 
	$towuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

305 
wù¿ns_t
 
	$wù¿ns_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

306 
__THROW
;

309 
wšt_t
 
	$towù¿ns_l
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
,

310 
__loÿË_t
 
__loÿË
è
__THROW
;

314 
__END_DECLS


	@/usr/include/asm-generic/errno-base.h

1 #iâdeà
_ASM_GENERIC_ERRNO_BASE_H


2 
	#_ASM_GENERIC_ERRNO_BASE_H


	)

4 
	#EPERM
 1

	)

5 
	#ENOENT
 2

	)

6 
	#ESRCH
 3

	)

7 
	#EINTR
 4

	)

8 
	#EIO
 5

	)

9 
	#ENXIO
 6

	)

10 
	#E2BIG
 7

	)

11 
	#ENOEXEC
 8

	)

12 
	#EBADF
 9

	)

13 
	#ECHILD
 10

	)

14 
	#EAGAIN
 11

	)

15 
	#ENOMEM
 12

	)

16 
	#EACCES
 13

	)

17 
	#EFAULT
 14

	)

18 
	#ENOTBLK
 15

	)

19 
	#EBUSY
 16

	)

20 
	#EEXIST
 17

	)

21 
	#EXDEV
 18

	)

22 
	#ENODEV
 19

	)

23 
	#ENOTDIR
 20

	)

24 
	#EISDIR
 21

	)

25 
	#EINVAL
 22

	)

26 
	#ENFILE
 23

	)

27 
	#EMFILE
 24

	)

28 
	#ENOTTY
 25

	)

29 
	#ETXTBSY
 26

	)

30 
	#EFBIG
 27

	)

31 
	#ENOSPC
 28

	)

32 
	#ESPIPE
 29

	)

33 
	#EROFS
 30

	)

34 
	#EMLINK
 31

	)

35 
	#EPIPE
 32

	)

36 
	#EDOM
 33

	)

37 
	#ERANGE
 34

	)

	@/usr/include/linux/ioctl.h

1 #iâdeà
_LINUX_IOCTL_H


2 
	#_LINUX_IOCTL_H


	)

4 
	~<asm/ioùl.h
>

	@/usr/include/sched.h

19 #iâdef 
_SCHED_H


20 
	#_SCHED_H
 1

	)

22 
	~<ã©u»s.h
>

25 
	~<b™s/ty³s.h
>

27 
	#__Ãed_size_t


	)

28 
	~<¡ddef.h
>

30 #ifdeà
__USE_XOPEN2K


31 
	#__Ãed_time_t


	)

32 
	#__Ãed_time¥ec


	)

34 
	~<time.h
>

36 #iâdeà
__pid_t_defšed


37 
__pid_t
 
	tpid_t
;

38 
	#__pid_t_defšed


	)

43 
	~<b™s/sched.h
>

45 
	#sched_´iÜ™y
 
__sched_´iÜ™y


	)

48 
__BEGIN_DECLS


51 
	$sched_£¬am
 (
__pid_t
 
__pid
, cÚ¡ 
sched_·¿m
 *
__·¿m
)

52 
__THROW
;

55 
	$sched_g‘·¿m
 (
__pid_t
 
__pid
, 
sched_·¿m
 *
__·¿m
è
__THROW
;

58 
	$sched_£tscheduËr
 (
__pid_t
 
__pid
, 
__pŞicy
,

59 cÚ¡ 
sched_·¿m
 *
__·¿m
è
__THROW
;

62 
	$sched_g‘scheduËr
 (
__pid_t
 
__pid
è
__THROW
;

65 
	$sched_y›ld
 (è
__THROW
;

68 
	$sched_g‘_´iÜ™y_max
 (
__®gÜ™hm
è
__THROW
;

71 
	$sched_g‘_´iÜ™y_mš
 (
__®gÜ™hm
è
__THROW
;

74 
	$sched_¼_g‘_š‹rv®
 (
__pid_t
 
__pid
, 
time¥ec
 *
__t
è
__THROW
;

77 #ifdeà
__USE_GNU


79 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

80 
	#CPU_SET
(
ıu
, 
ıu£
è
	`__CPU_SET_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

81 
	#CPU_CLR
(
ıu
, 
ıu£
è
	`__CPU_CLR_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

82 
	#CPU_ISSET
(
ıu
, 
ıu£
è
	`__CPU_ISSET_S
 (ıu,  (
ıu_£t_t
), \

83 
ıu£
)

	)

84 
	#CPU_ZERO
(
ıu£
è
	`__CPU_ZERO_S
 ( (
ıu_£t_t
), cpu£)

	)

85 
	#CPU_COUNT
(
ıu£
è
	`__CPU_COUNT_S
 ( (
ıu_£t_t
), cpu£)

	)

87 
	#CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_SET_S
 (ıu, s‘size, cpu£)

	)

88 
	#CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_CLR_S
 (ıu, s‘size, cpu£)

	)

89 
	#CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_ISSET_S
 (cpu, setsize, \

90 
ıu£
)

	)

91 
	#CPU_ZERO_S
(
£tsize
, 
ıu£
è
	`__CPU_ZERO_S
 (£tsize, cpu£)

	)

92 
	#CPU_COUNT_S
(
£tsize
, 
ıu£
è
	`__CPU_COUNT_S
 (£tsize, cpu£)

	)

94 
	#CPU_EQUAL
(
ıu£1
, 
ıu£2
) \

95 
	`__CPU_EQUAL_S
 ( (
ıu_£t_t
), 
ıu£1
, 
ıu£2
)

	)

96 
	#CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

97 
	`__CPU_EQUAL_S
 (
£tsize
, 
ıu£1
, 
ıu£2
)

	)

99 
	#CPU_AND
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

100 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

101 
	#CPU_OR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

102 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

103 
	#CPU_XOR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

104 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

105 
	#CPU_AND_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

106 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

107 
	#CPU_OR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

108 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

109 
	#CPU_XOR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

110 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

112 
	#CPU_ALLOC_SIZE
(
couÁ
è
	`__CPU_ALLOC_SIZE
 (couÁ)

	)

113 
	#CPU_ALLOC
(
couÁ
è
	`__CPU_ALLOC
 (couÁ)

	)

114 
	#CPU_FREE
(
ıu£t
è
	`__CPU_FREE
 (ıu£t)

	)

118 
	$sched_£ffš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

119 cÚ¡ 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

122 
	$sched_g‘affš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

123 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

126 
__END_DECLS


	@/usr/include/asm/ioctl.h

1 
	~<asm-g’”ic/ioùl.h
>

	@/usr/include/bits/sched.h

20 #iâdeà
__Ãed_sched·¿m


22 #iâdeà
_SCHED_H


28 
	#SCHED_OTHER
 0

	)

29 
	#SCHED_FIFO
 1

	)

30 
	#SCHED_RR
 2

	)

31 #ifdeà
__USE_GNU


32 
	#SCHED_BATCH
 3

	)

33 
	#SCHED_IDLE
 5

	)

35 
	#SCHED_RESET_ON_FORK
 0x40000000

	)

38 #ifdeà
__USE_GNU


40 
	#CSIGNAL
 0x000000fà

	)

41 
	#CLONE_VM
 0x00000100

	)

42 
	#CLONE_FS
 0x00000200

	)

43 
	#CLONE_FILES
 0x00000400

	)

44 
	#CLONE_SIGHAND
 0x00000800

	)

45 
	#CLONE_PTRACE
 0x00002000

	)

46 
	#CLONE_VFORK
 0x00004000

	)

48 
	#CLONE_PARENT
 0x00008000

	)

50 
	#CLONE_THREAD
 0x00010000

	)

51 
	#CLONE_NEWNS
 0x00020000

	)

52 
	#CLONE_SYSVSEM
 0x00040000

	)

53 
	#CLONE_SETTLS
 0x00080000

	)

54 
	#CLONE_PARENT_SETTID
 0x00100000

	)

56 
	#CLONE_CHILD_CLEARTID
 0x00200000

	)

58 
	#CLONE_DETACHED
 0x00400000

	)

59 
	#CLONE_UNTRACED
 0x00800000

	)

61 
	#CLONE_CHILD_SETTID
 0x01000000

	)

63 
	#CLONE_NEWUTS
 0x04000000

	)

64 
	#CLONE_NEWIPC
 0x08000000

	)

65 
	#CLONE_NEWUSER
 0x10000000

	)

66 
	#CLONE_NEWPID
 0x20000000

	)

67 
	#CLONE_NEWNET
 0x40000000

	)

68 
	#CLONE_IO
 0x80000000

	)

72 
	ssched_·¿m


74 
	m__sched_´iÜ™y
;

77 
	g__BEGIN_DECLS


79 #ifdeà
__USE_GNU


81 
şÚe
 ((*
__â
è(*
__¬g
), *
__chd_¡ack
,

82 
__æags
, *
__¬g
, ...è
__THROW
;

85 
	$unsh¬e
 (
__æags
è
__THROW
;

88 
	$sched_g‘ıu
 (è
__THROW
;

91 
	$£Šs
 (
__fd
, 
__n¡y³
è
__THROW
;

95 
__END_DECLS


99 #ià!
defšed
 
__defšed_sched·¿m
 \

100 && (
defšed
 
__Ãed_sched·¿m
 || defšed 
_SCHED_H
)

101 
	#__defšed_sched·¿m
 1

	)

103 
	s__sched_·¿m


105 
__sched_´iÜ™y
;

107 #undeà
__Ãed_sched·¿m


111 #ià
defšed
 
_SCHED_H
 && !defšed 
__ıu_£t_t_defšed


112 
	#__ıu_£t_t_defšed


	)

114 
	#__CPU_SETSIZE
 1024

	)

115 
	#__NCPUBITS
 (8 *  (
__ıu_mask
))

	)

118 
	t__ıu_mask
;

121 
	#__CPUELT
(
ıu
è((ıuè/ 
__NCPUBITS
)

	)

122 
	#__CPUMASK
(
ıu
è((
__ıu_mask
è1 << ((ıuè% 
__NCPUBITS
))

	)

127 
__ıu_mask
 
__b™s
[
__CPU_SETSIZE
 / 
__NCPUBITS
];

128 } 
	tıu_£t_t
;

131 #ià
	`__GNUC_PREREQ
 (2, 91)

132 
	#__CPU_ZERO_S
(
£tsize
, 
ıu£
) \

133 dØ
	`__butš_mem£t
 (
ıu£
, '\0', 
£tsize
); 0)

	)

135 
	#__CPU_ZERO_S
(
£tsize
, 
ıu£
) \

137 
size_t
 
__i
; \

138 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

139 
__ıu_mask
 *
__b™s
 = (
ıu£
)->__bits; \

140 
__i
 = 0; __˜< 
__imax
; ++__i) \

141 
__b™s
[
__i
] = 0; \

142 
	}
} 0)

	)

144 
	#__CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
) \

145 (
__ex‹nsiÚ__
 \

146 ({ 
size_t
 
__ıu
 = (
ıu
); \

147 
__ıu
 / 8 < (
£tsize
) \

148 ? (((
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

149 |ğ
	`__CPUMASK
 (
__ıu
)) \

150 : 0; }))

	)

151 
	#__CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
) \

152 (
__ex‹nsiÚ__
 \

153 ({ 
size_t
 
__ıu
 = (
ıu
); \

154 
__ıu
 / 8 < (
£tsize
) \

155 ? (((
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

156 &ğ~
	`__CPUMASK
 (
__ıu
)) \

157 : 0; }))

	)

158 
	#__CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
) \

159 (
__ex‹nsiÚ__
 \

160 ({ 
size_t
 
__ıu
 = (
ıu
); \

161 
__ıu
 / 8 < (
£tsize
) \

162 ? ((((cÚ¡ 
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

163 & 
	`__CPUMASK
 (
__ıu
))) != 0 \

164 : 0; }))

	)

166 
	#__CPU_COUNT_S
(
£tsize
, 
ıu£
) \

167 
	`__sched_ıucouÁ
 (
£tsize
, 
ıu£
)

	)

169 #ià
__GNUC_PREREQ
 (2, 91)

170 
	#__CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

171 (
	`__butš_memcmp
 (
ıu£1
, 
ıu£2
, 
£tsize
è=ğ0)

	)

173 
	#__CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

174 (
__ex‹nsiÚ__
 \

175 ({ cÚ¡ 
__ıu_mask
 *
__¬r1
 = (
ıu£1
)->
__b™s
; \

176 cÚ¡ 
__ıu_mask
 *
__¬r2
 = (
ıu£2
)->
__b™s
; \

177 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

178 
size_t
 
__i
; \

179 
__i
 = 0; __˜< 
__imax
; ++__i) \

180 ià(
__¬r1
[
__i
] !ğ
__¬r2
[__i]) \

182 
__i
 =ğ
__imax
; }))

	)

185 
	#__CPU_OP_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, 
İ
) \

186 (
__ex‹nsiÚ__
 \

187 ({ 
ıu_£t_t
 *
__de¡
 = (
de¡£t
); \

188 cÚ¡ 
__ıu_mask
 *
__¬r1
 = (
¤c£t1
)->
__b™s
; \

189 cÚ¡ 
__ıu_mask
 *
__¬r2
 = (
¤c£t2
)->
__b™s
; \

190 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

191 
size_t
 
__i
; \

192 
__i
 = 0; __˜< 
__imax
; ++__i) \

193 ((
__ıu_mask
 *è
__de¡
->
__b™s
)[
__i
] = 
__¬r1
[__i] 
İ
 
__¬r2
[__i]; \

194 
__de¡
; }))

	)

196 
	#__CPU_ALLOC_SIZE
(
couÁ
) \

197 ((((
couÁ
è+ 
__NCPUBITS
 - 1è/ __NCPUBITSè*  (
__ıu_mask
))

	)

198 
	#__CPU_ALLOC
(
couÁ
è
	`__sched_ıu®loc
 (couÁ)

	)

199 
	#__CPU_FREE
(
ıu£t
è
	`__sched_ıuä“
 (ıu£t)

	)

201 
__BEGIN_DECLS


203 
	$__sched_ıucouÁ
 (
size_t
 
__£tsize
, cÚ¡ 
ıu_£t_t
 *
__£
)

204 
__THROW
;

205 
ıu_£t_t
 *
	$__sched_ıu®loc
 (
size_t
 
__couÁ
è
__THROW
 
__wur
;

206 
	$__sched_ıuä“
 (
ıu_£t_t
 *
__£t
è
__THROW
;

208 
__END_DECLS


	@/usr/include/asm-generic/ioctl.h

1 #iâdeà
_ASM_GENERIC_IOCTL_H


2 
	#_ASM_GENERIC_IOCTL_H


	)

22 
	#_IOC_NRBITS
 8

	)

23 
	#_IOC_TYPEBITS
 8

	)

30 #iâdeà
_IOC_SIZEBITS


31 
	#_IOC_SIZEBITS
 14

	)

34 #iâdeà
_IOC_DIRBITS


35 
	#_IOC_DIRBITS
 2

	)

38 
	#_IOC_NRMASK
 ((1 << 
_IOC_NRBITS
)-1)

	)

39 
	#_IOC_TYPEMASK
 ((1 << 
_IOC_TYPEBITS
)-1)

	)

40 
	#_IOC_SIZEMASK
 ((1 << 
_IOC_SIZEBITS
)-1)

	)

41 
	#_IOC_DIRMASK
 ((1 << 
_IOC_DIRBITS
)-1)

	)

43 
	#_IOC_NRSHIFT
 0

	)

44 
	#_IOC_TYPESHIFT
 (
_IOC_NRSHIFT
+
_IOC_NRBITS
)

	)

45 
	#_IOC_SIZESHIFT
 (
_IOC_TYPESHIFT
+
_IOC_TYPEBITS
)

	)

46 
	#_IOC_DIRSHIFT
 (
_IOC_SIZESHIFT
+
_IOC_SIZEBITS
)

	)

53 #iâdeà
_IOC_NONE


54 
	#_IOC_NONE
 0U

	)

57 #iâdeà
_IOC_WRITE


58 
	#_IOC_WRITE
 1U

	)

61 #iâdeà
_IOC_READ


62 
	#_IOC_READ
 2U

	)

65 
	#_IOC
(
dœ
,
ty³
,
Ä
,
size
) \

66 (((
dœ
è<< 
_IOC_DIRSHIFT
) | \

67 ((
ty³
è<< 
_IOC_TYPESHIFT
) | \

68 ((
Ä
è<< 
_IOC_NRSHIFT
) | \

69 ((
size
è<< 
_IOC_SIZESHIFT
))

	)

71 
	#_IOC_TYPECHECK
(
t
è(Ñ))

	)

74 
	#_IO
(
ty³
,
Ä
è
	`_IOC
(
_IOC_NONE
,Ñy³),Òr),0)

	)

75 
	#_IOR
(
ty³
,
Ä
,
size
è
	`_IOC
(
_IOC_READ
,Ñy³),Òr),(
	`_IOC_TYPECHECK
(size)))

	)

76 
	#_IOW
(
ty³
,
Ä
,
size
è
	`_IOC
(
_IOC_WRITE
,Ñy³),Òr),(
	`_IOC_TYPECHECK
(size)))

	)

77 
	#_IOWR
(
ty³
,
Ä
,
size
è
	`_IOC
(
_IOC_READ
|
_IOC_WRITE
,Ñy³),Òr),(
	`_IOC_TYPECHECK
(size)))

	)

78 
	#_IOR_BAD
(
ty³
,
Ä
,
size
è
	`_IOC
(
_IOC_READ
,Ñy³),Òr),(size))

	)

79 
	#_IOW_BAD
(
ty³
,
Ä
,
size
è
	`_IOC
(
_IOC_WRITE
,Ñy³),Òr),(size))

	)

80 
	#_IOWR_BAD
(
ty³
,
Ä
,
size
è
	`_IOC
(
_IOC_READ
|
_IOC_WRITE
,Ñy³),Òr),(size))

	)

83 
	#_IOC_DIR
(
Ä
è((Òrè>> 
_IOC_DIRSHIFT
è& 
_IOC_DIRMASK
)

	)

84 
	#_IOC_TYPE
(
Ä
è((Òrè>> 
_IOC_TYPESHIFT
è& 
_IOC_TYPEMASK
)

	)

85 
	#_IOC_NR
(
Ä
è((Òrè>> 
_IOC_NRSHIFT
è& 
_IOC_NRMASK
)

	)

86 
	#_IOC_SIZE
(
Ä
è((Òrè>> 
_IOC_SIZESHIFT
è& 
_IOC_SIZEMASK
)

	)

90 
	#IOC_IN
 (
_IOC_WRITE
 << 
_IOC_DIRSHIFT
)

	)

91 
	#IOC_OUT
 (
_IOC_READ
 << 
_IOC_DIRSHIFT
)

	)

92 
	#IOC_INOUT
 ((
_IOC_WRITE
|
_IOC_READ
è<< 
_IOC_DIRSHIFT
)

	)

93 
	#IOCSIZE_MASK
 (
_IOC_SIZEMASK
 << 
_IOC_SIZESHIFT
)

	)

94 
	#IOCSIZE_SHIFT
 (
_IOC_SIZESHIFT
)

	)

	@
1
.
1
/usr/include
352
10301
infer/Maxwalksat20/maxwalksat.c
infer/auxfactor.h
infer/bp.h
infer/bpfactor.cpp
infer/bpfactor.h
infer/bplink.h
infer/bpnode.cpp
infer/bpnode.h
infer/bpparams.h
infer/clausecounter.h
infer/convergencetest.h
infer/createhypercube.cpp
infer/createhypercubebasic.cpp
infer/createhypercubedt.cpp
infer/factor.cpp
infer/factor.h
infer/factorgraph.h
infer/gelmanconvergencetest.h
infer/gibbsparams.h
infer/gibbssampler.h
infer/groundclause.cpp
infer/groundclause.h
infer/groundpredicate.h
infer/hmaxwalksat.h
infer/hmcsat.h
infer/hypercube.h
infer/hypercubeoperations.h
infer/hypercuberefinement.h
infer/hypercubereverseindex.h
infer/infer.cpp
infer/infer.h
infer/inference.h
infer/inferenceargs.h
infer/inferutil.cpp
infer/inferutil.h
infer/joinhypercube.cpp
infer/link.h
infer/maxwalksat.h
infer/maxwalksatparams.h
infer/mcmc.h
infer/mcmcparams.h
infer/mcsat.h
infer/mcsatparams.h
infer/mrf.h
infer/node.cpp
infer/node.h
infer/partialgndhctuple.h
infer/refinehypercube.cpp
infer/samplesatparams.h
infer/sat.h
infer/simulatedannealing.h
infer/simulatedtempering.h
infer/simulatedtemperingparams.h
infer/superclause.cpp
infer/superclause.h
infer/superpred.cpp
infer/superpred.h
infer/twowaymessage.h
infer/unitpropagation.h
infer/variable.h
learnstruct/learnstruct.cpp
learnstruct/structlearn.h
learnwts/discriminativelearner.h
learnwts/indextranslator.h
learnwts/lbfgsb.h
learnwts/lbfgsp.h
learnwts/learnwts.cpp
learnwts/learnwts.h
learnwts/pseudologlikelihood.h
liftedinfer/bridge/includes/lbginference.h
liftedinfer/bridge/includes/liftedalgsconvertor.h
liftedinfer/bridge/includes/liftedalgshandler.h
liftedinfer/bridge/src/liftedalgsconvertor.cpp
liftedinfer/bridge/src/liftedalgshandler.cpp
liftedinfer/common/includes/cleanuputils.h
liftedinfer/common/includes/clusterutil.h
liftedinfer/common/includes/decomposer.h
liftedinfer/common/includes/filedump.h
liftedinfer/common/includes/fileutils.h
liftedinfer/common/includes/hashalgorithm.h
liftedinfer/common/includes/heuristics.h
liftedinfer/common/includes/logdouble.h
liftedinfer/common/includes/lvparams.h
liftedinfer/common/includes/lvratomhashtemplate.h
liftedinfer/common/includes/lvrmln.h
liftedinfer/common/includes/lvrnormpropagation.h
liftedinfer/common/includes/lvrpermutations.h
liftedinfer/common/includes/lvrptpsearchtree.h
liftedinfer/common/includes/lvrptptreesampling.h
liftedinfer/common/includes/lvrsingletonnormpropagation.h
liftedinfer/common/includes/mathutils.h
liftedinfer/common/includes/normalizer.h
liftedinfer/common/includes/normpreservinggrounder.h
liftedinfer/common/includes/paramconstants.h
liftedinfer/common/includes/propositionalresolution.h
liftedinfer/common/includes/ptptree.h
liftedinfer/common/includes/queryupdater.h
liftedinfer/common/includes/randomgenutil.h
liftedinfer/common/includes/rulesutil.h
liftedinfer/common/includes/samplingalgs.h
liftedinfer/common/includes/stringconversionutils.h
liftedinfer/common/src/decomposer.cpp
liftedinfer/common/src/fileutils.cpp
liftedinfer/common/src/heuristics.cpp
liftedinfer/common/src/logdouble.cpp
liftedinfer/common/src/lvrmln.cpp
liftedinfer/common/src/lvrptpsearchtree.cpp
liftedinfer/common/src/lvrptptreesampling.cpp
liftedinfer/common/src/mathutils.cpp
liftedinfer/common/src/normalizer.cpp
liftedinfer/common/src/propositionalresolution.cpp
liftedinfer/common/src/queryupdater.cpp
liftedinfer/common/src/randomgenutil.cpp
liftedinfer/common/src/samplingalgs.cpp
liftedinfer/common/src/setutils.h
liftedinfer/liftedblockedgibbs/includes/blockexactinference.h
liftedinfer/liftedblockedgibbs/includes/clustercreator.h
liftedinfer/liftedblockedgibbs/includes/gibbsprocesshandler.h
liftedinfer/liftedblockedgibbs/includes/lbgsampler.h
liftedinfer/liftedblockedgibbs/includes/lvrcluster.h
liftedinfer/liftedblockedgibbs/includes/ptpsampler.h
liftedinfer/liftedblockedgibbs/src/blockexactinference.cpp
liftedinfer/liftedblockedgibbs/src/clustercreator.cpp
liftedinfer/liftedblockedgibbs/src/lbgsampler.cpp
liftedinfer/liftedblockedgibbs/src/lvrcluster.cpp
liftedinfer/liftedblockedgibbs/src/ptpsampler.cpp
liftedinfer/liftedimportancesampling/includes/importancedistribution.h
liftedinfer/liftedimportancesampling/includes/lisapproxinference.h
liftedinfer/liftedimportancesampling/includes/proposalconstructor.h
liftedinfer/liftedimportancesampling/includes/proposalstructure.h
liftedinfer/liftedimportancesampling/src/lisapproxinference.cpp
liftedinfer/liftedimportancesampling/src/proposalconstructor.cpp
liftedinfer/liftedimportancesampling/src/proposalstructure.cpp
liftedinfer/liftedinfer.cpp
liftedinfer/liftedweightedmodelcounting/includes/cache.h
liftedinfer/liftedweightedmodelcounting/includes/extensions.h
liftedinfer/liftedweightedmodelcounting/includes/ptpsearch.h
liftedinfer/liftedweightedmodelcounting/includes/resolver.h
liftedinfer/liftedweightedmodelcounting/includes/sampler.h
liftedinfer/liftedweightedmodelcounting/includes/splitter.h
liftedinfer/liftedweightedmodelcounting/includes/unifier.h
liftedinfer/liftedweightedmodelcounting/includes/wmconvertor.h
liftedinfer/liftedweightedmodelcounting/src/cache.cpp
liftedinfer/liftedweightedmodelcounting/src/extensions.cpp
liftedinfer/liftedweightedmodelcounting/src/ptpsearch.cpp
liftedinfer/liftedweightedmodelcounting/src/resolver.cpp
liftedinfer/liftedweightedmodelcounting/src/sampler.cpp
liftedinfer/liftedweightedmodelcounting/src/splitter.cpp
liftedinfer/liftedweightedmodelcounting/src/unifier.cpp
liftedinfer/liftedweightedmodelcounting/src/wmconvertor.cpp
liftedinfer/tests/parser.cpp
liftedinfer/tests/parser.h
liftedinfer/tests/runtestsmain.cpp
liftedinfer/tests/testformulainfer.cpp
liftedinfer/tests/testformulainfer.h
liftedinfer/tests/testmodelcount.cpp
liftedinfer/tests/testmodelcount.h
logic/Polynomial.cpp
logic/Polynomial.h
logic/clause.cpp
logic/clause.h
logic/clausefactory.h
logic/clausehelper.h
logic/clausesampler.cpp
logic/clausesampler.h
logic/database.h
logic/domain.cpp
logic/domain.h
logic/function.cpp
logic/function.h
logic/functiontemplate.cpp
logic/functiontemplate.h
logic/groundpreds.h
logic/hvariablestate.h
logic/logichelper.cpp
logic/logichelper.h
logic/logsigmoid.h
logic/mln.h
logic/mlnhelper.h
logic/predicate.cpp
logic/predicate.h
logic/predicatetemplate.cpp
logic/predicatetemplate.h
logic/term.cpp
logic/term.h
logic/truefalsegroundingsstore.h
logic/variablestate.h
parser/fol.cpp
parser/fol.h
parser/folhelper.h
parser/follex.cpp
parser/internals.h
parser/listobj.cpp
parser/listobj.h
parser/strfifolist.h
rrf/feature.h
rrf/gfeature.cpp
rrf/gfeature.h
rrf/lbfgsr.h
rrf/parentiter.h
rrf/parentiter2.h
rrf/rrf.cpp
rrf/rrf.h
rrf/testrrf.cpp
util/arguments.cpp
util/arguments.h
util/array.h
util/arraysaccessor.h
util/complex.h
util/constdualmap.h
util/dualmap.h
util/equalstr.h
util/hash.h
util/hasharray.h
util/hashint.h
util/hashlist.h
util/hashstring.h
util/meanvariance.h
util/multdarray.h
util/permutation.h
util/powerset.cpp
util/powerset.h
util/random.cpp
util/random.h
util/strint.h
util/timer.h
util/util.h
/usr/include/assert.h
/usr/include/complex.h
/usr/include/ctype.h
/usr/include/dlfcn.h
/usr/include/errno.h
/usr/include/inttypes.h
/usr/include/libintl.h
/usr/include/link.h
/usr/include/math.h
/usr/include/setjmp.h
/usr/include/signal.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/sys/resource.h
/usr/include/sys/time.h
/usr/include/sys/times.h
/usr/include/sys/types.h
/usr/include/term.h
/usr/include/time.h
/usr/include/unistd.h
/usr/include/alloca.h
/usr/include/bits/cmathcalls.h
/usr/include/bits/confname.h
/usr/include/bits/dlfcn.h
/usr/include/bits/elfclass.h
/usr/include/bits/environments.h
/usr/include/bits/errno.h
/usr/include/bits/huge_val.h
/usr/include/bits/huge_valf.h
/usr/include/bits/huge_vall.h
/usr/include/bits/inf.h
/usr/include/bits/link.h
/usr/include/bits/math-finite.h
/usr/include/bits/mathcalls.h
/usr/include/bits/mathdef.h
/usr/include/bits/mathinline.h
/usr/include/bits/nan.h
/usr/include/bits/posix_opt.h
/usr/include/bits/pthreadtypes.h
/usr/include/bits/resource.h
/usr/include/bits/setjmp.h
/usr/include/bits/setjmp2.h
/usr/include/bits/sigaction.h
/usr/include/bits/sigcontext.h
/usr/include/bits/siginfo.h
/usr/include/bits/signum.h
/usr/include/bits/sigset.h
/usr/include/bits/sigstack.h
/usr/include/bits/sigthread.h
/usr/include/bits/stdio-ldbl.h
/usr/include/bits/stdio.h
/usr/include/bits/stdio2.h
/usr/include/bits/stdio_lim.h
/usr/include/bits/stdlib-bsearch.h
/usr/include/bits/stdlib-float.h
/usr/include/bits/stdlib-ldbl.h
/usr/include/bits/stdlib.h
/usr/include/bits/string.h
/usr/include/bits/string2.h
/usr/include/bits/string3.h
/usr/include/bits/sys_errlist.h
/usr/include/bits/time.h
/usr/include/bits/types.h
/usr/include/bits/unistd.h
/usr/include/bits/waitflags.h
/usr/include/bits/waitstatus.h
/usr/include/elf.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/getopt.h
/usr/include/libio.h
/usr/include/locale.h
/usr/include/ncurses_dll.h
/usr/include/sgtty.h
/usr/include/stdint.h
/usr/include/sys/ioctl.h
/usr/include/sys/select.h
/usr/include/sys/sysmacros.h
/usr/include/sys/ucontext.h
/usr/include/termio.h
/usr/include/termios.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/bits/auxv.h
/usr/include/bits/byteswap.h
/usr/include/bits/endian.h
/usr/include/bits/ioctl-types.h
/usr/include/bits/ioctls.h
/usr/include/bits/libio-ldbl.h
/usr/include/bits/locale.h
/usr/include/bits/select.h
/usr/include/bits/select2.h
/usr/include/bits/stdio-lock.h
/usr/include/bits/termios.h
/usr/include/bits/timex.h
/usr/include/bits/typesizes.h
/usr/include/bits/wchar.h
/usr/include/bits/wordsize.h
/usr/include/gnu/stubs.h
/usr/include/linux/errno.h
/usr/include/stdc-predef.h
/usr/include/sys/cdefs.h
/usr/include/sys/ttydefaults.h
/usr/include/asm/errno.h
/usr/include/asm/ioctls.h
/usr/include/bits/byteswap-16.h
/usr/include/bits/libc-lock.h
/usr/include/gconv.h
/usr/include/gnu/stubs-32.h
/usr/include/gnu/stubs-64.h
/usr/include/gnu/stubs-x32.h
/usr/include/wchar.h
/usr/include/asm-generic/errno.h
/usr/include/asm-generic/ioctls.h
/usr/include/bits/wchar-ldbl.h
/usr/include/bits/wchar2.h
/usr/include/pthread.h
/usr/include/wctype.h
/usr/include/asm-generic/errno-base.h
/usr/include/linux/ioctl.h
/usr/include/sched.h
/usr/include/asm/ioctl.h
/usr/include/bits/sched.h
/usr/include/asm-generic/ioctl.h
